{"items":[{"tags":["java","spring-boot","static-content"],"comments":[{"owner":{"account_id":10661768,"reputation":9318,"user_id":7849549,"accept_rate":44,"display_name":"Shubham Dixit"},"score":0,"creation_date":1587669295,"post_id":61393769,"comment_id":108610066,"body_markdown":"See this answer -https://stackoverflow.com/a/53698376/7849549","body":"See this answer -<a href=\"https://stackoverflow.com/a/53698376/7849549\">stackoverflow.com/a/53698376/7849549</a>"},{"owner":{"account_id":2721165,"reputation":3554,"user_id":2347438,"accept_rate":91,"display_name":"Veshraj Joshi"},"score":0,"creation_date":1587670644,"post_id":61393769,"comment_id":108610538,"body_markdown":"@Shubh  did not work for me, thank you for the link .. I missed that point","body":"@Shubh  did not work for me, thank you for the link .. I missed that point"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1610719555,"creation_date":1587666530,"answer_id":61394451,"question_id":61393769,"body_markdown":"## Starting with a [simple spring boot initializer](https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.2.6.RELEASE&amp;packaging=jar&amp;jvmVersion=1.8&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web)\r\n... we can place static (html) files into one of: \r\n\r\n- (src/main/resources:)\r\n - **static**\r\n - **resources**\r\n - **public**\r\n - META-INF\r\n     - **resources**\r\n\r\nwhich results in the default (class path) locations, configured via the `spring.resources.static-locations` property.\r\n\r\nThese will be exposed through the value of `spring.mvc.static-path-pattern`-property ([ref][1]), by default: `/**`.\r\n\r\nSo a static index.html file in one of the above mentioned folders, with default config, will be accessible at:\r\n\r\n- [http:localhost:8080/][2] (due to &quot;welcome file mapping&quot; -&gt; static mapping)\r\n- and [http://localhost:8080/index.html][3] (due to the static mapping)\r\n\r\nAccordingly: no problem with http://localhost:8080/test.html ...\r\n\r\n\r\n----------\r\n\r\nCheckout [at github][4].\r\n\r\nSo this, at least answers the &quot;question title&quot; &quot;how to serve static content in springboot 2.2.6?&quot;.\r\n\r\n----------\r\n\r\nThe order of `spring.resources.static-locations` appears (index.html preferred from META-INF/resources) also to be the &quot;precedence&quot; of static file locations (left-to-right, first match wins).\r\n\r\n\r\n----------\r\n\r\n## When we add `@EnableWebMvc`\r\n...&quot;evertyhing gets broken&quot; (context loads, but) only:\r\n\r\n    WARN ... o.s.web.servlet.PageNotFound             : No mapping for GET /\r\n    WARN ... o.s.web.servlet.PageNotFound             : No mapping for GET /index.html\r\n    WARN ... o.s.web.servlet.PageNotFound             : No mapping for GET /test.html\r\n\r\n\r\n..please aslo consider this: https://stackoverflow.com/q/51008382/592355\r\n\r\nWith &quot;non-default config&quot;, You would have to provide more details, to find a specific solution.\r\n\r\nBut for &quot;newbie in Springboot&quot;: starting with an intializer and &quot;the defaults&quot; sounds optimal! From here on, you can re-fine your configuration based on a working one.\r\n\r\n\r\n----------\r\nAnd if you *want/need* the `@EnableWebMvc` annotation for some reason, this will result in the &quot;previous&quot; behavior again/restore the (2.2.6) default static content handling:\r\n\r\n\r\n    @EnableWebMvc\r\n    @SpringBootApplication\r\n    public class DemoApplication implements WebMvcConfigurer {\r\n\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry\r\n              .addResourceHandler(&quot;/**&quot;)\r\n              .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;, &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot;);\r\n\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n\r\n    }\r\n(Assuming no conflicts with existing configuration/resource handlers) \r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html\r\n  [2]: http://localhost:8080/\r\n  [3]: http://localhost:8080/index.html\r\n  [4]: https://github.com/xerx593/soq61393769/","title":"how to serve static content in springboot 2.2.6?","body":"<h2>Starting with a <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.2.6.RELEASE&amp;packaging=jar&amp;jvmVersion=1.8&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=web\" rel=\"nofollow noreferrer\">simple spring boot initializer</a></h2>\n<p>... we can place static (html) files into one of:</p>\n<ul>\n<li>(src/main/resources:)</li>\n<li><strong>static</strong></li>\n<li><strong>resources</strong></li>\n<li><strong>public</strong></li>\n<li>META-INF\n<ul>\n<li><strong>resources</strong></li>\n</ul>\n</li>\n</ul>\n<p>which results in the default (class path) locations, configured via the <code>spring.resources.static-locations</code> property.</p>\n<p>These will be exposed through the value of <code>spring.mvc.static-path-pattern</code>-property (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html\" rel=\"nofollow noreferrer\">ref</a>), by default: <code>/**</code>.</p>\n<p>So a static index.html file in one of the above mentioned folders, with default config, will be accessible at:</p>\n<ul>\n<li><a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">http:localhost:8080/</a> (due to &quot;welcome file mapping&quot; -&gt; static mapping)</li>\n<li>and <a href=\"http://localhost:8080/index.html\" rel=\"nofollow noreferrer\">http://localhost:8080/index.html</a> (due to the static mapping)</li>\n</ul>\n<p>Accordingly: no problem with http://localhost:8080/test.html ...</p>\n<hr />\n<p>Checkout <a href=\"https://github.com/xerx593/soq61393769/\" rel=\"nofollow noreferrer\">at github</a>.</p>\n<p>So this, at least answers the &quot;question title&quot; &quot;how to serve static content in springboot 2.2.6?&quot;.</p>\n<hr />\n<p>The order of <code>spring.resources.static-locations</code> appears (index.html preferred from META-INF/resources) also to be the &quot;precedence&quot; of static file locations (left-to-right, first match wins).</p>\n<hr />\n<h2>When we add <code>@EnableWebMvc</code></h2>\n<p>...&quot;evertyhing gets broken&quot; (context loads, but) only:</p>\n<pre><code>WARN ... o.s.web.servlet.PageNotFound             : No mapping for GET /\nWARN ... o.s.web.servlet.PageNotFound             : No mapping for GET /index.html\nWARN ... o.s.web.servlet.PageNotFound             : No mapping for GET /test.html\n</code></pre>\n<p>..please aslo consider this: <a href=\"https://stackoverflow.com/q/51008382/592355\">why spring-boot application doesn&#39;t require @EnableWebMvc</a></p>\n<p>With &quot;non-default config&quot;, You would have to provide more details, to find a specific solution.</p>\n<p>But for &quot;newbie in Springboot&quot;: starting with an intializer and &quot;the defaults&quot; sounds optimal! From here on, you can re-fine your configuration based on a working one.</p>\n<hr />\n<p>And if you <em>want/need</em> the <code>@EnableWebMvc</code> annotation for some reason, this will result in the &quot;previous&quot; behavior again/restore the (2.2.6) default static content handling:</p>\n<pre><code>@EnableWebMvc\n@SpringBootApplication\npublic class DemoApplication implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry\n          .addResourceHandler(&quot;/**&quot;)\n          .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;, &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot;);\n\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>(Assuming no conflicts with existing configuration/resource handlers)</p>\n"},{"tags":[],"owner":{"account_id":23067152,"reputation":11,"user_id":17181437,"display_name":"Sazib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638956068,"creation_date":1638956068,"answer_id":70272716,"question_id":61393769,"body_markdown":"It&#39;s working for me\r\n\r\n    registry.addResourceHandler(&quot;//**&quot;).addResourceLocations(&quot;classpath:/static/&quot;);","title":"how to serve static content in springboot 2.2.6?","body":"<p>It's working for me</p>\n<pre><code>registry.addResourceHandler(&quot;//**&quot;).addResourceLocations(&quot;classpath:/static/&quot;);\n</code></pre>\n"}],"owner":{"account_id":2721165,"reputation":3554,"user_id":2347438,"accept_rate":91,"display_name":"Veshraj Joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7894,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61394451,"answer_count":2,"score":1,"last_activity_date":1638956068,"creation_date":1587664080,"question_id":61393769,"body_markdown":"I am newbie to Springboot and I am trying to display html page on its root(`localhost:8080`) path. To do so I googled and gone through -\r\n\r\n 1. https://stackoverflow.com/questions/24661289/spring-boot-not-serving-static-content\r\n 2. https://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot\r\n 3. https://stackoverflow.com/questions/29172612/spring-boot-app-not-serving-static-content/45442056\r\n 4. https://stackoverflow.com/questions/60119885/springboot-does-not-serve-static-content\r\n\r\nTried almost everything but none of them worked for me.\r\n\r\n**Exact problem**\r\n\r\nWith out index.html file inside any of resources/(static/ or public/ or meta-inf/resources) works fine and show the list of some spring data rest. If I create an index.html file then it gives an error of ```404``` not found with out ```@EnableWebMvc``` annotation, if use ```@EnableWebMvc``` then it shows the list of Spring data rest apis.\r\n\r\nOther than index.html file it show the list of Spring data api in root path, and url(`localhost:8080/test.html`) to other than index.html has same problem.\r\n\r\nThis problem has no effects by implementing `public class StaticResourceConfiguration implements WebMvcConfigurer` with this configuration to.","title":"how to serve static content in springboot 2.2.6?","body":"<p>I am newbie to Springboot and I am trying to display html page on its root(<code>localhost:8080</code>) path. To do so I googled and gone through -</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/24661289/spring-boot-not-serving-static-content\">Spring Boot not serving static content</a></li>\n<li><a href=\"https://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot\" rel=\"nofollow noreferrer\">https://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot</a></li>\n<li><a href=\"https://stackoverflow.com/questions/29172612/spring-boot-app-not-serving-static-content/45442056\">Spring Boot app not serving static content</a></li>\n<li><a href=\"https://stackoverflow.com/questions/60119885/springboot-does-not-serve-static-content\">Springboot does not serve static content</a></li>\n</ol>\n\n<p>Tried almost everything but none of them worked for me.</p>\n\n<p><strong>Exact problem</strong></p>\n\n<p>With out index.html file inside any of resources/(static/ or public/ or meta-inf/resources) works fine and show the list of some spring data rest. If I create an index.html file then it gives an error of <code>404</code> not found with out <code>@EnableWebMvc</code> annotation, if use <code>@EnableWebMvc</code> then it shows the list of Spring data rest apis.</p>\n\n<p>Other than index.html file it show the list of Spring data api in root path, and url(<code>localhost:8080/test.html</code>) to other than index.html has same problem.</p>\n\n<p>This problem has no effects by implementing <code>public class StaticResourceConfiguration implements WebMvcConfigurer</code> with this configuration to.</p>\n"},{"tags":["java","swing","jtable","jbutton"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1638921496,"post_id":70265870,"comment_id":124215539,"body_markdown":"The MoueListener needs to be added to the `JTable`. See: https://stackoverflow.com/questions/16743427/jtable-right-click-popup-menu/16744590#16744590 for a basic example. You would customize the logic to only show the popup when the mouse is clicked in the proper column.","body":"The MoueListener needs to be added to the <code>JTable</code>. See: <a href=\"https://stackoverflow.com/questions/16743427/jtable-right-click-popup-menu/16744590#16744590\" title=\"jtable right click popup menu\">stackoverflow.com/questions/16743427/&hellip;</a> for a basic example. You would customize the logic to only show the popup when the mouse is clicked in the proper column."},{"owner":{"account_id":23578967,"reputation":11,"user_id":17618242,"display_name":"Fawzi"},"score":0,"creation_date":1638950867,"post_id":70265870,"comment_id":124221177,"body_markdown":"Adding MouseListener to the JTable does not change anything. I mean the listener is called but e.isPopupTrigger() returns always false. The exemple you gave is not working (no popup menu is shown)","body":"Adding MouseListener to the JTable does not change anything. I mean the listener is called but e.isPopupTrigger() returns always false. The exemple you gave is not working (no popup menu is shown)"}],"answers":[{"tags":[],"owner":{"account_id":23578967,"reputation":11,"user_id":17618242,"display_name":"Fawzi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638955516,"creation_date":1638955516,"answer_id":70272618,"question_id":70265870,"body_markdown":"Now it&#39;s working with the following code. Hope this may help some one else.\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.EventObject;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.event.CellEditorListener;\r\n    import javax.swing.table.*;\r\n    \r\n    public class TableButtonCell extends JFrame {\r\n    \tprivate JPanel topPanel;\r\n    \tprivate JTable table;\r\n    \r\n    \tpublic TableButtonCell() {\r\n    \t\tsetTitle(&quot;JButton in JTable&quot;);\r\n    \t\tsetSize(300,150);\r\n    \t\ttopPanel = new JPanel();\r\n    \t\ttopPanel.setLayout(new BorderLayout());\r\n    \t\tgetContentPane().add(topPanel);\r\n    \t\tString [] columns = new String[] {&quot;Text&quot;, &quot;Button&quot;};\r\n    \r\n    \t\tString[][] data = new String[][]{\r\n    \t\t\t{&quot;Line 1&quot;, &quot;Button 1&quot;},\r\n    \t\t\t{&quot;Line 2&quot;, &quot;Button 2&quot;},\r\n    \t\t\t{&quot;Line 3&quot;, &quot;Button 3&quot;},\r\n    \t\t\t{&quot;Line 4&quot;, &quot;Button 4&quot;}};\r\n    \r\n    \t\t\tDefaultTableModel model = new DefaultTableModel(data,columns);\r\n    \t\t\ttable = new JTable();\r\n    \t\t\ttable.setModel(model);\r\n    \r\n    \t\t\tButtonRendererEditor renderer = new ButtonRendererEditor(table, 1);\r\n    \t\t\tTableColumn tc = table.getColumn(&quot;Button&quot;);\r\n    \t\t\ttc.setCellRenderer(renderer);\r\n    \t\t\ttc.setCellEditor(renderer);\r\n    \r\n    \t\t\tJScrollPane scrollPane = new JScrollPane(table);\r\n    \t\t\ttopPanel.add(scrollPane,BorderLayout.CENTER);\r\n    \t\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t}\r\n    \r\n    \tclass ButtonRendererEditor extends JButton implements TableCellRenderer, TableCellEditor {\r\n    \t\tint column;\r\n    \r\n    \t\tpublic ButtonRendererEditor(JTable table, int column) {\r\n    \t\t\tthis.column = column;\r\n    \r\n    \t\t\tJPopupMenu popup = new JPopupMenu();\r\n    \t\t\tJMenuItem item = new JMenuItem(&quot;Menu action 1&quot;);\r\n    \t\t\titem.addActionListener(this::menuAction);\r\n    \t\t\tpopup.add(item);\r\n    \r\n    \t\t\titem = new JMenuItem(&quot;Menu action 2&quot;);\r\n    \t\t\titem.addActionListener(this::menuAction);\r\n    \t\t\tpopup.add(item);\r\n    \r\n    \t\t\taddActionListener(new ActionListener() {\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\t\tJOptionPane.showMessageDialog(null,&quot;JButton clicked&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \r\n    \t\t\ttable.addMouseListener( new MouseAdapter() {\r\n    \t\t\t\tpublic void mousePressed(MouseEvent e) {\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tpublic void mouseReleased(MouseEvent e) {\r\n    \t\t\t\t\t if (!e.isPopupTrigger())\r\n    \t\t\t\t\t\t return;\r\n    \r\n    \t\t\t\t\t JTable source = (JTable)e.getSource();\r\n    \t\t\t\t\t int col = source.columnAtPoint(e.getPoint());\r\n    \t\t\t\t\t if (col != column)\r\n    \t\t\t\t\t\t return;\r\n    \r\n    \t\t\t\t\t popup.show(e.getComponent(), e.getX(), e.getY());\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \r\n    \t\tpublic void menuAction(ActionEvent ev) {\r\n    \t\t\tJOptionPane.showMessageDialog(null,&quot;Menu item clicked&quot;);\r\n    \t\t}\r\n    \r\n    \t\tpublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n    \t\t\tsetText((value == null) ? &quot;&quot; : value.toString());\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column)  {\t\t\t\r\n    \t\t\tsetText((value == null) ? &quot;&quot; : value.toString());\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Object getCellEditorValue()  {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean isCellEditable(EventObject anEvent) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean shouldSelectCell(EventObject anEvent) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean stopCellEditing() {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void cancelCellEditing() {\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void addCellEditorListener(CellEditorListener l) {\t\t\t\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void removeCellEditorListener(CellEditorListener l) {\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tTableButtonCell f = new TableButtonCell();\r\n    \t\tf.setVisible(true);\r\n    \t}\r\n    }","title":"Popup menu for JButton (used in JTable)","body":"<p>Now it's working with the following code. Hope this may help some one else.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.util.EventObject;\n\nimport javax.swing.*;\nimport javax.swing.event.CellEditorListener;\nimport javax.swing.table.*;\n\npublic class TableButtonCell extends JFrame {\n    private JPanel topPanel;\n    private JTable table;\n\n    public TableButtonCell() {\n        setTitle(&quot;JButton in JTable&quot;);\n        setSize(300,150);\n        topPanel = new JPanel();\n        topPanel.setLayout(new BorderLayout());\n        getContentPane().add(topPanel);\n        String [] columns = new String[] {&quot;Text&quot;, &quot;Button&quot;};\n\n        String[][] data = new String[][]{\n            {&quot;Line 1&quot;, &quot;Button 1&quot;},\n            {&quot;Line 2&quot;, &quot;Button 2&quot;},\n            {&quot;Line 3&quot;, &quot;Button 3&quot;},\n            {&quot;Line 4&quot;, &quot;Button 4&quot;}};\n\n            DefaultTableModel model = new DefaultTableModel(data,columns);\n            table = new JTable();\n            table.setModel(model);\n\n            ButtonRendererEditor renderer = new ButtonRendererEditor(table, 1);\n            TableColumn tc = table.getColumn(&quot;Button&quot;);\n            tc.setCellRenderer(renderer);\n            tc.setCellEditor(renderer);\n\n            JScrollPane scrollPane = new JScrollPane(table);\n            topPanel.add(scrollPane,BorderLayout.CENTER);\n            setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n\n    class ButtonRendererEditor extends JButton implements TableCellRenderer, TableCellEditor {\n        int column;\n\n        public ButtonRendererEditor(JTable table, int column) {\n            this.column = column;\n\n            JPopupMenu popup = new JPopupMenu();\n            JMenuItem item = new JMenuItem(&quot;Menu action 1&quot;);\n            item.addActionListener(this::menuAction);\n            popup.add(item);\n\n            item = new JMenuItem(&quot;Menu action 2&quot;);\n            item.addActionListener(this::menuAction);\n            popup.add(item);\n\n            addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent event) {\n                    JOptionPane.showMessageDialog(null,&quot;JButton clicked&quot;);\n                }\n            });\n\n            table.addMouseListener( new MouseAdapter() {\n                public void mousePressed(MouseEvent e) {\n                }\n\n                public void mouseReleased(MouseEvent e) {\n                     if (!e.isPopupTrigger())\n                         return;\n\n                     JTable source = (JTable)e.getSource();\n                     int col = source.columnAtPoint(e.getPoint());\n                     if (col != column)\n                         return;\n\n                     popup.show(e.getComponent(), e.getX(), e.getY());\n                }\n            });\n        }\n\n        public void menuAction(ActionEvent ev) {\n            JOptionPane.showMessageDialog(null,&quot;Menu item clicked&quot;);\n        }\n\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            setText((value == null) ? &quot;&quot; : value.toString());\n            return this;\n        }\n\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column)  {            \n            setText((value == null) ? &quot;&quot; : value.toString());\n            return this;\n        }\n\n        public Object getCellEditorValue()  {\n            return null;\n        }\n\n        @Override\n        public boolean isCellEditable(EventObject anEvent) {\n            return true;\n        }\n\n        @Override\n        public boolean shouldSelectCell(EventObject anEvent) {\n            return true;\n        }\n\n        @Override\n        public boolean stopCellEditing() {\n            return true;\n        }\n\n        @Override\n        public void cancelCellEditing() {\n        }\n\n        @Override\n        public void addCellEditorListener(CellEditorListener l) {           \n        }\n\n        @Override\n        public void removeCellEditorListener(CellEditorListener l) {\n        }\n    }\n\n    public static void main(String args[]) {\n        TableButtonCell f = new TableButtonCell();\n        f.setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23578967,"reputation":11,"user_id":17618242,"display_name":"Fawzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638955516,"creation_date":1638905034,"question_id":70265870,"body_markdown":"    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.EventObject;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.event.CellEditorListener;\r\n    import javax.swing.table.*;\r\n    \r\n    public class TableButtonCell extends JFrame {\r\n    \tprivate JPanel topPanel;\r\n    \tprivate JTable table;\r\n    \r\n    \tpublic TableButtonCell() {\r\n    \t\tsetTitle(&quot;JButton in JTable&quot;);\r\n    \t\tsetSize(300,150);\r\n    \t\ttopPanel = new JPanel();\r\n    \t\ttopPanel.setLayout(new BorderLayout());\r\n    \t\tgetContentPane().add(topPanel);\r\n    \t\tString [] columns = new String[] {&quot;Text&quot;, &quot;Button&quot;};\r\n    \r\n    \t\tString[][] data = new String[][]{\r\n    \t\t\t\t\t\t\t{&quot;Line 1&quot;, &quot;&quot;},\r\n    \t\t\t\t\t\t\t{&quot;Line 2&quot;, &quot;&quot;},\r\n    \t\t\t\t\t\t\t{&quot;Line 3&quot;, &quot;&quot;}};\r\n    \r\n    \t\tDefaultTableModel model = new DefaultTableModel(data,columns);\r\n    \t\ttable = new JTable();\r\n    \t\ttable.setModel(model);\r\n    \t\ttable.getColumn(&quot;Button&quot;).setCellRenderer(new ButtonRenderer());\r\n    \t\ttable.getColumn(&quot;Button&quot;).setCellEditor(new ButtonEditor());\r\n    \t\tJScrollPane scrollPane = new JScrollPane(table);\r\n    \t\ttopPanel.add(scrollPane,BorderLayout.CENTER);\r\n    \t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t}\r\n    \r\n    \tclass ButtonRenderer extends JButton implements TableCellRenderer {\r\n    \t\tpublic ButtonRenderer() {\r\n    \t\t\tsetOpaque(true);\r\n    \t\t}\r\n    \r\n    \t\tpublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n    \t\t\tsetText((value == null) ? &quot;Modify&quot; : value.toString());\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tclass ButtonEditor extends JButton implements TableCellEditor {\r\n    \t\tpublic ButtonEditor() {\r\n    \t\t\tJPopupMenu popup = new JPopupMenu();\r\n    \r\n    \t\t\tJMenuItem item = new JMenuItem(&quot;Menu action 1&quot;);\r\n    \t\t\titem.addActionListener(this::menuAction);\r\n    \r\n    \t\t\titem = new JMenuItem(&quot;Menu action 2&quot;);\r\n    \t\t\titem.addActionListener(this::menuAction);\r\n    \r\n    \t\t\tsetComponentPopupMenu(popup);\r\n    \r\n    \t\t\taddActionListener(new ActionListener() {\r\n    \t\t\t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\t\t\tJOptionPane.showMessageDialog(null,&quot;JButton clicked&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \r\n    \t\tpublic Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column)  {\t\t\t\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Object getCellEditorValue()  {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \r\n    \t\tpublic void menuAction(ActionEvent ev) {\r\n    \t\t\tJOptionPane.showMessageDialog(null,&quot;JButton clicked&quot;);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean isCellEditable(EventObject anEvent) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean shouldSelectCell(EventObject anEvent) {\r\n    \t\t\t// TODO Auto-generated method stub\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic boolean stopCellEditing() {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void cancelCellEditing() {\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void addCellEditorListener(CellEditorListener l) {\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void removeCellEditorListener(CellEditorListener l) {\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \t\tTableButtonCell f = new TableButtonCell();\r\n    \t\tf.setVisible(true);\r\n    \t}\r\n    }\r\n\r\nThe SSCE above creates a JTable with JButton as cell renderer/editor.\r\nIt&#39;s working fine &amp; button action is triggered correclty\r\n\r\nWhen trying to add a popup menu to the JButton, the menu is not shown when clicking mouse right button.\r\n\r\nLooks like the table is consuming the Mouse right click event, so the JButton didn&#39;t receive &amp; react to the event ?\r\n\r\nAny clue ?\r\n\r\nThanks in advance for any guidance/help","title":"Popup menu for JButton (used in JTable)","body":"<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.util.EventObject;\n\nimport javax.swing.*;\nimport javax.swing.event.CellEditorListener;\nimport javax.swing.table.*;\n\npublic class TableButtonCell extends JFrame {\n    private JPanel topPanel;\n    private JTable table;\n\n    public TableButtonCell() {\n        setTitle(&quot;JButton in JTable&quot;);\n        setSize(300,150);\n        topPanel = new JPanel();\n        topPanel.setLayout(new BorderLayout());\n        getContentPane().add(topPanel);\n        String [] columns = new String[] {&quot;Text&quot;, &quot;Button&quot;};\n\n        String[][] data = new String[][]{\n                            {&quot;Line 1&quot;, &quot;&quot;},\n                            {&quot;Line 2&quot;, &quot;&quot;},\n                            {&quot;Line 3&quot;, &quot;&quot;}};\n\n        DefaultTableModel model = new DefaultTableModel(data,columns);\n        table = new JTable();\n        table.setModel(model);\n        table.getColumn(&quot;Button&quot;).setCellRenderer(new ButtonRenderer());\n        table.getColumn(&quot;Button&quot;).setCellEditor(new ButtonEditor());\n        JScrollPane scrollPane = new JScrollPane(table);\n        topPanel.add(scrollPane,BorderLayout.CENTER);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n\n    class ButtonRenderer extends JButton implements TableCellRenderer {\n        public ButtonRenderer() {\n            setOpaque(true);\n        }\n\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            setText((value == null) ? &quot;Modify&quot; : value.toString());\n            return this;\n        }\n    }\n\n    class ButtonEditor extends JButton implements TableCellEditor {\n        public ButtonEditor() {\n            JPopupMenu popup = new JPopupMenu();\n\n            JMenuItem item = new JMenuItem(&quot;Menu action 1&quot;);\n            item.addActionListener(this::menuAction);\n\n            item = new JMenuItem(&quot;Menu action 2&quot;);\n            item.addActionListener(this::menuAction);\n\n            setComponentPopupMenu(popup);\n\n            addActionListener(new ActionListener() {\n                public void actionPerformed(ActionEvent event) {\n                    JOptionPane.showMessageDialog(null,&quot;JButton clicked&quot;);\n                }\n            });\n        }\n\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column)  {            \n            return this;\n        }\n\n        public Object getCellEditorValue()  {\n            return null;\n        }\n\n        public void menuAction(ActionEvent ev) {\n            JOptionPane.showMessageDialog(null,&quot;JButton clicked&quot;);\n        }\n\n        @Override\n        public boolean isCellEditable(EventObject anEvent) {\n            return true;\n        }\n\n        @Override\n        public boolean shouldSelectCell(EventObject anEvent) {\n            // TODO Auto-generated method stub\n            return false;\n        }\n\n        @Override\n        public boolean stopCellEditing() {\n            return true;\n        }\n\n        @Override\n        public void cancelCellEditing() {\n        }\n\n        @Override\n        public void addCellEditorListener(CellEditorListener l) {\n        }\n\n        @Override\n        public void removeCellEditorListener(CellEditorListener l) {\n        }\n    }\n\n    public static void main(String args[]) {\n        TableButtonCell f = new TableButtonCell();\n        f.setVisible(true);\n    }\n}\n</code></pre>\n<p>The SSCE above creates a JTable with JButton as cell renderer/editor.\nIt's working fine &amp; button action is triggered correclty</p>\n<p>When trying to add a popup menu to the JButton, the menu is not shown when clicking mouse right button.</p>\n<p>Looks like the table is consuming the Mouse right click event, so the JButton didn't receive &amp; react to the event ?</p>\n<p>Any clue ?</p>\n<p>Thanks in advance for any guidance/help</p>\n"},{"tags":["java","swing","junit","mockito","junit5"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1638800442,"post_id":70246899,"comment_id":124177107,"body_markdown":"Why do you expect it to *not* open?","body":"Why do you expect it to <i>not</i> open?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1638800595,"post_id":70246899,"comment_id":124177185,"body_markdown":"Why do you want to check if it&#39;s open? What does your test verify?","body":"Why do you want to check if it&#39;s open? What does your test verify?"},{"owner":{"account_id":11509677,"reputation":149,"user_id":8434915,"display_name":"David Maranga"},"score":0,"creation_date":1638800651,"post_id":70246899,"comment_id":124177215,"body_markdown":"I want to check if the user has actually implemented that function when a button is clicked.","body":"I want to check if the user has actually implemented that function when a button is clicked."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1638800882,"post_id":70246899,"comment_id":124177315,"body_markdown":"@DavidMaranga please [edit] your question to give a bit more context. For example include a case that should work and one that should fail.","body":"@DavidMaranga please <a href=\"https://stackoverflow.com/posts/70246899/edit\">edit</a> your question to give a bit more context. For example include a case that should work and one that should fail."},{"owner":{"account_id":11509677,"reputation":149,"user_id":8434915,"display_name":"David Maranga"},"score":0,"creation_date":1638801287,"post_id":70246899,"comment_id":124177512,"body_markdown":"@FedericoklezCulloca please check the updated question","body":"@FedericoklezCulloca please check the updated question"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1638801951,"post_id":70246899,"comment_id":124177792,"body_markdown":"@DavidMaranga you could mock `JOptionPane` and check whether the `showInputDialog` method has been called.","body":"@DavidMaranga you could mock <code>JOptionPane</code> and check whether the <code>showInputDialog</code> method has been called."},{"owner":{"account_id":11509677,"reputation":149,"user_id":8434915,"display_name":"David Maranga"},"score":0,"creation_date":1638955401,"post_id":70246899,"comment_id":124222653,"body_markdown":"@FedericoklezCulloca I&#39;ve successfully mocked JOptionPane already. How do I know if the `showInputDialog` method has been called?","body":"@FedericoklezCulloca I&#39;ve successfully mocked JOptionPane already. How do I know if the <code>showInputDialog</code> method has been called?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1639035082,"post_id":70246899,"comment_id":124246521,"body_markdown":"@DavidMaranga assuming you&#39;re using mockito, see [the docs](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#4)","body":"@DavidMaranga assuming you&#39;re using mockito, see <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#4\" rel=\"nofollow noreferrer\">the docs</a>"}],"owner":{"account_id":11509677,"reputation":149,"user_id":8434915,"display_name":"David Maranga"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638955385,"creation_date":1638800203,"question_id":70246899,"body_markdown":"I am working on a project that tests Java programs using JUnit5. And in this case, I want to verify that when a button is clicked, it will really open an input dialog.\r\n\r\n```\r\nprivate void updateTextButtonActionPerformed(java.awt.event.ActionEvent evt) {\r\n    String newString = JOptionPane.showInputDialog(&quot;Enter a string.&quot;);\r\n}    \r\n```\r\n\r\nThe only way I can think of that the input dialog function has really been implemented is when I can simulate on my test that during button click, an input dialog has been opened.\r\n\r\nSo the test will be successful if an input dialog has been opened on button click, while failure if not.\r\n\r\n**UPDATE:**\r\n\r\n**The Mock function of JOptionPane:**\r\n```\r\n@Test\r\npublic void shouldShowInputDialogOnUpdateTextButtonClick() {\r\n   try (MockedStatic&lt;JOptionPane&gt; jOptionPane = mockStatic(JOptionPane.class)) {\r\n      // TODO: Check whether &#39;showInputDialog&#39; has been called. But how?\r\n   }\r\n\r\n   updateTextButton = (JButton) TestUtils.getChildNamed(activity1, &quot;updateTextButton&quot;);\r\n   updateTextButton.doClick(); // Performs updateTextButtonActionPerformed() function\r\n}\r\n```","title":"How to know if input dialog is opened in Java GUI","body":"<p>I am working on a project that tests Java programs using JUnit5. And in this case, I want to verify that when a button is clicked, it will really open an input dialog.</p>\n<pre><code>private void updateTextButtonActionPerformed(java.awt.event.ActionEvent evt) {\n    String newString = JOptionPane.showInputDialog(&quot;Enter a string.&quot;);\n}    \n</code></pre>\n<p>The only way I can think of that the input dialog function has really been implemented is when I can simulate on my test that during button click, an input dialog has been opened.</p>\n<p>So the test will be successful if an input dialog has been opened on button click, while failure if not.</p>\n<p><strong>UPDATE:</strong></p>\n<p><strong>The Mock function of JOptionPane:</strong></p>\n<pre><code>@Test\npublic void shouldShowInputDialogOnUpdateTextButtonClick() {\n   try (MockedStatic&lt;JOptionPane&gt; jOptionPane = mockStatic(JOptionPane.class)) {\n      // TODO: Check whether 'showInputDialog' has been called. But how?\n   }\n\n   updateTextButton = (JButton) TestUtils.getChildNamed(activity1, &quot;updateTextButton&quot;);\n   updateTextButton.doClick(); // Performs updateTextButtonActionPerformed() function\n}\n</code></pre>\n"},{"tags":["java","arrays","class"],"comments":[{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":1,"creation_date":1638942608,"post_id":70270449,"comment_id":124219106,"body_markdown":"Please do not post code with line numbering, as it makes it difficult for other SO users to copy and test your code.","body":"Please do not post code with line numbering, as it makes it difficult for other SO users to copy and test your code."},{"owner":{"account_id":20249188,"reputation":45,"user_id":14850808,"display_name":"watercolour man"},"score":0,"creation_date":1638942660,"post_id":70270449,"comment_id":124219120,"body_markdown":"Sorry, I will post it correctly now","body":"Sorry, I will post it correctly now"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1638943845,"post_id":70270449,"comment_id":124219389,"body_markdown":"Don&#39;t create the accounts in the deposit method but in main. Pass the account with the correct number to deposit.","body":"Don&#39;t create the accounts in the deposit method but in main. Pass the account with the correct number to deposit."},{"owner":{"account_id":20249188,"reputation":45,"user_id":14850808,"display_name":"watercolour man"},"score":0,"creation_date":1638945203,"post_id":70270449,"comment_id":124219686,"body_markdown":"Thanks for the help. To send the accounts to the deposit method I need to know its type which I do not know as I have not created the BankAccount class . I dont know if the type is String, double or .....","body":"Thanks for the help. To send the accounts to the deposit method I need to know its type which I do not know as I have not created the BankAccount class . I dont know if the type is String, double or ....."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1638946524,"post_id":70270449,"comment_id":124220010,"body_markdown":"How do you mean &quot;you don&#39;t know its type&quot;? You create BankAccounts, what other type would they be?","body":"How do you mean &quot;you don&#39;t know its type&quot;? You create BankAccounts, what other type would they be?"},{"owner":{"account_id":20249188,"reputation":45,"user_id":14850808,"display_name":"watercolour man"},"score":0,"creation_date":1638946829,"post_id":70270449,"comment_id":124220090,"body_markdown":"I did not create the bankaccounts class It was provided by the book. I am supposed to use it to create account objects in my program","body":"I did not create the bankaccounts class It was provided by the book. I am supposed to use it to create account objects in my program"}],"answers":[{"tags":[],"owner":{"account_id":23582418,"reputation":1,"user_id":17621276,"display_name":"H&#233;l&#232;ne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638943287,"creation_date":1638943287,"answer_id":70270612,"question_id":70270449,"body_markdown":"you can define the accountArray as a class static variable,rather than a member variable in deposit method.\r\nThen you can init this static variable when the class loading. ","title":"Difficulty with displaying array data in java","body":"<p>you can define the accountArray as a class static variable,rather than a member variable in deposit method.\nThen you can init this static variable when the class loading.</p>\n"},{"tags":[],"owner":{"account_id":23168007,"reputation":1,"user_id":17267647,"display_name":"mrodz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638943784,"creation_date":1638943784,"answer_id":70270673,"question_id":70270449,"body_markdown":"If you&#39;re asking how to display the contents of an array, a simple way to do so is using the default Arrays#toString(arr) method. \r\n\r\n    int[] arr   = {1, 2, 3, 4, 5};\r\n    String str1 = java.util.Arrays.toString(arr);\r\n    \r\n    StringBuilder[] strings = {new StringBuilder(&quot;Hello, Java&quot;), new StringBuilder(&quot;:)&quot;)};\r\n    String str2             = java.util.Arrays.toString(strings);\r\n    \r\n    System.out.printf(%s%n%s, str1, str2);\r\n\r\nI would also heavily recommend learning how to override your class&#39; [toString()][1] method: that way, you can get a more comprehensible String to print.\r\n\r\n    public class BankAccount {\r\n      .. all of your other methods here.\r\n    \r\n      @Override\r\n      public String toString() {\r\n        return String.format(&quot;%s&#39;s Bank Account [#%s] has a balance of %f&quot;, this.getAccountName(), this.getAccountNumber(), this.getAccountBalance());\r\n      }\r\n    }\r\n\r\nIn your main method, or wherever you call to print an account object, you can simply write `System.out.print(yourAccountObject)` by itself without having to deal with String formatting or anything special.\r\n\r\nHope this helped! :)\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-tostring","title":"Difficulty with displaying array data in java","body":"<p>If you're asking how to display the contents of an array, a simple way to do so is using the default Arrays#toString(arr) method.</p>\n<pre><code>int[] arr   = {1, 2, 3, 4, 5};\nString str1 = java.util.Arrays.toString(arr);\n\nStringBuilder[] strings = {new StringBuilder(&quot;Hello, Java&quot;), new StringBuilder(&quot;:)&quot;)};\nString str2             = java.util.Arrays.toString(strings);\n\nSystem.out.printf(%s%n%s, str1, str2);\n</code></pre>\n<p>I would also heavily recommend learning how to override your class' <a href=\"https://www.baeldung.com/java-tostring\" rel=\"nofollow noreferrer\">toString()</a> method: that way, you can get a more comprehensible String to print.</p>\n<pre><code>public class BankAccount {\n  .. all of your other methods here.\n\n  @Override\n  public String toString() {\n    return String.format(&quot;%s's Bank Account [#%s] has a balance of %f&quot;, this.getAccountName(), this.getAccountNumber(), this.getAccountBalance());\n  }\n}\n</code></pre>\n<p>In your main method, or wherever you call to print an account object, you can simply write <code>System.out.print(yourAccountObject)</code> by itself without having to deal with String formatting or anything special.</p>\n<p>Hope this helped! :)</p>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638955342,"creation_date":1638954186,"answer_id":70272345,"question_id":70270449,"body_markdown":"So what I meant in my comment was something like this.\r\n\r\n```\r\nclass ProgEx4 {\r\n  public static void main(String[] args) {\r\n    // create an array with two accounts\r\n    BankAccount[] accounts = new BankAccount[2];\r\n    // fill the array with your account objects\r\n    accounts[0] = new BankAccount(&quot;88&quot;,&quot;John Smith&quot;);\r\n    accounts[1] = new BankAccount(&quot;99&quot;,&quot;Robert Jones&quot;);\r\n\r\n    String accountNumber = readAccountNumber();\r\n    double depositAmount = readAmount();\r\n\r\n    BankAccount depositTo = findAccountWithNumber(accountNumber, accounts);\r\n    depositTo.deposit(depositAmount);\r\n  }\r\n\r\n  // TODO:\r\n\r\n  // returns the account with the given number in the given array\r\n  private static BankAccount findAccountWithNumber(String number, BankAccount[] searchIn) { ...  }\r\n  private static String readAccountNumber() { ... }\r\n  private static double readAmount() { ... }\r\n}\r\n```\r\n\r\n`findAccountWithNumber`is essentially just iterating the array until you find an account with the given number. You&#39;ll also have to include logic what to do if no such account exists, but both is good practice.","title":"Difficulty with displaying array data in java","body":"<p>So what I meant in my comment was something like this.</p>\n<pre><code>class ProgEx4 {\n  public static void main(String[] args) {\n    // create an array with two accounts\n    BankAccount[] accounts = new BankAccount[2];\n    // fill the array with your account objects\n    accounts[0] = new BankAccount(&quot;88&quot;,&quot;John Smith&quot;);\n    accounts[1] = new BankAccount(&quot;99&quot;,&quot;Robert Jones&quot;);\n\n    String accountNumber = readAccountNumber();\n    double depositAmount = readAmount();\n\n    BankAccount depositTo = findAccountWithNumber(accountNumber, accounts);\n    depositTo.deposit(depositAmount);\n  }\n\n  // TODO:\n\n  // returns the account with the given number in the given array\n  private static BankAccount findAccountWithNumber(String number, BankAccount[] searchIn) { ...  }\n  private static String readAccountNumber() { ... }\n  private static double readAmount() { ... }\n}\n</code></pre>\n<p><code>findAccountWithNumber</code>is essentially just iterating the array until you find an account with the given number. You'll also have to include logic what to do if no such account exists, but both is good practice.</p>\n"}],"owner":{"account_id":20249188,"reputation":45,"user_id":14850808,"display_name":"watercolour man"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1638955342,"creation_date":1638941966,"question_id":70270449,"body_markdown":"I am learning java by myself and using the book Java in Two Semesters by Quentin Charatan and Aaron Kans.\r\nI am currently reading the chapter on Classes and Objects and I am having difficulty solving the last part of an exercise question.\r\nI have basic knowledge of objects, classes and arrays.\r\nI have yet to read about collections \r\nI would be really grateful for some help here. Thanks in advance.\r\n\r\nQues: Design and implement a program that performs in the following way:\r\n\r\n1) When the program starts, two bank accounts are created, using names and\r\n   numbers which are written into the code.\r\n2) The user is then asked to enter an account number, followed by an amount to\r\n   deposit in that account.\r\n3) The balance of the appropriate account is then updated accordinglyâ€”or if an\r\n   incorrect account number was entered a message to this effect is displayed.\r\n4) The user is then asked if he or she wishes to make more deposits.\r\n5) If the user answers does wish to make more deposits, the process continues.\r\n6) If the user does not wish to make more deposits, then details of both accounts\r\n   (account number, account name and balance) are displayed\r\n\r\nThe authors have provided a BankAccount class file which I have to use to create the bank Accounts and the methods given in the class to deposit and get balance.\r\nI am providing the code of the my attempt here\r\n\r\n```\r\nimport java.util.Scanner;\r\n \r\npublic class ProgEx4\r\n{\r\npublic static void main(String[] args)\r\n  {\r\n      int choice;\r\n      Scanner keyboard = new Scanner(System.in);\r\n    do\r\n    { // Create a MENU system for user to choose options \r\n      System.out.println();\r\n      System.out.println(&quot;Welcome to Bank Accounts&quot;);\r\n      System.out.println(&quot;MENU&quot;);\r\n      System.out.println(&quot;[1] Deposit Amount&quot;);\r\n      System.out.println(&quot;[2] Exit&quot;);\r\n  \r\n      // User can enter choice here\r\n      System.out.print(&quot;What would you like to do today? : &quot;);\r\n      choice = keyboard.nextInt();\r\n  \r\n      // switch used to process choice entered by user\r\n      switch(choice)\r\n      {\r\n        case 1: deposit(); // this will go to the deposit method \r\n                break;\r\n        case 2: break;    // this will exit the program \r\n        default: System.out.println(&quot;Invalid Choice&quot;); // if user enters an invalid choice this will allow another attempt at entering choice\r\n                 System.out.print(&quot;Please enter a option ( 1 or 2): &quot;);\r\n                 choice = keyboard.nextInt();\r\n      }\r\n      }while(choice != 2); // the loop will go on till user chooses to exit\r\n   }\r\n      static void deposit() // created a method which takes no values and also returns no values\r\n      {\r\n  \r\n      Scanner keyboard = new Scanner(System.in);\r\n      BankAccount[] account = new BankAccount[2];        // created an array account[] using the BankAccount class provided by book\r\n  \r\n      account[0] = new BankAccount(&quot;88&quot;,&quot;John Smith&quot;);   // filled the array as required by the BankAccount class constructor\r\n      account[1] = new BankAccount(&quot;99&quot;,&quot;Robert Jones&quot;); // passing to string values containing account number and account name \r\n  \r\n      System.out.print(&quot;Enter the account number: &quot;);    // ask user to enter the account number        \r\n      String accNum = keyboard.nextLine();               // declare a String variable &#39;accNum&#39; to take account number from user\r\n  \r\n      String num0 = account[0].getAccountNumber();       // access the account numbers held in the account array \r\n      String num1 = account[1].getAccountNumber();       // using two string variables num0 and num1 to hold these strings\r\n  \r\n      if(accNum.equals(num0))                        // compare two strings accNum and num0 to confirm account number entered by user is correct\r\n      {\r\n        System.out.print(&quot;How much would you like to deposit: &quot;);  // user will deposit here\r\n        double depositAmount = keyboard.nextDouble();              // created a double variable depositAmount to take entered amount\r\n  \r\n        account[0].deposit(depositAmount);                         // using BankAccount class deposit method to enter amount into account\r\n        System.out.println(&quot;The current balance is &quot; + account[0].getBalance());  // using BankAccount class getBalance method to get Balance\r\n      }\r\n      else if(accNum.equals(num1))       // same as above for account[0] on line 48 but this time for account[1]\r\n      {\r\n        System.out.print(&quot;How much would you like to deposit: &quot;);\r\n        double depositAmount = keyboard.nextDouble();\r\n        account[1].deposit(depositAmount);\r\n        System.out.println(&quot;The current balance is &quot; + account[1].getBalance());\r\n      }\r\n      }\r\n   /*\r\n      {    \r\n  \r\n        System.out.println(&quot;The Account belonging to &quot; + account[0].getAccountName() + &quot; with Account Number &quot; + account[0].getAccountNumber());\r\n        System.out.println(&quot; has the balance: &quot; + account[0].getBalance());\r\n  \r\n  \r\n        System.out.println(&quot;The Account belonging to &quot; + account[1].getAccountName() + &quot; with Account Number &quot; + account[1].getAccountNumber());\r\n        System.out.println(&quot; has the balance: &quot; + account[1].getBalance());\r\n        \r\n      }\r\n  \r\n      */\r\n  \r\n  }\r\n  \r\n```\r\nThe BankAccount Class file is below\r\n```\r\n   \r\n   \r\n   public class BankAccount\r\n   {\r\n   // the attributes\r\n   private String accountNumber;\r\n   private String accountName;\r\n   private double balance;\r\n   \r\n  // the methods\r\n  \r\n  // the constructor\r\n  public BankAccount(String numberIn, String nameIn)\r\n  {\r\n  accountNumber = numberIn;\r\n  accountName = nameIn;\r\n  balance = 0;\r\n  }\r\n  \r\n  // methods to read the attributes\r\n  public String getAccountName()\r\n  {\r\n  return accountName;\r\n  }\r\n  \r\n  public String getAccountNumber()\r\n  {\r\n  return accountNumber;\r\n  }\r\n  \r\n  public double getBalance()\r\n  {\r\n  return balance;\r\n }\r\n  \r\n  // methods to deposit and withdraw money\r\n  public void deposit(double amountIn)\r\n  {\r\n  balance = balance + amountIn;\r\n  }\r\n  public boolean withdraw(double amountIn)\r\n  {\r\n      if(amountIn &gt; balance)\r\n      {\r\n        return false; // no withdrawal was made\r\n      }\r\n      else\r\n      {\r\n    balance = balance - amountIn;\r\n    return true; // money was withdrawn successfully\r\n  }\r\n    }\r\n  }\r\n  \r\n```\r\nI do not know how to send the account[] array to get printed in the main method when the user requests to exit the program as I do not know what type of array it is. I wish to know how to send this array to the main method please.\r\n  \r\n                                       \r\n                                                                        \r\n\r\n\r\n\r\n","title":"Difficulty with displaying array data in java","body":"<p>I am learning java by myself and using the book Java in Two Semesters by Quentin Charatan and Aaron Kans.\nI am currently reading the chapter on Classes and Objects and I am having difficulty solving the last part of an exercise question.\nI have basic knowledge of objects, classes and arrays.\nI have yet to read about collections\nI would be really grateful for some help here. Thanks in advance.</p>\n<p>Ques: Design and implement a program that performs in the following way:</p>\n<ol>\n<li>When the program starts, two bank accounts are created, using names and\nnumbers which are written into the code.</li>\n<li>The user is then asked to enter an account number, followed by an amount to\ndeposit in that account.</li>\n<li>The balance of the appropriate account is then updated accordinglyâ€”or if an\nincorrect account number was entered a message to this effect is displayed.</li>\n<li>The user is then asked if he or she wishes to make more deposits.</li>\n<li>If the user answers does wish to make more deposits, the process continues.</li>\n<li>If the user does not wish to make more deposits, then details of both accounts\n(account number, account name and balance) are displayed</li>\n</ol>\n<p>The authors have provided a BankAccount class file which I have to use to create the bank Accounts and the methods given in the class to deposit and get balance.\nI am providing the code of the my attempt here</p>\n<pre><code>import java.util.Scanner;\n \npublic class ProgEx4\n{\npublic static void main(String[] args)\n  {\n      int choice;\n      Scanner keyboard = new Scanner(System.in);\n    do\n    { // Create a MENU system for user to choose options \n      System.out.println();\n      System.out.println(&quot;Welcome to Bank Accounts&quot;);\n      System.out.println(&quot;MENU&quot;);\n      System.out.println(&quot;[1] Deposit Amount&quot;);\n      System.out.println(&quot;[2] Exit&quot;);\n  \n      // User can enter choice here\n      System.out.print(&quot;What would you like to do today? : &quot;);\n      choice = keyboard.nextInt();\n  \n      // switch used to process choice entered by user\n      switch(choice)\n      {\n        case 1: deposit(); // this will go to the deposit method \n                break;\n        case 2: break;    // this will exit the program \n        default: System.out.println(&quot;Invalid Choice&quot;); // if user enters an invalid choice this will allow another attempt at entering choice\n                 System.out.print(&quot;Please enter a option ( 1 or 2): &quot;);\n                 choice = keyboard.nextInt();\n      }\n      }while(choice != 2); // the loop will go on till user chooses to exit\n   }\n      static void deposit() // created a method which takes no values and also returns no values\n      {\n  \n      Scanner keyboard = new Scanner(System.in);\n      BankAccount[] account = new BankAccount[2];        // created an array account[] using the BankAccount class provided by book\n  \n      account[0] = new BankAccount(&quot;88&quot;,&quot;John Smith&quot;);   // filled the array as required by the BankAccount class constructor\n      account[1] = new BankAccount(&quot;99&quot;,&quot;Robert Jones&quot;); // passing to string values containing account number and account name \n  \n      System.out.print(&quot;Enter the account number: &quot;);    // ask user to enter the account number        \n      String accNum = keyboard.nextLine();               // declare a String variable 'accNum' to take account number from user\n  \n      String num0 = account[0].getAccountNumber();       // access the account numbers held in the account array \n      String num1 = account[1].getAccountNumber();       // using two string variables num0 and num1 to hold these strings\n  \n      if(accNum.equals(num0))                        // compare two strings accNum and num0 to confirm account number entered by user is correct\n      {\n        System.out.print(&quot;How much would you like to deposit: &quot;);  // user will deposit here\n        double depositAmount = keyboard.nextDouble();              // created a double variable depositAmount to take entered amount\n  \n        account[0].deposit(depositAmount);                         // using BankAccount class deposit method to enter amount into account\n        System.out.println(&quot;The current balance is &quot; + account[0].getBalance());  // using BankAccount class getBalance method to get Balance\n      }\n      else if(accNum.equals(num1))       // same as above for account[0] on line 48 but this time for account[1]\n      {\n        System.out.print(&quot;How much would you like to deposit: &quot;);\n        double depositAmount = keyboard.nextDouble();\n        account[1].deposit(depositAmount);\n        System.out.println(&quot;The current balance is &quot; + account[1].getBalance());\n      }\n      }\n   /*\n      {    \n  \n        System.out.println(&quot;The Account belonging to &quot; + account[0].getAccountName() + &quot; with Account Number &quot; + account[0].getAccountNumber());\n        System.out.println(&quot; has the balance: &quot; + account[0].getBalance());\n  \n  \n        System.out.println(&quot;The Account belonging to &quot; + account[1].getAccountName() + &quot; with Account Number &quot; + account[1].getAccountNumber());\n        System.out.println(&quot; has the balance: &quot; + account[1].getBalance());\n        \n      }\n  \n      */\n  \n  }\n  \n</code></pre>\n<p>The BankAccount Class file is below</p>\n<pre><code>   \n   \n   public class BankAccount\n   {\n   // the attributes\n   private String accountNumber;\n   private String accountName;\n   private double balance;\n   \n  // the methods\n  \n  // the constructor\n  public BankAccount(String numberIn, String nameIn)\n  {\n  accountNumber = numberIn;\n  accountName = nameIn;\n  balance = 0;\n  }\n  \n  // methods to read the attributes\n  public String getAccountName()\n  {\n  return accountName;\n  }\n  \n  public String getAccountNumber()\n  {\n  return accountNumber;\n  }\n  \n  public double getBalance()\n  {\n  return balance;\n }\n  \n  // methods to deposit and withdraw money\n  public void deposit(double amountIn)\n  {\n  balance = balance + amountIn;\n  }\n  public boolean withdraw(double amountIn)\n  {\n      if(amountIn &gt; balance)\n      {\n        return false; // no withdrawal was made\n      }\n      else\n      {\n    balance = balance - amountIn;\n    return true; // money was withdrawn successfully\n  }\n    }\n  }\n  \n</code></pre>\n<p>I do not know how to send the account[] array to get printed in the main method when the user requests to exit the program as I do not know what type of array it is. I wish to know how to send this array to the main method please.</p>\n"},{"tags":["java","groovy","parallel-processing","distance","gpars"],"comments":[{"owner":{"account_id":16778396,"reputation":33,"user_id":12129140,"display_name":"Probastian"},"score":0,"creation_date":1638889647,"post_id":70262422,"comment_id":124204477,"body_markdown":"Sorry for initial confusion in the headline, changed it up.\n*Still unsure if it&#39;s 100% fitting*","body":"Sorry for initial confusion in the headline, changed it up. <i>Still unsure if it&#39;s 100% fitting</i>"},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1638891910,"post_id":70262422,"comment_id":124205518,"body_markdown":"how slow is &quot;very slow&quot;? Also, I don&#39;t think you can profit from parallel excecution here...","body":"how slow is &quot;very slow&quot;? Also, I don&#39;t think you can profit from parallel excecution here..."},{"owner":{"account_id":16778396,"reputation":33,"user_id":12129140,"display_name":"Probastian"},"score":0,"creation_date":1638908763,"post_id":70262422,"comment_id":124211971,"body_markdown":"At the beginning 50 entries take about 5 seconds. But the time to calculate increases exponentially, since the array (= var &#39;output&#39;) get&#39;s bigger over time.","body":"At the beginning 50 entries take about 5 seconds. But the time to calculate increases exponentially, since the array (= var &#39;output&#39;) get&#39;s bigger over time."},{"owner":{"account_id":16778396,"reputation":33,"user_id":12129140,"display_name":"Probastian"},"score":0,"creation_date":1638908826,"post_id":70262422,"comment_id":124211997,"body_markdown":"At the current state on my Ryzen 2700X my best guess it would take somewhere between 0.5 to 1 day.","body":"At the current state on my Ryzen 2700X my best guess it would take somewhere between 0.5 to 1 day."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1638910436,"post_id":70262422,"comment_id":124212593,"body_markdown":"@Probastian, please provide a simple input for the code above.","body":"@Probastian, please provide a simple input for the code above."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1638913708,"post_id":70262422,"comment_id":124213684,"body_markdown":"for the `outputList` you are looking for just one `matchIndex` why not to put break in this if: `if (distance &lt;= 10 &amp;&amp; distance&gt; matchDistance) {`","body":"for the <code>outputList</code> you are looking for just one <code>matchIndex</code> why not to put break in this if: <code>if (distance &lt;= 10 &amp;&amp; distance&gt; matchDistance) {</code>"},{"owner":{"account_id":16778396,"reputation":33,"user_id":12129140,"display_name":"Probastian"},"score":0,"creation_date":1638954546,"post_id":70262422,"comment_id":124222360,"body_markdown":"Because there might be a better match after this match. I want to see the closest match","body":"Because there might be a better match after this match. I want to see the closest match"},{"owner":{"account_id":16778396,"reputation":33,"user_id":12129140,"display_name":"Probastian"},"score":0,"creation_date":1638954961,"post_id":70262422,"comment_id":124222505,"body_markdown":"I edited my post, there is now 5 lines of my input csv file","body":"I edited my post, there is now 5 lines of my input csv file"},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1638961113,"post_id":70262422,"comment_id":124224805,"body_markdown":"what do you actually want to do? You must analyze your problem and find the way to parallelize it. In it&#39;s current implementation it is not possible","body":"what do you actually want to do? You must analyze your problem and find the way to parallelize it. In it&#39;s current implementation it is not possible"},{"owner":{"account_id":16778396,"reputation":33,"user_id":12129140,"display_name":"Probastian"},"score":0,"creation_date":1638967060,"post_id":70262422,"comment_id":124226943,"body_markdown":"My actual problem is this: We have a big Spring Boot Application and need to make it production ready. For this we need to analyze the logs of the last 6 months and extract all warnings and errors/exceptions. I already did that, this is my input csv file. Now there are a lot of duplicate exceptions since they were being thrown more than once. I want each exception to appear only once in my resulting output file.","body":"My actual problem is this: We have a big Spring Boot Application and need to make it production ready. For this we need to analyze the logs of the last 6 months and extract all warnings and errors/exceptions. I already did that, this is my input csv file. Now there are a lot of duplicate exceptions since they were being thrown more than once. I want each exception to appear only once in my resulting output file."},{"owner":{"account_id":16778396,"reputation":33,"user_id":12129140,"display_name":"Probastian"},"score":0,"creation_date":1638967094,"post_id":70262422,"comment_id":124226955,"body_markdown":"Do you think there is a better way to do this? If so, what would you recommend?","body":"Do you think there is a better way to do this? If so, what would you recommend?"}],"owner":{"account_id":16778396,"reputation":33,"user_id":12129140,"display_name":"Probastian"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638954912,"creation_date":1638889332,"question_id":70262422,"body_markdown":"I have ~13k Strings in a csv file. My program is reading this file, getting the distance between those strings and outputs that to another file.\r\n\r\nCurrently this is all done in a single threaded function, but that is very slow. I need to improve the efficiency of said function. My best guess was to begin with making it run parallel across multiple threads.\r\n\r\nI don&#39;t know much about parallelism and have a hard time understanding it, more certainly how I need to modify my code to work with in that way.\r\n\r\nI am trying to do it in Groovy, but if you know a better language for that please tell me.\r\nThis is the function (still single threaded) I am trying to convert to an parallel one:\r\n```\r\nlong startTime = new Date().getTime()\r\nlong calcTime = 0\r\ndef outputList = []\r\nfor (int i = 0; i &lt; records.size(); i++) {\r\n    long currTime = new Date().getTime()\r\n    int matchIndex = -1\r\n    int matchDistance = -1\r\n    if (i % 50 == 0) {\r\n        println(&quot;Status: ${df.format(i / (records.size() - 1) * 100)} % done. [${i}/${records.size() - 1}] (Last calcTime: ${df.format(calcTime / 1000.0)}s // ${calcTime}ms) (outputList.size(): ${outputList.size()})&quot;)\r\n    }\r\n    for (int j = 0; j &lt; outputList.size(); j++) {\r\n        String s1 = &quot;&quot; + records[i][2]\r\n        String s2 = &quot;&quot; + outputList[j][2]\r\n        int distance = StringUtils.getLevenshteinDistance(s1, s2)\r\n        if (distance &lt;= 10 &amp;&amp; distance&gt; matchDistance) {\r\n            matchIndex = j\r\n            matchDistance = distance\r\n        }\r\n    }\r\n    calcTime = new Date().getTime() - currTime\r\n    outputList += [records[i] + [matchIndex, matchDistance]]\r\n}\r\n```\r\nStringUtils is from the Apache Commons library.\r\nrecords is an 2 dimensional array, extracted from an CSV File. (Index [x][2] is the String I want to compare, same goes for outputList)\r\n\r\nI&#39;ve read about the GPars Library and am trying to do it that way, but as I&#39;ve said I have a really hard time understanding how it works.\r\n\r\nI would really appreciate if you could tell and explain to me how you would solve this problem, or link me resources to help me understand it.\r\n\r\nEDIT:\r\nHere are 5 lines of the input csv file:\r\n```\r\nserver.log.2021.10.29|139712|2021-10-29 15:23:34,672 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH HTML Tags in Mail with MIME Type text/plain detected. Skipping HTML Link creationâ¦€\r\nserver.log.2021.10.29|139713|2021-10-29 15:23:49,546 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH Incoming Mail Routing&gt; Admintool Template xxx.csv contains wrong line: 16â¦€2021-10-29 15:23:49,546 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH Incoming Mail Routing&gt; Non Standard Pattern Template lines must contain ###number### pattern and at least 3 more non blank signs.â¦€2021-10-29 15:23:49,546 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH Incoming Mail Routing&gt; Admintool Template xxx.csv contains wrong line: 17â¦€2021-10-29 15:23:49,546 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH Incoming Mail Routing&gt; Non Standard Pattern Template lines must contain ###number### pattern and at least 3 more non blank signs.â¦€2021-10-29 15:23:49,546 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH Incoming Mail Routing&gt; Admintool Template xxx.csv contains wrong line: 25â¦€2021-10-29 15:23:49,546 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH Incoming Mail Routing&gt; Non Standard Pattern Template lines must contain ###number### pattern and at least 3 more non blank signs.â¦€\r\nserver.log.2021.10.29|139841|2021-10-29 15:23:50,018 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH HTML Tags in Mail with MIME Type text/plain detected. Skipping HTML Link creationâ¦€\r\nserver.log.2021.10.29|139855|2021-10-29 15:24:04,701 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH HTML Tags in Mail with MIME Type text/plain detected. Skipping HTML Link creationâ¦€\r\nserver.log.2021.10.29|140031|2021-10-29 15:24:08,435 WARN  [ice.aspect.ScriptMetricsAspect] [xxx:nimh:pipe--] Execution of script: xxx.groovy took 3 secondsâ¦€\r\n```","title":"Processing array while it&#39;s being used across multiple threads in groovy","body":"<p>I have ~13k Strings in a csv file. My program is reading this file, getting the distance between those strings and outputs that to another file.</p>\n<p>Currently this is all done in a single threaded function, but that is very slow. I need to improve the efficiency of said function. My best guess was to begin with making it run parallel across multiple threads.</p>\n<p>I don't know much about parallelism and have a hard time understanding it, more certainly how I need to modify my code to work with in that way.</p>\n<p>I am trying to do it in Groovy, but if you know a better language for that please tell me.\nThis is the function (still single threaded) I am trying to convert to an parallel one:</p>\n<pre><code>long startTime = new Date().getTime()\nlong calcTime = 0\ndef outputList = []\nfor (int i = 0; i &lt; records.size(); i++) {\n    long currTime = new Date().getTime()\n    int matchIndex = -1\n    int matchDistance = -1\n    if (i % 50 == 0) {\n        println(&quot;Status: ${df.format(i / (records.size() - 1) * 100)} % done. [${i}/${records.size() - 1}] (Last calcTime: ${df.format(calcTime / 1000.0)}s // ${calcTime}ms) (outputList.size(): ${outputList.size()})&quot;)\n    }\n    for (int j = 0; j &lt; outputList.size(); j++) {\n        String s1 = &quot;&quot; + records[i][2]\n        String s2 = &quot;&quot; + outputList[j][2]\n        int distance = StringUtils.getLevenshteinDistance(s1, s2)\n        if (distance &lt;= 10 &amp;&amp; distance&gt; matchDistance) {\n            matchIndex = j\n            matchDistance = distance\n        }\n    }\n    calcTime = new Date().getTime() - currTime\n    outputList += [records[i] + [matchIndex, matchDistance]]\n}\n</code></pre>\n<p>StringUtils is from the Apache Commons library.\nrecords is an 2 dimensional array, extracted from an CSV File. (Index [x][2] is the String I want to compare, same goes for outputList)</p>\n<p>I've read about the GPars Library and am trying to do it that way, but as I've said I have a really hard time understanding how it works.</p>\n<p>I would really appreciate if you could tell and explain to me how you would solve this problem, or link me resources to help me understand it.</p>\n<p>EDIT:\nHere are 5 lines of the input csv file:</p>\n<pre><code>server.log.2021.10.29|139712|2021-10-29 15:23:34,672 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH HTML Tags in Mail with MIME Type text/plain detected. Skipping HTML Link creationâ¦€\nserver.log.2021.10.29|139713|2021-10-29 15:23:49,546 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH Incoming Mail Routing&gt; Admintool Template xxx.csv contains wrong line: 16â¦€2021-10-29 15:23:49,546 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH Incoming Mail Routing&gt; Non Standard Pattern Template lines must contain ###number### pattern and at least 3 more non blank signs.â¦€2021-10-29 15:23:49,546 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH Incoming Mail Routing&gt; Admintool Template xxx.csv contains wrong line: 17â¦€2021-10-29 15:23:49,546 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH Incoming Mail Routing&gt; Non Standard Pattern Template lines must contain ###number### pattern and at least 3 more non blank signs.â¦€2021-10-29 15:23:49,546 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH Incoming Mail Routing&gt; Admintool Template xxx.csv contains wrong line: 25â¦€2021-10-29 15:23:49,546 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH Incoming Mail Routing&gt; Non Standard Pattern Template lines must contain ###number### pattern and at least 3 more non blank signs.â¦€\nserver.log.2021.10.29|139841|2021-10-29 15:23:50,018 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH HTML Tags in Mail with MIME Type text/plain detected. Skipping HTML Link creationâ¦€\nserver.log.2021.10.29|139855|2021-10-29 15:24:04,701 WARN  [   xxx.groovy] [xxx:nimh:pipe--] NIMH HTML Tags in Mail with MIME Type text/plain detected. Skipping HTML Link creationâ¦€\nserver.log.2021.10.29|140031|2021-10-29 15:24:08,435 WARN  [ice.aspect.ScriptMetricsAspect] [xxx:nimh:pipe--] Execution of script: xxx.groovy took 3 secondsâ¦€\n</code></pre>\n"},{"tags":["java","spring","csv"],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638935154,"creation_date":1638935154,"answer_id":70269688,"question_id":70269501,"body_markdown":"Each way also have pros and cons.\r\n\r\nIf you have only few user/client then parsing at server maybe more suitable.\r\n\r\nOtherwise, parsing at clients should be consider because it reduce the workload at server. It should be consider with priority if your application have thousand or million request each day. ","title":"Parsing CSV data client or server is faster","body":"<p>Each way also have pros and cons.</p>\n<p>If you have only few user/client then parsing at server maybe more suitable.</p>\n<p>Otherwise, parsing at clients should be consider because it reduce the workload at server. It should be consider with priority if your application have thousand or million request each day.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638954831,"creation_date":1638935303,"answer_id":70269700,"question_id":70269501,"body_markdown":"First of all, unless the CSV file is big or you are doing this import operation frequently, the performance difference between the two approaches is likely to be irrelevant to the user ... and to you.\r\n\r\nBut lets compare the two ways of doing this:\r\n\r\n  - Client side CSV parsing:  The client side CSV parser will most likely be fast ... and you are using the user&#39;s CPU to do it.  But when if / when you send the data to the server, you are going to have to reserialize it all (e.g. as JSON).  And the serialized form will most likely need to be deserialized on the server side.\r\n\r\n    So overall you will save little if any time on the server side, and add the cost of parsing and serializing on the user&#39;s machine.\r\n\r\n    However, if you can do some (significant) data reduction on the client side before sending the data to the server, you may end up with a saving.  It will depend on how much you can reduce the data, and client &lt;-&gt; server network data rates.\r\n\r\n  - Server side CSV parsing.  This avoids the additional serialization / deserialization overheads.  But there is no opportunity for any data reduction.\r\n\r\nIn short ... it depends on the circumstances.\r\n\r\nBut my advice is: &quot;Avoid Premature Optimization&quot;.  Don&#39;t try guess which approach will be more efficient.  Implement the simpler version, and only optimize (your working system!) if there is a demonstrated need to optimize.","title":"Parsing CSV data client or server is faster","body":"<p>First of all, unless the CSV file is big or you are doing this import operation frequently, the performance difference between the two approaches is likely to be irrelevant to the user ... and to you.</p>\n<p>But lets compare the two ways of doing this:</p>\n<ul>\n<li><p>Client side CSV parsing:  The client side CSV parser will most likely be fast ... and you are using the user's CPU to do it.  But when if / when you send the data to the server, you are going to have to reserialize it all (e.g. as JSON).  And the serialized form will most likely need to be deserialized on the server side.</p>\n<p>So overall you will save little if any time on the server side, and add the cost of parsing and serializing on the user's machine.</p>\n<p>However, if you can do some (significant) data reduction on the client side before sending the data to the server, you may end up with a saving.  It will depend on how much you can reduce the data, and client &lt;-&gt; server network data rates.</p>\n</li>\n<li><p>Server side CSV parsing.  This avoids the additional serialization / deserialization overheads.  But there is no opportunity for any data reduction.</p>\n</li>\n</ul>\n<p>In short ... it depends on the circumstances.</p>\n<p>But my advice is: &quot;Avoid Premature Optimization&quot;.  Don't try guess which approach will be more efficient.  Implement the simpler version, and only optimize (your working system!) if there is a demonstrated need to optimize.</p>\n"}],"owner":{"account_id":22797848,"reputation":3,"user_id":16951128,"display_name":"John Wick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70269688,"answer_count":2,"score":0,"last_activity_date":1638954831,"creation_date":1638933385,"question_id":70269501,"body_markdown":"I want to import data from a CSV file to spring controller, as far as I know, \r\nthere are 2 ways: \r\n- parsing the data on the client side with a library like papaparse.v.v then sending it to the controller \r\n- uploading the file and then parsing it on the server side\r\n which is the best way in the above two ways, thanks a lot","title":"Parsing CSV data client or server is faster","body":"<p>I want to import data from a CSV file to spring controller, as far as I know,\nthere are 2 ways:</p>\n<ul>\n<li>parsing the data on the client side with a library like papaparse.v.v then sending it to the controller</li>\n<li>uploading the file and then parsing it on the server side\nwhich is the best way in the above two ways, thanks a lot</li>\n</ul>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638954607,"creation_date":1638954607,"answer_id":70272424,"question_id":70271780,"body_markdown":"it might not support the app version of android version?","title":"Package_added intent received but apk not found","body":"<p>it might not support the app version of android version?</p>\n"}],"owner":{"account_id":13259265,"reputation":1,"user_id":9574379,"display_name":"aladin153"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638954607,"creation_date":1638951147,"question_id":70271780,"body_markdown":"I&#39;m trying to install a new apk from system application using package manager.\r\nAfter running session.commit, i receive the package_added intent. The new apk exists under /data/app but it doesn&#39;t appears in apps menu and even the package name doesn&#39;t exist if i start pm list packages command. \r\nI&#39;m using Android 10.","title":"Package_added intent received but apk not found","body":"<p>I'm trying to install a new apk from system application using package manager.\nAfter running session.commit, i receive the package_added intent. The new apk exists under /data/app but it doesn't appears in apps menu and even the package name doesn't exist if i start pm list packages command.\nI'm using Android 10.</p>\n"},{"tags":["java","class","interface","repository","uml"],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1638954564,"creation_date":1638903622,"answer_id":70265630,"question_id":70264663,"body_markdown":"You show an `&#171;Interface&#187; PersonalClientRepository` that extends `&#171;Interface&#187; CrudRepository`.  Extension in Java is specialization in UML. It should be represented with an arrow head that is a big white triangle.  (The small arrow on your diagram is confusing since it means in UML a navigable association, which is something completely different). \r\n\r\nI understand that your `&#171;Entity&#187; PersonalClient` is the kind of object that `PersonalClientRepository` would find or store and that it is not itself an implementation of that interface: \r\n&lt;br&gt;You should then replace your green arrow and draw a dependency from   `PersonalClientRepository` to `PersonalClient` instead:  it&#39;s a dashed line with an open head arrow.  This means that the repository needs to know about the client (because it uses or creates some): \r\n\r\n[![!\\[enter image description here][1]][1] \r\n\r\nA class diagram is not a data flow diagram.  You do not use bidirectional arrows to show input/output.  For this behavioral kind of logic, you&#39;d use an UML activity diagram.  \r\n\r\nThe unidirectional dependency is sufficient to express that the repository deals with clients, regardless if it&#39;s input or output. \r\nConversely, `PersonalClient` does not structurally need the repository.  You could perfectly well use this client without a repository.   \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SohCQ.png","title":"How should I show relationships between interface and class?","body":"<p>You show an <code>Â«InterfaceÂ» PersonalClientRepository</code> that extends <code>Â«InterfaceÂ» CrudRepository</code>.  Extension in Java is specialization in UML. It should be represented with an arrow head that is a big white triangle.  (The small arrow on your diagram is confusing since it means in UML a navigable association, which is something completely different).</p>\n<p>I understand that your <code>Â«EntityÂ» PersonalClient</code> is the kind of object that <code>PersonalClientRepository</code> would find or store and that it is not itself an implementation of that interface:\n<br>You should then replace your green arrow and draw a dependency from   <code>PersonalClientRepository</code> to <code>PersonalClient</code> instead:  it's a dashed line with an open head arrow.  This means that the repository needs to know about the client (because it uses or creates some):</p>\n<p><a href=\"https://i.stack.imgur.com/SohCQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SohCQ.png\" alt=\"![enter image description here\" /></a></p>\n<p>A class diagram is not a data flow diagram.  You do not use bidirectional arrows to show input/output.  For this behavioral kind of logic, you'd use an UML activity diagram.</p>\n<p>The unidirectional dependency is sufficient to express that the repository deals with clients, regardless if it's input or output.\nConversely, <code>PersonalClient</code> does not structurally need the repository.  You could perfectly well use this client without a repository.</p>\n"}],"owner":{"account_id":22390594,"reputation":937,"user_id":16732680,"display_name":"dokichan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70265630,"answer_count":1,"score":1,"last_activity_date":1638954564,"creation_date":1638898939,"question_id":70264663,"body_markdown":"I have Java Spring web application and UML. I have class `PersonalClient` (@Entity) and I have interface-repository that interacts with data base using that entity -  `PersonalClientRepository` (CRUD). For now, on my UML it looks like this (green arrow):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut I think, that this is wrong. Is there correct way to show this relationships?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JYUMm.png","title":"How should I show relationships between interface and class?","body":"<p>I have Java Spring web application and UML. I have class <code>PersonalClient</code> (@Entity) and I have interface-repository that interacts with data base using that entity -  <code>PersonalClientRepository</code> (CRUD). For now, on my UML it looks like this (green arrow):</p>\n<p><a href=\"https://i.stack.imgur.com/JYUMm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JYUMm.png\" alt=\"enter image description here\" /></a></p>\n<p>But I think, that this is wrong. Is there correct way to show this relationships?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":9109424,"reputation":718,"user_id":6778706,"display_name":"Amad&#225;n"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638951482,"creation_date":1638948952,"answer_id":70271413,"question_id":70271066,"body_markdown":"[Edit:] I unfortunately missed the multiline nature of entries, so this answer is valid for single line entries but will return only the first line for multiline entries. I think one *could* overcome this by setting a certain regex for delimiter, though.\r\n\r\nI&#39;d suggest you use a `Scanner` to deal with the multi line aspect. This will give you a stream of tokens (the lines). You can use a `String.contains(...)` or a `String.matches(...)` to filter tokens then.\r\n\r\n    var result = new Scanner(myMultiLineString).tokens()\r\n                                               .useDelimiter(&quot;\\\\n&quot;)\r\n                                               // alternatively use String.contains(...)\r\n                                               // if you&#39;re looking for a constant\r\n                                               // rather than a complex rule.\r\n                                               .filter(s -&gt; s.matches(regex))\r\n                                               .collect(Collectors.toList());\r\n\r\n","title":"Regex for finding special entries in a multiline setting","body":"<p>[Edit:] I unfortunately missed the multiline nature of entries, so this answer is valid for single line entries but will return only the first line for multiline entries. I think one <em>could</em> overcome this by setting a certain regex for delimiter, though.</p>\n<p>I'd suggest you use a <code>Scanner</code> to deal with the multi line aspect. This will give you a stream of tokens (the lines). You can use a <code>String.contains(...)</code> or a <code>String.matches(...)</code> to filter tokens then.</p>\n<pre><code>var result = new Scanner(myMultiLineString).tokens()\n                                           .useDelimiter(&quot;\\\\n&quot;)\n                                           // alternatively use String.contains(...)\n                                           // if you're looking for a constant\n                                           // rather than a complex rule.\n                                           .filter(s -&gt; s.matches(regex))\n                                           .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7817944,"reputation":338,"user_id":5911964,"display_name":"absence"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638951181,"creation_date":1638949305,"answer_id":70271474,"question_id":70271066,"body_markdown":"If you use words and space classes instead of dots then it seems to work\r\n\r\n    /entry \\d+: [\\w\\s]*special[\\w\\s]*?(?=\\s*(?:entry \\d+:)|$)/gm\r\n\r\nIt seems that if you allow the colon `:` in your text, it breaks the expression.\r\n\r\nAnd also you have `\\Z` in your expression but it seems to me that end of line `$` is more suited here","title":"Regex for finding special entries in a multiline setting","body":"<p>If you use words and space classes instead of dots then it seems to work</p>\n<pre><code>/entry \\d+: [\\w\\s]*special[\\w\\s]*?(?=\\s*(?:entry \\d+:)|$)/gm\n</code></pre>\n<p>It seems that if you allow the colon <code>:</code> in your text, it breaks the expression.</p>\n<p>And also you have <code>\\Z</code> in your expression but it seems to me that end of line <code>$</code> is more suited here</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor StribiÅ¼ew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638954356,"creation_date":1638954356,"answer_id":70272381,"question_id":70271066,"body_markdown":"You can use a [tempered greedy token][1]:\r\n```java\r\n(?s)entry \\d+: (?:(?!entry \\d+: ).)*special.*?(?=\\s*entry \\d+: |$)\r\n```\r\nSee the [regex demo][2]. *Details*:\r\n\r\n - &lt;code&gt;entry \\d+: &lt;/code&gt; - `entry` + space + one or more digits, `:`, space\r\n - `(?:(?!entry \\d+: ).)*` - any char, repeated zero or more times, that does not start the *`entry` + space + one or more digits, `:`, space* sequence\r\n - `special` - a fixed string\r\n - `.*?` - any zero or more chars as few as possible\r\n - `(?=\\s*entry \\d+: |$)` -  a positive lookahead that matches a location in string that is immediately followed with zero or more whitespaces, `entry`, space, one or more digits, `:` and space, or end of the string.\r\n\r\n**NOTE**: Do not use `Pattern.MULTILINE` with this regex. Or, keep on using `\\Z` (end of the string, or position right before the trailing newline, LF char).\r\n\r\n  [1]: https://stackoverflow.com/a/37343088/3832970\r\n  [2]: https://regex101.com/r/NLx5Hl/2/","title":"Regex for finding special entries in a multiline setting","body":"<p>You can use a <a href=\"https://stackoverflow.com/a/37343088/3832970\">tempered greedy token</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(?s)entry \\d+: (?:(?!entry \\d+: ).)*special.*?(?=\\s*entry \\d+: |$)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/NLx5Hl/2/\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Details</em>:</p>\n<ul>\n<li><code>entry \\d+: </code> - <code>entry</code> + space + one or more digits, <code>:</code>, space</li>\n<li><code>(?:(?!entry \\d+: ).)*</code> - any char, repeated zero or more times, that does not start the <em><code>entry</code> + space + one or more digits, <code>:</code>, space</em> sequence</li>\n<li><code>special</code> - a fixed string</li>\n<li><code>.*?</code> - any zero or more chars as few as possible</li>\n<li><code>(?=\\s*entry \\d+: |$)</code> -  a positive lookahead that matches a location in string that is immediately followed with zero or more whitespaces, <code>entry</code>, space, one or more digits, <code>:</code> and space, or end of the string.</li>\n</ul>\n<p><strong>NOTE</strong>: Do not use <code>Pattern.MULTILINE</code> with this regex. Or, keep on using <code>\\Z</code> (end of the string, or position right before the trailing newline, LF char).</p>\n"}],"owner":{"account_id":6714591,"reputation":490,"user_id":5176800,"accept_rate":80,"display_name":"Filou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70272381,"answer_count":3,"score":2,"last_activity_date":1638954356,"creation_date":1638946669,"question_id":70271066,"body_markdown":"I am looking for certain entries with special words in a string. The string looks like this.\r\n\r\n```\r\nentry 1: hello\r\nentry 2: world\r\nentry 3: this\r\nis a multiline\r\nthat makes it hard\r\nentry 4: here we have a special entry\r\nentry 5: here\r\nwe\r\nhave \r\nanother special entry\r\nin a multiline\r\nentry 6: end\r\n```\r\n\r\nBecause it is an multiline problem I use Java&#39;s DOTALL so that the `.` matches also newline characters.\r\n\r\nI am looking for entries that have the word _special_ in it.\r\n\r\nFirst I tried to find a regex, that captures a full entry: `entry \\d+: .*?(?=\\s*(entry \\d: )|\\Z)`. That is like a simplified version of [this][1]\r\n\r\nThen I thought, ok I just have to exchange the `.*?` for the regex I need to find. But `entry \\d+: .*?special.*?(?=\\s*(entry \\d: )|\\Z)` does not work, probably because the _special_ breaks the greed of the expression.\r\n\r\nDoes anyone know a better solution?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28864020/parse-multiline-log-entries-using-a-regex","title":"Regex for finding special entries in a multiline setting","body":"<p>I am looking for certain entries with special words in a string. The string looks like this.</p>\n<pre><code>entry 1: hello\nentry 2: world\nentry 3: this\nis a multiline\nthat makes it hard\nentry 4: here we have a special entry\nentry 5: here\nwe\nhave \nanother special entry\nin a multiline\nentry 6: end\n</code></pre>\n<p>Because it is an multiline problem I use Java's DOTALL so that the <code>.</code> matches also newline characters.</p>\n<p>I am looking for entries that have the word <em>special</em> in it.</p>\n<p>First I tried to find a regex, that captures a full entry: <code>entry \\d+: .*?(?=\\s*(entry \\d: )|\\Z)</code>. That is like a simplified version of <a href=\"https://stackoverflow.com/questions/28864020/parse-multiline-log-entries-using-a-regex\">this</a></p>\n<p>Then I thought, ok I just have to exchange the <code>.*?</code> for the regex I need to find. But <code>entry \\d+: .*?special.*?(?=\\s*(entry \\d: )|\\Z)</code> does not work, probably because the <em>special</em> breaks the greed of the expression.</p>\n<p>Does anyone know a better solution?</p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1531114999,"creation_date":1531114999,"answer_id":51238853,"question_id":51238828,"body_markdown":"You can&#39;t use a method reference, since you have no way of passing the `int` argument to it.\r\n\r\nTherefore, use a lambda expression instead:\r\n\r\n    lines.forEach(s -&gt; chunker.splitFileByMaxRows(s,someInt));","title":"Java 8 Streams. Pass Two arguments to a method called in forEach","body":"<p>You can't use a method reference, since you have no way of passing the <code>int</code> argument to it.</p>\n\n<p>Therefore, use a lambda expression instead:</p>\n\n<pre><code>lines.forEach(s -&gt; chunker.splitFileByMaxRows(s,someInt));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1594443,"reputation":2067,"user_id":1476993,"accept_rate":43,"display_name":"serah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638954118,"creation_date":1638953801,"answer_id":70272279,"question_id":51238828,"body_markdown":"A MethodReference can be used only in the place where a Consumer is allowed. If you recollect a Consumer takes in only one input parameter. So in your case you have two arguments, this is not possible to be passed in as Method reference to a consumer. So you have to use a lambda that can take arguments as necesssary.","title":"Java 8 Streams. Pass Two arguments to a method called in forEach","body":"<p>A MethodReference can be used only in the place where a Consumer is allowed. If you recollect a Consumer takes in only one input parameter. So in your case you have two arguments, this is not possible to be passed in as Method reference to a consumer. So you have to use a lambda that can take arguments as necesssary.</p>\n"}],"owner":{"account_id":9094867,"reputation":393,"user_id":7430588,"display_name":"malware"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11665,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638954118,"creation_date":1531114892,"question_id":51238828,"body_markdown":"Using Java 8 streams API, I want a way to call a reference method which accepts two arguments. `splitFileByMaxRows` is the reference method that should take a `String` and an `int` as its arguments. Is there any way to achieve it?\r\n\r\n    private void breakLargeFileIntoChunks(final File setlFile, int parentFileId) {\r\n\t\tLOG.info(LOG.isInfoEnabled() ? &quot;*** Breaking Large File Into Chunks ***&quot; : null);\r\n\r\n\t\ttry (Chunker chunker = new Chunker(); \r\n\t\t\t Stream&lt;String&gt; lines = Files.lines(Paths.get(setlFile.getAbsolutePath()))) {\r\n\t\t\tlines.forEach(chunker::splitFileByMaxRows);\r\n\t\t}\r\n\t\tcatch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}","title":"Java 8 Streams. Pass Two arguments to a method called in forEach","body":"<p>Using Java 8 streams API, I want a way to call a reference method which accepts two arguments. <code>splitFileByMaxRows</code> is the reference method that should take a <code>String</code> and an <code>int</code> as its arguments. Is there any way to achieve it?</p>\n\n<pre><code>private void breakLargeFileIntoChunks(final File setlFile, int parentFileId) {\n    LOG.info(LOG.isInfoEnabled() ? \"*** Breaking Large File Into Chunks ***\" : null);\n\n    try (Chunker chunker = new Chunker(); \n         Stream&lt;String&gt; lines = Files.lines(Paths.get(setlFile.getAbsolutePath()))) {\n        lines.forEach(chunker::splitFileByMaxRows);\n    }\n    catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","vaadin","crud","comparator","dataprovider"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1638807488,"post_id":70246327,"comment_id":124180152,"body_markdown":"You mean the &quot;Liste von Benutzern&quot; or what exactly?","body":"You mean the &quot;Liste von Benutzern&quot; or what exactly?"}],"answers":[{"tags":[],"owner":{"account_id":15754805,"reputation":805,"user_id":11368281,"display_name":"Sascha I&#223;br&#252;cker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638816950,"creation_date":1638816950,"answer_id":70250486,"question_id":70246327,"body_markdown":"I assume that you want to change the order of the columns, as that is one thing that stands out from the image you posted.\r\n\r\nThe Crud component builds a Grid internally, with columns automatically generated from the properties that exist in the bean class that you pass into the constructor (`OpvUser` in your case). Depending on how the properties in the bean class are defined, the order of colums might not be suitable. If you want to change the order of columns, you can call `setColumnOrder` on the grid. For your example, that should look something like this:\r\n```java\r\nGrid&lt;OpvUser&gt; grid = crud.getGrid();\r\ngrid.setColumnOrder(\r\n  // Columns keys are the exact property names of the bean class\r\n  grid.getColumnByKey(&quot;id&quot;),\r\n  grid.getColumnByKey(&quot;firstName&quot;),\r\n  grid.getColumnByKey(&quot;lastName&quot;),\r\n  grid.getColumnByKey(&quot;email&quot;)\r\n);\r\n```\r\n\r\nSee the [Crud docs](https://vaadin.com/docs/latest/ds/components/crud) for a full example, as well as the [Grid API docs](https://vaadin.com/api/platform/22.0.0/com/vaadin/flow/component/grid/Grid.html#setColumnOrder-com.vaadin.flow.component.grid.Grid.Column...-)","title":"Vaadin Crud UI. Axes are not sorted correctly","body":"<p>I assume that you want to change the order of the columns, as that is one thing that stands out from the image you posted.</p>\n<p>The Crud component builds a Grid internally, with columns automatically generated from the properties that exist in the bean class that you pass into the constructor (<code>OpvUser</code> in your case). Depending on how the properties in the bean class are defined, the order of colums might not be suitable. If you want to change the order of columns, you can call <code>setColumnOrder</code> on the grid. For your example, that should look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Grid&lt;OpvUser&gt; grid = crud.getGrid();\ngrid.setColumnOrder(\n  // Columns keys are the exact property names of the bean class\n  grid.getColumnByKey(&quot;id&quot;),\n  grid.getColumnByKey(&quot;firstName&quot;),\n  grid.getColumnByKey(&quot;lastName&quot;),\n  grid.getColumnByKey(&quot;email&quot;)\n);\n</code></pre>\n<p>See the <a href=\"https://vaadin.com/docs/latest/ds/components/crud\" rel=\"nofollow noreferrer\">Crud docs</a> for a full example, as well as the <a href=\"https://vaadin.com/api/platform/22.0.0/com/vaadin/flow/component/grid/Grid.html#setColumnOrder-com.vaadin.flow.component.grid.Grid.Column...-\" rel=\"nofollow noreferrer\">Grid API docs</a></p>\n"}],"owner":{"account_id":17488559,"reputation":21,"user_id":12681139,"display_name":"Sayer Arab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70250486,"answer_count":1,"score":2,"last_activity_date":1638953973,"creation_date":1638797547,"question_id":70246327,"body_markdown":"Why am I getting my axes like this? How can I sort them currectly.\r\nI&#39;m using Vaadin Crud component (not Grid).\r\n\r\n    Crud&lt;OpvUser&gt; crud = new Crud&lt;&gt;(OpvUser.class, createUserEditor());\r\n    crud.getGrid().addItemDoubleClickListener(e -&gt; crud.edit(e.getItem(), Crud.EditMode.EXISTING_ITEM));\r\n\r\n    UserDataProvider dataProvider = new UserDataProvider();\r\n    crud.setDataProvider(dataProvider);\r\n    dataProvider.refreshAll();\r\n         .....\r\n    crud.getGrid().setSortableColumns();\r\n    crud.getGrid().removeColumnByKey(&quot;password&quot;);\r\n    crud.addThemeVariants(CrudVariant.NO_BORDER);\r\n    add(crud); \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cuccr.png\r\n","title":"Vaadin Crud UI. Axes are not sorted correctly","body":"<p>Why am I getting my axes like this? How can I sort them currectly.\nI'm using Vaadin Crud component (not Grid).</p>\n<pre><code>Crud&lt;OpvUser&gt; crud = new Crud&lt;&gt;(OpvUser.class, createUserEditor());\ncrud.getGrid().addItemDoubleClickListener(e -&gt; crud.edit(e.getItem(), Crud.EditMode.EXISTING_ITEM));\n\nUserDataProvider dataProvider = new UserDataProvider();\ncrud.setDataProvider(dataProvider);\ndataProvider.refreshAll();\n     .....\ncrud.getGrid().setSortableColumns();\ncrud.getGrid().removeColumnByKey(&quot;password&quot;);\ncrud.addThemeVariants(CrudVariant.NO_BORDER);\nadd(crud); \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cuccr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cuccr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5028986,"reputation":1194,"user_id":4039840,"display_name":"TuyenNTA"},"score":0,"creation_date":1520823122,"post_id":49227485,"comment_id":85458700,"body_markdown":"Hint: get a substring from index of &quot;from&quot; to index of &quot;to&quot;","body":"Hint: get a substring from index of &quot;from&quot; to index of &quot;to&quot;"}],"answers":[{"tags":[],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1520827512,"creation_date":1520826514,"answer_id":49227906,"question_id":49227485,"body_markdown":" - String method:\r\n   \r\n   Use `StringUtils.substringBetween()` of [Apache Commons][1]:\r\n   \r\n        public static void main(String[] args) {\r\n            String sentence = &quot;User update personal account ID from P150567 to A250356.&quot;;\r\n            String id = StringUtils.substringBetween(sentence, &quot;from &quot;, &quot; to&quot;);\r\n            System.out.println(id);\r\n        }\r\n - Regex method:\r\n   \r\n   Use regex `from (.*) to`, the string  surrounded by parentheses  is\r\n   called `group(1)`, just extract it:\r\n   \r\n        \r\n        public static void main(String[] args) {\r\n            String regex = &quot;from (.*) to&quot;;\r\n            String sentence = &quot;User update personal account ID from P150567 to A250356.&quot;;\r\n            Pattern pattern = Pattern.compile(regex);\r\n            Matcher matcher = pattern.matcher(sentence);\r\n            matcher.find();\r\n            System.out.println(matcher.group(1));\r\n        }\r\n        \r\n\r\n  [1]: https://commons.apache.org/","title":"Extract certain substring in Java","body":"<ul>\n<li><p>String method:</p>\n\n<p>Use <code>StringUtils.substringBetween()</code> of <a href=\"https://commons.apache.org/\" rel=\"nofollow noreferrer\">Apache Commons</a>:</p>\n\n<pre><code>public static void main(String[] args) {\n    String sentence = \"User update personal account ID from P150567 to A250356.\";\n    String id = StringUtils.substringBetween(sentence, \"from \", \" to\");\n    System.out.println(id);\n}\n</code></pre></li>\n<li><p>Regex method:</p>\n\n<p>Use regex <code>from (.*) to</code>, the string  surrounded by parentheses  is\ncalled <code>group(1)</code>, just extract it:</p>\n\n<pre><code>public static void main(String[] args) {\n    String regex = \"from (.*) to\";\n    String sentence = \"User update personal account ID from P150567 to A250356.\";\n    Pattern pattern = Pattern.compile(regex);\n    Matcher matcher = pattern.matcher(sentence);\n    matcher.find();\n    System.out.println(matcher.group(1));\n}\n</code></pre></li>\n</ul>\n"}],"owner":{"account_id":10367735,"reputation":55,"user_id":7646291,"accept_rate":100,"display_name":"kingpin_123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":49227906,"answer_count":1,"score":-4,"last_activity_date":1638953916,"creation_date":1520822873,"question_id":49227485,"body_markdown":"I have a sentence, which is:\r\n\r\n    User update personal account ID from P150567 to A250356.\r\n\r\nI want to extract the keywords &quot;`P10567`&quot; from this sentence.\r\n\r\nHow do I extract data between the sentence using regex or string method?","title":"Extract certain substring in Java","body":"<p>I have a sentence, which is:</p>\n\n<pre><code>User update personal account ID from P150567 to A250356.\n</code></pre>\n\n<p>I want to extract the keywords \"<code>P10567</code>\" from this sentence.</p>\n\n<p>How do I extract data between the sentence using regex or string method?</p>\n"},{"tags":["java","jboss","browser-cache","cache-control","etag"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638953776,"creation_date":1556527743,"answer_id":55899843,"question_id":55808264,"body_markdown":"According to [this post][1] you can disable caching by changing the response header.\r\nYou can do this using `response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache, no-store&quot;);`\r\n\r\nyou can also add a query string to the link (see [this post][2]) For example you can use `./design.css?v=1` initially while changing the references to `./design.css?v=1` the next time you update `design.css`. You can dynamically change the numbers\r\n\r\n  [1]: https://stackoverflow.com/questions/23943258/how-to-disable-web-page-cache-throughout-the-servlets\r\n  [2]: https://stackoverflow.com/questions/1922910/force-browser-to-clear-cache","title":"Browser cache files not getting updated after a new deployment in jboss server for a web application","body":"<p>According to <a href=\"https://stackoverflow.com/questions/23943258/how-to-disable-web-page-cache-throughout-the-servlets\">this post</a> you can disable caching by changing the response header.\nYou can do this using <code>response.setHeader(&quot;Cache-Control&quot;, &quot;no-cache, no-store&quot;);</code></p>\n<p>you can also add a query string to the link (see <a href=\"https://stackoverflow.com/questions/1922910/force-browser-to-clear-cache\">this post</a>) For example you can use <code>./design.css?v=1</code> initially while changing the references to <code>./design.css?v=1</code> the next time you update <code>design.css</code>. You can dynamically change the numbers</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556533532,"creation_date":1556533532,"answer_id":55901422,"question_id":55808264,"body_markdown":"You want browser caching of rarely changed files. But sometimes they _do_ change and then you want to trigger browser cache clear. Something like:\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    localStorage.clear();\r\n    &lt;/script&gt;\r\n\r\nHowever the reliable solution is to use versions on the server side:\r\n\r\n    &lt;link type=&quot;text/css&quot; rel=&quot;stylesheet&quot; href=&quot;/css/mystyles-1.01.css&quot;&gt;\r\n\r\n\r\n","title":"Browser cache files not getting updated after a new deployment in jboss server for a web application","body":"<p>You want browser caching of rarely changed files. But sometimes they <em>do</em> change and then you want to trigger browser cache clear. Something like:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nlocalStorage.clear();\n&lt;/script&gt;\n</code></pre>\n\n<p>However the reliable solution is to use versions on the server side:</p>\n\n<pre><code>&lt;link type=\"text/css\" rel=\"stylesheet\" href=\"/css/mystyles-1.01.css\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556625576,"creation_date":1556625164,"answer_id":55920380,"question_id":55808264,"body_markdown":"Since you are using jboss for deploying your application, I guess that your pages are not static.\r\n\r\nA simple solution if you don&#39;t want to mess with `Cache-Control`, would be to append a dynamic &quot;cache bust&quot; next to each resource url. So your resource urls (e.g. inside a `.jsp`) would be something like this:\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;styles.css?_=${cacheBust}&quot;&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;script.js?_=${cacheBust}&quot;&gt;\r\n\r\nNow you need a place to generate a new `cacheBust` value on each deployment/redeployment. This could be: \r\n\r\nan `HttpServlet` loaded on startup:\r\n\r\n    @WebServlet(loadOnStartup = 1) \r\n    public class InitServlet extends HttpServlet {\r\n        @Override\r\n        public void init() throws ServletException {\r\n            super.init();\r\n            getServletContext().setAttribute(&quot;cacheBust&quot;, UUID.randomUUID().toString());\r\n        }\r\n    \r\n    }\r\n\r\nor a `ServletContextListener`\r\n\r\n    @WebListener\r\n    public class InitListener implements ServletContextListener {\r\n    \r\n        @Override\r\n        public void contextInitialized(ServletContextEvent sce) {\r\n            sce.getServletContext().setAttribute(&quot;cacheBust&quot;, UUID.randomUUID().toString());\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent sce) {\r\n        }\r\n    \r\n    }","title":"Browser cache files not getting updated after a new deployment in jboss server for a web application","body":"<p>Since you are using jboss for deploying your application, I guess that your pages are not static.</p>\n\n<p>A simple solution if you don't want to mess with <code>Cache-Control</code>, would be to append a dynamic \"cache bust\" next to each resource url. So your resource urls (e.g. inside a <code>.jsp</code>) would be something like this:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"styles.css?_=${cacheBust}\"&gt;\n&lt;script type=\"text/javascript\" src=\"script.js?_=${cacheBust}\"&gt;\n</code></pre>\n\n<p>Now you need a place to generate a new <code>cacheBust</code> value on each deployment/redeployment. This could be: </p>\n\n<p>an <code>HttpServlet</code> loaded on startup:</p>\n\n<pre><code>@WebServlet(loadOnStartup = 1) \npublic class InitServlet extends HttpServlet {\n    @Override\n    public void init() throws ServletException {\n        super.init();\n        getServletContext().setAttribute(\"cacheBust\", UUID.randomUUID().toString());\n    }\n\n}\n</code></pre>\n\n<p>or a <code>ServletContextListener</code></p>\n\n<pre><code>@WebListener\npublic class InitListener implements ServletContextListener {\n\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        sce.getServletContext().setAttribute(\"cacheBust\", UUID.randomUUID().toString());\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent sce) {\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1321359,"reputation":536,"user_id":1267120,"accept_rate":42,"display_name":"siva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1739,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1638953776,"creation_date":1556012107,"question_id":55808264,"body_markdown":"I am using jboss Server 7.1.1 for deploying a java web application. \r\nFor js, css, font files the browser cache is not getting updated with new changes. Every time we insist the clients to clear cache in their browsers to get the new changes to effect.\r\n\r\nis there any configuration which i can configure, so that when a new code is deployed i can guide all the request to be provided with the updated file ? \r\n\r\nby googling on this topic i find that, we can write custom methods to set e-tag value. is there any configuration which can help me doing it?  \r\n\r\nmost of the time we do a hot deploy (upload the war file in jboss management console with out down time). so i doubt whether the custom e-tag will be updated or not during hot deployment as we configure it on server startup.\r\n\r\nor is there a way to handle it in web application&#39;s web.xml file ? \r\n \r\nI need a solution which can use browser cache till next deployment happens for js, css and font files. i don&#39;t what to set &quot;expires&quot; header. because we don&#39;t have fixed deployment cycles. \r\n\r\nLet me know if you need more info to arrive at a solution.","title":"Browser cache files not getting updated after a new deployment in jboss server for a web application","body":"<p>I am using jboss Server 7.1.1 for deploying a java web application. \nFor js, css, font files the browser cache is not getting updated with new changes. Every time we insist the clients to clear cache in their browsers to get the new changes to effect.</p>\n\n<p>is there any configuration which i can configure, so that when a new code is deployed i can guide all the request to be provided with the updated file ? </p>\n\n<p>by googling on this topic i find that, we can write custom methods to set e-tag value. is there any configuration which can help me doing it?  </p>\n\n<p>most of the time we do a hot deploy (upload the war file in jboss management console with out down time). so i doubt whether the custom e-tag will be updated or not during hot deployment as we configure it on server startup.</p>\n\n<p>or is there a way to handle it in web application's web.xml file ? </p>\n\n<p>I need a solution which can use browser cache till next deployment happens for js, css and font files. i don't what to set \"expires\" header. because we don't have fixed deployment cycles. </p>\n\n<p>Let me know if you need more info to arrive at a solution.</p>\n"},{"tags":["java","oauth-2.0"],"comments":[{"owner":{"account_id":4073057,"reputation":3037,"user_id":3441063,"display_name":"Vlad Bochenin"},"score":0,"creation_date":1502727506,"post_id":45678609,"comment_id":78315214,"body_markdown":"Have you seen this: https://developers.google.com/gmail/api/quickstart/java","body":"Have you seen this: <a href=\"https://developers.google.com/gmail/api/quickstart/java\" rel=\"nofollow noreferrer\">developers.google.com/gmail/api/quickstart/java</a>"},{"owner":{"account_id":1284351,"reputation":712,"user_id":1237748,"display_name":"CarpeTempus_"},"score":1,"creation_date":1502786412,"post_id":45678609,"comment_id":78336249,"body_markdown":"@VladBochenin thanks for your comment. Yes, I&#39;ve seen this, but the problem with this example is, that &quot;public static Credential authorize()&quot; prints to the commandline only instead of returning the url to redirect the user. I don&#39;t know but as fas as I understand I can&#39;t use the code for a web application..","body":"@VladBochenin thanks for your comment. Yes, I&#39;ve seen this, but the problem with this example is, that &quot;public static Credential authorize()&quot; prints to the commandline only instead of returning the url to redirect the user. I don&#39;t know but as fas as I understand I can&#39;t use the code for a web application.."}],"answers":[{"tags":[],"owner":{"account_id":2647423,"reputation":690,"user_id":2289827,"display_name":"arnoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638953587,"creation_date":1638953587,"answer_id":70272241,"question_id":45678609,"body_markdown":"I&#39;ve tried to make a contribution to the Gmail Quickstart Guides.  I think the path of least resistance would be to just copy what I have here.  \r\n\r\nAssuming that you have your secrets handy, and you have already obtained a refresh_token in a previous authorization process.  You can try this out.  \r\n\r\n```java\r\n\r\n    /**\r\n     * Assuming the user of this application has already obtained an refresh_token, this will create a Credential object\r\n     * using the provided secrets and the provided refresh_token.\r\n     *\r\n     * @param refreshToken   Refresh Token obtained in previous authorization process\r\n     * @param HTTP_TRANSPORT The network HTTP Transport.\r\n     * @return An authorized Credential object.\r\n     * @throws IOException If the credentials.json file cannot be found.\r\n     */\r\n    private static Credential getCredentials(final String refreshToken, final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n        GoogleClientSecrets clientSecrets = getGoogleClientSecrets();\r\n\r\n        return new GoogleCredential.Builder()\r\n                .setJsonFactory(JSON_FACTORY)\r\n                .setTransport(HTTP_TRANSPORT)\r\n                .setClientSecrets(clientSecrets)\r\n                .build().setRefreshToken(refreshToken);\r\n    }\r\n```\r\n\r\n\r\nFull: GmailQuickstart.java\r\n```java \r\n// Copyright 2018 Google LLC\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\n\r\n// [START gmail_quickstart]\r\nimport com.google.api.client.auth.oauth2.Credential;\r\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\r\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\r\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\nimport com.google.api.client.http.javanet.NetHttpTransport;\r\nimport com.google.api.client.json.JsonFactory;\r\nimport com.google.api.client.json.jackson2.JacksonFactory;\r\nimport com.google.api.client.util.store.FileDataStoreFactory;\r\nimport com.google.api.services.gmail.Gmail;\r\nimport com.google.api.services.gmail.GmailScopes;\r\nimport com.google.api.services.gmail.model.Label;\r\nimport com.google.api.services.gmail.model.ListLabelsResponse;\r\n\r\nimport java.io.*;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class GmailQuickstart {\r\n    private static final String APPLICATION_NAME = &quot;Gmail API Java Quickstart&quot;;\r\n    private static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n    private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\r\n\r\n    /**\r\n     * Global instance of the scopes required by this quickstart.\r\n     * If modifying these scopes, delete your previously saved tokens/ folder.\r\n     */\r\n    private static final List&lt;String&gt; SCOPES = Collections.singletonList(GmailScopes.GMAIL_LABELS);\r\n    private static final String CREDENTIALS_FILE_PATH = &quot;credentials.json&quot;;\r\n\r\n    private static GoogleClientSecrets getGoogleClientSecrets() throws IOException {\r\n        // Load client secrets.\r\n        File credentialJson = new File(CREDENTIALS_FILE_PATH);\r\n        if (!credentialJson.exists()) {\r\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n        }\r\n        return GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(new FileInputStream(credentialJson)));\r\n    }\r\n    /**\r\n     * Launches a small local server on 8888 which facilitates the authorization process from scratch.  In turn creates\r\n     * an authorized Credential object when the user proceeds with the authorization.\r\n     *\r\n     * @param HTTP_TRANSPORT The network HTTP Transport.\r\n     * @return An authorized Credential object.\r\n     * @throws IOException If the credentials.json file cannot be found.\r\n     */\r\n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n        // Load client secrets.\r\n        GoogleClientSecrets clientSecrets = getGoogleClientSecrets();\r\n\r\n        // Build flow and trigger user authorization request.\r\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                .setAccessType(&quot;offline&quot;)\r\n                .build();\r\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n        return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n    }\r\n\r\n    /**\r\n     * Assuming the user of this application already has an refresh_token handy, this will create a Credential object\r\n     * using the provided secrets and the provided refresh_token.\r\n     *\r\n     * @param refreshToken   Refresh Token obtained in previous authorization process\r\n     * @param HTTP_TRANSPORT The network HTTP Transport.\r\n     * @return An authorized Credential object.\r\n     * @throws IOException If the credentials.json file cannot be found.\r\n     */\r\n    private static Credential getCredentials(final String refreshToken, final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n        GoogleClientSecrets clientSecrets = getGoogleClientSecrets();\r\n\r\n        return new GoogleCredential.Builder()\r\n                .setJsonFactory(JSON_FACTORY)\r\n                .setTransport(HTTP_TRANSPORT)\r\n                .setClientSecrets(clientSecrets)\r\n                .build().setRefreshToken(refreshToken);\r\n    }\r\n\r\n\r\n    private static Credential getCredential(NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n        Credential credentials;\r\n        switch (getAuthPreference()) {\r\n            case FULL_AUTH:\r\n                credentials = getCredentials(HTTP_TRANSPORT);\r\n                break;\r\n            case REFRESH_AUTH:\r\n                System.out.print(&quot;please provide refresh_token:&quot;);\r\n                String refreshToken = getUserInput();\r\n                credentials = getCredentials(refreshToken, HTTP_TRANSPORT);\r\n                break;\r\n            default:\r\n                credentials = getCredentials(HTTP_TRANSPORT);\r\n        }\r\n        return credentials;\r\n    }\r\n\r\n    private static WhatToDo getAuthPreference() throws IOException {\r\n        // Enter data using BufferReader\r\n        System.out.println(&quot;You can choose how to authorize your request.&quot;);\r\n        System.out.println(&quot;\\t1) Need to do full authorization&quot;);\r\n        System.out.println(&quot;\\t2) Already have refresh_token handy.  Can provide this next.&quot;);\r\n        String userInput = getUserInput();\r\n        if (userInput.equals(&quot;1&quot;)) {\r\n            return WhatToDo.FULL_AUTH;\r\n        }\r\n        if (userInput.equals(&quot;2&quot;)) {\r\n            return WhatToDo.REFRESH_AUTH;\r\n        }\r\n        System.err.println(&quot;Your Input was incorrect! &quot;);\r\n        return getAuthPreference();\r\n    }\r\n\r\n    private static String getUserInput() throws IOException {\r\n        BufferedReader reader = new BufferedReader(\r\n                new InputStreamReader(System.in));\r\n        // Reading data using readLine\r\n        String userInput = reader.readLine();\r\n        return userInput;\r\n    }\r\n\r\n    enum WhatToDo {\r\n        FULL_AUTH,\r\n        REFRESH_AUTH\r\n    }\r\n\r\n    public static void main(String... args) throws IOException, GeneralSecurityException {\r\n        // Build a new authorized API client service.\r\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n        Gmail service = new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredential(HTTP_TRANSPORT))\r\n                .setApplicationName(APPLICATION_NAME)\r\n                .build();\r\n\r\n        // Print the labels in the user&#39;s account.\r\n        String user = &quot;me&quot;;\r\n        ListLabelsResponse listResponse = service.users().labels().list(user).execute();\r\n        List&lt;Label&gt; labels = listResponse.getLabels();\r\n        if (labels.isEmpty()) {\r\n            System.out.println(&quot;No labels found.&quot;);\r\n        } else {\r\n            System.out.println(&quot;Labels:&quot;);\r\n            for (Label label : labels) {\r\n                System.out.printf(&quot;- %s\\n&quot;, label.getName());\r\n            }\r\n        }\r\n    }\r\n}\r\n// [END gmail_quickstart]\r\n\r\n```","title":"Where are OAuth 2.0 with Gmail for Server-Side Authorization examples for Java?","body":"<p>I've tried to make a contribution to the Gmail Quickstart Guides.  I think the path of least resistance would be to just copy what I have here.</p>\n<p>Assuming that you have your secrets handy, and you have already obtained a refresh_token in a previous authorization process.  You can try this out.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    /**\n     * Assuming the user of this application has already obtained an refresh_token, this will create a Credential object\n     * using the provided secrets and the provided refresh_token.\n     *\n     * @param refreshToken   Refresh Token obtained in previous authorization process\n     * @param HTTP_TRANSPORT The network HTTP Transport.\n     * @return An authorized Credential object.\n     * @throws IOException If the credentials.json file cannot be found.\n     */\n    private static Credential getCredentials(final String refreshToken, final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n        GoogleClientSecrets clientSecrets = getGoogleClientSecrets();\n\n        return new GoogleCredential.Builder()\n                .setJsonFactory(JSON_FACTORY)\n                .setTransport(HTTP_TRANSPORT)\n                .setClientSecrets(clientSecrets)\n                .build().setRefreshToken(refreshToken);\n    }\n</code></pre>\n<p>Full: GmailQuickstart.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Copyright 2018 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n// [START gmail_quickstart]\nimport com.google.api.client.auth.oauth2.Credential;\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleCredential;\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.client.util.store.FileDataStoreFactory;\nimport com.google.api.services.gmail.Gmail;\nimport com.google.api.services.gmail.GmailScopes;\nimport com.google.api.services.gmail.model.Label;\nimport com.google.api.services.gmail.model.ListLabelsResponse;\n\nimport java.io.*;\nimport java.security.GeneralSecurityException;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class GmailQuickstart {\n    private static final String APPLICATION_NAME = &quot;Gmail API Java Quickstart&quot;;\n    private static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n    private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\n\n    /**\n     * Global instance of the scopes required by this quickstart.\n     * If modifying these scopes, delete your previously saved tokens/ folder.\n     */\n    private static final List&lt;String&gt; SCOPES = Collections.singletonList(GmailScopes.GMAIL_LABELS);\n    private static final String CREDENTIALS_FILE_PATH = &quot;credentials.json&quot;;\n\n    private static GoogleClientSecrets getGoogleClientSecrets() throws IOException {\n        // Load client secrets.\n        File credentialJson = new File(CREDENTIALS_FILE_PATH);\n        if (!credentialJson.exists()) {\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n        }\n        return GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(new FileInputStream(credentialJson)));\n    }\n    /**\n     * Launches a small local server on 8888 which facilitates the authorization process from scratch.  In turn creates\n     * an authorized Credential object when the user proceeds with the authorization.\n     *\n     * @param HTTP_TRANSPORT The network HTTP Transport.\n     * @return An authorized Credential object.\n     * @throws IOException If the credentials.json file cannot be found.\n     */\n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n        // Load client secrets.\n        GoogleClientSecrets clientSecrets = getGoogleClientSecrets();\n\n        // Build flow and trigger user authorization request.\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(&quot;offline&quot;)\n                .build();\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n        return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n    }\n\n    /**\n     * Assuming the user of this application already has an refresh_token handy, this will create a Credential object\n     * using the provided secrets and the provided refresh_token.\n     *\n     * @param refreshToken   Refresh Token obtained in previous authorization process\n     * @param HTTP_TRANSPORT The network HTTP Transport.\n     * @return An authorized Credential object.\n     * @throws IOException If the credentials.json file cannot be found.\n     */\n    private static Credential getCredentials(final String refreshToken, final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n        GoogleClientSecrets clientSecrets = getGoogleClientSecrets();\n\n        return new GoogleCredential.Builder()\n                .setJsonFactory(JSON_FACTORY)\n                .setTransport(HTTP_TRANSPORT)\n                .setClientSecrets(clientSecrets)\n                .build().setRefreshToken(refreshToken);\n    }\n\n\n    private static Credential getCredential(NetHttpTransport HTTP_TRANSPORT) throws IOException {\n        Credential credentials;\n        switch (getAuthPreference()) {\n            case FULL_AUTH:\n                credentials = getCredentials(HTTP_TRANSPORT);\n                break;\n            case REFRESH_AUTH:\n                System.out.print(&quot;please provide refresh_token:&quot;);\n                String refreshToken = getUserInput();\n                credentials = getCredentials(refreshToken, HTTP_TRANSPORT);\n                break;\n            default:\n                credentials = getCredentials(HTTP_TRANSPORT);\n        }\n        return credentials;\n    }\n\n    private static WhatToDo getAuthPreference() throws IOException {\n        // Enter data using BufferReader\n        System.out.println(&quot;You can choose how to authorize your request.&quot;);\n        System.out.println(&quot;\\t1) Need to do full authorization&quot;);\n        System.out.println(&quot;\\t2) Already have refresh_token handy.  Can provide this next.&quot;);\n        String userInput = getUserInput();\n        if (userInput.equals(&quot;1&quot;)) {\n            return WhatToDo.FULL_AUTH;\n        }\n        if (userInput.equals(&quot;2&quot;)) {\n            return WhatToDo.REFRESH_AUTH;\n        }\n        System.err.println(&quot;Your Input was incorrect! &quot;);\n        return getAuthPreference();\n    }\n\n    private static String getUserInput() throws IOException {\n        BufferedReader reader = new BufferedReader(\n                new InputStreamReader(System.in));\n        // Reading data using readLine\n        String userInput = reader.readLine();\n        return userInput;\n    }\n\n    enum WhatToDo {\n        FULL_AUTH,\n        REFRESH_AUTH\n    }\n\n    public static void main(String... args) throws IOException, GeneralSecurityException {\n        // Build a new authorized API client service.\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n        Gmail service = new Gmail.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredential(HTTP_TRANSPORT))\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n\n        // Print the labels in the user's account.\n        String user = &quot;me&quot;;\n        ListLabelsResponse listResponse = service.users().labels().list(user).execute();\n        List&lt;Label&gt; labels = listResponse.getLabels();\n        if (labels.isEmpty()) {\n            System.out.println(&quot;No labels found.&quot;);\n        } else {\n            System.out.println(&quot;Labels:&quot;);\n            for (Label label : labels) {\n                System.out.printf(&quot;- %s\\n&quot;, label.getName());\n            }\n        }\n    }\n}\n// [END gmail_quickstart]\n\n</code></pre>\n"}],"owner":{"account_id":1284351,"reputation":712,"user_id":1237748,"display_name":"CarpeTempus_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1638953587,"creation_date":1502726786,"question_id":45678609,"body_markdown":"I need to implement OAuth2 for a web application written in Java to access Gmail. Unfortunately Google&#39;s documentation has only a Python example regarding this topic:\r\nhttps://developers.google.com/gmail/api/auth/web-server\r\n\r\nI&#39;ve googled now for hours and could not find a good example which explains the topic - I&#39;m new to OAuth2 and therefore a step-by-step example in Java would be very useful.\r\n\r\nThanks in advance :)","title":"Where are OAuth 2.0 with Gmail for Server-Side Authorization examples for Java?","body":"<p>I need to implement OAuth2 for a web application written in Java to access Gmail. Unfortunately Google's documentation has only a Python example regarding this topic:\n<a href=\"https://developers.google.com/gmail/api/auth/web-server\" rel=\"noreferrer\">https://developers.google.com/gmail/api/auth/web-server</a></p>\n\n<p>I've googled now for hours and could not find a good example which explains the topic - I'm new to OAuth2 and therefore a step-by-step example in Java would be very useful.</p>\n\n<p>Thanks in advance :)</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1661385611,"post_id":4299728,"comment_id":129762524,"body_markdown":"After seeing all the responses, and reading https://www.baeldung.com/java-merge-maps it seems like there is no clean way to do this with lambdas. Disappointing.","body":"After seeing all the responses, and reading <a href=\"https://www.baeldung.com/java-merge-maps\" rel=\"nofollow noreferrer\">baeldung.com/java-merge-maps</a> it seems like there is no clean way to do this with lambdas. Disappointing."}],"answers":[{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1293631748,"creation_date":1290986741,"answer_id":4299737,"question_id":4299728,"body_markdown":"You could use [Collection.addAll()][1] for other types, e.g. `List`, `Set`, etc. For `Map`, you can use `putAll`.\r\n\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Collection.html#addAll(java.util.Collection)","title":"How can I combine two HashMap objects containing the same types?","body":"<p>You could use <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Collection.html#addAll(java.util.Collection)\" rel=\"noreferrer\">Collection.addAll()</a> for other types, e.g. <code>List</code>, <code>Set</code>, etc. For <code>Map</code>, you can use <code>putAll</code>.</p>\n"},{"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1321362567,"creation_date":1290986752,"answer_id":4299739,"question_id":4299728,"body_markdown":"HashMap has a `putAll` method.\r\n\r\nhttp://download.oracle.com/javase/6/docs/api/java/util/HashMap.html","title":"How can I combine two HashMap objects containing the same types?","body":"<p>HashMap has a <code>putAll</code> method.</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html</a></p>\n"},{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":7,"up_vote_count":428,"is_accepted":false,"score":421,"last_activity_date":1470171103,"creation_date":1290986803,"answer_id":4299742,"question_id":4299728,"body_markdown":"    map3 = new HashMap&lt;&gt;();\r\n   \r\n    map3.putAll(map1);\r\n    map3.putAll(map2);\r\n","title":"How can I combine two HashMap objects containing the same types?","body":"<pre><code>map3 = new HashMap&lt;&gt;();\n\nmap3.putAll(map1);\nmap3.putAll(map2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz RoÅ¼niecki"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1319646502,"creation_date":1319646502,"answer_id":7905763,"question_id":4299728,"body_markdown":"If you don&#39;t need mutability for your final map, there is [Guava&#39;s](http://code.google.com/p/guava-libraries/) [`ImmutableMap`](http://docs.guava-libraries.googlecode.com/git-history/v10.0.1/javadoc/com/google/common/collect/ImmutableMap.html) with its [`Builder`](http://docs.guava-libraries.googlecode.com/git-history/v10.0.1/javadoc/com/google/common/collect/ImmutableMap.Builder.html) and [`putAll` method](http://docs.guava-libraries.googlecode.com/git-history/v10.0.1/javadoc/com/google/common/collect/ImmutableMap.Builder.html#putAll(java.util.Map)) which, in contrast to [Java&#39;s `Map` interface method](http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html#putAll(java.util.Map)), can be chained.\r\n\r\nExample of use:\r\n\r\n    Map&lt;String, Integer&gt; mergeMyTwoMaps(Map&lt;String, Integer&gt; map1, Map&lt;String, Integer&gt; map2) {\r\n      return ImmutableMap.&lt;String, Integer&gt;builder()\r\n          .putAll(map1)\r\n          .putAll(map2)\r\n          .build();\r\n    }\r\n\r\nOf course, this method can be more generic, use varargs and loop to `putAll` `Maps` from arguments etc. but I wanted to show a concept.\r\n\r\nAlso, `ImmutableMap` and its `Builder` have few limitations (or maybe features?):\r\n\r\n- they are null hostile (throw `NullPointerException` - if any key or value in map is null)\r\n- Builder don&#39;t accept duplicate keys (throws `IllegalArgumentException` if duplicate keys were added).","title":"How can I combine two HashMap objects containing the same types?","body":"<p>If you don't need mutability for your final map, there is <a href=\"http://code.google.com/p/guava-libraries/\">Guava's</a> <a href=\"http://docs.guava-libraries.googlecode.com/git-history/v10.0.1/javadoc/com/google/common/collect/ImmutableMap.html\"><code>ImmutableMap</code></a> with its <a href=\"http://docs.guava-libraries.googlecode.com/git-history/v10.0.1/javadoc/com/google/common/collect/ImmutableMap.Builder.html\"><code>Builder</code></a> and <a href=\"http://docs.guava-libraries.googlecode.com/git-history/v10.0.1/javadoc/com/google/common/collect/ImmutableMap.Builder.html#putAll%28java.util.Map%29\"><code>putAll</code> method</a> which, in contrast to <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Map.html#putAll%28java.util.Map%29\">Java's <code>Map</code> interface method</a>, can be chained.</p>\n\n<p>Example of use:</p>\n\n<pre><code>Map&lt;String, Integer&gt; mergeMyTwoMaps(Map&lt;String, Integer&gt; map1, Map&lt;String, Integer&gt; map2) {\n  return ImmutableMap.&lt;String, Integer&gt;builder()\n      .putAll(map1)\n      .putAll(map2)\n      .build();\n}\n</code></pre>\n\n<p>Of course, this method can be more generic, use varargs and loop to <code>putAll</code> <code>Maps</code> from arguments etc. but I wanted to show a concept.</p>\n\n<p>Also, <code>ImmutableMap</code> and its <code>Builder</code> have few limitations (or maybe features?):</p>\n\n<ul>\n<li>they are null hostile (throw <code>NullPointerException</code> - if any key or value in map is null)</li>\n<li>Builder don't accept duplicate keys (throws <code>IllegalArgumentException</code> if duplicate keys were added).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"down_vote_count":0,"up_vote_count":127,"is_accepted":false,"score":127,"last_activity_date":1425914015,"creation_date":1411262583,"answer_id":25954862,"question_id":4299728,"body_markdown":"If you know you don&#39;t have duplicate keys, or you want values in `map2` to overwrite values from `map1` for duplicate keys, you can just write\r\n\r\n    map3 = new HashMap&lt;&gt;(map1);\r\n    map3.putAll(map2);\r\n\r\nIf you need more control over how values are combined, you can use [`Map.merge`](http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-), added in Java 8, which uses a user-provided `BiFunction` to merge values for duplicate keys.  `merge` operates on individual keys and values, so you&#39;ll need to use a loop or `Map.forEach`.  Here we concatenate strings for duplicate keys:\r\n\r\n    map3 = new HashMap&lt;&gt;(map1);\r\n    for (Map.Entry&lt;String, String&gt; e : map2.entrySet())\r\n        map3.merge(e.getKey(), e.getValue(), String::concat);\r\n    //or instead of the above loop\r\n    map2.forEach((k, v) -&gt; map3.merge(k, v, String::concat));\r\n\r\nIf you know you don&#39;t have duplicate keys and want to enforce it, you can use a merge function that throws an `AssertionError`:\r\n\r\n    map2.forEach((k, v) -&gt;\r\n        map3.merge(k, v, (v1, v2) -&gt;\r\n            {throw new AssertionError(&quot;duplicate values for key: &quot;+k);}));\r\n\r\nTaking a step back from this specific question, the Java 8 streams library provides `toMap` and `groupingBy` [Collectors](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html).  If you&#39;re repeatedly merging maps in a loop, you may be able to restructure your computation to use streams, which can both clarify your code and enable easy parallelism using a parallel stream and concurrent collector.","title":"How can I combine two HashMap objects containing the same types?","body":"<p>If you know you don't have duplicate keys, or you want values in <code>map2</code> to overwrite values from <code>map1</code> for duplicate keys, you can just write</p>\n\n<pre><code>map3 = new HashMap&lt;&gt;(map1);\nmap3.putAll(map2);\n</code></pre>\n\n<p>If you need more control over how values are combined, you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\" rel=\"noreferrer\"><code>Map.merge</code></a>, added in Java 8, which uses a user-provided <code>BiFunction</code> to merge values for duplicate keys.  <code>merge</code> operates on individual keys and values, so you'll need to use a loop or <code>Map.forEach</code>.  Here we concatenate strings for duplicate keys:</p>\n\n<pre><code>map3 = new HashMap&lt;&gt;(map1);\nfor (Map.Entry&lt;String, String&gt; e : map2.entrySet())\n    map3.merge(e.getKey(), e.getValue(), String::concat);\n//or instead of the above loop\nmap2.forEach((k, v) -&gt; map3.merge(k, v, String::concat));\n</code></pre>\n\n<p>If you know you don't have duplicate keys and want to enforce it, you can use a merge function that throws an <code>AssertionError</code>:</p>\n\n<pre><code>map2.forEach((k, v) -&gt;\n    map3.merge(k, v, (v1, v2) -&gt;\n        {throw new AssertionError(\"duplicate values for key: \"+k);}));\n</code></pre>\n\n<p>Taking a step back from this specific question, the Java 8 streams library provides <code>toMap</code> and <code>groupingBy</code> <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"noreferrer\">Collectors</a>.  If you're repeatedly merging maps in a loop, you may be able to restructure your computation to use streams, which can both clarify your code and enable easy parallelism using a parallel stream and concurrent collector.</p>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1517943632,"creation_date":1438334547,"answer_id":31742590,"question_id":4299728,"body_markdown":"Java 8 alternative one-liner for merging two maps:\r\n\r\n    defaultMap.forEach((k, v) -&gt; destMap.putIfAbsent(k, v));\r\n\r\nThe same with method reference:\r\n\r\n    defaultMap.forEach(destMap::putIfAbsent);\r\n\r\nOr idemponent for original maps solution with third map:\r\n\r\n    Map&lt;String, Integer&gt; map3 = new HashMap&lt;String, Integer&gt;(map2);\r\n    map1.forEach(map3::putIfAbsent);\r\n\r\nAnd here is a way to merge two maps into fast immutable one with [Guava][1] that does least possible intermediate copy operations:\r\n\r\n    ImmutableMap.Builder&lt;String, Integer&gt; builder = ImmutableMap.&lt;String, Integer&gt;builder();\r\n    builder.putAll(map1);\r\n    map2.forEach((k, v) -&gt; {if (!map1.containsKey(k)) builder.put(k, v);});\r\n    ImmutableMap&lt;String, Integer&gt; map3 = builder.build();\r\n\r\nSee also https://stackoverflow.com/questions/40158605/merge-two-maps-with-java-8 for cases when values present in both maps need to be combined with mapping function.\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/wiki/ImmutableCollectionsExplained\r\n","title":"How can I combine two HashMap objects containing the same types?","body":"<p>Java 8 alternative one-liner for merging two maps:</p>\n\n<pre><code>defaultMap.forEach((k, v) -&gt; destMap.putIfAbsent(k, v));\n</code></pre>\n\n<p>The same with method reference:</p>\n\n<pre><code>defaultMap.forEach(destMap::putIfAbsent);\n</code></pre>\n\n<p>Or idemponent for original maps solution with third map:</p>\n\n<pre><code>Map&lt;String, Integer&gt; map3 = new HashMap&lt;String, Integer&gt;(map2);\nmap1.forEach(map3::putIfAbsent);\n</code></pre>\n\n<p>And here is a way to merge two maps into fast immutable one with <a href=\"https://code.google.com/p/guava-libraries/wiki/ImmutableCollectionsExplained\" rel=\"noreferrer\">Guava</a> that does least possible intermediate copy operations:</p>\n\n<pre><code>ImmutableMap.Builder&lt;String, Integer&gt; builder = ImmutableMap.&lt;String, Integer&gt;builder();\nbuilder.putAll(map1);\nmap2.forEach((k, v) -&gt; {if (!map1.containsKey(k)) builder.put(k, v);});\nImmutableMap&lt;String, Integer&gt; map3 = builder.build();\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/40158605/merge-two-maps-with-java-8\">Merge two maps with Java 8</a> for cases when values present in both maps need to be combined with mapping function.</p>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111646,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1455572512,"creation_date":1455572512,"answer_id":35419622,"question_id":4299728,"body_markdown":"One-liner using Java 8 Stream API:\r\n\r\n    map3 = Stream.of(map1, map2).flatMap(m -&gt; m.entrySet().stream())\r\n           .collect(Collectors.toMap(Entry::getKey, Entry::getValue))\r\nAmong the benefits of this method is ability to pass a merge function, which will deal with values that have the same key, for example:\r\n\r\n    map3 = Stream.of(map1, map2).flatMap(m -&gt; m.entrySet().stream())\r\n           .collect(Collectors.toMap(Entry::getKey, Entry::getValue, Math::max))\r\n                                            ","title":"How can I combine two HashMap objects containing the same types?","body":"<p>One-liner using Java 8 Stream API:</p>\n\n<pre><code>map3 = Stream.of(map1, map2).flatMap(m -&gt; m.entrySet().stream())\n       .collect(Collectors.toMap(Entry::getKey, Entry::getValue))\n</code></pre>\n\n<p>Among the benefits of this method is ability to pass a merge function, which will deal with values that have the same key, for example:</p>\n\n<pre><code>map3 = Stream.of(map1, map2).flatMap(m -&gt; m.entrySet().stream())\n       .collect(Collectors.toMap(Entry::getKey, Entry::getValue, Math::max))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3011114,"reputation":1412,"user_id":2554622,"display_name":"Ashish Shetkar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1458109492,"creation_date":1458032471,"answer_id":36006616,"question_id":4299728,"body_markdown":"you can use  - addAll method \r\n\r\nhttp://download.oracle.com/javase/6/docs/api/java/util/HashMap.html\r\n\r\nBut there is always this issue that - if your two hash maps have any key same - then it will override the value of the key from first hash map with the value of the key from second hash map. \r\n\r\nFor being on safer side - change the key values - you can use prefix or suffix on the keys - ( different prefix/suffix for first hash map and different prefix/suffix for second hash map ) ","title":"How can I combine two HashMap objects containing the same types?","body":"<p>you can use  - addAll method </p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"nofollow\">http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html</a></p>\n\n<p>But there is always this issue that - if your two hash maps have any key same - then it will override the value of the key from first hash map with the value of the key from second hash map. </p>\n\n<p>For being on safer side - change the key values - you can use prefix or suffix on the keys - ( different prefix/suffix for first hash map and different prefix/suffix for second hash map ) </p>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1485952689,"creation_date":1485952689,"answer_id":41980046,"question_id":4299728,"body_markdown":"Generic solution for combining two maps which can possibly share common keys:\r\n\r\nIn-place:\r\n\r\n    public static &lt;K, V&gt; void mergeInPlace(Map&lt;K, V&gt; map1, Map&lt;K, V&gt; map2,\r\n            BinaryOperator&lt;V&gt; combiner) {\r\n        map2.forEach((k, v) -&gt; map1.merge(k, v, combiner::apply));\r\n    }\r\n\r\nReturning a new map:\r\n\r\n    public static &lt;K, V&gt; Map&lt;K, V&gt; merge(Map&lt;K, V&gt; map1, Map&lt;K, V&gt; map2,\r\n            BinaryOperator&lt;V&gt; combiner) {\r\n        Map&lt;K, V&gt; map3 = new HashMap&lt;&gt;(map1);\r\n        map2.forEach((k, v) -&gt; map3.merge(k, v, combiner::apply));\r\n        return map3;\r\n    }\r\n\r\n","title":"How can I combine two HashMap objects containing the same types?","body":"<p>Generic solution for combining two maps which can possibly share common keys:</p>\n\n<p>In-place:</p>\n\n<pre><code>public static &lt;K, V&gt; void mergeInPlace(Map&lt;K, V&gt; map1, Map&lt;K, V&gt; map2,\n        BinaryOperator&lt;V&gt; combiner) {\n    map2.forEach((k, v) -&gt; map1.merge(k, v, combiner::apply));\n}\n</code></pre>\n\n<p>Returning a new map:</p>\n\n<pre><code>public static &lt;K, V&gt; Map&lt;K, V&gt; merge(Map&lt;K, V&gt; map1, Map&lt;K, V&gt; map2,\n        BinaryOperator&lt;V&gt; combiner) {\n    Map&lt;K, V&gt; map3 = new HashMap&lt;&gt;(map1);\n    map2.forEach((k, v) -&gt; map3.merge(k, v, combiner::apply));\n    return map3;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538165901,"creation_date":1538165901,"answer_id":52562158,"question_id":4299728,"body_markdown":"A small snippet I use very often to create map from other maps:\r\n\r\n    static public &lt;K, V&gt; Map&lt;K, V&gt; merge(Map&lt;K, V&gt;... args) {\r\n        final Map&lt;K, V&gt; buffer = new HashMap&lt;&gt;();\r\n\r\n        for (Map m : args) {\r\n            buffer.putAll(m);\r\n        }\r\n\r\n        return buffer;\r\n    }\r\n","title":"How can I combine two HashMap objects containing the same types?","body":"<p>A small snippet I use very often to create map from other maps:</p>\n\n<pre><code>static public &lt;K, V&gt; Map&lt;K, V&gt; merge(Map&lt;K, V&gt;... args) {\n    final Map&lt;K, V&gt; buffer = new HashMap&lt;&gt;();\n\n    for (Map m : args) {\n        buffer.putAll(m);\n    }\n\n    return buffer;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10987274,"reputation":76,"user_id":9444257,"display_name":"Omer Vishlitzky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538499079,"creation_date":1538294226,"answer_id":52575872,"question_id":4299728,"body_markdown":"you can use `HashMap&lt;String, List&lt;Integer&gt;&gt;` to merge both hashmaps and avoid losing elements paired with the same key.\r\n\r\n    HashMap&lt;String, Integer&gt; map1 = new HashMap&lt;&gt;();\r\n    HashMap&lt;String, Integer&gt; map2 = new HashMap&lt;&gt;();\r\n    map1.put(&quot;key1&quot;, 1);\r\n    map1.put(&quot;key2&quot;, 2);\r\n    map1.put(&quot;key3&quot;, 3);\r\n    map2.put(&quot;key1&quot;, 4);\r\n    map2.put(&quot;key2&quot;, 5);\r\n    map2.put(&quot;key3&quot;, 6);\r\n    HashMap&lt;String, List&lt;Integer&gt;&gt; map3 = new HashMap&lt;&gt;();\r\n    map1.forEach((str, num) -&gt; map3.put(str, new ArrayList&lt;&gt;(Arrays.asList(num))));\r\n    //checking for each key if its already in the map, and if so, you just add the integer to the list paired with this key\r\n    for (Map.Entry&lt;String, Integer&gt; entry : map2.entrySet()) {\r\n        Integer value = entry.getValue();\r\n        String key = entry.getKey();\r\n        if (map3.containsKey(key)) {\r\n            map3.get(key).add(value);\r\n        } else {\r\n            map3.put(key, new ArrayList&lt;&gt;(Arrays.asList(value)));\r\n        }\r\n    }\r\n    map3.forEach((str, list) -&gt; System.out.println(&quot;{&quot; + str + &quot;: &quot; + list + &quot;}&quot;));\r\n\r\noutput:\r\n\r\n    {key1: [1, 4]}\r\n    {key2: [2, 5]}\r\n    {key3: [3, 6]}\r\n    ","title":"How can I combine two HashMap objects containing the same types?","body":"<p>you can use <code>HashMap&lt;String, List&lt;Integer&gt;&gt;</code> to merge both hashmaps and avoid losing elements paired with the same key.</p>\n\n<pre><code>HashMap&lt;String, Integer&gt; map1 = new HashMap&lt;&gt;();\nHashMap&lt;String, Integer&gt; map2 = new HashMap&lt;&gt;();\nmap1.put(\"key1\", 1);\nmap1.put(\"key2\", 2);\nmap1.put(\"key3\", 3);\nmap2.put(\"key1\", 4);\nmap2.put(\"key2\", 5);\nmap2.put(\"key3\", 6);\nHashMap&lt;String, List&lt;Integer&gt;&gt; map3 = new HashMap&lt;&gt;();\nmap1.forEach((str, num) -&gt; map3.put(str, new ArrayList&lt;&gt;(Arrays.asList(num))));\n//checking for each key if its already in the map, and if so, you just add the integer to the list paired with this key\nfor (Map.Entry&lt;String, Integer&gt; entry : map2.entrySet()) {\n    Integer value = entry.getValue();\n    String key = entry.getKey();\n    if (map3.containsKey(key)) {\n        map3.get(key).add(value);\n    } else {\n        map3.put(key, new ArrayList&lt;&gt;(Arrays.asList(value)));\n    }\n}\nmap3.forEach((str, list) -&gt; System.out.println(\"{\" + str + \": \" + list + \"}\"));\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>{key1: [1, 4]}\n{key2: [2, 5]}\n{key3: [3, 6]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16021799,"reputation":1,"user_id":11563151,"display_name":"Karunesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558972350,"creation_date":1558972350,"answer_id":56329197,"question_id":4299728,"body_markdown":"        HashMap&lt;Integer,String&gt; hs1 = new HashMap&lt;&gt;();\r\n        hs1.put(1,&quot;ram&quot;);\r\n        hs1.put(2,&quot;sita&quot;);\r\n        hs1.put(3,&quot;laxman&quot;);\r\n        hs1.put(4,&quot;hanuman&quot;);\r\n        hs1.put(5,&quot;geeta&quot;);\r\n\r\n        HashMap&lt;Integer,String&gt; hs2 = new HashMap&lt;&gt;();\r\n        hs2.put(5,&quot;rat&quot;);\r\n        hs2.put(6,&quot;lion&quot;);\r\n        hs2.put(7,&quot;tiger&quot;);\r\n        hs2.put(8,&quot;fish&quot;);\r\n        hs2.put(9,&quot;hen&quot;);\r\n       \r\n        HashMap&lt;Integer,String&gt; hs3 = new HashMap&lt;&gt;();//Map is which we add\r\n       \r\n        hs3.putAll(hs1);\r\n        hs3.putAll(hs2);\r\n\r\n        System.out.println(&quot; hs1 : &quot; + hs1);\r\n        System.out.println(&quot; hs2 : &quot; + hs2);\r\n        System.out.println(&quot; hs3 : &quot; + hs3);\r\n\r\nDuplicate items will not be added(that is duplicate keys) as when we will print hs3 we will get only one value for key 5 which will be last value added and it will be rat.\r\n**[Set has a property of not allowing the duplicate key but values can be duplicate]\r\n","title":"How can I combine two HashMap objects containing the same types?","body":"<pre><code>    HashMap&lt;Integer,String&gt; hs1 = new HashMap&lt;&gt;();\n    hs1.put(1,\"ram\");\n    hs1.put(2,\"sita\");\n    hs1.put(3,\"laxman\");\n    hs1.put(4,\"hanuman\");\n    hs1.put(5,\"geeta\");\n\n    HashMap&lt;Integer,String&gt; hs2 = new HashMap&lt;&gt;();\n    hs2.put(5,\"rat\");\n    hs2.put(6,\"lion\");\n    hs2.put(7,\"tiger\");\n    hs2.put(8,\"fish\");\n    hs2.put(9,\"hen\");\n\n    HashMap&lt;Integer,String&gt; hs3 = new HashMap&lt;&gt;();//Map is which we add\n\n    hs3.putAll(hs1);\n    hs3.putAll(hs2);\n\n    System.out.println(\" hs1 : \" + hs1);\n    System.out.println(\" hs2 : \" + hs2);\n    System.out.println(\" hs3 : \" + hs3);\n</code></pre>\n\n<p>Duplicate items will not be added(that is duplicate keys) as when we will print hs3 we will get only one value for key 5 which will be last value added and it will be rat.\n**[Set has a property of not allowing the duplicate key but values can be duplicate]</p>\n"},{"tags":[],"owner":{"account_id":3001627,"reputation":9507,"user_id":2547017,"accept_rate":48,"display_name":"Ishan Bhatt"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1566296243,"creation_date":1566296243,"answer_id":57571437,"question_id":4299728,"body_markdown":"Very late but let me share what I did when I had the same issue.\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; map1 = new HashMap&lt;&gt;();\r\n    map1.put(&quot;India&quot;, Arrays.asList(&quot;Virat&quot;, &quot;Mahi&quot;, &quot;Rohit&quot;));\r\n    map1.put(&quot;NZ&quot;, Arrays.asList(&quot;P1&quot;,&quot;P2&quot;,&quot;P3&quot;));\r\n    \r\n    Map&lt;String, List&lt;String&gt;&gt; map2 = new HashMap&lt;&gt;();\r\n    map2.put(&quot;India&quot;, Arrays.asList(&quot;Virat&quot;, &quot;Mahi&quot;, &quot;Rohit&quot;));\r\n    map2.put(&quot;NZ&quot;, Arrays.asList(&quot;P1&quot;,&quot;P2&quot;,&quot;P4&quot;));\r\n    \r\n    Map&lt;String, List&lt;String&gt;&gt; collect4 = Stream.of(map1, map2)\r\n                    .flatMap(map -&gt; map.entrySet().stream())\r\n                    .collect(\r\n                            Collectors.toMap(\r\n                                    Map.Entry::getKey,\r\n                                    Map.Entry::getValue,\r\n                                    (strings, strings2) -&gt; {\r\n                                        List&lt;String&gt; newList = new ArrayList&lt;&gt;();\r\n                                        newList.addAll(strings);\r\n                                        newList.addAll(strings2);\r\n                                        return newList;\r\n                                    }\r\n                            )\r\n                    );\r\n    collect4.forEach((s, strings) -&gt; System.out.println(s+&quot;-&gt;&quot;+strings));\r\n\r\nIt gives the following output\r\n\r\n    NZ-&gt;[P1, P2, P3, P1, P2, P4]\r\n    India-&gt;[Virat, Mahi, Rohit, Virat, Mahi, Rohit]\r\n\r\n","title":"How can I combine two HashMap objects containing the same types?","body":"<p>Very late but let me share what I did when I had the same issue.</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map1 = new HashMap&lt;&gt;();\nmap1.put(\"India\", Arrays.asList(\"Virat\", \"Mahi\", \"Rohit\"));\nmap1.put(\"NZ\", Arrays.asList(\"P1\",\"P2\",\"P3\"));\n\nMap&lt;String, List&lt;String&gt;&gt; map2 = new HashMap&lt;&gt;();\nmap2.put(\"India\", Arrays.asList(\"Virat\", \"Mahi\", \"Rohit\"));\nmap2.put(\"NZ\", Arrays.asList(\"P1\",\"P2\",\"P4\"));\n\nMap&lt;String, List&lt;String&gt;&gt; collect4 = Stream.of(map1, map2)\n                .flatMap(map -&gt; map.entrySet().stream())\n                .collect(\n                        Collectors.toMap(\n                                Map.Entry::getKey,\n                                Map.Entry::getValue,\n                                (strings, strings2) -&gt; {\n                                    List&lt;String&gt; newList = new ArrayList&lt;&gt;();\n                                    newList.addAll(strings);\n                                    newList.addAll(strings2);\n                                    return newList;\n                                }\n                        )\n                );\ncollect4.forEach((s, strings) -&gt; System.out.println(s+\"-&gt;\"+strings));\n</code></pre>\n\n<p>It gives the following output</p>\n\n<pre><code>NZ-&gt;[P1, P2, P3, P1, P2, P4]\nIndia-&gt;[Virat, Mahi, Rohit, Virat, Mahi, Rohit]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608290392,"creation_date":1566991731,"answer_id":57691368,"question_id":4299728,"body_markdown":"Method 1: Put maps in a List and then join\r\n\r\n\r\n\r\n    public class Test15 {\r\n    public static void main(String[] args) {\r\n    \r\n    \tMap&lt;String, List&lt;String&gt;&gt; map1 = new HashMap&lt;&gt;();\r\n    \tmap1.put(&quot;London&quot;, Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\r\n    \tmap1.put(&quot;Wales&quot;, Arrays.asList(&quot;P1&quot;, &quot;P2&quot;, &quot;P3&quot;));\r\n    \r\n    \tMap&lt;String, List&lt;String&gt;&gt; map2 = new HashMap&lt;&gt;();\r\n    \tmap2.put(&quot;Calcutta&quot;, Arrays.asList(&quot;Protijayi&quot;, &quot;Gina&quot;, &quot;Gini&quot;));\r\n    \tmap2.put(&quot;London&quot;, Arrays.asList( &quot;P4&quot;, &quot;P5&quot;, &quot;P6&quot;));\r\n    \tmap2.put(&quot;Wales&quot;, Arrays.asList( &quot;P111&quot;, &quot;P5555&quot;, &quot;P677666&quot;));\r\n    \t\r\n    \tSystem.out.println(map1);System.out.println(map2);\r\n    \t\r\n    \t\r\n    \t\r\n    \t// put the maps in an ArrayList\r\n    \t\r\n    \tList&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; maplist = new ArrayList&lt;Map&lt;String,List&lt;String&gt;&gt;&gt;();\r\n    \tmaplist.add(map1);\r\n    \tmaplist.add(map2);\r\n    \t/*\r\n    &lt;T,K,U&gt; Collector&lt;T,?,Map&lt;K,U&gt;&gt; toMap(\r\n    \r\n                                      Function&lt;? super T,? extends K&gt; keyMapper,\r\n    \r\n                                      Function&lt;? super T,? extends U&gt; valueMapper,\r\n    \r\n                                      BinaryOperator&lt;U&gt; mergeFunction)\r\n    \t*/\r\n    \t\r\n     Map&lt;String, List&lt;String&gt;&gt; collect = maplist.stream()\r\n    \t.flatMap(ch -&gt; ch.entrySet().stream())\r\n    \t.collect(\r\n    \t\t\tCollectors.toMap(\r\n    \t\t\t\r\n    \t\t\t//keyMapper,\r\n    \t\t\t\r\n    \t\t\tEntry::getKey,\r\n    \t\t\t\r\n    \t\t\t//valueMapper\r\n    \t\t\tEntry::getValue,\r\n    \t\t\t\r\n    \t\t\t// mergeFunction\r\n    \t (list_a,list_b) -&gt; Stream.concat(list_a.stream(), list_b.stream()).collect(Collectors.toList())\r\n    \t\t\t\r\n    \t\t\t));\r\n    \t\r\n    \t\r\n    \t\r\n    \tSystem.out.println(&quot;Final Result(Map after join) =&gt; &quot; + collect);\r\n    \t/*\r\n    \t{Wales=[P1, P2, P3], London=[A, B, C]}\r\n    {Calcutta=[Protijayi, Gina, Gini], Wales=[P111, P5555, P677666], London=[P4, P5, P6]}\r\n    Final Result(Map after join) =&gt; {Calcutta=[Protijayi, Gina, Gini], Wales=[P1, P2, P3, P111, P5555, P677666], London=[A, B, C, P4, P5, P6]}\r\n    */\r\n    \t\r\n    }//main\r\n    \r\n    \r\n    }\r\n   Method 2 : Normal Map merge  \t\r\n\r\n\r\n\r\n    public class Test15 {\r\n    public static void main(String[] args) {\r\n    \r\n    \tMap&lt;String, List&lt;String&gt;&gt; map1 = new HashMap&lt;&gt;();\r\n    \tmap1.put(&quot;London&quot;, Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\r\n    \tmap1.put(&quot;Wales&quot;, Arrays.asList(&quot;P1&quot;, &quot;P2&quot;, &quot;P3&quot;));\r\n    \r\n    \tMap&lt;String, List&lt;String&gt;&gt; map2 = new HashMap&lt;&gt;();\r\n    \tmap2.put(&quot;Calcutta&quot;, Arrays.asList(&quot;Protijayi&quot;, &quot;Gina&quot;, &quot;Gini&quot;));\r\n    \tmap2.put(&quot;London&quot;, Arrays.asList( &quot;P4&quot;, &quot;P5&quot;, &quot;P6&quot;));\r\n    \tmap2.put(&quot;Wales&quot;, Arrays.asList( &quot;P111&quot;, &quot;P5555&quot;, &quot;P677666&quot;));\r\n    \t\r\n    \tSystem.out.println(map1);System.out.println(map2);\r\n    \t\r\n    \t\r\n    \t\r\n    \r\n    \t/*\r\n    &lt;T,K,U&gt; Collector&lt;T,?,Map&lt;K,U&gt;&gt; toMap(\r\n    \r\n                                      Function&lt;? super T,? extends K&gt; keyMapper,\r\n    \r\n                                      Function&lt;? super T,? extends U&gt; valueMapper,\r\n    \r\n                                      BinaryOperator&lt;U&gt; mergeFunction)\r\n    \t*/\r\n    \t\r\n    \t\r\n    Map&lt;String, List&lt;String&gt;&gt; collect = Stream.of(map1,map2)\r\n    \t.flatMap(ch -&gt; ch.entrySet().stream())\r\n    \t.collect(\r\n    \t\t\tCollectors.toMap(\r\n    \t\t\t\r\n    \t\t\t//keyMapper,\r\n    \t\t\t\r\n    \t\t\tEntry::getKey,\r\n    \t\t\t\r\n    \t\t\t//valueMapper\r\n    \t\t\tEntry::getValue,\r\n    \t\t\t\r\n    \t\t\t// mergeFunction\r\n    \t (list_a,list_b) -&gt; Stream.concat(list_a.stream(), list_b.stream()).collect(Collectors.toList())\r\n    \t\t\t\r\n    \t\t\t));\r\n    \t\r\n    \t\r\n    \t\r\n    \tSystem.out.println(&quot;Final Result(Map after join) =&gt; &quot; + collect);\r\n    \t/*\r\n    \t{Wales=[P1, P2, P3], London=[A, B, C]}\r\n    {Calcutta=[Protijayi, Gina, Gini], Wales=[P111, P5555, P677666], London=[P4, P5, P6]}\r\n    Final Result(Map after join) =&gt; {Calcutta=[Protijayi, Gina, Gini], Wales=[P1, P2, P3, P111, P5555, P677666], London=[A, B, C, P4, P5, P6]}\r\n    \r\n    */\r\n    \t\r\n    }//main\r\n    \r\n    \r\n    }\r\n    \t\r\n\r\nIn Python, HashMap is called Dictionary and we can merge them very easily.\r\n\r\n    x = {&#39;Roopa&#39;: 1, &#39;Tabu&#39;: 2}\r\n    y = {&#39;Roopi&#39;: 3, &#39;Soudipta&#39;: 4}\r\n    \r\n    \r\n    z = {**x,**y}\r\n    print(z)\r\n\r\n``````````````````````````````````````````````````````\r\n{&#39;Roopa&#39;: 1, &#39;Tabu&#39;: 2, &#39;Roopi&#39;: 3, &#39;Soudipta&#39;: 4}\r\n``````````````````````````````````````````````````````\r\n\r\n\r\n\r\n","title":"How can I combine two HashMap objects containing the same types?","body":"<p>Method 1: Put maps in a List and then join</p>\n<pre><code>public class Test15 {\npublic static void main(String[] args) {\n\n    Map&lt;String, List&lt;String&gt;&gt; map1 = new HashMap&lt;&gt;();\n    map1.put(&quot;London&quot;, Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\n    map1.put(&quot;Wales&quot;, Arrays.asList(&quot;P1&quot;, &quot;P2&quot;, &quot;P3&quot;));\n\n    Map&lt;String, List&lt;String&gt;&gt; map2 = new HashMap&lt;&gt;();\n    map2.put(&quot;Calcutta&quot;, Arrays.asList(&quot;Protijayi&quot;, &quot;Gina&quot;, &quot;Gini&quot;));\n    map2.put(&quot;London&quot;, Arrays.asList( &quot;P4&quot;, &quot;P5&quot;, &quot;P6&quot;));\n    map2.put(&quot;Wales&quot;, Arrays.asList( &quot;P111&quot;, &quot;P5555&quot;, &quot;P677666&quot;));\n    \n    System.out.println(map1);System.out.println(map2);\n    \n    \n    \n    // put the maps in an ArrayList\n    \n    List&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; maplist = new ArrayList&lt;Map&lt;String,List&lt;String&gt;&gt;&gt;();\n    maplist.add(map1);\n    maplist.add(map2);\n    /*\n&lt;T,K,U&gt; Collector&lt;T,?,Map&lt;K,U&gt;&gt; toMap(\n\n                                  Function&lt;? super T,? extends K&gt; keyMapper,\n\n                                  Function&lt;? super T,? extends U&gt; valueMapper,\n\n                                  BinaryOperator&lt;U&gt; mergeFunction)\n    */\n    \n Map&lt;String, List&lt;String&gt;&gt; collect = maplist.stream()\n    .flatMap(ch -&gt; ch.entrySet().stream())\n    .collect(\n            Collectors.toMap(\n            \n            //keyMapper,\n            \n            Entry::getKey,\n            \n            //valueMapper\n            Entry::getValue,\n            \n            // mergeFunction\n     (list_a,list_b) -&gt; Stream.concat(list_a.stream(), list_b.stream()).collect(Collectors.toList())\n            \n            ));\n    \n    \n    \n    System.out.println(&quot;Final Result(Map after join) =&gt; &quot; + collect);\n    /*\n    {Wales=[P1, P2, P3], London=[A, B, C]}\n{Calcutta=[Protijayi, Gina, Gini], Wales=[P111, P5555, P677666], London=[P4, P5, P6]}\nFinal Result(Map after join) =&gt; {Calcutta=[Protijayi, Gina, Gini], Wales=[P1, P2, P3, P111, P5555, P677666], London=[A, B, C, P4, P5, P6]}\n*/\n    \n}//main\n\n\n}\n</code></pre>\n<p>Method 2 : Normal Map merge</p>\n<pre><code>public class Test15 {\npublic static void main(String[] args) {\n\n    Map&lt;String, List&lt;String&gt;&gt; map1 = new HashMap&lt;&gt;();\n    map1.put(&quot;London&quot;, Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;));\n    map1.put(&quot;Wales&quot;, Arrays.asList(&quot;P1&quot;, &quot;P2&quot;, &quot;P3&quot;));\n\n    Map&lt;String, List&lt;String&gt;&gt; map2 = new HashMap&lt;&gt;();\n    map2.put(&quot;Calcutta&quot;, Arrays.asList(&quot;Protijayi&quot;, &quot;Gina&quot;, &quot;Gini&quot;));\n    map2.put(&quot;London&quot;, Arrays.asList( &quot;P4&quot;, &quot;P5&quot;, &quot;P6&quot;));\n    map2.put(&quot;Wales&quot;, Arrays.asList( &quot;P111&quot;, &quot;P5555&quot;, &quot;P677666&quot;));\n    \n    System.out.println(map1);System.out.println(map2);\n    \n    \n    \n\n    /*\n&lt;T,K,U&gt; Collector&lt;T,?,Map&lt;K,U&gt;&gt; toMap(\n\n                                  Function&lt;? super T,? extends K&gt; keyMapper,\n\n                                  Function&lt;? super T,? extends U&gt; valueMapper,\n\n                                  BinaryOperator&lt;U&gt; mergeFunction)\n    */\n    \n    \nMap&lt;String, List&lt;String&gt;&gt; collect = Stream.of(map1,map2)\n    .flatMap(ch -&gt; ch.entrySet().stream())\n    .collect(\n            Collectors.toMap(\n            \n            //keyMapper,\n            \n            Entry::getKey,\n            \n            //valueMapper\n            Entry::getValue,\n            \n            // mergeFunction\n     (list_a,list_b) -&gt; Stream.concat(list_a.stream(), list_b.stream()).collect(Collectors.toList())\n            \n            ));\n    \n    \n    \n    System.out.println(&quot;Final Result(Map after join) =&gt; &quot; + collect);\n    /*\n    {Wales=[P1, P2, P3], London=[A, B, C]}\n{Calcutta=[Protijayi, Gina, Gini], Wales=[P111, P5555, P677666], London=[P4, P5, P6]}\nFinal Result(Map after join) =&gt; {Calcutta=[Protijayi, Gina, Gini], Wales=[P1, P2, P3, P111, P5555, P677666], London=[A, B, C, P4, P5, P6]}\n\n*/\n    \n}//main\n\n\n}\n    \n</code></pre>\n<p>In Python, HashMap is called Dictionary and we can merge them very easily.</p>\n<pre><code>x = {'Roopa': 1, 'Tabu': 2}\ny = {'Roopi': 3, 'Soudipta': 4}\n\n\nz = {**x,**y}\nprint(z)\n</code></pre>\n<pre><code>{'Roopa': 1, 'Tabu': 2, 'Roopi': 3, 'Soudipta': 4}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14837517,"reputation":172,"user_id":10715144,"display_name":"P Mittal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1566994347,"creation_date":1566994347,"answer_id":57692147,"question_id":4299728,"body_markdown":"You can use putAll function for Map as explained in the code below\r\n\r\n    HashMap&lt;String, Integer&gt; map1 = new HashMap&lt;String, Integer&gt;();\r\n    map1.put(&quot;a&quot;, 1);\r\n    map1.put(&quot;b&quot;, 2);\r\n    map1.put(&quot;c&quot;, 3);\r\n    HashMap&lt;String, Integer&gt; map2 = new HashMap&lt;String, Integer&gt;();\r\n    map1.put(&quot;aa&quot;, 11);\r\n    map1.put(&quot;bb&quot;, 12);\r\n    HashMap&lt;String, Integer&gt; map3 = new HashMap&lt;String, Integer&gt;();\r\n    map3.putAll(map1);\r\n    map3.putAll(map2);\r\n    map3.keySet().stream().forEach(System.out::println);\r\n    map3.values().stream().forEach(System.out::println);","title":"How can I combine two HashMap objects containing the same types?","body":"<p>You can use putAll function for Map as explained in the code below</p>\n\n<pre><code>HashMap&lt;String, Integer&gt; map1 = new HashMap&lt;String, Integer&gt;();\nmap1.put(\"a\", 1);\nmap1.put(\"b\", 2);\nmap1.put(\"c\", 3);\nHashMap&lt;String, Integer&gt; map2 = new HashMap&lt;String, Integer&gt;();\nmap1.put(\"aa\", 11);\nmap1.put(\"bb\", 12);\nHashMap&lt;String, Integer&gt; map3 = new HashMap&lt;String, Integer&gt;();\nmap3.putAll(map1);\nmap3.putAll(map2);\nmap3.keySet().stream().forEach(System.out::println);\nmap3.values().stream().forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583997339,"creation_date":1583997339,"answer_id":60649223,"question_id":4299728,"body_markdown":"  Below snippet takes more than one map and combine them.\r\n\r\n \r\n\r\n     private static &lt;K, V&gt; Map&lt;K, V&gt; combineMaps(Map&lt;K, V&gt;... maps) {\r\n        \tif (maps == null || maps.length == 0) {\r\n        \t\treturn Collections.EMPTY_MAP;\r\n        \t}\r\n        \r\n        \tMap&lt;K, V&gt; result = new HashMap&lt;&gt;();\r\n        \r\n        \tfor (Map&lt;K, V&gt; map : maps) {\r\n        \t\tresult.putAll(map);\r\n        \t}\r\n        \treturn result;\r\n        }\r\n\r\nDemo example [link.][1]\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2020/03/combine-hashmaps-with-same-type.html","title":"How can I combine two HashMap objects containing the same types?","body":"<p>Below snippet takes more than one map and combine them.</p>\n\n<pre><code> private static &lt;K, V&gt; Map&lt;K, V&gt; combineMaps(Map&lt;K, V&gt;... maps) {\n        if (maps == null || maps.length == 0) {\n            return Collections.EMPTY_MAP;\n        }\n\n        Map&lt;K, V&gt; result = new HashMap&lt;&gt;();\n\n        for (Map&lt;K, V&gt; map : maps) {\n            result.putAll(map);\n        }\n        return result;\n    }\n</code></pre>\n\n<p>Demo example <a href=\"https://self-learning-java-tutorial.blogspot.com/2020/03/combine-hashmaps-with-same-type.html\" rel=\"nofollow noreferrer\">link.</a></p>\n"},{"tags":[],"owner":{"account_id":4032849,"reputation":6492,"user_id":3318335,"display_name":"Svend"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638953490,"creation_date":1638953490,"answer_id":70272217,"question_id":4299728,"body_markdown":"Assuming the following input:\r\n\r\n```java\r\n    import java.util.stream.Stream;\r\n    import java.util.stream.Collectors;\r\n    import java.util.Map;\r\n   \r\n    ...\r\n\r\n    var m1 = Map.of(&quot;k1&quot;, 1, &quot;k2&quot;, 2);\r\n    var m2 = Map.of(&quot;k3&quot;, 3, &quot;k4&quot;, 4);\r\n```\r\n\r\nWhen you&#39;re sure not to have any key collisions between both input maps, a simple expression that avoids any mutations and yields an immutable result could be:\r\n\r\n\r\n```java\r\n    var merged = Stream.concat(\r\n        m1.entrySet().stream(),\r\n        m2.entrySet().stream()\r\n    ).collect(Collectors.toUnmodifiableMap(Map.Entry::getKey, Map.Entry::getValue));\r\n```\r\n\r\nIn case key collisions are possible, we can provide a lambda to specify how to de-duplicate them. For example if we&#39;d like to keep the largest value in case an entry is present in both input, we could:\r\n\r\n\r\n```java\r\n    .collect(Collectors.toUnmodifiableMap(\r\n        Map.Entry::getKey,\r\n        Map.Entry::getValue,\r\n        Math::max))  // any function  (Integer, Integer) -&gt; Integer  is ok here\r\n```\r\n","title":"How can I combine two HashMap objects containing the same types?","body":"<p>Assuming the following input:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.util.stream.Stream;\n    import java.util.stream.Collectors;\n    import java.util.Map;\n   \n    ...\n\n    var m1 = Map.of(&quot;k1&quot;, 1, &quot;k2&quot;, 2);\n    var m2 = Map.of(&quot;k3&quot;, 3, &quot;k4&quot;, 4);\n</code></pre>\n<p>When you're sure not to have any key collisions between both input maps, a simple expression that avoids any mutations and yields an immutable result could be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    var merged = Stream.concat(\n        m1.entrySet().stream(),\n        m2.entrySet().stream()\n    ).collect(Collectors.toUnmodifiableMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n<p>In case key collisions are possible, we can provide a lambda to specify how to de-duplicate them. For example if we'd like to keep the largest value in case an entry is present in both input, we could:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    .collect(Collectors.toUnmodifiableMap(\n        Map.Entry::getKey,\n        Map.Entry::getValue,\n        Math::max))  // any function  (Integer, Integer) -&gt; Integer  is ok here\n</code></pre>\n"}],"owner":{"account_id":676629,"reputation":3099,"user_id":519087,"accept_rate":38,"display_name":"Mavin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367353,"favorite_count":0,"down_vote_count":2,"up_vote_count":302,"answer_count":17,"score":300,"last_activity_date":1638953490,"creation_date":1290986608,"question_id":4299728,"body_markdown":"I have two `HashMap` objects defined like so:\r\n\r\n    HashMap&lt;String, Integer&gt; map1 = new HashMap&lt;String, Integer&gt;();\r\n    HashMap&lt;String, Integer&gt; map2 = new HashMap&lt;String, Integer&gt;();\r\n\r\nI also have a third `HashMap` object:\r\n\r\n    HashMap&lt;String, Integer&gt; map3;\r\n\r\nHow can I merge `map1` and `map2` together into `map3`?","title":"How can I combine two HashMap objects containing the same types?","body":"<p>I have two <code>HashMap</code> objects defined like so:</p>\n\n<pre><code>HashMap&lt;String, Integer&gt; map1 = new HashMap&lt;String, Integer&gt;();\nHashMap&lt;String, Integer&gt; map2 = new HashMap&lt;String, Integer&gt;();\n</code></pre>\n\n<p>I also have a third <code>HashMap</code> object:</p>\n\n<pre><code>HashMap&lt;String, Integer&gt; map3;\n</code></pre>\n\n<p>How can I merge <code>map1</code> and <code>map2</code> together into <code>map3</code>?</p>\n"},{"tags":["java","spring","hibernate","multi-tenant"],"owner":{"account_id":9513296,"reputation":31,"user_id":7070563,"display_name":"mojic2D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638953451,"creation_date":1638953451,"question_id":70272202,"body_markdown":"I have a Spring Boot app with multi-tenancy enabled with separate database for each tenant. I also have a database which holds tenant datasource information and another database for user data. All tenant databases have the same schema. \r\n\r\nDatasource information is loaded at app start and kept in a map for `AbstractDataSourceBasedMultiTenantConnectionProviderImpl` implementation to use.\r\n\r\nI&#39;m using Liquibase and I&#39;ve set it up so that it updates the tenant databases with each run of the app, and now I&#39;m trying to enable `spring.jpa.hibernate.ddl-auto=validate` for each of the tenant databases but not for the user or datasource databases. \r\n\r\nThe idea is for the workflow to look like this: change app and db-&gt;liquibase updates db-&gt;hibernate validates the changes.\r\nHere&#39;s my hibernate configuration right now:\r\n```\r\n@Configuration\r\npublic class HibernateConfig {\r\n\r\n    @Autowired\r\n    private JpaProperties jpaProperties;\r\n\r\n    @Bean\r\n    JpaVendorAdapter jpaVendorAdapter(){\r\n        return new HibernateJpaVendorAdapter();\r\n    }\r\n\r\n    @Bean(name=&quot;entityManagerFactory&quot;)\r\n    LocalContainerEntityManagerFactoryBean entityManagerFactoryBean(\r\n            DataSource dataSource,\r\n            MultiTenantConnectionProvider multiTenantConnectionProviderImpl,\r\n            CurrentTenantIdentifierResolver currentTenantIdentifierResolverImpl\r\n    ){\r\n        Map&lt;String,Object&gt; jpaPropertiesMap=new HashMap&lt;&gt;(jpaProperties.getProperties());\r\n        jpaPropertiesMap.put(Environment.MULTI_TENANT, MultiTenancyStrategy.DATABASE);\r\n        jpaPropertiesMap.put(Environment.MULTI_TENANT_CONNECTION_PROVIDER,multiTenantConnectionProviderImpl);\r\n        jpaPropertiesMap.put(Environment.MULTI_TENANT_IDENTIFIER_RESOLVER,currentTenantIdentifierResolverImpl);\r\n        jpaPropertiesMap.put(Environment.FORMAT_SQL,true);\r\n        jpaPropertiesMap.put(Environment.SHOW_SQL,true);\r\n        //jpaPropertiesMap.put(Environment.HBM2DDL_AUTO,&quot;validate&quot;);\r\n\r\n        LocalContainerEntityManagerFactoryBean em=new LocalContainerEntityManagerFactoryBean();\r\n        em.setDataSource(dataSource);\r\n        em.setPackagesToScan(&quot;com.klikfin.*&quot;);\r\n        em.setJpaVendorAdapter(this.jpaVendorAdapter());\r\n        em.setJpaPropertyMap(jpaPropertiesMap);\r\n        return em;\r\n    }\r\n}\r\n```\r\nWhen I enable `jpaPropertiesMap.put(Environment.HBM2DDL_AUTO,&quot;validate&quot;);` it only validates the default datasource database. \r\n\r\nHow would I enable it for specific databases only?\r\n--------------------------------------------------\r\n\r\n","title":"Hibernate schema validation with multiple data sources in multi tenant(separate databases) application","body":"<p>I have a Spring Boot app with multi-tenancy enabled with separate database for each tenant. I also have a database which holds tenant datasource information and another database for user data. All tenant databases have the same schema.</p>\n<p>Datasource information is loaded at app start and kept in a map for <code>AbstractDataSourceBasedMultiTenantConnectionProviderImpl</code> implementation to use.</p>\n<p>I'm using Liquibase and I've set it up so that it updates the tenant databases with each run of the app, and now I'm trying to enable <code>spring.jpa.hibernate.ddl-auto=validate</code> for each of the tenant databases but not for the user or datasource databases.</p>\n<p>The idea is for the workflow to look like this: change app and db-&gt;liquibase updates db-&gt;hibernate validates the changes.\nHere's my hibernate configuration right now:</p>\n<pre><code>@Configuration\npublic class HibernateConfig {\n\n    @Autowired\n    private JpaProperties jpaProperties;\n\n    @Bean\n    JpaVendorAdapter jpaVendorAdapter(){\n        return new HibernateJpaVendorAdapter();\n    }\n\n    @Bean(name=&quot;entityManagerFactory&quot;)\n    LocalContainerEntityManagerFactoryBean entityManagerFactoryBean(\n            DataSource dataSource,\n            MultiTenantConnectionProvider multiTenantConnectionProviderImpl,\n            CurrentTenantIdentifierResolver currentTenantIdentifierResolverImpl\n    ){\n        Map&lt;String,Object&gt; jpaPropertiesMap=new HashMap&lt;&gt;(jpaProperties.getProperties());\n        jpaPropertiesMap.put(Environment.MULTI_TENANT, MultiTenancyStrategy.DATABASE);\n        jpaPropertiesMap.put(Environment.MULTI_TENANT_CONNECTION_PROVIDER,multiTenantConnectionProviderImpl);\n        jpaPropertiesMap.put(Environment.MULTI_TENANT_IDENTIFIER_RESOLVER,currentTenantIdentifierResolverImpl);\n        jpaPropertiesMap.put(Environment.FORMAT_SQL,true);\n        jpaPropertiesMap.put(Environment.SHOW_SQL,true);\n        //jpaPropertiesMap.put(Environment.HBM2DDL_AUTO,&quot;validate&quot;);\n\n        LocalContainerEntityManagerFactoryBean em=new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(dataSource);\n        em.setPackagesToScan(&quot;com.klikfin.*&quot;);\n        em.setJpaVendorAdapter(this.jpaVendorAdapter());\n        em.setJpaPropertyMap(jpaPropertiesMap);\n        return em;\n    }\n}\n</code></pre>\n<p>When I enable <code>jpaPropertiesMap.put(Environment.HBM2DDL_AUTO,&quot;validate&quot;);</code> it only validates the default datasource database.</p>\n<h2>How would I enable it for specific databases only?</h2>\n"},{"tags":["java","json","enums"],"comments":[{"owner":{"account_id":7817944,"reputation":338,"user_id":5911964,"display_name":"absence"},"score":0,"creation_date":1638951120,"post_id":70271717,"comment_id":124221260,"body_markdown":"Could you provide more context? Maybe the keys to these values and do you use any libraries to work with JSON?","body":"Could you provide more context? Maybe the keys to these values and do you use any libraries to work with JSON?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1638951270,"post_id":70271717,"comment_id":124221314,"body_markdown":"Please don&#39;t post images of code but post nicely formatted text. Why? See here: https://idownvotedbecau.se/imageofcode","body":"Please don&#39;t post images of code but post nicely formatted text. Why? See here: <a href=\"https://idownvotedbecau.se/imageofcode\" rel=\"nofollow noreferrer\">idownvotedbecau.se/imageofcode</a>"},{"owner":{"account_id":2472036,"reputation":3173,"user_id":2153636,"display_name":"rudolfovic"},"score":0,"creation_date":1638951379,"post_id":70271717,"comment_id":124221352,"body_markdown":"Please paste the code instead of using screenshots. Clarify if by &quot;JSON with values A, B, C&quot; you mean JSON with one of all of these values. Are these supposed to be *keys* that can then take different values or values themselves? In that case what would the keys be? Otherwise, where would the values come from. Ideally - give an example input and an example output.","body":"Please paste the code instead of using screenshots. Clarify if by &quot;JSON with values A, B, C&quot; you mean JSON with one of all of these values. Are these supposed to be <i>keys</i> that can then take different values or values themselves? In that case what would the keys be? Otherwise, where would the values come from. Ideally - give an example input and an example output."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1638951380,"post_id":70271717,"comment_id":124221354,"body_markdown":"Can you elaborate what that json object should look like? Do you mean an _object_ or an array? If an object, what would be the keys, what the values?","body":"Can you elaborate what that json object should look like? Do you mean an <i>object</i> or an array? If an object, what would be the keys, what the values?"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1638952962,"post_id":70271717,"comment_id":124221883,"body_markdown":"If this is for a SELECT element in a user interface, you would probably also need the enum names. Furthermore, it&#39;s probably better practice to keep the display texts in a localization file instead of in your code. E.g. a frontend.properties file with lines like &#39;Tour = 3D Tour&#39;. This allows to add language support easily and also allows changing the display texts without touching the code.","body":"If this is for a SELECT element in a user interface, you would probably also need the enum names. Furthermore, it&#39;s probably better practice to keep the display texts in a localization file instead of in your code. E.g. a frontend.properties file with lines like &#39;Tour = 3D Tour&#39;. This allows to add language support easily and also allows changing the display texts without touching the code."}],"answers":[{"tags":[],"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638953159,"creation_date":1638952668,"answer_id":70272055,"question_id":70271717,"body_markdown":"This will return a list of strings containing all the values.\r\n\r\n    \tenum General implements Catalogue {\r\n\r\n\t\tTour(&quot;3D Tour&quot;),\r\n\t\tVideos(&quot;Videos&quot;),\r\n\t\tPhotos_Only(&quot;Photos Only&quot;),\r\n\t\tPrice_Reduced(&quot;Price Reduced&quot;),\r\n\t\tFurnished(&quot;Furnished&quot;),\r\n\t\tLuxury(&quot;Luxury&quot;);\r\n\r\n\t\tprivate final String value;\r\n\r\n\t\tGeneral(String value) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\r\n\t\tpublic String getValue() {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static List&lt;String&gt; valuesList() {\r\n\t\t\treturn Arrays.stream(General.values())\r\n                              .map(General::getValue)\r\n                              .collect(Collectors.toList());\r\n\t\t}\r\n\t}\r\n\r\n\r\nAnd a level up you&#39;ll do something like \r\n\r\n    myJson.put(&quot;General&quot;, General.valuesList())\r\n\r\nAn output will be \r\n\r\n     {\r\n        &quot;General&quot;: [&quot;3D Tour&quot;,&quot;Videos&quot;,&quot;Photos Only&quot;]\r\n     }\r\n","title":"Get a value list of a enum to a json object","body":"<p>This will return a list of strings containing all the values.</p>\n<pre><code>    enum General implements Catalogue {\n\n    Tour(&quot;3D Tour&quot;),\n    Videos(&quot;Videos&quot;),\n    Photos_Only(&quot;Photos Only&quot;),\n    Price_Reduced(&quot;Price Reduced&quot;),\n    Furnished(&quot;Furnished&quot;),\n    Luxury(&quot;Luxury&quot;);\n\n    private final String value;\n\n    General(String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return value;\n    }\n    \n    public static List&lt;String&gt; valuesList() {\n        return Arrays.stream(General.values())\n                          .map(General::getValue)\n                          .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>And a level up you'll do something like</p>\n<pre><code>myJson.put(&quot;General&quot;, General.valuesList())\n</code></pre>\n<p>An output will be</p>\n<pre><code> {\n    &quot;General&quot;: [&quot;3D Tour&quot;,&quot;Videos&quot;,&quot;Photos Only&quot;]\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7817944,"reputation":338,"user_id":5911964,"display_name":"absence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638953318,"creation_date":1638952938,"answer_id":70272110,"question_id":70271717,"body_markdown":"The valid JSON would look like this\r\n\r\n    {\r\n        &quot;General&quot;: [&quot;3D Tour&quot;,&quot;Videos&quot;,&quot;Photos Only&quot;]\r\n    }\r\n\r\nIf you would use Jackson library for creating your JSON you would need to create a class like this:\r\n\r\n    public class GeneralDTO {\r\n        @JsonProperty(&quot;General&quot;)\r\n        private String[] general;\r\n\r\n        ...\r\n    }\r\n\r\nThen you would need to create your GeneralDTO object.\r\n\r\nYou can get all your enum values in an array like this\r\n\r\n    String[] generalArray = Arrays.stream(General.values())\r\n        .map(st -&gt; st.getValue())\r\n        .toArray(String[]::new);\r\n\r\nThen using the method `writeValueAsString` of `ObjectMapper` class (part of Jackson library) you can get JSON string from your `GeneralDTO` object.\r\n\r\nTo simplify you can use `Map&lt;String, String[]&gt;` instead of `GeneralDTO` \r\n\r\n    Map&lt;String, String[]&gt; generalObject = new HashMap&lt;&gt;;\r\n    generalObject.put(&quot;General&quot;, generalArray);\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    String json = objectMapper.writeValueAsString(generalObject);","title":"Get a value list of a enum to a json object","body":"<p>The valid JSON would look like this</p>\n<pre><code>{\n    &quot;General&quot;: [&quot;3D Tour&quot;,&quot;Videos&quot;,&quot;Photos Only&quot;]\n}\n</code></pre>\n<p>If you would use Jackson library for creating your JSON you would need to create a class like this:</p>\n<pre><code>public class GeneralDTO {\n    @JsonProperty(&quot;General&quot;)\n    private String[] general;\n\n    ...\n}\n</code></pre>\n<p>Then you would need to create your GeneralDTO object.</p>\n<p>You can get all your enum values in an array like this</p>\n<pre><code>String[] generalArray = Arrays.stream(General.values())\n    .map(st -&gt; st.getValue())\n    .toArray(String[]::new);\n</code></pre>\n<p>Then using the method <code>writeValueAsString</code> of <code>ObjectMapper</code> class (part of Jackson library) you can get JSON string from your <code>GeneralDTO</code> object.</p>\n<p>To simplify you can use <code>Map&lt;String, String[]&gt;</code> instead of <code>GeneralDTO</code></p>\n<pre><code>Map&lt;String, String[]&gt; generalObject = new HashMap&lt;&gt;;\ngeneralObject.put(&quot;General&quot;, generalArray);\nObjectMapper objectMapper = new ObjectMapper();\nString json = objectMapper.writeValueAsString(generalObject);\n</code></pre>\n"}],"owner":{"account_id":6350435,"reputation":151,"user_id":4929673,"display_name":"Ishani Samaraweera"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70272055,"answer_count":2,"score":0,"last_activity_date":1638953318,"creation_date":1638950753,"question_id":70271717,"body_markdown":"I want to create a json object with values of &quot;3D Tour&quot;, &quot;Videos&quot;, &quot;Photos Only&quot;, etc. You can find the enum class below. How can I implement that?\r\n\r\n    package com.padgea.listing.application.dto;\r\n\r\n    public enum General implements Catalogue {\r\n\r\n    Tour(&quot;3D Tour&quot;),\r\n    Videos(&quot;Videos&quot;),\r\n    Photos_Only(&quot;Photos Only&quot;),\r\n    Price_Reduced(&quot;Price Reduced&quot;),\r\n    Furnished(&quot;Furnished&quot;),\r\n    Luxury(&quot;Luxury&quot;);\r\n\r\n    private final String value;\r\n\r\n    General(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n}\r\n\r\nI need a output like this\r\n{General : &quot;3D Tour&quot;,&quot;Videos&quot;,&quot;Photos Only&quot;,etc}\r\n","title":"Get a value list of a enum to a json object","body":"<p>I want to create a json object with values of &quot;3D Tour&quot;, &quot;Videos&quot;, &quot;Photos Only&quot;, etc. You can find the enum class below. How can I implement that?</p>\n<pre><code>package com.padgea.listing.application.dto;\n\npublic enum General implements Catalogue {\n\nTour(&quot;3D Tour&quot;),\nVideos(&quot;Videos&quot;),\nPhotos_Only(&quot;Photos Only&quot;),\nPrice_Reduced(&quot;Price Reduced&quot;),\nFurnished(&quot;Furnished&quot;),\nLuxury(&quot;Luxury&quot;);\n\nprivate final String value;\n\nGeneral(String value) {\n    this.value = value;\n}\n\npublic String getValue() {\n    return value;\n}\n</code></pre>\n<p>}</p>\n<p>I need a output like this\n{General : &quot;3D Tour&quot;,&quot;Videos&quot;,&quot;Photos Only&quot;,etc}</p>\n"},{"tags":["java","multithreading","executorservice","threadpoolexecutor"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638948362,"creation_date":1638948362,"answer_id":70271330,"question_id":70271180,"body_markdown":"It is not practical to do what you want.\r\n\r\nFor the `beforeExecute` to be executed on the main thread, the main thread would need to be sitting waiting on a queue of &quot;callback objects&quot;.  But that means that the main thread has to be doing nothing else.\r\n\r\nThe solution is to arrange that the information you need from the main thread&#39;s thread locals is copied to the `Runnable` before it is submitted to the executor service.  I&#39;ve seen an example where they created a class that implemented `Runnable` subclass that did the following:\r\n\r\n  - In the constructor, capture the state of the thread locals.  (The constructor is executed on the main thread.)\r\n\r\n  - In the `run()` method copy the captured state to the current (worker) thread&#39;s thread locals.\r\n\r\nIt is not pleasant ... but it works.\r\n\r\n---------------------------------\r\n\r\n&gt; The design decision makes no sense to execute this in the worker thread.\r\n\r\nActually, it makes **perfect** sense once you understand what would be involved in actually getting the callback to execute on the main thread.  The Java language / execution model doesn&#39;t allow you to (magically) call a method on another thread&#39;s call stack.","title":"Execute beforeExecute(Thread t, Runnable r) in main thread rather than worker thread","body":"<p>It is not practical to do what you want.</p>\n<p>For the <code>beforeExecute</code> to be executed on the main thread, the main thread would need to be sitting waiting on a queue of &quot;callback objects&quot;.  But that means that the main thread has to be doing nothing else.</p>\n<p>The solution is to arrange that the information you need from the main thread's thread locals is copied to the <code>Runnable</code> before it is submitted to the executor service.  I've seen an example where they created a class that implemented <code>Runnable</code> subclass that did the following:</p>\n<ul>\n<li><p>In the constructor, capture the state of the thread locals.  (The constructor is executed on the main thread.)</p>\n</li>\n<li><p>In the <code>run()</code> method copy the captured state to the current (worker) thread's thread locals.</p>\n</li>\n</ul>\n<p>It is not pleasant ... but it works.</p>\n<hr />\n<blockquote>\n<p>The design decision makes no sense to execute this in the worker thread.</p>\n</blockquote>\n<p>Actually, it makes <strong>perfect</strong> sense once you understand what would be involved in actually getting the callback to execute on the main thread.  The Java language / execution model doesn't allow you to (magically) call a method on another thread's call stack.</p>\n"},{"tags":[],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638953190,"creation_date":1638953190,"answer_id":70272147,"question_id":70271180,"body_markdown":"&gt; What if I want to set certain ThreadLocals in a Map and then retrieve it in the worker threads\r\n\r\nYou can consider wrapping runnable. Then set and clean up ```threadlocal``` before and after ```run``` method each time.\r\n\r\n```\r\npublic class ContextAwareThreadPool extends ThreadPoolExecutor {\r\n\r\n    public ContextAwareThreadPool(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory,  RejectedExecutionHandler handler) {\r\n        super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, threadFactory, handler);\r\n    }\r\n\r\n    @Override\r\n    public Future&lt;?&gt; submit(Runnable task) {\r\n        return super.submit(new RunnableWrapper(task, ThreadPoolContextHolder.get()));\r\n    }\r\n    \r\n    // other submit methods...\r\n\r\n    static class RunnableWrapper implements Runnable {\r\n\r\n        private final Runnable target;\r\n        private final String dataSource;\r\n\r\n        public RunnableWrapper(Runnable target, String dataSource) {\r\n            this.dataSource = dataSource;\r\n            this.target = target;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            ThreadPoolContextHolder.set(dataSource);\r\n            target.run();\r\n            ThreadPoolContextHolder.remove();\r\n        }\r\n    }\r\n}\r\n\r\npublic class ThreadPoolContextHolder {\r\n\r\n    static ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;&gt;();\r\n\r\n    public static void set(String s) {\r\n        threadLocal.set(s);\r\n    }\r\n\r\n    public static String get() {\r\n        return threadLocal.get();\r\n    }\r\n\r\n    public static void remove() {\r\n        threadLocal.remove();\r\n    }\r\n}\r\n```","title":"Execute beforeExecute(Thread t, Runnable r) in main thread rather than worker thread","body":"<blockquote>\n<p>What if I want to set certain ThreadLocals in a Map and then retrieve it in the worker threads</p>\n</blockquote>\n<p>You can consider wrapping runnable. Then set and clean up <code>threadlocal</code> before and after <code>run</code> method each time.</p>\n<pre><code>public class ContextAwareThreadPool extends ThreadPoolExecutor {\n\n    public ContextAwareThreadPool(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory,  RejectedExecutionHandler handler) {\n        super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, threadFactory, handler);\n    }\n\n    @Override\n    public Future&lt;?&gt; submit(Runnable task) {\n        return super.submit(new RunnableWrapper(task, ThreadPoolContextHolder.get()));\n    }\n    \n    // other submit methods...\n\n    static class RunnableWrapper implements Runnable {\n\n        private final Runnable target;\n        private final String dataSource;\n\n        public RunnableWrapper(Runnable target, String dataSource) {\n            this.dataSource = dataSource;\n            this.target = target;\n        }\n\n        @Override\n        public void run() {\n            ThreadPoolContextHolder.set(dataSource);\n            target.run();\n            ThreadPoolContextHolder.remove();\n        }\n    }\n}\n\npublic class ThreadPoolContextHolder {\n\n    static ThreadLocal&lt;String&gt; threadLocal = new ThreadLocal&lt;&gt;();\n\n    public static void set(String s) {\n        threadLocal.set(s);\n    }\n\n    public static String get() {\n        return threadLocal.get();\n    }\n\n    public static void remove() {\n        threadLocal.remove();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638953190,"creation_date":1638947363,"question_id":70271180,"body_markdown":"I want some way that [beforeExecute()][1] should be executed **on the main thread** before a thread execution everytime:\r\n\r\n\r\nI have the following ThreadPoolExecutor:\r\n\r\n    public class ContextAwareThreadPool extends ThreadPoolExecutor {\r\n    \r\n        public ContextAwareThreadPool(int corePoolSize, int maximumPoolSize, long keepAliveTime, @NotNull TimeUnit unit, @NotNull BlockingQueue&lt;Runnable&gt; workQueue, @NotNull ThreadFactory threadFactory, @NotNull RejectedExecutionHandler handler) {\r\n            super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, threadFactory, handler);\r\n        }\r\n    \r\n        @Override\r\n        protected void beforeExecute(Thread t, Runnable r) {\r\n            ThreadPoolContextHolder.setDatasourceForThread(t, DBContextHolder.getCurrentDb());\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThe biggest problem is that `beforeExecute` is being called in the worker thread and not from the main thread(request thread). **Thus `DBContextHolder` which is a thread local in the `main` thread is not set in the `worker` thread.**\r\n\r\n\r\nIs there any sort of mechanism that a `beforeExecute` callback **is executed in the `main` thread before the thread is actually executed ?**\r\n\r\nThe design decision makes no sense to execute this in the worker thread. **What if I want to set certain ThreadLocals in a Map and then retrieve it in the  worker threads ?**\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html#beforeExecute(java.lang.Thread,%20java.lang.Runnable)","title":"Execute beforeExecute(Thread t, Runnable r) in main thread rather than worker thread","body":"<p>I want some way that <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html#beforeExecute(java.lang.Thread,%20java.lang.Runnable)\" rel=\"nofollow noreferrer\">beforeExecute()</a> should be executed <strong>on the main thread</strong> before a thread execution everytime:</p>\n<p>I have the following ThreadPoolExecutor:</p>\n<pre><code>public class ContextAwareThreadPool extends ThreadPoolExecutor {\n\n    public ContextAwareThreadPool(int corePoolSize, int maximumPoolSize, long keepAliveTime, @NotNull TimeUnit unit, @NotNull BlockingQueue&lt;Runnable&gt; workQueue, @NotNull ThreadFactory threadFactory, @NotNull RejectedExecutionHandler handler) {\n        super(corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue, threadFactory, handler);\n    }\n\n    @Override\n    protected void beforeExecute(Thread t, Runnable r) {\n        ThreadPoolContextHolder.setDatasourceForThread(t, DBContextHolder.getCurrentDb());\n    }\n\n}\n</code></pre>\n<p>The biggest problem is that <code>beforeExecute</code> is being called in the worker thread and not from the main thread(request thread). <strong>Thus <code>DBContextHolder</code> which is a thread local in the <code>main</code> thread is not set in the <code>worker</code> thread.</strong></p>\n<p>Is there any sort of mechanism that a <code>beforeExecute</code> callback <strong>is executed in the <code>main</code> thread before the thread is actually executed ?</strong></p>\n<p>The design decision makes no sense to execute this in the worker thread. <strong>What if I want to set certain ThreadLocals in a Map and then retrieve it in the  worker threads ?</strong></p>\n"},{"tags":["java","multithreading","performance","netty","wakeup"],"answers":[{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638953150,"creation_date":1638953150,"answer_id":70272141,"question_id":70254814,"body_markdown":"There are multiple `EventLoop`s and these are shared between `Channel`s. How many of these are used is depending on how netty is configured and how the `Channel`s are bootstrapped.\r\n\r\nRegarding the wakups you might be able to reduce the overhead by do one of these:\r\n\r\n- Only `flush` from within the `EventLoop`.\r\n- Call `write` multiple times before call `flush` if you need to do it from outside the `EventLoop`.\r\n- Pack multiple messages into one &quot;object&quot; pass it to `writeAndFlush(...)` and have your own `ChannelOutboundHandler` that &quot;decompose&quot; this object into messages. ","title":"Avoid losing resources on waking up netty","body":"<p>There are multiple <code>EventLoop</code>s and these are shared between <code>Channel</code>s. How many of these are used is depending on how netty is configured and how the <code>Channel</code>s are bootstrapped.</p>\n<p>Regarding the wakups you might be able to reduce the overhead by do one of these:</p>\n<ul>\n<li>Only <code>flush</code> from within the <code>EventLoop</code>.</li>\n<li>Call <code>write</code> multiple times before call <code>flush</code> if you need to do it from outside the <code>EventLoop</code>.</li>\n<li>Pack multiple messages into one &quot;object&quot; pass it to <code>writeAndFlush(...)</code> and have your own <code>ChannelOutboundHandler</code> that &quot;decompose&quot; this object into messages.</li>\n</ul>\n"}],"owner":{"account_id":23423479,"reputation":71,"user_id":17483300,"display_name":"andreasdc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638953150,"creation_date":1638849913,"question_id":70254814,"body_markdown":"I want to avoid spending a lot of CPU resources on waking up netty&#39;s thread. Every time the packet is flushed, the netty is wakened up. When I have a lot of packet sending I have a lot of these wake-ups, which is really hard for the CPU to process. How to make it spend less time on waking up, I found something like SelectStrategy.BUSY_WAIT, but as soon as I pick this option, my CPU is at 20% at all times.\r\nIs there a way to do something like delayed sleep/awaiting for wakeup?\r\n\r\nI also tried to merge EventLoops of channels, but it seems that every channel has its own EventLoop.","title":"Avoid losing resources on waking up netty","body":"<p>I want to avoid spending a lot of CPU resources on waking up netty's thread. Every time the packet is flushed, the netty is wakened up. When I have a lot of packet sending I have a lot of these wake-ups, which is really hard for the CPU to process. How to make it spend less time on waking up, I found something like SelectStrategy.BUSY_WAIT, but as soon as I pick this option, my CPU is at 20% at all times.\nIs there a way to do something like delayed sleep/awaiting for wakeup?</p>\n<p>I also tried to merge EventLoops of channels, but it seems that every channel has its own EventLoop.</p>\n"},{"tags":["java","jpa","spring-data-jpa","lombok"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638029639,"creation_date":1638029639,"answer_id":70136539,"question_id":70132091,"body_markdown":"If you have multiple `User*Dto` I would create an abstract `AbstractUserDto` that would be then extended by all you concrete User DTOs. There you could place the method that you show in your Approach 1 (so that you don&#39;t duplicate the same code over and over again):\r\n```java\r\n@Data\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\npublic abstract class AbstractUserDto {\r\n    @EqualsAndHashCode.Include\r\n    @NotNull\r\n    Long businessKey1;\r\n    \r\n    @EqualsAndHashCode.Include\r\n    @NotNull\r\n    Long businessKey2;\r\n    \r\n    String name;\r\n\r\n    public final boolean businessKeysMatch() {\r\n        return (this.getBusinessKey1() == entity.getBusinessKey1()) &amp;&amp; (this.getBusinessKey2() == entity.getBusinessKey2());\r\n    }\r\n}\r\n```","title":"Compare JPA Entity and DTO","body":"<p>If you have multiple <code>User*Dto</code> I would create an abstract <code>AbstractUserDto</code> that would be then extended by all you concrete User DTOs. There you could place the method that you show in your Approach 1 (so that you don't duplicate the same code over and over again):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\npublic abstract class AbstractUserDto {\n    @EqualsAndHashCode.Include\n    @NotNull\n    Long businessKey1;\n    \n    @EqualsAndHashCode.Include\n    @NotNull\n    Long businessKey2;\n    \n    String name;\n\n    public final boolean businessKeysMatch() {\n        return (this.getBusinessKey1() == entity.getBusinessKey1()) &amp;&amp; (this.getBusinessKey2() == entity.getBusinessKey2());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1740073,"reputation":1393,"user_id":1591729,"accept_rate":93,"display_name":"Timothy Vogel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1598,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70136539,"answer_count":1,"score":2,"last_activity_date":1638953107,"creation_date":1637987951,"question_id":70132091,"body_markdown":"I need a standard approach to compare a JPA Entity to it&#39;s DTOs and determine if they represent the same business object.  I can think of three approaches, a custom method on each DTO, an interface with a static method or a comparator.  \r\n\r\nBuilding on the answer from *Jo&#227;o Dias*, approach 4 - Inheritance.\r\n\r\nPros/Cons\r\n- Approach 1 - Bad all the way around\r\n- Approach 2 - Uses interface to favor composition over inheritance but requires semantics using custom method name (```businessKeysMatch()```)\r\n- Approach 3 - Does not require the source code to be modified\r\n- Approach 4 - Simplifies semantics as it uses standard ```equals()``` but requires &quot;boilerplate ```equals()/hashcode()```\r\n\r\nAny other pros/cons of the approaches or suggestions on other approaches?\r\n\r\n*In the end, I chose to use approach 2 (Interface).  The Inheritance approach showed promise but one of the classes being a JPA Entity made the mapping more complex than I wanted.*\r\n\r\n\r\nThanks for reading and thinking about my question!\r\n\r\n**Background**\r\n\r\nEntity \r\n- a database key \r\n- a business key that is unique enforced at ORM and database that determines equality (```equals()```/```hashcode()```)\r\n- public attributes (name, address, age, etc)\r\n- non-public / confidential attributes (password, refresh token, SSN, etc)\r\n  \r\n\t\t@Data\r\n\t\t@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n\t\t@Entity\r\n\t\t@Table(uniqueConstraints = { @UniqueConstraint(columnNames = { &quot;businessKey1&quot;, &quot;businessKey2&quot; }) })\r\n\t\tclass UserEntity {\r\n\t\t\t@Id\r\n\t\t\tLong id;\r\n\t\t\t@NotNull\r\n\t\t\t@EqualsAndHashCode.Include\r\n\t\t\tLong businessKey1;\r\n\t\t\t@NotNull\r\n\t\t\t@EqualsAndHashCode.Include\r\n\t\t\tLong businessKey2;\r\n\t\t\tString name;\r\n\t\t\tInteger age;\r\n\t\t\tString password;\r\n\t\t\tString refreshToken;\r\n\t\t\tString SSN;\r\n\t\t}\r\n  \r\nDTO (full)\r\n- business key that determines equality (```equals()```/```hashcode()```)\r\n- public attributes (name, address, age, etc)\r\n  \r\n\t\t@Data\r\n\t\t@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n\t\tclass UserDto {\r\n\t\t\t@EqualsAndHashCode.Include\r\n\t\t\t@NotNull\r\n\t\t\tLong businessKey1;\r\n\t\t\t@EqualsAndHashCode.Include\r\n\t\t\t@NotNull\r\n\t\t\tLong businessKey2;\r\n\t\t\tString name;\r\n\t\t\tString address;\r\n\t\t\tInteger age;\r\n\t\t}\r\n\r\nDTO (limited)\r\n- business key that determines equality (```equals()```/```hashcode()```)\r\n- selected public attributes (name)\r\n\r\n\t\t@Data\r\n\t\t@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n\t\tclass UserNameDto {\r\n\t\t\t@EqualsAndHashCode.Include\r\n\t\t\t@NotNull\r\n\t\t\tLong businessKey1;\r\n\t\t\t@EqualsAndHashCode.Include\r\n\t\t\t@NotNull\r\n\t\t\tLong businessKey2;\r\n\t\t\tString name;\r\n\t\t}\r\n\r\n**Approach 1** - Custom method added to each User*Dto\r\n\r\n\t\tboolean businessKeysMatch(UserEntity entity) {\r\n\t\t\tif((this.getBusinessKey1() == entity.getBusinessKey1()) &amp;&amp; (this.getBusinessKey2() == entity.getBusinessKey2()))\r\n\t\t\t\treturn true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n**Approach 2** - Add static method to common interface\r\n\r\n\t\tinterface UserKeys {\r\n\t\t\tLong getBusinessKey1();\r\n\t\t\tLong getBusinessKey2();\r\n\t\t\tstatic boolean businessKeysMatch(UserKeys o1, UserKeys o2) {\r\n\t\t\t\tif((o1.getBusinessKey1() == o2.getBusinessKey1()) &amp;&amp; (o1.getBusinessKey2() == o2.getBusinessKey2()))\r\n\t\t\t\t\treturn true;\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclass UserEntity implements UserKeys {\r\n\t\t\t// no other changes\r\n\t\t}\r\n\r\n\t\tclass UserDto implements UserKeys {\r\n\t\t\t// no other changes\r\n\t\t}\r\n\r\n\t\tclass UserEntity implements UserKeys {\r\n\t\t\t// no other changes\r\n\t\t}\r\n\r\n**Approach 3** - Comparator\r\n\r\n\t\tinterface UserBusinessKey {\r\n\t\t\tLong getBusinessKey1();\r\n\t\t\tLong getBusinessKey2();\r\n\t\t}\r\n\r\n\t\tclass UserDto implements UserCompare {\r\n\t\t\t// no other changes\r\n\t\t}\r\n\r\n\t\tclass UserEntity implements UserCompare {\r\n\t\t\t// no other changes\r\n\t\t}\r\n\r\n\t\tclass UserCompare implements Comparator&lt;UserBusinessKey&gt; {\r\n\t\t\tpublic int compare(UserBusinessKey o1, UserBusinessKey o2) {\r\n\t\t\t\tint key1Compare = o1.getBusinessKey1().compareTo(o2.getBusinessKey1());\r\n\r\n\t\t\t\tif (key1Compare == 0) \r\n\t\t\t\t\treturn o1.getBusinessKey2().compareTo(o2.getBusinessKey2());\r\n\t\t\t\treturn key1Compare;\r\n\t\t\t}\r\n\t\t}\r\n**Approach 4** - Inheritance with equals/hashcode of base class only\r\n\r\n\t\t@SuperBuilder\r\n\t\t@AllArgsConstructor\r\n\t\t@NoArgsConstructor\r\n\t\t@Data\r\n\t\tabstract class UserBase {\r\n\t\t\t@NotNull\r\n\t\t\tLong businessKey1;\r\n\t\t\t@NotNull\r\n\t\t\tLong businessKey2;\r\n\t\t\t// lombok generates a standard equals() / hashcode() pair\r\n\t\t}\r\n\r\n\t\t@SuperBuilder\r\n\t\t@Getter\r\n\t\t@Setter\r\n\t\t@ToString\r\n\t\t@Entity\r\n\t\t@Table(uniqueConstraints = { @UniqueConstraint(columnNames = { &quot;businessKey1&quot;, &quot;businessKey2&quot; }) })\r\n\t\tclass UserEntity extends UserBase {\r\n\t\t\t@Id\r\n\t\t\tLong id;\r\n\t\t\tString name;\r\n\t\t\tInteger age;\r\n\t\t\tString password;\r\n\t\t\tString refreshToken;\r\n\t\t\tString SSN;\r\n\t\t\t\r\n\t\t\t// handcoded equals/hashcode that only call super\r\n\t\t\t@Override\r\n\t\t\tpublic boolean equals(Object obj) {\r\n\t\t\t\treturn super.equals(obj);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int hashCode() {\r\n\t\t\t\treturn super.hashCode();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@SuperBuilder\r\n\t\t@Getter\r\n\t\t@Setter\r\n\t\t@ToString\r\n\t\tclass UserDto extends UserBase {\r\n\t\t\tString name;\r\n\t\t\tString address;\r\n\t\t\tInteger age;\r\n\t\t\t\r\n\t\t\t// handcoded equals/hashcode that only call super\r\n\t\t\t@Override\r\n\t\t\tpublic boolean equals(Object obj) {\r\n\t\t\t\treturn super.equals(obj);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int hashCode() {\r\n\t\t\t\treturn super.hashCode();\r\n\t\t\t}\r\n\t\t}\r\n","title":"Compare JPA Entity and DTO","body":"<p>I need a standard approach to compare a JPA Entity to it's DTOs and determine if they represent the same business object.  I can think of three approaches, a custom method on each DTO, an interface with a static method or a comparator.</p>\n<p>Building on the answer from <em>JoÃ£o Dias</em>, approach 4 - Inheritance.</p>\n<p>Pros/Cons</p>\n<ul>\n<li>Approach 1 - Bad all the way around</li>\n<li>Approach 2 - Uses interface to favor composition over inheritance but requires semantics using custom method name (<code>businessKeysMatch()</code>)</li>\n<li>Approach 3 - Does not require the source code to be modified</li>\n<li>Approach 4 - Simplifies semantics as it uses standard <code>equals()</code> but requires &quot;boilerplate <code>equals()/hashcode()</code></li>\n</ul>\n<p>Any other pros/cons of the approaches or suggestions on other approaches?</p>\n<p><em>In the end, I chose to use approach 2 (Interface).  The Inheritance approach showed promise but one of the classes being a JPA Entity made the mapping more complex than I wanted.</em></p>\n<p>Thanks for reading and thinking about my question!</p>\n<p><strong>Background</strong></p>\n<p>Entity</p>\n<ul>\n<li><p>a database key</p>\n</li>\n<li><p>a business key that is unique enforced at ORM and database that determines equality (<code>equals()</code>/<code>hashcode()</code>)</p>\n</li>\n<li><p>public attributes (name, address, age, etc)</p>\n</li>\n<li><p>non-public / confidential attributes (password, refresh token, SSN, etc)</p>\n<pre><code>  @Data\n  @EqualsAndHashCode(onlyExplicitlyIncluded = true)\n  @Entity\n  @Table(uniqueConstraints = { @UniqueConstraint(columnNames = { &quot;businessKey1&quot;, &quot;businessKey2&quot; }) })\n  class UserEntity {\n      @Id\n      Long id;\n      @NotNull\n      @EqualsAndHashCode.Include\n      Long businessKey1;\n      @NotNull\n      @EqualsAndHashCode.Include\n      Long businessKey2;\n      String name;\n      Integer age;\n      String password;\n      String refreshToken;\n      String SSN;\n  }\n</code></pre>\n</li>\n</ul>\n<p>DTO (full)</p>\n<ul>\n<li><p>business key that determines equality (<code>equals()</code>/<code>hashcode()</code>)</p>\n</li>\n<li><p>public attributes (name, address, age, etc)</p>\n<pre><code>  @Data\n  @EqualsAndHashCode(onlyExplicitlyIncluded = true)\n  class UserDto {\n      @EqualsAndHashCode.Include\n      @NotNull\n      Long businessKey1;\n      @EqualsAndHashCode.Include\n      @NotNull\n      Long businessKey2;\n      String name;\n      String address;\n      Integer age;\n  }\n</code></pre>\n</li>\n</ul>\n<p>DTO (limited)</p>\n<ul>\n<li><p>business key that determines equality (<code>equals()</code>/<code>hashcode()</code>)</p>\n</li>\n<li><p>selected public attributes (name)</p>\n<pre><code>  @Data\n  @EqualsAndHashCode(onlyExplicitlyIncluded = true)\n  class UserNameDto {\n      @EqualsAndHashCode.Include\n      @NotNull\n      Long businessKey1;\n      @EqualsAndHashCode.Include\n      @NotNull\n      Long businessKey2;\n      String name;\n  }\n</code></pre>\n</li>\n</ul>\n<p><strong>Approach 1</strong> - Custom method added to each User*Dto</p>\n<pre><code>    boolean businessKeysMatch(UserEntity entity) {\n        if((this.getBusinessKey1() == entity.getBusinessKey1()) &amp;&amp; (this.getBusinessKey2() == entity.getBusinessKey2()))\n            return true;\n        return false;\n    }\n</code></pre>\n<p><strong>Approach 2</strong> - Add static method to common interface</p>\n<pre><code>    interface UserKeys {\n        Long getBusinessKey1();\n        Long getBusinessKey2();\n        static boolean businessKeysMatch(UserKeys o1, UserKeys o2) {\n            if((o1.getBusinessKey1() == o2.getBusinessKey1()) &amp;&amp; (o1.getBusinessKey2() == o2.getBusinessKey2()))\n                return true;\n            return false;\n        }\n    }\n\n    class UserEntity implements UserKeys {\n        // no other changes\n    }\n\n    class UserDto implements UserKeys {\n        // no other changes\n    }\n\n    class UserEntity implements UserKeys {\n        // no other changes\n    }\n</code></pre>\n<p><strong>Approach 3</strong> - Comparator</p>\n<pre><code>    interface UserBusinessKey {\n        Long getBusinessKey1();\n        Long getBusinessKey2();\n    }\n\n    class UserDto implements UserCompare {\n        // no other changes\n    }\n\n    class UserEntity implements UserCompare {\n        // no other changes\n    }\n\n    class UserCompare implements Comparator&lt;UserBusinessKey&gt; {\n        public int compare(UserBusinessKey o1, UserBusinessKey o2) {\n            int key1Compare = o1.getBusinessKey1().compareTo(o2.getBusinessKey1());\n\n            if (key1Compare == 0) \n                return o1.getBusinessKey2().compareTo(o2.getBusinessKey2());\n            return key1Compare;\n        }\n    }\n</code></pre>\n<p><strong>Approach 4</strong> - Inheritance with equals/hashcode of base class only</p>\n<pre><code>    @SuperBuilder\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Data\n    abstract class UserBase {\n        @NotNull\n        Long businessKey1;\n        @NotNull\n        Long businessKey2;\n        // lombok generates a standard equals() / hashcode() pair\n    }\n\n    @SuperBuilder\n    @Getter\n    @Setter\n    @ToString\n    @Entity\n    @Table(uniqueConstraints = { @UniqueConstraint(columnNames = { &quot;businessKey1&quot;, &quot;businessKey2&quot; }) })\n    class UserEntity extends UserBase {\n        @Id\n        Long id;\n        String name;\n        Integer age;\n        String password;\n        String refreshToken;\n        String SSN;\n        \n        // handcoded equals/hashcode that only call super\n        @Override\n        public boolean equals(Object obj) {\n            return super.equals(obj);\n        }\n\n        @Override\n        public int hashCode() {\n            return super.hashCode();\n        }\n    }\n\n    @SuperBuilder\n    @Getter\n    @Setter\n    @ToString\n    class UserDto extends UserBase {\n        String name;\n        String address;\n        Integer age;\n        \n        // handcoded equals/hashcode that only call super\n        @Override\n        public boolean equals(Object obj) {\n            return super.equals(obj);\n        }\n\n        @Override\n        public int hashCode() {\n            return super.hashCode();\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":66967,"reputation":500,"user_id":196207,"display_name":"Sankozi"},"score":0,"creation_date":1638886499,"post_id":70261209,"comment_id":124203035,"body_markdown":"`@SpringBootApplication` contains `@EnableAutoConfiguration` without excludes, I am not sure which annotation will be chosen by Spring&#39;s meta annotation logic, but I would replace `@SpringBootApplication` with its annotations (except `@EnableAutoConfiguration` of course)","body":"<code>@SpringBootApplication</code> contains <code>@EnableAutoConfiguration</code> without excludes, I am not sure which annotation will be chosen by Spring&#39;s meta annotation logic, but I would replace <code>@SpringBootApplication</code> with its annotations (except <code>@EnableAutoConfiguration</code> of course)"},{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1638909940,"post_id":70261209,"comment_id":124212430,"body_markdown":"Why not set the configuration property [`spring.autoconfigure.exclude`](https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.auto-configuration.disabling-specific) to the list of auto-configuration classes to exclude? Set this configuration property inside a profile.","body":"Why not set the configuration property <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.auto-configuration.disabling-specific\" rel=\"nofollow noreferrer\"><code>spring.autoconfigure.exclude</code></a> to the list of auto-configuration classes to exclude? Set this configuration property inside a profile."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1638952995,"post_id":70261209,"comment_id":124221894,"body_markdown":"@ChinHuang because I don&#39;t run my application in different profiles (different jobs are triggered by program args).","body":"@ChinHuang because I don&#39;t run my application in different profiles (different jobs are triggered by program args)."}],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638891480,"creation_date":1638891480,"answer_id":70262966,"question_id":70261209,"body_markdown":"I could manage it by adding an additional `@EnableAutoConfiguration` that is only executed on a certain condition.\r\nThis way I can dynamically exclude the database config, while keeping a clean basis main `@SpringBootConfiguration` class.\r\n\r\n    public class DataSourceConfig {\r\n    \t@Configuration\r\n    \t@Conditional(MyCondition.class)\r\n    \t@EnableAutoConfiguration(exclude = {\r\n    \t\t\tDataSourceAutoConfiguration.class,\r\n    \t\t\tDataSourceTransactionManagerAutoConfiguration.class,\r\n    \t\t\tHibernateJpaAutoConfiguration.class})\r\n    \tstatic class ExcludeDataSource {\r\n    \t}\r\n    }\r\n","title":"How to externalize @SpringBootApplication configuration?","body":"<p>I could manage it by adding an additional <code>@EnableAutoConfiguration</code> that is only executed on a certain condition.\nThis way I can dynamically exclude the database config, while keeping a clean basis main <code>@SpringBootConfiguration</code> class.</p>\n<pre><code>public class DataSourceConfig {\n    @Configuration\n    @Conditional(MyCondition.class)\n    @EnableAutoConfiguration(exclude = {\n            DataSourceAutoConfiguration.class,\n            DataSourceTransactionManagerAutoConfiguration.class,\n            HibernateJpaAutoConfiguration.class})\n    static class ExcludeDataSource {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638953009,"creation_date":1638884595,"question_id":70261209,"body_markdown":"I want to externalize the `@SpringBootApplication(exclude...)` option, to have a reusable class or annotation that I could throw in to exclude any database/hibernate initialization.\r\n\r\nSo, instead of writing:\r\n\r\n    @SpringBootApplication(\r\n    \t\texclude = {\r\n    \t\t\t\tDataSourceAutoConfiguration.class,\r\n    \t\t\t\tDataSourceTransactionManagerAutoConfiguration.class,\r\n    \t\t\t\tHibernateJpaAutoConfiguration.class})\r\n    public class MainApp {\r\n    }\r\n\r\nI would like to create a annotation that I could apply to my `@SpringBootApplication` main class:\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Inherited\r\n    @EnableAutoConfiguration(exclude = {\r\n    \t\tDataSourceAutoConfiguration.class,\r\n    \t\tDataSourceTransactionManagerAutoConfiguration.class,\r\n    \t\tHibernateJpaAutoConfiguration.class})\r\n    @Configuration\r\n    public @interface ExcludeDataSources {\r\n    }\r\n\r\nAnd then enable this feature by annotation:\r\n\r\n    @SpringBootApplication\r\n    @ExcludeDataSources\r\n    public class MainApp {\r\n    }\r\n\r\nProblem: the annotation approach does not work, and spring still tries to load a database. Why?\r\n\r\nMy final goal is to have multiple startup classes, where only one loads the database.","title":"How to externalize @SpringBootApplication configuration?","body":"<p>I want to externalize the <code>@SpringBootApplication(exclude...)</code> option, to have a reusable class or annotation that I could throw in to exclude any database/hibernate initialization.</p>\n<p>So, instead of writing:</p>\n<pre><code>@SpringBootApplication(\n        exclude = {\n                DataSourceAutoConfiguration.class,\n                DataSourceTransactionManagerAutoConfiguration.class,\n                HibernateJpaAutoConfiguration.class})\npublic class MainApp {\n}\n</code></pre>\n<p>I would like to create a annotation that I could apply to my <code>@SpringBootApplication</code> main class:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@EnableAutoConfiguration(exclude = {\n        DataSourceAutoConfiguration.class,\n        DataSourceTransactionManagerAutoConfiguration.class,\n        HibernateJpaAutoConfiguration.class})\n@Configuration\npublic @interface ExcludeDataSources {\n}\n</code></pre>\n<p>And then enable this feature by annotation:</p>\n<pre><code>@SpringBootApplication\n@ExcludeDataSources\npublic class MainApp {\n}\n</code></pre>\n<p>Problem: the annotation approach does not work, and spring still tries to load a database. Why?</p>\n<p>My final goal is to have multiple startup classes, where only one loads the database.</p>\n"},{"tags":["java","biginteger","bit","bigint"],"comments":[{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1396337438,"post_id":22779406,"comment_id":34730453,"body_markdown":"Each bit represents a 0 or 1.","body":"Each bit represents a 0 or 1."},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1396337556,"post_id":22779406,"comment_id":34730510,"body_markdown":"If you really want to know, lookup the source code which you can find in the file `src.zip` in your JDK installation directory.","body":"If you really want to know, lookup the source code which you can find in the file <code>src.zip</code> in your JDK installation directory."}],"answers":[{"tags":[],"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1396337479,"creation_date":1396337479,"answer_id":22779455,"question_id":22779406,"body_markdown":"From sourcecode, they are stored in an `int` array\r\n\r\n&gt;The magnitude of this BigInteger, in big-endian order: the zeroth element of this array is the most-significant int of the magnitude. The magnitude must be &quot;minimal&quot; in that the most-significant int (mag[0]) must be non-zero. This is necessary to ensure that there is exactly one representation for each BigInteger value. Note that this implies that the BigInteger zero has a zero-length mag array.\r\n\r\n\r\n    118 \r\n    119     int[] mag;\r\n    120 \r\n    121     // These &quot;redundant fields&quot; are initialized with recognizable nonsense\r\n    122     // values, and cached the first time they are needed (or never, if they\r\n    123     // aren&#39;t needed).\r\n    124 ","title":"How are BigInteger stored","body":"<p>From sourcecode, they are stored in an <code>int</code> array</p>\n\n<blockquote>\n  <p>The magnitude of this BigInteger, in big-endian order: the zeroth element of this array is the most-significant int of the magnitude. The magnitude must be \"minimal\" in that the most-significant int (mag[0]) must be non-zero. This is necessary to ensure that there is exactly one representation for each BigInteger value. Note that this implies that the BigInteger zero has a zero-length mag array.</p>\n</blockquote>\n\n<pre><code>118 \n119     int[] mag;\n120 \n121     // These \"redundant fields\" are initialized with recognizable nonsense\n122     // values, and cached the first time they are needed (or never, if they\n123     // aren't needed).\n124 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":12864158,"reputation":611,"user_id":9304999,"display_name":"rosshjb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638952730,"creation_date":1638951270,"answer_id":70271804,"question_id":22779406,"body_markdown":"Conceptually, `BigInteger` converts an integer into arbitrary-length bit string, and then split the bit string by 4bytes. Then, each 4bytes result is assigned into each element in `mag` array:\r\n\r\n    BigInteger bi = new BigInteger(&quot;1234567890&quot;);\r\n\r\n    byte[] bytes = bi.toByteArray();\r\n\r\n    String rs = &quot;&quot;;\r\n    for (byte b : bytes) {\r\n        String bs1 = Integer.toBinaryString(b &amp; 0xff);\r\n        String bs2 = String.format(&quot;%8s&quot;, bs1).replace(&#39; &#39;, &#39;0&#39;);\r\n        rs = rs + bs2 + &quot; &quot;;\r\n    }\r\n    System.out.println(bi.signum());     // 1\r\n    System.out.println(bi.bitLength());  // 31\r\n    System.out.println(rs);              // 01001001 10010110 00000010 11010010\r\n\r\n- The `final int signum` is `1` (`00000000 00000000 00000000 00000001`).\r\n- The `mag[0]` in `final int[] mag` is `1234567890` (`01001001 10010110 00000010 11010010`). Yes, `mag` has one element only.\r\n\r\nLet&#39;s represent more bigger integer:\r\n\r\n    BigInteger bi = new BigInteger(&quot;12345678901234567890&quot;);\r\n\r\n    byte[] bytes = bi.toByteArray();\r\n\r\n    String rs = &quot;&quot;;\r\n    for (byte b : bytes) {\r\n        String bs1 = Integer.toBinaryString(b &amp; 0xff);\r\n        String bs2 = String.format(&quot;%8s&quot;, bs1).replace(&#39; &#39;, &#39;0&#39;);\r\n        rs = rs + bs2 + &quot; &quot;;\r\n    }\r\n    System.out.println(bi.signum());     // 1\r\n    System.out.println(bi.bitLength());  // 64\r\n    System.out.println(rs);              // 00000000 10101011 01010100 10101001 10001100 11101011 00011111 00001010 11010010\r\n\r\n- The `final int signum` is `1` (`00000000 00000000 00000000 00000001`).\r\n- The `mag[0]` in `final int[] mag` is `-1420514932` (`10101011 01010100 10101001 10001100`).\r\n- The `mag[1]` in `final int[] mag` is `-350287150` (`11101011 00011111 00001010 11010010`).\r\n\r\nWhen we instantiate an `BigInteger` instance with a negative integer:\r\n\r\n    BigInteger bi = new BigInteger(&quot;-1234567890&quot;);\r\n\r\n    byte[] bytes = bi.toByteArray();\r\n\r\n    String rs = &quot;&quot;;\r\n    for (byte b : bytes) {\r\n        String bs1 = Integer.toBinaryString(b &amp; 0xff);\r\n        String bs2 = String.format(&quot;%8s&quot;, bs1).replace(&#39; &#39;, &#39;0&#39;);\r\n        rs = rs + bs2 + &quot; &quot;;\r\n    }\r\n    System.out.println(bi.signum());     // -1\r\n    System.out.println(bi.bitLength());  // 31\r\n    System.out.println(rs);              // 10110110 01101001 11111101 00101110\r\n\r\n- The `final int signum` is `-1` (`11111111 11111111 11111111 11111111`).\r\n- The `mag[0]` in `final int[] mag` is `1234567890` (`01001001 10010110 00000010 11010010`). Yes, `mag` stores number&#39;s *magnitude*.\r\n- When we call `toByteArray()`, `BigInteger` converts `mag` array&#39;s magnitude representation into 2&#39;s complement representation because `signum` is `-1`, meaning negative value. So, do not treat `toByteArray` as `BigInteger`&#39;s internal representation.\r\n\r\nWhen we instantiate an `BigInteger` instance with zero:\r\n\r\n    BigInteger bi = new BigInteger(&quot;0&quot;);\r\n\r\n    byte[] bytes = bi.toByteArray();\r\n\r\n    String rs = &quot;&quot;;\r\n    for (byte b : bytes) {\r\n        String bs1 = Integer.toBinaryString(b &amp; 0xff);\r\n        String bs2 = String.format(&quot;%8s&quot;, bs1).replace(&#39; &#39;, &#39;0&#39;);\r\n        rs = rs + bs2 + &quot; &quot;;\r\n    }\r\n    System.out.println(bi.signum());     // 0\r\n    System.out.println(bi.bitLength());  // 0\r\n    System.out.println(rs);              // 00000000\r\n\r\n- The `final int signum` is `0` (`00000000 00000000 00000000 00000000`).\r\n- The `final int[] mag` has no element; zero-sized array. `The magnitude must be &quot;minimal&quot; in that the most-significant int (mag[0]) must be non-zero. This is necessary to ensure that there is exactly one representation for each BigInteger value. Note that this implies that the BigInteger zero has a zero-length mag`\r\n","title":"How are BigInteger stored","body":"<p>Conceptually, <code>BigInteger</code> converts an integer into arbitrary-length bit string, and then split the bit string by 4bytes. Then, each 4bytes result is assigned into each element in <code>mag</code> array:</p>\n<pre><code>BigInteger bi = new BigInteger(&quot;1234567890&quot;);\n\nbyte[] bytes = bi.toByteArray();\n\nString rs = &quot;&quot;;\nfor (byte b : bytes) {\n    String bs1 = Integer.toBinaryString(b &amp; 0xff);\n    String bs2 = String.format(&quot;%8s&quot;, bs1).replace(' ', '0');\n    rs = rs + bs2 + &quot; &quot;;\n}\nSystem.out.println(bi.signum());     // 1\nSystem.out.println(bi.bitLength());  // 31\nSystem.out.println(rs);              // 01001001 10010110 00000010 11010010\n</code></pre>\n<ul>\n<li>The <code>final int signum</code> is <code>1</code> (<code>00000000 00000000 00000000 00000001</code>).</li>\n<li>The <code>mag[0]</code> in <code>final int[] mag</code> is <code>1234567890</code> (<code>01001001 10010110 00000010 11010010</code>). Yes, <code>mag</code> has one element only.</li>\n</ul>\n<p>Let's represent more bigger integer:</p>\n<pre><code>BigInteger bi = new BigInteger(&quot;12345678901234567890&quot;);\n\nbyte[] bytes = bi.toByteArray();\n\nString rs = &quot;&quot;;\nfor (byte b : bytes) {\n    String bs1 = Integer.toBinaryString(b &amp; 0xff);\n    String bs2 = String.format(&quot;%8s&quot;, bs1).replace(' ', '0');\n    rs = rs + bs2 + &quot; &quot;;\n}\nSystem.out.println(bi.signum());     // 1\nSystem.out.println(bi.bitLength());  // 64\nSystem.out.println(rs);              // 00000000 10101011 01010100 10101001 10001100 11101011 00011111 00001010 11010010\n</code></pre>\n<ul>\n<li>The <code>final int signum</code> is <code>1</code> (<code>00000000 00000000 00000000 00000001</code>).</li>\n<li>The <code>mag[0]</code> in <code>final int[] mag</code> is <code>-1420514932</code> (<code>10101011 01010100 10101001 10001100</code>).</li>\n<li>The <code>mag[1]</code> in <code>final int[] mag</code> is <code>-350287150</code> (<code>11101011 00011111 00001010 11010010</code>).</li>\n</ul>\n<p>When we instantiate an <code>BigInteger</code> instance with a negative integer:</p>\n<pre><code>BigInteger bi = new BigInteger(&quot;-1234567890&quot;);\n\nbyte[] bytes = bi.toByteArray();\n\nString rs = &quot;&quot;;\nfor (byte b : bytes) {\n    String bs1 = Integer.toBinaryString(b &amp; 0xff);\n    String bs2 = String.format(&quot;%8s&quot;, bs1).replace(' ', '0');\n    rs = rs + bs2 + &quot; &quot;;\n}\nSystem.out.println(bi.signum());     // -1\nSystem.out.println(bi.bitLength());  // 31\nSystem.out.println(rs);              // 10110110 01101001 11111101 00101110\n</code></pre>\n<ul>\n<li>The <code>final int signum</code> is <code>-1</code> (<code>11111111 11111111 11111111 11111111</code>).</li>\n<li>The <code>mag[0]</code> in <code>final int[] mag</code> is <code>1234567890</code> (<code>01001001 10010110 00000010 11010010</code>). Yes, <code>mag</code> stores number's <em>magnitude</em>.</li>\n<li>When we call <code>toByteArray()</code>, <code>BigInteger</code> converts <code>mag</code> array's magnitude representation into 2's complement representation because <code>signum</code> is <code>-1</code>, meaning negative value. So, do not treat <code>toByteArray</code> as <code>BigInteger</code>'s internal representation.</li>\n</ul>\n<p>When we instantiate an <code>BigInteger</code> instance with zero:</p>\n<pre><code>BigInteger bi = new BigInteger(&quot;0&quot;);\n\nbyte[] bytes = bi.toByteArray();\n\nString rs = &quot;&quot;;\nfor (byte b : bytes) {\n    String bs1 = Integer.toBinaryString(b &amp; 0xff);\n    String bs2 = String.format(&quot;%8s&quot;, bs1).replace(' ', '0');\n    rs = rs + bs2 + &quot; &quot;;\n}\nSystem.out.println(bi.signum());     // 0\nSystem.out.println(bi.bitLength());  // 0\nSystem.out.println(rs);              // 00000000\n</code></pre>\n<ul>\n<li>The <code>final int signum</code> is <code>0</code> (<code>00000000 00000000 00000000 00000000</code>).</li>\n<li>The <code>final int[] mag</code> has no element; zero-sized array. <code>The magnitude must be &quot;minimal&quot; in that the most-significant int (mag[0]) must be non-zero. This is necessary to ensure that there is exactly one representation for each BigInteger value. Note that this implies that the BigInteger zero has a zero-length mag</code></li>\n</ul>\n"}],"owner":{"account_id":2374115,"reputation":4583,"user_id":2077972,"accept_rate":97,"display_name":"George Irimiciuc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1237,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22779455,"answer_count":2,"score":2,"last_activity_date":1638952730,"creation_date":1396337314,"question_id":22779406,"body_markdown":"I need to generate 512 bit BigInts, but I&#39;m not sure which of the two below is true:\r\n\r\n512 bits means 512 digits of `1010101010...001010` which are then converted to the decimal it represents?\r\n\r\nOr does it mean 512 digits of `0-9`, so basicly a 512-digit number with digits ranging from 0-9? Something like 12414124124....54543=512 digits.","title":"How are BigInteger stored","body":"<p>I need to generate 512 bit BigInts, but I'm not sure which of the two below is true:</p>\n\n<p>512 bits means 512 digits of <code>1010101010...001010</code> which are then converted to the decimal it represents?</p>\n\n<p>Or does it mean 512 digits of <code>0-9</code>, so basicly a 512-digit number with digits ranging from 0-9? Something like 12414124124....54543=512 digits.</p>\n"},{"tags":["java","spring","spring-boot","hystrix","circuit-breaker"],"answers":[{"tags":[],"owner":{"account_id":17385459,"reputation":194,"user_id":15006167,"display_name":"user15006167"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638952558,"creation_date":1638952558,"answer_id":70272035,"question_id":70271085,"body_markdown":"From the @HystrixCommand in your controller, remove the HystrixProperty configured for timeout and provide a **commandKey=**. Now in your application.properties add,\r\n\r\n    hystrix.command.HystrixCommandKey.execution.isolation.thread.timeoutInMilliseconds=2000\r\n\r\nFor more details checkout,\r\nhttps://github.com/Netflix/Hystrix/wiki/Configuration#execution.isolation.thread.timeoutInMilliseconds","title":"Hystrix command value mapping throws HystrixProperty Exception","body":"<p>From the @HystrixCommand in your controller, remove the HystrixProperty configured for timeout and provide a <strong>commandKey=</strong>. Now in your application.properties add,</p>\n<pre><code>hystrix.command.HystrixCommandKey.execution.isolation.thread.timeoutInMilliseconds=2000\n</code></pre>\n<p>For more details checkout,\n<a href=\"https://github.com/Netflix/Hystrix/wiki/Configuration#execution.isolation.thread.timeoutInMilliseconds\" rel=\"nofollow noreferrer\">https://github.com/Netflix/Hystrix/wiki/Configuration#execution.isolation.thread.timeoutInMilliseconds</a></p>\n"}],"owner":{"account_id":20511311,"reputation":597,"user_id":15053014,"display_name":"ima.technophyle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70272035,"answer_count":1,"score":1,"last_activity_date":1638952558,"creation_date":1638946755,"question_id":70271085,"body_markdown":"Consider the below code,\r\n\r\nMain class\r\n\r\n    @SpringBootApplication\r\n    @EnableCircuitBreaker\r\n    public class Main {\r\n    }\r\n\r\nRestController\r\n\r\n    @PostMapping(&quot;/...&quot;)\r\n    @HystricCommand(commandProperties = { @HystrixProperty(name=â€execution.isolation.thread.timeoutInMilliSecondsâ€, value=â€${request.timeout.interval}â€)})\r\n    public Object getData(){\r\n    }\r\n\r\nWhen I call this endpoint, I am getting:\r\n\r\n&gt; HystrixProperty Exception- Failed to set commandProperties. groupKey: MyController, commandKey: getData, threadPool: &#39;null&#39;.\r\n\r\nWhen I remove -&gt; `value=â€${request.timeout.interval}â€` and hardcode it as -&gt; `value=â€1000â€`, the exception is not shown anymore and execution takes place successfully.\r\n\r\nCan&#39;t we do the value mapping over here? If not, is it possible to move this property to application.properties or globally handle the property via any configuration file? \r\n\r\nI don&#39;t want the value field to be hardcoded along with my endpoints as I have 10+ endpoints in my application.\r\n\r\n","title":"Hystrix command value mapping throws HystrixProperty Exception","body":"<p>Consider the below code,</p>\n<p>Main class</p>\n<pre><code>@SpringBootApplication\n@EnableCircuitBreaker\npublic class Main {\n}\n</code></pre>\n<p>RestController</p>\n<pre><code>@PostMapping(&quot;/...&quot;)\n@HystricCommand(commandProperties = { @HystrixProperty(name=â€execution.isolation.thread.timeoutInMilliSecondsâ€, value=â€${request.timeout.interval}â€)})\npublic Object getData(){\n}\n</code></pre>\n<p>When I call this endpoint, I am getting:</p>\n<blockquote>\n<p>HystrixProperty Exception- Failed to set commandProperties. groupKey: MyController, commandKey: getData, threadPool: 'null'.</p>\n</blockquote>\n<p>When I remove -&gt; <code>value=â€${request.timeout.interval}â€</code> and hardcode it as -&gt; <code>value=â€1000â€</code>, the exception is not shown anymore and execution takes place successfully.</p>\n<p>Can't we do the value mapping over here? If not, is it possible to move this property to application.properties or globally handle the property via any configuration file?</p>\n<p>I don't want the value field to be hardcoded along with my endpoints as I have 10+ endpoints in my application.</p>\n"},{"tags":["java","spring","spring-boot","redis"],"comments":[{"owner":{"account_id":2907341,"reputation":828,"user_id":2492306,"accept_rate":83,"display_name":"Zishan Mohsin"},"score":0,"creation_date":1638884292,"post_id":68383411,"comment_id":124201959,"body_markdown":"Did you find any solution?","body":"Did you find any solution?"},{"owner":{"account_id":16319133,"reputation":71,"user_id":11785412,"display_name":"Åukasz Ungier"},"score":0,"creation_date":1653399010,"post_id":68383411,"comment_id":127839146,"body_markdown":"Same problem for me.","body":"Same problem for me."},{"owner":{"account_id":16319133,"reputation":71,"user_id":11785412,"display_name":"Åukasz Ungier"},"score":0,"creation_date":1653462212,"post_id":68383411,"comment_id":127855263,"body_markdown":"Are you trying to change it for use of @Cacheable or any other similar annotation or for use of RedisTemplate method calls?","body":"Are you trying to change it for use of @Cacheable or any other similar annotation or for use of RedisTemplate method calls?"}],"owner":{"account_id":21726932,"reputation":41,"user_id":16449814,"display_name":"Tester"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1638952532,"creation_date":1626287371,"question_id":68383411,"body_markdown":"My objects do not implement serialization and I do not want to rewrite for this. I tried to replace JdkSerializationRedisSerializer with Jackson2JsonRedisSerialize, I have tried many options but it doesn&#39;t change. What&#39;s the problem?\r\n\r\n```\r\n@EnableCaching\r\n@Configuration\r\npublic class RedisConfig {\r\n  @Bean\r\n  public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory){\r\n    RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n    redisTemplate.setConnectionFactory(redisConnectionFactory);\r\n    Jackson2JsonRedisSerializer&lt;Object&gt; jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer&lt;&gt;(Object.class);\r\n    redisTemplate.setKeySerializer(jackson2JsonRedisSerializer);\r\n    redisTemplate.setDefaultSerializer(jackson2JsonRedisSerializer);\r\n    return redisTemplate;\r\n  }\r\n}\r\n```\r\nError\r\n\r\n```\r\nCaused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to serialize object using DefaultSerializer; nested exception is java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [com.social.website.entity.user.User]\r\n\tat org.springframework.core.serializer.support.SerializingConverter.convert(SerializingConverter.java:64)\r\n\tat org.springframework.core.serializer.support.SerializingConverter.convert(SerializingConverter.java:33)\r\n\tat org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.serialize(JdkSerializationRedisSerializer.java:94)\r\n\t... 150 more\r\nCaused by: java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [com.project.entity.User]\r\n\tat org.springframework.core.serializer.DefaultSerializer.serialize(DefaultSerializer.java:43)\r\n\tat org.springframework.core.serializer.Serializer.serializeToByteArray(Serializer.java:56)\r\n\tat org.springframework.core.serializer.support.SerializingConverter.convert(SerializingConverter.java:60)\r\n\t... 152 more\r\n```\r\n\r\n","title":"JdkSerializationRedisSerializer in Spring Boot does not change","body":"<p>My objects do not implement serialization and I do not want to rewrite for this. I tried to replace JdkSerializationRedisSerializer with Jackson2JsonRedisSerialize, I have tried many options but it doesn't change. What's the problem?</p>\n<pre><code>@EnableCaching\n@Configuration\npublic class RedisConfig {\n  @Bean\n  public RedisTemplate&lt;String, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory){\n    RedisTemplate&lt;String, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n    redisTemplate.setConnectionFactory(redisConnectionFactory);\n    Jackson2JsonRedisSerializer&lt;Object&gt; jackson2JsonRedisSerializer = new Jackson2JsonRedisSerializer&lt;&gt;(Object.class);\n    redisTemplate.setKeySerializer(jackson2JsonRedisSerializer);\n    redisTemplate.setDefaultSerializer(jackson2JsonRedisSerializer);\n    return redisTemplate;\n  }\n}\n</code></pre>\n<p>Error</p>\n<pre><code>Caused by: org.springframework.core.serializer.support.SerializationFailedException: Failed to serialize object using DefaultSerializer; nested exception is java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [com.social.website.entity.user.User]\n    at org.springframework.core.serializer.support.SerializingConverter.convert(SerializingConverter.java:64)\n    at org.springframework.core.serializer.support.SerializingConverter.convert(SerializingConverter.java:33)\n    at org.springframework.data.redis.serializer.JdkSerializationRedisSerializer.serialize(JdkSerializationRedisSerializer.java:94)\n    ... 150 more\nCaused by: java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [com.project.entity.User]\n    at org.springframework.core.serializer.DefaultSerializer.serialize(DefaultSerializer.java:43)\n    at org.springframework.core.serializer.Serializer.serializeToByteArray(Serializer.java:56)\n    at org.springframework.core.serializer.support.SerializingConverter.convert(SerializingConverter.java:60)\n    ... 152 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1638892871,"post_id":70263263,"comment_id":124205922,"body_markdown":"Java doesn&#39;t let you assign values to literal numbers like 6.  Did you mean `(6 == ...`?","body":"Java doesn&#39;t let you assign values to literal numbers like 6.  Did you mean <code>(6 == ...</code>?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1638983723,"post_id":70263263,"comment_id":124234189,"body_markdown":"What does &quot;you can divide x with 4&quot; mean? 5 can be divided by 4, the result is 1.25. Or does it mean something else? The statements before contain &quot;the remainder is 0&quot;, but this statement does not","body":"What does &quot;you can divide x with 4&quot; mean? 5 can be divided by 4, the result is 1.25. Or does it mean something else? The statements before contain &quot;the remainder is 0&quot;, but this statement does not"}],"answers":[{"tags":[],"owner":{"account_id":20145264,"reputation":250,"user_id":14773942,"display_name":"Ê€á´€ÊœÉªÊŸ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638893277,"creation_date":1638893277,"answer_id":70263386,"question_id":70263263,"body_markdown":"There is only one number **i.e 42** which satisfies all conditions.\r\n```\r\nfor (int i = 0; i &lt; 100; i++) {\r\n    if (i % 6 == 0 &amp;&amp; i % 7 == 0 &amp;&amp; (i/10) + (i%10) == 6)\r\n        System.out.println(&quot;The number is : &quot; + i);\r\n}\r\n```","title":"Search a number with for loop and different criteria","body":"<p>There is only one number <strong>i.e 42</strong> which satisfies all conditions.</p>\n<pre><code>for (int i = 0; i &lt; 100; i++) {\n    if (i % 6 == 0 &amp;&amp; i % 7 == 0 &amp;&amp; (i/10) + (i%10) == 6)\n        System.out.println(&quot;The number is : &quot; + i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":283661,"reputation":434,"user_id":581285,"display_name":"Mauro Vanetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638952260,"creation_date":1638893897,"answer_id":70263531,"question_id":70263263,"body_markdown":"A `for` loop does not work like that.\r\n\r\nWhat you&#39;re trying to do is check all numbers from 1 to 100 and stop searching when you find one that matches all criteria.\r\n\r\nThere are several ways to do that, but I would pick this: Use a `for` loop to cycle over all numbers from 1 to 100. Check if all the conditions apply, and if they do, print out the number and leave the loop.\r\n\r\n    for (int x = 1; x &lt;= 100; x++) {\r\n      if ((x % 6 == 0) &amp;&amp; \r\n          (x % 7 == 0) &amp;&amp; \r\n          (x % 4 == 0) &amp;&amp; \r\n          ((x / 10) + (x % 10) == 6)) {\r\n        System.out.println(&quot;BINGO: &quot; + x);\r\n        break;\r\n      }\r\n    }\r\n\r\nFor some reason you treated the condition with the 4 as different from the others, but it is not (*can be divided by* = the remainder is zero).\r\n\r\nIf you wanted to combine the if within the for, you can do it, but it works the other way round: you are supposed to put the condition required *to proceed* to the next run of the loop. It becomes this:\r\n\r\n    int x;\r\n    for (x = 1; \r\n        (x &lt;= 100) &amp;&amp;\r\n        (x % 6 == 0) &amp;&amp; \r\n        (x % 7 == 0) &amp;&amp; \r\n        (x % 4 == 0) &amp;&amp; \r\n        ((x / 10) + (x % 10) == 6);\r\n        x++) {\r\n      // Does nothing here\r\n    }\r\n    System.out.println(&quot;BINGO: &quot; + x);\r\n\r\nNotice that you need to declare `x` as an integer outside the `for` loop because you want to read it after you `break` out of the cycle.\r\n\r\nThe first version is definitely more readable (to humans).","title":"Search a number with for loop and different criteria","body":"<p>A <code>for</code> loop does not work like that.</p>\n<p>What you're trying to do is check all numbers from 1 to 100 and stop searching when you find one that matches all criteria.</p>\n<p>There are several ways to do that, but I would pick this: Use a <code>for</code> loop to cycle over all numbers from 1 to 100. Check if all the conditions apply, and if they do, print out the number and leave the loop.</p>\n<pre><code>for (int x = 1; x &lt;= 100; x++) {\n  if ((x % 6 == 0) &amp;&amp; \n      (x % 7 == 0) &amp;&amp; \n      (x % 4 == 0) &amp;&amp; \n      ((x / 10) + (x % 10) == 6)) {\n    System.out.println(&quot;BINGO: &quot; + x);\n    break;\n  }\n}\n</code></pre>\n<p>For some reason you treated the condition with the 4 as different from the others, but it is not (<em>can be divided by</em> = the remainder is zero).</p>\n<p>If you wanted to combine the if within the for, you can do it, but it works the other way round: you are supposed to put the condition required <em>to proceed</em> to the next run of the loop. It becomes this:</p>\n<pre><code>int x;\nfor (x = 1; \n    (x &lt;= 100) &amp;&amp;\n    (x % 6 == 0) &amp;&amp; \n    (x % 7 == 0) &amp;&amp; \n    (x % 4 == 0) &amp;&amp; \n    ((x / 10) + (x % 10) == 6);\n    x++) {\n  // Does nothing here\n}\nSystem.out.println(&quot;BINGO: &quot; + x);\n</code></pre>\n<p>Notice that you need to declare <code>x</code> as an integer outside the <code>for</code> loop because you want to read it after you <code>break</code> out of the cycle.</p>\n<p>The first version is definitely more readable (to humans).</p>\n"}],"owner":{"account_id":23576683,"reputation":3,"user_id":17616269,"display_name":"VLUVIG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70263386,"answer_count":2,"score":-1,"last_activity_date":1638952356,"creation_date":1638892733,"question_id":70263263,"body_markdown":"I am new in this whole coding stuff and I have no idea what I do wrong?\r\n\r\nMy task is to write a for loop to search a number(x), with the criteria:\r\n\r\n- It is a number from 1 to 100\r\n- If you divide x with 6 the remainder is 0\r\n- If you divide x with 7 the remainder is 0\r\n- You can divide x with 4\r\n- The cross sum is 6\r\n\r\n```java\r\npublic class Test{\r\n  public static void main(String[] args){\r\n\r\n    for(int x = 1;\r\n            (x%6 == 0) &amp;&amp;\r\n            (x%7 == 0) &amp;&amp;\r\n            (x/4) &amp;&amp;\r\n            (6= (x%10) + (x/10));\r\n                    x++) {\r\n        System.out.println(&quot;Die gesuchte Zahl ist: &quot; +x);\r\n    }\r\n\r\n  }\r\n}\r\n```\r\n\r\nMy editor show me that there is a unexpected type in this line: `(6= (x%10) + (x/10));`\r\nand this error &quot;bad operand types for binary operator &#39;&amp;&amp;&#39;&quot; in this line: `(x%7 == 0) &amp;&amp;`","title":"Search a number with for loop and different criteria","body":"<p>I am new in this whole coding stuff and I have no idea what I do wrong?</p>\n<p>My task is to write a for loop to search a number(x), with the criteria:</p>\n<ul>\n<li>It is a number from 1 to 100</li>\n<li>If you divide x with 6 the remainder is 0</li>\n<li>If you divide x with 7 the remainder is 0</li>\n<li>You can divide x with 4</li>\n<li>The cross sum is 6</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test{\n  public static void main(String[] args){\n\n    for(int x = 1;\n            (x%6 == 0) &amp;&amp;\n            (x%7 == 0) &amp;&amp;\n            (x/4) &amp;&amp;\n            (6= (x%10) + (x/10));\n                    x++) {\n        System.out.println(&quot;Die gesuchte Zahl ist: &quot; +x);\n    }\n\n  }\n}\n</code></pre>\n<p>My editor show me that there is a unexpected type in this line: <code>(6= (x%10) + (x/10));</code>\nand this error &quot;bad operand types for binary operator '&amp;&amp;'&quot; in this line: <code>(x%7 == 0) &amp;&amp;</code></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":1,"creation_date":1638953111,"post_id":70271928,"comment_id":124221934,"body_markdown":"You don&#39;t handle exception in sendNotification, let add try/catch ... and i wonder what do you do with this exception? Throw it in service or something?","body":"You don&#39;t handle exception in sendNotification, let add try/catch ... and i wonder what do you do with this exception? Throw it in service or something?"},{"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"score":0,"creation_date":1638954599,"post_id":70271928,"comment_id":124222372,"body_markdown":"Thanks for pointing me into the right direction. This is what I think is happening: The controller actually has finished its work while `sendNotification()` is running &quot;outside&quot; the controller context. Thus, my `RestControllerAdvice` doesn&#39;t kick in.","body":"Thanks for pointing me into the right direction. This is what I think is happening: The controller actually has finished its work while <code>sendNotification()</code> is running &quot;outside&quot; the controller context. Thus, my <code>RestControllerAdvice</code> doesn&#39;t kick in."},{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":1,"creation_date":1638954795,"post_id":70271928,"comment_id":124222434,"body_markdown":"Yeah, if you want to RestControllerAdvice catch your exception, so you must throw it inside service, so executorService is meaningless here, because you have to wait the result of webclient... to check status error... something is quite confused in your requirement","body":"Yeah, if you want to RestControllerAdvice catch your exception, so you must throw it inside service, so executorService is meaningless here, because you have to wait the result of webclient... to check status error... something is quite confused in your requirement"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1638955502,"post_id":70271928,"comment_id":124222699,"body_markdown":"What should happen on the client side if `sendNotification` fails? Is this response of any meaning to the client? Currently the client will immediately receive the result string and any error in `sendNotification` will happen unnoticed.","body":"What should happen on the client side if <code>sendNotification</code> fails? Is this response of any meaning to the client? Currently the client will immediately receive the result string and any error in <code>sendNotification</code> will happen unnoticed."}],"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638952026,"creation_date":1638952026,"question_id":70271928,"body_markdown":"Given a simple REST controller and service method (Spring Boot 2.5.x and Java 8) how can I achieve the following?\r\n\r\n1. A client posts some data to the REST controller.\r\n2. The controller calls the service method.\r\n3. The service method shall invoke a REST call to an external API using the `WebClient` **after a fixed delay** of e.g. 10 s.\r\n\r\nWhile 1. and 2. are trivial, I struggle with 3. My first implementation looks like this, using a `ScheduledExecutorService`. This actually delays the execution of `sendNotification()` but it seems as if the result of this REST call is ignored. If the external API returns an e.g. HTTP 4xx/5xx, I would expect a `WebClientResponseException` but this does not happen.\r\n\r\nMaybe this has something to do with the `ScheduledExecutorService` and some thread issue?\r\n\r\n**REST Controller class**\r\n\r\n```java\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class ServiceController {\r\n\r\n    private final SampleService sampleService;\r\n\r\n    @PostMapping(value = &quot;/api&quot;)\r\n    public String create(@RequestBody SampleRequest sampleRequest) {\r\n        return sampleService.create(sampleRequest);\r\n    }\r\n}\r\n```\r\n\r\n**Service class**\r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class SampleService {\r\n\r\n    private final ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\r\n\r\n    public String create(SampleRequest sampleRequest) {\r\n        final String result = processSampleRequest(sampleRequest);\r\n        executorService.schedule(() -&gt; sendNotification(), 10, TimeUnit.SECONDS);\r\n        return result;\r\n    }\r\n\r\n    public void sendNotification() {\r\n        final WebClient webClient = WebClient.builder()\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .build();\r\n        webClient.post()\r\n                .uri(&quot;http://localhost:5555&quot;)\r\n                .body(BodyInserters.fromValue(&quot;some string&quot;))\r\n                .retrieve()\r\n                .toBodilessEntity()\r\n                .block();    \r\n    }\r\n}\r\n```","title":"Delaying a Spring WebClient call with ScheduledExecutorService does not wait for response","body":"<p>Given a simple REST controller and service method (Spring Boot 2.5.x and Java 8) how can I achieve the following?</p>\n<ol>\n<li>A client posts some data to the REST controller.</li>\n<li>The controller calls the service method.</li>\n<li>The service method shall invoke a REST call to an external API using the <code>WebClient</code> <strong>after a fixed delay</strong> of e.g. 10 s.</li>\n</ol>\n<p>While 1. and 2. are trivial, I struggle with 3. My first implementation looks like this, using a <code>ScheduledExecutorService</code>. This actually delays the execution of <code>sendNotification()</code> but it seems as if the result of this REST call is ignored. If the external API returns an e.g. HTTP 4xx/5xx, I would expect a <code>WebClientResponseException</code> but this does not happen.</p>\n<p>Maybe this has something to do with the <code>ScheduledExecutorService</code> and some thread issue?</p>\n<p><strong>REST Controller class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequiredArgsConstructor\npublic class ServiceController {\n\n    private final SampleService sampleService;\n\n    @PostMapping(value = &quot;/api&quot;)\n    public String create(@RequestBody SampleRequest sampleRequest) {\n        return sampleService.create(sampleRequest);\n    }\n}\n</code></pre>\n<p><strong>Service class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class SampleService {\n\n    private final ScheduledExecutorService executorService = Executors.newSingleThreadScheduledExecutor();\n\n    public String create(SampleRequest sampleRequest) {\n        final String result = processSampleRequest(sampleRequest);\n        executorService.schedule(() -&gt; sendNotification(), 10, TimeUnit.SECONDS);\n        return result;\n    }\n\n    public void sendNotification() {\n        final WebClient webClient = WebClient.builder()\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .build();\n        webClient.post()\n                .uri(&quot;http://localhost:5555&quot;)\n                .body(BodyInserters.fromValue(&quot;some string&quot;))\n                .retrieve()\n                .toBodilessEntity()\n                .block();    \n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","apk","root"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1638951904,"post_id":70271870,"comment_id":124221518,"body_markdown":"Do you use the same signature for debug and release APKs? If you install an app, you can also install updates to it signed with the exact same private key/certificate.","body":"Do you use the same signature for debug and release APKs? If you install an app, you can also install updates to it signed with the exact same private key/certificate."},{"owner":{"account_id":5198523,"reputation":415,"user_id":4158832,"accept_rate":60,"display_name":"ali73"},"score":0,"creation_date":1638952070,"post_id":70271870,"comment_id":124221586,"body_markdown":"The signature of debug and release APKs are different, but I don&#39;t suppose that matters, since we try to update debug version using debug APKs and release versions using release APKs.","body":"The signature of debug and release APKs are different, but I don&#39;t suppose that matters, since we try to update debug version using debug APKs and release versions using release APKs."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1638952126,"post_id":70271870,"comment_id":124221610,"body_markdown":"It is possible that proguard changes the name `com.exam.ple.views/com.exam.ple.views.SplashActivity`. you could try with something like `SplashActivity.class.getCanonicalName()` instead of `com.exam.ple.views.SplashActivity`.","body":"It is possible that proguard changes the name <code>com.exam.ple.views&#47;com.exam.ple.views.SplashActivity</code>. you could try with something like <code>SplashActivity.class.getCanonicalName()</code> instead of <code>com.exam.ple.views.SplashActivity</code>."},{"owner":{"account_id":5198523,"reputation":415,"user_id":4158832,"accept_rate":60,"display_name":"ali73"},"score":0,"creation_date":1638952331,"post_id":70271870,"comment_id":124221676,"body_markdown":"How can we make sure whether this happens or not?","body":"How can we make sure whether this happens or not?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1638952370,"post_id":70271870,"comment_id":124221690,"body_markdown":"You can configure proguard behaviour (`proguard-rules.pro`) , yes","body":"You can configure proguard behaviour (<code>proguard-rules.pro</code>) , yes"},{"owner":{"account_id":5198523,"reputation":415,"user_id":4158832,"accept_rate":60,"display_name":"ali73"},"score":0,"creation_date":1638952539,"post_id":70271870,"comment_id":124221747,"body_markdown":"If proguard did change the name, then would Termux be able to open the activity?","body":"If proguard did change the name, then would Termux be able to open the activity?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1638952634,"post_id":70271870,"comment_id":124221786,"body_markdown":"I don&#39;t know, it was just an idea. Can you show the errors?","body":"I don&#39;t know, it was just an idea. Can you show the errors?"},{"owner":{"account_id":5198523,"reputation":415,"user_id":4158832,"accept_rate":60,"display_name":"ali73"},"score":0,"creation_date":1638952684,"post_id":70271870,"comment_id":124221797,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/239942/discussion-between-ali73-and-dan1st).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/239942/discussion-between-ali73-and-dan1st\">continue this discussion in chat</a>."}],"owner":{"account_id":5198523,"reputation":415,"user_id":4158832,"accept_rate":60,"display_name":"ali73"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638951630,"creation_date":1638951630,"question_id":70271870,"body_markdown":"I&#39;m writing an application in `kotlin` and `java` and on only rooted `TV-Box`es. I&#39;ve added a feature to download apk file from my own server and install it and after installation rerun it:\r\n```\r\n\r\n                        Log.d(TAG, &quot;doInBackground: writeByte install&quot;);\r\n                        cs.writeBytes(String.format(&quot;cat %s | pm install -S %d\\n&quot;, strings[0], length));\r\n                        Log.d(TAG, &quot;doInBackground: writeByte start activity&quot;);\r\n                        cs.writeBytes((&quot;am start -n com.exam.ple.views/com.exam.ple.views.SplashActivity&quot; +\r\n                                &quot; --ez update true\\n&quot;));\r\n```\r\n\r\nThe problem is that this code works fine if the signed apk file is in debug mode. But when it is in release mode, it doesn&#39;t work properly, meaning that the application installs successfully but doesn&#39;t start the activity (and just when it is signed as release APK).\r\nI&#39;ve checked the `am start ...` in terminal(`Termux`) and it works fine under all circumstances. \r\n\r\nAny idea what could cause this problem?","title":"Update application on rooted device and start it manually","body":"<p>I'm writing an application in <code>kotlin</code> and <code>java</code> and on only rooted <code>TV-Box</code>es. I've added a feature to download apk file from my own server and install it and after installation rerun it:</p>\n<pre><code>\n                        Log.d(TAG, &quot;doInBackground: writeByte install&quot;);\n                        cs.writeBytes(String.format(&quot;cat %s | pm install -S %d\\n&quot;, strings[0], length));\n                        Log.d(TAG, &quot;doInBackground: writeByte start activity&quot;);\n                        cs.writeBytes((&quot;am start -n com.exam.ple.views/com.exam.ple.views.SplashActivity&quot; +\n                                &quot; --ez update true\\n&quot;));\n</code></pre>\n<p>The problem is that this code works fine if the signed apk file is in debug mode. But when it is in release mode, it doesn't work properly, meaning that the application installs successfully but doesn't start the activity (and just when it is signed as release APK).\nI've checked the <code>am start ...</code> in terminal(<code>Termux</code>) and it works fine under all circumstances.</p>\n<p>Any idea what could cause this problem?</p>\n"},{"tags":["java","carriage-return"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1638700374,"post_id":70233404,"comment_id":124152937,"body_markdown":"What do you think should happen instead? What makes you think so?","body":"What do you think should happen instead? What makes you think so?"},{"owner":{"account_id":14724831,"reputation":133,"user_id":10634207,"display_name":"Toni Nagy"},"score":0,"creation_date":1638700584,"post_id":70233404,"comment_id":124152982,"body_markdown":"@Elliott Frisch Actually you are wrong, since java 10 or so, you can compile and run a single source file with the command java X.java","body":"@Elliott Frisch Actually you are wrong, since java 10 or so, you can compile and run a single source file with the command java X.java"},{"owner":{"account_id":14724831,"reputation":133,"user_id":10634207,"display_name":"Toni Nagy"},"score":0,"creation_date":1638700745,"post_id":70233404,"comment_id":124153006,"body_markdown":"https://openjdk.java.net/jeps/330 It&#39;s Java 11, sorry","body":"<a href=\"https://openjdk.java.net/jeps/330\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/330</a> It&#39;s Java 11, sorry"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1638700762,"post_id":70233404,"comment_id":124153011,"body_markdown":"`$ java Strings.java` executes code of `Strings.java` but you are showing code of `class Main`.","body":"<code>$ java Strings.java</code> executes code of <code>Strings.java</code> but you are showing code of <code>class Main</code>."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638701618,"post_id":70233404,"comment_id":124153203,"body_markdown":"Looks like it works exactly as I would expect. Try with \\n instead.","body":"Looks like it works exactly as I would expect. Try with \\n instead."},{"owner":{"account_id":10088138,"reputation":55,"user_id":7533628,"display_name":"Erin"},"score":0,"creation_date":1638701911,"post_id":70233404,"comment_id":124153263,"body_markdown":"https://www.w3schools.com/java/tryjava.asp?filename=demo_strings_r","body":"<a href=\"https://www.w3schools.com/java/tryjava.asp?filename=demo_strings_r\" rel=\"nofollow noreferrer\">w3schools.com/java/tryjava.asp?filename=demo_strings_r</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1638707694,"post_id":70233404,"comment_id":124154505,"body_markdown":"@user16320675 Just tested it. Indeed `java Strings.java` ***works*** despite `Strings.java` holding code as `public class Main{...}` (which `javac` wouldn&#39;t allow since public top-level classes should be in files with same name as class name, meaning it would expect `Main.java`). Learned something new today. Thank you.","body":"@user16320675 Just tested it. Indeed <code>java Strings.java</code> <b><i>works</i></b> despite <code>Strings.java</code> holding code as <code>public class Main{...}</code> (which <code>javac</code> wouldn&#39;t allow since public top-level classes should be in files with same name as class name, meaning it would expect <code>Main.java</code>). Learned something new today. Thank you."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1638717238,"post_id":70233404,"comment_id":124156705,"body_markdown":"@Pshemo [JLS 7.6. Top Level Class and Interface Declarations](https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.6-510): *&quot; If and only if packages are stored in a file system (&#167;7.2), the host system may choose to enforce the restriction that it is a compile-time error if a class or interface is not found in a file under a name composed of the class or interface name plus an extension (such as .java or .jav) if either of the following is true: .... - The class or interface is declared public ...&quot;*","body":"@Pshemo <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-7.html#jls-7.6-510\" rel=\"nofollow noreferrer\">JLS 7.6. Top Level Class and Interface Declarations</a>: <i>&quot; If and only if packages are stored in a file system (&#167;7.2), the host system may choose to enforce the restriction that it is a compile-time error if a class or interface is not found in a file under a name composed of the class or interface name plus an extension (such as .java or .jav) if either of the following is true: .... - The class or interface is declared public ...&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638701410,"creation_date":1638700526,"answer_id":70233438,"question_id":70233404,"body_markdown":"This depends on the operation system: Linux (`\\n`), Mac (`\\r`), Windows (`\\r\\n`). All have different `new line` symbols. See [Adding a Newline Character to a String in Java][1].\r\n\r\nTo get an actual combination, do use:\r\n```java\r\nSystem.lineSeparator()\r\n```\r\n\r\nAccording to your example:\r\n```java\r\nSystem.out.println(&quot;Hello&quot; + System.lineSeparator() + &quot;World!&quot;);\r\nSystem.out.println(&quot;Trying&quot; + System.lineSeparator() + &quot;this&quot;);\r\n```\r\nOutput:\r\n```sh\r\n$ java Strings.java \r\nHello\r\nWorld!\r\nTrying\r\nWorld!\r\nthis\r\n```\r\n\r\nThis is a bit ugly, but a universal solution.\r\n\r\n\r\n***P.S.** As alternative, you can use `System.out.format()` instead:*\r\n```java\r\nSystem.out.format(&quot;Hello%nWorld!%n&quot;);\r\nSystem.out.format(&quot;Trying%nthis%n&quot;);\r\n```\r\n\r\n***P.P.S.** I think in general it is better to build a list of lines and use `System.out.println()`:*\r\n```java\r\nArrays.asList(&quot;Hello&quot;, &quot;World!&quot;).forEach(System.out::println);\r\nArrays.asList(&quot;Trying&quot;, &quot;this!&quot;).forEach(System.out::println);\r\n```\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-string-newline","title":"Java carriage return \\r doesn&#39;t seem to work correctly","body":"<p>This depends on the operation system: Linux (<code>\\n</code>), Mac (<code>\\r</code>), Windows (<code>\\r\\n</code>). All have different <code>new line</code> symbols. See <a href=\"https://www.baeldung.com/java-string-newline\" rel=\"nofollow noreferrer\">Adding a Newline Character to a String in Java</a>.</p>\n<p>To get an actual combination, do use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.lineSeparator()\n</code></pre>\n<p>According to your example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Hello&quot; + System.lineSeparator() + &quot;World!&quot;);\nSystem.out.println(&quot;Trying&quot; + System.lineSeparator() + &quot;this&quot;);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ java Strings.java \nHello\nWorld!\nTrying\nWorld!\nthis\n</code></pre>\n<p>This is a bit ugly, but a universal solution.</p>\n<p><em><strong>P.S.</strong> As alternative, you can use <code>System.out.format()</code> instead:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.format(&quot;Hello%nWorld!%n&quot;);\nSystem.out.format(&quot;Trying%nthis%n&quot;);\n</code></pre>\n<p><em><strong>P.P.S.</strong> I think in general it is better to build a list of lines and use <code>System.out.println()</code>:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.asList(&quot;Hello&quot;, &quot;World!&quot;).forEach(System.out::println);\nArrays.asList(&quot;Trying&quot;, &quot;this!&quot;).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638700862,"creation_date":1638700862,"answer_id":70233476,"question_id":70233404,"body_markdown":"You can also use `format` with `%n` which is replaced by the platform line separator, so could use this:\r\n\r\n    System.out.format(&quot;Hello%nWorld!%n&quot;);\r\n","title":"Java carriage return \\r doesn&#39;t seem to work correctly","body":"<p>You can also use <code>format</code> with <code>%n</code> which is replaced by the platform line separator, so could use this:</p>\n<pre><code>System.out.format(&quot;Hello%nWorld!%n&quot;);\n</code></pre>\n"}],"owner":{"account_id":10088138,"reputation":55,"user_id":7533628,"display_name":"Erin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":70233438,"answer_count":2,"score":0,"last_activity_date":1638951512,"creation_date":1638700254,"question_id":70233404,"body_markdown":"Here&#39;s my java code:\r\n\r\n```java\r\n// file name is Strings.java\r\npublic class Main {\r\n    public static void main(String[] args){\r\n        String txt = &quot;Hello\\rWorld!&quot;;\r\n        System.out.println(txt);\r\n\r\n        String txt2 = &quot;Trying\\rthis&quot;;\r\n        System.out.println(txt2);\r\n    } \r\n}\r\n```\r\nAnd I tried to execute it from my terminal, and saw this:\r\n\r\n```sh\r\n$ java Strings.java \r\nWorld!\r\nthisng\r\n```\r\n\r\nI have also tried to execute this from Visual Studio Code, same results. So the outputs are different than what is written in [this tutorial][1]. Could someone please tell me why? Thank you! \r\n\r\n\r\n  [1]: https://www.w3schools.com/java/tryjava.asp?filename=demo_strings_r","title":"Java carriage return \\r doesn&#39;t seem to work correctly","body":"<p>Here's my java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// file name is Strings.java\npublic class Main {\n    public static void main(String[] args){\n        String txt = &quot;Hello\\rWorld!&quot;;\n        System.out.println(txt);\n\n        String txt2 = &quot;Trying\\rthis&quot;;\n        System.out.println(txt2);\n    } \n}\n</code></pre>\n<p>And I tried to execute it from my terminal, and saw this:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ java Strings.java \nWorld!\nthisng\n</code></pre>\n<p>I have also tried to execute this from Visual Studio Code, same results. So the outputs are different than what is written in <a href=\"https://www.w3schools.com/java/tryjava.asp?filename=demo_strings_r\" rel=\"nofollow noreferrer\">this tutorial</a>. Could someone please tell me why? Thank you!</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":4935211,"reputation":851,"user_id":10477323,"display_name":"TheCoolDrop"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638948051,"creation_date":1638948051,"answer_id":70271289,"question_id":70271167,"body_markdown":"Well you need to start with a generic class and do something like:\r\n\r\n```java\r\npublic class PairOf&lt;T&gt; {\r\n    private T first;\r\n    private T second;\r\n\r\n    public PairOf(T first, T second) { \r\n        this.first = first;\r\n        this.second = second;\r\n    }\r\n\r\n    public T getFirst() { return first; }\r\n    public T getSecond() { return second; }\r\n\r\n}\r\n\r\n```\r\n\r\nThen you can use this class in place of your specific classes exactly as before.","title":"Refactor similar methods to a generic method in Java","body":"<p>Well you need to start with a generic class and do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PairOf&lt;T&gt; {\n    private T first;\n    private T second;\n\n    public PairOf(T first, T second) { \n        this.first = first;\n        this.second = second;\n    }\n\n    public T getFirst() { return first; }\n    public T getSecond() { return second; }\n\n}\n\n</code></pre>\n<p>Then you can use this class in place of your specific classes exactly as before.</p>\n"},{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638949020,"creation_date":1638949020,"answer_id":70271423,"question_id":70271167,"body_markdown":"    @Test\r\n      public void test() {\r\n        PairOf&lt;String&gt; pairOfStr = new PairOf&lt;&gt;(&quot;abc&quot;, &quot;def&quot;);\r\n        PairOf&lt;Integer&gt; pairOfInt = new PairOf&lt;&gt;(1, 2);\r\n        PairOf&lt;Double&gt; pairOfDouble = new PairOf&lt;&gt;(1.0, 2.0);\r\n        Assertions.assertEquals(pairOfStr.getFirst(), getValue(pairOfStr, true));\r\n        Assertions.assertEquals(pairOfInt.getFirst(), getValue(pairOfInt, true));\r\n        Assertions.assertEquals(pairOfDouble.getFirst(), getValue(pairOfDouble, true));\r\n      }\r\n    \r\n      public class PairOf&lt;T&gt; {\r\n        private T first;\r\n        private T second;\r\n    \r\n        public PairOf(T first, T second) {\r\n          this.first = first;\r\n          this.second = second;\r\n        }\r\n    \r\n        public T getFirst() {\r\n          return first;\r\n        }\r\n    \r\n        public T getSecond() {\r\n          return second;\r\n        }\r\n    \r\n      }\r\n    \r\n      public &lt;T&gt; T getValue(PairOf&lt;T&gt; t, boolean first) {\r\n        return first ? t.getFirst() : t.getSecond();\r\n      }\r\n\r\nWith number, you can cast to primitive by method:\r\n\r\n    getValue(pairOfInt, true).intValue();\r\n        getValue(pairOfDouble, true).doubleValue();\r\n","title":"Refactor similar methods to a generic method in Java","body":"<pre><code>@Test\n  public void test() {\n    PairOf&lt;String&gt; pairOfStr = new PairOf&lt;&gt;(&quot;abc&quot;, &quot;def&quot;);\n    PairOf&lt;Integer&gt; pairOfInt = new PairOf&lt;&gt;(1, 2);\n    PairOf&lt;Double&gt; pairOfDouble = new PairOf&lt;&gt;(1.0, 2.0);\n    Assertions.assertEquals(pairOfStr.getFirst(), getValue(pairOfStr, true));\n    Assertions.assertEquals(pairOfInt.getFirst(), getValue(pairOfInt, true));\n    Assertions.assertEquals(pairOfDouble.getFirst(), getValue(pairOfDouble, true));\n  }\n\n  public class PairOf&lt;T&gt; {\n    private T first;\n    private T second;\n\n    public PairOf(T first, T second) {\n      this.first = first;\n      this.second = second;\n    }\n\n    public T getFirst() {\n      return first;\n    }\n\n    public T getSecond() {\n      return second;\n    }\n\n  }\n\n  public &lt;T&gt; T getValue(PairOf&lt;T&gt; t, boolean first) {\n    return first ? t.getFirst() : t.getSecond();\n  }\n</code></pre>\n<p>With number, you can cast to primitive by method:</p>\n<pre><code>getValue(pairOfInt, true).intValue();\n    getValue(pairOfDouble, true).doubleValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14145515,"reputation":61,"user_id":10218968,"display_name":"Makarand Sarmalkar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638950520,"creation_date":1638950520,"answer_id":70271679,"question_id":70271167,"body_markdown":"Try this:\r\n\r\n```\r\npublic class GenericClass&lt;T&gt; {\r\n    private T p1;\r\n    private T p2;\r\n    GenericClass(T p1, T p2) {\r\n        this.p1=p1;\r\n        this.p2=p2;\r\n    }\r\n    T getP1() { return p1; }\r\n    T getP2() { return p2; }\r\n\r\n}\r\n```\r\n\r\n```\r\n    private T getValue(Supplier&lt;GenericClass&lt;T&gt;&gt; executable, boolean boolValue) {\r\n        return boolValue ? executable.get().getP1(): executable.get().getP2();\r\n    }\r\n```","title":"Refactor similar methods to a generic method in Java","body":"<p>Try this:</p>\n<pre><code>public class GenericClass&lt;T&gt; {\n    private T p1;\n    private T p2;\n    GenericClass(T p1, T p2) {\n        this.p1=p1;\n        this.p2=p2;\n    }\n    T getP1() { return p1; }\n    T getP2() { return p2; }\n\n}\n</code></pre>\n<pre><code>    private T getValue(Supplier&lt;GenericClass&lt;T&gt;&gt; executable, boolean boolValue) {\n        return boolValue ? executable.get().getP1(): executable.get().getP2();\n    }\n</code></pre>\n"}],"owner":{"account_id":19360476,"reputation":35,"user_id":14155821,"display_name":"bazzinga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1638951364,"creation_date":1638947288,"question_id":70271167,"body_markdown":"I have three similar classes for different types.\r\n```\r\npublic class IntClass {\r\n    private int p1;  private int p2;\r\n    IntClass(int p1, int p2) { this.p1=p1; this.p2=p2; }\r\n    int getP1() { return p1; }\r\n    int getP2() { return p2; }\r\n}\r\npublic class DoubleClass {\r\n    private double p1;  private double p2;\r\n    DoubleClass(double p1, double p2) { this.p1=p1; this.p2=p2; }\r\n    double getP1() { return p1; }\r\n    double getP2() { return p2; }\r\n}\r\npublic class StringClass {\r\n    private String p1;  private String p2;\r\n    StringClass(String p1, String p2) { this.p1=p1; this.p2=p2; }\r\n    String getP1() { return p1; }\r\n    String getP2() { return p2; }\r\n}\r\npublic class C4 {\r\n    ...\r\n    private IntClass c1;\r\n    private DoubleClass c2;\r\n    private StringClass c3;\r\n    ...\r\n    IntClass getIntClass() { return C1; }\r\n    DoubleClass getDoubleClass() { return C2; }\r\n    StringClass getStringClass() { return C3; }\r\n    ...\r\n}\r\n```\r\nSomewhere else in codebase, I have following snippet of code with 3 similar methods.\r\n```\r\n...\r\nint a = getInt(C4::getIntClass, boolValue);\r\ndouble b = getDouble(C4::getDoubleClass, boolValue);\r\nString c = getString(C4::getStringClass, boolValue);\r\n...\r\n```\r\n```\r\nprivate int getInt(Supplier&lt;IntClass&gt; executable, boolean boolValue) {\r\n    ...\r\n    return boolValue? executable.get().getP1(): executable.get().getP2();\r\n}\r\nprivate double getDouble(Supplier&lt;DoubleClass&gt; executable, boolean boolValue) {\r\n    ...\r\n    return boolValue? executable.get().getP1(): executable.get().getP2();\r\n}\r\nprivate String getString(Supplier&lt;StringClass&gt; executable, boolean boolValue) {\r\n    ...\r\n    return boolValue? executable.get().getP1(): executable.get().getP2();\r\n}\r\n```\r\n\r\nI wanted to write a generic method `getValue` in replacement of `getInt`,`getDouble`,`getString`. How can we do so?\r\n\r\nEdit:- Cant make generic Class for `IntClass`, `DoubleClass`, `StringClass` as they serve some other usecase as well and are in different package library. Just wanted to refactor code at my end by writing a common generic method and removing similar redundant code. Just a thought!! Any suggestions specific to usecase would be appreciated.","title":"Refactor similar methods to a generic method in Java","body":"<p>I have three similar classes for different types.</p>\n<pre><code>public class IntClass {\n    private int p1;  private int p2;\n    IntClass(int p1, int p2) { this.p1=p1; this.p2=p2; }\n    int getP1() { return p1; }\n    int getP2() { return p2; }\n}\npublic class DoubleClass {\n    private double p1;  private double p2;\n    DoubleClass(double p1, double p2) { this.p1=p1; this.p2=p2; }\n    double getP1() { return p1; }\n    double getP2() { return p2; }\n}\npublic class StringClass {\n    private String p1;  private String p2;\n    StringClass(String p1, String p2) { this.p1=p1; this.p2=p2; }\n    String getP1() { return p1; }\n    String getP2() { return p2; }\n}\npublic class C4 {\n    ...\n    private IntClass c1;\n    private DoubleClass c2;\n    private StringClass c3;\n    ...\n    IntClass getIntClass() { return C1; }\n    DoubleClass getDoubleClass() { return C2; }\n    StringClass getStringClass() { return C3; }\n    ...\n}\n</code></pre>\n<p>Somewhere else in codebase, I have following snippet of code with 3 similar methods.</p>\n<pre><code>...\nint a = getInt(C4::getIntClass, boolValue);\ndouble b = getDouble(C4::getDoubleClass, boolValue);\nString c = getString(C4::getStringClass, boolValue);\n...\n</code></pre>\n<pre><code>private int getInt(Supplier&lt;IntClass&gt; executable, boolean boolValue) {\n    ...\n    return boolValue? executable.get().getP1(): executable.get().getP2();\n}\nprivate double getDouble(Supplier&lt;DoubleClass&gt; executable, boolean boolValue) {\n    ...\n    return boolValue? executable.get().getP1(): executable.get().getP2();\n}\nprivate String getString(Supplier&lt;StringClass&gt; executable, boolean boolValue) {\n    ...\n    return boolValue? executable.get().getP1(): executable.get().getP2();\n}\n</code></pre>\n<p>I wanted to write a generic method <code>getValue</code> in replacement of <code>getInt</code>,<code>getDouble</code>,<code>getString</code>. How can we do so?</p>\n<p>Edit:- Cant make generic Class for <code>IntClass</code>, <code>DoubleClass</code>, <code>StringClass</code> as they serve some other usecase as well and are in different package library. Just wanted to refactor code at my end by writing a common generic method and removing similar redundant code. Just a thought!! Any suggestions specific to usecase would be appreciated.</p>\n"},{"tags":["java","spring-boot","jdbc","spring-transactions","hikaricp"],"comments":[{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":0,"creation_date":1638928773,"post_id":70268911,"comment_id":124216752,"body_markdown":"In [this post](https://stackoverflow.com/questions/2458419/is-there-something-like-a-long-running-offline-transaction-for-nhibernate-or-a) they write about something with NHibernate and DisconnectedState (which is what I believe you want). Unfortunately it relates to .NET. I cannot find anything like this for Java.","body":"In <a href=\"https://stackoverflow.com/questions/2458419/is-there-something-like-a-long-running-offline-transaction-for-nhibernate-or-a\">this post</a> they write about something with NHibernate and DisconnectedState (which is what I believe you want). Unfortunately it relates to .NET. I cannot find anything like this for Java."}],"owner":{"account_id":5322273,"reputation":404,"user_id":4245401,"display_name":"itpr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638951191,"creation_date":1638927443,"question_id":70268911,"body_markdown":"I am using Feign Retryer with a long-running transaction. It&#39;s holding a JDBC connection which I want to release. \r\n\r\nI tried to close the connection, but it also commit a transaction, and Retryer is not invoked anymore.\r\n\r\nIs there a way to release the connection for the time of `Thread.sleep`()?\r\n\r\n\tpublic void continueOrPropagate(RetryableException exception) {\r\n\t\tdoSomething();\r\n\t\tif (attempts()) {\r\n\t\t\tthrow exception;\r\n\t\t}\r\n\t\tThread.sleep(500000);\r\n\t}","title":"A long running transaction with Feign Retryer holds the connection","body":"<p>I am using Feign Retryer with a long-running transaction. It's holding a JDBC connection which I want to release.</p>\n<p>I tried to close the connection, but it also commit a transaction, and Retryer is not invoked anymore.</p>\n<p>Is there a way to release the connection for the time of <code>Thread.sleep</code>()?</p>\n<pre><code>public void continueOrPropagate(RetryableException exception) {\n    doSomething();\n    if (attempts()) {\n        throw exception;\n    }\n    Thread.sleep(500000);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":1,"creation_date":1638889488,"post_id":70262184,"comment_id":124204389,"body_markdown":"What do you mean by `someone has to tell Spring what class to inject` ? Spring automatically inject everything if @Autowire, @Service and @Bean are used correctly","body":"What do you mean by <code>someone has to tell Spring what class to inject</code> ? Spring automatically inject everything if @Autowire, @Service and @Bean are used correctly"},{"owner":{"account_id":910460,"reputation":398,"user_id":944440,"accept_rate":100,"display_name":"katana0815"},"score":0,"creation_date":1638951649,"post_id":70262184,"comment_id":124221438,"body_markdown":"MyDao is not a Spring managed bean. So Spring won&#39;t be able to detect it out of the box. Thank you for the hin, I have edited the question.","body":"MyDao is not a Spring managed bean. So Spring won&#39;t be able to detect it out of the box. Thank you for the hin, I have edited the question."},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1639023819,"post_id":70262184,"comment_id":124244238,"body_markdown":"Did you solve your problem?","body":"Did you solve your problem?"},{"owner":{"account_id":910460,"reputation":398,"user_id":944440,"accept_rate":100,"display_name":"katana0815"},"score":0,"creation_date":1639258964,"post_id":70262184,"comment_id":124304370,"body_markdown":"Yes, thanks for asking. I did not know you can pretty much register any class as a bean, as describeld in option 2 in the accepted answer.","body":"Yes, thanks for asking. I did not know you can pretty much register any class as a bean, as describeld in option 2 in the accepted answer."}],"answers":[{"tags":[],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638889161,"creation_date":1638889161,"answer_id":70262392,"question_id":70262184,"body_markdown":"You just have to specify the profil for example : \r\n\r\n    \r\n    @Configuration\r\n    public class NonManagedSpringInjectionConfiguration {\r\n        \r\n        @Bean\r\n        @Profile(&quot;dev&quot;)\r\n        MyDao getMyDao() {\r\n            return DaoProvider.getMyDao();\r\n        }\r\n    }","title":"@Autowired or constructor inject non-managed classes into Spring context @Service for better testing","body":"<p>You just have to specify the profil for example :</p>\n<pre><code>@Configuration\npublic class NonManagedSpringInjectionConfiguration {\n    \n    @Bean\n    @Profile(&quot;dev&quot;)\n    MyDao getMyDao() {\n        return DaoProvider.getMyDao();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638892535,"creation_date":1638892535,"answer_id":70263222,"question_id":70262184,"body_markdown":"## Option 1\r\nIf you don&#39;t want to turn your `MyDao` into a Spring-managed Bean, your simpler and probably best option is to instead create the `MyService` Spring-managed Bean programmatically instead of relying on `@Service` annotation. First, just remove `@Service` from `MyService` and adjust its constructor to accept `MyDao`:\r\n```java\r\npublic class MyService {\r\n\r\n    MyDao myDao;\r\n\r\n    public MyService(MyDao myDao) {\r\n        this.myDao = myDao;\r\n    }\r\n    \r\n    public void foo() {\r\n        myDao.bar();\r\n        ....\r\n    }\r\n}\r\n```\r\n\r\nAnd now you just need to register a `MyService` bean using `@Bean` in a Configuration class as follows:\r\n```java\r\n@Configuration\r\npublic class WhateverConfiguration {\r\n    \r\n    @Bean\r\n    MyService myService() {\r\n        return new MyService(DaoProvider.getMyDao());\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n## Option 2\r\nIf instead there is a possibility to make `MyDao` a Spring-managed Bean, then just keep your `NonManagedSpringInjectionConfiguration` as is:\r\n```java\r\n@Configuration\r\npublic class NonManagedSpringInjectionConfiguration {\r\n    \r\n    @Bean\r\n    MyDao getMyDao() {\r\n        return DaoProvider.getMyDao();\r\n    }\r\n}\r\n```\r\n\r\nBut then rely on constructor injection instead of on `@Autowired`. It makes `MyService` easier to unit test and also explicitly defines that `MyDao` is mandatory for `MyService` to work properly. In this case you would keep `@Service` and rely on Spring to instantiate it:\r\n```java\r\n@Service\r\npublic class MyService {\r\n\r\n    MyDao myDao;\r\n\r\n    public MyService(MyDao myDao) {\r\n        this.myDao = myDao;\r\n    }\r\n\r\n    public void foo() {\r\n        myDao.bar();\r\n        ....\r\n    }\r\n}\r\n```","title":"@Autowired or constructor inject non-managed classes into Spring context @Service for better testing","body":"<h2>Option 1</h2>\n<p>If you don't want to turn your <code>MyDao</code> into a Spring-managed Bean, your simpler and probably best option is to instead create the <code>MyService</code> Spring-managed Bean programmatically instead of relying on <code>@Service</code> annotation. First, just remove <code>@Service</code> from <code>MyService</code> and adjust its constructor to accept <code>MyDao</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyService {\n\n    MyDao myDao;\n\n    public MyService(MyDao myDao) {\n        this.myDao = myDao;\n    }\n    \n    public void foo() {\n        myDao.bar();\n        ....\n    }\n}\n</code></pre>\n<p>And now you just need to register a <code>MyService</code> bean using <code>@Bean</code> in a Configuration class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WhateverConfiguration {\n    \n    @Bean\n    MyService myService() {\n        return new MyService(DaoProvider.getMyDao());\n    }\n}\n</code></pre>\n<hr />\n<h2>Option 2</h2>\n<p>If instead there is a possibility to make <code>MyDao</code> a Spring-managed Bean, then just keep your <code>NonManagedSpringInjectionConfiguration</code> as is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class NonManagedSpringInjectionConfiguration {\n    \n    @Bean\n    MyDao getMyDao() {\n        return DaoProvider.getMyDao();\n    }\n}\n</code></pre>\n<p>But then rely on constructor injection instead of on <code>@Autowired</code>. It makes <code>MyService</code> easier to unit test and also explicitly defines that <code>MyDao</code> is mandatory for <code>MyService</code> to work properly. In this case you would keep <code>@Service</code> and rely on Spring to instantiate it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n\n    MyDao myDao;\n\n    public MyService(MyDao myDao) {\n        this.myDao = myDao;\n    }\n\n    public void foo() {\n        myDao.bar();\n        ....\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":910460,"reputation":398,"user_id":944440,"accept_rate":100,"display_name":"katana0815"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70263222,"answer_count":2,"score":1,"last_activity_date":1638951076,"creation_date":1638888365,"question_id":70262184,"body_markdown":"In a Spring Boot project, we access our non managed DAO classes through a static method:\r\n\r\n    MyDao myDao = DaoProvider.getMyDao();\r\n\r\nWe use this in Spring managed `@Service` classes:\r\n\r\n    @Service\r\n    public class MyService {\r\n        \r\n        public void foo() {\r\n            MyDao myDao = DaoProvider.getMyDao();\r\n            myDao.bar();\r\n            ....\r\n        }\r\n    }\r\n\r\nThis makes it hard to write unit tests. Static mocks are no option, because they are slowing down our build pipeline.\r\n\r\nWe would rather have a solution with `@Autowired` or constructor dependency and some kind of configuration, that decides which class to inject:\r\n\r\n    @Service\r\n    public class MyService {\r\n        \r\n        @Autowired\r\n        MyDao myDao;\r\n        \r\n        public void foo() {\r\n            myDao.bar();\r\n            ....\r\n        }\r\n    }\r\n\r\nObviously, someone has to tell Spring what class to inject, because `MyDao` is no Spring managed bean. Is there a way to do so?:\r\n\r\n    @Configuration\r\n    public class NonManagedSpringInjectionConfiguration {\r\n        \r\n        @Bean\r\n        MyDao getMyDao() {\r\n            return DaoProvider.getMyDao();\r\n        }\r\n    }","title":"@Autowired or constructor inject non-managed classes into Spring context @Service for better testing","body":"<p>In a Spring Boot project, we access our non managed DAO classes through a static method:</p>\n<pre><code>MyDao myDao = DaoProvider.getMyDao();\n</code></pre>\n<p>We use this in Spring managed <code>@Service</code> classes:</p>\n<pre><code>@Service\npublic class MyService {\n    \n    public void foo() {\n        MyDao myDao = DaoProvider.getMyDao();\n        myDao.bar();\n        ....\n    }\n}\n</code></pre>\n<p>This makes it hard to write unit tests. Static mocks are no option, because they are slowing down our build pipeline.</p>\n<p>We would rather have a solution with <code>@Autowired</code> or constructor dependency and some kind of configuration, that decides which class to inject:</p>\n<pre><code>@Service\npublic class MyService {\n    \n    @Autowired\n    MyDao myDao;\n    \n    public void foo() {\n        myDao.bar();\n        ....\n    }\n}\n</code></pre>\n<p>Obviously, someone has to tell Spring what class to inject, because <code>MyDao</code> is no Spring managed bean. Is there a way to do so?:</p>\n<pre><code>@Configuration\npublic class NonManagedSpringInjectionConfiguration {\n    \n    @Bean\n    MyDao getMyDao() {\n        return DaoProvider.getMyDao();\n    }\n}\n</code></pre>\n"},{"tags":["java","json","android-studio"],"comments":[{"owner":{"account_id":10479742,"reputation":1375,"user_id":7725103,"accept_rate":50,"display_name":"Rajasekhar"},"score":0,"creation_date":1600777428,"post_id":64009436,"comment_id":113189318,"body_markdown":"Are you trying to return the string from method getPatientIDFromDatabase() and use that value in some class, right?","body":"Are you trying to return the string from method getPatientIDFromDatabase() and use that value in some class, right?"},{"owner":{"account_id":16405115,"reputation":266,"user_id":11849871,"display_name":"Kroi"},"score":0,"creation_date":1600779137,"post_id":64009436,"comment_id":113190243,"body_markdown":"@Rajasekhar Yes","body":"@Rajasekhar Yes"},{"owner":{"account_id":10479742,"reputation":1375,"user_id":7725103,"accept_rate":50,"display_name":"Rajasekhar"},"score":0,"creation_date":1600779553,"post_id":64009436,"comment_id":113190508,"body_markdown":"I have added my answer.","body":"I have added my answer."}],"answers":[{"tags":[],"owner":{"account_id":10477941,"reputation":493,"user_id":7723894,"display_name":"Nazeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600776987,"creation_date":1600776987,"answer_id":64009550,"question_id":64009436,"body_markdown":"You can declare that as a static variable,\r\n\r\n    static final String[] id = {&quot;&quot;};","title":"Getting the value inside the inner class","body":"<p>You can declare that as a static variable,</p>\n<pre><code>static final String[] id = {&quot;&quot;};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10479742,"reputation":1375,"user_id":7725103,"accept_rate":50,"display_name":"Rajasekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600779527,"creation_date":1600779527,"answer_id":64010255,"question_id":64009436,"body_markdown":"I have removed constructor for your class`FetchData` and moved it as parameter to method `getPatientIDFromDatabase(Context context)`. So the looks like this.\r\n\r\n```\r\npublic class FetchData {\r\n\r\n    public static String getPatientIDFromDatabase(Context context) {\r\n\r\n        final String[] id = {&quot;&quot;};\r\n\r\n        StringRequest strRequest = new StringRequest(Request.Method.POST,\r\n                &quot;http://192.168.254.199/projects/AndroidServers/TheMedicalGCs/GetPatientID.php&quot;,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        try {\r\n                            JSONObject jsonObject = new JSONObject(response);\r\n                            id[0] = jsonObject.getString(&quot;PatientID&quot;);\r\n                        } catch (Exception e) {\r\n                            Toast.makeText(context, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        Toast.makeText(context, error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n        );\r\n        Volley.newRequestQueue(context).add(strRequest);\r\n\r\n        return id[0];\r\n    }\r\n}\r\n```\r\n\r\nNow let&#39;s the value it is returning from `FetchData` class, but if you want other classes to get access to the return value, you need to method as static. Which i already added above.\r\n\r\nNow let&#39;s get string value from other class named HomeActivity:\r\n\r\n```\r\nString value = FetchData.getPatientIDFromDatabase(context)\r\n```\r\n","title":"Getting the value inside the inner class","body":"<p>I have removed constructor for your class<code>FetchData</code> and moved it as parameter to method <code>getPatientIDFromDatabase(Context context)</code>. So the looks like this.</p>\n<pre><code>public class FetchData {\n\n    public static String getPatientIDFromDatabase(Context context) {\n\n        final String[] id = {&quot;&quot;};\n\n        StringRequest strRequest = new StringRequest(Request.Method.POST,\n                &quot;http://192.168.254.199/projects/AndroidServers/TheMedicalGCs/GetPatientID.php&quot;,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        try {\n                            JSONObject jsonObject = new JSONObject(response);\n                            id[0] = jsonObject.getString(&quot;PatientID&quot;);\n                        } catch (Exception e) {\n                            Toast.makeText(context, e.getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        Toast.makeText(context, error.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                }\n        );\n        Volley.newRequestQueue(context).add(strRequest);\n\n        return id[0];\n    }\n}\n</code></pre>\n<p>Now let's the value it is returning from <code>FetchData</code> class, but if you want other classes to get access to the return value, you need to method as static. Which i already added above.</p>\n<p>Now let's get string value from other class named HomeActivity:</p>\n<pre><code>String value = FetchData.getPatientIDFromDatabase(context)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16405115,"reputation":266,"user_id":11849871,"display_name":"Kroi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638951068,"creation_date":1638951068,"answer_id":70271765,"question_id":64009436,"body_markdown":"I already fixed the problem by declaring the ```final String[] id = {&quot;&quot;}``` into a member variable and declare it as ```private String id``` only. I remembered that you cannot access the variable that is not declared as final inside the inner class.\r\n\r\n```\r\npublic class FetchData {\r\n    private Context con;\r\n    private String id;\r\n\r\n    public FetchData(Context con){\r\n        this.con = con;\r\n    }\r\n\r\n    public String getPatientIDFromDatabase(){\r\n        StringRequest strRequest = new StringRequest(Request.Method.POST, &quot;http://192.168.254.199/projects/AndroidServers/TheMedicalGCs/GetPatientID.php&quot;,\r\n                new Response.Listener&lt;String&gt;() {\r\n                    @Override\r\n                    public void onResponse(String response) {\r\n                        try{\r\n                            JSONObject jsonObject = new JSONObject(response);\r\n                            id = jsonObject.getString(&quot;PatientID&quot;);\r\n                        }\r\n                        catch (Exception e){\r\n                            Toast.makeText(con, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        Toast.makeText(con, error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n        );\r\n        Volley.newRequestQueue(con).add(strRequest);\r\n\r\n        return id;\r\n    }\r\n}\r\n```","title":"Getting the value inside the inner class","body":"<p>I already fixed the problem by declaring the <code>final String[] id = {&quot;&quot;}</code> into a member variable and declare it as <code>private String id</code> only. I remembered that you cannot access the variable that is not declared as final inside the inner class.</p>\n<pre><code>public class FetchData {\n    private Context con;\n    private String id;\n\n    public FetchData(Context con){\n        this.con = con;\n    }\n\n    public String getPatientIDFromDatabase(){\n        StringRequest strRequest = new StringRequest(Request.Method.POST, &quot;http://192.168.254.199/projects/AndroidServers/TheMedicalGCs/GetPatientID.php&quot;,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        try{\n                            JSONObject jsonObject = new JSONObject(response);\n                            id = jsonObject.getString(&quot;PatientID&quot;);\n                        }\n                        catch (Exception e){\n                            Toast.makeText(con, e.getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        Toast.makeText(con, error.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                }\n        );\n        Volley.newRequestQueue(con).add(strRequest);\n\n        return id;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16405115,"reputation":266,"user_id":11849871,"display_name":"Kroi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70271765,"answer_count":3,"score":0,"last_activity_date":1638951068,"creation_date":1600776512,"question_id":64009436,"body_markdown":"How will I get the value inside the inner class in Android Studio 4.0.1. I tried to declare a global variable but still it doesn&#39;t work. I also tried this one declaring a final array but I still cannot get the value\r\n\r\n    public class FetchData {\r\n        private Context con;\r\n    \r\n        public FetchData(Context con){\r\n            this.con = con;\r\n        }\r\n    \r\n        public String getPatientIDFromDatabase(){\r\n            final String[] id = {&quot;&quot;};\r\n            StringRequest strRequest = new StringRequest(Request.Method.POST, &quot;http://192.168.254.199/projects/AndroidServers/TheMedicalGCs/GetPatientID.php&quot;,\r\n                    new Response.Listener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onResponse(String response) {\r\n                            try{\r\n                                JSONObject jsonObject = new JSONObject(response);\r\n                                id[0] = jsonObject.getString(&quot;PatientID&quot;);\r\n                            }\r\n                            catch (Exception e){\r\n                                Toast.makeText(con, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    },\r\n                    new Response.ErrorListener() {\r\n                        @Override\r\n                        public void onErrorResponse(VolleyError error) {\r\n                            Toast.makeText(con, error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n            );\r\n            Volley.newRequestQueue(con).add(strRequest);\r\n    \r\n            return id[0];\r\n        }\r\n    }\r\n\r\nI just want that method to return the value comes from the JSON.","title":"Getting the value inside the inner class","body":"<p>How will I get the value inside the inner class in Android Studio 4.0.1. I tried to declare a global variable but still it doesn't work. I also tried this one declaring a final array but I still cannot get the value</p>\n<pre><code>public class FetchData {\n    private Context con;\n\n    public FetchData(Context con){\n        this.con = con;\n    }\n\n    public String getPatientIDFromDatabase(){\n        final String[] id = {&quot;&quot;};\n        StringRequest strRequest = new StringRequest(Request.Method.POST, &quot;http://192.168.254.199/projects/AndroidServers/TheMedicalGCs/GetPatientID.php&quot;,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        try{\n                            JSONObject jsonObject = new JSONObject(response);\n                            id[0] = jsonObject.getString(&quot;PatientID&quot;);\n                        }\n                        catch (Exception e){\n                            Toast.makeText(con, e.getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        Toast.makeText(con, error.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                }\n        );\n        Volley.newRequestQueue(con).add(strRequest);\n\n        return id[0];\n    }\n}\n</code></pre>\n<p>I just want that method to return the value comes from the JSON.</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":7391605,"reputation":1968,"user_id":5624825,"display_name":"DhaRmvEEr siNgh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638950781,"creation_date":1638950781,"answer_id":70271720,"question_id":70271524,"body_markdown":"Although this is not a good way in my opinion and I&#39;ll prefer returning Mono&lt;PropertyShop&gt;  instead of extracting PropertyShop from Mono. But if you really need to do that you can use \r\n\r\n   `return propertyShopService.getPropertyById(idBD).block();`\r\n\r\nfor more details you can check this [Link][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-string-from-mono","title":"How to create Thymeleaf converter with Mono object","body":"<p>Although this is not a good way in my opinion and I'll prefer returning Mono  instead of extracting PropertyShop from Mono. But if you really need to do that you can use</p>\n<p><code>return propertyShopService.getPropertyById(idBD).block();</code></p>\n<p>for more details you can check this <a href=\"https://www.baeldung.com/java-string-from-mono\" rel=\"nofollow noreferrer\">Link</a></p>\n"}],"owner":{"account_id":22187351,"reputation":77,"user_id":16430055,"display_name":"Serg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638950781,"creation_date":1638949602,"question_id":70271524,"body_markdown":"I need to create convereter from string to object. \r\n\r\n    @Component\r\n    public class PropertyConverter implements Converter&lt;String, PropertyShop&gt; {\r\n        @Autowired\r\n        PropertyShopService propertyShopService;\r\n    \r\n        @Override\r\n        public PropertyShop convert(@NotNull String id) {\r\n            long idBD = Long.parseLong(id);\r\n          \r\n            return propertyShopService.getPropertyById(idBD); // Mono&lt;PropertyShop&gt;\r\n      \r\n    }\r\n\r\nBut from propertyShopService I received `Mono&lt;PropertyShop&gt;`.","title":"How to create Thymeleaf converter with Mono object","body":"<p>I need to create convereter from string to object.</p>\n<pre><code>@Component\npublic class PropertyConverter implements Converter&lt;String, PropertyShop&gt; {\n    @Autowired\n    PropertyShopService propertyShopService;\n\n    @Override\n    public PropertyShop convert(@NotNull String id) {\n        long idBD = Long.parseLong(id);\n      \n        return propertyShopService.getPropertyById(idBD); // Mono&lt;PropertyShop&gt;\n  \n}\n</code></pre>\n<p>But from propertyShopService I received <code>Mono&lt;PropertyShop&gt;</code>.</p>\n"},{"tags":["java","mysql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638950277,"creation_date":1638950277,"answer_id":70271635,"question_id":70266931,"body_markdown":"You probably specified `RenderQuotedNames.ALWAYS` and ran into this problem? https://github.com/jOOQ/jOOQ/issues/9931\r\n\r\nThe setting `ALWAYS` is misleading. It really means literally always, though people probably read it as `ALWAYSISH_I_E_ONLY_WHEN_IT_MAKES_SENSE`. Probably a naming design error, but what you want is `EXPLICIT_DEFAULT_QUOTED`, see the documentation:\r\nhttps://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-name-style/\r\n\r\n### RenderQuotedNames\r\n\r\n- `ALWAYS`: This will quote all identifiers.\r\n- `EXPLICIT_DEFAULT_QUOTED`: This will quote all identifiers, which are not explicitly unquoted using [`DSL.unquotedName()`][1].\r\n- `EXPLICIT_DEFAULT_UNQUOTED`: This will not quote any identifiers, unless they are explicitly quoted using [`DSL.quotedName()`][2].\r\n- `NEVER`: This will not quote any identifiers.\r\n\r\n`COUNT` in `DSL.count()`is an explicitly unquoted name, and `ALWAYS` will override that.\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#unquotedName(String)\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#quotedName(String)","title":"Jooq count method getting wrapped in backticks","body":"<p>You probably specified <code>RenderQuotedNames.ALWAYS</code> and ran into this problem? <a href=\"https://github.com/jOOQ/jOOQ/issues/9931\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/9931</a></p>\n<p>The setting <code>ALWAYS</code> is misleading. It really means literally always, though people probably read it as <code>ALWAYSISH_I_E_ONLY_WHEN_IT_MAKES_SENSE</code>. Probably a naming design error, but what you want is <code>EXPLICIT_DEFAULT_QUOTED</code>, see the documentation:\n<a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-name-style/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/custom-settings/settings-name-style/</a></p>\n<h3>RenderQuotedNames</h3>\n<ul>\n<li><code>ALWAYS</code>: This will quote all identifiers.</li>\n<li><code>EXPLICIT_DEFAULT_QUOTED</code>: This will quote all identifiers, which are not explicitly unquoted using <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#unquotedName(String)\" rel=\"nofollow noreferrer\"><code>DSL.unquotedName()</code></a>.</li>\n<li><code>EXPLICIT_DEFAULT_UNQUOTED</code>: This will not quote any identifiers, unless they are explicitly quoted using <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#quotedName(String)\" rel=\"nofollow noreferrer\"><code>DSL.quotedName()</code></a>.</li>\n<li><code>NEVER</code>: This will not quote any identifiers.</li>\n</ul>\n<p><code>COUNT</code> in <code>DSL.count()</code>is an explicitly unquoted name, and <code>ALWAYS</code> will override that.</p>\n"}],"owner":{"account_id":36941,"reputation":2525,"user_id":105500,"accept_rate":59,"display_name":"postalservice14"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70271635,"answer_count":1,"score":2,"last_activity_date":1638950277,"creation_date":1638911156,"question_id":70266931,"body_markdown":"I recently updated a project&#39;s jooq version from 3.13.5 to 3.14.15.  I&#39;ve rerun jooq-codegen.  I&#39;m using MySQL 5.7.\r\n\r\nWhen running one of my tests - it performs a `DAOImpl.exists`.  That call generates the following exception:\r\n\r\n```\r\norg.jooq.exception.DataAccessException: SQL [select `count`(*) from `users` where `users`.`id` = ?]; You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;*) from `users` where `users`.`id` = 1094&#39; at line 1\r\n\r\n\tat org.jooq_3.14.15.MYSQL.debug(Unknown Source)\r\n\tat org.jooq.impl.Tools.translate(Tools.java:2903)\r\n\tat org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:757)\r\n\tat org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:389)\r\n\tat org.jooq.impl.AbstractResultQuery.fetchLazy(AbstractResultQuery.java:453)\r\n\tat org.jooq.impl.AbstractResultQuery.fetchLazy(AbstractResultQuery.java:422)\r\n\tat org.jooq.impl.AbstractResultQuery.fetchLazyNonAutoClosing(AbstractResultQuery.java:436)\r\n\tat org.jooq.impl.AbstractResultQuery.fetchOne(AbstractResultQuery.java:613)\r\n\tat org.jooq.impl.AbstractResultQuery.fetchOne(AbstractResultQuery.java:565)\r\n\tat org.jooq.impl.SelectImpl.fetchOne(SelectImpl.java:3034)\r\n\tat org.jooq.impl.DAOImpl.existsById(DAOImpl.java:300)\r\n\tat org.jooq.impl.DAOImpl.exists(DAOImpl.java:288)\r\n```\r\n\r\nThe problem is that `count` has backticks.  It should be ``select count(*) from `users` where `users`.`id` = ?``\r\n\r\nHas anyone run into this before and know how to fix it?  TIA","title":"Jooq count method getting wrapped in backticks","body":"<p>I recently updated a project's jooq version from 3.13.5 to 3.14.15.  I've rerun jooq-codegen.  I'm using MySQL 5.7.</p>\n<p>When running one of my tests - it performs a <code>DAOImpl.exists</code>.  That call generates the following exception:</p>\n<pre><code>org.jooq.exception.DataAccessException: SQL [select `count`(*) from `users` where `users`.`id` = ?]; You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '*) from `users` where `users`.`id` = 1094' at line 1\n\n    at org.jooq_3.14.15.MYSQL.debug(Unknown Source)\n    at org.jooq.impl.Tools.translate(Tools.java:2903)\n    at org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:757)\n    at org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:389)\n    at org.jooq.impl.AbstractResultQuery.fetchLazy(AbstractResultQuery.java:453)\n    at org.jooq.impl.AbstractResultQuery.fetchLazy(AbstractResultQuery.java:422)\n    at org.jooq.impl.AbstractResultQuery.fetchLazyNonAutoClosing(AbstractResultQuery.java:436)\n    at org.jooq.impl.AbstractResultQuery.fetchOne(AbstractResultQuery.java:613)\n    at org.jooq.impl.AbstractResultQuery.fetchOne(AbstractResultQuery.java:565)\n    at org.jooq.impl.SelectImpl.fetchOne(SelectImpl.java:3034)\n    at org.jooq.impl.DAOImpl.existsById(DAOImpl.java:300)\n    at org.jooq.impl.DAOImpl.exists(DAOImpl.java:288)\n</code></pre>\n<p>The problem is that <code>count</code> has backticks.  It should be <code>select count(*) from `users` where `users`.`id` = ?</code></p>\n<p>Has anyone run into this before and know how to fix it?  TIA</p>\n"},{"tags":["java","spring-boot","transactions","spring-transactions","azure-cosmosdb-mongoapi"],"answers":[{"tags":[],"owner":{"account_id":23019827,"reputation":1,"user_id":17141028,"display_name":"a1085578081"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634113881,"creation_date":1634113357,"answer_id":69552064,"question_id":69551551,"body_markdown":"    @Transactional(prefix = &quot;boom&quot;, name = &quot;listener&quot;, havingValue = &quot;MongoDB&quot;)\r\n    public Customer updateCustomer(Customer customer){\r\n        //code\r\n    }\r\n\r\n    boom:\r\n      listener: MongoDB\r\n\r\n\r\ntry thisï¼when the &#39;boom.listener&#39; do not equals &#39;MongoDB&#39;,the annotation will be ignore","title":"How to skip an @Transactional annotation based on flag","body":"<pre><code>@Transactional(prefix = &quot;boom&quot;, name = &quot;listener&quot;, havingValue = &quot;MongoDB&quot;)\npublic Customer updateCustomer(Customer customer){\n    //code\n}\n\nboom:\n  listener: MongoDB\n</code></pre>\n<p>try thisï¼when the 'boom.listener' do not equals 'MongoDB',the annotation will be ignore</p>\n"},{"tags":[],"owner":{"account_id":21115372,"reputation":11,"user_id":15522564,"display_name":"NEHA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638950225,"creation_date":1638950225,"answer_id":70271626,"question_id":69551551,"body_markdown":"I was able to skip transactional use case for cosmos by using one property in properties file:\r\n\r\n    activedb: &#39;cosmos&#39;(or mongo in case of MongoDB)\r\nIn addition to this I have added one config file\r\n\r\n    @ConditionalOnProperty(name = &quot;activedb&quot;,havingValue = &quot;mongo&quot;) \r\n    @Configuration \r\n    @EnableTransactionManagement  \r\n    public class TransactionManagementConfig {\r\n\r\n    @Bean\r\n    MongoTransactionManager transactionManager(MongoDatabaseFactory dbFactory) {\r\n        return new MongoTransactionManager(dbFactory);\r\n    }\r\n\r\n}\r\n\r\nAs we have added @ConditionalOnProperty annotation so this class will be applicable for mongo only and as we are using @EnableTransactionManagement in this class so @Transactional annotation will be application for MongoDB only.","title":"How to skip an @Transactional annotation based on flag","body":"<p>I was able to skip transactional use case for cosmos by using one property in properties file:</p>\n<pre><code>activedb: 'cosmos'(or mongo in case of MongoDB)\n</code></pre>\n<p>In addition to this I have added one config file</p>\n<pre><code>@ConditionalOnProperty(name = &quot;activedb&quot;,havingValue = &quot;mongo&quot;) \n@Configuration \n@EnableTransactionManagement  \npublic class TransactionManagementConfig {\n\n@Bean\nMongoTransactionManager transactionManager(MongoDatabaseFactory dbFactory) {\n    return new MongoTransactionManager(dbFactory);\n}\n</code></pre>\n<p>}</p>\n<p>As we have added @ConditionalOnProperty annotation so this class will be applicable for mongo only and as we are using @EnableTransactionManagement in this class so @Transactional annotation will be application for MongoDB only.</p>\n"}],"owner":{"account_id":21115372,"reputation":11,"user_id":15522564,"display_name":"NEHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638950225,"creation_date":1634111165,"question_id":69551551,"body_markdown":"I am using @Transactional annotation in my code having database as MongoDB. But the same code is throwing error with CosmosDB if I&#39;m using @Transactional annotation on method. Now I want @Transactional annotation to be ignored for cosmosDB but want that annotation to be executed for MongoDB based on certain flag as I&#39;m maintaining the same codebase for both. Is there any way to ignore the annotation?\r\n\r\n    @Transactional(if flag true) //should enable only when flag is true\r\n    public Customer updateCustomer(Customer customer){\r\n            //code\r\n    }","title":"How to skip an @Transactional annotation based on flag","body":"<p>I am using @Transactional annotation in my code having database as MongoDB. But the same code is throwing error with CosmosDB if I'm using @Transactional annotation on method. Now I want @Transactional annotation to be ignored for cosmosDB but want that annotation to be executed for MongoDB based on certain flag as I'm maintaining the same codebase for both. Is there any way to ignore the annotation?</p>\n<pre><code>@Transactional(if flag true) //should enable only when flag is true\npublic Customer updateCustomer(Customer customer){\n        //code\n}\n</code></pre>\n"},{"tags":["java","apache-spark","hadoop","apache-spark-sql"],"comments":[{"owner":{"account_id":1773274,"reputation":669,"user_id":1617622,"accept_rate":25,"display_name":"Michael Black"},"score":0,"creation_date":1635368727,"post_id":62922620,"comment_id":123282856,"body_markdown":"Did you ever find a solution? I&#39;m in the same issue when I found your post.","body":"Did you ever find a solution? I&#39;m in the same issue when I found your post."}],"answers":[{"tags":[],"owner":{"account_id":21819103,"reputation":31,"user_id":16115540,"display_name":"Prashant Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638950207,"creation_date":1638950207,"answer_id":70271624,"question_id":62922620,"body_markdown":"I am using glue and was facing the same issue while loading the data from documentDB(Mongo API).\r\nI made below changes while reading to resolve this error.\r\n\r\n    df=spark.read.format(&quot;mongo&quot;).option(&quot;ssl.domain_match&quot;,&quot;false&quot;).option(&quot;replaceDocument&quot; , &quot;false&quot;).option(&quot;database&quot;,&quot;mydatabase&quot;).option(&quot;collection&quot;, &quot;mycollection&quot;).option(&quot;uri&quot;,&quot;myurl&quot;).load(schema=new_schema, inferSchema=False)\r\n\r\nPlease note: I have tried passing inferSchema and schema parameters using &quot;.option()&quot; as well but that did not work. When I passed the same parameters in &quot;load()&quot; as given in sample code, it worked.\r\n\r\n","title":"MongoDb - Spark - Cannot cast STRING into a NullType (value: BsonString{value=&#39;4492148&#39;})","body":"<p>I am using glue and was facing the same issue while loading the data from documentDB(Mongo API).\nI made below changes while reading to resolve this error.</p>\n<pre><code>df=spark.read.format(&quot;mongo&quot;).option(&quot;ssl.domain_match&quot;,&quot;false&quot;).option(&quot;replaceDocument&quot; , &quot;false&quot;).option(&quot;database&quot;,&quot;mydatabase&quot;).option(&quot;collection&quot;, &quot;mycollection&quot;).option(&quot;uri&quot;,&quot;myurl&quot;).load(schema=new_schema, inferSchema=False)\n</code></pre>\n<p>Please note: I have tried passing inferSchema and schema parameters using &quot;.option()&quot; as well but that did not work. When I passed the same parameters in &quot;load()&quot; as given in sample code, it worked.</p>\n"}],"owner":{"account_id":3290607,"reputation":127,"user_id":2769015,"display_name":"Sam Berchmans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1583,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1638950207,"creation_date":1594842032,"question_id":62922620,"body_markdown":"I am trying to extract Data from MongoDb to my DF. Using Java Spark\r\n\r\nBelow is the sample Code :-\r\n\r\n    SparkConf conf = new SparkConf()\r\n            .setAppName(&quot;MongoSparkConnectorTour&quot;)\r\n            .setMaster(&quot;local&quot;)\r\n            .set(&quot;spark.app.id&quot;, &quot;MongoSparkConnectorTour&quot;)\r\n            .set(&quot;spark.mongodb.input.uri&quot;, uri)\r\n            .set(&quot;sampleSize&quot;, args[2])\r\n            .set(&quot;spark.mongodb.output.uri&quot;, uri)\r\n            .set(&quot;spark.mongodb.input.partitioner&quot;, &quot;MongoPaginateByCountPartitioner&quot;)\r\n            .set(&quot;spark.mongodb.input.partitionerOptions.numberOfPartitions&quot;, &quot;64&quot;)\r\n\r\n    JavaSparkContext jsc = new JavaSparkContext(conf)\r\n\r\n    DataFrame df = MongoSpark.load(jsc).toDF();\r\n    \r\n    System.out.println(&quot;DF Count - &quot; + df.count());        \r\n    df.printSchema();\r\n\r\nThere are 2 tables, and 1 Table i am able to fetch data without any issues, but for another table i get the following issue - \r\n\r\n    20/07/15 14:17:31 ERROR Executor: Exception in task 1.0 in stage 3.0 (TID 4)\r\n    com.mongodb.spark.exceptions.MongoTypeConversionException: Cannot cast STRING into a NullType (value: BsonString{value=&#39;4492148&#39;})\r\n            at com.mongodb.spark.sql.MapFunctions$.com$mongodb$spark$sql$MapFunctions$$convertToDataType(MapFunctions.scala:80)\r\n            at com.mongodb.spark.sql.MapFunctions$$anonfun$3.apply(MapFunctions.scala:38)\r\n            at com.mongodb.spark.sql.MapFunctions$$anonfun$3.apply(MapFunctions.scala:36)\r\n            at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244)\r\n            at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244)\r\n            at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)\r\n            at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:108)\r\n            at scala.collection.TraversableLike$class.map(TraversableLike.scala:244)\r\n            at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:108)\r\n            at com.mongodb.spark.sql.MapFunctions$.documentToRow(MapFunctions.scala:36)\r\n            at com.mongodb.spark.sql.MapFunctions$.castToStructType(MapFunctions.scala:109)\r\n            at com.mongodb.spark.sql.MapFunctions$.com$mongodb$spark$sql$MapFunctions$$convertToDataType(MapFunctions.scala:75)\r\n            at com.mongodb.spark.sql.MapFunctions$$anonfun$3.apply(MapFunctions.scala:38)\r\n            at com.mongodb.spark.sql.MapFunctions$$anonfun$3.apply(MapFunctions.scala:36)\r\n            at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244)\r\n            at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244)\r\n            at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)\r\n            at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:108)\r\n            at scala.collection.TraversableLike$class.map(TraversableLike.scala:244)\r\n            at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:108)\r\n            at com.mongodb.spark.sql.MapFunctions$.documentToRow(MapFunctions.scala:36)\r\n            at com.mongodb.spark.sql.MapFunctions$.castToStructType(MapFunctions.scala:109)\r\n            at com.mongodb.spark.sql.MapFunctions$.com$mongodb$spark$sql$MapFunctions$$convertToDataType(MapFunctions.scala:75)\r\n            at com.mongodb.spark.sql.MapFunctions$$anonfun$3.apply(MapFunctions.scala:38)\r\n\r\nFrom Google the only solution i see is to increase the sample size and still it is not working. \r\n\r\n[Cast failing From Stack Overflow][1]\r\n[Increase Sample Size][2]\r\n\r\nThe second table volume is bit higher, and i have tried a higher sample size but still it fails.\r\n\r\nAny other suggestion or ideas to solve this will be useful.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60965429/how-to-resolve-com-mongodb-spark-exceptions-mongotypeconversionexception-cannot\r\n  [2]: https://stackoverflow.com/questions/61004914/how-to-config-java-spark-sparksession-samplesize","title":"MongoDb - Spark - Cannot cast STRING into a NullType (value: BsonString{value=&#39;4492148&#39;})","body":"<p>I am trying to extract Data from MongoDb to my DF. Using Java Spark</p>\n<p>Below is the sample Code :-</p>\n<pre><code>SparkConf conf = new SparkConf()\n        .setAppName(&quot;MongoSparkConnectorTour&quot;)\n        .setMaster(&quot;local&quot;)\n        .set(&quot;spark.app.id&quot;, &quot;MongoSparkConnectorTour&quot;)\n        .set(&quot;spark.mongodb.input.uri&quot;, uri)\n        .set(&quot;sampleSize&quot;, args[2])\n        .set(&quot;spark.mongodb.output.uri&quot;, uri)\n        .set(&quot;spark.mongodb.input.partitioner&quot;, &quot;MongoPaginateByCountPartitioner&quot;)\n        .set(&quot;spark.mongodb.input.partitionerOptions.numberOfPartitions&quot;, &quot;64&quot;)\n\nJavaSparkContext jsc = new JavaSparkContext(conf)\n\nDataFrame df = MongoSpark.load(jsc).toDF();\n\nSystem.out.println(&quot;DF Count - &quot; + df.count());        \ndf.printSchema();\n</code></pre>\n<p>There are 2 tables, and 1 Table i am able to fetch data without any issues, but for another table i get the following issue -</p>\n<pre><code>20/07/15 14:17:31 ERROR Executor: Exception in task 1.0 in stage 3.0 (TID 4)\ncom.mongodb.spark.exceptions.MongoTypeConversionException: Cannot cast STRING into a NullType (value: BsonString{value='4492148'})\n        at com.mongodb.spark.sql.MapFunctions$.com$mongodb$spark$sql$MapFunctions$$convertToDataType(MapFunctions.scala:80)\n        at com.mongodb.spark.sql.MapFunctions$$anonfun$3.apply(MapFunctions.scala:38)\n        at com.mongodb.spark.sql.MapFunctions$$anonfun$3.apply(MapFunctions.scala:36)\n        at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244)\n        at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244)\n        at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)\n        at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:108)\n        at scala.collection.TraversableLike$class.map(TraversableLike.scala:244)\n        at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:108)\n        at com.mongodb.spark.sql.MapFunctions$.documentToRow(MapFunctions.scala:36)\n        at com.mongodb.spark.sql.MapFunctions$.castToStructType(MapFunctions.scala:109)\n        at com.mongodb.spark.sql.MapFunctions$.com$mongodb$spark$sql$MapFunctions$$convertToDataType(MapFunctions.scala:75)\n        at com.mongodb.spark.sql.MapFunctions$$anonfun$3.apply(MapFunctions.scala:38)\n        at com.mongodb.spark.sql.MapFunctions$$anonfun$3.apply(MapFunctions.scala:36)\n        at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244)\n        at scala.collection.TraversableLike$$anonfun$map$1.apply(TraversableLike.scala:244)\n        at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)\n        at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:108)\n        at scala.collection.TraversableLike$class.map(TraversableLike.scala:244)\n        at scala.collection.mutable.ArrayOps$ofRef.map(ArrayOps.scala:108)\n        at com.mongodb.spark.sql.MapFunctions$.documentToRow(MapFunctions.scala:36)\n        at com.mongodb.spark.sql.MapFunctions$.castToStructType(MapFunctions.scala:109)\n        at com.mongodb.spark.sql.MapFunctions$.com$mongodb$spark$sql$MapFunctions$$convertToDataType(MapFunctions.scala:75)\n        at com.mongodb.spark.sql.MapFunctions$$anonfun$3.apply(MapFunctions.scala:38)\n</code></pre>\n<p>From Google the only solution i see is to increase the sample size and still it is not working.</p>\n<p><a href=\"https://stackoverflow.com/questions/60965429/how-to-resolve-com-mongodb-spark-exceptions-mongotypeconversionexception-cannot\">Cast failing From Stack Overflow</a>\n<a href=\"https://stackoverflow.com/questions/61004914/how-to-config-java-spark-sparksession-samplesize\">Increase Sample Size</a></p>\n<p>The second table volume is bit higher, and i have tried a higher sample size but still it fails.</p>\n<p>Any other suggestion or ideas to solve this will be useful.</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":11901466,"reputation":121,"user_id":8709340,"display_name":"Adarsh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635219459,"creation_date":1635216733,"answer_id":69716943,"question_id":69716812,"body_markdown":"I think you should correct your repo methodName from findByPlan() to findByPlanId() and remove that @Query() it should work just by using findByPlanId() method.\r\n\r\nIn case it does not work, then try making changes on the @Query line.\r\n@Query(&quot;Select te from TagEntity te where te.plan in ?1&quot;)\r\nRemove .id from plan.id in query","title":"Spring JPA ManyToOne findByJoinColumn / findByForegignKey","body":"<p>I think you should correct your repo methodName from findByPlan() to findByPlanId() and remove that @Query() it should work just by using findByPlanId() method.</p>\n<p>In case it does not work, then try making changes on the @Query line.\n@Query(&quot;Select te from TagEntity te where te.plan in ?1&quot;)\nRemove .id from plan.id in query</p>\n"},{"tags":[],"owner":{"account_id":18321611,"reputation":19,"user_id":13342257,"display_name":"idrak_07"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635239725,"creation_date":1635220534,"answer_id":69717307,"question_id":69716812,"body_markdown":"```\r\nSelect pe.* from TagEntity pe where `pe.plan_id` in ?1\r\n```\r\n\r\nI guess plan_id was your column name ","title":"Spring JPA ManyToOne findByJoinColumn / findByForegignKey","body":"<pre><code>Select pe.* from TagEntity pe where `pe.plan_id` in ?1\n</code></pre>\n<p>I guess plan_id was your column name</p>\n"},{"tags":[],"owner":{"account_id":23135533,"reputation":107,"user_id":17239818,"display_name":"NARASIMHA RAO NANDIKONDA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638949936,"creation_date":1635220571,"answer_id":69717312,"question_id":69716812,"body_markdown":"When you are introducing a custom query it&#39;s better to follow query language instead. where plan.id is **plan_id** in your case.\r\n\r\n        public interface TagEntityRepository extends JpaRepository&lt;TagEntity, Long&gt;{\r\n       @Query(&quot;Select pe from TagEntity pe where pe.plan_id like ?1&quot;, nativeQuery = true) \r\n         public List&lt;PlanEntity&gt; findByPlan(Long planId);\r\n    \r\n    }","title":"Spring JPA ManyToOne findByJoinColumn / findByForegignKey","body":"<p>When you are introducing a custom query it's better to follow query language instead. where plan.id is <strong>plan_id</strong> in your case.</p>\n<pre><code>    public interface TagEntityRepository extends JpaRepository&lt;TagEntity, Long&gt;{\n   @Query(&quot;Select pe from TagEntity pe where pe.plan_id like ?1&quot;, nativeQuery = true) \n     public List&lt;PlanEntity&gt; findByPlan(Long planId);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17216718,"reputation":376,"user_id":12464560,"display_name":"Lookslikeitsnot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635239835,"creation_date":1635237633,"answer_id":69719987,"question_id":69716812,"body_markdown":"Here&#39;s a [working recreation of your code](https://github.com/lookslikeitsnot/stackoverflow-69716812). All tests are passing so the issue must be somewhere else.  &lt;br&gt;&lt;br&gt;\r\nPutting aside the errors that may be typos is your question  \r\n 1. ```public List&lt;PlanEntity&gt; findByPlan(Long planId);```\r\nYou&#39;re getting a list of TagEntity, not PlanEntity. \r\nChange that to ```List&lt;TagEntity&gt; findByPlanId(Long planId)```. And the @Query annotation is superfluous \r\n 2. ```private List&lt;B&gt; tags; ``` should be ```private List&lt;TagEntity&gt; tags;```  &lt;/ol&gt;&lt;br&gt;\r\nMake sure all your tables are annotated with @Table(name=&quot;TABLE_NAME&quot;) and also annotate your columns with @Column(name=&quot;COLUMN_NAME&quot;) if they don&#39;t match the database names","title":"Spring JPA ManyToOne findByJoinColumn / findByForegignKey","body":"<p>Here's a <a href=\"https://github.com/lookslikeitsnot/stackoverflow-69716812\" rel=\"nofollow noreferrer\">working recreation of your code</a>. All tests are passing so the issue must be somewhere else.  <br><br>\nPutting aside the errors that may be typos is your question</p>\n<ol>\n<li><code>public List&lt;PlanEntity&gt; findByPlan(Long planId);</code>\nYou're getting a list of TagEntity, not PlanEntity.\nChange that to <code>List&lt;TagEntity&gt; findByPlanId(Long planId)</code>. And the @Query annotation is superfluous</li>\n<li><code>private List&lt;B&gt; tags; </code> should be <code>private List&lt;TagEntity&gt; tags;</code>  </ol><br>\nMake sure all your tables are annotated with @Table(name=&quot;TABLE_NAME&quot;) and also annotate your columns with @Column(name=&quot;COLUMN_NAME&quot;) if they don't match the database names</li>\n\n"}],"owner":{"account_id":7397335,"reputation":199,"user_id":5628788,"display_name":"Himanshu Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1638949936,"creation_date":1635215418,"question_id":69716812,"body_markdown":"We have 2 entities having OneToMany and ManyToOne cardinality:\r\n\r\n    Class PlanEntity{\r\n    @Id\r\n    private Long id;\r\n    \r\n    @OneToMany(mappedBy=&quot;plan&quot;, cascade=CascadeType.ALL, orphanRemoval=true)\r\n    private Set&lt;TagEntity&gt; tags;\r\n    .........\r\n    }\r\n\r\n\r\n    Class TagEntity{\r\n    @Id\r\n    private Long id;\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;plan_id&quot;, referencedColumnName=&quot;id&quot;)\r\n    private PlanEntity plan;\r\n    .........\r\n    }\r\n\r\n**Plan can have multiple Tags whereas each tag is associated with one Plan**. Here is the sample repository for the tag entity:\r\n\r\n    public interface TagEntityRepository extends JpaRepository&lt;TagEntity, Long&gt;{\r\n       @Query(&quot;Select pe from TagEntity pe where pe.plan.id in ?1&quot;)\r\n       public List&lt;PlanEntity&gt; findByPlan(Long planId);\r\n    }\r\n\r\n\r\nHere is the DDL for PLAN and TAG tables:\r\n\r\n    create table plan(\r\n    \tid\t\tint auto_increment\tprimary key,\r\n    \tactive\ttinyint(1) default 1\tnot null\r\n    )\r\n    \r\n    create table tag\r\n    (\r\n        id      int auto_increment primary key,\r\n        plan_id int          not null,\r\n        k       varchar(255) not null,\r\n        v       varchar(255) not null,\r\n        constraint uk_t&lt;&gt;_plan_id_key unique (plan_id, k, v),\r\n        constraint fk_tags_plan_id foreign key (plan_id) references plan (id)\r\n    )\r\n\r\nBut when running the above code, getting the following error:\r\n\r\n    Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.repository.TagEntityRepository.findByPlan(java.lang.Long)! No property id found for type PlanEntity! Traversed path: TagEntity.plan\r\n\r\nCode is compiled as per Sprig JPA. How to resolve this issue. \r\nAny pointers are highly appreciated.\r\n\r\n\r\n\r\n","title":"Spring JPA ManyToOne findByJoinColumn / findByForegignKey","body":"<p>We have 2 entities having OneToMany and ManyToOne cardinality:</p>\n<pre><code>Class PlanEntity{\n@Id\nprivate Long id;\n\n@OneToMany(mappedBy=&quot;plan&quot;, cascade=CascadeType.ALL, orphanRemoval=true)\nprivate Set&lt;TagEntity&gt; tags;\n.........\n}\n\n\nClass TagEntity{\n@Id\nprivate Long id;\n\n@ManyToOne\n@JoinColumn(name=&quot;plan_id&quot;, referencedColumnName=&quot;id&quot;)\nprivate PlanEntity plan;\n.........\n}\n</code></pre>\n<p><strong>Plan can have multiple Tags whereas each tag is associated with one Plan</strong>. Here is the sample repository for the tag entity:</p>\n<pre><code>public interface TagEntityRepository extends JpaRepository&lt;TagEntity, Long&gt;{\n   @Query(&quot;Select pe from TagEntity pe where pe.plan.id in ?1&quot;)\n   public List&lt;PlanEntity&gt; findByPlan(Long planId);\n}\n</code></pre>\n<p>Here is the DDL for PLAN and TAG tables:</p>\n<pre><code>create table plan(\n    id      int auto_increment  primary key,\n    active  tinyint(1) default 1    not null\n)\n\ncreate table tag\n(\n    id      int auto_increment primary key,\n    plan_id int          not null,\n    k       varchar(255) not null,\n    v       varchar(255) not null,\n    constraint uk_t&lt;&gt;_plan_id_key unique (plan_id, k, v),\n    constraint fk_tags_plan_id foreign key (plan_id) references plan (id)\n)\n</code></pre>\n<p>But when running the above code, getting the following error:</p>\n<pre><code>Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.repository.TagEntityRepository.findByPlan(java.lang.Long)! No property id found for type PlanEntity! Traversed path: TagEntity.plan\n</code></pre>\n<p>Code is compiled as per Sprig JPA. How to resolve this issue.\nAny pointers are highly appreciated.</p>\n"},{"tags":["java","jpa","thymeleaf"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1638866032,"post_id":70251416,"comment_id":124195081,"body_markdown":"You cannot set method put in  Form submit, you can set put method on AJAX though.","body":"You cannot set method put in  Form submit, you can set put method on AJAX though."},{"owner":{"account_id":17657110,"reputation":48,"user_id":12816440,"display_name":"Peetkovski"},"score":0,"creation_date":1638869616,"post_id":70251416,"comment_id":124196276,"body_markdown":"What about Post method?","body":"What about Post method?"}],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638949752,"creation_date":1638864781,"answer_id":70256810,"question_id":70251416,"body_markdown":"Instead of 1 form for everything, you can use a form per item:\r\n\r\n```\r\n    &lt;table&gt;\r\n        &lt;tr th:each=&quot;p : ${GetOrder}&quot;&gt;\r\n            &lt;td th:text=&quot;${p.getName()}&quot;&gt; &lt;button&gt; &lt;/button&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${p.getSecondName()}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${p.getAddress()}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${p.getApartment()}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${p.getPhoneNumber()}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${p.getOrderPrice()}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${p.getCity()}&quot;&gt;&lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;span style=&quot;color: green&quot; th:if=&quot;${p.getStatus() == &#39;1&#39;}&quot;&gt;Delivered&lt;/span&gt;\r\n                &lt;span style=&quot;color: red&quot; th:if=&quot;${p.getStatus() == &#39;0&#39;}&quot;&gt;Not Delivered&lt;/span&gt;\r\n\r\n            &lt;/td&gt;\r\n            &lt;td&gt;\r\n              &lt;form action=&quot;#&quot;  th:method=&quot;put&quot; th:action=&quot;@{/order/{id}(id=${p.id})}&quot;&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;âœ“&quot;/&gt;\r\n              &lt;/form&gt;\r\n            &lt;/td&gt;\r\n\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    \r\n```\r\n\r\nFor clarity: if you use `@PutMapping` with Thymeleaf, be sure to have `spring.mvc.hiddenmethod.filter.enabled=true`and use `th:method` in the template. See https://stackoverflow.com/questions/24256051/delete-or-put-methods-in-thymeleaf for more details.","title":"Thymeleaf database update","body":"<p>Instead of 1 form for everything, you can use a form per item:</p>\n<pre><code>    &lt;table&gt;\n        &lt;tr th:each=&quot;p : ${GetOrder}&quot;&gt;\n            &lt;td th:text=&quot;${p.getName()}&quot;&gt; &lt;button&gt; &lt;/button&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${p.getSecondName()}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${p.getAddress()}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${p.getApartment()}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${p.getPhoneNumber()}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${p.getOrderPrice()}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${p.getCity()}&quot;&gt;&lt;/td&gt;\n            &lt;td&gt;\n                &lt;span style=&quot;color: green&quot; th:if=&quot;${p.getStatus() == '1'}&quot;&gt;Delivered&lt;/span&gt;\n                &lt;span style=&quot;color: red&quot; th:if=&quot;${p.getStatus() == '0'}&quot;&gt;Not Delivered&lt;/span&gt;\n\n            &lt;/td&gt;\n            &lt;td&gt;\n              &lt;form action=&quot;#&quot;  th:method=&quot;put&quot; th:action=&quot;@{/order/{id}(id=${p.id})}&quot;&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;âœ“&quot;/&gt;\n              &lt;/form&gt;\n            &lt;/td&gt;\n\n        &lt;/tr&gt;\n    &lt;/table&gt;\n    \n</code></pre>\n<p>For clarity: if you use <code>@PutMapping</code> with Thymeleaf, be sure to have <code>spring.mvc.hiddenmethod.filter.enabled=true</code>and use <code>th:method</code> in the template. See <a href=\"https://stackoverflow.com/questions/24256051/delete-or-put-methods-in-thymeleaf\">Delete or put methods in thymeleaf</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":17657110,"reputation":48,"user_id":12816440,"display_name":"Peetkovski"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638902783,"creation_date":1638902783,"answer_id":70265463,"question_id":70251416,"body_markdown":"I achieved my goal, in a different way, but still. Here is the answer:\r\n\r\nController Class\r\n```\r\n\r\n\r\n    @GetMapping(path = &quot;/order/{getOrderId}&quot;)\r\n    public String updateStudent(@PathVariable(&quot;getOrderId&quot;) Integer getOrderId, Model model){\r\n\r\n        Purchases purchases =\r\n                orderInterface.findByOrderId(getOrderId);\r\n\r\n\r\n\r\n        model.addAttribute(&quot;Delivered&quot;, purchases);\r\n        System.out.println(purchases);\r\n        purchases.setStatus(&quot;1&quot;);\r\n\r\n        orderInterface.save(purchases);\r\n\r\n        return &quot;redirect:/managment/order&quot;;\r\n    }\r\n\r\n```\r\nHere is my Html file\r\n\r\n```\r\n    &lt;table&gt;\r\n\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Id&lt;/th&gt;\r\n            &lt;th&gt;Imie&lt;/th&gt;\r\n            &lt;th&gt;Nazwsiko&lt;/th&gt;\r\n            &lt;th&gt;Adres&lt;/th&gt;\r\n            &lt;th&gt;Mieszkanie&lt;/th&gt;\r\n            &lt;th&gt;Numer telefonu&lt;/th&gt;\r\n            &lt;th&gt;Cena&lt;/th&gt;\r\n            &lt;th&gt;Miasto&lt;/th&gt;\r\n            &lt;th&gt;Delivered&lt;/th&gt;\r\n            &lt;th&gt;Finish&lt;/th&gt;\r\n\r\n        &lt;/tr&gt;\r\n\r\n\r\n\r\n            &lt;tr th:each=&quot;p : ${GetOrder}&quot;&gt;\r\n                &lt;td th:text=&quot;${p.getOrderId()}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${p.getName()}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${p.getSecondName()}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${p.getAddress()}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${p.getApartment()}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${p.getPhoneNumber()}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${p.getOrderPrice()}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${p.getCity()}&quot;&gt;&lt;/td&gt;\r\n\r\n                &lt;td&gt;\r\n                    &lt;span style=&quot;color: green&quot; th:if=&quot;${p.getStatus() == &#39;1&#39;}&quot;&gt;Delivered&lt;/span&gt;\r\n\r\n                    &lt;span style=&quot;color: red&quot;  th:if=&quot;${p.getStatus() == &#39;0&#39;}&quot;&gt;NotDelivered &lt;/span&gt;\r\n\r\n                &lt;/td&gt;\r\n                &lt;td&gt;\r\n\r\n                    &lt;a th:href=&quot;@{/managment/order/{getOrderId}(getOrderId = ${p.getOrderId()})}&quot;&gt;Click!&lt;/a&gt;\r\n\r\n                &lt;/td&gt;\r\n\r\n\r\n            &lt;/tr&gt;\r\n        &lt;/table&gt;\r\n\r\n```","title":"Thymeleaf database update","body":"<p>I achieved my goal, in a different way, but still. Here is the answer:</p>\n<p>Controller Class</p>\n<pre><code>\n\n    @GetMapping(path = &quot;/order/{getOrderId}&quot;)\n    public String updateStudent(@PathVariable(&quot;getOrderId&quot;) Integer getOrderId, Model model){\n\n        Purchases purchases =\n                orderInterface.findByOrderId(getOrderId);\n\n\n\n        model.addAttribute(&quot;Delivered&quot;, purchases);\n        System.out.println(purchases);\n        purchases.setStatus(&quot;1&quot;);\n\n        orderInterface.save(purchases);\n\n        return &quot;redirect:/managment/order&quot;;\n    }\n\n</code></pre>\n<p>Here is my Html file</p>\n<pre><code>    &lt;table&gt;\n\n        &lt;tr&gt;\n            &lt;th&gt;Id&lt;/th&gt;\n            &lt;th&gt;Imie&lt;/th&gt;\n            &lt;th&gt;Nazwsiko&lt;/th&gt;\n            &lt;th&gt;Adres&lt;/th&gt;\n            &lt;th&gt;Mieszkanie&lt;/th&gt;\n            &lt;th&gt;Numer telefonu&lt;/th&gt;\n            &lt;th&gt;Cena&lt;/th&gt;\n            &lt;th&gt;Miasto&lt;/th&gt;\n            &lt;th&gt;Delivered&lt;/th&gt;\n            &lt;th&gt;Finish&lt;/th&gt;\n\n        &lt;/tr&gt;\n\n\n\n            &lt;tr th:each=&quot;p : ${GetOrder}&quot;&gt;\n                &lt;td th:text=&quot;${p.getOrderId()}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${p.getName()}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${p.getSecondName()}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${p.getAddress()}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${p.getApartment()}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${p.getPhoneNumber()}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${p.getOrderPrice()}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${p.getCity()}&quot;&gt;&lt;/td&gt;\n\n                &lt;td&gt;\n                    &lt;span style=&quot;color: green&quot; th:if=&quot;${p.getStatus() == '1'}&quot;&gt;Delivered&lt;/span&gt;\n\n                    &lt;span style=&quot;color: red&quot;  th:if=&quot;${p.getStatus() == '0'}&quot;&gt;NotDelivered &lt;/span&gt;\n\n                &lt;/td&gt;\n                &lt;td&gt;\n\n                    &lt;a th:href=&quot;@{/managment/order/{getOrderId}(getOrderId = ${p.getOrderId()})}&quot;&gt;Click!&lt;/a&gt;\n\n                &lt;/td&gt;\n\n\n            &lt;/tr&gt;\n        &lt;/table&gt;\n\n</code></pre>\n"}],"owner":{"account_id":17657110,"reputation":48,"user_id":12816440,"display_name":"Peetkovski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638949752,"creation_date":1638821778,"question_id":70251416,"body_markdown":"Is there a way to update value of the String **&quot;status&quot;** to &quot;1&quot; on button onClick.\r\nIf there is no way to change it  button onClick is there another way to do it?\r\n\r\nI want to find row by Id and update the value of the **&quot;status&quot;**.\r\n\r\nThis is Html File with Thymeleaf\r\n```\r\n    &lt;form action=&quot;#&quot;  method=&quot;put&quot; th:action=&quot;@{/order}&quot;&gt;\r\n    &lt;table&gt;\r\n        &lt;tr th:each=&quot;p : ${GetOrder}&quot;&gt;\r\n            &lt;td th:text=&quot;${p.getName()}&quot;&gt; &lt;button&gt; &lt;/button&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${p.getSecondName()}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${p.getAddress()}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${p.getApartment()}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${p.getPhoneNumber()}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${p.getOrderPrice()}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${p.getCity()}&quot;&gt;&lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;span style=&quot;color: green&quot; th:if=&quot;${p.getStatus() == &#39;1&#39;}&quot;&gt;Delivered&lt;/span&gt;\r\n                &lt;span style=&quot;color: red&quot; th:if=&quot;${p.getStatus() == &#39;0&#39;}&quot;&gt;Not Delivered&lt;/span&gt;\r\n\r\n            &lt;/td&gt;\r\n            &lt;td&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;âœ“&quot;/&gt;\r\n            &lt;/td&gt;\r\n\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;/form&gt;\r\n```\r\nThis is my Controller Class\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/managment&quot;)\r\npublic class Managment {\r\n\r\n    @Autowired\r\n    private PurchaseDataService purchaseDataService;\r\n\r\n    @Autowired\r\n    private OrderInterface orderInterface;\r\n\r\n\r\n    @GetMapping(&quot;/order&quot;)\r\n    public String goToOrderList(Model model){\r\n\r\n\r\n        List&lt;Purchases&gt; allStats = purchaseDataService.getAllStats();\r\n\r\n\r\n        int status = 0;\r\n        model.addAttribute(&quot;GetOrder&quot;, allStats);\r\n        model.addAttribute(&quot;notDelivered&quot;, status);\r\n\r\n\r\n\r\n        return &quot;OrderManagment&quot;;\r\n    }\r\n\r\n    @PutMapping(&quot;/order/{id}&quot;)\r\n    public String updateInfo(@PathVariable(value = &quot;id&quot;) Integer orderId, Model model){\r\n\r\n\r\n        return &quot;OrderManagment&quot;;\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n```","title":"Thymeleaf database update","body":"<p>Is there a way to update value of the String <strong>&quot;status&quot;</strong> to &quot;1&quot; on button onClick.\nIf there is no way to change it  button onClick is there another way to do it?</p>\n<p>I want to find row by Id and update the value of the <strong>&quot;status&quot;</strong>.</p>\n<p>This is Html File with Thymeleaf</p>\n<pre><code>    &lt;form action=&quot;#&quot;  method=&quot;put&quot; th:action=&quot;@{/order}&quot;&gt;\n    &lt;table&gt;\n        &lt;tr th:each=&quot;p : ${GetOrder}&quot;&gt;\n            &lt;td th:text=&quot;${p.getName()}&quot;&gt; &lt;button&gt; &lt;/button&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${p.getSecondName()}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${p.getAddress()}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${p.getApartment()}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${p.getPhoneNumber()}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${p.getOrderPrice()}&quot;&gt;&lt;/td&gt;\n            &lt;td th:text=&quot;${p.getCity()}&quot;&gt;&lt;/td&gt;\n            &lt;td&gt;\n                &lt;span style=&quot;color: green&quot; th:if=&quot;${p.getStatus() == '1'}&quot;&gt;Delivered&lt;/span&gt;\n                &lt;span style=&quot;color: red&quot; th:if=&quot;${p.getStatus() == '0'}&quot;&gt;Not Delivered&lt;/span&gt;\n\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;input type=&quot;submit&quot; value=&quot;âœ“&quot;/&gt;\n            &lt;/td&gt;\n\n        &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;/form&gt;\n</code></pre>\n<p>This is my Controller Class</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/managment&quot;)\npublic class Managment {\n\n    @Autowired\n    private PurchaseDataService purchaseDataService;\n\n    @Autowired\n    private OrderInterface orderInterface;\n\n\n    @GetMapping(&quot;/order&quot;)\n    public String goToOrderList(Model model){\n\n\n        List&lt;Purchases&gt; allStats = purchaseDataService.getAllStats();\n\n\n        int status = 0;\n        model.addAttribute(&quot;GetOrder&quot;, allStats);\n        model.addAttribute(&quot;notDelivered&quot;, status);\n\n\n\n        return &quot;OrderManagment&quot;;\n    }\n\n    @PutMapping(&quot;/order/{id}&quot;)\n    public String updateInfo(@PathVariable(value = &quot;id&quot;) Integer orderId, Model model){\n\n\n        return &quot;OrderManagment&quot;;\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-iam"],"answers":[{"tags":[],"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638949636,"creation_date":1638949636,"answer_id":70271529,"question_id":70271456,"body_markdown":"In Java there is [putRolePolicy](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/iam/IamClient.html#putRolePolicy-java.util.function.Consumer-) for that:\r\n\r\n&gt; **Adds** or updates an **inline policy** document that is embedded in the specified IAM role. ","title":"How to create inline policy with AWS API","body":"<p>In Java there is <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/iam/IamClient.html#putRolePolicy-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">putRolePolicy</a> for that:</p>\n<blockquote>\n<p><strong>Adds</strong> or updates an <strong>inline policy</strong> document that is embedded in the specified IAM role.</p>\n</blockquote>\n"}],"owner":{"account_id":2580852,"reputation":556,"user_id":2237583,"display_name":"lipeiran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70271529,"answer_count":1,"score":1,"last_activity_date":1638949636,"creation_date":1638949198,"question_id":70271456,"body_markdown":"I am writing code which requires IAM role to be created programmatically in Java. I would like an inline policy attached to the role instead of a managed policy. I can only find [example][1] and [doc][2] to create a role and a managed policy separately, then attach the managed policy to the existing IAM role.\r\n\r\nHow can I create an IAM role with inline policy?\r\n\r\n[1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-iam-policies.html#list-attached-role-policies\r\n[2]: https://docs.aws.amazon.com/IAM/latest/APIReference/API_CreateRole.html","title":"How to create inline policy with AWS API","body":"<p>I am writing code which requires IAM role to be created programmatically in Java. I would like an inline policy attached to the role instead of a managed policy. I can only find <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-iam-policies.html#list-attached-role-policies\" rel=\"nofollow noreferrer\">example</a> and <a href=\"https://docs.aws.amazon.com/IAM/latest/APIReference/API_CreateRole.html\" rel=\"nofollow noreferrer\">doc</a> to create a role and a managed policy separately, then attach the managed policy to the existing IAM role.</p>\n<p>How can I create an IAM role with inline policy?</p>\n"},{"tags":["java","antlr","antlr4"],"comments":[{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1638901853,"post_id":70265122,"comment_id":124209502,"body_markdown":"What does `C(parseTree1)` signify? Accessing an arbitrary node in the parse tree?","body":"What does <code>C(parseTree1)</code> signify? Accessing an arbitrary node in the parse tree?"},{"owner":{"account_id":978972,"reputation":205,"user_id":1116824,"display_name":"Lorenzo Frattini"},"score":0,"creation_date":1638903700,"post_id":70265122,"comment_id":124210188,"body_markdown":"Yes thatâ€™s what I meant, sorry if my writing wasnâ€™t clear. \n\nI am basically looking to have something that is invariant between instances and that lets me a) access nodes quickly and b) figure out if two nodes of equivalent parse trees are the same (i.e should satisfy equals).","body":"Yes thatâ€™s what I meant, sorry if my writing wasnâ€™t clear.   I am basically looking to have something that is invariant between instances and that lets me a) access nodes quickly and b) figure out if two nodes of equivalent parse trees are the same (i.e should satisfy equals)."},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1638970790,"post_id":70265122,"comment_id":124228424,"body_markdown":"Isn&#39;t C() just a hash code? You can define it to be whatever you want, based on invariants such as line/column number, text, token type, token range, depth of parse tree, an XPath string representing the node within a parse tree, etc. You would need to visit the tree once to precompute the hash values for all nodes. To find it in other instances, use a multi-map. Take care in using XPath.findAll() for finding a node. The XPath engine *is* a tree walker. I ported a far more capable XPath2 engine to C# for Antlr tree/grammar refactoring, but I haven&#39;t had time to backport it to Java.","body":"Isn&#39;t C() just a hash code? You can define it to be whatever you want, based on invariants such as line/column number, text, token type, token range, depth of parse tree, an XPath string representing the node within a parse tree, etc. You would need to visit the tree once to precompute the hash values for all nodes. To find it in other instances, use a multi-map. Take care in using XPath.findAll() for finding a node. The XPath engine <i>is</i> a tree walker. I ported a far more capable XPath2 engine to C# for Antlr tree/grammar refactoring, but I haven&#39;t had time to backport it to Java."},{"owner":{"account_id":978972,"reputation":205,"user_id":1116824,"display_name":"Lorenzo Frattini"},"score":0,"creation_date":1638972928,"post_id":70265122,"comment_id":124229343,"body_markdown":"Yes, what you describe is the approach I have taken so far.  My invariant is:\n\n\npublic class NodeInvariant {\nprivate final Optional&lt;String&gt; start;\nprivate final Optional&lt;String&gt; stop;\nprivate final Integer hashCode;\nprivate final Integer ruleIndex;\nprivate final Integer depth;\nprivate final Integer childCount;\n}\n\n\nIt works, but it feels suboptimal and I want to make sure I am not missing a trick","body":"Yes, what you describe is the approach I have taken so far.  My invariant is:   public class NodeInvariant { private final Optional&lt;String&gt; start; private final Optional&lt;String&gt; stop; private final Integer hashCode; private final Integer ruleIndex; private final Integer depth; private final Integer childCount; }   It works, but it feels suboptimal and I want to make sure I am not missing a trick"}],"answers":[{"tags":[],"owner":{"account_id":1156784,"reputation":50182,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638949387,"creation_date":1638949387,"answer_id":70271482,"question_id":70265122,"body_markdown":"You can use [ANTLR4&#39;s XPath][1] implementation to directly access nodes in a given parse tree path. Here&#39;s how I get all query expressions in MySQL code, after parsing:\r\n\r\n```typescript\r\nconst expressions = XPath.findAll(tree, &quot;/query/simpleStatement//queryExpression&quot;, this.parser);\r\n```\r\n\r\n\r\n  [1]: https://github.com/mike-lischke/antlr4/blob/master/doc/tree-matching.md#using-xpath-to-identify-parse-tree-node-sets","title":"Antlr parse Tree node coordinates?","body":"<p>You can use <a href=\"https://github.com/mike-lischke/antlr4/blob/master/doc/tree-matching.md#using-xpath-to-identify-parse-tree-node-sets\" rel=\"nofollow noreferrer\">ANTLR4's XPath</a> implementation to directly access nodes in a given parse tree path. Here's how I get all query expressions in MySQL code, after parsing:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const expressions = XPath.findAll(tree, &quot;/query/simpleStatement//queryExpression&quot;, this.parser);\n</code></pre>\n"}],"owner":{"account_id":978972,"reputation":205,"user_id":1116824,"display_name":"Lorenzo Frattini"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70271482,"answer_count":1,"score":1,"last_activity_date":1638949387,"creation_date":1638901167,"question_id":70265122,"body_markdown":"I use Antlr4 4.9.2\r\n\r\nI have a requirement to perform multiple passes of the same parse tree at different stages of my analysis. Some of the files my application handles are very large, therefore I&#39;d like to be able to avoid keeping the parse tree in memory, and be able to regenerate a different parse tree instance each time. So far so good.\r\n\r\nMy challenge is that I need a way to (a) compare nodes and (b) quickly access nodes that works with different instances of equivalent parse trees.\r\n\r\nFor example the following pseudo-code generates two separate instances of a parse tree that represent the same file (therefore the parse trees and their nodes are equivalent)\r\n\r\n```\r\nParseTree parseTree1 = parse(myFile, myGrammar)\r\nParseTree parseTree2 = parse(myFile, myGrammar) \r\n```\r\n\r\nSince `myFile` and `myGrammar` are the same, both `parseTree1` and `parseTree2` are equivalent, however are different instances and don&#39;t satisfy `Objects.equals()`\r\n\r\nIn ANTLR, how do I represent the coordinates C of a node in such a way that:\r\n\r\n* C(node1) = C(node2) if the nodes are equivalent\r\n* I can access C(parseTree1) or C(parseTree2) without having to visit the parse trees - so I can quickly position myself on the same node, for any instance of the parsetree\r\n\r\n","title":"Antlr parse Tree node coordinates?","body":"<p>I use Antlr4 4.9.2</p>\n<p>I have a requirement to perform multiple passes of the same parse tree at different stages of my analysis. Some of the files my application handles are very large, therefore I'd like to be able to avoid keeping the parse tree in memory, and be able to regenerate a different parse tree instance each time. So far so good.</p>\n<p>My challenge is that I need a way to (a) compare nodes and (b) quickly access nodes that works with different instances of equivalent parse trees.</p>\n<p>For example the following pseudo-code generates two separate instances of a parse tree that represent the same file (therefore the parse trees and their nodes are equivalent)</p>\n<pre><code>ParseTree parseTree1 = parse(myFile, myGrammar)\nParseTree parseTree2 = parse(myFile, myGrammar) \n</code></pre>\n<p>Since <code>myFile</code> and <code>myGrammar</code> are the same, both <code>parseTree1</code> and <code>parseTree2</code> are equivalent, however are different instances and don't satisfy <code>Objects.equals()</code></p>\n<p>In ANTLR, how do I represent the coordinates C of a node in such a way that:</p>\n<ul>\n<li>C(node1) = C(node2) if the nodes are equivalent</li>\n<li>I can access C(parseTree1) or C(parseTree2) without having to visit the parse trees - so I can quickly position myself on the same node, for any instance of the parsetree</li>\n</ul>\n"},{"tags":["java","json","spring","resttemplate"],"comments":[{"owner":{"account_id":2451696,"reputation":1833,"user_id":2137817,"accept_rate":45,"display_name":"user2137817"},"score":2,"creation_date":1471529810,"post_id":28893713,"comment_id":65391534,"body_markdown":"i&#39;m having the same issue did you find a solution for this?","body":"i&#39;m having the same issue did you find a solution for this?"},{"owner":{"account_id":2721981,"reputation":195,"user_id":2348091,"accept_rate":82,"display_name":"Fco"},"score":0,"creation_date":1507005102,"post_id":28893713,"comment_id":80028873,"body_markdown":"DId you find any solution? thanks.","body":"DId you find any solution? thanks."}],"answers":[{"tags":[],"owner":{"account_id":3849109,"reputation":501,"user_id":3189691,"accept_rate":67,"display_name":"sayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425631102,"creation_date":1425625733,"answer_id":28893826,"question_id":28893713,"body_markdown":"Please use `private List&lt;Data&gt; data = new AllarList&lt;Data&gt;( )`;\r\nand please provide getters( ) and setters( ) methods in both the classes.\r\n\r\nPut `@JsonInclude(Include.NON_EMPTY)` above Data class\r\n\r\nPlease add below dependencies under &lt;dependencies&gt; &lt;/dependencies&gt; section at your main POM.xml file and do maven compile. Then I guess your issue will get resolved.\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-datatype-joda&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8.8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n","title":"Map Nested JSON Objects to Java Classes with Spring RestTemplate","body":"<p>Please use <code>private List&lt;Data&gt; data = new AllarList&lt;Data&gt;( )</code>;\nand please provide getters( ) and setters( ) methods in both the classes.</p>\n\n<p>Put <code>@JsonInclude(Include.NON_EMPTY)</code> above Data class</p>\n\n<p>Please add below dependencies under   section at your main POM.xml file and do maven compile. Then I guess your issue will get resolved.</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-joda&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n            &lt;version&gt;1.8.8&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4255796,"reputation":1546,"user_id":3481534,"display_name":"Andrey"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1459062540,"creation_date":1459062540,"answer_id":36244788,"question_id":28893713,"body_markdown":"If you need only print data, you can do this\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(\r\n        &quot;your url&quot;,\r\n        String.class);\r\n\r\n    System.out.println(response);","title":"Map Nested JSON Objects to Java Classes with Spring RestTemplate","body":"<p>If you need only print data, you can do this</p>\n\n<pre><code>RestTemplate restTemplate = new RestTemplate();\nResponseEntity&lt;String&gt; response = restTemplate.getForEntity(\n    \"your url\",\n    String.class);\n\nSystem.out.println(response);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10084687,"reputation":51,"user_id":7453736,"display_name":"O. Coburn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1485095047,"creation_date":1485095047,"answer_id":41792041,"question_id":28893713,"body_markdown":"I was having a similar issue with RestTemplate not mapping nested JSON objects to my class model also, after much frustration I decided to retrieve my JSON as a String(instead of converting directly to my target object) using RestTemplate and then use the google Gson library to convert my String to my target entity.\r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\ncode to call RestTemplate:\r\n\r\n     ResponseEntity&lt;String&gt; responseEntity = restTemplate.getForEntity(Url,String.class);\r\n    Gson gson = new GsonBuilder().create();\r\n    Response reponse = gson.fromJson(responseEntity , Response.class);\r\n\r\n\r\n\r\n\r\nUnfortunately I was unable to find out why my nested objects were not mapped using RestTemplate the first place but I hope this workaround helps!","title":"Map Nested JSON Objects to Java Classes with Spring RestTemplate","body":"<p>I was having a similar issue with RestTemplate not mapping nested JSON objects to my class model also, after much frustration I decided to retrieve my JSON as a String(instead of converting directly to my target object) using RestTemplate and then use the google Gson library to convert my String to my target entity.</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>code to call RestTemplate:</p>\n\n<pre><code> ResponseEntity&lt;String&gt; responseEntity = restTemplate.getForEntity(Url,String.class);\nGson gson = new GsonBuilder().create();\nResponse reponse = gson.fromJson(responseEntity , Response.class);\n</code></pre>\n\n<p>Unfortunately I was unable to find out why my nested objects were not mapped using RestTemplate the first place but I hope this workaround helps!</p>\n"},{"tags":[],"owner":{"account_id":8893308,"reputation":165,"user_id":6639179,"display_name":"Abhishek Tripathi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1500753858,"creation_date":1500753858,"answer_id":45258682,"question_id":28893713,"body_markdown":"I had a similar issue when reading Json data from REST API using Rest Template. To resolve declare getters and setters for the List:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Response implements Serializable {\r\n    \r\n      private String message;\r\n      private String status;\r\n      private List&lt;Data&gt; data;\r\n    \r\n     // getters and Setters for the list. \r\n    \r\n    \r\n    }\r\n\r\nThe RestTemplate will internally map the values from the listarray to the corresponding array.\r\n","title":"Map Nested JSON Objects to Java Classes with Spring RestTemplate","body":"<p>I had a similar issue when reading Json data from REST API using Rest Template. To resolve declare getters and setters for the List:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Response implements Serializable {\n\n  private String message;\n  private String status;\n  private List&lt;Data&gt; data;\n\n // getters and Setters for the list. \n\n\n}\n</code></pre>\n\n<p>The RestTemplate will internally map the values from the listarray to the corresponding array.</p>\n"},{"tags":[],"owner":{"account_id":2635431,"reputation":1575,"user_id":2280259,"accept_rate":33,"display_name":"isank-a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503410038,"creation_date":1503410038,"answer_id":45819619,"question_id":28893713,"body_markdown":"Annotate property &quot;data&quot; with @JsonUnwrapped as below\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Response implements Serializable {\r\n        private String message;\r\n        private String status;\r\n        @JsonUnwrapped\r\n        private List&lt;Data&gt; data;\r\n    }","title":"Map Nested JSON Objects to Java Classes with Spring RestTemplate","body":"<p>Annotate property \"data\" with @JsonUnwrapped as below</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Response implements Serializable {\n    private String message;\n    private String status;\n    @JsonUnwrapped\n    private List&lt;Data&gt; data;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1519856025,"creation_date":1519856025,"answer_id":49039497,"question_id":28893713,"body_markdown":"I ran into the same issue. Annotate with `@JsonProperty`:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Data implements Serializable {\r\n    \r\n        @JsonProperty(&quot;Name&quot;)\r\n        private String name;\r\n        \r\n        @JsonProperty(&quot;Address&quot;)\r\n        private String address;\r\n    \r\n        // getters / setters for name and address\r\n    \r\n    }\r\n\r\nThe fields of your `Data` class should now get populated, and you can name your fields independent of the JSON representation (e.g. `name` instead of `Name`).","title":"Map Nested JSON Objects to Java Classes with Spring RestTemplate","body":"<p>I ran into the same issue. Annotate with <code>@JsonProperty</code>:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Data implements Serializable {\n\n    @JsonProperty(\"Name\")\n    private String name;\n\n    @JsonProperty(\"Address\")\n    private String address;\n\n    // getters / setters for name and address\n\n}\n</code></pre>\n\n<p>The fields of your <code>Data</code> class should now get populated, and you can name your fields independent of the JSON representation (e.g. <code>name</code> instead of <code>Name</code>).</p>\n"},{"tags":[],"owner":{"account_id":5363789,"reputation":11,"user_id":4274319,"display_name":"Tharindu Rathnayake"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554989372,"creation_date":1554989372,"answer_id":55633706,"question_id":28893713,"body_markdown":"I know this is an old thread.\r\n\r\nBut for anyone having the same problem, you can use `MappingJackson2HttpMessageConverter` for this purpose with Jackson.\r\n\r\nPlease refer the answer given in [this][1] thread.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14491309/deserializing-nested-objects-using-resttemplate","title":"Map Nested JSON Objects to Java Classes with Spring RestTemplate","body":"<p>I know this is an old thread.</p>\n\n<p>But for anyone having the same problem, you can use <code>MappingJackson2HttpMessageConverter</code> for this purpose with Jackson.</p>\n\n<p>Please refer the answer given in <a href=\"https://stackoverflow.com/questions/14491309/deserializing-nested-objects-using-resttemplate\">this</a> thread.</p>\n"},{"tags":[],"owner":{"account_id":10713178,"reputation":81,"user_id":7884815,"display_name":"Xu&#226;n CÆ°á»ng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638949235,"creation_date":1638949235,"answer_id":70271459,"question_id":28893713,"body_markdown":"Change this \r\n\r\n\r\n&gt; ` private String message;\r\n  private String status;\r\n  private List&lt;Data&gt; data;`\r\n\r\nTo This\r\n&gt;` public String message;\r\n  public String status;\r\n  public List&lt;Data&gt; data;`\r\n\r\nThat worked for me !","title":"Map Nested JSON Objects to Java Classes with Spring RestTemplate","body":"<p>Change this</p>\n<blockquote>\n<p><code> private String message; private String status; private List&lt;Data&gt; data;</code></p>\n</blockquote>\n<p>To This</p>\n<blockquote>\n<p><code> public String message; public String status; public List&lt;Data&gt; data;</code></p>\n</blockquote>\n<p>That worked for me !</p>\n"}],"owner":{"account_id":4858647,"reputation":131,"user_id":3918971,"display_name":"Ren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26429,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":8,"score":13,"last_activity_date":1638949235,"creation_date":1425625167,"question_id":28893713,"body_markdown":"I know this may be simple. However, I just can&#39;t get it to work.\r\n\r\nSo I am trying to use Spring RestTemplate to map my JSON data. I have following JSON response from a rest call.\r\n\r\n    {\r\n      &quot;message&quot;:&quot;ok&quot;,\r\n      &quot;status&quot;:&quot;ok&quot;,\r\n      &quot;data&quot;:[\r\n\t      {&quot;Name&quot;:&quot;Yo&quot;,\r\n\t\t   &quot;Address&quot;:&quot;100 Test Rd&quot;},\r\n          {...},\r\n          {...}\r\n       ]\r\n    }\r\n\r\nAnd here is the class I am trying to map it to.\r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Response implements Serializable {\r\n\r\n\t  private String message;\r\n\t  private String status;\r\n\t  private List&lt;Data&gt; data;\r\n      \r\n      // I could also use a array instead\r\n      // private Data[] data;\r\n    }\r\n\r\nHere is my Data class:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Data implements Serializable {\r\n\t\r\n\t  private String Name;\r\n\t  private String Address;\r\n\t}\r\n\r\nHere is the code I used to call RestTemplate:\r\n    \r\n    public Reponse getResponse() {\r\n\t\tResponseEntity&lt;Reponse&gt; responseEntity = restTemplate.getForEntity(Url, Reponse.class);\r\n\t\t\r\n\t\treturn responseEntity.getBody();\r\n\t}\r\n    \r\nNow here comes the problem. I was able to get &quot;message&quot; and &quot;status&quot;, But when I try to log/print data, it shows null. Not exactly sure what&#39;s going on here. I really could use some help. Thanks.","title":"Map Nested JSON Objects to Java Classes with Spring RestTemplate","body":"<p>I know this may be simple. However, I just can't get it to work.</p>\n\n<p>So I am trying to use Spring RestTemplate to map my JSON data. I have following JSON response from a rest call.</p>\n\n<pre><code>{\n  \"message\":\"ok\",\n  \"status\":\"ok\",\n  \"data\":[\n      {\"Name\":\"Yo\",\n       \"Address\":\"100 Test Rd\"},\n      {...},\n      {...}\n   ]\n}\n</code></pre>\n\n<p>And here is the class I am trying to map it to.</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Response implements Serializable {\n\n  private String message;\n  private String status;\n  private List&lt;Data&gt; data;\n\n  // I could also use a array instead\n  // private Data[] data;\n}\n</code></pre>\n\n<p>Here is my Data class:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Data implements Serializable {\n\n  private String Name;\n  private String Address;\n}\n</code></pre>\n\n<p>Here is the code I used to call RestTemplate:</p>\n\n<pre><code>public Reponse getResponse() {\n    ResponseEntity&lt;Reponse&gt; responseEntity = restTemplate.getForEntity(Url, Reponse.class);\n\n    return responseEntity.getBody();\n}\n</code></pre>\n\n<p>Now here comes the problem. I was able to get \"message\" and \"status\", But when I try to log/print data, it shows null. Not exactly sure what's going on here. I really could use some help. Thanks.</p>\n"},{"tags":["java","decimalformat"],"answers":[{"tags":[],"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638819996,"creation_date":1638819996,"answer_id":70251100,"question_id":70251083,"body_markdown":"You can change the decimal format like in this [post](https://stackoverflow.com/questions/5054132/how-to-change-the-decimal-separator-of-decimalformat-from-comma-to-dot-point)\r\n\r\n    NumberFormat nf = NumberFormat.getNumberInstance(Locale.GERMAN);\r\n    DecimalFormat df = (DecimalFormat)nf;","title":"DecimalFormat(&quot;0.0&quot;) returns data with a comma as separator instead of a point","body":"<p>You can change the decimal format like in this <a href=\"https://stackoverflow.com/questions/5054132/how-to-change-the-decimal-separator-of-decimalformat-from-comma-to-dot-point\">post</a></p>\n<pre><code>NumberFormat nf = NumberFormat.getNumberInstance(Locale.GERMAN);\nDecimalFormat df = (DecimalFormat)nf;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638820364,"creation_date":1638820364,"answer_id":70251160,"question_id":70251083,"body_markdown":"You can (and you actually need to avoid localization) actively configure the `DecimalFormat` with more detail as follows:\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        DecimalFormat df = new DecimalFormat(&quot;0.0&quot;);\r\n        DecimalFormatSymbols decimalFormatSymbols = new DecimalFormatSymbols();\r\n        decimalFormatSymbols.setDecimalSeparator(&#39;.&#39;);\r\n        df.setDecimalFormatSymbols(decimalFormatSymbols);\r\n        \r\n        System.out.println(df.format(10.4));  // prints 10,4 instead of 10.4\r\n        System.out.println(df.format(100.5)); // prints 100,5 instead of 100.5\r\n        System.out.println(df.format(3000.3));// prints 3000,3 instead of 3000.3\r\n    }\r\n}\r\n```\r\n\r\nYou can read more details in the [reference documentation][1], where an important snippet can be read:\r\n\r\n&gt; Special Pattern Characters \r\n&gt;\r\n&gt; (...) \r\n&gt;\r\n&gt; The characters listed here are used\r\n&gt; in non-localized patterns. Localized patterns use the corresponding\r\n&gt; characters taken from this formatter&#39;s DecimalFormatSymbols object\r\n&gt; instead, and these characters lose their special status.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html","title":"DecimalFormat(&quot;0.0&quot;) returns data with a comma as separator instead of a point","body":"<p>You can (and you actually need to avoid localization) actively configure the <code>DecimalFormat</code> with more detail as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) throws Exception {\n        DecimalFormat df = new DecimalFormat(&quot;0.0&quot;);\n        DecimalFormatSymbols decimalFormatSymbols = new DecimalFormatSymbols();\n        decimalFormatSymbols.setDecimalSeparator('.');\n        df.setDecimalFormatSymbols(decimalFormatSymbols);\n        \n        System.out.println(df.format(10.4));  // prints 10,4 instead of 10.4\n        System.out.println(df.format(100.5)); // prints 100,5 instead of 100.5\n        System.out.println(df.format(3000.3));// prints 3000,3 instead of 3000.3\n    }\n}\n</code></pre>\n<p>You can read more details in the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">reference documentation</a>, where an important snippet can be read:</p>\n<blockquote>\n<p>Special Pattern Characters</p>\n<p>(...)</p>\n<p>The characters listed here are used\nin non-localized patterns. Localized patterns use the corresponding\ncharacters taken from this formatter's DecimalFormatSymbols object\ninstead, and these characters lose their special status.</p>\n</blockquote>\n"}],"owner":{"account_id":3730249,"reputation":900,"user_id":3102882,"accept_rate":25,"display_name":"Space"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":852,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1638949206,"accepted_answer_id":70251160,"answer_count":2,"score":0,"last_activity_date":1638949137,"creation_date":1638819873,"question_id":70251083,"body_markdown":"```java\r\nimport java.text.DecimalFormat;\r\n\r\npublic class FormatTest {\r\n     public static void main(String[] args) {\r\n        DecimalFormat df = new DecimalFormat(&quot;0.0&quot;);\r\n\r\n        System.out.println(df.format(10.4));  // prints 10,4 instead of 10.4\r\n        System.out.println(df.format(100.5)); // prints 100,5 instead of 100.5\r\n        System.out.println(df.format(3000.3));// prints 3000,3 instead of 3000.3\r\n    }\r\n}\r\n```\r\n\r\nThe output of my code above is below with a comma as decimal separator while normally it should be with a point. I use NetBeans 12.5 with Maven.\r\n\r\nIt seems like Java uses my local decimal separator instead of point. Also, I need to force point (&quot;.&quot;) as the only separator. \r\n\r\n```\r\n--- exec-maven-plugin:3.0.0:exec (default-cli) @ FormatTest ---\r\n\r\n10,4\r\n\r\n100,5\r\n\r\n3000,3\r\n```","title":"DecimalFormat(&quot;0.0&quot;) returns data with a comma as separator instead of a point","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.text.DecimalFormat;\n\npublic class FormatTest {\n     public static void main(String[] args) {\n        DecimalFormat df = new DecimalFormat(&quot;0.0&quot;);\n\n        System.out.println(df.format(10.4));  // prints 10,4 instead of 10.4\n        System.out.println(df.format(100.5)); // prints 100,5 instead of 100.5\n        System.out.println(df.format(3000.3));// prints 3000,3 instead of 3000.3\n    }\n}\n</code></pre>\n<p>The output of my code above is below with a comma as decimal separator while normally it should be with a point. I use NetBeans 12.5 with Maven.</p>\n<p>It seems like Java uses my local decimal separator instead of point. Also, I need to force point (&quot;.&quot;) as the only separator.</p>\n<pre><code>--- exec-maven-plugin:3.0.0:exec (default-cli) @ FormatTest ---\n\n10,4\n\n100,5\n\n3000,3\n</code></pre>\n"},{"tags":["java","spring-boot","events"],"answers":[{"tags":[],"owner":{"account_id":4406042,"reputation":186,"user_id":5983162,"display_name":"Z.yassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1554119606,"creation_date":1554118735,"answer_id":55454219,"question_id":55454051,"body_markdown":"You are publishing the GenericSpringEvent only once! that is the reason.\r\nIn order to publish it again, I see two options to do it:\r\n \r\n 1 - you have to do the same: `applicationEventPublisher.publishEvent(genericSpringEvent);` in your onGenericEvent method \r\n\r\n 2 - write some aspect around your onGenericEvent method so that after return you do `applicationEventPublisher.publishEvent(returnedGenericSpringEvent);`\r\n\r\nReturning the event doesn&#39;t make it published, the method annotated with @EventListener is just like any other method so that&#39;s why it may have a non-void return.","title":"@EventListener annotated method with non-void return value doesn&#39;t trigger a new event","body":"<p>You are publishing the GenericSpringEvent only once! that is the reason.\nIn order to publish it again, I see two options to do it:</p>\n\n<p>1 - you have to do the same: <code>applicationEventPublisher.publishEvent(genericSpringEvent);</code> in your onGenericEvent method </p>\n\n<p>2 - write some aspect around your onGenericEvent method so that after return you do <code>applicationEventPublisher.publishEvent(returnedGenericSpringEvent);</code></p>\n\n<p>Returning the event doesn't make it published, the method annotated with @EventListener is just like any other method so that's why it may have a non-void return.</p>\n"},{"tags":[],"owner":{"account_id":91603,"reputation":4158,"user_id":251434,"accept_rate":24,"display_name":"Premier"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638948938,"creation_date":1638948938,"answer_id":70271412,"question_id":55454051,"body_markdown":"it works in this way\r\n\r\n    \r\n\r\n    @Async\r\n    @EventListener\r\n    public CompletableFuture&lt;ResponseDTO&gt; generateXml(RequestDTO requestDTO) {\r\n        Thread.sleep(5000);\r\n        logger.debug(&quot;First step completed&quot;);\r\n        return CompletableFuture.supplyAsync(() -&gt; ResponseDTO.builder()\r\n                .build());\r\n    }\r\n\r\n    @Async\r\n    @EventListener\r\n    public void sendXml(ResponseDTO responseDTO) {\r\n        logger.debug(&quot;Second step completed&quot;);\r\n    }\r\n\r\n\r\nEnjoy","title":"@EventListener annotated method with non-void return value doesn&#39;t trigger a new event","body":"<p>it works in this way</p>\n<pre><code>@Async\n@EventListener\npublic CompletableFuture&lt;ResponseDTO&gt; generateXml(RequestDTO requestDTO) {\n    Thread.sleep(5000);\n    logger.debug(&quot;First step completed&quot;);\n    return CompletableFuture.supplyAsync(() -&gt; ResponseDTO.builder()\n            .build());\n}\n\n@Async\n@EventListener\npublic void sendXml(ResponseDTO responseDTO) {\n    logger.debug(&quot;Second step completed&quot;);\n}\n</code></pre>\n<p>Enjoy</p>\n"}],"owner":{"account_id":7112428,"reputation":327,"user_id":5439836,"accept_rate":43,"display_name":"mooor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2650,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55454219,"answer_count":2,"score":1,"last_activity_date":1638948938,"creation_date":1554118068,"question_id":55454051,"body_markdown":"I&#39;ve got a following method in which I am attemping to return a none void type and hoping to handle the published event by the same method (recursively).:\r\n\r\n```\r\n@EventListener\r\n@Async\r\n\r\npublic GenericSpringEvent&lt;?&gt; onGenericEvent(GenericSpringEvent&lt;?&gt; event) throws InterruptedException {\r\n\r\nThread.sleep(5000);\r\nSystem.out.println(&quot;Received spring generic event - &quot; + event.getWhat() + &quot;, thread id &quot; + Thread.currentThread().getId());\r\nreturn new GenericSpringEvent&lt;String&gt;(String.valueOf(System.currentTimeMillis()), true);\r\n}\r\n```\r\n\r\nThe method is innitially triggered by the following call within my application:\r\n\r\n```\r\nGenericSpringEvent&lt;String&gt; genericSpringEvent = new GenericSpringEvent&lt;&gt;(&quot;GENERIC - STRING - TRUE&quot;, true);\r\napplicationEventPublisher.publishEvent(genericSpringEvent);\r\n```\r\n\r\nthe listener is called only once. I would expect an endless loop instead. Can someone explain me how to achieve it. It doesn&#39;t have to be the same listener method though, I would like to understand how this non-void return feature works. Thanx!","title":"@EventListener annotated method with non-void return value doesn&#39;t trigger a new event","body":"<p>I've got a following method in which I am attemping to return a none void type and hoping to handle the published event by the same method (recursively).:</p>\n\n<pre><code>@EventListener\n@Async\n\npublic GenericSpringEvent&lt;?&gt; onGenericEvent(GenericSpringEvent&lt;?&gt; event) throws InterruptedException {\n\nThread.sleep(5000);\nSystem.out.println(\"Received spring generic event - \" + event.getWhat() + \", thread id \" + Thread.currentThread().getId());\nreturn new GenericSpringEvent&lt;String&gt;(String.valueOf(System.currentTimeMillis()), true);\n}\n</code></pre>\n\n<p>The method is innitially triggered by the following call within my application:</p>\n\n<pre><code>GenericSpringEvent&lt;String&gt; genericSpringEvent = new GenericSpringEvent&lt;&gt;(\"GENERIC - STRING - TRUE\", true);\napplicationEventPublisher.publishEvent(genericSpringEvent);\n</code></pre>\n\n<p>the listener is called only once. I would expect an endless loop instead. Can someone explain me how to achieve it. It doesn't have to be the same listener method though, I would like to understand how this non-void return feature works. Thanx!</p>\n"},{"tags":["java","swing","layout-manager","gridbaglayout"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638940468,"post_id":70270082,"comment_id":124218700,"body_markdown":"Do you really need the `ipadx` and `ipady` values?  You might consider using a `BorderLayout` as a primary layout for the various other containers","body":"Do you really need the <code>ipadx</code> and <code>ipady</code> values?  You might consider using a <code>BorderLayout</code> as a primary layout for the various other containers"},{"owner":{"account_id":13803319,"reputation":85,"user_id":9962831,"display_name":"QuantumBlink"},"score":0,"creation_date":1638940828,"post_id":70270082,"comment_id":124218766,"body_markdown":"@MadProgrammer is this in reference to the `selectionPanel`?","body":"@MadProgrammer is this in reference to the <code>selectionPanel</code>?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1638941290,"post_id":70270082,"comment_id":124218840,"body_markdown":"Why all the empty space on the left of the GUI?  Is anything supposed to go there?  You can create a complex `JPanel` by nesting `JPanels`.  I&#39;d show you how if I understood better what you were trying to accomplish with your GUI.","body":"Why all the empty space on the left of the GUI?  Is anything supposed to go there?  You can create a complex <code>JPanel</code> by nesting <code>JPanels</code>.  I&#39;d show you how if I understood better what you were trying to accomplish with your GUI."},{"owner":{"account_id":13803319,"reputation":85,"user_id":9962831,"display_name":"QuantumBlink"},"score":0,"creation_date":1638941992,"post_id":70270082,"comment_id":124218976,"body_markdown":"@GilbertLeBlanc I currently don&#39;t have in mind what I want for the empty space, but I would like to have the option of something there.","body":"@GilbertLeBlanc I currently don&#39;t have in mind what I want for the empty space, but I would like to have the option of something there."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1638946321,"post_id":70270082,"comment_id":124219961,"body_markdown":"You are requesting an additional 400 pixel vertical space for the label (`ipady = 400;`). Do you really need that much vertical space just for the label?","body":"You are requesting an additional 400 pixel vertical space for the label (<code>ipady = 400;</code>). Do you really need that much vertical space just for the label?"},{"owner":{"account_id":13803319,"reputation":85,"user_id":9962831,"display_name":"QuantumBlink"},"score":0,"creation_date":1638981983,"post_id":70270082,"comment_id":124233493,"body_markdown":"@ThomasKl&#228;ger The label initializes to the bottom of the panel. My goal was to have it be further up to accommodate buttons. However, 400 pixel is entirely arbitrary and I used it to examine the pushing on components issue.","body":"@ThomasKl&#228;ger The label initializes to the bottom of the panel. My goal was to have it be further up to accommodate buttons. However, 400 pixel is entirely arbitrary and I used it to examine the pushing on components issue."}],"answers":[{"tags":[],"owner":{"account_id":18761150,"reputation":1,"user_id":13680077,"display_name":"Muhammed Basdas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638943572,"creation_date":1638943572,"answer_id":70270642,"question_id":70270082,"body_markdown":"You can do it with MigLayout and multiple JPanel.\r\nMigLayout is very easy to use. \r\n\r\nFirstly, create a JPanel and add your components to that JPanel.\r\nSecondly, create another JPanel and add your other components to that JPanel.\r\n\r\nMigLayout has rows and columns.\r\n\r\n    new MigLayout(&quot;&quot;,&quot;[][][]&quot;/*for ex: 3 columns*/,&quot;[][]&quot; /*for ex 2 rows*/)\r\n\r\n    this.add(aComponent, &quot;cell 2 1&quot; /*for ex: that component added to third column and second row.*/);\r\n\r\nFor more information: http://www.miglayout.com/whitepaper.html\r\n","title":"How to avoid components pushing up/down on one another","body":"<p>You can do it with MigLayout and multiple JPanel.\nMigLayout is very easy to use.</p>\n<p>Firstly, create a JPanel and add your components to that JPanel.\nSecondly, create another JPanel and add your other components to that JPanel.</p>\n<p>MigLayout has rows and columns.</p>\n<pre><code>new MigLayout(&quot;&quot;,&quot;[][][]&quot;/*for ex: 3 columns*/,&quot;[][]&quot; /*for ex 2 rows*/)\n\nthis.add(aComponent, &quot;cell 2 1&quot; /*for ex: that component added to third column and second row.*/);\n</code></pre>\n<p>For more information: <a href=\"http://www.miglayout.com/whitepaper.html\" rel=\"nofollow noreferrer\">http://www.miglayout.com/whitepaper.html</a></p>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638948372,"creation_date":1638946521,"answer_id":70271045,"question_id":70270082,"body_markdown":"I created a GUI based on your drawing.  This was one of the most complex GUI&#39;s I have ever created in Swing.  The challenge was keeping the `JButton` sizes constant.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMaybe a `MigLayout` would work better for you.\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing][2].  Skip the Netbeans section.\r\n\r\nI created 11 inner `JPanels` to construct this GUI.\r\n\r\n    JFrame\r\n        main JPanel\r\n            inner JPanel\r\n                turnButton JPanel\r\n                    turn JPanel\r\n                    buttonGrid JPanel\r\n            resource JPanel\r\n                resourceLabel JPanel\r\n                resourceButton JPanel\r\n        manual JPanel\r\n            outerEastButton JPanel\r\n                eastButton JPanel\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    import java.awt.GridLayout;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class RandomGameView implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new RandomGameView());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Random Game&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \t\tframe.add(createManualPanel(), BorderLayout.EAST);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\t\r\n    \t\tJPanel upperPanel = createTurnButtonPanel();\r\n    \t\tJPanel lowerPanel = createResourcePanel();\r\n    \t\tJPanel innerPanel = createUpperPanel(upperPanel, lowerPanel);\r\n    \t\tpanel.add(innerPanel, BorderLayout.NORTH);\r\n    \t\tpanel.add(lowerPanel, BorderLayout.SOUTH);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createUpperPanel(JPanel upperPanel, JPanel lowerPanel) {\r\n    \t\tDimension upperSize = upperPanel.getPreferredSize();\r\n    \t\tDimension lowerSize = lowerPanel.getPreferredSize();\r\n    \t\t\r\n    \t\tJPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 0, 0));\r\n    \t\tint difference = lowerSize.width - upperSize.width;\r\n    \t\tint left = difference / 2;\r\n    \t\tint right = difference - left;\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, left, 0, right));\r\n    \t\tpanel.add(upperPanel);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createTurnButtonPanel() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\t\r\n    \t\tpanel.add(createTurnPanel(), BorderLayout.NORTH);\r\n    \t\tpanel.add(createButtonGrid(), BorderLayout.SOUTH);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createTurnPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\tFont font = panel.getFont().deriveFont(Font.BOLD, 36f);\r\n    \t\t\r\n    \t\tJLabel playerLabel = new JLabel(&quot;Player&#39;s Turn&quot;);\r\n    \t\tplayerLabel.setFont(font);\r\n    \t\tpanel.add(playerLabel);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createButtonGrid() {\r\n    \t\tJPanel panel = new JPanel(new GridLayout(0, 4, 2, 2));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(2, 2, 2, 2));\r\n    \t\t\r\n    \t\tJButton[] buttonArray = new JButton[16];\r\n    \t\tDimension buttonSize = new Dimension(100, 100);\r\n    \t\tfor (int index = 0; index &lt; buttonArray.length; index++) {\r\n    \t\t\tbuttonArray[index] = new JButton(&quot;Empty&quot;);\r\n    \t\t\tbuttonArray[index].setPreferredSize(buttonSize);\r\n    \t\t\tpanel.add(buttonArray[index]);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createResourcePanel() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\t\r\n    \t\tpanel.add(createResourceLabelPanel(), BorderLayout.NORTH);\r\n    \t\tpanel.add(createResourceButtonPanel(), BorderLayout.CENTER);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createResourceLabelPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\tFont font = panel.getFont().deriveFont(Font.BOLD, 36f);\r\n    \t\t\r\n    \t\tJLabel label = new JLabel(&quot;Select a Resource&quot;);\r\n    \t\tlabel.setFont(font);\r\n    \t\tpanel.add(label);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createResourceButtonPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 30, 5));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\tJButton[] resourceButton = new JButton[5];\r\n    \t\tDimension buttonSize = new Dimension(100, 100);\r\n    \t\tfor (int index = 0; index &lt; resourceButton.length; index++) {\r\n    \t\t\tresourceButton[index] = new JButton(&quot;Empty&quot;);\r\n    \t\t\tresourceButton[index].setPreferredSize(buttonSize);\r\n    \t\t\tpanel.add(resourceButton[index]);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createManualPanel() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(10, 20, 300, 20));\r\n    \t\t\r\n    \t\tFont font = panel.getFont().deriveFont(Font.BOLD, 36f);\r\n    \t\t\r\n    \t\tJLabel label = new JLabel(&quot;Manual&quot;);\r\n    \t\tlabel.setHorizontalAlignment(JLabel.CENTER);\r\n    \t\tlabel.setFont(font);\r\n    \t\tpanel.add(label, BorderLayout.NORTH);\r\n    \t\t\r\n    \t\tJTextArea textArea = new JTextArea(5, 20);\r\n    \t\tpanel.add(textArea, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tJPanel eastButtonPanel = createEastButtonPanel();\r\n    \t\tJPanel innerPanel = createOuterEastButtonPanel(textArea, eastButtonPanel);\r\n    \t\t\r\n    \t\tpanel.add(innerPanel, BorderLayout.SOUTH);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createOuterEastButtonPanel(JTextArea textArea, \r\n    \t\t\tJPanel eastButtonPanel) {\r\n    \t\tDimension eastButtonPanelSize = eastButtonPanel.getPreferredSize();\r\n    \t\tDimension textAreaSize = textArea.getPreferredSize();\r\n    \t\t\r\n    \t\tint difference = textAreaSize.width = eastButtonPanelSize.width;\r\n    \t\tint left = difference / 2;\r\n    \t\tint right = difference - left;\r\n    \t\t\r\n    \t\tJPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 0, 0));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, left, 0, right));\r\n    \t\tpanel.add(eastButtonPanel);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createEastButtonPanel() {\r\n    \t\tJPanel panel = new JPanel(new GridLayout(0, 2, 2, 2));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(2, 2, 2, 2));\r\n    \t\t\r\n    \t\tJButton[] resourceButton = new JButton[4];\r\n    \t\tDimension buttonSize = new Dimension(50, 50);\r\n    \t\tfor (int index = 0; index &lt; resourceButton.length; index++) {\r\n    \t\t\tresourceButton[index] = new JButton();\r\n    \t\t\tresourceButton[index].setPreferredSize(buttonSize);\r\n    \t\t\tpanel.add(resourceButton[index]);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/K79Ca.png\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/index.html\r\n","title":"How to avoid components pushing up/down on one another","body":"<p>I created a GUI based on your drawing.  This was one of the most complex GUI's I have ever created in Swing.  The challenge was keeping the <code>JButton</code> sizes constant.</p>\n<p><a href=\"https://i.stack.imgur.com/K79Ca.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K79Ca.png\" alt=\"enter image description here\" /></a></p>\n<p>Maybe a <code>MigLayout</code> would work better for you.</p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Netbeans section.</p>\n<p>I created 11 inner <code>JPanels</code> to construct this GUI.</p>\n<pre><code>JFrame\n    main JPanel\n        inner JPanel\n            turnButton JPanel\n                turn JPanel\n                buttonGrid JPanel\n        resource JPanel\n            resourceLabel JPanel\n            resourceButton JPanel\n    manual JPanel\n        outerEastButton JPanel\n            eastButton JPanel\n</code></pre>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.GridLayout;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JTextArea;\nimport javax.swing.SwingUtilities;\n\npublic class RandomGameView implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new RandomGameView());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Random Game&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createMainPanel(), BorderLayout.CENTER);\n        frame.add(createManualPanel(), BorderLayout.EAST);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new BorderLayout());\n        \n        JPanel upperPanel = createTurnButtonPanel();\n        JPanel lowerPanel = createResourcePanel();\n        JPanel innerPanel = createUpperPanel(upperPanel, lowerPanel);\n        panel.add(innerPanel, BorderLayout.NORTH);\n        panel.add(lowerPanel, BorderLayout.SOUTH);\n        \n        return panel;\n    }\n\n    private JPanel createUpperPanel(JPanel upperPanel, JPanel lowerPanel) {\n        Dimension upperSize = upperPanel.getPreferredSize();\n        Dimension lowerSize = lowerPanel.getPreferredSize();\n        \n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 0, 0));\n        int difference = lowerSize.width - upperSize.width;\n        int left = difference / 2;\n        int right = difference - left;\n        panel.setBorder(BorderFactory.createEmptyBorder(0, left, 0, right));\n        panel.add(upperPanel);\n        \n        return panel;\n    }\n    \n    private JPanel createTurnButtonPanel() {\n        JPanel panel = new JPanel(new BorderLayout());\n        \n        panel.add(createTurnPanel(), BorderLayout.NORTH);\n        panel.add(createButtonGrid(), BorderLayout.SOUTH);\n        \n        return panel;\n    }\n    \n    private JPanel createTurnPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        Font font = panel.getFont().deriveFont(Font.BOLD, 36f);\n        \n        JLabel playerLabel = new JLabel(&quot;Player's Turn&quot;);\n        playerLabel.setFont(font);\n        panel.add(playerLabel);\n        \n        return panel;\n    }\n    \n    private JPanel createButtonGrid() {\n        JPanel panel = new JPanel(new GridLayout(0, 4, 2, 2));\n        panel.setBorder(BorderFactory.createEmptyBorder(2, 2, 2, 2));\n        \n        JButton[] buttonArray = new JButton[16];\n        Dimension buttonSize = new Dimension(100, 100);\n        for (int index = 0; index &lt; buttonArray.length; index++) {\n            buttonArray[index] = new JButton(&quot;Empty&quot;);\n            buttonArray[index].setPreferredSize(buttonSize);\n            panel.add(buttonArray[index]);\n        }\n        \n        return panel;\n    }\n    \n    private JPanel createResourcePanel() {\n        JPanel panel = new JPanel(new BorderLayout());\n        \n        panel.add(createResourceLabelPanel(), BorderLayout.NORTH);\n        panel.add(createResourceButtonPanel(), BorderLayout.CENTER);\n        \n        return panel;\n    }\n    \n    private JPanel createResourceLabelPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        Font font = panel.getFont().deriveFont(Font.BOLD, 36f);\n        \n        JLabel label = new JLabel(&quot;Select a Resource&quot;);\n        label.setFont(font);\n        panel.add(label);\n        \n        return panel;\n    }\n    \n    private JPanel createResourceButtonPanel() {\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 30, 5));\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        JButton[] resourceButton = new JButton[5];\n        Dimension buttonSize = new Dimension(100, 100);\n        for (int index = 0; index &lt; resourceButton.length; index++) {\n            resourceButton[index] = new JButton(&quot;Empty&quot;);\n            resourceButton[index].setPreferredSize(buttonSize);\n            panel.add(resourceButton[index]);\n        }\n        \n        return panel;\n    }\n    \n    private JPanel createManualPanel() {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(10, 20, 300, 20));\n        \n        Font font = panel.getFont().deriveFont(Font.BOLD, 36f);\n        \n        JLabel label = new JLabel(&quot;Manual&quot;);\n        label.setHorizontalAlignment(JLabel.CENTER);\n        label.setFont(font);\n        panel.add(label, BorderLayout.NORTH);\n        \n        JTextArea textArea = new JTextArea(5, 20);\n        panel.add(textArea, BorderLayout.CENTER);\n        \n        JPanel eastButtonPanel = createEastButtonPanel();\n        JPanel innerPanel = createOuterEastButtonPanel(textArea, eastButtonPanel);\n        \n        panel.add(innerPanel, BorderLayout.SOUTH);\n        \n        return panel;\n    }\n\n    private JPanel createOuterEastButtonPanel(JTextArea textArea, \n            JPanel eastButtonPanel) {\n        Dimension eastButtonPanelSize = eastButtonPanel.getPreferredSize();\n        Dimension textAreaSize = textArea.getPreferredSize();\n        \n        int difference = textAreaSize.width = eastButtonPanelSize.width;\n        int left = difference / 2;\n        int right = difference - left;\n        \n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 0, 0));\n        panel.setBorder(BorderFactory.createEmptyBorder(0, left, 0, right));\n        panel.add(eastButtonPanel);\n        \n        return panel;\n    }\n    \n    private JPanel createEastButtonPanel() {\n        JPanel panel = new JPanel(new GridLayout(0, 2, 2, 2));\n        panel.setBorder(BorderFactory.createEmptyBorder(2, 2, 2, 2));\n        \n        JButton[] resourceButton = new JButton[4];\n        Dimension buttonSize = new Dimension(50, 50);\n        for (int index = 0; index &lt; resourceButton.length; index++) {\n            resourceButton[index] = new JButton();\n            resourceButton[index].setPreferredSize(buttonSize);\n            panel.add(resourceButton[index]);\n        }\n        \n        return panel;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13803319,"reputation":85,"user_id":9962831,"display_name":"QuantumBlink"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70271045,"answer_count":2,"score":0,"last_activity_date":1638948578,"creation_date":1638938823,"question_id":70270082,"body_markdown":"I&#39;m new to using Java Swing and am looking to produce a GUI that resembles something like this:\r\n[![crude depiction of goal GUI][1]][1]\r\n\r\n\r\nI am pretty close but having an issue where a JLabel pushes up on the grid design like so:\r\n[![example of pushed up JLabel][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hBMnw.png\r\n  [2]: https://i.stack.imgur.com/V4oVd.png\r\n\r\n\r\nHow can I avoid this happening? I place the grid into a GridBagLayout panel and the JLabel into another GridBag panel(plan on putting a JToolbar here too), then add them to the main frame.\r\n\r\n    GridBagLayout tileLayout = new GridBagLayout();\r\n    GridBagConstraints tileLayoutConstraints = new GridBagConstraints();\r\n    JPanel tilePanel = new JPanel(tileLayout);\r\n    JPanel selectionPanel = new JPanel(tileLayout);\r\n    TileButton[][] tileAccessMatrix = new TileButton[4][4];\r\n\r\n    public BoardUILayer() {\r\n        setSize(1920, 1080);\r\n        buildBoardTiles();\r\n        buildResourcePrompt();\r\n        add(selectionPanel, BorderLayout.SOUTH);\r\n        add(tilePanel, BorderLayout.CENTER);\r\n    }\r\n    private void buildBoardTiles() {\r\n        for (int r = 0; r &lt; tileAccessMatrix.length; r++) {\r\n            for (int c = 0; c &lt; tileAccessMatrix[r].length; c++) {\r\n                TileButton temp = new TileButton(r, c);\r\n                tileAccessMatrix[r][c] = temp;\r\n                tileLayoutConstraints.ipadx = 115;\r\n                tileLayoutConstraints.ipady = 115;\r\n                tileLayoutConstraints.gridx = r;\r\n                tileLayoutConstraints.gridy = c;\r\n                temp.addActionListener(temp);\r\n                tilePanel.add(temp, tileLayoutConstraints);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void buildResourcePrompt() {\r\n        final JLabel resourceTextLabel = new JLabel(&quot;What resource would you like?&quot;);\r\n        tileLayoutConstraints.ipadx = 0;\r\n        tileLayoutConstraints.ipady = 400;\r\n        tileLayoutConstraints.gridx = 50;\r\n        tileLayoutConstraints.gridy = 50;\r\n        selectionPanel.add(resourceTextLabel, tileLayoutConstraints);\r\n    }\r\n\r\n\r\n","title":"How to avoid components pushing up/down on one another","body":"<p>I'm new to using Java Swing and am looking to produce a GUI that resembles something like this:\n<a href=\"https://i.stack.imgur.com/hBMnw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hBMnw.png\" alt=\"crude depiction of goal GUI\" /></a></p>\n<p>I am pretty close but having an issue where a JLabel pushes up on the grid design like so:\n<a href=\"https://i.stack.imgur.com/V4oVd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V4oVd.png\" alt=\"example of pushed up JLabel\" /></a></p>\n<p>How can I avoid this happening? I place the grid into a GridBagLayout panel and the JLabel into another GridBag panel(plan on putting a JToolbar here too), then add them to the main frame.</p>\n<pre><code>GridBagLayout tileLayout = new GridBagLayout();\nGridBagConstraints tileLayoutConstraints = new GridBagConstraints();\nJPanel tilePanel = new JPanel(tileLayout);\nJPanel selectionPanel = new JPanel(tileLayout);\nTileButton[][] tileAccessMatrix = new TileButton[4][4];\n\npublic BoardUILayer() {\n    setSize(1920, 1080);\n    buildBoardTiles();\n    buildResourcePrompt();\n    add(selectionPanel, BorderLayout.SOUTH);\n    add(tilePanel, BorderLayout.CENTER);\n}\nprivate void buildBoardTiles() {\n    for (int r = 0; r &lt; tileAccessMatrix.length; r++) {\n        for (int c = 0; c &lt; tileAccessMatrix[r].length; c++) {\n            TileButton temp = new TileButton(r, c);\n            tileAccessMatrix[r][c] = temp;\n            tileLayoutConstraints.ipadx = 115;\n            tileLayoutConstraints.ipady = 115;\n            tileLayoutConstraints.gridx = r;\n            tileLayoutConstraints.gridy = c;\n            temp.addActionListener(temp);\n            tilePanel.add(temp, tileLayoutConstraints);\n        }\n    }\n}\n\npublic void buildResourcePrompt() {\n    final JLabel resourceTextLabel = new JLabel(&quot;What resource would you like?&quot;);\n    tileLayoutConstraints.ipadx = 0;\n    tileLayoutConstraints.ipady = 400;\n    tileLayoutConstraints.gridx = 50;\n    tileLayoutConstraints.gridy = 50;\n    selectionPanel.add(resourceTextLabel, tileLayoutConstraints);\n}\n</code></pre>\n"},{"tags":["java","spring","rest","aop","spring-aop"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1638945220,"post_id":70261171,"comment_id":124219694,"body_markdown":"I think you forgot to mention **how** you added your controller package to the pointcut. I just tried to read your mind, but somehow it did not work.","body":"I think you forgot to mention <b>how</b> you added your controller package to the pointcut. I just tried to read your mind, but somehow it did not work."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638926129,"creation_date":1638926129,"answer_id":70268799,"question_id":70261171,"body_markdown":"Starting from Spring 3.2, you could use `@ControllerAdvice` which allows us to consolidate our multiple, scattered `@ExceptionHandlers` from before into a single, global error handling component. This would also allow us to have full control over the body of the response as well as the status code.\r\n\r\n```java\r\n@ControllerAdvice\r\npublic class GlobalControllerExceptionHandler extends ResponseEntityExceptionHandler {\r\n    @ExceptionHandler(value = {Exception.class})\r\n    public ResponseEntity&lt;Object&gt; handleGenericExceptions(Exception exception, WebRequest webRequest) {\r\n        log.error(&quot;Handling: &quot;, exception);\r\n\r\n        HttpStatus errorCode = HttpStatus.INTERNAL_SERVER_ERROR;\r\n\r\n        return this.handleExceptionInternal(exception, &quot;Unexpected Internal Server Error&quot;, new HttpHeaders(), errorCode, webRequest);\r\n    }\r\n}\r\n```","title":"How to log rest controller exceptions by using Spring AOP?","body":"<p>Starting from Spring 3.2, you could use <code>@ControllerAdvice</code> which allows us to consolidate our multiple, scattered <code>@ExceptionHandlers</code> from before into a single, global error handling component. This would also allow us to have full control over the body of the response as well as the status code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class GlobalControllerExceptionHandler extends ResponseEntityExceptionHandler {\n    @ExceptionHandler(value = {Exception.class})\n    public ResponseEntity&lt;Object&gt; handleGenericExceptions(Exception exception, WebRequest webRequest) {\n        log.error(&quot;Handling: &quot;, exception);\n\n        HttpStatus errorCode = HttpStatus.INTERNAL_SERVER_ERROR;\n\n        return this.handleExceptionInternal(exception, &quot;Unexpected Internal Server Error&quot;, new HttpHeaders(), errorCode, webRequest);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638948548,"creation_date":1638948548,"answer_id":70271361,"question_id":70261171,"body_markdown":"Use @ControllerAdivce\r\n```\r\n@Slf4j\r\n@ControllerAdvice\r\n@RestController\r\npublic class GlobalExceptionHandler {\r\n @ExceptionHandler(Exception.class)\r\n    public final ResponseEntity&lt;Object&gt; handleAllExceptions(Exception ex) {\r\n        log.error(&quot;Exception occurred&quot;, ex);\r\n        ErrorResponse errorResponse = ErrorResponse.builder().code(Error.UNKNOWN_ERROR.getCode())\r\n                .message(Error.UNKNOWN_ERROR.getMessage()).build();\r\n        return new ResponseEntity&lt;&gt;(errorResponse, Error.UNKNOWN_ERROR.getHttpStatus());\r\n    }\r\n}\r\n```\r\n\r\nUse a Error Response Bean to send the rest response.\r\n```Java\r\npublic class ErrorResponse implements Serializable {\r\n    private static final long serialVersionUID = -2405172041950251807L;\r\n    private Integer code;\r\n    private String message;\r\n}\r\n```","title":"How to log rest controller exceptions by using Spring AOP?","body":"<p>Use @ControllerAdivce</p>\n<pre><code>@Slf4j\n@ControllerAdvice\n@RestController\npublic class GlobalExceptionHandler {\n @ExceptionHandler(Exception.class)\n    public final ResponseEntity&lt;Object&gt; handleAllExceptions(Exception ex) {\n        log.error(&quot;Exception occurred&quot;, ex);\n        ErrorResponse errorResponse = ErrorResponse.builder().code(Error.UNKNOWN_ERROR.getCode())\n                .message(Error.UNKNOWN_ERROR.getMessage()).build();\n        return new ResponseEntity&lt;&gt;(errorResponse, Error.UNKNOWN_ERROR.getHttpStatus());\n    }\n}\n</code></pre>\n<p>Use a Error Response Bean to send the rest response.</p>\n<pre><code>public class ErrorResponse implements Serializable {\n    private static final long serialVersionUID = -2405172041950251807L;\n    private Integer code;\n    private String message;\n}\n</code></pre>\n"}],"owner":{"account_id":23500273,"reputation":123,"user_id":17550246,"display_name":"Abdu Muhammadal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2360,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70268799,"answer_count":2,"score":3,"last_activity_date":1638948548,"creation_date":1638884480,"question_id":70261171,"body_markdown":"I have a rest controller and Spring AOP class which catches service level custom exceptions and logs them but I also need to log the exceptions from controller side.\r\n\r\nHere&#39;s my Spring AOP class;\r\n\r\n    @Aspect\r\n    @Component\r\n    public class ExceptionLoggerAspect {\r\n    \r\n        @AfterThrowing(pointcut = &quot;execution(* com.b.m.service.GaService.*(..)) &quot;, throwing = &quot;ex&quot;)\r\n        public void logError(JoinPoint joinPoint, GaException ex) {\r\n            Signature signature = joinPoint.getSignature();\r\n            String methodName = signature.getName();\r\n            String stuff = signature.toString();\r\n            String arguments = Arrays.toString(joinPoint.getArgs());\r\n            LOGGER.error(&quot;Exception have been caught in method:\\n &quot;\r\n                    + &quot;[&quot; + methodName + &quot;] with arguments &quot;\r\n                    + arguments + &quot; and the full toString: [&quot; + stuff + &quot;] \\n the exception is: [&quot;\r\n                    + ex.type.getMessage() + &quot; - &quot; + ex.type.getAdditionalInfo() + &quot;]&quot;);\r\n        }\r\n    } \r\n\r\n  \r\nHow can I add my controller class here to log the exceptions? \r\nI added my controller package path with &quot;**execution**&quot; pointcut but it doesn&#39;t work.\r\n\r\n","title":"How to log rest controller exceptions by using Spring AOP?","body":"<p>I have a rest controller and Spring AOP class which catches service level custom exceptions and logs them but I also need to log the exceptions from controller side.</p>\n<p>Here's my Spring AOP class;</p>\n<pre><code>@Aspect\n@Component\npublic class ExceptionLoggerAspect {\n\n    @AfterThrowing(pointcut = &quot;execution(* com.b.m.service.GaService.*(..)) &quot;, throwing = &quot;ex&quot;)\n    public void logError(JoinPoint joinPoint, GaException ex) {\n        Signature signature = joinPoint.getSignature();\n        String methodName = signature.getName();\n        String stuff = signature.toString();\n        String arguments = Arrays.toString(joinPoint.getArgs());\n        LOGGER.error(&quot;Exception have been caught in method:\\n &quot;\n                + &quot;[&quot; + methodName + &quot;] with arguments &quot;\n                + arguments + &quot; and the full toString: [&quot; + stuff + &quot;] \\n the exception is: [&quot;\n                + ex.type.getMessage() + &quot; - &quot; + ex.type.getAdditionalInfo() + &quot;]&quot;);\n    }\n} \n</code></pre>\n<p>How can I add my controller class here to log the exceptions?\nI added my controller package path with &quot;<strong>execution</strong>&quot; pointcut but it doesn't work.</p>\n"},{"tags":["java","scala","avro","parquet"],"answers":[{"tags":[],"owner":{"account_id":2430520,"reputation":19,"user_id":2121536,"display_name":"t selvyn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638947187,"creation_date":1638918993,"answer_id":70268108,"question_id":69438764,"body_markdown":"I came across the same issue so thought I&#39;d share. I came across shading jars and for my application as I discovered I am using some dependency libraries that introduce some conflicts with the avro version. So I shade the avro library in my pom.xml - i.e. rename the package so it doesn&#39;t conflict with anything else.\r\n\r\nFirst thing is to add the maven-shade-plugin which allows you to (a) create an uber JAR and (b) to shade its contents, see here for more info. Here is a snippet:\r\n\r\n     &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.6.2&lt;/version&gt;\r\n...\r\nThen I shade the library:\r\n\r\n    &lt;relocation&gt;\r\n                  &lt;pattern&gt;org.apache.avro&lt;/pattern&gt;\r\n                  &lt;shadedPattern&gt;[RENAME-HERE].shaded.org.apache.avro&lt;/shadedPattern&gt;\r\n    &lt;/relocation&gt;","title":"Apache Avro Parquet java.lang.NoSuchFieldError: NULL_VALUE","body":"<p>I came across the same issue so thought I'd share. I came across shading jars and for my application as I discovered I am using some dependency libraries that introduce some conflicts with the avro version. So I shade the avro library in my pom.xml - i.e. rename the package so it doesn't conflict with anything else.</p>\n<p>First thing is to add the maven-shade-plugin which allows you to (a) create an uber JAR and (b) to shade its contents, see here for more info. Here is a snippet:</p>\n<pre><code> &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.6.2&lt;/version&gt;\n</code></pre>\n<p>...\nThen I shade the library:</p>\n<pre><code>&lt;relocation&gt;\n              &lt;pattern&gt;org.apache.avro&lt;/pattern&gt;\n              &lt;shadedPattern&gt;[RENAME-HERE].shaded.org.apache.avro&lt;/shadedPattern&gt;\n&lt;/relocation&gt;\n</code></pre>\n"}],"owner":{"account_id":7042958,"reputation":73,"user_id":5394799,"display_name":"Oonah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638948378,"creation_date":1633362096,"question_id":69438764,"body_markdown":"I have been stuck for 3 days. i am trying to read parquet files with Apache Avro. \r\nI am simply reading a file, from a list of files, and then iterating until all files are complete. \r\n\r\nthe code works fine within its own scala file, however, I suspect it could be something to do with dependencies and the external lib that I am including. \r\n\r\nHas anyone else had a similar error and been able to solve this? \r\n\r\nCode\r\n\r\n      override def generateData(): Option[GenericRecord] = {\r\n        val conf: Configuration = new Configuration()\r\n        conf.setBoolean(AvroReadSupport.AVRO_COMPATIBILITY, true)\r\n        if (filePaths.size == 0){\r\n          dataSourceComplete()\r\n          None\r\n        } else {\r\n          x += 1\r\n          var line = parquetReader.read()\r\n          if (line == null){\r\n            println(x)\r\n            val nextFile = filePaths.last\r\n            filePaths = filePaths.init\r\n            println(nextFile)\r\n            parquetReader = AvroParquetReader.builder[GenericRecord](HadoopInputFile.fromPath(new Path(nextFile), conf)).withConf(conf).build()\r\n            line = parquetReader.read()\r\n          }\r\n          Some(line)\r\n        }\r\n      }\r\n\r\n\r\nError\r\n\r\n    Uncaught error from thread [Raphtory-akka.actor.default-dispatcher-17]: NULL_VALUE, shutting down JVM since &#39;akka.jvm-exit-on-fatal-error&#39; is enabled for ActorSystem[Raphtory]\r\n    java.lang.NoSuchFieldError: NULL_VALUE\r\n            at org.apache.parquet.avro.AvroSchemaConverter.convertFields(AvroSchemaConverter.java:246)\r\n            at org.apache.parquet.avro.AvroSchemaConverter.convert(AvroSchemaConverter.java:231)\r\n            at org.apache.parquet.avro.AvroReadSupport.prepareForRead(AvroReadSupport.java:130)\r\n            at org.apache.parquet.hadoop.InternalParquetRecordReader.initialize(InternalParquetRecordReader.java:183)\r\n            at org.apache.parquet.hadoop.ParquetReader.initReader(ParquetReader.java:156)\r\n            at org.apache.parquet.hadoop.ParquetReader.read(ParquetReader.java:135)\r\n            at com.raphtory.ethereum.spout.EthereumTransactionSpout.generateData(EthereumTransactionSpout.scala:59)\r\n\r\n\r\n\r\n\r\nThis is my build.sbt\r\n\r\n    scalaVersion := &quot;2.12.11&quot;\r\n    Compile / unmanagedJars += baseDirectory.value / &quot;lib/raphtory.jar&quot;\r\n    val AkkaVersion = &quot;2.6.14&quot;\r\n    libraryDependencies ++= Seq(\r\n      &quot;com.lightbend.akka&quot; %% &quot;akka-stream-alpakka-avroparquet&quot; % &quot;3.0.3&quot;,\r\n      &quot;com.typesafe.akka&quot; %% &quot;akka-stream&quot; % AkkaVersion\r\n    )\r\n\r\n","title":"Apache Avro Parquet java.lang.NoSuchFieldError: NULL_VALUE","body":"<p>I have been stuck for 3 days. i am trying to read parquet files with Apache Avro.\nI am simply reading a file, from a list of files, and then iterating until all files are complete.</p>\n<p>the code works fine within its own scala file, however, I suspect it could be something to do with dependencies and the external lib that I am including.</p>\n<p>Has anyone else had a similar error and been able to solve this?</p>\n<p>Code</p>\n<pre><code>  override def generateData(): Option[GenericRecord] = {\n    val conf: Configuration = new Configuration()\n    conf.setBoolean(AvroReadSupport.AVRO_COMPATIBILITY, true)\n    if (filePaths.size == 0){\n      dataSourceComplete()\n      None\n    } else {\n      x += 1\n      var line = parquetReader.read()\n      if (line == null){\n        println(x)\n        val nextFile = filePaths.last\n        filePaths = filePaths.init\n        println(nextFile)\n        parquetReader = AvroParquetReader.builder[GenericRecord](HadoopInputFile.fromPath(new Path(nextFile), conf)).withConf(conf).build()\n        line = parquetReader.read()\n      }\n      Some(line)\n    }\n  }\n</code></pre>\n<p>Error</p>\n<pre><code>Uncaught error from thread [Raphtory-akka.actor.default-dispatcher-17]: NULL_VALUE, shutting down JVM since 'akka.jvm-exit-on-fatal-error' is enabled for ActorSystem[Raphtory]\njava.lang.NoSuchFieldError: NULL_VALUE\n        at org.apache.parquet.avro.AvroSchemaConverter.convertFields(AvroSchemaConverter.java:246)\n        at org.apache.parquet.avro.AvroSchemaConverter.convert(AvroSchemaConverter.java:231)\n        at org.apache.parquet.avro.AvroReadSupport.prepareForRead(AvroReadSupport.java:130)\n        at org.apache.parquet.hadoop.InternalParquetRecordReader.initialize(InternalParquetRecordReader.java:183)\n        at org.apache.parquet.hadoop.ParquetReader.initReader(ParquetReader.java:156)\n        at org.apache.parquet.hadoop.ParquetReader.read(ParquetReader.java:135)\n        at com.raphtory.ethereum.spout.EthereumTransactionSpout.generateData(EthereumTransactionSpout.scala:59)\n</code></pre>\n<p>This is my build.sbt</p>\n<pre><code>scalaVersion := &quot;2.12.11&quot;\nCompile / unmanagedJars += baseDirectory.value / &quot;lib/raphtory.jar&quot;\nval AkkaVersion = &quot;2.6.14&quot;\nlibraryDependencies ++= Seq(\n  &quot;com.lightbend.akka&quot; %% &quot;akka-stream-alpakka-avroparquet&quot; % &quot;3.0.3&quot;,\n  &quot;com.typesafe.akka&quot; %% &quot;akka-stream&quot; % AkkaVersion\n)\n</code></pre>\n"},{"tags":["java","windows","cordova","electron","interop"],"comments":[{"owner":{"account_id":3760042,"reputation":2245,"user_id":3125339,"display_name":"MEDZ"},"score":1,"creation_date":1576501396,"post_id":59357110,"comment_id":104908826,"body_markdown":"Can you please provide further details? a code snippets will increase the chances of getting help.","body":"Can you please provide further details? a code snippets will increase the chances of getting help."},{"owner":{"account_id":17319914,"reputation":43,"user_id":12545621,"display_name":"fernandodanielmartinez"},"score":0,"creation_date":1576502158,"post_id":59357110,"comment_id":104909238,"body_markdown":"Hi MEDZ, i have not a example, but is like calling a &quot;Hello World&quot; done on Java, from a button on an app built on React/Electron/Cordova.","body":"Hi MEDZ, i have not a example, but is like calling a &quot;Hello World&quot; done on Java, from a button on an app built on React/Electron/Cordova."}],"answers":[{"tags":[],"owner":{"account_id":7773266,"reputation":69,"user_id":5882131,"display_name":"Nishil S.B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638948091,"creation_date":1638946984,"answer_id":70271122,"question_id":59357110,"body_markdown":"In order to run java, you need to have JRE on the host machine. Hence try something like below:\r\n\r\n 1. Install JRE on the host machine (make sure that JRE is available).\r\n 2. RUN JAR file while starting your Cordova-electron application using electron&#39;s `child_process`.\r\n 3. Call the java API from the renderer process using javascript `fetch`.\r\n","title":"Access to Java library on Windows with Apache Cordova + Electron","body":"<p>In order to run java, you need to have JRE on the host machine. Hence try something like below:</p>\n<ol>\n<li>Install JRE on the host machine (make sure that JRE is available).</li>\n<li>RUN JAR file while starting your Cordova-electron application using electron's <code>child_process</code>.</li>\n<li>Call the java API from the renderer process using javascript <code>fetch</code>.</li>\n</ol>\n"}],"owner":{"account_id":17319914,"reputation":43,"user_id":12545621,"display_name":"fernandodanielmartinez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638948163,"creation_date":1576500967,"question_id":59357110,"body_markdown":"I am doing an Apache Cordova + Electron (with React/Redux) app. I have a requirement implying access to a java library already done, for a specific functionality. I think I could import the library to my project, but I don&#39;t know how to call it inside my app.\r\nIs it even possible?\r\n\r\nIt is not possible to change this framework... at least, for now.\r\n","title":"Access to Java library on Windows with Apache Cordova + Electron","body":"<p>I am doing an Apache Cordova + Electron (with React/Redux) app. I have a requirement implying access to a java library already done, for a specific functionality. I think I could import the library to my project, but I don't know how to call it inside my app.\nIs it even possible?</p>\n<p>It is not possible to change this framework... at least, for now.</p>\n"},{"tags":["java","excel","excel-formula","apache-poi","jxls"],"comments":[{"owner":{"account_id":23569441,"reputation":127,"user_id":17609755,"display_name":"Ramachandran Rajasekaran"},"score":1,"creation_date":1638947918,"post_id":70271219,"comment_id":124220385,"body_markdown":"Check the below java module which is used to customize the cells entry using java https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html","body":"Check the below java module which is used to customize the cells entry using java <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/&hellip;</a>"},{"owner":{"account_id":23154233,"reputation":1,"user_id":17255722,"display_name":"dean gao"},"score":0,"creation_date":1638948503,"post_id":70271219,"comment_id":124220512,"body_markdown":"Manually create an excel template and mark the cell, and then the program writes data according to the mark","body":"Manually create an excel template and mark the cell, and then the program writes data according to the mark"},{"owner":{"account_id":11989020,"reputation":3798,"user_id":8772744,"display_name":"MD. RAKIB HASAN"},"score":0,"creation_date":1639463091,"post_id":70271219,"comment_id":124348257,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":23154233,"reputation":1,"user_id":17255722,"display_name":"dean gao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638947626,"creation_date":1638947626,"question_id":70271219,"body_markdown":"I have a problem. If I have an excel template, can I customize a name or logo for the cell, and then write the data according to the name of the cell using java","title":"write the data according to the name of the cell using java","body":"<p>I have a problem. If I have an excel template, can I customize a name or logo for the cell, and then write the data according to the name of the cell using java</p>\n"},{"tags":["java","sorting","binary-tree","binary-search-tree"],"answers":[{"tags":[],"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638947461,"creation_date":1638947461,"answer_id":70271196,"question_id":70271139,"body_markdown":"The issue is inside `insertNode()`. Instead of comparing with `root`:\r\n```\r\nelse if (key.compareTo(root.stringData) &gt; 0) {\r\n    node.rightChild = insertNode(node.rightChild, key);\r\n}\r\n```\r\nyou should compare with `node`:\r\n```\r\nelse if (key.compareTo(node.stringData) &gt; 0) {\r\n    node.rightChild = insertNode(node.rightChild, key);\r\n}\r\n```","title":"Binary tree not inserting or searching node","body":"<p>The issue is inside <code>insertNode()</code>. Instead of comparing with <code>root</code>:</p>\n<pre><code>else if (key.compareTo(root.stringData) &gt; 0) {\n    node.rightChild = insertNode(node.rightChild, key);\n}\n</code></pre>\n<p>you should compare with <code>node</code>:</p>\n<pre><code>else if (key.compareTo(node.stringData) &gt; 0) {\n    node.rightChild = insertNode(node.rightChild, key);\n}\n</code></pre>\n"}],"owner":{"account_id":10053380,"reputation":107,"user_id":7480366,"display_name":"nvs0000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70271196,"answer_count":1,"score":0,"last_activity_date":1638947461,"creation_date":1638947109,"question_id":70271139,"body_markdown":"I&#39;m new to Java and programming in general. The code works, mostly. It can do everything ***except*** for when I input the following:\r\n\r\n- Sequence: `d, e, f, a, b, c, g, h, i, j.`\r\n\r\n- Search for: `b` or `c`\r\n\r\nI can&#39;t seem to find any issue with the code but have narrowed it down to the `insertNode` module/class, it seems like when users key in `a, b, c` after ```d, e, f,``` only node `a` register on the left side.\r\n\r\n``` \r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\nimport java.lang.reflect.Method;\r\n\r\npublic class BinarySearchTreeTestStackOverflow {\r\n\r\n    class Node {\r\n        String stringData;\r\n        Node leftChild;\r\n        Node rightChild;\r\n        Node(String stringData) {\r\n            this.stringData = stringData;\r\n            leftChild = rightChild = null;\r\n        }\r\n    }\r\n\r\n    //root node for the binary tree\r\n    Node root;\r\n\r\n    //Constructor method\r\n    public BinarySearchTreeTestStackOverflow() {\r\n        root = null;\r\n    }\r\n\r\n    //Insert method for new values in the tree\r\n    public void insert(String key) {\r\n        root = insertNode(root, key);\r\n    }\r\n\r\n    //Insert recursive call for inserting from the root, in the right place\r\n    public Node insertNode(Node node, String key) {\r\n\r\n        if (node == null) {\r\n            node = new Node(key);\r\n\r\n            return node;\r\n        }\r\n\r\n        if (key.compareTo(node.stringData) &lt; 0) {\r\n            node.leftChild = insertNode(node.leftChild, key);\r\n\r\n        } else if (key.compareTo(root.stringData) &gt; 0) {\r\n            node.rightChild = insertNode(node.rightChild, key);\r\n\r\n        }\r\n        return node;\r\n    }\r\n\r\n\r\n\r\n    //Find method asking for the node to find\r\n    public Node find(String key) { //takes user input and turns it into a node\r\n        Node node = findNode(root, key);\r\n        System.out.println(&quot;print key to find: &quot; + key);\r\n        return node;\r\n    }\r\n\r\n    //Find recursive method using the root node.\r\n    public Node findNode(Node node, String key) {\r\n\r\n        if (key.compareTo(node.stringData) == 0) {\r\n\r\n            return node;\r\n        }\r\n\r\n\r\n\r\n\r\n        //check up on findNodeMethod\r\n        if (key.compareTo(node.stringData) &lt;= 0) {\r\n\r\n            if (node.leftChild == null) {\r\n                return null;\r\n            } else {\r\n                return findNode(node.leftChild, key);\r\n            }\r\n\r\n        } else if (key.compareTo(node.stringData) &gt; 0) {\r\n\r\n\r\n            if (node.rightChild == null) {\r\n                return null;\r\n            } else {\r\n                System.out.println(&quot;went right&quot;); //toDelete\r\n                return findNode(node.rightChild, key);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n        BinarySearchTreeTestStackOverflow binaryTree = new BinarySearchTreeTestStackOverflow();\r\n        Scanner scanner = new Scanner(System.in);\r\n        for (int i = 1; i &lt;= 10; i++) {\r\n\r\n            System.out.print(&quot;Enter string &quot; + i + &quot; for the tree: &quot;);\r\n            binaryTree.insert(scanner.nextLine());\r\n        }\r\n\r\n\r\n        System.out.print(&quot;Enter the value to be searched: &quot;);\r\n        String key = scanner.nextLine(); //correct, verified using -  System.out.println(&quot;key to be searched: &quot;+ key);\r\n\r\n        Node node = binaryTree.find(key);\r\n\r\n        if (node == null) {\r\n            System.out.println(&quot;The string does not exist&quot;);\r\n\r\n        } else {\r\n            System.out.println(&quot;Node &quot; + node.stringData + &quot; was found&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Binary tree not inserting or searching node","body":"<p>I'm new to Java and programming in general. The code works, mostly. It can do everything <em><strong>except</strong></em> for when I input the following:</p>\n<ul>\n<li><p>Sequence: <code>d, e, f, a, b, c, g, h, i, j.</code></p>\n</li>\n<li><p>Search for: <code>b</code> or <code>c</code></p>\n</li>\n</ul>\n<p>I can't seem to find any issue with the code but have narrowed it down to the <code>insertNode</code> module/class, it seems like when users key in <code>a, b, c</code> after <code>d, e, f,</code> only node <code>a</code> register on the left side.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\nimport java.lang.reflect.Method;\n\npublic class BinarySearchTreeTestStackOverflow {\n\n    class Node {\n        String stringData;\n        Node leftChild;\n        Node rightChild;\n        Node(String stringData) {\n            this.stringData = stringData;\n            leftChild = rightChild = null;\n        }\n    }\n\n    //root node for the binary tree\n    Node root;\n\n    //Constructor method\n    public BinarySearchTreeTestStackOverflow() {\n        root = null;\n    }\n\n    //Insert method for new values in the tree\n    public void insert(String key) {\n        root = insertNode(root, key);\n    }\n\n    //Insert recursive call for inserting from the root, in the right place\n    public Node insertNode(Node node, String key) {\n\n        if (node == null) {\n            node = new Node(key);\n\n            return node;\n        }\n\n        if (key.compareTo(node.stringData) &lt; 0) {\n            node.leftChild = insertNode(node.leftChild, key);\n\n        } else if (key.compareTo(root.stringData) &gt; 0) {\n            node.rightChild = insertNode(node.rightChild, key);\n\n        }\n        return node;\n    }\n\n\n\n    //Find method asking for the node to find\n    public Node find(String key) { //takes user input and turns it into a node\n        Node node = findNode(root, key);\n        System.out.println(&quot;print key to find: &quot; + key);\n        return node;\n    }\n\n    //Find recursive method using the root node.\n    public Node findNode(Node node, String key) {\n\n        if (key.compareTo(node.stringData) == 0) {\n\n            return node;\n        }\n\n\n\n\n        //check up on findNodeMethod\n        if (key.compareTo(node.stringData) &lt;= 0) {\n\n            if (node.leftChild == null) {\n                return null;\n            } else {\n                return findNode(node.leftChild, key);\n            }\n\n        } else if (key.compareTo(node.stringData) &gt; 0) {\n\n\n            if (node.rightChild == null) {\n                return null;\n            } else {\n                System.out.println(&quot;went right&quot;); //toDelete\n                return findNode(node.rightChild, key);\n            }\n        }\n        return null;\n    }\n\n\n\n    public static void main(String[] args) {\n        BinarySearchTreeTestStackOverflow binaryTree = new BinarySearchTreeTestStackOverflow();\n        Scanner scanner = new Scanner(System.in);\n        for (int i = 1; i &lt;= 10; i++) {\n\n            System.out.print(&quot;Enter string &quot; + i + &quot; for the tree: &quot;);\n            binaryTree.insert(scanner.nextLine());\n        }\n\n\n        System.out.print(&quot;Enter the value to be searched: &quot;);\n        String key = scanner.nextLine(); //correct, verified using -  System.out.println(&quot;key to be searched: &quot;+ key);\n\n        Node node = binaryTree.find(key);\n\n        if (node == null) {\n            System.out.println(&quot;The string does not exist&quot;);\n\n        } else {\n            System.out.println(&quot;Node &quot; + node.stringData + &quot; was found&quot;);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","sqlite"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638947053,"creation_date":1638947053,"answer_id":70271132,"question_id":70264371,"body_markdown":"First  Add a method to DBHelper to get the list of users as a Cursor by the int (BOOKING) such as :-\r\n\r\n    public Cursor getUsersByBookingNumber(int bookingNumber) {\r\n        SQLiteDatabase MyDB = this.getWritableDatabase();\r\n        /* return cursor with ALL columns AND a column called _ID which has the rowid */\r\n        return MyDB.query(USERS, new String[]{&quot;*&quot;,&quot;rowid AS &quot; + BaseColumns._ID},BOOKING+&quot;=?&quot;,new String[]{String.valueOf(bookingNumber)},null,null,null);\r\n    }\r\n\r\n- Note that Cursor Adapters MUST have a column name _id (BaseColumns._ID resolves to _id) so this is achieved by getting the [rowid][1] column AS _id.\r\n\r\nA ListView requires an adapter, Cursor Adapters are designed for use with Cursors so SimpleCursorAdapter is used.\r\n\r\nAn adapter requires a layout that will be used to display each item in the list (an item can consist of multiple views). In this case the stock layout `simple_list_item2` will be used (you would probably want to create your own layout). You setup the adapter and then tell the ListView what adapter to use.\r\n\r\nAll of the above is done in the respective activity. To demonstrate **MainActivity** has been used, it is :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        DBHelper dbHelper;\r\n        Cursor userListViewCursor; /* The Cursor to be used for the ListView */\r\n        SimpleCursorAdapter sca; /* The adapter for the ListView */\r\n        ListView userListView; /* The ListView */\r\n        int currentBookingNumber; /* the int */\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            userListView = this.findViewById(R.id.activity_admin);\r\n            /* Prepare Database */\r\n            dbHelper = new DBHelper(this);\r\n            /* Add some test data */\r\n            dbHelper.insertData(&quot;Fred&quot;,&quot;password&quot;,&quot;fred@email&quot;,0.00);\r\n            dbHelper.insertData(&quot;Mary&quot;,&quot;password&quot;,&quot;mary@email&quot;,0.00);\r\n            dbHelper.insertData(&quot;Jane&quot;,&quot;password&quot;,&quot;jane@email&quot;,0.00);\r\n            dbHelper.insertData(&quot;Tom&quot;,&quot;password&quot;,&quot;tom@email&quot;,0.00);\r\n            dbHelper.insertData(&quot;Sue&quot;,&quot;password&quot;,&quot;sue@email&quot;,0.00);\r\n            dbHelper.insertData(&quot;Bob&quot;,&quot;password&quot;,&quot;bob@email&quot;,0.00);\r\n    \r\n            dbHelper.makeBooking(&quot;Fred&quot;,1);\r\n            dbHelper.makeBooking(&quot;Mary&quot;,2);\r\n            dbHelper.makeBooking(&quot;Sue&quot;,3);\r\n            dbHelper.makeBooking(&quot;Jane&quot;,1);\r\n            dbHelper.makeBooking(&quot;Tom&quot;,2);\r\n            dbHelper.makeBooking(&quot;Bob&quot;,1);\r\n    \r\n            currentBookingNumber = 1; /*(mimic getting the booking number)*/\r\n            /* setup the ListView as the adapter will be null */\r\n            setupOrRefreshLIstView(currentBookingNumber);\r\n    \r\n        }\r\n    \r\n        private void setupOrRefreshLIstView(int bookingNumber) {\r\n            userListViewCursor = dbHelper.getUsersByBookingNumber(bookingNumber);\r\n            if (sca == null) {\r\n                sca = new SimpleCursorAdapter(\r\n                        this,\r\n                        /* The layout for each item in the ListView */\r\n                        android.R.layout.simple_list_item_2,\r\n                        userListViewCursor,\r\n                        /* Columns in the Cursors */\r\n                        new String[]{DBHelper.USERNAME,DBHelper.EMAIL},\r\n                        /* id of the View in the ListView&#39;s item layout  that corresponds with the column in the Cursor*/\r\n                        /* NOTE 1st column corresponds to first id and so on so :- */\r\n                        /* USERNAME column value is placed into text1 View, EMAIl column into text2 */\r\n                        /* simple list item has 2 TextViews with ids text1 and text2 */\r\n                        new int[]{android.R.id.text1,android.R.id.text2},\r\n                        0\r\n                );\r\n                /* Tie the adapter sca to the ListView userListView */\r\n                userListView.setAdapter(sca);\r\n                /* set listeners here if required e.g. */\r\n                userListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                    @SuppressLint(&quot;Range&quot;)\r\n                    @Override\r\n                    public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l /* will be the value of _id column */) {\r\n                        Toast.makeText(view.getContext(),\r\n                                &quot;You clicked on the row with _id &quot; + l\r\n                                        + &quot; the user is &quot; + userListViewCursor.getString(userListViewCursor.getColumnIndex(DBHelper.USERNAME))\r\n                                        + &quot; the email is &quot; + userListViewCursor.getString(userListViewCursor.getColumnIndex(DBHelper.EMAIL))\r\n                                        /* even though balance etc is not shown as the values are in the cursor they can be retrieved */\r\n                                        + &quot; the balance is &quot; + userListViewCursor.getDouble(userListViewCursor.getColumnIndex(DBHelper.BALANCE))\r\n                                ,\r\n                                Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            } else {\r\n                sca.swapCursor(userListViewCursor);\r\n            }\r\n        }\r\n    \r\n        /* if the activity is resumed then refresh the ListView just in case the data has changed */\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            setupOrRefreshLIstView(currentBookingNumber);\r\n        }\r\n    \r\n        @Override\r\n        protected void onDestroy() {\r\n            super.onDestroy();\r\n            userListViewCursor.close(); /*should always close a cursor when done with it */\r\n    \r\n        }\r\n    }\r\n\r\n- Note that some testing data is generated and loaded to demonstrate.\r\n- An `onItemClickListener` has been added, this will toast the details of the clicked item.\r\n\r\nRunning the above results in :-\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.sqlite.org/rowidtable.html\r\n  [2]: https://i.stack.imgur.com/y0MQi.png","title":"How to populate ListView with SQLite table where int value matches column in table","body":"<p>First  Add a method to DBHelper to get the list of users as a Cursor by the int (BOOKING) such as :-</p>\n<pre><code>public Cursor getUsersByBookingNumber(int bookingNumber) {\n    SQLiteDatabase MyDB = this.getWritableDatabase();\n    /* return cursor with ALL columns AND a column called _ID which has the rowid */\n    return MyDB.query(USERS, new String[]{&quot;*&quot;,&quot;rowid AS &quot; + BaseColumns._ID},BOOKING+&quot;=?&quot;,new String[]{String.valueOf(bookingNumber)},null,null,null);\n}\n</code></pre>\n<ul>\n<li>Note that Cursor Adapters MUST have a column name _id (BaseColumns._ID resolves to _id) so this is achieved by getting the <a href=\"https://www.sqlite.org/rowidtable.html\" rel=\"nofollow noreferrer\">rowid</a> column AS _id.</li>\n</ul>\n<p>A ListView requires an adapter, Cursor Adapters are designed for use with Cursors so SimpleCursorAdapter is used.</p>\n<p>An adapter requires a layout that will be used to display each item in the list (an item can consist of multiple views). In this case the stock layout <code>simple_list_item2</code> will be used (you would probably want to create your own layout). You setup the adapter and then tell the ListView what adapter to use.</p>\n<p>All of the above is done in the respective activity. To demonstrate <strong>MainActivity</strong> has been used, it is :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    DBHelper dbHelper;\n    Cursor userListViewCursor; /* The Cursor to be used for the ListView */\n    SimpleCursorAdapter sca; /* The adapter for the ListView */\n    ListView userListView; /* The ListView */\n    int currentBookingNumber; /* the int */\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        userListView = this.findViewById(R.id.activity_admin);\n        /* Prepare Database */\n        dbHelper = new DBHelper(this);\n        /* Add some test data */\n        dbHelper.insertData(&quot;Fred&quot;,&quot;password&quot;,&quot;fred@email&quot;,0.00);\n        dbHelper.insertData(&quot;Mary&quot;,&quot;password&quot;,&quot;mary@email&quot;,0.00);\n        dbHelper.insertData(&quot;Jane&quot;,&quot;password&quot;,&quot;jane@email&quot;,0.00);\n        dbHelper.insertData(&quot;Tom&quot;,&quot;password&quot;,&quot;tom@email&quot;,0.00);\n        dbHelper.insertData(&quot;Sue&quot;,&quot;password&quot;,&quot;sue@email&quot;,0.00);\n        dbHelper.insertData(&quot;Bob&quot;,&quot;password&quot;,&quot;bob@email&quot;,0.00);\n\n        dbHelper.makeBooking(&quot;Fred&quot;,1);\n        dbHelper.makeBooking(&quot;Mary&quot;,2);\n        dbHelper.makeBooking(&quot;Sue&quot;,3);\n        dbHelper.makeBooking(&quot;Jane&quot;,1);\n        dbHelper.makeBooking(&quot;Tom&quot;,2);\n        dbHelper.makeBooking(&quot;Bob&quot;,1);\n\n        currentBookingNumber = 1; /*(mimic getting the booking number)*/\n        /* setup the ListView as the adapter will be null */\n        setupOrRefreshLIstView(currentBookingNumber);\n\n    }\n\n    private void setupOrRefreshLIstView(int bookingNumber) {\n        userListViewCursor = dbHelper.getUsersByBookingNumber(bookingNumber);\n        if (sca == null) {\n            sca = new SimpleCursorAdapter(\n                    this,\n                    /* The layout for each item in the ListView */\n                    android.R.layout.simple_list_item_2,\n                    userListViewCursor,\n                    /* Columns in the Cursors */\n                    new String[]{DBHelper.USERNAME,DBHelper.EMAIL},\n                    /* id of the View in the ListView's item layout  that corresponds with the column in the Cursor*/\n                    /* NOTE 1st column corresponds to first id and so on so :- */\n                    /* USERNAME column value is placed into text1 View, EMAIl column into text2 */\n                    /* simple list item has 2 TextViews with ids text1 and text2 */\n                    new int[]{android.R.id.text1,android.R.id.text2},\n                    0\n            );\n            /* Tie the adapter sca to the ListView userListView */\n            userListView.setAdapter(sca);\n            /* set listeners here if required e.g. */\n            userListView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n                @SuppressLint(&quot;Range&quot;)\n                @Override\n                public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l /* will be the value of _id column */) {\n                    Toast.makeText(view.getContext(),\n                            &quot;You clicked on the row with _id &quot; + l\n                                    + &quot; the user is &quot; + userListViewCursor.getString(userListViewCursor.getColumnIndex(DBHelper.USERNAME))\n                                    + &quot; the email is &quot; + userListViewCursor.getString(userListViewCursor.getColumnIndex(DBHelper.EMAIL))\n                                    /* even though balance etc is not shown as the values are in the cursor they can be retrieved */\n                                    + &quot; the balance is &quot; + userListViewCursor.getDouble(userListViewCursor.getColumnIndex(DBHelper.BALANCE))\n                            ,\n                            Toast.LENGTH_SHORT).show();\n                }\n            });\n        } else {\n            sca.swapCursor(userListViewCursor);\n        }\n    }\n\n    /* if the activity is resumed then refresh the ListView just in case the data has changed */\n    @Override\n    protected void onResume() {\n        super.onResume();\n        setupOrRefreshLIstView(currentBookingNumber);\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        userListViewCursor.close(); /*should always close a cursor when done with it */\n\n    }\n}\n</code></pre>\n<ul>\n<li>Note that some testing data is generated and loaded to demonstrate.</li>\n<li>An <code>onItemClickListener</code> has been added, this will toast the details of the clicked item.</li>\n</ul>\n<p>Running the above results in :-\n<a href=\"https://i.stack.imgur.com/y0MQi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y0MQi.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21514372,"reputation":33,"user_id":15856507,"display_name":"forsure"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638947053,"creation_date":1638897575,"question_id":70264371,"body_markdown":"I am new to android development and can&#39;t get this to work. I am trying to populate a listview in my AdminActivity with the int value that I am passing from a previous list view. That int value then needs to be used to populate the ListView with the users that match the int value in the booking column of the users table. \r\n\r\nHere is the DBHelper class: \r\n\r\n    package com.example.shashank.fffffffffffffffffffffffffff;\r\n    \r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class DBHelper extends SQLiteOpenHelper {\r\n        public static final String DBNAME = &quot;Login.db&quot;;\r\n        public static final String FLIGHTS = &quot;FLIGHTS&quot;;\r\n        public static final String COLUMN_ID = &quot;ID&quot;;\r\n        public static final String COLUMN_DESTINATION = &quot;DESTINATION&quot;;\r\n        public static final String COLUMN_PRICE = &quot;PRICE&quot;;\r\n        public static final String COLUMN_DEPARTURE_TIME = &quot;DEPARTURE_TIME&quot;;\r\n        public static final String COLUMN_ARRIVAL_TIME = &quot;ARRIVAL_TIME&quot;;\r\n        public static final String COLUMN_DURATION = &quot;DURATION&quot;;\r\n        public static final String COLUMN_AVAILABLE_SEATS = &quot;AVAILABLE_SEATS&quot;;\r\n        public static final String USERS = &quot;users&quot;;\r\n        public static final String USERNAME = &quot;username&quot;;\r\n        public static final String PASSWORD = &quot;password&quot;;\r\n        public static final String EMAIL = &quot;email&quot;;\r\n        public static final String BALANCE = &quot;balance&quot;;\r\n        public static final String BOOKING = &quot;booking&quot;;\r\n    \r\n        public DBHelper(Context context) {\r\n            super(context, &quot;Login.db&quot;, null, 1);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase MyDB) {\r\n    \r\n            String createTable1 = (&quot;create Table &quot; + USERS + &quot;(&quot; + USERNAME + &quot; TEXT primary key, &quot; + PASSWORD + &quot; TEXT, &quot; + EMAIL + &quot; TEXT UNIQUE, &quot; + BALANCE + &quot; REAL, &quot; + BOOKING + &quot; INTEGER)&quot;);\r\n            MyDB.execSQL(createTable1);\r\n    \r\n            MyDB.execSQL(&quot;CREATE TABLE &quot; + FLIGHTS + &quot;(&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; + COLUMN_DESTINATION + &quot; TEXT, &quot; + COLUMN_PRICE + &quot; REAL, &quot; + COLUMN_DEPARTURE_TIME + &quot; TEXT, &quot; + COLUMN_ARRIVAL_TIME + &quot; TEXT, &quot; + COLUMN_DURATION + &quot; TEXT, &quot; + COLUMN_AVAILABLE_SEATS + &quot; INTEGER)&quot;);\r\n    \r\n    \r\n            ContentValues insertValues = new ContentValues();\r\n            insertValues.put(COLUMN_DESTINATION, &quot;Johannesburg&quot;);\r\n            insertValues.put(COLUMN_PRICE, 1200);\r\n            insertValues.put(COLUMN_DEPARTURE_TIME, &quot;12:00&quot;);\r\n            insertValues.put(COLUMN_ARRIVAL_TIME, &quot;14:15&quot;);\r\n            insertValues.put(COLUMN_DURATION, &quot;2:15&quot;);\r\n            insertValues.put(COLUMN_AVAILABLE_SEATS, 10);\r\n            MyDB.insert(FLIGHTS, null, insertValues);\r\n    \r\n            ContentValues insertValues2 = new ContentValues();\r\n            insertValues2.put(COLUMN_DESTINATION, &quot;Johannesburg&quot;);\r\n            insertValues2.put(COLUMN_PRICE, 1000);\r\n            insertValues2.put(COLUMN_DEPARTURE_TIME, &quot;16:00&quot;);\r\n            insertValues2.put(COLUMN_ARRIVAL_TIME, &quot;18:15&quot;);\r\n            insertValues2.put(COLUMN_DURATION, &quot;2:15&quot;);\r\n            insertValues2.put(COLUMN_AVAILABLE_SEATS, 22);\r\n            MyDB.insert(FLIGHTS, null, insertValues2);\r\n    \r\n            ContentValues insertValues3 = new ContentValues();\r\n            insertValues3.put(COLUMN_DESTINATION, &quot;Durban&quot;);\r\n            insertValues3.put(COLUMN_PRICE, 800);\r\n            insertValues3.put(COLUMN_DEPARTURE_TIME, &quot;12:00&quot;);\r\n            insertValues3.put(COLUMN_ARRIVAL_TIME, &quot;14:00&quot;);\r\n            insertValues3.put(COLUMN_DURATION, &quot;2:00&quot;);\r\n            insertValues3.put(COLUMN_AVAILABLE_SEATS, 2);\r\n            MyDB.insert(FLIGHTS, null, insertValues3);\r\n    \r\n            ContentValues insertValues4 = new ContentValues();\r\n            insertValues4.put(COLUMN_DESTINATION, &quot;Port Elizabeth&quot;);\r\n            insertValues4.put(COLUMN_PRICE, 700);\r\n            insertValues4.put(COLUMN_DEPARTURE_TIME, &quot;08:00&quot;);\r\n            insertValues4.put(COLUMN_ARRIVAL_TIME, &quot;09:10&quot;);\r\n            insertValues4.put(COLUMN_DURATION, &quot;1:10&quot;);\r\n            insertValues4.put(COLUMN_AVAILABLE_SEATS, 0);\r\n            MyDB.insert(FLIGHTS, null, insertValues4);\r\n    \r\n            ContentValues insertValues5 = new ContentValues();\r\n            insertValues5.put(COLUMN_DESTINATION, &quot;Port Elizabeth&quot;);\r\n            insertValues5.put(COLUMN_PRICE, 700);\r\n            insertValues5.put(COLUMN_DEPARTURE_TIME, &quot;12:00&quot;);\r\n            insertValues5.put(COLUMN_ARRIVAL_TIME, &quot;13:10&quot;);\r\n            insertValues5.put(COLUMN_DURATION, &quot;1:10&quot;);\r\n            insertValues5.put(COLUMN_AVAILABLE_SEATS, 22);\r\n            MyDB.insert(FLIGHTS, null, insertValues5);\r\n    \r\n            ContentValues insertValues6 = new ContentValues();\r\n            insertValues6.put(COLUMN_DESTINATION, &quot;Durban&quot;);\r\n            insertValues6.put(COLUMN_PRICE, 900);\r\n            insertValues6.put(COLUMN_DEPARTURE_TIME, &quot;14:00&quot;);\r\n            insertValues6.put(COLUMN_ARRIVAL_TIME, &quot;16:00&quot;);\r\n            insertValues6.put(COLUMN_DURATION, &quot;2:00&quot;);\r\n            insertValues6.put(COLUMN_AVAILABLE_SEATS, 11);\r\n            MyDB.insert(FLIGHTS, null, insertValues6);\r\n    \r\n            \r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase MyDB, int i, int i1) {\r\n            MyDB.execSQL(&quot;drop Table if exists &quot; + USERS);\r\n            MyDB.execSQL(&quot;drop Table if exists &quot; + FLIGHTS);\r\n    \r\n            onCreate(MyDB);\r\n        }\r\n    \r\n        public Boolean insertData(String username, String password, String email, Double balance){\r\n            SQLiteDatabase MyDB = this.getWritableDatabase();\r\n            ContentValues contentValues= new ContentValues();\r\n            contentValues.put(USERNAME, username);\r\n            contentValues.put(PASSWORD, password);\r\n            contentValues.put(EMAIL, email);\r\n            contentValues.put(BALANCE, balance);\r\n            long result = MyDB.insert(USERS, null, contentValues);\r\n            if(result==-1) return false;\r\n            else\r\n                return true;\r\n        }\r\n    \r\n        public Boolean checkusername(String username) {\r\n            SQLiteDatabase MyDB = this.getWritableDatabase();\r\n            Cursor cursor = MyDB.rawQuery(&quot;Select * from &quot; + USERS + &quot; where &quot; + USERNAME + &quot; = ?&quot;, new String[]{username});\r\n            if (cursor.getCount() &gt; 0)\r\n                return true;\r\n            else\r\n                return false;\r\n        }\r\n    \r\n        public Boolean checkusernamepassword(String username, String password){\r\n            SQLiteDatabase MyDB = this.getWritableDatabase();\r\n            Cursor cursor = MyDB.rawQuery(&quot;Select * from &quot; + USERS + &quot; where &quot; + USERNAME + &quot; = ? and &quot; + PASSWORD + &quot; = ?&quot;, new String[] {username,password});\r\n            if(cursor.getCount()&gt;0)\r\n                return true;\r\n            else\r\n                return false;\r\n        }\r\n    \r\n    \r\n        public List&lt;FlightsModel&gt; getEveryone(){\r\n    \r\n            List&lt;FlightsModel&gt; returnList = new ArrayList&lt;&gt;();\r\n    \r\n            String queryString = &quot;SELECT * FROM &quot; + FLIGHTS;\r\n    \r\n            SQLiteDatabase db = this.getReadableDatabase();\r\n    \r\n            Cursor cursor = db.rawQuery(queryString, null);\r\n    \r\n            if(cursor.moveToFirst()){\r\n                do {\r\n                    int id = cursor.getInt(0);\r\n                    String destination = cursor.getString(1);\r\n                    double price = cursor.getDouble(2);\r\n                    String departure = cursor.getString(3);\r\n                    String arrival = cursor.getString(4);\r\n                    String duration = cursor.getString(5);\r\n                    int space = cursor.getInt(6);\r\n    \r\n                    FlightsModel newFlight = new FlightsModel(id, destination, price, departure, arrival, duration, space);\r\n                    returnList.add(newFlight);\r\n    \r\n    \r\n                }while (cursor.moveToNext());\r\n            }\r\n            else{\r\n    \r\n            }\r\n            cursor.close();\r\n            db.close();\r\n            return returnList;\r\n        }\r\n    \r\n    \r\n    \r\n        @SuppressLint(&quot;Range&quot;) // suppress Bug/issue with getColumnIndex\r\n        public FlightsModel getFlightById(int id) {\r\n            FlightsModel rv;\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            // Uses the query convenience method rather than raw query\r\n            Cursor csr = db.query(FLIGHTS,null,COLUMN_ID+&quot;=?&quot;,new String[]{String.valueOf(id)},null,null,null);\r\n            if (csr.moveToFirst()) {\r\n                rv = new FlightsModel(\r\n                        csr.getInt(csr.getColumnIndex(COLUMN_ID)),\r\n                        csr.getString(csr.getColumnIndex(COLUMN_DESTINATION)),\r\n                        csr.getDouble(csr.getColumnIndex(COLUMN_PRICE)),\r\n                        csr.getString(csr.getColumnIndex(COLUMN_DEPARTURE_TIME)),\r\n                        csr.getString(csr.getColumnIndex(COLUMN_ARRIVAL_TIME)),\r\n                        csr.getString(csr.getColumnIndex(COLUMN_DURATION)),\r\n                        csr.getInt(csr.getColumnIndex(COLUMN_AVAILABLE_SEATS))\r\n                );\r\n            }  else {\r\n                rv = new FlightsModel();\r\n            }\r\n            csr.close();\r\n            // No need to close the database (inefficient to keep opening and closing db)\r\n            return rv;\r\n        }\r\n    \r\n    \r\n    \r\n        @SuppressLint(&quot;Range&quot;)\r\n        public UsersModel getPasswordByName(String name){\r\n    \r\n            UsersModel rv;\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n    \r\n            Cursor cr = db.query(USERS, null, USERNAME+&quot;=?&quot;, new String[]{name}, null, null, null);\r\n    \r\n            if (cr.moveToFirst()) {\r\n                rv = new UsersModel(\r\n                        cr.getString(cr.getColumnIndex(USERNAME)),\r\n                        cr.getString(cr.getColumnIndex(PASSWORD)),\r\n                        cr.getString(cr.getColumnIndex(EMAIL)),\r\n                        cr.getDouble(cr.getColumnIndex(BALANCE)),\r\n                        cr.getInt(cr.getColumnIndex(BOOKING))\r\n    \r\n                );\r\n            }  else rv = new UsersModel();\r\n    \r\n            cr.close();\r\n            return rv;\r\n        }\r\n    \r\n        public int setBookingByUserName(int bookingAmount, String userName) {\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(BOOKING,bookingAmount);\r\n            return this.getWritableDatabase().update(USERS,cv,USERNAME+&quot;=?&quot;,new String[]{userName});\r\n        }\r\n    \r\n        public double makingPayment(double balance, String userName){\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(BALANCE,balance);\r\n            return this.getWritableDatabase().update(USERS,cv,USERNAME+&quot;=?&quot;,new String[]{userName});\r\n        }\r\n    \r\n    \r\n        public int setAvailableSeatsAfterPayment(int seats, int flightID){\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(COLUMN_AVAILABLE_SEATS,seats);\r\n            return this.getWritableDatabase().update(FLIGHTS,cv,COLUMN_ID+&quot;=?&quot;,new String[]{String.valueOf(flightID)});\r\n        }\r\n    \r\n    \r\n        public int cancelBooking(int bookingAmount, String userName){\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(BOOKING,bookingAmount);\r\n            return this.getWritableDatabase().update(USERS,cv,USERNAME+&quot;=?&quot;,new String[]{String.valueOf(userName)});\r\n        }\r\n    \r\n    \r\n        @SuppressLint(&quot;Range&quot;)\r\n        public UsersModel getUsersModelByName(String userName) {\r\n            UsersModel rv = new UsersModel();\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            Cursor csr = db.query(USERS,null,USERNAME+&quot;=?&quot;, new String[]{userName},null,null,null);\r\n            if (csr.moveToFirst()) {\r\n                rv = new UsersModel(\r\n                        csr.getString(csr.getColumnIndex(USERNAME)),\r\n                        csr.getString(csr.getColumnIndex(PASSWORD)),\r\n                        csr.getString(csr.getColumnIndex(EMAIL)),\r\n                        csr.getDouble(csr.getColumnIndex(BALANCE)),\r\n                        csr.getInt(csr.getColumnIndex(BOOKING))\r\n                );\r\n            }\r\n            csr.close();\r\n            return rv;\r\n        }\r\n    \r\n        public boolean makeBooking(String userName, int bookingId) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(BOOKING,bookingId);\r\n            return db.update(USERS,cv,USERNAME + &quot;=?&quot;, new String[]{userName}) &gt; 0;\r\n        }\r\n    \r\n    \r\n        public String makeBookReceiptFile(String userName, Context context) {\r\n            String rcpts_directory = &quot;receipts&quot;;\r\n            String rv = &quot;&quot;;\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            UsersModel currentUser = getUsersModelByName(userName);\r\n            FlightsModel currentFlightsModel = new FlightsModel();\r\n            if (currentUser.booking &gt; 0) {\r\n                currentFlightsModel = getFlightById(currentUser.booking);\r\n                if (currentFlightsModel.getId() &lt; 1) {\r\n                    rv = &quot;INVALID - unable to extract booking for id &quot; + currentUser.booking;\r\n                }\r\n            } else {\r\n                rv = &quot;INVALID - unable to extract user who&#39;s name is &quot; + userName;\r\n            }\r\n            if (rv.length() &gt; 0) return rv;\r\n            String rcpt_filename =\r\n                    currentUser.getName() + &quot;-&quot; +\r\n                            currentFlightsModel.getDestination() + &quot;-&quot; +\r\n                            currentFlightsModel.getDeparture_time() + &quot;-&quot; +\r\n                            currentFlightsModel.getArrival_time()\r\n                    ;\r\n            File rcpt = new File(context.getFilesDir().getPath() + File.separatorChar + rcpts_directory + File.separatorChar + rcpt_filename);\r\n            rcpt.getParentFile().mkdirs();\r\n            try {\r\n                FileWriter fw = new FileWriter(rcpt);\r\n                fw.write(&quot;Invoice for flight:&quot; + &quot;\\n&quot; +\r\n                        &quot;\\n&quot; + &quot;-----------------------------------------------&quot; +\r\n                        &quot;\\n&quot; + &quot;User: &quot; + userName +\r\n                        &quot;\\n&quot; + &quot;Destination: &quot; + currentFlightsModel.getDestination()+\r\n                        &quot;\\n&quot; + &quot;Departure time at: &quot; + currentFlightsModel.getDeparture_time() +\r\n                        &quot;\\n&quot; + &quot;Arrival time at: &quot; + currentFlightsModel.getArrival_time() +\r\n                        &quot;\\n&quot; + &quot;Duration of flight: &quot; + currentFlightsModel.getDuration() +\r\n                        &quot;\\n&quot; + &quot;Amount paid: &quot; + &quot;R&quot; + currentFlightsModel.getPrice()\r\n                );\r\n                fw.flush();\r\n                fw.close();\r\n                rv = rcpt.getAbsolutePath();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                rv = &quot;IOERROR - &quot; + e.getMessage();\r\n            }\r\n            return rv;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nHere is the usersmodel class: \r\n\r\n    package com.example.shashank.fffffffffffffffffffffffffff;\r\n    \r\n    public class UsersModel {\r\n    \r\n        private String name, password, email;\r\n    \r\n        private double balance;\r\n    \r\n        int booking;\r\n    \r\n        public UsersModel(String name, String password, String email, double balance, int booking) {\r\n            this.name = name;\r\n            this.password = password;\r\n            this.email = email;\r\n            this.balance = balance;\r\n            this.booking = booking;\r\n        }\r\n    \r\n        public UsersModel() {\r\n    \r\n        }\r\n    \r\n        public int getBooking() {\r\n            return booking;\r\n        }\r\n    \r\n        public void setBooking(int booking) {\r\n            this.booking = booking;\r\n        }\r\n    \r\n        public double getBalance() {\r\n            return balance;\r\n        }\r\n    \r\n        public void setBalance(double balance) {\r\n            this.balance = balance;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;UsersModel{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n\r\nHere is the AdminActivity:\r\n\r\n    package com.example.shashank.fffffffffffffffffffffffffff;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.widget.ListView;\r\n    import android.widget.Toast;\r\n    \r\n    public class AdminActivity extends AppCompatActivity {\r\n    \r\n        ListView userList;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_admin);\r\n    \r\n            userList = findViewById(R.id.userList);\r\n    \r\n            int intValue;\r\n            Intent mIntent = getIntent();\r\n            intValue = mIntent.getIntExtra(&quot;intVariableName&quot;, 0);\r\n            intValue = intValue + 1;\r\n    \r\n            Toast.makeText(AdminActivity.this, Integer.toString(intValue), Toast.LENGTH_SHORT).show();\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nI want to use the intValue and populate the list with all the users where the intValue matches the int value in their booking column.\r\nAny help will be appreciated thank you","title":"How to populate ListView with SQLite table where int value matches column in table","body":"<p>I am new to android development and can't get this to work. I am trying to populate a listview in my AdminActivity with the int value that I am passing from a previous list view. That int value then needs to be used to populate the ListView with the users that match the int value in the booking column of the users table.</p>\n<p>Here is the DBHelper class:</p>\n<pre><code>package com.example.shashank.fffffffffffffffffffffffffff;\n\n\nimport android.annotation.SuppressLint;\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\n\nimport androidx.annotation.Nullable;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class DBHelper extends SQLiteOpenHelper {\n    public static final String DBNAME = &quot;Login.db&quot;;\n    public static final String FLIGHTS = &quot;FLIGHTS&quot;;\n    public static final String COLUMN_ID = &quot;ID&quot;;\n    public static final String COLUMN_DESTINATION = &quot;DESTINATION&quot;;\n    public static final String COLUMN_PRICE = &quot;PRICE&quot;;\n    public static final String COLUMN_DEPARTURE_TIME = &quot;DEPARTURE_TIME&quot;;\n    public static final String COLUMN_ARRIVAL_TIME = &quot;ARRIVAL_TIME&quot;;\n    public static final String COLUMN_DURATION = &quot;DURATION&quot;;\n    public static final String COLUMN_AVAILABLE_SEATS = &quot;AVAILABLE_SEATS&quot;;\n    public static final String USERS = &quot;users&quot;;\n    public static final String USERNAME = &quot;username&quot;;\n    public static final String PASSWORD = &quot;password&quot;;\n    public static final String EMAIL = &quot;email&quot;;\n    public static final String BALANCE = &quot;balance&quot;;\n    public static final String BOOKING = &quot;booking&quot;;\n\n    public DBHelper(Context context) {\n        super(context, &quot;Login.db&quot;, null, 1);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase MyDB) {\n\n        String createTable1 = (&quot;create Table &quot; + USERS + &quot;(&quot; + USERNAME + &quot; TEXT primary key, &quot; + PASSWORD + &quot; TEXT, &quot; + EMAIL + &quot; TEXT UNIQUE, &quot; + BALANCE + &quot; REAL, &quot; + BOOKING + &quot; INTEGER)&quot;);\n        MyDB.execSQL(createTable1);\n\n        MyDB.execSQL(&quot;CREATE TABLE &quot; + FLIGHTS + &quot;(&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; + COLUMN_DESTINATION + &quot; TEXT, &quot; + COLUMN_PRICE + &quot; REAL, &quot; + COLUMN_DEPARTURE_TIME + &quot; TEXT, &quot; + COLUMN_ARRIVAL_TIME + &quot; TEXT, &quot; + COLUMN_DURATION + &quot; TEXT, &quot; + COLUMN_AVAILABLE_SEATS + &quot; INTEGER)&quot;);\n\n\n        ContentValues insertValues = new ContentValues();\n        insertValues.put(COLUMN_DESTINATION, &quot;Johannesburg&quot;);\n        insertValues.put(COLUMN_PRICE, 1200);\n        insertValues.put(COLUMN_DEPARTURE_TIME, &quot;12:00&quot;);\n        insertValues.put(COLUMN_ARRIVAL_TIME, &quot;14:15&quot;);\n        insertValues.put(COLUMN_DURATION, &quot;2:15&quot;);\n        insertValues.put(COLUMN_AVAILABLE_SEATS, 10);\n        MyDB.insert(FLIGHTS, null, insertValues);\n\n        ContentValues insertValues2 = new ContentValues();\n        insertValues2.put(COLUMN_DESTINATION, &quot;Johannesburg&quot;);\n        insertValues2.put(COLUMN_PRICE, 1000);\n        insertValues2.put(COLUMN_DEPARTURE_TIME, &quot;16:00&quot;);\n        insertValues2.put(COLUMN_ARRIVAL_TIME, &quot;18:15&quot;);\n        insertValues2.put(COLUMN_DURATION, &quot;2:15&quot;);\n        insertValues2.put(COLUMN_AVAILABLE_SEATS, 22);\n        MyDB.insert(FLIGHTS, null, insertValues2);\n\n        ContentValues insertValues3 = new ContentValues();\n        insertValues3.put(COLUMN_DESTINATION, &quot;Durban&quot;);\n        insertValues3.put(COLUMN_PRICE, 800);\n        insertValues3.put(COLUMN_DEPARTURE_TIME, &quot;12:00&quot;);\n        insertValues3.put(COLUMN_ARRIVAL_TIME, &quot;14:00&quot;);\n        insertValues3.put(COLUMN_DURATION, &quot;2:00&quot;);\n        insertValues3.put(COLUMN_AVAILABLE_SEATS, 2);\n        MyDB.insert(FLIGHTS, null, insertValues3);\n\n        ContentValues insertValues4 = new ContentValues();\n        insertValues4.put(COLUMN_DESTINATION, &quot;Port Elizabeth&quot;);\n        insertValues4.put(COLUMN_PRICE, 700);\n        insertValues4.put(COLUMN_DEPARTURE_TIME, &quot;08:00&quot;);\n        insertValues4.put(COLUMN_ARRIVAL_TIME, &quot;09:10&quot;);\n        insertValues4.put(COLUMN_DURATION, &quot;1:10&quot;);\n        insertValues4.put(COLUMN_AVAILABLE_SEATS, 0);\n        MyDB.insert(FLIGHTS, null, insertValues4);\n\n        ContentValues insertValues5 = new ContentValues();\n        insertValues5.put(COLUMN_DESTINATION, &quot;Port Elizabeth&quot;);\n        insertValues5.put(COLUMN_PRICE, 700);\n        insertValues5.put(COLUMN_DEPARTURE_TIME, &quot;12:00&quot;);\n        insertValues5.put(COLUMN_ARRIVAL_TIME, &quot;13:10&quot;);\n        insertValues5.put(COLUMN_DURATION, &quot;1:10&quot;);\n        insertValues5.put(COLUMN_AVAILABLE_SEATS, 22);\n        MyDB.insert(FLIGHTS, null, insertValues5);\n\n        ContentValues insertValues6 = new ContentValues();\n        insertValues6.put(COLUMN_DESTINATION, &quot;Durban&quot;);\n        insertValues6.put(COLUMN_PRICE, 900);\n        insertValues6.put(COLUMN_DEPARTURE_TIME, &quot;14:00&quot;);\n        insertValues6.put(COLUMN_ARRIVAL_TIME, &quot;16:00&quot;);\n        insertValues6.put(COLUMN_DURATION, &quot;2:00&quot;);\n        insertValues6.put(COLUMN_AVAILABLE_SEATS, 11);\n        MyDB.insert(FLIGHTS, null, insertValues6);\n\n        \n\n    }\n\n\n    @Override\n    public void onUpgrade(SQLiteDatabase MyDB, int i, int i1) {\n        MyDB.execSQL(&quot;drop Table if exists &quot; + USERS);\n        MyDB.execSQL(&quot;drop Table if exists &quot; + FLIGHTS);\n\n        onCreate(MyDB);\n    }\n\n    public Boolean insertData(String username, String password, String email, Double balance){\n        SQLiteDatabase MyDB = this.getWritableDatabase();\n        ContentValues contentValues= new ContentValues();\n        contentValues.put(USERNAME, username);\n        contentValues.put(PASSWORD, password);\n        contentValues.put(EMAIL, email);\n        contentValues.put(BALANCE, balance);\n        long result = MyDB.insert(USERS, null, contentValues);\n        if(result==-1) return false;\n        else\n            return true;\n    }\n\n    public Boolean checkusername(String username) {\n        SQLiteDatabase MyDB = this.getWritableDatabase();\n        Cursor cursor = MyDB.rawQuery(&quot;Select * from &quot; + USERS + &quot; where &quot; + USERNAME + &quot; = ?&quot;, new String[]{username});\n        if (cursor.getCount() &gt; 0)\n            return true;\n        else\n            return false;\n    }\n\n    public Boolean checkusernamepassword(String username, String password){\n        SQLiteDatabase MyDB = this.getWritableDatabase();\n        Cursor cursor = MyDB.rawQuery(&quot;Select * from &quot; + USERS + &quot; where &quot; + USERNAME + &quot; = ? and &quot; + PASSWORD + &quot; = ?&quot;, new String[] {username,password});\n        if(cursor.getCount()&gt;0)\n            return true;\n        else\n            return false;\n    }\n\n\n    public List&lt;FlightsModel&gt; getEveryone(){\n\n        List&lt;FlightsModel&gt; returnList = new ArrayList&lt;&gt;();\n\n        String queryString = &quot;SELECT * FROM &quot; + FLIGHTS;\n\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        Cursor cursor = db.rawQuery(queryString, null);\n\n        if(cursor.moveToFirst()){\n            do {\n                int id = cursor.getInt(0);\n                String destination = cursor.getString(1);\n                double price = cursor.getDouble(2);\n                String departure = cursor.getString(3);\n                String arrival = cursor.getString(4);\n                String duration = cursor.getString(5);\n                int space = cursor.getInt(6);\n\n                FlightsModel newFlight = new FlightsModel(id, destination, price, departure, arrival, duration, space);\n                returnList.add(newFlight);\n\n\n            }while (cursor.moveToNext());\n        }\n        else{\n\n        }\n        cursor.close();\n        db.close();\n        return returnList;\n    }\n\n\n\n    @SuppressLint(&quot;Range&quot;) // suppress Bug/issue with getColumnIndex\n    public FlightsModel getFlightById(int id) {\n        FlightsModel rv;\n        SQLiteDatabase db = this.getWritableDatabase();\n        // Uses the query convenience method rather than raw query\n        Cursor csr = db.query(FLIGHTS,null,COLUMN_ID+&quot;=?&quot;,new String[]{String.valueOf(id)},null,null,null);\n        if (csr.moveToFirst()) {\n            rv = new FlightsModel(\n                    csr.getInt(csr.getColumnIndex(COLUMN_ID)),\n                    csr.getString(csr.getColumnIndex(COLUMN_DESTINATION)),\n                    csr.getDouble(csr.getColumnIndex(COLUMN_PRICE)),\n                    csr.getString(csr.getColumnIndex(COLUMN_DEPARTURE_TIME)),\n                    csr.getString(csr.getColumnIndex(COLUMN_ARRIVAL_TIME)),\n                    csr.getString(csr.getColumnIndex(COLUMN_DURATION)),\n                    csr.getInt(csr.getColumnIndex(COLUMN_AVAILABLE_SEATS))\n            );\n        }  else {\n            rv = new FlightsModel();\n        }\n        csr.close();\n        // No need to close the database (inefficient to keep opening and closing db)\n        return rv;\n    }\n\n\n\n    @SuppressLint(&quot;Range&quot;)\n    public UsersModel getPasswordByName(String name){\n\n        UsersModel rv;\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        Cursor cr = db.query(USERS, null, USERNAME+&quot;=?&quot;, new String[]{name}, null, null, null);\n\n        if (cr.moveToFirst()) {\n            rv = new UsersModel(\n                    cr.getString(cr.getColumnIndex(USERNAME)),\n                    cr.getString(cr.getColumnIndex(PASSWORD)),\n                    cr.getString(cr.getColumnIndex(EMAIL)),\n                    cr.getDouble(cr.getColumnIndex(BALANCE)),\n                    cr.getInt(cr.getColumnIndex(BOOKING))\n\n            );\n        }  else rv = new UsersModel();\n\n        cr.close();\n        return rv;\n    }\n\n    public int setBookingByUserName(int bookingAmount, String userName) {\n        ContentValues cv = new ContentValues();\n        cv.put(BOOKING,bookingAmount);\n        return this.getWritableDatabase().update(USERS,cv,USERNAME+&quot;=?&quot;,new String[]{userName});\n    }\n\n    public double makingPayment(double balance, String userName){\n        ContentValues cv = new ContentValues();\n        cv.put(BALANCE,balance);\n        return this.getWritableDatabase().update(USERS,cv,USERNAME+&quot;=?&quot;,new String[]{userName});\n    }\n\n\n    public int setAvailableSeatsAfterPayment(int seats, int flightID){\n        ContentValues cv = new ContentValues();\n        cv.put(COLUMN_AVAILABLE_SEATS,seats);\n        return this.getWritableDatabase().update(FLIGHTS,cv,COLUMN_ID+&quot;=?&quot;,new String[]{String.valueOf(flightID)});\n    }\n\n\n    public int cancelBooking(int bookingAmount, String userName){\n        ContentValues cv = new ContentValues();\n        cv.put(BOOKING,bookingAmount);\n        return this.getWritableDatabase().update(USERS,cv,USERNAME+&quot;=?&quot;,new String[]{String.valueOf(userName)});\n    }\n\n\n    @SuppressLint(&quot;Range&quot;)\n    public UsersModel getUsersModelByName(String userName) {\n        UsersModel rv = new UsersModel();\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor csr = db.query(USERS,null,USERNAME+&quot;=?&quot;, new String[]{userName},null,null,null);\n        if (csr.moveToFirst()) {\n            rv = new UsersModel(\n                    csr.getString(csr.getColumnIndex(USERNAME)),\n                    csr.getString(csr.getColumnIndex(PASSWORD)),\n                    csr.getString(csr.getColumnIndex(EMAIL)),\n                    csr.getDouble(csr.getColumnIndex(BALANCE)),\n                    csr.getInt(csr.getColumnIndex(BOOKING))\n            );\n        }\n        csr.close();\n        return rv;\n    }\n\n    public boolean makeBooking(String userName, int bookingId) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(BOOKING,bookingId);\n        return db.update(USERS,cv,USERNAME + &quot;=?&quot;, new String[]{userName}) &gt; 0;\n    }\n\n\n    public String makeBookReceiptFile(String userName, Context context) {\n        String rcpts_directory = &quot;receipts&quot;;\n        String rv = &quot;&quot;;\n        SQLiteDatabase db = this.getWritableDatabase();\n        UsersModel currentUser = getUsersModelByName(userName);\n        FlightsModel currentFlightsModel = new FlightsModel();\n        if (currentUser.booking &gt; 0) {\n            currentFlightsModel = getFlightById(currentUser.booking);\n            if (currentFlightsModel.getId() &lt; 1) {\n                rv = &quot;INVALID - unable to extract booking for id &quot; + currentUser.booking;\n            }\n        } else {\n            rv = &quot;INVALID - unable to extract user who's name is &quot; + userName;\n        }\n        if (rv.length() &gt; 0) return rv;\n        String rcpt_filename =\n                currentUser.getName() + &quot;-&quot; +\n                        currentFlightsModel.getDestination() + &quot;-&quot; +\n                        currentFlightsModel.getDeparture_time() + &quot;-&quot; +\n                        currentFlightsModel.getArrival_time()\n                ;\n        File rcpt = new File(context.getFilesDir().getPath() + File.separatorChar + rcpts_directory + File.separatorChar + rcpt_filename);\n        rcpt.getParentFile().mkdirs();\n        try {\n            FileWriter fw = new FileWriter(rcpt);\n            fw.write(&quot;Invoice for flight:&quot; + &quot;\\n&quot; +\n                    &quot;\\n&quot; + &quot;-----------------------------------------------&quot; +\n                    &quot;\\n&quot; + &quot;User: &quot; + userName +\n                    &quot;\\n&quot; + &quot;Destination: &quot; + currentFlightsModel.getDestination()+\n                    &quot;\\n&quot; + &quot;Departure time at: &quot; + currentFlightsModel.getDeparture_time() +\n                    &quot;\\n&quot; + &quot;Arrival time at: &quot; + currentFlightsModel.getArrival_time() +\n                    &quot;\\n&quot; + &quot;Duration of flight: &quot; + currentFlightsModel.getDuration() +\n                    &quot;\\n&quot; + &quot;Amount paid: &quot; + &quot;R&quot; + currentFlightsModel.getPrice()\n            );\n            fw.flush();\n            fw.close();\n            rv = rcpt.getAbsolutePath();\n        } catch (IOException e) {\n            e.printStackTrace();\n            rv = &quot;IOERROR - &quot; + e.getMessage();\n        }\n        return rv;\n    }\n\n\n}\n</code></pre>\n<p>Here is the usersmodel class:</p>\n<pre><code>package com.example.shashank.fffffffffffffffffffffffffff;\n\npublic class UsersModel {\n\n    private String name, password, email;\n\n    private double balance;\n\n    int booking;\n\n    public UsersModel(String name, String password, String email, double balance, int booking) {\n        this.name = name;\n        this.password = password;\n        this.email = email;\n        this.balance = balance;\n        this.booking = booking;\n    }\n\n    public UsersModel() {\n\n    }\n\n    public int getBooking() {\n        return booking;\n    }\n\n    public void setBooking(int booking) {\n        this.booking = booking;\n    }\n\n    public double getBalance() {\n        return balance;\n    }\n\n    public void setBalance(double balance) {\n        this.balance = balance;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;UsersModel{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Here is the AdminActivity:</p>\n<pre><code>package com.example.shashank.fffffffffffffffffffffffffff;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.widget.ListView;\nimport android.widget.Toast;\n\npublic class AdminActivity extends AppCompatActivity {\n\n    ListView userList;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_admin);\n\n        userList = findViewById(R.id.userList);\n\n        int intValue;\n        Intent mIntent = getIntent();\n        intValue = mIntent.getIntExtra(&quot;intVariableName&quot;, 0);\n        intValue = intValue + 1;\n\n        Toast.makeText(AdminActivity.this, Integer.toString(intValue), Toast.LENGTH_SHORT).show();\n\n\n    }\n}\n</code></pre>\n<p>I want to use the intValue and populate the list with all the users where the intValue matches the int value in their booking column.\nAny help will be appreciated thank you</p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;Å¡ Petrovick&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638946403,"creation_date":1638946403,"answer_id":70271034,"question_id":70269802,"body_markdown":"There is no guarantee that, in order to satisfy all constraints, only the &quot;unreasonable&quot; part of the plan will have to change. The solver may or may not still need to make significant changes.\r\n\r\nThat said, consider implementing [non-disruptive replanning][1]. If you penalize the number of changes between the original plan and the new one, you should be able to find a reasonable balance.\r\n\r\n\r\n  [1]: https://www.optaplanner.org/docs/optaplanner/latest/repeated-planning/repeated-planning.html#nonvolatileReplanning","title":"Can I use Optaplanner to locally optimize the solution I input without changing most of the sequence?","body":"<p>There is no guarantee that, in order to satisfy all constraints, only the &quot;unreasonable&quot; part of the plan will have to change. The solver may or may not still need to make significant changes.</p>\n<p>That said, consider implementing <a href=\"https://www.optaplanner.org/docs/optaplanner/latest/repeated-planning/repeated-planning.html#nonvolatileReplanning\" rel=\"nofollow noreferrer\">non-disruptive replanning</a>. If you penalize the number of changes between the original plan and the new one, you should be able to find a reasonable balance.</p>\n"}],"owner":{"account_id":20907532,"reputation":31,"user_id":15359122,"display_name":"Rukawaa11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638946403,"creation_date":1638936232,"question_id":70269802,"body_markdown":"At present, I have established my business model by referring to the tsp problem. The part I input is an ordered data set (an initial solution can be regarded as a route of tsp). This initial solution is compiled by the production scheduling system, so most of the routes are reasonable, and there may be a few unreasonable places. According to the configured constraint rules, I can find the violation of the solution constraint (that is, unreasonable place) through ScoreManager.\r\nMy question is, can I continue to use solver for local optimization? The ideal situation is to keep most of the sequence of the original plan, and only fine-tune the unreasonable part of the plan to satisfy all constraints.\r\nps:My hard constraints are some production process constraints, for example, the width difference between adjacent slabs does not exceed xxx\r\nThe soft constraint is that the smaller the sum of the difference between adjacent slabs, the better.","title":"Can I use Optaplanner to locally optimize the solution I input without changing most of the sequence?","body":"<p>At present, I have established my business model by referring to the tsp problem. The part I input is an ordered data set (an initial solution can be regarded as a route of tsp). This initial solution is compiled by the production scheduling system, so most of the routes are reasonable, and there may be a few unreasonable places. According to the configured constraint rules, I can find the violation of the solution constraint (that is, unreasonable place) through ScoreManager.\nMy question is, can I continue to use solver for local optimization? The ideal situation is to keep most of the sequence of the original plan, and only fine-tune the unreasonable part of the plan to satisfy all constraints.\nps:My hard constraints are some production process constraints, for example, the width difference between adjacent slabs does not exceed xxx\nThe soft constraint is that the smaller the sum of the difference between adjacent slabs, the better.</p>\n"},{"tags":["java","spring","spring-boot","maven","build"],"comments":[{"owner":{"account_id":2810614,"reputation":408,"user_id":2416929,"accept_rate":100,"display_name":"kalimba"},"score":0,"creation_date":1638943919,"post_id":70270650,"comment_id":124219408,"body_markdown":"question is vague to me. i&#39;ll try to rephrase : do you expect to reload module-c automatically (without code changes or restarting module-a/b) whenever newer version of it is available locally ?","body":"question is vague to me. i&#39;ll try to rephrase : do you expect to reload module-c automatically (without code changes or restarting module-a/b) whenever newer version of it is available locally ?"},{"owner":{"account_id":17110009,"reputation":132,"user_id":12381095,"display_name":"QuocNg"},"score":0,"creation_date":1638946226,"post_id":70270650,"comment_id":124219934,"body_markdown":"@kalimba I would expect a way to have module-a/b to reload/rebuild/restart when I run `mvn install` in module-c, I updated the question: &quot;And also the version of module-c is kept unchanged.&quot;","body":"@kalimba I would expect a way to have module-a/b to reload/rebuild/restart when I run <code>mvn install</code> in module-c, I updated the question: &quot;And also the version of module-c is kept unchanged.&quot;"},{"owner":{"account_id":2810614,"reputation":408,"user_id":2416929,"accept_rate":100,"display_name":"kalimba"},"score":0,"creation_date":1638964224,"post_id":70270650,"comment_id":124225861,"body_markdown":"there is no out of box solution for this. you have to create own script to restart module-a/b which you can trigger when `mvn install` is run for module-c. learn about `&lt;build&gt;&lt;plugins&gt;` section in `pom.xml` where you can hook up this script.","body":"there is no out of box solution for this. you have to create own script to restart module-a/b which you can trigger when <code>mvn install</code> is run for module-c. learn about <code>&lt;build&gt;&lt;plugins&gt;</code> section in <code>pom.xml</code> where you can hook up this script."}],"owner":{"account_id":17110009,"reputation":132,"user_id":12381095,"display_name":"QuocNg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638946335,"creation_date":1638943617,"question_id":70270650,"body_markdown":"We have 3 modules in our maven project: `module-a`, `module-b` and `module-c`. `module-a` and `module-b` are spring-boot projects, both of them depend on `module-c` which only contains shared code for `module-a` and `module-b`. Here is our process when developing:\r\n- run `mvn install` on module-c to make it available on the local m2 repository.\r\n- then run `mvn spring-boot:run` on `module-a` and `module-b` to deploy spring-boots.\r\n\r\nThe problem is, whenever we have just a small change on `module-c`, we have to shutdown 2 spring-boots then repeat those 2 steps above which is time consuming and tedious.\r\n\r\nWe also applied the dependency `spring-boot-devtools` to `module-a` and `module-b` but it only affects on code changed within these 2 modules. And we don&#39;t rely on IDE because it usually provides false information with its `autobuild`. And also the version of `module-c` is kept unchanged.\r\n\r\nMy question is: is it possible to let spring-boot know of changes in library modules and automatically reload/rebuild/restart? We are ok with the `mvn install` on `module-c` just don&#39;t want to manually restart spring-boots every time.\r\n\r\nMany thanks in advance!","title":"Have Spring boot reload when lib module gets changed on development","body":"<p>We have 3 modules in our maven project: <code>module-a</code>, <code>module-b</code> and <code>module-c</code>. <code>module-a</code> and <code>module-b</code> are spring-boot projects, both of them depend on <code>module-c</code> which only contains shared code for <code>module-a</code> and <code>module-b</code>. Here is our process when developing:</p>\n<ul>\n<li>run <code>mvn install</code> on module-c to make it available on the local m2 repository.</li>\n<li>then run <code>mvn spring-boot:run</code> on <code>module-a</code> and <code>module-b</code> to deploy spring-boots.</li>\n</ul>\n<p>The problem is, whenever we have just a small change on <code>module-c</code>, we have to shutdown 2 spring-boots then repeat those 2 steps above which is time consuming and tedious.</p>\n<p>We also applied the dependency <code>spring-boot-devtools</code> to <code>module-a</code> and <code>module-b</code> but it only affects on code changed within these 2 modules. And we don't rely on IDE because it usually provides false information with its <code>autobuild</code>. And also the version of <code>module-c</code> is kept unchanged.</p>\n<p>My question is: is it possible to let spring-boot know of changes in library modules and automatically reload/rebuild/restart? We are ok with the <code>mvn install</code> on <code>module-c</code> just don't want to manually restart spring-boots every time.</p>\n<p>Many thanks in advance!</p>\n"},{"tags":["java","ide","netbeans","formatting"],"comments":[{"owner":{"account_id":111011,"reputation":7880,"user_id":293511,"accept_rate":81,"display_name":"Ben Hocking"},"score":3,"creation_date":1305642334,"post_id":956900,"comment_id":6975580,"body_markdown":"I&#39;ve added a bounty, and I&#39;m hoping someone will know of a plugin or some other manner of doing this. I really miss my Eclipse clean up options.","body":"I&#39;ve added a bounty, and I&#39;m hoping someone will know of a plugin or some other manner of doing this. I really miss my Eclipse clean up options."},{"owner":{"account_id":60135,"reputation":855,"user_id":179741,"accept_rate":95,"display_name":"Daniel"},"score":0,"creation_date":1305979557,"post_id":956900,"comment_id":7045423,"body_markdown":"As answered below, there are ways to clean up certain aspects of a single source code file.  I doubt that NetBeans would introduce a &quot;fix all of my files&quot; feature because changes to each file could be dependent upon changes to the previous file(s), so NetBeans would need to prioritize which files to fix first and compile files as it fixes them.","body":"As answered below, there are ways to clean up certain aspects of a single source code file.  I doubt that NetBeans would introduce a &quot;fix all of my files&quot; feature because changes to each file could be dependent upon changes to the previous file(s), so NetBeans would need to prioritize which files to fix first and compile files as it fixes them."},{"owner":{"account_id":111011,"reputation":7880,"user_id":293511,"accept_rate":81,"display_name":"Ben Hocking"},"score":0,"creation_date":1306079825,"post_id":956900,"comment_id":7056104,"body_markdown":"@Daniel: The nature of these &quot;fixes&quot; are usually minor: stripping whitespace, adding @Override tags, organizing imports, removing unnecessary casts, removing unused variables, etc. I.e., they&#39;re fixes that should have no functional impact, and hence it shouldn&#39;t matter what order they&#39;re applied in.","body":"@Daniel: The nature of these &quot;fixes&quot; are usually minor: stripping whitespace, adding @Override tags, organizing imports, removing unnecessary casts, removing unused variables, etc. I.e., they&#39;re fixes that should have no functional impact, and hence it shouldn&#39;t matter what order they&#39;re applied in."}],"answers":[{"tags":[],"owner":{"account_id":26267,"reputation":18227,"user_id":68172,"accept_rate":98,"display_name":"Bobby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1244432082,"creation_date":1244432082,"answer_id":963351,"question_id":956900,"body_markdown":"I know that netbeans points out these things automatically, but beyond merely pointing them out I don&#39;t know.","title":"Code cleanup in netbeans","body":"<p>I know that netbeans points out these things automatically, but beyond merely pointing them out I don't know.</p>\n"},{"tags":[],"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247835763,"creation_date":1244559575,"answer_id":970578,"question_id":956900,"body_markdown":"I don&#39;t know a way to do this en mass, but if you delete all imports from a source file and then right click in the source editor, you can select fix imports. This will import all the classes for you alphabetically, asking when it encounters package ambiguities.\r\n\r\nAs Soldier.moth pointed out, Netbeans will point out other issues, like casts and override annotations, in line, by use of a light bulb to the left of the source.","title":"Code cleanup in netbeans","body":"<p>I don't know a way to do this en mass, but if you delete all imports from a source file and then right click in the source editor, you can select fix imports. This will import all the classes for you alphabetically, asking when it encounters package ambiguities.</p>\n\n<p>As Soldier.moth pointed out, Netbeans will point out other issues, like casts and override annotations, in line, by use of a light bulb to the left of the source.</p>\n"},{"tags":[],"owner":{"account_id":597793,"reputation":245,"user_id":298318,"display_name":"DR."},"down_vote_count":3,"up_vote_count":25,"is_accepted":false,"score":22,"last_activity_date":1269150631,"creation_date":1269150631,"answer_id":2486101,"question_id":956900,"body_markdown":"The equivalent of Eclipse&#39;s &quot;Code Cleanup&quot; in NetBeans is &quot;Format&quot;. It&#39;s under Source &gt; Format, and the keyboard shortcut is Alt+Shift+F (on Windows). Unfortunately, unlike Eclipse, it doesn&#39;t seem like this can be configured in NetBeans.","title":"Code cleanup in netbeans","body":"<p>The equivalent of Eclipse's \"Code Cleanup\" in NetBeans is \"Format\". It's under Source > Format, and the keyboard shortcut is Alt+Shift+F (on Windows). Unfortunately, unlike Eclipse, it doesn't seem like this can be configured in NetBeans.</p>\n"},{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305648588,"creation_date":1305648588,"answer_id":6033835,"question_id":956900,"body_markdown":"tools -&gt; options -&gt; Tab &quot;Editor&quot; -&gt; Tab &quot;Hints&quot; -&gt; select Java (talking about) in JComboBox \r\n\r\n\r\nand then you&#39;d see yellow ocean ..., great and quick from ver 6.9 \r\n\r\n","title":"Code cleanup in netbeans","body":"<p>tools -> options -> Tab \"Editor\" -> Tab \"Hints\" -> select Java (talking about) in JComboBox </p>\n\n<p>and then you'd see yellow ocean ..., great and quick from ver 6.9 </p>\n"},{"tags":[],"owner":{"account_id":364812,"reputation":3294,"user_id":709399,"accept_rate":71,"display_name":"Tim Sparg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305888315,"creation_date":1305888315,"answer_id":6070769,"question_id":956900,"body_markdown":"There is an [Organize Imports plugin][1] Read the [DZone article][2] for more info.\r\n\r\nEDIT: I see there is a [bug report][3] to get this as part of the standard distribution.\r\n\r\n\r\n  [1]: http://plugins.netbeans.org/plugin/27296/organize-imports\r\n  [2]: http://netbeans.dzone.com/import-statement-organizer\r\n  [3]: http://netbeans.org/bugzilla/show_bug.cgi?id=183703","title":"Code cleanup in netbeans","body":"<p>There is an <a href=\"http://plugins.netbeans.org/plugin/27296/organize-imports\" rel=\"nofollow\">Organize Imports plugin</a> Read the <a href=\"http://netbeans.dzone.com/import-statement-organizer\" rel=\"nofollow\">DZone article</a> for more info.</p>\n\n<p>EDIT: I see there is a <a href=\"http://netbeans.org/bugzilla/show_bug.cgi?id=183703\" rel=\"nofollow\">bug report</a> to get this as part of the standard distribution.</p>\n"},{"tags":[],"owner":{"account_id":246686,"reputation":58068,"user_id":520957,"accept_rate":94,"display_name":"J&#233;r&#244;me Verstrynge"},"down_vote_count":0,"up_vote_count":91,"is_accepted":false,"score":91,"last_activity_date":1442010789,"creation_date":1305949097,"answer_id":6079443,"question_id":956900,"body_markdown":"# `Refactor` &gt; `Inspect and Transform`\r\n\r\n&gt; Is there something similar to the\r\n&gt; Eclipse cleanup rules ((Preferences &gt;\r\n&gt; Java &gt; Code Style &gt; Clean Up) in\r\n&gt; NetBeans?\r\n\r\nIn NetBeans 8.0, the powerful batch tool is `Refactor` &gt; `Inspect and Transform`. See the tutorial page, [Refactoring with Inspect and Transform in the NetBeans IDE Java Editor][1].\r\n\r\nIndividual tools are also available:\r\n\r\n- *Fixing imports*&lt;br /&gt;For a single file, namespace, or project (depending on what&#39;s selected in Project window or has the focus): Source &gt; Organize Imports (to sort and remove unused imports) or Source &gt; Fix Imports (to sort, remove unused imports, and add missing imports). Or during every save: Tools &gt; Options &gt; Editor &gt; On Save &gt; Organize Imports.\r\n\r\n- *Removal of trailing spaces*&lt;br /&gt;For a single file (place the carret in the code file): Source &gt; Remove Trailing Spaces. Or during every save: Tools &gt; Options &gt; Editor &gt; On Save &gt; Remove Trailing Whitespace.\r\n\r\n- *Code Format*&lt;br /&gt;For a single file, namespace, or project: Source &gt; Format. (Customize the rules in `Tools &gt; Editor &gt; Formatting`). There is also a plugin called Jindent you can install (I have not used it myself). Or during every save: `Tools &gt; Options &gt; Editor &gt; On Save &gt; Reformat`.\r\n\r\nBy default, Netbeans will display hint icons next to problematic lines of code and in the scrollbar, allowing you to perform an automatic fix if desired. These can be configured via `Tools &gt; Options &gt; Editor &gt; Hints`. Netbeans can search all problems in the project using Source &gt; Inspect. Or, to reiterate, many of these problems can be batch fixed with `Refactor &gt; Inspect and Transform`.\r\n\r\n\r\n  [1]: https://netbeans.org/kb/docs/java/editor-inspect-transform.html","title":"Code cleanup in netbeans","body":"<h1><code>Refactor</code> > <code>Inspect and Transform</code></h1>\n\n<blockquote>\n  <p>Is there something similar to the\n  Eclipse cleanup rules ((Preferences >\n  Java > Code Style > Clean Up) in\n  NetBeans?</p>\n</blockquote>\n\n<p>In NetBeans 8.0, the powerful batch tool is <code>Refactor</code> > <code>Inspect and Transform</code>. See the tutorial page, <a href=\"https://netbeans.org/kb/docs/java/editor-inspect-transform.html\">Refactoring with Inspect and Transform in the NetBeans IDE Java Editor</a>.</p>\n\n<p>Individual tools are also available:</p>\n\n<ul>\n<li><p><em>Fixing imports</em><br />For a single file, namespace, or project (depending on what's selected in Project window or has the focus): Source > Organize Imports (to sort and remove unused imports) or Source > Fix Imports (to sort, remove unused imports, and add missing imports). Or during every save: Tools > Options > Editor > On Save > Organize Imports.</p></li>\n<li><p><em>Removal of trailing spaces</em><br />For a single file (place the carret in the code file): Source > Remove Trailing Spaces. Or during every save: Tools > Options > Editor > On Save > Remove Trailing Whitespace.</p></li>\n<li><p><em>Code Format</em><br />For a single file, namespace, or project: Source > Format. (Customize the rules in <code>Tools &gt; Editor &gt; Formatting</code>). There is also a plugin called Jindent you can install (I have not used it myself). Or during every save: <code>Tools &gt; Options &gt; Editor &gt; On Save &gt; Reformat</code>.</p></li>\n</ul>\n\n<p>By default, Netbeans will display hint icons next to problematic lines of code and in the scrollbar, allowing you to perform an automatic fix if desired. These can be configured via <code>Tools &gt; Options &gt; Editor &gt; Hints</code>. Netbeans can search all problems in the project using Source > Inspect. Or, to reiterate, many of these problems can be batch fixed with <code>Refactor &gt; Inspect and Transform</code>.</p>\n"},{"tags":[],"owner":{"account_id":1091571,"reputation":17212,"user_id":1086117,"accept_rate":56,"display_name":"DarVar"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1359056611,"creation_date":1359056611,"answer_id":14509430,"question_id":956900,"body_markdown":"NetBeans 7.2 has Inspect &amp; Transform refactoring to do this:\r\n\r\nhttp://netbeans.org/kb/docs/java/editor-inspect-transform.html","title":"Code cleanup in netbeans","body":"<p>NetBeans 7.2 has Inspect &amp; Transform refactoring to do this:</p>\n\n<p><a href=\"http://netbeans.org/kb/docs/java/editor-inspect-transform.html\" rel=\"noreferrer\">http://netbeans.org/kb/docs/java/editor-inspect-transform.html</a></p>\n"},{"tags":[],"owner":{"account_id":2322909,"reputation":2563,"user_id":2038113,"display_name":"Anil Chahal"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1440680223,"creation_date":1440680223,"answer_id":32250033,"question_id":956900,"body_markdown":"For Netbeans use **Ctrl+Shift+I** to remove unused import from the file.","title":"Code cleanup in netbeans","body":"<p>For Netbeans use <strong>Ctrl+Shift+I</strong> to remove unused import from the file.</p>\n"},{"tags":[],"owner":{"account_id":12496450,"reputation":1,"user_id":9096259,"display_name":"Vinayak G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515769731,"creation_date":1515769731,"answer_id":48228961,"question_id":956900,"body_markdown":"If you just want to make your code have proper indentations on a whole project, simply click the project name, go to &quot;Source,&quot; and then click &quot;Format.&quot; Hope this helps!","title":"Code cleanup in netbeans","body":"<p>If you just want to make your code have proper indentations on a whole project, simply click the project name, go to \"Source,\" and then click \"Format.\" Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":8868539,"reputation":2197,"user_id":6622913,"display_name":"Istiaque Hossain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638945538,"creation_date":1638945538,"answer_id":70270911,"question_id":956900,"body_markdown":"Right click on the project (or a package if you want), then choose &quot;Inspect and Transform&quot;. In the dialog box, choose &quot;Organize Imports&quot; , from browse choose imports --&gt; then --&gt; Unused Imports\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qb5xI.jpg","title":"Code cleanup in netbeans","body":"<p>Right click on the project (or a package if you want), then choose &quot;Inspect and Transform&quot;. In the dialog box, choose &quot;Organize Imports&quot; , from browse choose imports --&gt; then --&gt; Unused Imports</p>\n<p><a href=\"https://i.stack.imgur.com/qb5xI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qb5xI.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19488,"reputation":20991,"user_id":45730,"accept_rate":53,"display_name":"Kapsh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74879,"favorite_count":0,"down_vote_count":1,"up_vote_count":86,"answer_count":10,"score":85,"last_activity_date":1638945538,"creation_date":1244219902,"question_id":956900,"body_markdown":"Is there something similar to the Eclipse cleanup rules (Preferences &gt; Java &gt; Code Style &gt; Clean Up) in NetBeans?\r\n\r\nThe cleanup rules in eclipse will allow you to clean things up like organizing imports, removing unnecessary casts, adding missing override annotations etc.\r\n\r\nAlso can you do that on a whole set of classes/packages instead of individual classes?\r\n","title":"Code cleanup in netbeans","body":"<p>Is there something similar to the Eclipse cleanup rules (Preferences > Java > Code Style > Clean Up) in NetBeans?</p>\n\n<p>The cleanup rules in eclipse will allow you to clean things up like organizing imports, removing unnecessary casts, adding missing override annotations etc.</p>\n\n<p>Also can you do that on a whole set of classes/packages instead of individual classes?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1638781733,"post_id":70240748,"comment_id":124170593,"body_markdown":"See https://pdfbox.apache.org/2.0/faq.html#i&#39;m-getting-java.lang.illegalargumentexception%3A-...-is-not-available-in-this-font&#39;s-encoding%3A-winansiencoding   , and also update to 2.0.24 (unrelated).","body":"See <a href=\"https://pdfbox.apache.org/2.0/faq.html#i&#39;m-getting-java.lang.illegalargumentexception%3A-...-is-not-available-in-this-font&#39;s-encoding%3A-winansiencoding\" rel=\"nofollow noreferrer\">pdfbox.apache.org/2.0/&hellip;</a>   , and also update to 2.0.24 (unrelated)."},{"owner":{"account_id":6987757,"reputation":425,"user_id":5358013,"accept_rate":45,"display_name":"chiku"},"score":0,"creation_date":1638794935,"post_id":70240748,"comment_id":124174982,"body_markdown":"@TilmanHausherr how to know whether the font is available in pdfbox, please help","body":"@TilmanHausherr how to know whether the font is available in pdfbox, please help"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1638882313,"post_id":70240748,"comment_id":124201055,"body_markdown":"Use a font file from your operating system and do the call as described in the link. In windows they are in c:/windows/fonts .","body":"Use a font file from your operating system and do the call as described in the link. In windows they are in c:/windows/fonts ."}],"answers":[{"tags":[],"owner":{"account_id":6987757,"reputation":425,"user_id":5358013,"accept_rate":45,"display_name":"chiku"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1638945133,"creation_date":1638945133,"answer_id":70270850,"question_id":70240748,"body_markdown":"It seems that I have solved this issue , here is the code, thanks @TilmanHausherr, \r\n             \r\n    PDFont helveticaBold = PDType1Font.HELVETICA_BOLD;\r\n    String myString = &quot;CrÄ—amÄ—&quot;;\r\n    float FONT_SIZE = 5.3f;\r\n    float titleWidth = 0.0f;\r\n\r\n    FontFileFinder fontFinder = new FontFileFinder();\r\n    List&lt;URI&gt; fontURIs = fontFinder.find();\r\n\r\n    \r\n    for (URI uri : fontURIs) \r\n    {\r\n     File font = new File(uri);\r\n     helveticaBold = PDType0Font.load(doc, font);\r\n     try\r\n     {\r\n       titleWidth = helveticaBold.getStringWidth(myString);\r\n       if(titleWidth &gt; 0.0)\r\n       {\r\n           break;\r\n       }\r\n      }\r\n      catch(Exception | Error e)\r\n      {\r\n              helveticaBold =PDType1Font.HELVETICA_BOLD;\r\n      }\r\n    }\r\n    if(titleWidth &lt;=0.0)\r\n    {\r\n        throw new IllegalStateException(&quot;Font Problem&quot;);\r\n    }\r\n\r\n\r\nRegards\r\n\r\nKris","title":"PDFBox 2.0.7 unable to handle international characters","body":"<p>It seems that I have solved this issue , here is the code, thanks @TilmanHausherr,</p>\n<pre><code>PDFont helveticaBold = PDType1Font.HELVETICA_BOLD;\nString myString = &quot;CrÄ—amÄ—&quot;;\nfloat FONT_SIZE = 5.3f;\nfloat titleWidth = 0.0f;\n\nFontFileFinder fontFinder = new FontFileFinder();\nList&lt;URI&gt; fontURIs = fontFinder.find();\n\n\nfor (URI uri : fontURIs) \n{\n File font = new File(uri);\n helveticaBold = PDType0Font.load(doc, font);\n try\n {\n   titleWidth = helveticaBold.getStringWidth(myString);\n   if(titleWidth &gt; 0.0)\n   {\n       break;\n   }\n  }\n  catch(Exception | Error e)\n  {\n          helveticaBold =PDType1Font.HELVETICA_BOLD;\n  }\n}\nif(titleWidth &lt;=0.0)\n{\n    throw new IllegalStateException(&quot;Font Problem&quot;);\n}\n</code></pre>\n<p>Regards</p>\n<p>Kris</p>\n"}],"owner":{"account_id":6987757,"reputation":425,"user_id":5358013,"accept_rate":45,"display_name":"chiku"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638945133,"creation_date":1638763419,"question_id":70240748,"body_markdown":"I am using PDFBox 2.0.7 and having problems in getting string width of an internationalized string, below is the code snippet : \r\n\r\n    PDType1Font helveticaBold = PDType1Font.HELVETICA_BOLD;\r\n    String myString = &quot;CrÄ—amÄ—&quot;;\r\n    float FONT_SIZE = 5.3f;\r\n    float titleWidth = 0.0f;\r\n                                        \r\n     titleWidth = helveticaBold.getStringWidth(mystring) / 1000 * FONT_SIZE;\r\n     \r\n\r\nIt gives me an error \r\n\r\n   \r\n    java.lang.IllegalArgumentException: U+0117 (&#39;edot&#39;) is not available in this font Helvetica-Bold encoding: WinAnsiEncoding\r\n\r\nPlease help.\r\n\r\n\r\nRegards\r\n\r\nKris\r\n","title":"PDFBox 2.0.7 unable to handle international characters","body":"<p>I am using PDFBox 2.0.7 and having problems in getting string width of an internationalized string, below is the code snippet :</p>\n<pre><code>PDType1Font helveticaBold = PDType1Font.HELVETICA_BOLD;\nString myString = &quot;CrÄ—amÄ—&quot;;\nfloat FONT_SIZE = 5.3f;\nfloat titleWidth = 0.0f;\n                                    \n titleWidth = helveticaBold.getStringWidth(mystring) / 1000 * FONT_SIZE;\n \n</code></pre>\n<p>It gives me an error</p>\n<pre><code>java.lang.IllegalArgumentException: U+0117 ('edot') is not available in this font Helvetica-Bold encoding: WinAnsiEncoding\n</code></pre>\n<p>Please help.</p>\n<p>Regards</p>\n<p>Kris</p>\n"},{"tags":["java","maven","dependency-injection","interface","cdi"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1638437653,"post_id":70196300,"comment_id":124089534,"body_markdown":"Where is the implementation of `IMsgPoolManager`? In which Maven module is it located, how is it annotated, what is the beans.xml of that module?","body":"Where is the implementation of <code>IMsgPoolManager</code>? In which Maven module is it located, how is it annotated, what is the beans.xml of that module?"},{"owner":{"account_id":23522325,"reputation":11,"user_id":17569287,"display_name":"Laso83"},"score":0,"creation_date":1638438020,"post_id":70196300,"comment_id":124089674,"body_markdown":"The implementation od IMsgPoolManager is in the same package of SpecificDataListener and IMsgPoolManager, in the same module. The beans.xml is the file descibed in the question. The implementation is annotated Startup and Singleton","body":"The implementation od IMsgPoolManager is in the same package of SpecificDataListener and IMsgPoolManager, in the same module. The beans.xml is the file descibed in the question. The implementation is annotated Startup and Singleton"},{"owner":{"account_id":23522325,"reputation":11,"user_id":17569287,"display_name":"Laso83"},"score":0,"creation_date":1638439882,"post_id":70196300,"comment_id":124090338,"body_markdown":"Okay, sorry, the implementation isn&#39;t annotated singleton and now that&#39;s working. But now I&#39;ve a similar problem with a simple class who try to inject some String fields. The class is annotated startup and singleton. The module have the same beans.xml as in the question. I&#39;ve the following error :\n```WELD-001475: The following beans match by type, but none have matching qualifiers:\n  - Producer Method [String] with qualifiers [BatchProperty Any] declared as [[UnbackedAnnotatedMethod] Produces BatchProperty public org.jberet.creation.BatchBeanProducer.getString(InjectionPoint)]\n&quot;}}```","body":"Okay, sorry, the implementation isn&#39;t annotated singleton and now that&#39;s working. But now I&#39;ve a similar problem with a simple class who try to inject some String fields. The class is annotated startup and singleton. The module have the same beans.xml as in the question. I&#39;ve the following error : <code>WELD-001475: The following beans match by type, but none have matching qualifiers:   - Producer Method [String] with qualifiers [BatchProperty Any] declared as [[UnbackedAnnotatedMethod] Produces BatchProperty public org.jberet.creation.BatchBeanProducer.getString(InjectionPoi&zwnj;&#8203;nt)] &quot;}}</code>"}],"owner":{"account_id":23522325,"reputation":11,"user_id":17569287,"display_name":"Laso83"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638945065,"creation_date":1638434190,"question_id":70196300,"body_markdown":"I have a problem when I try to deploy my app in Wildfly 10.\r\n\r\nThe problem refer to dependency injection for an interface.\r\n\r\nMy app is a maven multi-module project. The interface and the dependency injection are in the same module. I have already the same problem with an other interface placed in an other module (the injection is made in the same class as for the current problem).\r\n\r\nMy module is deployed in a war package (This is that i try to deploy). My project is deployed in an unique ear package. \r\n\r\nError :\r\n```\r\n&quot;{\\&quot;WFLYCTL0080: Failed services\\&quot; =&gt; {\\&quot;jboss.deployment.unit.\\\\\\&quot;myApp-0.0.1-SNAPSHOT.war\\\\\\&quot;.component.SpecificDataListener.WeldInstantiator\\&quot; =&gt; \\&quot;org.jboss.msc.service.StartException in service jboss.deployment.unit.\\\\\\&quot;myApp-0.0.1-SNAPSHOT.war\\\\\\&quot;.component.SpecificDataListener.WeldInstantiator: Failed to start service\r\n    Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type IMsgPoolManager with qualifiers @Default\r\n  at injection point [BackedAnnotatedField] @Inject private fr.gateway.controller.impl.SpecificDataListener.messagePoolManager\r\n  at fr.gateway.controller.impl.SpecificDataListener.messagePoolManager(SpecificDataListener.java:0)\r\n\\&quot;}}&quot;\r\n```\r\n\r\nInterface :\r\n```\r\nimport eu.datamodel.entity.Entity;\r\n\r\npublic interface IMsgPoolManager {\r\n\r\n\tvoid sendCiseMessage(Entity myObject);\r\n\t\r\n}\r\n```\r\n\r\nInjection :\r\n```\r\n@MessageDriven(mappedName = &quot;topic/specificdatato&quot;, activationConfig = {\r\n\t\t@ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Topic&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;topic/specificdatato&quot;),\r\n\t\t@ActivationConfigProperty(propertyName = &quot;clientId&quot;, propertyValue = &quot;specificdatato&quot;) })\r\npublic class SpecificDataListener implements MessageListener {\r\n\t\r\n\tprivate static Logger LOGGER = LoggerFactory.getLogger(SpecificDataListener.class);\r\n\t\r\n\t@Inject\r\n\tpublic IMsgPoolManager messagePoolManager;\r\n   \r\n    /** Some code **/\r\n\r\n}\r\n\r\n```\r\n\r\nbeans.xml :\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n       http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\r\n       bean-discovery-mode=&quot;all&quot;&gt;\r\n&lt;/beans&gt;\r\n```\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  \r\n  \t&lt;parent&gt;\r\n    \t&lt;groupId&gt;fr&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;myParentApp&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  \t&lt;/parent&gt;\r\n  \r\n  \t&lt;artifactId&gt;myApp&lt;/artifactId&gt;\r\n  \t&lt;name&gt;myApp&lt;/name&gt;\r\n  \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n  \r\n  \t&lt;properties&gt;\r\n    \t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  \t&lt;/properties&gt;\r\n  \t\r\n  &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t \t&lt;plugin&gt;\r\n\t            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t            &lt;version&gt;3.1&lt;/version&gt;\r\n\t            &lt;configuration&gt;\r\n\t                &lt;source&gt;1.8&lt;/source&gt;\r\n\t                &lt;target&gt;1.8&lt;/target&gt;\r\n\t            &lt;/configuration&gt;\r\n        \t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifestEntries&gt;\r\n\t\t\t\t\t\t\t&lt;Dependencies&gt;org.mongodb&lt;/Dependencies&gt;\r\n\t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n  \r\n  \t&lt;dependencies&gt;\r\n  \t\t\r\n  \t\t&lt;!-- JAVAX dependencies --&gt;\t\t\r\n  \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n  \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n            &lt;version&gt;1&lt;version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.ejb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.ejb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2&lt;version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n   \t\t\t&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;version&gt;\r\n   \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.enterprise.concurrent&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.enterprise.concurrent-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n    \t\r\n    \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;version&gt;\r\n      \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n  \t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nI have tried a lot of solutions found on the internet, but the error still occurs...\r\n\r\n","title":"Javax dependency injection error in Wyldfly 10 deployment","body":"<p>I have a problem when I try to deploy my app in Wildfly 10.</p>\n<p>The problem refer to dependency injection for an interface.</p>\n<p>My app is a maven multi-module project. The interface and the dependency injection are in the same module. I have already the same problem with an other interface placed in an other module (the injection is made in the same class as for the current problem).</p>\n<p>My module is deployed in a war package (This is that i try to deploy). My project is deployed in an unique ear package.</p>\n<p>Error :</p>\n<pre><code>&quot;{\\&quot;WFLYCTL0080: Failed services\\&quot; =&gt; {\\&quot;jboss.deployment.unit.\\\\\\&quot;myApp-0.0.1-SNAPSHOT.war\\\\\\&quot;.component.SpecificDataListener.WeldInstantiator\\&quot; =&gt; \\&quot;org.jboss.msc.service.StartException in service jboss.deployment.unit.\\\\\\&quot;myApp-0.0.1-SNAPSHOT.war\\\\\\&quot;.component.SpecificDataListener.WeldInstantiator: Failed to start service\n    Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type IMsgPoolManager with qualifiers @Default\n  at injection point [BackedAnnotatedField] @Inject private fr.gateway.controller.impl.SpecificDataListener.messagePoolManager\n  at fr.gateway.controller.impl.SpecificDataListener.messagePoolManager(SpecificDataListener.java:0)\n\\&quot;}}&quot;\n</code></pre>\n<p>Interface :</p>\n<pre><code>import eu.datamodel.entity.Entity;\n\npublic interface IMsgPoolManager {\n\n    void sendCiseMessage(Entity myObject);\n    \n}\n</code></pre>\n<p>Injection :</p>\n<pre><code>@MessageDriven(mappedName = &quot;topic/specificdatato&quot;, activationConfig = {\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Topic&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;topic/specificdatato&quot;),\n        @ActivationConfigProperty(propertyName = &quot;clientId&quot;, propertyValue = &quot;specificdatato&quot;) })\npublic class SpecificDataListener implements MessageListener {\n    \n    private static Logger LOGGER = LoggerFactory.getLogger(SpecificDataListener.class);\n    \n    @Inject\n    public IMsgPoolManager messagePoolManager;\n   \n    /** Some code **/\n\n}\n\n</code></pre>\n<p>beans.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \n       http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\n       bean-discovery-mode=&quot;all&quot;&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n    &lt;parent&gt;\n        &lt;groupId&gt;fr&lt;/groupId&gt;\n        &lt;artifactId&gt;myParentApp&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n  \n    &lt;artifactId&gt;myApp&lt;/artifactId&gt;\n    &lt;name&gt;myApp&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n  \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    \n  &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                    &lt;archive&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Dependencies&gt;org.mongodb&lt;/Dependencies&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n  \n    &lt;dependencies&gt;\n        \n        &lt;!-- JAVAX dependencies --&gt;     \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n            &lt;version&gt;1&lt;version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ejb&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ejb-api&lt;/artifactId&gt;\n            &lt;version&gt;3.2&lt;version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.enterprise.concurrent&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.enterprise.concurrent-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>I have tried a lot of solutions found on the internet, but the error still occurs...</p>\n"},{"tags":["java","apache-camel","fluent"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1638611504,"post_id":70202507,"comment_id":124138068,"body_markdown":"Do you mean that the DSL should have N .setHeader(.., ..)?","body":"Do you mean that the DSL should have N .setHeader(.., ..)?"}],"answers":[{"tags":[],"owner":{"account_id":3141186,"reputation":93,"user_id":2656622,"display_name":"Rainer Bonn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638944498,"creation_date":1638944498,"answer_id":70270772,"question_id":70202507,"body_markdown":"Typing from my mobile. Thus format may not be correct:\r\n\r\n    final RouteBuilder routeBuilder = new RouteBuilder() { \r\n         @Override\r\n         public void configure() throws Exception {\r\n            RouteDefinition route = from(start).routeId(id);\r\n            headers.entrySet().\r\n                forEach(header -&gt; {\r\n                    route = route.setHeader(header.getKey(), \r\n                        constant(header.getValue()));\r\n                });\r\n                route.process(myProcessor).\r\n                to(end);\r\n            }\r\n    };\r\n    camelContext.addRoutes(routeBuilder);`","title":"How to dynamically add headers from map when defining a RouteBuilder","body":"<p>Typing from my mobile. Thus format may not be correct:</p>\n<pre><code>final RouteBuilder routeBuilder = new RouteBuilder() { \n     @Override\n     public void configure() throws Exception {\n        RouteDefinition route = from(start).routeId(id);\n        headers.entrySet().\n            forEach(header -&gt; {\n                route = route.setHeader(header.getKey(), \n                    constant(header.getValue()));\n            });\n            route.process(myProcessor).\n            to(end);\n        }\n};\ncamelContext.addRoutes(routeBuilder);`\n</code></pre>\n"}],"owner":{"account_id":15520515,"reputation":11,"user_id":11196860,"display_name":"Jjufi21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638944498,"creation_date":1638460062,"question_id":70202507,"body_markdown":"I&#39;m creating a `RouteBuilder` for a test:\r\n\r\n```java\r\nfinal RouteBuilder routeBuilder = new RouteBuilder() {\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        from(start).routeId(id).\r\n                process(myProcessor).\r\n                to(end);\r\n    }\r\n};\r\ncamelContext.addRoutes(routeBuilder);\r\n```\r\n\r\nand I need to also set some headers coming from a `Map&lt;String, String&gt;`. In other words I&#39;d like to do something like:\r\n\r\n```java\r\nheaders.entrySet().\r\n        forEach(header -&gt; {\r\n            setHeader(header.getKey(), constant(header.getValue()));\r\n        });\r\n```\r\n\r\nbut that `setHeader` should be related to the `RouteDefinition` that I was creating inside the `#configure` method of the `RouteBuilder`.\r\n\r\nHow can I do it?\r\n\r\nThanks","title":"How to dynamically add headers from map when defining a RouteBuilder","body":"<p>I'm creating a <code>RouteBuilder</code> for a test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final RouteBuilder routeBuilder = new RouteBuilder() {\n\n    @Override\n    public void configure() throws Exception {\n        from(start).routeId(id).\n                process(myProcessor).\n                to(end);\n    }\n};\ncamelContext.addRoutes(routeBuilder);\n</code></pre>\n<p>and I need to also set some headers coming from a <code>Map&lt;String, String&gt;</code>. In other words I'd like to do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>headers.entrySet().\n        forEach(header -&gt; {\n            setHeader(header.getKey(), constant(header.getValue()));\n        });\n</code></pre>\n<p>but that <code>setHeader</code> should be related to the <code>RouteDefinition</code> that I was creating inside the <code>#configure</code> method of the <code>RouteBuilder</code>.</p>\n<p>How can I do it?</p>\n<p>Thanks</p>\n"},{"tags":["java","cucumber","rest-assured"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":1,"creation_date":1638508047,"post_id":70204712,"comment_id":124112428,"body_markdown":"May be you wrongly configured your stepDefinition file location in runner file.","body":"May be you wrongly configured your stepDefinition file location in runner file."},{"owner":{"account_id":6468332,"reputation":27,"user_id":11959457,"display_name":"Mohammad Osama"},"score":0,"creation_date":1638583362,"post_id":70204712,"comment_id":124134840,"body_markdown":"No iam running it from the feature file","body":"No iam running it from the feature file"}],"answers":[{"tags":[],"owner":{"account_id":21650037,"reputation":41,"user_id":15970819,"display_name":"Qa Automation"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638944027,"creation_date":1638944027,"answer_id":70270708,"question_id":70204712,"body_markdown":"I guess U have not specified your glue path to step definition , which is why cucumber canot see your step def class, and it&#39;s insisting you implement the steps   ","title":"When using Cucumber with REST assured i continuously get pending exception","body":"<p>I guess U have not specified your glue path to step definition , which is why cucumber canot see your step def class, and it's insisting you implement the steps</p>\n"}],"owner":{"account_id":6468332,"reputation":27,"user_id":11959457,"display_name":"Mohammad Osama"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638944027,"creation_date":1638469747,"question_id":70204712,"body_markdown":"**Summary**:\r\nIam new using Cucumber with REST assured when i try to implement this simple test which will get the nuValue from the XML response then validate that all values are more than 4000, i get some errors when try to run the test that the test skipped\r\n\r\n**This is my feature file**\r\n\r\n```\r\nFeature: This Test will validate the value of numViews to be more than 4000\r\n  Scenario: The user will be able to validate that numValue values are greater than 400\r\n\r\n    Given The API url\r\n    Then Validates the numValue value greater than 4000\r\n```\r\n**and this the step definition step file**\r\n\r\n```\r\nimport io.cucumber.java.en.Given;\r\nimport io.cucumber.java.en.Then;\r\nimport io.restassured.RestAssured;\r\nimport io.restassured.response.Response;\r\n\r\nimport java.util.List;\r\n\r\npublic class MyStepdefs {\r\n    Response response;\r\n    public List&lt;String&gt; x;\r\n    @Given(&quot;The API url&quot;)\r\n    public void theAPIUrl() {\r\n        RestAssured.baseURI=(&quot;https://www.colourlovers.com&quot;);\r\n        String path = &quot;/api/patterns&quot;;\r\n        response = RestAssured\r\n                .given()\r\n                .header(&quot;User-Agent:&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36&quot;)\r\n                .get(path)\r\n                .then().extract().response();\r\n        List&lt;String&gt; numViewsList = response.xmlPath().getList(&quot;patterns.pattern.numViews&quot;);\r\n        x = numViewsList;\r\n    }\r\n\r\n    @Then(&quot;Validates the numValue value greater than {int}&quot;)\r\n    public void validatesTheNumValueValueGreaterThan() {\r\n       for (String x : numViewsList) {\r\n            int numViewsValue = Integer.parseInt(x);\r\n            if (numViewsValue &gt; 4000){\r\n                System.out.println(&quot;Success!&quot;);\r\n                assert(true);\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Fail!&quot;);\r\n                assert(false);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n**I get this error in the console**\r\n```\r\nStep undefined\r\nYou can implement this step and 1 other step(s) using the snippet(s) below:\r\n\r\n@Given(&quot;The API url&quot;)\r\npublic void the_api_url() {\r\n    // Write code here that turns the phrase above into concrete actions\r\n    throw new io.cucumber.java.PendingException();\r\n}\r\n@Then(&quot;Validates the numValue value greater than {int}&quot;)\r\npublic void validates_the_num_value_value_greater_than(Integer int1) {\r\n    // Write code here that turns the phrase above into concrete actions\r\n    throw new io.cucumber.java.PendingException();\r\n}\r\n\r\n\r\n```","title":"When using Cucumber with REST assured i continuously get pending exception","body":"<p><strong>Summary</strong>:\nIam new using Cucumber with REST assured when i try to implement this simple test which will get the nuValue from the XML response then validate that all values are more than 4000, i get some errors when try to run the test that the test skipped</p>\n<p><strong>This is my feature file</strong></p>\n<pre><code>Feature: This Test will validate the value of numViews to be more than 4000\n  Scenario: The user will be able to validate that numValue values are greater than 400\n\n    Given The API url\n    Then Validates the numValue value greater than 4000\n</code></pre>\n<p><strong>and this the step definition step file</strong></p>\n<pre><code>import io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.restassured.RestAssured;\nimport io.restassured.response.Response;\n\nimport java.util.List;\n\npublic class MyStepdefs {\n    Response response;\n    public List&lt;String&gt; x;\n    @Given(&quot;The API url&quot;)\n    public void theAPIUrl() {\n        RestAssured.baseURI=(&quot;https://www.colourlovers.com&quot;);\n        String path = &quot;/api/patterns&quot;;\n        response = RestAssured\n                .given()\n                .header(&quot;User-Agent:&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Safari/537.36&quot;)\n                .get(path)\n                .then().extract().response();\n        List&lt;String&gt; numViewsList = response.xmlPath().getList(&quot;patterns.pattern.numViews&quot;);\n        x = numViewsList;\n    }\n\n    @Then(&quot;Validates the numValue value greater than {int}&quot;)\n    public void validatesTheNumValueValueGreaterThan() {\n       for (String x : numViewsList) {\n            int numViewsValue = Integer.parseInt(x);\n            if (numViewsValue &gt; 4000){\n                System.out.println(&quot;Success!&quot;);\n                assert(true);\n            }\n            else\n            {\n                System.out.println(&quot;Fail!&quot;);\n                assert(false);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p><strong>I get this error in the console</strong></p>\n<pre><code>Step undefined\nYou can implement this step and 1 other step(s) using the snippet(s) below:\n\n@Given(&quot;The API url&quot;)\npublic void the_api_url() {\n    // Write code here that turns the phrase above into concrete actions\n    throw new io.cucumber.java.PendingException();\n}\n@Then(&quot;Validates the numValue value greater than {int}&quot;)\npublic void validates_the_num_value_value_greater_than(Integer int1) {\n    // Write code here that turns the phrase above into concrete actions\n    throw new io.cucumber.java.PendingException();\n}\n\n\n</code></pre>\n"},{"tags":["java","integer","assert"],"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1448361471,"post_id":33891156,"comment_id":55545814,"body_markdown":"Not exact duplicate, but [relevant info about how this implementation evolved](http://stackoverflow.com/questions/15052216/how-large-is-the-integer-cache).","body":"Not exact duplicate, but <a href=\"http://stackoverflow.com/questions/15052216/how-large-is-the-integer-cache\">relevant info about how this implementation evolved</a>."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":1,"creation_date":1448361575,"post_id":33891156,"comment_id":55545886,"body_markdown":"Note the comment in the source code (1.8.0_65):  \n`//range [-128, 127] must be interned (JLS7 5.1.7)` followed by `assert IntegerCache.high &gt;= 127;`","body":"Note the comment in the source code (1.8.0_65):   <code>&#47;&#47;range [-128, 127] must be interned (JLS7 5.1.7)</code> followed by <code>assert IntegerCache.high &gt;= 127;</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1448365816,"post_id":33891156,"comment_id":55548679,"body_markdown":"â€œassert provides an effective way to detect and correct programming errorsâ€â€”right. â€œBut this is runtime codeâ€â€”whereâ€™s the contradiction? Why should runtime code not use effective ways to detect and correct programming errors?","body":"â€œassert provides an effective way to detect and correct programming errorsâ€â€”right. â€œBut this is runtime codeâ€â€”whereâ€™s the contradiction? Why should runtime code not use effective ways to detect and correct programming errors?"},{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1448366027,"post_id":33891156,"comment_id":55548813,"body_markdown":"@Holger according to the code, it is not possible that `AssertionException` will be raised as value will be 127. I did not find any reason why `assert` was used, that is why I asked this question.","body":"@Holger according to the code, it is not possible that <code>AssertionException</code> will be raised as value will be 127. I did not find any reason why <code>assert</code> was used, that is why I asked this question."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1448366168,"post_id":33891156,"comment_id":55548907,"body_markdown":"Itâ€™s used for the same reason it should be used: to document what should always be true. Of course, it should not be possible that an `AssertionError` will be raised, thatâ€™s the whole point. Why do you think anyone would ever *want* an `AssertionError` to be thrown?","body":"Itâ€™s used for the same reason it should be used: to document what should always be true. Of course, it should not be possible that an <code>AssertionError</code> will be raised, thatâ€™s the whole point. Why do you think anyone would ever <i>want</i> an <code>AssertionError</code> to be thrown?"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":1,"creation_date":1448536518,"post_id":33891156,"comment_id":55633905,"body_markdown":"@Holger, it always bugs me that code coverage tools like JaCoCo mark `throw new AssertionError()` line as non-covered. It&#39;s intended to be non-covered!","body":"@Holger, it always bugs me that code coverage tools like JaCoCo mark <code>throw new AssertionError()</code> line as non-covered. It&#39;s intended to be non-covered!"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1448361192,"creation_date":1448361192,"answer_id":33891269,"question_id":33891156,"body_markdown":"The cache, normally for -128 ... 127, can be enlarged, which might be the reason: it should not become less. And as the code would function even without cache, an assert might be a soft way: telling about a performance defect when developing. As asserts do no impact on production code.\r\n","title":"Why is assert used in the Integer.valueOf method of the Integer class?","body":"<p>The cache, normally for -128 ... 127, can be enlarged, which might be the reason: it should not become less. And as the code would function even without cache, an assert might be a soft way: telling about a performance defect when developing. As asserts do no impact on production code.</p>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1448376676,"creation_date":1448361290,"answer_id":33891297,"question_id":33891156,"body_markdown":"The purpose of asserts is to establish invariants and to document the implementation. Here, this assert documents the fact that when the `valueOf` method is entered `IntegerCache.high` value is guaranteed to be at least 127. It&#39;s better to write an assert instead of the comment, because the assert will also be checked by the JVM when the corresponding command line option (`-esa`) is active.\r\n\r\nNormally this assert will never throw, because the `IntegerCache.high` is initialized in this way:\r\n\r\n    int h = 127;\r\n    String integerCacheHighPropValue =\r\n                sun.misc.VM.getSavedProperty(&quot;java.lang.Integer.IntegerCache.high&quot;);\r\n    if (integerCacheHighPropValue != null) {\r\n        try {\r\n            int i = parseInt(integerCacheHighPropValue);\r\n            i = Math.max(i, 127);\r\n            // Maximum array size is Integer.MAX_VALUE\r\n            h = Math.min(i, Integer.MAX_VALUE - (-low) -1);\r\n        } catch( NumberFormatException nfe) {\r\n            // If the property cannot be parsed into an int, ignore it.\r\n        }\r\n    }\r\n    high = h;\r\n\r\nThis code guarantees that the value will be at least 127. So the assert can throw if you modify `IntegerCache.high` (using reflection and `setAccessible(true)`) or if the JDK will be modified in the future and bug will be introduced in `IntegerCache.high` initialization code. That&#39;s why asserts exist: to catch bugs.","title":"Why is assert used in the Integer.valueOf method of the Integer class?","body":"<p>The purpose of asserts is to establish invariants and to document the implementation. Here, this assert documents the fact that when the <code>valueOf</code> method is entered <code>IntegerCache.high</code> value is guaranteed to be at least 127. It's better to write an assert instead of the comment, because the assert will also be checked by the JVM when the corresponding command line option (<code>-esa</code>) is active.</p>\n\n<p>Normally this assert will never throw, because the <code>IntegerCache.high</code> is initialized in this way:</p>\n\n<pre><code>int h = 127;\nString integerCacheHighPropValue =\n            sun.misc.VM.getSavedProperty(\"java.lang.Integer.IntegerCache.high\");\nif (integerCacheHighPropValue != null) {\n    try {\n        int i = parseInt(integerCacheHighPropValue);\n        i = Math.max(i, 127);\n        // Maximum array size is Integer.MAX_VALUE\n        h = Math.min(i, Integer.MAX_VALUE - (-low) -1);\n    } catch( NumberFormatException nfe) {\n        // If the property cannot be parsed into an int, ignore it.\n    }\n}\nhigh = h;\n</code></pre>\n\n<p>This code guarantees that the value will be at least 127. So the assert can throw if you modify <code>IntegerCache.high</code> (using reflection and <code>setAccessible(true)</code>) or if the JDK will be modified in the future and bug will be introduced in <code>IntegerCache.high</code> initialization code. That's why asserts exist: to catch bugs.</p>\n"},{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1448361695,"creation_date":1448361321,"answer_id":33891309,"question_id":33891156,"body_markdown":"[The JLS mandates that the integer cache must be in place for integers between -128 and 127.][1]\r\n\r\nAt present, the Oracle implementation enforces this but no more, so the cache ceiling could well be extended at some point in the future (unlikely in practice, but it&#39;d be completely in spec.)\r\n\r\nHowever, it can never be *less* than 127, otherwise the implementation would no longer conform to the JLS - and that would be a pretty big deal, hence (I believe) why the assert statement is there!\r\n\r\nAs biziclop pointed out in the comments, it can also be changed by the user by passing a VM argument - another (and perhaps more compelling) reason the assertion is in place.\r\n\r\nAlso note that the assert statement will be skipped unless running with `-ea`, so in normal use there is absolutely no runtime overhead for this check.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7","title":"Why is assert used in the Integer.valueOf method of the Integer class?","body":"<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.7\" rel=\"noreferrer\">The JLS mandates that the integer cache must be in place for integers between -128 and 127.</a></p>\n\n<p>At present, the Oracle implementation enforces this but no more, so the cache ceiling could well be extended at some point in the future (unlikely in practice, but it'd be completely in spec.)</p>\n\n<p>However, it can never be <em>less</em> than 127, otherwise the implementation would no longer conform to the JLS - and that would be a pretty big deal, hence (I believe) why the assert statement is there!</p>\n\n<p>As biziclop pointed out in the comments, it can also be changed by the user by passing a VM argument - another (and perhaps more compelling) reason the assertion is in place.</p>\n\n<p>Also note that the assert statement will be skipped unless running with <code>-ea</code>, so in normal use there is absolutely no runtime overhead for this check.</p>\n"},{"tags":[],"owner":{"account_id":141726,"reputation":10745,"user_id":348975,"accept_rate":86,"display_name":"emory"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448364744,"creation_date":1448363681,"answer_id":33892146,"question_id":33891156,"body_markdown":"Looking at\r\n\r\nhttp://www.docjar.com/html/api/java/lang/Integer.java.html\r\n\r\nI see this comment\r\n\r\n           /*\r\n            * WARNING: This method may be invoked early during VM initialization\r\n            * before IntegerCache is initialized. Care must be taken to not use\r\n           * the valueOf method.\r\n           */\r\n\r\nIf they had used `valueOf` in `parseInt` then when `parseInt` is called early in VM initialization, the `high` value would actually be zero.\r\n\r\nI am not sure what problems that would cause, but evidently someone thought it was worth guarding against.\r\n\r\n1. what is the use of assert IntegerCache.high &gt;= 127; I read that assert provides an effective way to detect and correct programming errors. But this is runtime code why someone will use assert?\r\n\r\nTo guard against code invoked during VM initialization calling the valueOf method.\r\n\r\n2. And when it will throw AssertionError in this scenario?\r\n\r\nIf you run java with the -ea option (enabling assertions) and there is some initialization code that calls valueOf the JVM will almost immediately crash because of AssertionError.  Hopefully the Java team tests for this stuff and will fix the offending code before releasing that to the wild.\r\n\r\nContrary to other answer&#39;s assertions that high will always be greater than or equal to 128, it appears that there are times it is zero (not counting reflection).","title":"Why is assert used in the Integer.valueOf method of the Integer class?","body":"<p>Looking at</p>\n\n<p><a href=\"http://www.docjar.com/html/api/java/lang/Integer.java.html\" rel=\"nofollow\">http://www.docjar.com/html/api/java/lang/Integer.java.html</a></p>\n\n<p>I see this comment</p>\n\n<pre><code>       /*\n        * WARNING: This method may be invoked early during VM initialization\n        * before IntegerCache is initialized. Care must be taken to not use\n       * the valueOf method.\n       */\n</code></pre>\n\n<p>If they had used <code>valueOf</code> in <code>parseInt</code> then when <code>parseInt</code> is called early in VM initialization, the <code>high</code> value would actually be zero.</p>\n\n<p>I am not sure what problems that would cause, but evidently someone thought it was worth guarding against.</p>\n\n<ol>\n<li>what is the use of assert IntegerCache.high >= 127; I read that assert provides an effective way to detect and correct programming errors. But this is runtime code why someone will use assert?</li>\n</ol>\n\n<p>To guard against code invoked during VM initialization calling the valueOf method.</p>\n\n<ol start=\"2\">\n<li>And when it will throw AssertionError in this scenario?</li>\n</ol>\n\n<p>If you run java with the -ea option (enabling assertions) and there is some initialization code that calls valueOf the JVM will almost immediately crash because of AssertionError.  Hopefully the Java team tests for this stuff and will fix the offending code before releasing that to the wild.</p>\n\n<p>Contrary to other answer's assertions that high will always be greater than or equal to 128, it appears that there are times it is zero (not counting reflection).</p>\n"}],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1475,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":4,"score":26,"last_activity_date":1638943855,"creation_date":1448360838,"question_id":33891156,"body_markdown":"I was digging into how the `Integer` class actually uses cached objects, and I found the below code in the `Integer.valueOf` method:\r\n\r\n    public static Integer valueOf(int i) {\r\n        assert IntegerCache.high &gt;= 127;\r\n        if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)\r\n            return IntegerCache.cache[i + (-IntegerCache.low)];\r\n        return new Integer(i);\r\n    }\r\n\r\nMy question is:\r\n\r\n - what is the use of `assert IntegerCache.high &gt;= 127;` I read that\r\n   [assert provides an effective way to detect and correct programming\r\n   errors][1]. But this is runtime code so why would someone use assert?\r\n - And when will it throw `AssertionError` in this scenario?\r\n\r\n  [1]: http://www.javatpoint.com/assertion-in-java","title":"Why is assert used in the Integer.valueOf method of the Integer class?","body":"<p>I was digging into how the <code>Integer</code> class actually uses cached objects, and I found the below code in the <code>Integer.valueOf</code> method:</p>\n\n<pre><code>public static Integer valueOf(int i) {\n    assert IntegerCache.high &gt;= 127;\n    if (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)\n        return IntegerCache.cache[i + (-IntegerCache.low)];\n    return new Integer(i);\n}\n</code></pre>\n\n<p>My question is:</p>\n\n<ul>\n<li>what is the use of <code>assert IntegerCache.high &gt;= 127;</code> I read that\n<a href=\"http://www.javatpoint.com/assertion-in-java\">assert provides an effective way to detect and correct programming\nerrors</a>. But this is runtime code so why would someone use assert?</li>\n<li>And when will it throw <code>AssertionError</code> in this scenario?</li>\n</ul>\n"},{"tags":["java","android","picasso"],"comments":[{"owner":{"account_id":8541170,"reputation":13179,"user_id":6401241,"display_name":"Radesh"},"score":0,"creation_date":1542449583,"post_id":53350223,"comment_id":93578259,"body_markdown":"show your adapter code","body":"show your adapter code"},{"owner":{"account_id":10841638,"reputation":333,"user_id":7972675,"accept_rate":50,"display_name":"Developer"},"score":0,"creation_date":1542449609,"post_id":53350223,"comment_id":93578264,"body_markdown":"@Joey post your try for adapter and calling adapter","body":"@Joey post your try for adapter and calling adapter"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1542450113,"post_id":53350223,"comment_id":93578389,"body_markdown":"please show us the `NewsInfoAdapter` and the `NewsInfoViewHolder`.","body":"please show us the <code>NewsInfoAdapter</code> and the <code>NewsInfoViewHolder</code>."},{"owner":{"account_id":13197478,"reputation":57,"user_id":9531780,"display_name":"Joey"},"score":0,"creation_date":1542451668,"post_id":53350223,"comment_id":93578719,"body_markdown":"@Radesh  i posted, ^.^","body":"@Radesh  i posted, ^.^"},{"owner":{"account_id":13197478,"reputation":57,"user_id":9531780,"display_name":"Joey"},"score":1,"creation_date":1542451699,"post_id":53350223,"comment_id":93578729,"body_markdown":"@MartinZeitler I posted","body":"@MartinZeitler I posted"},{"owner":{"account_id":13197478,"reputation":57,"user_id":9531780,"display_name":"Joey"},"score":0,"creation_date":1542451712,"post_id":53350223,"comment_id":93578730,"body_markdown":"@AndroidUser i posted","body":"@AndroidUser i posted"}],"answers":[{"tags":[],"owner":{"account_id":8541170,"reputation":13179,"user_id":6401241,"display_name":"Radesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1542458943,"creation_date":1542454925,"answer_id":53350886,"question_id":53350223,"body_markdown":"Base on this issue on picasso&#39;s github [issues/1929][1]\r\n\r\nYou can&#39;t use `Picasso.get()` in view holder. Basically it&#39;s a bug and must be fixed but for now you can post Picasso in constructor of your adapter.\r\n\r\nI use androidX too, but because i use [dagger][2] to provide picasso . don&#39;t face with this problem\r\n\r\n\r\n  [1]: https://github.com/square/picasso/issues/1929\r\n  [2]: https://github.com/codepath/android_guides/wiki/Dependency-Injection-with-Dagger-2","title":"picasso throw an exception: context == null","body":"<p>Base on this issue on picasso's github <a href=\"https://github.com/square/picasso/issues/1929\" rel=\"nofollow noreferrer\">issues/1929</a></p>\n\n<p>You can't use <code>Picasso.get()</code> in view holder. Basically it's a bug and must be fixed but for now you can post Picasso in constructor of your adapter.</p>\n\n<p>I use androidX too, but because i use <a href=\"https://github.com/codepath/android_guides/wiki/Dependency-Injection-with-Dagger-2\" rel=\"nofollow noreferrer\">dagger</a> to provide picasso . don't face with this problem</p>\n"},{"tags":[],"owner":{"account_id":13800860,"reputation":117,"user_id":9960873,"display_name":"Sheng Li"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1594060379,"creation_date":1594059509,"answer_id":62762101,"question_id":53350223,"body_markdown":"Please put the below code in Application class. If Android version is 7.0 over, you need to add the below code.\r\n\r\n    Picasso.setSingletonInstance(new Picasso.Builder(this).build());","title":"picasso throw an exception: context == null","body":"<p>Please put the below code in Application class. If Android version is 7.0 over, you need to add the below code.</p>\n<pre><code>Picasso.setSingletonInstance(new Picasso.Builder(this).build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7634212,"reputation":2824,"user_id":5788247,"display_name":"Shomu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612418309,"creation_date":1612418309,"answer_id":66040094,"question_id":53350223,"body_markdown":"**Initialize Singleton Instance from version 2.71828 in Picasso library**\r\n\r\n  \r\n     //lib\r\n     implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n\r\n\r\n    private static boolean initializedPicasso = false;\r\n    \r\n    public static void initPicasso(Context context) {\r\n        Log.i(&quot;TAG&quot;, &quot;initializedPicasso:&quot; + initializedPicasso);\r\n        if (initializedPicasso) {\r\n            return;\r\n        }\r\n        try {\r\n            Picasso.setSingletonInstance(new Picasso.Builder(context).build());\r\n        } catch (Exception e) {\r\n            Log.e(&quot;TAG&quot;, &quot;Error:&quot; + e.toString());\r\n        }\r\n    \r\n        initializedPicasso = true;\r\n    }\r\n\r\n","title":"picasso throw an exception: context == null","body":"<p><strong>Initialize Singleton Instance from version 2.71828 in Picasso library</strong></p>\n<pre><code> //lib\n implementation 'com.squareup.picasso:picasso:2.71828'\n\n\nprivate static boolean initializedPicasso = false;\n\npublic static void initPicasso(Context context) {\n    Log.i(&quot;TAG&quot;, &quot;initializedPicasso:&quot; + initializedPicasso);\n    if (initializedPicasso) {\n        return;\n    }\n    try {\n        Picasso.setSingletonInstance(new Picasso.Builder(context).build());\n    } catch (Exception e) {\n        Log.e(&quot;TAG&quot;, &quot;Error:&quot; + e.toString());\n    }\n\n    initializedPicasso = true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4588089,"reputation":1,"user_id":3722182,"display_name":"user3722182"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615979920,"creation_date":1615979920,"answer_id":66672009,"question_id":53350223,"body_markdown":"You can simply put the below code block inside your **setUp()** method of **Test class**.\r\n\r\n     @Before\r\n    fun setUp() {\r\n        mockkStatic(Picasso::class)\r\n        val picassoMock = mockkClass(Picasso::class, relaxed = true)\r\n        coEvery {\r\n            Picasso.get()\r\n        } returns picassoMock\r\n    }","title":"picasso throw an exception: context == null","body":"<p>You can simply put the below code block inside your <strong>setUp()</strong> method of <strong>Test class</strong>.</p>\n<pre><code> @Before\nfun setUp() {\n    mockkStatic(Picasso::class)\n    val picassoMock = mockkClass(Picasso::class, relaxed = true)\n    coEvery {\n        Picasso.get()\n    } returns picassoMock\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4569598,"reputation":1717,"user_id":3709640,"display_name":"Jiks"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638943212,"creation_date":1638943212,"answer_id":70270602,"question_id":53350223,"body_markdown":"    \r\n**Put below code in your Application class**\r\n\r\n    public class MainApplicationClass extends Application {\r\n            \r\n              @Override\r\n                public void onCreate() {\r\n                    super.onCreate();\r\n            \r\n                  // You need to add the below code:\r\n                   Picasso.setSingletonInstance(new Picasso.Builder(this).build());\r\n                 }\r\n         }","title":"picasso throw an exception: context == null","body":"<p><strong>Put below code in your Application class</strong></p>\n<pre><code>public class MainApplicationClass extends Application {\n        \n          @Override\n            public void onCreate() {\n                super.onCreate();\n        \n              // You need to add the below code:\n               Picasso.setSingletonInstance(new Picasso.Builder(this).build());\n             }\n     }\n</code></pre>\n"}],"owner":{"account_id":13197478,"reputation":57,"user_id":9531780,"display_name":"Joey"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2692,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53350886,"answer_count":5,"score":1,"last_activity_date":1638943212,"creation_date":1542449430,"question_id":53350223,"body_markdown":"i use it load image into view at RecyclerView, but throws an exception : context == null, and its occured  when i got androidX. its working fine before i update;\r\nthanks for helping ^.^\r\n\r\n    java.lang.IllegalStateException: context == null\r\n        at com.squareup.picasso.Picasso.get(Picasso.java:681)\r\n        at com.android.mytestdemo.presenter.NewsInfoViewHolder.setData(NewsInfoViewHolder.java:67)\r\n        at com.android.mytestdemo.presenter.NewsInfoViewHolder.setData(NewsInfoViewHolder.java:14)\r\n        at com.jude.easyrecyclerview.adapter.RecyclerArrayAdapter.OnBindViewHolder(RecyclerArrayAdapter.java:627)\r\n        at com.jude.easyrecyclerview.adapter.RecyclerArrayAdapter.onBindViewHolder(RecyclerArrayAdapter.java:622)\r\n        at com.jude.easyrecyclerview.adapter.RecyclerArrayAdapter.onBindViewHolder(RecyclerArrayAdapter.java:50)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:6781)\r\n        at com.android.mytestdemo.adapter.NewsInfoAdapter.onBindViewHolder(NewsInfoAdapter.java:32)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:6823)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:5752)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6019)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5858)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5854)\r\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2230)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1557)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1517)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:612)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:3924)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3641)\r\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4194)\r\n\r\n\r\nThis is newsInfoAdapter:\r\n\r\n    public class NewsInfoAdapter extends RecyclerArrayAdapter {\r\n\r\n    private Context mContext;\r\n\r\n    public NewsInfoAdapter(Context context) {\r\n        super(context);\r\n        this.mContext = context;\r\n    }\r\n\r\n    @Override\r\n    public BaseViewHolder OnCreateViewHolder(ViewGroup parent, int viewType) {\r\n        \r\n        return new NewsInfoViewHolder(parent,mContext);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position, @NonNull List payloads) {\r\n        super.onBindViewHolder(holder, position, payloads);\r\n        holder.itemView.setTag(position);\r\n   \r\n    }\r\n\r\n\r\nThis is ViewHolder code :\r\n\r\n    public class NewsInfoViewHolder extends BaseViewHolder&lt;NewsInfo&gt; {\r\n\r\n    private Context mContext;\r\n\r\n    private ImageView imageView;\r\n    private TextView tvTitle;\r\n    private ImageView ivPlayAndPause;\r\n\r\n    private boolean isPlaying = false;\r\n\r\n    public NewsInfoViewHolder(ViewGroup parent, Context context) {\r\n        super(parent, R.layout.easy_rv_item);\r\n\r\n        this.mContext = context;\r\n        \r\n        imageView = $(R.id.news_img);\r\n        ivPlayAndPause = $(R.id.iv_play);\r\n        tvTitle = $(R.id.news_title);\r\n\r\n\r\n        ivPlayAndPause.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                \r\n                if (isPlaying){\r\n                    ivPlayAndPause.setBackground(mContext.getResources().getDrawable(R.drawable.icon_play_48dp));\r\n                    isPlaying = false;\r\n                }else {\r\n                    ivPlayAndPause.setBackground(mContext.getResources().getDrawable(R.drawable.icon_pause_48dp));\r\n                    isPlaying = true;\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void setData(NewsInfo data) {\r\n        super.setData(data);\r\n        String picTo ;\r\n        String pic ;\r\n\r\n        if (data.getImgUrlPicTo() != null &amp;&amp; !(data.getImgUrlPicTo().equals(&quot;&quot;))){\r\n            \r\n\r\n            if (data.getImgUrlPicTo().contains(&quot;https:&quot;))\r\n                picTo = data.getImgUrlPicTo();\r\n            else\r\n                picTo = &quot;https:&quot; + data.getImgUrlPicTo();\r\n\r\n            Picasso.get().load(picTo).fit().into(imageView);\r\n\r\n        }else if (data.getImgUrlPic() != null &amp;&amp; !(data.getImgUrlPic().equals(&quot;&quot;))){\r\n\r\n            if (data.getImgUrlPic().contains(&quot;https:&quot;))\r\n                pic = data.getImgUrlPic();\r\n            else\r\n                pic = &quot;https:&quot; + data.getImgUrlPic();\r\n\r\n            \r\n            Picasso.get().load(pic).fit().into(imageView);\r\n        }\r\n\r\n        tvTitle.setText(data.getTitle());\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nits working fine before i update to androidX.\r\nthanks for help again ^.^","title":"picasso throw an exception: context == null","body":"<p>i use it load image into view at RecyclerView, but throws an exception : context == null, and its occured  when i got androidX. its working fine before i update;\nthanks for helping ^.^</p>\n\n<pre><code>java.lang.IllegalStateException: context == null\n    at com.squareup.picasso.Picasso.get(Picasso.java:681)\n    at com.android.mytestdemo.presenter.NewsInfoViewHolder.setData(NewsInfoViewHolder.java:67)\n    at com.android.mytestdemo.presenter.NewsInfoViewHolder.setData(NewsInfoViewHolder.java:14)\n    at com.jude.easyrecyclerview.adapter.RecyclerArrayAdapter.OnBindViewHolder(RecyclerArrayAdapter.java:627)\n    at com.jude.easyrecyclerview.adapter.RecyclerArrayAdapter.onBindViewHolder(RecyclerArrayAdapter.java:622)\n    at com.jude.easyrecyclerview.adapter.RecyclerArrayAdapter.onBindViewHolder(RecyclerArrayAdapter.java:50)\n    at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:6781)\n    at com.android.mytestdemo.adapter.NewsInfoAdapter.onBindViewHolder(NewsInfoAdapter.java:32)\n    at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:6823)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:5752)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6019)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5858)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5854)\n    at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2230)\n    at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1557)\n    at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1517)\n    at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:612)\n    at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:3924)\n    at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3641)\n    at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4194)\n</code></pre>\n\n<p>This is newsInfoAdapter:</p>\n\n<pre><code>public class NewsInfoAdapter extends RecyclerArrayAdapter {\n\nprivate Context mContext;\n\npublic NewsInfoAdapter(Context context) {\n    super(context);\n    this.mContext = context;\n}\n\n@Override\npublic BaseViewHolder OnCreateViewHolder(ViewGroup parent, int viewType) {\n\n    return new NewsInfoViewHolder(parent,mContext);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position, @NonNull List payloads) {\n    super.onBindViewHolder(holder, position, payloads);\n    holder.itemView.setTag(position);\n\n}\n</code></pre>\n\n<p>This is ViewHolder code :</p>\n\n<pre><code>public class NewsInfoViewHolder extends BaseViewHolder&lt;NewsInfo&gt; {\n\nprivate Context mContext;\n\nprivate ImageView imageView;\nprivate TextView tvTitle;\nprivate ImageView ivPlayAndPause;\n\nprivate boolean isPlaying = false;\n\npublic NewsInfoViewHolder(ViewGroup parent, Context context) {\n    super(parent, R.layout.easy_rv_item);\n\n    this.mContext = context;\n\n    imageView = $(R.id.news_img);\n    ivPlayAndPause = $(R.id.iv_play);\n    tvTitle = $(R.id.news_title);\n\n\n    ivPlayAndPause.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n\n            if (isPlaying){\n                ivPlayAndPause.setBackground(mContext.getResources().getDrawable(R.drawable.icon_play_48dp));\n                isPlaying = false;\n            }else {\n                ivPlayAndPause.setBackground(mContext.getResources().getDrawable(R.drawable.icon_pause_48dp));\n                isPlaying = true;\n            }\n        }\n    });\n\n}\n\n@Override\npublic void setData(NewsInfo data) {\n    super.setData(data);\n    String picTo ;\n    String pic ;\n\n    if (data.getImgUrlPicTo() != null &amp;&amp; !(data.getImgUrlPicTo().equals(\"\"))){\n\n\n        if (data.getImgUrlPicTo().contains(\"https:\"))\n            picTo = data.getImgUrlPicTo();\n        else\n            picTo = \"https:\" + data.getImgUrlPicTo();\n\n        Picasso.get().load(picTo).fit().into(imageView);\n\n    }else if (data.getImgUrlPic() != null &amp;&amp; !(data.getImgUrlPic().equals(\"\"))){\n\n        if (data.getImgUrlPic().contains(\"https:\"))\n            pic = data.getImgUrlPic();\n        else\n            pic = \"https:\" + data.getImgUrlPic();\n\n\n        Picasso.get().load(pic).fit().into(imageView);\n    }\n\n    tvTitle.setText(data.getTitle());\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>its working fine before i update to androidX.\nthanks for help again ^.^</p>\n"},{"tags":["java","ssl","tomcat","tomcat8","tomcat9"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1638940622,"post_id":70269803,"comment_id":124218724,"body_markdown":"Does this answer your question? [How to configure Tomcat SSLHostConfig correctly?](https://stackoverflow.com/questions/67258040/how-to-configure-tomcat-sslhostconfig-correctly)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67258040/how-to-configure-tomcat-sslhostconfig-correctly\">How to configure Tomcat SSLHostConfig correctly?</a>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1638941455,"post_id":70269803,"comment_id":124218877,"body_markdown":"`useServerCipherSuitesOrder` is a deprecated attriibute (cf. [documentation](https://tomcat.apache.org/tomcat-9.0-doc/config/http.html#SSL_Support_-_Connector_-_NIO_and_NIO2_(deprecated))), hence the above mentioned answer applies. Use `honorCipherOrder` on the `SSLHostConfig` element instead. I assume you are using Tomcat 8.5.","body":"<code>useServerCipherSuitesOrder</code> is a deprecated attriibute (cf. <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/config/http.html#SSL_Support_-_Connector_-_NIO_and_NIO2_(deprecated)\" rel=\"nofollow noreferrer\">documentation</a>), hence the above mentioned answer applies. Use <code>honorCipherOrder</code> on the <code>SSLHostConfig</code> element instead. I assume you are using Tomcat 8.5."},{"owner":{"account_id":23582972,"reputation":1,"user_id":17621768,"display_name":"junhong"},"score":0,"creation_date":1638941777,"post_id":70269803,"comment_id":124218928,"body_markdown":"I don&#39;t see any difference between me and him. Thank you for your advice","body":"I don&#39;t see any difference between me and him. Thank you for your advice"}],"owner":{"account_id":23582972,"reputation":1,"user_id":17621768,"display_name":"junhong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638942599,"creation_date":1638936235,"question_id":70269803,"body_markdown":"**This is my configuration information**\r\n```\r\n      &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n               maxThreads=&quot;200&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n               useServerCipherSuitesOrder=&quot;true&quot; clientAuth=&quot;want&quot;\r\n               defaultSSLHostConfigName=&quot;test.com&quot;\r\n                &gt;\r\n        &lt;SSLHostConfig hostName=&quot;test.com&quot;  truststoreFile=&quot;/opt/security/client_trust.jks&quot;\r\n                       truststorePassword=&quot;test&quot; sslProtocol=&quot;TLS&quot; protocols=&quot;TLSv1.2&quot;\r\n                       ciphers=&quot;TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,\r\n                                TLS_DHE_RSA_WITH_AES_256_GCM_SHA384,\r\n                                TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\r\n                                TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;&gt;\r\n            &lt;Certificate certificateKeystoreFile=&quot;/opt/security/keystore.jks&quot;\r\n                         certificateKeystorePassword=&quot;test&quot; certificateKeyAlias=&quot;tomcat&quot;\r\n                         /&gt;\r\n        &lt;/SSLHostConfig&gt;\r\n    &lt;/Connector&gt;\r\n```\r\n**Tomcat error info**\r\n```08-Dec-2021 11:46:41.359 WARNING [main] org.apache.tomcat.util.net.SSLUtilBase.&lt;init&gt; The JSSE TLS 1.3 implementation does not support authentication after the initial handshake and is therefore incompatible with optional client authentication\r\n08-Dec-2021 11:46:41.361 SEVERE [main] org.apache.catalina.core.StandardService.initInternal Failed to initialize connector [Connector[HTTP/1.1-8443]]\r\n        org.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n                at org.apache.catalina.connector.Connector.initInternal(Connector.java:1076)\r\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n                at org.apache.catalina.core.StandardService.initInternal(StandardService.java:552)\r\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n                at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:843)\r\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\r\n                at org.apache.catalina.startup.Catalina.load(Catalina.java:639)\r\n                at org.apache.catalina.startup.Catalina.load(Catalina.java:662)\r\n                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n                at java.lang.reflect.Method.invoke(Method.java:498)\r\n                at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\r\n                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\r\n        Caused by: java.lang.IllegalArgumentException: SSLHostConfig attribute certificateFile must be defined when using an SSL connector\r\n                at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:100)\r\n                at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:72)\r\n                at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:246)\r\n                at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:1161)\r\n                at org.apache.tomcat.util.net.AbstractJsseEndpoint.init(AbstractJsseEndpoint.java:222)\r\n                at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:599)\r\n                at org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:80)\r\n                at org.apache.catalina.connector.Connector.initInternal(Connector.java:1074)\r\n                ... 13 more\r\n        Caused by: java.io.IOException: SSLHostConfig attribute certificateFile must be defined when using an SSL connector\r\n                at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:309)\r\n                at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:244)\r\n                at org.apach\r\n```\r\nI don&#39;t understand why the error is reported. \r\nSo the correct configuration should be?\r\nThe class Http11NioProtocol cannot be replaced.\r\n\\n\r\nIt&#39;s success When I not use attribute  SSLHostConfig.\r\n```\r\n&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n               maxThreads=&quot;200&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n               keystoreFile=&quot;/opt/security/keystore.jks&quot;\r\n               keystorePass=&quot;test&quot; keyAlias=&quot;tomcat&quot;\r\n               sslProtocol=&quot;TLS&quot; sslEnabledProtocols=&quot;TLSv1.2&quot;\r\n               ciphers=&quot;TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,\r\n                        TLS_DHE_RSA_WITH_AES_256_GCM_SHA384,\r\n                        TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\r\n                        TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;\r\n               useServerCipherSuitesOrder=&quot;true&quot;\r\n               truststoreFile=&quot;/opt/security/client_trust.jks&quot;\r\n               truststorePass=&quot;test&quot; clientAuth=&quot;want&quot; /&gt;\r\n```","title":"Tomcat8 error SSLHostConfig attribute certificateFile must be defined when using an SSL connector","body":"<p><strong>This is my configuration information</strong></p>\n<pre><code>      &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n               maxThreads=&quot;200&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\n               useServerCipherSuitesOrder=&quot;true&quot; clientAuth=&quot;want&quot;\n               defaultSSLHostConfigName=&quot;test.com&quot;\n                &gt;\n        &lt;SSLHostConfig hostName=&quot;test.com&quot;  truststoreFile=&quot;/opt/security/client_trust.jks&quot;\n                       truststorePassword=&quot;test&quot; sslProtocol=&quot;TLS&quot; protocols=&quot;TLSv1.2&quot;\n                       ciphers=&quot;TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,\n                                TLS_DHE_RSA_WITH_AES_256_GCM_SHA384,\n                                TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\n                                TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;&gt;\n            &lt;Certificate certificateKeystoreFile=&quot;/opt/security/keystore.jks&quot;\n                         certificateKeystorePassword=&quot;test&quot; certificateKeyAlias=&quot;tomcat&quot;\n                         /&gt;\n        &lt;/SSLHostConfig&gt;\n    &lt;/Connector&gt;\n</code></pre>\n<p><strong>Tomcat error info</strong></p>\n<pre><code>08-Dec-2021 11:46:41.361 SEVERE [main] org.apache.catalina.core.StandardService.initInternal Failed to initialize connector [Connector[HTTP/1.1-8443]]\n        org.apache.catalina.LifecycleException: Protocol handler initialization failed\n                at org.apache.catalina.connector.Connector.initInternal(Connector.java:1076)\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n                at org.apache.catalina.core.StandardService.initInternal(StandardService.java:552)\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n                at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:843)\n                at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:136)\n                at org.apache.catalina.startup.Catalina.load(Catalina.java:639)\n                at org.apache.catalina.startup.Catalina.load(Catalina.java:662)\n                at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n                at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n                at java.lang.reflect.Method.invoke(Method.java:498)\n                at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:305)\n                at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:475)\n        Caused by: java.lang.IllegalArgumentException: SSLHostConfig attribute certificateFile must be defined when using an SSL connector\n                at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:100)\n                at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:72)\n                at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:246)\n                at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:1161)\n                at org.apache.tomcat.util.net.AbstractJsseEndpoint.init(AbstractJsseEndpoint.java:222)\n                at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:599)\n                at org.apache.coyote.http11.AbstractHttp11Protocol.init(AbstractHttp11Protocol.java:80)\n                at org.apache.catalina.connector.Connector.initInternal(Connector.java:1074)\n                ... 13 more\n        Caused by: java.io.IOException: SSLHostConfig attribute certificateFile must be defined when using an SSL connector\n                at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:309)\n                at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:244)\n                at org.apach\n</code></pre>\n<p>I don't understand why the error is reported.\nSo the correct configuration should be?\nThe class Http11NioProtocol cannot be replaced.\n\\n\nIt's success When I not use attribute  SSLHostConfig.</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n               maxThreads=&quot;200&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\n               keystoreFile=&quot;/opt/security/keystore.jks&quot;\n               keystorePass=&quot;test&quot; keyAlias=&quot;tomcat&quot;\n               sslProtocol=&quot;TLS&quot; sslEnabledProtocols=&quot;TLSv1.2&quot;\n               ciphers=&quot;TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,\n                        TLS_DHE_RSA_WITH_AES_256_GCM_SHA384,\n                        TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\n                        TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;\n               useServerCipherSuitesOrder=&quot;true&quot;\n               truststoreFile=&quot;/opt/security/client_trust.jks&quot;\n               truststorePass=&quot;test&quot; clientAuth=&quot;want&quot; /&gt;\n</code></pre>\n"},{"tags":["java","nio","file-copying"],"answers":[{"tags":[],"owner":{"account_id":353777,"reputation":64351,"user_id":691688,"accept_rate":80,"display_name":"Femi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1315757541,"creation_date":1315757541,"answer_id":7379513,"question_id":7379469,"body_markdown":"There appears to be anecdotal evidence that attempts to transfer more than 64MB at a time on certain Windows versions results in a slow copy. Hence the check: this appears to be the result of some detail of the underlying native code that implements the `transferTo` operation on Windows.","title":"FileChannel.transferTo for large file in windows","body":"<p>There appears to be anecdotal evidence that attempts to transfer more than 64MB at a time on certain Windows versions results in a slow copy. Hence the check: this appears to be the result of some detail of the underlying native code that implements the <code>transferTo</code> operation on Windows.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1638941441,"creation_date":1315901131,"answer_id":7398636,"question_id":7379469,"body_markdown":"Windows has a hard limit on the maximum transfer size, and if you exceed it you get a runtime exception. So you need to tune. The second version you give is superior because it doesn&#39;t assume the file was transferred completely with one `transferTo()` call, which agrees with the Javadoc.\r\n\r\nSetting the transfer size more than about 1MB is pretty pointless anyway.\r\n\r\n**EDIT** Your second version has a flaw. You should decrement `size` by the amount transferred each time. It should be more like:\r\n\r\n    while (size &gt; 0) { // we still have bytes to transfer\r\n        long count = inChannel.transferTo(position, size, outChannel);\r\n        if (count &gt; 0)\r\n        {\r\n            position += count; // seeking position to last byte transferred\r\n            size-= count; // {count} bytes have been transferred, remaining {size}\r\n        }\r\n    }","title":"FileChannel.transferTo for large file in windows","body":"<p>Windows has a hard limit on the maximum transfer size, and if you exceed it you get a runtime exception. So you need to tune. The second version you give is superior because it doesn't assume the file was transferred completely with one <code>transferTo()</code> call, which agrees with the Javadoc.</p>\n<p>Setting the transfer size more than about 1MB is pretty pointless anyway.</p>\n<p><strong>EDIT</strong> Your second version has a flaw. You should decrement <code>size</code> by the amount transferred each time. It should be more like:</p>\n<pre><code>while (size &gt; 0) { // we still have bytes to transfer\n    long count = inChannel.transferTo(position, size, outChannel);\n    if (count &gt; 0)\n    {\n        position += count; // seeking position to last byte transferred\n        size-= count; // {count} bytes have been transferred, remaining {size}\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1401030,"reputation":1933,"user_id":1329812,"accept_rate":43,"display_name":"Danny Rancher"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1388806001,"creation_date":1388806001,"answer_id":20916464,"question_id":7379469,"body_markdown":"I have read that it is for compatibility with the Windows 2000 operating system.\r\n\r\nSource: http://www.rgagnon.com/javadetails/java-0064.html\r\n\r\nQuote: In win2000, the transferTo() does not transfer files &gt; than 2^31-1 bytes. it throws an exception of &quot;java.io.IOException: Insufficient system resources exist to complete the requested service is thrown.&quot; The workaround is to copy in a loop 64Mb each time until there is no more data.\r\n\r\n","title":"FileChannel.transferTo for large file in windows","body":"<p>I have read that it is for compatibility with the Windows 2000 operating system.</p>\n\n<p>Source: <a href=\"http://www.rgagnon.com/javadetails/java-0064.html\" rel=\"nofollow\">http://www.rgagnon.com/javadetails/java-0064.html</a></p>\n\n<p>Quote: In win2000, the transferTo() does not transfer files > than 2^31-1 bytes. it throws an exception of \"java.io.IOException: Insufficient system resources exist to complete the requested service is thrown.\" The workaround is to copy in a loop 64Mb each time until there is no more data.</p>\n"}],"owner":{"account_id":280829,"reputation":28956,"user_id":576758,"accept_rate":83,"display_name":"Tapas Bose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15034,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":7398636,"answer_count":3,"score":10,"last_activity_date":1638941441,"creation_date":1315757099,"question_id":7379469,"body_markdown":"Using Java NIO use can copy file faster. I found two kind of method mainly over internet to do this job. \n\n    public static void copyFile(File sourceFile, File destinationFile) throws IOException {\n        if (!destinationFile.exists()) {\n            destinationFile.createNewFile();\n        }\n\n        FileChannel source = null;\n        FileChannel destination = null;\n        try {\n            source = new FileInputStream(sourceFile).getChannel();\n            destination = new FileOutputStream(destinationFile).getChannel();\n            destination.transferFrom(source, 0, source.size());\n        } finally {\n            if (source != null) {\n                source.close();\n            }\n            if (destination != null) {\n                destination.close();\n            }\n        }\n    }\n\nIn [20 very useful Java code snippets for Java Developers][1] I found a different comment and trick:\n\n    public static void fileCopy(File in, File out) throws IOException {\n        FileChannel inChannel = new FileInputStream(in).getChannel();\n        FileChannel outChannel = new FileOutputStream(out).getChannel();\n        try {\n            // inChannel.transferTo(0, inChannel.size(), outChannel); // original -- apparently has trouble copying large files on Windows\n            // magic number for Windows, (64Mb - 32Kb)\n            int maxCount = (64 * 1024 * 1024) - (32 * 1024);\n            long size = inChannel.size();\n            long position = 0;\n            while (position &lt; size) {\n                position += inChannel.transferTo(position, maxCount, outChannel);\n            }\n        } finally {\n            if (inChannel != null) {\n                inChannel.close();\n            }\n            if (outChannel != null) {\n                outChannel.close();\n            }\n        }\n    }\n\nBut I didn&#39;t find or understand what is meaning of \n\n&gt; &quot;magic number for Windows, (64Mb - 32Kb)&quot;\n\nIt says that `inChannel.transferTo(0, inChannel.size(), outChannel)` has problem in windows, is 32768 (= (64 * 1024 * 1024) - (32 * 1024)) byte is optimum for this method.\n\n  [1]: http://viralpatel.net/blogs/2009/05/20-useful-java-code-snippets-for-java-developers.html","title":"FileChannel.transferTo for large file in windows","body":"<p>Using Java NIO use can copy file faster. I found two kind of method mainly over internet to do this job.</p>\n<pre><code>public static void copyFile(File sourceFile, File destinationFile) throws IOException {\n    if (!destinationFile.exists()) {\n        destinationFile.createNewFile();\n    }\n\n    FileChannel source = null;\n    FileChannel destination = null;\n    try {\n        source = new FileInputStream(sourceFile).getChannel();\n        destination = new FileOutputStream(destinationFile).getChannel();\n        destination.transferFrom(source, 0, source.size());\n    } finally {\n        if (source != null) {\n            source.close();\n        }\n        if (destination != null) {\n            destination.close();\n        }\n    }\n}\n</code></pre>\n<p>In <a href=\"http://viralpatel.net/blogs/2009/05/20-useful-java-code-snippets-for-java-developers.html\" rel=\"noreferrer\">20 very useful Java code snippets for Java Developers</a> I found a different comment and trick:</p>\n<pre><code>public static void fileCopy(File in, File out) throws IOException {\n    FileChannel inChannel = new FileInputStream(in).getChannel();\n    FileChannel outChannel = new FileOutputStream(out).getChannel();\n    try {\n        // inChannel.transferTo(0, inChannel.size(), outChannel); // original -- apparently has trouble copying large files on Windows\n        // magic number for Windows, (64Mb - 32Kb)\n        int maxCount = (64 * 1024 * 1024) - (32 * 1024);\n        long size = inChannel.size();\n        long position = 0;\n        while (position &lt; size) {\n            position += inChannel.transferTo(position, maxCount, outChannel);\n        }\n    } finally {\n        if (inChannel != null) {\n            inChannel.close();\n        }\n        if (outChannel != null) {\n            outChannel.close();\n        }\n    }\n}\n</code></pre>\n<p>But I didn't find or understand what is meaning of</p>\n<blockquote>\n<p>&quot;magic number for Windows, (64Mb - 32Kb)&quot;</p>\n</blockquote>\n<p>It says that <code>inChannel.transferTo(0, inChannel.size(), outChannel)</code> has problem in windows, is 32768 (= (64 * 1024 * 1024) - (32 * 1024)) byte is optimum for this method.</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1638939318,"creation_date":1638939318,"answer_id":70270137,"question_id":70270085,"body_markdown":"Add a second constructor that accepts parameters:\r\n\r\n```\r\npublic ApiKeyHandler(SecretsManagerClient client) {\r\n  secretsManagerClient = client;\r\n}\r\n\r\npublic ApiKeyHandler() {\r\n  this(DependencyFactory.secretsManagerClient());\r\n}\r\n```\r\n","title":"Mock new objects in empty constructor","body":"<p>Add a second constructor that accepts parameters:</p>\n<pre><code>public ApiKeyHandler(SecretsManagerClient client) {\n  secretsManagerClient = client;\n}\n\npublic ApiKeyHandler() {\n  this(DependencyFactory.secretsManagerClient());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638941291,"creation_date":1638941291,"answer_id":70270370,"question_id":70270085,"body_markdown":"It looks like you have a couple of options:\r\n1. You can add another constructor with the parameters to inject. This is easy and clean from the test perspective, but after all you&#39;ll have the code in production (this constructor in this case) that is used only for tests.\r\nIn generally I don&#39;t advocate this approach, although I understand that there are technology limitations here.\r\n2. You can Mock the Dependency Factory. Since the call is static, you might end up using PowerMock / PowerMockito that can actually mock static calls. This is something that can turn to be really painful to maintain, in general this approach is discouraged these days.\r\n3. You can Rewrite the DependencyFactory so that it could be configured with some kind of mock implementation (that will allow to specify mock dependencies):\r\n\r\n~~~\r\npublic interface DependencyFactoryMode {\r\n   SecretsManagerClient secretsManagerClient();  \r\n}\r\n\r\npublic class RealDependencyFactoryMode implements DependencyFactoryMode {\r\n    public SecretsManagerClient secretsManagerClient() {\r\n        return SecretsManagerClient.builder()\r\n            .region(/**/)\r\n            .build();\r\n  \r\n    }\r\n}\r\n// in src/test/java - test code in short\r\npublic class DependencyFactoryTestMode implements DependencyFactoryMode {\r\n    private SecretsManagerClient smc = Mockito.mock(SecretsManagerClient.class);\r\n    public SecretsManagerClient secretsManagerClient() {\r\n       return smc;\r\n    }\r\n    // this will be used in tests\r\n    public SecretsManagerClient getSmcMock() {return smc;}\r\n}\r\n\r\npublic class DependencyFactory {\r\n   private static DependencyFactoryMode mode;\r\n\r\n   static {\r\n      // depending on the configuration, external properties or whatever \r\n      // initialize in production mode or test mode\r\n      // of course this is the most &quot;primitive&quot; implementation you can probably\r\n      // do better\r\n      if(isTest) {\r\n         mode = new TestDependencyFactoryTestMode();\r\n      } else {\r\n         // this is a default behavior\r\n         mode = new RealDependencyFactoryMode();\r\n      }\r\n   }\r\n\r\n   private DependencyFactory() {}\r\n   public static DependencyFactoryMode getMode() {\r\n      return mode;\r\n   }\r\n   public static SecretsManagerClient secretsManagerClient() {\r\n      return mode.secretsManagerClient();\r\n   }\r\n\r\n}\r\n~~~\r\nWith this approach you&#39;ll have to pre-configure the dependency factory so that while running in the test it will &quot;know&quot; that it should run in the test mode.\r\n\r\n~~~\r\npublic class Test {\r\n    @Test\r\n    public void test() {\r\n      // DependencyFactoryMode will be used in the test mode\r\n      DependecyFactoryMode testMode = DependencyFactory.getMode(); \r\n      var smc = testMode.secretsManagerClient();\r\n      Mockito.when(smc.foo()).thenReturn(...);\r\n    }\r\n} \r\n~~~\r\n\r\nNow this approach suffers from the same drawback as &quot;1&quot; but at least you have a code &quot;only for tests&quot; only in the factory, rather than in all lambda functions (I assume you have many of them, otherwise probably the first approach will be the least of all evils).\r\n\r\nAnother possible drawback is that the same instance of `DependencyFactory` (with the shared static mocking mode) will be shared between the tests, so you might end up &quot;reseting&quot; all the relevant mocks after the test. \r\n\r\nAgain, these all are complications because in the form that you&#39;ve presented there is no way to provide a dependency injection in constructor because of the technology limitation.\r\n\r\n\r\n\r\n","title":"Mock new objects in empty constructor","body":"<p>It looks like you have a couple of options:</p>\n<ol>\n<li>You can add another constructor with the parameters to inject. This is easy and clean from the test perspective, but after all you'll have the code in production (this constructor in this case) that is used only for tests.\nIn generally I don't advocate this approach, although I understand that there are technology limitations here.</li>\n<li>You can Mock the Dependency Factory. Since the call is static, you might end up using PowerMock / PowerMockito that can actually mock static calls. This is something that can turn to be really painful to maintain, in general this approach is discouraged these days.</li>\n<li>You can Rewrite the DependencyFactory so that it could be configured with some kind of mock implementation (that will allow to specify mock dependencies):</li>\n</ol>\n<pre><code>public interface DependencyFactoryMode {\n   SecretsManagerClient secretsManagerClient();  \n}\n\npublic class RealDependencyFactoryMode implements DependencyFactoryMode {\n    public SecretsManagerClient secretsManagerClient() {\n        return SecretsManagerClient.builder()\n            .region(/**/)\n            .build();\n  \n    }\n}\n// in src/test/java - test code in short\npublic class DependencyFactoryTestMode implements DependencyFactoryMode {\n    private SecretsManagerClient smc = Mockito.mock(SecretsManagerClient.class);\n    public SecretsManagerClient secretsManagerClient() {\n       return smc;\n    }\n    // this will be used in tests\n    public SecretsManagerClient getSmcMock() {return smc;}\n}\n\npublic class DependencyFactory {\n   private static DependencyFactoryMode mode;\n\n   static {\n      // depending on the configuration, external properties or whatever \n      // initialize in production mode or test mode\n      // of course this is the most &quot;primitive&quot; implementation you can probably\n      // do better\n      if(isTest) {\n         mode = new TestDependencyFactoryTestMode();\n      } else {\n         // this is a default behavior\n         mode = new RealDependencyFactoryMode();\n      }\n   }\n\n   private DependencyFactory() {}\n   public static DependencyFactoryMode getMode() {\n      return mode;\n   }\n   public static SecretsManagerClient secretsManagerClient() {\n      return mode.secretsManagerClient();\n   }\n\n}\n</code></pre>\n<p>With this approach you'll have to pre-configure the dependency factory so that while running in the test it will &quot;know&quot; that it should run in the test mode.</p>\n<pre><code>public class Test {\n    @Test\n    public void test() {\n      // DependencyFactoryMode will be used in the test mode\n      DependecyFactoryMode testMode = DependencyFactory.getMode(); \n      var smc = testMode.secretsManagerClient();\n      Mockito.when(smc.foo()).thenReturn(...);\n    }\n} \n</code></pre>\n<p>Now this approach suffers from the same drawback as &quot;1&quot; but at least you have a code &quot;only for tests&quot; only in the factory, rather than in all lambda functions (I assume you have many of them, otherwise probably the first approach will be the least of all evils).</p>\n<p>Another possible drawback is that the same instance of <code>DependencyFactory</code> (with the shared static mocking mode) will be shared between the tests, so you might end up &quot;reseting&quot; all the relevant mocks after the test.</p>\n<p>Again, these all are complications because in the form that you've presented there is no way to provide a dependency injection in constructor because of the technology limitation.</p>\n"}],"owner":{"account_id":9998716,"reputation":163,"user_id":7395483,"accept_rate":20,"display_name":"jawsh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70270370,"answer_count":2,"score":1,"last_activity_date":1638941291,"creation_date":1638938859,"question_id":70270085,"body_markdown":"I am currently working on a AWS Lambda using Java 11. It is requiring me for an implementation of the handler to have an empty constructor. My handler looks like this\r\n\r\n```\r\npublic class ApiKeyHandler {\r\n\r\n  private final SecretsManagerClient secretsManagerClient;\r\n\r\n  public ApiKeyHandler() {\r\n    secretsManagerClient = DependencyFactory.secretsManagerClient();\r\n  }\r\n\r\n  public void handleRequest(Object event, Context context) {\r\n    //Other codes here\r\n    secretsManagerClient.getSecret(/../);\r\n  }\r\n}\r\n```\r\n\r\nAnd Dependency Factory class\r\n```\r\npublic class DependencyFactory {\r\n\r\n    private DependencyFactory() {}\r\n\r\n    /**\r\n     * @return an instance of SecretsManagerClient\r\n     */\r\n    public static SecretsManagerClient secretsManagerClient() {\r\n        return SecretsManagerClient.builder()\r\n            .region(/**/)\r\n            .build();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nNow, when I am trying to write unit test for this I cant mock objects in constructor. Is there a way I can mock it? \r\n\r\nI tried \r\n\r\n```\r\n@Mock SecretsManagerClient secretsManagerClient;\r\n@InjectMocks ApiKeyHandler handler;\r\n```\r\n\r\nbut no luck. Thank you","title":"Mock new objects in empty constructor","body":"<p>I am currently working on a AWS Lambda using Java 11. It is requiring me for an implementation of the handler to have an empty constructor. My handler looks like this</p>\n<pre><code>public class ApiKeyHandler {\n\n  private final SecretsManagerClient secretsManagerClient;\n\n  public ApiKeyHandler() {\n    secretsManagerClient = DependencyFactory.secretsManagerClient();\n  }\n\n  public void handleRequest(Object event, Context context) {\n    //Other codes here\n    secretsManagerClient.getSecret(/../);\n  }\n}\n</code></pre>\n<p>And Dependency Factory class</p>\n<pre><code>public class DependencyFactory {\n\n    private DependencyFactory() {}\n\n    /**\n     * @return an instance of SecretsManagerClient\n     */\n    public static SecretsManagerClient secretsManagerClient() {\n        return SecretsManagerClient.builder()\n            .region(/**/)\n            .build();\n    }\n\n\n}\n</code></pre>\n<p>Now, when I am trying to write unit test for this I cant mock objects in constructor. Is there a way I can mock it?</p>\n<p>I tried</p>\n<pre><code>@Mock SecretsManagerClient secretsManagerClient;\n@InjectMocks ApiKeyHandler handler;\n</code></pre>\n<p>but no luck. Thank you</p>\n"},{"tags":["java","eclipse","awt","awtrobot"],"answers":[{"tags":[],"owner":{"account_id":163065,"reputation":8295,"user_id":384943,"accept_rate":100,"display_name":"Andy Zhang"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1329872873,"creation_date":1329872873,"answer_id":9387800,"question_id":9387483,"body_markdown":"To start off, let&#39;s just write out an empty method where the parameters are as you defined in your question.\r\n\r\n    public void mouseGlide(int x1, int y1, int x2, int y2, int t, int n) {\r\n    \r\n    }\r\n\r\nNext, let&#39;s create a Robot object and also calculate 3 pieces of information that&#39;ll help your future calculations. Don&#39;t forget to catch the exception from instantiating Robot.\r\n\r\n    Robot r = new Robot();\r\n    double dx = (x2 - x1) / ((double) n);\r\n    double dy = (y2 - y1) / ((double) n);\r\n    double dt = t / ((double) n);\r\n\r\n`dx` represents the difference in your mouse&#39;s x coordinate everytime it moves while gliding. Basically it&#39;s the total move distance divided into `n` steps. Same thing with `dy` except with the y coordinate. `dt` is the total glide time divided into `n` steps.\r\n\r\nFinally, construct a loop that executes `n` times, each time moving the mouse closer to the final location (taking steps of (dx, dy)). Make the thread sleep for `dt` milliseconds during each execution. The larger your `n` is, the smoother the glide will look.\r\n\r\n----------\r\n\r\nFinal result:\r\n\r\n    public void mouseGlide(int x1, int y1, int x2, int y2, int t, int n) {\r\n    \ttry {\r\n    \t\tRobot r = new Robot();\r\n    \t\tdouble dx = (x2 - x1) / ((double) n);\r\n    \t\tdouble dy = (y2 - y1) / ((double) n);\r\n    \t\tdouble dt = t / ((double) n);\r\n    \t\tfor (int step = 1; step &lt;= n; step++) {\r\n    \t\t\tThread.sleep((int) dt);\r\n    \t\t\tr.mouseMove((int) (x1 + dx * step), (int) (y1 + dy * step));\r\n    \t\t}\r\n    \t} catch (AWTException e) {\r\n    \t\te.printStackTrace();\r\n    \t} catch (InterruptedException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    }","title":"How to move a mouse smoothly throughout the screen by using java?","body":"<p>To start off, let's just write out an empty method where the parameters are as you defined in your question.</p>\n\n<pre><code>public void mouseGlide(int x1, int y1, int x2, int y2, int t, int n) {\n\n}\n</code></pre>\n\n<p>Next, let's create a Robot object and also calculate 3 pieces of information that'll help your future calculations. Don't forget to catch the exception from instantiating Robot.</p>\n\n<pre><code>Robot r = new Robot();\ndouble dx = (x2 - x1) / ((double) n);\ndouble dy = (y2 - y1) / ((double) n);\ndouble dt = t / ((double) n);\n</code></pre>\n\n<p><code>dx</code> represents the difference in your mouse's x coordinate everytime it moves while gliding. Basically it's the total move distance divided into <code>n</code> steps. Same thing with <code>dy</code> except with the y coordinate. <code>dt</code> is the total glide time divided into <code>n</code> steps.</p>\n\n<p>Finally, construct a loop that executes <code>n</code> times, each time moving the mouse closer to the final location (taking steps of (dx, dy)). Make the thread sleep for <code>dt</code> milliseconds during each execution. The larger your <code>n</code> is, the smoother the glide will look.</p>\n\n<hr>\n\n<p>Final result:</p>\n\n<pre><code>public void mouseGlide(int x1, int y1, int x2, int y2, int t, int n) {\n    try {\n        Robot r = new Robot();\n        double dx = (x2 - x1) / ((double) n);\n        double dy = (y2 - y1) / ((double) n);\n        double dt = t / ((double) n);\n        for (int step = 1; step &lt;= n; step++) {\n            Thread.sleep((int) dt);\n            r.mouseMove((int) (x1 + dx * step), (int) (y1 + dy * step));\n        }\n    } catch (AWTException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15100066,"reputation":66,"user_id":10897346,"display_name":"Albert Lipaev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1595954441,"creation_date":1547233408,"answer_id":54152550,"question_id":9387483,"body_markdown":"For all those who have been struggling with the programming as I did before, this is how you implement this method and use it correctly: \r\n\r\n```java\r\n    public class gliding_the_mouse {\r\n\r\n        public void mouseGlide(int x1, int y1, int x2, int y2, int t, int n) {\r\n            try {\r\n                Robot r = new Robot();\r\n                double dx = (x2 - x1) / ((double) n);\r\n                double dy = (y2 - y1) / ((double) n);\r\n                double dt = t / ((double) n);\r\n                for (int step = 1; step &lt;= n; step++) {\r\n                    Thread.sleep((int) dt);\r\n                    r.mouseMove((int) (x1 + dx * step), (int) (y1 + dy * step));\r\n                }\r\n            } catch (AWTException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            } \r\n        }    \r\n        public static void main (String[] args) { // program initialization\r\n            gliding_the_mouse x = new gliding_the_mouse(); // we declare what are we are going to use\r\n    \r\n            x.mouseGlide(400,500,700,700,5000,10000); // the smaller the time value, the faster the mouse glides. \r\n\r\n        } \r\n    } \r\n```","title":"How to move a mouse smoothly throughout the screen by using java?","body":"<p>For all those who have been struggling with the programming as I did before, this is how you implement this method and use it correctly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class gliding_the_mouse {\n\n        public void mouseGlide(int x1, int y1, int x2, int y2, int t, int n) {\n            try {\n                Robot r = new Robot();\n                double dx = (x2 - x1) / ((double) n);\n                double dy = (y2 - y1) / ((double) n);\n                double dt = t / ((double) n);\n                for (int step = 1; step &lt;= n; step++) {\n                    Thread.sleep((int) dt);\n                    r.mouseMove((int) (x1 + dx * step), (int) (y1 + dy * step));\n                }\n            } catch (AWTException e) {\n                e.printStackTrace();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } \n        }    \n        public static void main (String[] args) { // program initialization\n            gliding_the_mouse x = new gliding_the_mouse(); // we declare what are we are going to use\n    \n            x.mouseGlide(400,500,700,700,5000,10000); // the smaller the time value, the faster the mouse glides. \n\n        } \n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638940544,"creation_date":1638940544,"answer_id":70270279,"question_id":9387483,"body_markdown":"Using no. of steps may not be ideal in every situation. Below is the code which moves the mouse by some given pixel amount.\r\n\r\nThe idea of this logic, is we provide the start point and end point and:\r\n- we get the straight line equation for the two points\r\n- we identify the points (pixel jump) along the line\r\n- we move the mouse to each idenfied point on the line using a very minimal delay to replicate the general mouse movement.\r\n\r\n```\r\n/**\r\n * Moves mouse from (x1,y1) to (x2, y2).\r\n *\r\n * @param x1 initial x\r\n * @param y1 initial y\r\n * @param x2 x\r\n * @param y2 y\r\n */\r\nprivate static void moveTo(final int x1, final int y1, final int x2, final int y2) {\r\n    int pixelJump = 10;\r\n    final double xSqu = (x2 - x1) * (x2 - x1);\r\n    final double ySqu = (y2 - y1) * (y2 - y1);\r\n    final double lineLength = Math.sqrt(xSqu + ySqu);\r\n    double dt = 0;\r\n    while (dt &lt; lineLength) {\r\n        dt += pixelJump;\r\n        final double t = dt / lineLength;\r\n        final int dx = (int) ((1 - t) * x1 + t * x2);\r\n        final int dy = (int) ((1 - t) * y1 + t * y2);\r\n        r.mouseMove(dx, dy);\r\n        r.delay(1); // Increase this number if you need to delay the mouse movement\r\n    }\r\n    r.mouseMove(x2, y2);\r\n}\r\n```","title":"How to move a mouse smoothly throughout the screen by using java?","body":"<p>Using no. of steps may not be ideal in every situation. Below is the code which moves the mouse by some given pixel amount.</p>\n<p>The idea of this logic, is we provide the start point and end point and:</p>\n<ul>\n<li>we get the straight line equation for the two points</li>\n<li>we identify the points (pixel jump) along the line</li>\n<li>we move the mouse to each idenfied point on the line using a very minimal delay to replicate the general mouse movement.</li>\n</ul>\n<pre><code>/**\n * Moves mouse from (x1,y1) to (x2, y2).\n *\n * @param x1 initial x\n * @param y1 initial y\n * @param x2 x\n * @param y2 y\n */\nprivate static void moveTo(final int x1, final int y1, final int x2, final int y2) {\n    int pixelJump = 10;\n    final double xSqu = (x2 - x1) * (x2 - x1);\n    final double ySqu = (y2 - y1) * (y2 - y1);\n    final double lineLength = Math.sqrt(xSqu + ySqu);\n    double dt = 0;\n    while (dt &lt; lineLength) {\n        dt += pixelJump;\n        final double t = dt / lineLength;\n        final int dx = (int) ((1 - t) * x1 + t * x2);\n        final int dy = (int) ((1 - t) * y1 + t * y2);\n        r.mouseMove(dx, dy);\n        r.delay(1); // Increase this number if you need to delay the mouse movement\n    }\n    r.mouseMove(x2, y2);\n}\n</code></pre>\n"}],"owner":{"account_id":1244157,"reputation":75,"user_id":1205958,"accept_rate":0,"display_name":"user1205958"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15017,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1638940544,"creation_date":1329870648,"question_id":9387483,"body_markdown":"\r\nThere is a mouseMove()method that makes the pointer jump to that location. I want to be able to make the mouse move smoothly throughout the screen. I need to write a method named mouseGLide() which takes a start x, start y, end x, end y, the total time the gliding should take, and the number of steps to make during the glide. It should animate the mouse pointer by moving from (start x, start y) to (end x, start y) in n steps. The total glide should take t milliseconds.\r\n\r\nI don&#39;t  know how to get started can anyone help me get started on this? Can anyone just tell me what steps I need to do in order to make this problem work.","title":"How to move a mouse smoothly throughout the screen by using java?","body":"<p>There is a mouseMove()method that makes the pointer jump to that location. I want to be able to make the mouse move smoothly throughout the screen. I need to write a method named mouseGLide() which takes a start x, start y, end x, end y, the total time the gliding should take, and the number of steps to make during the glide. It should animate the mouse pointer by moving from (start x, start y) to (end x, start y) in n steps. The total glide should take t milliseconds.</p>\n\n<p>I don't  know how to get started can anyone help me get started on this? Can anyone just tell me what steps I need to do in order to make this problem work.</p>\n"},{"tags":["java","loops","nested-loops"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1638934006,"post_id":70269531,"comment_id":124217598,"body_markdown":"This is one of those times when a piece of paper and pen is going to be of more help. You start in a room (entrance), it has a 1 or more exits.  You need to ascertain if you&#39;ve previously visited any of the rooms, if not, just pick one and jump in one and basically repeat until you get to a dead end.  If you can&#39;t go any further, back track until you can find another room to visit, always avoiding the &quot;visited&quot; rooms","body":"This is one of those times when a piece of paper and pen is going to be of more help. You start in a room (entrance), it has a 1 or more exits.  You need to ascertain if you&#39;ve previously visited any of the rooms, if not, just pick one and jump in one and basically repeat until you get to a dead end.  If you can&#39;t go any further, back track until you can find another room to visit, always avoiding the &quot;visited&quot; rooms"},{"owner":{"account_id":23143746,"reputation":25,"user_id":17246793,"display_name":"Ferret-2742"},"score":0,"creation_date":1638934228,"post_id":70269531,"comment_id":124217638,"body_markdown":"Thanks, I am just not sure how I an supposed to implement it.","body":"Thanks, I am just not sure how I an supposed to implement it."},{"owner":{"account_id":48169,"reputation":1080,"user_id":142979,"accept_rate":93,"display_name":"Brian Stinar"},"score":0,"creation_date":1638934307,"post_id":70269531,"comment_id":124217653,"body_markdown":"AFTER you run through this with a pen and paper (like suggested above) I think you&#39;ll want to represent this as a graph, and then run graph algorithms on this graph, like Dijkstra&#39;s shortest path algorithm. There might not always be a solution. But look for &quot;Dijkstra&#39;s Java&quot; and &quot;Dijkstra&#39;s Graph Java&quot; on Google to find a solution you understand.","body":"AFTER you run through this with a pen and paper (like suggested above) I think you&#39;ll want to represent this as a graph, and then run graph algorithms on this graph, like Dijkstra&#39;s shortest path algorithm. There might not always be a solution. But look for &quot;Dijkstra&#39;s Java&quot; and &quot;Dijkstra&#39;s Graph Java&quot; on Google to find a solution you understand."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638935633,"post_id":70269531,"comment_id":124217888,"body_markdown":"You might also consider making use of something like [GeeksForGeeks, backtacking](https://www.geeksforgeeks.org/the-knights-tour-problem-backtracking-1/) examples.  I implemented a variation of the &quot;rat maze&quot; recently and based on your example, it would appear to be a good match.  Although it does make use of recursion, I was able to generate a basic result of your problem without it","body":"You might also consider making use of something like <a href=\"https://www.geeksforgeeks.org/the-knights-tour-problem-backtracking-1/\" rel=\"nofollow noreferrer\">GeeksForGeeks, backtacking</a> examples.  I implemented a variation of the &quot;rat maze&quot; recently and based on your example, it would appear to be a good match.  Although it does make use of recursion, I was able to generate a basic result of your problem without it"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1638935811,"post_id":70269531,"comment_id":124217915,"body_markdown":"We can&#39;t solve this problem for you.  The struggle (as painful as it is) will help you better understand how to solve other problems in the future.  For example, in my test, I made use of a `LinkedList` to keep track of the &quot;good&quot; path, as it allowed me use it effectively use it as LIFO queue, as well as a `List` to keep track of all the rooms I&#39;d visited.  These are critical decision points you need to be able to make and understand","body":"We can&#39;t solve this problem for you.  The struggle (as painful as it is) will help you better understand how to solve other problems in the future.  For example, in my test, I made use of a <code>LinkedList</code> to keep track of the &quot;good&quot; path, as it allowed me use it effectively use it as LIFO queue, as well as a <code>List</code> to keep track of all the rooms I&#39;d visited.  These are critical decision points you need to be able to make and understand"},{"owner":{"account_id":23143746,"reputation":25,"user_id":17246793,"display_name":"Ferret-2742"},"score":0,"creation_date":1638936780,"post_id":70269531,"comment_id":124218082,"body_markdown":"Thanks, It is just that I don&#39;t have much time to do it.  Am I correct in my code above  just needs to be added to, or will I have to start over.","body":"Thanks, It is just that I don&#39;t have much time to do it.  Am I correct in my code above  just needs to be added to, or will I have to start over."}],"answers":[{"tags":[],"owner":{"account_id":189428,"reputation":30867,"user_id":4790871,"accept_rate":99,"display_name":"David Parks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638934491,"creation_date":1638934491,"answer_id":70269621,"question_id":70269531,"body_markdown":"You need to implement an algorithm to find the path. There are a number of choices of algorithms that work for this kind of problem. \r\n\r\nIf you don&#39;t care about the efficiency then a breadth first search is probably the easiest to implement. There are good examples already on stack overflow:\r\n\r\nhttps://stackoverflow.com/questions/41789767/finding-the-shortest-path-nodes-with-breadth-first-search/48260217\r\n\r\nhttps://stackoverflow.com/questions/2505431/breadth-first-search-and-depth-first-search/2508261\r\n\r\nIf you care about efficiency of your algorithm (e.g. you want it to work with progressively larger graphs) you&#39;ll want to use a graph algorithm such as [Dijkstra&#39;s shortest path][1]. \r\n\r\nThere are many tutorials on using this algorithm, here is one such Java based tutorial.\r\n\r\nhttps://www.geeksforgeeks.org/dijkstras-shortest-path-algorithm-in-java-using-priorityqueue/\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm","title":"Solving a maze with HashMap","body":"<p>You need to implement an algorithm to find the path. There are a number of choices of algorithms that work for this kind of problem.</p>\n<p>If you don't care about the efficiency then a breadth first search is probably the easiest to implement. There are good examples already on stack overflow:</p>\n<p><a href=\"https://stackoverflow.com/questions/41789767/finding-the-shortest-path-nodes-with-breadth-first-search/48260217\">Finding the shortest path nodes with breadth first search</a></p>\n<p><a href=\"https://stackoverflow.com/questions/2505431/breadth-first-search-and-depth-first-search/2508261\">Breadth First Search and Depth First Search</a></p>\n<p>If you care about efficiency of your algorithm (e.g. you want it to work with progressively larger graphs) you'll want to use a graph algorithm such as <a href=\"https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm\" rel=\"nofollow noreferrer\">Dijkstra's shortest path</a>.</p>\n<p>There are many tutorials on using this algorithm, here is one such Java based tutorial.</p>\n<p><a href=\"https://www.geeksforgeeks.org/dijkstras-shortest-path-algorithm-in-java-using-priorityqueue/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/dijkstras-shortest-path-algorithm-in-java-using-priorityqueue/</a></p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638940178,"creation_date":1638940178,"answer_id":70270241,"question_id":70269531,"body_markdown":"So what you, basically, have is something like...\r\n\r\n                +----+----+\r\n    Entrance -&gt; | R1 | R4 |\r\n                +----+----+\r\n                | R2 | R3 | -&gt; Exit\r\n                +----+----+\r\n\r\nYou need to find your way to `R3` (where the exit is)\r\n\r\nSo, we can look at the problem, something like this.\r\n\r\nWe start at the `entrance`\r\n\r\n    +--------------+-----------------+------+---------+\r\n    | Current Room | Available Exits | Path | History |\r\n    +--------------+-----------------+------+---------+\r\n    | Entrance     | R1              |      |         |\r\n    +--------------+-----------------+------+---------+\r\n\r\nAdd the current room to the history\r\n\r\n    +--------------+-----------------+------+----------+\r\n    | Current Room | Available Exits | Path | History  |\r\n    +--------------+-----------------+------+----------+\r\n    | Entrance     | R1              |      | Entrance |\r\n    +--------------+-----------------+------+----------+\r\n\r\nDoes it contain `Exit`?  No, then let&#39;s find a room to goto, in this case, `R1` is our only choice, let&#39;s got to `R1`.  Add `Entrance` to our path\r\n\r\n    +--------------+------------------+----------+----------+\r\n    | Current Room | Available Exits  |   Path   | History  |\r\n    +--------------+------------------+----------+----------+\r\n    | R1           | Entrance, R2, R4 | Entrance | Entrance |\r\n    +--------------+------------------+----------+----------+\r\n\r\nDoes it contain `Exit`?  No.  Okay, we need to remove all rooms we&#39;ve already visited.  That leaves us with `R2` and `R4`, doesn&#39;t matter which we pick.  \r\n\r\nAdd the current room to the history and the path\r\n\r\n    +--------------+------------------+-------------+-------------+\r\n    | Current Room | Available Exits  |    Path     |   History   |\r\n    +--------------+------------------+-------------+-------------+\r\n    | R1           | Entrance, R2, R4 | Entrance,R1 | Entrance,R1 |\r\n    +--------------+------------------+-------------+-------------+\r\n\r\nAnd let&#39;s go to `R4`\r\n\r\n    +--------------+-----------------+-------------+-------------+\r\n    | Current Room | Available Exits |    Path     |   History   |\r\n    +--------------+-----------------+-------------+-------------+\r\n    | R4           | R1, R3          | Entrance,R1 | Entrance,R1 |\r\n    +--------------+-----------------+-------------+-------------+\r\n\r\nDoes it contain `Exit`?  No.  We&#39;ve already been too `R1`, so that leaves us with `R3`.  \r\n\r\nAdd `R4` to our path and history\r\n\r\n    +--------------+-----------------+----------------+----------------+\r\n    | Current Room | Available Exits |      Path      |    History     |\r\n    +--------------+-----------------+----------------+----------------+\r\n    | R4           | R1, R3          | Entrance,R1,R4 | Entrance,R1,R4 |\r\n    +--------------+-----------------+----------------+----------------+\r\n\r\nAnd let&#39;s go to `R3`\r\n\r\n    +--------------+-----------------+----------------+----------------+\r\n    | Current Room | Available Exits |      Path      |    History     |\r\n    +--------------+-----------------+----------------+----------------+\r\n    | R3           | R2, R4, Exit    | Entrance,R2,R4 | Entrance,R2,R4 |\r\n    +--------------+-----------------+----------------+----------------+\r\n\r\nDoes it contain `Exit`?  YES!!! \r\n\r\nAdd it to our path and lets scamper!!\r\n\r\n    +--------------+-----------------+---------------------+---------------------+\r\n    | Current Room | Available Exits |        Path         |       History       |\r\n    +--------------+-----------------+---------------------+---------------------+\r\n    | R3           | R2, R4, Exit    | Entrance,R2,R4,Exit | Entrance,R2,R4,Exit |\r\n    +--------------+-----------------+---------------------+---------------------+\r\n\r\nSo, your path through the &quot;maze&quot; went `Entrance -&gt; R2 -&gt; R4 -&gt; Exit` and we didn&#39;t even need to backtrace!\r\n\r\nNow, there is a pattern to the above workflow, see if you can pick out.  Try choosing a different room each time and see where it takes you.\r\n\r\nTechnically, you don&#39;t need the history, as you are unlikely to ever back track, but if the maze becomes more complex, it will come in handy, because if you do backtrace, you&#39;d pop the last element off the path, but the history will remind you not to go that way again ;)\r\n\r\nHonestly, I think desk checking is so underrated as a concept, my wife gets furious with me because I have dozens of notes books laying around, all with different scribblings of different ideas in them, all unrelated, so I need a note book for each separate idea &#128521;&#129315;","title":"Solving a maze with HashMap","body":"<p>So what you, basically, have is something like...</p>\n<pre><code>            +----+----+\nEntrance -&gt; | R1 | R4 |\n            +----+----+\n            | R2 | R3 | -&gt; Exit\n            +----+----+\n</code></pre>\n<p>You need to find your way to <code>R3</code> (where the exit is)</p>\n<p>So, we can look at the problem, something like this.</p>\n<p>We start at the <code>entrance</code></p>\n<pre><code>+--------------+-----------------+------+---------+\n| Current Room | Available Exits | Path | History |\n+--------------+-----------------+------+---------+\n| Entrance     | R1              |      |         |\n+--------------+-----------------+------+---------+\n</code></pre>\n<p>Add the current room to the history</p>\n<pre><code>+--------------+-----------------+------+----------+\n| Current Room | Available Exits | Path | History  |\n+--------------+-----------------+------+----------+\n| Entrance     | R1              |      | Entrance |\n+--------------+-----------------+------+----------+\n</code></pre>\n<p>Does it contain <code>Exit</code>?  No, then let's find a room to goto, in this case, <code>R1</code> is our only choice, let's got to <code>R1</code>.  Add <code>Entrance</code> to our path</p>\n<pre><code>+--------------+------------------+----------+----------+\n| Current Room | Available Exits  |   Path   | History  |\n+--------------+------------------+----------+----------+\n| R1           | Entrance, R2, R4 | Entrance | Entrance |\n+--------------+------------------+----------+----------+\n</code></pre>\n<p>Does it contain <code>Exit</code>?  No.  Okay, we need to remove all rooms we've already visited.  That leaves us with <code>R2</code> and <code>R4</code>, doesn't matter which we pick.</p>\n<p>Add the current room to the history and the path</p>\n<pre><code>+--------------+------------------+-------------+-------------+\n| Current Room | Available Exits  |    Path     |   History   |\n+--------------+------------------+-------------+-------------+\n| R1           | Entrance, R2, R4 | Entrance,R1 | Entrance,R1 |\n+--------------+------------------+-------------+-------------+\n</code></pre>\n<p>And let's go to <code>R4</code></p>\n<pre><code>+--------------+-----------------+-------------+-------------+\n| Current Room | Available Exits |    Path     |   History   |\n+--------------+-----------------+-------------+-------------+\n| R4           | R1, R3          | Entrance,R1 | Entrance,R1 |\n+--------------+-----------------+-------------+-------------+\n</code></pre>\n<p>Does it contain <code>Exit</code>?  No.  We've already been too <code>R1</code>, so that leaves us with <code>R3</code>.</p>\n<p>Add <code>R4</code> to our path and history</p>\n<pre><code>+--------------+-----------------+----------------+----------------+\n| Current Room | Available Exits |      Path      |    History     |\n+--------------+-----------------+----------------+----------------+\n| R4           | R1, R3          | Entrance,R1,R4 | Entrance,R1,R4 |\n+--------------+-----------------+----------------+----------------+\n</code></pre>\n<p>And let's go to <code>R3</code></p>\n<pre><code>+--------------+-----------------+----------------+----------------+\n| Current Room | Available Exits |      Path      |    History     |\n+--------------+-----------------+----------------+----------------+\n| R3           | R2, R4, Exit    | Entrance,R2,R4 | Entrance,R2,R4 |\n+--------------+-----------------+----------------+----------------+\n</code></pre>\n<p>Does it contain <code>Exit</code>?  YES!!!</p>\n<p>Add it to our path and lets scamper!!</p>\n<pre><code>+--------------+-----------------+---------------------+---------------------+\n| Current Room | Available Exits |        Path         |       History       |\n+--------------+-----------------+---------------------+---------------------+\n| R3           | R2, R4, Exit    | Entrance,R2,R4,Exit | Entrance,R2,R4,Exit |\n+--------------+-----------------+---------------------+---------------------+\n</code></pre>\n<p>So, your path through the &quot;maze&quot; went <code>Entrance -&gt; R2 -&gt; R4 -&gt; Exit</code> and we didn't even need to backtrace!</p>\n<p>Now, there is a pattern to the above workflow, see if you can pick out.  Try choosing a different room each time and see where it takes you.</p>\n<p>Technically, you don't need the history, as you are unlikely to ever back track, but if the maze becomes more complex, it will come in handy, because if you do backtrace, you'd pop the last element off the path, but the history will remind you not to go that way again ;)</p>\n<p>Honestly, I think desk checking is so underrated as a concept, my wife gets furious with me because I have dozens of notes books laying around, all with different scribblings of different ideas in them, all unrelated, so I need a note book for each separate idea ðŸ˜‰ðŸ¤£</p>\n"}],"owner":{"account_id":23143746,"reputation":25,"user_id":17246793,"display_name":"Ferret-2742"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1638940178,"creation_date":1638933654,"question_id":70269531,"body_markdown":"I am struggling to find a way to solve a maze. The key for the HashMap is a room and the value is a list of rooms you can access from it.\r\n```\r\nMap&lt;String, String&gt; map ={Entrance=[R1], Room1=[R2,R4], R2=[R1,R3], R3=[R2,R4,Exit], R4=[R1,R3]}\r\n```\r\n each Rn is a room.\r\n```\r\nList&lt;String&gt; key = map.get(&quot;Entrance&quot;);\r\nList&lt;String&gt; path = new List&lt;&gt;();\r\nStack&lt;String&gt; visited = new Stack&lt;&gt;();\r\nvisited.add(&quot;Entrance&quot;);\r\nfor (String x : key){\r\n   if (!visited.contains(x))\r\n      path.add(x);\r\n   else\r\n      return path;\r\n}\r\n```\r\nI know I should be doing some sort of backtracking, but don&#39;t know where to go from here. I am not sure how to get it to return a list of rooms so it is a path to the exit.","title":"Solving a maze with HashMap","body":"<p>I am struggling to find a way to solve a maze. The key for the HashMap is a room and the value is a list of rooms you can access from it.</p>\n<pre><code>Map&lt;String, String&gt; map ={Entrance=[R1], Room1=[R2,R4], R2=[R1,R3], R3=[R2,R4,Exit], R4=[R1,R3]}\n</code></pre>\n<p>each Rn is a room.</p>\n<pre><code>List&lt;String&gt; key = map.get(&quot;Entrance&quot;);\nList&lt;String&gt; path = new List&lt;&gt;();\nStack&lt;String&gt; visited = new Stack&lt;&gt;();\nvisited.add(&quot;Entrance&quot;);\nfor (String x : key){\n   if (!visited.contains(x))\n      path.add(x);\n   else\n      return path;\n}\n</code></pre>\n<p>I know I should be doing some sort of backtracking, but don't know where to go from here. I am not sure how to get it to return a list of rooms so it is a path to the exit.</p>\n"},{"tags":["java","javafx","textfield"],"answers":[{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612823895,"creation_date":1612823895,"answer_id":66110393,"question_id":66109380,"body_markdown":"One issue i can clearly notice is with the binding of contentDisplayProperty. Is it that you want the textField only when you edit? if that is the case you need to bind with the readonly editing property instead of editable property.\r\n\r\n    contentDisplayProperty().bind(Bindings\r\n                        .when(editingProperty())\r\n                        .then(ContentDisplay.GRAPHIC_ONLY)\r\n                        .otherwise(ContentDisplay.TEXT_ONLY)\r\n                );\r\n\r\nBelow is the modified cell implementation that can work. (atleast it works for me :-))\r\n\r\n    class CellClassTextFieldString&lt;T&gt; extends TableCell&lt;T, String&gt; {\r\n            private TextField textField;\r\n            private final int maxLen;\r\n    \r\n            public CellClassTextFieldString(TableColumn&lt;T, String&gt; stringCol, Integer maxLen) {\r\n                this.maxLen = maxLen;\r\n                editableProperty().bind(stringCol.editableProperty());\r\n                contentDisplayProperty().bind(Bindings\r\n                        .when(editingProperty())\r\n                        .then(ContentDisplay.GRAPHIC_ONLY)\r\n                        .otherwise(ContentDisplay.TEXT_ONLY)\r\n                );\r\n            }\r\n    \r\n            @Override\r\n            protected void updateItem(String strInput, boolean empty) {\r\n                System.out.println(&quot;updateItem&quot;);\r\n                super.updateItem(strInput, empty);\r\n                if (empty) {\r\n                    setText(null);\r\n                    setGraphic(null);\r\n                } else {\r\n                    if (isEditing()) {\r\n                        if (textField != null) {\r\n                            textField.setText(getItem());\r\n                        }\r\n                        setGraphic(textField);\r\n                    } else {\r\n                        setText(getItem());\r\n                    }\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public final void cancelEdit() {\r\n                super.cancelEdit();\r\n                setText(getItem());\r\n            }\r\n    \r\n            @Override\r\n            public final void commitEdit(final String newValue) {\r\n                super.commitEdit(newValue);\r\n            }\r\n    \r\n             @Override\r\n            public final void startEdit() {\r\n                 super.startEdit();\r\n                 if (textField == null) {\r\n                     createTextField();\r\n                 }\r\n                 setGraphic(textField);\r\n                 textField.setText(getItem());\r\n                 textField.selectAll();\r\n                 textField.requestFocus();\r\n            }\r\n    \r\n            private void createTextField() {\r\n                this.textField = new TextField();\r\n                this.textField.setTextFormatter(new TextFormatter&lt;&gt;(new StringConverter&lt;String&gt;() {\r\n                    @Override\r\n                    public String toString(String object) {\r\n                        if (object == null) return &quot;&quot;;\r\n    \r\n                        if (object.length() &gt; maxLen) {\r\n                            return object.substring(0, maxLen);\r\n                        } else {\r\n                            return object;\r\n                        }\r\n                    }\r\n    \r\n                    @Override\r\n                    public String fromString(String string) {\r\n                        if (string == null) {\r\n                            return &quot;&quot;;\r\n                        } else {\r\n                            if (string.length() &gt; maxLen) {\r\n                                return string.substring(0, maxLen);\r\n                            } else {\r\n                                return string;\r\n                            }\r\n                        }\r\n                    }\r\n                }));\r\n    \r\n                this.textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                    if (!newValue) {\r\n                        System.out.println(&quot;lost focus&quot;);\r\n                        commitEdit(textField.getText());\r\n                    }\r\n                });\r\n    \r\n                this.textField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                    if (newValue.length() &gt; maxLen) {\r\n                        textField.setText(oldValue);\r\n                    }\r\n                });\r\n    \r\n                this.textField.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n                    @Override\r\n                    public void handle(KeyEvent evt) {\r\n                        if (KeyCode.ESCAPE == evt.getCode()) {\r\n                            System.out.println(&quot;cancel edit&quot;);\r\n                            cancelEdit();\r\n                        }\r\n                        if (KeyCode.ENTER == evt.getCode() || KeyCode.TAB == evt.getCode()) {\r\n                            System.out.println(&quot;commit edit&quot;);\r\n                            commitEdit(textField.getText());\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\nAnd you can update your data as below:\r\n\r\n    columnCourse.setOnEditCommit(e -&gt; {\r\n                System.out.println(&quot;Commit in Controller &quot;);\r\n                ( e.getTableView().getItems().get(\r\n                        e.getTablePosition().getRow())\r\n                ).set&lt;Name&gt;(e.getNewValue());\r\n            });","title":"Universal TextField for TableView","body":"<p>One issue i can clearly notice is with the binding of contentDisplayProperty. Is it that you want the textField only when you edit? if that is the case you need to bind with the readonly editing property instead of editable property.</p>\n<pre><code>contentDisplayProperty().bind(Bindings\n                    .when(editingProperty())\n                    .then(ContentDisplay.GRAPHIC_ONLY)\n                    .otherwise(ContentDisplay.TEXT_ONLY)\n            );\n</code></pre>\n<p>Below is the modified cell implementation that can work. (atleast it works for me :-))</p>\n<pre><code>class CellClassTextFieldString&lt;T&gt; extends TableCell&lt;T, String&gt; {\n        private TextField textField;\n        private final int maxLen;\n\n        public CellClassTextFieldString(TableColumn&lt;T, String&gt; stringCol, Integer maxLen) {\n            this.maxLen = maxLen;\n            editableProperty().bind(stringCol.editableProperty());\n            contentDisplayProperty().bind(Bindings\n                    .when(editingProperty())\n                    .then(ContentDisplay.GRAPHIC_ONLY)\n                    .otherwise(ContentDisplay.TEXT_ONLY)\n            );\n        }\n\n        @Override\n        protected void updateItem(String strInput, boolean empty) {\n            System.out.println(&quot;updateItem&quot;);\n            super.updateItem(strInput, empty);\n            if (empty) {\n                setText(null);\n                setGraphic(null);\n            } else {\n                if (isEditing()) {\n                    if (textField != null) {\n                        textField.setText(getItem());\n                    }\n                    setGraphic(textField);\n                } else {\n                    setText(getItem());\n                }\n            }\n        }\n\n        @Override\n        public final void cancelEdit() {\n            super.cancelEdit();\n            setText(getItem());\n        }\n\n        @Override\n        public final void commitEdit(final String newValue) {\n            super.commitEdit(newValue);\n        }\n\n         @Override\n        public final void startEdit() {\n             super.startEdit();\n             if (textField == null) {\n                 createTextField();\n             }\n             setGraphic(textField);\n             textField.setText(getItem());\n             textField.selectAll();\n             textField.requestFocus();\n        }\n\n        private void createTextField() {\n            this.textField = new TextField();\n            this.textField.setTextFormatter(new TextFormatter&lt;&gt;(new StringConverter&lt;String&gt;() {\n                @Override\n                public String toString(String object) {\n                    if (object == null) return &quot;&quot;;\n\n                    if (object.length() &gt; maxLen) {\n                        return object.substring(0, maxLen);\n                    } else {\n                        return object;\n                    }\n                }\n\n                @Override\n                public String fromString(String string) {\n                    if (string == null) {\n                        return &quot;&quot;;\n                    } else {\n                        if (string.length() &gt; maxLen) {\n                            return string.substring(0, maxLen);\n                        } else {\n                            return string;\n                        }\n                    }\n                }\n            }));\n\n            this.textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {\n                if (!newValue) {\n                    System.out.println(&quot;lost focus&quot;);\n                    commitEdit(textField.getText());\n                }\n            });\n\n            this.textField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n                if (newValue.length() &gt; maxLen) {\n                    textField.setText(oldValue);\n                }\n            });\n\n            this.textField.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n                @Override\n                public void handle(KeyEvent evt) {\n                    if (KeyCode.ESCAPE == evt.getCode()) {\n                        System.out.println(&quot;cancel edit&quot;);\n                        cancelEdit();\n                    }\n                    if (KeyCode.ENTER == evt.getCode() || KeyCode.TAB == evt.getCode()) {\n                        System.out.println(&quot;commit edit&quot;);\n                        commitEdit(textField.getText());\n                    }\n                }\n            });\n        }\n    }\n</code></pre>\n<p>And you can update your data as below:</p>\n<pre><code>columnCourse.setOnEditCommit(e -&gt; {\n            System.out.println(&quot;Commit in Controller &quot;);\n            ( e.getTableView().getItems().get(\n                    e.getTablePosition().getRow())\n            ).set&lt;Name&gt;(e.getNewValue());\n        });\n</code></pre>\n"}],"owner":{"account_id":20664657,"reputation":1,"user_id":15171813,"display_name":"Josef Oberstadt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1638939775,"creation_date":1612818442,"question_id":66109380,"body_markdown":"I want to use a class `TextField` for a `TableCell` in JavaFX, which should be used universally.\r\n\r\nI can display the data in TableView, however, the changes do not arrive in the controller and are not being saved in the data class.\r\n\r\nI want to be able to control the behavior from the TableView while interfacing with my class correctly and storing the data.\r\n\r\nAt the moment I can see the values from the data class in TableView and edit them according to the setting in the class, however, I can&#39;t get the data into the data class in the controller.\r\n\r\nHere is my approach so far:\r\n\r\nController\r\n\r\n```java\r\ncolumnCourse.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;CourseName&quot;));\r\ncolumnCourse.setCellFactory(i -&gt; new CellClassTextFieldString(columnCourse, 20));\r\ncolumnCourse.setOnEditCommit(e -&gt; { System.out.println(&quot;Commit in Controller &quot;);; });\r\n```\r\n\r\n\r\nTextFieldClass\r\n\r\n```java\r\npublic class CellClassTextFieldString&lt;T&gt; extends TableCell&lt;T, String&gt; {\r\n    \r\n    private final TextField textField;\r\n    private final int maxLen;\r\n    \r\n    public  CellClassTextFieldString(TableColumn&lt;T, String&gt; stringCol, Integer maxLen) {   \r\n\r\n        this.textField = new TextField();\r\n        this.maxLen = maxLen;\r\n        \r\n        \r\n        this.textField.setTextFormatter(new TextFormatter&lt;&gt;(new StringConverter&lt;String&gt;() {\r\n            \r\n            @Override\r\n            public String toString(String object) {\r\n                if(object == null) return &quot;&quot;;\r\n                \r\n                if (object.length() &gt; maxLen) {\r\n                    return object.substring(0, maxLen);\r\n                } else {\r\n                    return object;\r\n                }\r\n                \r\n            }\r\n\r\n            @Override\r\n            public String fromString(String string) {\r\n               if(string == null) {\r\n                    return &quot;&quot;;\r\n                } else {\r\n                    if (string.length() &gt; maxLen) {\r\n                        return string.substring(0,maxLen);\r\n                    } else {\r\n                        return string;\r\n                    }\r\n                }\r\n            }\r\n            \r\n        }));\r\n        \r\n        \r\n       \r\n    editableProperty().bind(stringCol.editableProperty());\r\n    \r\n        \r\n        \r\n    contentDisplayProperty().bind(Bindings\r\n        .when(editableProperty())\r\n                .then(ContentDisplay.GRAPHIC_ONLY)\r\n                .otherwise(ContentDisplay.TEXT_ONLY)\r\n    );           \r\n        \r\n        setListener () ;\r\n\r\n    }   \r\n    \r\n    \r\n    @Override\r\n    protected void updateItem(String strInput, boolean empty) {\r\n        System.out.println(&quot;updateItem&quot;);\r\n    super.updateItem(strInput, empty);\r\n        \r\n    if(empty) {\r\n            \r\n        setText(null);\r\n        setGraphic(null);\r\n            \r\n    } else {\r\n            \r\n        \r\n        this.textField.setText(strInput);       \r\n        setGraphic(this.textField);\r\n            \r\n        if(strInput == null) {\r\n        setText(&quot;&quot;);\r\n        } else {\r\n        setText(strInput);\r\n        }\r\n    }   \r\n    } \r\n \r\n    \r\n    private void setListener () {\r\n\r\n        this.textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {       \r\n        if(newValue) {\r\n                System.out.println(&quot;get focus&quot;);       \r\n        } else {\r\n                System.out.println(&quot;lost focus&quot;);\r\n                commitEdit(textField.getText());\r\n                \r\n            }\r\n    });\r\n        \r\n        this.textField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n        \r\n\r\n                System.out.println(&quot;comit : &quot; + newValue + &quot;isEditing : &quot; + isEditing());\r\n                if (newValue.length() &gt; maxLen) {\r\n                    textField.setText(oldValue);\r\n                }\r\n    });   \r\n        \r\n        \r\n        this.textField.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n            \r\n            @Override public void handle(KeyEvent evt) {\r\n                \r\n                if (KeyCode.ESCAPE == evt.getCode()) {\r\n                    System.out.println(&quot;cancel edit&quot;);\r\n                    cancelEdit();\r\n                }\r\n                \r\n                if (KeyCode.ENTER == evt.getCode() || KeyCode.TAB == evt.getCode() ) {\r\n                    System.out.println(&quot;commit edit&quot;);\r\n                    commitEdit(textField.getText());\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n","title":"Universal TextField for TableView","body":"<p>I want to use a class <code>TextField</code> for a <code>TableCell</code> in JavaFX, which should be used universally.</p>\n<p>I can display the data in TableView, however, the changes do not arrive in the controller and are not being saved in the data class.</p>\n<p>I want to be able to control the behavior from the TableView while interfacing with my class correctly and storing the data.</p>\n<p>At the moment I can see the values from the data class in TableView and edit them according to the setting in the class, however, I can't get the data into the data class in the controller.</p>\n<p>Here is my approach so far:</p>\n<p>Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>columnCourse.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;CourseName&quot;));\ncolumnCourse.setCellFactory(i -&gt; new CellClassTextFieldString(columnCourse, 20));\ncolumnCourse.setOnEditCommit(e -&gt; { System.out.println(&quot;Commit in Controller &quot;);; });\n</code></pre>\n<p>TextFieldClass</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CellClassTextFieldString&lt;T&gt; extends TableCell&lt;T, String&gt; {\n    \n    private final TextField textField;\n    private final int maxLen;\n    \n    public  CellClassTextFieldString(TableColumn&lt;T, String&gt; stringCol, Integer maxLen) {   \n\n        this.textField = new TextField();\n        this.maxLen = maxLen;\n        \n        \n        this.textField.setTextFormatter(new TextFormatter&lt;&gt;(new StringConverter&lt;String&gt;() {\n            \n            @Override\n            public String toString(String object) {\n                if(object == null) return &quot;&quot;;\n                \n                if (object.length() &gt; maxLen) {\n                    return object.substring(0, maxLen);\n                } else {\n                    return object;\n                }\n                \n            }\n\n            @Override\n            public String fromString(String string) {\n               if(string == null) {\n                    return &quot;&quot;;\n                } else {\n                    if (string.length() &gt; maxLen) {\n                        return string.substring(0,maxLen);\n                    } else {\n                        return string;\n                    }\n                }\n            }\n            \n        }));\n        \n        \n       \n    editableProperty().bind(stringCol.editableProperty());\n    \n        \n        \n    contentDisplayProperty().bind(Bindings\n        .when(editableProperty())\n                .then(ContentDisplay.GRAPHIC_ONLY)\n                .otherwise(ContentDisplay.TEXT_ONLY)\n    );           \n        \n        setListener () ;\n\n    }   \n    \n    \n    @Override\n    protected void updateItem(String strInput, boolean empty) {\n        System.out.println(&quot;updateItem&quot;);\n    super.updateItem(strInput, empty);\n        \n    if(empty) {\n            \n        setText(null);\n        setGraphic(null);\n            \n    } else {\n            \n        \n        this.textField.setText(strInput);       \n        setGraphic(this.textField);\n            \n        if(strInput == null) {\n        setText(&quot;&quot;);\n        } else {\n        setText(strInput);\n        }\n    }   \n    } \n \n    \n    private void setListener () {\n\n        this.textField.focusedProperty().addListener((observable, oldValue, newValue) -&gt; {       \n        if(newValue) {\n                System.out.println(&quot;get focus&quot;);       \n        } else {\n                System.out.println(&quot;lost focus&quot;);\n                commitEdit(textField.getText());\n                \n            }\n    });\n        \n        this.textField.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n        \n\n                System.out.println(&quot;comit : &quot; + newValue + &quot;isEditing : &quot; + isEditing());\n                if (newValue.length() &gt; maxLen) {\n                    textField.setText(oldValue);\n                }\n    });   \n        \n        \n        this.textField.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n            \n            @Override public void handle(KeyEvent evt) {\n                \n                if (KeyCode.ESCAPE == evt.getCode()) {\n                    System.out.println(&quot;cancel edit&quot;);\n                    cancelEdit();\n                }\n                \n                if (KeyCode.ENTER == evt.getCode() || KeyCode.TAB == evt.getCode() ) {\n                    System.out.println(&quot;commit edit&quot;);\n                    commitEdit(textField.getText());\n                }\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","bouncycastle","asn.1"],"answers":[{"tags":[],"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638939120,"creation_date":1638939120,"answer_id":70270115,"question_id":70263987,"body_markdown":"You can nest sequences, i.e. you can build one DERSequence for each entry as you are doing and then add each of them to an outer ASN1EncodableVector and make a final sequence from that. The inner sequences could contain key/val/val if the number of values is fixed at 2 as in your example. Or you could have yet another sequence to hold the values e.g.:\r\n\r\n    SEQUENCE {\r\n      SEQUENCE {\r\n        &quot;p_table&quot;,\r\n        SEQUENCE {\r\n          &quot;p_event/Name&quot;,\r\n          &quot;p_fault/Name&quot;,\r\n        }\r\n      },\r\n      SEQUENCE {\r\n        &quot;s_table&quot;,\r\n        SEQUENCE {\r\n          &quot;s_event/Name&quot;,\r\n          &quot;s_fault/Name&quot;,\r\n          &quot;s_other/Name&quot;,\r\n        }\r\n      },\r\n      // and so on\r\n    }\r\n\r\n","title":"How to add specific &quot;key&quot; to an ASN1EncodableVector in BouncyCastle?","body":"<p>You can nest sequences, i.e. you can build one DERSequence for each entry as you are doing and then add each of them to an outer ASN1EncodableVector and make a final sequence from that. The inner sequences could contain key/val/val if the number of values is fixed at 2 as in your example. Or you could have yet another sequence to hold the values e.g.:</p>\n<pre><code>SEQUENCE {\n  SEQUENCE {\n    &quot;p_table&quot;,\n    SEQUENCE {\n      &quot;p_event/Name&quot;,\n      &quot;p_fault/Name&quot;,\n    }\n  },\n  SEQUENCE {\n    &quot;s_table&quot;,\n    SEQUENCE {\n      &quot;s_event/Name&quot;,\n      &quot;s_fault/Name&quot;,\n      &quot;s_other/Name&quot;,\n    }\n  },\n  // and so on\n}\n</code></pre>\n"}],"owner":{"account_id":17769820,"reputation":93,"user_id":12903733,"display_name":"veila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70270115,"answer_count":1,"score":0,"last_activity_date":1638939120,"creation_date":1638895934,"question_id":70263987,"body_markdown":"So, I asked a similar question [before](https://stackoverflow.com/questions/69977176/how-to-add-asn-1-extensions-before-signing-with-bouncycastle) but the issue has since evolved. So, I&#39;ll give you a whole overview and then I&#39;ll ask the question.\r\n\r\nCurrently, I am reading from a .yml file and parsing through it. I then store the data in a HashMap&lt;String, ArrayList &lt;String&gt; &gt; that looks something like this:\r\n```\r\n[{p_table=[p_event/Name, p_fault/Name]}, \r\n{s_table=[s_event/Name, s_fault/Name]}, \r\n{r_table=[r_event/Name, r_fault/Name]}]\r\n```\r\n\r\nNow, I understand that if I want to create an extension with bouncycastle I first have to add all of my data into an ASN1EncodableVector. What I&#39;m doing is using certificates to tell my IoT things what topics they can subscribe/publish/receive from. Hence, I can do something like this:\r\n\r\n```\r\nwhile(iterator.hasNext()) {\r\n\t\t\tEntry&lt;String, ArrayList&lt;String&gt;&gt; entry = iterator.next();\r\n\t\t\tASN1EncodableVector vector = new ASN1EncodableVector\r\n\r\n\t\t\tfor(String val : entry.getValue()) {\t\t\t\t\r\n\t\t\t\t(vector).add(new DERUTF8String(val));\r\n\t\t\t}\r\n\t\t\tallowedTables.add(new DERSequence(vector));\r\n\t\t}\r\n```\r\nThis will only add the values from the arraylist eg p_event/Name or p_fault/Name, is there a way for me to specify that those two DERUTF8String(s) belong to the p_table? Or is there some sort of identifier I can use when using the .add method?\r\n\r\nSo could the code change from something like this:\r\n``` \r\n(vector).add(new DERUTF8String(val));\r\n```\r\nto:\r\n```\r\n(vector).add(new aConstructorToIdentifyWhatTheUTF8BelongsTo(entry.getKey()), new DERUTF8String(val));\r\n```","title":"How to add specific &quot;key&quot; to an ASN1EncodableVector in BouncyCastle?","body":"<p>So, I asked a similar question <a href=\"https://stackoverflow.com/questions/69977176/how-to-add-asn-1-extensions-before-signing-with-bouncycastle\">before</a> but the issue has since evolved. So, I'll give you a whole overview and then I'll ask the question.</p>\n<p>Currently, I am reading from a .yml file and parsing through it. I then store the data in a HashMap&lt;String, ArrayList  &gt; that looks something like this:</p>\n<pre><code>[{p_table=[p_event/Name, p_fault/Name]}, \n{s_table=[s_event/Name, s_fault/Name]}, \n{r_table=[r_event/Name, r_fault/Name]}]\n</code></pre>\n<p>Now, I understand that if I want to create an extension with bouncycastle I first have to add all of my data into an ASN1EncodableVector. What I'm doing is using certificates to tell my IoT things what topics they can subscribe/publish/receive from. Hence, I can do something like this:</p>\n<pre><code>while(iterator.hasNext()) {\n            Entry&lt;String, ArrayList&lt;String&gt;&gt; entry = iterator.next();\n            ASN1EncodableVector vector = new ASN1EncodableVector\n\n            for(String val : entry.getValue()) {                \n                (vector).add(new DERUTF8String(val));\n            }\n            allowedTables.add(new DERSequence(vector));\n        }\n</code></pre>\n<p>This will only add the values from the arraylist eg p_event/Name or p_fault/Name, is there a way for me to specify that those two DERUTF8String(s) belong to the p_table? Or is there some sort of identifier I can use when using the .add method?</p>\n<p>So could the code change from something like this:</p>\n<pre><code>(vector).add(new DERUTF8String(val));\n</code></pre>\n<p>to:</p>\n<pre><code>(vector).add(new aConstructorToIdentifyWhatTheUTF8BelongsTo(entry.getKey()), new DERUTF8String(val));\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"display_name":"user15256253"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638938286,"creation_date":1638938286,"answer_id":70270023,"question_id":70270009,"body_markdown":"\r\n\r\nIt&#39;s redundant because `import java.util.*;` imports everything inside util, including `Scanner`.","title":"import java.util.*; import java.util.Scanner; I want the meaning of above statements, I am unaware about this statement in java","body":"<p>It's redundant because <code>import java.util.*;</code> imports everything inside util, including <code>Scanner</code>.</p>\n"}],"owner":{"account_id":23583231,"reputation":1,"user_id":17621994,"display_name":"Ajay Sutar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1638938452,"creation_date":1638938183,"question_id":70270009,"body_markdown":"```\r\nimport java.util.*;\r\n\r\nimport java.util.Scanner;\r\n```\r\nI want the meaning of above  statements, I am unaware about this statement in java.","title":"import java.util.*; import java.util.Scanner; I want the meaning of above statements, I am unaware about this statement in java","body":"<pre><code>import java.util.*;\n\nimport java.util.Scanner;\n</code></pre>\n<p>I want the meaning of above  statements, I am unaware about this statement in java.</p>\n"},{"tags":["java","unit-testing","resttemplate","mockrestserviceserver"],"comments":[{"owner":{"account_id":7647173,"reputation":2122,"user_id":5797400,"display_name":"jpllosa"},"score":0,"creation_date":1588883330,"post_id":61045521,"comment_id":109080368,"body_markdown":"`MockRestServiceServer` is used to test a REST client. I believe you want to test your REST service, `DalaLakeRealController`. Take a look at Spring&#39;s `MockMvc`. I think this is what you are looking for.","body":"<code>MockRestServiceServer</code> is used to test a REST client. I believe you want to test your REST service, <code>DalaLakeRealController</code>. Take a look at Spring&#39;s <code>MockMvc</code>. I think this is what you are looking for."},{"owner":{"account_id":10342618,"reputation":1519,"user_id":7628491,"display_name":"Ida Amit"},"score":0,"creation_date":1589178540,"post_id":61045521,"comment_id":109178596,"body_markdown":"Wtih MockMvc you test your controller.  The Stream controller doesn&#39;t belong to my micro-service, In my production code I initiate request to controller which returns Stream. I would like to test my request","body":"Wtih MockMvc you test your controller.  The Stream controller doesn&#39;t belong to my micro-service, In my production code I initiate request to controller which returns Stream. I would like to test my request"}],"answers":[{"tags":[],"owner":{"account_id":7647173,"reputation":2122,"user_id":5797400,"display_name":"jpllosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589184196,"creation_date":1589184196,"answer_id":61724916,"question_id":61045521,"body_markdown":"I hope this will guide you...\r\n\r\n    @Test\r\n    public void whenTopicNotExistsThenTopicNotFound() throws IOException, NakadiException {\r\n        when(eventTypeRepository.findByName(TEST_EVENT_TYPE_NAME)).thenThrow(NoSuchEventTypeException.class);\r\n\r\n        final StreamingResponseBody responseBody = createStreamingResponseBody();\r\n\r\n        final Problem expectedProblem = Problem.valueOf(NOT_FOUND, &quot;topic not found&quot;);\r\n        assertThat(responseToString(responseBody), TestUtils.JSON_TEST_HELPER.matchesObject(expectedProblem));\r\n    }\r\n\r\nGot the above code from: https://www.programcreek.com/java-api-examples/index.php?api=org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBody\r\n\r\nThe idea is to convert the `StreamingResponseBody` into a `String`. Then you can do something like:\r\n\r\n    mockServer.expect(once(), requestTo(&quot;http://localhost:8080/api/downloaddbcsv&quot;))\r\n    .andRespond(withSuccess(responseToString(responseBody), MediaType.APPLICATION_JSON));\r\n\r\nFurthermore, take a look here: https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBodyReturnValueHandlerTests.java\r\n\r\nThe `streamingResponseBody()` and `responseEntity()` test methods convert the response to a`String`.","title":"How to Mock StreamingResponseBody in Testing?","body":"<p>I hope this will guide you...</p>\n\n<pre><code>@Test\npublic void whenTopicNotExistsThenTopicNotFound() throws IOException, NakadiException {\n    when(eventTypeRepository.findByName(TEST_EVENT_TYPE_NAME)).thenThrow(NoSuchEventTypeException.class);\n\n    final StreamingResponseBody responseBody = createStreamingResponseBody();\n\n    final Problem expectedProblem = Problem.valueOf(NOT_FOUND, \"topic not found\");\n    assertThat(responseToString(responseBody), TestUtils.JSON_TEST_HELPER.matchesObject(expectedProblem));\n}\n</code></pre>\n\n<p>Got the above code from: <a href=\"https://www.programcreek.com/java-api-examples/index.php?api=org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBody\" rel=\"nofollow noreferrer\">https://www.programcreek.com/java-api-examples/index.php?api=org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBody</a></p>\n\n<p>The idea is to convert the <code>StreamingResponseBody</code> into a <code>String</code>. Then you can do something like:</p>\n\n<pre><code>mockServer.expect(once(), requestTo(\"http://localhost:8080/api/downloaddbcsv\"))\n.andRespond(withSuccess(responseToString(responseBody), MediaType.APPLICATION_JSON));\n</code></pre>\n\n<p>Furthermore, take a look here: <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBodyReturnValueHandlerTests.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/blob/master/spring-webmvc/src/test/java/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBodyReturnValueHandlerTests.java</a></p>\n\n<p>The <code>streamingResponseBody()</code> and <code>responseEntity()</code> test methods convert the response to a<code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":7583299,"reputation":21,"user_id":5753314,"display_name":"Eli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638938452,"creation_date":1638938452,"answer_id":70270039,"question_id":61045521,"body_markdown":"Although this post is old, this answer might help someone looking for this nowdays.\r\n\r\nThe answer for the question is the Functional Interface (streamingResponseBody) shown in the code below combined with the mock return of the download in the cloudStorageService. \r\n\r\n```\r\n    @Test\r\n    @WithUserDetailsMock(\r\n        email = &quot;participant@localhost&quot;,\r\n        authorities = AuthoritiesConstants.USER,\r\n        cashflowAuthorities = CashflowAuthoritiesConstants.PARTICIPANT\r\n    )\r\n    void testDownloadFileThenSuccess() throws Exception {\r\n        Member loggedMember = memberService.getLoggedMember();\r\n        File file = EntityBuilder.file(loggedMember.getGroup()).build(fileRepository::save);\r\n        SubmittedPayment submittedPayment = EntityBuilder\r\n            .submittedPayment(loggedMember)\r\n            .with(SubmittedPayment::setFile, file)\r\n            .build(submittedPaymentRepository::save);\r\n\r\n        String endpoint = String.format(&quot;/api/payment/submit/%d/file&quot;, submittedPayment.getId());\r\n        byte[] fileBytes = &quot;some content&quot;.getBytes();\r\n        StreamingResponseBody streamingResponseBody = objectStream -&gt; {\r\n            var mockInputStream = new ByteArrayInputStream(fileBytes);\r\n            try (mockInputStream) {\r\n                byte[] bytes = mockInputStream.readAllBytes();\r\n                objectStream.write(bytes, 0, bytes.length);\r\n            }\r\n        };\r\n        doReturn(streamingResponseBody).when(cloudStorageService).download(fileArgumentCaptor.capture());\r\n\r\n        MvcResult response = restTransactionMockMvc.perform(get(endpoint)).andExpect(status().isOk()).andReturn();\r\n\r\n        assertThat(file).isEqualTo(fileArgumentCaptor.getValue());\r\n        assertThat(Arrays.equals(fileBytes, response.getResponse().getContentAsByteArray())).isTrue();\r\n    }\r\n```\r\n","title":"How to Mock StreamingResponseBody in Testing?","body":"<p>Although this post is old, this answer might help someone looking for this nowdays.</p>\n<p>The answer for the question is the Functional Interface (streamingResponseBody) shown in the code below combined with the mock return of the download in the cloudStorageService.</p>\n<pre><code>    @Test\n    @WithUserDetailsMock(\n        email = &quot;participant@localhost&quot;,\n        authorities = AuthoritiesConstants.USER,\n        cashflowAuthorities = CashflowAuthoritiesConstants.PARTICIPANT\n    )\n    void testDownloadFileThenSuccess() throws Exception {\n        Member loggedMember = memberService.getLoggedMember();\n        File file = EntityBuilder.file(loggedMember.getGroup()).build(fileRepository::save);\n        SubmittedPayment submittedPayment = EntityBuilder\n            .submittedPayment(loggedMember)\n            .with(SubmittedPayment::setFile, file)\n            .build(submittedPaymentRepository::save);\n\n        String endpoint = String.format(&quot;/api/payment/submit/%d/file&quot;, submittedPayment.getId());\n        byte[] fileBytes = &quot;some content&quot;.getBytes();\n        StreamingResponseBody streamingResponseBody = objectStream -&gt; {\n            var mockInputStream = new ByteArrayInputStream(fileBytes);\n            try (mockInputStream) {\n                byte[] bytes = mockInputStream.readAllBytes();\n                objectStream.write(bytes, 0, bytes.length);\n            }\n        };\n        doReturn(streamingResponseBody).when(cloudStorageService).download(fileArgumentCaptor.capture());\n\n        MvcResult response = restTransactionMockMvc.perform(get(endpoint)).andExpect(status().isOk()).andReturn();\n\n        assertThat(file).isEqualTo(fileArgumentCaptor.getValue());\n        assertThat(Arrays.equals(fileBytes, response.getResponse().getContentAsByteArray())).isTrue();\n    }\n</code></pre>\n"}],"owner":{"account_id":10342618,"reputation":1519,"user_id":7628491,"display_name":"Ida Amit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4935,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1638938452,"creation_date":1586102968,"question_id":61045521,"body_markdown":"In my production code I need to execute POST command to a controller which response ***StreamingResponseBody***.\r\nA short example of such code is : \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class DalaLakeRealController {\r\n    \r\n        @PostMapping(value = &quot;/downloaddbcsv&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;StreamingResponseBody&gt; downloadDBcsv(@Valid @RequestBody SearchQuery searchRequest) {\r\n            return ResponseEntity.ok()\r\n                    .header(HttpHeaders.CONTENT_TYPE, &quot;application/csv&quot;)\r\n                    .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=demoStream.csv&quot;)\r\n                    .body(\r\n                            get3Lines()\r\n                    );\r\n        }\r\n    \r\n        public StreamingResponseBody get3Lines() {\r\n            StreamingResponseBody streamingResponseBody = new StreamingResponseBody() {\r\n                @Override\r\n                public void writeTo(OutputStream outputStream) throws IOException {\r\n                    outputStream.write(&quot;LineNumber111111111\\n&quot;.getBytes());\r\n                    outputStream.write(&quot;LineNumber222222222\\n&quot;.getBytes());\r\n                    outputStream.write(&quot;LineNumber333333333\\n&quot;.getBytes());\r\n                }\r\n            };\r\n            return streamingResponseBody;\r\n        }\r\n    }\r\n\r\nIn the testing I would like to mock the response from this controller. I have read the following link :\r\n[Using MockRestServiceServer to Test a REST Client][1]   to mock external controllers.\r\n&lt;BR/&gt;But in andRespond of ***mockServer*** it expects ***ClientHttpResponse*** or  ***ResponseCreator*** \r\n\r\n    mockServer.expect(once(), requestTo(&quot;http://localhost:8080/api/downloaddbcsv&quot;))\r\n        .andRespond(withSuccess(&quot;{message : &#39;under construction&#39;}&quot;, MediaType.APPLICATION_JSON));\r\n\r\n\r\nHow do I respond with ***StreamingResponseBody*** in ***MockRestServiceServer***?\r\n\r\n  [1]: https://examples.javacodegeeks.com/enterprise-java/spring/using-mockrestserviceserver-test-rest-client/\r\n","title":"How to Mock StreamingResponseBody in Testing?","body":"<p>In my production code I need to execute POST command to a controller which response <strong><em>StreamingResponseBody</em></strong>.\nA short example of such code is : </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\npublic class DalaLakeRealController {\n\n    @PostMapping(value = \"/downloaddbcsv\", produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;StreamingResponseBody&gt; downloadDBcsv(@Valid @RequestBody SearchQuery searchRequest) {\n        return ResponseEntity.ok()\n                .header(HttpHeaders.CONTENT_TYPE, \"application/csv\")\n                .header(HttpHeaders.CONTENT_DISPOSITION, \"attachment;filename=demoStream.csv\")\n                .body(\n                        get3Lines()\n                );\n    }\n\n    public StreamingResponseBody get3Lines() {\n        StreamingResponseBody streamingResponseBody = new StreamingResponseBody() {\n            @Override\n            public void writeTo(OutputStream outputStream) throws IOException {\n                outputStream.write(\"LineNumber111111111\\n\".getBytes());\n                outputStream.write(\"LineNumber222222222\\n\".getBytes());\n                outputStream.write(\"LineNumber333333333\\n\".getBytes());\n            }\n        };\n        return streamingResponseBody;\n    }\n}\n</code></pre>\n\n<p>In the testing I would like to mock the response from this controller. I have read the following link :\n<a href=\"https://examples.javacodegeeks.com/enterprise-java/spring/using-mockrestserviceserver-test-rest-client/\" rel=\"nofollow noreferrer\">Using MockRestServiceServer to Test a REST Client</a>   to mock external controllers.\n<BR/>But in andRespond of <strong><em>mockServer</em></strong> it expects <strong><em>ClientHttpResponse</em></strong> or  <strong><em>ResponseCreator</em></strong> </p>\n\n<pre><code>mockServer.expect(once(), requestTo(\"http://localhost:8080/api/downloaddbcsv\"))\n    .andRespond(withSuccess(\"{message : 'under construction'}\", MediaType.APPLICATION_JSON));\n</code></pre>\n\n<p>How do I respond with <strong><em>StreamingResponseBody</em></strong> in <strong><em>MockRestServiceServer</em></strong>?</p>\n"},{"tags":["java","excel","csv","office365","dspace"],"comments":[{"owner":{"account_id":9533520,"reputation":4461,"user_id":11573842,"display_name":"Sabito stands with Ukraine"},"score":0,"creation_date":1612370865,"post_id":66030919,"comment_id":116747834,"body_markdown":"Please consider answering your own question on how you solved it... it will be useful to future visitors... also please restore the question to its previous form.","body":"Please consider answering your own question on how you solved it... it will be useful to future visitors... also please restore the question to its previous form."}],"answers":[{"tags":[],"owner":{"account_id":17909620,"reputation":47,"user_id":13012011,"display_name":"Billu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638938199,"creation_date":1612523342,"answer_id":66062175,"question_id":66030919,"body_markdown":"This is only for Window based user.\r\n\r\nPrepared the excel sheet with all the Dublin-core metadata field. then save that excel sheet as CSV UTF-8 (Comma Delimited ad Closed it. Now, Open the same file that you save as CSV UTF-8 with **Open with** Option notepad, not Notepad ++. After Opening that again go to save as option choose **File name** type like yourfilename.csv and **Save as type** option choose all Files then encoding as UTF-8 not UTF-8 with DOM, and save it. Now, Go to you Safbuilder software and run the cmd command script like software path is C:\\Users\\xyz\\SAFBuilder-master\r\nopen the CMD in same software path and run the bat file with use of -c CSVfilepath\\CSVFileName.csv -z\r\n\r\nIt will convert and create a SAF file folder Simple Archive Folder with thumbnail and pdf.\r\nHow to import thumbnail and pdf same with bundle name.\r\nIn first column give the file name and bundle name that separeted by double underscore\r\nblandino.pdf__bundle:ORIGINAL||blandino.jpg__bundle:THUMBNAIL\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qI5yr.png","title":"Why DSpace SAFBuilder import not working for vernacular language like spanish, Urdu, Hindi etc?","body":"<p>This is only for Window based user.</p>\n<p>Prepared the excel sheet with all the Dublin-core metadata field. then save that excel sheet as CSV UTF-8 (Comma Delimited ad Closed it. Now, Open the same file that you save as CSV UTF-8 with <strong>Open with</strong> Option notepad, not Notepad ++. After Opening that again go to save as option choose <strong>File name</strong> type like yourfilename.csv and <strong>Save as type</strong> option choose all Files then encoding as UTF-8 not UTF-8 with DOM, and save it. Now, Go to you Safbuilder software and run the cmd command script like software path is C:\\Users\\xyz\\SAFBuilder-master\nopen the CMD in same software path and run the bat file with use of -c CSVfilepath\\CSVFileName.csv -z</p>\n<p>It will convert and create a SAF file folder Simple Archive Folder with thumbnail and pdf.\nHow to import thumbnail and pdf same with bundle name.\nIn first column give the file name and bundle name that separeted by double underscore\nblandino.pdf__bundle:ORIGINAL||blandino.jpg__bundle:THUMBNAIL</p>\n<p><a href=\"https://i.stack.imgur.com/qI5yr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qI5yr.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20509315,"reputation":1,"user_id":15051439,"display_name":"Sonu Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638938199,"creation_date":1612367228,"question_id":66030919,"body_markdown":"while working on vernacular language in CSV files after importing the file into DSpace using SAF Builder it shows symbols character. My CSV file is UTF-8 Unicode while I open it, there it shows symbol intent of showing in vernacular language.","title":"Why DSpace SAFBuilder import not working for vernacular language like spanish, Urdu, Hindi etc?","body":"<p>while working on vernacular language in CSV files after importing the file into DSpace using SAF Builder it shows symbols character. My CSV file is UTF-8 Unicode while I open it, there it shows symbol intent of showing in vernacular language.</p>\n"},{"tags":["java","git","jenkins","gradle","gradlew"],"answers":[{"tags":[],"owner":{"account_id":20291956,"reputation":199,"user_id":14883431,"display_name":"mAsK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638935366,"creation_date":1638935366,"answer_id":70269709,"question_id":70269582,"body_markdown":"Solved this by commenting the *.jar in gitignore file and added the specific gradle-wrapper.jar to repo","title":"How to add back missing gradle-wrapper.jar to Git repo for Jenkins to do its job","body":"<p>Solved this by commenting the *.jar in gitignore file and added the specific gradle-wrapper.jar to repo</p>\n"}],"owner":{"account_id":20291956,"reputation":199,"user_id":14883431,"display_name":"mAsK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1907,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638935366,"creation_date":1638934099,"question_id":70269582,"body_markdown":"Whenever my Jenkins job clones my project from GitHub, it is not able to run gradlew command due to missing gradle-wrapper.jar under myproject/gradle/wrapper folder. I have to manually copy paste from another source and re-run the Jenkins job. \r\n\r\nSomehow I erroneously had deleted this jar file. The .gitignore file does not detect the newly added jar file either. Due to which I am not able to commit the missing jar to repo. Any suggestion on how to solve this issue.\r\nI am very specific about using gradlew and not gradle\r\nBelow is the .gitignore file\r\n\r\n    HELP.md\r\n    .gradle\r\n    build/\r\n    !gradle/wrapper/gradle-wrapper.jar\r\n    !**/src/main/**/build/\r\n    !**/src/test/**/build/\r\n    \r\n    ### Gradle ###\r\n    .gradle\r\n    build/\r\n    \r\n    # Ignore Gradle GUI config\r\n    gradle-app.setting\r\n    \r\n    # Avoid ignoring Gradle wrapper jar file (.jar files are usually ignored)\r\n    !gradle-wrapper.jar\r\n    \r\n    # Cache of project\r\n    .gradletasknamecache\r\n    \r\n    ### Gradle Patch ###\r\n    **/build/\r\n    \r\n    ### Java ###\r\n    # Compiled class file\r\n    *.class\r\n    \r\n    # Log file\r\n    *.log\r\n    \r\n    \r\n    # Package Files #\r\n    *.jar\r\n    *.war\r\n    *.nar\r\n    *.ear\r\n    *.zip\r\n    *.tar.gz\r\n    *.rar","title":"How to add back missing gradle-wrapper.jar to Git repo for Jenkins to do its job","body":"<p>Whenever my Jenkins job clones my project from GitHub, it is not able to run gradlew command due to missing gradle-wrapper.jar under myproject/gradle/wrapper folder. I have to manually copy paste from another source and re-run the Jenkins job.</p>\n<p>Somehow I erroneously had deleted this jar file. The .gitignore file does not detect the newly added jar file either. Due to which I am not able to commit the missing jar to repo. Any suggestion on how to solve this issue.\nI am very specific about using gradlew and not gradle\nBelow is the .gitignore file</p>\n<pre><code>HELP.md\n.gradle\nbuild/\n!gradle/wrapper/gradle-wrapper.jar\n!**/src/main/**/build/\n!**/src/test/**/build/\n\n### Gradle ###\n.gradle\nbuild/\n\n# Ignore Gradle GUI config\ngradle-app.setting\n\n# Avoid ignoring Gradle wrapper jar file (.jar files are usually ignored)\n!gradle-wrapper.jar\n\n# Cache of project\n.gradletasknamecache\n\n### Gradle Patch ###\n**/build/\n\n### Java ###\n# Compiled class file\n*.class\n\n# Log file\n*.log\n\n\n# Package Files #\n*.jar\n*.war\n*.nar\n*.ear\n*.zip\n*.tar.gz\n*.rar\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1638878280,"post_id":70259599,"comment_id":124199519,"body_markdown":"I don&#39;t know about this, but is tag `model.version` right? is open with `[` and close with `)`","body":"I don&#39;t know about this, but is tag <code>model.version</code> right? is open with <code>[</code> and close with <code>)</code>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638878747,"post_id":70259599,"comment_id":124199721,"body_markdown":"Why using version ranges? And why using that in compiler args?","body":"Why using version ranges? And why using that in compiler args?"},{"owner":{"account_id":20412857,"reputation":1,"user_id":14975805,"display_name":"Vaitheeswaran Giriraj"},"score":0,"creation_date":1638879089,"post_id":70259599,"comment_id":124199842,"body_markdown":"Yes. Above one is right. While giving [{model.version}) like this, gives error &quot;Only fullly-qualified sets allowed in multiple set scenario&quot;","body":"Yes. Above one is right. While giving [{model.version}) like this, gives error &quot;Only fullly-qualified sets allowed in multiple set scenario&quot;"},{"owner":{"account_id":20412857,"reputation":1,"user_id":14975805,"display_name":"Vaitheeswaran Giriraj"},"score":0,"creation_date":1638879768,"post_id":70259599,"comment_id":124200086,"body_markdown":"Hi khmarbaise, It&#39;s because I will be selecting specific range in different child POM&#39;s. I tried using compiler args in parent to pass value to child POM(Because, properties not working). Working when I pass value in Goals.","body":"Hi khmarbaise, It&#39;s because I will be selecting specific range in different child POM&#39;s. I tried using compiler args in parent to pass value to child POM(Because, properties not working). Working when I pass value in Goals."}],"answers":[{"tags":[],"owner":{"account_id":20412857,"reputation":1,"user_id":14975805,"display_name":"Vaitheeswaran Giriraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638934822,"creation_date":1638934822,"answer_id":70269656,"question_id":70259599,"body_markdown":"Have to give dependency inside dependency management in Parent.\r\n\r\n    &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sample.project&lt;/groupId&gt; \r\n        &lt;artifactId&gt;model&lt;/artifactId&gt; \r\n        &lt;version&gt;${model.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nBy giving so, child POM Built successfully. \r\nCan anyone explain pls!","title":"Failing to collect dependencies maven","body":"<p>Have to give dependency inside dependency management in Parent.</p>\n<pre><code>&lt;dependencyManagement&gt;\n&lt;dependencies&gt;    \n&lt;dependency&gt;\n    &lt;groupId&gt;com.sample.project&lt;/groupId&gt; \n    &lt;artifactId&gt;model&lt;/artifactId&gt; \n    &lt;version&gt;${model.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>By giving so, child POM Built successfully.\nCan anyone explain pls!</p>\n"}],"owner":{"account_id":20412857,"reputation":1,"user_id":14975805,"display_name":"Vaitheeswaran Giriraj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70269656,"answer_count":1,"score":0,"last_activity_date":1638934822,"creation_date":1638877720,"question_id":70259599,"body_markdown":"I am trying to download files of versions within range start.version and end.version in parent pom.\r\nAnd, choosing specific version in child pom.\r\n\r\nParent POM\r\n\r\n    &lt;properties&gt;\r\n    &lt;start.version&gt;1.1.0&lt;/start.version&gt;\r\n    &lt;end.version&gt;2.1.0&lt;/end.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n     &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;release&lt;/id&gt;\r\n            &lt;properties&gt;\r\n            &lt;model.version&gt;[${start.version},${end.version}) &lt;/model.version&gt; \r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n\r\n**EDIT: In parent POM I have also added model dependency**\r\n\r\n    &lt;dependencies&gt;    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sample.project&lt;/groupId&gt; \r\n        &lt;artifactId&gt;model&lt;/artifactId&gt; \r\n        &lt;version&gt;${model.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nChild POM\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.sample.project&lt;/groupId&gt; \r\n    &lt;artifactId&gt;model&lt;/artifactId&gt; \r\n    &lt;version&gt;${model.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAll versions within range are downloaded but failing to collect dependencies.\r\nWhen pass these arguments in goals **-Dstart.version=1.1.0 -Dend.version=2.1.0**. It is working fine.\r\n\r\nBut, not collecting when I give in properties.\r\nI tried adding plugins in parent POM\r\n \r\n\r\n        &lt;argLine&gt;${start.version}&lt;argLine&gt;\r\n    \r\n        &lt;compilerArgs&gt;\r\n          &lt;arg&gt;${start.version}&lt;/arg&gt;\r\n          &lt;arg&gt;${end.version}&lt;/arg&gt;\r\n        &lt;/compilerArgs&gt;\r\n\r\nAnd, copied these in CHILD POM. But, not working.\r\n","title":"Failing to collect dependencies maven","body":"<p>I am trying to download files of versions within range start.version and end.version in parent pom.\nAnd, choosing specific version in child pom.</p>\n<p>Parent POM</p>\n<pre><code>&lt;properties&gt;\n&lt;start.version&gt;1.1.0&lt;/start.version&gt;\n&lt;end.version&gt;2.1.0&lt;/end.version&gt;\n&lt;/properties&gt;\n\n &lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;release&lt;/id&gt;\n        &lt;properties&gt;\n        &lt;model.version&gt;[${start.version},${end.version}) &lt;/model.version&gt; \n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p><strong>EDIT: In parent POM I have also added model dependency</strong></p>\n<pre><code>&lt;dependencies&gt;    \n&lt;dependency&gt;\n    &lt;groupId&gt;com.sample.project&lt;/groupId&gt; \n    &lt;artifactId&gt;model&lt;/artifactId&gt; \n    &lt;version&gt;${model.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Child POM</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.sample.project&lt;/groupId&gt; \n&lt;artifactId&gt;model&lt;/artifactId&gt; \n&lt;version&gt;${model.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>All versions within range are downloaded but failing to collect dependencies.\nWhen pass these arguments in goals <strong>-Dstart.version=1.1.0 -Dend.version=2.1.0</strong>. It is working fine.</p>\n<p>But, not collecting when I give in properties.\nI tried adding plugins in parent POM</p>\n<pre><code>    &lt;argLine&gt;${start.version}&lt;argLine&gt;\n\n    &lt;compilerArgs&gt;\n      &lt;arg&gt;${start.version}&lt;/arg&gt;\n      &lt;arg&gt;${end.version}&lt;/arg&gt;\n    &lt;/compilerArgs&gt;\n</code></pre>\n<p>And, copied these in CHILD POM. But, not working.</p>\n"},{"tags":["java","swagger","swagger-2.0","springfox"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1467113535,"post_id":38074936,"comment_id":63586579,"body_markdown":"Which Version do you refer to?","body":"Which Version do you refer to?"},{"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"score":0,"creation_date":1467113568,"post_id":38074936,"comment_id":63586604,"body_markdown":"https://github.com/swagger-api/swagger-core/wiki/Annotations-1.5.X or maybe http://docs.swagger.io/swagger-core/current/apidocs/index.html?io/swagger/annotations/Api.html might help","body":"<a href=\"https://github.com/swagger-api/swagger-core/wiki/Annotations-1.5.X\" rel=\"nofollow noreferrer\">github.com/swagger-api/swagger-core/wiki/Annotations-1.5.X</a> or maybe <a href=\"http://docs.swagger.io/swagger-core/current/apidocs/index.html?io/swagger/annotations/Api.html\" rel=\"nofollow noreferrer\">docs.swagger.io/swagger-core/current/apidocs/index.html?io/&hellip;</a> might help"},{"owner":{"account_id":5469057,"reputation":3356,"user_id":4348925,"accept_rate":55,"display_name":"Soumitri Pattnaik"},"score":0,"creation_date":1467113643,"post_id":38074936,"comment_id":63586669,"body_markdown":"@Jens I am using 2.4.0 version (springfox)","body":"@Jens I am using 2.4.0 version (springfox)"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1467113854,"post_id":38074936,"comment_id":63586824,"body_markdown":"As i can see, only three attibutes are deprecated","body":"As i can see, only three attibutes are deprecated"},{"owner":{"account_id":5469057,"reputation":3356,"user_id":4348925,"accept_rate":55,"display_name":"Soumitri Pattnaik"},"score":0,"creation_date":1467113908,"post_id":38074936,"comment_id":63586856,"body_markdown":"@Jens, if it is deprecated, it means that there is a newer alternative, what is that?","body":"@Jens, if it is deprecated, it means that there is a newer alternative, what is that?"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":4,"creation_date":1467115589,"post_id":38074936,"comment_id":63588046,"body_markdown":"Deprecated means, that it won&#39;t be used any more in a later version. It doesn&#39;t necessarily mean, that there is a newer alternative.","body":"Deprecated means, that it won&#39;t be used any more in a later version. It doesn&#39;t necessarily mean, that there is a newer alternative."},{"owner":{"account_id":5469057,"reputation":3356,"user_id":4348925,"accept_rate":55,"display_name":"Soumitri Pattnaik"},"score":0,"creation_date":1467125506,"post_id":38074936,"comment_id":63595547,"body_markdown":"@dunni ohh I see, Thanks :)","body":"@dunni ohh I see, Thanks :)"},{"owner":{"account_id":125988,"reputation":4853,"user_id":2115021,"accept_rate":20,"display_name":"Kick"},"score":0,"creation_date":1554385732,"post_id":38074936,"comment_id":97739896,"body_markdown":"@SoumitriPattnaik you found any solution ?","body":"@SoumitriPattnaik you found any solution ?"}],"answers":[{"tags":[],"owner":{"account_id":184628,"reputation":6754,"user_id":420797,"display_name":"fehguy"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1467255168,"creation_date":1467255168,"answer_id":38113193,"question_id":38074936,"body_markdown":"The reason why it&#39;s deprecated is that previous Swagger versions (1.x) used the `@Api` description annotation to group operations.\r\n\r\nIn the Swagger 2.0 specification, the notion of `tags` was created and made a more flexible grouping mechanism.  To be API compliant, the `description` field was retained so upgrades would be easy, but the correct way to add a description is though the `tags` attribute, which should reference a `@Tag` annotation.  The `@Tag` allows you to provide a description and also external links, etc.","title":"Api annotation&#39;s description is deprecated","body":"<p>The reason why it's deprecated is that previous Swagger versions (1.x) used the <code>@Api</code> description annotation to group operations.</p>\n\n<p>In the Swagger 2.0 specification, the notion of <code>tags</code> was created and made a more flexible grouping mechanism.  To be API compliant, the <code>description</code> field was retained so upgrades would be easy, but the correct way to add a description is though the <code>tags</code> attribute, which should reference a <code>@Tag</code> annotation.  The <code>@Tag</code> allows you to provide a description and also external links, etc.</p>\n"},{"tags":[],"owner":{"account_id":3689668,"reputation":3060,"user_id":3072570,"accept_rate":94,"display_name":"falvojr"},"down_vote_count":1,"up_vote_count":63,"is_accepted":false,"score":62,"last_activity_date":1600465185,"creation_date":1519821295,"answer_id":49029740,"question_id":38074936,"body_markdown":"I found two solutions for Spring Boot application: \r\n\r\n***1. [Swagger 2][1] based:***\r\n\r\nFirstly, use the `tags` method for specify the tags definitions in your `Docket` bean:\r\n\r\n&lt;!-- language: java --&gt;\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class Swagger2Config {\r\n        \r\n        public static final String TAG_1 = &quot;tag1&quot;;\r\n\r\n    \t@Bean\r\n    \tpublic Docket productApi() {\r\n    \t\treturn new Docket(DocumentationType.SWAGGER_2).select()\r\n    \t\t\t\t.apis(RequestHandlerSelectors.basePackage(&quot;my.package&quot;)).build()\r\n    \t\t\t\t.tags(new Tag(TAG_1, &quot;Tag 1 description.&quot;))\r\n    \t\t\t\t// Other tags here...\r\n    \t\t\t\t.apiInfo(apiInfo());\r\n    \t}\r\n    \r\n    \tprivate ApiInfo apiInfo() {\r\n    \t\treturn new ApiInfoBuilder().title(&quot;My API&quot;).version(&quot;1.0.0&quot;).build();\r\n    \t}\r\n    }\r\n\r\nAfter, in `RestController` just add the `@Api` annotation with one (or more) of the your tags:\r\n\r\n&lt;!-- language: java --&gt;\r\n    @Api(tags = { SwaggerConfig.TAG_1 })\r\n    @RestController\r\n    @RequestMapping(&quot;tag1-domain&quot;)\r\n    public class Tag1RestController { ... }\r\n\r\n***2. [Swagger 3][2] based (OpenAPI):***\r\n\r\nSimilarly, use the `addTagsItem` method for specify the tags definitions in your `OpenAPI` bean:\r\n\r\n&lt;!-- language: java --&gt;\r\n    @Configuration\r\n    public class OpenApiConfig {\r\n    \r\n        public static final String TAG_1 = &quot;tag1&quot;;\r\n    \r\n    \t@Bean\r\n    \tpublic OpenAPI customOpenAPI() {\r\n    \t\tfinal Info info = new Info()\r\n    \t\t\t\t.title(&quot;My API&quot;)\r\n    \t\t\t\t.description(&quot;My API description.&quot;)\r\n    \t\t\t\t.version(&quot;1.0.0&quot;);\r\n    \r\n    \t\treturn new OpenAPI().components(new Components())\r\n    \t\t\t\t.addTagsItem(createTag(TAG_1, &quot;Tag 1 description.&quot;))\r\n    \t\t\t\t// Other tags here...\r\n    \t\t\t\t.info(info);\r\n    \t}\r\n    \r\n    \tprivate Tag createTag(String name, String description) {\r\n    \t\tfinal Tag tag = new Tag();\r\n    \t\ttag.setName(name);\r\n    \t\ttag.setDescription(description);\r\n    \t\treturn tag;\r\n    \t}\r\n    \r\n    }\r\n\r\nFinally, in `RestController` just add the `@Tag` annotation:\r\n\r\n&lt;!-- language: java --&gt;\r\n    @Tag(name = OpenApiConfig.TAG_1)\r\n    @RestController\r\n    @RequestMapping(&quot;tag1-domain&quot;)\r\n    public class Tag1RestController { ... }\r\n\r\n  [1]: https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\r\n  [2]: https://www.baeldung.com/spring-rest-openapi-documentation","title":"Api annotation&#39;s description is deprecated","body":"<p>I found two solutions for Spring Boot application:</p>\n<p><em><strong>1. <a href=\"https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\" rel=\"noreferrer\">Swagger 2</a> based:</strong></em></p>\n<p>Firstly, use the <code>tags</code> method for specify the tags definitions in your <code>Docket</code> bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableSwagger2\npublic class Swagger2Config {\n    \n    public static final String TAG_1 = &quot;tag1&quot;;\n\n    @Bean\n    public Docket productApi() {\n        return new Docket(DocumentationType.SWAGGER_2).select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;my.package&quot;)).build()\n                .tags(new Tag(TAG_1, &quot;Tag 1 description.&quot;))\n                // Other tags here...\n                .apiInfo(apiInfo());\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder().title(&quot;My API&quot;).version(&quot;1.0.0&quot;).build();\n    }\n}\n</code></pre>\n<p>After, in <code>RestController</code> just add the <code>@Api</code> annotation with one (or more) of the your tags:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Api(tags = { SwaggerConfig.TAG_1 })\n@RestController\n@RequestMapping(&quot;tag1-domain&quot;)\npublic class Tag1RestController { ... }\n</code></pre>\n<p><em><strong>2. <a href=\"https://www.baeldung.com/spring-rest-openapi-documentation\" rel=\"noreferrer\">Swagger 3</a> based (OpenAPI):</strong></em></p>\n<p>Similarly, use the <code>addTagsItem</code> method for specify the tags definitions in your <code>OpenAPI</code> bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class OpenApiConfig {\n\n    public static final String TAG_1 = &quot;tag1&quot;;\n\n    @Bean\n    public OpenAPI customOpenAPI() {\n        final Info info = new Info()\n                .title(&quot;My API&quot;)\n                .description(&quot;My API description.&quot;)\n                .version(&quot;1.0.0&quot;);\n\n        return new OpenAPI().components(new Components())\n                .addTagsItem(createTag(TAG_1, &quot;Tag 1 description.&quot;))\n                // Other tags here...\n                .info(info);\n    }\n\n    private Tag createTag(String name, String description) {\n        final Tag tag = new Tag();\n        tag.setName(name);\n        tag.setDescription(description);\n        return tag;\n    }\n\n}\n</code></pre>\n<p>Finally, in <code>RestController</code> just add the <code>@Tag</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Tag(name = OpenApiConfig.TAG_1)\n@RestController\n@RequestMapping(&quot;tag1-domain&quot;)\npublic class Tag1RestController { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1606252034,"creation_date":1525693743,"answer_id":50213515,"question_id":38074936,"body_markdown":"This is the correct way to add description to your Swagger API documentation for Swagger v1.5:\r\n\r\n```java\r\n@Api(tags = {&quot;Swagger Resource&quot;})\r\n@SwaggerDefinition(tags = {\r\n    @Tag(name = &quot;Swagger Resource&quot;, description = &quot;Write description here&quot;)\r\n})\r\npublic class ... {\r\n}\r\n```\r\n\r\n","title":"Api annotation&#39;s description is deprecated","body":"<p>This is the correct way to add description to your Swagger API documentation for Swagger v1.5:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Api(tags = {&quot;Swagger Resource&quot;})\n@SwaggerDefinition(tags = {\n    @Tag(name = &quot;Swagger Resource&quot;, description = &quot;Write description here&quot;)\n})\npublic class ... {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540543784,"creation_date":1540543784,"answer_id":53004941,"question_id":38074936,"body_markdown":"I too wondered what to do about uses of the deprecated `description` (showing up as warnings in my IDE). \r\n\r\nWell, on closer inspection it turned out that `description` **is not used anywhere in Swagger UI**. After that the solution (in our case*) became clear: simply remove those descriptions. \r\n\r\n(*In our codebase, with clean class and method names etc, there was certainly no need for such &quot;API descriptions&quot; for the reader of the code. I would have tolerated having these bits of Swagger-related noise in the codebase if they added some value in Swagger UI, but since they didn&#39;t, the only sensible thing was to throw them away.) ","title":"Api annotation&#39;s description is deprecated","body":"<p>I too wondered what to do about uses of the deprecated <code>description</code> (showing up as warnings in my IDE). </p>\n\n<p>Well, on closer inspection it turned out that <code>description</code> <strong>is not used anywhere in Swagger UI</strong>. After that the solution (in our case*) became clear: simply remove those descriptions. </p>\n\n<p>(*In our codebase, with clean class and method names etc, there was certainly no need for such \"API descriptions\" for the reader of the code. I would have tolerated having these bits of Swagger-related noise in the codebase if they added some value in Swagger UI, but since they didn't, the only sensible thing was to throw them away.) </p>\n"},{"tags":[],"owner":{"account_id":5765913,"reputation":91,"user_id":4550884,"display_name":"davrog10"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571128340,"creation_date":1558602018,"answer_id":56271587,"question_id":38074936,"body_markdown":"I tried above solutions but they didn&#39;t work for me.\r\n\r\nTo add a title and description to the documentation you create **ApiInfo** and **Contact** objects like in example below.\r\nThen you simply add **apiInfo** object to your Swagger Docket.\r\n\r\n```\r\nimport springfox.documentation.service.ApiInfo;\r\nimport springfox.documentation.service.Contact;\r\n\r\n@EnableSwagger2\r\n@Configuration\r\npublic class SwaggerConfig {\r\n    \r\n  private Contact contact = new Contact(&quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n  private ApiInfo apiInfo = new ApiInfo(\r\n      &quot;Backoffice API documentation&quot;,\r\n      &quot;This page documents Backoffice RESTful Web Service Endpoints&quot;,\r\n      &quot;1.0&quot;,\r\n      &quot;&quot;,\r\n      contact,\r\n      &quot;&quot;,\r\n      &quot;&quot;);\r\n\r\n  @Bean\r\n  public Docket api() {\r\n    return new Docket(DocumentationType.SWAGGER_2)\r\n        .apiInfo(apiInfo)\r\n        .select()\r\n        .apis(RequestHandlerSelectors.basePackage(\r\n            PaymentsController.class.getPackage().getName()\r\n        ))\r\n        .paths(PathSelectors.ant(&quot;/api/v1/payments&quot; + &quot;/**&quot;))\r\n        .build()\r\n        .useDefaultResponseMessages(false)\r\n        .globalOperationParameters(\r\n            newArrayList(new ParameterBuilder()\r\n                .name(&quot;x-authorization&quot;)\r\n                .description(&quot;X-Authorization&quot;)\r\n                .modelRef(new ModelRef(&quot;string&quot;))\r\n                .parameterType(&quot;header&quot;)\r\n                .required(false)\r\n                .build()));\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nAbove code produces a description like in a screenshot below.\r\n\r\n[![screenshot of swagger-ui page produced by code above][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/AiWvv.png","title":"Api annotation&#39;s description is deprecated","body":"<p>I tried above solutions but they didn't work for me.</p>\n\n<p>To add a title and description to the documentation you create <strong>ApiInfo</strong> and <strong>Contact</strong> objects like in example below.\nThen you simply add <strong>apiInfo</strong> object to your Swagger Docket.</p>\n\n<pre><code>import springfox.documentation.service.ApiInfo;\nimport springfox.documentation.service.Contact;\n\n@EnableSwagger2\n@Configuration\npublic class SwaggerConfig {\n\n  private Contact contact = new Contact(\"\", \"\", \"\");\n  private ApiInfo apiInfo = new ApiInfo(\n      \"Backoffice API documentation\",\n      \"This page documents Backoffice RESTful Web Service Endpoints\",\n      \"1.0\",\n      \"\",\n      contact,\n      \"\",\n      \"\");\n\n  @Bean\n  public Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2)\n        .apiInfo(apiInfo)\n        .select()\n        .apis(RequestHandlerSelectors.basePackage(\n            PaymentsController.class.getPackage().getName()\n        ))\n        .paths(PathSelectors.ant(\"/api/v1/payments\" + \"/**\"))\n        .build()\n        .useDefaultResponseMessages(false)\n        .globalOperationParameters(\n            newArrayList(new ParameterBuilder()\n                .name(\"x-authorization\")\n                .description(\"X-Authorization\")\n                .modelRef(new ModelRef(\"string\"))\n                .parameterType(\"header\")\n                .required(false)\n                .build()));\n  }\n}\n\n</code></pre>\n\n<p>Above code produces a description like in a screenshot below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/AiWvv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AiWvv.png\" alt=\"screenshot of swagger-ui page produced by code above\"></a></p>\n"},{"tags":[],"owner":{"account_id":2359757,"reputation":178,"user_id":2066723,"accept_rate":83,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634868590,"creation_date":1634868590,"answer_id":69670657,"question_id":38074936,"body_markdown":"I found that the following works by combining both the `@Api` and `@Tag` annotations building off of [this answer](https://stackoverflow.com/a/38113193/2066723). \r\n\r\nThe value within the tags field of the `@Api` annotation needs to match the value within the name field of the `@Tag` annotation. \r\n\r\n``` java\r\n\r\n@Api(tags = &quot;Controller API&quot;)\r\n@Tag(name = &quot;Controller API&quot;, description = &quot;This controller performs API operations&quot;)\r\npublic class ReportStatusConsumerController {\r\n\r\n}\r\n```","title":"Api annotation&#39;s description is deprecated","body":"<p>I found that the following works by combining both the <code>@Api</code> and <code>@Tag</code> annotations building off of <a href=\"https://stackoverflow.com/a/38113193/2066723\">this answer</a>.</p>\n<p>The value within the tags field of the <code>@Api</code> annotation needs to match the value within the name field of the <code>@Tag</code> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Api(tags = &quot;Controller API&quot;)\n@Tag(name = &quot;Controller API&quot;, description = &quot;This controller performs API operations&quot;)\npublic class ReportStatusConsumerController {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6478598,"reputation":51,"user_id":5016427,"display_name":"Maximiliano Sibert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638934373,"creation_date":1638934373,"answer_id":70269606,"question_id":38074936,"body_markdown":"An old question but may help using swagger 3\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n        // Swagger configuration\r\n        @Bean\r\n        public Docket api() {\r\n    \r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .apiInfo( this.apiInfo())\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.any())\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n        private ApiInfo apiInfo() {\r\n            return new ApiInfoBuilder().title(&quot;API Reference&quot;).version(&quot;1.0.0&quot;)\r\n                    .description(&quot;something&quot;)\r\n                    .license(&quot;Apache 2.0&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        public void addResouceHandler(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;swagger-ui.html&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n            registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n        }\r\n    }","title":"Api annotation&#39;s description is deprecated","body":"<p>An old question but may help using swagger 3</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n    // Swagger configuration\n    @Bean\n    public Docket api() {\n\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo( this.apiInfo())\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    private ApiInfo apiInfo() {\n        return new ApiInfoBuilder().title(&quot;API Reference&quot;).version(&quot;1.0.0&quot;)\n                .description(&quot;something&quot;)\n                .license(&quot;Apache 2.0&quot;)\n                .build();\n    }\n\n    public void addResouceHandler(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;swagger-ui.html&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\n        registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5469057,"reputation":3356,"user_id":4348925,"accept_rate":55,"display_name":"Soumitri Pattnaik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56609,"favorite_count":0,"down_vote_count":0,"up_vote_count":78,"answer_count":7,"score":78,"last_activity_date":1638934373,"creation_date":1467113126,"question_id":38074936,"body_markdown":"In Swagger, the [`@Api`](https://www.javadoc.io/static/io.swagger/swagger-annotations/1.6.2/io/swagger/annotations/Api.html) annotation&#39;s [`description`](https://www.javadoc.io/static/io.swagger/swagger-annotations/1.6.2/io/swagger/annotations/Api.html#description--) element is deprecated.\r\n\r\n&gt; **Deprecated.**\r\n&gt; Not used in 1.5.X, kept for legacy support.\r\n\r\nIs there a newer way of providing the description?","title":"Api annotation&#39;s description is deprecated","body":"<p>In Swagger, the <a href=\"https://www.javadoc.io/static/io.swagger/swagger-annotations/1.6.2/io/swagger/annotations/Api.html\" rel=\"noreferrer\"><code>@Api</code></a> annotation's <a href=\"https://www.javadoc.io/static/io.swagger/swagger-annotations/1.6.2/io/swagger/annotations/Api.html#description--\" rel=\"noreferrer\"><code>description</code></a> element is deprecated.</p>\n<blockquote>\n<p><strong>Deprecated.</strong>\nNot used in 1.5.X, kept for legacy support.</p>\n</blockquote>\n<p>Is there a newer way of providing the description?</p>\n"},{"tags":["java","spring-cloud-feign","feign"],"answers":[{"tags":[],"owner":{"account_id":19961426,"reputation":124,"user_id":14628929,"display_name":"sourheart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638916803,"creation_date":1638916803,"answer_id":70267804,"question_id":70267416,"body_markdown":"Yes is possible, you need to create an interceptor and in that method do the mapping.\r\nThis topic may be for you.\r\n\r\n&gt; https://stackoverflow.com/questions/54364438/spring-execute-code-before-controllers-method-is-invoked","title":"Convert List of Enums to List of String for Spring @RequestParam using feign client","body":"<p>Yes is possible, you need to create an interceptor and in that method do the mapping.\nThis topic may be for you.</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/questions/54364438/spring-execute-code-before-controllers-method-is-invoked\">Spring - Execute code before controller&#39;s method is invoked</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9778190,"reputation":131,"user_id":7247326,"accept_rate":27,"display_name":"Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638934101,"creation_date":1638934101,"answer_id":70269583,"question_id":70267416,"body_markdown":"So turns out @JsonSerialize was not working with @SpringQueryMap\r\nSo I did have to add an interceptor.\r\n\r\nLike so:\r\n\r\n    public class MyInterceptor implements RequestInterceptor {\r\n        @Override\r\n        public void apply(RequestTemplate requestTemplate) {\r\n            if(requestTemplate.queries().containsKey(&quot;param1&quot;)) {\r\n                requestTemplate.query(&quot;param1&quot;, convert(requestTemplate.queries().get(&quot;param1&quot;)));\r\n            }\r\n        }\r\n        //convert list to a string\r\n        public String convert(Collection&lt;String&gt; values) {\r\n           final String s = String.join(&quot;,&quot;, values.stream().map(Object::toString).collect(Collectors.toList()));\r\n           return s;\r\n        }\r\n    }\r\n\r\nAnd then in my Feign config class added this:\r\n\r\n    @Bean\r\n    public MyInterceptor myInterceptor() {\r\n        return new MyInterceptor();\r\n    }\r\n\r\n","title":"Convert List of Enums to List of String for Spring @RequestParam using feign client","body":"<p>So turns out @JsonSerialize was not working with @SpringQueryMap\nSo I did have to add an interceptor.</p>\n<p>Like so:</p>\n<pre><code>public class MyInterceptor implements RequestInterceptor {\n    @Override\n    public void apply(RequestTemplate requestTemplate) {\n        if(requestTemplate.queries().containsKey(&quot;param1&quot;)) {\n            requestTemplate.query(&quot;param1&quot;, convert(requestTemplate.queries().get(&quot;param1&quot;)));\n        }\n    }\n    //convert list to a string\n    public String convert(Collection&lt;String&gt; values) {\n       final String s = String.join(&quot;,&quot;, values.stream().map(Object::toString).collect(Collectors.toList()));\n       return s;\n    }\n}\n</code></pre>\n<p>And then in my Feign config class added this:</p>\n<pre><code>@Bean\npublic MyInterceptor myInterceptor() {\n    return new MyInterceptor();\n}\n</code></pre>\n"}],"owner":{"account_id":9778190,"reputation":131,"user_id":7247326,"accept_rate":27,"display_name":"Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1229,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1638934101,"creation_date":1638914236,"question_id":70267416,"body_markdown":"I have an enum class as such:\r\n```java\r\nONE(&quot;1&quot;, &quot;Description1&quot;),\r\nTWO(&quot;2&quot;, &quot;Description2&quot;);\r\n\r\nString value;\r\nString description;\r\nMyEnum(String value, String description) {\r\n    this.value  = value;\r\n    this.description = description;\r\n}\r\n\r\n@Override\r\npublic String toString() {\r\n    return this.value;\r\n}\r\n    \r\n@JsonValue\r\npublic String value() {\r\n    return this.value;\r\n}\r\n```\r\n\r\nThe API I am interacting with is expecting a param with type String and the values can be comma separated.\r\n\r\nFor example: `api.com/test?param1=1,2`\r\nI configured a feign client with the url `api.com/test`\r\nAnd then created a POJO like so\r\n```java\r\npublic class POJO {\r\n    private List&lt;MyEnum&gt; param1;\r\n}\r\n```\r\nAnd in my feign client I have:\r\n```java\r\n@RequestMapping(method = RequestMethod.GET)\r\nMyResponse getResponse(@SpringQueryMap POJO request);\r\n```\r\nIs it possible to somehow turn the List of Enums to a List of String before the API call is made via some Spring approach? \r\n\r\nAs of right now, when I pass a List of Enums, it is only taking into account the last Enum within this list.\r\n\r\n**UPDATE**: I annotated the property I want to convert to a list using @JsonSerialize(converter=abc.class). However @SpringQueryMap doesn&#39;t seem to honor that serialization..","title":"Convert List of Enums to List of String for Spring @RequestParam using feign client","body":"<p>I have an enum class as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ONE(&quot;1&quot;, &quot;Description1&quot;),\nTWO(&quot;2&quot;, &quot;Description2&quot;);\n\nString value;\nString description;\nMyEnum(String value, String description) {\n    this.value  = value;\n    this.description = description;\n}\n\n@Override\npublic String toString() {\n    return this.value;\n}\n    \n@JsonValue\npublic String value() {\n    return this.value;\n}\n</code></pre>\n<p>The API I am interacting with is expecting a param with type String and the values can be comma separated.</p>\n<p>For example: <code>api.com/test?param1=1,2</code>\nI configured a feign client with the url <code>api.com/test</code>\nAnd then created a POJO like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class POJO {\n    private List&lt;MyEnum&gt; param1;\n}\n</code></pre>\n<p>And in my feign client I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(method = RequestMethod.GET)\nMyResponse getResponse(@SpringQueryMap POJO request);\n</code></pre>\n<p>Is it possible to somehow turn the List of Enums to a List of String before the API call is made via some Spring approach?</p>\n<p>As of right now, when I pass a List of Enums, it is only taking into account the last Enum within this list.</p>\n<p><strong>UPDATE</strong>: I annotated the property I want to convert to a list using @JsonSerialize(converter=abc.class). However @SpringQueryMap doesn't seem to honor that serialization..</p>\n"},{"tags":["java","android","ios","flutter","dart"],"answers":[{"tags":[],"owner":{"account_id":15629832,"reputation":7148,"user_id":11276416,"display_name":"Jim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638934056,"creation_date":1638934056,"answer_id":70269576,"question_id":70265202,"body_markdown":"This package may help, [ffmpeg_kit_flutter][1]:\r\n\r\n     import &#39;package:ffmpeg_kit_flutter/ffmpeg_kit.dart&#39;;\r\n    \r\n     FFmpegKit.executeAsync(&#39;-i file1.mp4 -c:v mpeg4 file2.mp4&#39;, (session) async {\r\n       final returnCode = await session.getReturnCode();\r\n    \r\n       if (ReturnCode.isSuccess(returnCode)) {\r\n    \r\n         // SUCCESS\r\n    \r\n       } else if (ReturnCode.isCancel(returnCode)) {\r\n    \r\n         // CANCEL\r\n    \r\n       } else {\r\n    \r\n         // ERROR\r\n    \r\n       }\r\n     });\r\n\r\nfor splitting video, FFmpeg command examples:\r\n\r\n&gt; &quot;-i source-file.foo -ss 0 -t 600 first-10-min.m4v&quot; \r\n&gt;\r\n&gt; &quot;-i source-file.foo -ss 600 -t 600 second-10-min.m4v&quot;\r\n&gt;\r\n&gt; &quot;-i source-file.foo -ss 1200 -t 600 third-10-min.m4v&quot;\r\n\r\n  [1]: https://pub.dev/packages/ffmpeg_kit_flutter","title":"How to split a video file in small pieces in Dart/flutter?","body":"<p>This package may help, <a href=\"https://pub.dev/packages/ffmpeg_kit_flutter\" rel=\"nofollow noreferrer\">ffmpeg_kit_flutter</a>:</p>\n<pre><code> import 'package:ffmpeg_kit_flutter/ffmpeg_kit.dart';\n\n FFmpegKit.executeAsync('-i file1.mp4 -c:v mpeg4 file2.mp4', (session) async {\n   final returnCode = await session.getReturnCode();\n\n   if (ReturnCode.isSuccess(returnCode)) {\n\n     // SUCCESS\n\n   } else if (ReturnCode.isCancel(returnCode)) {\n\n     // CANCEL\n\n   } else {\n\n     // ERROR\n\n   }\n });\n</code></pre>\n<p>for splitting video, FFmpeg command examples:</p>\n<blockquote>\n<p>&quot;-i source-file.foo -ss 0 -t 600 first-10-min.m4v&quot;</p>\n<p>&quot;-i source-file.foo -ss 600 -t 600 second-10-min.m4v&quot;</p>\n<p>&quot;-i source-file.foo -ss 1200 -t 600 third-10-min.m4v&quot;</p>\n</blockquote>\n"}],"owner":{"display_name":"user17617805"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1278,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":1,"score":2,"last_activity_date":1638934056,"creation_date":1638901572,"question_id":70265202,"body_markdown":"I picked a video file from local storage, i want the video file to be split into desired small parts(video files) programmatically. Can i do it in dart or i have to write code for java and swift ?","title":"How to split a video file in small pieces in Dart/flutter?","body":"<p>I picked a video file from local storage, i want the video file to be split into desired small parts(video files) programmatically. Can i do it in dart or i have to write code for java and swift ?</p>\n"},{"tags":["java","angular","rest"],"comments":[{"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"score":0,"creation_date":1638934057,"post_id":70269048,"comment_id":124217611,"body_markdown":"Please add the console log of response","body":"Please add the console log of response"},{"owner":{"account_id":13468344,"reputation":51,"user_id":9717784,"display_name":"Partha.B"},"score":0,"creation_date":1638936080,"post_id":70269048,"comment_id":124217952,"body_markdown":"person-data.service.ts:1 Call through Http client personservice data service\nperson-list.component.ts:60 Backend service response1 undefined\nperson-list.component.ts:61 Backend service response[object Object]\nperson-list.component.ts:62 Backend service response1 200\nperson-list.component.ts:63 Backend service response1 Successfull\nperson-list.component.ts:64 Backend service response1 [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]\nperson-list.component.ts:65 Backend service response1 undefined","body":"person-data.service.ts:1 Call through Http client personservice data service person-list.component.ts:60 Backend service response1 undefined person-list.component.ts:61 Backend service response[object Object] person-list.component.ts:62 Backend service response1 200 person-list.component.ts:63 Backend service response1 Successfull person-list.component.ts:64 Backend service response1 [object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object] person-list.component.ts:65 Backend service response1 undefined"},{"owner":{"account_id":12471848,"reputation":63,"user_id":9079690,"display_name":"Mlayel Rami"},"score":0,"creation_date":1640044177,"post_id":70269048,"comment_id":124497680,"body_markdown":"could you provide the function retrieveAllPersons in the component person-data.service.ts","body":"could you provide the function retrieveAllPersons in the component person-data.service.ts"}],"answers":[{"tags":[],"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638934047,"creation_date":1638934047,"answer_id":70269575,"question_id":70269048,"body_markdown":"you are assinging wrongly from the response first.`data` keyword is needed for accessing the response data. \r\ntry this: `this.persons = this.finalResponse.data.objects`\r\n\r\nHere it is: \r\n```\r\nthis.personsDataService.retrieveAllPersons().subscribe(\r\n      response =&gt;{\r\n        console.log(&quot;Backend service response&quot;+response)\r\n        this.finalResponse =response;\r\n        this.persons = this.finalResponse.data.objects\r\n        console.log(&quot;Backend service response1 &quot;+this.persons)\r\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusCode)\r\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusMessage)\r\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.objects)\r\n      }\r\n    ); \r\n```","title":"How to parse a Java object which contains a list of a custom java POJO from REST Api call in component.ts file in angularJs","body":"<p>you are assinging wrongly from the response first.<code>data</code> keyword is needed for accessing the response data.\ntry this: <code>this.persons = this.finalResponse.data.objects</code></p>\n<p>Here it is:</p>\n<pre><code>this.personsDataService.retrieveAllPersons().subscribe(\n      response =&gt;{\n        console.log(&quot;Backend service response&quot;+response)\n        this.finalResponse =response;\n        this.persons = this.finalResponse.data.objects\n        console.log(&quot;Backend service response1 &quot;+this.persons)\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusCode)\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusMessage)\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.objects)\n      }\n    ); \n</code></pre>\n"}],"owner":{"account_id":13468344,"reputation":51,"user_id":9717784,"display_name":"Partha.B"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638934047,"creation_date":1638928828,"question_id":70269048,"body_markdown":"I am new to angular. I stuck to parse the response from the Java REST service to my angular UI.  I can see the expected list came from REST API call in Network tab of inspector but not able to parse it to my respective component.ts file in angular. I am getting Response is undefined in console log of UI. Below are the details \r\nREST API Response Object\r\n\r\n    public FinalResponse(int statusCode, String statusMessage, Object objects) {\r\n    \t\tsuper();\r\n    \t\tthis.statusCode = statusCode;\r\n    \t\tthis.statusMessage = statusMessage;\r\n    \t\tthis.objects = objects; // This Object holds the Array List of Persons Object \r\n    \t}\r\n\r\nIn My componet.ts file, I used below code\r\n\r\n    export class Person {\r\n      constructor( public personId: number, public personName: string,){\r\n      }\r\n    }\r\n    \r\n    export class FinalResponse {\r\n     \r\n      constructor( public statusCode: number, public statusMessage: string, \r\n          public objects:any){\r\n    \r\n      }\r\n    }\r\n\r\n    export class PersonListComponent implements OnInit {\r\n      \r\n      persons: Person[]\r\n      message: string\r\n      finalResponse: FinalResponse\r\n    \r\n    \r\n      constructor(private personDataService: PersonDataService, private router: Router,\r\n        private route: ActivatedRoute) { \r\n        }\r\n    \r\n      ngOnInit() {\r\n        this.refreshPersonList();\r\n      }\r\n    \r\n      refreshPersonList(){\r\n        this.personsDataService.retrieveAllPersons().subscribe(\r\n          response =&gt;{\r\n            console.log(&quot;Backend service response&quot;+response)\r\n            this.finalResponse =response;\r\n            this.persons = this.finalResponse.objects\r\n            console.log(&quot;Backend service response1 &quot;+this.persons)\r\n            console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusCode)\r\n            console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusMessage)\r\n            console.log(&quot;Backend service response1 &quot;+this.finalResponse.objects)\r\n          }\r\n        ); \r\n      } \r\n    }\r\n\r\nHere I can see the status code &amp; status message perfectly but am not able to see the List of Person object. In the UI console log, I can see it is undefined.\r\nCan anyone please help me with this?\r\nThanks in advance, any advice is highly appreciated.","title":"How to parse a Java object which contains a list of a custom java POJO from REST Api call in component.ts file in angularJs","body":"<p>I am new to angular. I stuck to parse the response from the Java REST service to my angular UI.  I can see the expected list came from REST API call in Network tab of inspector but not able to parse it to my respective component.ts file in angular. I am getting Response is undefined in console log of UI. Below are the details\nREST API Response Object</p>\n<pre><code>public FinalResponse(int statusCode, String statusMessage, Object objects) {\n        super();\n        this.statusCode = statusCode;\n        this.statusMessage = statusMessage;\n        this.objects = objects; // This Object holds the Array List of Persons Object \n    }\n</code></pre>\n<p>In My componet.ts file, I used below code</p>\n<pre><code>export class Person {\n  constructor( public personId: number, public personName: string,){\n  }\n}\n\nexport class FinalResponse {\n \n  constructor( public statusCode: number, public statusMessage: string, \n      public objects:any){\n\n  }\n}\n\nexport class PersonListComponent implements OnInit {\n  \n  persons: Person[]\n  message: string\n  finalResponse: FinalResponse\n\n\n  constructor(private personDataService: PersonDataService, private router: Router,\n    private route: ActivatedRoute) { \n    }\n\n  ngOnInit() {\n    this.refreshPersonList();\n  }\n\n  refreshPersonList(){\n    this.personsDataService.retrieveAllPersons().subscribe(\n      response =&gt;{\n        console.log(&quot;Backend service response&quot;+response)\n        this.finalResponse =response;\n        this.persons = this.finalResponse.objects\n        console.log(&quot;Backend service response1 &quot;+this.persons)\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusCode)\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.statusMessage)\n        console.log(&quot;Backend service response1 &quot;+this.finalResponse.objects)\n      }\n    ); \n  } \n}\n</code></pre>\n<p>Here I can see the status code &amp; status message perfectly but am not able to see the List of Person object. In the UI console log, I can see it is undefined.\nCan anyone please help me with this?\nThanks in advance, any advice is highly appreciated.</p>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":23205194,"reputation":269,"user_id":17299518,"display_name":"Eko Muhammad Rilo Pembudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638933451,"creation_date":1638933451,"answer_id":70269509,"question_id":68182272,"body_markdown":"You can try to set some tag in your list view like this:\r\n```\r\n&lt;ListView android:id=&quot;@+id/listView&quot;\r\n  android:layout_height=&quot;match_parent&quot;\r\n  android:layout_width=&quot;match_parent&quot;\r\n  android:divider=&quot;@android:color/transparent&quot;\r\n  android:dividerHeight=&quot;10.0sp&quot;/&gt;\r\n```\r\nor set this one by programmatically\r\n```\r\nlistView().setDividerHeight(10)\r\n```","title":"Specify distance between listview items","body":"<p>You can try to set some tag in your list view like this:</p>\n<pre><code>&lt;ListView android:id=&quot;@+id/listView&quot;\n  android:layout_height=&quot;match_parent&quot;\n  android:layout_width=&quot;match_parent&quot;\n  android:divider=&quot;@android:color/transparent&quot;\n  android:dividerHeight=&quot;10.0sp&quot;/&gt;\n</code></pre>\n<p>or set this one by programmatically</p>\n<pre><code>listView().setDividerHeight(10)\n</code></pre>\n"}],"owner":{"account_id":13063592,"reputation":1,"user_id":9439849,"display_name":"SaMim Danish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638933451,"creation_date":1624982947,"question_id":68182272,"body_markdown":"Is there a way to remove destance between listview items?\r\n\r\nIf yes please tell me the way\r\n\r\nI want to creat a custom listview and remove space between items like this below image.\r\n\r\nItem 1 goes into item 2 and so on...\r\n\r\nExample &#128071;&#127995;&#128071;&#127995;&#128071;&#127995;\r\n\r\n[HUD design image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OQciR.jpg","title":"Specify distance between listview items","body":"<p>Is there a way to remove destance between listview items?</p>\n<p>If yes please tell me the way</p>\n<p>I want to creat a custom listview and remove space between items like this below image.</p>\n<p>Item 1 goes into item 2 and so on...</p>\n<p>Example ðŸ‘‡ðŸ»ðŸ‘‡ðŸ»ðŸ‘‡ðŸ»</p>\n<p><a href=\"https://i.stack.imgur.com/OQciR.jpg\" rel=\"nofollow noreferrer\">HUD design image</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638933403,"creation_date":1638933403,"answer_id":70269502,"question_id":70269364,"body_markdown":"You&#39;ve made things _far_ too complicated.\r\n\r\nThere is __no point__ in lambdas if you want to &#39;execute them immediately&#39;.\r\n\r\nHere is how you run your my test code &#39;immediately&#39;:\r\n\r\n```\r\nSystem.out.println(number &gt; 4);\r\n```\r\n\r\nWhy mess with lambdas? They just make matters confusing here.\r\n\r\nThe very _point_ of a lambda is two-fold:\r\n\r\n1. A way to transmit code itself to other contexts.\r\n2. Control flow abstraction.\r\n\r\nIn java in particular, option 2 is __an evil__ - it makes code ugly, harder to reason about, introduces pointless distractions, and in general should be avoided... unless you&#39;re employing it to avoid an even greater evil. That happens plenty - for example, a reasonable &#39;stream chain&#39; is generally better even though its control flow abstraction. I&#39;d say this:\r\n\r\n```\r\nint total = list.stream()\r\n  .filter(x -&gt; x.length() &lt; 5)\r\n  .mapToInt(Integer::valueOf)\r\n  .sum();\r\n```\r\n\r\nis the lesser evil compared to:\r\n\r\n```\r\nint total = 0;\r\nfor (var x : list) {\r\n  if (x.length() &lt; 5) continue;\r\n  total += Integer.parseInt(x);\r\n}\r\n```\r\n\r\nbut it is a pretty close call.\r\n\r\nWhy is it &#39;evil&#39;? Because lambdas in java are __non transparent__ in 3 important ways, and this non-transparency is __a good thing__ in the first case, but a __bad thing__ in the second. Specifically, lambdas are not transparent in these ways:\r\n\r\n1. Lambdas cannot change or even read local variables from outer scope unless they are (effectively) final.\r\n2. Lambdas cannot throw checked exceptions even if the outer scope would handle them (because they catch them or the method you&#39;re in declared `throws ThatException`).\r\n3. Lambdas cannot do control flow. You can&#39;t `break`, `continue`, or `return` from within a lambda to outside of it.\r\n\r\nThese 3 things are all useful and important things to be doing when you&#39;re dealing with basic control flow. Therefore, lambdas __should be avoided__ as you create a bunch of problems and inflexibility by using them... unless you&#39;ve avoided _more_ complexity and inflexibility of course. It&#39;s programming: Nothing is ever easy.\r\n\r\nThe notion of bundling up code is therefore much more useful, because those non-transparencies turn into upside:\r\n\r\n1. If you take the lambda code and export it to someplace that runs that code much later and in another thread, what does it even mean to modify a local variable at that point? The local variable is long gone (local vars are ordinarily declared on stack and disappear when the method that made them ends. That method has ended; your lambda survived this, and is now running in another context). Do we now start marking local vars as `volatile` to avoid thead issues? Oof.\r\n\r\n2. The fact that the outer code deals with a checked exception is irrelevant: The lexical scope that was available when you declared the lambda is no longer there, we&#39;ve long ago moved past it.\r\n\r\n3. Control flow - breaking out of or restarting a loop, or returning from a method. What loop? What method? They have already ended. The code makes no sense.\r\n\r\nSee? Lambda lack of transparency is __in all ways__ great (because they make no sense), __if__ your lambda is &#39;travelling&#39;. Hence, lambdas are best used for this, they have no downsides at that point.\r\n\r\nThus, let&#39;s talk about travelling lambdas: The very notion is to take code and __not__ execute it. Instead, you hand it off to other code that does whatever it wants. It may run it 2 days from now when someone connects to your web server, using path `/foobar`. It may run every time someone adds a new entry to a TreeSet in order to figure out where in the tree the item should be placed (that&#39;s precisely the fate of the lambda you pass to `new TreeSet&lt;X&gt;((a, b) -&gt; compare-a-and-b-here)`.\r\n\r\nEven in control flow situations (which are to be avoided if possible), your lambda still travels, it just travels to place that does immediately ends up using it, but the point of the lambda remains control flow abstraction: __You__ don&#39;t run the code in it, you hand your lambda off to something else which will then immediately run that 0 to many times. That&#39;s exactly what is happening here:\r\n\r\n```\r\nlist.forEach(System.out::println);\r\n```\r\n\r\nI&#39;m taking the code notion of `System.out.println(someString)`, and I don&#39;t run it - no, I bundle up that idea in a lambda and then pass this notion to list&#39;s forEach method which will then invoke it for me, on every item in the list. As mentioned, __this is bad code__, because it needlessly uses lambdas in control flow abstraction mdoe which is inferior to just `for (var item : list) System.out.println(item);`, but it gets the point across.\r\n\r\nIt just doesn&#39;t make sense to want to write a lambda and immediately execute it. Why not just... execute it?\r\n\r\nIn your example from the book, you don&#39;t actually execute the lambda as you make it. You just.. make it, and hand it off to the `runTest` method, and _it_ runs it. The clue is, `runTest` is a method (vs your attempts - `Predicate` is not a method), it&#39;s not magical or weird, just.. a method, that so happens to take a `Function&lt;A, B&gt;` as argument, and the lambda you write so happens to &#39;fit&#39; - it can be interpreted as an implementation of `Function&lt;A, B&gt;`, and thus that code compiles and does what it does.\r\n\r\nYou&#39;d have to do the same thing.\r\n\r\nBut, if that code is a single-use helper method, then there&#39;s no point to the lambda in the first place.\r\n","title":"Correct syntax for making a functional interface instance automatically call its method","body":"<p>You've made things <em>far</em> too complicated.</p>\n<p>There is <strong>no point</strong> in lambdas if you want to 'execute them immediately'.</p>\n<p>Here is how you run your my test code 'immediately':</p>\n<pre><code>System.out.println(number &gt; 4);\n</code></pre>\n<p>Why mess with lambdas? They just make matters confusing here.</p>\n<p>The very <em>point</em> of a lambda is two-fold:</p>\n<ol>\n<li>A way to transmit code itself to other contexts.</li>\n<li>Control flow abstraction.</li>\n</ol>\n<p>In java in particular, option 2 is <strong>an evil</strong> - it makes code ugly, harder to reason about, introduces pointless distractions, and in general should be avoided... unless you're employing it to avoid an even greater evil. That happens plenty - for example, a reasonable 'stream chain' is generally better even though its control flow abstraction. I'd say this:</p>\n<pre><code>int total = list.stream()\n  .filter(x -&gt; x.length() &lt; 5)\n  .mapToInt(Integer::valueOf)\n  .sum();\n</code></pre>\n<p>is the lesser evil compared to:</p>\n<pre><code>int total = 0;\nfor (var x : list) {\n  if (x.length() &lt; 5) continue;\n  total += Integer.parseInt(x);\n}\n</code></pre>\n<p>but it is a pretty close call.</p>\n<p>Why is it 'evil'? Because lambdas in java are <strong>non transparent</strong> in 3 important ways, and this non-transparency is <strong>a good thing</strong> in the first case, but a <strong>bad thing</strong> in the second. Specifically, lambdas are not transparent in these ways:</p>\n<ol>\n<li>Lambdas cannot change or even read local variables from outer scope unless they are (effectively) final.</li>\n<li>Lambdas cannot throw checked exceptions even if the outer scope would handle them (because they catch them or the method you're in declared <code>throws ThatException</code>).</li>\n<li>Lambdas cannot do control flow. You can't <code>break</code>, <code>continue</code>, or <code>return</code> from within a lambda to outside of it.</li>\n</ol>\n<p>These 3 things are all useful and important things to be doing when you're dealing with basic control flow. Therefore, lambdas <strong>should be avoided</strong> as you create a bunch of problems and inflexibility by using them... unless you've avoided <em>more</em> complexity and inflexibility of course. It's programming: Nothing is ever easy.</p>\n<p>The notion of bundling up code is therefore much more useful, because those non-transparencies turn into upside:</p>\n<ol>\n<li><p>If you take the lambda code and export it to someplace that runs that code much later and in another thread, what does it even mean to modify a local variable at that point? The local variable is long gone (local vars are ordinarily declared on stack and disappear when the method that made them ends. That method has ended; your lambda survived this, and is now running in another context). Do we now start marking local vars as <code>volatile</code> to avoid thead issues? Oof.</p>\n</li>\n<li><p>The fact that the outer code deals with a checked exception is irrelevant: The lexical scope that was available when you declared the lambda is no longer there, we've long ago moved past it.</p>\n</li>\n<li><p>Control flow - breaking out of or restarting a loop, or returning from a method. What loop? What method? They have already ended. The code makes no sense.</p>\n</li>\n</ol>\n<p>See? Lambda lack of transparency is <strong>in all ways</strong> great (because they make no sense), <strong>if</strong> your lambda is 'travelling'. Hence, lambdas are best used for this, they have no downsides at that point.</p>\n<p>Thus, let's talk about travelling lambdas: The very notion is to take code and <strong>not</strong> execute it. Instead, you hand it off to other code that does whatever it wants. It may run it 2 days from now when someone connects to your web server, using path <code>/foobar</code>. It may run every time someone adds a new entry to a TreeSet in order to figure out where in the tree the item should be placed (that's precisely the fate of the lambda you pass to <code>new TreeSet&lt;X&gt;((a, b) -&gt; compare-a-and-b-here)</code>.</p>\n<p>Even in control flow situations (which are to be avoided if possible), your lambda still travels, it just travels to place that does immediately ends up using it, but the point of the lambda remains control flow abstraction: <strong>You</strong> don't run the code in it, you hand your lambda off to something else which will then immediately run that 0 to many times. That's exactly what is happening here:</p>\n<pre><code>list.forEach(System.out::println);\n</code></pre>\n<p>I'm taking the code notion of <code>System.out.println(someString)</code>, and I don't run it - no, I bundle up that idea in a lambda and then pass this notion to list's forEach method which will then invoke it for me, on every item in the list. As mentioned, <strong>this is bad code</strong>, because it needlessly uses lambdas in control flow abstraction mdoe which is inferior to just <code>for (var item : list) System.out.println(item);</code>, but it gets the point across.</p>\n<p>It just doesn't make sense to want to write a lambda and immediately execute it. Why not just... execute it?</p>\n<p>In your example from the book, you don't actually execute the lambda as you make it. You just.. make it, and hand it off to the <code>runTest</code> method, and <em>it</em> runs it. The clue is, <code>runTest</code> is a method (vs your attempts - <code>Predicate</code> is not a method), it's not magical or weird, just.. a method, that so happens to take a <code>Function&lt;A, B&gt;</code> as argument, and the lambda you write so happens to 'fit' - it can be interpreted as an implementation of <code>Function&lt;A, B&gt;</code>, and thus that code compiles and does what it does.</p>\n<p>You'd have to do the same thing.</p>\n<p>But, if that code is a single-use helper method, then there's no point to the lambda in the first place.</p>\n"}],"owner":{"account_id":19142454,"reputation":355,"user_id":13982165,"display_name":"nluizsoliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70269502,"answer_count":1,"score":0,"last_activity_date":1638933403,"creation_date":1638932126,"question_id":70269364,"body_markdown":"I&#39;ve been watching Douglas Schmidt classes on Parallel Java. He introduces Lambda x method referencing syntax discussion, highlighting how the last one is preferable, as it makes clearer what the code is actually doing, not what the programmer is trying to do with the code, even more than `forEach` approach.  \r\n\r\n```java\r\nString[] names = {&quot;first&quot;, &quot;Second&quot;, &quot;third&quot;};\r\nArrays.sort(names, (n1,n2) -&gt; n1.compareToIgnoreCase(n2));\r\nArrays.sort(names, String::compareToIgnoreCase); //preferable\r\n``` \r\nFor example, that approach mitigates the chances of programmer making mistakes inside lambda function: passing the wrong argument, inverting arguments order, adding collateral effects, etc.\r\n\r\nThen he introduces Functional interfaces, an interface that contains only an abstract method, implementing its own interface `runTest` with an abstract method `factorial()`: \r\n```java\r\nprivate static &lt;T&gt; void runTest(Function&lt;T,T&gt; factorial, T n) {\r\n\t\tSystem.out.println(n+ &quot; factorial = &quot; + factorial.apply(n));\r\n\t}\r\n\t\r\n\tprivate static class ParallelStreamFactorial{\r\n\t\tstatic BigInteger factorial(BigInteger n) {\r\n\t\t\treturn LongStream\r\n\t\t\t\t\t.rangeClosed(1, n.longValue())\r\n\t\t\t\t\t.parallel()\r\n\t\t\t\t\t.mapToObj(BigInteger::valueOf)\r\n\t\t\t\t\t.reduce(BigInteger.ONE, BigInteger::multiply);\r\n\t\t}\r\n\t}\r\n``` \r\n\r\nCalling it with the following syntax: \r\n\r\n```java\r\nimport java.math.BigInteger;\r\nimport java.util.function.Function;\r\nimport java.util.stream.LongStream;\r\n\r\npublic static void main(String[] args) {\r\n\t\tBigInteger n = BigInteger.valueOf(3);\r\n\t\trunTest(ParallelStreamFactorial::factorial, n);\t\t\r\n\t}\r\n```\r\n\r\nThe code works and prints\r\n\r\n```\r\n3 factorial = 6\r\n```\r\n\r\nAs I&#39;m studying lambdas, I tried to interchange method reference syntax for lambda syntax, and managed to using: \r\n\r\n``` java\r\npublic static void main(String[] args) {\r\n\t\tBigInteger n = BigInteger.valueOf(3);\r\n\t\trunTest((number)-&gt;ParallelStreamFactorial.factorial(number), n);\r\n\t}\r\n```\r\nWhich also worked. \r\n\r\nThen he proceeds to explain built-in interfaces, such as `Predicate&lt;T&gt;{boolean test(T t);}`, and that&#39;s where I got stuck.  \r\n\r\nI managed to implement a `Predicate&lt;Integer&gt;` that tests if the integer is bigger than 0 using the three syntaxes:\r\n1. Instantiating an object `myPredicate` from a class that implements `Predicate&lt;Integer&gt;`\r\n2. Instantiating an object `lambdaPredicate` from a lambda\r\n3. Instantiating an object `methodReferencePredicate`from a method reference:\r\n\r\n```java\r\nimport java.util.function.Function;\r\nimport java.util.function.Predicate;\r\n\r\npublic class MyPredicates {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; constructorPredicate = new  myPredicate();\r\n\t\tSystem.out.println(constructorPredicate.test(4));\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; lambdaPredicate = (number)-&gt; number &gt; 0;\r\n\t\tSystem.out.println(lambdaPredicate.test(4));\r\n\t\t\r\n\t\tPredicate&lt;Integer&gt; methodReferencePredicate = myMethodReference::myTest;\r\n\t\tSystem.out.println(methodReferencePredicate.test(4));\r\n\r\n\t}\r\n\t\r\n\tprivate static class myPredicate implements Predicate&lt;Integer&gt;{\r\n\t\tpublic boolean test(Integer t) {\r\n\t\t\treturn t&gt;0;\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static class myMethodReference{\r\n\t\tpublic static boolean myTest(Integer t) {\r\n\t\t\treturn t&gt;0;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nAnd then calling their `.test()` methods. They&#39;re all three working and printing `true`. \r\n\r\nHowever I would like to &quot;instantiate and call&quot; everything in a single line, as he did in his example. It seems like his code is inferring the type of the argument passed (I may be wrong) but it&#39;s definitely running automatically. \r\n\r\nI tried different things: \r\n\r\n```\r\nPredicate&lt;Integer&gt;(myMethodReference::myTest, 4);\r\nPredicate(myMethodReference::myTest, 4);\r\nPredicate&lt;Integer&gt;((number) -&gt; myMethodReference.myTest(number), 4);\r\nPredicate((number) -&gt; myMethodReference.myTest(number), 4);\r\n```\r\n\r\nBut none of them work. \r\n\r\nThey throw: \r\n\r\n```\r\nSyntax error, insert &quot;;&quot; to complete LocalVariableDeclarationStatement\r\n```\r\nand\r\n\r\n```\r\nThe method Predicate(myMethodReference::myTest, int) is undefined for the type MyPredicates\r\n```\r\n\r\nErrors. I also don&#39;t even know the name of what he&#39;s doing in that single line to properly search better on internet for references. \r\n\r\nWhat&#39;s the correct syntax for that, whether by method reference or lambdas? ","title":"Correct syntax for making a functional interface instance automatically call its method","body":"<p>I've been watching Douglas Schmidt classes on Parallel Java. He introduces Lambda x method referencing syntax discussion, highlighting how the last one is preferable, as it makes clearer what the code is actually doing, not what the programmer is trying to do with the code, even more than <code>forEach</code> approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] names = {&quot;first&quot;, &quot;Second&quot;, &quot;third&quot;};\nArrays.sort(names, (n1,n2) -&gt; n1.compareToIgnoreCase(n2));\nArrays.sort(names, String::compareToIgnoreCase); //preferable\n</code></pre>\n<p>For example, that approach mitigates the chances of programmer making mistakes inside lambda function: passing the wrong argument, inverting arguments order, adding collateral effects, etc.</p>\n<p>Then he introduces Functional interfaces, an interface that contains only an abstract method, implementing its own interface <code>runTest</code> with an abstract method <code>factorial()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;T&gt; void runTest(Function&lt;T,T&gt; factorial, T n) {\n        System.out.println(n+ &quot; factorial = &quot; + factorial.apply(n));\n    }\n    \n    private static class ParallelStreamFactorial{\n        static BigInteger factorial(BigInteger n) {\n            return LongStream\n                    .rangeClosed(1, n.longValue())\n                    .parallel()\n                    .mapToObj(BigInteger::valueOf)\n                    .reduce(BigInteger.ONE, BigInteger::multiply);\n        }\n    }\n</code></pre>\n<p>Calling it with the following syntax:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigInteger;\nimport java.util.function.Function;\nimport java.util.stream.LongStream;\n\npublic static void main(String[] args) {\n        BigInteger n = BigInteger.valueOf(3);\n        runTest(ParallelStreamFactorial::factorial, n);     \n    }\n</code></pre>\n<p>The code works and prints</p>\n<pre><code>3 factorial = 6\n</code></pre>\n<p>As I'm studying lambdas, I tried to interchange method reference syntax for lambda syntax, and managed to using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        BigInteger n = BigInteger.valueOf(3);\n        runTest((number)-&gt;ParallelStreamFactorial.factorial(number), n);\n    }\n</code></pre>\n<p>Which also worked.</p>\n<p>Then he proceeds to explain built-in interfaces, such as <code>Predicate&lt;T&gt;{boolean test(T t);}</code>, and that's where I got stuck.</p>\n<p>I managed to implement a <code>Predicate&lt;Integer&gt;</code> that tests if the integer is bigger than 0 using the three syntaxes:</p>\n<ol>\n<li>Instantiating an object <code>myPredicate</code> from a class that implements <code>Predicate&lt;Integer&gt;</code></li>\n<li>Instantiating an object <code>lambdaPredicate</code> from a lambda</li>\n<li>Instantiating an object <code>methodReferencePredicate</code>from a method reference:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Function;\nimport java.util.function.Predicate;\n\npublic class MyPredicates {\n    \n    public static void main(String[] args) {\n        \n        Predicate&lt;Integer&gt; constructorPredicate = new  myPredicate();\n        System.out.println(constructorPredicate.test(4));\n        \n        Predicate&lt;Integer&gt; lambdaPredicate = (number)-&gt; number &gt; 0;\n        System.out.println(lambdaPredicate.test(4));\n        \n        Predicate&lt;Integer&gt; methodReferencePredicate = myMethodReference::myTest;\n        System.out.println(methodReferencePredicate.test(4));\n\n    }\n    \n    private static class myPredicate implements Predicate&lt;Integer&gt;{\n        public boolean test(Integer t) {\n            return t&gt;0;\n        }\n    }\n    \n    private static class myMethodReference{\n        public static boolean myTest(Integer t) {\n            return t&gt;0;\n        }\n    }\n}\n</code></pre>\n<p>And then calling their <code>.test()</code> methods. They're all three working and printing <code>true</code>.</p>\n<p>However I would like to &quot;instantiate and call&quot; everything in a single line, as he did in his example. It seems like his code is inferring the type of the argument passed (I may be wrong) but it's definitely running automatically.</p>\n<p>I tried different things:</p>\n<pre><code>Predicate&lt;Integer&gt;(myMethodReference::myTest, 4);\nPredicate(myMethodReference::myTest, 4);\nPredicate&lt;Integer&gt;((number) -&gt; myMethodReference.myTest(number), 4);\nPredicate((number) -&gt; myMethodReference.myTest(number), 4);\n</code></pre>\n<p>But none of them work.</p>\n<p>They throw:</p>\n<pre><code>Syntax error, insert &quot;;&quot; to complete LocalVariableDeclarationStatement\n</code></pre>\n<p>and</p>\n<pre><code>The method Predicate(myMethodReference::myTest, int) is undefined for the type MyPredicates\n</code></pre>\n<p>Errors. I also don't even know the name of what he's doing in that single line to properly search better on internet for references.</p>\n<p>What's the correct syntax for that, whether by method reference or lambdas?</p>\n"},{"tags":["java","upgrade","apache-axis","rampart"],"owner":{"account_id":7014050,"reputation":11,"user_id":5375990,"display_name":"Joey J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638933380,"creation_date":1614275351,"question_id":66373832,"body_markdown":"I am using legacy Axis2 web services. So, far it was running fine and now we are planning to upgrade Axis2 version from 1.6.1 to 1.7.6 and rampart lib version from 1.6.1 to 1.7.1. Any suggestion as what is best approach to do it, since this is legacy system so we dont have lot of information. I have been trying to copy all the jar and mar but doesnt seem to be working.\r\n\r\nIs there any steps that needs to be followed to do it the right way.","title":"Axis2 and Rampart lib from ver 1.6.1 to 1.7.6/1.7.1 respectively","body":"<p>I am using legacy Axis2 web services. So, far it was running fine and now we are planning to upgrade Axis2 version from 1.6.1 to 1.7.6 and rampart lib version from 1.6.1 to 1.7.1. Any suggestion as what is best approach to do it, since this is legacy system so we dont have lot of information. I have been trying to copy all the jar and mar but doesnt seem to be working.</p>\n<p>Is there any steps that needs to be followed to do it the right way.</p>\n"},{"tags":["java","annotations","equals"],"comments":[{"owner":{"account_id":1244205,"reputation":1566,"user_id":1205997,"display_name":"rees"},"score":2,"creation_date":1382902100,"post_id":6826014,"comment_id":29130184,"body_markdown":"`a1.equals(a2);` will work.  This is the default behavior for annotations -  it checks that the annotations are of the same type and that each of the annotation fields are equal.  No special work arounds required.","body":"<code>a1.equals(a2);</code> will work.  This is the default behavior for annotations -  it checks that the annotations are of the same type and that each of the annotation fields are equal.  No special work arounds required."}],"answers":[{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311661082,"creation_date":1311661082,"answer_id":6826058,"question_id":6826014,"body_markdown":"Doesn&#39;t the [overriden equals][1] for `Annotation` work? Maybe I don&#39;t understand your question.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/annotation/Annotation.html#equals%28java.lang.Object%29","title":"How to check equality of annotations?","body":"<p>Doesn't the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/annotation/Annotation.html#equals%28java.lang.Object%29\" rel=\"nofollow\">overriden equals</a> for <code>Annotation</code> work? Maybe I don't understand your question.</p>\n"},{"tags":[],"owner":{"account_id":8129777,"reputation":21,"user_id":6123428,"display_name":"Guitar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459489204,"creation_date":1459489204,"answer_id":36348849,"question_id":6826014,"body_markdown":"If you want to check whether a1 and a2 are the same annotation. Try this:\r\na1.annotationType().equals(a2.annotationType())","title":"How to check equality of annotations?","body":"<p>If you want to check whether a1 and a2 are the same annotation. Try this:\na1.annotationType().equals(a2.annotationType())</p>\n"},{"tags":[],"owner":{"account_id":2397230,"reputation":11,"user_id":2095815,"display_name":"JET"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638933321,"creation_date":1638932933,"answer_id":70269443,"question_id":6826014,"body_markdown":"The annoying part of my answer is I can not extend a custom annotation (in the sense of inheritance). That would have simplified the equals method.\r\n\r\nFirst.java\r\n````\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD})\r\npublic @interface First  {\r\n  String name() default &quot;&quot;;\r\n  String value() default &quot;&quot;;\r\n}\r\n`````\r\nSecond.java\r\n````\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.FIELD})\r\npublic @interface Second {\r\n    String name() default &quot;&quot;;\r\n    String value() default &quot;&quot;;\r\n}\r\n````\r\nThing1.java\r\n````\r\npublic class Thing1 {\r\n     @First(name = &quot;1&quot;, value =&quot;1&quot;)\r\n     Object leftSideCase1;\r\n     @Second(name = &quot;1&quot;, value =&quot;1&quot;)\r\n     Object rightSideCase1;\r\n\r\n     @First(value =&quot;2&quot;)\r\n     Object leftSideCase2;\r\n     @First(name = &quot;2&quot;)\r\n     Object rightSideCase2;\r\n\r\n     @First(value =&quot;3&quot;)\r\n     Object leftSideCase3;\r\n     @First(value =&quot;3&quot;)\r\n     Object rightSideCase3;\r\n\r\n     @First(name = &quot;4&quot;, value =&quot;4&quot;)\r\n     Object leftSideCase4;\r\n     @First(name = &quot;4&quot;, value =&quot;4&quot;)\r\n     Object rightSideCase4;\r\n}\r\n````\r\n\r\nExample.java\r\n````\r\npublic class Example {\r\n\r\n\r\n    public static void main(String[] args) throws NoSuchFieldException {\r\n        String [][] fieldNameOfCases = {\r\n                {&quot;leftSideCase1&quot;,&quot;rightSideCase1&quot;},\r\n                {&quot;leftSideCase2&quot;,&quot;rightSideCase2&quot;},\r\n                {&quot;leftSideCase3&quot;,&quot;rightSideCase3&quot;},\r\n                {&quot;leftSideCase4&quot;,&quot;rightSideCase4&quot;},\r\n        };\r\n\r\n        // Loop through the list of field names, paired up by test case\r\n        // Note: It&#39;s the construction of Thing1 that matches your question&#39;s\r\n        // &quot;sample input():&quot;\r\n        for(int index=0; index &lt; fieldNameOfCases.length; index++) {\r\n            Annotation leftSideAnnotation = getAnnotation(Thing1.class, fieldNameOfCases[index][0]);\r\n            Annotation rightSideAnnotation = getAnnotation(Thing1.class, fieldNameOfCases[index][1]);\r\n            System.out.println(equal(leftSideAnnotation, rightSideAnnotation));\r\n        }\r\n    }\r\n\r\n    private static Annotation getAnnotation(Class&lt;Thing1&gt; thing1Class, String fieldName) throws NoSuchFieldException {\r\n        Field classMemberField = Thing1.class.getDeclaredField(fieldName);\r\n        Annotation[] annotations = classMemberField.getAnnotations();\r\n        // ASSUME ONE ANNOTATION PER FIELD\r\n        return annotations[0];\r\n    }\r\n\r\n    // This is my solution to the question\r\n    public static boolean equal(Annotation a1, Annotation a2) {\r\n       if(a1.getClass() != a2.getClass()) {\r\n           return false;\r\n       }\r\n       if(a1 instanceof First) {\r\n           if( ((First)a1).name().equals(((First)a2).name())  &amp;&amp;\r\n               ((First)a1).value().equals(((First)a2).value()) ) {\r\n               return true;\r\n           }\r\n           return false;\r\n       }\r\n       // Its annoying we can&#39;t leverage inheritance with the custom annotation\r\n       // to remove duplicate code!! \r\n       if(a1 instanceof Second) {\r\n            if( ((Second)a1).name().equals(((Second)a2).name())  &amp;&amp;\r\n                ((Second)a1).value().equals(((Second)a2).value()) ) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n````\r\n\r\n**Note:** I did not introduce a NamePairValue holder to use within First, and Second (custom annotation) because this didn&#39;t match the &quot;sample input():&quot; **exactly**!\r\n\r\nSee this Stack Trace for details for this style / solution.\r\nhttps://stackoverflow.com/questions/22126851/how-to-extend-java-annotation\r\n\r\nThis question is 10 years old but the question was not answered as asked by Roman. With **4k views, I hope this helps someone**!!","title":"How to check equality of annotations?","body":"<p>The annoying part of my answer is I can not extend a custom annotation (in the sense of inheritance). That would have simplified the equals method.</p>\n<p>First.java</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD})\npublic @interface First  {\n  String name() default &quot;&quot;;\n  String value() default &quot;&quot;;\n}\n</code></pre>\n<p>Second.java</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD})\npublic @interface Second {\n    String name() default &quot;&quot;;\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>Thing1.java</p>\n<pre><code>public class Thing1 {\n     @First(name = &quot;1&quot;, value =&quot;1&quot;)\n     Object leftSideCase1;\n     @Second(name = &quot;1&quot;, value =&quot;1&quot;)\n     Object rightSideCase1;\n\n     @First(value =&quot;2&quot;)\n     Object leftSideCase2;\n     @First(name = &quot;2&quot;)\n     Object rightSideCase2;\n\n     @First(value =&quot;3&quot;)\n     Object leftSideCase3;\n     @First(value =&quot;3&quot;)\n     Object rightSideCase3;\n\n     @First(name = &quot;4&quot;, value =&quot;4&quot;)\n     Object leftSideCase4;\n     @First(name = &quot;4&quot;, value =&quot;4&quot;)\n     Object rightSideCase4;\n}\n</code></pre>\n<p>Example.java</p>\n<pre><code>public class Example {\n\n\n    public static void main(String[] args) throws NoSuchFieldException {\n        String [][] fieldNameOfCases = {\n                {&quot;leftSideCase1&quot;,&quot;rightSideCase1&quot;},\n                {&quot;leftSideCase2&quot;,&quot;rightSideCase2&quot;},\n                {&quot;leftSideCase3&quot;,&quot;rightSideCase3&quot;},\n                {&quot;leftSideCase4&quot;,&quot;rightSideCase4&quot;},\n        };\n\n        // Loop through the list of field names, paired up by test case\n        // Note: It's the construction of Thing1 that matches your question's\n        // &quot;sample input():&quot;\n        for(int index=0; index &lt; fieldNameOfCases.length; index++) {\n            Annotation leftSideAnnotation = getAnnotation(Thing1.class, fieldNameOfCases[index][0]);\n            Annotation rightSideAnnotation = getAnnotation(Thing1.class, fieldNameOfCases[index][1]);\n            System.out.println(equal(leftSideAnnotation, rightSideAnnotation));\n        }\n    }\n\n    private static Annotation getAnnotation(Class&lt;Thing1&gt; thing1Class, String fieldName) throws NoSuchFieldException {\n        Field classMemberField = Thing1.class.getDeclaredField(fieldName);\n        Annotation[] annotations = classMemberField.getAnnotations();\n        // ASSUME ONE ANNOTATION PER FIELD\n        return annotations[0];\n    }\n\n    // This is my solution to the question\n    public static boolean equal(Annotation a1, Annotation a2) {\n       if(a1.getClass() != a2.getClass()) {\n           return false;\n       }\n       if(a1 instanceof First) {\n           if( ((First)a1).name().equals(((First)a2).name())  &amp;&amp;\n               ((First)a1).value().equals(((First)a2).value()) ) {\n               return true;\n           }\n           return false;\n       }\n       // Its annoying we can't leverage inheritance with the custom annotation\n       // to remove duplicate code!! \n       if(a1 instanceof Second) {\n            if( ((Second)a1).name().equals(((Second)a2).name())  &amp;&amp;\n                ((Second)a1).value().equals(((Second)a2).value()) ) {\n                return true;\n            }\n            return false;\n        }\n        return false;\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> I did not introduce a NamePairValue holder to use within First, and Second (custom annotation) because this didn't match the &quot;sample input():&quot; <strong>exactly</strong>!</p>\n<p>See this Stack Trace for details for this style / solution.\n<a href=\"https://stackoverflow.com/questions/22126851/how-to-extend-java-annotation\">How to extend Java annotation?</a></p>\n<p>This question is 10 years old but the question was not answered as asked by Roman. With <strong>4k views, I hope this helps someone</strong>!!</p>\n"}],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4905,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1638933321,"creation_date":1311660772,"question_id":6826014,"body_markdown":"How would you implement this method:\r\n\r\n    public boolean equal(Annotation a1, Annotation a2) {\r\n       ...\r\n    }\r\n\r\nSample input ():\r\n\r\n    @First(name=&quot;1&quot;, value=&quot;1&quot;), @Second(name=&quot;1&quot;, value=&quot;1&quot;)\r\n    @First(value=&quot;2&quot;),           @First(name=&quot;2&quot;)\r\n    @First(value=&quot;3&quot;),           @First(value=&quot;3&quot;)\r\n    @Second(name=&quot;4&quot;, value=&quot;4), @Second(name=&quot;4&quot;, value=&quot;4&quot;)\r\n\r\nSample output:\r\n\r\n    false\r\n    false\r\n    true\r\n    true\r\n\r\nAs you can see, the expected behavior of `equal` is clear and similar to expected behavior of standard `equals` method of regular objects in java (the problem is that we cannot override `equals` for annotations).\r\n\r\nAre there any libs or standard implementations?","title":"How to check equality of annotations?","body":"<p>How would you implement this method:</p>\n\n<pre><code>public boolean equal(Annotation a1, Annotation a2) {\n   ...\n}\n</code></pre>\n\n<p>Sample input ():</p>\n\n<pre><code>@First(name=\"1\", value=\"1\"), @Second(name=\"1\", value=\"1\")\n@First(value=\"2\"),           @First(name=\"2\")\n@First(value=\"3\"),           @First(value=\"3\")\n@Second(name=\"4\", value=\"4), @Second(name=\"4\", value=\"4\")\n</code></pre>\n\n<p>Sample output:</p>\n\n<pre><code>false\nfalse\ntrue\ntrue\n</code></pre>\n\n<p>As you can see, the expected behavior of <code>equal</code> is clear and similar to expected behavior of standard <code>equals</code> method of regular objects in java (the problem is that we cannot override <code>equals</code> for annotations).</p>\n\n<p>Are there any libs or standard implementations?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1638864585,"post_id":70256734,"comment_id":124194623,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":23571117,"reputation":11,"user_id":17611247,"display_name":"ningzhaobin"},"score":0,"creation_date":1638867607,"post_id":70256734,"comment_id":124195590,"body_markdown":"What should I do when the data in memory is empty after changing permissions","body":"What should I do when the data in memory is empty after changing permissions"}],"answers":[{"tags":[],"owner":{"account_id":23571117,"reputation":11,"user_id":17611247,"display_name":"ningzhaobin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638933127,"creation_date":1638933127,"answer_id":70269467,"question_id":70256734,"body_markdown":"  Check whether it is empty in advance in my base class, and then to startPage(SplashActivity)\r\n\r\n\r\n    if (!(this instanceof SplashActivity)){\r\n            if (Constants.LanguageInitCache.languageInitBean==null){\r\n                startActivity(new Intent(getBaseContext(),SplashActivity.class));\r\n                finish();\r\n                return;\r\n            }\r\n        }","title":"When I change the storage permission, I can&#39;t read the data stored in memory","body":"<p>Check whether it is empty in advance in my base class, and then to startPage(SplashActivity)</p>\n<pre><code>if (!(this instanceof SplashActivity)){\n        if (Constants.LanguageInitCache.languageInitBean==null){\n            startActivity(new Intent(getBaseContext(),SplashActivity.class));\n            finish();\n            return;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":23571117,"reputation":11,"user_id":17611247,"display_name":"ningzhaobin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638933127,"creation_date":1638864362,"question_id":70256734,"body_markdown":"When I change the storage permission, I can&#39;t read the data stored in the memory\r\n\r\nNullPointerException: Attempt to read from field&#39;LanguageInitBean$Data LanguageInitBean.data&#39; on a null object reference\r\n\r\nChange permissions in settings at app runtime\r\n\r\nAsk for help\r\n------------\r\n\r\n    public static class LanguageInitCache{\r\n        public static LanguageInitBean languageInitBean;\r\n    }\r\n    private void startToNext(String response) {\r\n        languageInitBean = GsonUtils.json2Bean(response, LanguageInitBean.class);\r\n    }","title":"When I change the storage permission, I can&#39;t read the data stored in memory","body":"<p>When I change the storage permission, I can't read the data stored in the memory</p>\n<p>NullPointerException: Attempt to read from field'LanguageInitBean$Data LanguageInitBean.data' on a null object reference</p>\n<p>Change permissions in settings at app runtime</p>\n<h2>Ask for help</h2>\n<pre><code>public static class LanguageInitCache{\n    public static LanguageInitBean languageInitBean;\n}\nprivate void startToNext(String response) {\n    languageInitBean = GsonUtils.json2Bean(response, LanguageInitBean.class);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rabbitmq","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638932337,"creation_date":1638932337,"answer_id":70269387,"question_id":70206251,"body_markdown":"Just adding my solution here.\r\n\r\nBy default spring was adding my listeners into an exchange `jms.durable.queues` on queues with `non-ampq`\r\n\r\nBecause this when publishing by application was working but when adding TextMessage on console was throwing error. All messages published on console was a non-ampq message getting conflict on spring-jms-client lib for invalid headers.\r\n\r\n\r\n### Solution:\r\nI added a destination resolver that connects to my queues on amqp without creating default exchange `jms.durable.queues`\r\nMore details of solution here: https://stackoverflow.com/a/70269301/7505687\r\n","title":"invalid stream header - when publishing message manually on rabbitmq console","body":"<p>Just adding my solution here.</p>\n<p>By default spring was adding my listeners into an exchange <code>jms.durable.queues</code> on queues with <code>non-ampq</code></p>\n<p>Because this when publishing by application was working but when adding TextMessage on console was throwing error. All messages published on console was a non-ampq message getting conflict on spring-jms-client lib for invalid headers.</p>\n<h3>Solution:</h3>\n<p>I added a destination resolver that connects to my queues on amqp without creating default exchange <code>jms.durable.queues</code>\nMore details of solution here: <a href=\"https://stackoverflow.com/a/70269301/7505687\">https://stackoverflow.com/a/70269301/7505687</a></p>\n"}],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70269387,"answer_count":1,"score":0,"last_activity_date":1638932337,"creation_date":1638478046,"question_id":70206251,"body_markdown":"I have an application with spring-jms, spring-boot and rabbitmq-jms.\r\n\r\n\r\nWhen I try send a message and recieve by application runs successfully.\r\nBut when I publish message manually on rabbitmq console I got error bellow on application listening:\r\n```log\r\ncom.rabbitmq.jms.util.RMQJMSException: invalid stream header: 61736466\r\n\tat com.rabbitmq.jms.client.RMQMessage.fromMessage(RMQMessage.java:1140) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\tat com.rabbitmq.jms.client.RMQMessage.convertJmsMessage(RMQMessage.java:913) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\tat com.rabbitmq.jms.client.RMQMessage.convertMessage(RMQMessage.java:907) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\tat com.rabbitmq.jms.client.RMQMessageConsumer.receive(RMQMessageConsumer.java:356) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\tat com.rabbitmq.jms.client.RMQMessageConsumer.receive(RMQMessageConsumer.java:269) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\tat org.springframework.jms.support.destination.JmsDestinationAccessor.receiveFromConsumer(JmsDestinationAccessor.java:132) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveMessage(AbstractPollingMessageListenerContainer.java:418) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:303) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120) ~[spring-jms-5.3.13.jar:5.3.13]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\nCaused by: java.io.StreamCorruptedException: invalid stream header: 61736466\r\n\tat java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:940) ~[na:na]\r\n\tat java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:379) ~[na:na]\r\n\tat com.rabbitmq.jms.util.WhiteListObjectInputStream.&lt;init&gt;(WhiteListObjectInputStream.java:90) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\tat com.rabbitmq.jms.client.RMQMessage.fromMessage(RMQMessage.java:1114) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\r\n\t... 12 common frames omitted\r\n\r\n```\r\nThis is my JMS configuration\r\n```java\r\n\r\n@EnableJms\r\n@Configuration\r\npublic class ConnectionRabbitConfig {\r\n\r\n    @Autowired RabbitProperties rabbitProperties;\r\n\r\n    @Bean\r\n    public ConnectionFactory jmsConnectionFactory() {\r\n        RMQConnectionFactory connectionFactory = new RMQConnectionFactory();\r\n        connectionFactory.setUsername(rabbitProperties.getUser());\r\n        connectionFactory.setPassword(rabbitProperties.getPass());\r\n        connectionFactory.setVirtualHost(rabbitProperties.getVirtualhost());\r\n        connectionFactory.setHost(rabbitProperties.getHost());\r\n        connectionFactory.setPort(rabbitProperties.getPort());\r\n        return connectionFactory;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(@Autowired ConnectionFactory connectionFactory) {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory);\r\n        factory.setAutoStartup(rabbitProperties.getListenerEnabled());\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public JmsTemplate defaultJmsTemplate(@Autowired ConnectionFactory connectionFactory) {\r\n        return new JmsTemplate(connectionFactory);\r\n    }\r\n\r\n}\r\n\r\n```\r\nPublishing message\r\n```java\r\n\r\n@Autowired\r\nprivate JmsTemplate jmsTemplate;\r\n\r\npublic void publish(String queueName, String message, Map&lt;String, Object&gt; headers) {\r\n    jmsTemplate.convertAndSend(queueName, message );\r\n}\r\n\r\n```\r\nConsuming message\r\n```java\r\n@JmsListener(destination = &quot;queue-1&quot;)\r\npublic void consume(@Payload Message message,  @Headers MessageHeaders headers) {\r\n        // runs successfully if I listen message added by same application\r\n        // but if I try to add manualy on rabbit console I got error.\r\n}\r\n```\r\nlibs \r\n```\r\n  implementation &#39;org.springframework:spring-jms:5.3.13&#39;\r\n  implementation &#39;com.rabbitmq.jms:rabbitmq-jms:2.3.0&#39;\r\n```\r\n\r\nWhy do I need add on properties or headers on rabbit console for listening on application successfully? Or Do I need change something on configuration code?\r\n\r\n\r\n","title":"invalid stream header - when publishing message manually on rabbitmq console","body":"<p>I have an application with spring-jms, spring-boot and rabbitmq-jms.</p>\n<p>When I try send a message and recieve by application runs successfully.\nBut when I publish message manually on rabbitmq console I got error bellow on application listening:</p>\n<pre><code>com.rabbitmq.jms.util.RMQJMSException: invalid stream header: 61736466\n    at com.rabbitmq.jms.client.RMQMessage.fromMessage(RMQMessage.java:1140) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    at com.rabbitmq.jms.client.RMQMessage.convertJmsMessage(RMQMessage.java:913) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    at com.rabbitmq.jms.client.RMQMessage.convertMessage(RMQMessage.java:907) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    at com.rabbitmq.jms.client.RMQMessageConsumer.receive(RMQMessageConsumer.java:356) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    at com.rabbitmq.jms.client.RMQMessageConsumer.receive(RMQMessageConsumer.java:269) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    at org.springframework.jms.support.destination.JmsDestinationAccessor.receiveFromConsumer(JmsDestinationAccessor.java:132) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveMessage(AbstractPollingMessageListenerContainer.java:418) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:303) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:257) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227) ~[spring-jms-5.3.13.jar:5.3.13]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120) ~[spring-jms-5.3.13.jar:5.3.13]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: java.io.StreamCorruptedException: invalid stream header: 61736466\n    at java.base/java.io.ObjectInputStream.readStreamHeader(ObjectInputStream.java:940) ~[na:na]\n    at java.base/java.io.ObjectInputStream.&lt;init&gt;(ObjectInputStream.java:379) ~[na:na]\n    at com.rabbitmq.jms.util.WhiteListObjectInputStream.&lt;init&gt;(WhiteListObjectInputStream.java:90) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    at com.rabbitmq.jms.client.RMQMessage.fromMessage(RMQMessage.java:1114) ~[rabbitmq-jms-2.3.0.jar:2.3.0]\n    ... 12 common frames omitted\n\n</code></pre>\n<p>This is my JMS configuration</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@EnableJms\n@Configuration\npublic class ConnectionRabbitConfig {\n\n    @Autowired RabbitProperties rabbitProperties;\n\n    @Bean\n    public ConnectionFactory jmsConnectionFactory() {\n        RMQConnectionFactory connectionFactory = new RMQConnectionFactory();\n        connectionFactory.setUsername(rabbitProperties.getUser());\n        connectionFactory.setPassword(rabbitProperties.getPass());\n        connectionFactory.setVirtualHost(rabbitProperties.getVirtualhost());\n        connectionFactory.setHost(rabbitProperties.getHost());\n        connectionFactory.setPort(rabbitProperties.getPort());\n        return connectionFactory;\n    }\n\n\n    @Bean\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory(@Autowired ConnectionFactory connectionFactory) {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory);\n        factory.setAutoStartup(rabbitProperties.getListenerEnabled());\n        return factory;\n    }\n\n    @Bean\n    public JmsTemplate defaultJmsTemplate(@Autowired ConnectionFactory connectionFactory) {\n        return new JmsTemplate(connectionFactory);\n    }\n\n}\n\n</code></pre>\n<p>Publishing message</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Autowired\nprivate JmsTemplate jmsTemplate;\n\npublic void publish(String queueName, String message, Map&lt;String, Object&gt; headers) {\n    jmsTemplate.convertAndSend(queueName, message );\n}\n\n</code></pre>\n<p>Consuming message</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JmsListener(destination = &quot;queue-1&quot;)\npublic void consume(@Payload Message message,  @Headers MessageHeaders headers) {\n        // runs successfully if I listen message added by same application\n        // but if I try to add manualy on rabbit console I got error.\n}\n</code></pre>\n<p>libs</p>\n<pre><code>  implementation 'org.springframework:spring-jms:5.3.13'\n  implementation 'com.rabbitmq.jms:rabbitmq-jms:2.3.0'\n</code></pre>\n<p>Why do I need add on properties or headers on rabbit console for listening on application successfully? Or Do I need change something on configuration code?</p>\n"},{"tags":["java","spring-boot","spring-jms","spring-rabbit","rabbitmq-exchange"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1638892400,"creation_date":1638848960,"answer_id":70254724,"question_id":70253351,"body_markdown":"See source code of this class in RabbitMQ JMS Client: https://github.com/rabbitmq/rabbitmq-jms-client/blob/main/src/main/java/com/rabbitmq/jms/admin/RMQDestination.java.\r\n\r\nSince you donâ€™t provide an exchange explicitly that queue name is really bound to that default exchange.\r\n\r\n\r\nSee more docs about this JMS client and how to declare destinations manually for specific exchange and binding : https://www.rabbitmq.com/jms-client.html. \r\n\r\n\r\n**UPDATE**\r\n\r\nSee that documentation closer: https://www.rabbitmq.com/jms-client.html#destination-interoperability\r\n\r\n    @Bean\r\n    public Destination jmsDestination() {\r\n        RMQDestination jmsDestination = new RMQDestination();\r\n        jmsDestination.setDestinationName(&quot;myQueue&quot;);\r\n        jmsDestination.setAmqp(true);\r\n        jmsDestination.setAmqpQueueName(&quot;rabbitQueueName&quot;);\r\n        return jmsDestination;\r\n    }\r\n\r\nThen look into `@JmsListener` JavaDocs:\r\n\r\n\t/**\r\n\t * The destination name for this listener, resolved through the container-wide\r\n\t * {@link org.springframework.jms.support.destination.DestinationResolver} strategy.\r\n\t */\r\n\tString destination();\r\n\r\nThe `JmsDestinationAccessor` uses a `DynamicDestinationResolver` by default, which, probably, is not going to work over here for us since it is going to do whatever you have so far with that `jms.durable.queues` exchange.\r\n\r\nSo, another option to consider for your solution is the custom:\r\n\r\n\t/**\r\n\t * The bean name of the {@link org.springframework.jms.config.JmsListenerContainerFactory}\r\n\t * to use to create the message listener container responsible for serving this endpoint.\r\n\t * &lt;p&gt;If not specified, the default container factory is used, if any.\r\n\t */\r\n\tString containerFactory() default &quot;&quot;;\r\n\r\n\r\nSo, you need to add a bean for the `DefaultJmsListenerContainerFactory` and inject into its `setDestinationResolver(DestinationResolver)` a `BeanFactoryDestinationResolver`. Then you provide a `RMQDestination` bean name into that `destination` option of your `@JmsListener` method and `BeanFactory` is going to give you a proper `RMQDestination` with desired exchange and binding.","title":"spring-jms - listener exchange and bind queue by jms configuration","body":"<p>See source code of this class in RabbitMQ JMS Client: <a href=\"https://github.com/rabbitmq/rabbitmq-jms-client/blob/main/src/main/java/com/rabbitmq/jms/admin/RMQDestination.java\" rel=\"nofollow noreferrer\">https://github.com/rabbitmq/rabbitmq-jms-client/blob/main/src/main/java/com/rabbitmq/jms/admin/RMQDestination.java</a>.</p>\n<p>Since you donâ€™t provide an exchange explicitly that queue name is really bound to that default exchange.</p>\n<p>See more docs about this JMS client and how to declare destinations manually for specific exchange and binding : <a href=\"https://www.rabbitmq.com/jms-client.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/jms-client.html</a>.</p>\n<p><strong>UPDATE</strong></p>\n<p>See that documentation closer: <a href=\"https://www.rabbitmq.com/jms-client.html#destination-interoperability\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/jms-client.html#destination-interoperability</a></p>\n<pre><code>@Bean\npublic Destination jmsDestination() {\n    RMQDestination jmsDestination = new RMQDestination();\n    jmsDestination.setDestinationName(&quot;myQueue&quot;);\n    jmsDestination.setAmqp(true);\n    jmsDestination.setAmqpQueueName(&quot;rabbitQueueName&quot;);\n    return jmsDestination;\n}\n</code></pre>\n<p>Then look into <code>@JmsListener</code> JavaDocs:</p>\n<pre><code>/**\n * The destination name for this listener, resolved through the container-wide\n * {@link org.springframework.jms.support.destination.DestinationResolver} strategy.\n */\nString destination();\n</code></pre>\n<p>The <code>JmsDestinationAccessor</code> uses a <code>DynamicDestinationResolver</code> by default, which, probably, is not going to work over here for us since it is going to do whatever you have so far with that <code>jms.durable.queues</code> exchange.</p>\n<p>So, another option to consider for your solution is the custom:</p>\n<pre><code>/**\n * The bean name of the {@link org.springframework.jms.config.JmsListenerContainerFactory}\n * to use to create the message listener container responsible for serving this endpoint.\n * &lt;p&gt;If not specified, the default container factory is used, if any.\n */\nString containerFactory() default &quot;&quot;;\n</code></pre>\n<p>So, you need to add a bean for the <code>DefaultJmsListenerContainerFactory</code> and inject into its <code>setDestinationResolver(DestinationResolver)</code> a <code>BeanFactoryDestinationResolver</code>. Then you provide a <code>RMQDestination</code> bean name into that <code>destination</code> option of your <code>@JmsListener</code> method and <code>BeanFactory</code> is going to give you a proper <code>RMQDestination</code> with desired exchange and binding.</p>\n"},{"tags":[],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638931441,"creation_date":1638931441,"answer_id":70269301,"question_id":70253351,"body_markdown":"Just posting the solution ( as @Artem Bilan has helped me )\r\n\r\nI added a `DestinationResolver()` for connnecting listener to my queues, and worked.\r\n\r\n```java\r\n\r\n@Bean\r\npublic DefaultJmsListenerContainerFactory jmsListenerContainerFactory( @Autowired ConnectionFactory connectionFactory) {\r\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n    factory.setConnectionFactory(connectionFactory);\r\n\r\n    factory.setDestinationResolver(new DestinationResolver() {\r\n        @Override\r\n        public Destination resolveDestinationName(Session session, String destinationName, boolean pubSubDomain)  throws JMSException {\r\n            RMQDestination jmsDestination = new RMQDestination();\r\n            jmsDestination.setDestinationName(destinationName);\r\n            jmsDestination.setAmqpQueueName(destinationName);\r\n            jmsDestination.setAmqp(true);\r\n            return jmsDestination;\r\n        }\r\n    });\r\n    \r\n    factory.setAutoStartup(true);\r\n    return factory;\r\n}\r\n\r\n\r\n```\r\n\r\n","title":"spring-jms - listener exchange and bind queue by jms configuration","body":"<p>Just posting the solution ( as @Artem Bilan has helped me )</p>\n<p>I added a <code>DestinationResolver()</code> for connnecting listener to my queues, and worked.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Bean\npublic DefaultJmsListenerContainerFactory jmsListenerContainerFactory( @Autowired ConnectionFactory connectionFactory) {\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n    factory.setConnectionFactory(connectionFactory);\n\n    factory.setDestinationResolver(new DestinationResolver() {\n        @Override\n        public Destination resolveDestinationName(Session session, String destinationName, boolean pubSubDomain)  throws JMSException {\n            RMQDestination jmsDestination = new RMQDestination();\n            jmsDestination.setDestinationName(destinationName);\n            jmsDestination.setAmqpQueueName(destinationName);\n            jmsDestination.setAmqp(true);\n            return jmsDestination;\n        }\n    });\n    \n    factory.setAutoStartup(true);\n    return factory;\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70254724,"answer_count":2,"score":0,"last_activity_date":1638931441,"creation_date":1638834661,"question_id":70253351,"body_markdown":"I have a project with spring-jms\r\n\r\nI&#39;m trying work with exchanges. I created 4 listeners and all of them are been bound into exchange named &#39;jms.durable.queues&#39; by default. Even thought I create my own exchanges and binding my queues manually on rabbit console, spring is creating a default exchange.\r\n\r\nHow could I create my own queues and bind into my exchanges or disable spring to create queues and bind into default exchange &#39;jms.durable.queues&#39;?\r\n\r\nMy configuration class\r\n```java\r\n\r\nimport javax.jms.ConnectionFactory;\r\n\r\nimport com.rabbitmq.jms.admin.RMQConnectionFactory;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.jms.annotation.EnableJms;\r\nimport org.springframework.jms.config.DefaultJmsListenerContainerFactory;\r\nimport org.springframework.jms.core.JmsTemplate;\r\n\r\n@EnableJms\r\n@Configuration\r\npublic class ConnectionQueueConfig {\r\n\r\n    @Bean\r\n    public ConnectionFactory jmsConnectionRabbitFactory(@Autowired RabbitProperties rabbitProperties) {\r\n        RMQConnectionFactory connectionFactory = new RMQConnectionFactory();\r\n        connectionFactory.setUsername(rabbitProperties.getUser());\r\n        connectionFactory.setPassword(rabbitProperties.getPass());\r\n        connectionFactory.setVirtualHost(rabbitProperties.getVirtualhost());\r\n        connectionFactory.setHost(rabbitProperties.getHost());\r\n        connectionFactory.setPort(rabbitProperties.getPort());\r\n        return connectionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory( @Autowired ConnectionFactory connectionFactory) {\r\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory);\r\n        factory.setAutoStartup(true);\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public JmsTemplate defaultJmsTemplate(@Autowired ConnectionFactory connectionFactory) {\r\n        return new JmsTemplate(connectionFactory);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\nMy listeners\r\n```java\r\n\r\n    @JmsListener(destination = &quot;queue-1-from-exchange-A&quot; )\r\n    public void messageConsumer1(@Payload Message message,  @Headers MessageHeaders headers){\r\n    }\r\n\r\n    @JmsListener(destination = &quot;queue-2-from-exchange-A&quot; )\r\n    public void messageConsumer2(@Payload Message message,  @Headers MessageHeaders headers){\r\n    }\r\n\r\n    @JmsListener(destination = &quot;queue-1-from-exchange-B&quot; )\r\n    public void messageConsumer3(@Payload Message message,  @Headers MessageHeaders headers){\r\n    }\r\n\r\n    @JmsListener(destination = &quot;queue-2-from-exchange-B&quot; )\r\n    public void messageConsumer4(@Payload Message message,  @Headers MessageHeaders headers){\r\n    }\r\n\r\n```\r\ndependencies\r\n```bash\r\n\timplementation &#39;org.springframework:spring-jms:5.3.13&#39;\r\n\timplementation &#39;com.rabbitmq.jms:rabbitmq-jms:2.3.0&#39;\r\n```\r\n\r\nI have seen about `RMQDestination.class`, can I use it to create my two exchange and queues?\r\nIs there any spring resolver to manager destination programatically on spring-jms configuration?\r\n\r\nexample as pseudo-code\r\n```java\r\nsomeSpringResolverDestination.setDestination(new RMQDestination());\r\nsomeSpringResolverDestination.setDestination(new RMQDestination());\r\n```","title":"spring-jms - listener exchange and bind queue by jms configuration","body":"<p>I have a project with spring-jms</p>\n<p>I'm trying work with exchanges. I created 4 listeners and all of them are been bound into exchange named 'jms.durable.queues' by default. Even thought I create my own exchanges and binding my queues manually on rabbit console, spring is creating a default exchange.</p>\n<p>How could I create my own queues and bind into my exchanges or disable spring to create queues and bind into default exchange 'jms.durable.queues'?</p>\n<p>My configuration class</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport javax.jms.ConnectionFactory;\n\nimport com.rabbitmq.jms.admin.RMQConnectionFactory;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jms.annotation.EnableJms;\nimport org.springframework.jms.config.DefaultJmsListenerContainerFactory;\nimport org.springframework.jms.core.JmsTemplate;\n\n@EnableJms\n@Configuration\npublic class ConnectionQueueConfig {\n\n    @Bean\n    public ConnectionFactory jmsConnectionRabbitFactory(@Autowired RabbitProperties rabbitProperties) {\n        RMQConnectionFactory connectionFactory = new RMQConnectionFactory();\n        connectionFactory.setUsername(rabbitProperties.getUser());\n        connectionFactory.setPassword(rabbitProperties.getPass());\n        connectionFactory.setVirtualHost(rabbitProperties.getVirtualhost());\n        connectionFactory.setHost(rabbitProperties.getHost());\n        connectionFactory.setPort(rabbitProperties.getPort());\n        return connectionFactory;\n    }\n\n    @Bean\n    public DefaultJmsListenerContainerFactory jmsListenerContainerFactory( @Autowired ConnectionFactory connectionFactory) {\n        DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory);\n        factory.setAutoStartup(true);\n        return factory;\n    }\n\n    @Bean\n    public JmsTemplate defaultJmsTemplate(@Autowired ConnectionFactory connectionFactory) {\n        return new JmsTemplate(connectionFactory);\n    }\n\n\n}\n\n</code></pre>\n<p>My listeners</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @JmsListener(destination = &quot;queue-1-from-exchange-A&quot; )\n    public void messageConsumer1(@Payload Message message,  @Headers MessageHeaders headers){\n    }\n\n    @JmsListener(destination = &quot;queue-2-from-exchange-A&quot; )\n    public void messageConsumer2(@Payload Message message,  @Headers MessageHeaders headers){\n    }\n\n    @JmsListener(destination = &quot;queue-1-from-exchange-B&quot; )\n    public void messageConsumer3(@Payload Message message,  @Headers MessageHeaders headers){\n    }\n\n    @JmsListener(destination = &quot;queue-2-from-exchange-B&quot; )\n    public void messageConsumer4(@Payload Message message,  @Headers MessageHeaders headers){\n    }\n\n</code></pre>\n<p>dependencies</p>\n<pre class=\"lang-sh prettyprint-override\"><code>    implementation 'org.springframework:spring-jms:5.3.13'\n    implementation 'com.rabbitmq.jms:rabbitmq-jms:2.3.0'\n</code></pre>\n<p>I have seen about <code>RMQDestination.class</code>, can I use it to create my two exchange and queues?\nIs there any spring resolver to manager destination programatically on spring-jms configuration?</p>\n<p>example as pseudo-code</p>\n<pre class=\"lang-java prettyprint-override\"><code>someSpringResolverDestination.setDestination(new RMQDestination());\nsomeSpringResolverDestination.setDestination(new RMQDestination());\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","docker","mariadb"],"comments":[{"owner":{"account_id":7665731,"reputation":2078,"user_id":5809504,"accept_rate":62,"display_name":"Smit"},"score":0,"creation_date":1577554283,"post_id":59513259,"comment_id":105198252,"body_markdown":"Appreciate the down-vote, may i get a reason why? - Updated the title, to suit the scenario here.","body":"Appreciate the down-vote, may i get a reason why? - Updated the title, to suit the scenario here."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1577554514,"post_id":59513259,"comment_id":105198313,"body_markdown":"First of all you miss to show the connection parameter for your application,","body":"First of all you miss to show the connection parameter for your application,"},{"owner":{"account_id":7665731,"reputation":2078,"user_id":5809504,"accept_rate":62,"display_name":"Smit"},"score":0,"creation_date":1577554727,"post_id":59513259,"comment_id":105198363,"body_markdown":"I have updated the answer. Exactly I am unable to find out the reason.","body":"I have updated the answer. Exactly I am unable to find out the reason."}],"answers":[{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638931297,"creation_date":1638931297,"answer_id":70269285,"question_id":59513259,"body_markdown":"Because of your exception message : \r\n\r\n    Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n\r\nIt means you must to add the database dialect inside your Spring Boot `application.properties` file :    \r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.MariaDB106Dialect\r\n\r\nI think you have found it since 2 years :P \r\nI added the response because some people are searching that stuff too.\r\n","title":"Spring boot application unable to connect to mariadb (in Docker)","body":"<p>Because of your exception message :</p>\n<pre><code>Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n</code></pre>\n<p>It means you must to add the database dialect inside your Spring Boot <code>application.properties</code> file :</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MariaDB106Dialect\n</code></pre>\n<p>I think you have found it since 2 years :P\nI added the response because some people are searching that stuff too.</p>\n"}],"owner":{"account_id":7665731,"reputation":2078,"user_id":5809504,"accept_rate":62,"display_name":"Smit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1638931297,"creation_date":1577554162,"question_id":59513259,"body_markdown":"I am following below instructions:\r\n\r\nDownloading MariaDB container and running it in a port 3306:\r\n\r\n`docker run -p 6033:3306 --name mariadb-container -e MYSQL_ROOT_PASSWORD=root -d mariadb:latest`\r\n\r\nBuilding Spring Boot Application using the [DockerFile][1]:\r\n\r\n```\r\nFROM openjdk:8-jdk-alpine\r\nVOLUME /tmp\r\nARG DEPENDENCY=target/dependency\r\nCOPY ${DEPENDENCY}/BOOT-INF/lib /app/lib\r\nCOPY ${DEPENDENCY}/META-INF /app/META-INF\r\nCOPY ${DEPENDENCY}/BOOT-INF/classes /app\r\nENTRYPOINT [&quot;java&quot;,&quot;-cp&quot;,&quot;app:app/lib/*&quot;,&quot;{Package}.AuditApplication&quot;]\r\n```\r\nFYI: `{Package}.AuditApplication` is actual package, hidden for some privacy reason.\r\n\r\nExecuting the below command, for creating the image\r\n\r\n`docker build -t foosball/foosball-audit-docker .`\r\n\r\nLinking the mariadb and my application (image) via the below command:\r\n\r\n`docker run -t --link mariadb-container -p 60026:60026 foosball/foosball-audit-docker`\r\n\r\nError:\r\n```\r\n ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\njava.sql.SQLNonTransientConnectionException: Could not connect to address=(host=hostvalue)(port=3306)(type=master) : Socket fail to connect to host:hostvalue, port:3306. connect timed out\r\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:240) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1192) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:620) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:175) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.Driver.connect(Driver.java:92) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.1.jar:na]\r\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:353) ~[HikariCP-3.4.1.jar:na]\r\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-3.4.1.jar:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:473) [HikariCP-3.4.1.jar:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:562) [HikariCP-3.4.1.jar:na]\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) [HikariCP-3.4.1.jar:na]\r\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) [HikariCP-3.4.1.jar:na]\r\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1214) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1245) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1862) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at com.foosball.audit.AuditApplication.main(AuditApplication.java:12) ~[app/:na]\r\nCaused by: java.sql.SQLNonTransientConnectionException: Socket fail to connect to host:192.168.1.2, port:3306. connect timed out\r\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:240) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.connException(ExceptionMapper.java:101) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createSocket(AbstractConnectProtocol.java:468) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:358) ~[mariadb-java-client-2.4.4.jar:na]\r\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1187) ~[mariadb-java-client-2.4.4.jar:na]\r\n        ... 49 common frames omitted\r\nCaused by: java.net.SocketTimeoutException: connect timed out\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_212]\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_212]\r\n        at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_212]\r\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createSocket(AbstractConnectProtocol.java:463) ~[mariadb-java-client-2.4.4.jar:na]\r\n        ... 51 common frames omitted\r\n\r\n... \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2019-12-28 17:21:08.581 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1803) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\r\n        at com.foosball.audit.AuditApplication.main(AuditApplication.java:12) [app/:na]\r\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1214) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1245) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1862) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        ... 16 common frames omitted\r\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\r\n        ... 33 common frames omitted\r\n```\r\n\r\n\r\n**Update:**\r\n\r\n```\r\npublic DataSource getDataSource() {\r\n        DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\r\n        dataSourceBuilder.driverClassName(&quot;org.mariadb.jdbc.Driver&quot;);\r\n        dataSourceBuilder.url(&quot;jdbc:mariadb://localhost:6033/audit&quot;);\r\n        dataSourceBuilder.username(&quot;root&quot;);\r\n        dataSourceBuilder.password(&quot;root&quot;);\r\n        return dataSourceBuilder.build();\r\n    }\r\n```\r\n\r\nAdded application.properties:\r\n```\r\nspring.jpa.hibernate.ddl-auto=update\r\nserver.servlet.context-path=/api\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\nlogging.level.org.hibernate.type=TRACE\r\nserver.port=60026\r\n```\r\n\r\n  [1]: https://spring.io/guides/gs/spring-boot-docker/","title":"Spring boot application unable to connect to mariadb (in Docker)","body":"<p>I am following below instructions:</p>\n\n<p>Downloading MariaDB container and running it in a port 3306:</p>\n\n<p><code>docker run -p 6033:3306 --name mariadb-container -e MYSQL_ROOT_PASSWORD=root -d mariadb:latest</code></p>\n\n<p>Building Spring Boot Application using the <a href=\"https://spring.io/guides/gs/spring-boot-docker/\" rel=\"nofollow noreferrer\">DockerFile</a>:</p>\n\n<pre><code>FROM openjdk:8-jdk-alpine\nVOLUME /tmp\nARG DEPENDENCY=target/dependency\nCOPY ${DEPENDENCY}/BOOT-INF/lib /app/lib\nCOPY ${DEPENDENCY}/META-INF /app/META-INF\nCOPY ${DEPENDENCY}/BOOT-INF/classes /app\nENTRYPOINT [\"java\",\"-cp\",\"app:app/lib/*\",\"{Package}.AuditApplication\"]\n</code></pre>\n\n<p>FYI: <code>{Package}.AuditApplication</code> is actual package, hidden for some privacy reason.</p>\n\n<p>Executing the below command, for creating the image</p>\n\n<p><code>docker build -t foosball/foosball-audit-docker .</code></p>\n\n<p>Linking the mariadb and my application (image) via the below command:</p>\n\n<p><code>docker run -t --link mariadb-container -p 60026:60026 foosball/foosball-audit-docker</code></p>\n\n<p>Error:</p>\n\n<pre><code> ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\njava.sql.SQLNonTransientConnectionException: Could not connect to address=(host=hostvalue)(port=3306)(type=master) : Socket fail to connect to host:hostvalue, port:3306. connect timed out\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:240) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1192) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.internal.util.Utils.retrieveProxy(Utils.java:620) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.MariaDbConnection.newConnection(MariaDbConnection.java:175) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.Driver.connect(Driver.java:92) ~[mariadb-java-client-2.4.4.jar:na]\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.1.jar:na]\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:353) ~[HikariCP-3.4.1.jar:na]\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-3.4.1.jar:na]\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:473) [HikariCP-3.4.1.jar:na]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:562) [HikariCP-3.4.1.jar:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) [HikariCP-3.4.1.jar:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) [HikariCP-3.4.1.jar:na]\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1214) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1245) [hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) [spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1862) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) [spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at com.foosball.audit.AuditApplication.main(AuditApplication.java:12) ~[app/:na]\nCaused by: java.sql.SQLNonTransientConnectionException: Socket fail to connect to host:192.168.1.2, port:3306. connect timed out\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.get(ExceptionMapper.java:240) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.internal.util.exceptions.ExceptionMapper.connException(ExceptionMapper.java:101) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createSocket(AbstractConnectProtocol.java:468) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createConnection(AbstractConnectProtocol.java:358) ~[mariadb-java-client-2.4.4.jar:na]\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.connectWithoutProxy(AbstractConnectProtocol.java:1187) ~[mariadb-java-client-2.4.4.jar:na]\n        ... 49 common frames omitted\nCaused by: java.net.SocketTimeoutException: connect timed out\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_212]\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_212]\n        at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_212]\n        at org.mariadb.jdbc.internal.protocol.AbstractConnectProtocol.createSocket(AbstractConnectProtocol.java:463) ~[mariadb-java-client-2.4.4.jar:na]\n        ... 51 common frames omitted\n\n... \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2019-12-28 17:21:08.581 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1803) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.1.RELEASE.jar:2.2.1.RELEASE]\n        at com.foosball.audit.AuditApplication.main(AuditApplication.java:12) [app/:na]\nCaused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:175) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1214) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1245) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1862) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1799) ~[spring-beans-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        ... 16 common frames omitted\nCaused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.4.8.Final.jar:5.4.8.Final]\n        ... 33 common frames omitted\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<pre><code>public DataSource getDataSource() {\n        DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\n        dataSourceBuilder.driverClassName(\"org.mariadb.jdbc.Driver\");\n        dataSourceBuilder.url(\"jdbc:mariadb://localhost:6033/audit\");\n        dataSourceBuilder.username(\"root\");\n        dataSourceBuilder.password(\"root\");\n        return dataSourceBuilder.build();\n    }\n</code></pre>\n\n<p>Added application.properties:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nserver.servlet.context-path=/api\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\nlogging.level.org.hibernate.type=TRACE\nserver.port=60026\n</code></pre>\n"},{"tags":["java","intellij-idea","memory","garbage-collection"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1600703801,"post_id":63995656,"comment_id":113164492,"body_markdown":"In IDEA while debugging you can right-click any object and push &quot;Show referring objects&quot;, that shows you the tree down to (usually) the GC root that keeps an object alive.","body":"In IDEA while debugging you can right-click any object and push &quot;Show referring objects&quot;, that shows you the tree down to (usually) the GC root that keeps an object alive."},{"owner":{"account_id":19563001,"reputation":53,"user_id":14315850,"display_name":"Jake"},"score":0,"creation_date":1600704072,"post_id":63995656,"comment_id":113164630,"body_markdown":"I&#39;ve tried that, but I have yet to find something going up the chain that seems to be the &quot;GC root&quot;. Will there literally be something in the reference chain called like root or something?","body":"I&#39;ve tried that, but I have yet to find something going up the chain that seems to be the &quot;GC root&quot;. Will there literally be something in the reference chain called like root or something?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1600704704,"post_id":63995656,"comment_id":113164903,"body_markdown":"It seems I misremembered. While IntelliJ will show you references, it doesn&#39;t do the whole &quot;trace to garbage collection root&quot; outside of [analyzing a memory snapshot](https://www.jetbrains.com/help/idea/analyze-hprof-memory-snapshots.html).","body":"It seems I misremembered. While IntelliJ will show you references, it doesn&#39;t do the whole &quot;trace to garbage collection root&quot; outside of <a href=\"https://www.jetbrains.com/help/idea/analyze-hprof-memory-snapshots.html\" rel=\"nofollow noreferrer\">analyzing a memory snapshot</a>."}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1600705639,"creation_date":1600705639,"answer_id":63996360,"question_id":63995656,"body_markdown":"JProfiler has such a view: You can follow the referring objects up till the root.\r\n\r\nAnd it has a lot of other useful debugging views, so I&#39;ve always considered it worth the price tag.","title":"In java, is there a way to examine how an object is still reachable from garbage collection root?","body":"<p>JProfiler has such a view: You can follow the referring objects up till the root.</p>\n<p>And it has a lot of other useful debugging views, so I've always considered it worth the price tag.</p>\n"}],"owner":{"account_id":19563001,"reputation":53,"user_id":14315850,"display_name":"Jake"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63996360,"answer_count":1,"score":2,"last_activity_date":1638930924,"creation_date":1600703120,"question_id":63995656,"body_markdown":"The codebase is somewhat complex, so I was wondering if there was a tool to examine an object at runtime and determine how the JVM still sees this object as reachable.\r\n\r\nIn particular, there&#39;s one object type that I would only expect to be one instance of at a time throughout the life of the app (new ones can be created, but the old instance should be garbage collected when this happens). However, when I examine the heap, I see that multiple instances of this object type are accumulating. The class is pretty complex, so it&#39;d be fairly time-consuming to track down what is still referencing the old object instances. Anyone know of a tool, or a way in java, to figure out why these objects can&#39;t be collected?","title":"In java, is there a way to examine how an object is still reachable from garbage collection root?","body":"<p>The codebase is somewhat complex, so I was wondering if there was a tool to examine an object at runtime and determine how the JVM still sees this object as reachable.</p>\n<p>In particular, there's one object type that I would only expect to be one instance of at a time throughout the life of the app (new ones can be created, but the old instance should be garbage collected when this happens). However, when I examine the heap, I see that multiple instances of this object type are accumulating. The class is pretty complex, so it'd be fairly time-consuming to track down what is still referencing the old object instances. Anyone know of a tool, or a way in java, to figure out why these objects can't be collected?</p>\n"},{"tags":["java","amazon-web-services","aws-cdk","aws-codepipeline"],"comments":[{"owner":{"account_id":14422932,"reputation":9181,"user_id":10418515,"display_name":"gshpychka"},"score":0,"creation_date":1638953619,"post_id":70269240,"comment_id":124222068,"body_markdown":"The `ref` property of a connection contains the ARN. Just pass that.\nhttps://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_codestarconnections.CfnConnection.html#ref","body":"The <code>ref</code> property of a connection contains the ARN. Just pass that. <a href=\"https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_codestarconnections.CfnConnection.html#ref\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/cdk/api/v2/docs/&hellip;</a>"},{"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"score":0,"creation_date":1639539669,"post_id":70269240,"comment_id":124372244,"body_markdown":"Thanks @gshpychka, appreciate your response.","body":"Thanks @gshpychka, appreciate your response."}],"owner":{"account_id":8069438,"reputation":93,"user_id":6082641,"display_name":"TJ-AWS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638930799,"creation_date":1638930799,"question_id":70269240,"body_markdown":"I&#39;ve just started exploring the AWS-CDK to generate resources and create pipeline (CI/CD).\r\nI was trying to hook the existing pipeline to an external github, but ran into an issue where I need to use the **connection** method.\r\nHere I need to provide an arn for **codestar-connections**, I want to create this resource in the same *xxxStack.java* file. I&#39;ll then use this arn to be dynamically added to the **connection** method, how can I achieve this ?\r\n\r\nSample code:\r\n```.input(CodePipelineSource.connection(&quot;my-org/my-app&quot;, &quot;main&quot;, ConnectionSourceOptions.builder().connectionArn(&quot;&lt;get-dynamically-generated-arn&gt;&quot;).build()))```","title":"Use ARN for dynamically generated resources in Java CDK","body":"<p>I've just started exploring the AWS-CDK to generate resources and create pipeline (CI/CD).\nI was trying to hook the existing pipeline to an external github, but ran into an issue where I need to use the <strong>connection</strong> method.\nHere I need to provide an arn for <strong>codestar-connections</strong>, I want to create this resource in the same <em>xxxStack.java</em> file. I'll then use this arn to be dynamically added to the <strong>connection</strong> method, how can I achieve this ?</p>\n<p>Sample code:\n<code>.input(CodePipelineSource.connection(&quot;my-org/my-app&quot;, &quot;main&quot;, ConnectionSourceOptions.builder().connectionArn(&quot;&lt;get-dynamically-generated-arn&gt;&quot;).build()))</code></p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","aws-secrets-manager"],"comments":[{"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"score":0,"creation_date":1638930652,"post_id":70269146,"comment_id":124217044,"body_markdown":"I&#39;ve noticed that all almost your questions got answered yet not a single answer was [accepted](https://meta.stackexchange.com/a/86979). Accepting useful answers is not only a good practice, but reduces duplicates and increases chances of your questions being actually answered.","body":"I&#39;ve noticed that all almost your questions got answered yet not a single answer was <a href=\"https://meta.stackexchange.com/a/86979\">accepted</a>. Accepting useful answers is not only a good practice, but reduces duplicates and increases chances of your questions being actually answered."},{"owner":{"account_id":8410954,"reputation":45,"user_id":6312896,"display_name":"Davis Ward"},"score":1,"creation_date":1638931802,"post_id":70269146,"comment_id":124217229,"body_markdown":"apologies, will do this in the future","body":"apologies, will do this in the future"}],"answers":[{"tags":[],"owner":{"account_id":90365,"reputation":222476,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1638930096,"creation_date":1638930096,"answer_id":70269160,"question_id":70269146,"body_markdown":"Normally, you would use [EC2 instance role](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html) with permissions to access your secret manager. This way there is no need to hard-code any access and secret keys in your application nor store them on the instance. ","title":"Where to store the accessKey and secretKey for AWS Secrets Manager in Spring Boot","body":"<p>Normally, you would use <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html\" rel=\"nofollow noreferrer\">EC2 instance role</a> with permissions to access your secret manager. This way there is no need to hard-code any access and secret keys in your application nor store them on the instance.</p>\n"}],"owner":{"account_id":8410954,"reputation":45,"user_id":6312896,"display_name":"Davis Ward"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2145,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70269160,"answer_count":1,"score":2,"last_activity_date":1638930096,"creation_date":1638929951,"question_id":70269146,"body_markdown":"I am trying to make my application secure, so instead of storing all of my AWS IAM credentials for different service users, I started to use AWS secrets manager. The part that is confusing me is in order to get a connection to the AWS secrets manager to retrieve all of the secrets for my other IAM service connections, I need an access key and secret key. Storing these in application.properties on the application on an EC2 instance seems like working back words, since if someone gets access to these two keys, they can get access to all of the secrets and then secrets manager isn&#39;t really providing any value. How can I create a connection to secrets manager without storing the keys at all in my code? Thanks in advance. ","title":"Where to store the accessKey and secretKey for AWS Secrets Manager in Spring Boot","body":"<p>I am trying to make my application secure, so instead of storing all of my AWS IAM credentials for different service users, I started to use AWS secrets manager. The part that is confusing me is in order to get a connection to the AWS secrets manager to retrieve all of the secrets for my other IAM service connections, I need an access key and secret key. Storing these in application.properties on the application on an EC2 instance seems like working back words, since if someone gets access to these two keys, they can get access to all of the secrets and then secrets manager isn't really providing any value. How can I create a connection to secrets manager without storing the keys at all in my code? Thanks in advance.</p>\n"},{"tags":["java","android","firebase","android-studio"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":1,"creation_date":1626359416,"post_id":68395648,"comment_id":120876920,"body_markdown":"You are prolly using WebView ... maybe some version of it is FUp as it happend [many times before](https://www.engadget.com/android-gmail-stop-running-webview-234125352.html)","body":"You are prolly using WebView ... maybe some version of it is FUp as it happend <a href=\"https://www.engadget.com/android-gmail-stop-running-webview-234125352.html\" rel=\"nofollow noreferrer\">many times before</a>"},{"owner":{"account_id":2902162,"reputation":887,"user_id":2488539,"accept_rate":60,"display_name":"Saikumar"},"score":0,"creation_date":1626409190,"post_id":68395648,"comment_id":120890004,"body_markdown":"Thanks. So we have to raise the notification to members and ask to member and upgrade their webview version right?. that only way to reduce the ANR right?.","body":"Thanks. So we have to raise the notification to members and ask to member and upgrade their webview version right?. that only way to reduce the ANR right?."}],"owner":{"account_id":2902162,"reputation":887,"user_id":2488539,"accept_rate":60,"display_name":"Saikumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1638929735,"creation_date":1626359013,"question_id":68395648,"body_markdown":"Recently my app getting more ANR and its shown playstore console and customer also saying i am getting the error like app not getting response.\r\n\r\nAnyone faced this issue recently. I searched and reviewed the code. I am not getting any idea to reduce the count in ANR section in playstore.\r\n\r\nLast 60 days: 60.3K\r\nImpact Users : 7.37K\r\nANR Rate reached : 1.27 ( Bad Behaviour threshold Reached) \r\n\r\nANR captured details below.\r\n\r\n    &quot;main&quot; prio=5 tid=1 Native\r\n      #00  pc 0000000003bb31fc  /data/app/~~pJvDVIzVRXVRn3LFf0Xrkw==/com.google.android.trichromelibrary_447212034-4GGAI0wMqb7KjRqZCuXlgg==/base.apk!libmonochrome_64.so (???)\r\n      at android.os.MessageQueue.nativePollOnce (Native method)\r\n      at android.os.MessageQueue.next (MessageQueue.java:335)\r\n      at android.os.Looper.loop (Looper.java:195)\r\n      at android.app.ActivityThread.main (ActivityThread.java:8004)\r\n      at java.lang.reflect.Method.invoke (Native method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:631)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:978)\r\n    \r\n    &quot;main&quot; prio=5 tid=1 Native\r\n      #00  pc 00000000000803bc  /apex/com.android.runtime/lib64/bionic/libc.so (syscall+28)\r\n      #00  pc 000000000014c094  /apex/com.android.runtime/lib64/libart.so (art::ConditionVariable::WaitHoldingLocks(art::Thread*)+148)\r\n      #00  pc 0000000000388a0c  /apex/com.android.runtime/lib64/libart.so (art::JNI::NewLocalRef(_JNIEnv*, _jobject*)+436)\r\n      #00  pc 00000000031258a8  /data/app/com.google.android.trichromelibrary_447212034-yXeNAnqAC86BvP9Y0cSclQ==/base.apk!libmonochrome_64.so (???)\r\n      at android.os.MessageQueue.nativePollOnce (Native method)\r\n      at android.os.MessageQueue.next (MessageQueue.java:336)\r\n      at android.os.Looper.loop (Looper.java:182)\r\n      at android.app.ActivityThread.main (ActivityThread.java:7822)\r\n      at java.lang.reflect.Method.invoke (Native method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:492)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1026)\r\n    \r\n    &quot;main&quot; prio=5 tid=1 Native\r\n      #00  pc 000000000004b48c  /apex/com.android.runtime/lib64/bionic/libc.so (syscall+28)\r\n      #00  pc 00000000001af9e0  /apex/com.android.art/lib64/libart.so (art::ConditionVariable::WaitHoldingLocks(art::Thread*)+164)\r\n      #00  pc 000000000039ad1c  /apex/com.android.art/lib64/libart.so (art::JNI&lt;false&gt;::NewLocalRef(_JNIEnv*, _jobject*)+492)\r\n      #00  pc 00000000031258a8  /data/app/~~pJvDVIzVRXVRn3LFf0Xrkw==/com.google.android.trichromelibrary_447212034-4GGAI0wMqb7KjRqZCuXlgg==/base.apk!libmonochrome_64.so (???)\r\n      at android.os.MessageQueue.nativePollOnce (Native method)\r\n      at android.os.MessageQueue.next (MessageQueue.java:335)\r\n      at android.os.Looper.loop (Looper.java:195)\r\n      at android.app.ActivityThread.main (ActivityThread.java:8004)\r\n      at java.lang.reflect.Method.invoke (Native method)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:631)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:978)","title":"ANR increased in Playstore Console - base.apk!libmonochrome.so","body":"<p>Recently my app getting more ANR and its shown playstore console and customer also saying i am getting the error like app not getting response.</p>\n<p>Anyone faced this issue recently. I searched and reviewed the code. I am not getting any idea to reduce the count in ANR section in playstore.</p>\n<p>Last 60 days: 60.3K\nImpact Users : 7.37K\nANR Rate reached : 1.27 ( Bad Behaviour threshold Reached)</p>\n<p>ANR captured details below.</p>\n<pre><code>&quot;main&quot; prio=5 tid=1 Native\n  #00  pc 0000000003bb31fc  /data/app/~~pJvDVIzVRXVRn3LFf0Xrkw==/com.google.android.trichromelibrary_447212034-4GGAI0wMqb7KjRqZCuXlgg==/base.apk!libmonochrome_64.so (???)\n  at android.os.MessageQueue.nativePollOnce (Native method)\n  at android.os.MessageQueue.next (MessageQueue.java:335)\n  at android.os.Looper.loop (Looper.java:195)\n  at android.app.ActivityThread.main (ActivityThread.java:8004)\n  at java.lang.reflect.Method.invoke (Native method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:631)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:978)\n\n&quot;main&quot; prio=5 tid=1 Native\n  #00  pc 00000000000803bc  /apex/com.android.runtime/lib64/bionic/libc.so (syscall+28)\n  #00  pc 000000000014c094  /apex/com.android.runtime/lib64/libart.so (art::ConditionVariable::WaitHoldingLocks(art::Thread*)+148)\n  #00  pc 0000000000388a0c  /apex/com.android.runtime/lib64/libart.so (art::JNI::NewLocalRef(_JNIEnv*, _jobject*)+436)\n  #00  pc 00000000031258a8  /data/app/com.google.android.trichromelibrary_447212034-yXeNAnqAC86BvP9Y0cSclQ==/base.apk!libmonochrome_64.so (???)\n  at android.os.MessageQueue.nativePollOnce (Native method)\n  at android.os.MessageQueue.next (MessageQueue.java:336)\n  at android.os.Looper.loop (Looper.java:182)\n  at android.app.ActivityThread.main (ActivityThread.java:7822)\n  at java.lang.reflect.Method.invoke (Native method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:492)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1026)\n\n&quot;main&quot; prio=5 tid=1 Native\n  #00  pc 000000000004b48c  /apex/com.android.runtime/lib64/bionic/libc.so (syscall+28)\n  #00  pc 00000000001af9e0  /apex/com.android.art/lib64/libart.so (art::ConditionVariable::WaitHoldingLocks(art::Thread*)+164)\n  #00  pc 000000000039ad1c  /apex/com.android.art/lib64/libart.so (art::JNI&lt;false&gt;::NewLocalRef(_JNIEnv*, _jobject*)+492)\n  #00  pc 00000000031258a8  /data/app/~~pJvDVIzVRXVRn3LFf0Xrkw==/com.google.android.trichromelibrary_447212034-4GGAI0wMqb7KjRqZCuXlgg==/base.apk!libmonochrome_64.so (???)\n  at android.os.MessageQueue.nativePollOnce (Native method)\n  at android.os.MessageQueue.next (MessageQueue.java:335)\n  at android.os.Looper.loop (Looper.java:195)\n  at android.app.ActivityThread.main (ActivityThread.java:8004)\n  at java.lang.reflect.Method.invoke (Native method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:631)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:978)\n</code></pre>\n"},{"tags":["java","android","android-fragments","sharedpreferences"],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638929677,"creation_date":1638929677,"answer_id":70269121,"question_id":70268813,"body_markdown":"`Fragment`s aren&#39;t `serializable`, meaning they can&#39;t be broken down into pure data ie `JSON`, much less `deserializable`.\r\n\r\nLooking at your code there is no good way to just make it work either.\r\n\r\nYou need to follow separation of concerns, `Fragment`s are glorified views. They shouldn&#39;t be holding information to any great extent, so they shouldn&#39;t be passed around as if they did.\r\n\r\nWhat you could do is have a `CardModel` that contains all information needed for a `Card` `Fragment`.\r\n\r\nThe `CardModel` can contain simple data that you would find in `JSON` like `Integer`,`String`, etc...\r\n\r\nA `List&lt;CardModel&gt;` can be `deserialized` from `JSON`. And then when you&#39;re in the `MainActivity` you could create as many `Card` `Fragment`s as needed to represent the `List&lt;CardModel&gt;` with a simple `list.size()`\r\n\r\n\r\n\r\n\r\n","title":"how to store list of fragments using SharedPreferences","body":"<p><code>Fragment</code>s aren't <code>serializable</code>, meaning they can't be broken down into pure data ie <code>JSON</code>, much less <code>deserializable</code>.</p>\n<p>Looking at your code there is no good way to just make it work either.</p>\n<p>You need to follow separation of concerns, <code>Fragment</code>s are glorified views. They shouldn't be holding information to any great extent, so they shouldn't be passed around as if they did.</p>\n<p>What you could do is have a <code>CardModel</code> that contains all information needed for a <code>Card</code> <code>Fragment</code>.</p>\n<p>The <code>CardModel</code> can contain simple data that you would find in <code>JSON</code> like <code>Integer</code>,<code>String</code>, etc...</p>\n<p>A <code>List&lt;CardModel&gt;</code> can be <code>deserialized</code> from <code>JSON</code>. And then when you're in the <code>MainActivity</code> you could create as many <code>Card</code> <code>Fragment</code>s as needed to represent the <code>List&lt;CardModel&gt;</code> with a simple <code>list.size()</code></p>\n"}],"owner":{"account_id":20370681,"reputation":83,"user_id":14942949,"display_name":"xxddd_69"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70269121,"answer_count":1,"score":1,"last_activity_date":1638929677,"creation_date":1638926275,"question_id":70268813,"body_markdown":"I&#39;m using SharedPreferences to store a list of fragments of my android, however it gave me thousands lines of error which make non-sense:\r\n\r\n2021-12-07 17:09:13.228 14833-14833/? E/AndroidRuntime:     at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\r\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\r\n        at com.google.gson.Gson$FutureTypeAdapter.write(Gson.java:1058)\r\n        at .......\r\n\r\n(just small parts of error messages)\r\nI tried to store a list of strings it works fine, but if I switch to an object with list of fragments it fails.\r\n\r\nHere is my object.java:\r\n```\r\npublic class CardList {\r\n    ArrayList&lt;Card&gt; list;  //Card is my fragments\r\n    public CardList(ArrayList&lt;Card&gt; list) {\r\n        this.list = list;\r\n    }\r\n    public void updateList(Card c) {\r\n        list.add(c);\r\n    }\r\n\r\n    public int getListSize() {\r\n        return list.size();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\nhere is my MainActivity.java, the new intent here was just to test if I can get my data back when I&#39;m back to MainActivity\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public static final String WEATHER_PREFS = &quot;weatherPrefs&quot;;\r\n    public CardList cardList;\r\n    public ArrayList&lt;Card&gt; cards;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n       \r\n        cards = new ArrayList&lt;&gt;();\r\n        cardList = new CardList(cards);\r\n\r\n        SharedPreferences setting = getSharedPreferences(WEATHER_PREFS,MODE_PRIVATE);\r\n        Gson gson = new Gson();\r\n        String savedList = setting.getString(&quot;cardList&quot;,&quot;&quot;);\r\n\r\n        if (!savedList.equals(&quot;&quot;)) {\r\n            cardList = gson.fromJson(savedList,CardList.class);\r\n        }\r\n\r\n\r\n        Button btn= findViewById(R.id.switchActtivity);\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(MainActivity.this,SecondActivity.class);\r\n                Gson gson = new Gson();\r\n\r\n                String savedInstanceString = gson.toJson(cardList);\r\n                SharedPreferences setting = getSharedPreferences(WEATHER_PREFS,MODE_PRIVATE);\r\n                SharedPreferences.Editor editor = setting.edit();\r\n                editor.putString(&quot;cardList&quot;,savedInstanceString);\r\n                editor.apply();\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        Button increase = findViewById(R.id.increase);\r\n        increase.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                cardList.updateList(Card.newInstance(&quot;hello&quot;,&quot;world&quot;));\r\n                Log.i(&quot;Array List Size After Click&quot;,String.valueOf(cardList.getListSize()));\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nCan someone teach me how to store custom object with an arraylist attribute in Android? Thanks in advance!","title":"how to store list of fragments using SharedPreferences","body":"<p>I'm using SharedPreferences to store a list of fragments of my android, however it gave me thousands lines of error which make non-sense:</p>\n<p>2021-12-07 17:09:13.228 14833-14833/? E/AndroidRuntime:     at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\nat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\nat com.google.gson.Gson$FutureTypeAdapter.write(Gson.java:1058)\nat .......</p>\n<p>(just small parts of error messages)\nI tried to store a list of strings it works fine, but if I switch to an object with list of fragments it fails.</p>\n<p>Here is my object.java:</p>\n<pre><code>public class CardList {\n    ArrayList&lt;Card&gt; list;  //Card is my fragments\n    public CardList(ArrayList&lt;Card&gt; list) {\n        this.list = list;\n    }\n    public void updateList(Card c) {\n        list.add(c);\n    }\n\n    public int getListSize() {\n        return list.size();\n    }\n\n\n}\n\n</code></pre>\n<p>here is my MainActivity.java, the new intent here was just to test if I can get my data back when I'm back to MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public static final String WEATHER_PREFS = &quot;weatherPrefs&quot;;\n    public CardList cardList;\n    public ArrayList&lt;Card&gt; cards;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n       \n        cards = new ArrayList&lt;&gt;();\n        cardList = new CardList(cards);\n\n        SharedPreferences setting = getSharedPreferences(WEATHER_PREFS,MODE_PRIVATE);\n        Gson gson = new Gson();\n        String savedList = setting.getString(&quot;cardList&quot;,&quot;&quot;);\n\n        if (!savedList.equals(&quot;&quot;)) {\n            cardList = gson.fromJson(savedList,CardList.class);\n        }\n\n\n        Button btn= findViewById(R.id.switchActtivity);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(MainActivity.this,SecondActivity.class);\n                Gson gson = new Gson();\n\n                String savedInstanceString = gson.toJson(cardList);\n                SharedPreferences setting = getSharedPreferences(WEATHER_PREFS,MODE_PRIVATE);\n                SharedPreferences.Editor editor = setting.edit();\n                editor.putString(&quot;cardList&quot;,savedInstanceString);\n                editor.apply();\n                startActivity(intent);\n            }\n        });\n        Button increase = findViewById(R.id.increase);\n        increase.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                cardList.updateList(Card.newInstance(&quot;hello&quot;,&quot;world&quot;));\n                Log.i(&quot;Array List Size After Click&quot;,String.valueOf(cardList.getListSize()));\n            }\n        });\n\n\n    }\n    \n}\n\n</code></pre>\n<p>Can someone teach me how to store custom object with an arraylist attribute in Android? Thanks in advance!</p>\n"},{"tags":["java","maven","security","jar","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638901342,"post_id":70263042,"comment_id":124209285,"body_markdown":"First you can&#39;t update a dependency of use tool/library ...that must be done by the library/tool maintainers... Apart from that I&#39;m not really astonished about that because maven-core-2.0.9 is of 2008!...","body":"First you can&#39;t update a dependency of use tool/library ...that must be done by the library/tool maintainers... Apart from that I&#39;m not really astonished about that because maven-core-2.0.9 is of 2008!..."},{"owner":{"account_id":6068538,"reputation":251,"user_id":4738092,"accept_rate":75,"display_name":"chandu ram"},"score":0,"creation_date":1638929986,"post_id":70263042,"comment_id":124216945,"body_markdown":"Hi Khamarbaise, Thank you for your response. I have updated pom.xml that we are using. Can you check if we modify pom.xml latest libraries will be used? maven-core-.2.0.0.jar has security vulnerability so we want to use latest library","body":"Hi Khamarbaise, Thank you for your response. I have updated pom.xml that we are using. Can you check if we modify pom.xml latest libraries will be used? maven-core-.2.0.0.jar has security vulnerability so we want to use latest library"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638949546,"post_id":70263042,"comment_id":124220794,"body_markdown":"I can only see that you are using maven plugins (as usual). I would use version 3.0.0 of maven-enforce-plugin and maybe a most recent version of maven-compiler-plugin (3.8.1 https://maven.apache.org/plugins/)...I&#39;m not sure if your scanner does only scan the dependencies of your application?","body":"I can only see that you are using maven plugins (as usual). I would use version 3.0.0 of maven-enforce-plugin and maybe a most recent version of maven-compiler-plugin (3.8.1 <a href=\"https://maven.apache.org/plugins/)...I&#39;m\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/)...I&#39;m</a> not sure if your scanner does only scan the dependencies of your application?"},{"owner":{"account_id":6068538,"reputation":251,"user_id":4738092,"accept_rate":75,"display_name":"chandu ram"},"score":0,"creation_date":1638963085,"post_id":70263042,"comment_id":124225453,"body_markdown":"HI Khmarbaise, Thanks again for your response. I upgraded all plugins to latest version but still maven-core-2.0.9.jar is used for building !!","body":"HI Khmarbaise, Thanks again for your response. I upgraded all plugins to latest version but still maven-core-2.0.9.jar is used for building !!"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638975751,"post_id":70263042,"comment_id":124230635,"body_markdown":"Have you specified all plugins you are using because in the post there are only a limited number. For example maven-resources-plugin, maven-install-plugin is missing?","body":"Have you specified all plugins you are using because in the post there are only a limited number. For example maven-resources-plugin, maven-install-plugin is missing?"},{"owner":{"account_id":6068538,"reputation":251,"user_id":4738092,"accept_rate":75,"display_name":"chandu ram"},"score":0,"creation_date":1638978834,"post_id":70263042,"comment_id":124232090,"body_markdown":"Yes I have mentioned all plugins. Only missing in the POM which I have pasted are dependencies used in project","body":"Yes I have mentioned all plugins. Only missing in the POM which I have pasted are dependencies used in project"}],"owner":{"account_id":6068538,"reputation":251,"user_id":4738092,"accept_rate":75,"display_name":"chandu ram"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638929612,"creation_date":1638891786,"question_id":70263042,"body_markdown":"We are building our Kafka streaming application written in java using maven.\r\nIt is observed that while building application maven-core-2.0.9.jar is downloaded.\r\n\r\nWe are using **Black Duck** to analyze libraries for security vulnerabilities and maven-core-2.0.9.jar is marked as high vulnerable jar. Black Duck is suggesting us to upgrade this jar to higher version maven-core-3.8.4.jar. How do I do this as this is not part of dependency tree of the application.\r\n\r\nBelow is the pom.xml that we are using. Do I have to do any changes so that we use latest version of maven/maven libraries/ plugins.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.sampleproject.&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testproject&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0.0&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;maven-compiler-plugin.version&gt;3.6.1&lt;/maven-compiler-plugin.version&gt;\r\n            &lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\r\n            &lt;sonar.jacoco.reportPath&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPath&gt;\r\n            &lt;jacoco.version&gt;0.8.5&lt;/jacoco.version&gt;\r\n            &lt;sonar.language&gt;java&lt;/sonar.language&gt;\r\n            &lt;jackson.version&gt;2.10.1&lt;/jackson.version&gt;\r\n            &lt;sonar.coverage.exclusions&gt;\r\n                **/*.xml,\r\n                **/*.properties,\r\n                build.properties,\r\n                package/**,\r\n                config/**\r\n            &lt;/sonar.coverage.exclusions&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n               &lt;!-- Dependancies of project --&gt; \r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer\r\n                                            implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                        &lt;mainClass&gt;com.dell.sadatahub.azure.SACCollectionProcessorTopology&lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                                &lt;filters&gt;\r\n                                    &lt;filter&gt;\r\n                                        &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                        &lt;excludes&gt;\r\n                                            &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                            &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                        &lt;/excludes&gt;\r\n                                    &lt;/filter&gt;\r\n                                &lt;/filters&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;jacoco-report&lt;/id&gt;\r\n                            &lt;phase&gt;test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;report&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;rules&gt;\r\n                            &lt;dependencyConvergence /&gt;\r\n                        &lt;/rules&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;releases&lt;/id&gt;\r\n                &lt;name&gt;libs-release-local&lt;/name&gt;\r\n                &lt;url&gt;https://dcsartifacts.dell.com/artifactory/libs-release-local&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n    \r\n            &lt;snapshotRepository&gt;\r\n                &lt;id&gt;snapshots&lt;/id&gt;\r\n                &lt;name&gt;libs-snapshot-local&lt;/name&gt;\r\n                &lt;url&gt;https://dcsartifacts.dell.com/artifactory/libs-snapshot-local&lt;/url&gt;\r\n            &lt;/snapshotRepository&gt;\r\n        &lt;/distributionManagement&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n","title":"upgrading maven-core-2.0.9.jar to maven-core-3.8.4.jar while building java application using maven to fix Black Duck vulnerability","body":"<p>We are building our Kafka streaming application written in java using maven.\nIt is observed that while building application maven-core-2.0.9.jar is downloaded.</p>\n<p>We are using <strong>Black Duck</strong> to analyze libraries for security vulnerabilities and maven-core-2.0.9.jar is marked as high vulnerable jar. Black Duck is suggesting us to upgrade this jar to higher version maven-core-3.8.4.jar. How do I do this as this is not part of dependency tree of the application.</p>\n<p>Below is the pom.xml that we are using. Do I have to do any changes so that we use latest version of maven/maven libraries/ plugins.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.sampleproject.&lt;/groupId&gt;\n    &lt;artifactId&gt;testproject&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-compiler-plugin.version&gt;3.6.1&lt;/maven-compiler-plugin.version&gt;\n        &lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\n        &lt;sonar.jacoco.reportPath&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPath&gt;\n        &lt;jacoco.version&gt;0.8.5&lt;/jacoco.version&gt;\n        &lt;sonar.language&gt;java&lt;/sonar.language&gt;\n        &lt;jackson.version&gt;2.10.1&lt;/jackson.version&gt;\n        &lt;sonar.coverage.exclusions&gt;\n            **/*.xml,\n            **/*.properties,\n            build.properties,\n            package/**,\n            config/**\n        &lt;/sonar.coverage.exclusions&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n           &lt;!-- Dependancies of project --&gt; \n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;mainClass&gt;com.dell.sadatahub.azure.SACCollectionProcessorTopology&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${jacoco.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;rules&gt;\n                        &lt;dependencyConvergence /&gt;\n                    &lt;/rules&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;releases&lt;/id&gt;\n            &lt;name&gt;libs-release-local&lt;/name&gt;\n            &lt;url&gt;https://dcsartifacts.dell.com/artifactory/libs-release-local&lt;/url&gt;\n        &lt;/repository&gt;\n\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;snapshots&lt;/id&gt;\n            &lt;name&gt;libs-snapshot-local&lt;/name&gt;\n            &lt;url&gt;https://dcsartifacts.dell.com/artifactory/libs-snapshot-local&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","xml","android-studio","android-gridlayout","column-count"],"answers":[{"tags":[],"owner":{"display_name":"user15230333"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638928684,"creation_date":1638928684,"answer_id":70269036,"question_id":69213928,"body_markdown":"Your columnCount is 2 but you have 3 children. Change the columnCount to 3 and see.\r\n\r\n```\r\n&lt;GridLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:columnCount=&quot;3&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n         android:layout_width=&quot;160dp&quot;\r\n         android:layout_gravity=&quot;center_horizontal&quot;\r\n         android:layout_columnWeight=&quot;1&quot;/&gt;\r\n    &lt;FrameLayout\r\n         android:layout_width=&quot;160dp&quot;\r\n         android:layout_gravity=&quot;center_horizontal&quot;\r\n         android:layout_columnWeight=&quot;1&quot;/&gt;\r\n    &lt;FrameLayout\r\n         android:layout_width=&quot;160dp&quot;\r\n         android:layout_gravity=&quot;center_horizontal&quot;\r\n         android:layout_columnWeight=&quot;1&quot;/&gt;\r\n\r\n&lt;/GridLayout&gt;\r\n```","title":"3 and higher columnCount cause bug Android Studio","body":"<p>Your columnCount is 2 but you have 3 children. Change the columnCount to 3 and see.</p>\n<pre><code>&lt;GridLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:columnCount=&quot;3&quot;&gt;\n\n    &lt;FrameLayout\n         android:layout_width=&quot;160dp&quot;\n         android:layout_gravity=&quot;center_horizontal&quot;\n         android:layout_columnWeight=&quot;1&quot;/&gt;\n    &lt;FrameLayout\n         android:layout_width=&quot;160dp&quot;\n         android:layout_gravity=&quot;center_horizontal&quot;\n         android:layout_columnWeight=&quot;1&quot;/&gt;\n    &lt;FrameLayout\n         android:layout_width=&quot;160dp&quot;\n         android:layout_gravity=&quot;center_horizontal&quot;\n         android:layout_columnWeight=&quot;1&quot;/&gt;\n\n&lt;/GridLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":17582527,"reputation":71,"user_id":12756021,"display_name":"Oleh Prukhnytskyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638928684,"creation_date":1631819492,"question_id":69213928,"body_markdown":"When objects do not fit in three lines, they go beyond, and I need that if there are too many of them they passed to the next row. Is it possible way to fix it? Thanks.&lt;br&gt;\r\n[columnCount is 2][1]&lt;br&gt;\r\n[columnCount is 3 and higher][2]\r\n```\r\n&lt;GridLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:columnCount=&quot;2&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n         android:layout_width=&quot;160dp&quot;\r\n         android:layout_gravity=&quot;center_horizontal&quot;\r\n         android:layout_columnWeight=&quot;1&quot;/&gt;\r\n    &lt;FrameLayout\r\n         android:layout_width=&quot;160dp&quot;\r\n         android:layout_gravity=&quot;center_horizontal&quot;\r\n         android:layout_columnWeight=&quot;1&quot;/&gt;\r\n    &lt;FrameLayout\r\n         android:layout_width=&quot;160dp&quot;\r\n         android:layout_gravity=&quot;center_horizontal&quot;\r\n         android:layout_columnWeight=&quot;1&quot;/&gt;\r\n\r\n&lt;/GridLayout&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N5REr.jpg\r\n  [2]: https://i.stack.imgur.com/sLUZ1.jpg","title":"3 and higher columnCount cause bug Android Studio","body":"<p>When objects do not fit in three lines, they go beyond, and I need that if there are too many of them they passed to the next row. Is it possible way to fix it? Thanks.<br>\n<a href=\"https://i.stack.imgur.com/N5REr.jpg\" rel=\"nofollow noreferrer\">columnCount is 2</a><br>\n<a href=\"https://i.stack.imgur.com/sLUZ1.jpg\" rel=\"nofollow noreferrer\">columnCount is 3 and higher</a></p>\n<pre><code>&lt;GridLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:columnCount=&quot;2&quot;&gt;\n\n    &lt;FrameLayout\n         android:layout_width=&quot;160dp&quot;\n         android:layout_gravity=&quot;center_horizontal&quot;\n         android:layout_columnWeight=&quot;1&quot;/&gt;\n    &lt;FrameLayout\n         android:layout_width=&quot;160dp&quot;\n         android:layout_gravity=&quot;center_horizontal&quot;\n         android:layout_columnWeight=&quot;1&quot;/&gt;\n    &lt;FrameLayout\n         android:layout_width=&quot;160dp&quot;\n         android:layout_gravity=&quot;center_horizontal&quot;\n         android:layout_columnWeight=&quot;1&quot;/&gt;\n\n&lt;/GridLayout&gt;\n</code></pre>\n"},{"tags":["python","java","apache-spark","pyspark"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1638904161,"post_id":70265683,"comment_id":124210341,"body_markdown":"What version of Spark and what version of Java?","body":"What version of Spark and what version of Java?"},{"owner":{"account_id":10371252,"reputation":2891,"user_id":7648881,"accept_rate":40,"display_name":"zar3bski"},"score":0,"creation_date":1638928496,"post_id":70265683,"comment_id":124216708,"body_markdown":"&quot;everything works fine in the terminal&quot;  = you are able to have a spark session? If so, is your jupyter server using the same execution environment (`PATH` ` PYTHONPATH` etc) as your terminal and not some kind of virtual environment?","body":"&quot;everything works fine in the terminal&quot;  = you are able to have a spark session? If so, is your jupyter server using the same execution environment (<code>PATH</code> ` PYTHONPATH` etc) as your terminal and not some kind of virtual environment?"}],"answers":[{"tags":[],"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638928013,"creation_date":1638928013,"answer_id":70268972,"question_id":70265683,"body_markdown":"Unless you have a reason to build the system, you could use Docker with a ready-to-go image like https://hub.docker.com/r/jupyter/pyspark-notebook. \r\n\r\nIf you really want to build it from scratch, on Windows, make sure your versions match the requirements. ","title":"Pyspark Session Builder","body":"<p>Unless you have a reason to build the system, you could use Docker with a ready-to-go image like <a href=\"https://hub.docker.com/r/jupyter/pyspark-notebook\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/jupyter/pyspark-notebook</a>.</p>\n<p>If you really want to build it from scratch, on Windows, make sure your versions match the requirements.</p>\n"}],"owner":{"account_id":13766694,"reputation":1,"user_id":9935117,"display_name":"Binay Agarwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1638928013,"creation_date":1638903996,"question_id":70265683,"body_markdown":"I have installed python and java, also have installed pyspark and the everything works fine in the terminal. I am trying to build a pyspark session using python on jupyter notebook \r\n\r\nThe code I am using is \r\n\r\n    import pyspark\r\n    from pyspark.sql import SparkSession\r\n    from pyspark.sql import SparkSession\r\n    spark=SparkSession.builder.appName(&#39;Practise&#39;).getOrCreate()\r\n\r\nBut I am Getting the following error:\r\n\r\n    Py4JJavaError                             Traceback (most recent call last) C:\\Users\\BINAYA~1\\AppData\\Local\\Temp/ipykernel_8296/4002136008.py in &lt;module&gt;\r\n    ----&gt; 1 spark=SparkSession.builder.appName(&#39;Practise&#39;).getOrCreate()    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\sql\\session.py in getOrCreate(self)\r\n        226                             sparkConf.set(key, value)\r\n        227                         # This SparkContext may be an existing one.\r\n    --&gt; 228                         sc = SparkContext.getOrCreate(sparkConf)\r\n        229                     # Do not update `SparkConf` for existing `SparkContext`, as it&#39;s shared\r\n        230                     # by all sessions.\r\n    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in getOrCreate(cls, conf)\r\n        390         with SparkContext._lock:\r\n        391             if SparkContext._active_spark_context is None:\r\n    --&gt; 392                 SparkContext(conf=conf or SparkConf())\r\n        393             return SparkContext._active_spark_context\r\n        394 \r\n    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in\r\n    __init__(self, master, appName, sparkHome, pyFiles, environment, batchSize, serializer, conf, gateway, jsc, profiler_cls)\r\n        144         SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\r\n        145         try:\r\n    --&gt; 146             self._do_init(master, appName, sparkHome, pyFiles, environment, batchSize, serializer,\r\n        147                           conf, jsc, profiler_cls)\r\n        148         except:\r\n    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in\r\n    _do_init(self, master, appName, sparkHome, pyFiles, environment, batchSize, serializer, conf, jsc, profiler_cls)\r\n        207 \r\n        208         # Create the Java SparkContext through Py4J\r\n    --&gt; 209         self._jsc = jsc or self._initialize_context(self._conf._jconf)\r\n        210         # Reset the SparkConf to the one actually used by the SparkContext in JVM.\r\n        211         self._conf = SparkConf(_jconf=self._jsc.sc().conf())\r\n    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in\r\n    _initialize_context(self, jconf)\r\n        327         Initialize SparkContext in function to allow subclass specific initialization\r\n        328         &quot;&quot;&quot;\r\n    --&gt; 329         return self._jvm.JavaSparkContext(jconf)\r\n        330 \r\n        331     @classmethod\r\n    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\py4j\\java_gateway.py in __call__(self, *args)    1571     1572         answer = self._gateway_client.send_command(command)\r\n    -&gt; 1573         return_value = get_return_value(    1574             answer, self._gateway_client, None, self._fqn)    1575 \r\n    \r\n    ~\\AppData\\Roaming\\Python\\Python310\\site-packages\\py4j\\protocol.py in get_return_value(answer, gateway_client, target_id, name)\r\n        324             value = OUTPUT_CONVERTER[type](answer[2:], gateway_client)\r\n        325             if answer[1] == REFERENCE_TYPE:\r\n    --&gt; 326                 raise Py4JJavaError(\r\n        327                     &quot;An error occurred while calling {0}{1}{2}.\\n&quot;.\r\n        328                     format(target_id, &quot;.&quot;, name), value)\r\n    \r\n    Py4JJavaError: An error occurred while calling None.org.apache.spark.api.java.JavaSparkContext. : java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x2e55dd0c) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x2e55dd0c \tat org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213) \tat org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala) \tat org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:110) \tat org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:348) \tat org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:287) \tat org.apache.spark.SparkEnv$.create(SparkEnv.scala:336) \tat org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:191) \tat org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277) \tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:460) \tat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58) \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) \tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247) \tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357) \tat py4j.Gateway.invoke(Gateway.java:238) \tat py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80) \tat py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69) \tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182) \tat py4j.ClientServerConnection.run(ClientServerConnection.java:106) \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\nCan someone please help me with it ?\r\n\r\n","title":"Pyspark Session Builder","body":"<p>I have installed python and java, also have installed pyspark and the everything works fine in the terminal. I am trying to build a pyspark session using python on jupyter notebook</p>\n<p>The code I am using is</p>\n<pre><code>import pyspark\nfrom pyspark.sql import SparkSession\nfrom pyspark.sql import SparkSession\nspark=SparkSession.builder.appName('Practise').getOrCreate()\n</code></pre>\n<p>But I am Getting the following error:</p>\n<pre><code>Py4JJavaError                             Traceback (most recent call last) C:\\Users\\BINAYA~1\\AppData\\Local\\Temp/ipykernel_8296/4002136008.py in &lt;module&gt;\n----&gt; 1 spark=SparkSession.builder.appName('Practise').getOrCreate()    \n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\sql\\session.py in getOrCreate(self)\n    226                             sparkConf.set(key, value)\n    227                         # This SparkContext may be an existing one.\n--&gt; 228                         sc = SparkContext.getOrCreate(sparkConf)\n    229                     # Do not update `SparkConf` for existing `SparkContext`, as it's shared\n    230                     # by all sessions.\n\n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in getOrCreate(cls, conf)\n    390         with SparkContext._lock:\n    391             if SparkContext._active_spark_context is None:\n--&gt; 392                 SparkContext(conf=conf or SparkConf())\n    393             return SparkContext._active_spark_context\n    394 \n\n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in\n__init__(self, master, appName, sparkHome, pyFiles, environment, batchSize, serializer, conf, gateway, jsc, profiler_cls)\n    144         SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\n    145         try:\n--&gt; 146             self._do_init(master, appName, sparkHome, pyFiles, environment, batchSize, serializer,\n    147                           conf, jsc, profiler_cls)\n    148         except:\n\n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in\n_do_init(self, master, appName, sparkHome, pyFiles, environment, batchSize, serializer, conf, jsc, profiler_cls)\n    207 \n    208         # Create the Java SparkContext through Py4J\n--&gt; 209         self._jsc = jsc or self._initialize_context(self._conf._jconf)\n    210         # Reset the SparkConf to the one actually used by the SparkContext in JVM.\n    211         self._conf = SparkConf(_jconf=self._jsc.sc().conf())\n\n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\pyspark\\context.py in\n_initialize_context(self, jconf)\n    327         Initialize SparkContext in function to allow subclass specific initialization\n    328         &quot;&quot;&quot;\n--&gt; 329         return self._jvm.JavaSparkContext(jconf)\n    330 \n    331     @classmethod\n\n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\py4j\\java_gateway.py in __call__(self, *args)    1571     1572         answer = self._gateway_client.send_command(command)\n-&gt; 1573         return_value = get_return_value(    1574             answer, self._gateway_client, None, self._fqn)    1575 \n\n~\\AppData\\Roaming\\Python\\Python310\\site-packages\\py4j\\protocol.py in get_return_value(answer, gateway_client, target_id, name)\n    324             value = OUTPUT_CONVERTER[type](answer[2:], gateway_client)\n    325             if answer[1] == REFERENCE_TYPE:\n--&gt; 326                 raise Py4JJavaError(\n    327                     &quot;An error occurred while calling {0}{1}{2}.\\n&quot;.\n    328                     format(target_id, &quot;.&quot;, name), value)\n\nPy4JJavaError: An error occurred while calling None.org.apache.spark.api.java.JavaSparkContext. : java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x2e55dd0c) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x2e55dd0c    at org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:213)    at org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)  at org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:110)     at org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:348)     at org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:287)    at org.apache.spark.SparkEnv$.create(SparkEnv.scala:336)    at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:191)   at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:277)     at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:460)     at org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)     at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)     at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)  at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)  at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)  at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:247)     at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)   at py4j.Gateway.invoke(Gateway.java:238)    at py4j.commands.ConstructorCommand.invokeConstructor(ConstructorCommand.java:80)   at py4j.commands.ConstructorCommand.execute(ConstructorCommand.java:69)     at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)     at py4j.ClientServerConnection.run(ClientServerConnection.java:106)     at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Can someone please help me with it ?</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638876935,"post_id":70259408,"comment_id":124199018,"body_markdown":"might be that demoRepository is null. might be the method call throws the exception. have you debugged your code?","body":"might be that demoRepository is null. might be the method call throws the exception. have you debugged your code?"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1638877185,"post_id":70259408,"comment_id":124199105,"body_markdown":"Where do you use and how do you instantiate the class `SampleMarksValues`?","body":"Where do you use and how do you instantiate the class <code>SampleMarksValues</code>?"},{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"RafaÅ‚ Sokalski"},"score":0,"creation_date":1638877187,"post_id":70259408,"comment_id":124199107,"body_markdown":"You are probably missing @Repository annotation in your repository class that&#39;s why spring does not create bean","body":"You are probably missing @Repository annotation in your repository class that&#39;s why spring does not create bean"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":1,"creation_date":1638877214,"post_id":70259408,"comment_id":124199115,"body_markdown":"@RafaÅ‚Sokalski It&#39;s a Spring Data interface, `@Repository` is not necessary on those.","body":"@RafaÅ‚Sokalski It&#39;s a Spring Data interface, <code>@Repository</code> is not necessary on those."},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":0,"creation_date":1638877231,"post_id":70259408,"comment_id":124199123,"body_markdown":"@Stultuske. how can i verify if demoRepository is null or not. If it is null then why i am getting the correct value when i call that value in GET API","body":"@Stultuske. how can i verify if demoRepository is null or not. If it is null then why i am getting the correct value when i call that value in GET API"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638877299,"post_id":70259408,"comment_id":124199151,"body_markdown":"@Kumar_Maddy because it is instantiated in one class/flow, doesn&#39;t mean it is in another. you can add a print statement, you can debug your code, there are several ways, all of which you should have known about before trying to write more &#39;complex&#39; code","body":"@Kumar_Maddy because it is instantiated in one class/flow, doesn&#39;t mean it is in another. you can add a print statement, you can debug your code, there are several ways, all of which you should have known about before trying to write more &#39;complex&#39; code"},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":0,"creation_date":1638877480,"post_id":70259408,"comment_id":124199226,"body_markdown":"@Stultuske i tried using print statement in service class method and i was getting null. I want to know how can i get rid of it. Is there any way to instaniate it within service class??","body":"@Stultuske i tried using print statement in service class method and i was getting null. I want to know how can i get rid of it. Is there any way to instaniate it within service class??"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638877588,"post_id":70259408,"comment_id":124199264,"body_markdown":"make sure that service class is itself instantiated in the Spring context, or the Autowired won&#39;t take","body":"make sure that service class is itself instantiated in the Spring context, or the Autowired won&#39;t take"},{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"RafaÅ‚ Sokalski"},"score":0,"creation_date":1638877656,"post_id":70259408,"comment_id":124199297,"body_markdown":"What is showing null? demoRepository or demoRepository.totalMarks() ?","body":"What is showing null? demoRepository or demoRepository.totalMarks() ?"},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":0,"creation_date":1638878384,"post_id":70259408,"comment_id":124199569,"body_markdown":"@RafaÅ‚Sokalski i also checked demorepository in print statement.```            System.out.println(&quot;total marks &quot;+demoRepository)```\n it is also showing null. here is output ```total marks null```","body":"@RafaÅ‚Sokalski i also checked demorepository in print statement.```            System.out.println(&quot;total marks &quot;+demoRepository)```  it is also showing null. here is output <code>total marks null</code>"},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":0,"creation_date":1638878564,"post_id":70259408,"comment_id":124199644,"body_markdown":"@Stultuske can you please provide any reference for instantiating service class in Spring??","body":"@Stultuske can you please provide any reference for instantiating service class in Spring??"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1638881751,"post_id":70259408,"comment_id":124200836,"body_markdown":"by Autowiring it, just like you try with your repository, but you have to autowire the entire flow","body":"by Autowiring it, just like you try with your repository, but you have to autowire the entire flow"},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":0,"creation_date":1638882614,"post_id":70259408,"comment_id":124201185,"body_markdown":"@Stultuske entire flow??","body":"@Stultuske entire flow??"},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":0,"creation_date":1638884016,"post_id":70259408,"comment_id":124201807,"body_markdown":"@Stultuske i used @autowire annotaion within controller class  to instaniate it. still its not working.  What am i missing here now?? ```\n@Autowired\nprivate SampleMarksValues sampleMarksValues;```","body":"@Stultuske i used @autowire annotaion within controller class  to instaniate it. still its not working.  What am i missing here now?? ``` @Autowired private SampleMarksValues sampleMarksValues;```"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1638887270,"post_id":70259408,"comment_id":124203367,"body_markdown":"that is not what I was talking about. You should read up on it works. If you add @Autowired on that variable, for instance, but instantiate the Controller by &quot; = new Controller&quot;, that Autowired won&#39;t do anything","body":"that is not what I was talking about. You should read up on it works. If you add @Autowired on that variable, for instance, but instantiate the Controller by &quot; = new Controller&quot;, that Autowired won&#39;t do anything"},{"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"score":1,"creation_date":1638894545,"post_id":70259408,"comment_id":124206592,"body_markdown":"@Stultuske Thanks mate. The issue is resolved now. I have been able to figure out the autowirig and instanitaing thing. As i instantiated using autowiring and called the method within controllr, it worked","body":"@Stultuske Thanks mate. The issue is resolved now. I have been able to figure out the autowirig and instanitaing thing. As i instantiated using autowiring and called the method within controllr, it worked"}],"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638926693,"creation_date":1638876873,"question_id":70259408,"body_markdown":"I am trying to get all the data from my SQL table. I am trying to use @Query in the repository.\r\n\r\nWhen I try to get these within my controller class as shown below using API I am getting it fine and it give me the correct value.\r\n\r\nHowever issue arises when I am trying to use the same value within my service class it is showing me null .However I need to use these values in service class for further purposes but I am unable to use it because of this error.\r\n\r\nBelow is my repository:\r\n\r\n```java\r\npublic interface DemoRepository extends JpaRepository&lt;DemoStudentData, Integer&gt; {\r\n\r\n    @Query(&quot;SELECT SUM(dt.demo_marks) FROM DemoStudentData dt&quot;)\r\n    Double totalMarks();\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nhere is the API which is giving me correct value when I try to test.(I only used it to check if I get correct value in GET request).\r\n\r\n```java\r\n@GetMapping(value=&quot;/totalMarks&quot;, produces = &quot;application/json&quot;)\r\n     public double getTotalMarks(){\r\n\r\n\r\n     return demoRepository.totalMarks();\r\n        }\r\n```\r\n\r\nBelow is my service class where I need to get the value.\r\n  \r\n```java\r\n   @Service\r\n   public class SampleMarksValues {\r\n\r\n\r\n    @Autowired\r\n    private DemoRepository demoRepository;\r\n\r\n    @PreUpdate\r\n    @PrePersist\r\n    public void useTotalMarks(DemoStudentData demo) {\r\n        Double Marks = demoRepository.totalMarks(); //showing null here.\r\n\r\n        demo.setTotal_Marks(Marks);\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am unable to figure out why I am getting such an issue. Can anyone help me with this?.","title":"Getting Null Pointer Exception when try to fetch the query result in springboot","body":"<p>I am trying to get all the data from my SQL table. I am trying to use @Query in the repository.</p>\n<p>When I try to get these within my controller class as shown below using API I am getting it fine and it give me the correct value.</p>\n<p>However issue arises when I am trying to use the same value within my service class it is showing me null .However I need to use these values in service class for further purposes but I am unable to use it because of this error.</p>\n<p>Below is my repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DemoRepository extends JpaRepository&lt;DemoStudentData, Integer&gt; {\n\n    @Query(&quot;SELECT SUM(dt.demo_marks) FROM DemoStudentData dt&quot;)\n    Double totalMarks();\n\n}\n\n</code></pre>\n<p>here is the API which is giving me correct value when I try to test.(I only used it to check if I get correct value in GET request).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value=&quot;/totalMarks&quot;, produces = &quot;application/json&quot;)\n     public double getTotalMarks(){\n\n\n     return demoRepository.totalMarks();\n        }\n</code></pre>\n<p>Below is my service class where I need to get the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Service\n   public class SampleMarksValues {\n\n\n    @Autowired\n    private DemoRepository demoRepository;\n\n    @PreUpdate\n    @PrePersist\n    public void useTotalMarks(DemoStudentData demo) {\n        Double Marks = demoRepository.totalMarks(); //showing null here.\n\n        demo.setTotal_Marks(Marks);\n\n    }\n\n}\n</code></pre>\n<p>I am unable to figure out why I am getting such an issue. Can anyone help me with this?.</p>\n"},{"tags":["java","terminal"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1638924601,"post_id":70268679,"comment_id":124216093,"body_markdown":"Java is not interpreted. You need to compile the code first.","body":"Java is not interpreted. You need to compile the code first."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1638924621,"post_id":70268679,"comment_id":124216098,"body_markdown":"Java is a compiled language.  See [this post](https://stackoverflow.com/questions/17667549/using-terminal-to-run-java-files) for some more details.","body":"Java is a compiled language.  See <a href=\"https://stackoverflow.com/questions/17667549/using-terminal-to-run-java-files\">this post</a> for some more details."},{"owner":{"account_id":13380369,"reputation":1564,"user_id":10655190,"display_name":"Roger Steinberg"},"score":0,"creation_date":1638924728,"post_id":70268679,"comment_id":124216118,"body_markdown":"isn&#39;t already compiled in the &quot;out&quot; folder though ?","body":"isn&#39;t already compiled in the &quot;out&quot; folder though ?"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1638924774,"post_id":70268679,"comment_id":124216132,"body_markdown":"We don&#39;t know - images are impossible to search and guess at.","body":"We don&#39;t know - images are impossible to search and guess at."},{"owner":{"account_id":13380369,"reputation":1564,"user_id":10655190,"display_name":"Roger Steinberg"},"score":0,"creation_date":1638925002,"post_id":70268679,"comment_id":124216166,"body_markdown":"@stdunbar you&#39;re right let me share that","body":"@stdunbar you&#39;re right let me share that"},{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":1,"creation_date":1638925286,"post_id":70268679,"comment_id":124216207,"body_markdown":"`java InnerFolder.Main` should be run at inside `out/production/untitled`.","body":"<code>java InnerFolder.Main</code> should be run at inside <code>out&#47;production&#47;untitled</code>."},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":0,"creation_date":1638925304,"post_id":70268679,"comment_id":124216211,"body_markdown":"Do your Main class and Node class have `package` statements? You&#39;ll need to mention the package with `java -cp yourpackage etc`","body":"Do your Main class and Node class have <code>package</code> statements? You&#39;ll need to mention the package with <code>java -cp yourpackage etc</code>"},{"owner":{"account_id":13380369,"reputation":1564,"user_id":10655190,"display_name":"Roger Steinberg"},"score":0,"creation_date":1638925785,"post_id":70268679,"comment_id":124216280,"body_markdown":"@StephenP yes there is package InnerFolder","body":"@StephenP yes there is package InnerFolder"},{"owner":{"account_id":13380369,"reputation":1564,"user_id":10655190,"display_name":"Roger Steinberg"},"score":0,"creation_date":1638925833,"post_id":70268679,"comment_id":124216288,"body_markdown":"@GenoChen seemed to work but im getting an error that I don&#39;t ahve when I run the program in intelliJ Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/pdfbox/pdmodel/PDDocument\n\tat InnerFolder.Main.main(Main.java:38)","body":"@GenoChen seemed to work but im getting an error that I don&#39;t ahve when I run the program in intelliJ Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/pdfbox/pdmodel/PDDocument \tat InnerFolder.Main.main(Main.java:38)"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1638928097,"post_id":70268679,"comment_id":124216644,"body_markdown":"Based on what you&#39;ve shown, I believe that you want to `cd Code` and `java -cp pdfbox-app-2.0.24.jar:out`.  But it&#39;s not clear if your `.java` files are in the correct package without seeing the code.","body":"Based on what you&#39;ve shown, I believe that you want to <code>cd Code</code> and <code>java -cp pdfbox-app-2.0.24.jar:out</code>.  But it&#39;s not clear if your <code>.java</code> files are in the correct package without seeing the code."},{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":1,"creation_date":1638931060,"post_id":70268679,"comment_id":124217125,"body_markdown":"@RogerSteinberg This is because, your code `import`s org.apache.pdfbox..., so you are expected to add the `pdfbox` jar into classpath","body":"@RogerSteinberg This is because, your code <code>import</code>s org.apache.pdfbox..., so you are expected to add the <code>pdfbox</code> jar into classpath"}],"owner":{"account_id":13380369,"reputation":1564,"user_id":10655190,"display_name":"Roger Steinberg"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638925195,"creation_date":1638924500,"question_id":70268679,"body_markdown":"Im extremely new to Java so please bear with me.\r\n\r\nI would like to run a java project from the terminal.\r\n\r\nThe directory looks like this :\r\n\r\n[![Code &gt;][1]][1]\r\n   \r\n  \r\nI went on the terminal inside the &quot;src&quot; folder and tried `java InnerFolder.Main` but got the following error msg: \r\n\r\n&gt; Error: Could not find or load main class \r\n\r\n**How can I run my project?**\r\n\r\n**edit:**\r\n\r\ncompiled files  \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Q7NZQ.png\r\n  [2]: https://i.stack.imgur.com/ZWgH6.png","title":"Running Java files inside a package with a jar library","body":"<p>Im extremely new to Java so please bear with me.</p>\n<p>I would like to run a java project from the terminal.</p>\n<p>The directory looks like this :</p>\n<p><a href=\"https://i.stack.imgur.com/Q7NZQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q7NZQ.png\" alt=\"Code &gt;\" /></a></p>\n<p>I went on the terminal inside the &quot;src&quot; folder and tried <code>java InnerFolder.Main</code> but got the following error msg:</p>\n<blockquote>\n<p>Error: Could not find or load main class</p>\n</blockquote>\n<p><strong>How can I run my project?</strong></p>\n<p><strong>edit:</strong></p>\n<p>compiled files<br />\n<a href=\"https://i.stack.imgur.com/ZWgH6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZWgH6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["javascript","java","thymeleaf"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":2,"creation_date":1638866463,"post_id":70256596,"comment_id":124195197,"body_markdown":"have you considered to use any calendar library?","body":"have you considered to use any calendar library?"},{"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"score":0,"creation_date":1638867066,"post_id":70256596,"comment_id":124195417,"body_markdown":"Sorry, just realised not everything I had in my question was posted. A calendar library would prob be the best option but I&#39;m just trying to do what&#39;s been requested of me.","body":"Sorry, just realised not everything I had in my question was posted. A calendar library would prob be the best option but I&#39;m just trying to do what&#39;s been requested of me."}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638924888,"creation_date":1638863576,"question_id":70256596,"body_markdown":"I have this code for date entry in a Thymeleaf template:\r\n\r\n```\r\n&lt;div class=&quot;m-form-row__content&quot;&gt;\r\n\t&lt;ul class=&quot;m-textbox-group&quot; data-module=&quot;a-autojump&quot;&gt;\r\n\t\t&lt;li class=&quot;m-textbox-group__item&quot;&gt;&lt;label\r\n\t\t\tclass=&quot;m-textbox-group__item-label&quot; for=&quot;pHolder.dobDay&quot;&gt;Day&lt;/label&gt;\r\n\r\n\t\t\t&lt;input type=&quot;text&quot; id=&quot;pHolder.dobDay&quot;\r\n\t\t\tth:field=&quot;*{pHolder.dobDay}&quot; placeholder=&quot;DD&quot;\r\n\t\t\tclass=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;&lt;/li&gt;\r\n\t\t&lt;li class=&quot;m-textbox-group__item&quot;&gt;&lt;label\r\n\t\t\tclass=&quot;m-textbox-group__item-label&quot; for=&quot;pHolder.dobMonth&quot;&gt;Month&lt;/label&gt;\r\n\r\n\t\t\t&lt;input type=&quot;text&quot; id=&quot;pHolder.dobMonth&quot;\r\n\t\t\tth:field=&quot;*{pHolder.dobMonth}&quot; placeholder=&quot;MM&quot;\r\n\t\t\tclass=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;&lt;/li&gt;\r\n\t\t&lt;li class=&quot;m-textbox-group__item&quot;&gt;&lt;label\r\n\t\t\tclass=&quot;m-textbox-group__item-label&quot; for=&quot;pHolder.dobYear&quot;&gt;Year&lt;/label&gt;\r\n\r\n\t\t\t&lt;input type=&quot;text&quot; id=&quot;pHolder.dobYear&quot;\r\n\t\t\tth:field=&quot;*{pHolder.dobYear}&quot; placeholder=&quot;YYYY&quot;\r\n\t\t\tclass=&quot;a-textbox a-textbox--4-character&quot; maxlength=&quot;4&quot; /&gt;&lt;/li&gt;\r\n\t&lt;/ul&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nThe date format should be DD/MM/YYYY but currently if something like D/M/YYYY is entered no validation catches this and it causes an error in a downstream application. I&#39;d like to add some functionality where a leading zero is added if the length of D or M are 1.\r\n\r\nAn example of what I&#39;m trying to do but done with JSP and JavaScript are as follows:\r\n\r\n```JSP\r\n&lt;div class=&quot;input&quot;&gt;\r\n    &lt;div class=&quot;textfield inputGroup&quot;&gt;\r\n    &lt;form:input path=&quot;proposer.dobDay&quot; id=&quot;proposer.dobDay&quot;\r\n    cssClass=&quot;input-text small dayfield only-digits validateFrontend&quot; size=&quot;3&quot; maxlength=&quot;2&quot;\r\n    onkeyup=&quot;moveOnMaxDob(this,&#39;proposer.dobMonth&#39;)&quot; onchange=&quot;joinDOBVal()&quot; /&gt;\r\n    &lt;form:input path=&quot;proposer.dobMonth&quot; id=&quot;proposer.dobMonth&quot;\r\n    cssClass=&quot;input-text small monthfield only-digits validateFrontend&quot; size=&quot;3&quot; maxlength=&quot;2&quot;\r\n    onkeyup=&quot;moveOnMaxDob(this,&#39;proposer.dobYear&#39;)&quot; onchange=&quot;joinDOBVal()&quot;/&gt;\r\n    &lt;form:input path=&quot;proposer.dobYear&quot; id=&quot;proposer.dobYear&quot;\r\n    cssClass=&quot;input-text small yearfield only-digits validateFrontend&quot; size=&quot;5&quot; maxlength=&quot;4&quot;\r\n    onchange=&quot;joinDOBVal()&quot;/&gt;\r\n    &lt;span class=&quot;validIcon&quot;&gt;&lt;/span&gt;\r\n    &lt;div class=&quot;errorContainerContact&quot;&gt;&lt;/div&gt;\r\n    &lt;!-- hidden fields for full dob --&gt;\r\n    &lt;form:hidden path=&quot;proposer.dob&quot; id=&quot;proposer.dob&quot;/&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&quot;errorContainer dob&quot;&gt;\r\n        &lt;form:errors path=&quot;proposer.dob&quot; cssClass=&quot;field-validation-error&quot; htmlEscape=&quot;false&quot; /&gt;\r\n   &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n```JavaScript\r\nfunction joinDOBVal() {\r\n\tvar day = document.getElementById(&quot;proposer.dobDay&quot;).value;\r\n\tvar month = document.getElementById(&quot;proposer.dobMonth&quot;).value;\r\n\tvar year = document.getElementById(&quot;proposer.dobMonth&quot;).value;\r\n\tif (IsNumeric(day) == true &amp;&amp; IsNumeric(month) == true\r\n\t\t\t&amp;&amp; IsNumeric(year) == true) {\r\n\r\n\t\tif(day != &quot;&quot; &amp;&amp; day.length == 1 &amp;&amp; day != &quot;0&quot;) {\r\n\t\t\tday = &quot;0&quot;+day;\r\n\t\t\tdocument.getElementById(&quot;proposer.dobDay&quot;).value = day;\r\n\t\t}\r\n\t\tif(month != &quot;&quot; &amp;&amp; month.length == 1 &amp;&amp; month != &quot;0&quot;) {\r\n\t\t\tmonth = &quot;0&quot;+month;\r\n\t\t\tdocument.getElementById(&quot;proposer.dobMonth&quot;).value = month;\r\n\t\t}\r\n\t\tif ((year != &quot;&quot;) &amp;&amp; (year.length == 4)) {\r\n\t\t\tvar fullDob = day + &quot;/&quot; + month + &quot;/&quot; + year;\r\n\t\t\tdocument.getElementById(&quot;proposer.dob&quot;).value = fullDob;\r\n\t\t} else {\r\n\t\t\tdocument.getElementById(&quot;proposer.dob&quot;).value = &quot;&quot;;\r\n\t\t}\r\n\t} else {\r\n\t\tdocument.getElementById(&quot;proposer.dob&quot;).value = &quot;&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nThink maybe I could do something along the lines of but not quite this:\r\n\r\n```\r\n&lt;input th:if=&quot;${policyHolder.dobDay.count} &amp;gt; 1&quot; type=&quot;text&quot; id=&quot;pHolder.dobDay&quot;\r\n\t\t\tth:field=&quot;*{pHolder.dobDay}&quot; placeholder=&quot;DD&quot;\r\n\t\t\tclass=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;\r\n&lt;input th:if=&quot;${policyHolder.dobDay.count} &amp;eq; 1&quot; type=&quot;text&quot; id=&quot;pHolder.dobDay&quot;\r\n\t\t\tth:field=&quot;0*{pHolder.dobDay}&quot; placeholder=&quot;DD&quot;\r\n\t\t\tclass=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;\r\n```\r\n\r\n**Update**\r\n\r\nMy understanding is that the `label` passes the value to `input` e.g. `for=&quot;policyHolder.dobDay&quot;` and `id=&quot;policyHolder.dobDay&quot;`. Is it possible to do some sort of `th:if` in the `label` so the desired value is passed to be input?","title":"Thymeleaf - Add leading zero to date field if day or month is entered as D/M instead of DD/MM","body":"<p>I have this code for date entry in a Thymeleaf template:</p>\n<pre><code>&lt;div class=&quot;m-form-row__content&quot;&gt;\n    &lt;ul class=&quot;m-textbox-group&quot; data-module=&quot;a-autojump&quot;&gt;\n        &lt;li class=&quot;m-textbox-group__item&quot;&gt;&lt;label\n            class=&quot;m-textbox-group__item-label&quot; for=&quot;pHolder.dobDay&quot;&gt;Day&lt;/label&gt;\n\n            &lt;input type=&quot;text&quot; id=&quot;pHolder.dobDay&quot;\n            th:field=&quot;*{pHolder.dobDay}&quot; placeholder=&quot;DD&quot;\n            class=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;&lt;/li&gt;\n        &lt;li class=&quot;m-textbox-group__item&quot;&gt;&lt;label\n            class=&quot;m-textbox-group__item-label&quot; for=&quot;pHolder.dobMonth&quot;&gt;Month&lt;/label&gt;\n\n            &lt;input type=&quot;text&quot; id=&quot;pHolder.dobMonth&quot;\n            th:field=&quot;*{pHolder.dobMonth}&quot; placeholder=&quot;MM&quot;\n            class=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;&lt;/li&gt;\n        &lt;li class=&quot;m-textbox-group__item&quot;&gt;&lt;label\n            class=&quot;m-textbox-group__item-label&quot; for=&quot;pHolder.dobYear&quot;&gt;Year&lt;/label&gt;\n\n            &lt;input type=&quot;text&quot; id=&quot;pHolder.dobYear&quot;\n            th:field=&quot;*{pHolder.dobYear}&quot; placeholder=&quot;YYYY&quot;\n            class=&quot;a-textbox a-textbox--4-character&quot; maxlength=&quot;4&quot; /&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The date format should be DD/MM/YYYY but currently if something like D/M/YYYY is entered no validation catches this and it causes an error in a downstream application. I'd like to add some functionality where a leading zero is added if the length of D or M are 1.</p>\n<p>An example of what I'm trying to do but done with JSP and JavaScript are as follows:</p>\n<pre><code>&lt;div class=&quot;input&quot;&gt;\n    &lt;div class=&quot;textfield inputGroup&quot;&gt;\n    &lt;form:input path=&quot;proposer.dobDay&quot; id=&quot;proposer.dobDay&quot;\n    cssClass=&quot;input-text small dayfield only-digits validateFrontend&quot; size=&quot;3&quot; maxlength=&quot;2&quot;\n    onkeyup=&quot;moveOnMaxDob(this,'proposer.dobMonth')&quot; onchange=&quot;joinDOBVal()&quot; /&gt;\n    &lt;form:input path=&quot;proposer.dobMonth&quot; id=&quot;proposer.dobMonth&quot;\n    cssClass=&quot;input-text small monthfield only-digits validateFrontend&quot; size=&quot;3&quot; maxlength=&quot;2&quot;\n    onkeyup=&quot;moveOnMaxDob(this,'proposer.dobYear')&quot; onchange=&quot;joinDOBVal()&quot;/&gt;\n    &lt;form:input path=&quot;proposer.dobYear&quot; id=&quot;proposer.dobYear&quot;\n    cssClass=&quot;input-text small yearfield only-digits validateFrontend&quot; size=&quot;5&quot; maxlength=&quot;4&quot;\n    onchange=&quot;joinDOBVal()&quot;/&gt;\n    &lt;span class=&quot;validIcon&quot;&gt;&lt;/span&gt;\n    &lt;div class=&quot;errorContainerContact&quot;&gt;&lt;/div&gt;\n    &lt;!-- hidden fields for full dob --&gt;\n    &lt;form:hidden path=&quot;proposer.dob&quot; id=&quot;proposer.dob&quot;/&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;errorContainer dob&quot;&gt;\n        &lt;form:errors path=&quot;proposer.dob&quot; cssClass=&quot;field-validation-error&quot; htmlEscape=&quot;false&quot; /&gt;\n   &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<pre><code>function joinDOBVal() {\n    var day = document.getElementById(&quot;proposer.dobDay&quot;).value;\n    var month = document.getElementById(&quot;proposer.dobMonth&quot;).value;\n    var year = document.getElementById(&quot;proposer.dobMonth&quot;).value;\n    if (IsNumeric(day) == true &amp;&amp; IsNumeric(month) == true\n            &amp;&amp; IsNumeric(year) == true) {\n\n        if(day != &quot;&quot; &amp;&amp; day.length == 1 &amp;&amp; day != &quot;0&quot;) {\n            day = &quot;0&quot;+day;\n            document.getElementById(&quot;proposer.dobDay&quot;).value = day;\n        }\n        if(month != &quot;&quot; &amp;&amp; month.length == 1 &amp;&amp; month != &quot;0&quot;) {\n            month = &quot;0&quot;+month;\n            document.getElementById(&quot;proposer.dobMonth&quot;).value = month;\n        }\n        if ((year != &quot;&quot;) &amp;&amp; (year.length == 4)) {\n            var fullDob = day + &quot;/&quot; + month + &quot;/&quot; + year;\n            document.getElementById(&quot;proposer.dob&quot;).value = fullDob;\n        } else {\n            document.getElementById(&quot;proposer.dob&quot;).value = &quot;&quot;;\n        }\n    } else {\n        document.getElementById(&quot;proposer.dob&quot;).value = &quot;&quot;;\n    }\n}\n</code></pre>\n<p>Think maybe I could do something along the lines of but not quite this:</p>\n<pre><code>&lt;input th:if=&quot;${policyHolder.dobDay.count} &amp;gt; 1&quot; type=&quot;text&quot; id=&quot;pHolder.dobDay&quot;\n            th:field=&quot;*{pHolder.dobDay}&quot; placeholder=&quot;DD&quot;\n            class=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;\n&lt;input th:if=&quot;${policyHolder.dobDay.count} &amp;eq; 1&quot; type=&quot;text&quot; id=&quot;pHolder.dobDay&quot;\n            th:field=&quot;0*{pHolder.dobDay}&quot; placeholder=&quot;DD&quot;\n            class=&quot;a-textbox a-textbox--2-character&quot; maxlength=&quot;2&quot; /&gt;\n</code></pre>\n<p><strong>Update</strong></p>\n<p>My understanding is that the <code>label</code> passes the value to <code>input</code> e.g. <code>for=&quot;policyHolder.dobDay&quot;</code> and <code>id=&quot;policyHolder.dobDay&quot;</code>. Is it possible to do some sort of <code>th:if</code> in the <code>label</code> so the desired value is passed to be input?</p>\n"},{"tags":["java","maven","tesseract"],"owner":{"account_id":23580180,"reputation":11,"user_id":17619307,"display_name":"Nanthno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1638922839,"creation_date":1638913148,"question_id":70267252,"body_markdown":"I&#39;m developing an application in Java using Maven. It works on my development computer (Windows) but when I try to run it on a different computer (mac), I get \r\n\r\n    NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI\r\n\r\nI&#39;m new to Maven so I don&#39;t know much about how it works but I&#39;ve tried building with shade and with maven-assembly-plugin but neither worked.\r\n\r\nHere is the build section of my pom.xml\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources/&lt;/directory&gt;\r\n\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!--            The following two plugins were not both run. I had one or the other commented out--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;manifestEntries&gt;\r\n                                        &lt;Main-Class&gt;com.nanthno.Main&lt;/Main-Class&gt;\r\n                                    &lt;/manifestEntries&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.nanthno.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nI&#39;ve tried solutions on other forum posts but nothing is working. Any and all help is greatly appreciated.\r\n(Also this is my first post on StackOverflow so if I should be formatting things differently or anything, let me know and I&#39;ll edit the post)\r\n\r\nEdit: I tried running the build on a different windows and it worked so it is a mac specific issue.","title":"NoClassDefFoundError: could not initialize class when running on another computer","body":"<p>I'm developing an application in Java using Maven. It works on my development computer (Windows) but when I try to run it on a different computer (mac), I get</p>\n<pre><code>NoClassDefFoundError: Could not initialize class net.sourceforge.tess4j.TessAPI\n</code></pre>\n<p>I'm new to Maven so I don't know much about how it works but I've tried building with shade and with maven-assembly-plugin but neither worked.</p>\n<p>Here is the build section of my pom.xml</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources/&lt;/directory&gt;\n\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;!--            The following two plugins were not both run. I had one or the other commented out--&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer\n                                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;manifestEntries&gt;\n                                    &lt;Main-Class&gt;com.nanthno.Main&lt;/Main-Class&gt;\n                                &lt;/manifestEntries&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;com.nanthno.Main&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I've tried solutions on other forum posts but nothing is working. Any and all help is greatly appreciated.\n(Also this is my first post on StackOverflow so if I should be formatting things differently or anything, let me know and I'll edit the post)</p>\n<p>Edit: I tried running the build on a different windows and it worked so it is a mac specific issue.</p>\n"},{"tags":["java","pdf","servlets","merge","itext"],"comments":[{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":1,"creation_date":1638907811,"post_id":70266260,"comment_id":124211634,"body_markdown":"So you are trying two concatenate two PDF documents? E.g. the first document has 3 pages, the second as 5 pages and the concatenated document thus has 8 pages?","body":"So you are trying two concatenate two PDF documents? E.g. the first document has 3 pages, the second as 5 pages and the concatenated document thus has 8 pages?"},{"owner":{"account_id":9015124,"reputation":61,"user_id":6718279,"display_name":"Dsjohn"},"score":0,"creation_date":1638908408,"post_id":70266260,"comment_id":124211855,"body_markdown":"The document that needs to display first is a cover page, only one page. The second to display consists of an invoice that may be many, up to 10 pages. Therefore, I need the cover page PDF first and then the invoice PDF. Yes, 1 page + 10, 11 pages total.","body":"The document that needs to display first is a cover page, only one page. The second to display consists of an invoice that may be many, up to 10 pages. Therefore, I need the cover page PDF first and then the invoice PDF. Yes, 1 page + 10, 11 pages total."},{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1638911592,"post_id":70266260,"comment_id":124213002,"body_markdown":"PDF documents have a complex structure incl. an index of all pages and shared resources. So concatenating two documents isn&#39;t trivial. However, iText 5 can do the heavy lifting for you. Search for &quot;itext 5 pdfcopy example&quot;.","body":"PDF documents have a complex structure incl. an index of all pages and shared resources. So concatenating two documents isn&#39;t trivial. However, iText 5 can do the heavy lifting for you. Search for &quot;itext 5 pdfcopy example&quot;."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1638913285,"post_id":70266260,"comment_id":124213529,"body_markdown":"You want to merge two documents. Have you considered looking for answers on merging PDFs with iText?","body":"You want to merge two documents. Have you considered looking for answers on merging PDFs with iText?"},{"owner":{"account_id":9015124,"reputation":61,"user_id":6718279,"display_name":"Dsjohn"},"score":0,"creation_date":1638915637,"post_id":70266260,"comment_id":124214160,"body_markdown":"I have searched for that exact phrase. The issue becomes that the Java servlet class has no knowledge of iText or the PDF documents that were created in its calls to the classes that use iText to make the returned output streams. It only knows about &quot;ByteArrayOutputStream&quot; streams. In the servlet, can it be possible to create iText documents from the two returned &quot;ByteArrayOutputStream,&quot; streams, merge the documents, and convert that document back to a&quot;ByteArrayOutputStream&quot; to write to the &quot;ServletOutputStream &quot;?","body":"I have searched for that exact phrase. The issue becomes that the Java servlet class has no knowledge of iText or the PDF documents that were created in its calls to the classes that use iText to make the returned output streams. It only knows about &quot;ByteArrayOutputStream&quot; streams. In the servlet, can it be possible to create iText documents from the two returned &quot;ByteArrayOutputStream,&quot; streams, merge the documents, and convert that document back to a&quot;ByteArrayOutputStream&quot; to write to the &quot;ServletOutputStream &quot;?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1638958647,"post_id":70266260,"comment_id":124223868,"body_markdown":"Your solution in your answer is approximately what I had in mind when asking you to look for *merging PDFs with iText*.","body":"Your solution in your answer is approximately what I had in mind when asking you to look for <i>merging PDFs with iText</i>."}],"answers":[{"tags":[],"owner":{"account_id":9015124,"reputation":61,"user_id":6718279,"display_name":"Dsjohn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638922651,"creation_date":1638922651,"answer_id":70268501,"question_id":70266260,"body_markdown":"I was able to get it to work inside the Java servlet with the following code.\r\n\r\n    Document pdfDocument = new Document();\r\n    ByteArrayOutputStream pdfOutputStream = new ByteArrayOutputStream();\r\n    PdfCopy copy = new PdfCopy(pdfDocument, pdfOutputStream);\r\n    \r\n    pdfDocument.open();\r\n    \r\n    baosCoverPDF = new coverPDF();\r\n    \r\n    PdfReader coverPageReader = new PdfReader(baosCoverPDF.toByteArray());\r\n    \r\n    for (int i = 1; i &lt;= coverPageReader.getNumberOfPages(); i++) {\r\n       copy.addPage(copy.getImportedPage(coverPageReader, i));\r\n    }\r\n    \r\n    baosInvoice = new InvoicePDF(); \r\n    \r\n    PdfReader invoiceReader = new PdfReader(baosInvoice.toByteArray());\r\n    \r\n    for (int i = 1; i &lt;= invoiceReader.getNumberOfPages(); i++) {\r\n       copy.addPage(copy.getImportedPage(invoiceReader, i));\r\n    }\r\n    \r\n    pdfDocument.close();\r\n    \r\n    baosPDF.write(pdfOutputStream.toByteArray());\r\n    \r\n    copy.close();\r\n    coverPageReader.close();\r\n    invoiceReader.close();\r\n\r\nI then perform the rest as before to output to the browser window.\r\n\r\n    // Set up the return HTTP header.\r\n    \r\n    response.setHeader(&quot;Cache-Control&quot;, &quot;max-age=30&quot;);\r\n    response.setContentType(&quot;application/pdf&quot;);\r\n    response.setHeader(&quot;Content-disposition&quot;, &quot;inline; filename=INV_&quot;\r\n                                + \r\n    request.getParameter(&quot;invoiceNumber&quot;).toString()\r\n                                + &quot;.pdf&quot;);\r\n\r\n    // Set length HTTP header value.\r\n    \r\n    response.setContentLength(baosPDF.size());\r\n    \r\n    // Write all data to the browser.\r\n    \r\n    ServletOutputStream sos = response.getOutputStream();\r\n    \r\n    baosPDF.writeTo(sos);\r\n               \r\n    sos.flush();\r\n\r\n","title":"iText 5: Create a single PDF &quot;ByteArrayOutputStream()&quot; from two streams in a Java &quot;HttpServlet&quot; servlet to display in browser window","body":"<p>I was able to get it to work inside the Java servlet with the following code.</p>\n<pre><code>Document pdfDocument = new Document();\nByteArrayOutputStream pdfOutputStream = new ByteArrayOutputStream();\nPdfCopy copy = new PdfCopy(pdfDocument, pdfOutputStream);\n\npdfDocument.open();\n\nbaosCoverPDF = new coverPDF();\n\nPdfReader coverPageReader = new PdfReader(baosCoverPDF.toByteArray());\n\nfor (int i = 1; i &lt;= coverPageReader.getNumberOfPages(); i++) {\n   copy.addPage(copy.getImportedPage(coverPageReader, i));\n}\n\nbaosInvoice = new InvoicePDF(); \n\nPdfReader invoiceReader = new PdfReader(baosInvoice.toByteArray());\n\nfor (int i = 1; i &lt;= invoiceReader.getNumberOfPages(); i++) {\n   copy.addPage(copy.getImportedPage(invoiceReader, i));\n}\n\npdfDocument.close();\n\nbaosPDF.write(pdfOutputStream.toByteArray());\n\ncopy.close();\ncoverPageReader.close();\ninvoiceReader.close();\n</code></pre>\n<p>I then perform the rest as before to output to the browser window.</p>\n<pre><code>// Set up the return HTTP header.\n\nresponse.setHeader(&quot;Cache-Control&quot;, &quot;max-age=30&quot;);\nresponse.setContentType(&quot;application/pdf&quot;);\nresponse.setHeader(&quot;Content-disposition&quot;, &quot;inline; filename=INV_&quot;\n                            + \nrequest.getParameter(&quot;invoiceNumber&quot;).toString()\n                            + &quot;.pdf&quot;);\n\n// Set length HTTP header value.\n\nresponse.setContentLength(baosPDF.size());\n\n// Write all data to the browser.\n\nServletOutputStream sos = response.getOutputStream();\n\nbaosPDF.writeTo(sos);\n           \nsos.flush();\n</code></pre>\n"}],"owner":{"account_id":9015124,"reputation":61,"user_id":6718279,"display_name":"Dsjohn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1638922651,"creation_date":1638907281,"question_id":70266260,"body_markdown":"I have a Java &quot;HttpServlet&quot; class that creates an iText 5 PDF document by calling a Java class that returns the PDF document as a &quot;ByteArrayOuputStream.&quot; The stream gets written to the &quot;HttpServletResponse&quot; of the servlet and displayed in the browser window.\r\n\r\nIn the Java servlet:\r\n\r\n        protected void processRequest(HttpServletRequest request, HttpServletResponse response) \r\n    throws ServletException, IOException{\r\n\r\n    // Other code.\r\n    \r\n    ByteArrayOutputStream baosPDF = new ByteArrayOutputStream();\r\n    \r\n    // Java class call to create PDF document.\r\n    \r\n    baosPDF = new InvoicePDF();\r\n    \r\n    // Set up the return HTTP header.\r\n    \r\n    response.setHeader(&quot;Cache-Control&quot;, &quot;max-age=30&quot;);\r\n    response.setContentType(&quot;application/pdf&quot;);\r\n    response.setHeader(&quot;Content-disposition&quot;, &quot;inline; filename=INV_&quot;\r\n                                + request.getParameter(&quot;invoiceNumber&quot;).toString()\r\n                                + &quot;.pdf&quot;);\r\n    \r\n    // Set length HTTP header value.\r\n    \r\n    response.setContentLength(baosPDF.size());\r\n    \r\n    // Write all data to the browser.\r\n    \r\n    ServletOutputStream sos = response.getOutputStream();\r\n    \r\n    baosPDF.writeTo(sos);\r\n               \r\n    sos.flush();\r\n     \r\n    // Other code.\r\n    \r\n    }\r\n\r\nThe above code works well.\r\n\r\nIn certain circumstances, I need to create another &quot;ByteArrayOuputStream&quot; PDF document in the servlet using another Java class and have that PDF document displayed first and then the other PDF document next in the browser window.\r\n\r\nI tried concatenating the two &quot;ByteArrayOutputStream&quot; (write method) into one and writing to the &quot;ServletOutputStream,&quot; but only the stream written on the end of the &quot;ByteArrayOuputStream&quot; displays in the browser window.\r\n\r\nIn the servlet, I need to create a single PDF &quot;ByteArrayOuputStream,&quot; somehow merging the two PDF documents.\r\n\r\n    ByteArrayOutputStream baosPDF = new ByteArrayOutputStream();\r\n    \r\n    ByteArrayOutputStream baosCoverPDF = new ByteArrayOutputStream();\r\n    \r\n    //Java class call to create PDF document\r\n    \r\n    baosCoverPDF = new coverPDF();\r\n\r\n    baosPDF = new InvoicePDF(hosturl, invoiceNumber);  \r\n\r\nI need a single &quot;ByteArrayOuputStream&quot; that contains both &quot;baoCoverPDF&quot; and &quot;baosPDF&quot; streams as a single PDF that will display both PDF streams in the browser? Any help on a direction such as a combination of a &quot;PdfReader&quot; and &quot;PdfCopy&quot;?\r\n\r\n\r\n\r\n\r\n","title":"iText 5: Create a single PDF &quot;ByteArrayOutputStream()&quot; from two streams in a Java &quot;HttpServlet&quot; servlet to display in browser window","body":"<p>I have a Java &quot;HttpServlet&quot; class that creates an iText 5 PDF document by calling a Java class that returns the PDF document as a &quot;ByteArrayOuputStream.&quot; The stream gets written to the &quot;HttpServletResponse&quot; of the servlet and displayed in the browser window.</p>\n<p>In the Java servlet:</p>\n<pre><code>    protected void processRequest(HttpServletRequest request, HttpServletResponse response) \nthrows ServletException, IOException{\n\n// Other code.\n\nByteArrayOutputStream baosPDF = new ByteArrayOutputStream();\n\n// Java class call to create PDF document.\n\nbaosPDF = new InvoicePDF();\n\n// Set up the return HTTP header.\n\nresponse.setHeader(&quot;Cache-Control&quot;, &quot;max-age=30&quot;);\nresponse.setContentType(&quot;application/pdf&quot;);\nresponse.setHeader(&quot;Content-disposition&quot;, &quot;inline; filename=INV_&quot;\n                            + request.getParameter(&quot;invoiceNumber&quot;).toString()\n                            + &quot;.pdf&quot;);\n\n// Set length HTTP header value.\n\nresponse.setContentLength(baosPDF.size());\n\n// Write all data to the browser.\n\nServletOutputStream sos = response.getOutputStream();\n\nbaosPDF.writeTo(sos);\n           \nsos.flush();\n \n// Other code.\n\n}\n</code></pre>\n<p>The above code works well.</p>\n<p>In certain circumstances, I need to create another &quot;ByteArrayOuputStream&quot; PDF document in the servlet using another Java class and have that PDF document displayed first and then the other PDF document next in the browser window.</p>\n<p>I tried concatenating the two &quot;ByteArrayOutputStream&quot; (write method) into one and writing to the &quot;ServletOutputStream,&quot; but only the stream written on the end of the &quot;ByteArrayOuputStream&quot; displays in the browser window.</p>\n<p>In the servlet, I need to create a single PDF &quot;ByteArrayOuputStream,&quot; somehow merging the two PDF documents.</p>\n<pre><code>ByteArrayOutputStream baosPDF = new ByteArrayOutputStream();\n\nByteArrayOutputStream baosCoverPDF = new ByteArrayOutputStream();\n\n//Java class call to create PDF document\n\nbaosCoverPDF = new coverPDF();\n\nbaosPDF = new InvoicePDF(hosturl, invoiceNumber);  \n</code></pre>\n<p>I need a single &quot;ByteArrayOuputStream&quot; that contains both &quot;baoCoverPDF&quot; and &quot;baosPDF&quot; streams as a single PDF that will display both PDF streams in the browser? Any help on a direction such as a combination of a &quot;PdfReader&quot; and &quot;PdfCopy&quot;?</p>\n"},{"tags":["java","android","android-volley"],"comments":[{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":1,"creation_date":1638939309,"post_id":70268224,"comment_id":124218544,"body_markdown":"but, you can break loop with `break;` statement when  `if(ID == CurrentUserId) break;` or you can continue looping with `continue;` statement when  `if(ID == CurrentUserId) continue;`.","body":"but, you can break loop with <code>break;</code> statement when  <code>if(ID == CurrentUserId) break;</code> or you can continue looping with <code>continue;</code> statement when  <code>if(ID == CurrentUserId) continue;</code>."},{"owner":{"account_id":20654189,"reputation":31,"user_id":15163720,"display_name":"Achisyg"},"score":0,"creation_date":1638958198,"post_id":70268224,"comment_id":124223694,"body_markdown":"@EAS Nice!! Thank you very much, you solved my problem!","body":"@EAS Nice!! Thank you very much, you solved my problem!"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1638958733,"post_id":70268224,"comment_id":124223906,"body_markdown":"Glad to hear this!","body":"Glad to hear this!"}],"owner":{"account_id":20654189,"reputation":31,"user_id":15163720,"display_name":"Achisyg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1638920021,"creation_date":1638920021,"question_id":70268224,"body_markdown":"I am using volley library and I want to pass data from a JSON API url with the GET method. What exactly I need is to get the user ```ID == CurrentUserId```. Here is my full code:\r\n\r\n    RequestQueue queue = Volley.newRequestQueue(getContext());\r\n            JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, JSON_URL, null, new Response.Listener&lt;JSONArray&gt;() {\r\n                @Override\r\n                public void onResponse(JSONArray response) {\r\n                    for (int i = 0; i &lt; response.length(); i++) {\r\n                    try {\r\n                        JSONObject usersObject = response.getJSONObject(i);\r\n                        Toast.makeText(getContext(), &quot;Name: &quot;+usersObject, Toast.LENGTH_LONG).show();\r\n    \r\n                        String ID = usersObject.getString(&quot;ID&quot;);\r\n                        if (ID.equalsIgnoreCase(CurrentUser)) {\r\n                            String fullName = usersObject.getString(&quot;fullName&quot;);\r\n                            String userName = usersObject.getString(&quot;username&quot;);\r\n    \r\n                            fullname.setText(fullName);\r\n                            username.setText(userName);\r\n                        } else {\r\n                            fullname.setText(&quot;No Name&quot;);\r\n                        }\r\n                        Toast.makeText(getContext(), &quot;Name: &quot;+CurrentUser, Toast.LENGTH_SHORT).show();\r\n                        Toast.makeText(getContext(), &quot;Name: &quot;+ID, Toast.LENGTH_SHORT).show();\r\n    \r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                        Log.d(&quot;CATCH&quot;, e.getMessage());\r\n                    }\r\n                }\r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n            queue.add(jsonArrayRequest);\r\n\r\nThe downside is that when I use the for loop the code continues to read every item of the JSON. On the other hand when I don&#39;t use the for loop I have to set an array index here ```JSONObject usersObject = response.getJSONObject(i);```. So, what index should I set in order to make the code read every item and stop to what is ID == CurrentUserId?","title":"How to add JSONArrayRequest without the use of for loop?","body":"<p>I am using volley library and I want to pass data from a JSON API url with the GET method. What exactly I need is to get the user <code>ID == CurrentUserId</code>. Here is my full code:</p>\n<pre><code>RequestQueue queue = Volley.newRequestQueue(getContext());\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, JSON_URL, null, new Response.Listener&lt;JSONArray&gt;() {\n            @Override\n            public void onResponse(JSONArray response) {\n                for (int i = 0; i &lt; response.length(); i++) {\n                try {\n                    JSONObject usersObject = response.getJSONObject(i);\n                    Toast.makeText(getContext(), &quot;Name: &quot;+usersObject, Toast.LENGTH_LONG).show();\n\n                    String ID = usersObject.getString(&quot;ID&quot;);\n                    if (ID.equalsIgnoreCase(CurrentUser)) {\n                        String fullName = usersObject.getString(&quot;fullName&quot;);\n                        String userName = usersObject.getString(&quot;username&quot;);\n\n                        fullname.setText(fullName);\n                        username.setText(userName);\n                    } else {\n                        fullname.setText(&quot;No Name&quot;);\n                    }\n                    Toast.makeText(getContext(), &quot;Name: &quot;+CurrentUser, Toast.LENGTH_SHORT).show();\n                    Toast.makeText(getContext(), &quot;Name: &quot;+ID, Toast.LENGTH_SHORT).show();\n\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                    Log.d(&quot;CATCH&quot;, e.getMessage());\n                }\n            }\n            }\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n\n            }\n        });\n\n\n        queue.add(jsonArrayRequest);\n</code></pre>\n<p>The downside is that when I use the for loop the code continues to read every item of the JSON. On the other hand when I don't use the for loop I have to set an array index here <code>JSONObject usersObject = response.getJSONObject(i);</code>. So, what index should I set in order to make the code read every item and stop to what is ID == CurrentUserId?</p>\n"},{"tags":["java","sql","orientdb","graph-databases","a-star"],"answers":[{"tags":[],"owner":{"account_id":8002380,"reputation":79,"user_id":6036772,"display_name":"Jordan MacLachlan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638919980,"creation_date":1638919980,"answer_id":70268219,"question_id":70255040,"body_markdown":"Turns out the error had nothing to do with the bracket itself. Passing the `&quot;direction=&#39;OUT&#39;&quot;` and `&quot;customHeuristicFormula=&#39;EUCLIDEAN&#39;&quot;` parameters in as part of the string was the problem. The below block did the trick. \r\n\r\n        String sql = &quot;SELECT ASTAR(&quot; + getNode(from).getProperty(&quot;@rid&quot;) + &quot;, &quot; + getNode(to).getProperty(&quot;@rid&quot;) + &quot;, time) FROM V&quot;;\r\n        try(OResultSet set = db.query(sql, &quot;direction=&#39;OUT&#39;&quot;, &quot;customHeuristicFormula=&#39;EUCLIDEAN&#39;&quot;)) {\r\n             // some code...\r\n        }","title":"Using the &#39;astar&#39; function of OrientDB: an SQL call in Java","body":"<p>Turns out the error had nothing to do with the bracket itself. Passing the <code>&quot;direction='OUT'&quot;</code> and <code>&quot;customHeuristicFormula='EUCLIDEAN'&quot;</code> parameters in as part of the string was the problem. The below block did the trick.</p>\n<pre><code>    String sql = &quot;SELECT ASTAR(&quot; + getNode(from).getProperty(&quot;@rid&quot;) + &quot;, &quot; + getNode(to).getProperty(&quot;@rid&quot;) + &quot;, time) FROM V&quot;;\n    try(OResultSet set = db.query(sql, &quot;direction='OUT'&quot;, &quot;customHeuristicFormula='EUCLIDEAN'&quot;)) {\n         // some code...\n    }\n</code></pre>\n"}],"owner":{"account_id":8002380,"reputation":79,"user_id":6036772,"display_name":"Jordan MacLachlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70268219,"answer_count":1,"score":0,"last_activity_date":1638919980,"creation_date":1638852167,"question_id":70255040,"body_markdown":"I&#39;m using OrientDB to represent large city maps and calculate the shortest traversal times between a pair of nodes when the need arises. I have the following method: \r\n\r\n    public void getShortestPath(int from, int to){\r\n        String query = &quot;SELECT astar(?, ?, time, direction=OUT, customHeuristicFormula=EUCLIDEAN) FROM V&quot;;\r\n        OResultSet set = db.query(query, getNode(from).getProperty(&quot;@rid&quot;), getNode(to).getProperty(&quot;@rid&quot;));\r\n    }\r\n\r\nThe `getNode(nodeID)` method returns the OVertex object present in the database, hence we can identify the `@rid`. Clearly, this method serves no purpose as is.\r\n\r\nMy issue comes when trying to call the `astar` query on the database (i.e. line two of the method). I&#39;m getting the following error: `OCommandSQLParsingException: Error parsing query` upon reaching the first `(` (i.e. error encountering the open bracket). Removing the brackets entirely simply resulted in the same error occurring on the `#` in front of the first `@rid` value. \r\n\r\nI can&#39;t seem to find any example of using this function in practice, and (at least I think) I&#39;m using the function call as suggested by [the documentation][1]. Look forward to hearing your thoughts. \r\n\r\nI&#39;m using the most recent version of OrientDB: 3.2.3\r\n\r\n  [1]: http://orientdb.com/docs/3.1.x/sql/SQL-Functions.html#astar","title":"Using the &#39;astar&#39; function of OrientDB: an SQL call in Java","body":"<p>I'm using OrientDB to represent large city maps and calculate the shortest traversal times between a pair of nodes when the need arises. I have the following method:</p>\n<pre><code>public void getShortestPath(int from, int to){\n    String query = &quot;SELECT astar(?, ?, time, direction=OUT, customHeuristicFormula=EUCLIDEAN) FROM V&quot;;\n    OResultSet set = db.query(query, getNode(from).getProperty(&quot;@rid&quot;), getNode(to).getProperty(&quot;@rid&quot;));\n}\n</code></pre>\n<p>The <code>getNode(nodeID)</code> method returns the OVertex object present in the database, hence we can identify the <code>@rid</code>. Clearly, this method serves no purpose as is.</p>\n<p>My issue comes when trying to call the <code>astar</code> query on the database (i.e. line two of the method). I'm getting the following error: <code>OCommandSQLParsingException: Error parsing query</code> upon reaching the first <code>(</code> (i.e. error encountering the open bracket). Removing the brackets entirely simply resulted in the same error occurring on the <code>#</code> in front of the first <code>@rid</code> value.</p>\n<p>I can't seem to find any example of using this function in practice, and (at least I think) I'm using the function call as suggested by <a href=\"http://orientdb.com/docs/3.1.x/sql/SQL-Functions.html#astar\" rel=\"nofollow noreferrer\">the documentation</a>. Look forward to hearing your thoughts.</p>\n<p>I'm using the most recent version of OrientDB: 3.2.3</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"score":0,"creation_date":1543854545,"post_id":33192723,"comment_id":94058326,"body_markdown":"Your not swapping anything, because in your first loop you overwrite a[I] then use a[I] to assign to the element you copied to a[I], you need a temporary variable to store the contents of a[I] before the assignment then use the temporary variable to assign to a[I+1].","body":"Your not swapping anything, because in your first loop you overwrite a[I] then use a[I] to assign to the element you copied to a[I], you need a temporary variable to store the contents of a[I] before the assignment then use the temporary variable to assign to a[I+1]."},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1638918788,"post_id":33192723,"comment_id":124215001,"body_markdown":"At first you write `if(len%2 ==0)`. Later you write `if (len%2 !=0)`. Why not only write `else` there?","body":"At first you write <code>if(len%2 ==0)</code>. Later you write <code>if (len%2 !=0)</code>. Why not only write <code>else</code> there?"}],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445124956,"creation_date":1445124956,"answer_id":33192735,"question_id":33192723,"body_markdown":"What you need to print is `Arrays.toString(a)`\r\n\r\nNow, you are just printing the Hashcode of your Array object","title":"Swapping adjacent numbers in arrays","body":"<p>What you need to print is <code>Arrays.toString(a)</code></p>\n\n<p>Now, you are just printing the Hashcode of your Array object</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445125653,"creation_date":1445125653,"answer_id":33192800,"question_id":33192723,"body_markdown":"First, your swap method could be simplified. Add both numbers together, and then subtract each from the sum (to get the other number). Something like,\r\n\r\n\tpublic static void swapPairs(int[] a) {\r\n\t\tfor (int i = 0; i &lt; a.length - 1; i += 2) {\r\n\t\t\tint c = a[i] + a[i + 1];\r\n\t\t\ta[i] = c - a[i];\r\n\t\t\ta[i + 1] = c - a[i + 1];\r\n\t\t}\r\n\t}\r\n\r\nThen you could use [`Arrays.toString(int[])`](http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#toString-int:A-) to get a `String`. Like,\r\n\r\n\tpublic static void printArray(int[] a) {\r\n\t\tSystem.out.println(Arrays.toString(a));\r\n\t}\r\n\r\nI tested the above like\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] t = { 1, 2, 3, 4 };\r\n\t\tprintArray(t);\r\n\t\tswapPairs(t);\r\n\t\tprintArray(t);\r\n\t}\r\n\r\nAnd I got\r\n\r\n    [1, 2, 3, 4]\r\n    [2, 1, 4, 3]\r\n\r\n","title":"Swapping adjacent numbers in arrays","body":"<p>First, your swap method could be simplified. Add both numbers together, and then subtract each from the sum (to get the other number). Something like,</p>\n\n<pre><code>public static void swapPairs(int[] a) {\n    for (int i = 0; i &lt; a.length - 1; i += 2) {\n        int c = a[i] + a[i + 1];\n        a[i] = c - a[i];\n        a[i + 1] = c - a[i + 1];\n    }\n}\n</code></pre>\n\n<p>Then you could use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#toString-int:A-\" rel=\"nofollow\"><code>Arrays.toString(int[])</code></a> to get a <code>String</code>. Like,</p>\n\n<pre><code>public static void printArray(int[] a) {\n    System.out.println(Arrays.toString(a));\n}\n</code></pre>\n\n<p>I tested the above like</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] t = { 1, 2, 3, 4 };\n    printArray(t);\n    swapPairs(t);\n    printArray(t);\n}\n</code></pre>\n\n<p>And I got</p>\n\n<pre><code>[1, 2, 3, 4]\n[2, 1, 4, 3]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6903944,"reputation":383,"user_id":5302568,"accept_rate":86,"display_name":"Maria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1445190784,"creation_date":1445190784,"answer_id":33201270,"question_id":33192723,"body_markdown":"After almost breaking my computer several times, here&#39;s the actual working code:\r\n\r\n    public static void swapPairs(int[] a){\r\n\t\tint len=a.length;\r\n\t\t\tif(len%2 ==0){\r\n\t\t\t\tfor(int i=0; i&lt;len; i=i+2){\r\n\t\t\t\t\tint c=a[i]+a[i+1];\r\n\t\t\t\t\ta[i]=c-a[i];\r\n\t\t\t\t\ta[i+1]=c-a[i+1];\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\tif(len%2 !=0){\r\n\t\t\t\tfor(int j=0; j&lt;len-1; j=j+2){\r\n\t\t\t\t\tint c=a[j]+a[j+1];\r\n\t\t\t\t\ta[j]=c-a[j];\r\n\t\t\t\t\ta[j+1]=c-a[j+1];\r\n\t\t\t\t}\t\r\n\t\t\t\ta[len-1]=a[len-1];\r\n\t\t\t}\t\r\n\t}\r\n\tpublic static void printArray(int[] a){\r\n\t\tint len=a.length;\r\n\t\tfor(int i=0;i&lt;len;i++)\r\n\t\t\tSystem.out.print(a[i]+&quot; &quot;);\r\n\t}","title":"Swapping adjacent numbers in arrays","body":"<p>After almost breaking my computer several times, here's the actual working code:</p>\n\n<pre><code>public static void swapPairs(int[] a){\n    int len=a.length;\n        if(len%2 ==0){\n            for(int i=0; i&lt;len; i=i+2){\n                int c=a[i]+a[i+1];\n                a[i]=c-a[i];\n                a[i+1]=c-a[i+1];\n            }   \n        }\n        if(len%2 !=0){\n            for(int j=0; j&lt;len-1; j=j+2){\n                int c=a[j]+a[j+1];\n                a[j]=c-a[j];\n                a[j+1]=c-a[j+1];\n            }   \n            a[len-1]=a[len-1];\n        }   \n}\npublic static void printArray(int[] a){\n    int len=a.length;\n    for(int i=0;i&lt;len;i++)\n        System.out.print(a[i]+\" \");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3219160,"reputation":1,"user_id":2716994,"display_name":"Debi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523036900,"creation_date":1523034480,"answer_id":49697855,"question_id":33192723,"body_markdown":"    public static void swapPairs(int[] arr){\r\n    \tint length = arr.length%2 == 0? arr.length : arr.length-1;\r\n    \r\n    \tfor(int i=0; i&lt;length; i=i+2) {\r\n    \t\tint temp = arr[i];\r\n    \t\tarr[i] =\t arr[i+1];\r\n    \t\tarr[i+1] = temp;\r\n    \t}\r\n    \t// print the array\r\n    \tfor(int i=0;i&lt;arr.length;i++){\r\n    \t\tSystem.out.print(arr[i]+&quot; &quot;);\r\n    \t}\r\n    }","title":"Swapping adjacent numbers in arrays","body":"<pre><code>public static void swapPairs(int[] arr){\n    int length = arr.length%2 == 0? arr.length : arr.length-1;\n\n    for(int i=0; i&lt;length; i=i+2) {\n        int temp = arr[i];\n        arr[i] =     arr[i+1];\n        arr[i+1] = temp;\n    }\n    // print the array\n    for(int i=0;i&lt;arr.length;i++){\n        System.out.print(arr[i]+\" \");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14070471,"reputation":70,"user_id":10164086,"display_name":"Aditi Paliwal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1543853788,"creation_date":1543853788,"answer_id":53597673,"question_id":33192723,"body_markdown":"    final int[] number = new int[] { 1, 2, 3, 4, 5, 6, 7 };\r\n\t\tint temp;\r\n\t\tfor (int i = 0; i &lt; number.length; i = i + 2) {\r\n\t\t\tif (i &gt; number.length - 2) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\ttemp = number[i];\r\n\t\t\tnumber[i] = number[i + 1];\r\n\t\t\tnumber[i + 1] = temp;\r\n\t\t}\r\n\t\tfor (int j = 0; j &lt; number.length; j++) {\r\n\t\t\tSystem.out.print(number[j]);\r\n\t\t}","title":"Swapping adjacent numbers in arrays","body":"<pre><code>final int[] number = new int[] { 1, 2, 3, 4, 5, 6, 7 };\n    int temp;\n    for (int i = 0; i &lt; number.length; i = i + 2) {\n        if (i &gt; number.length - 2) {\n            break;\n        }\n        temp = number[i];\n        number[i] = number[i + 1];\n        number[i + 1] = temp;\n    }\n    for (int j = 0; j &lt; number.length; j++) {\n        System.out.print(number[j]);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15346408,"reputation":1,"user_id":11071673,"display_name":"Sumit Sinha"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1563004639,"creation_date":1563004639,"answer_id":57017250,"question_id":33192723,"body_markdown":"I think this should work,\r\n\r\n   \r\n\r\n\r\n    public static void swapAlternate(int[] input){\r\n     for(int i=0;i&lt;input.length - 1; i+=2){\r\n            int temp = input[i];\r\n            input[i] = input[i+1];\r\n            input[i+1] = temp;\r\n        }\r\n\t}","title":"Swapping adjacent numbers in arrays","body":"<p>I think this should work,</p>\n\n<pre><code>public static void swapAlternate(int[] input){\n for(int i=0;i&lt;input.length - 1; i+=2){\n        int temp = input[i];\n        input[i] = input[i+1];\n        input[i+1] = temp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18204062,"reputation":1,"user_id":13247722,"display_name":"Himanshu Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1618833089,"creation_date":1618833089,"answer_id":67161466,"question_id":33192723,"body_markdown":"import java.util.Scanner;\r\npublic class SwapEveryPair {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scn = new Scanner(System.in);\r\n        int n = scn.nextInt();\r\n        int[] arr = new int[n];\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            arr[i] = scn.nextInt();\r\n\r\n        }\r\n        for (int i = 0; i &lt; (arr.length - 1); i += 2) {\r\n            int temp = arr[i];\r\n            arr[i] = arr[i + 1];\r\n            arr[i + 1] = temp;\r\n        }\r\n        for(int i=0; i&lt; arr.length; i++){\r\n            System.out.println(&quot; &quot; + arr[i]);\r\n        }\r\n    }\r\n    }``","title":"Swapping adjacent numbers in arrays","body":"<p>import java.util.Scanner;\npublic class SwapEveryPair {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner scn = new Scanner(System.in);\n    int n = scn.nextInt();\n    int[] arr = new int[n];\n    for (int i = 0; i &lt; arr.length; i++) {\n        arr[i] = scn.nextInt();\n\n    }\n    for (int i = 0; i &lt; (arr.length - 1); i += 2) {\n        int temp = arr[i];\n        arr[i] = arr[i + 1];\n        arr[i + 1] = temp;\n    }\n    for(int i=0; i&lt; arr.length; i++){\n        System.out.println(&quot; &quot; + arr[i]);\n    }\n}\n}``\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638919634,"creation_date":1638919634,"answer_id":70268180,"question_id":33192723,"body_markdown":"```\r\n\tpublic static void swapPairs(int[] a){\r\n\t    int len = a.length - a.length % 2; // if len is odd, remove 1\r\n        for(int i = 0; i &lt; len; i += 2) {\r\n        \tint temp = a[i];\r\n            a[i] = a[i + 1];\r\n            a[i + 1] = temp;\r\n        }\r\n    }\r\n\t\r\n\tpublic static void printArray(int[] a){\r\n\t    System.out.println(Arrays.toString(a));\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] iArr1 = {10, 20, 30, 40, 50};\r\n\t\tint[] iArr2 = {10, 20, 30, 40, 50, 60};\r\n\t\tswapPairs(iArr1);\r\n\t\tswapPairs(iArr2);\r\n\t\tprintArray(iArr1); // [20, 10, 40, 30, 50]\r\n\t\tprintArray(iArr2); // [20, 10, 40, 30, 60, 50]\r\n\t}\r\n```","title":"Swapping adjacent numbers in arrays","body":"<pre><code>    public static void swapPairs(int[] a){\n        int len = a.length - a.length % 2; // if len is odd, remove 1\n        for(int i = 0; i &lt; len; i += 2) {\n            int temp = a[i];\n            a[i] = a[i + 1];\n            a[i + 1] = temp;\n        }\n    }\n    \n    public static void printArray(int[] a){\n        System.out.println(Arrays.toString(a));\n    }\n\n    public static void main(String[] args) {\n        int[] iArr1 = {10, 20, 30, 40, 50};\n        int[] iArr2 = {10, 20, 30, 40, 50, 60};\n        swapPairs(iArr1);\n        swapPairs(iArr2);\n        printArray(iArr1); // [20, 10, 40, 30, 50]\n        printArray(iArr2); // [20, 10, 40, 30, 60, 50]\n    }\n</code></pre>\n"}],"owner":{"account_id":6903944,"reputation":383,"user_id":5302568,"accept_rate":86,"display_name":"Maria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20904,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":33201270,"answer_count":8,"score":2,"last_activity_date":1638919634,"creation_date":1445124831,"question_id":33192723,"body_markdown":"Here&#39;s the problem: Write a method called swapPairs that accepts an array of integers and swaps the elements at adjacent indexes.  That is, elements 0 and 1 are swapped, elements 2 and 3 are swapped, and so on.  If the array has an odd length, the final element should be left unmodified.  For example, the list {10,20,30,40,50} should become {20,10,40,30,50} after a call to your method. \r\n\r\nWrite method printArray that is passed an array and will print out each element.  \r\nUse this method to print the array modified by swapPairs.\r\n\r\nThis is my code:\r\n\r\n    public static void swapPairs(int[] a){\r\n\t\tint len=a.length;\r\n\t\t\tif(len%2 ==0){\r\n\t\t\t\tfor(int i=0; i&lt;len; i=i+2){\r\n\t\t\t\t\ta[i]=a[i+1];\r\n\t\t\t\t\ta[i+1]=a[i];\r\n\t\t\t\t\tint[] b={a[i]+a[i+1]};\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\tif(len%2 !=0){\r\n\t\t\t\tfor(int j=0; j&lt;len; j=j+2){\r\n\t\t\t\t\ta[j]=a[j+1];\r\n\t\t\t\t\ta[j+1]=a[j];\r\n\t\t\t\t\ta[len-1]=a[len-1];\r\n\t\t\t\t\tint[] b={a[j]+a[j+1]+a[len-1]};\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t}\r\n\tpublic static void printArray(int[] a){\r\n\t\tSystem.out.println(a);\r\n\t}\r\nHowever, what it returns is [I@2a139a55","title":"Swapping adjacent numbers in arrays","body":"<p>Here's the problem: Write a method called swapPairs that accepts an array of integers and swaps the elements at adjacent indexes.  That is, elements 0 and 1 are swapped, elements 2 and 3 are swapped, and so on.  If the array has an odd length, the final element should be left unmodified.  For example, the list {10,20,30,40,50} should become {20,10,40,30,50} after a call to your method. </p>\n\n<p>Write method printArray that is passed an array and will print out each element.<br>\nUse this method to print the array modified by swapPairs.</p>\n\n<p>This is my code:</p>\n\n<pre><code>public static void swapPairs(int[] a){\n    int len=a.length;\n        if(len%2 ==0){\n            for(int i=0; i&lt;len; i=i+2){\n                a[i]=a[i+1];\n                a[i+1]=a[i];\n                int[] b={a[i]+a[i+1]};\n            }   \n        }\n        if(len%2 !=0){\n            for(int j=0; j&lt;len; j=j+2){\n                a[j]=a[j+1];\n                a[j+1]=a[j];\n                a[len-1]=a[len-1];\n                int[] b={a[j]+a[j+1]+a[len-1]};\n            }\n        }   \n}\npublic static void printArray(int[] a){\n    System.out.println(a);\n}\n</code></pre>\n\n<p>However, what it returns is [I@2a139a55</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":14286471,"reputation":141,"user_id":10319718,"display_name":"Vincent Lochen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1573061701,"creation_date":1573061701,"answer_id":58735679,"question_id":58734954,"body_markdown":"You can dot it using a specific Deserializer as follow for example with Mixin.\r\n\r\nAn example of the deserializer:\r\n    \r\n    class UnmodifiableSetDeserializer extends JsonDeserializer&lt;Set&gt; {\r\n\t\r\n    @Override\r\n\tpublic Set deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n\t\tObjectMapper mapper = (ObjectMapper) jp.getCodec();\r\n\t\tJsonNode node = mapper.readTree(jp);\r\n\t\tSet&lt;Object&gt; resultSet = new HashSet&lt;Object&gt;();\r\n\t\tif (node != null) {\r\n\t\t\tif (node instanceof ArrayNode) {\r\n\t\t\t\tArrayNode arrayNode = (ArrayNode) node;\r\n\t\t\t\tIterator&lt;JsonNode&gt; nodeIterator = arrayNode.iterator();\r\n\t\t\t\twhile (nodeIterator.hasNext()) {\r\n\t\t\t\t\tJsonNode elementNode = nodeIterator.next();\r\n\t\t\t\t\tresultSet.add(mapper.readValue(elementNode.traverse(mapper), Object.class));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tresultSet.add(mapper.readValue(node.traverse(mapper), Object.class));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn Collections.unmodifiableSet(resultSet);\r\n\t}\r\n    }\r\n\r\nYou can find a complete example in the CoreJacksont2Module of Spring security [here](https://github.com/spring-projects/spring-security/tree/master/core/src/main/java/org/springframework/security/jackson2)","title":"How to configure Jackson to be able to deserialize special collections?","body":"<p>You can dot it using a specific Deserializer as follow for example with Mixin.</p>\n\n<p>An example of the deserializer:</p>\n\n<pre><code>class UnmodifiableSetDeserializer extends JsonDeserializer&lt;Set&gt; {\n\n@Override\npublic Set deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n    ObjectMapper mapper = (ObjectMapper) jp.getCodec();\n    JsonNode node = mapper.readTree(jp);\n    Set&lt;Object&gt; resultSet = new HashSet&lt;Object&gt;();\n    if (node != null) {\n        if (node instanceof ArrayNode) {\n            ArrayNode arrayNode = (ArrayNode) node;\n            Iterator&lt;JsonNode&gt; nodeIterator = arrayNode.iterator();\n            while (nodeIterator.hasNext()) {\n                JsonNode elementNode = nodeIterator.next();\n                resultSet.add(mapper.readValue(elementNode.traverse(mapper), Object.class));\n            }\n        } else {\n            resultSet.add(mapper.readValue(node.traverse(mapper), Object.class));\n        }\n    }\n    return Collections.unmodifiableSet(resultSet);\n}\n}\n</code></pre>\n\n<p>You can find a complete example in the CoreJacksont2Module of Spring security <a href=\"https://github.com/spring-projects/spring-security/tree/master/core/src/main/java/org/springframework/security/jackson2\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8192858,"reputation":1882,"user_id":6166627,"accept_rate":86,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638919612,"creation_date":1638919612,"answer_id":70268176,"question_id":58734954,"body_markdown":"`2.13.0` [fixes it][1] ([except `Set.of()` apparently?][2]):\r\n```java\r\npublic static class Sink {\r\n    private List&lt;Integer&gt; items;\r\n\r\n    public Sink setItems(final List&lt;Integer&gt; items) {\r\n        this.items = items;\r\n        return this;\r\n    }\r\n\r\n    public List&lt;Integer&gt; getItems() {\r\n        return this.items;\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) throws Exception {\r\n    ObjectMapper mapper = JsonMapper.builder()\r\n            .findAndAddModules()\r\n            .activateDefaultTyping(LaissezFaireSubTypeValidator.instance, EVERYTHING, JsonTypeInfo.As.PROPERTY)\r\n            .build();\r\n    String content = mapper.writeValueAsString(new Sink().setItems(List.of(1)));\r\n    System.out.println(content);\r\n    Sink result = mapper.readValue(content, Sink.class);\r\n}\r\n```\r\n\r\nOutput:\r\n```json\r\n{\r\n  &quot;@class&quot; : &quot;api.Sink&quot;,\r\n  &quot;items&quot; : [ &quot;java.util.ImmutableCollections$List12&quot;, [ ] ]\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/issues/2900\r\n  [2]: https://github.com/FasterXML/jackson-databind/issues/2900#issuecomment-988333797","title":"How to configure Jackson to be able to deserialize special collections?","body":"<p><code>2.13.0</code> <a href=\"https://github.com/FasterXML/jackson-databind/issues/2900\" rel=\"nofollow noreferrer\">fixes it</a> (<a href=\"https://github.com/FasterXML/jackson-databind/issues/2900#issuecomment-988333797\" rel=\"nofollow noreferrer\">except <code>Set.of()</code> apparently?</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class Sink {\n    private List&lt;Integer&gt; items;\n\n    public Sink setItems(final List&lt;Integer&gt; items) {\n        this.items = items;\n        return this;\n    }\n\n    public List&lt;Integer&gt; getItems() {\n        return this.items;\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n    ObjectMapper mapper = JsonMapper.builder()\n            .findAndAddModules()\n            .activateDefaultTyping(LaissezFaireSubTypeValidator.instance, EVERYTHING, JsonTypeInfo.As.PROPERTY)\n            .build();\n    String content = mapper.writeValueAsString(new Sink().setItems(List.of(1)));\n    System.out.println(content);\n    Sink result = mapper.readValue(content, Sink.class);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;@class&quot; : &quot;api.Sink&quot;,\n  &quot;items&quot; : [ &quot;java.util.ImmutableCollections$List12&quot;, [ ] ]\n}\n</code></pre>\n"}],"owner":{"account_id":1646329,"reputation":7093,"user_id":1517816,"accept_rate":57,"display_name":"poussma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2599,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58735679,"answer_count":2,"score":3,"last_activity_date":1638919612,"creation_date":1573058971,"question_id":58734954,"body_markdown":"I am wondering how to configure Jackson to deserialize a serialized list of objects that were contained in &#39;special&#39; collections (immutable, or the result of collected stream).\r\n\r\nHere is my problem, for certain reasons, I need to declare de typing in jackson because I need to be able to deserialize everything and get back all my types.\r\n\r\n```java\r\n\r\npublic static class Sink {\r\n    private List items;\r\n\r\n    public Sink setItems(final List items) {\r\n        this.items = items;\r\n        return this;\r\n    }\r\n\r\n    public List getItems() {\r\n        return this.items;\r\n    }\r\n}\r\n\r\npublic static void main(String[] args) throws Exception {\r\n    final ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(new JavaTimeModule());\r\n    mapper.registerModule(new Jdk8Module());\r\n    mapper.registerModule(new AfterburnerModule());\r\n    mapper.enableDefaultTyping(NON_FINAL, JsonTypeInfo.As.PROPERTY);\r\n\r\n    String content = mapper.writeValueAsString(new Sink().setItems(List.of()));\r\n    System.out.println(content);\r\n    Sink result = mapper.readValue(content, Sink.class);\r\n}\r\n```\r\nBut this has a nasty side effect with collections.\r\nThe `content` value is: \r\n\r\n```json\r\n{\r\n\t&quot;@class&quot;: &quot;api.Sink&quot;,\r\n\t&quot;items&quot;: [&quot;java.util.ImmutableCollections$ListN&quot;, []]\r\n}\r\n```\r\n\r\nAnd unfortunately, the `java.util.ImmutableCollections.*` do not have default constructors (which make sense).\r\n\r\n`Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `java.util.ImmutableCollections$ListN` (no Creators, like default construct, exist): no default no-arguments constructor found`\r\n\r\nI am wondering how to force jackson to deserialize those kind of object as `ArrayList` or whatever type of list.\r\n\r\nI&#39;d like to configure it to deserialize all sub types of list as `ArrayList` / `LinkedList` or when serializing to change the type of a collection\r\n\r\n(java 12 / jackson 2.9.7)","title":"How to configure Jackson to be able to deserialize special collections?","body":"<p>I am wondering how to configure Jackson to deserialize a serialized list of objects that were contained in 'special' collections (immutable, or the result of collected stream).</p>\n\n<p>Here is my problem, for certain reasons, I need to declare de typing in jackson because I need to be able to deserialize everything and get back all my types.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\npublic static class Sink {\n    private List items;\n\n    public Sink setItems(final List items) {\n        this.items = items;\n        return this;\n    }\n\n    public List getItems() {\n        return this.items;\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n    final ObjectMapper mapper = new ObjectMapper();\n    mapper.registerModule(new JavaTimeModule());\n    mapper.registerModule(new Jdk8Module());\n    mapper.registerModule(new AfterburnerModule());\n    mapper.enableDefaultTyping(NON_FINAL, JsonTypeInfo.As.PROPERTY);\n\n    String content = mapper.writeValueAsString(new Sink().setItems(List.of()));\n    System.out.println(content);\n    Sink result = mapper.readValue(content, Sink.class);\n}\n</code></pre>\n\n<p>But this has a nasty side effect with collections.\nThe <code>content</code> value is: </p>\n\n<pre><code>{\n    \"@class\": \"api.Sink\",\n    \"items\": [\"java.util.ImmutableCollections$ListN\", []]\n}\n</code></pre>\n\n<p>And unfortunately, the <code>java.util.ImmutableCollections.*</code> do not have default constructors (which make sense).</p>\n\n<p><code>Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of</code>java.util.ImmutableCollections$ListN<code>(no Creators, like default construct, exist): no default no-arguments constructor found</code></p>\n\n<p>I am wondering how to force jackson to deserialize those kind of object as <code>ArrayList</code> or whatever type of list.</p>\n\n<p>I'd like to configure it to deserialize all sub types of list as <code>ArrayList</code> / <code>LinkedList</code> or when serializing to change the type of a collection</p>\n\n<p>(java 12 / jackson 2.9.7)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8209,"page":1783,"page_size":100}
