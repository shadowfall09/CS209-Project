{"items":[{"tags":["java","hibernate","mappedsuperclass","mappedby"],"answers":[{"tags":[],"owner":{"account_id":9430282,"reputation":21,"user_id":7014041,"display_name":"Ertan Cakir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675332307,"creation_date":1675332307,"answer_id":75321487,"question_id":75320604,"body_markdown":"You cant join mappedsuperclass annotated class with entity class. Mappedsuperclases are not an entity \r\n\r\n[Link](https://stackoverflow.com/a/3229797/7014041)\r\n\r\nI think you can change your code like this.\r\n\r\n    @Entity\r\n    @Table(name = &quot;ITEM&quot;)\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public class Item extends Base {\r\n        @OneToOne(mappedBy = &quot;item&quot;)\r\n        protected Doc doc;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;DOC&quot;)\r\n    public abstract class Doc extends BaseDoc {\r\n        @OneToOne(mappedBy = &quot;doc&quot;)\r\n        private Item item;\r\n    }\r\n    \r\n    @MappedSuperclass\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public abstract class BaseDoc extends Base {}","title":"Fail to map by MappedSuperclass&#39;s attribute","body":"<p>You cant join mappedsuperclass annotated class with entity class. Mappedsuperclases are not an entity</p>\n<p><a href=\"https://stackoverflow.com/a/3229797/7014041\">Link</a></p>\n<p>I think you can change your code like this.</p>\n<pre><code>@Entity\n@Table(name = &quot;ITEM&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class Item extends Base {\n    @OneToOne(mappedBy = &quot;item&quot;)\n    protected Doc doc;\n}\n\n@Entity\n@Table(name = &quot;DOC&quot;)\npublic abstract class Doc extends BaseDoc {\n    @OneToOne(mappedBy = &quot;doc&quot;)\n    private Item item;\n}\n\n@MappedSuperclass\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class BaseDoc extends Base {}\n</code></pre>\n"}],"owner":{"account_id":27683293,"reputation":1,"user_id":21131586,"display_name":"ghithon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675332307,"creation_date":1675327741,"question_id":75320604,"body_markdown":"Entities:\r\n\r\n    @Entity\r\n    @Table(name = &quot;ITEM&quot;)\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public class Item extends Base {\r\n        @OneToOne(mappedBy = &quot;item&quot;)\r\n    \tprotected Doc doc;\r\n    }\r\n    \r\n    @MappedSuperclass\r\n    public abstract class Doc extends BaseDoc {\r\n\t@OneToOne(cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;itemId&quot;)\r\n    \tprivate Item item;\r\n    }\r\n    \r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public abstract class BaseDoc extends Base {}\r\n\r\nTables:\r\n\r\n    BASEDOC\r\n    - itemId int8\r\n    (other attributes)\r\n    ITEM\r\n    (other attributes)\r\n    BASE\r\n    (other attributes)\r\n\r\nDuring runtime it fails with:\r\n\r\nCaused by: \r\n\r\n    org.hibernate.AnnotationException: Unknown mappedBy in: com.ghiton.updater.entity.Item.doc, referenced property unknown: com.ghiton.updater.entity.Doc.item&quot;}}\r\n\r\nI think the reason is the `MappedSuperclass`, since &#39;item&#39; is stored in the Base table. Is there a practice to solve these type of cases?\r\n\r\nI found that &quot;Mapped superclasses can&#39;t be targets of entity relationships.&quot;, in this case how I can achieve that Doc to be persisted into the BaseDoc table?\r\n\r\nAt DB level it has all the columns what are needed, so not necessary to have a separate DOC table.","title":"Fail to map by MappedSuperclass&#39;s attribute","body":"<p>Entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;ITEM&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class Item extends Base {\n    @OneToOne(mappedBy = &quot;item&quot;)\n    protected Doc doc;\n}\n\n@MappedSuperclass\npublic abstract class Doc extends BaseDoc {\n@OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;itemId&quot;)\n    private Item item;\n}\n\n@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class BaseDoc extends Base {}\n</code></pre>\n<p>Tables:</p>\n<pre><code>BASEDOC\n- itemId int8\n(other attributes)\nITEM\n(other attributes)\nBASE\n(other attributes)\n</code></pre>\n<p>During runtime it fails with:</p>\n<p>Caused by:</p>\n<pre><code>org.hibernate.AnnotationException: Unknown mappedBy in: com.ghiton.updater.entity.Item.doc, referenced property unknown: com.ghiton.updater.entity.Doc.item&quot;}}\n</code></pre>\n<p>I think the reason is the <code>MappedSuperclass</code>, since 'item' is stored in the Base table. Is there a practice to solve these type of cases?</p>\n<p>I found that &quot;Mapped superclasses can't be targets of entity relationships.&quot;, in this case how I can achieve that Doc to be persisted into the BaseDoc table?</p>\n<p>At DB level it has all the columns what are needed, so not necessary to have a separate DOC table.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":4,"creation_date":1675329766,"post_id":75320901,"comment_id":132906626,"body_markdown":"Use a native `delete from &lt;table&gt;` query. that shouldn&#39;t make the java application run into a memory issue. And deleting millions of record shouldn&#39;t take that long. maybe if you get into the billions? just tested with about 5.5m records and a native query took 1 min and 30 seconds","body":"Use a native <code>delete from &lt;table&gt;</code> query. that shouldn&#39;t make the java application run into a memory issue. And deleting millions of record shouldn&#39;t take that long. maybe if you get into the billions? just tested with about 5.5m records and a native query took 1 min and 30 seconds"},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1675330951,"post_id":75320901,"comment_id":132907019,"body_markdown":"Can you post the stack trace?","body":"Can you post the stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":14892907,"reputation":62,"user_id":10754044,"display_name":"Ankit Yadav"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675332270,"creation_date":1675332270,"answer_id":75321476,"question_id":75320901,"body_markdown":"Just add repository in your project like this add method:\r\nvoid deleteByIdIn(List&lt;Integer&gt; ids);","title":"How to delete huge amount of records from MySQL using Spring Data JPA?","body":"<p>Just add repository in your project like this add method:\nvoid deleteByIdIn(List ids);</p>\n"}],"owner":{"account_id":14882061,"reputation":105,"user_id":10746400,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675332270,"creation_date":1675329232,"question_id":75320901,"body_markdown":"I have a MySQL table that contains millions of records and there is a purpose to delete all this records using Spring Data JPA. But there is a problem with out of memory that occurs during `deleteAll()` method execution. I also tried `deleteAllInBatch()`, but it stacks during the execution after around 30 minutes of deletion.\r\nIs there any option that could resolve such issue?\r\nThanks!","title":"How to delete huge amount of records from MySQL using Spring Data JPA?","body":"<p>I have a MySQL table that contains millions of records and there is a purpose to delete all this records using Spring Data JPA. But there is a problem with out of memory that occurs during <code>deleteAll()</code> method execution. I also tried <code>deleteAllInBatch()</code>, but it stacks during the execution after around 30 minutes of deletion.\nIs there any option that could resolve such issue?\nThanks!</p>\n"},{"tags":["java","pdf-generation","wkhtmltopdf"],"owner":{"account_id":26255669,"reputation":1,"user_id":19927750,"display_name":"MuChen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675332162,"creation_date":1675323913,"question_id":75320020,"body_markdown":"I generate A4 PDF with wkhtmltopdf library; However, I can&#39;t figure out how to generate a two-column A3 PDF (such as the attached math exam paper) via Java.\r\n\r\neg: two-column math exam paper\r\n\r\n![1]\r\n\r\nIf anyone has some suggestions, I would really appreciate it.\r\n\r\nThe way PDFs merge doesn&#39;t work for me. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kxGLs.png","title":"How to generate double column of A3 pdf via Java?","body":"<p>I generate A4 PDF with wkhtmltopdf library; However, I can't figure out how to generate a two-column A3 PDF (such as the attached math exam paper) via Java.</p>\n<p>eg: two-column math exam paper</p>\n<p><img src=\"https://i.stack.imgur.com/kxGLs.png\" alt=\"1\" /></p>\n<p>If anyone has some suggestions, I would really appreciate it.</p>\n<p>The way PDFs merge doesn't work for me.</p>\n"},{"tags":["java","html",".net","windows","cpu-word"],"owner":{"account_id":8120164,"reputation":101,"user_id":6117189,"display_name":"helios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675332010,"creation_date":1675322470,"question_id":75319829,"body_markdown":"I have encountered a problem, the Word document contains many formula of the Latex forming since the document was converted by HTML, and now I need transform the Latex&#39;s string to the Word format.\r\n\r\nI searched many documents in Microsoft website, but I cannot find a way reaching it. \r\n\r\nFor example, the content is:\r\n```\r\nThe first question:\r\n....\r\nhow to solve $-3-\\left[-5+\\left(1-2\\times \\dfrac{3}{5}\\right)\\div \\left(-2\\right)\\right]$.\r\n```\r\nMy idea:\r\n1. getting special format about the Word by Java/Python/C#\r\n2. getting the Latex&#39;s string in the word by matching of string \r\n3. after handling  writing to a new Word document\r\n\r\nThere are three issues about this idea:\r\n1. I cannot found a way how to convert by program from official document\r\n2. I directly handle the word document, which whether can lead to style of math formula when the document will be written back \r\n\r\nHow can I solve it?","title":"How to convert string of Latex in the Word to formula which is supported by Word","body":"<p>I have encountered a problem, the Word document contains many formula of the Latex forming since the document was converted by HTML, and now I need transform the Latex's string to the Word format.</p>\n<p>I searched many documents in Microsoft website, but I cannot find a way reaching it.</p>\n<p>For example, the content is:</p>\n<pre><code>The first question:\n....\nhow to solve $-3-\\left[-5+\\left(1-2\\times \\dfrac{3}{5}\\right)\\div \\left(-2\\right)\\right]$.\n</code></pre>\n<p>My idea:</p>\n<ol>\n<li>getting special format about the Word by Java/Python/C#</li>\n<li>getting the Latex's string in the word by matching of string</li>\n<li>after handling  writing to a new Word document</li>\n</ol>\n<p>There are three issues about this idea:</p>\n<ol>\n<li>I cannot found a way how to convert by program from official document</li>\n<li>I directly handle the word document, which whether can lead to style of math formula when the document will be written back</li>\n</ol>\n<p>How can I solve it?</p>\n"},{"tags":["java","spring","maven"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675331833,"creation_date":1675295240,"answer_id":75317368,"question_id":75316731,"body_markdown":"Not the same.\r\n\r\nJava system properties are pure Java. They are part of Java. Values can be set from the command line and within code with `System.getProperties.setProperty()`\r\n\r\nMaven properties are in pom.xml with ‘&lt;properties’&gt;’&lt;property’&gt; tag. Maven is a build tool so these properties are used at build time.\r\n\r\nSpring framework properties (application.properties or application.yaml). These properties are read at runtime, mostly during startup.  Standard properties are read by Spring classes, eg spring.data.source.url. They can also be accessed in code with @Value\r\n\r\n\r\nYou can get pom properties into application.properties with the following in the application.properties file: \r\n\r\n    foo.bar=@application.name@\r\n\r\nYou can get application.properties into system properties with the following in a class:\r\n\r\n    @Value(${foo.bar})\r\n    String applicationName;\r\n    \r\n    System.getProperties.setProperty(&quot;application.name&quot;, applicationName)\r\n\r\n\r\n","title":"java system properties vs spring boot application.properties vs maven properties","body":"<p>Not the same.</p>\n<p>Java system properties are pure Java. They are part of Java. Values can be set from the command line and within code with <code>System.getProperties.setProperty()</code></p>\n<p>Maven properties are in pom.xml with ‘&lt;properties’&gt;’&lt;property’&gt; tag. Maven is a build tool so these properties are used at build time.</p>\n<p>Spring framework properties (application.properties or application.yaml). These properties are read at runtime, mostly during startup.  Standard properties are read by Spring classes, eg spring.data.source.url. They can also be accessed in code with @Value</p>\n<p>You can get pom properties into application.properties with the following in the application.properties file:</p>\n<pre><code>foo.bar=@application.name@\n</code></pre>\n<p>You can get application.properties into system properties with the following in a class:</p>\n<pre><code>@Value(${foo.bar})\nString applicationName;\n\nSystem.getProperties.setProperty(&quot;application.name&quot;, applicationName)\n</code></pre>\n"}],"owner":{"account_id":12711139,"reputation":373,"user_id":11697033,"display_name":"whatspoppin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75317368,"answer_count":1,"score":0,"last_activity_date":1675331833,"creation_date":1675289388,"question_id":75316731,"body_markdown":"Java **system properties**, properties defined inside **application.properties** file and properties defined in **pom.xml** file, are they the same ?\r\n\r\n1. What is different between all of these properties ?\r\n\r\n2. Is it possible to reference one through the other (eg, pass system property from pom.xml file ...) \r\n\r\n3. Are they all part of Java or JEE standard ? which one is ?","title":"java system properties vs spring boot application.properties vs maven properties","body":"<p>Java <strong>system properties</strong>, properties defined inside <strong>application.properties</strong> file and properties defined in <strong>pom.xml</strong> file, are they the same ?</p>\n<ol>\n<li><p>What is different between all of these properties ?</p>\n</li>\n<li><p>Is it possible to reference one through the other (eg, pass system property from pom.xml file ...)</p>\n</li>\n<li><p>Are they all part of Java or JEE standard ? which one is ?</p>\n</li>\n</ol>\n"},{"tags":["java","android","blackberry"],"comments":[{"owner":{"account_id":155108,"reputation":1282,"user_id":371534,"accept_rate":50,"display_name":"Adwiv"},"score":0,"creation_date":1412258849,"post_id":26069655,"comment_id":41015356,"body_markdown":"Use some IDE eg eclipse for development. You are trying to store a JSONObject into a string array.","body":"Use some IDE eg eclipse for development. You are trying to store a JSONObject into a string array."}],"answers":[{"tags":[],"owner":{"account_id":201623,"reputation":15910,"user_id":448192,"accept_rate":77,"display_name":"DArkO"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1411774211,"creation_date":1411774211,"answer_id":26069717,"question_id":26069655,"body_markdown":"You typically want to parse this array into a POJO, a model. So the idea would be to get a `List&lt;Comment&gt; list` for example and then you would be able to reverse that list through `Collections.reverse(list)` method.\r\n\r\nHow do you use the data from the JSON array? you still have to iterate it, plus remember the keys and everything. the most typical solution is to parse the JSON data into java objects.","title":"how to reverse the json array after response from webservice?","body":"<p>You typically want to parse this array into a POJO, a model. So the idea would be to get a <code>List&lt;Comment&gt; list</code> for example and then you would be able to reverse that list through <code>Collections.reverse(list)</code> method.</p>\n\n<p>How do you use the data from the JSON array? you still have to iterate it, plus remember the keys and everything. the most typical solution is to parse the JSON data into java objects.</p>\n"},{"tags":[],"owner":{"account_id":1586356,"reputation":2183,"user_id":1470614,"accept_rate":60,"display_name":"Pavlos"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1411774270,"creation_date":1411774270,"answer_id":26069726,"question_id":26069655,"body_markdown":"My approach would be to create a Java Model representing a comment from your array and then proceed like this. \r\n\r\n\r\n    ArrayList&lt;Comment&gt; mList = new ArrayList&lt;Comment&gt;();\r\n    \r\n    for(int i=0;i&lt;routeJsonArray.length();i++){\r\n        //get the jsonobject based on the position\r\n        //retrieve its values\r\n        //create a new comment object and store it to the mList\r\n    }\r\n    \r\n    Collection.reverse(mList);","title":"how to reverse the json array after response from webservice?","body":"<p>My approach would be to create a Java Model representing a comment from your array and then proceed like this. </p>\n\n<pre><code>ArrayList&lt;Comment&gt; mList = new ArrayList&lt;Comment&gt;();\n\nfor(int i=0;i&lt;routeJsonArray.length();i++){\n    //get the jsonobject based on the position\n    //retrieve its values\n    //create a new comment object and store it to the mList\n}\n\nCollection.reverse(mList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9745301,"reputation":11,"user_id":7225496,"display_name":"crispus kinyanjui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480426602,"creation_date":1480424229,"answer_id":40866502,"question_id":26069655,"body_markdown":"    JSONArray toReturn = new JSONArray();\r\n        int length = jsonArray.length()-1;\r\n        for(int i =length; i &gt;= length;i--){\r\n            try {\r\n                toReturn.put(jsonArray.getJSONObject(i));\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n                Toast.makeText(this, &quot;Something wrong&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }","title":"how to reverse the json array after response from webservice?","body":"<pre><code>JSONArray toReturn = new JSONArray();\n    int length = jsonArray.length()-1;\n    for(int i =length; i &gt;= length;i--){\n        try {\n            toReturn.put(jsonArray.getJSONObject(i));\n        } catch (JSONException e) {\n            e.printStackTrace();\n            Toast.makeText(this, \"Something wrong\", Toast.LENGTH_SHORT).show();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1677912,"reputation":645,"user_id":3665790,"accept_rate":57,"display_name":"Pallavi Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8551,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675331806,"creation_date":1411773764,"question_id":26069655,"body_markdown":"I am getting response this \r\n\r\n    {\r\n        &quot;success&quot;: 1,\r\n        &quot;message&quot;: &quot;some message&quot;,\r\n        &quot;data&quot;: [\r\n            {\r\n                &quot;comment_id&quot;: &quot;43906&quot;,\r\n                &quot;comp_id&quot;: &quot;116725&quot;,\r\n                &quot;user_id&quot;: &quot;48322&quot;,\r\n                &quot;agree&quot;: &quot;0&quot;,\r\n                .....\r\n                &quot;replies&quot;: [....]\r\n            },\r\n            {\r\n                &quot;comment_id&quot;: &quot;43905&quot;,\r\n                &quot;comp_id&quot;: &quot;116725&quot;,\r\n                &quot;user_id&quot;: &quot;48248&quot;,\r\n                &quot;agree&quot;: &quot;0&quot;,\r\n                .......\r\n                &quot;replies&quot;: [...]\r\n            }\r\n        ] \r\n    }\r\n\r\nI am to get all response in json array like this \r\n\r\n    JSONObject js =new JSONObject(response);\r\n    routeJsonArray.=js.getJSONArray(&quot;data&quot;);\r\n\r\nBut I need to reverse all object which is inside data array .In other word when I get response and print commant_id &quot;43906&quot;, &quot;43905&quot;,\r\n\r\nBut I need I reverse that objects so that when I print it first give &quot;43905&quot;,&quot;43906&quot;,\r\n\r\nthere is solution to iterate from `i = routeJsonArray.length; i &gt; 0; i--` But i don&#39;t want this.I want to store reverse array in another array ..\r\n\r\nI try like this.\r\n\r\n    String [] routeStationString;\r\n\r\n\tJSONArray localJsonArray = js.getJSONArray(&quot;data&quot;);\r\n\trouteStationString = new String[localJsonArray.length()];\r\n\tint k = 0;\r\n\tfor (int i = localJsonArray.length(); i &gt; 0; i--) {\r\n\t\trouteStationString[k++] = localJsonArray.getJSONObject(i);\r\n\t}\r\n\tSystem.out.println(routeStationString);\r\n\r\nIt gives error.?","title":"how to reverse the json array after response from webservice?","body":"<p>I am getting response this </p>\n\n<pre><code>{\n    \"success\": 1,\n    \"message\": \"some message\",\n    \"data\": [\n        {\n            \"comment_id\": \"43906\",\n            \"comp_id\": \"116725\",\n            \"user_id\": \"48322\",\n            \"agree\": \"0\",\n            .....\n            \"replies\": [....]\n        },\n        {\n            \"comment_id\": \"43905\",\n            \"comp_id\": \"116725\",\n            \"user_id\": \"48248\",\n            \"agree\": \"0\",\n            .......\n            \"replies\": [...]\n        }\n    ] \n}\n</code></pre>\n\n<p>I am to get all response in json array like this </p>\n\n<pre><code>JSONObject js =new JSONObject(response);\nrouteJsonArray.=js.getJSONArray(\"data\");\n</code></pre>\n\n<p>But I need to reverse all object which is inside data array .In other word when I get response and print commant_id \"43906\", \"43905\",</p>\n\n<p>But I need I reverse that objects so that when I print it first give \"43905\",\"43906\",</p>\n\n<p>there is solution to iterate from <code>i = routeJsonArray.length; i &gt; 0; i--</code> But i don't want this.I want to store reverse array in another array ..</p>\n\n<p>I try like this.</p>\n\n<pre><code>String [] routeStationString;\n\nJSONArray localJsonArray = js.getJSONArray(\"data\");\nrouteStationString = new String[localJsonArray.length()];\nint k = 0;\nfor (int i = localJsonArray.length(); i &gt; 0; i--) {\n    routeStationString[k++] = localJsonArray.getJSONObject(i);\n}\nSystem.out.println(routeStationString);\n</code></pre>\n\n<p>It gives error.?</p>\n"},{"tags":["java","spring","spring-boot","spring-hateoas","spring-webflux"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":4,"creation_date":1504691251,"post_id":46071420,"comment_id":79104551,"body_markdown":"https://stackoverflow.com/questions/45650753/hateoas-on-spring-flux-mono-response","body":"<a href=\"https://stackoverflow.com/questions/45650753/hateoas-on-spring-flux-mono-response\" title=\"hateoas on spring flux mono response\">stackoverflow.com/questions/45650753/&hellip;</a>"},{"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"score":1,"creation_date":1593362191,"post_id":46071420,"comment_id":110747766,"body_markdown":"Does this answer your question? [HATEOAS on Spring Flux/Mono response](https://stackoverflow.com/questions/45650753/hateoas-on-spring-flux-mono-response)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/45650753/hateoas-on-spring-flux-mono-response\">HATEOAS on Spring Flux/Mono response</a>"},{"owner":{"account_id":13823665,"reputation":589,"user_id":9978524,"display_name":"chrgue"},"score":1,"creation_date":1627636423,"post_id":46071420,"comment_id":121214345,"body_markdown":"Here you find the issue for this topic: https://github.com/spring-projects/spring-hateoas/issues/996","body":"Here you find the issue for this topic: <a href=\"https://github.com/spring-projects/spring-hateoas/issues/996\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-hateoas/issues/996</a>"}],"answers":[{"tags":[],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643657217,"creation_date":1643657217,"answer_id":70931751,"question_id":46071420,"body_markdown":"By definition, you&#39;re creating a custom route and Spring `HATEOAS` is an opinionated set of frameworks meant so you don&#39;t have to lift a finger. What you are trying to do, and what Spring `HATEOAS` is doing are contradictory. So, you will have to manually create the payload if you want embedded hyperlinks. \r\n\r\nAlthough, this shouldn&#39;t be too difficult if you set your owner content handler for your specific return type on that route. ","title":"Using spring HATEOAS with spring webflux Functional Web Framework (reactor-netty)","body":"<p>By definition, you're creating a custom route and Spring <code>HATEOAS</code> is an opinionated set of frameworks meant so you don't have to lift a finger. What you are trying to do, and what Spring <code>HATEOAS</code> is doing are contradictory. So, you will have to manually create the payload if you want embedded hyperlinks.</p>\n<p>Although, this shouldn't be too difficult if you set your owner content handler for your specific return type on that route.</p>\n"},{"tags":[],"owner":{"account_id":27652646,"reputation":1,"user_id":21107189,"display_name":"Flavio Costa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675331596,"creation_date":1675051786,"answer_id":75280183,"question_id":46071420,"body_markdown":"Answer in January 2023: [not yet][1].\r\n\r\n`Spring HATEOAS` was originally built with Spring MVC in mind, so even `WebFluxLinkBuilder` relies on Controller annotations to build the resource links.\r\n\r\nThe `RouterFunction` interface has no methods that expose the underlying `RequestPredicate`, so there is no way to determine which path is associated with a given `RouterFunction`. Some method may be introduced in a future API to provide the needed access to that information out-of-the-box, without having to do something nasty like breaking encapsulation with `Reflection`. In the meantime, you&#39;d probably need to consider centralizing all relevant `RouterFunction` creation (e.g. via a helper/util/custom builder class), so you can intercept all paths and the associated `HandlerFunctions` with some degree of confidence.\r\n\r\nYeah, when you use `RouterFunctions`, unfortunately `Spring HATEOAS` does not help creating the links, and it is challenging to reliably implement this functionality in a generic way based on the current WebFlux functional API.\r\n\r\n  [1]: https://github.com/spring-projects/spring-hateoas/issues/996","title":"Using spring HATEOAS with spring webflux Functional Web Framework (reactor-netty)","body":"<p>Answer in January 2023: <a href=\"https://github.com/spring-projects/spring-hateoas/issues/996\" rel=\"nofollow noreferrer\">not yet</a>.</p>\n<p><code>Spring HATEOAS</code> was originally built with Spring MVC in mind, so even <code>WebFluxLinkBuilder</code> relies on Controller annotations to build the resource links.</p>\n<p>The <code>RouterFunction</code> interface has no methods that expose the underlying <code>RequestPredicate</code>, so there is no way to determine which path is associated with a given <code>RouterFunction</code>. Some method may be introduced in a future API to provide the needed access to that information out-of-the-box, without having to do something nasty like breaking encapsulation with <code>Reflection</code>. In the meantime, you'd probably need to consider centralizing all relevant <code>RouterFunction</code> creation (e.g. via a helper/util/custom builder class), so you can intercept all paths and the associated <code>HandlerFunctions</code> with some degree of confidence.</p>\n<p>Yeah, when you use <code>RouterFunctions</code>, unfortunately <code>Spring HATEOAS</code> does not help creating the links, and it is challenging to reliably implement this functionality in a generic way based on the current WebFlux functional API.</p>\n"}],"owner":{"account_id":8818967,"reputation":751,"user_id":6589470,"display_name":"hba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2790,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"answer_count":2,"score":63,"last_activity_date":1675331596,"creation_date":1504689786,"question_id":46071420,"body_markdown":"Can we use spring `HATEOAS` on top of `RouterFunction` ? I imagine that we can specify the resource but what will be the equivalent of the `linkto(Controller.class)` ? or is there any equivalent to specify the link and use composition of `RouterFunction`","title":"Using spring HATEOAS with spring webflux Functional Web Framework (reactor-netty)","body":"<p>Can we use spring <code>HATEOAS</code> on top of <code>RouterFunction</code> ? I imagine that we can specify the resource but what will be the equivalent of the <code>linkto(Controller.class)</code> ? or is there any equivalent to specify the link and use composition of <code>RouterFunction</code></p>\n"},{"tags":["java","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":24416201,"reputation":746,"user_id":18343043,"display_name":"Tarzan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675330906,"creation_date":1675330906,"answer_id":75321188,"question_id":75320946,"body_markdown":"Yes you can filter by price id as shown here https://site-admin.stripe.com/docs/api/subscriptions/list#list_subscriptions-price\r\n\r\n```\r\npublic void getSubscriptions() throws StripeException {\r\n    Stripe.apiKey = KEY;\r\n\r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    params[&quot;price&quot;] = &quot;price_ABC123&quot;;\r\n    \r\n    Iterable&lt;Subscription&gt; subscrips = Subscription.list(params).autoPagingIterable();\r\n    \r\n    for(Subscription s : subscrips){\r\n        System.out.println(s);\r\n    }\r\n}\r\n```","title":"Get subscribers to a specific price object in stripe?","body":"<p>Yes you can filter by price id as shown here <a href=\"https://site-admin.stripe.com/docs/api/subscriptions/list#list_subscriptions-price\" rel=\"nofollow noreferrer\">https://site-admin.stripe.com/docs/api/subscriptions/list#list_subscriptions-price</a></p>\n<pre><code>public void getSubscriptions() throws StripeException {\n    Stripe.apiKey = KEY;\n\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n    params[&quot;price&quot;] = &quot;price_ABC123&quot;;\n    \n    Iterable&lt;Subscription&gt; subscrips = Subscription.list(params).autoPagingIterable();\n    \n    for(Subscription s : subscrips){\n        System.out.println(s);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26515305,"reputation":17,"user_id":20149941,"display_name":"Bobb Bi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75321188,"answer_count":1,"score":0,"last_activity_date":1675330906,"creation_date":1675329553,"question_id":75320946,"body_markdown":"I&#39;m trying to retrieve subscribers to a price object. Here&#39;s my approach, which works: \r\n\r\n    public void getSubscriptions() throws StripeException {\r\n        Stripe.apiKey = KEY;\r\n\r\n\r\n        Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n\r\n    Iterable&lt;Subscription&gt; subscrips = Subscription.list(params).autoPagingIterable();\r\n        for(Subscription s : subscrips){\r\n            if((s.getItems().getData().get(0).getPlan().getId()).equals(&quot;price_ABC123&quot;)){\r\n                System.out.println(s);\r\n            }\r\n        }\r\n        //System.out.println(subscriptions);\r\n    }\r\n\r\nThe issue with this code is that its a bit slow. Is there a more efficient way to retrieve this info? \r\nThanks","title":"Get subscribers to a specific price object in stripe?","body":"<p>I'm trying to retrieve subscribers to a price object. Here's my approach, which works:</p>\n<pre><code>public void getSubscriptions() throws StripeException {\n    Stripe.apiKey = KEY;\n\n\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n\nIterable&lt;Subscription&gt; subscrips = Subscription.list(params).autoPagingIterable();\n    for(Subscription s : subscrips){\n        if((s.getItems().getData().get(0).getPlan().getId()).equals(&quot;price_ABC123&quot;)){\n            System.out.println(s);\n        }\n    }\n    //System.out.println(subscriptions);\n}\n</code></pre>\n<p>The issue with this code is that its a bit slow. Is there a more efficient way to retrieve this info?\nThanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":1,"creation_date":1675328596,"post_id":75320673,"comment_id":132906308,"body_markdown":"Can you provide more information? And also: Don&#39;t post images of errors..","body":"Can you provide more information? And also: Don&#39;t post images of errors.."},{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1675329255,"post_id":75320673,"comment_id":132906484,"body_markdown":"Post `GroupAdapter` class, but it looks like it doesn&#39;t allow lambdas as you are passing as second parameter.","body":"Post <code>GroupAdapter</code> class, but it looks like it doesn&#39;t allow lambdas as you are passing as second parameter."},{"owner":{"account_id":20286765,"reputation":1,"user_id":14879273,"display_name":"aurelius"},"score":0,"creation_date":1675330618,"post_id":75320673,"comment_id":132906917,"body_markdown":"required: List&lt;GroupModel&gt;\n  found: ArrayList&lt;GroupModel&gt;,(position)[...])); }\n  reason: actual and formal argument lists differ in length","body":"required: List&lt;GroupModel&gt;   found: ArrayList&lt;GroupModel&gt;,(position)[...])); }   reason: actual and formal argument lists differ in length"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675331009,"post_id":75320673,"comment_id":132907039,"body_markdown":"Please [edit] your question, don&#39;t add information in the comments.","body":"Please <a href=\"https://stackoverflow.com/posts/75320673/edit\">edit</a> your question, don&#39;t add information in the comments."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1675331228,"post_id":75320673,"comment_id":132907104,"body_markdown":"What is `OnClickItem`?","body":"What is <code>OnClickItem</code>?"},{"owner":{"account_id":4127305,"reputation":549,"user_id":3386085,"display_name":"onzinsky"},"score":0,"creation_date":1675351199,"post_id":75320673,"comment_id":132914268,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675329464,"creation_date":1675329464,"answer_id":75320941,"question_id":75320673,"body_markdown":"The problem is, java needs to figure out what the lambda is actually trying to be, and _only then_ can it know what the type of `position` is. For example, given:\r\n\r\n```\r\nvoid foo(Consumer&lt;String&gt; x) { ... }\r\n```\r\n\r\nIf you then write: `foo(s -&gt; System.out.println(s));` - java knows that the type of `s` is `String` only because of this sequence of events:\r\n\r\n* There is only one `foo` method.\r\n* That method takes a param of type `Consumer&lt;String&gt;`.\r\n* That type is a functional interface (an interface with a single method), and that method&#39;s signature is `void accept(String t)`.\r\n* The lambda is an implementation of that method, therefore, `s` must be `String`.\r\n\r\nAnd only then can java continue to actually understand what the lambda contains.\r\n\r\nYour error is telling you in a somewhat odd way that the compiler is not currently capable of figuring out what the functional interface is that this lambda is implementing. Therefore, it does not know what the type of `position` is, therefore, the call `groupModelList.get(position)` does not work; `int` is required, but the type of `position` is &#39;I do not know yet; I cannot know until I know what functional interface this lambda is trying to implementation and for some reason I can&#39;t know that right now&#39;. Which isn&#39;t `int`, so you get that error.\r\n\r\none trivial fix is to be explicit. Make that `(int position) -&gt; { ... }` instead. This may then lead you to the real error you&#39;re interested in. For example, if you haven&#39;t imported `GroupAdapter`, this would happen.\r\n","title":"&#39;java.util.ArrayList&#39; cannot be applied to &#39;(&lt;lambda parameter&gt;)&#39;","body":"<p>The problem is, java needs to figure out what the lambda is actually trying to be, and <em>only then</em> can it know what the type of <code>position</code> is. For example, given:</p>\n<pre><code>void foo(Consumer&lt;String&gt; x) { ... }\n</code></pre>\n<p>If you then write: <code>foo(s -&gt; System.out.println(s));</code> - java knows that the type of <code>s</code> is <code>String</code> only because of this sequence of events:</p>\n<ul>\n<li>There is only one <code>foo</code> method.</li>\n<li>That method takes a param of type <code>Consumer&lt;String&gt;</code>.</li>\n<li>That type is a functional interface (an interface with a single method), and that method's signature is <code>void accept(String t)</code>.</li>\n<li>The lambda is an implementation of that method, therefore, <code>s</code> must be <code>String</code>.</li>\n</ul>\n<p>And only then can java continue to actually understand what the lambda contains.</p>\n<p>Your error is telling you in a somewhat odd way that the compiler is not currently capable of figuring out what the functional interface is that this lambda is implementing. Therefore, it does not know what the type of <code>position</code> is, therefore, the call <code>groupModelList.get(position)</code> does not work; <code>int</code> is required, but the type of <code>position</code> is 'I do not know yet; I cannot know until I know what functional interface this lambda is trying to implementation and for some reason I can't know that right now'. Which isn't <code>int</code>, so you get that error.</p>\n<p>one trivial fix is to be explicit. Make that <code>(int position) -&gt; { ... }</code> instead. This may then lead you to the real error you're interested in. For example, if you haven't imported <code>GroupAdapter</code>, this would happen.</p>\n"}],"owner":{"account_id":20286765,"reputation":1,"user_id":14879273,"display_name":"aurelius"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1675330770,"creation_date":1675328115,"question_id":75320673,"body_markdown":"How can I fix this problem?\r\n\r\n```\r\nrv_groupAddMember.setAdapter(new GroupAdapter(groupModelList, position -&gt; {\r\n                selectedGroup = groupModelList.get(position);\r\n                addMember_groupName.setText(&quot;Se&#231;ili Grup :&quot;+selectedGroup.getGroupName());\r\n            }));\r\n```\r\n\r\n    public class GroupAdapter extends RecyclerView.Adapter&lt;GroupAdapter.GroupViewHolder&gt;{\r\n    List&lt;GroupModel&gt; groupModelList;\r\n    OnClickItem onClickItem;\r\n\r\n    public GroupAdapter(List&lt;GroupModel&gt; groupModelList, OnClickItem onClickItem) {\r\n        this.groupModelList = groupModelList;\r\n        this.onClickItem = onClickItem;\r\n    }\r\n    \r\n\r\nI added my GroupAdapter class and constructor\r\n[error](https://i.stack.imgur.com/95QMA.jpg)\r\n\r\nI&#39;m watching tutorial everything is the same and there shouldn&#39;t be an error.","title":"&#39;java.util.ArrayList&#39; cannot be applied to &#39;(&lt;lambda parameter&gt;)&#39;","body":"<p>How can I fix this problem?</p>\n<pre><code>rv_groupAddMember.setAdapter(new GroupAdapter(groupModelList, position -&gt; {\n                selectedGroup = groupModelList.get(position);\n                addMember_groupName.setText(&quot;Seçili Grup :&quot;+selectedGroup.getGroupName());\n            }));\n</code></pre>\n<pre><code>public class GroupAdapter extends RecyclerView.Adapter&lt;GroupAdapter.GroupViewHolder&gt;{\nList&lt;GroupModel&gt; groupModelList;\nOnClickItem onClickItem;\n\npublic GroupAdapter(List&lt;GroupModel&gt; groupModelList, OnClickItem onClickItem) {\n    this.groupModelList = groupModelList;\n    this.onClickItem = onClickItem;\n}\n</code></pre>\n<p>I added my GroupAdapter class and constructor\n<a href=\"https://i.stack.imgur.com/95QMA.jpg\" rel=\"nofollow noreferrer\">error</a></p>\n<p>I'm watching tutorial everything is the same and there shouldn't be an error.</p>\n"},{"tags":["java","spring","security","authentication","thymeleaf"],"owner":{"account_id":24538913,"reputation":31,"user_id":18449553,"display_name":"xmm_581"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1094,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675347476,"answer_count":0,"score":0,"last_activity_date":1675330733,"creation_date":1647124835,"question_id":71453265,"body_markdown":"I&#39;m trying to display a Thymeleaf page with error message after unsuccessful authentication in my Spring Application:\r\n```\r\n@GetMapping(&quot;/login&quot;)\r\n    public String loginPage(@RequestParam(defaultValue = &quot;false&quot;) boolean error, Model model) {\r\n        if (error) {\r\n            model.addAttribute(&quot;error&quot;,&quot;Wrong credentials&quot;);\r\n        }\r\n        return &quot;auth/login&quot;;\r\n    }\r\n```\r\nBut instead i&#39;m getting redirect to the same page. Debug shows 302 error code. I can add parameter `?error=true` by typing it in address bar and get page with error and code 200. And if i copy-paste link `localhost:8080/api/login?error=true` in other tab, still getting 302 code and so no error.\r\n\r\nCSRF is disabled. My Spring Security config: \r\n```\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable().authorizeRequests()\r\n                .antMatchers(&quot;/auth**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/login&quot;).permitAll()\r\n                .antMatchers(&quot;/api/signup&quot;).permitAll()\r\n                .antMatchers(&quot;/api/login*&quot;).permitAll()\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .logout().deleteCookies(&quot;JSESSIONID&quot;)\r\n                .logoutSuccessUrl(&quot;/api/login&quot;)\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/api/login&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;, true)\r\n                .failureUrl(&quot;/api/login/?error=true&quot;);\r\n    }\r\n```\r\nHow i can handle redirect?","title":"Getting a 302 code while handling error in login Spring controller","body":"<p>I'm trying to display a Thymeleaf page with error message after unsuccessful authentication in my Spring Application:</p>\n<pre><code>@GetMapping(&quot;/login&quot;)\n    public String loginPage(@RequestParam(defaultValue = &quot;false&quot;) boolean error, Model model) {\n        if (error) {\n            model.addAttribute(&quot;error&quot;,&quot;Wrong credentials&quot;);\n        }\n        return &quot;auth/login&quot;;\n    }\n</code></pre>\n<p>But instead i'm getting redirect to the same page. Debug shows 302 error code. I can add parameter <code>?error=true</code> by typing it in address bar and get page with error and code 200. And if i copy-paste link <code>localhost:8080/api/login?error=true</code> in other tab, still getting 302 code and so no error.</p>\n<p>CSRF is disabled. My Spring Security config:</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeRequests()\n                .antMatchers(&quot;/auth**&quot;).permitAll()\n                .antMatchers(&quot;/api/login&quot;).permitAll()\n                .antMatchers(&quot;/api/signup&quot;).permitAll()\n                .antMatchers(&quot;/api/login*&quot;).permitAll()\n                .antMatchers(&quot;/&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .logout().deleteCookies(&quot;JSESSIONID&quot;)\n                .logoutSuccessUrl(&quot;/api/login&quot;)\n                .and()\n                .formLogin()\n                .loginPage(&quot;/api/login&quot;)\n                .defaultSuccessUrl(&quot;/&quot;, true)\n                .failureUrl(&quot;/api/login/?error=true&quot;);\n    }\n</code></pre>\n<p>How i can handle redirect?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data-jpa"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1675329671,"post_id":75320943,"comment_id":132906603,"body_markdown":"why would you even store a password? never store a password, always only a hashed value. If this way doesn&#39;t do as you want, you could always use projections, I guess: check this answer. I think it suits your needs. https://stackoverflow.com/questions/22007341/spring-jpa-selecting-specific-columns","body":"why would you even store a password? never store a password, always only a hashed value. If this way doesn&#39;t do as you want, you could always use projections, I guess: check this answer. I think it suits your needs. <a href=\"https://stackoverflow.com/questions/22007341/spring-jpa-selecting-specific-columns\" title=\"spring jpa selecting specific columns\">stackoverflow.com/questions/22007341/&hellip;</a>"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":1,"creation_date":1675329829,"post_id":75320943,"comment_id":132906647,"body_markdown":"Additionally, use DTO&#39;s as return values instead of the entity itself. If you don&#39;t want to do that, just set the password to a null value, before returning it.","body":"Additionally, use DTO&#39;s as return values instead of the entity itself. If you don&#39;t want to do that, just set the password to a null value, before returning it."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":1,"creation_date":1675329935,"post_id":75320943,"comment_id":132906688,"body_markdown":"Additionally to the additionally :D - Instead of wrapping the result of `userRepo.getUserByUsername(...)` in an Optional, just adjust the return type of the interface: `Optional&lt;User&gt; findUserByUsername(String username);`.","body":"Additionally to the additionally :D - Instead of wrapping the result of <code>userRepo.getUserByUsername(...)</code> in an Optional, just adjust the return type of the interface: <code>Optional&lt;User&gt; findUserByUsername(String username);</code>."},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1675330352,"post_id":75320943,"comment_id":132906833,"body_markdown":"@Stultuske Storing the hashed password is exactly what OP (Spring Security) is doing...","body":"@Stultuske Storing the hashed password is exactly what OP (Spring Security) is doing..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675330869,"post_id":75320943,"comment_id":132906989,"body_markdown":"@rolve in which case the password isn&#39;t returned","body":"@rolve in which case the password isn&#39;t returned"},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":1,"creation_date":1675332388,"post_id":75320943,"comment_id":132907473,"body_markdown":"@Stultuske True, but irrelevant. OP asked how to stop sending &quot;the password information&quot;, which includes the password hash. A sensible thing to do anyway, even though the hash should in theory be safe to expose.","body":"@Stultuske True, but irrelevant. OP asked how to stop sending &quot;the password information&quot;, which includes the password hash. A sensible thing to do anyway, even though the hash should in theory be safe to expose."}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675330257,"creation_date":1675330051,"answer_id":75321039,"question_id":75320943,"body_markdown":"It seems you are talking about a REST controller that returns JSON. With the default configuration, Spring Boot uses [Jackson][1] to transform objects to JSON. The most simple fix would be to tell Jackson to [ignore][2] the `password` field in your `User` class:\r\n\r\n```\r\npublic class User {\r\n    ...\r\n    @JsonIgnore\r\n    private String password;\r\n    ...\r\n}\r\n```\r\n\r\n\r\nSee [this article][3] for more information.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIgnore.html\r\n  [3]: https://www.baeldung.com/jackson-ignore-properties-on-serialization#for_field","title":"How to retrieve all user information except passwords","body":"<p>It seems you are talking about a REST controller that returns JSON. With the default configuration, Spring Boot uses <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">Jackson</a> to transform objects to JSON. The most simple fix would be to tell Jackson to <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\">ignore</a> the <code>password</code> field in your <code>User</code> class:</p>\n<pre><code>public class User {\n    ...\n    @JsonIgnore\n    private String password;\n    ...\n}\n</code></pre>\n<p>See <a href=\"https://www.baeldung.com/jackson-ignore-properties-on-serialization#for_field\" rel=\"nofollow noreferrer\">this article</a> for more information.</p>\n"}],"owner":{"account_id":2405770,"reputation":1942,"user_id":2102292,"accept_rate":69,"display_name":"Cheknov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75321039,"answer_count":1,"score":1,"last_activity_date":1675330563,"creation_date":1675329508,"question_id":75320943,"body_markdown":"I implemented a basic JPA authentication following [this tutorial][1].\r\n\r\nI wanted to create an endpoint ``/mydetails`` to display user information (profile info).\r\n\r\nWhat I&#39;ve tried:\r\n\r\n\t@GetMapping(&quot;/mydetails&quot;)\r\n\tpublic Optional&lt;User&gt; getUser(HttpServletRequest request) {\r\n\t    Optional&lt;User&gt; foundUser = Optional.ofNullable(userRepo.getUserByUsername(request.getUserPrincipal().getName()));\r\n\t    return foundUser;\r\n\t}\r\n\r\nOutcome:\r\n\r\n    {\r\n      &quot;id&quot;:1,\r\n      &quot;username&quot;:&quot;name.surname@companyname.com&quot;,\r\n      &quot;password&quot;:&quot;$2a$10$7YzUO6scaC06LV6IgOsSXetFm4/U0WM.UZykhRfQcJBzKacyZFMK&quot;,\r\n      &quot;first_name&quot;:&quot;John&quot;,\r\n      &quot;last_name&quot;:&quot;Walker&quot;,\r\n      &quot;organization_name&quot;:&quot;ABC&quot;,\r\n      &quot;role&quot;:&quot;Admin&quot;,\r\n      &quot;credibility_rating&quot;:&quot;100&quot;\r\n    }\r\n\r\nThe problem is that this literally takes out all the information and I want everything except the password.\r\n\r\nHow could I stop the response from sending the password information?\r\n\r\nI am totally new to Spring and have not used Java for many years.\r\n\r\nAny insight would be highly appreciated.\r\n\r\n  [1]: https://www.codejava.net/frameworks/spring-boot/spring-boot-security-authentication-with-jpa-hibernate-and-mysql","title":"How to retrieve all user information except passwords","body":"<p>I implemented a basic JPA authentication following <a href=\"https://www.codejava.net/frameworks/spring-boot/spring-boot-security-authentication-with-jpa-hibernate-and-mysql\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<p>I wanted to create an endpoint <code>/mydetails</code> to display user information (profile info).</p>\n<p>What I've tried:</p>\n<pre><code>@GetMapping(&quot;/mydetails&quot;)\npublic Optional&lt;User&gt; getUser(HttpServletRequest request) {\n    Optional&lt;User&gt; foundUser = Optional.ofNullable(userRepo.getUserByUsername(request.getUserPrincipal().getName()));\n    return foundUser;\n}\n</code></pre>\n<p>Outcome:</p>\n<pre><code>{\n  &quot;id&quot;:1,\n  &quot;username&quot;:&quot;name.surname@companyname.com&quot;,\n  &quot;password&quot;:&quot;$2a$10$7YzUO6scaC06LV6IgOsSXetFm4/U0WM.UZykhRfQcJBzKacyZFMK&quot;,\n  &quot;first_name&quot;:&quot;John&quot;,\n  &quot;last_name&quot;:&quot;Walker&quot;,\n  &quot;organization_name&quot;:&quot;ABC&quot;,\n  &quot;role&quot;:&quot;Admin&quot;,\n  &quot;credibility_rating&quot;:&quot;100&quot;\n}\n</code></pre>\n<p>The problem is that this literally takes out all the information and I want everything except the password.</p>\n<p>How could I stop the response from sending the password information?</p>\n<p>I am totally new to Spring and have not used Java for many years.</p>\n<p>Any insight would be highly appreciated.</p>\n"},{"tags":["java","collections","hashmap"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1675333554,"post_id":75320951,"comment_id":132907870,"body_markdown":"There&#39;s no guarantee about the iteration order of `HashMap` at all. That means you can&#39;t depend on two HashMaps that took the exact same operations on the same objects in the same JVM instance to produce the same iteration order. As a matter of implementation, I think that this *can* (and probably will) happen, but since it&#39;s not part of the spec that fact can easily change with the next JVM release. If you need *any guarantee* at all about traversal order then use something like `LinkedHashMap`.","body":"There&#39;s no guarantee about the iteration order of <code>HashMap</code> at all. That means you can&#39;t depend on two HashMaps that took the exact same operations on the same objects in the same JVM instance to produce the same iteration order. As a matter of implementation, I think that this <i>can</i> (and probably will) happen, but since it&#39;s not part of the spec that fact can easily change with the next JVM release. If you need <i>any guarantee</i> at all about traversal order then use something like <code>LinkedHashMap</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675333623,"post_id":75320951,"comment_id":132907884,"body_markdown":"This is not answerable without a clear specification for &quot;put and remove them for any number of times in the same order&quot;","body":"This is not answerable without a clear specification for &quot;put and remove them for any number of times in the same order&quot;"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675344966,"post_id":75320951,"comment_id":132911796,"body_markdown":"It might be interesting for you that a randomization did already exist in an earlier version. As [JDK-8006593](https://bugs.openjdk.org/browse/JDK-8006593) indicates, it has been removed due to performance considerations, not because it was contradicting the specification. So, randomization may come back at any time, if the implementors have a reason.","body":"It might be interesting for you that a randomization did already exist in an earlier version. As <a href=\"https://bugs.openjdk.org/browse/JDK-8006593\" rel=\"nofollow noreferrer\">JDK-8006593</a> indicates, it has been removed due to performance considerations, not because it was contradicting the specification. So, randomization may come back at any time, if the implementors have a reason."},{"owner":{"account_id":27683510,"reputation":1,"user_id":21131757,"display_name":"wcj"},"score":0,"creation_date":1675351347,"post_id":75320951,"comment_id":132914327,"body_markdown":"@Holger\nThis is really a little relevant，but what the early randomization affected？","body":"@Holger This is really a little relevant，but what the early randomization affected？"},{"owner":{"account_id":27683510,"reputation":1,"user_id":21131757,"display_name":"wcj"},"score":0,"creation_date":1675351622,"post_id":75320951,"comment_id":132914448,"body_markdown":"@Stephen C\nsorry for my weak English.\nFor example, insert and delete the same key-value pairs from two maps in the same order, and finally traverse the two maps","body":"@Stephen C sorry for my weak English. For example, insert and delete the same key-value pairs from two maps in the same order, and finally traverse the two maps"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675351864,"post_id":75320951,"comment_id":132914554,"body_markdown":"What are the exact types of the keys?","body":"What are the exact types of the keys?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675352099,"post_id":75320951,"comment_id":132914642,"body_markdown":"@wjc - Look at the Java 7u source repo mirror on Github and track exactly what changes were made to the `HashMap` source code in 7u40.  That is when the issue tracker says that the randomization was removed.","body":"@wjc - Look at the Java 7u source repo mirror on Github and track exactly what changes were made to the <code>HashMap</code> source code in 7u40.  That is when the issue tracker says that the randomization was removed."},{"owner":{"account_id":27683510,"reputation":1,"user_id":21131757,"display_name":"wcj"},"score":0,"creation_date":1675352186,"post_id":75320951,"comment_id":132914671,"body_markdown":"@StephenC\nDoes the type of key affect this? Take String and Integer for example","body":"@StephenC Does the type of key affect this? Take String and Integer for example"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1675378702,"post_id":75320951,"comment_id":132922288,"body_markdown":"Well yes ... but take an object which has an identity hashcode for a counter example.  In that case the ordering will depend on the *actual* identity hashcodes  ... and we need a clear understanding of what the OP *actually* means by &quot;the same&quot;.  But either way, the *precedent* of the randomization feature noted by Holger means that the answer to the OPs question is Java version specific ... and you can&#39;t rely on it not changing ... again.","body":"Well yes ... but take an object which has an identity hashcode for a counter example.  In that case the ordering will depend on the <i>actual</i> identity hashcodes  ... and we need a clear understanding of what the OP <i>actually</i> means by &quot;the same&quot;.  But either way, the <i>precedent</i> of the randomization feature noted by Holger means that the answer to the OPs question is Java version specific ... and you can&#39;t rely on it not changing ... again."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":2,"creation_date":1675383860,"post_id":75320951,"comment_id":132923216,"body_markdown":"There is no *guarantee* but results are often repeatable. They&#39;re repeatable often enough that people inadvertently depend on the ordering, as if it were guaranteed, until a change in ordering causes a bug. For example, HashMaps of different initial capacities might result in differing iteration orders even when the same mappings are added in the same order.","body":"There is no <i>guarantee</i> but results are often repeatable. They&#39;re repeatable often enough that people inadvertently depend on the ordering, as if it were guaranteed, until a change in ordering causes a bug. For example, HashMaps of different initial capacities might result in differing iteration orders even when the same mappings are added in the same order."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":2,"creation_date":1675383966,"post_id":75320951,"comment_id":132923228,"body_markdown":"Randomization of iteration order is useful for preventing code from inadvertently depending on the iteration order. The maps produced by `Map.of` and `Map.copyOf` have randomized iteration order. We probably won&#39;t add randomization of HashMap itself because it would probably break too much code.","body":"Randomization of iteration order is useful for preventing code from inadvertently depending on the iteration order. The maps produced by <code>Map.of</code> and <code>Map.copyOf</code> have randomized iteration order. We probably won&#39;t add randomization of HashMap itself because it would probably break too much code."}],"owner":{"account_id":27683510,"reputation":1,"user_id":21131757,"display_name":"wcj"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675329756,"answer_count":0,"score":0,"last_activity_date":1675330552,"creation_date":1675329573,"question_id":75320951,"body_markdown":"There are two hashmaps. Put and remove them for any number of times in the same order. Finally, foreach the hashmap. Are the output results of the two hashmaps consistent？\r\n\r\nI think it should be consistent, but I can&#39;t find any data to clearly prove it","title":"Is the hashmap traversal order certain，I&#39;m not talking about order, I&#39;m talking about stability","body":"<p>There are two hashmaps. Put and remove them for any number of times in the same order. Finally, foreach the hashmap. Are the output results of the two hashmaps consistent？</p>\n<p>I think it should be consistent, but I can't find any data to clearly prove it</p>\n"},{"tags":["java","android","encryption","rsa"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1624430581,"post_id":68093610,"comment_id":120353469,"body_markdown":"Did you ever try to debug = print out the value given by keyFactory.getAlgorithm? On my machine it&#39;s &quot;RSA&quot; and that&#39;s not the same algorithm as &quot;RSA/ECB/PKCS1Padding&quot;. Always use a full qualifier to the algorithm you are using.","body":"Did you ever try to debug = print out the value given by keyFactory.getAlgorithm? On my machine it&#39;s &quot;RSA&quot; and that&#39;s not the same algorithm as &quot;RSA/ECB/PKCS1Padding&quot;. Always use a full qualifier to the algorithm you are using."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1624437842,"post_id":68093610,"comment_id":120356391,"body_markdown":"Your question title should be amended, as `keyFactory.getAlgorithm()` doesn&#39;t seem to implement PKCS#1 padding, and that&#39;s what you&#39;re having problems with.","body":"Your question title should be amended, as <code>keyFactory.getAlgorithm()</code> doesn&#39;t seem to implement PKCS#1 padding, and that&#39;s what you&#39;re having problems with."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1624453224,"creation_date":1624437755,"answer_id":68096448,"question_id":68093610,"body_markdown":"RSA key pairs can be used within different RSA based schemes, such as PKCS#1 and OAEP padding for encryption, and PKCS#1 and PSS padding for signing. However, there is only one key pair generation possible, which is simply denoted `&quot;RSA&quot;`.\r\n\r\nIf only `&quot;RSA&quot;` is used as input string it will use the defaults set for the specific cryptography provider, which is - in this case - the first provider that implements RSA using keys in software. Apparently that&#39;s different on Android from PKCS#1 padding (assuming that you still use the original list of providers, of course). One stupid thing in Java is that you cannot programmatically find out which defaults *are* used; `getAlgorithm()` ususally just returns the string you&#39;ve provided earlier. The only thing you can do is to get the provider using `getProvider()` and then lookup the defaults...\r\n\r\nI would never go for any defaults (except for `SecureRandom` defaults) as it is unspecified which defaults will be used for Java. Always specify the algorithm in full; your earlier string was fine. ","title":"how to use (RSA/ECB/PKCS1Padding) in android","body":"<p>RSA key pairs can be used within different RSA based schemes, such as PKCS#1 and OAEP padding for encryption, and PKCS#1 and PSS padding for signing. However, there is only one key pair generation possible, which is simply denoted <code>&quot;RSA&quot;</code>.</p>\n<p>If only <code>&quot;RSA&quot;</code> is used as input string it will use the defaults set for the specific cryptography provider, which is - in this case - the first provider that implements RSA using keys in software. Apparently that's different on Android from PKCS#1 padding (assuming that you still use the original list of providers, of course). One stupid thing in Java is that you cannot programmatically find out which defaults <em>are</em> used; <code>getAlgorithm()</code> ususally just returns the string you've provided earlier. The only thing you can do is to get the provider using <code>getProvider()</code> and then lookup the defaults...</p>\n<p>I would never go for any defaults (except for <code>SecureRandom</code> defaults) as it is unspecified which defaults will be used for Java. Always specify the algorithm in full; your earlier string was fine.</p>\n"},{"tags":[],"owner":{"account_id":6819056,"reputation":69,"user_id":5246756,"display_name":"Aleksandr K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675330282,"creation_date":1675330282,"answer_id":75321081,"question_id":68093610,"body_markdown":"My function \r\n\r\n     private fun getEncryptCodeWord(publicKey:String, codeWord:String):String{\r\n            try{\r\n                val publicBytes = Base64.decode(publicKey, Base64.NO_WRAP)\r\n                val keySpec = X509EncodedKeySpec(publicBytes)\r\n                val keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\r\n                val pubKey = keyFactory.generatePublic(keySpec)\r\n                val encryptCodeWord = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;)\r\n                    .apply { init(Cipher.ENCRYPT_MODE, pubKey) }\r\n                    .doFinal(codeWord.toByteArray())\r\n                return Base64.encodeToString(encryptCodeWord, Base64.NO_WRAP)\r\n            }\r\n            catch (ex:Exception){\r\n                Crash.recordException(ex)\r\n                Crash.setKey(&quot;error_get_encrypt_code_word&quot;,ex.message)\r\n            }\r\n            return codeWord\r\n        }\r\n\r\nand for RSA/ECB/OAEPWithSHA-256AndMGF1Padding\r\n\r\n    private fun getEncryptCodeWord(publicKey:String,codeWord:String):String{\r\n        try{\r\n            val publicBytes = Base64.decode(publicKey, Base64.NO_WRAP)\r\n            val keySpec = X509EncodedKeySpec(publicBytes)\r\n            val keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\r\n            val pubKey = keyFactory.generatePublic(keySpec)\r\n            val sp = OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec(&quot;SHA-1&quot;), PSource.PSpecified.DEFAULT)\r\n            val encrypt = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-256AndMGF1Padding&quot;)\r\n            encrypt.init(Cipher.ENCRYPT_MODE, pubKey, sp)\r\n            val encryptCodeWord = encrypt.doFinal(codeWord.toByteArray())\r\n            return Base64.encodeToString(encryptCodeWord, Base64.NO_WRAP)\r\n        }\r\n        catch (ex:Exception){\r\n            Crash.recordException(ex)\r\n            Crash.setKey(&quot;error_get_encrypt_code_word&quot;,ex.message)\r\n        }\r\n        return codeWord\r\n    }","title":"how to use (RSA/ECB/PKCS1Padding) in android","body":"<p>My function</p>\n<pre><code> private fun getEncryptCodeWord(publicKey:String, codeWord:String):String{\n        try{\n            val publicBytes = Base64.decode(publicKey, Base64.NO_WRAP)\n            val keySpec = X509EncodedKeySpec(publicBytes)\n            val keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\n            val pubKey = keyFactory.generatePublic(keySpec)\n            val encryptCodeWord = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;)\n                .apply { init(Cipher.ENCRYPT_MODE, pubKey) }\n                .doFinal(codeWord.toByteArray())\n            return Base64.encodeToString(encryptCodeWord, Base64.NO_WRAP)\n        }\n        catch (ex:Exception){\n            Crash.recordException(ex)\n            Crash.setKey(&quot;error_get_encrypt_code_word&quot;,ex.message)\n        }\n        return codeWord\n    }\n</code></pre>\n<p>and for RSA/ECB/OAEPWithSHA-256AndMGF1Padding</p>\n<pre><code>private fun getEncryptCodeWord(publicKey:String,codeWord:String):String{\n    try{\n        val publicBytes = Base64.decode(publicKey, Base64.NO_WRAP)\n        val keySpec = X509EncodedKeySpec(publicBytes)\n        val keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\n        val pubKey = keyFactory.generatePublic(keySpec)\n        val sp = OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec(&quot;SHA-1&quot;), PSource.PSpecified.DEFAULT)\n        val encrypt = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-256AndMGF1Padding&quot;)\n        encrypt.init(Cipher.ENCRYPT_MODE, pubKey, sp)\n        val encryptCodeWord = encrypt.doFinal(codeWord.toByteArray())\n        return Base64.encodeToString(encryptCodeWord, Base64.NO_WRAP)\n    }\n    catch (ex:Exception){\n        Crash.recordException(ex)\n        Crash.setKey(&quot;error_get_encrypt_code_word&quot;,ex.message)\n    }\n    return codeWord\n}\n</code></pre>\n"}],"owner":{"account_id":16448361,"reputation":43,"user_id":11882423,"display_name":"mohammad1408"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3269,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":68096448,"answer_count":2,"score":1,"last_activity_date":1675330282,"creation_date":1624423266,"question_id":68093610,"body_markdown":"About a year ago, I wrote an application for Android and used a class in it RSA In this class, there was the following code snippet and the application worked\r\n```\r\nCipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;)\r\n```\r\nBut when I re-entered the application code, I did not open the new encrypted information to change the private key until I changed the above code line to the following code line.\r\n```\r\nCipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n```\r\nThe problem is that if I replace the above code snippet in class RSA it is no longer possible to open previously encrypted information (with the same keys as before).\r\nAnd I see the following error\r\n```\r\njavax.crypto.BadPaddingException: error:04000084:RSA routines:OPENSSL_internal:PKCS_DECODING_ERROR\r\n```\r\n\r\nRSA decryption\r\n```\r\npublic static byte[] decryptByPrivateKey(byte[] data, String key)\r\n            throws Exception {\r\n\r\n        byte[] keyBytes = decryptBASE64(key);\r\n\r\n\r\n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\r\n\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n        \r\n        // Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n\r\n\r\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n```","title":"how to use (RSA/ECB/PKCS1Padding) in android","body":"<p>About a year ago, I wrote an application for Android and used a class in it RSA In this class, there was the following code snippet and the application worked</p>\n<pre><code>Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;)\n</code></pre>\n<p>But when I re-entered the application code, I did not open the new encrypted information to change the private key until I changed the above code line to the following code line.</p>\n<pre><code>Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n</code></pre>\n<p>The problem is that if I replace the above code snippet in class RSA it is no longer possible to open previously encrypted information (with the same keys as before).\nAnd I see the following error</p>\n<pre><code>javax.crypto.BadPaddingException: error:04000084:RSA routines:OPENSSL_internal:PKCS_DECODING_ERROR\n</code></pre>\n<p>RSA decryption</p>\n<pre><code>public static byte[] decryptByPrivateKey(byte[] data, String key)\n            throws Exception {\n\n        byte[] keyBytes = decryptBASE64(key);\n\n\n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\n\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n        \n        // Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n\n\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\n\n        return cipher.doFinal(data);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1674433750,"post_id":75204848,"comment_id":132707559,"body_markdown":"doing from here create a correct json, as when I put json see values in the student object","body":"doing from here create a correct json, as when I put json see values in the student object"},{"owner":{"account_id":1313342,"reputation":765,"user_id":1260847,"accept_rate":56,"display_name":"Loner shushman"},"score":0,"creation_date":1674433992,"post_id":75204848,"comment_id":132707585,"body_markdown":"sorry K.Nicholas I dont understand your comment, I am not sure how to create a correct json,","body":"sorry K.Nicholas I dont understand your comment, I am not sure how to create a correct json,"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1674437634,"post_id":75204848,"comment_id":132707936,"body_markdown":"If you cannot modify the controller method, then no, you cannot do this.  At a minimum, you would need to annotate Student also with @RequestBody, but you&#39;d have to write a custom deserializer even to pull this off.  Ideally, your method would contain a single RequestBody, perhaps a DTO that contains both the teacher and student.  Given the way your model looks, there&#39;s no way to associate a teacher with a student.  I would push back on the &quot;I can&#39;t change this&quot;, part.","body":"If you cannot modify the controller method, then no, you cannot do this.  At a minimum, you would need to annotate Student also with @RequestBody, but you&#39;d have to write a custom deserializer even to pull this off.  Ideally, your method would contain a single RequestBody, perhaps a DTO that contains both the teacher and student.  Given the way your model looks, there&#39;s no way to associate a teacher with a student.  I would push back on the &quot;I can&#39;t change this&quot;, part."},{"owner":{"account_id":1313342,"reputation":765,"user_id":1260847,"accept_rate":56,"display_name":"Loner shushman"},"score":0,"creation_date":1674437914,"post_id":75204848,"comment_id":132707958,"body_markdown":"I have an existing code which works at the moment, and I am simply trying to send a JSON request, hence I said I can not not change. as this is how it is currently set up","body":"I have an existing code which works at the moment, and I am simply trying to send a JSON request, hence I said I can not not change. as this is how it is currently set up"},{"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1674456967,"post_id":75204848,"comment_id":132709878,"body_markdown":"Try to add Student&#39;s fields as query parameters. So: id and nameStudent should be in query parameters instead of request body.","body":"Try to add Student&#39;s fields as query parameters. So: id and nameStudent should be in query parameters instead of request body."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674487272,"creation_date":1674487272,"answer_id":75211536,"question_id":75204848,"body_markdown":"An HTTP POST can only have ONE body. As commenters have indicated, but I will spell out to provide clarity, you have the following two options:\r\n\r\nCreate a class which combines Student &amp; Teacher and use that as the request body:\r\n\r\n    class Payload {\r\n        Student student;\r\n        Teacher teacher;\r\n    }\r\n\r\n    @PostMapping(&quot;/endpoint&quot;)\r\n    void  myMethod(@RequestBody Payload payload) {\r\n        Student student = payload.student;\r\n        Teacher teacher = payload.teacher;\r\n\r\nJSON payload for Postman:\r\n\r\n    {\r\n        &quot;student&quot;: {\r\n            &quot;id&quot;: &quot;abc&quot;,\r\n            &quot;name&quot;: &quot;A Student name&quot;\r\n        },\r\n        &quot;teacher&quot;: {\r\n            &quot;id&quot;: &quot;def&quot;,\r\n            &quot;name&quot;: &quot;A Teacher name&quot;\r\n        }\r\n    }\r\n\r\nThe other option is to pass though the Student attributes as query parameters:\r\n\r\n    @PostMapping(&quot;/endpoint&quot;)\r\n    void  myMethod(@RequestParam studentId, @RequestParam studentName, @RequestBody Teacher teacher) {\r\n        Student student = new Student(studentId, studentName);\r\n\r\nAnd the `studentId` &amp; `studentName` must be submitted as parameters from Postman. \r\n\r\n\r\n\r\n\r\n","title":"Can I post multiple objects to a REST service but only one as @RequestParams and how to call it from PostMan","body":"<p>An HTTP POST can only have ONE body. As commenters have indicated, but I will spell out to provide clarity, you have the following two options:</p>\n<p>Create a class which combines Student &amp; Teacher and use that as the request body:</p>\n<pre><code>class Payload {\n    Student student;\n    Teacher teacher;\n}\n\n@PostMapping(&quot;/endpoint&quot;)\nvoid  myMethod(@RequestBody Payload payload) {\n    Student student = payload.student;\n    Teacher teacher = payload.teacher;\n</code></pre>\n<p>JSON payload for Postman:</p>\n<pre><code>{\n    &quot;student&quot;: {\n        &quot;id&quot;: &quot;abc&quot;,\n        &quot;name&quot;: &quot;A Student name&quot;\n    },\n    &quot;teacher&quot;: {\n        &quot;id&quot;: &quot;def&quot;,\n        &quot;name&quot;: &quot;A Teacher name&quot;\n    }\n}\n</code></pre>\n<p>The other option is to pass though the Student attributes as query parameters:</p>\n<pre><code>@PostMapping(&quot;/endpoint&quot;)\nvoid  myMethod(@RequestParam studentId, @RequestParam studentName, @RequestBody Teacher teacher) {\n    Student student = new Student(studentId, studentName);\n</code></pre>\n<p>And the <code>studentId</code> &amp; <code>studentName</code> must be submitted as parameters from Postman.</p>\n"}],"owner":{"account_id":1313342,"reputation":765,"user_id":1260847,"accept_rate":56,"display_name":"Loner shushman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75211536,"answer_count":1,"score":0,"last_activity_date":1675330233,"creation_date":1674433443,"question_id":75204848,"body_markdown":"So I have a method that looks like this:\r\n```\r\n@PostMapping(&quot;/endpoint&quot;)\r\nvoid  myMethod(Student student, @RequestBody Teacher teacher)\r\n{\r\n    //need to be able to access student.getName();\r\n     //Need to be able to access teacher.getName();\r\n}\r\n```\r\nThis is given, I can not change this.\r\nQuestion how do I call this method from PostMan.\r\n\r\nI use Post request :\r\nlocalhost:8080/endpoint\r\nand in the body, I select : raw\r\nand JSON\r\nbut I can not figure what I am doing from here, as when I put json I ont see values in the student object it is null, not sure how to create a correct json, \r\n```\r\nclass Student {\r\n  String id;\r\n  String nameStudent;\r\n}\r\n\r\nсlass Teacher {\r\n  String id, \r\n  String nameTeacher;\r\n}\r\n```","title":"Can I post multiple objects to a REST service but only one as @RequestParams and how to call it from PostMan","body":"<p>So I have a method that looks like this:</p>\n<pre><code>@PostMapping(&quot;/endpoint&quot;)\nvoid  myMethod(Student student, @RequestBody Teacher teacher)\n{\n    //need to be able to access student.getName();\n     //Need to be able to access teacher.getName();\n}\n</code></pre>\n<p>This is given, I can not change this.\nQuestion how do I call this method from PostMan.</p>\n<p>I use Post request :\nlocalhost:8080/endpoint\nand in the body, I select : raw\nand JSON\nbut I can not figure what I am doing from here, as when I put json I ont see values in the student object it is null, not sure how to create a correct json,</p>\n<pre><code>class Student {\n  String id;\n  String nameStudent;\n}\n\nсlass Teacher {\n  String id, \n  String nameTeacher;\n}\n</code></pre>\n"},{"tags":["java","apache-mina","apache-sshd"],"owner":{"account_id":15875464,"reputation":163,"user_id":11459084,"display_name":"vivi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675330125,"creation_date":1644330082,"question_id":71035486,"body_markdown":"I am trying to implement a ssh client based on MINA sshd communicating with the end server via a ssh jump.\r\n\r\nbased on the documentation (https://github.com/apache/mina-sshd/blob/master/docs/internals.md#ssh-jumps) and other information found on the Internet, my code is looking like this.\r\n\r\n\r\n``` java\r\n    SshClient client = SshClient.setUpDefaultClient();\r\n    client.setHostConfigEntryResolver(\r\n        HostConfigEntry.toHostConfigEntryResolver(\r\n            Arrays.asList(\r\n                new HostConfigEntry(&quot;server&quot;, &quot;end-server&quot;, 22, &quot;user1&quot;, &quot;proxy&quot;),\r\n                new HostConfigEntry(&quot;proxy&quot;, &quot;proxy-server&quot;, 22, &quot;user2&quot;))));\r\n\r\n    client.start();\r\n\r\n    try (ClientSession session = client.connect(&quot;server&quot;).verify(defaultTimeout).getSession()) {\r\n\r\n      session.addPasswordIdentity(&quot;password1&quot;); // password for the end-server\r\n      session.auth().verify(defaultTimeout);\r\n      try (ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\r\n          ByteArrayOutputStream errorStream = new ByteArrayOutputStream();\r\n          ClientChannel channel = session.createExecChannel(&quot;pwd&quot;))\r\n      {\r\n        channel.setOut(responseStream);\r\n        channel.setErr(errorStream);\r\n        try {\r\n          channel.open().verify(defaultTimeout);\r\n          try (OutputStream pipedIn = channel.getInvertedIn()) {\r\n            pipedIn.write(&quot;dir&quot;.getBytes());\r\n            pipedIn.flush();\r\n          }\r\n          channel.waitFor(EnumSet.of(ClientChannelEvent.CLOSED), defaultTimeout);\r\n          String error = errorStream.toString();\r\n          if (!error.isEmpty()) {\r\n            throw new Exception(error);\r\n          }\r\n          System.out.println(responseStream);\r\n        } finally {\r\n          channel.close(false);\r\n        }\r\n      }\r\n    }\r\n```\r\n\r\nThis implementation is working fine provided that the authentication to the proxy is via key authentication and the end server uses password authentication.\r\n\r\nThe problem is that in reality the jump server I am using only offers password authentication and I do not find the way to provide its credential.\r\n\r\nHow can I provide the jump server credential ?\r\n\r\nThanks!","title":"Apache mina sshd client: jump server with password authentication","body":"<p>I am trying to implement a ssh client based on MINA sshd communicating with the end server via a ssh jump.</p>\n<p>based on the documentation (<a href=\"https://github.com/apache/mina-sshd/blob/master/docs/internals.md#ssh-jumps\" rel=\"nofollow noreferrer\">https://github.com/apache/mina-sshd/blob/master/docs/internals.md#ssh-jumps</a>) and other information found on the Internet, my code is looking like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    SshClient client = SshClient.setUpDefaultClient();\n    client.setHostConfigEntryResolver(\n        HostConfigEntry.toHostConfigEntryResolver(\n            Arrays.asList(\n                new HostConfigEntry(&quot;server&quot;, &quot;end-server&quot;, 22, &quot;user1&quot;, &quot;proxy&quot;),\n                new HostConfigEntry(&quot;proxy&quot;, &quot;proxy-server&quot;, 22, &quot;user2&quot;))));\n\n    client.start();\n\n    try (ClientSession session = client.connect(&quot;server&quot;).verify(defaultTimeout).getSession()) {\n\n      session.addPasswordIdentity(&quot;password1&quot;); // password for the end-server\n      session.auth().verify(defaultTimeout);\n      try (ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\n          ByteArrayOutputStream errorStream = new ByteArrayOutputStream();\n          ClientChannel channel = session.createExecChannel(&quot;pwd&quot;))\n      {\n        channel.setOut(responseStream);\n        channel.setErr(errorStream);\n        try {\n          channel.open().verify(defaultTimeout);\n          try (OutputStream pipedIn = channel.getInvertedIn()) {\n            pipedIn.write(&quot;dir&quot;.getBytes());\n            pipedIn.flush();\n          }\n          channel.waitFor(EnumSet.of(ClientChannelEvent.CLOSED), defaultTimeout);\n          String error = errorStream.toString();\n          if (!error.isEmpty()) {\n            throw new Exception(error);\n          }\n          System.out.println(responseStream);\n        } finally {\n          channel.close(false);\n        }\n      }\n    }\n</code></pre>\n<p>This implementation is working fine provided that the authentication to the proxy is via key authentication and the end server uses password authentication.</p>\n<p>The problem is that in reality the jump server I am using only offers password authentication and I do not find the way to provide its credential.</p>\n<p>How can I provide the jump server credential ?</p>\n<p>Thanks!</p>\n"},{"tags":["java","amazon-s3","pyspark","databricks","azure-databricks"],"answers":[{"tags":[],"owner":{"account_id":24283949,"reputation":2474,"user_id":18229980,"display_name":"Vamsi Bitra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675317112,"creation_date":1675317112,"answer_id":75319163,"question_id":75297867,"body_markdown":"Check your configuration with S3 as per the [official document](https://docs.databricks.com/storage/amazon-s3.html#access-s3-buckets-with-uris-and-aws-keys): \r\n\r\n    Access_key = dbutils.secrets.get(scope = &quot;Scope_name&quot;, key = &quot;aws_access_key&quot;)\r\n    Secret_key = dbutils.secrets.get(scope = &quot;Scope_name&quot;, key = &quot;aws_secret_key&quot;)\r\n    sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.access.key&quot;, Access_key)\r\n    sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.secret.key&quot;, Secret_key)\r\n    \r\n    region = &quot;aws-region-id&quot;\r\n    sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;s3.&quot; + region + &quot;.amazonaws.com&quot;)\r\n    \r\n    conn = sc.textFile(&quot;s3a://%s/.../...&quot; % aws_bucket_name)\r\n    conn.count()\r\n\r\n**Or** \r\n\r\nYou can try this alternative approach [Mounting AWS S3 buckets on Databricks](https://www.linkedin.com/pulse/readwrite-mount-from-aws-s3-databricks-deepak-rajak) by Deepak Rajak","title":"py4j.Py4JException: Method set([class java.lang.String, class java.util.ArrayList]) does not exist in Databricks","body":"<p>Check your configuration with S3 as per the <a href=\"https://docs.databricks.com/storage/amazon-s3.html#access-s3-buckets-with-uris-and-aws-keys\" rel=\"nofollow noreferrer\">official document</a>:</p>\n<pre><code>Access_key = dbutils.secrets.get(scope = &quot;Scope_name&quot;, key = &quot;aws_access_key&quot;)\nSecret_key = dbutils.secrets.get(scope = &quot;Scope_name&quot;, key = &quot;aws_secret_key&quot;)\nsc._jsc.hadoopConfiguration().set(&quot;fs.s3a.access.key&quot;, Access_key)\nsc._jsc.hadoopConfiguration().set(&quot;fs.s3a.secret.key&quot;, Secret_key)\n\nregion = &quot;aws-region-id&quot;\nsc._jsc.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;s3.&quot; + region + &quot;.amazonaws.com&quot;)\n\nconn = sc.textFile(&quot;s3a://%s/.../...&quot; % aws_bucket_name)\nconn.count()\n</code></pre>\n<p><strong>Or</strong></p>\n<p>You can try this alternative approach <a href=\"https://www.linkedin.com/pulse/readwrite-mount-from-aws-s3-databricks-deepak-rajak\" rel=\"nofollow noreferrer\">Mounting AWS S3 buckets on Databricks</a> by Deepak Rajak</p>\n"}],"owner":{"account_id":13213675,"reputation":1661,"user_id":9542989,"display_name":"Minura Punchihewa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675330009,"creation_date":1675171508,"question_id":75297867,"body_markdown":"I am trying to access a remote S3 bucket using Databricks.\r\n\r\nFrom what I have understood, this is what my code should look like,\r\n\r\n    sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.access.key&quot;, access_key)\r\n    sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.secret.key&quot;, secret_access_key)\r\n    sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;)\r\n    \r\n    \r\n    df = spark.read.format(&quot;csv&quot;).option(&quot;header&quot;,True).load(&#39;s3a://bucket/path/to/file.csv&#39;)\r\n    \r\n    df.show()\r\n\r\nI seem to be getting the following error when trying to set the Spark configurations,\r\n\r\n    Py4JError: An error occurred while calling o371.set. Trace:\r\n    py4j.Py4JException: Method set([class java.lang.String, class java.util.ArrayList]) does not exist\r\n    \tat py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:341)\r\n    \tat py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:349)\r\n    \tat py4j.Gateway.invoke(Gateway.java:286)\r\n    \tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n    \tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n    \tat py4j.GatewayConnection.run(GatewayConnection.java:251)\r\n    \tat java.lang.Thread.run(Thread.java:750)\r\n\r\nWhat am I doing wrong?","title":"py4j.Py4JException: Method set([class java.lang.String, class java.util.ArrayList]) does not exist in Databricks","body":"<p>I am trying to access a remote S3 bucket using Databricks.</p>\n<p>From what I have understood, this is what my code should look like,</p>\n<pre><code>sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.access.key&quot;, access_key)\nsc._jsc.hadoopConfiguration().set(&quot;fs.s3a.secret.key&quot;, secret_access_key)\nsc._jsc.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;)\n\n\ndf = spark.read.format(&quot;csv&quot;).option(&quot;header&quot;,True).load('s3a://bucket/path/to/file.csv')\n\ndf.show()\n</code></pre>\n<p>I seem to be getting the following error when trying to set the Spark configurations,</p>\n<pre><code>Py4JError: An error occurred while calling o371.set. Trace:\npy4j.Py4JException: Method set([class java.lang.String, class java.util.ArrayList]) does not exist\n    at py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:341)\n    at py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:349)\n    at py4j.Gateway.invoke(Gateway.java:286)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.GatewayConnection.run(GatewayConnection.java:251)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android","firebase","pusher"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1675329955,"post_id":75320774,"comment_id":132906696,"body_markdown":"As you mentioned that ```the function is never called``` there can be several issues as mentioned below\n\n- FCM token is correctly used and not expired \n- your project bundle id is matching with firebase registered and google-service.json file is correct\n- api key is correct which is used to send notification\n- if you have added SHA key to firebase then check it is matching with your keystore&#39;s SHA","body":"As you mentioned that <code>the function is never called</code> there can be several issues as mentioned below  - FCM token is correctly used and not expired  - your project bundle id is matching with firebase registered and google-service.json file is correct - api key is correct which is used to send notification - if you have added SHA key to firebase then check it is matching with your keystore&#39;s SHA"},{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1675330246,"post_id":75320774,"comment_id":132906805,"body_markdown":"if all things are good to go then try to send notification and check what you are getting in response\n\nto send notification using postman , you can use this article .. postman collection is given\n\nhttps://medium.com/android-school/test-fcm-notification-with-postman-f91ba08aacc3","body":"if all things are good to go then try to send notification and check what you are getting in response  to send notification using postman , you can use this article .. postman collection is given  <a href=\"https://medium.com/android-school/test-fcm-notification-with-postman-f91ba08aacc3\" rel=\"nofollow noreferrer\">medium.com/android-school/&hellip;</a>"},{"owner":{"account_id":21190041,"reputation":43,"user_id":15582694,"display_name":"Gerben Mol"},"score":0,"creation_date":1675330904,"post_id":75320774,"comment_id":132906997,"body_markdown":"When filling the notification payload i receive a notification but the onMessageReceived is never called i get this log in the logger: I/FCMMessageReceiver: Got a valid pusher message.","body":"When filling the notification payload i receive a notification but the onMessageReceived is never called i get this log in the logger: I/FCMMessageReceiver: Got a valid pusher message."},{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1675331052,"post_id":75320774,"comment_id":132907056,"body_markdown":"yes because notification payload is handled by firebase SDK that&#39;s why not getting called ```onMessageReceived``` in case of notification payload .... try with ```data``` payload instead of notification","body":"yes because notification payload is handled by firebase SDK that&#39;s why not getting called <code>onMessageReceived</code> in case of notification payload .... try with <code>data</code> payload instead of notification"},{"owner":{"account_id":21190041,"reputation":43,"user_id":15582694,"display_name":"Gerben Mol"},"score":0,"creation_date":1675332210,"post_id":75320774,"comment_id":132907422,"body_markdown":"I send a notification with only data payload but the onMessageReceived is still not called","body":"I send a notification with only data payload but the onMessageReceived is still not called"},{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1675332322,"post_id":75320774,"comment_id":132907449,"body_markdown":"i hope you have checked every point that i mention in my first comment","body":"i hope you have checked every point that i mention in my first comment"},{"owner":{"account_id":21190041,"reputation":43,"user_id":15582694,"display_name":"Gerben Mol"},"score":0,"creation_date":1675337941,"post_id":75320774,"comment_id":132909352,"body_markdown":"I have checked everything and everything is correct the message is received by the FCMMessageReceiver but the onMessageReceived function i created is never caalled","body":"I have checked everything and everything is correct the message is received by the FCMMessageReceiver but the onMessageReceived function i created is never caalled"}],"owner":{"account_id":21190041,"reputation":43,"user_id":15582694,"display_name":"Gerben Mol"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675329888,"creation_date":1675328540,"question_id":75320774,"body_markdown":"I added the following pice in the manifest to call the onMessageReceived function when a firebase message comes in:\r\n\r\n```\r\n&lt;service android:name=&quot;.Notifications&quot;\r\n         android:exported=&quot;true&quot;&gt;\r\n     &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/service&gt;\r\n```\r\nHere is my onMessageReceive function:\r\n```\r\n@Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        Log.d(&quot;NotificationService&quot;, &quot;Notification received!&quot;);\r\n        Map&lt;String, String&gt; data = remoteMessage.getData();\r\n        String deep_link = data.get(&quot;deep_link&quot;);\r\n        String title = data.get(&quot;title&quot;);\r\n        String body = data.get(&quot;body&quot;);\r\n        Log.d(&quot;NotificationService&quot;, &quot;Notification received!&quot;);\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.context.getApplicationContext(), &quot;1&quot;);\r\n        builder.setSmallIcon(android.R.drawable.ic_dialog_alert);\r\n        Intent intent = new Intent(new MainActivity(), Uri.parse(deep_link));\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(MainActivity.context, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n        builder.setContentIntent(pendingIntent);\r\n        builder.setLargeIcon(BitmapFactory.decodeResource(MainActivity.context.getResources(), R.mipmap.ic_launcher));\r\n        builder.setContentTitle(title);\r\n        builder.setContentText(body);\r\n\r\n        NotificationManager notificationManager = (NotificationManager) MainActivity.context.getSystemService(MainActivity.context.NOTIFICATION_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n        {\r\n            String channelId = &quot;1&quot;;\r\n            NotificationChannel channel = new NotificationChannel(\r\n                    channelId,\r\n                    &quot;1&quot;,\r\n                    NotificationManager.IMPORTANCE_HIGH);\r\n            notificationManager.createNotificationChannel(channel);\r\n            builder.setChannelId(channelId);\r\n        }\r\n        // Will display the notification in the notification bar\r\n        notificationManager.notify(1, builder.build());\r\n    }\r\n```\r\n\r\nBut the function is never called does someone know where the problem lays?\r\n\r\nI tried to send the notification with and without notification payload, tried the app in background state and foreground state, tried killing the app and then sending the notification\r\n\r\nWhen clicking the notification it doesnt open the app or anything","title":"Firebase message not opening application when clicking on the notification","body":"<p>I added the following pice in the manifest to call the onMessageReceived function when a firebase message comes in:</p>\n<pre><code>&lt;service android:name=&quot;.Notifications&quot;\n         android:exported=&quot;true&quot;&gt;\n     &lt;intent-filter&gt;\n        &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n<p>Here is my onMessageReceive function:</p>\n<pre><code>@Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        Log.d(&quot;NotificationService&quot;, &quot;Notification received!&quot;);\n        Map&lt;String, String&gt; data = remoteMessage.getData();\n        String deep_link = data.get(&quot;deep_link&quot;);\n        String title = data.get(&quot;title&quot;);\n        String body = data.get(&quot;body&quot;);\n        Log.d(&quot;NotificationService&quot;, &quot;Notification received!&quot;);\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.context.getApplicationContext(), &quot;1&quot;);\n        builder.setSmallIcon(android.R.drawable.ic_dialog_alert);\n        Intent intent = new Intent(new MainActivity(), Uri.parse(deep_link));\n        PendingIntent pendingIntent = PendingIntent.getActivity(MainActivity.context, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n        builder.setContentIntent(pendingIntent);\n        builder.setLargeIcon(BitmapFactory.decodeResource(MainActivity.context.getResources(), R.mipmap.ic_launcher));\n        builder.setContentTitle(title);\n        builder.setContentText(body);\n\n        NotificationManager notificationManager = (NotificationManager) MainActivity.context.getSystemService(MainActivity.context.NOTIFICATION_SERVICE);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n        {\n            String channelId = &quot;1&quot;;\n            NotificationChannel channel = new NotificationChannel(\n                    channelId,\n                    &quot;1&quot;,\n                    NotificationManager.IMPORTANCE_HIGH);\n            notificationManager.createNotificationChannel(channel);\n            builder.setChannelId(channelId);\n        }\n        // Will display the notification in the notification bar\n        notificationManager.notify(1, builder.build());\n    }\n</code></pre>\n<p>But the function is never called does someone know where the problem lays?</p>\n<p>I tried to send the notification with and without notification payload, tried the app in background state and foreground state, tried killing the app and then sending the notification</p>\n<p>When clicking the notification it doesnt open the app or anything</p>\n"},{"tags":["java","android","android-studio","kotlin","mobile"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1675262498,"post_id":75311596,"comment_id":132890837,"body_markdown":"Shouldn&#39;t you be using `activeNetwork.hasTransport(...)` as you are using TRANSPORT_ constants?","body":"Shouldn&#39;t you be using <code>activeNetwork.hasTransport(...)</code> as you are using TRANSPORT_ constants?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1675266178,"post_id":75311596,"comment_id":132892192,"body_markdown":"Also, please bear in mind that none of this tells you if the phone has an Internet connection (as your question title implies).","body":"Also, please bear in mind that none of this tells you if the phone has an Internet connection (as your question title implies)."}],"answers":[{"tags":[],"owner":{"account_id":23883416,"reputation":134,"user_id":17883851,"display_name":"TG. Kahsay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675280299,"creation_date":1675280299,"answer_id":75315340,"question_id":75311596,"body_markdown":"I use this to check if device indeed has connection \r\n\r\n``` Kotlin\r\nfun isConnected(context: Context):Boolean{\r\n        val cManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\n        val nCapabilities = cManager.getNetworkCapabilities(cManager.activeNetwork)\r\n        return nCapabilities != null\r\n    }\r\n```\r\n\r\nit works for me, you can try it.","title":"How to check for Internet Connectivity on API 30 or higher?","body":"<p>I use this to check if device indeed has connection</p>\n<pre><code>fun isConnected(context: Context):Boolean{\n        val cManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n        val nCapabilities = cManager.getNetworkCapabilities(cManager.activeNetwork)\n        return nCapabilities != null\n    }\n</code></pre>\n<p>it works for me, you can try it.</p>\n"},{"tags":[],"owner":{"account_id":26045599,"reputation":91,"user_id":19749681,"display_name":"Hitesh Khatri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675329885,"creation_date":1675329885,"answer_id":75321003,"question_id":75311596,"body_markdown":"in manifest\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nin Code\r\n\r\n    public boolean isInternetAvailable() {\r\n    try {\r\n        InetAddress ipAddr = InetAddress.getByName(&quot;google.com&quot;); \r\n        //You can replace it with your name\r\n            return !ipAddr.equals(&quot;&quot;);\r\n\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n//return boolean value if network available\r\n\r\n        private boolean isNetworkConnected() {\r\n        ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n        return cm.getActiveNetworkInfo() != null &amp;&amp; cm.getActiveNetworkInfo().isConnected();\r\n    }\r\n\r\n","title":"How to check for Internet Connectivity on API 30 or higher?","body":"<p>in manifest</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>in Code</p>\n<pre><code>public boolean isInternetAvailable() {\ntry {\n    InetAddress ipAddr = InetAddress.getByName(&quot;google.com&quot;); \n    //You can replace it with your name\n        return !ipAddr.equals(&quot;&quot;);\n\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n<p>//return boolean value if network available</p>\n<pre><code>    private boolean isNetworkConnected() {\n    ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n\n    return cm.getActiveNetworkInfo() != null &amp;&amp; cm.getActiveNetworkInfo().isConnected();\n}\n</code></pre>\n"}],"owner":{"account_id":22479618,"reputation":5,"user_id":16678868,"display_name":"Berkay Sazak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75315340,"answer_count":2,"score":0,"last_activity_date":1675329885,"creation_date":1675261187,"question_id":75311596,"body_markdown":"I want to check Internet connection using Network Capabilities but it is giving me this error:\r\n\r\n&gt; Must be one of: NetworkCapabilities.NET_CAPABILITY_MMS,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_SUPL,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_DUN,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_FOTA,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_IMS,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_CBS,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_WIFI_P2P,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_IA,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_RCS,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_XCAP,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_EIMS,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_NOT_METERED,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_INTERNET,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_NOT_RESTRICTED,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_TRUSTED,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_NOT_VPN,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_VALIDATED,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_CAPTIVE_PORTAL,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_NOT_ROAMING,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_FOREGROUND,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_NOT_CONGESTED,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_NOT_SUSPENDED, NetworkCapab...\r\n&gt; [truncated]\r\n\r\nMy code:\r\n\r\n    fun checkInternetConnection(context : Context) : Boolean{\r\n        val connectivityManager = context.getSystemService(\r\n            Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\n\r\n        val network = connectivityManager.activeNetwork?: return false\r\n        val activeNetwork = connectivityManager.getNetworkCapabilities(network)?: return false\r\n\r\n        return when{\r\n            activeNetwork.hasCapability(NetworkCapabilities.TRANSPORT_WIFI) -&gt; true\r\n            activeNetwork.hasCapability(NetworkCapabilities.TRANSPORT_CELLULAR) -&gt; true\r\n            activeNetwork.hasCapability(NetworkCapabilities.TRANSPORT_ETHERNET) -&gt; true\r\n            else -&gt; false\r\n        }\r\n    }\r\n}\r\n\r\nI tried to fix it with Android Studio&#39;s auto-correction, but instead of writing the control code I wanted, it changed it with a different code.\r\n","title":"How to check for Internet Connectivity on API 30 or higher?","body":"<p>I want to check Internet connection using Network Capabilities but it is giving me this error:</p>\n<blockquote>\n<p>Must be one of: NetworkCapabilities.NET_CAPABILITY_MMS,\nNetworkCapabilities.NET_CAPABILITY_SUPL,\nNetworkCapabilities.NET_CAPABILITY_DUN,\nNetworkCapabilities.NET_CAPABILITY_FOTA,\nNetworkCapabilities.NET_CAPABILITY_IMS,\nNetworkCapabilities.NET_CAPABILITY_CBS,\nNetworkCapabilities.NET_CAPABILITY_WIFI_P2P,\nNetworkCapabilities.NET_CAPABILITY_IA,\nNetworkCapabilities.NET_CAPABILITY_RCS,\nNetworkCapabilities.NET_CAPABILITY_XCAP,\nNetworkCapabilities.NET_CAPABILITY_EIMS,\nNetworkCapabilities.NET_CAPABILITY_NOT_METERED,\nNetworkCapabilities.NET_CAPABILITY_INTERNET,\nNetworkCapabilities.NET_CAPABILITY_NOT_RESTRICTED,\nNetworkCapabilities.NET_CAPABILITY_TRUSTED,\nNetworkCapabilities.NET_CAPABILITY_NOT_VPN,\nNetworkCapabilities.NET_CAPABILITY_VALIDATED,\nNetworkCapabilities.NET_CAPABILITY_CAPTIVE_PORTAL,\nNetworkCapabilities.NET_CAPABILITY_NOT_ROAMING,\nNetworkCapabilities.NET_CAPABILITY_FOREGROUND,\nNetworkCapabilities.NET_CAPABILITY_NOT_CONGESTED,\nNetworkCapabilities.NET_CAPABILITY_NOT_SUSPENDED, NetworkCapab...\n[truncated]</p>\n</blockquote>\n<p>My code:</p>\n<pre><code>fun checkInternetConnection(context : Context) : Boolean{\n    val connectivityManager = context.getSystemService(\n        Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n\n    val network = connectivityManager.activeNetwork?: return false\n    val activeNetwork = connectivityManager.getNetworkCapabilities(network)?: return false\n\n    return when{\n        activeNetwork.hasCapability(NetworkCapabilities.TRANSPORT_WIFI) -&gt; true\n        activeNetwork.hasCapability(NetworkCapabilities.TRANSPORT_CELLULAR) -&gt; true\n        activeNetwork.hasCapability(NetworkCapabilities.TRANSPORT_ETHERNET) -&gt; true\n        else -&gt; false\n    }\n}\n</code></pre>\n<p>}</p>\n<p>I tried to fix it with Android Studio's auto-correction, but instead of writing the control code I wanted, it changed it with a different code.</p>\n"},{"tags":["java","sql","spring-boot","spring-data-jpa","jparepository"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1675329993,"post_id":75320287,"comment_id":132906711,"body_markdown":"Use `@ManyToOne` instead of `UUID`s","body":"Use <code>@ManyToOne</code> instead of <code>UUID</code>s"},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1675340542,"post_id":75320287,"comment_id":132910205,"body_markdown":"That could indeed be a better approach, but won&#39;t have big impact on the query. As mentioned, this is simplified example code to explain the question.","body":"That could indeed be a better approach, but won&#39;t have big impact on the query. As mentioned, this is simplified example code to explain the question."}],"answers":[{"tags":[],"owner":{"account_id":12006456,"reputation":104,"user_id":8784659,"display_name":"Ben Sch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675329096,"creation_date":1675328203,"answer_id":75320691,"question_id":75320287,"body_markdown":"        @Query(&quot;&quot;&quot;\r\n            SELECT  i\r\n                FROM Item i\r\n                    LEFT OUTER JOIN ItemCounter1 counter1 ON i.id = counter1.itemId\r\n                    LEFT OUTER JOIN ItemCounter2 counter2 ON i.id = counter2.itemId\r\n                WHERE counter1.datetime &gt;= :fromDate\r\n                    AND counter2.datetime &gt;= :fromDate\r\n                GROUP BY counter1.itemId, counter2.itemId, i.id\r\n                ORDER BY (COUNT(counter1.itemId) + COUNT(counter2.itemId)) DESC\r\n            &quot;&quot;&quot;)\r\n        Page&lt;Item&gt; findMostCounted(ZonedDateTime fromDate, PageRequest of);\r\n\r\nyour query would need the ID column from item in the group by clause as it is what you are selecting by. I hope I could help :)\r\n","title":"How to make a Spring JPARepository query to find most linked entities in other tables","body":"<pre><code>    @Query(&quot;&quot;&quot;\n        SELECT  i\n            FROM Item i\n                LEFT OUTER JOIN ItemCounter1 counter1 ON i.id = counter1.itemId\n                LEFT OUTER JOIN ItemCounter2 counter2 ON i.id = counter2.itemId\n            WHERE counter1.datetime &gt;= :fromDate\n                AND counter2.datetime &gt;= :fromDate\n            GROUP BY counter1.itemId, counter2.itemId, i.id\n            ORDER BY (COUNT(counter1.itemId) + COUNT(counter2.itemId)) DESC\n        &quot;&quot;&quot;)\n    Page&lt;Item&gt; findMostCounted(ZonedDateTime fromDate, PageRequest of);\n</code></pre>\n<p>your query would need the ID column from item in the group by clause as it is what you are selecting by. I hope I could help :)</p>\n"}],"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75320691,"answer_count":1,"score":-1,"last_activity_date":1675329096,"creation_date":1675325778,"question_id":75320287,"body_markdown":"I&#39;m trying to find one query-solution to find the items in a table that are most present in two other tables. Simplified my structure looks like this:\r\n\r\n    @Entity\r\n    @Table(name = &quot;item&quot;)\r\n    public class Item extends AbstractEntity {\r\n       // ID is added by AbstractEntity\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;itemCounter1&quot;)\r\n    public class ItemCounter1 extends AbstractEntity {\r\n       private UUID itemId;\r\n       private ZonedDateTime datetime;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;itemCounter2&quot;)\r\n    public class ItemCounter2 extends AbstractEntity {\r\n       private UUID itemId;\r\n       private ZonedDateTime datetime;\r\n    }\r\n\r\nI believe my query should look something like the following, but it&#39;s not correct yet and I&#39;m a bit puzzled what could be the best approach... Not sure even if I should do this within a query, but it would definitely be nice to be able to hand this over to the power of the database, instead of needing to code several separate DB calls and combine the results.\r\n\r\n    public interface ItemRepository extends JpaRepository&lt;Item, UUID&gt; {\r\n        @Query(&quot;&quot;&quot;\r\n            SELECT i\r\n                FROM Item i \r\n                    LEFT OUTER JOIN ItemCounter1 counter1 ON i.id = counter1.itemId\r\n                    LEFT OUTER JOIN ItemCounter2 counter2 ON i.id = counter2.itemId\r\n                WHERE counter1.datetime &gt;= :fromDate\r\n                    AND counter2.datetime &gt;= :fromDate\r\n                GROUP BY counter1.itemId, counter2.itemId\r\n                ORDER BY (COUNT(counter1.itemId) + COUNT(counter2.itemId)) DESC\r\n            &quot;&quot;&quot;)\r\n        Page&lt;Item&gt; findMostCounted(ZonedDateTime fromDate, PageRequest of);\r\n    }","title":"How to make a Spring JPARepository query to find most linked entities in other tables","body":"<p>I'm trying to find one query-solution to find the items in a table that are most present in two other tables. Simplified my structure looks like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;item&quot;)\npublic class Item extends AbstractEntity {\n   // ID is added by AbstractEntity\n}\n\n@Entity\n@Table(name = &quot;itemCounter1&quot;)\npublic class ItemCounter1 extends AbstractEntity {\n   private UUID itemId;\n   private ZonedDateTime datetime;\n}\n\n@Entity\n@Table(name = &quot;itemCounter2&quot;)\npublic class ItemCounter2 extends AbstractEntity {\n   private UUID itemId;\n   private ZonedDateTime datetime;\n}\n</code></pre>\n<p>I believe my query should look something like the following, but it's not correct yet and I'm a bit puzzled what could be the best approach... Not sure even if I should do this within a query, but it would definitely be nice to be able to hand this over to the power of the database, instead of needing to code several separate DB calls and combine the results.</p>\n<pre><code>public interface ItemRepository extends JpaRepository&lt;Item, UUID&gt; {\n    @Query(&quot;&quot;&quot;\n        SELECT i\n            FROM Item i \n                LEFT OUTER JOIN ItemCounter1 counter1 ON i.id = counter1.itemId\n                LEFT OUTER JOIN ItemCounter2 counter2 ON i.id = counter2.itemId\n            WHERE counter1.datetime &gt;= :fromDate\n                AND counter2.datetime &gt;= :fromDate\n            GROUP BY counter1.itemId, counter2.itemId\n            ORDER BY (COUNT(counter1.itemId) + COUNT(counter2.itemId)) DESC\n        &quot;&quot;&quot;)\n    Page&lt;Item&gt; findMostCounted(ZonedDateTime fromDate, PageRequest of);\n}\n</code></pre>\n"},{"tags":["java","amazon-dynamodb","titan","janusgraph"],"answers":[{"tags":[],"owner":{"account_id":11116015,"reputation":71,"user_id":8160339,"display_name":"Christopher Quinones"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675328960,"creation_date":1497441819,"answer_id":44544278,"question_id":44535054,"body_markdown":"As stated in the [documentation][1], you should rollback any active transaction before attempting to create an index.  Have you tried that?\r\n\r\n\r\n  [1]: https://web.archive.org/web/20180513190030/http://docs.janusgraph.org:80/latest/indexes.html","title":"Generalizing DynamoDB + JanusGraph Factory: Lock and Schema Problems","body":"<p>As stated in the <a href=\"https://web.archive.org/web/20180513190030/http://docs.janusgraph.org:80/latest/indexes.html\" rel=\"nofollow noreferrer\">documentation</a>, you should rollback any active transaction before attempting to create an index.  Have you tried that?</p>\n"},{"tags":[],"owner":{"account_id":1010015,"reputation":5074,"user_id":1022807,"display_name":"Alexander Patrikalakis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1498497607,"creation_date":1498497607,"answer_id":44765162,"question_id":44535054,"body_markdown":"First, your original run() method is executed for each line in the text file. If the [first thing you do is roll back][1], the vertices and edges you created in the previous iteration get blown away.\r\n\r\nSecond, on the next line you tried to [setup the schema for each and every line][2], even though you only need to set the schema once for the graph right after you instantiate it. This was the source of your Schema exceptions, as index names must be unique (and do not necessarily need to be named after the properties they are indexing).\r\n\r\nThird, on lines 78 and 83, you assumed you were [creating the vertices anew for every line][3] of the text file you processed. The uniqueness constraint applies there just as much as it did on [lines 107 and 114][4], where you respected the uniqueness constraint while processing the relationships.\r\n\r\nFinally, for a graph with order ~100 vertices and ~100 edges, it is a bit over the top to setup batching and an executor. I submitted [a PR that fixes all of these issues and proposes two different ways][5] to approach the data load at hand.\r\n\r\n\r\n  [1]: https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R57\r\n  [2]: https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R58\r\n  [3]: https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R78\r\n  [4]: https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R107\r\n  [5]: https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/205/files#diff-ad9c6c879fc7a2deb06057978854811fR117","title":"Generalizing DynamoDB + JanusGraph Factory: Lock and Schema Problems","body":"<p>First, your original run() method is executed for each line in the text file. If the <a href=\"https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R57\" rel=\"nofollow noreferrer\">first thing you do is roll back</a>, the vertices and edges you created in the previous iteration get blown away.</p>\n\n<p>Second, on the next line you tried to <a href=\"https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R58\" rel=\"nofollow noreferrer\">setup the schema for each and every line</a>, even though you only need to set the schema once for the graph right after you instantiate it. This was the source of your Schema exceptions, as index names must be unique (and do not necessarily need to be named after the properties they are indexing).</p>\n\n<p>Third, on lines 78 and 83, you assumed you were <a href=\"https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R78\" rel=\"nofollow noreferrer\">creating the vertices anew for every line</a> of the text file you processed. The uniqueness constraint applies there just as much as it did on <a href=\"https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R107\" rel=\"nofollow noreferrer\">lines 107 and 114</a>, where you respected the uniqueness constraint while processing the relationships.</p>\n\n<p>Finally, for a graph with order ~100 vertices and ~100 edges, it is a bit over the top to setup batching and an executor. I submitted <a href=\"https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/205/files#diff-ad9c6c879fc7a2deb06057978854811fR117\" rel=\"nofollow noreferrer\">a PR that fixes all of these issues and proposes two different ways</a> to approach the data load at hand.</p>\n"}],"owner":{"account_id":5694569,"reputation":523,"user_id":4501444,"accept_rate":46,"display_name":"acs254"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44765162,"answer_count":2,"score":0,"last_activity_date":1675328960,"creation_date":1497411913,"question_id":44535054,"body_markdown":"I&#39;m working on generalizing the DynamoDB + JanusGraph tutorial from AWS such that, given a standard .txt file with a standard convention, the program can ingest the data (as a Triple) and create the vertices, properties, and edges. Normally I wouldn&#39;t post such a lengthy problem, but it appears that these are all related to 4-5 lines within the same class, ObjectCreationCommand, which I created.\r\n\r\nAn example Triple looks like this: `&quot;name:Jim Henson \\t isCreatorOf \\t televisionshow:The Muppets&quot;`\r\n\r\n 1. Left Object: Jim Henson\r\n 2. Left Object Property: name\r\n 3. Relationship: isCreatorOf\r\n 4. Right Object: The Muppets\r\n 5. Right Object Property: televisionshow\r\n\r\nAlthough the program compiles and runs, I get several exceptions thrown that prevent the graph from being filled. When I run the Factory program, it reads all of my triples and puts them into a Hash Set, but then the following error occurs (10 times, but this is only 1 example):\r\n\r\n    57338 [pool-10-thread-2] ERROR org.janusgraph.graphdb.database.StandardJanusGraph  - Could not commit transaction [10] due to exception\r\n    org.janusgraph.diskstorage.locking.TemporaryLockingException: tx 0x181404008c7c already locked key-column ( 16-165-160-114-116- 30- 98-114- 97-110-100-116-121-112-229,  0) when tx 0x181408349015 tried to lock\r\n    \tat com.amazon.janusgraph.diskstorage.dynamodb.AbstractDynamoDBStore.acquireLock(AbstractDynamoDBStore.java:132)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:155)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:153)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore.runWithMetrics(MetricInstrumentedStore.java:217)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore.acquireLock(MetricInstrumentedStore.java:152)\r\n    \tat org.janusgraph.diskstorage.keycolumnvalue.KCVSProxy.acquireLock(KCVSProxy.java:52)\r\n    \tat org.janusgraph.diskstorage.BackendTransaction.acquireIndexLock(BackendTransaction.java:255)\r\n    \tat org.janusgraph.graphdb.database.StandardJanusGraph.prepareCommit(StandardJanusGraph.java:565)\r\n    \tat org.janusgraph.graphdb.database.StandardJanusGraph.commit(StandardJanusGraph.java:694)\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.commit(StandardJanusGraphTx.java:1363)\r\n    \tat org.janusgraph.graphdb.database.management.ManagementSystem.commit(ManagementSystem.java:235)\r\n    \tat com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:59)\r\n    \tat com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nNext, a similar exception is thrown:\r\n\r\n    57427 [pool-10-thread-10] ERROR com.amazon.janusgraph.example.MarvelGraphFactory  - Error processing line Could not commit transaction due to exception during persistence tx 0x181404008c7c already locked key-column ( 16-165-160-114-116- 30- 98-114- 97-110-100-116-121-112-229,  0) when tx 0x181403f69b77 tried to lock\r\n    org.janusgraph.core.JanusGraphException: Could not commit transaction due to exception during persistence\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.commit(StandardJanusGraphTx.java:1374)\r\n    \tat org.janusgraph.graphdb.database.management.ManagementSystem.commit(ManagementSystem.java:235)\r\n    \tat com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:59)\r\n    \tat com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.janusgraph.core.JanusGraphException: Unexpected exception\r\n    \tat org.janusgraph.graphdb.database.StandardJanusGraph.commit(StandardJanusGraph.java:798)\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.commit(StandardJanusGraphTx.java:1363)\r\n    \t... 6 more\r\n    Caused by: org.janusgraph.diskstorage.locking.TemporaryLockingException: tx 0x181404008c7c already locked key-column ( 16-165-160-114-116- 30- 98-114- 97-110-100-116-121-112-229,  0) when tx 0x181403f69b77 tried to lock\r\n    \tat com.amazon.janusgraph.diskstorage.dynamodb.AbstractDynamoDBStore.acquireLock(AbstractDynamoDBStore.java:132)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:155)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:153)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore.runWithMetrics(MetricInstrumentedStore.java:217)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore.acquireLock(MetricInstrumentedStore.java:152)\r\n    \tat org.janusgraph.diskstorage.keycolumnvalue.KCVSProxy.acquireLock(KCVSProxy.java:52)\r\n    \tat org.janusgraph.diskstorage.BackendTransaction.acquireIndexLock(BackendTransaction.java:255)\r\n    \tat org.janusgraph.graphdb.database.StandardJanusGraph.prepareCommit(StandardJanusGraph.java:565)\r\n    \tat org.janusgraph.graphdb.database.StandardJanusGraph.commit(StandardJanusGraph.java:694)\r\n    \t... 7 more\r\n\r\nAnd then a schema-related exception is thrown:\r\n\r\n    58030 [pool-10-thread-4] ERROR com.amazon.janusgraph.example.MarvelGraphFactory  - Error processing line Adding this property for key [~T$SchemaName] and value [rtbrandtype] violates a uniqueness constraint [SystemIndex#~T$SchemaName] \r\n    org.janusgraph.core.SchemaViolationException: Adding this property for key [~T$SchemaName] and value [rtbrandtype] violates a uniqueness constraint [SystemIndex#~T$SchemaName]\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.addProperty(StandardJanusGraphTx.java:791)\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.addProperty(StandardJanusGraphTx.java:720)\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.makeSchemaVertex(StandardJanusGraphTx.java:847)\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.makePropertyKey(StandardJanusGraphTx.java:867)\r\n    \tat org.janusgraph.graphdb.types.StandardPropertyKeyMaker.make(StandardPropertyKeyMaker.java:100)\r\n    \tat com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:47)\r\n    \tat com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nAnd lastly, an exception that I really don&#39;t understand is thrown:\r\n\r\n    58512 [pool-10-thread-8] ERROR com.amazon.janusgraph.example.MarvelGraphFactory  - Error processing line Could not find type for id: 11529 \r\n    java.lang.IllegalStateException: Could not find type for id: 11529\r\n    \tat com.google.common.base.Preconditions.checkState(Preconditions.java:197)\r\n    \tat org.janusgraph.graphdb.types.vertices.JanusGraphSchemaVertex.name(JanusGraphSchemaVertex.java:59)\r\n    \tat org.janusgraph.graphdb.types.vertices.JanusGraphSchemaVertex.asIndexType(JanusGraphSchemaVertex.java:177)\r\n    \tat org.janusgraph.graphdb.database.management.ManagementSystem.getGraphIndexDirect(ManagementSystem.java:412)\r\n    \tat org.janusgraph.graphdb.database.management.ManagementSystem.getGraphIndex(ManagementSystem.java:422)\r\n    \tat com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:55)\r\n    \tat com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nBecause the final transaction is Null, a NullPointerException is thrown and the transaction is never committed; thus, my graph is initialized but empty.\r\n\r\nNormally I wouldn&#39;t post such a lengthy problem, but it appears that these are all related to 4-5 lines within the same class, ObjectCreationCommand, which I created.\r\n\r\n# ObjectCreationCommand.java #\r\n\r\n    package com.amazon.janusgraph.creator;\r\n    \r\n    import com.amazon.janusgraph.example.TravelGraphFactory;\r\n    import com.codahale.metrics.MetricRegistry;\r\n    import org.apache.commons.lang.exception.ExceptionUtils;\r\n    import org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.GraphTraversalSource;\r\n    import org.apache.tinkerpop.gremlin.structure.Vertex;\r\n    import org.janusgraph.core.JanusGraph;\r\n    import com.amazon.janusgraph.triple.Triple;\r\n    import org.janusgraph.core.Multiplicity;\r\n    import org.janusgraph.core.PropertyKey;\r\n    import org.janusgraph.core.schema.JanusGraphManagement;\r\n    import org.slf4j.Logger;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class ObjectCreationCommand implements Runnable {\r\n    \r\n        public static JanusGraph graph;\r\n        private static Triple triple;\r\n        private static MetricRegistry REGISTRY;\r\n        public static Logger LOG;\r\n        private static final String TIMER_LINE = &quot;TravelGraphFactory.line&quot;;\r\n        private static final String TIMER_CREATE = &quot;TravelGraphFactory.create_&quot;;\r\n        private static final String COUNTER_GET = &quot;TravelGraphFactory.get_&quot;;\r\n    \r\n        public ObjectCreationCommand(JanusGraph graph, Triple triple, MetricRegistry REGISTRY, Logger LOG) {\r\n            this.graph = graph;\r\n            this.triple = triple;\r\n            this.REGISTRY = REGISTRY;\r\n            this.LOG = LOG;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n    \r\n            JanusGraphManagement mgmt = graph.openManagement();\r\n            if (mgmt.getGraphIndex(triple.getRightObjectProperty()) == null) {\r\n                final PropertyKey hotelKey = mgmt.makePropertyKey(triple.getRightObjectProperty()).dataType(String.class).make();\r\n                mgmt.buildIndex(triple.getRightObjectProperty(), Vertex.class).addKey(hotelKey).unique().buildCompositeIndex();\r\n            }\r\n    \r\n            if (mgmt.getEdgeLabel(triple.getRelationship()) == null) {\r\n                mgmt.makeEdgeLabel(triple.getRelationship()).multiplicity(Multiplicity.MANY2ONE).make();\r\n            }\r\n    \r\n            if (mgmt.getGraphIndex(triple.getLeftObjectProperty()) == null) {\r\n                final PropertyKey brandTypeKey = mgmt.makePropertyKey(triple.getLeftObjectProperty()).dataType(String.class).make();\r\n                mgmt.buildIndex(triple.getLeftObjectProperty(), Vertex.class).addKey(brandTypeKey).unique().buildCompositeIndex();\r\n            }\r\n            mgmt.commit();\r\n    \r\n            long start = System.currentTimeMillis();\r\n    \r\n            String RIGHT_OBJECT_PROPERTY = triple.getRightObjectProperty();\r\n            Vertex rightObject = graph.addVertex();\r\n            rightObject.property(RIGHT_OBJECT_PROPERTY, triple.getRightObject());\r\n            REGISTRY.counter(COUNTER_GET + RIGHT_OBJECT_PROPERTY).inc();\r\n    \r\n            String LEFT_OBJECT_PROPERTY = triple.getLeftObjectProperty();\r\n            Vertex leftObject = graph.addVertex();\r\n            rightObject.property(LEFT_OBJECT_PROPERTY, triple.getLeftObject());\r\n            REGISTRY.counter(COUNTER_GET + LEFT_OBJECT_PROPERTY).inc();\r\n    \r\n            try {\r\n                processRelationship(graph, triple);\r\n            } catch (Throwable e) {\r\n                Throwable rootCause = ExceptionUtils.getRootCause(e);\r\n                String rootCauseMessage = null == rootCause ? &quot;&quot; : rootCause.getMessage();\r\n                LOG.error(&quot;Error processing line {} {}&quot;, e.getMessage(), rootCauseMessage, e);\r\n            }\r\n    \r\n            long end = System.currentTimeMillis();\r\n            long time = end - start;\r\n            REGISTRY.timer(TIMER_CREATE + RIGHT_OBJECT_PROPERTY).update(time, TimeUnit.MILLISECONDS);\r\n        }\r\n    \r\n        private static void processRelationship(JanusGraph graph, Triple triple) {\r\n            Vertex left = get(graph, triple.getLeftObjectProperty(), triple.getLeftObject());\r\n            if (null == left) {\r\n                REGISTRY.counter(&quot;error.missingLeftObject.&quot; + triple.getLeftObject()).inc();\r\n                left = graph.addVertex();\r\n                left.property(triple.getLeftObjectProperty(), triple.getLeftObject());\r\n            }\r\n            Vertex right = get(graph, triple.getRightObjectProperty(), triple.getRightObject());\r\n            if (null == right) {\r\n                REGISTRY.counter(&quot;error.missingRightObject.&quot; + triple.getRightObject()).inc();\r\n                right = graph.addVertex();\r\n                right.property(triple.getRightObjectProperty(), triple.getRightObject());\r\n            }\r\n            left.addEdge(triple.getRelationship(), right);\r\n        }\r\n    \r\n        private static Vertex get(final JanusGraph graph, final String key, final String value) {\r\n            final GraphTraversalSource g = graph.traversal();\r\n            final Iterator&lt;Vertex&gt; it = g.V().has(key, value);\r\n            return it.hasNext() ? it.next() : null;\r\n        }\r\n    \r\n    }\r\n\r\nThe exceptions above show that all the errors come from lines 47, 55 or 59 of that class:\r\n\r\n    JanusGraphManagement mgmt = graph.openManagement();\r\n    if (mgmt.getGraphIndex(triple.getRightObjectProperty()) == null) {\r\n        [47] final PropertyKey hotelKey = mgmt.makePropertyKey(triple.getRightObjectProperty()).dataType(String.class).make();\r\n        mgmt.buildIndex(triple.getRightObjectProperty(), Vertex.class).addKey(hotelKey).unique().buildCompositeIndex();\r\n    }\r\n\r\n    if (mgmt.getEdgeLabel(triple.getRelationship()) == null) {\r\n        mgmt.makeEdgeLabel(triple.getRelationship()).multiplicity(Multiplicity.MANY2ONE).make();\r\n    }\r\n\r\n    [55] if (mgmt.getGraphIndex(triple.getLeftObjectProperty()) == null) {\r\n        final PropertyKey brandTypeKey = mgmt.makePropertyKey(triple.getLeftObjectProperty()).dataType(String.class).make();\r\n        mgmt.buildIndex(triple.getLeftObjectProperty(), Vertex.class).addKey(brandTypeKey).unique().buildCompositeIndex();\r\n    }\r\n    [59] mgmt.commit();\r\n\r\n\r\nCan anyone help identify what I&#39;m doing wrong in this class? Whatever I&#39;m doing is locking up tables and creating schema problems.","title":"Generalizing DynamoDB + JanusGraph Factory: Lock and Schema Problems","body":"<p>I'm working on generalizing the DynamoDB + JanusGraph tutorial from AWS such that, given a standard .txt file with a standard convention, the program can ingest the data (as a Triple) and create the vertices, properties, and edges. Normally I wouldn't post such a lengthy problem, but it appears that these are all related to 4-5 lines within the same class, ObjectCreationCommand, which I created.</p>\n\n<p>An example Triple looks like this: <code>\"name:Jim Henson \\t isCreatorOf \\t televisionshow:The Muppets\"</code></p>\n\n<ol>\n<li>Left Object: Jim Henson</li>\n<li>Left Object Property: name</li>\n<li>Relationship: isCreatorOf</li>\n<li>Right Object: The Muppets</li>\n<li>Right Object Property: televisionshow</li>\n</ol>\n\n<p>Although the program compiles and runs, I get several exceptions thrown that prevent the graph from being filled. When I run the Factory program, it reads all of my triples and puts them into a Hash Set, but then the following error occurs (10 times, but this is only 1 example):</p>\n\n<pre><code>57338 [pool-10-thread-2] ERROR org.janusgraph.graphdb.database.StandardJanusGraph  - Could not commit transaction [10] due to exception\norg.janusgraph.diskstorage.locking.TemporaryLockingException: tx 0x181404008c7c already locked key-column ( 16-165-160-114-116- 30- 98-114- 97-110-100-116-121-112-229,  0) when tx 0x181408349015 tried to lock\n    at com.amazon.janusgraph.diskstorage.dynamodb.AbstractDynamoDBStore.acquireLock(AbstractDynamoDBStore.java:132)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:155)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:153)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore.runWithMetrics(MetricInstrumentedStore.java:217)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore.acquireLock(MetricInstrumentedStore.java:152)\n    at org.janusgraph.diskstorage.keycolumnvalue.KCVSProxy.acquireLock(KCVSProxy.java:52)\n    at org.janusgraph.diskstorage.BackendTransaction.acquireIndexLock(BackendTransaction.java:255)\n    at org.janusgraph.graphdb.database.StandardJanusGraph.prepareCommit(StandardJanusGraph.java:565)\n    at org.janusgraph.graphdb.database.StandardJanusGraph.commit(StandardJanusGraph.java:694)\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.commit(StandardJanusGraphTx.java:1363)\n    at org.janusgraph.graphdb.database.management.ManagementSystem.commit(ManagementSystem.java:235)\n    at com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:59)\n    at com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>Next, a similar exception is thrown:</p>\n\n<pre><code>57427 [pool-10-thread-10] ERROR com.amazon.janusgraph.example.MarvelGraphFactory  - Error processing line Could not commit transaction due to exception during persistence tx 0x181404008c7c already locked key-column ( 16-165-160-114-116- 30- 98-114- 97-110-100-116-121-112-229,  0) when tx 0x181403f69b77 tried to lock\norg.janusgraph.core.JanusGraphException: Could not commit transaction due to exception during persistence\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.commit(StandardJanusGraphTx.java:1374)\n    at org.janusgraph.graphdb.database.management.ManagementSystem.commit(ManagementSystem.java:235)\n    at com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:59)\n    at com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.janusgraph.core.JanusGraphException: Unexpected exception\n    at org.janusgraph.graphdb.database.StandardJanusGraph.commit(StandardJanusGraph.java:798)\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.commit(StandardJanusGraphTx.java:1363)\n    ... 6 more\nCaused by: org.janusgraph.diskstorage.locking.TemporaryLockingException: tx 0x181404008c7c already locked key-column ( 16-165-160-114-116- 30- 98-114- 97-110-100-116-121-112-229,  0) when tx 0x181403f69b77 tried to lock\n    at com.amazon.janusgraph.diskstorage.dynamodb.AbstractDynamoDBStore.acquireLock(AbstractDynamoDBStore.java:132)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:155)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:153)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore.runWithMetrics(MetricInstrumentedStore.java:217)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore.acquireLock(MetricInstrumentedStore.java:152)\n    at org.janusgraph.diskstorage.keycolumnvalue.KCVSProxy.acquireLock(KCVSProxy.java:52)\n    at org.janusgraph.diskstorage.BackendTransaction.acquireIndexLock(BackendTransaction.java:255)\n    at org.janusgraph.graphdb.database.StandardJanusGraph.prepareCommit(StandardJanusGraph.java:565)\n    at org.janusgraph.graphdb.database.StandardJanusGraph.commit(StandardJanusGraph.java:694)\n    ... 7 more\n</code></pre>\n\n<p>And then a schema-related exception is thrown:</p>\n\n<pre><code>58030 [pool-10-thread-4] ERROR com.amazon.janusgraph.example.MarvelGraphFactory  - Error processing line Adding this property for key [~T$SchemaName] and value [rtbrandtype] violates a uniqueness constraint [SystemIndex#~T$SchemaName] \norg.janusgraph.core.SchemaViolationException: Adding this property for key [~T$SchemaName] and value [rtbrandtype] violates a uniqueness constraint [SystemIndex#~T$SchemaName]\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.addProperty(StandardJanusGraphTx.java:791)\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.addProperty(StandardJanusGraphTx.java:720)\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.makeSchemaVertex(StandardJanusGraphTx.java:847)\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.makePropertyKey(StandardJanusGraphTx.java:867)\n    at org.janusgraph.graphdb.types.StandardPropertyKeyMaker.make(StandardPropertyKeyMaker.java:100)\n    at com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:47)\n    at com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>And lastly, an exception that I really don't understand is thrown:</p>\n\n<pre><code>58512 [pool-10-thread-8] ERROR com.amazon.janusgraph.example.MarvelGraphFactory  - Error processing line Could not find type for id: 11529 \njava.lang.IllegalStateException: Could not find type for id: 11529\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:197)\n    at org.janusgraph.graphdb.types.vertices.JanusGraphSchemaVertex.name(JanusGraphSchemaVertex.java:59)\n    at org.janusgraph.graphdb.types.vertices.JanusGraphSchemaVertex.asIndexType(JanusGraphSchemaVertex.java:177)\n    at org.janusgraph.graphdb.database.management.ManagementSystem.getGraphIndexDirect(ManagementSystem.java:412)\n    at org.janusgraph.graphdb.database.management.ManagementSystem.getGraphIndex(ManagementSystem.java:422)\n    at com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:55)\n    at com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>Because the final transaction is Null, a NullPointerException is thrown and the transaction is never committed; thus, my graph is initialized but empty.</p>\n\n<p>Normally I wouldn't post such a lengthy problem, but it appears that these are all related to 4-5 lines within the same class, ObjectCreationCommand, which I created.</p>\n\n<h1>ObjectCreationCommand.java</h1>\n\n<pre><code>package com.amazon.janusgraph.creator;\n\nimport com.amazon.janusgraph.example.TravelGraphFactory;\nimport com.codahale.metrics.MetricRegistry;\nimport org.apache.commons.lang.exception.ExceptionUtils;\nimport org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.GraphTraversalSource;\nimport org.apache.tinkerpop.gremlin.structure.Vertex;\nimport org.janusgraph.core.JanusGraph;\nimport com.amazon.janusgraph.triple.Triple;\nimport org.janusgraph.core.Multiplicity;\nimport org.janusgraph.core.PropertyKey;\nimport org.janusgraph.core.schema.JanusGraphManagement;\nimport org.slf4j.Logger;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport java.util.concurrent.TimeUnit;\n\npublic class ObjectCreationCommand implements Runnable {\n\n    public static JanusGraph graph;\n    private static Triple triple;\n    private static MetricRegistry REGISTRY;\n    public static Logger LOG;\n    private static final String TIMER_LINE = \"TravelGraphFactory.line\";\n    private static final String TIMER_CREATE = \"TravelGraphFactory.create_\";\n    private static final String COUNTER_GET = \"TravelGraphFactory.get_\";\n\n    public ObjectCreationCommand(JanusGraph graph, Triple triple, MetricRegistry REGISTRY, Logger LOG) {\n        this.graph = graph;\n        this.triple = triple;\n        this.REGISTRY = REGISTRY;\n        this.LOG = LOG;\n    }\n\n    @Override\n    public void run() {\n\n        JanusGraphManagement mgmt = graph.openManagement();\n        if (mgmt.getGraphIndex(triple.getRightObjectProperty()) == null) {\n            final PropertyKey hotelKey = mgmt.makePropertyKey(triple.getRightObjectProperty()).dataType(String.class).make();\n            mgmt.buildIndex(triple.getRightObjectProperty(), Vertex.class).addKey(hotelKey).unique().buildCompositeIndex();\n        }\n\n        if (mgmt.getEdgeLabel(triple.getRelationship()) == null) {\n            mgmt.makeEdgeLabel(triple.getRelationship()).multiplicity(Multiplicity.MANY2ONE).make();\n        }\n\n        if (mgmt.getGraphIndex(triple.getLeftObjectProperty()) == null) {\n            final PropertyKey brandTypeKey = mgmt.makePropertyKey(triple.getLeftObjectProperty()).dataType(String.class).make();\n            mgmt.buildIndex(triple.getLeftObjectProperty(), Vertex.class).addKey(brandTypeKey).unique().buildCompositeIndex();\n        }\n        mgmt.commit();\n\n        long start = System.currentTimeMillis();\n\n        String RIGHT_OBJECT_PROPERTY = triple.getRightObjectProperty();\n        Vertex rightObject = graph.addVertex();\n        rightObject.property(RIGHT_OBJECT_PROPERTY, triple.getRightObject());\n        REGISTRY.counter(COUNTER_GET + RIGHT_OBJECT_PROPERTY).inc();\n\n        String LEFT_OBJECT_PROPERTY = triple.getLeftObjectProperty();\n        Vertex leftObject = graph.addVertex();\n        rightObject.property(LEFT_OBJECT_PROPERTY, triple.getLeftObject());\n        REGISTRY.counter(COUNTER_GET + LEFT_OBJECT_PROPERTY).inc();\n\n        try {\n            processRelationship(graph, triple);\n        } catch (Throwable e) {\n            Throwable rootCause = ExceptionUtils.getRootCause(e);\n            String rootCauseMessage = null == rootCause ? \"\" : rootCause.getMessage();\n            LOG.error(\"Error processing line {} {}\", e.getMessage(), rootCauseMessage, e);\n        }\n\n        long end = System.currentTimeMillis();\n        long time = end - start;\n        REGISTRY.timer(TIMER_CREATE + RIGHT_OBJECT_PROPERTY).update(time, TimeUnit.MILLISECONDS);\n    }\n\n    private static void processRelationship(JanusGraph graph, Triple triple) {\n        Vertex left = get(graph, triple.getLeftObjectProperty(), triple.getLeftObject());\n        if (null == left) {\n            REGISTRY.counter(\"error.missingLeftObject.\" + triple.getLeftObject()).inc();\n            left = graph.addVertex();\n            left.property(triple.getLeftObjectProperty(), triple.getLeftObject());\n        }\n        Vertex right = get(graph, triple.getRightObjectProperty(), triple.getRightObject());\n        if (null == right) {\n            REGISTRY.counter(\"error.missingRightObject.\" + triple.getRightObject()).inc();\n            right = graph.addVertex();\n            right.property(triple.getRightObjectProperty(), triple.getRightObject());\n        }\n        left.addEdge(triple.getRelationship(), right);\n    }\n\n    private static Vertex get(final JanusGraph graph, final String key, final String value) {\n        final GraphTraversalSource g = graph.traversal();\n        final Iterator&lt;Vertex&gt; it = g.V().has(key, value);\n        return it.hasNext() ? it.next() : null;\n    }\n\n}\n</code></pre>\n\n<p>The exceptions above show that all the errors come from lines 47, 55 or 59 of that class:</p>\n\n<pre><code>JanusGraphManagement mgmt = graph.openManagement();\nif (mgmt.getGraphIndex(triple.getRightObjectProperty()) == null) {\n    [47] final PropertyKey hotelKey = mgmt.makePropertyKey(triple.getRightObjectProperty()).dataType(String.class).make();\n    mgmt.buildIndex(triple.getRightObjectProperty(), Vertex.class).addKey(hotelKey).unique().buildCompositeIndex();\n}\n\nif (mgmt.getEdgeLabel(triple.getRelationship()) == null) {\n    mgmt.makeEdgeLabel(triple.getRelationship()).multiplicity(Multiplicity.MANY2ONE).make();\n}\n\n[55] if (mgmt.getGraphIndex(triple.getLeftObjectProperty()) == null) {\n    final PropertyKey brandTypeKey = mgmt.makePropertyKey(triple.getLeftObjectProperty()).dataType(String.class).make();\n    mgmt.buildIndex(triple.getLeftObjectProperty(), Vertex.class).addKey(brandTypeKey).unique().buildCompositeIndex();\n}\n[59] mgmt.commit();\n</code></pre>\n\n<p>Can anyone help identify what I'm doing wrong in this class? Whatever I'm doing is locking up tables and creating schema problems.</p>\n"},{"tags":["java","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1675031806,"post_id":75277407,"comment_id":132835677,"body_markdown":"A 403 means the role ADD_PRODUCT has not been added to the user’s security context. Please add the class that adds this role - named WebSecurityConfig or similar. Also what auth params are set up in postman","body":"A 403 means the role ADD_PRODUCT has not been added to the user’s security context. Please add the class that adds this role - named WebSecurityConfig or similar. Also what auth params are set up in postman"},{"owner":{"account_id":24860398,"reputation":21,"user_id":18736248,"display_name":"Dadaboy Masharipov"},"score":0,"creation_date":1675072977,"post_id":75277407,"comment_id":132842312,"body_markdown":"It has Role ADD_PRODUCT I double checked it.  Bearer Token","body":"It has Role ADD_PRODUCT I double checked it.  Bearer Token"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1675078852,"post_id":75277407,"comment_id":132844090,"body_markdown":"Please add the class that adds this role - named WebSecurityConfig or similar, ie how do the roles in the Bearer Token get into the security context?","body":"Please add the class that adds this role - named WebSecurityConfig or similar, ie how do the roles in the Bearer Token get into the security context?"},{"owner":{"account_id":24860398,"reputation":21,"user_id":18736248,"display_name":"Dadaboy Masharipov"},"score":0,"creation_date":1675082994,"post_id":75277407,"comment_id":132845368,"body_markdown":"Yeah you have a point there \nNow I try  @PreAuthorize(&quot;hasAuthority(&#39;ADD_PRODUCT&#39;)&quot;)","body":"Yeah you have a point there  Now I try  @PreAuthorize(&quot;hasAuthority(&#39;ADD_PRODUCT&#39;)&quot;)"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675083566,"post_id":75277407,"comment_id":132845574,"body_markdown":"Did this fix the 403? If it did I would like to turn my comment into the accepted answer. Can you take the @PreAuthorize out of the question.","body":"Did this fix the 403? If it did I would like to turn my comment into the accepted answer. Can you take the @PreAuthorize out of the question."}],"answers":[{"tags":[],"owner":{"account_id":25643722,"reputation":33,"user_id":19412134,"display_name":"Archibald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675017646,"creation_date":1675017646,"answer_id":75277443,"question_id":75277407,"body_markdown":"The 403 in postman I usually get it when I use ```http``` instead of ```https``` in the URL. I think you can try editing the postman URL or if that doesn&#39;t work try to tell the spring boot app to use simple http.","title":"How to send MultipartFile and Json in spring boot","body":"<p>The 403 in postman I usually get it when I use <code>http</code> instead of <code>https</code> in the URL. I think you can try editing the postman URL or if that doesn't work try to tell the spring boot app to use simple http.</p>\n"}],"owner":{"account_id":24860398,"reputation":21,"user_id":18736248,"display_name":"Dadaboy Masharipov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675328887,"creation_date":1675017307,"question_id":75277407,"body_markdown":"&gt; Here is my controller:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/product&quot;)\r\npublic class ProductController {\r\n\r\n    @Autowired\r\n    ProductService productService;\r\n    \r\n    @PreAuthorize(value = &quot;hasRole(&#39;ADD_PRODUCT&#39;)&quot;)\r\n    @PostMapping(value = &quot;/add&quot;, consumes = {\r\n            MediaType.MULTIPART_FORM_DATA_VALUE,\r\n            MediaType.APPLICATION_JSON_VALUE\r\n    })\r\n    public HttpEntity&lt;?&gt; addProduct(@CurrentUser User user,\r\n                                    @RequestPart(&quot;files&quot;) MultipartFile multipartFile,\r\n                                    @Valid @RequestPart(&quot;info&quot;) ProductDto productDto) {\r\n        ApiResponse apiResponse = productService.addProduct(user, productDto, multipartFile);\r\n        return ResponseEntity.status(apiResponse.isSuccess() ? 201 : 409).body(apiResponse);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIt should receive a `MultipartFile` and `Json object` and my `ProductDto` class is:\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ProductDto {\r\n\r\n    @NotNull(message = &quot;Name can&#39;t be empty&quot;)\r\n    @NotBlank(message = &quot;Name can&#39;t be blank&quot;)\r\n    private String name;\r\n    \r\n    @Length(max = 1000)\r\n    private String description;\r\n    \r\n    \r\n    @NotNull(message = &quot;Price can&#39;t be empty&quot;)\r\n    private double price;//Evaluated in the $\r\n    \r\n    @NotNull(message = &quot;You should choose one of the categories&quot;)\r\n    private UUID categoryId;\r\n\r\n}\r\n```\r\n\r\nI&#39;m finding difficulties when I try to send request:\r\n[![enter image description here](https://i.stack.imgur.com/Q9ZIk.png)](https://i.stack.imgur.com/Q9ZIk.png)\r\n\r\nBut it always giving me `403 Forbidden` and I don&#39;t know the reason.\r\n\r\nThis request is not coming to `addProduct()` method at all and I have permission `&quot;ADD_PRODUCT&quot;`. \r\n\r\n`@CurrentUser` annotation class is:\r\n\r\n```\r\n@Documented\r\n@Retention(value = RetentionPolicy.RUNTIME)\r\n@Target(ElementType.PARAMETER) \r\n@AuthenticationPrincipal\r\npublic @interface CurrentUser { } \r\n```\r\n\r\nNot any error or exception is thrown as well.\r\n\r\nI have tried `@RequestParam` and `@RequestPart` both annotations.\r\n\r\nI want to learn how to deal with situations like this when sending `MultipartFile` and `Json` object simultaneously. \r\n\r\nHow can I do that in `Spring boot`?","title":"How to send MultipartFile and Json in spring boot","body":"<blockquote>\n<p>Here is my controller:</p>\n</blockquote>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/product&quot;)\npublic class ProductController {\n\n    @Autowired\n    ProductService productService;\n    \n    @PreAuthorize(value = &quot;hasRole('ADD_PRODUCT')&quot;)\n    @PostMapping(value = &quot;/add&quot;, consumes = {\n            MediaType.MULTIPART_FORM_DATA_VALUE,\n            MediaType.APPLICATION_JSON_VALUE\n    })\n    public HttpEntity&lt;?&gt; addProduct(@CurrentUser User user,\n                                    @RequestPart(&quot;files&quot;) MultipartFile multipartFile,\n                                    @Valid @RequestPart(&quot;info&quot;) ProductDto productDto) {\n        ApiResponse apiResponse = productService.addProduct(user, productDto, multipartFile);\n        return ResponseEntity.status(apiResponse.isSuccess() ? 201 : 409).body(apiResponse);\n    }\n\n}\n</code></pre>\n<p>It should receive a <code>MultipartFile</code> and <code>Json object</code> and my <code>ProductDto</code> class is:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ProductDto {\n\n    @NotNull(message = &quot;Name can't be empty&quot;)\n    @NotBlank(message = &quot;Name can't be blank&quot;)\n    private String name;\n    \n    @Length(max = 1000)\n    private String description;\n    \n    \n    @NotNull(message = &quot;Price can't be empty&quot;)\n    private double price;//Evaluated in the $\n    \n    @NotNull(message = &quot;You should choose one of the categories&quot;)\n    private UUID categoryId;\n\n}\n</code></pre>\n<p>I'm finding difficulties when I try to send request:\n<a href=\"https://i.stack.imgur.com/Q9ZIk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q9ZIk.png\" alt=\"enter image description here\" /></a></p>\n<p>But it always giving me <code>403 Forbidden</code> and I don't know the reason.</p>\n<p>This request is not coming to <code>addProduct()</code> method at all and I have permission <code>&quot;ADD_PRODUCT&quot;</code>.</p>\n<p><code>@CurrentUser</code> annotation class is:</p>\n<pre><code>@Documented\n@Retention(value = RetentionPolicy.RUNTIME)\n@Target(ElementType.PARAMETER) \n@AuthenticationPrincipal\npublic @interface CurrentUser { } \n</code></pre>\n<p>Not any error or exception is thrown as well.</p>\n<p>I have tried <code>@RequestParam</code> and <code>@RequestPart</code> both annotations.</p>\n<p>I want to learn how to deal with situations like this when sending <code>MultipartFile</code> and <code>Json</code> object simultaneously.</p>\n<p>How can I do that in <code>Spring boot</code>?</p>\n"},{"tags":["java","apache-spark","log4j"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1643777870,"post_id":70950580,"comment_id":125426922,"body_markdown":"The error seems clear to me. You are trying to log a message, using Log4j, from the code of method `processMessages`, in class `processclass` and the pattern you are using is invalid. I suggest that you check the syntax for patterns in Log4j.","body":"The error seems clear to me. You are trying to log a message, using Log4j, from the code of method <code>processMessages</code>, in class <code>processclass</code> and the pattern you are using is invalid. I suggest that you check the syntax for patterns in Log4j."},{"owner":{"account_id":10224720,"reputation":312,"user_id":9552269,"display_name":"Anupam"},"score":0,"creation_date":1643778092,"post_id":70950580,"comment_id":125426946,"body_markdown":"@Abra the issue we don&#39;t use this pattern at all .I have updated the question with the pattern that we uses","body":"@Abra the issue we don&#39;t use this pattern at all .I have updated the question with the pattern that we uses"}],"owner":{"account_id":10224720,"reputation":312,"user_id":9552269,"display_name":"Anupam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675328820,"creation_date":1643776760,"question_id":70950580,"body_markdown":"I am getting this error in my application which is running on EMR \r\nHere  are few details about this error \r\n1. It is not consistent. This error comes once in while (in two days or in a week also).\r\n2. We have tried building JARs from Local /Jenkins/Maven but no luck. Still this errors appears.\r\n3. Verified class in the JAR file and it is present at correct location.\r\n4. It does not look like corrupted jars or class not present issue as this error is not consistent.\r\n\r\nHere is the complete stack trace \r\n\r\n    java.lang.IllegalArgumentException: Cannot parse pattern &#39;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&#39;\r\n    \tat org.apache.logging.log4j.core.layout.PatternLayout$SerializerBuilder.build(PatternLayout.java:490)\r\n    \tat org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(PatternLayout.java:140)\r\n    \tat org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(PatternLayout.java:61)\r\n    \tat org.apache.logging.log4j.core.layout.PatternLayout$Builder.build(PatternLayout.java:770)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.setToDefault(AbstractConfiguration.java:715)\r\n    \tat org.apache.logging.log4j.core.config.DefaultConfiguration.&lt;init&gt;(DefaultConfiguration.java:47)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.&lt;init&gt;(LoggerContext.java:95)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n    \tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n    \tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\r\n    \tat com.company.search.tcp.rdf.jumper.driver.processclass.processMessages(processclass.java:110)\r\n    \tat com.company.search.ecp.tcp.jumper.driver.processclass.lambda$process$5dfe0a07$1(processclass.java:95)\r\n    \tat org.apache.spark.api.java.JavaRDDLike$$anonfun$foreachPartitionAsync$1.apply(JavaRDDLike.scala:741)\r\n    \tat org.apache.spark.api.java.JavaRDDLike$$anonfun$foreachPartitionAsync$1.apply(JavaRDDLike.scala:741)\r\n    \tat org.apache.spark.SparkContext$$anonfun$37.apply(SparkContext.scala:2212)\r\n    \tat org.apache.spark.SparkContext$$anonfun$37.apply(SparkContext.scala:2212)\r\n    \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n    \tat org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n    \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.IllegalStateException: zip file closed\r\n    \tat java.util.zip.ZipFile.ensureOpen(ZipFile.java:690)\r\n    \tat java.util.zip.ZipFile.access$200(ZipFile.java:61)\r\n    \tat java.util.zip.ZipFile$ZipEntryIterator.hasNext(ZipFile.java:512)\r\n    \tat java.util.zip.ZipFile$ZipEntryIterator.hasMoreElements(ZipFile.java:507)\r\n    \tat java.util.jar.JarFile$JarEntryIterator.hasNext(JarFile.java:264)\r\n    \tat java.util.jar.JarFile$JarEntryIterator.hasMoreElements(JarFile.java:273)\r\n    \tat org.apache.logging.log4j.core.config.plugins.util.ResolverUtil.loadImplementationsInJar(ResolverUtil.java:347)\r\n    \tat org.apache.logging.log4j.core.config.plugins.util.ResolverUtil.findInPackage(ResolverUtil.java:233)\r\n    \tat org.apache.logging.log4j.core.config.plugins.util.PluginRegistry.loadFromPackage(PluginRegistry.java:225)\r\n    \tat org.apache.logging.log4j.core.config.plugins.util.PluginManager.collectPlugins(PluginManager.java:136)\r\n    \tat org.apache.logging.log4j.core.pattern.PatternParser.&lt;init&gt;(PatternParser.java:132)\r\n    \tat org.apache.logging.log4j.core.pattern.PatternParser.&lt;init&gt;(PatternParser.java:113)\r\n    \tat org.apache.logging.log4j.core.layout.PatternLayout.createPatternParser(PatternLayout.java:255)\r\n    \tat org.apache.logging.log4j.core.layout.PatternLayout$SerializerBuilder.build(PatternLayout.java:473)\r\n    \t... 29 more\r\n\r\nwe don&#39;t use the pattern mentioned in the error stack trace at all .\r\nWe use below in our code \r\n\r\n    name=&quot;OFF_File_appender&quot;\r\n    fileName=&quot;$${sys:spark.yarn.app.container.log.dir}/log4j2.log&quot;\r\n    filePattern=&quot;$$${sys:spark.yarn.app.container.log.dir}/log4j2.log.%d{yyyy-MM-dd-HH}&quot;\r\n    &gt;\r\n    &lt;PatternLayout pattern=&quot;%d{ISO8601} %-5level %c{3}[%X{currentContext}] - [log4j2] %msg%n&quot;/&gt;","title":"java.lang.IllegalArgumentException: Cannot parse pattern for log back","body":"<p>I am getting this error in my application which is running on EMR\nHere  are few details about this error</p>\n<ol>\n<li>It is not consistent. This error comes once in while (in two days or in a week also).</li>\n<li>We have tried building JARs from Local /Jenkins/Maven but no luck. Still this errors appears.</li>\n<li>Verified class in the JAR file and it is present at correct location.</li>\n<li>It does not look like corrupted jars or class not present issue as this error is not consistent.</li>\n</ol>\n<p>Here is the complete stack trace</p>\n<pre><code>java.lang.IllegalArgumentException: Cannot parse pattern '%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n'\n    at org.apache.logging.log4j.core.layout.PatternLayout$SerializerBuilder.build(PatternLayout.java:490)\n    at org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(PatternLayout.java:140)\n    at org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(PatternLayout.java:61)\n    at org.apache.logging.log4j.core.layout.PatternLayout$Builder.build(PatternLayout.java:770)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.setToDefault(AbstractConfiguration.java:715)\n    at org.apache.logging.log4j.core.config.DefaultConfiguration.&lt;init&gt;(DefaultConfiguration.java:47)\n    at org.apache.logging.log4j.core.LoggerContext.&lt;init&gt;(LoggerContext.java:95)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\n    at com.company.search.tcp.rdf.jumper.driver.processclass.processMessages(processclass.java:110)\n    at com.company.search.ecp.tcp.jumper.driver.processclass.lambda$process$5dfe0a07$1(processclass.java:95)\n    at org.apache.spark.api.java.JavaRDDLike$$anonfun$foreachPartitionAsync$1.apply(JavaRDDLike.scala:741)\n    at org.apache.spark.api.java.JavaRDDLike$$anonfun$foreachPartitionAsync$1.apply(JavaRDDLike.scala:741)\n    at org.apache.spark.SparkContext$$anonfun$37.apply(SparkContext.scala:2212)\n    at org.apache.spark.SparkContext$$anonfun$37.apply(SparkContext.scala:2212)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:123)\n    at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.IllegalStateException: zip file closed\n    at java.util.zip.ZipFile.ensureOpen(ZipFile.java:690)\n    at java.util.zip.ZipFile.access$200(ZipFile.java:61)\n    at java.util.zip.ZipFile$ZipEntryIterator.hasNext(ZipFile.java:512)\n    at java.util.zip.ZipFile$ZipEntryIterator.hasMoreElements(ZipFile.java:507)\n    at java.util.jar.JarFile$JarEntryIterator.hasNext(JarFile.java:264)\n    at java.util.jar.JarFile$JarEntryIterator.hasMoreElements(JarFile.java:273)\n    at org.apache.logging.log4j.core.config.plugins.util.ResolverUtil.loadImplementationsInJar(ResolverUtil.java:347)\n    at org.apache.logging.log4j.core.config.plugins.util.ResolverUtil.findInPackage(ResolverUtil.java:233)\n    at org.apache.logging.log4j.core.config.plugins.util.PluginRegistry.loadFromPackage(PluginRegistry.java:225)\n    at org.apache.logging.log4j.core.config.plugins.util.PluginManager.collectPlugins(PluginManager.java:136)\n    at org.apache.logging.log4j.core.pattern.PatternParser.&lt;init&gt;(PatternParser.java:132)\n    at org.apache.logging.log4j.core.pattern.PatternParser.&lt;init&gt;(PatternParser.java:113)\n    at org.apache.logging.log4j.core.layout.PatternLayout.createPatternParser(PatternLayout.java:255)\n    at org.apache.logging.log4j.core.layout.PatternLayout$SerializerBuilder.build(PatternLayout.java:473)\n    ... 29 more\n</code></pre>\n<p>we don't use the pattern mentioned in the error stack trace at all .\nWe use below in our code</p>\n<pre><code>name=&quot;OFF_File_appender&quot;\nfileName=&quot;$${sys:spark.yarn.app.container.log.dir}/log4j2.log&quot;\nfilePattern=&quot;$$${sys:spark.yarn.app.container.log.dir}/log4j2.log.%d{yyyy-MM-dd-HH}&quot;\n&gt;\n&lt;PatternLayout pattern=&quot;%d{ISO8601} %-5level %c{3}[%X{currentContext}] - [log4j2] %msg%n&quot;/&gt;\n</code></pre>\n"},{"tags":["java","spring","jackson","postman"],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675271833,"creation_date":1675271833,"answer_id":75313864,"question_id":75308762,"body_markdown":"You didn&#39;t mention it, but it appears you&#39;re using `Spring` framework for working with `HTTP` and `Jackson` for `JSON` handling. `Spring` framework actually uses `Jackson` as its default implementation for parsing request and response bodies. `Spring` [docs](https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-json.html):\r\n&gt; Spring Boot provides integration with three JSON mapping libraries:\r\n&gt; * Gson\r\n&gt; * Jackson\r\n&gt; * JSON-B\r\n&gt;\r\n&gt;Jackson is the preferred and default library.\r\n\r\nIt means that each time an `HTTP` request reaches your controller method, `Jackson` parses the raw `HTTP` body into an `Item` object:\r\n```java\r\n@PostMapping\r\npublic void add(@RequestBody Item newItem) {\r\n    //newItem have already parsed from JSON by Jackson\r\n    itemSer.addNewItem(newItem);\r\n}\r\n```\r\n\r\n`Jackson` has a modular design, meaning that it can be extended with modules to provide additional functionality. A module is a collection of serializers, deserializers, and other components that extend Jackson&#39;s capabilities.\r\nFor example, the `JavaTimeModule` provides support for serializing and deserializing `Java 8` date and time classes, such as `LocalDate` and `LocalDateTime`.\r\n\r\nTo use a particular module in Jackson, you simply need to register it with an instance of the `ObjectMapper` class. This can be done with the `registerModule()` method, as shown in the example in your question. \r\n\r\nOnce registered with an `ObjectMapper`, a module&#39;s serializers and deserializers become available for parsing `HTTP` bodies and you can then use `Jackson` annotations like `@JsonFormat` to further customize the serialization and deserialization of specific classes and fields.\r\n\r\nBefore `Java 8`, Jackson supported `Java 6` and `7`, which did not have any built-in date and time classes. So, to handle dates and times, `Jackson` relied on external libraries, such as [Joda Time](https://www.joda.org/joda-time/), or on custom serializers and deserializers that were written by the user.\r\n___\r\n- If you want to learn more about `Jackson`, you can read its official [comprehensive documentation](https://github.com/FasterXML/jackson-docs).\r\n- Here is a `jackson-modules-java8` [GitHub repository](https://github.com/FasterXML/jackson-modules-java8) \r\n- Quite good [thread](https://stackoverflow.com/questions/21384820/is-there-a-jackson-datatype-module-for-jdk8-java-time) is exists that explains how to connect `jackson-datatype-jsr310` module to `Jackson`.\r\n","title":"Post request and &quot;The method received in the request-line is known by the origin server but not supported by the target resource&quot; error","body":"<p>You didn't mention it, but it appears you're using <code>Spring</code> framework for working with <code>HTTP</code> and <code>Jackson</code> for <code>JSON</code> handling. <code>Spring</code> framework actually uses <code>Jackson</code> as its default implementation for parsing request and response bodies. <code>Spring</code> <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-json.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>Spring Boot provides integration with three JSON mapping libraries:</p>\n<ul>\n<li>Gson</li>\n<li>Jackson</li>\n<li>JSON-B</li>\n</ul>\n<p>Jackson is the preferred and default library.</p>\n</blockquote>\n<p>It means that each time an <code>HTTP</code> request reaches your controller method, <code>Jackson</code> parses the raw <code>HTTP</code> body into an <code>Item</code> object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\npublic void add(@RequestBody Item newItem) {\n    //newItem have already parsed from JSON by Jackson\n    itemSer.addNewItem(newItem);\n}\n</code></pre>\n<p><code>Jackson</code> has a modular design, meaning that it can be extended with modules to provide additional functionality. A module is a collection of serializers, deserializers, and other components that extend Jackson's capabilities.\nFor example, the <code>JavaTimeModule</code> provides support for serializing and deserializing <code>Java 8</code> date and time classes, such as <code>LocalDate</code> and <code>LocalDateTime</code>.</p>\n<p>To use a particular module in Jackson, you simply need to register it with an instance of the <code>ObjectMapper</code> class. This can be done with the <code>registerModule()</code> method, as shown in the example in your question.</p>\n<p>Once registered with an <code>ObjectMapper</code>, a module's serializers and deserializers become available for parsing <code>HTTP</code> bodies and you can then use <code>Jackson</code> annotations like <code>@JsonFormat</code> to further customize the serialization and deserialization of specific classes and fields.</p>\n<p>Before <code>Java 8</code>, Jackson supported <code>Java 6</code> and <code>7</code>, which did not have any built-in date and time classes. So, to handle dates and times, <code>Jackson</code> relied on external libraries, such as <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda Time</a>, or on custom serializers and deserializers that were written by the user.</p>\n<hr />\n<ul>\n<li>If you want to learn more about <code>Jackson</code>, you can read its official <a href=\"https://github.com/FasterXML/jackson-docs\" rel=\"nofollow noreferrer\">comprehensive documentation</a>.</li>\n<li>Here is a <code>jackson-modules-java8</code> <a href=\"https://github.com/FasterXML/jackson-modules-java8\" rel=\"nofollow noreferrer\">GitHub repository</a></li>\n<li>Quite good <a href=\"https://stackoverflow.com/questions/21384820/is-there-a-jackson-datatype-module-for-jdk8-java-time\">thread</a> is exists that explains how to connect <code>jackson-datatype-jsr310</code> module to <code>Jackson</code>.</li>\n</ul>\n"}],"owner":{"account_id":18607121,"reputation":11,"user_id":13560480,"display_name":"Testaastopp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675328817,"creation_date":1675247108,"question_id":75308762,"body_markdown":"I am using Postman and learning how to do a POST request to add a new `Item` to the cart and write it to the database. The `Java` code for the item is:\r\n```java\r\npublic class Item  {    \r\n    private int id;\r\n    private String name;\r\n    private String description;\r\n    private LocalDate expired;\r\n}\r\n```\r\nwith getters and setters.\r\n\r\nIn `Spring` framework I have the next method:\r\n```java\r\n@PostMapping\r\npublic void add(@RequestBody Item newItem) {\r\n    itemSer.addNewItem(newItem);\r\n}\r\n```\r\nUsing postman in the body part I selected `raw` -&gt; `json`: (its the result of a `GET` request.)\r\n```json\r\n{\r\n   &quot;id&quot;: 2,\r\n   &quot;name&quot;: &quot;postman&quot;,\r\n   &quot;description&quot;: &quot;postman&quot;,\r\n   &quot;expired&quot;: {\r\n        &quot;year&quot;: 1700,\r\n        &quot;month&quot;: &quot;NOVEMBER&quot;,\r\n        &quot;monthValue&quot;: 11,\r\n        &quot;dayOfMonth&quot;: 21,\r\n        &quot;leapYear&quot;: false,\r\n        &quot;dayOfWeek&quot;: &quot;WEDNESDAY&quot;,\r\n        &quot;dayOfYear&quot;: 325,\r\n        &quot;era&quot;: &quot;CE&quot;,\r\n        &quot;chronology&quot;: {\r\n            &quot;id&quot;: &quot;ISO&quot;,\r\n            &quot;calendarType&quot;: &quot;iso8601&quot;,\r\n            &quot;isoBased&quot;: true\r\n        }\r\n    }\r\n}\r\n```\r\nPostman give me an `405` error but I have no idea why, I am using tomcat 9. Is there same problem also for the date format? \r\n\r\n**EDIT:**\r\n\r\nSo the problem is only on the `LocalDate`, I have to format in a way that is readable by java with a Post request. \r\nSnooping around I did find this solution: [https://stackoverflow.com/questions/45668936/how-to-send-date-in-rest-api-in-post-method][1]\r\n\r\n(if you are using maven)\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nthe add in the AppConfig di spring:\r\n```java\r\n@Bean\r\npublic ObjectMapper createObjectMapper() {  \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(new JavaTimeModule());                \r\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n    return mapper;\r\n}\r\n```\r\nand int the `Itmes` class over the `LocalDate` variable:\r\n```java\r\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\r\nprivate LocalDate date;\r\n```\r\n\r\nthe post is now just looks like the next:\r\n```json\r\n{\r\n    &quot;id&quot;: 2,\r\n    &quot;name&quot;: &quot;postman&quot;,\r\n    &quot;description&quot;: &quot;postman&quot;,\r\n    &quot;expired&quot;: &quot;2030-01-02&quot;\r\n}\r\n```\r\nI still have a question, reading this i did understand generally how it works, where can I find some other info on how this works? or if someone want to explain I am happy to listen.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45668936/how-to-send-date-in-rest-api-in-post-method","title":"Post request and &quot;The method received in the request-line is known by the origin server but not supported by the target resource&quot; error","body":"<p>I am using Postman and learning how to do a POST request to add a new <code>Item</code> to the cart and write it to the database. The <code>Java</code> code for the item is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Item  {    \n    private int id;\n    private String name;\n    private String description;\n    private LocalDate expired;\n}\n</code></pre>\n<p>with getters and setters.</p>\n<p>In <code>Spring</code> framework I have the next method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\npublic void add(@RequestBody Item newItem) {\n    itemSer.addNewItem(newItem);\n}\n</code></pre>\n<p>Using postman in the body part I selected <code>raw</code> -&gt; <code>json</code>: (its the result of a <code>GET</code> request.)</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;id&quot;: 2,\n   &quot;name&quot;: &quot;postman&quot;,\n   &quot;description&quot;: &quot;postman&quot;,\n   &quot;expired&quot;: {\n        &quot;year&quot;: 1700,\n        &quot;month&quot;: &quot;NOVEMBER&quot;,\n        &quot;monthValue&quot;: 11,\n        &quot;dayOfMonth&quot;: 21,\n        &quot;leapYear&quot;: false,\n        &quot;dayOfWeek&quot;: &quot;WEDNESDAY&quot;,\n        &quot;dayOfYear&quot;: 325,\n        &quot;era&quot;: &quot;CE&quot;,\n        &quot;chronology&quot;: {\n            &quot;id&quot;: &quot;ISO&quot;,\n            &quot;calendarType&quot;: &quot;iso8601&quot;,\n            &quot;isoBased&quot;: true\n        }\n    }\n}\n</code></pre>\n<p>Postman give me an <code>405</code> error but I have no idea why, I am using tomcat 9. Is there same problem also for the date format?</p>\n<p><strong>EDIT:</strong></p>\n<p>So the problem is only on the <code>LocalDate</code>, I have to format in a way that is readable by java with a Post request.\nSnooping around I did find this solution: <a href=\"https://stackoverflow.com/questions/45668936/how-to-send-date-in-rest-api-in-post-method\">How to send Date in REST API in POST method</a></p>\n<p>(if you are using maven)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>the add in the AppConfig di spring:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ObjectMapper createObjectMapper() {  \n    ObjectMapper mapper = new ObjectMapper();\n    mapper.registerModule(new JavaTimeModule());                \n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n    return mapper;\n}\n</code></pre>\n<p>and int the <code>Itmes</code> class over the <code>LocalDate</code> variable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\nprivate LocalDate date;\n</code></pre>\n<p>the post is now just looks like the next:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;postman&quot;,\n    &quot;description&quot;: &quot;postman&quot;,\n    &quot;expired&quot;: &quot;2030-01-02&quot;\n}\n</code></pre>\n<p>I still have a question, reading this i did understand generally how it works, where can I find some other info on how this works? or if someone want to explain I am happy to listen.</p>\n"},{"tags":["java","unit-testing","junit","paramterized"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673751451,"post_id":75122633,"comment_id":132567238,"body_markdown":"Does this answer your question? [Conditionally skip a Junit 5 test](https://stackoverflow.com/questions/60689337/conditionally-skip-a-junit-5-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60689337/conditionally-skip-a-junit-5-test\">Conditionally skip a Junit 5 test</a>"},{"owner":{"account_id":12035975,"reputation":87,"user_id":8804476,"display_name":"anggor"},"score":0,"creation_date":1673751740,"post_id":75122633,"comment_id":132567275,"body_markdown":"The result is the same. ```Assumptions.assumeTrue()/assumeFalse()``` is the simplified version of my code and output the exception ```org.opentest4j.TestAbortedException: Assumption failed: assumption is not true```","body":"The result is the same. <code>Assumptions.assumeTrue()&#47;assumeFalse()</code> is the simplified version of my code and output the exception <code>org.opentest4j.TestAbortedException: Assumption failed: assumption is not true</code>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673772538,"post_id":75122633,"comment_id":132569209,"body_markdown":"What is the problem you are encountering with your solution or `Assumptions.assumeTrue()`?","body":"What is the problem you are encountering with your solution or <code>Assumptions.assumeTrue()</code>?"},{"owner":{"account_id":12035975,"reputation":87,"user_id":8804476,"display_name":"anggor"},"score":0,"creation_date":1673773395,"post_id":75122633,"comment_id":132569334,"body_markdown":"My solution and ```Assumptions.assumeTrue()``` will throw exception which will resulting in ```Test failed```. I only want to skip the test.","body":"My solution and <code>Assumptions.assumeTrue()</code> will throw exception which will resulting in <code>Test failed</code>. I only want to skip the test."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674903513,"post_id":75122633,"comment_id":132815878,"body_markdown":"@anggor `Assumptions.assumeTrue()`&#39;s exception will be handled specially by the junit framework and mark the test as skipped, not failed.","body":"@anggor <code>Assumptions.assumeTrue()</code>&#39;s exception will be handled specially by the junit framework and mark the test as skipped, not failed."},{"owner":{"account_id":12035975,"reputation":87,"user_id":8804476,"display_name":"anggor"},"score":0,"creation_date":1675328542,"post_id":75122633,"comment_id":132906293,"body_markdown":"@knittl I beg to differ. Please to updated question. I uploaded the result when I&#39;m using ```Assumptions.assumeTrue()```","body":"@knittl I beg to differ. Please to updated question. I uploaded the result when I&#39;m using <code>Assumptions.assumeTrue()</code>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1675340631,"post_id":75122633,"comment_id":132910240,"body_markdown":"@anggor [Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"@anggor <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1675340731,"post_id":75122633,"comment_id":132910281,"body_markdown":"@anggorif you look closely, you see that you are not using `Assumptions` from JUnit 5 (`org.junit.jupiter.api.Assumptions`), but from `org.opentest4j`. Fix your imports, use the correct classes. (Sorry for only noticing now, I should have noticed that from your second comment already: it contains the wrong package name)","body":"@anggorif you look closely, you see that you are not using <code>Assumptions</code> from JUnit 5 (<code>org.junit.jupiter.api.Assumptions</code>), but from <code>org.opentest4j</code>. Fix your imports, use the correct classes. (Sorry for only noticing now, I should have noticed that from your second comment already: it contains the wrong package name)"}],"owner":{"account_id":12035975,"reputation":87,"user_id":8804476,"display_name":"anggor"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675328621,"creation_date":1673751183,"question_id":75122633,"body_markdown":"I want to try to stop the test when the ```param == 3```. I found a way to achieve this by using ```Disable()```. However, this approach uses ```throw```. Is there any way I can do this without throwing exceptions?\r\n\r\nThe idea is,```@RunWith(Parameterized.class)```annotation will make sure all the tests run according to how many values I have, in this case, 3.  ```getPdInit_Level1_SUCCESS```does not have a level 3 user but another test, example ```getPdInit_Level3_SUCCESS``` contain implementation until level 3. So I only want to run ```getPdInit_Level1_SUCCESS``` 2 times and  ```getPdInit_Level3_SUCCESS``` 3 times. \r\n\r\n```\r\nprivate static class Disable {\r\n        \r\n        private final Object[] arguments;\r\n        \r\n        private Disable(Object[] arguments) {\r\n            this.arguments = arguments;\r\n        }\r\n        \r\n        public static Disable when(Object... arguments) {\r\n            return new Disable(arguments);\r\n        }\r\n        \r\n        public Disable is(Object... values) {\r\n            if (Arrays.equals(arguments, values))\r\n                throw new TestAbortedException(&quot;Test aborted for arguments &quot; + Arrays.toString(values));\r\n            return this;\r\n        }\r\n        \r\n    }\r\n\r\n```\r\n\r\n```\r\n        @Parameterized.Parameter(value = 0)\r\n        public int fInput;\r\n        \r\n        @Parameterized.Parameter(value = 1)\r\n        public int fOutput;\r\n        \r\n        @Parameterized.Parameters\r\n        public static Collection userLevel() {\r\n            return Arrays.asList(new Object[][]{\r\n                    {1, 3},\r\n                    {2, 2},\r\n                    {3, 3},\r\n            });\r\n        }\r\n\r\n```\r\n\r\n```\r\n        @Test\r\n        public void getPdInit_Level1_SUCCESS() {\r\n        \r\n            Disable.when(fInput, fOutput)\r\n                    .is(3, 3);\r\n            \r\n            //Real test here\r\n}\r\n\r\n```\r\n\r\nWhen using ```Assumptions.assumeTrue()```, this is what I get :[![Test Result][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cR5Vo.png","title":"How to stop/skip Parameterize test without throwing exception?","body":"<p>I want to try to stop the test when the <code>param == 3</code>. I found a way to achieve this by using <code>Disable()</code>. However, this approach uses <code>throw</code>. Is there any way I can do this without throwing exceptions?</p>\n<p>The idea is,<code>@RunWith(Parameterized.class)</code>annotation will make sure all the tests run according to how many values I have, in this case, 3.  <code>getPdInit_Level1_SUCCESS</code>does not have a level 3 user but another test, example <code>getPdInit_Level3_SUCCESS</code> contain implementation until level 3. So I only want to run <code>getPdInit_Level1_SUCCESS</code> 2 times and  <code>getPdInit_Level3_SUCCESS</code> 3 times.</p>\n<pre><code>private static class Disable {\n        \n        private final Object[] arguments;\n        \n        private Disable(Object[] arguments) {\n            this.arguments = arguments;\n        }\n        \n        public static Disable when(Object... arguments) {\n            return new Disable(arguments);\n        }\n        \n        public Disable is(Object... values) {\n            if (Arrays.equals(arguments, values))\n                throw new TestAbortedException(&quot;Test aborted for arguments &quot; + Arrays.toString(values));\n            return this;\n        }\n        \n    }\n\n</code></pre>\n<pre><code>        @Parameterized.Parameter(value = 0)\n        public int fInput;\n        \n        @Parameterized.Parameter(value = 1)\n        public int fOutput;\n        \n        @Parameterized.Parameters\n        public static Collection userLevel() {\n            return Arrays.asList(new Object[][]{\n                    {1, 3},\n                    {2, 2},\n                    {3, 3},\n            });\n        }\n\n</code></pre>\n<pre><code>        @Test\n        public void getPdInit_Level1_SUCCESS() {\n        \n            Disable.when(fInput, fOutput)\n                    .is(3, 3);\n            \n            //Real test here\n}\n\n</code></pre>\n<p>When using <code>Assumptions.assumeTrue()</code>, this is what I get :<a href=\"https://i.stack.imgur.com/cR5Vo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cR5Vo.png\" alt=\"Test Result\" /></a></p>\n"},{"tags":["java","spring-boot","ssl","websocket","ssl-certificate"],"owner":{"account_id":27683247,"reputation":1,"user_id":21131548,"display_name":"Биба Щепа"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675328552,"creation_date":1675328432,"question_id":75320746,"body_markdown":"I am using dependency\r\n\r\n```\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n&lt;version&gt;3.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand can&#39;t disable self-signed certificate verification\r\n\r\nMy code\r\n\r\n```\r\n        StandardWebSocketClient client = new StandardWebSocketClient();\r\n        client.setUserProperties(Map.of(Constants.SSL_CONTEXT_PROPERTY, sslContext));\r\n\r\n        WebSocketStompClient stompClient = new WebSocketStompClient(client);\r\n        stompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n        stompClient.setInboundMessageSizeLimit(200000);\r\n\r\n        ClientWebsocketHandler sessionHandler = new ClientWebsocketHandler();\r\n        WebSocketHttpHeaders handshakeHeaders = new WebSocketHttpHeaders();\r\n        StompHeaders connectHeaders = new StompHeaders();\r\n        connectHeaders.add(&quot;username&quot;, &quot;username&quot;);\r\n        connectHeaders.add(&quot;password&quot;, &quot;password&quot;);\r\n        ListenableFuture&lt;StompSession&gt; connect = stompClient.connect(&quot;wss://111.111.11.111:8080/chat&quot;, handshakeHeaders, connectHeaders,                sessionHandler);\r\n```\r\n\r\ni always get an error\r\n&gt; Caused by: javax.net.ssl.SSLHandshakeException: No subject alternative names present\r\n\r\nBrowser connects successfully http://jxy.me/websocket-debug-tool/\r\n\r\ni tried different ways\r\ni added certificate with cacerts jdk\r\n\r\n\r\n```\r\n private static void disableSslVerification() {\r\n        try {\r\n            // Create a trust manager that does not validate certificate chains\r\n            TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\r\n                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                    return null;\r\n                }\r\n\r\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n\r\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n            }\r\n            };\r\n\r\n            // Install the all-trusting trust manager\r\n            SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\r\n            // Create all-trusting host name verifier\r\n            HostnameVerifier allHostsValid = (hostname, session) -&gt; true;\r\n\r\n            // Install the all-trusting host verifier\r\n            HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\r\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n \r\n```\r\nStandardWebSocketClient client = new StandardWebSocketClient();\r\n        client.setUserProperties(Map.of(Constants.SSL_CONTEXT_PROPERTY, sslContext));\r\n```\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b2tAi.png","title":"How to disable SSL validation in spring-boot-starter-websocket","body":"<p>I am using dependency</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n&lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and can't disable self-signed certificate verification</p>\n<p>My code</p>\n<pre><code>        StandardWebSocketClient client = new StandardWebSocketClient();\n        client.setUserProperties(Map.of(Constants.SSL_CONTEXT_PROPERTY, sslContext));\n\n        WebSocketStompClient stompClient = new WebSocketStompClient(client);\n        stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n        stompClient.setInboundMessageSizeLimit(200000);\n\n        ClientWebsocketHandler sessionHandler = new ClientWebsocketHandler();\n        WebSocketHttpHeaders handshakeHeaders = new WebSocketHttpHeaders();\n        StompHeaders connectHeaders = new StompHeaders();\n        connectHeaders.add(&quot;username&quot;, &quot;username&quot;);\n        connectHeaders.add(&quot;password&quot;, &quot;password&quot;);\n        ListenableFuture&lt;StompSession&gt; connect = stompClient.connect(&quot;wss://111.111.11.111:8080/chat&quot;, handshakeHeaders, connectHeaders,                sessionHandler);\n</code></pre>\n<p>i always get an error</p>\n<blockquote>\n<p>Caused by: javax.net.ssl.SSLHandshakeException: No subject alternative names present</p>\n</blockquote>\n<p>Browser connects successfully <a href=\"http://jxy.me/websocket-debug-tool/\" rel=\"nofollow noreferrer\">http://jxy.me/websocket-debug-tool/</a></p>\n<p>i tried different ways\ni added certificate with cacerts jdk</p>\n<pre><code> private static void disableSslVerification() {\n        try {\n            // Create a trust manager that does not validate certificate chains\n            TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\n                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                    return null;\n                }\n\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                }\n\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                }\n            }\n            };\n\n            // Install the all-trusting trust manager\n            SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\n            sc.init(null, trustAllCerts, new java.security.SecureRandom());\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\n            // Create all-trusting host name verifier\n            HostnameVerifier allHostsValid = (hostname, session) -&gt; true;\n\n            // Install the all-trusting host verifier\n            HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<pre><code>StandardWebSocketClient client = new StandardWebSocketClient();\n        client.setUserProperties(Map.of(Constants.SSL_CONTEXT_PROPERTY, sslContext));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/b2tAi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["javascript","java","spring-data-jpa","thymeleaf"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1675323996,"post_id":75319148,"comment_id":132905106,"body_markdown":"you need something like `&lt;img th:src=&quot;${person.image}&quot;&gt;&lt;/img&gt;`","body":"you need something like <code>&lt;img th:src=&quot;${person.image}&quot;&gt;&lt;&#47;img&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675328527,"creation_date":1675328527,"answer_id":75320766,"question_id":75319148,"body_markdown":"Before running `th:each=&quot;person : ${persons}&quot;`, you can/should also check the list to not be empty: `th:if=&quot;${not #lists.isEmpty(persons)}&quot;.\r\n\r\nBut to the image question: If your `person` has a field with the URI to the required image (e.g. a relative/absolute path to a data folder or a URL to an image hosted online), you can just &quot;copy&quot; the HTML syntax and add a `th:` in front of it: `&lt;img th:src=&quot;${person.imageUrl}&quot; /&gt;`\r\n\r\nCheers","title":"How to display an image using it&#39;s URL with Thymeleaf?","body":"<p>Before running <code>th:each=&quot;person : ${persons}&quot;</code>, you can/should also check the list to not be empty: `th:if=&quot;${not #lists.isEmpty(persons)}&quot;.</p>\n<p>But to the image question: If your <code>person</code> has a field with the URI to the required image (e.g. a relative/absolute path to a data folder or a URL to an image hosted online), you can just &quot;copy&quot; the HTML syntax and add a <code>th:</code> in front of it: <code>&lt;img th:src=&quot;${person.imageUrl}&quot; /&gt;</code></p>\n<p>Cheers</p>\n"}],"owner":{"account_id":23289938,"reputation":15,"user_id":17372169,"display_name":"lostInCodeKeys"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675328527,"creation_date":1675317018,"question_id":75319148,"body_markdown":"I&#39;m currently trying to display the actual image instead of it&#39;s URL using Java Spring, MySQL and Thymeleaf.  I have a class that gets the url as a string from the database.\r\n\r\n    @Entity\r\n    @Table(name=&quot;person&quot;)\r\n    public class Person{\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(name=&quot;id&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name=&quot;name&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@Column(name=&quot;image&quot;)\r\n\tprivate String image;\r\n\t\r\n\t@Column(name=&quot;number&quot;)\r\n\tprivate int number;\r\n\r\nIn the html form I have: \r\n\r\n    \t&lt;table class=&quot;table table-bordered table-striped&quot;&gt;\r\n\t\t&lt;thead class=&quot;thead-dark&quot;&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t  &lt;!-- table headings --&gt;\r\n\t\t\t\t&lt;th&gt;Name&lt;/th&gt;\r\n\t\t\t\t&lt;th&gt;Image&lt;/th&gt;\r\n\t\t\t\t&lt;th&gt;Number&lt;/th&gt;\t\t\t\t\r\n\t\t\t&lt;/tr&gt;\t\r\n\t\t&lt;/thead&gt;\r\n\t\t\r\n\t\t\r\n\t\t&lt;tbody&gt;\r\n\t\t\t&lt;!-- Looping over data --&gt;\r\n\t\t\t&lt;tr th:each=&quot;person: ${person}&quot;&gt;\r\n\t\t\t\r\n\t\t\t\t&lt;td th:text=&quot;${person.name}&quot; /&gt;\r\n\t\t\t\t&lt;td th:text=&quot;${person.image}&quot; /&gt;\r\n\t\t\t\t&lt;td th:text=&quot;${person.number}&quot; /&gt;\r\n\r\n\t\t\t\t&lt;td&gt;\r\n\t\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\t\r\n\t\t&lt;/tbody&gt;\r\n\t\r\n\t&lt;/table&gt;\r\n\r\nWhat thymeleaf expression or javascript code would I need to display the image at the url as opposed to just the URL string?","title":"How to display an image using it&#39;s URL with Thymeleaf?","body":"<p>I'm currently trying to display the actual image instead of it's URL using Java Spring, MySQL and Thymeleaf.  I have a class that gets the url as a string from the database.</p>\n<pre><code>@Entity\n@Table(name=&quot;person&quot;)\npublic class Person{\n\n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\n@Column(name=&quot;id&quot;)\nprivate int id;\n\n@Column(name=&quot;name&quot;)\nprivate String name;\n\n@Column(name=&quot;image&quot;)\nprivate String image;\n\n@Column(name=&quot;number&quot;)\nprivate int number;\n</code></pre>\n<p>In the html form I have:</p>\n<pre><code>    &lt;table class=&quot;table table-bordered table-striped&quot;&gt;\n    &lt;thead class=&quot;thead-dark&quot;&gt;\n        &lt;tr&gt;\n          &lt;!-- table headings --&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;Image&lt;/th&gt;\n            &lt;th&gt;Number&lt;/th&gt;             \n        &lt;/tr&gt;   \n    &lt;/thead&gt;\n    \n    \n    &lt;tbody&gt;\n        &lt;!-- Looping over data --&gt;\n        &lt;tr th:each=&quot;person: ${person}&quot;&gt;\n        \n            &lt;td th:text=&quot;${person.name}&quot; /&gt;\n            &lt;td th:text=&quot;${person.image}&quot; /&gt;\n            &lt;td th:text=&quot;${person.number}&quot; /&gt;\n\n            &lt;td&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;   \n    &lt;/tbody&gt;\n\n&lt;/table&gt;\n</code></pre>\n<p>What thymeleaf expression or javascript code would I need to display the image at the url as opposed to just the URL string?</p>\n"},{"tags":["java","apache-kafka"],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675328361,"creation_date":1675328361,"question_id":75320723,"body_markdown":"I have a simple kafka producer\r\n```\r\npublic class JavaKafkaProducerExample {\r\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\r\n        String server = &quot;localhost:9092&quot;;\r\n        String topicName = &quot;test.topic&quot;;\r\n\r\n        final Properties props = new Properties();\r\n\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, LongSerializer.class.getName());\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n\r\n        try (final Producer&lt;Long, String&gt; producer = new KafkaProducer&lt;&gt;(props);) {\r\n            RecordMetadata recordMetadata = (RecordMetadata) producer.send(new ProducerRecord(topicName, &quot;example message&quot;)).get(1000, TimeUnit.MILLISECONDS);\r\n            if (recordMetadata.hasOffset()) System.out.println(&quot;Message sent successfully&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n```\r\nDependencies:\r\n```\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n```\r\n\r\nI expected that if kafka is unavailable, then `send().get(timeout)` will be interrupted by `timeout`, but I get the error `java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 60000 ms.` only after 60 seconds. Why doesn&#39;t &#39;get(timeout)&#39; work? How can I reduce the time to error? Is it possible to do this programmatically or only by changing the producer parameters?","title":"Why is &quot;kafkaProducer.send().get(timeout)&quot; not working?","body":"<p>I have a simple kafka producer</p>\n<pre><code>public class JavaKafkaProducerExample {\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        String server = &quot;localhost:9092&quot;;\n        String topicName = &quot;test.topic&quot;;\n\n        final Properties props = new Properties();\n\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, LongSerializer.class.getName());\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n\n        try (final Producer&lt;Long, String&gt; producer = new KafkaProducer&lt;&gt;(props);) {\n            RecordMetadata recordMetadata = (RecordMetadata) producer.send(new ProducerRecord(topicName, &quot;example message&quot;)).get(1000, TimeUnit.MILLISECONDS);\n            if (recordMetadata.hasOffset()) System.out.println(&quot;Message sent successfully&quot;);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n                &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n                &lt;version&gt;2.1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>I expected that if kafka is unavailable, then <code>send().get(timeout)</code> will be interrupted by <code>timeout</code>, but I get the error <code>java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 60000 ms.</code> only after 60 seconds. Why doesn't 'get(timeout)' work? How can I reduce the time to error? Is it possible to do this programmatically or only by changing the producer parameters?</p>\n"},{"tags":["java","android","android-bottomsheetdialog","bottomsheetdialogfragment"],"comments":[{"owner":{"account_id":4539491,"reputation":1258,"user_id":3687784,"display_name":"Suhaib Raadan"},"score":0,"creation_date":1607584188,"post_id":65229758,"comment_id":115319637,"body_markdown":"define ActionBottomDialogFragment  outside override function..","body":"define ActionBottomDialogFragment  outside override function.."}],"answers":[{"tags":[],"owner":{"account_id":9540434,"reputation":499,"user_id":8483843,"display_name":"tronku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607584215,"creation_date":1607584215,"answer_id":65229936,"question_id":65229758,"body_markdown":"UI will be always created again when you call `show()`. It&#39;s better to use a `sharedViewModel` in `bottomSheetFragment` and the parent activity/fragment. You should save the fields being selected in the viewmodel and use it the bottomSheet. This way the state will be maintained.","title":"How to show/hide BottomSheetDialogFragment without recreating it?","body":"<p>UI will be always created again when you call <code>show()</code>. It's better to use a <code>sharedViewModel</code> in <code>bottomSheetFragment</code> and the parent activity/fragment. You should save the fields being selected in the viewmodel and use it the bottomSheet. This way the state will be maintained.</p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675328136,"creation_date":1675328136,"answer_id":75320679,"question_id":65229758,"body_markdown":"You can use [show()][1] &amp; [hide()][2] of the dialog itself; this will keep the fragment alive.\r\n\r\nSo, in your case:\r\n\r\nTo show it:\r\n\r\n```\r\nActionBottomDialogFragment dialogFragment;\r\n\r\nshowButton.setOnClickListener(new View.OnClickListener() {\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t\tif (dialogFragment == null) {\r\n\t\t\t dialogFragment = ActionBottomDialogFragment.newInstance();\r\n\t\t\t dialogFragment.show(getActivity().getSupportFragmentManager(), ActionBottomDialogFragment.TAG);\r\n\t\t} else {\r\n\t\t   dialogFragment.getDialog().show();\r\n\t\t}\r\n\t}\r\n});\r\n```\r\n\r\nAnd to hide it:\r\n```\r\nImageButton close = view.findViewById(R.id.closeButton);\r\n        close.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n               dialogFragment.getDialog().hide();\r\n            }\r\n        });\r\n```\r\n\r\n\r\nBut this requires to handle the side effects when dismissing the fragments using the back button and when touching outside.\r\n\r\nHere&#39;s a custom DialogFragment that handles that:\r\n\r\n```\r\npublic class BottomSheet extends BottomSheetDialogFragment {\r\n\r\n    public BottomSheet() {\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.bottom_sheet_layout, container, false);\r\n        return view;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n        return new BottomSheetDialog(requireContext(), getTheme()) {\r\n            @Override\r\n            public void onBackPressed() {\r\n                getDialog().hide();\r\n            }\r\n        };\r\n]\r\n    }\r\n\r\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n\t\t\r\n        setCancelable(false);\r\n        getDialog().setCanceledOnTouchOutside(false);\r\n\r\n        final View outsideView =\r\n                requireDialog().findViewById(com.google.android.material.R.id.touch_outside);\r\n\r\n        outsideView.setOnTouchListener((v, event) -&gt; {\r\n            if (event.getAction() == MotionEvent.ACTION_UP)\r\n                getDialog().hide();\r\n            return false;\r\n        });\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Dialog#show()\r\n  [2]: https://developer.android.com/reference/android/app/Dialog#hide()","title":"How to show/hide BottomSheetDialogFragment without recreating it?","body":"<p>You can use <a href=\"https://developer.android.com/reference/android/app/Dialog#show()\" rel=\"nofollow noreferrer\">show()</a> &amp; <a href=\"https://developer.android.com/reference/android/app/Dialog#hide()\" rel=\"nofollow noreferrer\">hide()</a> of the dialog itself; this will keep the fragment alive.</p>\n<p>So, in your case:</p>\n<p>To show it:</p>\n<pre><code>ActionBottomDialogFragment dialogFragment;\n\nshowButton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        if (dialogFragment == null) {\n             dialogFragment = ActionBottomDialogFragment.newInstance();\n             dialogFragment.show(getActivity().getSupportFragmentManager(), ActionBottomDialogFragment.TAG);\n        } else {\n           dialogFragment.getDialog().show();\n        }\n    }\n});\n</code></pre>\n<p>And to hide it:</p>\n<pre><code>ImageButton close = view.findViewById(R.id.closeButton);\n        close.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n               dialogFragment.getDialog().hide();\n            }\n        });\n</code></pre>\n<p>But this requires to handle the side effects when dismissing the fragments using the back button and when touching outside.</p>\n<p>Here's a custom DialogFragment that handles that:</p>\n<pre><code>public class BottomSheet extends BottomSheetDialogFragment {\n\n    public BottomSheet() {\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.bottom_sheet_layout, container, false);\n        return view;\n    }\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n        return new BottomSheetDialog(requireContext(), getTheme()) {\n            @Override\n            public void onBackPressed() {\n                getDialog().hide();\n            }\n        };\n]\n    }\n\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    @Override\n    public void onStart() {\n        super.onStart();\n        \n        setCancelable(false);\n        getDialog().setCanceledOnTouchOutside(false);\n\n        final View outsideView =\n                requireDialog().findViewById(com.google.android.material.R.id.touch_outside);\n\n        outsideView.setOnTouchListener((v, event) -&gt; {\n            if (event.getAction() == MotionEvent.ACTION_UP)\n                getDialog().hide();\n            return false;\n        });\n\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3915501,"reputation":986,"user_id":3239405,"accept_rate":64,"display_name":"Biswas Khayargoli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1778,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675328205,"creation_date":1607583259,"question_id":65229758,"body_markdown":"I am using `BottomSheetDialogFragment` in my android app. I am using Java. I show the `bottomsheet` by:\r\n\r\n \r\n\r\n     ActionBottomDialogFragment dialogFragment = ActionBottomDialogFragment.newInstance();\r\n    \r\n            showButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    dialogFragment.show(getActivity().getSupportFragmentManager(), ActionBottomDialogFragment.TAG);\r\n                }\r\n            });\r\n\r\nWhat I see is it calls `onCreateDialog` method and then calls `onViewCreated` methods. For the first time this is okay.\r\n\r\nNow I hide the bottom sheet using:\r\n\r\n    ImageButton close = view.findViewById(R.id.closeButton);\r\n            close.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    dismiss();\r\n                }\r\n            });\r\n\r\n\r\nThen when I press the show button again, it calls `onCreateDialog` method again. I have a dynamic list of choice chips which I want the state to be just as I left it. If I left it on checking &#39;Choice A&#39;, it should show up selected the next time I open the bottom sheet. I need the state to be maintained. \r\n\r\nWhat is happening is it rebuilds the choice chips from start, so the state is lost.\r\n\r\nHow can I just show / hide the bottom sheet without recreating?\r\n\r\n","title":"How to show/hide BottomSheetDialogFragment without recreating it?","body":"<p>I am using <code>BottomSheetDialogFragment</code> in my android app. I am using Java. I show the <code>bottomsheet</code> by:</p>\n<pre><code> ActionBottomDialogFragment dialogFragment = ActionBottomDialogFragment.newInstance();\n\n        showButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                dialogFragment.show(getActivity().getSupportFragmentManager(), ActionBottomDialogFragment.TAG);\n            }\n        });\n</code></pre>\n<p>What I see is it calls <code>onCreateDialog</code> method and then calls <code>onViewCreated</code> methods. For the first time this is okay.</p>\n<p>Now I hide the bottom sheet using:</p>\n<pre><code>ImageButton close = view.findViewById(R.id.closeButton);\n        close.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                dismiss();\n            }\n        });\n</code></pre>\n<p>Then when I press the show button again, it calls <code>onCreateDialog</code> method again. I have a dynamic list of choice chips which I want the state to be just as I left it. If I left it on checking 'Choice A', it should show up selected the next time I open the bottom sheet. I need the state to be maintained.</p>\n<p>What is happening is it rebuilds the choice chips from start, so the state is lost.</p>\n<p>How can I just show / hide the bottom sheet without recreating?</p>\n"},{"tags":["java","npm","intellij-idea","vaadin-flow"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":0,"creation_date":1675184668,"post_id":75300423,"comment_id":132872398,"body_markdown":"Something looks off. How could you have a running / working 21.x version without the vaadin-maven-plugin? Adding the flow-maven-plugin should never be done. Always use the vaadin-maven-plugin. Additionally it&#39;s highly highly recommended to use the Vaadin BOM which&#39;s version is identical to the vaadin-maven-plugin.","body":"Something looks off. How could you have a running / working 21.x version without the vaadin-maven-plugin? Adding the flow-maven-plugin should never be done. Always use the vaadin-maven-plugin. Additionally it&#39;s highly highly recommended to use the Vaadin BOM which&#39;s version is identical to the vaadin-maven-plugin."},{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":4,"creation_date":1675184807,"post_id":75300423,"comment_id":132872437,"body_markdown":"Additionally, see: https://stackoverflow.com/questions/74889950/vaadin-doesnt-show-up-after-upgrade-from-23-2-10-to-23-3-1 - you are upgrading to a not-supported Spring Boot version. (This solves your issue)","body":"Additionally, see: <a href=\"https://stackoverflow.com/questions/74889950/vaadin-doesnt-show-up-after-upgrade-from-23-2-10-to-23-3-1\" title=\"vaadin doesnt show up after upgrade from 23 2 10 to 23 3 1\">stackoverflow.com/questions/74889950/&hellip;</a> - you are upgrading to a not-supported Spring Boot version. (This solves your issue)"},{"owner":{"account_id":15426288,"reputation":1199,"user_id":11982497,"display_name":"Tarek Oraby"},"score":1,"creation_date":1675186109,"post_id":75300423,"comment_id":132872836,"body_markdown":"I was bitten by the same issue today. The logs should show an error: https://github.com/vaadin/flow/issues/15792.","body":"I was bitten by the same issue today. The logs should show an error: <a href=\"https://github.com/vaadin/flow/issues/15792\" rel=\"nofollow noreferrer\">github.com/vaadin/flow/issues/15792</a>."},{"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"score":0,"creation_date":1675252072,"post_id":75300423,"comment_id":132887243,"body_markdown":"you were right @Knoobie. I had the vaadin-maven-plugin and tried the flow-maven-plugin in an attempt to get it running. It was the Boot version that needed to be 2.7.x or higher. Although, footnote on that: the upgrade guide mentioned 2.6.6 as being sufficient... If you convert your comment to an answer, I&#39;ll gladly accept.","body":"you were right @Knoobie. I had the vaadin-maven-plugin and tried the flow-maven-plugin in an attempt to get it running. It was the Boot version that needed to be 2.7.x or higher. Although, footnote on that: the upgrade guide mentioned 2.6.6 as being sufficient... If you convert your comment to an answer, I&#39;ll gladly accept."},{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":1,"creation_date":1675282224,"post_id":75300423,"comment_id":132897485,"body_markdown":"All good! Tarek has also created an enchantment tickets for the docs to make sure less people stumble upon this.","body":"All good! Tarek has also created an enchantment tickets for the docs to make sure less people stumble upon this."}],"answers":[{"tags":[],"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675328150,"creation_date":1675328150,"answer_id":75320680,"question_id":75300423,"body_markdown":"all credit to [@Knoobie][1] whose [concise answer][2] contained the correct solution. \r\n\r\n**Vaadin 23.3.x requires at least 2.7.x** in order to work. \r\n\r\nThe Vaadin upgrade guide generator, when looking at the steps to migrate from v21 to v23,  mistakenly referenced the minimum version of SpringBoot as 2.6.6. They will fix this in the immediate future.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1662997/knoobie\r\n  [2]: https://stackoverflow.com/a/74901088/10376405","title":"Vaadin 23 not resolving URL&#39;s, instead showing errorpage","body":"<p>all credit to <a href=\"https://stackoverflow.com/users/1662997/knoobie\">@Knoobie</a> whose <a href=\"https://stackoverflow.com/a/74901088/10376405\">concise answer</a> contained the correct solution.</p>\n<p><strong>Vaadin 23.3.x requires at least 2.7.x</strong> in order to work.</p>\n<p>The Vaadin upgrade guide generator, when looking at the steps to migrate from v21 to v23,  mistakenly referenced the minimum version of SpringBoot as 2.6.6. They will fix this in the immediate future.</p>\n"}],"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75320680,"answer_count":1,"score":3,"last_activity_date":1675328150,"creation_date":1675183742,"question_id":75300423,"body_markdown":"*Problem summary:* we&#39;ve upgraded our Java 17 monolith application with multiple modules from Vaadin 21.0.1 to 23.3.5 and now our application routes don&#39;t resolve anymore, instead resulting in 404 Whitelabel errorpages. \r\nThis not being our first Vaadin rodeo (originating from Vaadin 7), we followed the [Vaadin upgrade guide generator](https://vaadin.com/docs/latest/upgrading/upgrade-tool/?from=14&amp;to=23&amp;isFlow=true&amp;isFusion=false&amp;isSpring=true&amp;isTypeScript=false&amp;isCustomStyling=false&amp;isInstructionsDisplayed=false) and expanded accordingly upon that. \r\n\r\n*Steps we took, each having been validated seperately:*\r\n- Upgraded our backend to use Spring 5.3.18 (coming from 5.3.10). No issue there\r\n- Upgraded our frontend to use Spring Boot 2.6.7 (coming from 2.5.4). No issue there\r\n- **this step was project-specific and not in the guide** Removed Vaadin-addons from pom.xml. Also removed those imports from our package.json. Naturally removed all addons-code from application (EnhancedDialog and MultiselectComboBox -&gt; using v23&#39;s regular Dialog and MultiSelectComboBox)\r\n- Removed webpack.config.js, package-lock.json and the node_modules folder\r\n- Raised global (-g) npm version to 9.4.0 (coming from 8.3.3)\r\n- Cleared npm with commandline *npm cache clear --force*\r\n- Upgraded the Vaadin flow version to 23.3.5 (coming from 21.0.1)\r\n- added the following dependency and reloaded the pom.xml: \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;flow-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;23.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n- Invalidated and restarted IntelliJ\r\n- ran clean-install Maven command through IntelliJ (with Production flag on/off makes no difference)\r\n\r\n-&gt; This results in a 404 whitelabel errorpage. \r\n\r\nNext, I made sure that all our views annotated with com.vaadin.flow.router.*@Route* contained at least the javax.annotation.security.*@PermitAll* annotation.\r\nI added *spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration* to our application.properties trying to get a more descriptive message. \r\n\r\n-&gt; This results in the Apache Tomcat errorpage with description: &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot;\r\nIn both cases, the F12 DevTools are empty and showing nothing more than a 404 for the given URL.\r\n\r\nSo I continued debugging and validated that our custom security roles were validated correctly, a bit like this [answer](https://stackoverflow.com/a/72009196/10376405) hinted at.\r\nI&#39;m getting into the breakpoints placed in the *configure(HttpSecurity http)* method from the WebSecurityConfigurerAdapter, but I&#39;m unable to enter the *serviceInit(ServiceInitEvent event)* from the VaadinServiceInitListener.\r\nI&#39;m not a pro concerning servletRequests, but when hitting the *isFrameworkInternalRequest(HttpServletRequest request)* (called during the adapter&#39;s configuration), it seems only logical that for REQUEST_TYPE_PARAMETER a value of **null** is returned. \r\n\r\nI was intrigued by these upgrade steps for an even [higher Vaadin version](https://stackoverflow.com/a/74905364/10376405), but nothing in there changed a bit for me.\r\n\r\nWhen asked, I&#39;d say that Spring isn&#39;t picking up on my views. Even the older @EnableVaadin() annotation did nothing. At this point I can&#39;t think straight anymore, even looking into the change of why Vaadin now uses *vite.config.ts* instead of *webpack.config.js*. Any pointers to where the issue might lay are immensely appreciated.\r\n","title":"Vaadin 23 not resolving URL&#39;s, instead showing errorpage","body":"<p><em>Problem summary:</em> we've upgraded our Java 17 monolith application with multiple modules from Vaadin 21.0.1 to 23.3.5 and now our application routes don't resolve anymore, instead resulting in 404 Whitelabel errorpages.\nThis not being our first Vaadin rodeo (originating from Vaadin 7), we followed the <a href=\"https://vaadin.com/docs/latest/upgrading/upgrade-tool/?from=14&amp;to=23&amp;isFlow=true&amp;isFusion=false&amp;isSpring=true&amp;isTypeScript=false&amp;isCustomStyling=false&amp;isInstructionsDisplayed=false\" rel=\"nofollow noreferrer\">Vaadin upgrade guide generator</a> and expanded accordingly upon that.</p>\n<p><em>Steps we took, each having been validated seperately:</em></p>\n<ul>\n<li>Upgraded our backend to use Spring 5.3.18 (coming from 5.3.10). No issue there</li>\n<li>Upgraded our frontend to use Spring Boot 2.6.7 (coming from 2.5.4). No issue there</li>\n<li><strong>this step was project-specific and not in the guide</strong> Removed Vaadin-addons from pom.xml. Also removed those imports from our package.json. Naturally removed all addons-code from application (EnhancedDialog and MultiselectComboBox -&gt; using v23's regular Dialog and MultiSelectComboBox)</li>\n<li>Removed webpack.config.js, package-lock.json and the node_modules folder</li>\n<li>Raised global (-g) npm version to 9.4.0 (coming from 8.3.3)</li>\n<li>Cleared npm with commandline <em>npm cache clear --force</em></li>\n<li>Upgraded the Vaadin flow version to 23.3.5 (coming from 21.0.1)</li>\n<li>added the following dependency and reloaded the pom.xml:</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n    &lt;artifactId&gt;flow-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;23.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>Invalidated and restarted IntelliJ</li>\n<li>ran clean-install Maven command through IntelliJ (with Production flag on/off makes no difference)</li>\n</ul>\n<p>-&gt; This results in a 404 whitelabel errorpage.</p>\n<p>Next, I made sure that all our views annotated with com.vaadin.flow.router.<em>@Route</em> contained at least the javax.annotation.security.<em>@PermitAll</em> annotation.\nI added <em>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration</em> to our application.properties trying to get a more descriptive message.</p>\n<p>-&gt; This results in the Apache Tomcat errorpage with description: &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot;\nIn both cases, the F12 DevTools are empty and showing nothing more than a 404 for the given URL.</p>\n<p>So I continued debugging and validated that our custom security roles were validated correctly, a bit like this <a href=\"https://stackoverflow.com/a/72009196/10376405\">answer</a> hinted at.\nI'm getting into the breakpoints placed in the <em>configure(HttpSecurity http)</em> method from the WebSecurityConfigurerAdapter, but I'm unable to enter the <em>serviceInit(ServiceInitEvent event)</em> from the VaadinServiceInitListener.\nI'm not a pro concerning servletRequests, but when hitting the <em>isFrameworkInternalRequest(HttpServletRequest request)</em> (called during the adapter's configuration), it seems only logical that for REQUEST_TYPE_PARAMETER a value of <strong>null</strong> is returned.</p>\n<p>I was intrigued by these upgrade steps for an even <a href=\"https://stackoverflow.com/a/74905364/10376405\">higher Vaadin version</a>, but nothing in there changed a bit for me.</p>\n<p>When asked, I'd say that Spring isn't picking up on my views. Even the older @EnableVaadin() annotation did nothing. At this point I can't think straight anymore, even looking into the change of why Vaadin now uses <em>vite.config.ts</em> instead of <em>webpack.config.js</em>. Any pointers to where the issue might lay are immensely appreciated.</p>\n"},{"tags":["java","xml","xstream"],"owner":{"account_id":14632846,"reputation":1,"user_id":10568046,"display_name":"discombobulatedBumblebee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675327199,"creation_date":1675326800,"question_id":75320443,"body_markdown":"I&#39;m using XStream 1.4.9 to create XML from POJO classes. By default XStream escapes special characters like &#39;&gt;&#39;, &#39;&lt;&#39; etc. Additionally it doubles underscore characters in element and attribute names. I need to disable this behaviour. \r\nI was able to get rid of double underscores basing on this solution:\r\n\r\nhttps://stackoverflow.com/questions/9333035/xstream-and-underscores\r\n\r\nDisabling character escaping works with this solution:\r\n\r\nhttps://stackoverflow.com/questions/2891305/how-can-i-disable-unnecessary-escaping-in-xstream\r\n\r\nBut I&#39;m struggling with combining these approaches to achieve both goals in the same time.\r\n\r\nI created custom Writer class ommiting character escaping:\r\n\r\n```\r\npublic class NoEscapeWriter extends PrettyPrintWriter {\r\n\r\n    public NoEscapeWriter(Writer writer) {\r\n        super(writer);\r\n    }\r\n\r\n    @Override\r\n    protected void writeText(QuickWriter writer, String text) {\r\n        writer.write(text);\r\n    }\r\n}\r\n```\r\n\r\nI implemented class extending DomDriver overriding `createWriter()` method and injecting `XmlFriendlyNameCoder` to its super class:\r\n\r\n```\r\npublic class CustomDriver extends DomDriver {\r\n\r\n        public CustomDriver() {\r\n            super(&quot;UTF-8&quot;, new XmlFriendlyNameCoder(&quot;_-&quot;, &quot;_&quot;));\r\n        }\r\n\r\n        @Override\r\n        public HierarchicalStreamWriter createWriter(Writer out) {\r\n            return new NoEscapeWriter(out);\r\n        }\r\n}\r\n```\r\n\r\nAnd I&#39;m generating XML with XStream like this:\r\n\r\n```\r\nXStream xStream = new XStream(new CustomDriver());\r\nxStream.processAnnotations(RootElement.class);\r\nfinal String s = xStream.toXML(root);\r\n```\r\n\r\nAlthough it ommits character escaping as expected, it still generates output with double underscores like this:\r\n\r\n```\r\n&lt;ROOT&gt;\r\n    &lt;TEST__ID&gt;&lt;![CDATA[]]&gt;&lt;/TEST__ID&gt;\r\n    &lt;MULTIPLE__PART__NAME&gt;&lt;![CDATA[]]&gt;&lt;/MULTIPLE__PART__NAME&gt;\r\n&lt;/ROOT&gt;\r\n```\r\n\r\nI tried to extend DomDriver to inject XmlFriendlyNameCoder(&quot;_-&quot;, &quot;_&quot;) to ommit double underscore problem and  overriding `createWriter()` method to disable character escaping","title":"XStream double underscores and character escaping","body":"<p>I'm using XStream 1.4.9 to create XML from POJO classes. By default XStream escapes special characters like '&gt;', '&lt;' etc. Additionally it doubles underscore characters in element and attribute names. I need to disable this behaviour.\nI was able to get rid of double underscores basing on this solution:</p>\n<p><a href=\"https://stackoverflow.com/questions/9333035/xstream-and-underscores\">XStream and underscores</a></p>\n<p>Disabling character escaping works with this solution:</p>\n<p><a href=\"https://stackoverflow.com/questions/2891305/how-can-i-disable-unnecessary-escaping-in-xstream\">How can I disable unnecessary escaping in XStream?</a></p>\n<p>But I'm struggling with combining these approaches to achieve both goals in the same time.</p>\n<p>I created custom Writer class ommiting character escaping:</p>\n<pre><code>public class NoEscapeWriter extends PrettyPrintWriter {\n\n    public NoEscapeWriter(Writer writer) {\n        super(writer);\n    }\n\n    @Override\n    protected void writeText(QuickWriter writer, String text) {\n        writer.write(text);\n    }\n}\n</code></pre>\n<p>I implemented class extending DomDriver overriding <code>createWriter()</code> method and injecting <code>XmlFriendlyNameCoder</code> to its super class:</p>\n<pre><code>public class CustomDriver extends DomDriver {\n\n        public CustomDriver() {\n            super(&quot;UTF-8&quot;, new XmlFriendlyNameCoder(&quot;_-&quot;, &quot;_&quot;));\n        }\n\n        @Override\n        public HierarchicalStreamWriter createWriter(Writer out) {\n            return new NoEscapeWriter(out);\n        }\n}\n</code></pre>\n<p>And I'm generating XML with XStream like this:</p>\n<pre><code>XStream xStream = new XStream(new CustomDriver());\nxStream.processAnnotations(RootElement.class);\nfinal String s = xStream.toXML(root);\n</code></pre>\n<p>Although it ommits character escaping as expected, it still generates output with double underscores like this:</p>\n<pre><code>&lt;ROOT&gt;\n    &lt;TEST__ID&gt;&lt;![CDATA[]]&gt;&lt;/TEST__ID&gt;\n    &lt;MULTIPLE__PART__NAME&gt;&lt;![CDATA[]]&gt;&lt;/MULTIPLE__PART__NAME&gt;\n&lt;/ROOT&gt;\n</code></pre>\n<p>I tried to extend DomDriver to inject XmlFriendlyNameCoder(&quot;<em>-&quot;, &quot;</em>&quot;) to ommit double underscore problem and  overriding <code>createWriter()</code> method to disable character escaping</p>\n"},{"tags":["java","gson"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675278108,"creation_date":1675278108,"answer_id":75314980,"question_id":75314627,"body_markdown":"I did exactly that and it appears to work:\r\n\r\n\tString stringifiedList = &quot;[\\&quot;value0\\&quot;]&quot;;\r\n\r\n\tList&lt;String&gt; array = gson.fromJson(stringifiedList, new TypeToken&lt;ArrayList&lt;String&gt;&gt;(){ }.getType());\r\n\r\n\tSystem.out.println(array);\r\n\r\n\r\n\r\nOutput\r\n\r\n    [value0]\r\n\r\nIt doesn&#39;t effect the functionality but it is better practice to use `TypeToken&lt;List&lt;String&gt;&gt;` than `TypeToken&lt;ArrayList&lt;String&gt;&gt;`","title":"How to convert a stringified value (from JS) into a List in Java using Gson?","body":"<p>I did exactly that and it appears to work:</p>\n<pre><code>String stringifiedList = &quot;[\\&quot;value0\\&quot;]&quot;;\n\nList&lt;String&gt; array = gson.fromJson(stringifiedList, new TypeToken&lt;ArrayList&lt;String&gt;&gt;(){ }.getType());\n\nSystem.out.println(array);\n</code></pre>\n<p>Output</p>\n<pre><code>[value0]\n</code></pre>\n<p>It doesn't effect the functionality but it is better practice to use <code>TypeToken&lt;List&lt;String&gt;&gt;</code> than <code>TypeToken&lt;ArrayList&lt;String&gt;&gt;</code></p>\n"}],"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675327068,"creation_date":1675276190,"question_id":75314627,"body_markdown":"I have this value that is being passed as a string `&quot;[\\&quot;value0\\&quot;]&quot;`\r\nI want to derive the following `List&lt;String&gt;`, `[&quot;value0&quot;]`\r\n\r\nHow to do that using Java and Gson?\r\n\r\nWhat I have tried is following and is not working:\r\n\r\n```java\r\nArrayList&lt;String&gt; values = gson.fromJson(stringifiedList, new TypeToken&lt;ArrayList&lt;String&gt;&gt;(){ }.getType());\r\n```\r\n\r\nEDIT: the error message is:\r\n\r\n    Request processing failed: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 2 path $] with root cause\r\n\r\nThanks","title":"How to convert a stringified value (from JS) into a List in Java using Gson?","body":"<p>I have this value that is being passed as a string <code>&quot;[\\&quot;value0\\&quot;]&quot;</code>\nI want to derive the following <code>List&lt;String&gt;</code>, <code>[&quot;value0&quot;]</code></p>\n<p>How to do that using Java and Gson?</p>\n<p>What I have tried is following and is not working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; values = gson.fromJson(stringifiedList, new TypeToken&lt;ArrayList&lt;String&gt;&gt;(){ }.getType());\n</code></pre>\n<p>EDIT: the error message is:</p>\n<pre><code>Request processing failed: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 2 path $] with root cause\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":6843,"reputation":60258,"user_id":11635,"accept_rate":56,"display_name":"Ruben Bartelink"},"score":2,"creation_date":1257260707,"post_id":1667854,"comment_id":1540883,"body_markdown":"See also http://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping","body":"See also <a href=\"http://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping\" title=\"any tool for java object to object mapping\">stackoverflow.com/questions/1432764/&hellip;</a>"},{"owner":{"account_id":21642,"reputation":4097,"user_id":52767,"accept_rate":86,"display_name":"Shaun"},"score":0,"creation_date":1257260858,"post_id":1667854,"comment_id":111221967,"body_markdown":"Yeah or the BeanUtils from Apache Jakarta.","body":"Yeah or the BeanUtils from Apache Jakarta."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1562175699,"post_id":1667854,"comment_id":100299399,"body_markdown":"See also [How do I copy an object in Java?](https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java)","body":"See also <a href=\"https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java\">How do I copy an object in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6843,"reputation":60258,"user_id":11635,"accept_rate":56,"display_name":"Ruben Bartelink"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353325469,"creation_date":1257260664,"answer_id":1667885,"question_id":1667854,"body_markdown":"[Dozer](http://dozer.sourceforge.net/)\r\n\r\nUPDATE Nov 19 2012: There&#39;s now a [new ModelMapper project][1] too.\r\n\r\n  [1]: http://www.infoq.com/news/2012/11/modelmapper","title":"Copy all values from fields in one class to another through reflection","body":"<p><a href=\"http://dozer.sourceforge.net/\" rel=\"nofollow noreferrer\">Dozer</a></p>\n\n<p>UPDATE Nov 19 2012: There's now a <a href=\"http://www.infoq.com/news/2012/11/modelmapper\" rel=\"nofollow noreferrer\">new ModelMapper project</a> too.</p>\n"},{"tags":[],"owner":{"account_id":29184,"reputation":3210,"user_id":78633,"display_name":"Greg Case"},"down_vote_count":2,"up_vote_count":120,"is_accepted":true,"score":118,"last_activity_date":1469983964,"creation_date":1257260875,"answer_id":1667911,"question_id":1667854,"body_markdown":"If you don&#39;t mind using a third party library, [BeanUtils][1] from Apache Commons will handle this quite easily, using `copyProperties(Object, Object)`.\r\n\r\n\r\n  [1]: http://commons.apache.org/beanutils/","title":"Copy all values from fields in one class to another through reflection","body":"<p>If you don't mind using a third party library, <a href=\"http://commons.apache.org/beanutils/\" rel=\"noreferrer\">BeanUtils</a> from Apache Commons will handle this quite easily, using <code>copyProperties(Object, Object)</code>.</p>\n"},{"tags":[],"owner":{"account_id":13566,"reputation":48835,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1257261297,"creation_date":1257261297,"answer_id":1667948,"question_id":1667854,"body_markdown":"The first argument to `tooF.set()` should be the target object (`too`), not the field, and the second argument should be the _value_, not the field the value comes from. (To get the value, you need to call `fromF.get()` -- again passing in a target object, in this case `from`.) \r\n\r\nMost of the reflection API works this way. You get `Field` objects, `Method` objects, and so on from the class, not from an instance, so to use them (except for statics) you generally need to pass them an instance.","title":"Copy all values from fields in one class to another through reflection","body":"<p>The first argument to <code>tooF.set()</code> should be the target object (<code>too</code>), not the field, and the second argument should be the <em>value</em>, not the field the value comes from. (To get the value, you need to call <code>fromF.get()</code> -- again passing in a target object, in this case <code>from</code>.) </p>\n\n<p>Most of the reflection API works this way. You get <code>Field</code> objects, <code>Method</code> objects, and so on from the class, not from an instance, so to use them (except for statics) you generally need to pass them an instance.</p>\n"},{"tags":[],"owner":{"account_id":1041028,"reputation":2683,"user_id":1047052,"display_name":"Supun Sameera"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1323682195,"creation_date":1321342709,"answer_id":8132962,"question_id":1667854,"body_markdown":"BeanUtils will only copy public fields and is a bit slow. Instead go with getter and setter methods.\r\n\t\r\n\r\n    public Object loadData (RideHotelsService object_a) throws Exception{\r\n    \t\t\t\t\t\r\n    \t\tMethod[] gettersAndSetters = object_a.getClass().getMethods();\r\n    \r\n    \t\tfor (int i = 0; i &lt; gettersAndSetters.length; i++) {\r\n    \t            String methodName = gettersAndSetters[i].getName();\r\n                    try{\r\n                      if(methodName.startsWith(&quot;get&quot;)){\r\n                         this.getClass().getMethod(methodName.replaceFirst(&quot;get&quot;, &quot;set&quot;) , gettersAndSetters[i].getReturnType() ).invoke(this, gettersAndSetters[i].invoke(object_a, null));\r\n    \t\t\t\t\t\t}else if(methodName.startsWith(&quot;is&quot;) ){\r\n    \t\t\t\t\t\t\tthis.getClass().getMethod(methodName.replaceFirst(&quot;is&quot;, &quot;set&quot;) ,  gettersAndSetters[i].getReturnType()  ).invoke(this, gettersAndSetters[i].invoke(object_a, null));\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t}catch (NoSuchMethodException e) {\r\n    \t\t\t\t\t// TODO: handle exception\r\n    \t\t\t\t}catch (IllegalArgumentException e) {\r\n    \t\t\t\t\t// TODO: handle exception\r\n    \t\t\t\t}\r\n    \r\n    \t\t}\r\n    \t\t\r\n    \t\treturn null;\r\n    \t}","title":"Copy all values from fields in one class to another through reflection","body":"<p>BeanUtils will only copy public fields and is a bit slow. Instead go with getter and setter methods.</p>\n\n<pre><code>public Object loadData (RideHotelsService object_a) throws Exception{\n\n        Method[] gettersAndSetters = object_a.getClass().getMethods();\n\n        for (int i = 0; i &lt; gettersAndSetters.length; i++) {\n                String methodName = gettersAndSetters[i].getName();\n                try{\n                  if(methodName.startsWith(\"get\")){\n                     this.getClass().getMethod(methodName.replaceFirst(\"get\", \"set\") , gettersAndSetters[i].getReturnType() ).invoke(this, gettersAndSetters[i].invoke(object_a, null));\n                        }else if(methodName.startsWith(\"is\") ){\n                            this.getClass().getMethod(methodName.replaceFirst(\"is\", \"set\") ,  gettersAndSetters[i].getReturnType()  ).invoke(this, gettersAndSetters[i].invoke(object_a, null));\n                        }\n\n                }catch (NoSuchMethodException e) {\n                    // TODO: handle exception\n                }catch (IllegalArgumentException e) {\n                    // TODO: handle exception\n                }\n\n        }\n\n        return null;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1484409,"reputation":12963,"user_id":1392956,"accept_rate":62,"display_name":"Priyank Doshi"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1337251242,"creation_date":1337251242,"answer_id":10634179,"question_id":1667854,"body_markdown":"I think you can try [dozer][1]. It has good support for bean to bean conversion.\r\nIts also easy to use. You can either inject it into your spring application or add the jar in class path and its done.\r\n\r\n  [1]: http://dozer.sourceforge.net/documentation/gettingstarted.html\r\n\r\nFor an example of your case : \r\n\r\n     DozerMapper mapper = new DozerMapper();\r\n    A a= new A();\r\n    CopyA copyA = new CopyA();\r\n    a.set... // set fields of a.\r\n    mapper.map(a,copyOfA); // will copy all fields from a to copyA\r\n","title":"Copy all values from fields in one class to another through reflection","body":"<p>I think you can try <a href=\"http://dozer.sourceforge.net/documentation/gettingstarted.html\" rel=\"nofollow\">dozer</a>. It has good support for bean to bean conversion.\nIts also easy to use. You can either inject it into your spring application or add the jar in class path and its done.</p>\n\n<p>For an example of your case : </p>\n\n<pre><code> DozerMapper mapper = new DozerMapper();\nA a= new A();\nCopyA copyA = new CopyA();\na.set... // set fields of a.\nmapper.map(a,copyOfA); // will copy all fields from a to copyA\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4404488,"reputation":346,"user_id":3589280,"display_name":"Nagappan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438225975,"creation_date":1420640356,"answer_id":27821477,"question_id":1667854,"body_markdown":"Orika&#39;s is simple faster bean mapping framework because it does through byte code generation. It does nested mappings and mappings with different names. For more details, please [check here][1]\r\nSample mapping may look complex, but for complex scenarios it would be simple.\r\n\r\n    MapperFactory factory = new DefaultMapperFactory.Builder().build();\r\n    mapperFactory.registerClassMap(mapperFactory.classMap(Book.class,BookDto.class).byDefault().toClassMap());\r\n    MapperFacade mapper = factory.getMapperFacade();\r\n    BookDto bookDto = mapperFacade.map(book, BookDto.class);\r\n\r\n\r\n  [1]: https://code.google.com/p/orika/","title":"Copy all values from fields in one class to another through reflection","body":"<p>Orika's is simple faster bean mapping framework because it does through byte code generation. It does nested mappings and mappings with different names. For more details, please <a href=\"https://code.google.com/p/orika/\" rel=\"nofollow\">check here</a>\nSample mapping may look complex, but for complex scenarios it would be simple.</p>\n\n<pre><code>MapperFactory factory = new DefaultMapperFactory.Builder().build();\nmapperFactory.registerClassMap(mapperFactory.classMap(Book.class,BookDto.class).byDefault().toClassMap());\nMapperFacade mapper = factory.getMapperFacade();\nBookDto bookDto = mapperFacade.map(book, BookDto.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":161801,"reputation":3081,"user_id":1537394,"accept_rate":18,"display_name":"Mladen Adamovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423074487,"creation_date":1423074487,"answer_id":28328699,"question_id":1667854,"body_markdown":"I didn&#39;t want to add dependency to another JAR file because of this, so wrote something which would suit my needs. I follow the convention of fjorm https://code.google.com/p/fjorm/ which means that my generally accessible fields are public and that I don&#39;t bother to write setters and getters. (in my opinion code is easier to manage and more readable actually)\r\n\r\nSo I wrote something (it&#39;s not actually much difficult) which suits my needs (assumes that the class has public constructor without args) and it could be extracted into utility class\r\n\r\n      public Effect copyUsingReflection() {\r\n        Constructor constructorToUse = null;\r\n        for (Constructor constructor : this.getClass().getConstructors()) {\r\n          if (constructor.getParameterTypes().length == 0) {\r\n            constructorToUse = constructor;\r\n            constructorToUse.setAccessible(true);\r\n          }\r\n        }\r\n        if (constructorToUse != null) {\r\n          try {\r\n            Effect copyOfEffect = (Effect) constructorToUse.newInstance();\r\n            for (Field field : this.getClass().getFields()) {\r\n              try {\r\n                Object valueToCopy = field.get(this);\r\n                //if it has field of the same type (Effect in this case), call the method to copy it recursively\r\n                if (valueToCopy instanceof Effect) {\r\n                  valueToCopy = ((Effect) valueToCopy).copyUsingReflection();\r\n                }\r\n                //TODO add here other special types of fields, like Maps, Lists, etc.\r\n                field.set(copyOfEffect, valueToCopy);\r\n              } catch (IllegalArgumentException | IllegalAccessException ex) {\r\n                Logger.getLogger(Effect.class.getName()).log(Level.SEVERE, null, ex);\r\n              }\r\n            }\r\n            return copyOfEffect;\r\n          } catch (InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException ex) {\r\n            Logger.getLogger(Effect.class.getName()).log(Level.SEVERE, null, ex);\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n\r\n","title":"Copy all values from fields in one class to another through reflection","body":"<p>I didn't want to add dependency to another JAR file because of this, so wrote something which would suit my needs. I follow the convention of fjorm <a href=\"https://code.google.com/p/fjorm/\" rel=\"nofollow\">https://code.google.com/p/fjorm/</a> which means that my generally accessible fields are public and that I don't bother to write setters and getters. (in my opinion code is easier to manage and more readable actually)</p>\n\n<p>So I wrote something (it's not actually much difficult) which suits my needs (assumes that the class has public constructor without args) and it could be extracted into utility class</p>\n\n<pre><code>  public Effect copyUsingReflection() {\n    Constructor constructorToUse = null;\n    for (Constructor constructor : this.getClass().getConstructors()) {\n      if (constructor.getParameterTypes().length == 0) {\n        constructorToUse = constructor;\n        constructorToUse.setAccessible(true);\n      }\n    }\n    if (constructorToUse != null) {\n      try {\n        Effect copyOfEffect = (Effect) constructorToUse.newInstance();\n        for (Field field : this.getClass().getFields()) {\n          try {\n            Object valueToCopy = field.get(this);\n            //if it has field of the same type (Effect in this case), call the method to copy it recursively\n            if (valueToCopy instanceof Effect) {\n              valueToCopy = ((Effect) valueToCopy).copyUsingReflection();\n            }\n            //TODO add here other special types of fields, like Maps, Lists, etc.\n            field.set(copyOfEffect, valueToCopy);\n          } catch (IllegalArgumentException | IllegalAccessException ex) {\n            Logger.getLogger(Effect.class.getName()).log(Level.SEVERE, null, ex);\n          }\n        }\n        return copyOfEffect;\n      } catch (InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException ex) {\n        Logger.getLogger(Effect.class.getName()).log(Level.SEVERE, null, ex);\n      }\n    }\n    return null;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3454186,"reputation":47,"user_id":2893032,"display_name":"Darkhan Iskakov"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1505828187,"creation_date":1429175751,"answer_id":29670311,"question_id":1667854,"body_markdown":"1. Without using BeanUtils or Apache Commons\r\n\r\n\r\n2. \r\n\r\n        public static &lt;T1 extends Object, T2 extends Object&gt;  void copy(T1     \r\n        origEntity, T2 destEntity) throws IllegalAccessException, NoSuchFieldException {\r\n            Field[] fields = origEntity.getClass().getDeclaredFields();\r\n            for (Field field : fields){\r\n                origFields.set(destEntity, field.get(origEntity));\r\n             }\r\n        }","title":"Copy all values from fields in one class to another through reflection","body":"<ol>\n<li><p>Without using BeanUtils or Apache Commons</p></li>\n<li><pre><code>public static &lt;T1 extends Object, T2 extends Object&gt;  void copy(T1     \norigEntity, T2 destEntity) throws IllegalAccessException, NoSuchFieldException {\n    Field[] fields = origEntity.getClass().getDeclaredFields();\n    for (Field field : fields){\n        origFields.set(destEntity, field.get(origEntity));\n     }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":160094,"reputation":4247,"user_id":379906,"accept_rate":80,"display_name":"db80"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675326864,"creation_date":1447154112,"answer_id":33628714,"question_id":1667854,"body_markdown":"If you have spring in the list of dependencies you can use **org.springframework.beans.BeanUtils**. \r\n\r\nhttps://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html","title":"Copy all values from fields in one class to another through reflection","body":"<p>If you have spring in the list of dependencies you can use <strong>org.springframework.beans.BeanUtils</strong>.</p>\n<p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html</a></p>\n"},{"tags":[],"owner":{"account_id":318313,"reputation":4457,"user_id":635473,"accept_rate":55,"display_name":"Nik Kashi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1466431801,"creation_date":1454166644,"answer_id":35103361,"question_id":1667854,"body_markdown":"My solution:\r\n\r\n    public static &lt;T &gt; void copyAllFields(T to, T from) {\r\n            Class&lt;T&gt; clazz = (Class&lt;T&gt;) from.getClass();\r\n            // OR:\r\n            // Class&lt;T&gt; clazz = (Class&lt;T&gt;) to.getClass();\r\n            List&lt;Field&gt; fields = getAllModelFields(clazz);\r\n    \r\n            if (fields != null) {\r\n                for (Field field : fields) {\r\n                    try {\r\n                        field.setAccessible(true);\r\n                        field.set(to,field.get(from));\r\n                    } catch (IllegalAccessException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    public static List&lt;Field&gt; getAllModelFields(Class aClass) {\r\n        List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\r\n        do {\r\n            Collections.addAll(fields, aClass.getDeclaredFields());\r\n            aClass = aClass.getSuperclass();\r\n        } while (aClass != null);\r\n        return fields;\r\n    }","title":"Copy all values from fields in one class to another through reflection","body":"<p>My solution:</p>\n\n<pre><code>public static &lt;T &gt; void copyAllFields(T to, T from) {\n        Class&lt;T&gt; clazz = (Class&lt;T&gt;) from.getClass();\n        // OR:\n        // Class&lt;T&gt; clazz = (Class&lt;T&gt;) to.getClass();\n        List&lt;Field&gt; fields = getAllModelFields(clazz);\n\n        if (fields != null) {\n            for (Field field : fields) {\n                try {\n                    field.setAccessible(true);\n                    field.set(to,field.get(from));\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\npublic static List&lt;Field&gt; getAllModelFields(Class aClass) {\n    List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\n    do {\n        Collections.addAll(fields, aClass.getDeclaredFields());\n        aClass = aClass.getSuperclass();\n    } while (aClass != null);\n    return fields;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6268437,"reputation":395,"user_id":4873342,"display_name":"Eric Ho"},"down_vote_count":8,"up_vote_count":28,"is_accepted":false,"score":20,"last_activity_date":1496986284,"creation_date":1480055420,"answer_id":40798976,"question_id":1667854,"body_markdown":"Why don&#39;t you use gson library https://github.com/google/gson\r\n\r\nyou just convert the Class A to json string. Then convert jsonString to you subClass (CopyA) .using below code:\r\n\r\n    Gson gson= new Gson();\r\n    String tmp = gson.toJson(a);\r\n    CopyA myObject = gson.fromJson(tmp,CopyA.class);\r\n\r\n","title":"Copy all values from fields in one class to another through reflection","body":"<p>Why don't you use gson library <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">https://github.com/google/gson</a></p>\n\n<p>you just convert the Class A to json string. Then convert jsonString to you subClass (CopyA) .using below code:</p>\n\n<pre><code>Gson gson= new Gson();\nString tmp = gson.toJson(a);\nCopyA myObject = gson.fromJson(tmp,CopyA.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53471,"reputation":5683,"user_id":159837,"accept_rate":75,"display_name":"Fırat K&#252;&#231;&#252;k"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1490733969,"creation_date":1490733969,"answer_id":43079613,"question_id":1667854,"body_markdown":"Spring has a built in `BeanUtils.copyProperties` method. But it doesn&#39;t work with classes without getters/setters. JSON serialization/deserialization can be another option for copying fields. Jackson can be used for this purpose. If you are using Spring In most cases Jackson is already in your dependency list.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ObjectMapper mapper     = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    Clazz        copyObject = mapper.readValue(mapper.writeValueAsString(sourceObject), Clazz.class);\r\n\r\n","title":"Copy all values from fields in one class to another through reflection","body":"<p>Spring has a built in <code>BeanUtils.copyProperties</code> method. But it doesn't work with classes without getters/setters. JSON serialization/deserialization can be another option for copying fields. Jackson can be used for this purpose. If you are using Spring In most cases Jackson is already in your dependency list.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper     = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nClazz        copyObject = mapper.readValue(mapper.writeValueAsString(sourceObject), Clazz.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3109658,"reputation":356,"user_id":2631710,"display_name":"JHead"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1504082360,"creation_date":1504082360,"answer_id":45955743,"question_id":1667854,"body_markdown":"Here is a working and tested solution. You can control the depth of the mapping in the class hierarchy.\r\n\r\n    public class FieldMapper {\r\n    \r\n        public static void copy(Object from, Object to) throws Exception {\r\n            FieldMapper.copy(from, to, Object.class);\r\n        }\r\n        \r\n        public static void copy(Object from, Object to, Class depth) throws Exception {\r\n            Class fromClass = from.getClass();\r\n            Class toClass = to.getClass();\r\n            List&lt;Field&gt; fromFields = collectFields(fromClass, depth);\r\n            List&lt;Field&gt; toFields = collectFields(toClass, depth);\r\n            Field target;\r\n            for (Field source : fromFields) {\r\n                if ((target = findAndRemove(source, toFields)) != null) {\r\n                    target.set(to, source.get(from));\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static List&lt;Field&gt; collectFields(Class c, Class depth) {\r\n            List&lt;Field&gt; accessibleFields = new ArrayList&lt;&gt;();\r\n            do {\r\n                int modifiers;\r\n                for (Field field : c.getDeclaredFields()) {\r\n                    modifiers = field.getModifiers();\r\n                    if (!Modifier.isStatic(modifiers) &amp;&amp; Modifier.isPublic(modifiers)) {\r\n                        accessibleFields.add(field);\r\n                    }\r\n                }\r\n                c = c.getSuperclass();\r\n            } while (c != null &amp;&amp; c != depth);\r\n            return accessibleFields;\r\n        }\r\n    \r\n        private static Field findAndRemove(Field field, List&lt;Field&gt; fields) {\r\n            Field actual;\r\n            for (Iterator&lt;Field&gt; i = fields.iterator(); i.hasNext();) {\r\n                actual = i.next();\r\n                if (field.getName().equals(actual.getName())\r\n                    &amp;&amp; field.getType().equals(actual.getType())) {\r\n                    i.remove();\r\n                    return actual;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }","title":"Copy all values from fields in one class to another through reflection","body":"<p>Here is a working and tested solution. You can control the depth of the mapping in the class hierarchy.</p>\n\n<pre><code>public class FieldMapper {\n\n    public static void copy(Object from, Object to) throws Exception {\n        FieldMapper.copy(from, to, Object.class);\n    }\n\n    public static void copy(Object from, Object to, Class depth) throws Exception {\n        Class fromClass = from.getClass();\n        Class toClass = to.getClass();\n        List&lt;Field&gt; fromFields = collectFields(fromClass, depth);\n        List&lt;Field&gt; toFields = collectFields(toClass, depth);\n        Field target;\n        for (Field source : fromFields) {\n            if ((target = findAndRemove(source, toFields)) != null) {\n                target.set(to, source.get(from));\n            }\n        }\n    }\n\n    private static List&lt;Field&gt; collectFields(Class c, Class depth) {\n        List&lt;Field&gt; accessibleFields = new ArrayList&lt;&gt;();\n        do {\n            int modifiers;\n            for (Field field : c.getDeclaredFields()) {\n                modifiers = field.getModifiers();\n                if (!Modifier.isStatic(modifiers) &amp;&amp; Modifier.isPublic(modifiers)) {\n                    accessibleFields.add(field);\n                }\n            }\n            c = c.getSuperclass();\n        } while (c != null &amp;&amp; c != depth);\n        return accessibleFields;\n    }\n\n    private static Field findAndRemove(Field field, List&lt;Field&gt; fields) {\n        Field actual;\n        for (Iterator&lt;Field&gt; i = fields.iterator(); i.hasNext();) {\n            actual = i.next();\n            if (field.getName().equals(actual.getName())\n                &amp;&amp; field.getType().equals(actual.getType())) {\n                i.remove();\n                return actual;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8153102,"reputation":15213,"user_id":6139527,"display_name":"Nicholas K"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1523023478,"creation_date":1523023478,"answer_id":49694656,"question_id":1667854,"body_markdown":"This is a late post, but can still be effective for people in future. \r\n\r\nSpring provides a utility `BeanUtils.copyProperties(srcObj, tarObj)` which copies values from source object to target object when the names of the member variables of both classes are the same. \r\n\r\nIf there is a date conversion, (eg, String to Date) &#39;null&#39; would be copied to the target object. We can then, explicitly set the values of the date as required. \r\n\r\nThe BeanUtils from `Apache Common` throws an error when there is a mismatch of data-types (esp. conversion to and from Date)\r\n\r\nHope this helps!","title":"Copy all values from fields in one class to another through reflection","body":"<p>This is a late post, but can still be effective for people in future. </p>\n\n<p>Spring provides a utility <code>BeanUtils.copyProperties(srcObj, tarObj)</code> which copies values from source object to target object when the names of the member variables of both classes are the same. </p>\n\n<p>If there is a date conversion, (eg, String to Date) 'null' would be copied to the target object. We can then, explicitly set the values of the date as required. </p>\n\n<p>The BeanUtils from <code>Apache Common</code> throws an error when there is a mismatch of data-types (esp. conversion to and from Date)</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":285085,"reputation":3836,"user_id":583557,"accept_rate":0,"display_name":"Babul Mirdha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568046884,"creation_date":1568046884,"answer_id":57857981,"question_id":1667854,"body_markdown":"I solved the above problem in Kotlin that works fine for me for my Android Apps Development:\r\n\r\n     object FieldMapper {\r\n\r\n    fun &lt;T:Any&gt; copy(to: T, from: T) {\r\n        try {\r\n            val fromClass = from.javaClass\r\n\r\n            val fromFields = getAllFields(fromClass)\r\n\r\n            fromFields?.let {\r\n                for (field in fromFields) {\r\n                    try {\r\n                        field.isAccessible = true\r\n                        field.set(to, field.get(from))\r\n                    } catch (e: IllegalAccessException) {\r\n                        e.printStackTrace()\r\n                    }\r\n\r\n                }\r\n            }\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n\r\n    }\r\n\r\n    private fun getAllFields(paramClass: Class&lt;*&gt;): List&lt;Field&gt; {\r\n\r\n        var theClass:Class&lt;*&gt;? = paramClass\r\n        val fields = ArrayList&lt;Field&gt;()\r\n        try {\r\n            while (theClass != null) {\r\n                Collections.addAll(fields, *theClass?.declaredFields)\r\n                theClass = theClass?.superclass\r\n            }\r\n        }catch (e:Exception){\r\n            e.printStackTrace()\r\n        }\r\n\r\n        return fields\r\n    }\r\n}","title":"Copy all values from fields in one class to another through reflection","body":"<p>I solved the above problem in Kotlin that works fine for me for my Android Apps Development:</p>\n\n<pre><code> object FieldMapper {\n\nfun &lt;T:Any&gt; copy(to: T, from: T) {\n    try {\n        val fromClass = from.javaClass\n\n        val fromFields = getAllFields(fromClass)\n\n        fromFields?.let {\n            for (field in fromFields) {\n                try {\n                    field.isAccessible = true\n                    field.set(to, field.get(from))\n                } catch (e: IllegalAccessException) {\n                    e.printStackTrace()\n                }\n\n            }\n        }\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n}\n\nprivate fun getAllFields(paramClass: Class&lt;*&gt;): List&lt;Field&gt; {\n\n    var theClass:Class&lt;*&gt;? = paramClass\n    val fields = ArrayList&lt;Field&gt;()\n    try {\n        while (theClass != null) {\n            Collections.addAll(fields, *theClass?.declaredFields)\n            theClass = theClass?.superclass\n        }\n    }catch (e:Exception){\n        e.printStackTrace()\n    }\n\n    return fields\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":251229,"reputation":638,"user_id":4495475,"display_name":"Emily Crutcher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568928930,"creation_date":1568928930,"answer_id":58019208,"question_id":1667854,"body_markdown":"Mladen&#39;s basic idea worked (thanks), but needed a few changes to be robust, so I contributed them here.\r\n\r\nThe only place where this type of solution should be used is if you want to clone the object, but can&#39;t because it is a managed object.  If you are lucky enough to have objects that all have 100% side-effect free  setters for all fields,  you should definitely use the BeanUtils option instead. \r\n\r\nHere, I use lang3&#39;s utility methods to simplify the code, so if you paste it, you must first import Apache&#39;s lang3 library.\r\n\r\nCopy code\r\n\r\n    static public &lt;X extends Object&gt; X copy(X object, String... skipFields) {\r\n    \t\tConstructor constructorToUse = null;\r\n    \t\tfor (Constructor constructor : object.getClass().getConstructors()) {\r\n    \t\t\tif (constructor.getParameterTypes().length == 0) {\r\n    \t\t\t\tconstructorToUse = constructor;\r\n    \t\t\t\tconstructorToUse.setAccessible(true);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (constructorToUse == null) {\r\n    \t\t\tthrow new IllegalStateException(object + &quot; must have a zero arg constructor in order to be copied&quot;);\r\n    \t\t}\r\n    \t\tX copy;\r\n    \t\ttry {\r\n    \t\t\tcopy = (X) constructorToUse.newInstance();\r\n    \r\n    \t\t\tfor (Field field : FieldUtils.getAllFields(object.getClass())) {\r\n    \t\t\t\tif (Modifier.isStatic(field.getModifiers())) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t//Avoid the fields that you don&#39;t want to copy. Note, if you pass in &quot;id&quot;, it will skip any field with &quot;id&quot; in it. So be careful.\r\n    \t\t\t\tif (StringUtils.containsAny(field.getName(), skipFields)) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tfield.setAccessible(true);\r\n    \r\n    \t\t\t\tObject valueToCopy = field.get(object);\r\n    \t\t\t\t//TODO add here other special types of fields, like Maps, Lists, etc.\r\n    \t\t\t\tfield.set(copy, valueToCopy);\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t} catch (InstantiationException | IllegalAccessException | IllegalArgumentException\r\n    \t\t\t\t| InvocationTargetException e) {\r\n    \t\t\tthrow new IllegalStateException(&quot;Could not copy &quot; + object, e);\r\n    \t\t}\r\n    \t\treturn copy;\r\n\t}\r\n","title":"Copy all values from fields in one class to another through reflection","body":"<p>Mladen's basic idea worked (thanks), but needed a few changes to be robust, so I contributed them here.</p>\n\n<p>The only place where this type of solution should be used is if you want to clone the object, but can't because it is a managed object.  If you are lucky enough to have objects that all have 100% side-effect free  setters for all fields,  you should definitely use the BeanUtils option instead. </p>\n\n<p>Here, I use lang3's utility methods to simplify the code, so if you paste it, you must first import Apache's lang3 library.</p>\n\n<p>Copy code</p>\n\n<pre><code>static public &lt;X extends Object&gt; X copy(X object, String... skipFields) {\n        Constructor constructorToUse = null;\n        for (Constructor constructor : object.getClass().getConstructors()) {\n            if (constructor.getParameterTypes().length == 0) {\n                constructorToUse = constructor;\n                constructorToUse.setAccessible(true);\n                break;\n            }\n        }\n        if (constructorToUse == null) {\n            throw new IllegalStateException(object + \" must have a zero arg constructor in order to be copied\");\n        }\n        X copy;\n        try {\n            copy = (X) constructorToUse.newInstance();\n\n            for (Field field : FieldUtils.getAllFields(object.getClass())) {\n                if (Modifier.isStatic(field.getModifiers())) {\n                    continue;\n                }\n\n                //Avoid the fields that you don't want to copy. Note, if you pass in \"id\", it will skip any field with \"id\" in it. So be careful.\n                if (StringUtils.containsAny(field.getName(), skipFields)) {\n                    continue;\n                }\n\n                field.setAccessible(true);\n\n                Object valueToCopy = field.get(object);\n                //TODO add here other special types of fields, like Maps, Lists, etc.\n                field.set(copy, valueToCopy);\n\n            }\n\n        } catch (InstantiationException | IllegalAccessException | IllegalArgumentException\n                | InvocationTargetException e) {\n            throw new IllegalStateException(\"Could not copy \" + object, e);\n        }\n        return copy;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2850233,"reputation":3615,"user_id":2447599,"display_name":"Ran Adler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570689742,"creation_date":1570689742,"answer_id":58316925,"question_id":1667854,"body_markdown":"    \tpublic &lt;T1 extends Object, T2 extends Object&gt; void copy(T1 origEntity, T2 destEntity) {\r\n    \t\tDozerBeanMapper mapper = new DozerBeanMapper();\r\n    \t\tmapper.map(origEntity,destEntity);\r\n    \t}\r\n    \r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sf.dozer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dozer&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"Copy all values from fields in one class to another through reflection","body":"<pre><code>    public &lt;T1 extends Object, T2 extends Object&gt; void copy(T1 origEntity, T2 destEntity) {\n        DozerBeanMapper mapper = new DozerBeanMapper();\n        mapper.map(origEntity,destEntity);\n    }\n\n &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.dozer&lt;/groupId&gt;\n            &lt;artifactId&gt;dozer&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11205656,"reputation":81,"user_id":8221356,"display_name":"Zedong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584602483,"creation_date":1584599049,"answer_id":60751923,"question_id":1667854,"body_markdown":"    public static &lt;T&gt; void copyAvalableFields(@NotNull T source, @NotNull T target) throws IllegalAccessException {\r\n        Field[] fields = source.getClass().getDeclaredFields();\r\n        for (Field field : fields) {\r\n            if (!Modifier.isStatic(field.getModifiers())\r\n                    &amp;&amp; !Modifier.isFinal(field.getModifiers())) {\r\n                field.set(target, field.get(source));\r\n            }\r\n        }\r\n    }\r\n\r\nWe read all the fields of the class. Filter non-static and non-final fields from the result.\r\nBut there may be an error accessing non-public fields.\r\nFor example, if this function is in the same class, and the class being copied does not contain public fields, an access error will occur. The solution may be to place this function in the same package or change access to public or in this code inside the loop call \r\n   field.setAccessible (true); \r\nwhat will make the fields available","title":"Copy all values from fields in one class to another through reflection","body":"<pre><code>public static &lt;T&gt; void copyAvalableFields(@NotNull T source, @NotNull T target) throws IllegalAccessException {\n    Field[] fields = source.getClass().getDeclaredFields();\n    for (Field field : fields) {\n        if (!Modifier.isStatic(field.getModifiers())\n                &amp;&amp; !Modifier.isFinal(field.getModifiers())) {\n            field.set(target, field.get(source));\n        }\n    }\n}\n</code></pre>\n\n<p>We read all the fields of the class. Filter non-static and non-final fields from the result.\nBut there may be an error accessing non-public fields.\nFor example, if this function is in the same class, and the class being copied does not contain public fields, an access error will occur. The solution may be to place this function in the same package or change access to public or in this code inside the loop call \n   field.setAccessible (true); \nwhat will make the fields available</p>\n"},{"tags":[],"owner":{"account_id":12666242,"reputation":31,"user_id":11155514,"display_name":"Ejaz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648115545,"creation_date":1648113151,"answer_id":71599713,"question_id":1667854,"body_markdown":"Here is my solution, will cover the child class case:\r\n\r\n    /**\r\n\t * This methods transfer the attributes from one class to another class if it\r\n\t * has null values.\r\n\t * \r\n\t * @param fromClass from class\r\n\t * @param toClass   to class\r\n\t */\r\n\tprivate void loadProperties(Object fromClass, Object toClass) {\r\n\t\tif (Objects.isNull(fromClass) || Objects.isNull(toClass))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tField[] fields = toClass.getClass().getDeclaredFields();\r\n\t\tField[] fieldsSuperClass = toClass.getClass().getSuperclass().getDeclaredFields();\r\n\t\tField[] fieldsFinal = new Field[fields.length + fieldsSuperClass.length];\r\n\r\n\t\tArrays.setAll(fieldsFinal, i -&gt; (i &lt; fields.length ? fields[i] : fieldsSuperClass[i - fields.length]));\r\n\r\n\t\tfor (Field field : fieldsFinal) {\r\n\t\t\tfield.setAccessible(true);\r\n\t\t\ttry {\r\n\t\t\t\tString propertyKey = field.getName();\r\n\t\t\t\tif (field.get(toClass) == null) {\r\n\t\t\t\t\tField defaultPropertyField = fromClass.getClass().getDeclaredField(propertyKey);\r\n\t\t\t\t\tdefaultPropertyField.setAccessible(true);\r\n\t\t\t\t\tObject propertyValue = defaultPropertyField.get(fromClass);\r\n\t\t\t\t\tif (propertyValue != null)\r\n\t\t\t\t\t\tfield.set(toClass, propertyValue);\r\n\t\t\t\t}\r\n\t\t\t} catch (IllegalAccessException e) {\r\n\t\t\t\tlogger.error(() -&gt; &quot;Error while loading properties from &quot; + fromClass.getClass() +&quot; and to &quot; +toClass.getClass(), e);\r\n\t\t\t} catch (NoSuchFieldException e) {\r\n\t\t\t\tlogger.error(() -&gt; &quot;Exception occurred while loading properties from &quot; + fromClass.getClass()+&quot; and to &quot; +toClass.getClass(), e);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Copy all values from fields in one class to another through reflection","body":"<p>Here is my solution, will cover the child class case:</p>\n<pre><code>/**\n * This methods transfer the attributes from one class to another class if it\n * has null values.\n * \n * @param fromClass from class\n * @param toClass   to class\n */\nprivate void loadProperties(Object fromClass, Object toClass) {\n    if (Objects.isNull(fromClass) || Objects.isNull(toClass))\n        return;\n    \n    Field[] fields = toClass.getClass().getDeclaredFields();\n    Field[] fieldsSuperClass = toClass.getClass().getSuperclass().getDeclaredFields();\n    Field[] fieldsFinal = new Field[fields.length + fieldsSuperClass.length];\n\n    Arrays.setAll(fieldsFinal, i -&gt; (i &lt; fields.length ? fields[i] : fieldsSuperClass[i - fields.length]));\n\n    for (Field field : fieldsFinal) {\n        field.setAccessible(true);\n        try {\n            String propertyKey = field.getName();\n            if (field.get(toClass) == null) {\n                Field defaultPropertyField = fromClass.getClass().getDeclaredField(propertyKey);\n                defaultPropertyField.setAccessible(true);\n                Object propertyValue = defaultPropertyField.get(fromClass);\n                if (propertyValue != null)\n                    field.set(toClass, propertyValue);\n            }\n        } catch (IllegalAccessException e) {\n            logger.error(() -&gt; &quot;Error while loading properties from &quot; + fromClass.getClass() +&quot; and to &quot; +toClass.getClass(), e);\n        } catch (NoSuchFieldException e) {\n            logger.error(() -&gt; &quot;Exception occurred while loading properties from &quot; + fromClass.getClass()+&quot; and to &quot; +toClass.getClass(), e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214927,"favorite_count":0,"down_vote_count":0,"up_vote_count":94,"accepted_answer_id":1667911,"answer_count":19,"score":94,"last_activity_date":1675326864,"creation_date":1257260318,"question_id":1667854,"body_markdown":"I have a class which is basically a copy of another class.\r\n\r\n    public class A {\r\n      int a;\r\n      String b;\r\n    }\r\n\r\n    public class CopyA {\r\n      int a;\r\n      String b;\r\n    }\r\n\r\nWhat I am doing is putting values from class `A` into `CopyA` before sending `CopyA` through a webservice call. Now I would like to create a reflection-method that basically copies all fields that are identical (by name and type) from class `A` to class `CopyA`.\r\n\r\nHow can I do this?\r\n\r\nThis is what I have so far, but it doesn&#39;t quite work. I think the problem here is that I am trying to set a field on the field I am looping through.\r\n\r\n    private &lt;T extends Object, Y extends Object&gt; void copyFields(T from, Y too) {\r\n\r\n\t\tClass&lt;? extends Object&gt; fromClass = from.getClass();\r\n\t\tField[] fromFields = fromClass.getDeclaredFields();\r\n\r\n\t\tClass&lt;? extends Object&gt; tooClass = too.getClass();\r\n\t\tField[] tooFields = tooClass.getDeclaredFields();\r\n\r\n\t\tif (fromFields != null &amp;&amp; tooFields != null) {\r\n\t\t\tfor (Field tooF : tooFields) {\r\n\t\t\t\tlogger.debug(&quot;toofield name #0 and type #1&quot;, tooF.getName(), tooF.getType().toString());\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// Check if that fields exists in the other method\r\n\t\t\t\t\tField fromF = fromClass.getDeclaredField(tooF.getName());\r\n\t\t\t\t\tif (fromF.getType().equals(tooF.getType())) {\r\n\t\t\t\t\t\ttooF.set(tooF, fromF);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (SecurityException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} catch (NoSuchFieldException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} catch (IllegalArgumentException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} catch (IllegalAccessException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\nI am sure there must be someone that has already done this somehow","title":"Copy all values from fields in one class to another through reflection","body":"<p>I have a class which is basically a copy of another class.</p>\n\n<pre><code>public class A {\n  int a;\n  String b;\n}\n\npublic class CopyA {\n  int a;\n  String b;\n}\n</code></pre>\n\n<p>What I am doing is putting values from class <code>A</code> into <code>CopyA</code> before sending <code>CopyA</code> through a webservice call. Now I would like to create a reflection-method that basically copies all fields that are identical (by name and type) from class <code>A</code> to class <code>CopyA</code>.</p>\n\n<p>How can I do this?</p>\n\n<p>This is what I have so far, but it doesn't quite work. I think the problem here is that I am trying to set a field on the field I am looping through.</p>\n\n<pre><code>private &lt;T extends Object, Y extends Object&gt; void copyFields(T from, Y too) {\n\n    Class&lt;? extends Object&gt; fromClass = from.getClass();\n    Field[] fromFields = fromClass.getDeclaredFields();\n\n    Class&lt;? extends Object&gt; tooClass = too.getClass();\n    Field[] tooFields = tooClass.getDeclaredFields();\n\n    if (fromFields != null &amp;&amp; tooFields != null) {\n        for (Field tooF : tooFields) {\n            logger.debug(\"toofield name #0 and type #1\", tooF.getName(), tooF.getType().toString());\n            try {\n                // Check if that fields exists in the other method\n                Field fromF = fromClass.getDeclaredField(tooF.getName());\n                if (fromF.getType().equals(tooF.getType())) {\n                    tooF.set(tooF, fromF);\n                }\n            } catch (SecurityException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (NoSuchFieldException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (IllegalArgumentException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (IllegalAccessException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        }\n    }\n</code></pre>\n\n<p>I am sure there must be someone that has already done this somehow</p>\n"},{"tags":["java","spring","http","spring-mvc","video-streaming"],"answers":[{"tags":[],"owner":{"account_id":5424004,"reputation":7245,"user_id":4316870,"display_name":"Leandro Carracedo"},"down_vote_count":1,"up_vote_count":83,"is_accepted":true,"score":82,"last_activity_date":1432947008,"creation_date":1423748572,"answer_id":28479001,"question_id":28427339,"body_markdown":"The request for support for http byte-range was open at the time of this answer but is fixed in Spring 4.2.RC1. Check jira [SPR-10805][1] or, the PR [here][2].\r\n\r\nBut based on the code that you linked in your question, Davin Kevin built a [solution][2] that could work for your request.\r\n\r\nCode for MultipartFileSender:\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import javax.servlet.ServletOutputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.*;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.attribute.FileTime;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * Created by kevin on 10/02/15.\r\n     * See full code here : https://github.com/davinkevin/Podcast-Server/blob/d927d9b8cb9ea1268af74316cd20b7192ca92da7/src/main/java/lan/dk/podcastserver/utils/multipart/MultipartFileSender.java\r\n     */\r\n    public class MultipartFileSender {\r\n    \r\n        protected final Logger logger = LoggerFactory.getLogger(this.getClass());\r\n        \r\n        private static final int DEFAULT_BUFFER_SIZE = 20480; // ..bytes = 20KB.\r\n        private static final long DEFAULT_EXPIRE_TIME = 604800000L; // ..ms = 1 week.\r\n        private static final String MULTIPART_BOUNDARY = &quot;MULTIPART_BYTERANGES&quot;;\r\n        \r\n        Path filepath;\r\n        HttpServletRequest request;\r\n        HttpServletResponse response;\r\n        \r\n        public MultipartFileSender() {\r\n        }\r\n    \r\n        public static MultipartFileSender fromPath(Path path) {\r\n            return new MultipartFileSender().setFilepath(path);\r\n        }\r\n        \r\n        public static MultipartFileSender fromFile(File file) {\r\n            return new MultipartFileSender().setFilepath(file.toPath());\r\n        }\r\n    \r\n        public static MultipartFileSender fromURIString(String uri) {\r\n            return new MultipartFileSender().setFilepath(Paths.get(uri));\r\n        }\r\n    \r\n        //** internal setter **//\r\n        private MultipartFileSender setFilepath(Path filepath) {\r\n            this.filepath = filepath;\r\n            return this;\r\n        }\r\n        \r\n        public MultipartFileSender with(HttpServletRequest httpRequest) {\r\n            request = httpRequest;\r\n            return this;\r\n        }\r\n        \r\n        public MultipartFileSender with(HttpServletResponse httpResponse) {\r\n            response = httpResponse;\r\n            return this;\r\n        }\r\n        \r\n        public void serveResource() throws Exception {\r\n            if (response == null || request == null) {\r\n                return;\r\n            }\r\n    \r\n            if (!Files.exists(filepath)) {\r\n                logger.error(&quot;File doesn&#39;t exist at URI : {}&quot;, filepath.toAbsolutePath().toString());\r\n                response.sendError(HttpServletResponse.SC_NOT_FOUND);\r\n                return;\r\n            }\r\n    \r\n            Long length = Files.size(filepath);\r\n            String fileName = filepath.getFileName().toString();\r\n            FileTime lastModifiedObj = Files.getLastModifiedTime(filepath);\r\n    \r\n            if (StringUtils.isEmpty(fileName) || lastModifiedObj == null) {\r\n                response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n                return;\r\n            }\r\n            long lastModified = LocalDateTime.ofInstant(lastModifiedObj.toInstant(), ZoneId.of(ZoneOffset.systemDefault().getId())).toEpochSecond(ZoneOffset.UTC);\r\n            String contentType = &quot;video/mp4&quot;;\r\n    \r\n            // Validate request headers for caching ---------------------------------------------------\r\n    \r\n            // If-None-Match header should contain &quot;*&quot; or ETag. If so, then return 304.\r\n            String ifNoneMatch = request.getHeader(&quot;If-None-Match&quot;);\r\n            if (ifNoneMatch != null &amp;&amp; HttpUtils.matches(ifNoneMatch, fileName)) {\r\n                response.setHeader(&quot;ETag&quot;, fileName); // Required in 304.\r\n                response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\r\n                return;\r\n            }\r\n    \r\n            // If-Modified-Since header should be greater than LastModified. If so, then return 304.\r\n            // This header is ignored if any If-None-Match header is specified.\r\n            long ifModifiedSince = request.getDateHeader(&quot;If-Modified-Since&quot;);\r\n            if (ifNoneMatch == null &amp;&amp; ifModifiedSince != -1 &amp;&amp; ifModifiedSince + 1000 &gt; lastModified) {\r\n                response.setHeader(&quot;ETag&quot;, fileName); // Required in 304.\r\n                response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\r\n                return;\r\n            }\r\n    \r\n            // Validate request headers for resume ----------------------------------------------------\r\n    \r\n            // If-Match header should contain &quot;*&quot; or ETag. If not, then return 412.\r\n            String ifMatch = request.getHeader(&quot;If-Match&quot;);\r\n            if (ifMatch != null &amp;&amp; !HttpUtils.matches(ifMatch, fileName)) {\r\n                response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\r\n                return;\r\n            }\r\n    \r\n            // If-Unmodified-Since header should be greater than LastModified. If not, then return 412.\r\n            long ifUnmodifiedSince = request.getDateHeader(&quot;If-Unmodified-Since&quot;);\r\n            if (ifUnmodifiedSince != -1 &amp;&amp; ifUnmodifiedSince + 1000 &lt;= lastModified) {\r\n                response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\r\n                return;\r\n            }\r\n    \r\n            // Validate and process range -------------------------------------------------------------\r\n    \r\n            // Prepare some variables. The full Range represents the complete file.\r\n            Range full = new Range(0, length - 1, length);\r\n            List&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\r\n    \r\n            // Validate and process Range and If-Range headers.\r\n            String range = request.getHeader(&quot;Range&quot;);\r\n            if (range != null) {\r\n    \r\n                // Range header should match format &quot;bytes=n-n,n-n,n-n...&quot;. If not, then return 416.\r\n                if (!range.matches(&quot;^bytes=\\\\d*-\\\\d*(,\\\\d*-\\\\d*)*$&quot;)) {\r\n                    response.setHeader(&quot;Content-Range&quot;, &quot;bytes */&quot; + length); // Required in 416.\r\n                    response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\r\n                    return;\r\n                }\r\n    \r\n                String ifRange = request.getHeader(&quot;If-Range&quot;);\r\n                if (ifRange != null &amp;&amp; !ifRange.equals(fileName)) {\r\n                    try {\r\n                        long ifRangeTime = request.getDateHeader(&quot;If-Range&quot;); // Throws IAE if invalid.\r\n                        if (ifRangeTime != -1) {\r\n                            ranges.add(full);\r\n                        }\r\n                    } catch (IllegalArgumentException ignore) {\r\n                        ranges.add(full);\r\n                    }\r\n                }\r\n    \r\n                // If any valid If-Range header, then process each part of byte range.\r\n                if (ranges.isEmpty()) {\r\n                    for (String part : range.substring(6).split(&quot;,&quot;)) {\r\n                        // Assuming a file with length of 100, the following examples returns bytes at:\r\n                        // 50-80 (50 to 80), 40- (40 to length=100), -20 (length-20=80 to length=100).\r\n                        long start = Range.sublong(part, 0, part.indexOf(&quot;-&quot;));\r\n                        long end = Range.sublong(part, part.indexOf(&quot;-&quot;) + 1, part.length());\r\n    \r\n                        if (start == -1) {\r\n                            start = length - end;\r\n                            end = length - 1;\r\n                        } else if (end == -1 || end &gt; length - 1) {\r\n                            end = length - 1;\r\n                        }\r\n    \r\n                        // Check if Range is syntactically valid. If not, then return 416.\r\n                        if (start &gt; end) {\r\n                            response.setHeader(&quot;Content-Range&quot;, &quot;bytes */&quot; + length); // Required in 416.\r\n                            response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\r\n                            return;\r\n                        }\r\n    \r\n                        // Add range.                    \r\n                        ranges.add(new Range(start, end, length));\r\n                    }\r\n                }\r\n            }\r\n    \r\n            // Prepare and initialize response --------------------------------------------------------\r\n    \r\n            // Get content type by file name and set content disposition.\r\n            String disposition = &quot;inline&quot;;\r\n    \r\n            // If content type is unknown, then set the default value.\r\n            // For all content types, see: http://www.w3schools.com/media/media_mimeref.asp\r\n            // To add new content types, add new mime-mapping entry in web.xml.\r\n            if (contentType == null) {\r\n                contentType = &quot;application/octet-stream&quot;;\r\n            } else if (!contentType.startsWith(&quot;image&quot;)) {\r\n                // Else, expect for images, determine content disposition. If content type is supported by\r\n                // the browser, then set to inline, else attachment which will pop a &#39;save as&#39; dialogue.\r\n                String accept = request.getHeader(&quot;Accept&quot;);\r\n                disposition = accept != null &amp;&amp; HttpUtils.accepts(accept, contentType) ? &quot;inline&quot; : &quot;attachment&quot;;\r\n            }\r\n            logger.debug(&quot;Content-Type : {}&quot;, contentType);\r\n            // Initialize response.\r\n            response.reset();\r\n            response.setBufferSize(DEFAULT_BUFFER_SIZE);\r\n            response.setHeader(&quot;Content-Type&quot;, contentType);\r\n            response.setHeader(&quot;Content-Disposition&quot;, disposition + &quot;;filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;);\r\n            logger.debug(&quot;Content-Disposition : {}&quot;, disposition);\r\n            response.setHeader(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\r\n            response.setHeader(&quot;ETag&quot;, fileName);\r\n            response.setDateHeader(&quot;Last-Modified&quot;, lastModified);\r\n            response.setDateHeader(&quot;Expires&quot;, System.currentTimeMillis() + DEFAULT_EXPIRE_TIME);\r\n    \r\n            // Send requested file (part(s)) to client ------------------------------------------------\r\n    \r\n            // Prepare streams.\r\n            try (InputStream input = new BufferedInputStream(Files.newInputStream(filepath));\r\n                 OutputStream output = response.getOutputStream()) {\r\n    \r\n                if (ranges.isEmpty() || ranges.get(0) == full) {\r\n    \r\n                    // Return full file.\r\n                    logger.info(&quot;Return full file&quot;);\r\n                    response.setContentType(contentType);\r\n                    response.setHeader(&quot;Content-Range&quot;, &quot;bytes &quot; + full.start + &quot;-&quot; + full.end + &quot;/&quot; + full.total);\r\n                    response.setHeader(&quot;Content-Length&quot;, String.valueOf(full.length));\r\n                    Range.copy(input, output, length, full.start, full.length);\r\n    \r\n                } else if (ranges.size() == 1) {\r\n    \r\n                    // Return single part of file.\r\n                    Range r = ranges.get(0);\r\n                    logger.info(&quot;Return 1 part of file : from ({}) to ({})&quot;, r.start, r.end);\r\n                    response.setContentType(contentType);\r\n                    response.setHeader(&quot;Content-Range&quot;, &quot;bytes &quot; + r.start + &quot;-&quot; + r.end + &quot;/&quot; + r.total);\r\n                    response.setHeader(&quot;Content-Length&quot;, String.valueOf(r.length));\r\n                    response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\r\n    \r\n                    // Copy single part range.\r\n                    Range.copy(input, output, length, r.start, r.length);\r\n    \r\n                } else {\r\n    \r\n                    // Return multiple parts of file.\r\n                    response.setContentType(&quot;multipart/byteranges; boundary=&quot; + MULTIPART_BOUNDARY);\r\n                    response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\r\n    \r\n                    // Cast back to ServletOutputStream to get the easy println methods.\r\n                    ServletOutputStream sos = (ServletOutputStream) output;\r\n    \r\n                    // Copy multi part range.\r\n                    for (Range r : ranges) {\r\n                        logger.info(&quot;Return multi part of file : from ({}) to ({})&quot;, r.start, r.end);\r\n                        // Add multipart boundary and header fields for every range.\r\n                        sos.println();\r\n                        sos.println(&quot;--&quot; + MULTIPART_BOUNDARY);\r\n                        sos.println(&quot;Content-Type: &quot; + contentType);\r\n                        sos.println(&quot;Content-Range: bytes &quot; + r.start + &quot;-&quot; + r.end + &quot;/&quot; + r.total);\r\n    \r\n                        // Copy single part range of multi part range.\r\n                        Range.copy(input, output, length, r.start, r.length);\r\n                    }\r\n    \r\n                    // End with multipart boundary.\r\n                    sos.println();\r\n                    sos.println(&quot;--&quot; + MULTIPART_BOUNDARY + &quot;--&quot;);\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        private static class Range {\r\n            long start;\r\n            long end;\r\n            long length;\r\n            long total;\r\n    \r\n            /**\r\n             * Construct a byte range.\r\n             * @param start Start of the byte range.\r\n             * @param end End of the byte range.\r\n             * @param total Total length of the byte source.\r\n             */\r\n            public Range(long start, long end, long total) {\r\n                this.start = start;\r\n                this.end = end;\r\n                this.length = end - start + 1;\r\n                this.total = total;\r\n            }\r\n    \r\n            public static long sublong(String value, int beginIndex, int endIndex) {\r\n                String substring = value.substring(beginIndex, endIndex);\r\n                return (substring.length() &gt; 0) ? Long.parseLong(substring) : -1;\r\n            }\r\n    \r\n            private static void copy(InputStream input, OutputStream output, long inputSize, long start, long length) throws IOException {\r\n                byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\r\n                int read;\r\n    \r\n                if (inputSize == length) {\r\n                    // Write full range.\r\n                    while ((read = input.read(buffer)) &gt; 0) {\r\n                        output.write(buffer, 0, read);\r\n                        output.flush();\r\n                    }\r\n                } else {\r\n                    input.skip(start);\r\n                    long toRead = length;\r\n    \r\n                    while ((read = input.read(buffer)) &gt; 0) {\r\n                        if ((toRead -= read) &gt; 0) {\r\n                            output.write(buffer, 0, read);\r\n                            output.flush();\r\n                        } else {\r\n                            output.write(buffer, 0, (int) toRead + read);\r\n                            output.flush();\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        private static class HttpUtils {\r\n    \r\n            /**\r\n             * Returns true if the given accept header accepts the given value.\r\n             * @param acceptHeader The accept header.\r\n             * @param toAccept The value to be accepted.\r\n             * @return True if the given accept header accepts the given value.\r\n             */\r\n            public static boolean accepts(String acceptHeader, String toAccept) {\r\n                String[] acceptValues = acceptHeader.split(&quot;\\\\s*(,|;)\\\\s*&quot;);\r\n                Arrays.sort(acceptValues);\r\n    \r\n                return Arrays.binarySearch(acceptValues, toAccept) &gt; -1\r\n                        || Arrays.binarySearch(acceptValues, toAccept.replaceAll(&quot;/.*$&quot;, &quot;/*&quot;)) &gt; -1\r\n                        || Arrays.binarySearch(acceptValues, &quot;*/*&quot;) &gt; -1;\r\n            }\r\n    \r\n            /**\r\n             * Returns true if the given match header matches the given value.\r\n             * @param matchHeader The match header.\r\n             * @param toMatch The value to be matched.\r\n             * @return True if the given match header matches the given value.\r\n             */\r\n            public static boolean matches(String matchHeader, String toMatch) {\r\n                String[] matchValues = matchHeader.split(&quot;\\\\s*,\\\\s*&quot;);\r\n                Arrays.sort(matchValues);\r\n                return Arrays.binarySearch(matchValues, toMatch) &gt; -1\r\n                        || Arrays.binarySearch(matchValues, &quot;*&quot;) &gt; -1;\r\n            }\r\n        }\r\n    }\r\n\r\nUse in Controller:\r\n\r\n    MultipartFileSender.fromPath(pathtofile)\r\n                    .with(httprequest)\r\n                    .with(httpresponse)\r\n                    .serveResource();\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-10805\r\n  [2]: https://gist.github.com/davinkevin/b97e39d7ce89198774b4","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>The request for support for http byte-range was open at the time of this answer but is fixed in Spring 4.2.RC1. Check jira <a href=\"https://jira.spring.io/browse/SPR-10805\" rel=\"noreferrer\">SPR-10805</a> or, the PR <a href=\"https://gist.github.com/davinkevin/b97e39d7ce89198774b4\" rel=\"noreferrer\">here</a>.</p>\n\n<p>But based on the code that you linked in your question, Davin Kevin built a <a href=\"https://gist.github.com/davinkevin/b97e39d7ce89198774b4\" rel=\"noreferrer\">solution</a> that could work for your request.</p>\n\n<p>Code for MultipartFileSender:</p>\n\n<pre><code>import org.apache.commons.lang3.StringUtils;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport javax.servlet.ServletOutputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.attribute.FileTime;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n/**\n * Created by kevin on 10/02/15.\n * See full code here : https://github.com/davinkevin/Podcast-Server/blob/d927d9b8cb9ea1268af74316cd20b7192ca92da7/src/main/java/lan/dk/podcastserver/utils/multipart/MultipartFileSender.java\n */\npublic class MultipartFileSender {\n\n    protected final Logger logger = LoggerFactory.getLogger(this.getClass());\n\n    private static final int DEFAULT_BUFFER_SIZE = 20480; // ..bytes = 20KB.\n    private static final long DEFAULT_EXPIRE_TIME = 604800000L; // ..ms = 1 week.\n    private static final String MULTIPART_BOUNDARY = \"MULTIPART_BYTERANGES\";\n\n    Path filepath;\n    HttpServletRequest request;\n    HttpServletResponse response;\n\n    public MultipartFileSender() {\n    }\n\n    public static MultipartFileSender fromPath(Path path) {\n        return new MultipartFileSender().setFilepath(path);\n    }\n\n    public static MultipartFileSender fromFile(File file) {\n        return new MultipartFileSender().setFilepath(file.toPath());\n    }\n\n    public static MultipartFileSender fromURIString(String uri) {\n        return new MultipartFileSender().setFilepath(Paths.get(uri));\n    }\n\n    //** internal setter **//\n    private MultipartFileSender setFilepath(Path filepath) {\n        this.filepath = filepath;\n        return this;\n    }\n\n    public MultipartFileSender with(HttpServletRequest httpRequest) {\n        request = httpRequest;\n        return this;\n    }\n\n    public MultipartFileSender with(HttpServletResponse httpResponse) {\n        response = httpResponse;\n        return this;\n    }\n\n    public void serveResource() throws Exception {\n        if (response == null || request == null) {\n            return;\n        }\n\n        if (!Files.exists(filepath)) {\n            logger.error(\"File doesn't exist at URI : {}\", filepath.toAbsolutePath().toString());\n            response.sendError(HttpServletResponse.SC_NOT_FOUND);\n            return;\n        }\n\n        Long length = Files.size(filepath);\n        String fileName = filepath.getFileName().toString();\n        FileTime lastModifiedObj = Files.getLastModifiedTime(filepath);\n\n        if (StringUtils.isEmpty(fileName) || lastModifiedObj == null) {\n            response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n            return;\n        }\n        long lastModified = LocalDateTime.ofInstant(lastModifiedObj.toInstant(), ZoneId.of(ZoneOffset.systemDefault().getId())).toEpochSecond(ZoneOffset.UTC);\n        String contentType = \"video/mp4\";\n\n        // Validate request headers for caching ---------------------------------------------------\n\n        // If-None-Match header should contain \"*\" or ETag. If so, then return 304.\n        String ifNoneMatch = request.getHeader(\"If-None-Match\");\n        if (ifNoneMatch != null &amp;&amp; HttpUtils.matches(ifNoneMatch, fileName)) {\n            response.setHeader(\"ETag\", fileName); // Required in 304.\n            response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\n            return;\n        }\n\n        // If-Modified-Since header should be greater than LastModified. If so, then return 304.\n        // This header is ignored if any If-None-Match header is specified.\n        long ifModifiedSince = request.getDateHeader(\"If-Modified-Since\");\n        if (ifNoneMatch == null &amp;&amp; ifModifiedSince != -1 &amp;&amp; ifModifiedSince + 1000 &gt; lastModified) {\n            response.setHeader(\"ETag\", fileName); // Required in 304.\n            response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\n            return;\n        }\n\n        // Validate request headers for resume ----------------------------------------------------\n\n        // If-Match header should contain \"*\" or ETag. If not, then return 412.\n        String ifMatch = request.getHeader(\"If-Match\");\n        if (ifMatch != null &amp;&amp; !HttpUtils.matches(ifMatch, fileName)) {\n            response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\n            return;\n        }\n\n        // If-Unmodified-Since header should be greater than LastModified. If not, then return 412.\n        long ifUnmodifiedSince = request.getDateHeader(\"If-Unmodified-Since\");\n        if (ifUnmodifiedSince != -1 &amp;&amp; ifUnmodifiedSince + 1000 &lt;= lastModified) {\n            response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\n            return;\n        }\n\n        // Validate and process range -------------------------------------------------------------\n\n        // Prepare some variables. The full Range represents the complete file.\n        Range full = new Range(0, length - 1, length);\n        List&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\n\n        // Validate and process Range and If-Range headers.\n        String range = request.getHeader(\"Range\");\n        if (range != null) {\n\n            // Range header should match format \"bytes=n-n,n-n,n-n...\". If not, then return 416.\n            if (!range.matches(\"^bytes=\\\\d*-\\\\d*(,\\\\d*-\\\\d*)*$\")) {\n                response.setHeader(\"Content-Range\", \"bytes */\" + length); // Required in 416.\n                response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\n                return;\n            }\n\n            String ifRange = request.getHeader(\"If-Range\");\n            if (ifRange != null &amp;&amp; !ifRange.equals(fileName)) {\n                try {\n                    long ifRangeTime = request.getDateHeader(\"If-Range\"); // Throws IAE if invalid.\n                    if (ifRangeTime != -1) {\n                        ranges.add(full);\n                    }\n                } catch (IllegalArgumentException ignore) {\n                    ranges.add(full);\n                }\n            }\n\n            // If any valid If-Range header, then process each part of byte range.\n            if (ranges.isEmpty()) {\n                for (String part : range.substring(6).split(\",\")) {\n                    // Assuming a file with length of 100, the following examples returns bytes at:\n                    // 50-80 (50 to 80), 40- (40 to length=100), -20 (length-20=80 to length=100).\n                    long start = Range.sublong(part, 0, part.indexOf(\"-\"));\n                    long end = Range.sublong(part, part.indexOf(\"-\") + 1, part.length());\n\n                    if (start == -1) {\n                        start = length - end;\n                        end = length - 1;\n                    } else if (end == -1 || end &gt; length - 1) {\n                        end = length - 1;\n                    }\n\n                    // Check if Range is syntactically valid. If not, then return 416.\n                    if (start &gt; end) {\n                        response.setHeader(\"Content-Range\", \"bytes */\" + length); // Required in 416.\n                        response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\n                        return;\n                    }\n\n                    // Add range.                    \n                    ranges.add(new Range(start, end, length));\n                }\n            }\n        }\n\n        // Prepare and initialize response --------------------------------------------------------\n\n        // Get content type by file name and set content disposition.\n        String disposition = \"inline\";\n\n        // If content type is unknown, then set the default value.\n        // For all content types, see: http://www.w3schools.com/media/media_mimeref.asp\n        // To add new content types, add new mime-mapping entry in web.xml.\n        if (contentType == null) {\n            contentType = \"application/octet-stream\";\n        } else if (!contentType.startsWith(\"image\")) {\n            // Else, expect for images, determine content disposition. If content type is supported by\n            // the browser, then set to inline, else attachment which will pop a 'save as' dialogue.\n            String accept = request.getHeader(\"Accept\");\n            disposition = accept != null &amp;&amp; HttpUtils.accepts(accept, contentType) ? \"inline\" : \"attachment\";\n        }\n        logger.debug(\"Content-Type : {}\", contentType);\n        // Initialize response.\n        response.reset();\n        response.setBufferSize(DEFAULT_BUFFER_SIZE);\n        response.setHeader(\"Content-Type\", contentType);\n        response.setHeader(\"Content-Disposition\", disposition + \";filename=\\\"\" + fileName + \"\\\"\");\n        logger.debug(\"Content-Disposition : {}\", disposition);\n        response.setHeader(\"Accept-Ranges\", \"bytes\");\n        response.setHeader(\"ETag\", fileName);\n        response.setDateHeader(\"Last-Modified\", lastModified);\n        response.setDateHeader(\"Expires\", System.currentTimeMillis() + DEFAULT_EXPIRE_TIME);\n\n        // Send requested file (part(s)) to client ------------------------------------------------\n\n        // Prepare streams.\n        try (InputStream input = new BufferedInputStream(Files.newInputStream(filepath));\n             OutputStream output = response.getOutputStream()) {\n\n            if (ranges.isEmpty() || ranges.get(0) == full) {\n\n                // Return full file.\n                logger.info(\"Return full file\");\n                response.setContentType(contentType);\n                response.setHeader(\"Content-Range\", \"bytes \" + full.start + \"-\" + full.end + \"/\" + full.total);\n                response.setHeader(\"Content-Length\", String.valueOf(full.length));\n                Range.copy(input, output, length, full.start, full.length);\n\n            } else if (ranges.size() == 1) {\n\n                // Return single part of file.\n                Range r = ranges.get(0);\n                logger.info(\"Return 1 part of file : from ({}) to ({})\", r.start, r.end);\n                response.setContentType(contentType);\n                response.setHeader(\"Content-Range\", \"bytes \" + r.start + \"-\" + r.end + \"/\" + r.total);\n                response.setHeader(\"Content-Length\", String.valueOf(r.length));\n                response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\n\n                // Copy single part range.\n                Range.copy(input, output, length, r.start, r.length);\n\n            } else {\n\n                // Return multiple parts of file.\n                response.setContentType(\"multipart/byteranges; boundary=\" + MULTIPART_BOUNDARY);\n                response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\n\n                // Cast back to ServletOutputStream to get the easy println methods.\n                ServletOutputStream sos = (ServletOutputStream) output;\n\n                // Copy multi part range.\n                for (Range r : ranges) {\n                    logger.info(\"Return multi part of file : from ({}) to ({})\", r.start, r.end);\n                    // Add multipart boundary and header fields for every range.\n                    sos.println();\n                    sos.println(\"--\" + MULTIPART_BOUNDARY);\n                    sos.println(\"Content-Type: \" + contentType);\n                    sos.println(\"Content-Range: bytes \" + r.start + \"-\" + r.end + \"/\" + r.total);\n\n                    // Copy single part range of multi part range.\n                    Range.copy(input, output, length, r.start, r.length);\n                }\n\n                // End with multipart boundary.\n                sos.println();\n                sos.println(\"--\" + MULTIPART_BOUNDARY + \"--\");\n            }\n        }\n\n    }\n\n    private static class Range {\n        long start;\n        long end;\n        long length;\n        long total;\n\n        /**\n         * Construct a byte range.\n         * @param start Start of the byte range.\n         * @param end End of the byte range.\n         * @param total Total length of the byte source.\n         */\n        public Range(long start, long end, long total) {\n            this.start = start;\n            this.end = end;\n            this.length = end - start + 1;\n            this.total = total;\n        }\n\n        public static long sublong(String value, int beginIndex, int endIndex) {\n            String substring = value.substring(beginIndex, endIndex);\n            return (substring.length() &gt; 0) ? Long.parseLong(substring) : -1;\n        }\n\n        private static void copy(InputStream input, OutputStream output, long inputSize, long start, long length) throws IOException {\n            byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\n            int read;\n\n            if (inputSize == length) {\n                // Write full range.\n                while ((read = input.read(buffer)) &gt; 0) {\n                    output.write(buffer, 0, read);\n                    output.flush();\n                }\n            } else {\n                input.skip(start);\n                long toRead = length;\n\n                while ((read = input.read(buffer)) &gt; 0) {\n                    if ((toRead -= read) &gt; 0) {\n                        output.write(buffer, 0, read);\n                        output.flush();\n                    } else {\n                        output.write(buffer, 0, (int) toRead + read);\n                        output.flush();\n                        break;\n                    }\n                }\n            }\n        }\n    }\n    private static class HttpUtils {\n\n        /**\n         * Returns true if the given accept header accepts the given value.\n         * @param acceptHeader The accept header.\n         * @param toAccept The value to be accepted.\n         * @return True if the given accept header accepts the given value.\n         */\n        public static boolean accepts(String acceptHeader, String toAccept) {\n            String[] acceptValues = acceptHeader.split(\"\\\\s*(,|;)\\\\s*\");\n            Arrays.sort(acceptValues);\n\n            return Arrays.binarySearch(acceptValues, toAccept) &gt; -1\n                    || Arrays.binarySearch(acceptValues, toAccept.replaceAll(\"/.*$\", \"/*\")) &gt; -1\n                    || Arrays.binarySearch(acceptValues, \"*/*\") &gt; -1;\n        }\n\n        /**\n         * Returns true if the given match header matches the given value.\n         * @param matchHeader The match header.\n         * @param toMatch The value to be matched.\n         * @return True if the given match header matches the given value.\n         */\n        public static boolean matches(String matchHeader, String toMatch) {\n            String[] matchValues = matchHeader.split(\"\\\\s*,\\\\s*\");\n            Arrays.sort(matchValues);\n            return Arrays.binarySearch(matchValues, toMatch) &gt; -1\n                    || Arrays.binarySearch(matchValues, \"*\") &gt; -1;\n        }\n    }\n}\n</code></pre>\n\n<p>Use in Controller:</p>\n\n<pre><code>MultipartFileSender.fromPath(pathtofile)\n                .with(httprequest)\n                .with(httpresponse)\n                .serveResource();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1434521,"reputation":290,"user_id":1356208,"display_name":"Uttesh Kumar"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1424114145,"creation_date":1424093057,"answer_id":28542439,"question_id":28427339,"body_markdown":"Try this simple code .\r\n\r\n    @GET\r\n    @Produces({&quot;application/octet-stream&quot;})\r\n    public Response getFile() {\r\n      File file = ... \r\n      return Response.ok(file, MediaType.APPLICATION_OCTET_STREAM)\r\n          .header(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + file.getName() + &quot;\\&quot;&quot; ) .build();\r\n    }\r\n\r\nUpdate :\r\n\r\nIts wrapping the Spring Jersey jersey.java.net RESTful implementation with spring MVC. \r\n\r\nFor pure Spring mvc use below code.\r\n\r\n    @RequestMapping(&quot;/video&quot;) public ResponseEntity&lt;byte[]&gt; getvideo() throws IOException { \r\n        InputStream in = ... \r\n        final HttpHeaders headers = new HttpHeaders(); \r\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM); \r\n        return new ResponseEntity&lt;byte[]&gt;IOUtils.toByteArray(in),headers,HttpStatus.CREATED); \r\n    }\r\n\r\n \r\n\r\nIOUtils is from apache common jar","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>Try this simple code .</p>\n\n<pre><code>@GET\n@Produces({\"application/octet-stream\"})\npublic Response getFile() {\n  File file = ... \n  return Response.ok(file, MediaType.APPLICATION_OCTET_STREAM)\n      .header(\"Content-Disposition\", \"attachment; filename=\\\"\" + file.getName() + \"\\\"\" ) .build();\n}\n</code></pre>\n\n<p>Update :</p>\n\n<p>Its wrapping the Spring Jersey jersey.java.net RESTful implementation with spring MVC. </p>\n\n<p>For pure Spring mvc use below code.</p>\n\n<pre><code>@RequestMapping(\"/video\") public ResponseEntity&lt;byte[]&gt; getvideo() throws IOException { \n    InputStream in = ... \n    final HttpHeaders headers = new HttpHeaders(); \n    headers.setContentType(MediaType.APPLICATION_OCTET_STREAM); \n    return new ResponseEntity&lt;byte[]&gt;IOUtils.toByteArray(in),headers,HttpStatus.CREATED); \n}\n</code></pre>\n\n<p>IOUtils is from apache common jar</p>\n"},{"tags":[],"owner":{"account_id":5118239,"reputation":144,"user_id":4102689,"display_name":"Kevin Davin"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1441991768,"creation_date":1424687967,"answer_id":28671817,"question_id":28427339,"body_markdown":"If you want to avoid `MimeTypeUtils`, you can use `Files.probeContentType(Path path)`. That will use the default implementation of the system.","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>If you want to avoid <code>MimeTypeUtils</code>, you can use <code>Files.probeContentType(Path path)</code>. That will use the default implementation of the system.</p>\n"},{"tags":[],"owner":{"account_id":2350335,"reputation":21,"user_id":2059379,"display_name":"user2059379"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431104796,"creation_date":1431104796,"answer_id":30129235,"question_id":28427339,"body_markdown":"Depending on what you&#39;re trying to achieve, it may make sense for you to map the request by to the container&#39;s default servlet. \r\n\r\nI.e., during initialization:\r\n\r\n    ServletContext container = ...\r\n\r\n    // Map *.mp4 to the default servlet to support range requests\r\n\r\n    ServletRegistration servletRegistration = container.getServletRegistration(&quot;default&quot;);\r\n    servletRegistration.addMapping(&quot;*.mp4&quot;);","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>Depending on what you're trying to achieve, it may make sense for you to map the request by to the container's default servlet. </p>\n\n<p>I.e., during initialization:</p>\n\n<pre><code>ServletContext container = ...\n\n// Map *.mp4 to the default servlet to support range requests\n\nServletRegistration servletRegistration = container.getServletRegistration(\"default\");\nservletRegistration.addMapping(\"*.mp4\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2519364,"reputation":61,"user_id":2190026,"display_name":"Jamaslab"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509097988,"creation_date":1509097988,"answer_id":46972276,"question_id":28427339,"body_markdown":"The answer of Leandro worked perfectly for me. I only changed the InputStream with a RandomAccessFile, it is performing better to access a random point inside a file.  \r\n\r\nHere is the class MultipartFileSender\r\n\r\n    import javax.servlet.ServletOutputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.util.StringUtils;\r\n\r\n    import java.io.*;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.attribute.FileTime;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n\r\n    public class MultipartFileSender {\r\n\r\n        protected final Logger logger = LoggerFactory.getLogger(this.getClass());\r\n\r\n        private static final int DEFAULT_BUFFER_SIZE = 20480; // ..bytes = 20KB.\r\n        private static final long DEFAULT_EXPIRE_TIME = 604800000L; // ..ms = 1 week.\r\n        private static final String MULTIPART_BOUNDARY = &quot;MULTIPART_BYTERANGES&quot;;\r\n\r\n        Path filepath;\r\n        HttpServletRequest request;\r\n        HttpServletResponse response;\r\n\r\n        public MultipartFileSender() {\r\n        }\r\n\r\n        public static MultipartFileSender fromPath(Path path) {\r\n            return new MultipartFileSender().setFilepath(path);\r\n        }\r\n\r\n        public static MultipartFileSender fromFile(File file) {\r\n            return new MultipartFileSender().setFilepath(file.toPath());\r\n        }\r\n\r\n        public static MultipartFileSender fromURIString(String uri) {\r\n            return new MultipartFileSender().setFilepath(Paths.get(uri));\r\n        }\r\n\r\n        //** internal setter **//\r\n        private MultipartFileSender setFilepath(Path filepath) {\r\n            this.filepath = filepath;\r\n            return this;\r\n        }\r\n\r\n        public MultipartFileSender with(HttpServletRequest httpRequest) {\r\n            request = httpRequest;\r\n            return this;\r\n        }\r\n\r\n        public MultipartFileSender with(HttpServletResponse httpResponse) {\r\n            response = httpResponse;\r\n            return this;\r\n        }\r\n\r\n        public void serveResource() throws Exception {\r\n            if (response == null || request == null) {\r\n                return;\r\n            }\r\n\r\n            if (!Files.exists(filepath)) {\r\n                logger.error(&quot;File doesn&#39;t exist at URI : {}&quot;, filepath.toAbsolutePath().toString());\r\n                response.sendError(HttpServletResponse.SC_NOT_FOUND);\r\n                return;\r\n            }\r\n\r\n            Long length = Files.size(filepath);\r\n            String fileName = filepath.getFileName().toString();\r\n            FileTime lastModifiedObj = Files.getLastModifiedTime(filepath);\r\n\r\n            if (StringUtils.isEmpty(fileName) || lastModifiedObj == null) {\r\n                response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n                return;\r\n            }\r\n        long lastModified = LocalDateTime.ofInstant(lastModifiedObj.toInstant(), ZoneId.of(ZoneOffset.systemDefault().getId())).toEpochSecond(ZoneOffset.UTC);\r\n        String contentType = &quot;video/mp4&quot;;\r\n\r\n        // Validate request headers for caching ---------------------------------------------------\r\n\r\n        // If-None-Match header should contain &quot;*&quot; or ETag. If so, then return 304.\r\n        String ifNoneMatch = request.getHeader(&quot;If-None-Match&quot;);\r\n        if (ifNoneMatch != null &amp;&amp; HttpUtils.matches(ifNoneMatch, fileName)) {\r\n            response.setHeader(&quot;ETag&quot;, fileName); // Required in 304.\r\n            response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\r\n            return;\r\n        }\r\n\r\n        // If-Modified-Since header should be greater than LastModified. If so, then return 304.\r\n        // This header is ignored if any If-None-Match header is specified.\r\n        long ifModifiedSince = request.getDateHeader(&quot;If-Modified-Since&quot;);\r\n        if (ifNoneMatch == null &amp;&amp; ifModifiedSince != -1 &amp;&amp; ifModifiedSince + 1000 &gt; lastModified) {\r\n            response.setHeader(&quot;ETag&quot;, fileName); // Required in 304.\r\n            response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\r\n            return;\r\n        }\r\n\r\n        // Validate request headers for resume ----------------------------------------------------\r\n\r\n        // If-Match header should contain &quot;*&quot; or ETag. If not, then return 412.\r\n        String ifMatch = request.getHeader(&quot;If-Match&quot;);\r\n        if (ifMatch != null &amp;&amp; !HttpUtils.matches(ifMatch, fileName)) {\r\n            response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\r\n            return;\r\n        }\r\n\r\n        // If-Unmodified-Since header should be greater than LastModified. If not, then return 412.\r\n        long ifUnmodifiedSince = request.getDateHeader(&quot;If-Unmodified-Since&quot;);\r\n        if (ifUnmodifiedSince != -1 &amp;&amp; ifUnmodifiedSince + 1000 &lt;= lastModified) {\r\n            response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\r\n            return;\r\n        }\r\n\r\n        // Validate and process range -------------------------------------------------------------\r\n\r\n        // Prepare some variables. The full Range represents the complete file.\r\n        Range full = new Range(0, length - 1, length);\r\n        List&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\r\n\r\n        // Validate and process Range and If-Range headers.\r\n        String range = request.getHeader(&quot;Range&quot;);\r\n        if (range != null) {\r\n\r\n            // Range header should match format &quot;bytes=n-n,n-n,n-n...&quot;. If not, then return 416.\r\n            if (!range.matches(&quot;^bytes=\\\\d*-\\\\d*(,\\\\d*-\\\\d*)*$&quot;)) {\r\n                response.setHeader(&quot;Content-Range&quot;, &quot;bytes */&quot; + length); // Required in 416.\r\n                response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\r\n                return;\r\n            }\r\n\r\n            String ifRange = request.getHeader(&quot;If-Range&quot;);\r\n            if (ifRange != null &amp;&amp; !ifRange.equals(fileName)) {\r\n                try {\r\n                    long ifRangeTime = request.getDateHeader(&quot;If-Range&quot;); // Throws IAE if invalid.\r\n                    if (ifRangeTime != -1) {\r\n                        ranges.add(full);\r\n                    }\r\n                } catch (IllegalArgumentException ignore) {\r\n                    ranges.add(full);\r\n                }\r\n            }\r\n\r\n            // If any valid If-Range header, then process each part of byte range.\r\n            if (ranges.isEmpty()) {\r\n                for (String part : range.substring(6).split(&quot;,&quot;)) {\r\n                    // Assuming a file with length of 100, the following examples returns bytes at:\r\n                    // 50-80 (50 to 80), 40- (40 to length=100), -20 (length-20=80 to length=100).\r\n                    long start = Range.sublong(part, 0, part.indexOf(&quot;-&quot;));\r\n                    long end = Range.sublong(part, part.indexOf(&quot;-&quot;) + 1, part.length());\r\n\r\n                    if (start == -1) {\r\n                        start = length - end;\r\n                        end = length - 1;\r\n                    } else if (end == -1 || end &gt; length - 1) {\r\n                        end = length - 1;\r\n                    }\r\n\r\n                    // Check if Range is syntactically valid. If not, then return 416.\r\n                    if (start &gt; end) {\r\n                        response.setHeader(&quot;Content-Range&quot;, &quot;bytes */&quot; + length); // Required in 416.\r\n                        response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\r\n                        return;\r\n                    }\r\n\r\n                    // Add range.                    \r\n                    ranges.add(new Range(start, end, length));\r\n                }\r\n            }\r\n        }\r\n\r\n        // Prepare and initialize response --------------------------------------------------------\r\n\r\n        // Get content type by file name and set content disposition.\r\n        String disposition = &quot;inline&quot;;\r\n\r\n        // If content type is unknown, then set the default value.\r\n        // For all content types, see: http://www.w3schools.com/media/media_mimeref.asp\r\n        // To add new content types, add new mime-mapping entry in web.xml.\r\n        if (contentType == null) {\r\n            contentType = &quot;application/octet-stream&quot;;\r\n        } else if (!contentType.startsWith(&quot;image&quot;)) {\r\n            // Else, expect for images, determine content disposition. If content type is supported by\r\n            // the browser, then set to inline, else attachment which will pop a &#39;save as&#39; dialogue.\r\n            String accept = request.getHeader(&quot;Accept&quot;);\r\n            disposition = accept != null &amp;&amp; HttpUtils.accepts(accept, contentType) ? &quot;inline&quot; : &quot;attachment&quot;;\r\n        }\r\n        logger.debug(&quot;Content-Type : {}&quot;, contentType);\r\n        // Initialize response.\r\n        response.reset();\r\n        response.setBufferSize(DEFAULT_BUFFER_SIZE);\r\n        response.setHeader(&quot;Content-Type&quot;, contentType);\r\n        response.setHeader(&quot;Content-Disposition&quot;, disposition + &quot;;filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;);\r\n        logger.debug(&quot;Content-Disposition : {}&quot;, disposition);\r\n        response.setHeader(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\r\n        response.setHeader(&quot;ETag&quot;, fileName);\r\n        response.setDateHeader(&quot;Last-Modified&quot;, lastModified);\r\n        response.setDateHeader(&quot;Expires&quot;, System.currentTimeMillis() + DEFAULT_EXPIRE_TIME);\r\n\r\n        // Send requested file (part(s)) to client ------------------------------------------------\r\n\r\n        // Prepare streams.\r\n        try (RandomAccessFile input = new RandomAccessFile(filepath.toFile(), &quot;r&quot;);\r\n             OutputStream output = response.getOutputStream()) {\r\n\r\n            if (ranges.isEmpty() || ranges.get(0) == full) {\r\n                // Return full file.\r\n                logger.info(&quot;Return full file&quot;);\r\n                response.setContentType(contentType);\r\n                response.setHeader(&quot;Content-Range&quot;, &quot;bytes &quot; + full.start + &quot;-&quot; + full.end + &quot;/&quot; + full.total);\r\n                response.setHeader(&quot;Content-Length&quot;, String.valueOf(full.length));\r\n                Range.copy(input, output, length, full.start, full.length);\r\n\r\n            } else if (ranges.size() == 1) {\r\n            \t\r\n                // Return single part of file.\r\n                Range r = ranges.get(0);\r\n                logger.info(&quot;Return 1 part of file : from ({}) to ({})&quot;, r.start, r.end);\r\n                response.setContentType(contentType);\r\n                response.setHeader(&quot;Content-Range&quot;, &quot;bytes &quot; + r.start + &quot;-&quot; + r.end + &quot;/&quot; + r.total);\r\n                response.setHeader(&quot;Content-Length&quot;, String.valueOf(r.length));\r\n                response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\r\n                // Copy single part range.\r\n                Range.copy(input, output, length, r.start, r.length);\r\n\r\n            } else {\r\n\r\n                // Return multiple parts of file.\r\n                response.setContentType(&quot;multipart/byteranges; boundary=&quot; + MULTIPART_BOUNDARY);\r\n                response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\r\n\r\n                // Cast back to ServletOutputStream to get the easy println methods.\r\n                ServletOutputStream sos = (ServletOutputStream) output;\r\n\r\n                // Copy multi part range.\r\n                for (Range r : ranges) {\r\n                    logger.info(&quot;Return multi part of file : from ({}) to ({})&quot;, r.start, r.end);\r\n                    // Add multipart boundary and header fields for every range.\r\n                    sos.println();\r\n                    sos.println(&quot;--&quot; + MULTIPART_BOUNDARY);\r\n                    sos.println(&quot;Content-Type: &quot; + contentType);\r\n                    sos.println(&quot;Content-Range: bytes &quot; + r.start + &quot;-&quot; + r.end + &quot;/&quot; + r.total);\r\n                    // Copy single part range of multi part range.\r\n                    Range.copy(input, output, length, r.start, r.length);\r\n                }\r\n\r\n                // End with multipart boundary.\r\n                sos.println();\r\n                sos.println(&quot;--&quot; + MULTIPART_BOUNDARY + &quot;--&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private static class Range {\r\n        long start;\r\n        long end;\r\n        long length;\r\n        long total;\r\n\r\n        /**\r\n         * Construct a byte range.\r\n         * @param start Start of the byte range.\r\n         * @param end End of the byte range.\r\n         * @param total Total length of the byte source.\r\n         */\r\n        public Range(long start, long end, long total) {\r\n            this.start = start;\r\n            this.end = end;\r\n            this.length = end - start + 1;\r\n            this.total = total;\r\n        }\r\n\r\n        public static long sublong(String value, int beginIndex, int endIndex) {\r\n            String substring = value.substring(beginIndex, endIndex);\r\n            return (substring.length() &gt; 0) ? Long.parseLong(substring) : -1;\r\n        }\r\n\r\n        private static void copy(RandomAccessFile input, OutputStream output, long inputSize, long start, long length) throws IOException {\r\n            byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\r\n            int read;\r\n\r\n            if (inputSize == length) {\r\n                // Write full range.\r\n                while ((read = input.read(buffer)) &gt; 0) {\r\n                    output.write(buffer, 0, read);\r\n                    output.flush();\r\n                }\r\n            } else {\r\n                input.seek(start);\r\n                long toRead = length;\r\n                \r\n                while ((read = input.read(buffer)) &gt; 0) {\r\n                    if ((toRead -= read) &gt; 0) {\r\n                        output.write(buffer, 0, read);\r\n                        output.flush();\r\n                    } else {\r\n                        output.write(buffer, 0, (int) toRead + read);\r\n                        output.flush();\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        }\r\n        private static class HttpUtils {\r\n\r\n        /**\r\n         * Returns true if the given accept header accepts the given value.\r\n         * @param acceptHeader The accept header.\r\n         * @param toAccept The value to be accepted.\r\n         * @return True if the given accept header accepts the given value.\r\n         */\r\n            public static boolean accepts(String acceptHeader, String toAccept) {\r\n                String[] acceptValues = acceptHeader.split(&quot;\\\\s*(,|;)\\\\s*&quot;);\r\n                Arrays.sort(acceptValues);\r\n\r\n                return Arrays.binarySearch(acceptValues, toAccept) &gt; -1\r\n                    || Arrays.binarySearch(acceptValues, toAccept.replaceAll(&quot;/.*$&quot;, &quot;/*&quot;)) &gt; -1\r\n                    || Arrays.binarySearch(acceptValues, &quot;*/*&quot;) &gt; -1;\r\n            }\r\n\r\n        /**\r\n         * Returns true if the given match header matches the given value.\r\n         * @param matchHeader The match header.\r\n         * @param toMatch The value to be matched.\r\n         * @return True if the given match header matches the given value.\r\n         */\r\n            public static boolean matches(String matchHeader, String toMatch) {\r\n                String[] matchValues = matchHeader.split(&quot;\\\\s*,\\\\s*&quot;);\r\n                Arrays.sort(matchValues);\r\n                return Arrays.binarySearch(matchValues, toMatch) &gt; -1\r\n                    || Arrays.binarySearch(matchValues, &quot;*&quot;) &gt; -1;\r\n            }\r\n        }\r\n    }","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>The answer of Leandro worked perfectly for me. I only changed the InputStream with a RandomAccessFile, it is performing better to access a random point inside a file.  </p>\n\n<p>Here is the class MultipartFileSender</p>\n\n<pre><code>import javax.servlet.ServletOutputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.util.StringUtils;\n\nimport java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.attribute.FileTime;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class MultipartFileSender {\n\n    protected final Logger logger = LoggerFactory.getLogger(this.getClass());\n\n    private static final int DEFAULT_BUFFER_SIZE = 20480; // ..bytes = 20KB.\n    private static final long DEFAULT_EXPIRE_TIME = 604800000L; // ..ms = 1 week.\n    private static final String MULTIPART_BOUNDARY = \"MULTIPART_BYTERANGES\";\n\n    Path filepath;\n    HttpServletRequest request;\n    HttpServletResponse response;\n\n    public MultipartFileSender() {\n    }\n\n    public static MultipartFileSender fromPath(Path path) {\n        return new MultipartFileSender().setFilepath(path);\n    }\n\n    public static MultipartFileSender fromFile(File file) {\n        return new MultipartFileSender().setFilepath(file.toPath());\n    }\n\n    public static MultipartFileSender fromURIString(String uri) {\n        return new MultipartFileSender().setFilepath(Paths.get(uri));\n    }\n\n    //** internal setter **//\n    private MultipartFileSender setFilepath(Path filepath) {\n        this.filepath = filepath;\n        return this;\n    }\n\n    public MultipartFileSender with(HttpServletRequest httpRequest) {\n        request = httpRequest;\n        return this;\n    }\n\n    public MultipartFileSender with(HttpServletResponse httpResponse) {\n        response = httpResponse;\n        return this;\n    }\n\n    public void serveResource() throws Exception {\n        if (response == null || request == null) {\n            return;\n        }\n\n        if (!Files.exists(filepath)) {\n            logger.error(\"File doesn't exist at URI : {}\", filepath.toAbsolutePath().toString());\n            response.sendError(HttpServletResponse.SC_NOT_FOUND);\n            return;\n        }\n\n        Long length = Files.size(filepath);\n        String fileName = filepath.getFileName().toString();\n        FileTime lastModifiedObj = Files.getLastModifiedTime(filepath);\n\n        if (StringUtils.isEmpty(fileName) || lastModifiedObj == null) {\n            response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n            return;\n        }\n    long lastModified = LocalDateTime.ofInstant(lastModifiedObj.toInstant(), ZoneId.of(ZoneOffset.systemDefault().getId())).toEpochSecond(ZoneOffset.UTC);\n    String contentType = \"video/mp4\";\n\n    // Validate request headers for caching ---------------------------------------------------\n\n    // If-None-Match header should contain \"*\" or ETag. If so, then return 304.\n    String ifNoneMatch = request.getHeader(\"If-None-Match\");\n    if (ifNoneMatch != null &amp;&amp; HttpUtils.matches(ifNoneMatch, fileName)) {\n        response.setHeader(\"ETag\", fileName); // Required in 304.\n        response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\n        return;\n    }\n\n    // If-Modified-Since header should be greater than LastModified. If so, then return 304.\n    // This header is ignored if any If-None-Match header is specified.\n    long ifModifiedSince = request.getDateHeader(\"If-Modified-Since\");\n    if (ifNoneMatch == null &amp;&amp; ifModifiedSince != -1 &amp;&amp; ifModifiedSince + 1000 &gt; lastModified) {\n        response.setHeader(\"ETag\", fileName); // Required in 304.\n        response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\n        return;\n    }\n\n    // Validate request headers for resume ----------------------------------------------------\n\n    // If-Match header should contain \"*\" or ETag. If not, then return 412.\n    String ifMatch = request.getHeader(\"If-Match\");\n    if (ifMatch != null &amp;&amp; !HttpUtils.matches(ifMatch, fileName)) {\n        response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\n        return;\n    }\n\n    // If-Unmodified-Since header should be greater than LastModified. If not, then return 412.\n    long ifUnmodifiedSince = request.getDateHeader(\"If-Unmodified-Since\");\n    if (ifUnmodifiedSince != -1 &amp;&amp; ifUnmodifiedSince + 1000 &lt;= lastModified) {\n        response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\n        return;\n    }\n\n    // Validate and process range -------------------------------------------------------------\n\n    // Prepare some variables. The full Range represents the complete file.\n    Range full = new Range(0, length - 1, length);\n    List&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\n\n    // Validate and process Range and If-Range headers.\n    String range = request.getHeader(\"Range\");\n    if (range != null) {\n\n        // Range header should match format \"bytes=n-n,n-n,n-n...\". If not, then return 416.\n        if (!range.matches(\"^bytes=\\\\d*-\\\\d*(,\\\\d*-\\\\d*)*$\")) {\n            response.setHeader(\"Content-Range\", \"bytes */\" + length); // Required in 416.\n            response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\n            return;\n        }\n\n        String ifRange = request.getHeader(\"If-Range\");\n        if (ifRange != null &amp;&amp; !ifRange.equals(fileName)) {\n            try {\n                long ifRangeTime = request.getDateHeader(\"If-Range\"); // Throws IAE if invalid.\n                if (ifRangeTime != -1) {\n                    ranges.add(full);\n                }\n            } catch (IllegalArgumentException ignore) {\n                ranges.add(full);\n            }\n        }\n\n        // If any valid If-Range header, then process each part of byte range.\n        if (ranges.isEmpty()) {\n            for (String part : range.substring(6).split(\",\")) {\n                // Assuming a file with length of 100, the following examples returns bytes at:\n                // 50-80 (50 to 80), 40- (40 to length=100), -20 (length-20=80 to length=100).\n                long start = Range.sublong(part, 0, part.indexOf(\"-\"));\n                long end = Range.sublong(part, part.indexOf(\"-\") + 1, part.length());\n\n                if (start == -1) {\n                    start = length - end;\n                    end = length - 1;\n                } else if (end == -1 || end &gt; length - 1) {\n                    end = length - 1;\n                }\n\n                // Check if Range is syntactically valid. If not, then return 416.\n                if (start &gt; end) {\n                    response.setHeader(\"Content-Range\", \"bytes */\" + length); // Required in 416.\n                    response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\n                    return;\n                }\n\n                // Add range.                    \n                ranges.add(new Range(start, end, length));\n            }\n        }\n    }\n\n    // Prepare and initialize response --------------------------------------------------------\n\n    // Get content type by file name and set content disposition.\n    String disposition = \"inline\";\n\n    // If content type is unknown, then set the default value.\n    // For all content types, see: http://www.w3schools.com/media/media_mimeref.asp\n    // To add new content types, add new mime-mapping entry in web.xml.\n    if (contentType == null) {\n        contentType = \"application/octet-stream\";\n    } else if (!contentType.startsWith(\"image\")) {\n        // Else, expect for images, determine content disposition. If content type is supported by\n        // the browser, then set to inline, else attachment which will pop a 'save as' dialogue.\n        String accept = request.getHeader(\"Accept\");\n        disposition = accept != null &amp;&amp; HttpUtils.accepts(accept, contentType) ? \"inline\" : \"attachment\";\n    }\n    logger.debug(\"Content-Type : {}\", contentType);\n    // Initialize response.\n    response.reset();\n    response.setBufferSize(DEFAULT_BUFFER_SIZE);\n    response.setHeader(\"Content-Type\", contentType);\n    response.setHeader(\"Content-Disposition\", disposition + \";filename=\\\"\" + fileName + \"\\\"\");\n    logger.debug(\"Content-Disposition : {}\", disposition);\n    response.setHeader(\"Accept-Ranges\", \"bytes\");\n    response.setHeader(\"ETag\", fileName);\n    response.setDateHeader(\"Last-Modified\", lastModified);\n    response.setDateHeader(\"Expires\", System.currentTimeMillis() + DEFAULT_EXPIRE_TIME);\n\n    // Send requested file (part(s)) to client ------------------------------------------------\n\n    // Prepare streams.\n    try (RandomAccessFile input = new RandomAccessFile(filepath.toFile(), \"r\");\n         OutputStream output = response.getOutputStream()) {\n\n        if (ranges.isEmpty() || ranges.get(0) == full) {\n            // Return full file.\n            logger.info(\"Return full file\");\n            response.setContentType(contentType);\n            response.setHeader(\"Content-Range\", \"bytes \" + full.start + \"-\" + full.end + \"/\" + full.total);\n            response.setHeader(\"Content-Length\", String.valueOf(full.length));\n            Range.copy(input, output, length, full.start, full.length);\n\n        } else if (ranges.size() == 1) {\n\n            // Return single part of file.\n            Range r = ranges.get(0);\n            logger.info(\"Return 1 part of file : from ({}) to ({})\", r.start, r.end);\n            response.setContentType(contentType);\n            response.setHeader(\"Content-Range\", \"bytes \" + r.start + \"-\" + r.end + \"/\" + r.total);\n            response.setHeader(\"Content-Length\", String.valueOf(r.length));\n            response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\n            // Copy single part range.\n            Range.copy(input, output, length, r.start, r.length);\n\n        } else {\n\n            // Return multiple parts of file.\n            response.setContentType(\"multipart/byteranges; boundary=\" + MULTIPART_BOUNDARY);\n            response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\n\n            // Cast back to ServletOutputStream to get the easy println methods.\n            ServletOutputStream sos = (ServletOutputStream) output;\n\n            // Copy multi part range.\n            for (Range r : ranges) {\n                logger.info(\"Return multi part of file : from ({}) to ({})\", r.start, r.end);\n                // Add multipart boundary and header fields for every range.\n                sos.println();\n                sos.println(\"--\" + MULTIPART_BOUNDARY);\n                sos.println(\"Content-Type: \" + contentType);\n                sos.println(\"Content-Range: bytes \" + r.start + \"-\" + r.end + \"/\" + r.total);\n                // Copy single part range of multi part range.\n                Range.copy(input, output, length, r.start, r.length);\n            }\n\n            // End with multipart boundary.\n            sos.println();\n            sos.println(\"--\" + MULTIPART_BOUNDARY + \"--\");\n        }\n    }\n\n}\n\nprivate static class Range {\n    long start;\n    long end;\n    long length;\n    long total;\n\n    /**\n     * Construct a byte range.\n     * @param start Start of the byte range.\n     * @param end End of the byte range.\n     * @param total Total length of the byte source.\n     */\n    public Range(long start, long end, long total) {\n        this.start = start;\n        this.end = end;\n        this.length = end - start + 1;\n        this.total = total;\n    }\n\n    public static long sublong(String value, int beginIndex, int endIndex) {\n        String substring = value.substring(beginIndex, endIndex);\n        return (substring.length() &gt; 0) ? Long.parseLong(substring) : -1;\n    }\n\n    private static void copy(RandomAccessFile input, OutputStream output, long inputSize, long start, long length) throws IOException {\n        byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\n        int read;\n\n        if (inputSize == length) {\n            // Write full range.\n            while ((read = input.read(buffer)) &gt; 0) {\n                output.write(buffer, 0, read);\n                output.flush();\n            }\n        } else {\n            input.seek(start);\n            long toRead = length;\n\n            while ((read = input.read(buffer)) &gt; 0) {\n                if ((toRead -= read) &gt; 0) {\n                    output.write(buffer, 0, read);\n                    output.flush();\n                } else {\n                    output.write(buffer, 0, (int) toRead + read);\n                    output.flush();\n                    break;\n                }\n            }\n        }\n    }\n    }\n    private static class HttpUtils {\n\n    /**\n     * Returns true if the given accept header accepts the given value.\n     * @param acceptHeader The accept header.\n     * @param toAccept The value to be accepted.\n     * @return True if the given accept header accepts the given value.\n     */\n        public static boolean accepts(String acceptHeader, String toAccept) {\n            String[] acceptValues = acceptHeader.split(\"\\\\s*(,|;)\\\\s*\");\n            Arrays.sort(acceptValues);\n\n            return Arrays.binarySearch(acceptValues, toAccept) &gt; -1\n                || Arrays.binarySearch(acceptValues, toAccept.replaceAll(\"/.*$\", \"/*\")) &gt; -1\n                || Arrays.binarySearch(acceptValues, \"*/*\") &gt; -1;\n        }\n\n    /**\n     * Returns true if the given match header matches the given value.\n     * @param matchHeader The match header.\n     * @param toMatch The value to be matched.\n     * @return True if the given match header matches the given value.\n     */\n        public static boolean matches(String matchHeader, String toMatch) {\n            String[] matchValues = matchHeader.split(\"\\\\s*,\\\\s*\");\n            Arrays.sort(matchValues);\n            return Arrays.binarySearch(matchValues, toMatch) &gt; -1\n                || Arrays.binarySearch(matchValues, \"*\") &gt; -1;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7672688,"reputation":25,"user_id":5814399,"display_name":"Fadeef Saleh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536298592,"creation_date":1536298592,"answer_id":52215899,"question_id":28427339,"body_markdown":"woww, The answer of Leandro so briliant. just create service file follow him \r\nand use in controller. here my after follow his guidelines\r\n\r\n\r\n    @RequestMapping(value = [(SKConstant.URL_PROJECT_API + &quot;/video/{token}&quot;)], method = arrayOf(RequestMethod.GET)\r\n    fun getVideo(@PathVariable(&quot;token&quot;) token: String, response: HttpServletResponse, request: HttpServletRequest): Any?{\r\n             val file = baseService.getByToken(token)\r\n             if(file != null) {\r\n               return MultipartFileSender.fromFile(File(fileService.getUploadFileRealPath(file.uniqueName!!)))\r\n                                  .with(request)\r\n                                  .with(response)\r\n                                  .serveResource()\r\n     }\r\n\r\n","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>woww, The answer of Leandro so briliant. just create service file follow him \nand use in controller. here my after follow his guidelines</p>\n\n<pre><code>@RequestMapping(value = [(SKConstant.URL_PROJECT_API + \"/video/{token}\")], method = arrayOf(RequestMethod.GET)\nfun getVideo(@PathVariable(\"token\") token: String, response: HttpServletResponse, request: HttpServletRequest): Any?{\n         val file = baseService.getByToken(token)\n         if(file != null) {\n           return MultipartFileSender.fromFile(File(fileService.getUploadFileRealPath(file.uniqueName!!)))\n                              .with(request)\n                              .with(response)\n                              .serveResource()\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5382172,"reputation":580,"user_id":4287124,"display_name":"icguy"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1675326784,"creation_date":1597314384,"answer_id":63393094,"question_id":28427339,"body_markdown":"It&#39;s 2020 here.\r\n\r\nPartial ranges are implemented in Spring by default (I&#39;m using Spring Boot 2.2.4). My controller code looks similar to the one below and it works just fine with range headers.\r\n\r\n    return ResponseEntity.ok().body(new FileSystemResource(file))\r\n\r\nNotes (See [The Almighty Source Code][1] for details):\r\n\r\n - Spring requires the response to be set to 200 and internally (if range headers are present on the request) replaces it with 206 Partial Content.\r\n - Spring also requires the response to be a Resource instance **except** InputStreamResource for which it fails. For files FileSystemResource seems to be the best choice.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/1984cfe9d79e8a34955a393ef9d71a2a3d11a87c/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/AbstractMessageConverterMethodProcessor.java#L196-L213","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>It's 2020 here.</p>\n<p>Partial ranges are implemented in Spring by default (I'm using Spring Boot 2.2.4). My controller code looks similar to the one below and it works just fine with range headers.</p>\n<pre><code>return ResponseEntity.ok().body(new FileSystemResource(file))\n</code></pre>\n<p>Notes (See <a href=\"https://github.com/spring-projects/spring-framework/blob/1984cfe9d79e8a34955a393ef9d71a2a3d11a87c/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/AbstractMessageConverterMethodProcessor.java#L196-L213\" rel=\"noreferrer\">The Almighty Source Code</a> for details):</p>\n<ul>\n<li>Spring requires the response to be set to 200 and internally (if range headers are present on the request) replaces it with 206 Partial Content.</li>\n<li>Spring also requires the response to be a Resource instance <strong>except</strong> InputStreamResource for which it fails. For files FileSystemResource seems to be the best choice.</li>\n</ul>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40054,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":28479001,"answer_count":7,"score":41,"last_activity_date":1675326784,"creation_date":1423557960,"question_id":28427339,"body_markdown":"I have the problem with video rewind on my site.\r\n\r\nI figure out that problem with http headers.\r\n\r\nMy current controller method which returns video:\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/testVideo&quot;)\r\n    @ResponseBody\r\n    public FileSystemResource testVideo(Principal principal) throws IOException {\r\n       return new FileSystemResource(new File(&quot;D:\\\\oceans.mp4&quot;));\r\n    }\r\n\r\nHow to rewrite following code with byte-range supporting?\r\n\r\nP.S.\r\n-\r\nI have seen following example [http://balusc.blogspot.in/2009/02/fileservlet-supporting-resume-and.html](https://web.archive.org/web/20100818085302/http://balusc.blogspot.com/2009/02/fileservlet-supporting-resume-and.html)\r\n\r\nBut this code looks hard for me and I cannot understand it. I hope that in spring mvc exists way simpler.","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>I have the problem with video rewind on my site.</p>\n\n<p>I figure out that problem with http headers.</p>\n\n<p>My current controller method which returns video:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = \"/testVideo\")\n@ResponseBody\npublic FileSystemResource testVideo(Principal principal) throws IOException {\n   return new FileSystemResource(new File(\"D:\\\\oceans.mp4\"));\n}\n</code></pre>\n\n<p>How to rewrite following code with byte-range supporting?</p>\n\n<h2>P.S.</h2>\n\n<p>I have seen following example <a href=\"https://web.archive.org/web/20100818085302/http://balusc.blogspot.com/2009/02/fileservlet-supporting-resume-and.html\" rel=\"noreferrer\">http://balusc.blogspot.in/2009/02/fileservlet-supporting-resume-and.html</a></p>\n\n<p>But this code looks hard for me and I cannot understand it. I hope that in spring mvc exists way simpler.</p>\n"},{"tags":["java","type-conversion","byte","short"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1247059912,"post_id":736815,"comment_id":912572,"body_markdown":"Is there a particular reason you use short instead of int? Isn&#39;t your CRC value unsigned?","body":"Is there a particular reason you use short instead of int? Isn&#39;t your CRC value unsigned?"}],"answers":[{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":2,"up_vote_count":71,"is_accepted":false,"score":69,"last_activity_date":1239343569,"creation_date":1239343569,"answer_id":736851,"question_id":736815,"body_markdown":"Remember, you don&#39;t have to tie yourself in knots with bit shifting if you&#39;re not too familiar with the details. You can use a ByteBuffer to help you out:\r\n\r\n    ByteBuffer bb = ByteBuffer.allocate(2);\r\n    bb.order(ByteOrder.LITTLE_ENDIAN);\r\n    bb.put(firstByte);\r\n    bb.put(secondByte);\r\n    short shortVal = bb.getShort(0);\r\n\r\nAnd vice versa, you can put a short, then pull out bytes.\r\n\r\nBy the way, bitwise operations automatically promote the operands to at least the width of an int. There&#39;s really no notion of &quot;not being allowed to shift a byte more than 7 bits&quot; and other rumours that seem to be going round.","title":"2 bytes to short","body":"<p>Remember, you don't have to tie yourself in knots with bit shifting if you're not too familiar with the details. You can use a ByteBuffer to help you out:</p>\n\n<pre><code>ByteBuffer bb = ByteBuffer.allocate(2);\nbb.order(ByteOrder.LITTLE_ENDIAN);\nbb.put(firstByte);\nbb.put(secondByte);\nshort shortVal = bb.getShort(0);\n</code></pre>\n\n<p>And vice versa, you can put a short, then pull out bytes.</p>\n\n<p>By the way, bitwise operations automatically promote the operands to at least the width of an int. There's really no notion of \"not being allowed to shift a byte more than 7 bits\" and other rumours that seem to be going round.</p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1527806688,"creation_date":1239345654,"answer_id":736892,"question_id":736815,"body_markdown":"When converting byte values from a stream into numeric values in Java you have to be very careful with sign extension.  There is a trap with negative numbers (values from (unsigned) 128-255).\r\n\r\nTry this (it works if hi and lo are any Java integer type) :\r\n\r\n    short val=(short)(((hi &amp; 0xFF) &lt;&lt; 8) | (lo &amp; 0xFF));\r\n\r\nI find it&#39;s best to be explicit with the parentheses in these cases.","title":"2 bytes to short","body":"<p>When converting byte values from a stream into numeric values in Java you have to be very careful with sign extension.  There is a trap with negative numbers (values from (unsigned) 128-255).</p>\n\n<p>Try this (it works if hi and lo are any Java integer type) :</p>\n\n<pre><code>short val=(short)(((hi &amp; 0xFF) &lt;&lt; 8) | (lo &amp; 0xFF));\n</code></pre>\n\n<p>I find it's best to be explicit with the parentheses in these cases.</p>\n"},{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1247062723,"creation_date":1247062723,"answer_id":1098397,"question_id":736815,"body_markdown":"The other answers are OK, but I would like to put an emphasis on the type:\r\n\r\n    short high=(-48 &amp; 0x00ff);\r\n    short low=80;\r\n\r\n    int c= ((high &amp; 0xFF) &lt;&lt; 8) | (low &amp; 0xFF);\r\n\r\nThe `short` type can represent values between -32768 to 32767. 53328 cannot be nicely stored in short, use `int` instead as it allows you to store unsigned value up to ~10&lt;sup&gt;9&lt;/sup&gt;\r\nSo don&#39;t downcast the expression to short as it will net you the signed value.","title":"2 bytes to short","body":"<p>The other answers are OK, but I would like to put an emphasis on the type:</p>\n\n<pre><code>short high=(-48 &amp; 0x00ff);\nshort low=80;\n\nint c= ((high &amp; 0xFF) &lt;&lt; 8) | (low &amp; 0xFF);\n</code></pre>\n\n<p>The <code>short</code> type can represent values between -32768 to 32767. 53328 cannot be nicely stored in short, use <code>int</code> instead as it allows you to store unsigned value up to ~10<sup>9</sup>\nSo don't downcast the expression to short as it will net you the signed value.</p>\n"},{"tags":[],"owner":{"account_id":2153338,"reputation":4072,"user_id":1909094,"accept_rate":83,"display_name":"Lake"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1467820154,"creation_date":1467819828,"answer_id":38228146,"question_id":736815,"body_markdown":"This happens when trying to concatenate bytes (very subtle)\r\n\r\n    byte b1 = (byte) 0xAD;\r\n    byte b2 = (byte) 0xCA;\r\n    short s = (short) (b1&lt;&lt;8 | b2);\r\n\r\nThe above produces 0xFFCA, which is wrong.\r\nThis is because b2 is negative (byte type is signed!), which means that when it will get converted to int type for the bit-wise | operation, it will be left-padded with 0xF!\r\n\r\nTherefore, you must remember to mask-out the padded bytes so that they will definitely be zero:\r\n\r\n    short s = (short) (b1&lt;&lt;8 | b2 &amp; 0xFF);","title":"2 bytes to short","body":"<p>This happens when trying to concatenate bytes (very subtle)</p>\n\n<pre><code>byte b1 = (byte) 0xAD;\nbyte b2 = (byte) 0xCA;\nshort s = (short) (b1&lt;&lt;8 | b2);\n</code></pre>\n\n<p>The above produces 0xFFCA, which is wrong.\nThis is because b2 is negative (byte type is signed!), which means that when it will get converted to int type for the bit-wise | operation, it will be left-padded with 0xF!</p>\n\n<p>Therefore, you must remember to mask-out the padded bytes so that they will definitely be zero:</p>\n\n<pre><code>short s = (short) (b1&lt;&lt;8 | b2 &amp; 0xFF);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6556316,"reputation":2208,"user_id":5068914,"display_name":"Mariusz Wiazowski"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1536134279,"creation_date":1519749035,"answer_id":49013492,"question_id":736815,"body_markdown":"You can convert 2 bytes to a short in a more readable and elegant way.\r\n\r\n    short s = ByteBuffer.wrap(new byte[]{0x01, 0x02}).getShort();\r\n    // now s equals 258 = 256 + 2\r\n\r\nThe first byte is the most significant byte.","title":"2 bytes to short","body":"<p>You can convert 2 bytes to a short in a more readable and elegant way.</p>\n\n<pre><code>short s = ByteBuffer.wrap(new byte[]{0x01, 0x02}).getShort();\n// now s equals 258 = 256 + 2\n</code></pre>\n\n<p>The first byte is the most significant byte.</p>\n"},{"tags":[],"owner":{"account_id":5834974,"reputation":318,"user_id":4598342,"display_name":"Pwn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607674452,"creation_date":1607674452,"answer_id":65247835,"question_id":736815,"body_markdown":"This works for me\r\n\r\n    short temp = ;\r\n    result[0] = (byte) ((temp &gt;&gt;&gt; 8) &amp; 0xFF);\r\n    result[1] = (byte)((temp) &amp; 0xFF);","title":"2 bytes to short","body":"<p>This works for me</p>\n<pre><code>short temp = ;\nresult[0] = (byte) ((temp &gt;&gt;&gt; 8) &amp; 0xFF);\nresult[1] = (byte)((temp) &amp; 0xFF);\n</code></pre>\n"}],"owner":{"display_name":"Nilesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75686,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"answer_count":6,"score":36,"last_activity_date":1675326760,"creation_date":1239342334,"question_id":736815,"body_markdown":"I&#39;m reading a packet with a length of 133 bytes from the serialport, the last 2 bytes contain the CRC values, 2 byte values I&#39;ve made single (short I think) using Java.\r\n\r\nThis what I have done:\r\n\r\n    short high = (-48 &amp; 0x00ff);\r\n    short low = 80;\r\n    \r\n    short c = (short) ((high &lt;&lt; 8) + low);\r\n\r\n\r\nBut I&#39;m not getting the correct result. Is it a problem because of the use of signed values?\r\nHow can I solve this problem?","title":"2 bytes to short","body":"<p>I'm reading a packet with a length of 133 bytes from the serialport, the last 2 bytes contain the CRC values, 2 byte values I've made single (short I think) using Java.</p>\n<p>This what I have done:</p>\n<pre><code>short high = (-48 &amp; 0x00ff);\nshort low = 80;\n\nshort c = (short) ((high &lt;&lt; 8) + low);\n</code></pre>\n<p>But I'm not getting the correct result. Is it a problem because of the use of signed values?\nHow can I solve this problem?</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1675321808,"post_id":75319202,"comment_id":132904681,"body_markdown":"The expected class file version (57.0) hints at Java 13, the path in the error message hints at using Gradle. Does your `build.gradle` contain a statement like `languageVersion = JavaLanguageVersion.of(13)`?","body":"The expected class file version (57.0) hints at Java 13, the path in the error message hints at using Gradle. Does your <code>build.gradle</code> contain a statement like <code>languageVersion = JavaLanguageVersion.of(13)</code>?"},{"owner":{"account_id":65286,"reputation":2157,"user_id":192252,"accept_rate":86,"display_name":"Shaitender Singh"},"score":0,"creation_date":1675325792,"post_id":75319202,"comment_id":132905500,"body_markdown":"@ThomasKl&#228;ger java.sourceCompatibility = JavaVersion.VERSION_11  // it uses Java 11\njava.targetCompatibility = JavaVersion.VERSION_11","body":"@ThomasKl&#228;ger java.sourceCompatibility = JavaVersion.VERSION_11  // it uses Java 11 java.targetCompatibility = JavaVersion.VERSION_11"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1675326666,"post_id":75319202,"comment_id":132905759,"body_markdown":"At least one of your dependencies (com.example.streaming:streaming-core:v1.36.1) has been compiled for Java 18 (class file version 62). You will need to find a version of that dependency that is compiled for the Java version that your project uses.","body":"At least one of your dependencies (com.example.streaming:streaming-core:v1.36.1) has been compiled for Java 18 (class file version 62). You will need to find a version of that dependency that is compiled for the Java version that your project uses."},{"owner":{"account_id":65286,"reputation":2157,"user_id":192252,"accept_rate":86,"display_name":"Shaitender Singh"},"score":0,"creation_date":1675493622,"post_id":75319202,"comment_id":132944938,"body_markdown":"@ThomasKl&#228;ger issue has been resolved bu configuring java 18 and  setting gradle java 18 version, thank you for your help","body":"@ThomasKl&#228;ger issue has been resolved bu configuring java 18 and  setting gradle java 18 version, thank you for your help"}],"answers":[{"tags":[],"owner":{"account_id":3702936,"reputation":120,"user_id":3082137,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675317816,"creation_date":1675317816,"answer_id":75319239,"question_id":75319202,"body_markdown":"Try JDK version 1.9 or higher.\r\nIf class files has version 62.0,then least JDK 9 installed on system to be able to compile them","title":"class file has wrong version 62.0, should be 57.0 - While building Jar","body":"<p>Try JDK version 1.9 or higher.\nIf class files has version 62.0,then least JDK 9 installed on system to be able to compile them</p>\n"},{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675326273,"creation_date":1675326273,"answer_id":75320364,"question_id":75319202,"body_markdown":"I solved this problem, by just reinstalling my JDK. If you&#39;re using IntelliJ, just head to the project settings and click download in the JDK dropdown menu.\r\n\r\nI also solved this problem on my Ubuntu 20.04 machine by running `sudo apt install openjdk-13-jdk`, which installs the jdk and\r\n`sudo update-alternatives --config java`, which updates the index of the newest jdk (i think).\r\n\r\nIf I understood you wrongly with the version needed, just adjust the number behind `openjdk-` to whatever version you need.\r\n\r\n[All versions to their corresponding class file versions](https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers)","title":"class file has wrong version 62.0, should be 57.0 - While building Jar","body":"<p>I solved this problem, by just reinstalling my JDK. If you're using IntelliJ, just head to the project settings and click download in the JDK dropdown menu.</p>\n<p>I also solved this problem on my Ubuntu 20.04 machine by running <code>sudo apt install openjdk-13-jdk</code>, which installs the jdk and\n<code>sudo update-alternatives --config java</code>, which updates the index of the newest jdk (i think).</p>\n<p>If I understood you wrongly with the version needed, just adjust the number behind <code>openjdk-</code> to whatever version you need.</p>\n<p><a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">All versions to their corresponding class file versions</a></p>\n"}],"owner":{"account_id":65286,"reputation":2157,"user_id":192252,"accept_rate":86,"display_name":"Shaitender Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675326273,"creation_date":1675317486,"question_id":75319202,"body_markdown":"I have downloaded Java code from GitHub and am trying to configure or build my changes into a Java package. But I&#39;m getting the below error. I&#39;m not sure what version of Java I need to use to build this project. Any pointers or suggestions would be really helpful.\r\n\r\n    error: cannot access Copier\r\n    import com.example.records.core.Copier;\r\n                                        ^\r\n      bad class file: /home/user957/.gradle/caches/modules-2/files-2.1/com.example.streaming/streaming-core/v1.36.1/758f1477d776e3273c5397d2d5d7e19b5fa46326/streaming-core-v1.36.1-sdk.jar(/com/example/records/core/Copier.class)\r\n        class file has wrong version 62.0, should be 57.0\r\n        Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n\r\nmySystem JDK version\r\n\r\n    java -version\r\n    openjdk version &amp;quot;18.0.2.1&amp;quot; 2022-08-18\r\n    OpenJDK Runtime Environment Temurin-18.0.2.1+1 (build 18.0.2.1+1)\r\n    OpenJDK 64-Bit Server VM Temurin-18.0.2.1+1 (build 18.0.2.1+1, mixed mode, sharing)\r\n\r\n","title":"class file has wrong version 62.0, should be 57.0 - While building Jar","body":"<p>I have downloaded Java code from GitHub and am trying to configure or build my changes into a Java package. But I'm getting the below error. I'm not sure what version of Java I need to use to build this project. Any pointers or suggestions would be really helpful.</p>\n<pre><code>error: cannot access Copier\nimport com.example.records.core.Copier;\n                                    ^\n  bad class file: /home/user957/.gradle/caches/modules-2/files-2.1/com.example.streaming/streaming-core/v1.36.1/758f1477d776e3273c5397d2d5d7e19b5fa46326/streaming-core-v1.36.1-sdk.jar(/com/example/records/core/Copier.class)\n    class file has wrong version 62.0, should be 57.0\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\n</code></pre>\n<p>mySystem JDK version</p>\n<pre><code>java -version\nopenjdk version &amp;quot;18.0.2.1&amp;quot; 2022-08-18\nOpenJDK Runtime Environment Temurin-18.0.2.1+1 (build 18.0.2.1+1)\nOpenJDK 64-Bit Server VM Temurin-18.0.2.1+1 (build 18.0.2.1+1, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","android","android-webview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675173828,"post_id":75297849,"comment_id":132868407,"body_markdown":"`i figured out that response.getData().getDataString() does not return anything when using the camera to capture a picture` Indeed. You should only check if the picture is taken. Then use `File photoFile` to get your image file. To do so it should be declared directly in your activity..","body":"<code>i figured out that response.getData().getDataString() does not return anything when using the camera to capture a picture</code> Indeed. You should only check if the picture is taken. Then use <code>File photoFile</code> to get your image file. To do so it should be declared directly in your activity.."}],"answers":[{"tags":[],"owner":{"account_id":21190041,"reputation":43,"user_id":15582694,"display_name":"Gerben Mol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675325956,"creation_date":1675325956,"answer_id":75320318,"question_id":75297849,"body_markdown":"I solved the problem by replacing \r\n```\r\nUri.fromfile(photoFile)\r\n```\r\nwith \r\n```\r\nFileProvider.getUriForFile(MainActivity.this, BuildConfig.APPLICATION_ID, photoFile) \r\n```\r\nthis creates a url tot he taken image in the same way as when you open a image from the file explorer","title":"uploading foto&#39;s with camera does not work in webView android","body":"<p>I solved the problem by replacing</p>\n<pre><code>Uri.fromfile(photoFile)\n</code></pre>\n<p>with</p>\n<pre><code>FileProvider.getUriForFile(MainActivity.this, BuildConfig.APPLICATION_ID, photoFile) \n</code></pre>\n<p>this creates a url tot he taken image in the same way as when you open a image from the file explorer</p>\n"}],"owner":{"account_id":21190041,"reputation":43,"user_id":15582694,"display_name":"Gerben Mol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75320318,"answer_count":1,"score":0,"last_activity_date":1675325956,"creation_date":1675171429,"question_id":75297849,"body_markdown":"I am trying to create a webView for my web application in which i also can upload pictures using camera, i get the option to choose between camera or file manager and the file manager works perfect. With the camera option it opens the camera but when i then click on capture and send it does not return anything and does not load the img into the input field.\r\n\r\nAfter doing some research i figured out that response.getData().getDataString() does not return anything when using the camera to capture a picture but does return something when using the file explorer to send a picture\r\n\r\nHere is my MainActivity.java\r\n```\r\npackage com.webview.android;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.webkit.PermissionRequest;\r\nimport android.webkit.ValueCallback;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.Toast;\r\n\r\nimport com.karan.churi.PermissionManager.PermissionManager;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\nprivate WebView webView;\r\nPermissionManager permissionManager;\r\n\r\n    private static final String TAG = MainActivity.class.getSimpleName();\r\n    private String mCM;\r\n    private ValueCallback&lt;Uri&gt; mUM;\r\n    private ValueCallback&lt;Uri[]&gt; mUMA;\r\n    \r\n    private ActivityResultLauncher&lt;Intent&gt; imgFinished  = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult response) {\r\n                    if (Build.VERSION.SDK_INT &gt;= 21) {\r\n                        Uri[] results = null;\r\n                        //Check if response is positive\r\n                        if (response.getResultCode() == Activity.RESULT_OK) {\r\n                            if (null == mUMA) {\r\n                                return;\r\n                            }\r\n                            if (response.getData() == null) {\r\n                                //Capture Photo if no image available\r\n                                if (mCM != null) {\r\n                                    results = new Uri[]{Uri.parse(mCM)};\r\n                                }\r\n                            } else {\r\n                                Log.e(TAG, &quot;TEST5&quot;);\r\n                                String dataString = response.getData().getDataString();\r\n                                Log.e(TAG, String.valueOf(response.getData().getDataString()));\r\n                                if (dataString != null) {\r\n                                    Log.e(TAG, &quot;TEST6&quot;);\r\n                                    results = new Uri[]{Uri.parse(dataString)};\r\n                                }\r\n                            }\r\n                        }\r\n                        mUMA.onReceiveValue(results);\r\n                        mUMA = null;\r\n                    } else {\r\n                        if (null == mUM) return;\r\n                        Uri result = response == null || response.getResultCode() != RESULT_OK ? null : response.getData().getData();\r\n                        mUM.onReceiveValue(result);\r\n                        mUM = null;\r\n                    }\r\n                }\r\n            }\r\n    );\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        webView = findViewById(R.id.webView);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.loadUrl(&quot;https://hbwfc-acc.9knots.nl/app&quot;);\r\n        WebSettings MyWebviewSettings = webView.getSettings();\r\n        MyWebviewSettings.setAllowFileAccessFromFileURLs(true);\r\n        MyWebviewSettings.setAllowUniversalAccessFromFileURLs(true);\r\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n        MyWebviewSettings.setJavaScriptEnabled(true);\r\n        MyWebviewSettings.setDomStorageEnabled(true);\r\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n        MyWebviewSettings.setBuiltInZoomControls(true);\r\n        MyWebviewSettings.setAllowFileAccess(true);\r\n        MyWebviewSettings.setSupportZoom(true);\r\n        MyWebviewSettings.setAllowContentAccess(true);\r\n        MyWebviewSettings.setMediaPlaybackRequiresUserGesture(false);\r\n        webView.setWebChromeClient(new WebChromeClient() {\r\n            @Override\r\n            public void onPermissionRequest(final PermissionRequest request) {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                    request.grant(request.getResources());\r\n                }\r\n            }\r\n    \r\n            //For Android 3.0+\r\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg){\r\n                mUM = uploadMsg;\r\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n                i.addCategory(Intent.CATEGORY_OPENABLE);\r\n                i.setType(&quot;*/*&quot;);\r\n                imgFinished.launch(Intent.createChooser(i,&quot;File Chooser&quot;));\r\n            }\r\n            // For Android 3.0+, above method not supported in some android 3+ versions, in such case we use this\r\n            public void openFileChooser(ValueCallback uploadMsg, String acceptType){\r\n                mUM = uploadMsg;\r\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n                i.addCategory(Intent.CATEGORY_OPENABLE);\r\n                i.setType(&quot;*/*&quot;);\r\n                imgFinished.launch(Intent.createChooser(i, &quot;File Browser&quot;));\r\n            }\r\n            //For Android 4.1+\r\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture){\r\n                mUM = uploadMsg;\r\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n                i.addCategory(Intent.CATEGORY_OPENABLE);\r\n                i.setType(&quot;*/*&quot;);\r\n                imgFinished.launch(Intent.createChooser(i, &quot;File Chooser&quot;));\r\n            }\r\n            //For Android 5.0+\r\n            public boolean onShowFileChooser(\r\n                    WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback,\r\n                    WebChromeClient.FileChooserParams fileChooserParams){\r\n                if(mUMA != null){\r\n                    mUMA.onReceiveValue(null);\r\n                }\r\n                mUMA = filePathCallback;\r\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                if(takePictureIntent.resolveActivity(MainActivity.this.getPackageManager()) != null){\r\n                    File photoFile = null;\r\n                    try{\r\n                        photoFile = createImageFile();\r\n                        takePictureIntent.putExtra(&quot;PhotoPath&quot;, mCM);\r\n                    }catch(IOException ex){\r\n                        Log.e(TAG, &quot;Image file creation failed&quot;, ex);\r\n                    }\r\n                    if(photoFile != null){\r\n                        mCM = &quot;file:&quot; + photoFile.getAbsolutePath();\r\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photoFile));\r\n                    }else{\r\n                        takePictureIntent = null;\r\n                    }\r\n                }\r\n                Intent contentSelectionIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                contentSelectionIntent.setType(&quot;*/*&quot;);\r\n                Intent[] intentArray;\r\n                if(takePictureIntent != null){\r\n                    intentArray = new Intent[]{takePictureIntent};\r\n                }else{\r\n                    intentArray = new Intent[0];\r\n                }\r\n    \r\n                Intent chooserIntent = new Intent(Intent.ACTION_CHOOSER);\r\n                chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent);\r\n                chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;Image Chooser&quot;);\r\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray);\r\n                imgFinished.launch(chooserIntent);\r\n                return true;\r\n            }\r\n        });\r\n        webView.setWebViewClient(new WebViewClient());\r\n        webView.setWebContentsDebuggingEnabled(true);\r\n        permissionManager = new PermissionManager() {};\r\n        permissionManager.checkAndRequestPermissions(this);\r\n    }\r\n    public class Callback extends WebViewClient{\r\n        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl){\r\n            Toast.makeText(getApplicationContext(), &quot;Failed loading app!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n    // Create an image file\r\n    private File createImageFile() throws IOException{\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;) String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        String imageFileName = &quot;img_&quot;+timeStamp+&quot;_&quot;;\r\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\r\n        File tempFile = File.createTempFile(imageFileName,&quot;.jpg&quot;,storageDir);\r\n        return tempFile;\r\n    }\r\n\r\n```\r\nhere is my manifest\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.webview.android&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\r\n    &lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.DayNight&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot;/&gt;\r\n        &lt;/provider&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nI expect it loads a img file into the input field","title":"uploading foto&#39;s with camera does not work in webView android","body":"<p>I am trying to create a webView for my web application in which i also can upload pictures using camera, i get the option to choose between camera or file manager and the file manager works perfect. With the camera option it opens the camera but when i then click on capture and send it does not return anything and does not load the img into the input field.</p>\n<p>After doing some research i figured out that response.getData().getDataString() does not return anything when using the camera to capture a picture but does return something when using the file explorer to send a picture</p>\n<p>Here is my MainActivity.java</p>\n<pre><code>package com.webview.android;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.provider.MediaStore;\nimport android.util.Log;\nimport android.webkit.PermissionRequest;\nimport android.webkit.ValueCallback;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Toast;\n\nimport com.karan.churi.PermissionManager.PermissionManager;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class MainActivity extends AppCompatActivity {\nprivate WebView webView;\nPermissionManager permissionManager;\n\n    private static final String TAG = MainActivity.class.getSimpleName();\n    private String mCM;\n    private ValueCallback&lt;Uri&gt; mUM;\n    private ValueCallback&lt;Uri[]&gt; mUMA;\n    \n    private ActivityResultLauncher&lt;Intent&gt; imgFinished  = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult response) {\n                    if (Build.VERSION.SDK_INT &gt;= 21) {\n                        Uri[] results = null;\n                        //Check if response is positive\n                        if (response.getResultCode() == Activity.RESULT_OK) {\n                            if (null == mUMA) {\n                                return;\n                            }\n                            if (response.getData() == null) {\n                                //Capture Photo if no image available\n                                if (mCM != null) {\n                                    results = new Uri[]{Uri.parse(mCM)};\n                                }\n                            } else {\n                                Log.e(TAG, &quot;TEST5&quot;);\n                                String dataString = response.getData().getDataString();\n                                Log.e(TAG, String.valueOf(response.getData().getDataString()));\n                                if (dataString != null) {\n                                    Log.e(TAG, &quot;TEST6&quot;);\n                                    results = new Uri[]{Uri.parse(dataString)};\n                                }\n                            }\n                        }\n                        mUMA.onReceiveValue(results);\n                        mUMA = null;\n                    } else {\n                        if (null == mUM) return;\n                        Uri result = response == null || response.getResultCode() != RESULT_OK ? null : response.getData().getData();\n                        mUM.onReceiveValue(result);\n                        mUM = null;\n                    }\n                }\n            }\n    );\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    \n        webView = findViewById(R.id.webView);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.loadUrl(&quot;https://hbwfc-acc.9knots.nl/app&quot;);\n        WebSettings MyWebviewSettings = webView.getSettings();\n        MyWebviewSettings.setAllowFileAccessFromFileURLs(true);\n        MyWebviewSettings.setAllowUniversalAccessFromFileURLs(true);\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n        MyWebviewSettings.setJavaScriptEnabled(true);\n        MyWebviewSettings.setDomStorageEnabled(true);\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n        MyWebviewSettings.setBuiltInZoomControls(true);\n        MyWebviewSettings.setAllowFileAccess(true);\n        MyWebviewSettings.setSupportZoom(true);\n        MyWebviewSettings.setAllowContentAccess(true);\n        MyWebviewSettings.setMediaPlaybackRequiresUserGesture(false);\n        webView.setWebChromeClient(new WebChromeClient() {\n            @Override\n            public void onPermissionRequest(final PermissionRequest request) {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n                    request.grant(request.getResources());\n                }\n            }\n    \n            //For Android 3.0+\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg){\n                mUM = uploadMsg;\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n                i.addCategory(Intent.CATEGORY_OPENABLE);\n                i.setType(&quot;*/*&quot;);\n                imgFinished.launch(Intent.createChooser(i,&quot;File Chooser&quot;));\n            }\n            // For Android 3.0+, above method not supported in some android 3+ versions, in such case we use this\n            public void openFileChooser(ValueCallback uploadMsg, String acceptType){\n                mUM = uploadMsg;\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n                i.addCategory(Intent.CATEGORY_OPENABLE);\n                i.setType(&quot;*/*&quot;);\n                imgFinished.launch(Intent.createChooser(i, &quot;File Browser&quot;));\n            }\n            //For Android 4.1+\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture){\n                mUM = uploadMsg;\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n                i.addCategory(Intent.CATEGORY_OPENABLE);\n                i.setType(&quot;*/*&quot;);\n                imgFinished.launch(Intent.createChooser(i, &quot;File Chooser&quot;));\n            }\n            //For Android 5.0+\n            public boolean onShowFileChooser(\n                    WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback,\n                    WebChromeClient.FileChooserParams fileChooserParams){\n                if(mUMA != null){\n                    mUMA.onReceiveValue(null);\n                }\n                mUMA = filePathCallback;\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                if(takePictureIntent.resolveActivity(MainActivity.this.getPackageManager()) != null){\n                    File photoFile = null;\n                    try{\n                        photoFile = createImageFile();\n                        takePictureIntent.putExtra(&quot;PhotoPath&quot;, mCM);\n                    }catch(IOException ex){\n                        Log.e(TAG, &quot;Image file creation failed&quot;, ex);\n                    }\n                    if(photoFile != null){\n                        mCM = &quot;file:&quot; + photoFile.getAbsolutePath();\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photoFile));\n                    }else{\n                        takePictureIntent = null;\n                    }\n                }\n                Intent contentSelectionIntent = new Intent(Intent.ACTION_GET_CONTENT);\n                contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE);\n                contentSelectionIntent.setType(&quot;*/*&quot;);\n                Intent[] intentArray;\n                if(takePictureIntent != null){\n                    intentArray = new Intent[]{takePictureIntent};\n                }else{\n                    intentArray = new Intent[0];\n                }\n    \n                Intent chooserIntent = new Intent(Intent.ACTION_CHOOSER);\n                chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent);\n                chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;Image Chooser&quot;);\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray);\n                imgFinished.launch(chooserIntent);\n                return true;\n            }\n        });\n        webView.setWebViewClient(new WebViewClient());\n        webView.setWebContentsDebuggingEnabled(true);\n        permissionManager = new PermissionManager() {};\n        permissionManager.checkAndRequestPermissions(this);\n    }\n    public class Callback extends WebViewClient{\n        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl){\n            Toast.makeText(getApplicationContext(), &quot;Failed loading app!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n    // Create an image file\n    private File createImageFile() throws IOException{\n        @SuppressLint(&quot;SimpleDateFormat&quot;) String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String imageFileName = &quot;img_&quot;+timeStamp+&quot;_&quot;;\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\n        File tempFile = File.createTempFile(imageFileName,&quot;.jpg&quot;,storageDir);\n        return tempFile;\n    }\n\n</code></pre>\n<p>here is my manifest</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.webview.android&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\n    &lt;queries&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\n        &lt;/intent&gt;\n    &lt;/queries&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@style/Theme.AppCompat.DayNight&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot;/&gt;\n        &lt;/provider&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>I expect it loads a img file into the input field</p>\n"},{"tags":["java","angular","spring","http","cors"],"comments":[{"owner":{"account_id":9628370,"reputation":3463,"user_id":7147233,"accept_rate":78,"display_name":"WhatsThePoint"},"score":0,"creation_date":1675421829,"post_id":75320175,"comment_id":132930178,"body_markdown":"when you specify your origin Y in `.allowedOrigins()` are you including the port number as well?","body":"when you specify your origin Y in <code>.allowedOrigins()</code> are you including the port number as well?"},{"owner":{"account_id":9628370,"reputation":3463,"user_id":7147233,"accept_rate":78,"display_name":"WhatsThePoint"},"score":0,"creation_date":1675421949,"post_id":75320175,"comment_id":132930218,"body_markdown":"is there a java equivalent of `.AllowCredentials()` that we have in c#?","body":"is there a java equivalent of <code>.AllowCredentials()</code> that we have in c#?"},{"owner":{"account_id":27676115,"reputation":1,"user_id":21125897,"display_name":"Alessia"},"score":0,"creation_date":1675686868,"post_id":75320175,"comment_id":132976055,"body_markdown":"I tried to include the port number and insert allowCredentials but it still doesn’t work","body":"I tried to include the port number and insert allowCredentials but it still doesn’t work"}],"owner":{"account_id":27676115,"reputation":1,"user_id":21125897,"display_name":"Alessia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675325740,"creation_date":1675325015,"question_id":75320175,"body_markdown":"I&#39;ve made an angular application with typescript code that uses a java spring web service, I&#39;m having trouble with CORS.  \r\n\r\nThe first http request gets an access token from the web server to use in all following requests, but all following requests are refused with this error:\r\n\r\n&gt;Access to XMLHttpRequest at X from origin Y has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.  \r\n \r\nX is the URL resource of my http method  \r\nY is the origin of the request  \r\n\r\n\r\n**API GATEWAY MODULE**\r\n\r\n```java\r\npackage it.sitgeo.apigateway.controller;\r\n\r\nimport it.sitgeo.apigateway.exception.LoginException;\r\nimport it.sitgeo.apigateway.model.AppUser;\r\nimport it.sitgeo.apigateway.model.LoginForm;\r\nimport it.sitgeo.apigateway.service.AppUserService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport javax.validation.Valid;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/sitgeo&quot;)\r\n@RequiredArgsConstructor\r\n@CrossOrigin(allowedHeaders = &quot;*&quot;)\r\npublic class AppUserController {\r\n\r\n    private final AppUserService service;\r\n\r\n    @PostMapping(path = &quot;/login&quot;, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE,\r\n    MediaType.MULTIPART_FORM_DATA_VALUE})\r\n    public ResponseEntity&lt;String&gt; login (@Valid @ModelAttribute LoginForm loginForm) throws LoginException   {    \r\n        String access_token = service.login(loginForm.getUsername(), loginForm.getPassword());\r\n        if(access_token == null){ \r\n            throw new LoginException(&quot;Le credenziali inserite non sono corrette&quot;);\r\n        }\r\n        return ResponseEntity.ok(access_token);\r\n    }\r\n\r\n```\r\n-----------------------------------------------------------------------------------------------------------\r\n**PED MODULE**\r\n\r\n```java\r\npackage it.sitgeo.ped.Controllers;\r\n\r\nimport it.sitgeo.ped.Entities.*;\r\nimport it.sitgeo.ped.Repositories.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.mail.MessagingException;\r\nimport java.io.IOException;\r\n\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/sitgeo/PED&quot;)\r\n@AllArgsConstructor\r\n@CrossOrigin(origins = {&quot;http://localhost&quot;,&quot;Y&quot;} ,allowedHeaders = &quot;*&quot;)\r\npublic class PEDController {\r\n\r\n    final EmailConfiguration emailConfiguration;\r\n    private  final PraticaRepository praticaRepository;\r\n    private final ComuneRepository comuneRepository;\r\n\r\n    private final TitolareRepository titolareRepository;\r\n    private final PdfRepository pdfRepository;\r\n\r\n    private final ProcuratoreRepository procuratoreRepository;\r\n\r\n    private final DomicilioElettronicoRepository domicilioElettronicoRepository;\r\n\r\n    private final LocalizzazioneRepository localizzazioneRepository;\r\n\r\n    private final CatastoRepository catastoRepository;\r\n\r\n    private final TecnicoRepository tecnicoRepository;\r\n\r\n    private final SoggettiTitolariRepository soggettiTitolariRepository;\r\n\r\n    private final StatoUnitaRepository statoUnitaRepository;\r\n\r\n    private final TipologiaRepository tipologiaRepository;\r\n\r\n  \r\n\r\n   //@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n\r\n    @GetMapping(&quot;/getCOMUNI/{provincia}&quot;)\r\n    public ResponseEntity&lt;?&gt; getComuni(@PathVariable String provincia) {\r\n        log.info(&quot;getCOMUNI {}&quot;, provincia);\r\n        ResponseEntity&lt;?&gt; response;\r\n        try {\r\n            response = new ResponseEntity&lt;String[]&gt;(comuneRepository.searchComuneByProvincia(provincia),\r\nHttpStatus.OK);\r\n        } catch (Exception e) {\r\n            response = new ResponseEntity&lt;String[]&gt;(HttpStatus.BAD_REQUEST);\r\n        }\r\n        System.out.println(response.getBody());\r\n        return response;\r\n    }\r\n\r\n```\r\n------------------------------------------------------------------------------------------------------\r\n*PED MODULE*\r\n\r\n```java\r\npackage it.sitgeo.ped.config;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class CORSConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;Y&quot;, &quot;http://localhost&quot;)\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;,&quot;OPTIONS&quot;)\r\n                .allowedHeaders(&quot;*&quot;);\r\n    }\r\n}\r\n\r\n```\r\nI&#39;ve tried this http method using postman and it works as intended returning a JSON. ","title":"&quot;Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.&quot;","body":"<p>I've made an angular application with typescript code that uses a java spring web service, I'm having trouble with CORS.</p>\n<p>The first http request gets an access token from the web server to use in all following requests, but all following requests are refused with this error:</p>\n<blockquote>\n<p>Access to XMLHttpRequest at X from origin Y has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n</blockquote>\n<p>X is the URL resource of my http method<br />\nY is the origin of the request</p>\n<p><strong>API GATEWAY MODULE</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package it.sitgeo.apigateway.controller;\n\nimport it.sitgeo.apigateway.exception.LoginException;\nimport it.sitgeo.apigateway.model.AppUser;\nimport it.sitgeo.apigateway.model.LoginForm;\nimport it.sitgeo.apigateway.service.AppUserService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport javax.validation.Valid;\n\n@RestController\n@RequestMapping(&quot;/sitgeo&quot;)\n@RequiredArgsConstructor\n@CrossOrigin(allowedHeaders = &quot;*&quot;)\npublic class AppUserController {\n\n    private final AppUserService service;\n\n    @PostMapping(path = &quot;/login&quot;, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE,\n    MediaType.MULTIPART_FORM_DATA_VALUE})\n    public ResponseEntity&lt;String&gt; login (@Valid @ModelAttribute LoginForm loginForm) throws LoginException   {    \n        String access_token = service.login(loginForm.getUsername(), loginForm.getPassword());\n        if(access_token == null){ \n            throw new LoginException(&quot;Le credenziali inserite non sono corrette&quot;);\n        }\n        return ResponseEntity.ok(access_token);\n    }\n\n</code></pre>\n<hr />\n<p><strong>PED MODULE</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package it.sitgeo.ped.Controllers;\n\nimport it.sitgeo.ped.Entities.*;\nimport it.sitgeo.ped.Repositories.*;\nimport lombok.AllArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.mail.MessagingException;\nimport java.io.IOException;\n\n@Slf4j\n@RestController\n@RequestMapping(&quot;/sitgeo/PED&quot;)\n@AllArgsConstructor\n@CrossOrigin(origins = {&quot;http://localhost&quot;,&quot;Y&quot;} ,allowedHeaders = &quot;*&quot;)\npublic class PEDController {\n\n    final EmailConfiguration emailConfiguration;\n    private  final PraticaRepository praticaRepository;\n    private final ComuneRepository comuneRepository;\n\n    private final TitolareRepository titolareRepository;\n    private final PdfRepository pdfRepository;\n\n    private final ProcuratoreRepository procuratoreRepository;\n\n    private final DomicilioElettronicoRepository domicilioElettronicoRepository;\n\n    private final LocalizzazioneRepository localizzazioneRepository;\n\n    private final CatastoRepository catastoRepository;\n\n    private final TecnicoRepository tecnicoRepository;\n\n    private final SoggettiTitolariRepository soggettiTitolariRepository;\n\n    private final StatoUnitaRepository statoUnitaRepository;\n\n    private final TipologiaRepository tipologiaRepository;\n\n  \n\n   //@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\n\n    @GetMapping(&quot;/getCOMUNI/{provincia}&quot;)\n    public ResponseEntity&lt;?&gt; getComuni(@PathVariable String provincia) {\n        log.info(&quot;getCOMUNI {}&quot;, provincia);\n        ResponseEntity&lt;?&gt; response;\n        try {\n            response = new ResponseEntity&lt;String[]&gt;(comuneRepository.searchComuneByProvincia(provincia),\nHttpStatus.OK);\n        } catch (Exception e) {\n            response = new ResponseEntity&lt;String[]&gt;(HttpStatus.BAD_REQUEST);\n        }\n        System.out.println(response.getBody());\n        return response;\n    }\n\n</code></pre>\n<hr />\n<p><em>PED MODULE</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package it.sitgeo.ped.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class CORSConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;Y&quot;, &quot;http://localhost&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;,&quot;OPTIONS&quot;)\n                .allowedHeaders(&quot;*&quot;);\n    }\n}\n\n</code></pre>\n<p>I've tried this http method using postman and it works as intended returning a JSON.</p>\n"},{"tags":["java","gradle","annotations","lint","suppress-warnings"],"owner":{"account_id":345487,"reputation":5160,"user_id":678448,"accept_rate":60,"display_name":"Thommy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675325734,"creation_date":1675325734,"question_id":75320281,"body_markdown":"I have some false positives in Lint because it does not recognzie a method is used in databinding and marks it as &quot;can be private&quot;. So I have to add `@Suppress(&quot;MemberVisibilityCanBePrivate&quot;)` and a comment to each method.\r\n\r\nTo Save time and also have better findability I would love to have something like a custom annotation like `@PublicBecauseDataBinding` that also tells the linter to act like supress MemberVisibilityCanBePrivate while being readable for humans. Is this possible?","title":"Custom Annotation with Lint Suppress and Reason","body":"<p>I have some false positives in Lint because it does not recognzie a method is used in databinding and marks it as &quot;can be private&quot;. So I have to add <code>@Suppress(&quot;MemberVisibilityCanBePrivate&quot;)</code> and a comment to each method.</p>\n<p>To Save time and also have better findability I would love to have something like a custom annotation like <code>@PublicBecauseDataBinding</code> that also tells the linter to act like supress MemberVisibilityCanBePrivate while being readable for humans. Is this possible?</p>\n"},{"tags":["java","multithreading","java-threads"],"answers":[{"tags":[],"owner":{"account_id":3299519,"reputation":776,"user_id":2776012,"accept_rate":0,"display_name":"Shivayan Mukherjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675261622,"creation_date":1675261622,"answer_id":75311691,"question_id":75311126,"body_markdown":"Checking the condition **while(!executor.isTerminated())** does the job. It ensures the next statements are executed only after the executor has done its job.","title":"ScheduledExecutorService not working as expected","body":"<p>Checking the condition <strong>while(!executor.isTerminated())</strong> does the job. It ensures the next statements are executed only after the executor has done its job.</p>\n"},{"tags":[],"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675325661,"creation_date":1675325661,"answer_id":75320274,"question_id":75311126,"body_markdown":"The reason is in the nature of multi-tasking/threading. The `ScheduledExecutorService` starts a new thread that executes your `Runnable`. Independently from that your main program continues its work in its own/original thread.\r\n\r\nBoth threads, the main and the runnable, will be processed in parallel.\r\n\r\nIn your case, the `System.out.println(&quot;completed&quot;);` is faster in the execution then the `Runnable` that reads a file.\r\n\r\nNow it depends on what you want to achieve. As you wrote already you can block your main program, e.g. with a loop and wait for the executor to finish all execution. But this is not what you usually do because then you could just execute the code in the same thread.\r\n\r\nTypically you use multi-threading to execute code in parallel or to not block a task/thread, e.g. calling an web service and continue to do some other stuff.\r\n","title":"ScheduledExecutorService not working as expected","body":"<p>The reason is in the nature of multi-tasking/threading. The <code>ScheduledExecutorService</code> starts a new thread that executes your <code>Runnable</code>. Independently from that your main program continues its work in its own/original thread.</p>\n<p>Both threads, the main and the runnable, will be processed in parallel.</p>\n<p>In your case, the <code>System.out.println(&quot;completed&quot;);</code> is faster in the execution then the <code>Runnable</code> that reads a file.</p>\n<p>Now it depends on what you want to achieve. As you wrote already you can block your main program, e.g. with a loop and wait for the executor to finish all execution. But this is not what you usually do because then you could just execute the code in the same thread.</p>\n<p>Typically you use multi-threading to execute code in parallel or to not block a task/thread, e.g. calling an web service and continue to do some other stuff.</p>\n"}],"owner":{"account_id":3299519,"reputation":776,"user_id":2776012,"accept_rate":0,"display_name":"Shivayan Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675325661,"creation_date":1675259221,"question_id":75311126,"body_markdown":"On executing the following code, the statement **System.out.println(&quot;completed&quot;);** gets executed before the executor even though delay is set to 0. Why is it so? How can the order be maintained here? \r\n```\r\npublic class TestMyClass {\r\n\tprivate static int count = 0;\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\r\n\r\n\t\tRunnable periodicTask = () -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tList&lt;String&gt; lines = Files.readAllLines(new File(&quot;E:\\\\MyFile.log&quot;).toPath());\r\n\t\t\t\tString key = &quot;FIND ME&quot;;\r\n\t\t\t\tSystem.out.println(&quot;text not found&quot;);\r\n\t\t\t\tfor (String line : lines) {\r\n\t\t\t\t\tif (line.contains(key)) {\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\tSystem.out.println(&quot;found text ...&quot; + count);\r\n\t\t\t\t\t\texecutor.shutdown();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\texecutor.scheduleAtFixedRate(periodicTask, 0, 5, TimeUnit.SECONDS);\r\n\t\tSystem.out.println(&quot;completed&quot;);\r\n\t}\r\n}\r\n```","title":"ScheduledExecutorService not working as expected","body":"<p>On executing the following code, the statement <strong>System.out.println(&quot;completed&quot;);</strong> gets executed before the executor even though delay is set to 0. Why is it so? How can the order be maintained here?</p>\n<pre><code>public class TestMyClass {\n    private static int count = 0;\n\n    public static void main(String args[]) {\n        ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\n\n        Runnable periodicTask = () -&gt; {\n            try {\n                List&lt;String&gt; lines = Files.readAllLines(new File(&quot;E:\\\\MyFile.log&quot;).toPath());\n                String key = &quot;FIND ME&quot;;\n                System.out.println(&quot;text not found&quot;);\n                for (String line : lines) {\n                    if (line.contains(key)) {\n                        count++;\n                        System.out.println(&quot;found text ...&quot; + count);\n                        executor.shutdown();\n                    }\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        };\n\n        executor.scheduleAtFixedRate(periodicTask, 0, 5, TimeUnit.SECONDS);\n        System.out.println(&quot;completed&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","spring-webflux","minio"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":3,"creation_date":1671625766,"post_id":74875058,"comment_id":132138305,"body_markdown":"You must not use any blocker method in the reactive environment. If you use some Mono or Flux you have to stay in the reactor context because they will be run when somebody subscribes to it.\nNow I can think of 3 solutions. I can answer more after work If no one else answers by then.","body":"You must not use any blocker method in the reactive environment. If you use some Mono or Flux you have to stay in the reactor context because they will be run when somebody subscribes to it. Now I can think of 3 solutions. I can answer more after work If no one else answers by then."},{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1672379472,"post_id":74875058,"comment_id":132278548,"body_markdown":"Where does JWT come from? Does the application create it? Is it created after logging in?","body":"Where does JWT come from? Does the application create it? Is it created after logging in?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672397413,"post_id":74875058,"comment_id":132281963,"body_markdown":"@Elyorbek Ibrokhimov\nJWT comes from Keycloak server. This JWT created before application endpoint call and as I mentioned argument of  ```public boolean test(JwtAuthenticationToken token)``` is not null and I expected to have the same jwt token in ReactiveSecurityContextHolder","body":"@Elyorbek Ibrokhimov JWT comes from Keycloak server. This JWT created before application endpoint call and as I mentioned argument of  <code>public boolean test(JwtAuthenticationToken token)</code> is not null and I expected to have the same jwt token in ReactiveSecurityContextHolder"},{"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1672402106,"post_id":74875058,"comment_id":132283053,"body_markdown":"What is still not clear to me is that you are trying to achieve something in a stateless way but security context is stateful. Token can expire, payload may change and etc. If you have fixed JWT token value, why not then just store it in a properties file and read it from there while creating a bean definition?","body":"What is still not clear to me is that you are trying to achieve something in a stateless way but security context is stateful. Token can expire, payload may change and etc. If you have fixed JWT token value, why not then just store it in a properties file and read it from there while creating a bean definition?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672410851,"post_id":74875058,"comment_id":132285282,"body_markdown":"JWT token is  fixed within http request only. Different users can call our server with different JWT tokens.\n\n&quot;are trying to achieve something in a stateless way&quot; - could you please clarify this your phrase ?","body":"JWT token is  fixed within http request only. Different users can call our server with different JWT tokens.  &quot;are trying to achieve something in a stateless way&quot; - could you please clarify this your phrase ?"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1672679319,"post_id":74875058,"comment_id":132326290,"body_markdown":"You don’t really need ‘CompletableFuture‘. Blocking calls are not allowed on “reactive” schedulers and in case your code is blocking you need to execute in on another scheduler - ‘boundedElastic‘ https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking","body":"You don’t really need ‘CompletableFuture‘. Blocking calls are not allowed on “reactive” schedulers and in case your code is blocking you need to execute in on another scheduler - ‘boundedElastic‘ <a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/reference/&hellip;</a>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672821755,"post_id":74875058,"comment_id":132357320,"body_markdown":"@Alex Could you please provide the whole answer ?\nWhat is expected to do with blockingWrapper  ?\nWill `blockingWrapper.block()` throw exception ?","body":"@Alex Could you please provide the whole answer ? What is expected to do with blockingWrapper  ? Will <code>blockingWrapper.block()</code> throw exception ?"}],"answers":[{"tags":[],"owner":{"account_id":14583346,"reputation":863,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1671681198,"creation_date":1671681198,"answer_id":74883975,"question_id":74875058,"body_markdown":"As [Numichi][1] stated in the comment you have to stay in the reactor context.\r\nOne option is to create a bean of type `Mono&lt;MinioClient&gt;`. \r\n\r\n```java\r\n    @Bean\r\n    @Scope(BeanDefinition.SCOPE_PROTOTYPE)\r\n    public Mono&lt;MinioClient&gt; reactiveMinio() {\r\n        return ReactiveSecurityContextHolder.getContext()\r\n                .map(securityContext -&gt;\r\n                        (Jwt)securityContext.getAuthentication().getPrincipal())\r\n                .map(jwt -&gt; MinioClient.builder()\r\n                        .region(&quot;someRegion&quot;)\r\n                        .endpoint(&quot;someEndpoint&quot;)\r\n                        .credentialsProvider(webIdentityProvider(jwt.token()))\r\n                        .build());\r\n    }\r\n\r\n    private WebIdentityProvider webIdentityProvider(String token) {\r\n        return new WebIdentityProvider(() -&gt; new Jwt(token, 1000),\r\n                &quot;stsEndpoint&quot;,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                null);\r\n    }\r\n```\r\nI think bean scope should be prototype since `MinioClient` is bound to security context.\r\n\r\nHere is the sample usage of reactive `MinioClient`:\r\n```java\r\n\r\n@RestController\r\npublic class MinioTest {\r\n\r\n    private Mono&lt;MinioClient&gt; minioClient;\r\n\r\n    public MinioTest(Mono&lt;MinioClient&gt; minioClient) {\r\n        this.minioClient = minioClient;\r\n    }\r\n\r\n    @GetMapping(&quot;/minio&quot;)\r\n    public Mono&lt;Object&gt; client() {\r\n        return minioClient\r\n                .map(minio -&gt; {\r\n                    try {\r\n                        return minio.bucketExists(BucketExistsArgs\r\n                                .builder()\r\n                                .bucket(&quot;my-bucketname&quot;)\r\n                                .build());\r\n                    } catch (Exception e) {\r\n                        return new Exception(e);\r\n                    }\r\n                });\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n  [1]: https://stackoverflow.com/users/2625393/numichi","title":"How to get jwt token value in spring webflux? (to exchange it with Minio STS token)","body":"<p>As <a href=\"https://stackoverflow.com/users/2625393/numichi\">Numichi</a> stated in the comment you have to stay in the reactor context.\nOne option is to create a bean of type <code>Mono&lt;MinioClient&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @Scope(BeanDefinition.SCOPE_PROTOTYPE)\n    public Mono&lt;MinioClient&gt; reactiveMinio() {\n        return ReactiveSecurityContextHolder.getContext()\n                .map(securityContext -&gt;\n                        (Jwt)securityContext.getAuthentication().getPrincipal())\n                .map(jwt -&gt; MinioClient.builder()\n                        .region(&quot;someRegion&quot;)\n                        .endpoint(&quot;someEndpoint&quot;)\n                        .credentialsProvider(webIdentityProvider(jwt.token()))\n                        .build());\n    }\n\n    private WebIdentityProvider webIdentityProvider(String token) {\n        return new WebIdentityProvider(() -&gt; new Jwt(token, 1000),\n                &quot;stsEndpoint&quot;,\n                null,\n                null,\n                null,\n                null,\n                null);\n    }\n</code></pre>\n<p>I think bean scope should be prototype since <code>MinioClient</code> is bound to security context.</p>\n<p>Here is the sample usage of reactive <code>MinioClient</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RestController\npublic class MinioTest {\n\n    private Mono&lt;MinioClient&gt; minioClient;\n\n    public MinioTest(Mono&lt;MinioClient&gt; minioClient) {\n        this.minioClient = minioClient;\n    }\n\n    @GetMapping(&quot;/minio&quot;)\n    public Mono&lt;Object&gt; client() {\n        return minioClient\n                .map(minio -&gt; {\n                    try {\n                        return minio.bucketExists(BucketExistsArgs\n                                .builder()\n                                .bucket(&quot;my-bucketname&quot;)\n                                .build());\n                    } catch (Exception e) {\n                        return new Exception(e);\n                    }\n                });\n    }\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":74883975,"answer_count":1,"score":9,"last_activity_date":1675325132,"creation_date":1671620445,"question_id":74875058,"body_markdown":"I have sping-boot application with rest services written using Spring web flux.\r\n\r\nFor now I access minio using login/password authorizaton and it works fine.\r\n\r\nFor now I want to exchange application JWT token with STS minio token and I implemented method to test:\r\n\r\n    @PostMapping\r\n    public boolean test(JwtAuthenticationToken token) throws ServerException, InsufficientDataException, ErrorResponseException, IOException, NoSuchAlgorithmException, InvalidKeyException, InvalidResponseException, XmlParserException, InternalException {\r\n        MinioClient minioClient =\r\n                MinioClient.builder()\r\n                        .region(...)\r\n                        .endpoint(...)              \r\n                        .credentialsProvider(new WebIdentityProvider(\r\n                               \r\n                                () -&gt; new Jwt(token.getToken().getTokenValue(), 1000),\r\n                                String.valueOf(...),\r\n                                null,\r\n                                null,\r\n                                null,\r\n                                null,\r\n                                null))\r\n                        .build();\r\n        return minioClient.bucketExists(&quot;mybucket&quot;).build());\r\n    }\r\n\r\nThis code successfully works and returns `true` because `mybucket` actually exists.\r\n\r\nBut it is only test and I need to move `minioClient` to the configuration. The issue here that I have to have credentials provider there.\r\n\r\nSo I&#39;ve created folowing configuration:\r\n\r\n    @Bean\r\n    public MinioClient minioClient() {\r\n        return MinioClient.builder()\r\n                .region(...)\r\n                .endpoint(...)\r\n                .credentialsProvider(new WebIdentityProvider(\r\n                       \r\n                        () -&gt; {\r\n                            String block = null;\r\n                            try {\r\n                                block = ReactiveSecurityContextHolder\r\n                                    .getContext()\r\n                                    .map(context -&gt; {\r\n                                                return context\r\n                                                        .getAuthentication()\r\n                                                        .getPrincipal();\r\n    \r\n                                            }\r\n                                    )\r\n                                    .cast(Jwt.class)\r\n                                    .map(Jwt::token)\r\n                                    .block();\r\n                            } catch (Exception e) {\r\n                                // it fails here     &lt;=======\r\n                                System.out.println(e);\r\n                            }\r\n    \r\n                            Jwt jwt = new Jwt(String.valueOf(block),\r\n                                    1000);\r\n                            return jwt; },\r\n                        String.valueOf(...),\r\n                        null,\r\n                        null,\r\n                        null,\r\n                        null,\r\n                        null))\r\n                .build();\r\n    }\r\n\r\nBut unfortunately method `block()` fails with exception:\r\n\r\n    java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-6 \r\n\r\n\r\n\r\nAny ideas how to fix it?\r\n\r\nP.S.\r\n_\r\n\r\nI tried \r\n\r\n    .toFuture()\r\n    .get();\r\n\r\ninstead of .`block();`\r\n\r\nbut it returns null","title":"How to get jwt token value in spring webflux? (to exchange it with Minio STS token)","body":"<p>I have sping-boot application with rest services written using Spring web flux.</p>\n<p>For now I access minio using login/password authorizaton and it works fine.</p>\n<p>For now I want to exchange application JWT token with STS minio token and I implemented method to test:</p>\n<pre><code>@PostMapping\npublic boolean test(JwtAuthenticationToken token) throws ServerException, InsufficientDataException, ErrorResponseException, IOException, NoSuchAlgorithmException, InvalidKeyException, InvalidResponseException, XmlParserException, InternalException {\n    MinioClient minioClient =\n            MinioClient.builder()\n                    .region(...)\n                    .endpoint(...)              \n                    .credentialsProvider(new WebIdentityProvider(\n                           \n                            () -&gt; new Jwt(token.getToken().getTokenValue(), 1000),\n                            String.valueOf(...),\n                            null,\n                            null,\n                            null,\n                            null,\n                            null))\n                    .build();\n    return minioClient.bucketExists(&quot;mybucket&quot;).build());\n}\n</code></pre>\n<p>This code successfully works and returns <code>true</code> because <code>mybucket</code> actually exists.</p>\n<p>But it is only test and I need to move <code>minioClient</code> to the configuration. The issue here that I have to have credentials provider there.</p>\n<p>So I've created folowing configuration:</p>\n<pre><code>@Bean\npublic MinioClient minioClient() {\n    return MinioClient.builder()\n            .region(...)\n            .endpoint(...)\n            .credentialsProvider(new WebIdentityProvider(\n                   \n                    () -&gt; {\n                        String block = null;\n                        try {\n                            block = ReactiveSecurityContextHolder\n                                .getContext()\n                                .map(context -&gt; {\n                                            return context\n                                                    .getAuthentication()\n                                                    .getPrincipal();\n\n                                        }\n                                )\n                                .cast(Jwt.class)\n                                .map(Jwt::token)\n                                .block();\n                        } catch (Exception e) {\n                            // it fails here     &lt;=======\n                            System.out.println(e);\n                        }\n\n                        Jwt jwt = new Jwt(String.valueOf(block),\n                                1000);\n                        return jwt; },\n                    String.valueOf(...),\n                    null,\n                    null,\n                    null,\n                    null,\n                    null))\n            .build();\n}\n</code></pre>\n<p>But unfortunately method <code>block()</code> fails with exception:</p>\n<pre><code>java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-6 \n</code></pre>\n<p>Any ideas how to fix it?</p>\n<p>P.S.\n_</p>\n<p>I tried</p>\n<pre><code>.toFuture()\n.get();\n</code></pre>\n<p>instead of .<code>block();</code></p>\n<p>but it returns null</p>\n"},{"tags":["java","android","kotlin","exception","splash-screen"],"comments":[{"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"score":0,"creation_date":1675330428,"post_id":75320187,"comment_id":132906855,"body_markdown":"Check this, maybe it can help you https://stackoverflow.com/a/32245018/11170352","body":"Check this, maybe it can help you <a href=\"https://stackoverflow.com/a/32245018/11170352\">stackoverflow.com/a/32245018/11170352</a>"}],"owner":{"account_id":27142392,"reputation":11,"user_id":20683092,"display_name":"Victoria Olegovna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675325089,"creation_date":1675325089,"question_id":75320187,"body_markdown":"While downloading the application, you need to click on the Back button,\r\nAfter restarting the application, click on the Back button\r\n\r\nE  FATAL EXCEPTION: EventThread\r\n\r\nProcess:  PID: 10231                                                                                       \r\n\r\njava.lang.OutOfMemoryError: Failed to allocate a 40 byte allocation with 404992 free bytes and 395KB until OOM, target footprint 268435456, growth limit 268435456; giving up on allocation because &lt;1% of heap free after GC.\r\n                                                                                       \tat $Proxy3.value(Unknown Source)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldNames(ReflectiveTypeAdapterFactory.java:80)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\r\n                                                                                       \tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\r\n                                                                                       \tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\r\n                                                                                       \tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\r\n                                                                                       \tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n                                                                                       \tat com.google.gson.Gson.fromJson(Gson.java:931)\r\n                                                                                       \tat com.google.gson.Gson.fromJson(Gson.java:897)\r\n                                                                                       \tat com.google.gson.Gson.fromJson(Gson.java:846)\r\n                                                                                       \tat repos.events.EventsRepository.parseOddsOrFixture(EventsRepository.kt:8)\r\n                                                                                       \tat repos.events.EventsRepository.addSocketListeners$lambda$1(EventsRepository.kt:118)\r\n                                                                                       \tat repos.events.EventsRepository.$r8$lambda$rCh8eEPRaxVcqDhfqrbJl8XxBI8(Unknown Source:0)\r\n                                                                                       \tat repos.events.EventsRepository$$ExternalSyntheticLambda12.call(Unknown Source:2)\r\n                                                                                       \tat io.socket.emitter.Emitter.emit(Emitter.java:117)\r\n                                                                                       \tat io.socket.client.Socket.onevent(Socket.java:363)\r\n                                                                                       \tat io.socket.client.Socket.onpacket(Socket.java:307)\r\n                                                                                       \tat io.socket.client.Socket.access$100(Socket.java:19)\r\n                                                                                       \tat io.socket.client.Socket$2$2.call(Socket.java:92)\r\n                                                                                       \tat io.socket.emitter.Emitter.emit(Emitter.java:117)\r\n                                                                                       \tat io.socket.client.Manager.ondecoded(Manager.java:361)\r\n                                                                                       \tat io.socket.client.Manager.access$1200(Manager.java:22)\r\n                                                                                       \tat io.socket.client.Manager$5.call(Manager.java:355)\r\n                                                                                       \tat io.socket.parser.IOParser$Decoder.add(IOParser.java:103)\r\n                                                                                       \tat io.socket.client.Manager$2.call(Manager.java:331)\r\n                                                                                       \tat io.socket.emitter.Emitter.emit(Emitter.java:117)\r\n                                                                                       \tat io.socket.engineio.client.Socket.onPacket(Socket.java:556)\r\n                                                                                       \tat io.socket.engineio.client.Socket.access$1000(Socket.java:29)\r\n                                                                                       \tat io.socket.engineio.client.Socket$5.call(Socket.java:335)\r\n                                                                                       \tat io.socket.emitter.Emitter.emit(Emitter.java:117)\r\n                                                                                       \tat io.socket.engineio.client.Transport.onPacket(Transport.java:124)\r\n                                                                                       \tat io.socket.engineio.client.Transport.onData(Transport.java:116)\r\n                                                                                       \tat io.socket.engineio.client.transports.WebSocket.access$100(WebSocket.java:22)\r\n                                                                                       \tat io.socket.engineio.client.transports.WebSocket$1$2.run(WebSocket.java:71)\r\n                                                                                       \tat io.socket.thread.EventThread$2.run(EventThread.java:80)\r\n                                                                                       \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n                                                                                       \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n                                                                                       \tat java.lang.Thread.run(Thread.java:1012)\r\n\r\n\r\n\r\ndebugged the parseOddsOrFixture() method\r\nnull didn&#39;t come anywhere\r\n","title":"Running of the app and getting FATAL EXCEPTION: EventThread during splash screen","body":"<p>While downloading the application, you need to click on the Back button,\nAfter restarting the application, click on the Back button</p>\n<p>E  FATAL EXCEPTION: EventThread</p>\n<p>Process:  PID: 10231</p>\n<p>java.lang.OutOfMemoryError: Failed to allocate a 40 byte allocation with 404992 free bytes and 395KB until OOM, target footprint 268435456, growth limit 268435456; giving up on allocation because &lt;1% of heap free after GC.\nat $Proxy3.value(Unknown Source)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldNames(ReflectiveTypeAdapterFactory.java:80)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\nat com.google.gson.Gson.getAdapter(Gson.java:458)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\nat com.google.gson.Gson.getAdapter(Gson.java:458)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\nat com.google.gson.Gson.getAdapter(Gson.java:458)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\nat com.google.gson.Gson.getAdapter(Gson.java:458)\nat com.google.gson.Gson.fromJson(Gson.java:931)\nat com.google.gson.Gson.fromJson(Gson.java:897)\nat com.google.gson.Gson.fromJson(Gson.java:846)\nat repos.events.EventsRepository.parseOddsOrFixture(EventsRepository.kt:8)\nat repos.events.EventsRepository.addSocketListeners$lambda$1(EventsRepository.kt:118)\nat repos.events.EventsRepository.$r8$lambda$rCh8eEPRaxVcqDhfqrbJl8XxBI8(Unknown Source:0)\nat repos.events.EventsRepository$$ExternalSyntheticLambda12.call(Unknown Source:2)\nat io.socket.emitter.Emitter.emit(Emitter.java:117)\nat io.socket.client.Socket.onevent(Socket.java:363)\nat io.socket.client.Socket.onpacket(Socket.java:307)\nat io.socket.client.Socket.access$100(Socket.java:19)\nat io.socket.client.Socket$2$2.call(Socket.java:92)\nat io.socket.emitter.Emitter.emit(Emitter.java:117)\nat io.socket.client.Manager.ondecoded(Manager.java:361)\nat io.socket.client.Manager.access$1200(Manager.java:22)\nat io.socket.client.Manager$5.call(Manager.java:355)\nat io.socket.parser.IOParser$Decoder.add(IOParser.java:103)\nat io.socket.client.Manager$2.call(Manager.java:331)\nat io.socket.emitter.Emitter.emit(Emitter.java:117)\nat io.socket.engineio.client.Socket.onPacket(Socket.java:556)\nat io.socket.engineio.client.Socket.access$1000(Socket.java:29)\nat io.socket.engineio.client.Socket$5.call(Socket.java:335)\nat io.socket.emitter.Emitter.emit(Emitter.java:117)\nat io.socket.engineio.client.Transport.onPacket(Transport.java:124)\nat io.socket.engineio.client.Transport.onData(Transport.java:116)\nat io.socket.engineio.client.transports.WebSocket.access$100(WebSocket.java:22)\nat io.socket.engineio.client.transports.WebSocket$1$2.run(WebSocket.java:71)\nat io.socket.thread.EventThread$2.run(EventThread.java:80)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\nat java.lang.Thread.run(Thread.java:1012)</p>\n<p>debugged the parseOddsOrFixture() method\nnull didn't come anywhere</p>\n"},{"tags":["java","android","printing"],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675324552,"creation_date":1675323907,"answer_id":75320019,"question_id":75318841,"body_markdown":"The exception is self-explanatory:  \r\n&gt; IllegalStateException : Can print only from an ***activity***\r\n\r\nSo if you do such implementation in a **Service**, the ```this``` in this line is not an **Activity Context**:  \r\n```\r\nPrintManager printManager = (PrintManager)this.getSystemService(Context.PRINT_SERVICE);\r\n```\r\n\r\nYou must have an **Activity Context** in order to make it work.","title":"Is printing not allowing within a service in android?","body":"<p>The exception is self-explanatory:</p>\n<blockquote>\n<p>IllegalStateException : Can print only from an <em><strong>activity</strong></em></p>\n</blockquote>\n<p>So if you do such implementation in a <strong>Service</strong>, the <code>this</code> in this line is not an <strong>Activity Context</strong>:</p>\n<pre><code>PrintManager printManager = (PrintManager)this.getSystemService(Context.PRINT_SERVICE);\n</code></pre>\n<p>You must have an <strong>Activity Context</strong> in order to make it work.</p>\n"}],"owner":{"account_id":25462104,"reputation":91,"user_id":19261685,"display_name":"Lasitha Lankajeewa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675324552,"creation_date":1675313906,"question_id":75318841,"body_markdown":"I wrote a service in android app to read a pdf file and send to the print using print manager. but it not allowing to print, and it says &quot; IllegalStateException : Can print only from an activity&quot;.IS this a problem of newer android versions?\r\n\r\nThis is the cade \r\n\r\n      PrintManager printManager = (PrintManager) this.getSystemService(Context.PRINT_SERVICE);\r\n      PrintDocumentAdapter printAdapter = new PdfDocumentAdapter(pathPdfRead);\r\n      String jobName = getString(R.string.app_name) + newDoc;\r\n      printManager.print(jobName, printAdapter, new PrintAttributes.Builder().build());\r\n\r\nI&#39;m expecting some answer. Is this possible in Android 11 or higher versions?","title":"Is printing not allowing within a service in android?","body":"<p>I wrote a service in android app to read a pdf file and send to the print using print manager. but it not allowing to print, and it says &quot; IllegalStateException : Can print only from an activity&quot;.IS this a problem of newer android versions?</p>\n<p>This is the cade</p>\n<pre><code>  PrintManager printManager = (PrintManager) this.getSystemService(Context.PRINT_SERVICE);\n  PrintDocumentAdapter printAdapter = new PdfDocumentAdapter(pathPdfRead);\n  String jobName = getString(R.string.app_name) + newDoc;\n  printManager.print(jobName, printAdapter, new PrintAttributes.Builder().build());\n</code></pre>\n<p>I'm expecting some answer. Is this possible in Android 11 or higher versions?</p>\n"},{"tags":["java","svg","itext"],"comments":[{"owner":{"account_id":13734,"reputation":1450,"user_id":27760,"display_name":"Glenner003"},"score":0,"creation_date":1675350799,"post_id":75319826,"comment_id":132914087,"body_markdown":"What version of iText are using? Do you have com.itextpdf/svg as a dependency?","body":"What version of iText are using? Do you have com.itextpdf/svg as a dependency?"},{"owner":{"account_id":26876240,"reputation":21,"user_id":20457452,"display_name":"crosbee"},"score":0,"creation_date":1675364599,"post_id":75319826,"comment_id":132918834,"body_markdown":"I used 7.2.5. Now I decided to convert image to png and convert to base64. Thank for it, image is rendered.","body":"I used 7.2.5. Now I decided to convert image to png and convert to base64. Thank for it, image is rendered."}],"owner":{"account_id":26876240,"reputation":21,"user_id":20457452,"display_name":"crosbee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675324128,"creation_date":1675322462,"question_id":75319826,"body_markdown":"I&#39;m using iTextRenderer() to convert html (String) to pdf file. I would like to add on end pdf file, image as svg. I&#39;m using JFreeChart to create SVG File.\r\n\r\n            File file = new File(&quot;D:\\\\testowy.txt&quot;);    //html in string\r\n        File outPDF = new File(&quot;D:\\\\testww.pdf&quot;); //output pdf\r\n        ITextRenderer renderer = new ITextRenderer();\r\n        renderer.setDocumentFromString(IOUtils.readUtf(file));\r\n\r\n        renderer.layout();\r\n        renderer.createPDF(new BufferedOutputStream(new FileOutputStream(outPDF)));\r\nBelow picture shows how appearance my pdf. The svg file doesnt creat correct. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yzfM7.png\r\n\r\nThe text &quot;7e5a7f...&quot; is a SVG.\r\nI tried use framework PDF, but the text is skip and only svg is created.\r\n\r\n            PdfDocument doc = new PdfDocument(\r\n                new PdfWriter(new FileOutputStream(outPDF),\r\n                        new WriterProperties().setCompressionLevel(0)));\r\n        doc.addNewPage();\r\n        SvgConverter.drawOnDocument(IOUtils.readUtf(file), doc, 1);\r\n        doc.close();\r\n","title":"how to add svg in pdf document iText","body":"<p>I'm using iTextRenderer() to convert html (String) to pdf file. I would like to add on end pdf file, image as svg. I'm using JFreeChart to create SVG File.</p>\n<pre><code>        File file = new File(&quot;D:\\\\testowy.txt&quot;);    //html in string\n    File outPDF = new File(&quot;D:\\\\testww.pdf&quot;); //output pdf\n    ITextRenderer renderer = new ITextRenderer();\n    renderer.setDocumentFromString(IOUtils.readUtf(file));\n\n    renderer.layout();\n    renderer.createPDF(new BufferedOutputStream(new FileOutputStream(outPDF)));\n</code></pre>\n<p>Below picture shows how appearance my pdf. The svg file doesnt creat correct.</p>\n<p><a href=\"https://i.stack.imgur.com/yzfM7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yzfM7.png\" alt=\"enter image description here\" /></a></p>\n<p>The text &quot;7e5a7f...&quot; is a SVG.\nI tried use framework PDF, but the text is skip and only svg is created.</p>\n<pre><code>        PdfDocument doc = new PdfDocument(\n            new PdfWriter(new FileOutputStream(outPDF),\n                    new WriterProperties().setCompressionLevel(0)));\n    doc.addNewPage();\n    SvgConverter.drawOnDocument(IOUtils.readUtf(file), doc, 1);\n    doc.close();\n</code></pre>\n"},{"tags":["java","android","rx-java","azure-maps"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1675254298,"post_id":75309926,"comment_id":132887904,"body_markdown":"That `Observer` doesn&#39;t look like an RxJava one. Where is even RxJava involved other than suppressing the undeliverable exception? Most inportantly though, why haven&#39;t you posted the **full stacktrace**?","body":"That <code>Observer</code> doesn&#39;t look like an RxJava one. Where is even RxJava involved other than suppressing the undeliverable exception? Most inportantly though, why haven&#39;t you posted the <b>full stacktrace</b>?"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675254360,"post_id":75309926,"comment_id":132887928,"body_markdown":"@akarnokd im kinda newbie in android, by stacktrace you mean full error log ?","body":"@akarnokd im kinda newbie in android, by stacktrace you mean full error log ?"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675254448,"post_id":75309926,"comment_id":132887954,"body_markdown":"@akarnokd And yes, i tought i wasn&#39;t using RxJava, but the error log talks about rxJava and that error handling in the code was a try to fix the exception. Because the app works fine in android 10, this just happpens when im in android 9. Forgot to mencion that.","body":"@akarnokd And yes, i tought i wasn&#39;t using RxJava, but the error log talks about rxJava and that error handling in the code was a try to fix the exception. Because the app works fine in android 10, this just happpens when im in android 9. Forgot to mencion that."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1675254570,"post_id":75309926,"comment_id":132887989,"body_markdown":"Yes, please post the error log where it stats saying `The exception could not be delivered` followed by a bunch of `at some.packages` and also `caused by`. But don&#39;t post it in the comments! Edit the question please.","body":"Yes, please post the error log where it stats saying <code>The exception could not be delivered</code> followed by a bunch of <code>at some.packages</code> and also <code>caused by</code>. But don&#39;t post it in the comments! Edit the question please."},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675254685,"post_id":75309926,"comment_id":132888024,"body_markdown":"@akarnokd https://prnt.sc/9hNzKgfao4gA","body":"@akarnokd <a href=\"https://prnt.sc/9hNzKgfao4gA\" rel=\"nofollow noreferrer\">prnt.sc/9hNzKgfao4gA</a>"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1675254717,"post_id":75309926,"comment_id":132888040,"body_markdown":"Please do not post screenshots of errors. Edit your question with the text.","body":"Please do not post screenshots of errors. Edit your question with the text."},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675254775,"post_id":75309926,"comment_id":132888072,"body_markdown":"@akarnokd i&#39;ve edited, sorry","body":"@akarnokd i&#39;ve edited, sorry"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1675254903,"post_id":75309926,"comment_id":132888106,"body_markdown":"Please copy-paste the error text and add that to the question **as text**!","body":"Please copy-paste the error text and add that to the question <b>as text</b>!"},{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675255398,"post_id":75309926,"comment_id":132888275,"body_markdown":"As in stacktrace there is an issue with loading resource: res/color/azure_maps_bg_dark.xml Can you check an post content of the file ? Maybe you reference color that doesn&#39;t exist or maybe resource it&#39;s referencing itself","body":"As in stacktrace there is an issue with loading resource: res/color/azure_maps_bg_dark.xml Can you check an post content of the file ? Maybe you reference color that doesn&#39;t exist or maybe resource it&#39;s referencing itself"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675259956,"post_id":75309926,"comment_id":132889890,"body_markdown":"@bongo if thats the problem, how could i/you explain the app working on android version 10 and above, and not working in android 9 ?","body":"@bongo if thats the problem, how could i/you explain the app working on android version 10 and above, and not working in android 9 ?"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675260053,"post_id":75309926,"comment_id":132889924,"body_markdown":"@akarnokd sry, i did that just now. Thanks","body":"@akarnokd sry, i did that just now. Thanks"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675260123,"post_id":75309926,"comment_id":132889948,"body_markdown":"@bongo and i think that resource comes from the library im using, azure maps.","body":"@bongo and i think that resource comes from the library im using, azure maps."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1675260527,"post_id":75309926,"comment_id":132890101,"body_markdown":"Not sure what the difficulty is; just reading the error message I see this:\n\n*org.xmlpull.v1.XmlPullParserException: Binary XML file line #3: &lt;item&gt; tag requires a &#39;drawable&#39; attribute or child tag defining a drawable*. Probably `drawable` is optional in 10 but mandatory in 9? Maybe the resource/library is no longer compatible with 9?","body":"Not sure what the difficulty is; just reading the error message I see this:  <i>org.xmlpull.v1.XmlPullParserException: Binary XML file line #3: &lt;item&gt; tag requires a &#39;drawable&#39; attribute or child tag defining a drawable</i>. Probably <code>drawable</code> is optional in 10 but mandatory in 9? Maybe the resource/library is no longer compatible with 9?"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675260927,"post_id":75309926,"comment_id":132890258,"body_markdown":"@akarnokd hmm, if we talking about azure maps lib it is compatible, because in my version 1.01 it was working fine. So you are telling me that is nothing about my Observer but about a xml file ?","body":"@akarnokd hmm, if we talking about azure maps lib it is compatible, because in my version 1.01 it was working fine. So you are telling me that is nothing about my Observer but about a xml file ?"},{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675261056,"post_id":75309926,"comment_id":132890318,"body_markdown":"To be honest, this library is really outdated it is still using support v4 library and not appcompat","body":"To be honest, this library is really outdated it is still using support v4 library and not appcompat"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675261110,"post_id":75309926,"comment_id":132890339,"body_markdown":"@bongo so i should change the library ? Can you advice me one good map LIB that can handle 100 000 points like this one ?","body":"@bongo so i should change the library ? Can you advice me one good map LIB that can handle 100 000 points like this one ?"},{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675261159,"post_id":75309926,"comment_id":132890359,"body_markdown":"which version of the library are you using? Can you check If there is error when u user 1.2.0 version ?","body":"which version of the library are you using? Can you check If there is error when u user 1.2.0 version ?"},{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675261362,"post_id":75309926,"comment_id":132890449,"body_markdown":"I have checked the source code of version 1.2.0 and I can&#39;t find problematic resources &quot;azure_maps_bg_dark&quot; so maybe it was fixed already","body":"I have checked the source code of version 1.2.0 and I can&#39;t find problematic resources &quot;azure_maps_bg_dark&quot; so maybe it was fixed already"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675261365,"post_id":75309926,"comment_id":132890452,"body_markdown":"@bongo when i talk about version, i was talking about my app, the version of azure maps im using is: \n//AZURE MAPS\n    implementation &#39;com.azure.android:azure-maps-control:1.2.0&#39;\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\n    implementation &#39;com.google.android.material:material:1.9.0-alpha01&#39;","body":"@bongo when i talk about version, i was talking about my app, the version of azure maps im using is:  //AZURE MAPS     implementation &#39;com.azure.android:azure-maps-control:1.2.0&#39;     implementation &#39;com.google.android.material:material:1.8.0&#39;     implementation &#39;com.google.android.material:material:1.9.0-alpha01&#39;"},{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675261962,"post_id":75309926,"comment_id":132890667,"body_markdown":"Ok so let&#39;s try this\ncreate azure_maps_btn_bg_dark.xml file in drawable folder and paste this as a content:\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:drawable=&quot;@android:color/transparent&quot;&gt;\n        &lt;shape&gt;\n            &lt;solid android:color=&quot;@color/azure_maps_bg_dark&quot; /&gt;\n            &lt;corners android:radius=&quot;2dp&quot; /&gt;\n            &lt;stroke android:color=&quot;#00000080&quot; android:width=&quot;1px&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;","body":"Ok so let&#39;s try this create azure_maps_btn_bg_dark.xml file in drawable folder and paste this as a content:  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;layer-list xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;&gt;     &lt;item android:drawable=&quot;@android:color/transparent&quot;&gt;         &lt;shape&gt;             &lt;solid android:color=&quot;@color/azure_maps_bg_dark&quot; /&gt;             &lt;corners android:radius=&quot;2dp&quot; /&gt;             &lt;stroke android:color=&quot;#00000080&quot; android:width=&quot;1px&quot; /&gt;         &lt;/shape&gt;     &lt;/item&gt; &lt;/layer-list&gt;"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675262056,"post_id":75309926,"comment_id":132890692,"body_markdown":"i&#39;ve tried this minutes ago with this code :\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;#43474c&quot;/&gt;\n    &lt;item android:color=&quot;#011C2C&quot;/&gt;\n&lt;/selector&gt;","body":"i&#39;ve tried this minutes ago with this code : &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;selector xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;&gt;     &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;#43474c&quot;/&gt;     &lt;item android:color=&quot;#011C2C&quot;/&gt; &lt;/selector&gt;"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675262170,"post_id":75309926,"comment_id":132890728,"body_markdown":"Anyway tried with yours, and didnt work anyway. Im start to give up, im just going to say the minimum android it has to be 10","body":"Anyway tried with yours, and didnt work anyway. Im start to give up, im just going to say the minimum android it has to be 10"},{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675262440,"post_id":75309926,"comment_id":132890821,"body_markdown":"But can at least check if the exception was the same? Probably there are more resources that needs tweaks","body":"But can at least check if the exception was the same? Probably there are more resources that needs tweaks"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675263842,"post_id":75309926,"comment_id":132891313,"body_markdown":"@bongo the resource didnt exist. It comes from the library. I just tryed to create one myself","body":"@bongo the resource didnt exist. It comes from the library. I just tryed to create one myself"}],"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675323533,"creation_date":1675253092,"question_id":75309926,"body_markdown":"The error message is:\r\n\r\n&gt;The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with.\r\n\r\nI cant get where it comes from...\r\n\r\nFrom where I&#39;ve been searching, the problem is on error handling, which I don&#39;t know where should I do it.\r\nI need to solve this as fast as I can if you guys can help me out.\r\n\r\nSo my LocationService:\r\n\r\n    public class LocationService extends Service {\r\n        public static ArrayList&lt;LatLng&gt; locationArrayList = new ArrayList&lt;LatLng&gt;();\r\n    \r\n        FusedLocationProviderClient fusedLocationClient;\r\n        LocationRequest locationRequest;\r\n        LocationCallback locationCallback;\r\n        Context context;\r\n    \r\n    \r\n        private void startLocationUpdates() {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n    \r\n                return;\r\n            }\r\n    \r\n            fusedLocationClient.requestLocationUpdates(locationRequest,\r\n                    locationCallback,\r\n                    Looper.getMainLooper());\r\n        }\r\n    \r\n        protected void createLocationRequest() {\r\n            LocationRequest locationRequest = LocationRequest.create();\r\n            locationRequest.setInterval(3000);\r\n            locationRequest.setFastestInterval(5000);\r\n            locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            RxJavaPlugins.setErrorHandler(emptyConsumer());\r\n            new Notification();\r\n    \r\n    \r\n            fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n    \r\n            createNotificationChanel() ;\r\n    \r\n            locationRequest = LocationRequest.create();\r\n            locationRequest.setInterval(7000);\r\n            locationRequest.setFastestInterval(3000);\r\n            locationRequest.setMaxWaitTime(5000);\r\n            locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n    \r\n    \r\n    \r\n            locationCallback = new LocationCallback() {\r\n                @Override\r\n                public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                    Location location =  locationResult.getLastLocation();\r\n                    assert location != null;\r\n                    com.aeroprotechnik.mismart.utils.NotificationManager.updateNotificationMessage(new LLcoor(location.getLongitude(), location.getLatitude()));\r\n    \r\n    \r\n    \r\n    \r\n                    //locationArrayList.add(new LatLng(location.getLatitude(), location.getLongitude()));\r\n    \r\n                   /* for (Location location : locationResult.getLocations()) {\r\n                      location\r\n                    }*/\r\n                }\r\n            };\r\n            startLocationUpdates();\r\n    \r\n            RxJavaPlugins.setErrorHandler(emptyConsumer());\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        private static void sendMessageToActivity(Context context ,double latitude, double longitude) {\r\n            Intent intent = new Intent(&quot;GPSLocationUpdates&quot;);\r\n            // You can also include some extra data.\r\n            intent.putExtra(&quot;latitude&quot;, latitude);\r\n            intent.putExtra(&quot;longitude&quot;, longitude);\r\n            LocalBroadcastManager.getInstance(context).sendBroadcast(intent);\r\n        }\r\n    \r\n        private void createNotificationChanel() {\r\n            String notificationChannelId = &quot;Location channel id&quot;;\r\n            String channelName = &quot;Background Service&quot;;\r\n    \r\n            NotificationChannel chan = new NotificationChannel(\r\n                    notificationChannelId,\r\n                    channelName,\r\n                    NotificationManager.IMPORTANCE_NONE\r\n            );\r\n            chan.setLightColor(Color.BLUE);\r\n            chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n    \r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n    \r\n            manager.createNotificationChannel(chan);\r\n    \r\n            NotificationCompat.Builder notificationBuilder =\r\n                    new NotificationCompat.Builder(this, notificationChannelId);\r\n    \r\n            Notification notification = notificationBuilder.setOngoing(true)\r\n                    .setContentTitle(&quot;Location updates:&quot;)\r\n                    .setPriority(NotificationManager.IMPORTANCE_MIN)\r\n                    .setCategory(Notification.CATEGORY_SERVICE)\r\n                    .build();\r\n            startForeground(2, notification);\r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            super.onStartCommand(intent, flags, startId);\r\n            return START_STICKY;\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            fusedLocationClient.removeLocationUpdates(locationCallback);\r\n        }\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nMy NotificationLiveData:\r\n\r\n    public class NotificationLiveData extends LiveData&lt;LLcoor&gt; {\r\n        public void setNotification(LLcoor coor){\r\n            postValue(coor);\r\n        }\r\n    }\r\n\r\n\r\nMy manager:\r\n\r\n    public class NotificationManager extends LiveData&lt;LLcoor&gt; {\r\n    \r\n        private static final NotificationLiveData notificationLiveData = new NotificationLiveData();\r\n    \r\n    \r\n    \r\n        public static void updateNotificationMessage(LLcoor data){\r\n            RxJavaPlugins.setErrorHandler(emptyConsumer());\r\n    \r\n            notificationLiveData.setNotification(data);\r\n    \r\n        }\r\n    \r\n        public static NotificationLiveData getNotificationLiveData() {\r\n            return notificationLiveData;\r\n        }\r\n    }\r\n\r\nMy observer:\r\n\r\n      private final Observer&lt;LLcoor&gt; notificationObserver = new Observer&lt;LLcoor&gt;() {\r\n    \r\n            @Override\r\n            public void onChanged(LLcoor coor) {\r\n                Feature f = Feature.fromGeometry(Point.fromLngLat(coor.getLongitude(), coor.getLatitude()));\r\n                Log.e(&quot;FEATURE ADDED&quot;, f.toString());\r\n                mypos.clear();\r\n                mypos.add(f);\r\n    \r\n            }\r\n        };\r\n\r\nError Log:\r\n\r\n    io.reactivex.exceptions.UndeliverableException: The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with. Further reading: https://github.com/ReactiveX/RxJava/wiki/What&#39;s-different-in-2.0#error-handling | android.content.res.Resources$NotFoundException: Drawable com.aeroprotechnik.mismart:color/azure_maps_bg_dark with resource ID #0x7f06001d\r\n            at io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)\r\n            at io.reactivex.internal.observers.ConsumerSingleObserver.onSuccess(ConsumerSingleObserver.java:65)\r\n            at io.reactivex.internal.operators.single.SingleObserveOn$ObserveOnSingleObserver.run(SingleObserveOn.java:81)\r\n            at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:124)\r\n            at android.os.Handler.handleCallback(Handler.java:907)\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)\r\n            at android.os.Looper.loop(Looper.java:216)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7625)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\r\n         Caused by: android.content.res.Resources$NotFoundException: Drawable com.aeroprotechnik.mismart:color/azure_maps_bg_dark with resource ID #0x7f06001d\r\n         Caused by: android.content.res.Resources$NotFoundException: File res/color/azure_maps_bg_dark.xml from drawable resource ID #0x7f06001d\r\n            at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:1166)\r\n            at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:917)\r\n            at android.content.res.Resources.getDrawableForDensity(Resources.java:1074)\r\n            at android.content.res.Resources.getDrawable(Resources.java:1013)\r\n            at android.content.Context.getDrawable(Context.java:630)\r\n            at android.view.View.setBackgroundResource(View.java:21728)\r\n            at androidx.appcompat.widget.AppCompatTextView.setBackgroundResource(AppCompatTextView.java:144)\r\n            at com.azure.android.maps.control.CopyrightDelegate.b(SourceFile:3)\r\n            at com.azure.android.maps.control.CopyrightDelegate.$r8$lambda$35Myr-cFRF2s-DrL_gjzL00mHSc(Unknown Source:0)\r\n            at com.azure.android.maps.control.CopyrightDelegate$$ExternalSyntheticLambda3.accept(Unknown Source:4)\r\n            at io.reactivex.internal.observers.ConsumerSingleObserver.onSuccess(ConsumerSingleObserver.java:62)\r\n            at io.reactivex.internal.operators.single.SingleObserveOn$ObserveOnSingleObserver.run(SingleObserveOn.java:81)\r\n            at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:124)\r\n            at android.os.Handler.handleCallback(Handler.java:907)\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)\r\n            at android.os.Looper.loop(Looper.java:216)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7625)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\r\n         Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML file line #3: &lt;item&gt; tag requires a &#39;drawable&#39; attribute or child tag defining a drawable\r\n            at android.graphics.drawable.StateListDrawable.inflateChildElements(StateListDrawable.java:190)\r\n            at android.graphics.drawable.StateListDrawable.inflate(StateListDrawable.java:122)\r\n            at android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:148)\r\n            at android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1332)\r\n            at android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1291)\r\n            at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:1144)\r\n            at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:917)&#160;\r\n            at android.content.res.Resources.getDrawableForDensity(Resources.java:1074)&#160;\r\n            at android.content.res.Resources.getDrawable(Resources.java:1013)&#160;\r\n            at android.content.Context.getDrawable(Context.java:630)&#160;\r\n            at android.view.View.setBackgroundResource(View.java:21728)&#160;\r\n            at androidx.appcompat.widget.AppCompatTextView.setBackgroundResource(AppCompatTextView.java:144)&#160;\r\n            at com.azure.android.maps.control.CopyrightDelegate.b(SourceFile:3)&#160;\r\n            at com.azure.android.maps.control.CopyrightDelegate.$r8$lambda$35Myr-cFRF2s-DrL_gjzL00mHSc(Unknown Source:0)&#160;\r\n            at com.azure.android.maps.control.CopyrightDelegate$$ExternalSyntheticLambda3.accept(Unknown Source:4)&#160;\r\n            at io.reactivex.internal.observers.ConsumerSingleObserver.onSuccess(ConsumerSingleObserver.java:62)&#160;\r\n            at io.reactivex.internal.operators.single.SingleObserveOn$ObserveOnSingleObserver.run(SingleObserveOn.java:81)&#160;\r\n            at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:124)&#160;\r\n            at android.os.Handler.handleCallback(Handler.java:907)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n            at android.os.Looper.loop(Looper.java:216)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7625)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)&#160;\r\n    2023-02-01 12:30:36.490 14329-14359/com.aeroprotechnik.mismart E/AwareLog: AtomicFileUtils: readFileLines file not exist: android.util.AtomicFile@d86ec08\r\n    2023-02-01 12:30:36.492 14329-14359/com.aeroprotechnik.mismart E/AwareLog: AtomicFileUtils: readFileLines file not exist: android.util.AtomicFile@48d1fa1\r\n    2023-02-01 12:30:36.518 14329-14350/com.aeroprotechnik.mismart E/MemoryLeakMonitorManager: MemoryLeakMonitor.jar is not exist!\r\n    2023-02-01 12:30:39.070 14329-14340/com.aeroprotechnik.mismart E/: [ZeroHung]zrhung_get_config: Get config failed for wp[0x0008]\r\n\r\n","title":"UndeliverableException on a simple Observer. I don&#39;t understand where come from","body":"<p>The error message is:</p>\n<blockquote>\n<p>The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with.</p>\n</blockquote>\n<p>I cant get where it comes from...</p>\n<p>From where I've been searching, the problem is on error handling, which I don't know where should I do it.\nI need to solve this as fast as I can if you guys can help me out.</p>\n<p>So my LocationService:</p>\n<pre><code>public class LocationService extends Service {\n    public static ArrayList&lt;LatLng&gt; locationArrayList = new ArrayList&lt;LatLng&gt;();\n\n    FusedLocationProviderClient fusedLocationClient;\n    LocationRequest locationRequest;\n    LocationCallback locationCallback;\n    Context context;\n\n\n    private void startLocationUpdates() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n\n            return;\n        }\n\n        fusedLocationClient.requestLocationUpdates(locationRequest,\n                locationCallback,\n                Looper.getMainLooper());\n    }\n\n    protected void createLocationRequest() {\n        LocationRequest locationRequest = LocationRequest.create();\n        locationRequest.setInterval(3000);\n        locationRequest.setFastestInterval(5000);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    }\n\n\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        RxJavaPlugins.setErrorHandler(emptyConsumer());\n        new Notification();\n\n\n        fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n\n        createNotificationChanel() ;\n\n        locationRequest = LocationRequest.create();\n        locationRequest.setInterval(7000);\n        locationRequest.setFastestInterval(3000);\n        locationRequest.setMaxWaitTime(5000);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n\n\n\n        locationCallback = new LocationCallback() {\n            @Override\n            public void onLocationResult(@NonNull LocationResult locationResult) {\n                Location location =  locationResult.getLastLocation();\n                assert location != null;\n                com.aeroprotechnik.mismart.utils.NotificationManager.updateNotificationMessage(new LLcoor(location.getLongitude(), location.getLatitude()));\n\n\n\n\n                //locationArrayList.add(new LatLng(location.getLatitude(), location.getLongitude()));\n\n               /* for (Location location : locationResult.getLocations()) {\n                  location\n                }*/\n            }\n        };\n        startLocationUpdates();\n\n        RxJavaPlugins.setErrorHandler(emptyConsumer());\n    }\n\n\n\n\n    private static void sendMessageToActivity(Context context ,double latitude, double longitude) {\n        Intent intent = new Intent(&quot;GPSLocationUpdates&quot;);\n        // You can also include some extra data.\n        intent.putExtra(&quot;latitude&quot;, latitude);\n        intent.putExtra(&quot;longitude&quot;, longitude);\n        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);\n    }\n\n    private void createNotificationChanel() {\n        String notificationChannelId = &quot;Location channel id&quot;;\n        String channelName = &quot;Background Service&quot;;\n\n        NotificationChannel chan = new NotificationChannel(\n                notificationChannelId,\n                channelName,\n                NotificationManager.IMPORTANCE_NONE\n        );\n        chan.setLightColor(Color.BLUE);\n        chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n\n        NotificationManager manager = getSystemService(NotificationManager.class);\n\n        manager.createNotificationChannel(chan);\n\n        NotificationCompat.Builder notificationBuilder =\n                new NotificationCompat.Builder(this, notificationChannelId);\n\n        Notification notification = notificationBuilder.setOngoing(true)\n                .setContentTitle(&quot;Location updates:&quot;)\n                .setPriority(NotificationManager.IMPORTANCE_MIN)\n                .setCategory(Notification.CATEGORY_SERVICE)\n                .build();\n        startForeground(2, notification);\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        super.onStartCommand(intent, flags, startId);\n        return START_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        fusedLocationClient.removeLocationUpdates(locationCallback);\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n\n}\n</code></pre>\n<p>My NotificationLiveData:</p>\n<pre><code>public class NotificationLiveData extends LiveData&lt;LLcoor&gt; {\n    public void setNotification(LLcoor coor){\n        postValue(coor);\n    }\n}\n</code></pre>\n<p>My manager:</p>\n<pre><code>public class NotificationManager extends LiveData&lt;LLcoor&gt; {\n\n    private static final NotificationLiveData notificationLiveData = new NotificationLiveData();\n\n\n\n    public static void updateNotificationMessage(LLcoor data){\n        RxJavaPlugins.setErrorHandler(emptyConsumer());\n\n        notificationLiveData.setNotification(data);\n\n    }\n\n    public static NotificationLiveData getNotificationLiveData() {\n        return notificationLiveData;\n    }\n}\n</code></pre>\n<p>My observer:</p>\n<pre><code>  private final Observer&lt;LLcoor&gt; notificationObserver = new Observer&lt;LLcoor&gt;() {\n\n        @Override\n        public void onChanged(LLcoor coor) {\n            Feature f = Feature.fromGeometry(Point.fromLngLat(coor.getLongitude(), coor.getLatitude()));\n            Log.e(&quot;FEATURE ADDED&quot;, f.toString());\n            mypos.clear();\n            mypos.add(f);\n\n        }\n    };\n</code></pre>\n<p>Error Log:</p>\n<pre><code>io.reactivex.exceptions.UndeliverableException: The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with. Further reading: https://github.com/ReactiveX/RxJava/wiki/What's-different-in-2.0#error-handling | android.content.res.Resources$NotFoundException: Drawable com.aeroprotechnik.mismart:color/azure_maps_bg_dark with resource ID #0x7f06001d\n        at io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)\n        at io.reactivex.internal.observers.ConsumerSingleObserver.onSuccess(ConsumerSingleObserver.java:65)\n        at io.reactivex.internal.operators.single.SingleObserveOn$ObserveOnSingleObserver.run(SingleObserveOn.java:81)\n        at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:124)\n        at android.os.Handler.handleCallback(Handler.java:907)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:216)\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\n     Caused by: android.content.res.Resources$NotFoundException: Drawable com.aeroprotechnik.mismart:color/azure_maps_bg_dark with resource ID #0x7f06001d\n     Caused by: android.content.res.Resources$NotFoundException: File res/color/azure_maps_bg_dark.xml from drawable resource ID #0x7f06001d\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:1166)\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:917)\n        at android.content.res.Resources.getDrawableForDensity(Resources.java:1074)\n        at android.content.res.Resources.getDrawable(Resources.java:1013)\n        at android.content.Context.getDrawable(Context.java:630)\n        at android.view.View.setBackgroundResource(View.java:21728)\n        at androidx.appcompat.widget.AppCompatTextView.setBackgroundResource(AppCompatTextView.java:144)\n        at com.azure.android.maps.control.CopyrightDelegate.b(SourceFile:3)\n        at com.azure.android.maps.control.CopyrightDelegate.$r8$lambda$35Myr-cFRF2s-DrL_gjzL00mHSc(Unknown Source:0)\n        at com.azure.android.maps.control.CopyrightDelegate$$ExternalSyntheticLambda3.accept(Unknown Source:4)\n        at io.reactivex.internal.observers.ConsumerSingleObserver.onSuccess(ConsumerSingleObserver.java:62)\n        at io.reactivex.internal.operators.single.SingleObserveOn$ObserveOnSingleObserver.run(SingleObserveOn.java:81)\n        at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:124)\n        at android.os.Handler.handleCallback(Handler.java:907)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:216)\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\n     Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML file line #3: &lt;item&gt; tag requires a 'drawable' attribute or child tag defining a drawable\n        at android.graphics.drawable.StateListDrawable.inflateChildElements(StateListDrawable.java:190)\n        at android.graphics.drawable.StateListDrawable.inflate(StateListDrawable.java:122)\n        at android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:148)\n        at android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1332)\n        at android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1291)\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:1144)\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:917) \n        at android.content.res.Resources.getDrawableForDensity(Resources.java:1074) \n        at android.content.res.Resources.getDrawable(Resources.java:1013) \n        at android.content.Context.getDrawable(Context.java:630) \n        at android.view.View.setBackgroundResource(View.java:21728) \n        at androidx.appcompat.widget.AppCompatTextView.setBackgroundResource(AppCompatTextView.java:144) \n        at com.azure.android.maps.control.CopyrightDelegate.b(SourceFile:3) \n        at com.azure.android.maps.control.CopyrightDelegate.$r8$lambda$35Myr-cFRF2s-DrL_gjzL00mHSc(Unknown Source:0) \n        at com.azure.android.maps.control.CopyrightDelegate$$ExternalSyntheticLambda3.accept(Unknown Source:4) \n        at io.reactivex.internal.observers.ConsumerSingleObserver.onSuccess(ConsumerSingleObserver.java:62) \n        at io.reactivex.internal.operators.single.SingleObserveOn$ObserveOnSingleObserver.run(SingleObserveOn.java:81) \n        at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:124) \n        at android.os.Handler.handleCallback(Handler.java:907) \n        at android.os.Handler.dispatchMessage(Handler.java:105) \n        at android.os.Looper.loop(Looper.java:216) \n        at android.app.ActivityThread.main(ActivityThread.java:7625) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987) \n2023-02-01 12:30:36.490 14329-14359/com.aeroprotechnik.mismart E/AwareLog: AtomicFileUtils: readFileLines file not exist: android.util.AtomicFile@d86ec08\n2023-02-01 12:30:36.492 14329-14359/com.aeroprotechnik.mismart E/AwareLog: AtomicFileUtils: readFileLines file not exist: android.util.AtomicFile@48d1fa1\n2023-02-01 12:30:36.518 14329-14350/com.aeroprotechnik.mismart E/MemoryLeakMonitorManager: MemoryLeakMonitor.jar is not exist!\n2023-02-01 12:30:39.070 14329-14340/com.aeroprotechnik.mismart E/: [ZeroHung]zrhung_get_config: Get config failed for wp[0x0008]\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1674838539,"post_id":75261041,"comment_id":132805564,"body_markdown":"`return compare(left, right, comparedArray, index++);` change index++ to index + 1","body":"<code>return compare(left, right, comparedArray, index++);</code> change index++ to index + 1"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1674838709,"post_id":75261041,"comment_id":132805623,"body_markdown":"Also, just FYI, building arrays like this should be done iteratively precisely to prevent stack overflow errors","body":"Also, just FYI, building arrays like this should be done iteratively precisely to prevent stack overflow errors"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675322538,"creation_date":1674839061,"answer_id":75261186,"question_id":75261041,"body_markdown":"Look at your example, you have `return compare(left, right, comparedArray, index++);`\r\n\r\n`i++` means **use then increment**. It means that you pass the `i` itself to the next step.\r\n\r\nYou should use `++i`, what means **increment then use**.\r\n\r\nMy personal reccomentation is to use `i + 1` instead. This is simple and super clear. And no side effects.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    int[] one = { 1, 2, 4, 8, 11 };\r\n    int[] two = { 1, 3, 2, 9, 10 };\r\n    int[] res = compare(one, two);\r\n\r\n    System.out.println(Arrays.stream(res)\r\n                             .mapToObj(String::valueOf)\r\n                             .collect(Collectors.joining(&quot; &quot;)));\r\n}\r\n\r\npublic static int[] compare(int[] one, int[] two) {\r\n    int[] res = new int[Math.min(one.length, two.length)];\r\n    compare(one, two, res, 0);\r\n    return res;\r\n}\r\n\r\nprivate static void compare(int[] one, int[] two, int[] res, int i) {\r\n    if (i &lt; res.length) {\r\n        res[i] = Math.max(one[i], two[i]);\r\n        compare(one, two, res, i + 1);\r\n    }\r\n}\r\n```","title":"How do I build an array recursively?","body":"<p>Look at your example, you have <code>return compare(left, right, comparedArray, index++);</code></p>\n<p><code>i++</code> means <strong>use then increment</strong>. It means that you pass the <code>i</code> itself to the next step.</p>\n<p>You should use <code>++i</code>, what means <strong>increment then use</strong>.</p>\n<p>My personal reccomentation is to use <code>i + 1</code> instead. This is simple and super clear. And no side effects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    int[] one = { 1, 2, 4, 8, 11 };\n    int[] two = { 1, 3, 2, 9, 10 };\n    int[] res = compare(one, two);\n\n    System.out.println(Arrays.stream(res)\n                             .mapToObj(String::valueOf)\n                             .collect(Collectors.joining(&quot; &quot;)));\n}\n\npublic static int[] compare(int[] one, int[] two) {\n    int[] res = new int[Math.min(one.length, two.length)];\n    compare(one, two, res, 0);\n    return res;\n}\n\nprivate static void compare(int[] one, int[] two, int[] res, int i) {\n    if (i &lt; res.length) {\n        res[i] = Math.max(one[i], two[i]);\n        compare(one, two, res, i + 1);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21211399,"reputation":337,"user_id":15599916,"display_name":"Gabriel Gavrilov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75261186,"answer_count":1,"score":0,"last_activity_date":1675322538,"creation_date":1674838146,"question_id":75261041,"body_markdown":"For one of my recursive practice questions, I have to build an integer array by comparing two arrays at the index, and add the greater value to a third array. the method has to follow this format: ``public static int[] compare(int[] left, int[] right);``\r\n\r\nThe way I did my method gives me a stack overflow error, and I genuinely have no clue what to do anymore. If someone could help guide me to the right direction that would be great.\r\n\r\n```\r\npublic class RecursiveMethod {\r\n    public static void main(String[] args) {\r\n\r\n        int[] left = {1, 2, 4, 8, 11};\r\n        int[] right = {1, 3, 2, 9, 10};\r\n        int[] comparedArray = new int[5];\r\n\r\n        comparedArray = compare(left, right, comparedArray, 0);\r\n\r\n        for(int i : comparedArray) {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public static int[] compare(int[] left, int[] right, int[] comparedArray, int index) {\r\n        if(index &gt;= comparedArray.length) {\r\n            return comparedArray;\r\n        }\r\n\r\n        else {\r\n            int greater = 0;\r\n            if(left[index] &gt; right[index]) greater = left[index];\r\n            else if(left[index] &lt; right[index]) greater = right[index];\r\n            comparedArray[index] = greater;\r\n        }\r\n\r\n        return compare(left, right, comparedArray, index++);\r\n    }\r\n\r\n\r\n}\r\n```","title":"How do I build an array recursively?","body":"<p>For one of my recursive practice questions, I have to build an integer array by comparing two arrays at the index, and add the greater value to a third array. the method has to follow this format: <code>public static int[] compare(int[] left, int[] right);</code></p>\n<p>The way I did my method gives me a stack overflow error, and I genuinely have no clue what to do anymore. If someone could help guide me to the right direction that would be great.</p>\n<pre><code>public class RecursiveMethod {\n    public static void main(String[] args) {\n\n        int[] left = {1, 2, 4, 8, 11};\n        int[] right = {1, 3, 2, 9, 10};\n        int[] comparedArray = new int[5];\n\n        comparedArray = compare(left, right, comparedArray, 0);\n\n        for(int i : comparedArray) {\n            System.out.print(i + &quot; &quot;);\n        }\n\n    }\n\n    public static int[] compare(int[] left, int[] right, int[] comparedArray, int index) {\n        if(index &gt;= comparedArray.length) {\n            return comparedArray;\n        }\n\n        else {\n            int greater = 0;\n            if(left[index] &gt; right[index]) greater = left[index];\n            else if(left[index] &lt; right[index]) greater = right[index];\n            comparedArray[index] = greater;\n        }\n\n        return compare(left, right, comparedArray, index++);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":0,"creation_date":1675290175,"post_id":75316745,"comment_id":132899688,"body_markdown":"maybe this is capped by your CPU or operation system? can you verify that other applications on the same technology are able to interact faster?","body":"maybe this is capped by your CPU or operation system? can you verify that other applications on the same technology are able to interact faster?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675290313,"post_id":75316745,"comment_id":132899736,"body_markdown":"There are a lot of things which would effect the timer - OS thread scheduling and system overheads; your own code efficiencies, for example Swing `Timer` uses a &quot;coalescing&quot;  mechanism which prevents it from posting more events onto the Event Dispatching Queue while previously pending events are still in the event queue","body":"There are a lot of things which would effect the timer - OS thread scheduling and system overheads; your own code efficiencies, for example Swing <code>Timer</code> uses a &quot;coalescing&quot;  mechanism which prevents it from posting more events onto the Event Dispatching Queue while previously pending events are still in the event queue"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1675290370,"post_id":75316745,"comment_id":132899756,"body_markdown":"I&#39;ve used Swing `Timer`s set to 5 milliseconds without issue in the past, maybe consider providing a [mcve] which demonstrates your problem","body":"I&#39;ve used Swing <code>Timer</code>s set to 5 milliseconds without issue in the past, maybe consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your problem"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1675291418,"post_id":75316745,"comment_id":132900043,"body_markdown":"Whatever number you set it to, never trust the timer to be completely precise, and instead base your animation delta translations on measured time differences.","body":"Whatever number you set it to, never trust the timer to be completely precise, and instead base your animation delta translations on measured time differences."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1675291840,"post_id":75316745,"comment_id":132900135,"body_markdown":"^-- That&#39;s actually a really good point, `Timer` and `Thread.sleep` only guarantee a &quot;at least&quot; amount of delay","body":"^-- That&#39;s actually a really good point, <code>Timer</code> and <code>Thread.sleep</code> only guarantee a &quot;at least&quot; amount of delay"}],"owner":{"account_id":27171904,"reputation":11,"user_id":20708443,"display_name":"silkmoon18"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675322452,"creation_date":1675289512,"question_id":75316745,"body_markdown":"When the delay is set to 0, what is the interval for the listener to be called? \r\n\r\n\r\n\r\n\r\nI tried changing delay to various values, but my listener was capped at about 60 times per second, unless I changed it to larger value like 100. Is 60 fps the defualt value? How can I increase the fps?\r\n\r\n```\r\n\r\npublic class test {\r\n    static long previousTime;\r\n\r\n    public static void main(String[] args) {\r\n        Timer timer = new Timer(0, new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                long currentTime = System.currentTimeMillis();\r\n                System.out.println((currentTime - previousTime) / 1000d);\r\n                previousTime = System.currentTimeMillis();\r\n            }\r\n        });\r\n\r\n        timer.start();\r\n\r\n        while (true);\r\n    }\r\n}\r\n```\r\nThis is the code I tested with. When delay is not big enough, it prints around 0.015. ","title":"Java swing timer when delay is set to 0?","body":"<p>When the delay is set to 0, what is the interval for the listener to be called?</p>\n<p>I tried changing delay to various values, but my listener was capped at about 60 times per second, unless I changed it to larger value like 100. Is 60 fps the defualt value? How can I increase the fps?</p>\n<pre><code>\npublic class test {\n    static long previousTime;\n\n    public static void main(String[] args) {\n        Timer timer = new Timer(0, new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                long currentTime = System.currentTimeMillis();\n                System.out.println((currentTime - previousTime) / 1000d);\n                previousTime = System.currentTimeMillis();\n            }\n        });\n\n        timer.start();\n\n        while (true);\n    }\n}\n</code></pre>\n<p>This is the code I tested with. When delay is not big enough, it prints around 0.015.</p>\n"},{"tags":["java","windows"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675322180,"creation_date":1675322180,"answer_id":75319796,"question_id":75319780,"body_markdown":"Do not run this from the `work` folder. Go two levels up, then run\r\n\r\n    java com.work.Some\r\n\r\nIf this does not help, additionally set the classpath\r\n\r\n    java -classpath . com.work.Some","title":"Getting java.lang.NoClassDefFoundError while running .class file with certain package","body":"<p>Do not run this from the <code>work</code> folder. Go two levels up, then run</p>\n<pre><code>java com.work.Some\n</code></pre>\n<p>If this does not help, additionally set the classpath</p>\n<pre><code>java -classpath . com.work.Some\n</code></pre>\n"}],"owner":{"account_id":10987912,"reputation":469,"user_id":8072948,"display_name":"Debayan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675322180,"creation_date":1675322053,"question_id":75319780,"body_markdown":"Consider Some.java file\r\ninside com/work folder. I have given the package name accordingly.\r\n```\r\npackage com.work;\r\n \r\nclass Some{\r\n\tpublic static void main(String... args){\r\n\t\tSystem.out.println(&quot;Hello World&quot;);\r\n\t}\r\n}\r\n```\r\nI am able to compile this Some.java file and get the respective Some.class file,\r\nBut when I am trying to run the Some.class file with command **java Some**, considering I am in the work folder, I am getting the below error.\r\n```\r\nError: Could not find or load main class com.work.some\r\nCaused by: java.lang.ClassNotFoundException: com.work.some\r\n```","title":"Getting java.lang.NoClassDefFoundError while running .class file with certain package","body":"<p>Consider Some.java file\ninside com/work folder. I have given the package name accordingly.</p>\n<pre><code>package com.work;\n \nclass Some{\n    public static void main(String... args){\n        System.out.println(&quot;Hello World&quot;);\n    }\n}\n</code></pre>\n<p>I am able to compile this Some.java file and get the respective Some.class file,\nBut when I am trying to run the Some.class file with command <strong>java Some</strong>, considering I am in the work folder, I am getting the below error.</p>\n<pre><code>Error: Could not find or load main class com.work.some\nCaused by: java.lang.ClassNotFoundException: com.work.some\n</code></pre>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1675208747,"post_id":75304177,"comment_id":132878662,"body_markdown":"This question might help:  https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors","body":"This question might help:  <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1675209767,"post_id":75304177,"comment_id":132878820,"body_markdown":"Consider providing a [mcve] which demonstrates your issue. Are you aware that [`JTable` supports inline sorting](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting)","body":"Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue. Are you aware that <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting\" rel=\"nofollow noreferrer\"><code>JTable</code> supports inline sorting</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1675215994,"post_id":75304177,"comment_id":132879707,"body_markdown":"Why are you storing the data in two places? You don&#39;t need the ArrayList to hold your Users. The TableModel will hold all your Users. So all you need to do is remove the row from the TableModel. Because the data is sorted you need to convert the &quot;view&quot; row number to the &quot;model&quot; row number before you can delete the row from the model. Read the JTable API for the `convert???` methods that do this for you.","body":"Why are you storing the data in two places? You don&#39;t need the ArrayList to hold your Users. The TableModel will hold all your Users. So all you need to do is remove the row from the TableModel. Because the data is sorted you need to convert the &quot;view&quot; row number to the &quot;model&quot; row number before you can delete the row from the model. Read the JTable API for the <code>convert???</code> methods that do this for you."},{"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"score":0,"creation_date":1675297153,"post_id":75304177,"comment_id":132901050,"body_markdown":"@camickr I&#39;ve been trying to use convert as shown in my edit but I&#39;m unable to make the changes appear on the GUI itself, do you know why?","body":"@camickr I&#39;ve been trying to use convert as shown in my edit but I&#39;m unable to make the changes appear on the GUI itself, do you know why?"},{"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"score":0,"creation_date":1675297253,"post_id":75304177,"comment_id":132901066,"body_markdown":"@MadProgrammer yes I am aware, but I am trying to implement a programmable sort myself to get an understanding for this","body":"@MadProgrammer yes I am aware, but I am trying to implement a programmable sort myself to get an understanding for this"},{"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"score":0,"creation_date":1675305288,"post_id":75304177,"comment_id":132902228,"body_markdown":"@MadProgrammer I added the minimal reproducible example, I just really don&#39;t know how to solve this problem and I really want to know how to fix it","body":"@MadProgrammer I added the minimal reproducible example, I just really don&#39;t know how to solve this problem and I really want to know how to fix it"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1675306062,"post_id":75304177,"comment_id":132902328,"body_markdown":"This is not a valid [mre] -- it has resource requirements that we have no access to, such as some text file, perhaps db.txt. Without this file, with the correct data and in the correct location, this code throws a `FileNotFoundException`. Please read the [MRE](https://stackoverflow.com/help/minimal-reproducible-example) link and test your mre in isolation to be sure that it complies with requirements. Best to do this before asking a question, but better late than never.","body":"This is not a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> -- it has resource requirements that we have no access to, such as some text file, perhaps db.txt. Without this file, with the correct data and in the correct location, this code throws a <code>FileNotFoundException</code>. Please read the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a> link and test your mre in isolation to be sure that it complies with requirements. Best to do this before asking a question, but better late than never."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1675306166,"post_id":75304177,"comment_id":132902340,"body_markdown":"And also, as noted by @OldDogProgrammer, have you used your debugger to step through the code near where the errors are occurring to see for yourself why they are occurring?","body":"And also, as noted by @OldDogProgrammer, have you used your debugger to step through the code near where the errors are occurring to see for yourself why they are occurring?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1675306745,"post_id":75304177,"comment_id":132902405,"body_markdown":"Also: 1) Get most of that code out of the static world and into the instance world. 2) Learn and follow Java naming conventions: Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others. 3) Less cluttering of code with comments. Some commenting is good, but too many frivolous comments makes your code harder to read and understand, something that you don&#39;t want to do when asking others for help...","body":"Also: 1) Get most of that code out of the static world and into the instance world. 2) Learn and follow Java naming conventions: Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others. 3) Less cluttering of code with comments. Some commenting is good, but too many frivolous comments makes your code harder to read and understand, something that you don&#39;t want to do when asking others for help..."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1675306823,"post_id":75304177,"comment_id":132902414,"body_markdown":"4) Refacter your code, especially the large `UserManager.java` &quot;God&quot;-class, so that one class has one single responsibility. Best to have multiple small classes that are easy to understand, and that are ***easy to debug and test in isolation***. 5) And then do just that: test each class in isolation to find and fix your bugs.","body":"4) Refacter your code, especially the large <code>UserManager.java</code> &quot;God&quot;-class, so that one class has one single responsibility. Best to have multiple small classes that are easy to understand, and that are <b><i>easy to debug and test in isolation</i></b>. 5) And then do just that: test each class in isolation to find and fix your bugs."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1675307013,"post_id":75304177,"comment_id":132902437,"body_markdown":"Also, 6) [edit] and fix your question. The question is asking about an ArrayIndexOutOfBoundsException, but as far as I understand things, the current code doesn&#39;t throw this exception. Or does it?","body":"Also, 6) <a href=\"https://stackoverflow.com/posts/75304177/edit\">edit</a> and fix your question. The question is asking about an ArrayIndexOutOfBoundsException, but as far as I understand things, the current code doesn&#39;t throw this exception. Or does it?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1675307657,"post_id":75304177,"comment_id":132902530,"body_markdown":"Side issues: 1) Never set the bounds of a JTable. Never. That will mess with its ability to expand its rows and work correctly within its scrollpane. You really shouldn&#39;t set the bounds of any Swing component, but especially JTables and text components such as JTextAreas and JTextFields. 2) GridLayout is not a good layout for the main JPanel. Better might be BoxLayout, or a combination of layouts by nexting JPanels, each using its own simple layout, or consider using GridBagLayout, but again, not GridLayout.","body":"Side issues: 1) Never set the bounds of a JTable. Never. That will mess with its ability to expand its rows and work correctly within its scrollpane. You really shouldn&#39;t set the bounds of any Swing component, but especially JTables and text components such as JTextAreas and JTextFields. 2) GridLayout is not a good layout for the main JPanel. Better might be BoxLayout, or a combination of layouts by nexting JPanels, each using its own simple layout, or consider using GridBagLayout, but again, not GridLayout."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1675307659,"post_id":75304177,"comment_id":132902531,"body_markdown":"3) Don&#39;t set the size of the JFrame. Instead, first add all GUI components to it, then call `.pack()` on it, and *then* call `.setVisible(true)` on it.","body":"3) Don&#39;t set the size of the JFrame. Instead, first add all GUI components to it, then call <code>.pack()</code> on it, and <i>then</i> call <code>.setVisible(true)</code> on it."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1675309199,"post_id":75304177,"comment_id":132902738,"body_markdown":"Forget my suggestion to use a &quot;convert???&quot; method. That advice only applies when you use the JTable built in sorting. Since you are recreating the model in sorted order the view and model rows should be the same. The question is why is your index value of 2, if you only have 2 rows of data when you try to remove a row of data. That is what the Exception is telling you. Note, even if you use the code from the suggested answer below you still need to have the correct index to use when updating the model.","body":"Forget my suggestion to use a &quot;convert???&quot; method. That advice only applies when you use the JTable built in sorting. Since you are recreating the model in sorted order the view and model rows should be the same. The question is why is your index value of 2, if you only have 2 rows of data when you try to remove a row of data. That is what the Exception is telling you. Note, even if you use the code from the suggested answer below you still need to have the correct index to use when updating the model."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675441688,"post_id":75304177,"comment_id":132936542,"body_markdown":"In editing the question, you removed an important part of the stack trace. The part of the stack trace that was removed from the question had this line: `at UserManager.actionPerformed(UserManager.java:200)`. It appears that `UserManager` is from your code. The error is associated with line 200 in that source code.","body":"In editing the question, you removed an important part of the stack trace. The part of the stack trace that was removed from the question had this line: <code>at UserManager.actionPerformed(UserManager.java:200)</code>. It appears that <code>UserManager</code> is from your code. The error is associated with line 200 in that source code."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675322169,"creation_date":1675308614,"answer_id":75318390,"question_id":75304177,"body_markdown":"Instead of trying to treat your data and model as two seperate things, you should be wrapping your model around your data and allow to manage it, for example...\r\n\r\n    public class EmployeeTableModel extends AbstractTableModel {\r\n\r\n        private List&lt;Employee&gt; employees;\r\n        private String[] columnNames = {&quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot;};\r\n        private Class[] columnClasses = {String.class, String.class, Integer.class};\r\n\r\n        public EmployeeTableModel(List&lt;Employee&gt; employees) {\r\n            this.employees = employees;\r\n        }\r\n\r\n        public List&lt;Employee&gt; getEmployees() {\r\n            return employees;\r\n        }\r\n\r\n        public String[] getColumnNames() {\r\n            return columnNames;\r\n        }\r\n\r\n        public Class[] getColumnClasses() {\r\n            return columnClasses;\r\n        }\r\n\r\n        @Override\r\n        public int getRowCount() {\r\n            return getEmployees().size();\r\n        }\r\n\r\n        @Override\r\n        public int getColumnCount() {\r\n            return getColumnNames().length;\r\n        }\r\n\r\n        @Override\r\n        public String getColumnName(int column) {\r\n            return getColumnNames()[column];\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n            return getColumnClasses()[columnIndex];\r\n        }\r\n\r\n        public void sortBySalary() {\r\n            BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n                @Override\r\n                public int compare(Employee o1, Employee o2) {\r\n                    // This is decending...\r\n                    return o2.getSalary() - o1.getSalary();\r\n                    // This is acending\r\n                    //return o1.getSalary() - o2.getSalary();\r\n                }\r\n            });\r\n            // You could use\r\n            //fireTableRowsUpdated(0, getRowCount() - 1);\r\n            // But this will work just fine and will force a complete \r\n            // redraw of the table\r\n            fireTableDataChanged();\r\n        }\r\n\r\n        public void sortByFirstName() {\r\n            BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n                @Override\r\n                public int compare(Employee o1, Employee o2) {\r\n                    return o1.getFirstName().compareTo(o2.getFirstName());\r\n                }\r\n            });\r\n            fireTableDataChanged();\r\n        }\r\n\r\n        public void sortByLastName() {\r\n            BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n                @Override\r\n                public int compare(Employee o1, Employee o2) {\r\n                    return o1.getLastName().compareTo(o2.getLastName());\r\n                }\r\n            });\r\n            fireTableDataChanged();\r\n        }\r\n\r\n        public void add(Employee employee) {\r\n            int rowCount = getRowCount();\r\n            getEmployees().add(employee);\r\n            fireTableRowsInserted(rowCount, rowCount);\r\n        }\r\n\r\n        public void delete(Employee employee) {\r\n            List&lt;Employee&gt; employees = getEmployees();\r\n            for (int index = 0; index &lt; employees.size(); index++) {\r\n                if (employees.get(index).equals(employee)) {\r\n                    employees.remove(index);\r\n                    fireTableRowsDeleted(index, index);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Object getValueAt(int rowIndex, int columnIndex) {\r\n            Employee employee = getEmployees().get(rowIndex);\r\n            switch (columnIndex) {\r\n                case 0:\r\n                    return employee.getFirstName();\r\n                case 1:\r\n                    return employee.getLastName();\r\n                case 2:\r\n                    return employee.getSalary();\r\n            }\r\n            throw new ArrayIndexOutOfBoundsException(rowIndex + &quot;x&quot; + columnIndex + &quot; is out of bounds&quot;);\r\n        }\r\n    }\r\n\r\nThis is a pretty basic concept of a custom `TableModel`.  It takes in a `List` of `Employee`s and provides the core implementation of the `TableModel` but also provides some helper methods, like `add` and `delete` which will trigger the appropriate events to allow a `JTable` to update itself.\r\n\r\nYou could easily back this with a &quot;database manager&quot; instead, so that sort/delete/add/update actions would all be delegated to it and those updates could be made to the &quot;database&quot; values as well, but I&#39;m going to leave that up to you to figure out.\r\n\r\nNow, I separated your `BubbleSort` into it&#39;s own, self contained and re-usable class...\r\n\r\n    public class BubbleSort {\r\n        public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; comparator) {\r\n            // Performing bubble sort\r\n            for (int i = 0; i &lt; list.size() - 1; i++) {\r\n                // Looping through indexes\r\n                for (int j = 0; j &lt; list.size() - 1; j++) {\r\n                    // Comapare the salaries of each indiviual and see if the previous is bigger than the next\r\n                    if (comparator.compare(list.get(j), list.get(j + 1)) &gt; 0) {\r\n                        // Initializing a temp employee to hold value before switching\r\n                        T temp = list.get(j);\r\n\r\n                        // Swap the employees\r\n                        list.set(j, list.get(j + 1));\r\n                        list.set(j + 1, temp);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe only constraint is that you need to pass in a `Comparator` which is used to compare the two values in order to determine if they should be swapped.  &quot;But why do this?&quot; I hear you ask, because it&#39;s self contained and re-usable.\r\n\r\nSo, you want to sort by the salary right?  Do you want to sort in ascending...\r\n\r\n    BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n        @Override\r\n        public int compare(Employee o1, Employee o2) {\r\n            return o1.getSalary() - o2.getSalary();\r\n        }\r\n    });\r\n\r\n\r\nor decending order?\r\n\r\n    BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n        @Override\r\n        public int compare(Employee o1, Employee o2) {\r\n            return o2.getSalary() - o1.getSalary();\r\n        }\r\n    });\r\n\r\nSurprisingly, you can now do both, without much of an effort.  But wait, what if you want to sort by the first name?!\r\n\r\n    BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n        @Override\r\n        public int compare(Employee o1, Employee o2) {\r\n            return o1.getFirstName().compareTo(o2.getFirstName());\r\n        }\r\n    });\r\n\r\nor last name?!\r\n\r\n    BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n        @Override\r\n        public int compare(Employee o1, Employee o2) {\r\n            return o1.getLastName().compareTo(o2.getLastName());\r\n        }\r\n    });\r\n\r\nSee, re-usable.\r\n\r\nYou could even come with some combination of those, first name and salary, sure, doable, just write a new `Comparator`.  Want to sort some other type of value, sure, so long as you supply a compatible `Comparator`, not a problem.\r\n\r\n# Runnable example\r\n\r\nI&#39;ve not bothered with your &quot;database&quot;, as it&#39;s really not part of the problem, instead, I&#39;ve focused on getting the table model and sorting to work together (and deleting, because you know, why not).\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import javax.swing.*;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    import java.util.Random;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.table.*;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            private EmployeeTableModel employeeTableModel;\r\n            private JTable table;\r\n\r\n            public MainPane() {\r\n                Random rnd = new Random();\r\n                List&lt;Employee&gt; employees = new ArrayList&lt;&gt;(\r\n                        Arrays.asList(\r\n                                new Employee[]{\r\n                                    new Employee(&quot;Alesha&quot;, &quot;Golden&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Gerald&quot;, &quot;Guerrero&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Georgina&quot;, &quot;Delacruz&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Michael&quot;, &quot;Delgado&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Aysha&quot;, &quot;Zimmerman&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Yahya&quot;, &quot;Moreno&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Max&quot;, &quot;Reyes&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Julia&quot;, &quot;Salinas&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Aleeza&quot;, &quot;Flores&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Milton&quot;, &quot;Frye&quot;, rnd.nextInt(999) + 1),}\r\n                        )\r\n                );\r\n                employeeTableModel = new EmployeeTableModel(employees);\r\n                table = new JTable(employeeTableModel);\r\n\r\n                setLayout(new BorderLayout());\r\n                add(new JScrollPane(table));\r\n\r\n                JButton sortBySalaryButton = new JButton(&quot;Sort by Salary&quot;);\r\n                sortBySalaryButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        employeeTableModel.sortBySalary();\r\n                    }\r\n                });\r\n                JButton sortByFirstNameButton = new JButton(&quot;Sort by First name&quot;);\r\n                sortByFirstNameButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        employeeTableModel.sortByFirstName();\r\n                    }\r\n                });\r\n                JButton sortLastNameButton = new JButton(&quot;Sort by Last name&quot;);\r\n                sortLastNameButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        employeeTableModel.sortByLastName();\r\n                    }\r\n                });\r\n                // I&#39;d normally use a SelectionListener to monitor\r\n                // changes to the table in order to enable/disable this\r\n                // button, but that&#39;s beyond the scope\r\n                JButton deleteButton = new JButton(&quot;Delete&quot;);\r\n                deleteButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        int selectedRow = table.getSelectedRow();\r\n                        if (selectedRow &lt; 0) {\r\n                            return;\r\n                        }\r\n                        Employee employee = employeeTableModel.getEmployeeAt(selectedRow);\r\n                        employeeTableModel.delete(employee);\r\n                    }\r\n                });\r\n\r\n                JPanel actionPane = new JPanel(new GridBagLayout());\r\n                actionPane.setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                actionPane.add(sortBySalaryButton);\r\n                actionPane.add(sortByFirstNameButton);\r\n                actionPane.add(sortLastNameButton);\r\n                actionPane.add(deleteButton);\r\n                add(actionPane, BorderLayout.SOUTH);\r\n            }\r\n\r\n        }\r\n\r\n        class Employee {\r\n            // Initalizing variables\r\n            private String firstName;\r\n            private String lastName;\r\n            private int salary;\r\n\r\n            public Employee(String firstName, String lastName, int salary) {\r\n                this.firstName = firstName;\r\n                this.lastName = lastName;\r\n                this.salary = salary;\r\n            }\r\n\r\n            public String getFirstName() {\r\n                return firstName;\r\n            }\r\n\r\n            public String getLastName() {\r\n                return lastName;\r\n            }\r\n\r\n            public int getSalary() {\r\n                return salary;\r\n            }\r\n\r\n            @Override\r\n            public int hashCode() {\r\n                int hash = 7;\r\n                hash = 59 * hash + Objects.hashCode(this.firstName);\r\n                hash = 59 * hash + Objects.hashCode(this.lastName);\r\n                hash = 59 * hash + this.salary;\r\n                return hash;\r\n            }\r\n\r\n            @Override\r\n            public boolean equals(Object obj) {\r\n                if (!(obj instanceof Employee)) {\r\n                    return false;\r\n                }\r\n                Employee other = (Employee) obj;\r\n                return getFirstName().equals(other.getFirstName())\r\n                        &amp;&amp; getLastName().equals(other.getLastName())\r\n                        &amp;&amp; getSalary() == other.getSalary();\r\n            }\r\n        }\r\n\r\n        public class EmployeeTableModel extends AbstractTableModel {\r\n\r\n            private List&lt;Employee&gt; employees;\r\n            private String[] columnNames = {&quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot;};\r\n            private Class[] columnClasses = {String.class, String.class, Integer.class};\r\n\r\n            public EmployeeTableModel(List&lt;Employee&gt; employees) {\r\n                this.employees = employees;\r\n            }\r\n\r\n            public List&lt;Employee&gt; getEmployees() {\r\n                return employees;\r\n            }\r\n\r\n            public String[] getColumnNames() {\r\n                return columnNames;\r\n            }\r\n\r\n            public Class[] getColumnClasses() {\r\n                return columnClasses;\r\n            }\r\n\r\n            public Employee getEmployeeAt(int row) {\r\n                return getEmployees().get(row);\r\n            }\r\n\r\n            @Override\r\n            public int getRowCount() {\r\n                return getEmployees().size();\r\n            }\r\n\r\n            @Override\r\n            public int getColumnCount() {\r\n                return getColumnNames().length;\r\n            }\r\n\r\n            @Override\r\n            public String getColumnName(int column) {\r\n                return getColumnNames()[column];\r\n            }\r\n\r\n            @Override\r\n            public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n                return getColumnClasses()[columnIndex];\r\n            }\r\n\r\n            public void sortBySalary() {\r\n                BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n                    @Override\r\n                    public int compare(Employee o1, Employee o2) {\r\n                        // This is decending...\r\n                        return o2.getSalary() - o1.getSalary();\r\n                        // This is acending\r\n                        //return o1.getSalary() - o2.getSalary();\r\n                    }\r\n                });\r\n                // You could use\r\n                //fireTableRowsUpdated(0, getRowCount() - 1);\r\n                // But this will work just fine and will force a complete \r\n                // redraw of the table\r\n                fireTableDataChanged();\r\n            }\r\n\r\n            public void sortByFirstName() {\r\n                BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n                    @Override\r\n                    public int compare(Employee o1, Employee o2) {\r\n                        return o1.getFirstName().compareTo(o2.getFirstName());\r\n                    }\r\n                });\r\n                fireTableDataChanged();\r\n            }\r\n\r\n            public void sortByLastName() {\r\n                BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n                    @Override\r\n                    public int compare(Employee o1, Employee o2) {\r\n                        return o1.getLastName().compareTo(o2.getLastName());\r\n                    }\r\n                });\r\n                fireTableDataChanged();\r\n            }\r\n\r\n            public void add(Employee employee) {\r\n                int rowCount = getRowCount();\r\n                getEmployees().add(employee);\r\n                fireTableRowsInserted(rowCount, rowCount);\r\n            }\r\n\r\n            public void delete(Employee employee) {\r\n                List&lt;Employee&gt; employees = getEmployees();\r\n                for (int index = 0; index &lt; employees.size(); index++) {\r\n                    if (employees.get(index).equals(employee)) {\r\n                        employees.remove(index);\r\n                        fireTableRowsDeleted(index, index);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Object getValueAt(int rowIndex, int columnIndex) {\r\n                Employee employee = getEmployees().get(rowIndex);\r\n                switch (columnIndex) {\r\n                    case 0:\r\n                        return employee.getFirstName();\r\n                    case 1:\r\n                        return employee.getLastName();\r\n                    case 2:\r\n                        return employee.getSalary();\r\n                }\r\n                throw new ArrayIndexOutOfBoundsException(rowIndex + &quot;x&quot; + columnIndex + &quot; is out of bounds&quot;);\r\n            }\r\n        }\r\n\r\n        public class BubbleSort {\r\n            public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; comparator) {\r\n                // Performing bubble sort\r\n                for (int i = 0; i &lt; list.size() - 1; i++) {\r\n                    // Looping through indexes\r\n                    for (int j = 0; j &lt; list.size() - 1; j++) {\r\n                        // Comapare the salaries of each indiviual and see if the previous is bigger than the next\r\n                        if (comparator.compare(list.get(j), list.get(j + 1)) &gt; 0) {\r\n                            // Initializing a temp employee to hold value before switching\r\n                            T temp = list.get(j);\r\n\r\n                            // Swap the employees\r\n                            list.set(j, list.get(j + 1));\r\n                            list.set(j + 1, temp);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Why am I getting an ArrayIndex Out of Bounds exception for trying to remove elements in a JTable?","body":"<p>Instead of trying to treat your data and model as two seperate things, you should be wrapping your model around your data and allow to manage it, for example...</p>\n<pre><code>public class EmployeeTableModel extends AbstractTableModel {\n\n    private List&lt;Employee&gt; employees;\n    private String[] columnNames = {&quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot;};\n    private Class[] columnClasses = {String.class, String.class, Integer.class};\n\n    public EmployeeTableModel(List&lt;Employee&gt; employees) {\n        this.employees = employees;\n    }\n\n    public List&lt;Employee&gt; getEmployees() {\n        return employees;\n    }\n\n    public String[] getColumnNames() {\n        return columnNames;\n    }\n\n    public Class[] getColumnClasses() {\n        return columnClasses;\n    }\n\n    @Override\n    public int getRowCount() {\n        return getEmployees().size();\n    }\n\n    @Override\n    public int getColumnCount() {\n        return getColumnNames().length;\n    }\n\n    @Override\n    public String getColumnName(int column) {\n        return getColumnNames()[column];\n    }\n\n    @Override\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        return getColumnClasses()[columnIndex];\n    }\n\n    public void sortBySalary() {\n        BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n            @Override\n            public int compare(Employee o1, Employee o2) {\n                // This is decending...\n                return o2.getSalary() - o1.getSalary();\n                // This is acending\n                //return o1.getSalary() - o2.getSalary();\n            }\n        });\n        // You could use\n        //fireTableRowsUpdated(0, getRowCount() - 1);\n        // But this will work just fine and will force a complete \n        // redraw of the table\n        fireTableDataChanged();\n    }\n\n    public void sortByFirstName() {\n        BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n            @Override\n            public int compare(Employee o1, Employee o2) {\n                return o1.getFirstName().compareTo(o2.getFirstName());\n            }\n        });\n        fireTableDataChanged();\n    }\n\n    public void sortByLastName() {\n        BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n            @Override\n            public int compare(Employee o1, Employee o2) {\n                return o1.getLastName().compareTo(o2.getLastName());\n            }\n        });\n        fireTableDataChanged();\n    }\n\n    public void add(Employee employee) {\n        int rowCount = getRowCount();\n        getEmployees().add(employee);\n        fireTableRowsInserted(rowCount, rowCount);\n    }\n\n    public void delete(Employee employee) {\n        List&lt;Employee&gt; employees = getEmployees();\n        for (int index = 0; index &lt; employees.size(); index++) {\n            if (employees.get(index).equals(employee)) {\n                employees.remove(index);\n                fireTableRowsDeleted(index, index);\n                break;\n            }\n        }\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        Employee employee = getEmployees().get(rowIndex);\n        switch (columnIndex) {\n            case 0:\n                return employee.getFirstName();\n            case 1:\n                return employee.getLastName();\n            case 2:\n                return employee.getSalary();\n        }\n        throw new ArrayIndexOutOfBoundsException(rowIndex + &quot;x&quot; + columnIndex + &quot; is out of bounds&quot;);\n    }\n}\n</code></pre>\n<p>This is a pretty basic concept of a custom <code>TableModel</code>.  It takes in a <code>List</code> of <code>Employee</code>s and provides the core implementation of the <code>TableModel</code> but also provides some helper methods, like <code>add</code> and <code>delete</code> which will trigger the appropriate events to allow a <code>JTable</code> to update itself.</p>\n<p>You could easily back this with a &quot;database manager&quot; instead, so that sort/delete/add/update actions would all be delegated to it and those updates could be made to the &quot;database&quot; values as well, but I'm going to leave that up to you to figure out.</p>\n<p>Now, I separated your <code>BubbleSort</code> into it's own, self contained and re-usable class...</p>\n<pre><code>public class BubbleSort {\n    public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; comparator) {\n        // Performing bubble sort\n        for (int i = 0; i &lt; list.size() - 1; i++) {\n            // Looping through indexes\n            for (int j = 0; j &lt; list.size() - 1; j++) {\n                // Comapare the salaries of each indiviual and see if the previous is bigger than the next\n                if (comparator.compare(list.get(j), list.get(j + 1)) &gt; 0) {\n                    // Initializing a temp employee to hold value before switching\n                    T temp = list.get(j);\n\n                    // Swap the employees\n                    list.set(j, list.get(j + 1));\n                    list.set(j + 1, temp);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>The only constraint is that you need to pass in a <code>Comparator</code> which is used to compare the two values in order to determine if they should be swapped.  &quot;But why do this?&quot; I hear you ask, because it's self contained and re-usable.</p>\n<p>So, you want to sort by the salary right?  Do you want to sort in ascending...</p>\n<pre><code>BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n    @Override\n    public int compare(Employee o1, Employee o2) {\n        return o1.getSalary() - o2.getSalary();\n    }\n});\n</code></pre>\n<p>or decending order?</p>\n<pre><code>BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n    @Override\n    public int compare(Employee o1, Employee o2) {\n        return o2.getSalary() - o1.getSalary();\n    }\n});\n</code></pre>\n<p>Surprisingly, you can now do both, without much of an effort.  But wait, what if you want to sort by the first name?!</p>\n<pre><code>BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n    @Override\n    public int compare(Employee o1, Employee o2) {\n        return o1.getFirstName().compareTo(o2.getFirstName());\n    }\n});\n</code></pre>\n<p>or last name?!</p>\n<pre><code>BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n    @Override\n    public int compare(Employee o1, Employee o2) {\n        return o1.getLastName().compareTo(o2.getLastName());\n    }\n});\n</code></pre>\n<p>See, re-usable.</p>\n<p>You could even come with some combination of those, first name and salary, sure, doable, just write a new <code>Comparator</code>.  Want to sort some other type of value, sure, so long as you supply a compatible <code>Comparator</code>, not a problem.</p>\n<h1>Runnable example</h1>\n<p>I've not bothered with your &quot;database&quot;, as it's really not part of the problem, instead, I've focused on getting the table model and sorting to work together (and deleting, because you know, why not).</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport javax.swing.*;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Random;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.table.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MainPane extends JPanel {\n\n        private EmployeeTableModel employeeTableModel;\n        private JTable table;\n\n        public MainPane() {\n            Random rnd = new Random();\n            List&lt;Employee&gt; employees = new ArrayList&lt;&gt;(\n                    Arrays.asList(\n                            new Employee[]{\n                                new Employee(&quot;Alesha&quot;, &quot;Golden&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Gerald&quot;, &quot;Guerrero&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Georgina&quot;, &quot;Delacruz&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Michael&quot;, &quot;Delgado&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Aysha&quot;, &quot;Zimmerman&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Yahya&quot;, &quot;Moreno&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Max&quot;, &quot;Reyes&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Julia&quot;, &quot;Salinas&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Aleeza&quot;, &quot;Flores&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Milton&quot;, &quot;Frye&quot;, rnd.nextInt(999) + 1),}\n                    )\n            );\n            employeeTableModel = new EmployeeTableModel(employees);\n            table = new JTable(employeeTableModel);\n\n            setLayout(new BorderLayout());\n            add(new JScrollPane(table));\n\n            JButton sortBySalaryButton = new JButton(&quot;Sort by Salary&quot;);\n            sortBySalaryButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    employeeTableModel.sortBySalary();\n                }\n            });\n            JButton sortByFirstNameButton = new JButton(&quot;Sort by First name&quot;);\n            sortByFirstNameButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    employeeTableModel.sortByFirstName();\n                }\n            });\n            JButton sortLastNameButton = new JButton(&quot;Sort by Last name&quot;);\n            sortLastNameButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    employeeTableModel.sortByLastName();\n                }\n            });\n            // I'd normally use a SelectionListener to monitor\n            // changes to the table in order to enable/disable this\n            // button, but that's beyond the scope\n            JButton deleteButton = new JButton(&quot;Delete&quot;);\n            deleteButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    int selectedRow = table.getSelectedRow();\n                    if (selectedRow &lt; 0) {\n                        return;\n                    }\n                    Employee employee = employeeTableModel.getEmployeeAt(selectedRow);\n                    employeeTableModel.delete(employee);\n                }\n            });\n\n            JPanel actionPane = new JPanel(new GridBagLayout());\n            actionPane.setBorder(new EmptyBorder(8, 8, 8, 8));\n            actionPane.add(sortBySalaryButton);\n            actionPane.add(sortByFirstNameButton);\n            actionPane.add(sortLastNameButton);\n            actionPane.add(deleteButton);\n            add(actionPane, BorderLayout.SOUTH);\n        }\n\n    }\n\n    class Employee {\n        // Initalizing variables\n        private String firstName;\n        private String lastName;\n        private int salary;\n\n        public Employee(String firstName, String lastName, int salary) {\n            this.firstName = firstName;\n            this.lastName = lastName;\n            this.salary = salary;\n        }\n\n        public String getFirstName() {\n            return firstName;\n        }\n\n        public String getLastName() {\n            return lastName;\n        }\n\n        public int getSalary() {\n            return salary;\n        }\n\n        @Override\n        public int hashCode() {\n            int hash = 7;\n            hash = 59 * hash + Objects.hashCode(this.firstName);\n            hash = 59 * hash + Objects.hashCode(this.lastName);\n            hash = 59 * hash + this.salary;\n            return hash;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if (!(obj instanceof Employee)) {\n                return false;\n            }\n            Employee other = (Employee) obj;\n            return getFirstName().equals(other.getFirstName())\n                    &amp;&amp; getLastName().equals(other.getLastName())\n                    &amp;&amp; getSalary() == other.getSalary();\n        }\n    }\n\n    public class EmployeeTableModel extends AbstractTableModel {\n\n        private List&lt;Employee&gt; employees;\n        private String[] columnNames = {&quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot;};\n        private Class[] columnClasses = {String.class, String.class, Integer.class};\n\n        public EmployeeTableModel(List&lt;Employee&gt; employees) {\n            this.employees = employees;\n        }\n\n        public List&lt;Employee&gt; getEmployees() {\n            return employees;\n        }\n\n        public String[] getColumnNames() {\n            return columnNames;\n        }\n\n        public Class[] getColumnClasses() {\n            return columnClasses;\n        }\n\n        public Employee getEmployeeAt(int row) {\n            return getEmployees().get(row);\n        }\n\n        @Override\n        public int getRowCount() {\n            return getEmployees().size();\n        }\n\n        @Override\n        public int getColumnCount() {\n            return getColumnNames().length;\n        }\n\n        @Override\n        public String getColumnName(int column) {\n            return getColumnNames()[column];\n        }\n\n        @Override\n        public Class&lt;?&gt; getColumnClass(int columnIndex) {\n            return getColumnClasses()[columnIndex];\n        }\n\n        public void sortBySalary() {\n            BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n                @Override\n                public int compare(Employee o1, Employee o2) {\n                    // This is decending...\n                    return o2.getSalary() - o1.getSalary();\n                    // This is acending\n                    //return o1.getSalary() - o2.getSalary();\n                }\n            });\n            // You could use\n            //fireTableRowsUpdated(0, getRowCount() - 1);\n            // But this will work just fine and will force a complete \n            // redraw of the table\n            fireTableDataChanged();\n        }\n\n        public void sortByFirstName() {\n            BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n                @Override\n                public int compare(Employee o1, Employee o2) {\n                    return o1.getFirstName().compareTo(o2.getFirstName());\n                }\n            });\n            fireTableDataChanged();\n        }\n\n        public void sortByLastName() {\n            BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n                @Override\n                public int compare(Employee o1, Employee o2) {\n                    return o1.getLastName().compareTo(o2.getLastName());\n                }\n            });\n            fireTableDataChanged();\n        }\n\n        public void add(Employee employee) {\n            int rowCount = getRowCount();\n            getEmployees().add(employee);\n            fireTableRowsInserted(rowCount, rowCount);\n        }\n\n        public void delete(Employee employee) {\n            List&lt;Employee&gt; employees = getEmployees();\n            for (int index = 0; index &lt; employees.size(); index++) {\n                if (employees.get(index).equals(employee)) {\n                    employees.remove(index);\n                    fireTableRowsDeleted(index, index);\n                    break;\n                }\n            }\n        }\n\n        @Override\n        public Object getValueAt(int rowIndex, int columnIndex) {\n            Employee employee = getEmployees().get(rowIndex);\n            switch (columnIndex) {\n                case 0:\n                    return employee.getFirstName();\n                case 1:\n                    return employee.getLastName();\n                case 2:\n                    return employee.getSalary();\n            }\n            throw new ArrayIndexOutOfBoundsException(rowIndex + &quot;x&quot; + columnIndex + &quot; is out of bounds&quot;);\n        }\n    }\n\n    public class BubbleSort {\n        public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; comparator) {\n            // Performing bubble sort\n            for (int i = 0; i &lt; list.size() - 1; i++) {\n                // Looping through indexes\n                for (int j = 0; j &lt; list.size() - 1; j++) {\n                    // Comapare the salaries of each indiviual and see if the previous is bigger than the next\n                    if (comparator.compare(list.get(j), list.get(j + 1)) &gt; 0) {\n                        // Initializing a temp employee to hold value before switching\n                        T temp = list.get(j);\n\n                        // Swap the employees\n                        list.set(j, list.get(j + 1));\n                        list.set(j + 1, temp);\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"comment_count":15,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1675308889,"accepted_answer_id":75318390,"answer_count":1,"score":-3,"last_activity_date":1675322169,"creation_date":1675207635,"question_id":75304177,"body_markdown":"I&#39;m trying to implement a GUI employee manager on Jswing where data is stored on a text file that I treat as my database and I created a GUI interface to interact with it.\r\n\r\nUpon opening up the program, I&#39;m able to use the remove feature and it works fine. But once I click the search button (table searches for values and only displays the values I searched for), and then when I try to remove something, it throws the error you see below. \r\n\r\nThis is the error I&#39;m getting once I search for something:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 2 &gt;= 2\r\n        at java.base/java.util.Vector.elementAt(Vector.java:466)\r\n        at java.desktop/javax.swing.table.DefaultTableModel.getValueAt(DefaultTableModel.java:660)\r\n        at java.desktop/javax.swing.JTable.getValueAt(JTable.java:2763)\r\n        at java.desktop/javax.swing.JTable.prepareRenderer(JTable.java:5780)\r\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCell(BasicTableUI.java:2210)\r\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCells(BasicTableUI.java:2112)\r\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paint(BasicTableUI.java:1908)\r\n        at java.desktop/javax.swing.plaf.ComponentUI.update(ComponentUI.java:161)\r\n        at java.desktop/javax.swing.JComponent.paintComponent(JComponent.java:842)\r\n        at java.desktop/javax.swing.JComponent.paint(JComponent.java:1119)\r\n        at java.desktop/javax.swing.JComponent.paintToOffscreen(JComponent.java:5311)\r\n        at java.desktop/javax.swing.BufferStrategyPaintManager.paint(BufferStrategyPaintManager.java:246)\r\n        at java.desktop/javax.swing.RepaintManager.paint(RepaintManager.java:1337)\r\n        at java.desktop/javax.swing.JComponent._paintImmediately(JComponent.java:5259)\r\n        at java.desktop/javax.swing.JComponent.paintImmediately(JComponent.java:5069)\r\n        at \r\n\r\n    \r\n\r\n------------------EDIT----------------------\r\n\r\nHere is my minimal reproducible code:\r\n\r\n    import java.awt.*;\r\n        import java.awt.event.*;\r\n        import javax.swing.*;\r\n        import java.util.*;\r\n        import javax.swing.JTable;\r\n        import java.io.IOException;  // Import the IOException class to handle errors\r\n        import java.io.File;  // Import the File class\r\n        import java.io.FileNotFoundException;  // Import this class to handle errors\r\n        import javax.swing.table.DefaultTableModel;\r\n        import java.io.FileWriter;\r\n        import javax.swing.event.*;\r\n        import javax.swing.table.*;\r\n    class UserManager extends JFrame implements ActionListener {\r\n      // Initializing class variables\r\n      private JTextField firstNameField, lastNameField, salaryField, textField;\r\n      private JButton addButton, removeButton, sortButton, button;\r\n      private JList&lt;Employee&gt; userList;\r\n      private ArrayList&lt;Employee&gt; users;\r\n      private JTable j;\r\n      private DefaultTableModel model;\r\n      private JTextField searchField;\r\n    \r\n      /*****************************************\r\n      /*Name: UserManager (constructor)\r\n      /*Method Description: Constructor class that runs once upon creation of the object. Creates the frame of the GUI app. Pulls from the database and displays it on the GUI interface.\r\n      /*Method Inputs/Outputs: Outputs the GUI frame of the app.\r\n      ******************************************/\r\n      public UserManager() {\r\n        setTitle(&quot;Employee Manager&quot;);\r\n        setSize(400, 400);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \r\n        // Initializing and binding action items\r\n        firstNameField = new JTextField(20);\r\n        lastNameField = new JTextField(20);\r\n        salaryField = new JTextField(20);\r\n        searchField = new JTextField(20);\r\n        addButton = new JButton(&quot;Add&quot;);\r\n        addButton.addActionListener(this);\r\n        removeButton = new JButton(&quot;Remove&quot;);\r\n        removeButton.addActionListener(this);\r\n        sortButton = new JButton(&quot;Sort Salary&quot;);\r\n        sortButton.addActionListener(this);\r\n    \r\n        // Pulling data from text file database upon start up\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; databaseData = ReadFile();\r\n    \r\n        users = new ArrayList&lt;Employee&gt;();\r\n    \r\n        // Adding existing databaseData to users\r\n        try {\r\n          if (databaseData.size() &gt; 0) {\r\n            for (int i = 0; i &lt; databaseData.size(); i++) {\r\n              Employee user = new Employee(databaseData.get(i).get(0), databaseData.get(i).get(1), Integer.valueOf(databaseData.get(i).get(2)));\r\n              users.add(user);\r\n            }\r\n          }\r\n        }\r\n        catch (NumberFormatException nfe) {\r\n          nfe.printStackTrace();\r\n          JOptionPane.showMessageDialog(this, &quot;Internal System Error&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n        }\r\n    \r\n        // Creating the list of users\r\n        userList = new JList&lt;Employee&gt;(users.toArray(new Employee[0]));\r\n    \r\n        // Setting up the JPanels\r\n        JPanel firstNamePanel = new JPanel();\r\n        firstNamePanel.add(new JLabel(&quot;First Name:&quot;));\r\n        firstNamePanel.add(firstNameField);\r\n    \r\n        JPanel lastNamePanel = new JPanel();\r\n        lastNamePanel.add(new JLabel(&quot;Last Name:&quot;));\r\n        lastNamePanel.add(lastNameField);\r\n    \r\n        JPanel salaryPanel = new JPanel();\r\n        salaryPanel.add(new JLabel(&quot;Salary:&quot;));\r\n        salaryPanel.add(salaryField);\r\n    \r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.add(addButton);\r\n        buttonPanel.add(removeButton);\r\n        buttonPanel.add(sortButton);\r\n    \r\n        JPanel searchPanel = new JPanel();\r\n    \r\n        \r\n        // Converting 2D arraylist to normal 2D array for JTable\r\n        String[][] data = databaseData.stream().map(u -&gt; u.toArray(new String[0])).toArray(String[][]::new);\r\n    \r\n        // Initializing column names of JTable\r\n        String[] columnNames = { &quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot; };\r\n    \r\n        // Initialize the JTable and TableModel\r\n        model = new DefaultTableModel(data, columnNames);\r\n        j = new JTable(model);\r\n        j.setBounds(1000, 1000, 900, 900);\r\n    \r\n        // adding it to JScrollPane\r\n        JScrollPane table = new JScrollPane(j);\r\n    \r\n        \r\n        JLabel label = new JLabel(&quot;Search: &quot;);\r\n        textField = new JTextField(20);\r\n        button = new JButton(&quot;Go&quot;);\r\n        searchPanel.add(label);\r\n        searchPanel.add(textField);\r\n        searchPanel.add(button);\r\n        button.addActionListener(this);\r\n    \r\n    \r\n        // Creating main panel and adding JPanels to it\r\n        JPanel mainPanel = new JPanel(new GridLayout(6, 2));\r\n        mainPanel.add(firstNamePanel);\r\n        mainPanel.add(lastNamePanel);\r\n        mainPanel.add(salaryPanel);\r\n        mainPanel.add(buttonPanel);\r\n        mainPanel.add(searchPanel);\r\n        mainPanel.add(table);\r\n        add(mainPanel);\r\n    \r\n      }\r\n    \r\n      /*****************************************\r\n      /*Method Name: actionPerformed\r\n      /*Method Description: Performs functions depending on what action is called. Adds users to the table and db if add button is clicked and removes users from the table and db if remove button is clicked.\r\n      /*Method Inputs/Outputs: Refreshes the table and outputs the new array with the updates.\r\n      ******************************************/\r\n      public void actionPerformed(ActionEvent e) {\r\n        // &quot;Add&quot; button is clicked\r\n        if (e.getSource() == addButton) {\r\n          // Initializing and setting variables\r\n          String firstName = firstNameField.getText();\r\n          String lastName = lastNameField.getText();\r\n          int salary = 0;\r\n    \r\n          // Checks to see if salary entered is an integer\r\n          try {\r\n              salary = Integer.parseInt(salaryField.getText());\r\n          } \r\n          catch (NumberFormatException nfe) {\r\n            JOptionPane.showMessageDialog(this, &quot;Please enter a valid salary&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            return;\r\n          }\r\n    \r\n          // Error check to see if full name and age is entered\r\n          if (!firstName.equals(&quot;&quot;) &amp;&amp; !lastName.equals(&quot;&quot;)) {\r\n            Employee user = new Employee(firstName, lastName, salary);\r\n    \r\n            // Add the user to the arraylist\r\n            users.add(user);\r\n    \r\n            // Creating new array with new information\r\n            String[] newEmployeeArr = {firstName, lastName, String.valueOf(salary)};\r\n    \r\n            // Add new user to GUI\r\n            model.addRow(newEmployeeArr);\r\n    \r\n            // Update user list\r\n            updateList(users);\r\n    \r\n            // Resetting input fields\r\n            firstNameField.setText(&quot;&quot;);\r\n            lastNameField.setText(&quot;&quot;);\r\n            salaryField.setText(&quot;&quot;);\r\n          }\r\n          else {\r\n            JOptionPane.showMessageDialog(this, &quot;Please enter a valid full name&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n          }\r\n    \r\n        } \r\n    \r\n        // &quot;Remove&quot; button is clicked\r\n        else if (e.getSource() == removeButton) {\r\n          try {\r\n            if(j.getSelectedRow() != -1) {\r\n              // remove selected row from the model\r\n              String value = j.getValueAt(j.getSelectedRow(), 0).toString();\r\n              String value1 = j.getValueAt(j.getSelectedRow(), 1).toString();\r\n              String value2 = j.getValueAt(j.getSelectedRow(), 2).toString();\r\n    \r\n              System.out.println(j.getSelectedRow() + &quot; &quot; + value + value1 + value2);\r\n    \r\n              // Accounting for if the table was sorted and looking to see where the removed var is in the model\r\n              model.removeRow(removeUserFromTable(value, value1));\r\n    \r\n              \r\n              // finds the index of the user to remove\r\n              int selectedIndex = removeUser(value, value1, Integer.valueOf(value2));\r\n    \r\n              // Error checks to see if valid user\r\n              if (selectedIndex != -1) {\r\n                // Remove the selected employee from the users arraylist\r\n                users.remove(selectedIndex);\r\n                JOptionPane.showMessageDialog(null, &quot;Selected row deleted successfully&quot;);\r\n                \r\n                // Update the list\r\n                updateList(users);\r\n        \r\n                // Clear inputs\r\n                firstNameField.setText(&quot;&quot;);\r\n                lastNameField.setText(&quot;&quot;);\r\n                salaryField.setText(&quot;&quot;);\r\n              }\r\n            }\r\n            else {\r\n              JOptionPane.showMessageDialog(this, &quot;Employee not selected.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            }\r\n          }\r\n          catch (NumberFormatException nfe) {\r\n            JOptionPane.showMessageDialog(this, &quot;Select a valid row.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n          }\r\n        }\r\n    \r\n        // &quot;Sort&quot; button is clicked\r\n        else if (e.getSource() == sortButton) {\r\n          BubbleSort();\r\n        }\r\n    \r\n          // &quot;Go&quot; button is clicked to search\r\n        else if (e.getSource() == button) {\r\n          // Creating a searching tool\r\n          TableRowSorter&lt;TableModel&gt; sorter = new TableRowSorter&lt;&gt;(model);\r\n          j.setRowSorter(sorter);\r\n          String text = textField.getText();\r\n          if (text.length() == 0) {\r\n            sorter.setRowFilter(null);\r\n          } else {\r\n            sorter.setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\r\n          }\r\n        }\r\n      }\r\n    \r\n    \r\n      /*****************************************\r\n      /*Method Name: updateList\r\n      /*Method Description: Performs the update depending on what operation was made. Updates all lists inside the class and saves the change to the database.\r\n      /*Method Inputs/Outputs: The new list with the updated list is inputted and an updated database text file is the output.\r\n      ******************************************/\r\n      private void updateList(ArrayList&lt;Employee&gt; u) {\r\n        userList.setListData(u.toArray(new Employee[0]));\r\n    \r\n        // Log update to console\r\n        System.out.println(&quot;Updating Database&quot;);\r\n    \r\n        // Overwriting db.txt file with new information\r\n        try {\r\n          // Making changes to the existed db.txt file\r\n          FileWriter fw = new FileWriter(&quot;db.txt&quot;, false);\r\n    \r\n          // Loop through each student and write to the text file\r\n          for (int i = 0; i &lt; u.size(); i++) {\r\n            // Re-writing the database file with the updates list\r\n            fw.write(toString(u.get(i).getFirstName(), u.get(i).getLastName(), u.get(i).getSalary()));\r\n          }\r\n          fw.close();\r\n        }\r\n        catch (IOException io) {\r\n          JOptionPane.showMessageDialog(this, &quot;Internal System Error&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n          return;\r\n        }\r\n      }\r\n    \r\n      \r\n      /*****************************************\r\n      /*Method Name: removeUser\r\n      /*Method Description: Searches for the selected user in the users arraylist and finds the index if the user exists\r\n      /*Method Inputs/Outputs: The users arraylist and inputted user information is inputted and then outputs where the user is located in the array.\r\n      ******************************************/\r\n      private int removeUser(String firstName, String lastName, int salary) {\r\n        // Loops through users arraylist\r\n        for (int i = 0; i &lt;  users.size(); i++) {\r\n          // If the user exists in the database, remove them\r\n          if (users.get(i).getFirstName().equals(firstName) &amp;&amp; users.get(i).getLastName().equals(lastName) &amp;&amp; users.get(i).getSalary() == salary) {\r\n            return i;\r\n          }\r\n        }\r\n        // No user by the name and salary was found\r\n        return -1;\r\n      }\r\n    \r\n      /*****************************************\r\n      /*Method Name: removeUserFromTable\r\n      /*Method Description: Searches for the selected user in the table model and finds the index if the user exists\r\n      /*Method Inputs/Outputs: The user information is inputted and then outputs where the user is located in the model that controls the GUI table.\r\n      ******************************************/\r\n      private int removeUserFromTable(String firstName, String lastName) {\r\n        int ind = 0;\r\n        for (int i = 0; i &lt; model.getRowCount(); i++){\r\n          if (model.getValueAt(i, 0).toString().equals(firstName) &amp;&amp; model.getValueAt(i, 1).toString().equals(lastName)) {\r\n              ind = i;\r\n              break;\r\n          }\r\n        }  \r\n        return ind;\r\n      }\r\n    \r\n    \r\n      /*****************************************\r\n      /*Method Name: toString\r\n      /*Method Description: Converts three variables into one long string varaible\r\n      /*Method Inputs/Outputs: The user information is inputted and the string that contains all three variables is outputted.\r\n      ******************************************/\r\n      public String toString(String firstName, String lastName, int salary) {\r\n          return firstName + &quot;, &quot; + lastName + &quot;, &quot; + salary + &quot;\\n&quot;;\r\n      }\r\n    \r\n      /*****************************************\r\n      /*Method Name: BubbleSort\r\n      /*Method Description: Performs bubble sort on the employees by salary and then updates the jtable\r\n      /*Method Inputs/Outputs: No inputs or outputs, the JTable is updated\r\n      ******************************************/\r\n      public void BubbleSort() {\r\n        try {\r\n          // Array to hold a copy of the users list\r\n          ArrayList&lt;Employee&gt; tempUsers = new ArrayList&lt;Employee&gt;();\r\n        \r\n          // Adding all the initial users to the new array to perform bubble sort\r\n          for (int i =0; i &lt; users.size(); i++) {\r\n            tempUsers.add(users.get(i));\r\n          }\r\n        \r\n          // Performing bubble sort\r\n          for (int i = 0; i &lt; users.size() - 1; i++) {\r\n            // Looping through indexes\r\n            for (int j = 0; j &lt; users.size() - 1; j++) {\r\n              // Comapare the salaries of each indiviual and see if the previous is bigger than the next\r\n              if (users.get(j).getSalary() &gt; users.get(j+1).getSalary()) {\r\n                // Initializing a temp employee to hold value before switching\r\n                Employee temp = users.get(j);\r\n        \r\n                // Swap the employees\r\n                users.set(j, users.get(j+1));\r\n                users.set(j+1,temp);\r\n              }\r\n            }\r\n          }\r\n    \r\n          int[] selection = j.getSelectedRows();\r\n          System.out.println(Arrays.toString(j.getSelectedRows()));\r\n           for (int i = 0; i &lt; selection.length; i++) {\r\n             selection[i] = j.convertRowIndexToModel(selection[i]);\r\n             System.out.println(selection[i]);\r\n           }\r\n    \r\n          // Setting the jtable model to the sorted model\r\n          j.setModel(model);\r\n        }\r\n        catch (NumberFormatException nfe) {\r\n          JOptionPane.showMessageDialog(this, &quot;Not Enough Users&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n          return;\r\n        }\r\n      }\r\n      \r\n    \r\n      /*****************************************\r\n      /*Method Name: ReadFile\r\n      /*Method Description: Reads the db textfile and stores the values in a 2d arraylist for manipulation.\r\n      /*Method Inputs/Outputs: The 2d arraylist with all the db information is outputted\r\n      ******************************************/\r\n      public static ArrayList&lt;ArrayList&lt;String&gt;&gt; ReadFile() {\r\n        try {\r\n          // Choose db.txt file to look at\r\n          File myObj = new File(&quot;db.txt&quot;);\r\n    \r\n          // Create scanner object\r\n          Scanner myReader = new Scanner(myObj);\r\n    \r\n          // Create 2d list array to hold all the single list arrays of single information\r\n          ArrayList&lt;ArrayList&lt;String&gt;&gt; combinedArr = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n        \r\n          // While the file reader is still reading lines in the text\r\n          while (myReader.hasNextLine()) {\r\n            // Read strings of text in txt file\r\n            String data = myReader.nextLine();\r\n    \r\n            // Get user information into an array\r\n            ArrayList&lt;String&gt; temp = GetInfo(data); \r\n    \r\n            // Add the person and their salary to the combined array that holds everyones\r\n            combinedArr.add(temp);\r\n          }\r\n    \r\n          // Close file once there are no more lines to read\r\n          myReader.close();\r\n    \r\n          return combinedArr;\r\n        } \r\n        catch (FileNotFoundException e) {\r\n          System.out.println(&quot;An error occurred.&quot;);\r\n          e.printStackTrace();\r\n        }\r\n    \r\n        // Return invalid list string with nothing if error\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; Invalid = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n        return Invalid;\r\n      }\r\n    \r\n      /*****************************************\r\n      /*Method Name: GetInfo\r\n      /*Method Description: Takes in a string of data and parses the three variables in it which are separated by commas\r\n      /*Method Inputs/Outputs: The data string that needs to be parsed is inputted and arraylist containuing the data from the string is outputted.\r\n      ******************************************/\r\n      public static ArrayList&lt;String&gt; GetInfo(String data) {\r\n        String first = &quot;&quot;;\r\n        String last = &quot;&quot;;\r\n        String sal = &quot;&quot;;\r\n        // System.out.println(data[0])\r\n        for (int i = 0; i &lt; data.length(); i++) {\r\n          if (data.charAt(i) == &#39;,&#39;) {\r\n            // Start from 2 indexes after the first occurance of the comma\r\n            for (int j = i+2; j &lt; data.length(); j++) {\r\n              if (data.charAt(j) == &#39;,&#39;) {\r\n                // Start from 2 indexes after the occurance of the comma\r\n                for (int n = j+2; n &lt; data.length(); n++) {\r\n                  sal += data.charAt(n);\r\n                }\r\n                break;\r\n              }\r\n              last += data.charAt(j);\r\n            }\r\n            break;\r\n          }\r\n          first += data.charAt(i);\r\n        }\r\n    \r\n        // Initializing package array to send all values\r\n        ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n        arr.add(first);\r\n        arr.add(last);\r\n        arr.add(sal);\r\n        \r\n        return arr;\r\n      }\r\n    \r\n    \r\n      /*****************************************\r\n      /*Method Name: main\r\n      /*Method Description: Runs the GUI frame\r\n      /*Method Inputs/Outputs: Ouputs the GUI \r\n      ******************************************/\r\n      public static void main(String[] args) {\r\n          UserManager frame = new UserManager();\r\n          frame.setVisible(true);\r\n      }\r\n    }\r\n    \r\n    \r\n    class Employee {\r\n      // Initalizing variables\r\n      private String firstName;\r\n      private String lastName;\r\n      private int salary;\r\n    \r\n      public Employee(String firstName, String lastName, int salary) {\r\n          this.firstName = firstName;\r\n          this.lastName = lastName;\r\n          this.salary = salary;\r\n      }\r\n    \r\n      public String getFirstName() {\r\n        return firstName;\r\n      }\r\n    \r\n      public String getLastName() {\r\n        return lastName;\r\n      }\r\n    \r\n      public int getSalary() {\r\n        return salary;\r\n      }\r\n    }","title":"Why am I getting an ArrayIndex Out of Bounds exception for trying to remove elements in a JTable?","body":"<p>I'm trying to implement a GUI employee manager on Jswing where data is stored on a text file that I treat as my database and I created a GUI interface to interact with it.</p>\n<p>Upon opening up the program, I'm able to use the remove feature and it works fine. But once I click the search button (table searches for values and only displays the values I searched for), and then when I try to remove something, it throws the error you see below.</p>\n<p>This is the error I'm getting once I search for something:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 2 &gt;= 2\n    at java.base/java.util.Vector.elementAt(Vector.java:466)\n    at java.desktop/javax.swing.table.DefaultTableModel.getValueAt(DefaultTableModel.java:660)\n    at java.desktop/javax.swing.JTable.getValueAt(JTable.java:2763)\n    at java.desktop/javax.swing.JTable.prepareRenderer(JTable.java:5780)\n    at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCell(BasicTableUI.java:2210)\n    at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCells(BasicTableUI.java:2112)\n    at java.desktop/javax.swing.plaf.basic.BasicTableUI.paint(BasicTableUI.java:1908)\n    at java.desktop/javax.swing.plaf.ComponentUI.update(ComponentUI.java:161)\n    at java.desktop/javax.swing.JComponent.paintComponent(JComponent.java:842)\n    at java.desktop/javax.swing.JComponent.paint(JComponent.java:1119)\n    at java.desktop/javax.swing.JComponent.paintToOffscreen(JComponent.java:5311)\n    at java.desktop/javax.swing.BufferStrategyPaintManager.paint(BufferStrategyPaintManager.java:246)\n    at java.desktop/javax.swing.RepaintManager.paint(RepaintManager.java:1337)\n    at java.desktop/javax.swing.JComponent._paintImmediately(JComponent.java:5259)\n    at java.desktop/javax.swing.JComponent.paintImmediately(JComponent.java:5069)\n    at \n</code></pre>\n<p>------------------EDIT----------------------</p>\n<p>Here is my minimal reproducible code:</p>\n<pre><code>import java.awt.*;\n    import java.awt.event.*;\n    import javax.swing.*;\n    import java.util.*;\n    import javax.swing.JTable;\n    import java.io.IOException;  // Import the IOException class to handle errors\n    import java.io.File;  // Import the File class\n    import java.io.FileNotFoundException;  // Import this class to handle errors\n    import javax.swing.table.DefaultTableModel;\n    import java.io.FileWriter;\n    import javax.swing.event.*;\n    import javax.swing.table.*;\nclass UserManager extends JFrame implements ActionListener {\n  // Initializing class variables\n  private JTextField firstNameField, lastNameField, salaryField, textField;\n  private JButton addButton, removeButton, sortButton, button;\n  private JList&lt;Employee&gt; userList;\n  private ArrayList&lt;Employee&gt; users;\n  private JTable j;\n  private DefaultTableModel model;\n  private JTextField searchField;\n\n  /*****************************************\n  /*Name: UserManager (constructor)\n  /*Method Description: Constructor class that runs once upon creation of the object. Creates the frame of the GUI app. Pulls from the database and displays it on the GUI interface.\n  /*Method Inputs/Outputs: Outputs the GUI frame of the app.\n  ******************************************/\n  public UserManager() {\n    setTitle(&quot;Employee Manager&quot;);\n    setSize(400, 400);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n    // Initializing and binding action items\n    firstNameField = new JTextField(20);\n    lastNameField = new JTextField(20);\n    salaryField = new JTextField(20);\n    searchField = new JTextField(20);\n    addButton = new JButton(&quot;Add&quot;);\n    addButton.addActionListener(this);\n    removeButton = new JButton(&quot;Remove&quot;);\n    removeButton.addActionListener(this);\n    sortButton = new JButton(&quot;Sort Salary&quot;);\n    sortButton.addActionListener(this);\n\n    // Pulling data from text file database upon start up\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; databaseData = ReadFile();\n\n    users = new ArrayList&lt;Employee&gt;();\n\n    // Adding existing databaseData to users\n    try {\n      if (databaseData.size() &gt; 0) {\n        for (int i = 0; i &lt; databaseData.size(); i++) {\n          Employee user = new Employee(databaseData.get(i).get(0), databaseData.get(i).get(1), Integer.valueOf(databaseData.get(i).get(2)));\n          users.add(user);\n        }\n      }\n    }\n    catch (NumberFormatException nfe) {\n      nfe.printStackTrace();\n      JOptionPane.showMessageDialog(this, &quot;Internal System Error&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n    }\n\n    // Creating the list of users\n    userList = new JList&lt;Employee&gt;(users.toArray(new Employee[0]));\n\n    // Setting up the JPanels\n    JPanel firstNamePanel = new JPanel();\n    firstNamePanel.add(new JLabel(&quot;First Name:&quot;));\n    firstNamePanel.add(firstNameField);\n\n    JPanel lastNamePanel = new JPanel();\n    lastNamePanel.add(new JLabel(&quot;Last Name:&quot;));\n    lastNamePanel.add(lastNameField);\n\n    JPanel salaryPanel = new JPanel();\n    salaryPanel.add(new JLabel(&quot;Salary:&quot;));\n    salaryPanel.add(salaryField);\n\n    JPanel buttonPanel = new JPanel();\n    buttonPanel.add(addButton);\n    buttonPanel.add(removeButton);\n    buttonPanel.add(sortButton);\n\n    JPanel searchPanel = new JPanel();\n\n    \n    // Converting 2D arraylist to normal 2D array for JTable\n    String[][] data = databaseData.stream().map(u -&gt; u.toArray(new String[0])).toArray(String[][]::new);\n\n    // Initializing column names of JTable\n    String[] columnNames = { &quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot; };\n\n    // Initialize the JTable and TableModel\n    model = new DefaultTableModel(data, columnNames);\n    j = new JTable(model);\n    j.setBounds(1000, 1000, 900, 900);\n\n    // adding it to JScrollPane\n    JScrollPane table = new JScrollPane(j);\n\n    \n    JLabel label = new JLabel(&quot;Search: &quot;);\n    textField = new JTextField(20);\n    button = new JButton(&quot;Go&quot;);\n    searchPanel.add(label);\n    searchPanel.add(textField);\n    searchPanel.add(button);\n    button.addActionListener(this);\n\n\n    // Creating main panel and adding JPanels to it\n    JPanel mainPanel = new JPanel(new GridLayout(6, 2));\n    mainPanel.add(firstNamePanel);\n    mainPanel.add(lastNamePanel);\n    mainPanel.add(salaryPanel);\n    mainPanel.add(buttonPanel);\n    mainPanel.add(searchPanel);\n    mainPanel.add(table);\n    add(mainPanel);\n\n  }\n\n  /*****************************************\n  /*Method Name: actionPerformed\n  /*Method Description: Performs functions depending on what action is called. Adds users to the table and db if add button is clicked and removes users from the table and db if remove button is clicked.\n  /*Method Inputs/Outputs: Refreshes the table and outputs the new array with the updates.\n  ******************************************/\n  public void actionPerformed(ActionEvent e) {\n    // &quot;Add&quot; button is clicked\n    if (e.getSource() == addButton) {\n      // Initializing and setting variables\n      String firstName = firstNameField.getText();\n      String lastName = lastNameField.getText();\n      int salary = 0;\n\n      // Checks to see if salary entered is an integer\n      try {\n          salary = Integer.parseInt(salaryField.getText());\n      } \n      catch (NumberFormatException nfe) {\n        JOptionPane.showMessageDialog(this, &quot;Please enter a valid salary&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n        return;\n      }\n\n      // Error check to see if full name and age is entered\n      if (!firstName.equals(&quot;&quot;) &amp;&amp; !lastName.equals(&quot;&quot;)) {\n        Employee user = new Employee(firstName, lastName, salary);\n\n        // Add the user to the arraylist\n        users.add(user);\n\n        // Creating new array with new information\n        String[] newEmployeeArr = {firstName, lastName, String.valueOf(salary)};\n\n        // Add new user to GUI\n        model.addRow(newEmployeeArr);\n\n        // Update user list\n        updateList(users);\n\n        // Resetting input fields\n        firstNameField.setText(&quot;&quot;);\n        lastNameField.setText(&quot;&quot;);\n        salaryField.setText(&quot;&quot;);\n      }\n      else {\n        JOptionPane.showMessageDialog(this, &quot;Please enter a valid full name&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n      }\n\n    } \n\n    // &quot;Remove&quot; button is clicked\n    else if (e.getSource() == removeButton) {\n      try {\n        if(j.getSelectedRow() != -1) {\n          // remove selected row from the model\n          String value = j.getValueAt(j.getSelectedRow(), 0).toString();\n          String value1 = j.getValueAt(j.getSelectedRow(), 1).toString();\n          String value2 = j.getValueAt(j.getSelectedRow(), 2).toString();\n\n          System.out.println(j.getSelectedRow() + &quot; &quot; + value + value1 + value2);\n\n          // Accounting for if the table was sorted and looking to see where the removed var is in the model\n          model.removeRow(removeUserFromTable(value, value1));\n\n          \n          // finds the index of the user to remove\n          int selectedIndex = removeUser(value, value1, Integer.valueOf(value2));\n\n          // Error checks to see if valid user\n          if (selectedIndex != -1) {\n            // Remove the selected employee from the users arraylist\n            users.remove(selectedIndex);\n            JOptionPane.showMessageDialog(null, &quot;Selected row deleted successfully&quot;);\n            \n            // Update the list\n            updateList(users);\n    \n            // Clear inputs\n            firstNameField.setText(&quot;&quot;);\n            lastNameField.setText(&quot;&quot;);\n            salaryField.setText(&quot;&quot;);\n          }\n        }\n        else {\n          JOptionPane.showMessageDialog(this, &quot;Employee not selected.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n        }\n      }\n      catch (NumberFormatException nfe) {\n        JOptionPane.showMessageDialog(this, &quot;Select a valid row.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n      }\n    }\n\n    // &quot;Sort&quot; button is clicked\n    else if (e.getSource() == sortButton) {\n      BubbleSort();\n    }\n\n      // &quot;Go&quot; button is clicked to search\n    else if (e.getSource() == button) {\n      // Creating a searching tool\n      TableRowSorter&lt;TableModel&gt; sorter = new TableRowSorter&lt;&gt;(model);\n      j.setRowSorter(sorter);\n      String text = textField.getText();\n      if (text.length() == 0) {\n        sorter.setRowFilter(null);\n      } else {\n        sorter.setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\n      }\n    }\n  }\n\n\n  /*****************************************\n  /*Method Name: updateList\n  /*Method Description: Performs the update depending on what operation was made. Updates all lists inside the class and saves the change to the database.\n  /*Method Inputs/Outputs: The new list with the updated list is inputted and an updated database text file is the output.\n  ******************************************/\n  private void updateList(ArrayList&lt;Employee&gt; u) {\n    userList.setListData(u.toArray(new Employee[0]));\n\n    // Log update to console\n    System.out.println(&quot;Updating Database&quot;);\n\n    // Overwriting db.txt file with new information\n    try {\n      // Making changes to the existed db.txt file\n      FileWriter fw = new FileWriter(&quot;db.txt&quot;, false);\n\n      // Loop through each student and write to the text file\n      for (int i = 0; i &lt; u.size(); i++) {\n        // Re-writing the database file with the updates list\n        fw.write(toString(u.get(i).getFirstName(), u.get(i).getLastName(), u.get(i).getSalary()));\n      }\n      fw.close();\n    }\n    catch (IOException io) {\n      JOptionPane.showMessageDialog(this, &quot;Internal System Error&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n      return;\n    }\n  }\n\n  \n  /*****************************************\n  /*Method Name: removeUser\n  /*Method Description: Searches for the selected user in the users arraylist and finds the index if the user exists\n  /*Method Inputs/Outputs: The users arraylist and inputted user information is inputted and then outputs where the user is located in the array.\n  ******************************************/\n  private int removeUser(String firstName, String lastName, int salary) {\n    // Loops through users arraylist\n    for (int i = 0; i &lt;  users.size(); i++) {\n      // If the user exists in the database, remove them\n      if (users.get(i).getFirstName().equals(firstName) &amp;&amp; users.get(i).getLastName().equals(lastName) &amp;&amp; users.get(i).getSalary() == salary) {\n        return i;\n      }\n    }\n    // No user by the name and salary was found\n    return -1;\n  }\n\n  /*****************************************\n  /*Method Name: removeUserFromTable\n  /*Method Description: Searches for the selected user in the table model and finds the index if the user exists\n  /*Method Inputs/Outputs: The user information is inputted and then outputs where the user is located in the model that controls the GUI table.\n  ******************************************/\n  private int removeUserFromTable(String firstName, String lastName) {\n    int ind = 0;\n    for (int i = 0; i &lt; model.getRowCount(); i++){\n      if (model.getValueAt(i, 0).toString().equals(firstName) &amp;&amp; model.getValueAt(i, 1).toString().equals(lastName)) {\n          ind = i;\n          break;\n      }\n    }  \n    return ind;\n  }\n\n\n  /*****************************************\n  /*Method Name: toString\n  /*Method Description: Converts three variables into one long string varaible\n  /*Method Inputs/Outputs: The user information is inputted and the string that contains all three variables is outputted.\n  ******************************************/\n  public String toString(String firstName, String lastName, int salary) {\n      return firstName + &quot;, &quot; + lastName + &quot;, &quot; + salary + &quot;\\n&quot;;\n  }\n\n  /*****************************************\n  /*Method Name: BubbleSort\n  /*Method Description: Performs bubble sort on the employees by salary and then updates the jtable\n  /*Method Inputs/Outputs: No inputs or outputs, the JTable is updated\n  ******************************************/\n  public void BubbleSort() {\n    try {\n      // Array to hold a copy of the users list\n      ArrayList&lt;Employee&gt; tempUsers = new ArrayList&lt;Employee&gt;();\n    \n      // Adding all the initial users to the new array to perform bubble sort\n      for (int i =0; i &lt; users.size(); i++) {\n        tempUsers.add(users.get(i));\n      }\n    \n      // Performing bubble sort\n      for (int i = 0; i &lt; users.size() - 1; i++) {\n        // Looping through indexes\n        for (int j = 0; j &lt; users.size() - 1; j++) {\n          // Comapare the salaries of each indiviual and see if the previous is bigger than the next\n          if (users.get(j).getSalary() &gt; users.get(j+1).getSalary()) {\n            // Initializing a temp employee to hold value before switching\n            Employee temp = users.get(j);\n    \n            // Swap the employees\n            users.set(j, users.get(j+1));\n            users.set(j+1,temp);\n          }\n        }\n      }\n\n      int[] selection = j.getSelectedRows();\n      System.out.println(Arrays.toString(j.getSelectedRows()));\n       for (int i = 0; i &lt; selection.length; i++) {\n         selection[i] = j.convertRowIndexToModel(selection[i]);\n         System.out.println(selection[i]);\n       }\n\n      // Setting the jtable model to the sorted model\n      j.setModel(model);\n    }\n    catch (NumberFormatException nfe) {\n      JOptionPane.showMessageDialog(this, &quot;Not Enough Users&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n      return;\n    }\n  }\n  \n\n  /*****************************************\n  /*Method Name: ReadFile\n  /*Method Description: Reads the db textfile and stores the values in a 2d arraylist for manipulation.\n  /*Method Inputs/Outputs: The 2d arraylist with all the db information is outputted\n  ******************************************/\n  public static ArrayList&lt;ArrayList&lt;String&gt;&gt; ReadFile() {\n    try {\n      // Choose db.txt file to look at\n      File myObj = new File(&quot;db.txt&quot;);\n\n      // Create scanner object\n      Scanner myReader = new Scanner(myObj);\n\n      // Create 2d list array to hold all the single list arrays of single information\n      ArrayList&lt;ArrayList&lt;String&gt;&gt; combinedArr = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n    \n      // While the file reader is still reading lines in the text\n      while (myReader.hasNextLine()) {\n        // Read strings of text in txt file\n        String data = myReader.nextLine();\n\n        // Get user information into an array\n        ArrayList&lt;String&gt; temp = GetInfo(data); \n\n        // Add the person and their salary to the combined array that holds everyones\n        combinedArr.add(temp);\n      }\n\n      // Close file once there are no more lines to read\n      myReader.close();\n\n      return combinedArr;\n    } \n    catch (FileNotFoundException e) {\n      System.out.println(&quot;An error occurred.&quot;);\n      e.printStackTrace();\n    }\n\n    // Return invalid list string with nothing if error\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; Invalid = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n    return Invalid;\n  }\n\n  /*****************************************\n  /*Method Name: GetInfo\n  /*Method Description: Takes in a string of data and parses the three variables in it which are separated by commas\n  /*Method Inputs/Outputs: The data string that needs to be parsed is inputted and arraylist containuing the data from the string is outputted.\n  ******************************************/\n  public static ArrayList&lt;String&gt; GetInfo(String data) {\n    String first = &quot;&quot;;\n    String last = &quot;&quot;;\n    String sal = &quot;&quot;;\n    // System.out.println(data[0])\n    for (int i = 0; i &lt; data.length(); i++) {\n      if (data.charAt(i) == ',') {\n        // Start from 2 indexes after the first occurance of the comma\n        for (int j = i+2; j &lt; data.length(); j++) {\n          if (data.charAt(j) == ',') {\n            // Start from 2 indexes after the occurance of the comma\n            for (int n = j+2; n &lt; data.length(); n++) {\n              sal += data.charAt(n);\n            }\n            break;\n          }\n          last += data.charAt(j);\n        }\n        break;\n      }\n      first += data.charAt(i);\n    }\n\n    // Initializing package array to send all values\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n    arr.add(first);\n    arr.add(last);\n    arr.add(sal);\n    \n    return arr;\n  }\n\n\n  /*****************************************\n  /*Method Name: main\n  /*Method Description: Runs the GUI frame\n  /*Method Inputs/Outputs: Ouputs the GUI \n  ******************************************/\n  public static void main(String[] args) {\n      UserManager frame = new UserManager();\n      frame.setVisible(true);\n  }\n}\n\n\nclass Employee {\n  // Initalizing variables\n  private String firstName;\n  private String lastName;\n  private int salary;\n\n  public Employee(String firstName, String lastName, int salary) {\n      this.firstName = firstName;\n      this.lastName = lastName;\n      this.salary = salary;\n  }\n\n  public String getFirstName() {\n    return firstName;\n  }\n\n  public String getLastName() {\n    return lastName;\n  }\n\n  public int getSalary() {\n    return salary;\n  }\n}\n</code></pre>\n"},{"tags":["java","java-home"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":2,"creation_date":1407864021,"post_id":25270314,"comment_id":39376596,"body_markdown":"JAVA_HOME should point to JDK. JRE_HOME should point to JRE.","body":"JAVA_HOME should point to JDK. JRE_HOME should point to JRE."},{"owner":{"account_id":3622734,"reputation":613,"user_id":3021076,"accept_rate":43,"display_name":"midhun0003"},"score":0,"creation_date":1407901257,"post_id":25270314,"comment_id":39389900,"body_markdown":"http://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7","body":"<a href=\"http://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7\" title=\"how to set java home on windows 7\">stackoverflow.com/questions/2619584/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1157125,"reputation":27342,"user_id":1137432,"accept_rate":56,"display_name":"jh314"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407864061,"creation_date":1407864061,"answer_id":25270350,"question_id":25270314,"body_markdown":"You should set `JAVA_HOME` to the JDK.  \r\n\r\n[Relevant Documentation:][1]\r\n\r\n&gt; 1. Install the JDK software.\r\n&gt; \r\n&gt;   a. Go to http://java.sun.com/javase/downloads/index.jsp.\r\n&gt; \r\n&gt;   b. Select the appropriate JDK software and click Download.\r\n&gt; \r\n&gt;  The JDK software is installed on your computer, for example, at\r\n&gt; C:\\Program Files\\Java\\jdk1.6.0_02. You can move the JDK software to\r\n&gt; another location if desired.\r\n&gt; \r\n&gt; 2. To set JAVA_HOME:\r\n&gt; \r\n&gt;   a. Right click My Computer and select Properties.\r\n&gt; \r\n&gt;   b. On the Advanced tab, select Environment Variables, and then edit\r\n&gt; JAVA_HOME to point to where the JDK software is located, for example,\r\n&gt; C:\\Program Files\\Java\\jdk1.6.0_02.\r\n\r\n  [1]: http://docs.oracle.com/cd/E19509-01/820-3208/6neopagg5/index.html","title":"Setting JAVA_HOME in Windows?","body":"<p>You should set <code>JAVA_HOME</code> to the JDK.  </p>\n\n<p><a href=\"http://docs.oracle.com/cd/E19509-01/820-3208/6neopagg5/index.html\" rel=\"nofollow\">Relevant Documentation:</a></p>\n\n<blockquote>\n  <ol>\n  <li><p>Install the JDK software.</p>\n  \n  <p>a. Go to <a href=\"http://java.sun.com/javase/downloads/index.jsp\" rel=\"nofollow\">http://java.sun.com/javase/downloads/index.jsp</a>.</p>\n  \n  <p>b. Select the appropriate JDK software and click Download.</p>\n  \n  <p>The JDK software is installed on your computer, for example, at\n  C:\\Program Files\\Java\\jdk1.6.0_02. You can move the JDK software to\n  another location if desired.</p></li>\n  <li><p>To set JAVA_HOME:</p>\n  \n  <p>a. Right click My Computer and select Properties.</p>\n  \n  <p>b. On the Advanced tab, select Environment Variables, and then edit\n  JAVA_HOME to point to where the JDK software is located, for example,\n  C:\\Program Files\\Java\\jdk1.6.0_02.</p></li>\n  </ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4132296,"reputation":4099,"user_id":3389854,"display_name":"ktzhang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657046477,"creation_date":1407864411,"answer_id":25270459,"question_id":25270314,"body_markdown":"JDK stands for Java Development Kit, while JRE stands for Java Runtime Environment. JAVA_HOME should point to a JDK not a JRE as the JDK is used for development purposes. JDK includes the compiler and other tools needed to develop Java applications while JRE does not. \r\n\r\nSee https://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7 on how to change your JAVA_HOME.\r\n\r\nSource:\r\nhttps://stackoverflow.com/questions/250517/java-se-6-vs-jre-1-6-vs-jdk-1-6-what-do-these-mean\r\n","title":"Setting JAVA_HOME in Windows?","body":"<p>JDK stands for Java Development Kit, while JRE stands for Java Runtime Environment. JAVA_HOME should point to a JDK not a JRE as the JDK is used for development purposes. JDK includes the compiler and other tools needed to develop Java applications while JRE does not.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7\">How to set java_home on Windows 7?</a> on how to change your JAVA_HOME.</p>\n<p>Source:\n<a href=\"https://stackoverflow.com/questions/250517/java-se-6-vs-jre-1-6-vs-jdk-1-6-what-do-these-mean\">Java SE 6 vs. JRE 1.6 vs. JDK 1.6 - What do these mean?</a></p>\n"},{"tags":[],"owner":{"account_id":25242126,"reputation":1,"user_id":19075867,"display_name":"HerŞeyden BirŞey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675322080,"creation_date":1675321989,"answer_id":75319771,"question_id":25270314,"body_markdown":"1-Right click desktop -&gt;Show More Options -&gt;Personelize-&gt;System--&gt;About--&gt;Advanced System Setting--&gt;Environment variables--&gt;\r\n\r\nuser variables ...\r\nJAVA_HOME  C:\\Program Files\\java\\jdk-19      --&gt; ok CLİCK\r\n\r\nSystem variables ...\r\nPath -&gt;New -&gt; C:\\Program Files\\java\\jdk-19 \\bin  ","title":"Setting JAVA_HOME in Windows?","body":"<p>1-Right click desktop -&gt;Show More Options -&gt;Personelize-&gt;System--&gt;About--&gt;Advanced System Setting--&gt;Environment variables--&gt;</p>\n<p>user variables ...\nJAVA_HOME  C:\\Program Files\\java\\jdk-19      --&gt; ok CLİCK</p>\n<p>System variables ...\nPath -&gt;New -&gt; C:\\Program Files\\java\\jdk-19 \\bin</p>\n"}],"owner":{"account_id":4648844,"reputation":614,"user_id":3766238,"accept_rate":76,"display_name":"Anveshan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5320,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":25270459,"answer_count":3,"score":3,"last_activity_date":1675322080,"creation_date":1407863957,"question_id":25270314,"body_markdown":"Where should **JAVA_HOME** be pointing to - JDK or JRE? I have seen that in few websites. It is set to JRE and in others it is to JDK. And is it dependant on Java version in any way?","title":"Setting JAVA_HOME in Windows?","body":"<p>Where should <strong>JAVA_HOME</strong> be pointing to - JDK or JRE? I have seen that in few websites. It is set to JRE and in others it is to JDK. And is it dependant on Java version in any way?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1675320227,"post_id":75319506,"comment_id":132904319,"body_markdown":"Which JSON handling library is this exactly? There are dozens","body":"Which JSON handling library is this exactly? There are dozens"},{"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"score":0,"creation_date":1675320334,"post_id":75319506,"comment_id":132904340,"body_markdown":"i use\nimport org.json.JSONException;\nimport org.json.JSONObject;","body":"i use import org.json.JSONException; import org.json.JSONObject;"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1675320425,"post_id":75319506,"comment_id":132904364,"body_markdown":"In that case I think you have one step wrong in your method chain: `getJSONArray(&quot;info&quot;)` should be `getJSONObject(&quot;info&quot;)`","body":"In that case I think you have one step wrong in your method chain: <code>getJSONArray(&quot;info&quot;)</code> should be <code>getJSONObject(&quot;info&quot;)</code>"},{"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"score":0,"creation_date":1675320518,"post_id":75319506,"comment_id":132904380,"body_markdown":"yes, in my json_string line json &quot;{&quot;info&quot; .......}&quot;","body":"yes, in my json_string line json &quot;{&quot;info&quot; .......}&quot;"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1675320531,"post_id":75319506,"comment_id":132904382,"body_markdown":"And I&#39;m pretty sure `.getJSONArray(0)` yields `{\n        0: \n            &quot;info&quot;:{\n                &quot;name&quot;: &quot;user 1&quot;\n            }\n\n    }` so directly calling `.getJSONArray(&quot;info&quot;)` on that will probably fail, too","body":"And I&#39;m pretty sure <code>.getJSONArray(0)</code> yields <code>{         0:              &quot;info&quot;:{                 &quot;name&quot;: &quot;user 1&quot;             }      }</code> so directly calling <code>.getJSONArray(&quot;info&quot;)</code> on that will probably fail, too"},{"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"score":0,"creation_date":1675320616,"post_id":75319506,"comment_id":132904400,"body_markdown":"@JeroenSteenbeeke, how to do it right. Can you suggest)\njust started working with Java, it was easy on powershell a lot ;D","body":"@JeroenSteenbeeke, how to do it right. Can you suggest) just started working with Java, it was easy on powershell a lot ;D"},{"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"score":0,"creation_date":1675320832,"post_id":75319506,"comment_id":132904456,"body_markdown":"I did it like this, but swears at this part for some reason\n `jsonObject.getJSONObject(&quot;user&quot;).getJSONObject(0).getJSONArray(&quot;info&quot;);`\n\nerror  `getJSONObject(0)`","body":"I did it like this, but swears at this part for some reason  <code>jsonObject.getJSONObject(&quot;user&quot;).getJSONObject(0).getJSONArr&zwnj;&#8203;ay(&quot;info&quot;);</code>  error  <code>getJSONObject(0)</code>"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1675321067,"post_id":75319506,"comment_id":132904506,"body_markdown":"Did a bit of checking. The JSON snippet you provided isn&#39;t valid JSON (according to jsonlint.com), so it&#39;s unparseable as is.","body":"Did a bit of checking. The JSON snippet you provided isn&#39;t valid JSON (according to jsonlint.com), so it&#39;s unparseable as is."},{"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"score":0,"creation_date":1675321276,"post_id":75319506,"comment_id":132904562,"body_markdown":"Now the skin is exact JSON\n`{\n  &quot;user&quot;:[\n     {\n       &quot;info&quot;:{\n         &quot;name&quot;: &quot;info&quot;\n       }\n     }\n  ]\n}`","body":"Now the skin is exact JSON <code>{   &quot;user&quot;:[      {        &quot;info&quot;:{          &quot;name&quot;: &quot;info&quot;        }      }   ] }</code>"},{"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"score":1,"creation_date":1675322666,"post_id":75319506,"comment_id":132904832,"body_markdown":"Alternatively, you could also write a class for the json structure and use Gson to parse the object","body":"Alternatively, you could also write a class for the json structure and use Gson to parse the object"}],"answers":[{"tags":[],"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675321767,"creation_date":1675321767,"answer_id":75319738,"question_id":75319506,"body_markdown":"Thanks everyone. I figured out how to do it here is the code)\r\n\r\n\r\n            JSONObject obj = new JSONObject(json_string);\r\n            JSONArray userArray = obj.getJSONArray(&quot;user&quot;);\r\n            JSONObject userInfo = userArray.getJSONObject(0).getJSONObject(&quot;info&quot;);\r\n            String reciver = userInfo.getString(&quot;name&quot;);","title":"How do I select an element in a complex JSON array in java","body":"<p>Thanks everyone. I figured out how to do it here is the code)</p>\n<pre><code>        JSONObject obj = new JSONObject(json_string);\n        JSONArray userArray = obj.getJSONArray(&quot;user&quot;);\n        JSONObject userInfo = userArray.getJSONObject(0).getJSONObject(&quot;info&quot;);\n        String reciver = userInfo.getString(&quot;name&quot;);\n</code></pre>\n"}],"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675321767,"creation_date":1675320106,"question_id":75319506,"body_markdown":"I can&#39;t seem to get the selection of elements in the array right. Or the syntax swears or something else. Here is what I am trying\r\n\r\n```\r\n{\r\n    &quot;info&quot;: &quot;info&quot;,\r\n    &quot;user&quot;:[{\r\n        0: \r\n            &quot;info&quot;:{\r\n                &quot;name&quot;: &quot;user 1&quot;\r\n            }\r\n\r\n    }]\r\n\r\n}\r\n```\r\n\r\nHere is my code and what i am trying to do\r\n\r\n```\r\nJSONObject jsonObject = new JSONObject(json_string);\r\nSystem.out.println(jsonObject.getJSONArray(&quot;user&quot;).getJSONArray(0).getJSONArray(&quot;info&quot;).getString(&quot;name&quot;));\r\n```\r\n\r\nAnd I don&#39;t get anything. Who can tell me how to do it right","title":"How do I select an element in a complex JSON array in java","body":"<p>I can't seem to get the selection of elements in the array right. Or the syntax swears or something else. Here is what I am trying</p>\n<pre><code>{\n    &quot;info&quot;: &quot;info&quot;,\n    &quot;user&quot;:[{\n        0: \n            &quot;info&quot;:{\n                &quot;name&quot;: &quot;user 1&quot;\n            }\n\n    }]\n\n}\n</code></pre>\n<p>Here is my code and what i am trying to do</p>\n<pre><code>JSONObject jsonObject = new JSONObject(json_string);\nSystem.out.println(jsonObject.getJSONArray(&quot;user&quot;).getJSONArray(0).getJSONArray(&quot;info&quot;).getString(&quot;name&quot;));\n</code></pre>\n<p>And I don't get anything. Who can tell me how to do it right</p>\n"},{"tags":["java","minecraft"],"owner":{"account_id":27572093,"reputation":1,"user_id":21043082,"display_name":" Leviafan4ik "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674129463,"answer_count":0,"score":0,"last_activity_date":1675321702,"creation_date":1674129120,"question_id":75171827,"body_markdown":"I am writing a launcher for my Minecraft build. I can&#39;t move because of an error that occurs when trying to launch the game\r\n\r\nI use the arguments given by another working launcher and everything starts there. What to do? I already have a headache...\r\n\r\nJava version 17 is installed, everything fits.\r\n\r\n\r\n```\r\n@FXML\r\n    protected void onHelloButtonClick() {\r\n        List&lt;String&gt; jargs = Arrays.stream(&quot;java -XX:+UnlockExperimentalVMOptions -XX:+UseG1GC -XX:G1NewSizePercent=20 -XX:G1ReservePercent=20 -XX:MaxGCPauseMillis=50 -XX:G1HeapRegionSize=16M -Djava.net.preferIPv4Stack=true -Xmx4096m -DMcEmu net.minecraft.client.main.Main -Dlog4j2.formatMsgNoLookups=true -Djava.rmi.server.useCodebaseOnly=true -Dcom.sun.jndi.rmi.object.trustURLCodebase=false -Dcom.sun.jndi.cosnaming.object.trustURLCodebase=false -XX:HeapDumpPath=MojangTricksIntelDriversForPerformance_javaw.exe_minecraft.exe.heapdump -Dos.name=Windows 10 -Dos.version=10.0 -Djava.library.path=C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\versions\\\\1.19.3\\\\1.19.3-natives-3624348475800 -Dminecraft.launcher.brand=java-minecraft-launcher -Dminecraft.launcher.version=3.0-3eb54af -cp C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\github\\\\oshi\\\\oshi-core\\\\6.2.2\\\\oshi-core-6.2.2.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\google\\\\code\\\\gson\\\\gson\\\\2.10\\\\gson-2.10.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\google\\\\guava\\\\failureaccess\\\\1.0.1\\\\failureaccess-1.0.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\google\\\\guava\\\\guava\\\\31.1-jre\\\\guava-31.1-jre.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\ibm\\\\icu\\\\icu4j\\\\71.1\\\\icu4j-71.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\authlib\\\\3.16.29\\\\authlib-3.16.29.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\blocklist\\\\1.0.10\\\\blocklist-1.0.10.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\brigadier\\\\1.0.18\\\\brigadier-1.0.18.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\datafixerupper\\\\5.0.28\\\\datafixerupper-5.0.28.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\javabridge\\\\2.0.25\\\\javabridge-2.0.25.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\logging\\\\1.1.1\\\\logging-1.1.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\patchy\\\\2.2.10\\\\patchy-2.2.10.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\text2speech\\\\1.13.9\\\\text2speech-1.13.9.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\text2speech\\\\1.13.9\\\\text2speech-1.13.9-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\commons-codec\\\\commons-codec\\\\1.15\\\\commons-codec-1.15.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\commons-io\\\\commons-io\\\\2.11.0\\\\commons-io-2.11.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\commons-logging\\\\commons-logging\\\\1.2\\\\commons-logging-1.2.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-buffer\\\\4.1.82.Final\\\\netty-buffer-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-codec\\\\4.1.82.Final\\\\netty-codec-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-common\\\\4.1.82.Final\\\\netty-common-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-handler\\\\4.1.82.Final\\\\netty-handler-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-resolver\\\\4.1.82.Final\\\\netty-resolver-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-transport-classes-epoll\\\\4.1.82.Final\\\\netty-transport-classes-epoll-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-transport-native-unix-common\\\\4.1.82.Final\\\\netty-transport-native-unix-common-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-transport\\\\4.1.82.Final\\\\netty-transport-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\it\\\\unimi\\\\dsi\\\\fastutil\\\\8.5.9\\\\fastutil-8.5.9.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\net\\\\java\\\\dev\\\\jna\\\\jna-platform\\\\5.12.1\\\\jna-platform-5.12.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\net\\\\java\\\\dev\\\\jna\\\\jna\\\\5.12.1\\\\jna-5.12.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\net\\\\sf\\\\jopt-simple\\\\jopt-simple\\\\5.0.4\\\\jopt-simple-5.0.4.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\commons\\\\commons-compress\\\\1.21\\\\commons-compress-1.21.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\commons\\\\commons-lang3\\\\3.12.0\\\\commons-lang3-3.12.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\httpcomponents\\\\httpclient\\\\4.5.13\\\\httpclient-4.5.13.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\httpcomponents\\\\httpcore\\\\4.4.15\\\\httpcore-4.4.15.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\logging\\\\log4j\\\\log4j-api\\\\2.19.0\\\\log4j-api-2.19.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\logging\\\\log4j\\\\log4j-core\\\\2.19.0\\\\log4j-core-2.19.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\logging\\\\log4j\\\\log4j-slf4j2-impl\\\\2.19.0\\\\log4j-slf4j2-impl-2.19.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\joml\\\\joml\\\\1.10.5\\\\joml-1.10.5.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-glfw\\\\3.3.1\\\\lwjgl-glfw-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-glfw\\\\3.3.1\\\\lwjgl-glfw-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-glfw\\\\3.3.1\\\\lwjgl-glfw-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-jemalloc\\\\3.3.1\\\\lwjgl-jemalloc-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-jemalloc\\\\3.3.1\\\\lwjgl-jemalloc-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-jemalloc\\\\3.3.1\\\\lwjgl-jemalloc-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-openal\\\\3.3.1\\\\lwjgl-openal-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-openal\\\\3.3.1\\\\lwjgl-openal-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-openal\\\\3.3.1\\\\lwjgl-openal-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-opengl\\\\3.3.1\\\\lwjgl-opengl-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-opengl\\\\3.3.1\\\\lwjgl-opengl-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-opengl\\\\3.3.1\\\\lwjgl-opengl-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-stb\\\\3.3.1\\\\lwjgl-stb-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-stb\\\\3.3.1\\\\lwjgl-stb-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-stb\\\\3.3.1\\\\lwjgl-stb-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-tinyfd\\\\3.3.1\\\\lwjgl-tinyfd-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-tinyfd\\\\3.3.1\\\\lwjgl-tinyfd-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-tinyfd\\\\3.3.1\\\\lwjgl-tinyfd-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl\\\\3.3.1\\\\lwjgl-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl\\\\3.3.1\\\\lwjgl-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl\\\\3.3.1\\\\lwjgl-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\slf4j\\\\slf4j-api\\\\2.0.1\\\\slf4j-api-2.0.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\versions\\\\1.19.3\\\\1.19.3.jar net.minecraft.client.main.Main --username Leviafan4ikRUS --version 1.19.3 --gameDir C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft --assetsDir C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\assets --assetIndex 2 --uuid b365a955f31c32fb9e6c2d36fc3e48f7 --accessToken 8a2200d7bc11a39a2dcb5b66376e06fe943217a7baf44f2eb63c579e62d609d7 --clientId ${clientid} --xuid ${auth_xuid} --userType mojang --versionType release&quot;.split(&quot; &quot;)).toList();\r\n\r\n        try{\r\n            ProcessBuilder pb = new ProcessBuilder();\r\n            //pb.directory(new File(&quot;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\runtime\\\\java-runtime-gamma\\\\bin\\\\&quot;).getCanonicalFile());\r\n            pb.command(jargs);\r\n            pb.inheritIO();\r\n            pb.start();\r\n        } catch (Exception e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\nError:\r\n\r\n```\r\nError: Could not find or load main class net.minecraft.client.main.Main\r\nCaused by: java.lang.ClassNotFoundException: net.minecraft.client.main.Main\r\n```\r\n\r\nIntelliJ IDEA 2022.2\r\n\r\nTry to use javaw.exe in runtime folder (placed in main minecraft folder) - NOTHING\r\nTry to reinstall JDK/JRE - NOTHING\r\nTry to reboot pc - NOTHING\r\nTry to use other launcher arguments (TLauncher, SKLauncher) - NOTHING\r\nTry to run as admin rules - NOTHING\r\nTry to use bat file to launch - NOTHING\r\nTry to reinstall Minecraft - NOTHING","title":"Can`t launch minecraft from my custom launcher (class not found)","body":"<p>I am writing a launcher for my Minecraft build. I can't move because of an error that occurs when trying to launch the game</p>\n<p>I use the arguments given by another working launcher and everything starts there. What to do? I already have a headache...</p>\n<p>Java version 17 is installed, everything fits.</p>\n<pre><code>@FXML\n    protected void onHelloButtonClick() {\n        List&lt;String&gt; jargs = Arrays.stream(&quot;java -XX:+UnlockExperimentalVMOptions -XX:+UseG1GC -XX:G1NewSizePercent=20 -XX:G1ReservePercent=20 -XX:MaxGCPauseMillis=50 -XX:G1HeapRegionSize=16M -Djava.net.preferIPv4Stack=true -Xmx4096m -DMcEmu net.minecraft.client.main.Main -Dlog4j2.formatMsgNoLookups=true -Djava.rmi.server.useCodebaseOnly=true -Dcom.sun.jndi.rmi.object.trustURLCodebase=false -Dcom.sun.jndi.cosnaming.object.trustURLCodebase=false -XX:HeapDumpPath=MojangTricksIntelDriversForPerformance_javaw.exe_minecraft.exe.heapdump -Dos.name=Windows 10 -Dos.version=10.0 -Djava.library.path=C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\versions\\\\1.19.3\\\\1.19.3-natives-3624348475800 -Dminecraft.launcher.brand=java-minecraft-launcher -Dminecraft.launcher.version=3.0-3eb54af -cp C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\github\\\\oshi\\\\oshi-core\\\\6.2.2\\\\oshi-core-6.2.2.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\google\\\\code\\\\gson\\\\gson\\\\2.10\\\\gson-2.10.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\google\\\\guava\\\\failureaccess\\\\1.0.1\\\\failureaccess-1.0.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\google\\\\guava\\\\guava\\\\31.1-jre\\\\guava-31.1-jre.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\ibm\\\\icu\\\\icu4j\\\\71.1\\\\icu4j-71.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\authlib\\\\3.16.29\\\\authlib-3.16.29.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\blocklist\\\\1.0.10\\\\blocklist-1.0.10.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\brigadier\\\\1.0.18\\\\brigadier-1.0.18.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\datafixerupper\\\\5.0.28\\\\datafixerupper-5.0.28.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\javabridge\\\\2.0.25\\\\javabridge-2.0.25.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\logging\\\\1.1.1\\\\logging-1.1.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\patchy\\\\2.2.10\\\\patchy-2.2.10.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\text2speech\\\\1.13.9\\\\text2speech-1.13.9.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\text2speech\\\\1.13.9\\\\text2speech-1.13.9-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\commons-codec\\\\commons-codec\\\\1.15\\\\commons-codec-1.15.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\commons-io\\\\commons-io\\\\2.11.0\\\\commons-io-2.11.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\commons-logging\\\\commons-logging\\\\1.2\\\\commons-logging-1.2.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-buffer\\\\4.1.82.Final\\\\netty-buffer-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-codec\\\\4.1.82.Final\\\\netty-codec-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-common\\\\4.1.82.Final\\\\netty-common-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-handler\\\\4.1.82.Final\\\\netty-handler-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-resolver\\\\4.1.82.Final\\\\netty-resolver-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-transport-classes-epoll\\\\4.1.82.Final\\\\netty-transport-classes-epoll-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-transport-native-unix-common\\\\4.1.82.Final\\\\netty-transport-native-unix-common-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-transport\\\\4.1.82.Final\\\\netty-transport-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\it\\\\unimi\\\\dsi\\\\fastutil\\\\8.5.9\\\\fastutil-8.5.9.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\net\\\\java\\\\dev\\\\jna\\\\jna-platform\\\\5.12.1\\\\jna-platform-5.12.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\net\\\\java\\\\dev\\\\jna\\\\jna\\\\5.12.1\\\\jna-5.12.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\net\\\\sf\\\\jopt-simple\\\\jopt-simple\\\\5.0.4\\\\jopt-simple-5.0.4.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\commons\\\\commons-compress\\\\1.21\\\\commons-compress-1.21.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\commons\\\\commons-lang3\\\\3.12.0\\\\commons-lang3-3.12.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\httpcomponents\\\\httpclient\\\\4.5.13\\\\httpclient-4.5.13.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\httpcomponents\\\\httpcore\\\\4.4.15\\\\httpcore-4.4.15.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\logging\\\\log4j\\\\log4j-api\\\\2.19.0\\\\log4j-api-2.19.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\logging\\\\log4j\\\\log4j-core\\\\2.19.0\\\\log4j-core-2.19.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\logging\\\\log4j\\\\log4j-slf4j2-impl\\\\2.19.0\\\\log4j-slf4j2-impl-2.19.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\joml\\\\joml\\\\1.10.5\\\\joml-1.10.5.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-glfw\\\\3.3.1\\\\lwjgl-glfw-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-glfw\\\\3.3.1\\\\lwjgl-glfw-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-glfw\\\\3.3.1\\\\lwjgl-glfw-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-jemalloc\\\\3.3.1\\\\lwjgl-jemalloc-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-jemalloc\\\\3.3.1\\\\lwjgl-jemalloc-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-jemalloc\\\\3.3.1\\\\lwjgl-jemalloc-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-openal\\\\3.3.1\\\\lwjgl-openal-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-openal\\\\3.3.1\\\\lwjgl-openal-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-openal\\\\3.3.1\\\\lwjgl-openal-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-opengl\\\\3.3.1\\\\lwjgl-opengl-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-opengl\\\\3.3.1\\\\lwjgl-opengl-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-opengl\\\\3.3.1\\\\lwjgl-opengl-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-stb\\\\3.3.1\\\\lwjgl-stb-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-stb\\\\3.3.1\\\\lwjgl-stb-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-stb\\\\3.3.1\\\\lwjgl-stb-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-tinyfd\\\\3.3.1\\\\lwjgl-tinyfd-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-tinyfd\\\\3.3.1\\\\lwjgl-tinyfd-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-tinyfd\\\\3.3.1\\\\lwjgl-tinyfd-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl\\\\3.3.1\\\\lwjgl-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl\\\\3.3.1\\\\lwjgl-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl\\\\3.3.1\\\\lwjgl-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\slf4j\\\\slf4j-api\\\\2.0.1\\\\slf4j-api-2.0.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\versions\\\\1.19.3\\\\1.19.3.jar net.minecraft.client.main.Main --username Leviafan4ikRUS --version 1.19.3 --gameDir C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft --assetsDir C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\assets --assetIndex 2 --uuid b365a955f31c32fb9e6c2d36fc3e48f7 --accessToken 8a2200d7bc11a39a2dcb5b66376e06fe943217a7baf44f2eb63c579e62d609d7 --clientId ${clientid} --xuid ${auth_xuid} --userType mojang --versionType release&quot;.split(&quot; &quot;)).toList();\n\n        try{\n            ProcessBuilder pb = new ProcessBuilder();\n            //pb.directory(new File(&quot;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\runtime\\\\java-runtime-gamma\\\\bin\\\\&quot;).getCanonicalFile());\n            pb.command(jargs);\n            pb.inheritIO();\n            pb.start();\n        } catch (Exception e){\n            System.out.println(e.getMessage());\n        }\n    }\n</code></pre>\n<p>Error:</p>\n<pre><code>Error: Could not find or load main class net.minecraft.client.main.Main\nCaused by: java.lang.ClassNotFoundException: net.minecraft.client.main.Main\n</code></pre>\n<p>IntelliJ IDEA 2022.2</p>\n<p>Try to use javaw.exe in runtime folder (placed in main minecraft folder) - NOTHING\nTry to reinstall JDK/JRE - NOTHING\nTry to reboot pc - NOTHING\nTry to use other launcher arguments (TLauncher, SKLauncher) - NOTHING\nTry to run as admin rules - NOTHING\nTry to use bat file to launch - NOTHING\nTry to reinstall Minecraft - NOTHING</p>\n"},{"tags":["java","gradle","micronaut","microstream"],"answers":[{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675321178,"creation_date":1675321178,"answer_id":75319652,"question_id":75312070,"body_markdown":"Turns out it has something todo with Java Records. When converting the Java Record to POJOs the error is not provoked.\r\n\r\n```java\r\n@Introspected\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class DefaultProduct implements Product {\r\n  private @NotNull UUID id;\r\n  private @NotNull LocalDate validFrom;\r\n  private @NotNull LocalDate validUntil;\r\n  private @NotNull @NotBlank String name;\r\n  private @NotNull @NotEmpty List&lt;PriceElement&gt; priceElements;\r\n  private @NotNull @NotEmpty Set&lt;Criterion&gt; criteria;\r\n  private @NotNull LegalBasis legalBasis;\r\n}\r\n```\r\n\r\nThe reason for the error is described in the [Microstream FAQ][1].\r\n\r\n&gt;Can MicroStream handle Records?\r\nYes, but due to reflection restrictions of records introduced in Java 15 an export has to be added to the VM parameters:\r\n--add-exports java.base/jdk.internal.misc=ALL-UNNAMED\r\n\r\n\r\n\r\n  [1]: https://docs.microstream.one/manual/storage/faq/java-features.html","title":"Microstream issue Could not obtain access to &quot;jdk.internal.misc.Unsafe&quot;","body":"<p>Turns out it has something todo with Java Records. When converting the Java Record to POJOs the error is not provoked.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Introspected\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class DefaultProduct implements Product {\n  private @NotNull UUID id;\n  private @NotNull LocalDate validFrom;\n  private @NotNull LocalDate validUntil;\n  private @NotNull @NotBlank String name;\n  private @NotNull @NotEmpty List&lt;PriceElement&gt; priceElements;\n  private @NotNull @NotEmpty Set&lt;Criterion&gt; criteria;\n  private @NotNull LegalBasis legalBasis;\n}\n</code></pre>\n<p>The reason for the error is described in the <a href=\"https://docs.microstream.one/manual/storage/faq/java-features.html\" rel=\"nofollow noreferrer\">Microstream FAQ</a>.</p>\n<blockquote>\n<p>Can MicroStream handle Records?\nYes, but due to reflection restrictions of records introduced in Java 15 an export has to be added to the VM parameters:\n--add-exports java.base/jdk.internal.misc=ALL-UNNAMED</p>\n</blockquote>\n"}],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75319652,"answer_count":1,"score":0,"last_activity_date":1675321178,"creation_date":1675263435,"question_id":75312070,"body_markdown":"I&#39;m doing my first steps using Microstream in a Micronaut application (JDK 17).\r\n\r\nI have implemented the following repository\r\n\r\n```java\r\n@Singleton\r\n@RequiredArgsConstructor\r\npublic class DefaultWritableProductRepository implements WritableProductRepository {\r\n\r\n  private final StorageManager storageManager;\r\n\r\n  @Override\r\n  public Product save(Product product) { // Product is an interface\r\n\r\n    data().getProducts().put(product.id(), product);\r\n    storageManager.store(data().getProducts());\r\n    return product;\r\n  }\r\n\r\n  private RootData data() {\r\n    return (RootData) storageManager.root();\r\n  }\r\n}\r\n```\r\n\r\nAnd my data root to store the data.\r\n\r\n```java\r\n@Introspected\r\npublic class RootData {\r\n\r\n  private Map&lt;UUID, Product&gt; products = new HashMap&lt;&gt;();\r\n\r\n  @NotNull\r\n  public Map&lt;UUID, Product&gt; getProducts() {\r\n    return products;\r\n  }\r\n}\r\n```\r\n\r\nWhen I store a product I get an `IllegalAccessException` since Microstream wants to access `jdk.internal.misc` but that&#39;s of course no allowed by default.\r\n\r\n```\r\n15:36:20.222 [MicroStream-StorageChannel-0] DEBUG o.m.s.t.StorageEntityCache$Default - Consolidated StorageEntityCache to 1 entries!\r\nException in thread &quot;main&quot; java.lang.Error: Could not obtain access to &quot;jdk.internal.misc.Unsafe&quot;, please start the VM with --add-exports java.base/jdk.internal.misc=ALL-UNNAMED\r\n\tat one.microstream.memory.sun.JdkInternals.createInternalVM(JdkInternals.java:920)\r\n\tat one.microstream.memory.sun.JdkInternals.internalVM(JdkInternals.java:896)\r\n\tat one.microstream.memory.sun.JdkInternals.lookupInternalObjectFieldOffsetMethod(JdkInternals.java:948)\r\n\tat one.microstream.memory.sun.JdkInternals.internalObjectFieldOffsetMethod(JdkInternals.java:937)\r\n\tat one.microstream.memory.sun.JdkInternals.objectFieldOffset(JdkInternals.java:975)\r\n\tat one.microstream.memory.sun.JdkInternals.objectFieldOffsets(JdkInternals.java:1002)\r\n\tat one.microstream.memory.sun.JdkMemoryAccessor.objectFieldOffsets(JdkMemoryAccessor.java:540)\r\n\tat one.microstream.memory.sun.JdkMemoryAccessor.objectFieldOffsets(JdkMemoryAccessor.java:554)\r\n\tat one.microstream.memory.XMemory.objectFieldOffsets(XMemory.java:652)\r\n\tat one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.objectFieldOffsets(AbstractBinaryHandlerReflective.java:183)\r\n\tat one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.initializeStoringMemoryOffsets(AbstractBinaryHandlerReflective.java:335)\r\n\tat one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.&lt;init&gt;(AbstractBinaryHandlerReflective.java:298)\r\n\tat one.microstream.persistence.binary.internal.BinaryHandlerGenericType.&lt;init&gt;(BinaryHandlerGenericType.java:84)\r\n\tat one.microstream.persistence.binary.internal.BinaryHandlerGenericType.New(BinaryHandlerGenericType.java:47)\r\n\tat one.microstream.persistence.binary.types.BinaryTypeHandlerCreator$Default.internalCreateTypeHandlerGeneric(BinaryTypeHandlerCreator.java:257)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerCreator$Abstract.createTypeHandlerGeneric(PersistenceTypeHandlerCreator.java:185)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerEnsurer$Default.ensureTypeHandler(PersistenceTypeHandlerEnsurer.java:257)\r\n\tat one.microstream.persistence.internal.PersistenceTypeHandlerProviderCreating.ensureTypeHandler(PersistenceTypeHandlerProviderCreating.java:191)\r\n\tat one.microstream.persistence.internal.PersistenceTypeHandlerProviderCreating.provideTypeHandler(PersistenceTypeHandlerProviderCreating.java:99)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.internalEnsureTypeHandler(PersistenceTypeHandlerManager.java:615)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.ensureTypeHandler(PersistenceTypeHandlerManager.java:384)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.ensureTypeHandler(PersistenceTypeHandlerManager.java:360)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.registerGuaranteed(BinaryStorer.java:618)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.registerLazyOptional(BinaryStorer.java:633)\r\n\tat one.microstream.persistence.types.PersistenceObjectManager$Default.ensureObjectId(PersistenceObjectManager.java:202)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.register(BinaryStorer.java:652)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.apply(BinaryStorer.java:328)\r\n\tat one.microstream.persistence.binary.types.Binary.storeMapEntrySet(Binary.java:536)\r\n\tat one.microstream.persistence.binary.jdk8.java.util.BinaryHandlerHashMap.store(BinaryHandlerHashMap.java:105)\r\n\tat one.microstream.persistence.binary.jdk8.java.util.BinaryHandlerHashMap.store(BinaryHandlerHashMap.java:1)\r\n\tat one.microstream.persistence.binary.internal.AbstractBinaryHandlerCustom.store(AbstractBinaryHandlerCustom.java:1)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.storeItem(BinaryStorer.java:459)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.storeGraph(BinaryStorer.java:442)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.store(BinaryStorer.java:466)\r\n\tat one.microstream.persistence.types.PersistenceManager$Default.store(PersistenceManager.java:304)\r\n\tat one.microstream.storage.types.StorageConnection.store(StorageConnection.java:381)\r\n\tat ch.onstructive.salessystem.productengine.db.loader.DefaultWritableProductRepository.save(DefaultWritableProductRepository.java:32)\r\n\tat ch.onstructive.salessystem.productengine.db.loader.datatransformers.AbstractDataTransformer.persist(AbstractDataTransformer.java:98)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat ch.onstructive.salessystem.productengine.db.loader.datatransformers.AbstractDataTransformer.transformAndPersist(AbstractDataTransformer.java:85)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat ch.onstructive.salessystem.productengine.db.loader.ProductLoaderCommand.run(ProductLoaderCommand.java:58)\r\n\tat picocli.CommandLine.executeUserObject(CommandLine.java:1939)\r\n\tat picocli.CommandLine.access$1300(CommandLine.java:145)\r\n\tat picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2358)\r\n\tat picocli.CommandLine$RunLast.handle(CommandLine.java:2352)\r\n\tat picocli.CommandLine$RunLast.handle(CommandLine.java:2314)\r\n\tat picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2179)\r\n\tat picocli.CommandLine$RunLast.execute(CommandLine.java:2316)\r\n\tat picocli.CommandLine.execute(CommandLine.java:2078)\r\n\tat io.micronaut.configuration.picocli.PicocliRunner.run(PicocliRunner.java:137)\r\n\tat io.micronaut.configuration.picocli.PicocliRunner.run(PicocliRunner.java:114)\r\n\tat ch.onstructive.salessystem.productengine.db.loader.ProductLoaderCommand.main(ProductLoaderCommand.java:50)\r\nCaused by: java.lang.IllegalAccessException: class one.microstream.memory.sun.JdkInternals cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @355ce81c\r\n\tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:420)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:709)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:569)\r\n\tat one.microstream.memory.sun.JdkInternals.createInternalVM(JdkInternals.java:909)\r\n\t... 61 more\r\n```\r\n\r\nWhen I start the Micronaut application adding the VM option `--add-exports java.base/jdk.internal.misc=ALL-UNNAMED` everything works fine. \r\n\r\nAs mentioned in the listing above the type `Product` is an interface and something in this data structure triggers the error. The actual implementation of `Product` is a Java record called `DefaultProduct`.\r\n\r\n```java\r\n@Introspected\r\npublic record DefaultProduct(\r\n    @NotNull UUID id,\r\n    @NotNull LocalDate validFrom,\r\n    @NotNull LocalDate validUntil,\r\n    @NotNull @NotBlank String name,\r\n    @NotNull @NotEmpty List&lt;PriceElement&gt; priceElements,\r\n    @NotNull @NotEmpty Set&lt;Criterion&gt; criteria,\r\n    @NotNull LegalBasis legalBasis)\r\n    implements Product {}\r\n```\r\n\r\nI have replaced the map in `RootData` from `Map&lt;UUID, Product&gt;` to `Map&lt;UUID, String&gt;` and the problem is gone without using `--add-exports java.base/jdk.internal.misc=ALL-UNNAMED`, so it has clearly to do with my data structure `Product`.\r\n\r\nThe problem is I cannot run my tests using Gradle, even if I tell the JVM to add that option.\r\n\r\n```groovy\r\ntasks.named(&#39;test&#39;) {\r\n    jvmArgs [&#39;--add-exports java.base/jdk.internal.misc=ALL-UNNAMED&#39;]\r\n}\r\n```\r\n\r\nSo I have the following questions:\r\n\r\n1. Does anyone have a clue why Microstream needs to access that and point me the directions what could probably be wrong?\r\n2. Is there a way to run the my tests in the Gradle build and add the VM option, so the tests can be executed and workaround the issue?","title":"Microstream issue Could not obtain access to &quot;jdk.internal.misc.Unsafe&quot;","body":"<p>I'm doing my first steps using Microstream in a Micronaut application (JDK 17).</p>\n<p>I have implemented the following repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\n@RequiredArgsConstructor\npublic class DefaultWritableProductRepository implements WritableProductRepository {\n\n  private final StorageManager storageManager;\n\n  @Override\n  public Product save(Product product) { // Product is an interface\n\n    data().getProducts().put(product.id(), product);\n    storageManager.store(data().getProducts());\n    return product;\n  }\n\n  private RootData data() {\n    return (RootData) storageManager.root();\n  }\n}\n</code></pre>\n<p>And my data root to store the data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Introspected\npublic class RootData {\n\n  private Map&lt;UUID, Product&gt; products = new HashMap&lt;&gt;();\n\n  @NotNull\n  public Map&lt;UUID, Product&gt; getProducts() {\n    return products;\n  }\n}\n</code></pre>\n<p>When I store a product I get an <code>IllegalAccessException</code> since Microstream wants to access <code>jdk.internal.misc</code> but that's of course no allowed by default.</p>\n<pre><code>15:36:20.222 [MicroStream-StorageChannel-0] DEBUG o.m.s.t.StorageEntityCache$Default - Consolidated StorageEntityCache to 1 entries!\nException in thread &quot;main&quot; java.lang.Error: Could not obtain access to &quot;jdk.internal.misc.Unsafe&quot;, please start the VM with --add-exports java.base/jdk.internal.misc=ALL-UNNAMED\n    at one.microstream.memory.sun.JdkInternals.createInternalVM(JdkInternals.java:920)\n    at one.microstream.memory.sun.JdkInternals.internalVM(JdkInternals.java:896)\n    at one.microstream.memory.sun.JdkInternals.lookupInternalObjectFieldOffsetMethod(JdkInternals.java:948)\n    at one.microstream.memory.sun.JdkInternals.internalObjectFieldOffsetMethod(JdkInternals.java:937)\n    at one.microstream.memory.sun.JdkInternals.objectFieldOffset(JdkInternals.java:975)\n    at one.microstream.memory.sun.JdkInternals.objectFieldOffsets(JdkInternals.java:1002)\n    at one.microstream.memory.sun.JdkMemoryAccessor.objectFieldOffsets(JdkMemoryAccessor.java:540)\n    at one.microstream.memory.sun.JdkMemoryAccessor.objectFieldOffsets(JdkMemoryAccessor.java:554)\n    at one.microstream.memory.XMemory.objectFieldOffsets(XMemory.java:652)\n    at one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.objectFieldOffsets(AbstractBinaryHandlerReflective.java:183)\n    at one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.initializeStoringMemoryOffsets(AbstractBinaryHandlerReflective.java:335)\n    at one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.&lt;init&gt;(AbstractBinaryHandlerReflective.java:298)\n    at one.microstream.persistence.binary.internal.BinaryHandlerGenericType.&lt;init&gt;(BinaryHandlerGenericType.java:84)\n    at one.microstream.persistence.binary.internal.BinaryHandlerGenericType.New(BinaryHandlerGenericType.java:47)\n    at one.microstream.persistence.binary.types.BinaryTypeHandlerCreator$Default.internalCreateTypeHandlerGeneric(BinaryTypeHandlerCreator.java:257)\n    at one.microstream.persistence.types.PersistenceTypeHandlerCreator$Abstract.createTypeHandlerGeneric(PersistenceTypeHandlerCreator.java:185)\n    at one.microstream.persistence.types.PersistenceTypeHandlerEnsurer$Default.ensureTypeHandler(PersistenceTypeHandlerEnsurer.java:257)\n    at one.microstream.persistence.internal.PersistenceTypeHandlerProviderCreating.ensureTypeHandler(PersistenceTypeHandlerProviderCreating.java:191)\n    at one.microstream.persistence.internal.PersistenceTypeHandlerProviderCreating.provideTypeHandler(PersistenceTypeHandlerProviderCreating.java:99)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.internalEnsureTypeHandler(PersistenceTypeHandlerManager.java:615)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.ensureTypeHandler(PersistenceTypeHandlerManager.java:384)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.ensureTypeHandler(PersistenceTypeHandlerManager.java:360)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.registerGuaranteed(BinaryStorer.java:618)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.registerLazyOptional(BinaryStorer.java:633)\n    at one.microstream.persistence.types.PersistenceObjectManager$Default.ensureObjectId(PersistenceObjectManager.java:202)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.register(BinaryStorer.java:652)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.apply(BinaryStorer.java:328)\n    at one.microstream.persistence.binary.types.Binary.storeMapEntrySet(Binary.java:536)\n    at one.microstream.persistence.binary.jdk8.java.util.BinaryHandlerHashMap.store(BinaryHandlerHashMap.java:105)\n    at one.microstream.persistence.binary.jdk8.java.util.BinaryHandlerHashMap.store(BinaryHandlerHashMap.java:1)\n    at one.microstream.persistence.binary.internal.AbstractBinaryHandlerCustom.store(AbstractBinaryHandlerCustom.java:1)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.storeItem(BinaryStorer.java:459)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.storeGraph(BinaryStorer.java:442)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.store(BinaryStorer.java:466)\n    at one.microstream.persistence.types.PersistenceManager$Default.store(PersistenceManager.java:304)\n    at one.microstream.storage.types.StorageConnection.store(StorageConnection.java:381)\n    at ch.onstructive.salessystem.productengine.db.loader.DefaultWritableProductRepository.save(DefaultWritableProductRepository.java:32)\n    at ch.onstructive.salessystem.productengine.db.loader.datatransformers.AbstractDataTransformer.persist(AbstractDataTransformer.java:98)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n    at ch.onstructive.salessystem.productengine.db.loader.datatransformers.AbstractDataTransformer.transformAndPersist(AbstractDataTransformer.java:85)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at ch.onstructive.salessystem.productengine.db.loader.ProductLoaderCommand.run(ProductLoaderCommand.java:58)\n    at picocli.CommandLine.executeUserObject(CommandLine.java:1939)\n    at picocli.CommandLine.access$1300(CommandLine.java:145)\n    at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2358)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2352)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2314)\n    at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2179)\n    at picocli.CommandLine$RunLast.execute(CommandLine.java:2316)\n    at picocli.CommandLine.execute(CommandLine.java:2078)\n    at io.micronaut.configuration.picocli.PicocliRunner.run(PicocliRunner.java:137)\n    at io.micronaut.configuration.picocli.PicocliRunner.run(PicocliRunner.java:114)\n    at ch.onstructive.salessystem.productengine.db.loader.ProductLoaderCommand.main(ProductLoaderCommand.java:50)\nCaused by: java.lang.IllegalAccessException: class one.microstream.memory.sun.JdkInternals cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @355ce81c\n    at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:420)\n    at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:709)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:569)\n    at one.microstream.memory.sun.JdkInternals.createInternalVM(JdkInternals.java:909)\n    ... 61 more\n</code></pre>\n<p>When I start the Micronaut application adding the VM option <code>--add-exports java.base/jdk.internal.misc=ALL-UNNAMED</code> everything works fine.</p>\n<p>As mentioned in the listing above the type <code>Product</code> is an interface and something in this data structure triggers the error. The actual implementation of <code>Product</code> is a Java record called <code>DefaultProduct</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Introspected\npublic record DefaultProduct(\n    @NotNull UUID id,\n    @NotNull LocalDate validFrom,\n    @NotNull LocalDate validUntil,\n    @NotNull @NotBlank String name,\n    @NotNull @NotEmpty List&lt;PriceElement&gt; priceElements,\n    @NotNull @NotEmpty Set&lt;Criterion&gt; criteria,\n    @NotNull LegalBasis legalBasis)\n    implements Product {}\n</code></pre>\n<p>I have replaced the map in <code>RootData</code> from <code>Map&lt;UUID, Product&gt;</code> to <code>Map&lt;UUID, String&gt;</code> and the problem is gone without using <code>--add-exports java.base/jdk.internal.misc=ALL-UNNAMED</code>, so it has clearly to do with my data structure <code>Product</code>.</p>\n<p>The problem is I cannot run my tests using Gradle, even if I tell the JVM to add that option.</p>\n<pre><code>tasks.named('test') {\n    jvmArgs ['--add-exports java.base/jdk.internal.misc=ALL-UNNAMED']\n}\n</code></pre>\n<p>So I have the following questions:</p>\n<ol>\n<li>Does anyone have a clue why Microstream needs to access that and point me the directions what could probably be wrong?</li>\n<li>Is there a way to run the my tests in the Gradle build and add the VM option, so the tests can be executed and workaround the issue?</li>\n</ol>\n"},{"tags":["java","android-studio","facebook-login"],"answers":[{"tags":[],"owner":{"account_id":26073949,"reputation":44,"user_id":19773139,"display_name":"Jeff Lin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675321075,"creation_date":1675321075,"answer_id":75319637,"question_id":75306543,"body_markdown":"It seems android 12 problem when using emulator open chrome.\r\nReference to this ```https://stackoverflow.com/questions/69134922/google-chrome-browser-in-android-12-emulator-doesnt-load-any-webpages-internet``` to solve this problem.","title":"Android 12 facebook login stuck in black screen","body":"<p>It seems android 12 problem when using emulator open chrome.\nReference to this <code>https://stackoverflow.com/questions/69134922/google-chrome-browser-in-android-12-emulator-doesnt-load-any-webpages-internet</code> to solve this problem.</p>\n"}],"owner":{"account_id":26073949,"reputation":44,"user_id":19773139,"display_name":"Jeff Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675321075,"creation_date":1675234082,"question_id":75306543,"body_markdown":"I&#39;m trying use facebook login in API level 31, but every times I press my login button try to go to facebook login page, it just stuck in black screen like this [stuck in black screen][1] ,and there is not show any exception or error, I also try use lower API and work fine. How can I solve this problem?\r\n\r\nedit:My other button that open external browser also fail to open in API level 31.\r\n\r\n  [1]: https://i.stack.imgur.com/iZdKT.png","title":"Android 12 facebook login stuck in black screen","body":"<p>I'm trying use facebook login in API level 31, but every times I press my login button try to go to facebook login page, it just stuck in black screen like this <a href=\"https://i.stack.imgur.com/iZdKT.png\" rel=\"nofollow noreferrer\">stuck in black screen</a> ,and there is not show any exception or error, I also try use lower API and work fine. How can I solve this problem?</p>\n<p>edit:My other button that open external browser also fail to open in API level 31.</p>\n"},{"tags":["java","string","api","url","okhttp"],"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1675244833,"post_id":75308237,"comment_id":132885002,"body_markdown":"Try printing the built url string to see what goes wrong","body":"Try printing the built url string to see what goes wrong"},{"owner":{"account_id":23750409,"reputation":11,"user_id":17767245,"display_name":"Mazen H."},"score":0,"creation_date":1675247216,"post_id":75308237,"comment_id":132885803,"body_markdown":"I printed request.url() on both examples gives me same output (EXACTLY).\nBut the API responds different.","body":"I printed request.url() on both examples gives me same output (EXACTLY). But the API responds different."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684684750,"post_id":75308237,"comment_id":134549599,"body_markdown":"@MazenH., as a note, the `modelId` of Example A is different from the `modelId` of Example B.  You&#39;re using one which starts with &quot;8b1b897c&quot; in Example A, and one that starts with &quot;1285ded4&quot; in Example B.","body":"@MazenH., as a note, the <code>modelId</code> of Example A is different from the <code>modelId</code> of Example B.  You&#39;re using one which starts with &quot;8b1b897c&quot; in Example A, and one that starts with &quot;1285ded4&quot; in Example B."}],"answers":[{"tags":[],"owner":{"account_id":26781871,"reputation":1,"user_id":20376604,"display_name":"Vishal Rana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675245176,"creation_date":1675245073,"answer_id":75308317,"question_id":75308237,"body_markdown":"\r\n    String url = &quot;https://api.leapml.dev/api/v1/images/models/&quot;+modelId+&quot;/inferences/&quot;+inferenceId;\r\n    \r\n    System.out.println(url); // This should be equal to &quot;https://api.leapml.dev/api/v1/images/models/1285ded4-b11b-4993-a491-d87cdfe6310c/inferences/3f9f5c8d-320f-4afc-85c4-454522118c16&quot;\r\n    \r\n    // Use the variable as argument\r\n    .url(url);\r\n    \r\nIf this still not work. Please provide the logs.","title":"okhttp string problem if using string in .url","body":"<pre><code>String url = &quot;https://api.leapml.dev/api/v1/images/models/&quot;+modelId+&quot;/inferences/&quot;+inferenceId;\n\nSystem.out.println(url); // This should be equal to &quot;https://api.leapml.dev/api/v1/images/models/1285ded4-b11b-4993-a491-d87cdfe6310c/inferences/3f9f5c8d-320f-4afc-85c4-454522118c16&quot;\n\n// Use the variable as argument\n.url(url);\n</code></pre>\n<p>If this still not work. Please provide the logs.</p>\n"},{"tags":[],"owner":{"account_id":18177196,"reputation":116,"user_id":13225691,"display_name":"Dman Cannon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675246279,"creation_date":1675246279,"answer_id":75308568,"question_id":75308237,"body_markdown":"It seems your are trying to add binary data to the string. Check whether your are getting the actual string which you need. ","title":"okhttp string problem if using string in .url","body":"<p>It seems your are trying to add binary data to the string. Check whether your are getting the actual string which you need.</p>\n"},{"tags":[],"owner":{"account_id":23750409,"reputation":11,"user_id":17767245,"display_name":"Mazen H."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675320968,"creation_date":1675320968,"answer_id":75319626,"question_id":75308237,"body_markdown":"I found the issue and the solution,\r\nThe API I&#39;m using (Leapml) takes about 10 seconds to generate me the image link. So if I let the thread sleep for 11 seconds everything works just great\r\n\r\nThanks for everyone tried to help.","title":"okhttp string problem if using string in .url","body":"<p>I found the issue and the solution,\nThe API I'm using (Leapml) takes about 10 seconds to generate me the image link. So if I let the thread sleep for 11 seconds everything works just great</p>\n<p>Thanks for everyone tried to help.</p>\n"}],"owner":{"account_id":23750409,"reputation":11,"user_id":17767245,"display_name":"Mazen H."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75319626,"answer_count":3,"score":1,"last_activity_date":1675320968,"creation_date":1675244702,"question_id":75308237,"body_markdown":"I&#39;m using API from a website and it needs two strings \r\nString one: modelId \r\nString two: inferenceId\r\nboth of them are equal to value\r\n\r\n```\r\n\r\nOkHttpClient client = new OkHttpClient();\r\n\r\n                Request request = new Request.Builder()\r\n                        .url(&quot;https://api.leapml.dev/api/v1/images/models/&quot;+modelId+&quot;/inferences/&quot;+inferenceId)\r\n                        .get()\r\n                        .addHeader(&quot;accept&quot;, &quot;application/json&quot;)\r\n                        .addHeader(&quot;authorization&quot;, &quot;Bearer *secret word here*&quot;)\r\n                        .build();\r\n                \r\n                Response response = client.newCall(request).execute();\r\n\r\n\r\n```\r\n\r\nMy issue is in Example: A \r\n```\r\n.uri(&quot;https://api.leapml.dev/api/v1/images/models/&quot;+modelId+&quot;/inferences/&quot;+inferenceId)\r\n\r\n```\r\nif I added both modelId string and inferenceId string the the above code, the API doesn&#39;t work correctly \r\n\r\nbut if I add the text directly there like in below, everything works great\r\nExample: B\r\n```\r\n.url(&quot;https://api.leapml.dev/api/v1/images/models/1285ded4-b11b-4993-a491-d87cdfe6310c/inferences/3f9f5c8d-320f-4afc-85c4-454522118c16&quot;)\r\n```\r\n\r\n\r\nBoth of the above gives me the EXACT same result if I got the value of request.url(); but the API gets faulty with the example A\r\nBut works fine with example B \r\n\r\nLog of Example A (faulty one)\r\n\r\n&gt; I/System.out: Second Step:\r\n&gt; {&quot;id&quot;:&quot;f9828985-af41-46be-b8bc-ef81504b4a87&quot;,&quot;state&quot;:&quot;queued&quot;,&quot;prompt&quot;:&quot;cow&quot;,&quot;seed&quot;:4523184,&quot;width&quot;:1024,&quot;height&quot;:1024,&quot;numberOfImages&quot;:1,&quot;steps&quot;:50,&quot;weightsId&quot;:&quot;8b1b897c-d66d-45a6-b8d7-8e32421d02cf&quot;,&quot;workspaceId&quot;:&quot;d76af992-7c3e-4b1a-bc72-46b27de7c377&quot;,&quot;createdAt&quot;:&quot;2023-02-01T09:56:42.255006+00:00&quot;,&quot;images&quot;:[],&quot;modelId&quot;:&quot;8b1b897c-d66d-45a6-b8d7-8e32421d02cf&quot;}\r\n\r\nLog with Example B (Working perfect)\r\n\r\n&gt; I/System.out: Second Step:\r\n&gt; {&quot;id&quot;:&quot;3f9f5c8d-320f-4afc-85c4-454522118c16&quot;,&quot;state&quot;:&quot;finished&quot;,&quot;prompt&quot;:&quot;cow&quot;,&quot;seed&quot;:4523184,&quot;width&quot;:512,&quot;height&quot;:512,&quot;numberOfImages&quot;:1,&quot;steps&quot;:50,&quot;weightsId&quot;:&quot;1285ded4-b11b-4993-a491-d87cdfe6310c&quot;,&quot;workspaceId&quot;:&quot;d76af992-7c3e-4b1a-bc72-46b27de7c377&quot;,&quot;createdAt&quot;:&quot;2023-02-01T08:54:31.244159+00:00&quot;,&quot;images&quot;:[{&quot;id&quot;:&quot;f6518aea-f2a3-47ac-b9ff-81ca8c996206&quot;,&quot;uri&quot;:&quot;https://dreamtrain.s3.us-west-2.amazonaws.com/image-gen-3f9f5c8d-320f-4afc-85c4-454522118c16/generated_images/0.png&quot;,&quot;createdAt&quot;:&quot;2023-02-01\r\n&gt; 08:54:42.784652+00&quot;}],&quot;modelId&quot;:&quot;1285ded4-b11b-4993-a491-d87cdfe6310c&quot;}\r\n\r\nAs you can see Example B has &quot;uri&quot; image link and that&#39;s what i need. \r\n\r\nI tried many things but it seemed like nothing help.","title":"okhttp string problem if using string in .url","body":"<p>I'm using API from a website and it needs two strings\nString one: modelId\nString two: inferenceId\nboth of them are equal to value</p>\n<pre><code>\nOkHttpClient client = new OkHttpClient();\n\n                Request request = new Request.Builder()\n                        .url(&quot;https://api.leapml.dev/api/v1/images/models/&quot;+modelId+&quot;/inferences/&quot;+inferenceId)\n                        .get()\n                        .addHeader(&quot;accept&quot;, &quot;application/json&quot;)\n                        .addHeader(&quot;authorization&quot;, &quot;Bearer *secret word here*&quot;)\n                        .build();\n                \n                Response response = client.newCall(request).execute();\n\n\n</code></pre>\n<p>My issue is in Example: A</p>\n<pre><code>.uri(&quot;https://api.leapml.dev/api/v1/images/models/&quot;+modelId+&quot;/inferences/&quot;+inferenceId)\n\n</code></pre>\n<p>if I added both modelId string and inferenceId string the the above code, the API doesn't work correctly</p>\n<p>but if I add the text directly there like in below, everything works great\nExample: B</p>\n<pre><code>.url(&quot;https://api.leapml.dev/api/v1/images/models/1285ded4-b11b-4993-a491-d87cdfe6310c/inferences/3f9f5c8d-320f-4afc-85c4-454522118c16&quot;)\n</code></pre>\n<p>Both of the above gives me the EXACT same result if I got the value of request.url(); but the API gets faulty with the example A\nBut works fine with example B</p>\n<p>Log of Example A (faulty one)</p>\n<blockquote>\n<p>I/System.out: Second Step:\n{&quot;id&quot;:&quot;f9828985-af41-46be-b8bc-ef81504b4a87&quot;,&quot;state&quot;:&quot;queued&quot;,&quot;prompt&quot;:&quot;cow&quot;,&quot;seed&quot;:4523184,&quot;width&quot;:1024,&quot;height&quot;:1024,&quot;numberOfImages&quot;:1,&quot;steps&quot;:50,&quot;weightsId&quot;:&quot;8b1b897c-d66d-45a6-b8d7-8e32421d02cf&quot;,&quot;workspaceId&quot;:&quot;d76af992-7c3e-4b1a-bc72-46b27de7c377&quot;,&quot;createdAt&quot;:&quot;2023-02-01T09:56:42.255006+00:00&quot;,&quot;images&quot;:[],&quot;modelId&quot;:&quot;8b1b897c-d66d-45a6-b8d7-8e32421d02cf&quot;}</p>\n</blockquote>\n<p>Log with Example B (Working perfect)</p>\n<blockquote>\n<p>I/System.out: Second Step:\n{&quot;id&quot;:&quot;3f9f5c8d-320f-4afc-85c4-454522118c16&quot;,&quot;state&quot;:&quot;finished&quot;,&quot;prompt&quot;:&quot;cow&quot;,&quot;seed&quot;:4523184,&quot;width&quot;:512,&quot;height&quot;:512,&quot;numberOfImages&quot;:1,&quot;steps&quot;:50,&quot;weightsId&quot;:&quot;1285ded4-b11b-4993-a491-d87cdfe6310c&quot;,&quot;workspaceId&quot;:&quot;d76af992-7c3e-4b1a-bc72-46b27de7c377&quot;,&quot;createdAt&quot;:&quot;2023-02-01T08:54:31.244159+00:00&quot;,&quot;images&quot;:[{&quot;id&quot;:&quot;f6518aea-f2a3-47ac-b9ff-81ca8c996206&quot;,&quot;uri&quot;:&quot;https://dreamtrain.s3.us-west-2.amazonaws.com/image-gen-3f9f5c8d-320f-4afc-85c4-454522118c16/generated_images/0.png&quot;,&quot;createdAt&quot;:&quot;2023-02-01\n08:54:42.784652+00&quot;}],&quot;modelId&quot;:&quot;1285ded4-b11b-4993-a491-d87cdfe6310c&quot;}</p>\n</blockquote>\n<p>As you can see Example B has &quot;uri&quot; image link and that's what i need.</p>\n<p>I tried many things but it seemed like nothing help.</p>\n"},{"tags":["java","bigdecimal","mapstruct"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1675320696,"post_id":75319521,"comment_id":132904418,"body_markdown":"I don&#39;t think there&#39;s a built-in configuration as such, but you can create a mapper that does it and reuse it, cfg CMyker&#39;s answer to [this question](https://stackoverflow.com/questions/38807415/mapstruct-how-can-i-inject-a-spring-dependency-in-the-generated-mapper-class)","body":"I don&#39;t think there&#39;s a built-in configuration as such, but you can create a mapper that does it and reuse it, cfg CMyker&#39;s answer to <a href=\"https://stackoverflow.com/questions/38807415/mapstruct-how-can-i-inject-a-spring-dependency-in-the-generated-mapper-class\">this question</a>"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675325878,"post_id":75319521,"comment_id":132905520,"body_markdown":"There&#39;s a nullvaluemappingstrategy, but I don&#39;t think that&#39;s what you want. You could solve this, by using an @Named(&quot;bar&quot;) / @AfterMapping annotation on a custom method, paired with an @Mapping(target = &quot;foo&quot;, qualifiedByName = &quot;bar&quot;) or @Mapping(target = &quot;foo&quot;, ignore = true) on the mapper declaration itself.","body":"There&#39;s a nullvaluemappingstrategy, but I don&#39;t think that&#39;s what you want. You could solve this, by using an @Named(&quot;bar&quot;) / @AfterMapping annotation on a custom method, paired with an @Mapping(target = &quot;foo&quot;, qualifiedByName = &quot;bar&quot;) or @Mapping(target = &quot;foo&quot;, ignore = true) on the mapper declaration itself."},{"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"score":0,"creation_date":1675331135,"post_id":75319521,"comment_id":132907074,"body_markdown":"Thank you! Yes, I know that there&#39;s an option to write a custum mapper. My question is, if there is a build-in-config which already solves my requirement","body":"Thank you! Yes, I know that there&#39;s an option to write a custum mapper. My question is, if there is a build-in-config which already solves my requirement"}],"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675320210,"creation_date":1675320210,"question_id":75319521,"body_markdown":"In my mapping, I often have the requirement that 0 values (e.g. BigDecimal.ZERO) should be treated as NULL values.\r\nIf it were JavaScript number values, then the requirement would be that all falsy values should be mapped to NULL.\r\n\r\nExample: \r\n\r\nBigDecimal =&gt; String\r\n\r\nIf NULL then map to NULL\r\n\r\nIf BigDecimal.signum() == 0 then map to  NULL\r\n\r\nAll other values: .toString()\r\n\r\n\r\nIs there a build-in configuration to achieve this, or do I need to implement a custom mapper?","title":"Java Mapstruct treat zero value as null","body":"<p>In my mapping, I often have the requirement that 0 values (e.g. BigDecimal.ZERO) should be treated as NULL values.\nIf it were JavaScript number values, then the requirement would be that all falsy values should be mapped to NULL.</p>\n<p>Example:</p>\n<p>BigDecimal =&gt; String</p>\n<p>If NULL then map to NULL</p>\n<p>If BigDecimal.signum() == 0 then map to  NULL</p>\n<p>All other values: .toString()</p>\n<p>Is there a build-in configuration to achieve this, or do I need to implement a custom mapper?</p>\n"},{"tags":["java","exception","logging","apache-kafka","datadog"],"owner":{"account_id":27033494,"reputation":1,"user_id":20589480,"display_name":"Sandamini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675319997,"creation_date":1675319997,"question_id":75319491,"body_markdown":"I have a kafka connector application. There I am trying to send an exception as a log into Datadog. But I could not able to send that exception to Datadog.\r\n\r\nthis is my exception which I want to send to Datadog,\r\n\r\n```\r\nio.confluent.ksql.parser.exception.ParseFailedException: line 1:54: no viable alternative at input &#39;CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=‘&#39;Statement: CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=‘ordering.cdd.c2b-response.june.0’, PARTITIONS=2, REPLICAS=3, C2B_OTHER_CDD_SPLIT=‘ordering.cdd.order.0’, USE_INPUT_SCHEMA=‘true’, VALUE_FORMAT=‘AVRO’ ) AS SELECT C2B_OTHER_CDD_SPLIT.* FROM C2B_OTHER_CDD_SPLIT WHERE C2B_OTHER_CDD_SPLIT.header-&gt;seller_id=‘USBL’ AND (C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘RPA’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘EDI’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘RCL’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘B2B’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘DOD’) EMIT CHANGES;}&quot; \r\n```\r\n\r\n\r\n\r\nI found that the following part is not there in Datadog at any time, I want to know that is this a problem with the characters in this part?\r\n\r\n```\r\nio.confluent.ksql.parser.exception.ParseFailedException: line 1:54: no viable alternative at input &#39;CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=‘&#39;\r\n```\r\n\r\nAlso, I tried to send substrings with various lengths, however this message is not showing in the Datadog, but following part is there in the Datadog.\r\n\r\n```\r\nStatement: CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=‘ordering.cdd.c2b-response.june.0’, PARTITIONS=2, REPLICAS=3, C2B_OTHER_CDD_SPLIT=‘ordering.cdd.order.0’, USE_INPUT_SCHEMA=‘true’, VALUE_FORMAT=‘AVRO’ ) AS SELECT C2B_OTHER_CDD_SPLIT.* FROM C2B_OTHER_CDD_SPLIT WHERE C2B_OTHER_CDD_SPLIT.header-&gt;seller_id=‘USBL’ AND (C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘RPA’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘EDI’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘RCL’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘B2B’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘DOD’) EMIT CHANGES;}&quot;\r\n```\r\n\r\nmy all other logs could able to send to Datadog without any issue.\r\n\r\nCan anyone help me with this?","title":"Kafka connector exception logs not showing in Datadog","body":"<p>I have a kafka connector application. There I am trying to send an exception as a log into Datadog. But I could not able to send that exception to Datadog.</p>\n<p>this is my exception which I want to send to Datadog,</p>\n<pre><code>io.confluent.ksql.parser.exception.ParseFailedException: line 1:54: no viable alternative at input 'CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=‘'Statement: CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=‘ordering.cdd.c2b-response.june.0’, PARTITIONS=2, REPLICAS=3, C2B_OTHER_CDD_SPLIT=‘ordering.cdd.order.0’, USE_INPUT_SCHEMA=‘true’, VALUE_FORMAT=‘AVRO’ ) AS SELECT C2B_OTHER_CDD_SPLIT.* FROM C2B_OTHER_CDD_SPLIT WHERE C2B_OTHER_CDD_SPLIT.header-&gt;seller_id=‘USBL’ AND (C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘RPA’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘EDI’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘RCL’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘B2B’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘DOD’) EMIT CHANGES;}&quot; \n</code></pre>\n<p>I found that the following part is not there in Datadog at any time, I want to know that is this a problem with the characters in this part?</p>\n<pre><code>io.confluent.ksql.parser.exception.ParseFailedException: line 1:54: no viable alternative at input 'CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=‘'\n</code></pre>\n<p>Also, I tried to send substrings with various lengths, however this message is not showing in the Datadog, but following part is there in the Datadog.</p>\n<pre><code>Statement: CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=‘ordering.cdd.c2b-response.june.0’, PARTITIONS=2, REPLICAS=3, C2B_OTHER_CDD_SPLIT=‘ordering.cdd.order.0’, USE_INPUT_SCHEMA=‘true’, VALUE_FORMAT=‘AVRO’ ) AS SELECT C2B_OTHER_CDD_SPLIT.* FROM C2B_OTHER_CDD_SPLIT WHERE C2B_OTHER_CDD_SPLIT.header-&gt;seller_id=‘USBL’ AND (C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘RPA’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘EDI’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘RCL’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘B2B’ OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=‘DOD’) EMIT CHANGES;}&quot;\n</code></pre>\n<p>my all other logs could able to send to Datadog without any issue.</p>\n<p>Can anyone help me with this?</p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"comments":[{"owner":{"account_id":3702936,"reputation":120,"user_id":3082137,"display_name":"Dev"},"score":0,"creation_date":1675318545,"post_id":75319224,"comment_id":132904004,"body_markdown":"Try to annot your test class with @SpringBootTest","body":"Try to annot your test class with @SpringBootTest"}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675319867,"creation_date":1675319867,"answer_id":75319477,"question_id":75319224,"body_markdown":"You can use [@ActiveProfiles][1] annotation on test classes to load the properties from specific yaml file, for example if you have `application-test.properties` file under `src/test/resources` and add `@ActiveProfiles(&quot;test&quot;)` to test class it will load the propery values from `application-test.properties`\r\n\r\n    @AutoConfigureMockMvc\r\n    @WebMvcTest(SendMessageController.class)\r\n    @ExtendWith(MockitoExtension.class)\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class SecurityConfigurationTest\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html","title":"How to use test properties in a Java spring boot unit test","body":"<p>You can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html\" rel=\"nofollow noreferrer\">@ActiveProfiles</a> annotation on test classes to load the properties from specific yaml file, for example if you have <code>application-test.properties</code> file under <code>src/test/resources</code> and add <code>@ActiveProfiles(&quot;test&quot;)</code> to test class it will load the propery values from <code>application-test.properties</code></p>\n<pre><code>@AutoConfigureMockMvc\n@WebMvcTest(SendMessageController.class)\n@ExtendWith(MockitoExtension.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@ActiveProfiles(&quot;test&quot;)\npublic class SecurityConfigurationTest\n</code></pre>\n"}],"owner":{"account_id":11286781,"reputation":683,"user_id":8277437,"display_name":"Vismark Juarez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675319867,"creation_date":1675317642,"question_id":75319224,"body_markdown":"I have the following class that contains two member variables (`cognitoClientId` and `cognitoClientSecret`) -- both of these values are populated by their respective property values in `src/main/resources/application.properties`:\r\n\r\n```java\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n    @Value(&quot;${spring.security.oauth2.client.registration.cognito.clientId}&quot;)\r\n    private String cognitoClientId;\r\n\r\n    @Value(&quot;${spring.security.oauth2.client.registration.cognito.clientSecret}&quot;)\r\n    private String cognitoClientSecret;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        if(cognitoConfigurationsExist()){\r\n            http\r\n                .csrf()\r\n                .and()\r\n                .authorizeRequests(authz -&gt; authz.anyRequest().authenticated())\r\n                .oauth2Login()\r\n                .and()\r\n                .logout()\r\n                .logoutSuccessUrl(&quot;/&quot;);\r\n        } else {\r\n            http.antMatcher(&quot;/**&quot;);\r\n        }\r\n\r\n        return http.build();\r\n    }\r\n    \r\n    private boolean cognitoConfigurationsExist(){\r\n        boolean cognitoConfigurationsExist = !cognitoClientId.isBlank() &amp;&amp; !cognitoClientSecret.isBlank();\r\n        return cognitoConfigurationsExist;\r\n    }\r\n}\r\n```\r\n\r\nI have a `application-test.properties` file under the `src/test/resources` directory that holds property values to be used by the unit tests.\r\n```\r\nspring.security.oauth2.client.registration.cognito.clientId=&quot;testClientId&quot;\r\nspring.security.oauth2.client.registration.cognito.clientSecret=&quot;testClientSecret&quot;\r\n```\r\n\r\nI also have the following unit test that tests the if/else logic in the aforementioned class:\r\n\r\n```java\r\n@AutoConfigureMockMvc\r\n@WebMvcTest(SendMessageController.class)\r\n@ExtendWith(MockitoExtension.class)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n@TestPropertySource(&quot;classpath:application-test.properties&quot;)\r\npublic class SecurityConfigurationTest {\r\n\r\n    @Test\r\n    void securityConfigurationTest() throws Exception {\r\n        SecurityConfiguration securityConfiguration = new SecurityConfiguration();\r\n        HttpSecurity httpSecurityMock = mock(HttpSecurity.class);\r\n\r\n        SecurityFilterChain securityFilterChain\r\n                = securityConfiguration.filterChain(httpSecurityMock);\r\n\r\n        Assert.assertNotNull(securityFilterChain);\r\n    }\r\n}\r\n```\r\n\r\nWhen running my unit test, I get a `NullPointerException` when the `cognitoClientId` and `cognitoClientSecret` try to derive their respective values from the intended property file.\r\n\r\nHow do I correctly tell my unit test to use the file `src/test/resources/application-test.properties` to derive the property values for these two variables?","title":"How to use test properties in a Java spring boot unit test","body":"<p>I have the following class that contains two member variables (<code>cognitoClientId</code> and <code>cognitoClientSecret</code>) -- both of these values are populated by their respective property values in <code>src/main/resources/application.properties</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfiguration {\n    @Value(&quot;${spring.security.oauth2.client.registration.cognito.clientId}&quot;)\n    private String cognitoClientId;\n\n    @Value(&quot;${spring.security.oauth2.client.registration.cognito.clientSecret}&quot;)\n    private String cognitoClientSecret;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        if(cognitoConfigurationsExist()){\n            http\n                .csrf()\n                .and()\n                .authorizeRequests(authz -&gt; authz.anyRequest().authenticated())\n                .oauth2Login()\n                .and()\n                .logout()\n                .logoutSuccessUrl(&quot;/&quot;);\n        } else {\n            http.antMatcher(&quot;/**&quot;);\n        }\n\n        return http.build();\n    }\n    \n    private boolean cognitoConfigurationsExist(){\n        boolean cognitoConfigurationsExist = !cognitoClientId.isBlank() &amp;&amp; !cognitoClientSecret.isBlank();\n        return cognitoConfigurationsExist;\n    }\n}\n</code></pre>\n<p>I have a <code>application-test.properties</code> file under the <code>src/test/resources</code> directory that holds property values to be used by the unit tests.</p>\n<pre><code>spring.security.oauth2.client.registration.cognito.clientId=&quot;testClientId&quot;\nspring.security.oauth2.client.registration.cognito.clientSecret=&quot;testClientSecret&quot;\n</code></pre>\n<p>I also have the following unit test that tests the if/else logic in the aforementioned class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AutoConfigureMockMvc\n@WebMvcTest(SendMessageController.class)\n@ExtendWith(MockitoExtension.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@TestPropertySource(&quot;classpath:application-test.properties&quot;)\npublic class SecurityConfigurationTest {\n\n    @Test\n    void securityConfigurationTest() throws Exception {\n        SecurityConfiguration securityConfiguration = new SecurityConfiguration();\n        HttpSecurity httpSecurityMock = mock(HttpSecurity.class);\n\n        SecurityFilterChain securityFilterChain\n                = securityConfiguration.filterChain(httpSecurityMock);\n\n        Assert.assertNotNull(securityFilterChain);\n    }\n}\n</code></pre>\n<p>When running my unit test, I get a <code>NullPointerException</code> when the <code>cognitoClientId</code> and <code>cognitoClientSecret</code> try to derive their respective values from the intended property file.</p>\n<p>How do I correctly tell my unit test to use the file <code>src/test/resources/application-test.properties</code> to derive the property values for these two variables?</p>\n"},{"tags":["java","jenkins","groovy","scripting","java-scripting-engine"],"answers":[{"tags":[],"owner":{"account_id":9988049,"reputation":30363,"user_id":7388477,"display_name":"Valdi_Bo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1488303090,"creation_date":1488303090,"answer_id":42515229,"question_id":42465028,"body_markdown":"Variables injected by the Scripting Engine are held within\r\n`binding.variables`, so you can e.g. check for variable named `xx`:\r\n\r\n    if (binding.variables[&quot;xx&quot;]) ...","title":"How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?","body":"<p>Variables injected by the Scripting Engine are held within\n<code>binding.variables</code>, so you can e.g. check for variable named <code>xx</code>:</p>\n\n<pre><code>if (binding.variables[\"xx\"]) ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6715704,"reputation":591,"user_id":5177605,"display_name":"Aliaksandr Pyrkh"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1662916434,"creation_date":1505367999,"answer_id":46211430,"question_id":42465028,"body_markdown":"In a [groovy.lang.Script][1] there is a method `public Binding getBinding()`. And [groovy.lang.Binding][2] has method `public boolean hasVariable(String name)`.\r\n\r\nThus you can simply check variable existence like:\r\n\r\n    if (binding.hasVariable(&#39;superVariable&#39;)) {\r\n    // your code here\r\n    }\r\n\r\n\r\n\r\n  [1]: http://docs.groovy-lang.org/latest/html/api/groovy/lang/Script.html\r\n  [2]: http://docs.groovy-lang.org/latest/html/api/groovy/lang/Binding.html","title":"How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?","body":"<p>In a <a href=\"http://docs.groovy-lang.org/latest/html/api/groovy/lang/Script.html\" rel=\"noreferrer\">groovy.lang.Script</a> there is a method <code>public Binding getBinding()</code>. And <a href=\"http://docs.groovy-lang.org/latest/html/api/groovy/lang/Binding.html\" rel=\"noreferrer\">groovy.lang.Binding</a> has method <code>public boolean hasVariable(String name)</code>.</p>\n<p>Thus you can simply check variable existence like:</p>\n<pre><code>if (binding.hasVariable('superVariable')) {\n// your code here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4877652,"reputation":1363,"user_id":3932263,"accept_rate":50,"display_name":"Maximilian Mordig"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1558801385,"creation_date":1558801385,"answer_id":56306660,"question_id":42465028,"body_markdown":"    // Example usage: defaultIfInexistent({myVar}, &quot;default&quot;)\r\n\tdef defaultIfInexistent(varNameExpr, defaultValue) {\r\n\t    try {\r\n\t        varNameExpr()\r\n\t    } catch (exc) {\r\n\t        defaultValue\r\n\t    }\r\n\t}","title":"How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?","body":"<pre><code>// Example usage: defaultIfInexistent({myVar}, \"default\")\ndef defaultIfInexistent(varNameExpr, defaultValue) {\n    try {\n        varNameExpr()\n    } catch (exc) {\n        defaultValue\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3805720,"reputation":422,"user_id":3158217,"display_name":"Sumeet Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675319778,"creation_date":1675265380,"answer_id":75312517,"question_id":42465028,"body_markdown":"Improvement for the existing solution given here https://stackoverflow.com/a/56306660/3158217 -\r\n\r\n    def defaultIfInexistent(varName, defaultValue){\r\n        try{\r\n            varName.toString()\r\n            return varName\r\n        }catch(ex){\r\n            return defaultValue\r\n        }\r\n    }","title":"How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?","body":"<p>Improvement for the existing solution given here <a href=\"https://stackoverflow.com/a/56306660/3158217\">https://stackoverflow.com/a/56306660/3158217</a> -</p>\n<pre><code>def defaultIfInexistent(varName, defaultValue){\n    try{\n        varName.toString()\n        return varName\n    }catch(ex){\n        return defaultValue\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":881880,"reputation":8346,"user_id":270143,"accept_rate":88,"display_name":"ycomp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60243,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":75312517,"answer_count":4,"score":27,"last_activity_date":1675319778,"creation_date":1488086390,"question_id":42465028,"body_markdown":"How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?\r\n\r\nThe variable was put by [ScriptEngine&#39;s put method](https://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngine.html#put(java.lang.String,%20java.lang.Object))\r\n","title":"How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?","body":"<p>How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?</p>\n\n<p>The variable was put by <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngine.html#put(java.lang.String,%20java.lang.Object)\" rel=\"noreferrer\">ScriptEngine's put method</a></p>\n"},{"tags":["java","android","kotlin","android-camera","android-camerax"],"answers":[{"tags":[],"owner":{"account_id":18301803,"reputation":159,"user_id":13326424,"display_name":"Prasanth John"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675319238,"creation_date":1675319238,"answer_id":75319386,"question_id":75318913,"body_markdown":"    new CountDownTimer(3000, 1000) {\r\n            public void onTick(long millisUntilFinished) {\r\n            \r\n                  showProgressBar to the user or show message\r\n            }\r\n            public void onFinish() {\r\n                 recordVideo();\r\n            }\r\n        }.start();","title":"How can I add timer in CameraX preview after pressing the Start video recording button?","body":"<pre><code>new CountDownTimer(3000, 1000) {\n        public void onTick(long millisUntilFinished) {\n        \n              showProgressBar to the user or show message\n        }\n        public void onFinish() {\n             recordVideo();\n        }\n    }.start();\n</code></pre>\n"}],"owner":{"account_id":25463398,"reputation":51,"user_id":19350699,"display_name":"Anshul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675319238,"creation_date":1675314703,"question_id":75318913,"body_markdown":"\r\nMy requirement is that I have to built a video recording app using Android JAVA in which user will save his 30 seconds of video which will be sent to the another server. User will use the video recording only for once.\r\n\r\n&gt;I just want user to see the timer starting from 0 to 30 seconds so just after when he presses the Start Recording button.\r\n\r\nHow can I do so? Please help me. Sharing my code below.\r\n\r\n\r\n    public class VideoKycActivity extends AppCompatActivity implements ImageAnalysis.Analyzer, View.OnClickListener {\r\n            private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\r\n    \r\n        PreviewView previewView;\r\n        private VideoCapture videoCapture;\r\n        private Button bRecord;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            previewView = findViewById(R.id.previewView);\r\n            bRecord = findViewById(R.id.bRecord);\r\n            bRecord.setText(&quot;start recording&quot;); // Set the initial text of the button\r\n            \r\n            bRecord.setOnClickListener(this);\r\n    \r\n            cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n            cameraProviderFuture.addListener(() -&gt; {\r\n                try {\r\n                    ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\r\n                    startCameraX(cameraProvider);\r\n                } catch (ExecutionException | InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }, getExecutor());\r\n    \r\n        }\r\n    \r\n        Executor getExecutor() {\r\n            return ContextCompat.getMainExecutor(this);\r\n        }\r\n    \r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n        private void startCameraX(ProcessCameraProvider cameraProvider) {\r\n            cameraProvider.unbindAll();\r\n            CameraSelector cameraSelector = new CameraSelector.Builder()\r\n                    .requireLensFacing(CameraSelector.LENS_FACING_BACK)\r\n                    .build();\r\n            Preview preview = new Preview.Builder()\r\n                    .build();\r\n            preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n    \r\n    \r\n            // Video capture use case\r\n            videoCapture = new VideoCapture.Builder()\r\n                    .setVideoFrameRate(30)\r\n                    .build();\r\n    \r\n            // Image analysis use case\r\n            ImageAnalysis imageAnalysis = new ImageAnalysis.Builder()\r\n                    .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\r\n                    .build();\r\n    \r\n            imageAnalysis.setAnalyzer(getExecutor(), this);\r\n    \r\n            //bind to lifecycle:\r\n            cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, preview, videoCapture);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void analyze(@NonNull ImageProxy image) {\r\n            // image processing here for the current frame\r\n            Log.d(&quot;TAG&quot;, &quot;analyze: got the frame at: &quot; + image.getImageInfo().getTimestamp());\r\n            image.close();\r\n        }\r\n    \r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n        @Override\r\n        public void onClick(View view) {\r\n            switch (view.getId()) {\r\n                case R.id.bRecord:\r\n                    if (bRecord.getText() == &quot;start recording&quot;){\r\n                        bRecord.setText(&quot;stop recording&quot;);\r\n                        recordVideo();\r\n                    } else {\r\n                        bRecord.setText(&quot;start recording&quot;);\r\n                        videoCapture.stopRecording();\r\n                    }\r\n                    break;\r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n        private void recordVideo() {\r\n            if (videoCapture != null) {\r\n    \r\n                long timestamp = System.currentTimeMillis();\r\n    \r\n                ContentValues contentValues = new ContentValues();\r\n                contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, timestamp);\r\n                contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\r\n    \r\n                try {\r\n                    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n                        // TODO: Consider calling\r\n                        //    ActivityCompat#requestPermissions\r\n                        // here to request the missing permissions, and then overriding\r\n                        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                        //                                          int[] grantResults)\r\n                        // to handle the case where the user grants the permission. See the documentation\r\n                        // for ActivityCompat#requestPermissions for more details.\r\n                        return;\r\n                    }\r\n                    videoCapture.startRecording(\r\n                            new VideoCapture.OutputFileOptions.Builder(\r\n                                    getContentResolver(),\r\n                                    MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\r\n                                    contentValues\r\n                            ).build(),\r\n                            getExecutor(),\r\n                            new VideoCapture.OnVideoSavedCallback() {\r\n                                @Override\r\n                                public void onVideoSaved(@NonNull VideoCapture.OutputFileResults outputFileResults) {\r\n                                    Toast.makeText(VideoKycActivity.this, &quot;Video has been saved successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n    \r\n                                @Override\r\n                                public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\r\n                                    Toast.makeText(VideoKycActivity.this, &quot;Error saving video: &quot; + message, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                    );\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n            }\r\n        }\r\n    }","title":"How can I add timer in CameraX preview after pressing the Start video recording button?","body":"<p>My requirement is that I have to built a video recording app using Android JAVA in which user will save his 30 seconds of video which will be sent to the another server. User will use the video recording only for once.</p>\n<blockquote>\n<p>I just want user to see the timer starting from 0 to 30 seconds so just after when he presses the Start Recording button.</p>\n</blockquote>\n<p>How can I do so? Please help me. Sharing my code below.</p>\n<pre><code>public class VideoKycActivity extends AppCompatActivity implements ImageAnalysis.Analyzer, View.OnClickListener {\n        private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\n\n    PreviewView previewView;\n    private VideoCapture videoCapture;\n    private Button bRecord;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        previewView = findViewById(R.id.previewView);\n        bRecord = findViewById(R.id.bRecord);\n        bRecord.setText(&quot;start recording&quot;); // Set the initial text of the button\n        \n        bRecord.setOnClickListener(this);\n\n        cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n        cameraProviderFuture.addListener(() -&gt; {\n            try {\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\n                startCameraX(cameraProvider);\n            } catch (ExecutionException | InterruptedException e) {\n                e.printStackTrace();\n            }\n        }, getExecutor());\n\n    }\n\n    Executor getExecutor() {\n        return ContextCompat.getMainExecutor(this);\n    }\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    private void startCameraX(ProcessCameraProvider cameraProvider) {\n        cameraProvider.unbindAll();\n        CameraSelector cameraSelector = new CameraSelector.Builder()\n                .requireLensFacing(CameraSelector.LENS_FACING_BACK)\n                .build();\n        Preview preview = new Preview.Builder()\n                .build();\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\n\n\n        // Video capture use case\n        videoCapture = new VideoCapture.Builder()\n                .setVideoFrameRate(30)\n                .build();\n\n        // Image analysis use case\n        ImageAnalysis imageAnalysis = new ImageAnalysis.Builder()\n                .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\n                .build();\n\n        imageAnalysis.setAnalyzer(getExecutor(), this);\n\n        //bind to lifecycle:\n        cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, preview, videoCapture);\n\n    }\n\n    @Override\n    public void analyze(@NonNull ImageProxy image) {\n        // image processing here for the current frame\n        Log.d(&quot;TAG&quot;, &quot;analyze: got the frame at: &quot; + image.getImageInfo().getTimestamp());\n        image.close();\n    }\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.bRecord:\n                if (bRecord.getText() == &quot;start recording&quot;){\n                    bRecord.setText(&quot;stop recording&quot;);\n                    recordVideo();\n                } else {\n                    bRecord.setText(&quot;start recording&quot;);\n                    videoCapture.stopRecording();\n                }\n                break;\n\n        }\n    }\n\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    private void recordVideo() {\n        if (videoCapture != null) {\n\n            long timestamp = System.currentTimeMillis();\n\n            ContentValues contentValues = new ContentValues();\n            contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, timestamp);\n            contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\n\n            try {\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n                    // TODO: Consider calling\n                    //    ActivityCompat#requestPermissions\n                    // here to request the missing permissions, and then overriding\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                    //                                          int[] grantResults)\n                    // to handle the case where the user grants the permission. See the documentation\n                    // for ActivityCompat#requestPermissions for more details.\n                    return;\n                }\n                videoCapture.startRecording(\n                        new VideoCapture.OutputFileOptions.Builder(\n                                getContentResolver(),\n                                MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\n                                contentValues\n                        ).build(),\n                        getExecutor(),\n                        new VideoCapture.OnVideoSavedCallback() {\n                            @Override\n                            public void onVideoSaved(@NonNull VideoCapture.OutputFileResults outputFileResults) {\n                                Toast.makeText(VideoKycActivity.this, &quot;Video has been saved successfully.&quot;, Toast.LENGTH_SHORT).show();\n                            }\n\n                            @Override\n                            public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\n                                Toast.makeText(VideoKycActivity.this, &quot;Error saving video: &quot; + message, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                );\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","pom.xml","maven-plugin","maven-surefire-plugin"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1675316808,"post_id":75319109,"comment_id":132903738,"body_markdown":"Did you search the web first? Because it&#39;s part of standard Maven and has perfectly readable docs over on https://maven.apache.org/surefire/maven-surefire-plugin/","body":"Did you search the web first? Because it&#39;s part of standard Maven and has perfectly readable docs over on <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675318456,"post_id":75319109,"comment_id":132903992,"body_markdown":"The first thing you should learn is to follow conventions (over configuration) which means naming the unit tests like `*Test.java` (details: https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#includes) also I would question why you need to setup such large memory configuration for unit tests... Furthermore I strongly recommend to use more recent versions of the plugins (general reference: https://maven.apache.org/plugins/) also this duplication in your pom file should produce warnings during the build.","body":"The first thing you should learn is to follow conventions (over configuration) which means naming the unit tests like <code>*Test.java</code> (details: <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#includes\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/&hellip;</a>) also I would question why you need to setup such large memory configuration for unit tests... Furthermore I strongly recommend to use more recent versions of the plugins (general reference: <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>) also this duplication in your pom file should produce warnings during the build."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675318493,"post_id":75319109,"comment_id":132903999,"body_markdown":"If you have failures during your build it&#39;s really necessary to post those error outputs here because we have no magic glas bulb where we can see your logs...","body":"If you have failures during your build it&#39;s really necessary to post those error outputs here because we have no magic glas bulb where we can see your logs..."},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1675319425,"post_id":75319109,"comment_id":132904177,"body_markdown":"@khmarbaise Please see the edit. Also, should I just remove the memory Configuration? because this is a heavy project so not sure on this part.","body":"@khmarbaise Please see the edit. Also, should I just remove the memory Configuration? because this is a heavy project so not sure on this part."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675319918,"post_id":75319109,"comment_id":132904267,"body_markdown":"Check the failing tests and also the control sequences (color etc. are not helpful)... furthermore you have a lot of WARNING about deps. etc. Can you post your fuill pom file.... is that an OSGi project ?","body":"Check the failing tests and also the control sequences (color etc. are not helpful)... furthermore you have a lot of WARNING about deps. etc. Can you post your fuill pom file.... is that an OSGi project ?"},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1675340265,"post_id":75319109,"comment_id":132910097,"body_markdown":"@khmarbaise here is the link for my pom.xml - https://www.dropbox.com/scl/fi/2bizq00xp405scqh6olzd/Untitled.paper?dl=0&amp;rlkey=eip2f62cu4utbpj063rt3wsxa and here is the proper log - https://www.dropbox.com/scl/fi/2bizq00xp405scqh6olzd/Untitled.paper?dl=0&amp;rlkey=eip2f62cu4utbpj063rt3wsxa.","body":"@khmarbaise here is the link for my pom.xml - <a href=\"https://www.dropbox.com/scl/fi/2bizq00xp405scqh6olzd/Untitled.paper?dl=0&amp;rlkey=eip2f62cu4utbpj063rt3wsxa\" rel=\"nofollow noreferrer\">dropbox.com/scl/fi/2bizq00xp405scqh6olzd/&hellip;</a> and here is the proper log - <a href=\"https://www.dropbox.com/scl/fi/2bizq00xp405scqh6olzd/Untitled.paper?dl=0&amp;rlkey=eip2f62cu4utbpj063rt3wsxa\" rel=\"nofollow noreferrer\">dropbox.com/scl/fi/2bizq00xp405scqh6olzd/&hellip;</a>."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675433036,"post_id":75319109,"comment_id":132933521,"body_markdown":"There are so manny warning and also no test being executed the apart from that the link to pom file is the same as to the log file ... make a github example project ....","body":"There are so manny warning and also no test being executed the apart from that the link to pom file is the same as to the log file ... make a github example project ...."},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1675672851,"post_id":75319109,"comment_id":132971943,"body_markdown":"@khmarbaise Can you please provide a resolution for this. Also my pom is https://www.dropbox.com/scl/fi/0mdpkej04lin0ikjds4a9/Untitled-1.paper?dl=0&amp;rlkey=hu2zgfr5kp4ro4sq6jo04gr61","body":"@khmarbaise Can you please provide a resolution for this. Also my pom is <a href=\"https://www.dropbox.com/scl/fi/0mdpkej04lin0ikjds4a9/Untitled-1.paper?dl=0&amp;rlkey=hu2zgfr5kp4ro4sq6jo04gr61\" rel=\"nofollow noreferrer\">dropbox.com/scl/fi/0mdpkej04lin0ikjds4a9/&hellip;</a>"}],"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675319227,"creation_date":1675316630,"question_id":75319109,"body_markdown":"In my pom.xml there are two plugins added of surefire and I&#39;m confused why are they used. \r\n\r\n```&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;!--&lt;skipTests&gt;false&lt;/skipTests&gt;--&gt;\r\n\t\t\t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t\t\t&lt;!--  &lt;forkMode&gt;once&lt;/forkMode&gt; --&gt;\r\n\t\t\t\t\t\t\t&lt;!-- Sets the VM argument line used when unit tests are run. --&gt;\r\n\t\t\t\t\t\t\t&lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\r\n\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;include&gt;**/*TestApp.java&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t&lt;include&gt;**/*Test.java&lt;/include&gt;\r\n\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!--\t&lt;skipTests&gt;false&lt;/skipTests&gt;--&gt;\r\n\t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t&lt;!--  &lt;forkMode&gt;once&lt;/forkMode&gt; --&gt;\r\n\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*TestApp.java&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*Test.java&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t&lt;argLine&gt;-Xms128m&lt;/argLine&gt;\r\n\t\t\t\t\t&lt;argLine&gt;-Xmx512m&lt;/argLine&gt;\r\n\t\t\t\t\t&lt;argLine&gt;-XX:MaxPermSize=256m&lt;/argLine&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\n\r\nalso, if I just comment \t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt; then my maven build starts to fail. can someone please explain this and also how to resolve this as well.\r\nEDIT 1 \r\nHere is my error stack when I run maven test\r\n\r\n```\r\n**SLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/plugins/org.eclipse.m2e.maven.runtime_3.8.601.20220820-1147/jars/maven-slf4j-provider-3.8.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/configuration/org.eclipse.osgi/917/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.MavenSimpleLoggerFactory]\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/plugins/org.eclipse.m2e.maven.runtime_3.8.601.20220820-1147/jars/maven-slf4j-provider-3.8.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/configuration/org.eclipse.osgi/917/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.MavenSimpleLoggerFactory]\r\n[[INFO[m] Scanning for projects...\r\n[[mWARNING[m] \r\n[[mWARNING[m] Some problems were encountered while building the effective model for com.apc:designportal:war:22.1.2\r\n[[mWARNING[m] &#39;dependencies.dependency.(groupId:artifactId:type:classifier)&#39; must be unique: junit:junit:jar -&gt; duplicate declaration of version 4.12 @ line 430, column 15\r\n[[mWARNING[m] Reporting configuration should be done in &lt;reporting&gt; section, not in maven-site-plugin &lt;configuration&gt; as reportPlugins parameter. @ line 973, column 20\r\n[[mWARNING[m] \r\n[[mWARNING[m] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n[[mWARNING[m] \r\n[[mWARNING[m] For this reason, future Maven versions might no longer support building such malformed projects.\r\n[[mWARNING[m] \r\n[[INFO[m] \r\n[[INFO[m] [1m------------------------&lt; [0;36mcom.apc:designportal[0;1m &gt;------------------------[m\r\n[[INFO[m] [1mBuilding SE Design Portal 22.1.2[m\r\n[[INFO[m] [1m--------------------------------[ war ]---------------------------------[m\r\n[[mWARNING[m] The POM for com.apc.designtools:dp-quotingsystem-integration:jar:0.4 is missing, no dependency information available\r\n[[mWARNING[m] The artifact org.hibernate:hibernate-validator:jar:6.2.5.Final has been relocated to org.hibernate.validator:hibernate-validator:jar:6.2.5.Final\r\n[[mWARNING[m] The artifact javax.xml:jaxrpc:jar:1.1 has been relocated to javax.xml:jaxrpc-api:jar:1.1\r\n[[INFO[m] \r\n[[INFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mdesignportal[0;1m ---[m\r\n[[mWARNING[m] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n[[INFO[m] Copying 14 resources\r\n[[INFO[m] Copying 83 resources\r\n[[INFO[m] \r\n[[INFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.1:compile[m [1m(default-compile)[m @ [36mdesignportal[0;1m ---[m\r\n[[INFO[m] Nothing to compile - all classes are up to date\r\n[[INFO[m] \r\n[[INFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:testResources[m [1m(default-testResources)[m @ [36mdesignportal[0;1m ---[m\r\n[[mWARNING[m] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n[[INFO[m] Copying 8 resources\r\n[[INFO[m] \r\n[[INFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.1:testCompile[m [1m(default-testCompile)[m @ [36mdesignportal[0;1m ---[m\r\n[[INFO[m] Nothing to compile - all classes are up to date\r\n[[INFO[m] \r\n[[INFO[m] [1m--- [0;32mmaven-surefire-plugin:2.22.0:test[m [1m(default-test)[m @ [36mdesignportal[0;1m ---[m\r\n[[INFO[m] \r\n[[INFO[m] -------------------------------------------------------\r\n[[INFO[m]  T E S T S\r\n[[INFO[m] -------------------------------------------------------\r\n[[INFO[m] \r\n[[INFO[m] Results:\r\n[[INFO[m] \r\n[[INFO[m] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n[[INFO[m] \r\n[[INFO[m] [1m------------------------------------------------------------------------[m\r\n[[INFO[m] [1;31mBUILD FAILURE[m\r\n[[INFO[m] [1m------------------------------------------------------------------------[m\r\n[[INFO[m] Total time:  3.939 s\r\n[[INFO[m] Finished at: 2023-02-02T11:50:54+05:30\r\n[[INFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;31mERROR[m] Failed to execute goal [32morg.apache.maven.plugins:maven-surefire-plugin:2.22.0:test[m [1m(default-test)[m on project [36mdesignportal[m: [1;31mThere are test failures.[m\r\n[[1;31mERROR[m] [1;31m[m\r\n[[1;31mERROR[m] [1;31mPlease refer to C:\\Users\\SESA701739\\Downloads\\Repository for openJDK17\\designportal\\target\\surefire-reports for the individual test results.[m\r\n[[1;31mERROR[m] [1;31mPlease refer to dump files (if any exist) [date]-jvmRun[N].dump, [date].dumpstream and [date]-jvmRun[N].dumpstream.[m\r\n[[1;31mERROR[m] [1;31mThe forked VM terminated without properly saying goodbye. VM crash or System.exit called?[m\r\n[[1;31mERROR[m] [1;31mCommand was cmd.exe /X /C &quot;D:\\eclipse-jee-2022-09-R-win32-x86_64\\eclipse\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.4.v20220903-1038\\jre\\bin\\java -XX:MaxPermSize=256m -jar C:\\Users\\SESA70~1\\AppData\\Local\\Temp\\surefire14215564203121122107\\surefirebooter2253485858284748685.jar C:\\Users\\SESA701739\\AppData\\Local\\Temp\\surefire14215564203121122107 2023-02-02T11-50-54_343-jvmRun1 surefire12140783555302454556tmp surefire_04303044982407970188tmp&quot;[m\r\n[[1;31mERROR[m] [1;31mError occurred in starting fork, check output in log[m\r\n[[1;31mERROR[m] [1;31mProcess Exit Code: 1[m\r\n[[1;31mERROR[m] [1;31morg.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?[m\r\n[[1;31mERROR[m] [1;31mCommand was cmd.exe /X /C &quot;D:\\eclipse-jee-2022-09-R-win32-x86_64\\eclipse\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.4.v20220903-1038\\jre\\bin\\java -XX:MaxPermSize=256m -jar C:\\Users\\SESA70~1\\AppData\\Local\\Temp\\surefire14215564203121122107\\surefirebooter2253485858284748685.jar C:\\Users\\SESA701739\\AppData\\Local\\Temp\\surefire14215564203121122107 2023-02-02T11-50-54_343-jvmRun1 surefire12140783555302454556tmp surefire_04303044982407970188tmp&quot;[m\r\n[[1;31mERROR[m] [1;31mError occurred in starting fork, check output in log[m\r\n[[1;31mERROR[m] [1;31mProcess Exit Code: 1[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:671)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:533)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:278)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:244)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1194)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1022)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:868)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:370)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:351)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:171)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:163)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:196)[m\r\n[[1;31mERROR[m] [1;31m\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)[m\r\n[[1;31mERROR[m] [1;31m\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)[m\r\n[[1;31mERROR[m] [1;31m\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)[m\r\n[[1;31mERROR[m] [1;31m\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)[m\r\n[[1;31mERROR[m] [1;31m\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)[m\r\n[[1;31mERROR[m] [1;31m\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)[m\r\n[[1;31mERROR[m] [1;31m\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)[m\r\n[[1;31mERROR[m] [1;31m\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)[m\r\n[[1;31mERROR[m] [1;31m[m\r\n[[1;31mERROR[m] -&gt; [1m[Help 1][m\r\n[[1;31mERROR[m] \r\n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\r\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\r\n[[1;31mERROR[m] \r\n[[1\r\n\r\n&gt; Blockquote\r\n\r\n;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\r\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException**\r\n```\r\nAnd for this I&#39;m unable to get the idea. If I just comment the testfailureIgnore true so that would not be a solution.","title":"What is the use of sure-fire plugin in my pom","body":"<p>In my pom.xml there are two plugins added of surefire and I'm confused why are they used.</p>\n<pre><code>                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.22.0&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;!--&lt;skipTests&gt;false&lt;/skipTests&gt;--&gt;\n                            &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                            &lt;!--  &lt;forkMode&gt;once&lt;/forkMode&gt; --&gt;\n                            &lt;!-- Sets the VM argument line used when unit tests are run. --&gt;\n                            &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/*TestApp.java&lt;/include&gt;\n                                &lt;include&gt;**/*Test.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                                    \n                    &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!--    &lt;skipTests&gt;false&lt;/skipTests&gt;--&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;!--  &lt;forkMode&gt;once&lt;/forkMode&gt; --&gt;\n\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*TestApp.java&lt;/include&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;argLine&gt;-Xms128m&lt;/argLine&gt;\n                    &lt;argLine&gt;-Xmx512m&lt;/argLine&gt;\n                    &lt;argLine&gt;-XX:MaxPermSize=256m&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>also, if I just comment     true then my maven build starts to fail. can someone please explain this and also how to resolve this as well.\nEDIT 1\nHere is my error stack when I run maven test</p>\n<pre><code>**SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/plugins/org.eclipse.m2e.maven.runtime_3.8.601.20220820-1147/jars/maven-slf4j-provider-3.8.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/configuration/org.eclipse.osgi/917/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.MavenSimpleLoggerFactory]\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/plugins/org.eclipse.m2e.maven.runtime_3.8.601.20220820-1147/jars/maven-slf4j-provider-3.8.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/configuration/org.eclipse.osgi/917/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.MavenSimpleLoggerFactory]\n[[INFO[m] Scanning for projects...\n[[mWARNING[m] \n[[mWARNING[m] Some problems were encountered while building the effective model for com.apc:designportal:war:22.1.2\n[[mWARNING[m] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: junit:junit:jar -&gt; duplicate declaration of version 4.12 @ line 430, column 15\n[[mWARNING[m] Reporting configuration should be done in &lt;reporting&gt; section, not in maven-site-plugin &lt;configuration&gt; as reportPlugins parameter. @ line 973, column 20\n[[mWARNING[m] \n[[mWARNING[m] It is highly recommended to fix these problems because they threaten the stability of your build.\n[[mWARNING[m] \n[[mWARNING[m] For this reason, future Maven versions might no longer support building such malformed projects.\n[[mWARNING[m] \n[[INFO[m] \n[[INFO[m] [1m------------------------&lt; [0;36mcom.apc:designportal[0;1m &gt;------------------------[m\n[[INFO[m] [1mBuilding SE Design Portal 22.1.2[m\n[[INFO[m] [1m--------------------------------[ war ]---------------------------------[m\n[[mWARNING[m] The POM for com.apc.designtools:dp-quotingsystem-integration:jar:0.4 is missing, no dependency information available\n[[mWARNING[m] The artifact org.hibernate:hibernate-validator:jar:6.2.5.Final has been relocated to org.hibernate.validator:hibernate-validator:jar:6.2.5.Final\n[[mWARNING[m] The artifact javax.xml:jaxrpc:jar:1.1 has been relocated to javax.xml:jaxrpc-api:jar:1.1\n[[INFO[m] \n[[INFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mdesignportal[0;1m ---[m\n[[mWARNING[m] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[[INFO[m] Copying 14 resources\n[[INFO[m] Copying 83 resources\n[[INFO[m] \n[[INFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.1:compile[m [1m(default-compile)[m @ [36mdesignportal[0;1m ---[m\n[[INFO[m] Nothing to compile - all classes are up to date\n[[INFO[m] \n[[INFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:testResources[m [1m(default-testResources)[m @ [36mdesignportal[0;1m ---[m\n[[mWARNING[m] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[[INFO[m] Copying 8 resources\n[[INFO[m] \n[[INFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.1:testCompile[m [1m(default-testCompile)[m @ [36mdesignportal[0;1m ---[m\n[[INFO[m] Nothing to compile - all classes are up to date\n[[INFO[m] \n[[INFO[m] [1m--- [0;32mmaven-surefire-plugin:2.22.0:test[m [1m(default-test)[m @ [36mdesignportal[0;1m ---[m\n[[INFO[m] \n[[INFO[m] -------------------------------------------------------\n[[INFO[m]  T E S T S\n[[INFO[m] -------------------------------------------------------\n[[INFO[m] \n[[INFO[m] Results:\n[[INFO[m] \n[[INFO[m] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[[INFO[m] \n[[INFO[m] [1m------------------------------------------------------------------------[m\n[[INFO[m] [1;31mBUILD FAILURE[m\n[[INFO[m] [1m------------------------------------------------------------------------[m\n[[INFO[m] Total time:  3.939 s\n[[INFO[m] Finished at: 2023-02-02T11:50:54+05:30\n[[INFO[m] [1m------------------------------------------------------------------------[m\n[[1;31mERROR[m] Failed to execute goal [32morg.apache.maven.plugins:maven-surefire-plugin:2.22.0:test[m [1m(default-test)[m on project [36mdesignportal[m: [1;31mThere are test failures.[m\n[[1;31mERROR[m] [1;31m[m\n[[1;31mERROR[m] [1;31mPlease refer to C:\\Users\\SESA701739\\Downloads\\Repository for openJDK17\\designportal\\target\\surefire-reports for the individual test results.[m\n[[1;31mERROR[m] [1;31mPlease refer to dump files (if any exist) [date]-jvmRun[N].dump, [date].dumpstream and [date]-jvmRun[N].dumpstream.[m\n[[1;31mERROR[m] [1;31mThe forked VM terminated without properly saying goodbye. VM crash or System.exit called?[m\n[[1;31mERROR[m] [1;31mCommand was cmd.exe /X /C &quot;D:\\eclipse-jee-2022-09-R-win32-x86_64\\eclipse\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.4.v20220903-1038\\jre\\bin\\java -XX:MaxPermSize=256m -jar C:\\Users\\SESA70~1\\AppData\\Local\\Temp\\surefire14215564203121122107\\surefirebooter2253485858284748685.jar C:\\Users\\SESA701739\\AppData\\Local\\Temp\\surefire14215564203121122107 2023-02-02T11-50-54_343-jvmRun1 surefire12140783555302454556tmp surefire_04303044982407970188tmp&quot;[m\n[[1;31mERROR[m] [1;31mError occurred in starting fork, check output in log[m\n[[1;31mERROR[m] [1;31mProcess Exit Code: 1[m\n[[1;31mERROR[m] [1;31morg.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?[m\n[[1;31mERROR[m] [1;31mCommand was cmd.exe /X /C &quot;D:\\eclipse-jee-2022-09-R-win32-x86_64\\eclipse\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.4.v20220903-1038\\jre\\bin\\java -XX:MaxPermSize=256m -jar C:\\Users\\SESA70~1\\AppData\\Local\\Temp\\surefire14215564203121122107\\surefirebooter2253485858284748685.jar C:\\Users\\SESA701739\\AppData\\Local\\Temp\\surefire14215564203121122107 2023-02-02T11-50-54_343-jvmRun1 surefire12140783555302454556tmp surefire_04303044982407970188tmp&quot;[m\n[[1;31mERROR[m] [1;31mError occurred in starting fork, check output in log[m\n[[1;31mERROR[m] [1;31mProcess Exit Code: 1[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:671)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:533)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:278)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:244)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1194)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1022)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:868)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:370)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:351)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:171)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:163)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)[m\n[[1;31mERROR[m] [1;31m  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)[m\n[[1;31mERROR[m] [1;31m  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)[m\n[[1;31mERROR[m] [1;31m  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)[m\n[[1;31mERROR[m] [1;31m  at java.base/java.lang.reflect.Method.invoke(Method.java:568)[m\n[[1;31mERROR[m] [1;31m  at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)[m\n[[1;31mERROR[m] [1;31m  at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)[m\n[[1;31mERROR[m] [1;31m  at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)[m\n[[1;31mERROR[m] [1;31m  at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)[m\n[[1;31mERROR[m] [1;31m[m\n[[1;31mERROR[m] -&gt; [1m[Help 1][m\n[[1;31mERROR[m] \n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n[[1;31mERROR[m] \n[[1\n\n&gt; Blockquote\n\n;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException**\n</code></pre>\n<p>And for this I'm unable to get the idea. If I just comment the testfailureIgnore true so that would not be a solution.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675260768,"post_id":75310956,"comment_id":132890192,"body_markdown":"Remove `javax.persistence-api` dependency, fix the wrong imports to `jakarta.persistence` instead of `javax.persistence`.","body":"Remove <code>javax.persistence-api</code> dependency, fix the wrong imports to <code>jakarta.persistence</code> instead of <code>javax.persistence</code>."}],"answers":[{"tags":[],"owner":{"account_id":22477607,"reputation":3,"user_id":16677119,"display_name":"Simran Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675319121,"creation_date":1675319121,"answer_id":75319375,"question_id":75310956,"body_markdown":"I think the problem is with your repository bean. Can you quickly check if you have placed @Repository on your repository.","title":"Error creating bean with name &#39;abcController&#39;: Unsatisfied dependency expressed through field &#39;Employeeepository&#39;","body":"<p>I think the problem is with your repository bean. Can you quickly check if you have placed @Repository on your repository.</p>\n"}],"owner":{"account_id":5167532,"reputation":783,"user_id":4137071,"accept_rate":57,"display_name":"SOP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675319121,"creation_date":1675258434,"question_id":75310956,"body_markdown":"I am unable to solve this error\r\n\r\n&gt; Unsatisfied dependency&quot; expressed through field &#39;employeeRepository&#39;\r\n\r\nI added `@EntityScan(&quot;base package&quot;)` and also tried many solution available on the internet but still not able to resolve it.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;in.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-site&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;test-site&lt;/name&gt;\r\n    \t&lt;description&gt;test site&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**MainApplication class**\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({ &quot;in.test&quot; })\r\n    public class TestApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(TestApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n**Controller**\r\n     \r\n    @CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/&quot;)\r\n    public class TestController {\r\n    \r\n    \t@Autowired\r\n    \tprivate EmployeeRepository employeeRepository;\r\n    \t\r\n    \t// get all employees\r\n    \t@GetMapping(&quot;/employees&quot;)\r\n    \tpublic List&lt;Employee&gt; getAllEmployees(){\r\n    \t\treturn employeeRepository.findAll();\r\n    \t}\t\t\r\n    \t\r\n    \t// create employee rest api\r\n    \t@PostMapping(&quot;/employees&quot;)\r\n    \tpublic Employee createEmployee(@RequestBody Employee employee) {\r\n    \t\treturn employeeRepository.save(employee);\r\n    \t}\r\n    \t\r\n    \t// get employee by id rest api\r\n    \t@GetMapping(&quot;/employees/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable Long id) {\r\n    \t\tEmployee employee = employeeRepository.findById(id)\r\n    \t\t\t\t.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id :&quot; + id));\r\n    \t\treturn ResponseEntity.ok(employee);\r\n    \t}\r\n    \t\r\n    \t// update employee rest api\r\n    \t\r\n    \t@PutMapping(&quot;/employees/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Employee&gt; updateEmployee(@PathVariable Long id, @RequestBody Employee employeeDetails){\r\n    \t\tEmployee employee = employeeRepository.findById(id)\r\n    \t\t\t\t.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id :&quot; + id));\r\n    \t\t\r\n    \t\temployee.setFirstName(employeeDetails.getFirstName());\r\n    \t\temployee.setLastName(employeeDetails.getLastName());\r\n    \t\temployee.setEmailId(employeeDetails.getEmailId());\r\n    \t\t\r\n    \t\tEmployee updatedEmployee = employeeRepository.save(employee);\r\n    \t\treturn ResponseEntity.ok(updatedEmployee);\r\n    \t}\r\n    \t\r\n    \t// delete employee rest api\r\n    \t@DeleteMapping(&quot;/employees/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Map&lt;String, Boolean&gt;&gt; deleteEmployee(@PathVariable Long id){\r\n    \t\tEmployee employee = employeeRepository.findById(id)\r\n    \t\t\t\t.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id :&quot; + id));\r\n    \t\t\r\n    \t\temployeeRepository.delete(employee);\r\n    \t\tMap&lt;String, Boolean&gt; response = new HashMap&lt;&gt;();\r\n    \t\tresponse.put(&quot;deleted&quot;, Boolean.TRUE);\r\n    \t\treturn ResponseEntity.ok(response);\r\n    \t}\r\n    }\r\n\r\n**Entity class**\r\n\r\n      \r\n    @Entity\r\n    @Table(name = &quot;employees&quot;)\r\n    public class Employee {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate long id;\r\n    \t\r\n    \t@Column(name = &quot;first_name&quot;)\r\n    \tprivate String firstName;\r\n    \r\n    \t@Column(name = &quot;last_name&quot;)\r\n    \tprivate String lastName;\r\n    \t\r\n    \t@Column(name = &quot;email_id&quot;)\r\n    \tprivate String emailId;\r\n    \t\r\n    \tpublic Employee() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic Employee(String firstName, String lastName, String emailId) {\r\n    \t\tsuper();\r\n    \t\tthis.firstName = firstName;\r\n    \t\tthis.lastName = lastName;\r\n    \t\tthis.emailId = emailId;\r\n    \t}\r\n    \tpublic long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \tpublic String getEmailId() {\r\n    \t\treturn emailId;\r\n    \t}\r\n    \tpublic void setEmailId(String emailId) {\r\n    \t\tthis.emailId = emailId;\r\n    \t}\r\n    }\r\n\r\n**ERROR LOG**\r\n   \t\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2a075e70 testClass = in.test.site.MentorsSiteApplicationTests, locations = [], classes = [in.test.site.SiteApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@9573584, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6853425f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@41294f8, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3af0a9da, org.springframework.boot.test.context.SpringBootTestAnnotation@c4346d6c], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142) ~[spring-test-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127) ~[spring-test-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.0.4.jar:6.0.4]\r\n    \r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;employeeController&#39;: Unsatisfied dependency expressed through field &#39;employeeRepository&#39;: Error creating bean with name &#39;employeeRepository&#39; defined in in.test.repository.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class in.test.model.Employee\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) \r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;employeeRepository&#39; defined in in.test.repository.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class in.test.model.Employee\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) \r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: class in.test.model.Employee\r\n    \tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n    \tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n    \tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) \r\n\r\n","title":"Error creating bean with name &#39;abcController&#39;: Unsatisfied dependency expressed through field &#39;Employeeepository&#39;","body":"<p>I am unable to solve this error</p>\n<blockquote>\n<p>Unsatisfied dependency&quot; expressed through field 'employeeRepository'</p>\n</blockquote>\n<p>I added <code>@EntityScan(&quot;base package&quot;)</code> and also tried many solution available on the internet but still not able to resolve it.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;in.test&lt;/groupId&gt;\n    &lt;artifactId&gt;test-site&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test-site&lt;/name&gt;\n    &lt;description&gt;test site&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>MainApplication class</strong></p>\n<pre><code>@SpringBootApplication\n@ComponentScan({ &quot;in.test&quot; })\npublic class TestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\n@RestController\n@RequestMapping(&quot;/api/v1/&quot;)\npublic class TestController {\n\n    @Autowired\n    private EmployeeRepository employeeRepository;\n    \n    // get all employees\n    @GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; getAllEmployees(){\n        return employeeRepository.findAll();\n    }       \n    \n    // create employee rest api\n    @PostMapping(&quot;/employees&quot;)\n    public Employee createEmployee(@RequestBody Employee employee) {\n        return employeeRepository.save(employee);\n    }\n    \n    // get employee by id rest api\n    @GetMapping(&quot;/employees/{id}&quot;)\n    public ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable Long id) {\n        Employee employee = employeeRepository.findById(id)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id :&quot; + id));\n        return ResponseEntity.ok(employee);\n    }\n    \n    // update employee rest api\n    \n    @PutMapping(&quot;/employees/{id}&quot;)\n    public ResponseEntity&lt;Employee&gt; updateEmployee(@PathVariable Long id, @RequestBody Employee employeeDetails){\n        Employee employee = employeeRepository.findById(id)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id :&quot; + id));\n        \n        employee.setFirstName(employeeDetails.getFirstName());\n        employee.setLastName(employeeDetails.getLastName());\n        employee.setEmailId(employeeDetails.getEmailId());\n        \n        Employee updatedEmployee = employeeRepository.save(employee);\n        return ResponseEntity.ok(updatedEmployee);\n    }\n    \n    // delete employee rest api\n    @DeleteMapping(&quot;/employees/{id}&quot;)\n    public ResponseEntity&lt;Map&lt;String, Boolean&gt;&gt; deleteEmployee(@PathVariable Long id){\n        Employee employee = employeeRepository.findById(id)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id :&quot; + id));\n        \n        employeeRepository.delete(employee);\n        Map&lt;String, Boolean&gt; response = new HashMap&lt;&gt;();\n        response.put(&quot;deleted&quot;, Boolean.TRUE);\n        return ResponseEntity.ok(response);\n    }\n}\n</code></pre>\n<p><strong>Entity class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;employees&quot;)\npublic class Employee {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name = &quot;email_id&quot;)\n    private String emailId;\n    \n    public Employee() {\n        \n    }\n    \n    public Employee(String firstName, String lastName, String emailId) {\n        super();\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.emailId = emailId;\n    }\n    public long getId() {\n        return id;\n    }\n    public void setId(long id) {\n        this.id = id;\n    }\n    public String getFirstName() {\n        return firstName;\n    }\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    public String getLastName() {\n        return lastName;\n    }\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    public String getEmailId() {\n        return emailId;\n    }\n    public void setEmailId(String emailId) {\n        this.emailId = emailId;\n    }\n}\n</code></pre>\n<p><strong>ERROR LOG</strong></p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2a075e70 testClass = in.test.site.MentorsSiteApplicationTests, locations = [], classes = [in.test.site.SiteApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@9573584, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6853425f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@41294f8, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3af0a9da, org.springframework.boot.test.context.SpringBootTestAnnotation@c4346d6c], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142) ~[spring-test-6.0.4.jar:6.0.4]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127) ~[spring-test-6.0.4.jar:6.0.4]\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.0.4.jar:6.0.4]\n\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'employeeController': Unsatisfied dependency expressed through field 'employeeRepository': Error creating bean with name 'employeeRepository' defined in in.test.repository.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class in.test.model.Employee\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) \nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'employeeRepository' defined in in.test.repository.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class in.test.model.Employee\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) \nCaused by: java.lang.IllegalArgumentException: Not a managed type: class in.test.model.Employee\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) \n</code></pre>\n"},{"tags":["java","spring","spring-annotations"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1646777614,"post_id":71402068,"comment_id":126207301,"body_markdown":"The table annotation here is giving information about the table, specifically its name.","body":"The table annotation here is giving information about the table, specifically its name."},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":1,"creation_date":1646777713,"post_id":71402068,"comment_id":126207328,"body_markdown":"@Entity annotation defines that a class can be mapped to a table;\n@Table annotation allows you to specify the details of the table that will be used to persist the entity in the database.\nIn this case with `@Table(name = &quot;widget&quot;)`  you override the default name of the table (the class name)","body":"@Entity annotation defines that a class can be mapped to a table; @Table annotation allows you to specify the details of the table that will be used to persist the entity in the database. In this case with <code>@Table(name = &quot;widget&quot;)</code>  you override the default name of the table (the class name)"}],"answers":[{"tags":[],"owner":{"account_id":19689376,"reputation":109,"user_id":14414722,"display_name":"bjorke07"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646778078,"creation_date":1646778078,"answer_id":71402159,"question_id":71402068,"body_markdown":"You need @Entity but @Table is an optional annotation that you can override default table name, schema name etc. ","title":"Difference between @Entity and @Table in Spring boot . Do we need both?","body":"<p>You need @Entity but @Table is an optional annotation that you can override default table name, schema name etc.</p>\n"},{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646779033,"creation_date":1646779033,"answer_id":71402271,"question_id":71402068,"body_markdown":"If you are planning some class to be scanned and looked as an entity by Hibernate it must has @Entity annotation.\r\nNow since Hibernate is Object-Relational Mapping tool, which means that it is a bridge between objects and the database when you put\r\n\r\n    @Entity &lt;-- this is an entity class that you will work with\r\n    @Table(name = &quot;widget&quot;) &lt;-- and this is a corresponding table that matches that entity in the database\r\n\r\nSimilar thing goes for \r\n\r\n    @Column(name=&quot;clientName&quot;)&lt;-- this is a value from your database field that will correspond with your entity field\r\n    private String clientName &lt;-- this is your entity field\r\n\r\nWhen using hibernate you need to explain in the class both of the worlds, the SQL world and the Java Hibernate world.","title":"Difference between @Entity and @Table in Spring boot . Do we need both?","body":"<p>If you are planning some class to be scanned and looked as an entity by Hibernate it must has @Entity annotation.\nNow since Hibernate is Object-Relational Mapping tool, which means that it is a bridge between objects and the database when you put</p>\n<pre><code>@Entity &lt;-- this is an entity class that you will work with\n@Table(name = &quot;widget&quot;) &lt;-- and this is a corresponding table that matches that entity in the database\n</code></pre>\n<p>Similar thing goes for</p>\n<pre><code>@Column(name=&quot;clientName&quot;)&lt;-- this is a value from your database field that will correspond with your entity field\nprivate String clientName &lt;-- this is your entity field\n</code></pre>\n<p>When using hibernate you need to explain in the class both of the worlds, the SQL world and the Java Hibernate world.</p>\n"}],"owner":{"account_id":477717,"reputation":1768,"user_id":889376,"accept_rate":35,"display_name":"Mustafa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6539,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":2,"score":7,"last_activity_date":1675318829,"creation_date":1646777413,"question_id":71402068,"body_markdown":"Do we need both annonation for a model class? What is the difference between @Entity and @Table\r\n\r\n    @Entity\r\n    @Table(name = &quot;widget&quot;) // do we need this??\r\n    public class WidgetEntity {\r\n\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Long id;\r\n      private String clientName;\r\n    }","title":"Difference between @Entity and @Table in Spring boot . Do we need both?","body":"<p>Do we need both annonation for a model class? What is the difference between @Entity and @Table</p>\n<pre><code>@Entity\n@Table(name = &quot;widget&quot;) // do we need this??\npublic class WidgetEntity {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n  private String clientName;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","database-migration","flyway","newrelic"],"comments":[{"owner":{"account_id":1189982,"reputation":671,"user_id":2515377,"accept_rate":78,"display_name":"Kenpachi"},"score":0,"creation_date":1675322203,"post_id":75319310,"comment_id":132904747,"body_markdown":"I haven&#39;t used Flyway before, but Flyway&#39;s Java Callbacks might be useful in solving your problems - https://documentation.red-gate.com/fd/api-hooks-184127635.html#callsbacks","body":"I haven&#39;t used Flyway before, but Flyway&#39;s Java Callbacks might be useful in solving your problems - <a href=\"https://documentation.red-gate.com/fd/api-hooks-184127635.html#callsbacks\" rel=\"nofollow noreferrer\">documentation.red-gate.com/fd/&hellip;</a>"}],"owner":{"account_id":15874551,"reputation":101,"user_id":11454171,"display_name":"Gayathry S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675318498,"creation_date":1675318498,"question_id":75319310,"body_markdown":"I was wondering if there was a way to get the transaction details of a flyway migration in newrelic? I have a newrelic application integrated to my spring boot application(gradle). However, I am unable to find any trace details of the migrations I am running. \r\nIf this is not possible, is there a workaround or configuration in flyway that lets us know the time taken for a migration and such details? My flyway migrations are all SQL queries.","title":"Integrating flyway migrations with newrelic","body":"<p>I was wondering if there was a way to get the transaction details of a flyway migration in newrelic? I have a newrelic application integrated to my spring boot application(gradle). However, I am unable to find any trace details of the migrations I am running.\nIf this is not possible, is there a workaround or configuration in flyway that lets us know the time taken for a migration and such details? My flyway migrations are all SQL queries.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":1,"creation_date":1675316746,"post_id":75318964,"comment_id":132903728,"body_markdown":"the way of getting video from raw and converting to file is wrong and that&#39;s why it is showing ```No such file or directory```\n\nfirst you need to copy video from raw folder to device storage programmatically and then use path of file where you pasted in device\n\nyou can copy file like this\n\nhttps://stackoverflow.com/a/8664527/5696047","body":"the way of getting video from raw and converting to file is wrong and that&#39;s why it is showing <code>No such file or directory</code>  first you need to copy video from raw folder to device storage programmatically and then use path of file where you pasted in device  you can copy file like this  <a href=\"https://stackoverflow.com/a/8664527/5696047\">stackoverflow.com/a/8664527/5696047</a>"}],"answers":[{"tags":[],"owner":{"account_id":18301803,"reputation":159,"user_id":13326424,"display_name":"Prasanth John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675318103,"creation_date":1675317617,"answer_id":75319222,"question_id":75318964,"body_markdown":"You will acces app data specific folder through &quot; **getExternalFilesDir()** &quot;\r\nand your application data available in &quot; **sdcard =&gt;Android =&gt; package.name =&gt; file.mp4** &quot;\r\n\r\n**APIClient.java**\r\n\r\n    public class APIClient {\r\n   \r\n    private static Retrofit retrofit = null;\r\n\r\n    public static Retrofit getClient(){\r\n        HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        OkHttpClient client = new OkHttpClient.Builder()\r\n                .hostnameVerifier(new HostnameVerifier() {\r\n                    @Override\r\n                    public boolean verify(String s, SSLSession sslSession) {\r\n                        return true;\r\n                    }\r\n                })\r\n                .addInterceptor(interceptor)\r\n                .build();\r\n\r\n        retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;http://10.0.2.2:5000&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .client(client)\r\n                .build();\r\n\r\n        return retrofit;\r\n    }\r\n}\r\n\r\n**APIInterface.java**\r\npublic interface APIInterface {\r\n\r\n    @Multipart\r\n    @POST(&quot;/api/UploadVideo&quot;)\r\n    Call&lt;VideoUpload&gt; chequeUpload(\r\n                                    @Part MultipartBody.Part video);\r\n\r\n}\r\n\r\n**Model Class**\r\n\r\n    public class VideoUpload {\r\n\r\n     // Request\r\n    @SerializedName(&quot;video&quot;)\r\n    public String video;\r\n\r\n    // Response\r\n      @SerializedName(&quot;Message&quot;)\r\n      public String Message;\r\n}\r\n\r\n**Upload video**\r\n\r\nvideo get from &quot; Android &quot; Specific folder **sdcard =&gt;Android =&gt; package.name =&gt; file.mp4**\r\n\r\n code.\r\n\r\n   \r\n\r\n       String root = getExternalFilesDir(&quot;/&quot;).getPath() + &quot;/&quot; + &quot;Videos/&quot;;\r\n    \r\n       File videoFile = new File(root, &quot;My_video&quot; + &quot;.mp4&quot;);\r\n    \r\n      RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;multipart/form-data&quot;), videoFile);\r\n    \r\n      MultipartBody.Part videoFileBody = MultipartBody.Part.createFormData(&quot;video&quot;, videoFile.getName(), requestFile);\r\n    \r\n        Call&lt;VideoUpload&gt; call = apiInterface.videoUploadNow(videoFileBody);\r\n\r\n     call.enqueue(new Callback&lt;VideoUpload&gt;() {\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;VideoUpload&gt; call, @NonNull Response&lt;VideoUpload&gt; response) {\r\n                pDialog.dismiss();\r\n                if (response.isSuccessful()){\r\n                    VideoUpload uploadVideo = response.body();\r\n                 \r\n                 try {\r\n                        JSONObject jsonObjectError = new JSONObject(response.errorBody().string());\r\n                        showMessageInSnackbar(jsonObjectError.getString(&quot;Message&quot;));\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n\r\n                }else{\r\n                    try {\r\n                        JSONObject jsonObjectError = new JSONObject(response.errorBody().string());\r\n                        showMessageInSnackbar(jsonObjectError.getString(&quot;Message&quot;));\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;VideoUpload&gt; call, @NonNull Throwable t) {\r\n                if(t instanceof SocketTimeoutException){\r\n                    timeOutDialog.show();\r\n                }\r\n                pDialog.dismiss();\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to upload .mp4 to server in Android Studio","body":"<p>You will acces app data specific folder through &quot; <strong>getExternalFilesDir()</strong> &quot;\nand your application data available in &quot; <strong>sdcard =&gt;Android =&gt; package.name =&gt; file.mp4</strong> &quot;</p>\n<p><strong>APIClient.java</strong></p>\n<pre><code>public class APIClient {\n\nprivate static Retrofit retrofit = null;\n\npublic static Retrofit getClient(){\n    HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n    OkHttpClient client = new OkHttpClient.Builder()\n            .hostnameVerifier(new HostnameVerifier() {\n                @Override\n                public boolean verify(String s, SSLSession sslSession) {\n                    return true;\n                }\n            })\n            .addInterceptor(interceptor)\n            .build();\n\n    retrofit = new Retrofit.Builder()\n            .baseUrl(&quot;http://10.0.2.2:5000&quot;)\n            .addConverterFactory(GsonConverterFactory.create())\n            .client(client)\n            .build();\n\n    return retrofit;\n}\n</code></pre>\n<p>}</p>\n<p><strong>APIInterface.java</strong>\npublic interface APIInterface {</p>\n<pre><code>@Multipart\n@POST(&quot;/api/UploadVideo&quot;)\nCall&lt;VideoUpload&gt; chequeUpload(\n                                @Part MultipartBody.Part video);\n</code></pre>\n<p>}</p>\n<p><strong>Model Class</strong></p>\n<pre><code>public class VideoUpload {\n\n // Request\n@SerializedName(&quot;video&quot;)\npublic String video;\n\n// Response\n  @SerializedName(&quot;Message&quot;)\n  public String Message;\n</code></pre>\n<p>}</p>\n<p><strong>Upload video</strong></p>\n<p>video get from &quot; Android &quot; Specific folder <strong>sdcard =&gt;Android =&gt; package.name =&gt; file.mp4</strong></p>\n<p>code.</p>\n<pre><code>   String root = getExternalFilesDir(&quot;/&quot;).getPath() + &quot;/&quot; + &quot;Videos/&quot;;\n\n   File videoFile = new File(root, &quot;My_video&quot; + &quot;.mp4&quot;);\n\n  RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;multipart/form-data&quot;), videoFile);\n\n  MultipartBody.Part videoFileBody = MultipartBody.Part.createFormData(&quot;video&quot;, videoFile.getName(), requestFile);\n\n    Call&lt;VideoUpload&gt; call = apiInterface.videoUploadNow(videoFileBody);\n\n call.enqueue(new Callback&lt;VideoUpload&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;VideoUpload&gt; call, @NonNull Response&lt;VideoUpload&gt; response) {\n            pDialog.dismiss();\n            if (response.isSuccessful()){\n                VideoUpload uploadVideo = response.body();\n             \n             try {\n                    JSONObject jsonObjectError = new JSONObject(response.errorBody().string());\n                    showMessageInSnackbar(jsonObjectError.getString(&quot;Message&quot;));\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n\n            }else{\n                try {\n                    JSONObject jsonObjectError = new JSONObject(response.errorBody().string());\n                    showMessageInSnackbar(jsonObjectError.getString(&quot;Message&quot;));\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;VideoUpload&gt; call, @NonNull Throwable t) {\n            if(t instanceof SocketTimeoutException){\n                timeOutDialog.show();\n            }\n            pDialog.dismiss();\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":25874348,"reputation":1,"user_id":21130201,"display_name":"Spencer Creer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675318103,"creation_date":1675315248,"question_id":75318964,"body_markdown":"How do you upload a video (.mp4) file in the raw folder to a server on a button click in java android studio with minSdk 29.\r\n\r\nAny help with this would be much appreciated.\r\n\r\nThis is what I have tried:\r\n\r\n```\r\nprivate void configureUploadButton() {\r\n        uploadButton = findViewById(R.id.uploadButton);\r\n        uploadButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                // creating a client\r\n                OkHttpClient okHttpClient = new OkHttpClient();\r\n\r\n                int videoResourceId = getResources().getIdentifier(&quot;name_of_video&quot;, &quot;raw&quot;, getPackageName());\r\n                Uri fileUri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + videoResourceId);\r\n                Log.i(&quot;URI&quot;, &quot;File URI: &quot; + fileUri);\r\n\r\n                File videoFile = new File(fileUri.getPath());\r\n                Log.i(&quot;FILE_TAG&quot;, &quot;File: &quot; + videoFile + &quot; Path: &quot; + videoFile.getPath());\r\n\r\n                RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;video/mp4&quot;), videoFile);\r\n                MultipartBody multipartBody = new MultipartBody.Builder()\r\n                        .setType(MultipartBody.FORM)\r\n                        .addFormDataPart(&quot;video&quot;, videoFile.getName(), requestBody)\r\n                        .build();\r\n\r\n                Request request = new Request.Builder()\r\n                        .url(&quot;http://10.0.2.2:5000/upload_video&quot;)\r\n                        .post(multipartBody)\r\n                        .build();\r\n\r\n                okHttpClient.newCall(request).enqueue(new Callback() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                Log.i(&quot;SERVER_DOWN&quot;, &quot;The sever is down: &quot; + e.getMessage());\r\n                                Toast.makeText(Record.this, &quot;server down&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                    }\r\n                    @Override\r\n                    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                int responseCode = response.code();\r\n                                String responseMessage = response.message();\r\n                                Log.i(&quot;RESPONSE&quot;, &quot;Response code: &quot; + responseCode + &quot; Message: &quot; + responseMessage);\r\n                                if (response.isSuccessful()) {\r\n                                    Toast.makeText(Record.this, &quot;Connected to server successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                                } else {\r\n                                    Toast.makeText(Record.this, &quot;Not able to connect to server.&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nI don&#39;t seem to be accessing the file correctly using the File class. The IOException that I am getting in the onFailure of the okHttpClient call is:\r\n\r\n```\r\n/2131689473: open failed: ENOENT (No such file or directory)\r\n```\r\n\r\nThese are the permissions that I have in my Androidmanifest.xml\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.hardware.CAMERA&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n","title":"How to upload .mp4 to server in Android Studio","body":"<p>How do you upload a video (.mp4) file in the raw folder to a server on a button click in java android studio with minSdk 29.</p>\n<p>Any help with this would be much appreciated.</p>\n<p>This is what I have tried:</p>\n<pre><code>private void configureUploadButton() {\n        uploadButton = findViewById(R.id.uploadButton);\n        uploadButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                // creating a client\n                OkHttpClient okHttpClient = new OkHttpClient();\n\n                int videoResourceId = getResources().getIdentifier(&quot;name_of_video&quot;, &quot;raw&quot;, getPackageName());\n                Uri fileUri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + videoResourceId);\n                Log.i(&quot;URI&quot;, &quot;File URI: &quot; + fileUri);\n\n                File videoFile = new File(fileUri.getPath());\n                Log.i(&quot;FILE_TAG&quot;, &quot;File: &quot; + videoFile + &quot; Path: &quot; + videoFile.getPath());\n\n                RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;video/mp4&quot;), videoFile);\n                MultipartBody multipartBody = new MultipartBody.Builder()\n                        .setType(MultipartBody.FORM)\n                        .addFormDataPart(&quot;video&quot;, videoFile.getName(), requestBody)\n                        .build();\n\n                Request request = new Request.Builder()\n                        .url(&quot;http://10.0.2.2:5000/upload_video&quot;)\n                        .post(multipartBody)\n                        .build();\n\n                okHttpClient.newCall(request).enqueue(new Callback() {\n                    @Override\n                    public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                        runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\n                                Log.i(&quot;SERVER_DOWN&quot;, &quot;The sever is down: &quot; + e.getMessage());\n                                Toast.makeText(Record.this, &quot;server down&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }\n                    @Override\n                    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                        runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\n                                int responseCode = response.code();\n                                String responseMessage = response.message();\n                                Log.i(&quot;RESPONSE&quot;, &quot;Response code: &quot; + responseCode + &quot; Message: &quot; + responseMessage);\n                                if (response.isSuccessful()) {\n                                    Toast.makeText(Record.this, &quot;Connected to server successfully.&quot;, Toast.LENGTH_SHORT).show();\n                                } else {\n                                    Toast.makeText(Record.this, &quot;Not able to connect to server.&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        });\n                    }\n                });\n            }\n        });\n    }\n</code></pre>\n<p>I don't seem to be accessing the file correctly using the File class. The IOException that I am getting in the onFailure of the okHttpClient call is:</p>\n<pre><code>/2131689473: open failed: ENOENT (No such file or directory)\n</code></pre>\n<p>These are the permissions that I have in my Androidmanifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.hardware.CAMERA&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18448797,"reputation":1,"user_id":13439429,"display_name":"Vidya"},"score":0,"creation_date":1676271611,"post_id":75319218,"comment_id":133096404,"body_markdown":"Can anyone reply on above question please?","body":"Can anyone reply on above question please?"}],"owner":{"account_id":18448797,"reputation":1,"user_id":13439429,"display_name":"Vidya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675317565,"creation_date":1675317565,"question_id":75319218,"body_markdown":"what is an alternative to table.setBorder(Rectangle.BOX) in itext 7.2.2 I needs to migrate whole itext5.5 to itext7.2 due to vulnerability issues also I want to know about Rectangle.Box argument to a method as int Box formal argument how to replace it.\r\n\r\nI have tried to pass as Border.Solid but its not working.Please suggest an alternative to replace this Rectangle.BOX in itext7.2.2 version.","title":"what is an alternative to table.setBorder(Rectangle.BOX) in itext 7.2.2","body":"<p>what is an alternative to table.setBorder(Rectangle.BOX) in itext 7.2.2 I needs to migrate whole itext5.5 to itext7.2 due to vulnerability issues also I want to know about Rectangle.Box argument to a method as int Box formal argument how to replace it.</p>\n<p>I have tried to pass as Border.Solid but its not working.Please suggest an alternative to replace this Rectangle.BOX in itext7.2.2 version.</p>\n"},{"tags":["java","eclipse","java-7","okhttp","java-time"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1612545842,"post_id":66067782,"comment_id":116809463,"body_markdown":"The *java.time* API is only available in JAVA8+","body":"The <i>java.time</i> API is only available in JAVA8+"},{"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"score":0,"creation_date":1612545934,"post_id":66067782,"comment_id":116809503,"body_markdown":"@Jens And indeed I don&#39;t use that package. It&#39;s only implicitly referenced by OkHttpClient, so Eclipse shows an error. Is there a way to prevent that error?","body":"@Jens And indeed I don&#39;t use that package. It&#39;s only implicitly referenced by OkHttpClient, so Eclipse shows an error. Is there a way to prevent that error?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1612546040,"post_id":66067782,"comment_id":116809557,"body_markdown":"Use an older version of the library which reference the *java.time* API or the better solution is to use an actual version of java. Java7 is outdated since many years","body":"Use an older version of the library which reference the <i>java.time</i> API or the better solution is to use an actual version of java. Java7 is outdated since many years"},{"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"score":0,"creation_date":1612546347,"post_id":66067782,"comment_id":116809676,"body_markdown":"@Jens 1. It&#39;s an Eclipse problem, not of the library, because when I compile my project the compiler does not throw any error, even if the library implicitly references `java.time` package. 2. I can&#39;t upgrade to newer Java version.","body":"@Jens 1. It&#39;s an Eclipse problem, not of the library, because when I compile my project the compiler does not throw any error, even if the library implicitly references <code>java.time</code> package. 2. I can&#39;t upgrade to newer Java version."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1612547139,"post_id":66067782,"comment_id":116809980,"body_markdown":"Look at the Build Path in the Project Properties and check that it really is using the version of the libs which don&#39;t use java.time. Eclipse is just reporting problems caused by the build path libraries.","body":"Look at the Build Path in the Project Properties and check that it really is using the version of the libs which don&#39;t use java.time. Eclipse is just reporting problems caused by the build path libraries."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1612547659,"post_id":66067782,"comment_id":116810185,"body_markdown":"If you&#39;re stuck with Java 7 (for now), use the [**ThreeTen-Backport**](https://www.threeten.org/threetenbp/).","body":"If you&#39;re stuck with Java 7 (for now), use the <a href=\"https://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><b>ThreeTen-Backport</b></a>."},{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":0,"creation_date":1612549549,"post_id":66067782,"comment_id":116810844,"body_markdown":"OkHttp has these in the API, but assumes it&#39;s safe if you don&#39;t call them. If it&#39;s working fine outside eclipse, then you should raise a bug with Eclipse.","body":"OkHttp has these in the API, but assumes it&#39;s safe if you don&#39;t call them. If it&#39;s working fine outside eclipse, then you should raise a bug with Eclipse."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612550077,"creation_date":1612549776,"answer_id":66068685,"question_id":66067782,"body_markdown":"The *java.time* classes are built into to Java 8 and later. You are deploying your app to Java 7. That version of Java lacks the `java.time.Duration` class invoked by your code calling a library.\r\n\r\nYou claim that library supports Java 7. If that is true, the library must have a switch to avoid using classes not available in Java 7.\r\n\r\nYou have improperly configured your IDE to allow programming in a later version of than the version on which you deploy. That is a problem you should fix. If deploying on Java 7, then compile for Java 7. See Question, [*how do I get eclipse to use a different compiler version for Java?*](https://stackoverflow.com/q/2540548/642706).\r\n\r\nOf course, the best solution is to migrate to a modern version of Java. [Java 7 reached end-of-life in 2015-04](https://www.java.com/en/download/help/java_7.html). I highly recommend moving to a long-term support (LTS) version. Currently that would be Java 8 and Java 11.\r\n\r\nIf it were your own code using the *java.time* classes, I would suggest adding the *ThreeTen-Backport* library to your project. That library provides most of the *java.time* functionality with nearly identical API for use with Java 6 and Java 7. But I am guessing that would not satisfy your library in question, though you might want to verify.","title":"The type java.time.Duration cannot be resolved when using OkHttpClient v3.12.x on Java 7","body":"<p>The <em>java.time</em> classes are built into to Java 8 and later. You are deploying your app to Java 7. That version of Java lacks the <code>java.time.Duration</code> class invoked by your code calling a library.</p>\n<p>You claim that library supports Java 7. If that is true, the library must have a switch to avoid using classes not available in Java 7.</p>\n<p>You have improperly configured your IDE to allow programming in a later version of than the version on which you deploy. That is a problem you should fix. If deploying on Java 7, then compile for Java 7. See Question, <a href=\"https://stackoverflow.com/q/2540548/642706\"><em>how do I get eclipse to use a different compiler version for Java?</em></a>.</p>\n<p>Of course, the best solution is to migrate to a modern version of Java. <a href=\"https://www.java.com/en/download/help/java_7.html\" rel=\"nofollow noreferrer\">Java 7 reached end-of-life in 2015-04</a>. I highly recommend moving to a long-term support (LTS) version. Currently that would be Java 8 and Java 11.</p>\n<p>If it were your own code using the <em>java.time</em> classes, I would suggest adding the <em>ThreeTen-Backport</em> library to your project. That library provides most of the <em>java.time</em> functionality with nearly identical API for use with Java 6 and Java 7. But I am guessing that would not satisfy your library in question, though you might want to verify.</p>\n"},{"tags":[],"owner":{"account_id":27682091,"reputation":1,"user_id":21130623,"display_name":"Dipak Lokhande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675317331,"creation_date":1675317331,"answer_id":75319185,"question_id":66067782,"body_markdown":"Same issue I was facing, Changing the version of selenium in pom.xml worked for me. Changed version from 4.1.0 to 3.141.59\r\n","title":"The type java.time.Duration cannot be resolved when using OkHttpClient v3.12.x on Java 7","body":"<p>Same issue I was facing, Changing the version of selenium in pom.xml worked for me. Changed version from 4.1.0 to 3.141.59</p>\n"}],"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3519,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1675317331,"creation_date":1612545767,"question_id":66067782,"body_markdown":"I&#39;m developing for a project which is compiled for Java 7.\r\n\r\nIn this project I use OkHttpClient v3.12.13, which is compatible for Java 7 (as stated [here][1]). However these lines produces an error in the Eclipse editor:\r\n``` lang-java\r\nprivate static final OkHttpClient GLOBAL_OK_HTTP_CLIENT = new OkHttpClient.Builder()\r\n\t.readTimeout(10, TimeUnit.SECONDS)\r\n\t.build();\r\n```\r\n\r\nThe error is this:\r\n``` lang-none\r\nThe type java.time.Duration cannot be resolved. It is indirectly referenced from required .class files\r\n```\r\n\r\nThis error is only shown by the editor. Indeed, when I compile my project using CLI (outside Eclipse) I don&#39;t get any error for that implicit reference to the `java.time` package.\r\n\r\nI&#39;m aware that in Java 7 there is no `java.time` package. Indeed, I&#39;m not using it in my code, it&#39;s just implicitly referenced by the OkHttp library (as the error message says).\r\n\r\nIs there a way to fix this error on Eclipse?\r\n\r\nThis is how I configured compiler compliance on Eclipse:\r\n\r\n[![Eclipse compiler compliance][2]][2]\r\n\r\nNote that I can&#39;t upgrade to newer Java versions.\r\n\r\n\r\n  [1]: https://square.github.io/okhttp/#requirements\r\n  [2]: https://i.stack.imgur.com/jsv62.png","title":"The type java.time.Duration cannot be resolved when using OkHttpClient v3.12.x on Java 7","body":"<p>I'm developing for a project which is compiled for Java 7.</p>\n<p>In this project I use OkHttpClient v3.12.13, which is compatible for Java 7 (as stated <a href=\"https://square.github.io/okhttp/#requirements\" rel=\"nofollow noreferrer\">here</a>). However these lines produces an error in the Eclipse editor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final OkHttpClient GLOBAL_OK_HTTP_CLIENT = new OkHttpClient.Builder()\n    .readTimeout(10, TimeUnit.SECONDS)\n    .build();\n</code></pre>\n<p>The error is this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>The type java.time.Duration cannot be resolved. It is indirectly referenced from required .class files\n</code></pre>\n<p>This error is only shown by the editor. Indeed, when I compile my project using CLI (outside Eclipse) I don't get any error for that implicit reference to the <code>java.time</code> package.</p>\n<p>I'm aware that in Java 7 there is no <code>java.time</code> package. Indeed, I'm not using it in my code, it's just implicitly referenced by the OkHttp library (as the error message says).</p>\n<p>Is there a way to fix this error on Eclipse?</p>\n<p>This is how I configured compiler compliance on Eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/jsv62.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jsv62.png\" alt=\"Eclipse compiler compliance\" /></a></p>\n<p>Note that I can't upgrade to newer Java versions.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":0,"creation_date":1675315839,"post_id":75319022,"comment_id":132903574,"body_markdown":"What do you expect `%2n` to do?","body":"What do you expect <code>%2n</code> to do?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1675315906,"post_id":75319022,"comment_id":132903586,"body_markdown":"Try `%2d`. `%n` is newline. Not iNteger. Also, `System.out.printf` is a thing you might use. `for (int i = 1; i &lt; 11; i++) { System.out.printf(&quot;%2d * %2d = %2d%n&quot;, 5, i, 5 * i); }`","body":"Try <code>%2d</code>. <code>%n</code> is newline. Not iNteger. Also, <code>System.out.printf</code> is a thing you might use. <code>for (int i = 1; i &lt; 11; i++) { System.out.printf(&quot;%2d * %2d = %2d%n&quot;, 5, i, 5 * i); }</code>"},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1675316040,"post_id":75319022,"comment_id":132903602,"body_markdown":"`&quot;%2n&quot;` -&gt; `&quot;%2d&quot;`","body":"<code>&quot;%2n&quot;</code> -&gt; <code>&quot;%2d&quot;</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675316333,"post_id":75319022,"comment_id":132903645,"body_markdown":"*&quot;to right align by 2 space&quot;* - That&#39;s not what the javadocs for `Formatter` says will happen: https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax","body":"<i>&quot;to right align by 2 space&quot;</i> - That&#39;s not what the javadocs for <code>Formatter</code> says will happen: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675316453,"post_id":75319022,"comment_id":132903670,"body_markdown":"@NIKUNJKOTHIYA - We know.  But you don&#39;t mention the javadoc in your answer ... or attempt to *explain* what was wrong with the OP&#39;s version.   And ... did you **really** have to post a link to an image?  See [Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551).  The information could easily be conveyed without a pesky image ... which renders with ridiculously tiny writing in my browser.","body":"@NIKUNJKOTHIYA - We know.  But you don&#39;t mention the javadoc in your answer ... or attempt to <i>explain</i> what was wrong with the OP&#39;s version.   And ... did you <b>really</b> have to post a link to an image?  See <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>.  The information could easily be conveyed without a pesky image ... which renders with ridiculously tiny writing in my browser."},{"owner":{"account_id":20275485,"reputation":2051,"user_id":14870617,"display_name":"NIKUNJ PATEL"},"score":0,"creation_date":1675316970,"post_id":75319022,"comment_id":132903768,"body_markdown":"@StephenC  Thanks for your comments. I have edited my answer as per your comment.","body":"@StephenC  Thanks for your comments. I have edited my answer as per your comment."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675317150,"post_id":75319022,"comment_id":132903798,"body_markdown":"Ahem ... you *half* addressed *one* of the three things I commented about :-)","body":"Ahem ... you <i>half</i> addressed <i>one</i> of the three things I commented about :-)"}],"answers":[{"tags":[],"owner":{"account_id":20275485,"reputation":2051,"user_id":14870617,"display_name":"NIKUNJ PATEL"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1675316902,"creation_date":1675316073,"answer_id":75319059,"question_id":75319022,"body_markdown":" \r\n\r\n&gt; To format an integer to a width of 2, you should use &quot;d&quot; instead of\r\n&gt; &quot;n&quot;.\r\n\r\nYou need to change system.out print line of code from  \r\n\r\n    System.out.println(&quot; 5 * &quot;+ String.format(&quot;%2n&quot;, i) + &quot; = &quot; + (5*i)); \r\n\r\n**To**\r\n\r\n    System.out.println(&quot; 5 * &quot; + String.format(&quot;%2d&quot;, i) + &quot; = &quot; + (5 * i));\r\n\r\nYour final code will be :\r\n\r\n    public class MultiplicationTable {\r\n        public static void main(String[] args) {\r\n            for (int i = 1; i &lt; 11; i++) {\r\n                System.out.println(&quot; 5 * &quot; + String.format(&quot;%2d&quot;, i) + &quot; = &quot; + (5 * i));\r\n            }\r\n        }\r\n    }\r\n\r\nResult : \r\n\r\n    5 *  1 = 55 *  2 = 10\r\n     5 *  3 = 15\r\n     5 *  4 = 20\r\n     5 *  5 = 255 *  6 = 30\r\n     5 *  7 = 35\r\n    5 *  8 = 40\r\n     5 *  9 = 45\r\n    5 * 10 = 50\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G3Bzu.png","title":"Aligning in java","body":"<blockquote>\n<p>To format an integer to a width of 2, you should use &quot;d&quot; instead of\n&quot;n&quot;.</p>\n</blockquote>\n<p>You need to change system.out print line of code from</p>\n<pre><code>System.out.println(&quot; 5 * &quot;+ String.format(&quot;%2n&quot;, i) + &quot; = &quot; + (5*i)); \n</code></pre>\n<p><strong>To</strong></p>\n<pre><code>System.out.println(&quot; 5 * &quot; + String.format(&quot;%2d&quot;, i) + &quot; = &quot; + (5 * i));\n</code></pre>\n<p>Your final code will be :</p>\n<pre><code>public class MultiplicationTable {\n    public static void main(String[] args) {\n        for (int i = 1; i &lt; 11; i++) {\n            System.out.println(&quot; 5 * &quot; + String.format(&quot;%2d&quot;, i) + &quot; = &quot; + (5 * i));\n        }\n    }\n}\n</code></pre>\n<p>Result :</p>\n<pre><code>5 *  1 = 55 *  2 = 10\n 5 *  3 = 15\n 5 *  4 = 20\n 5 *  5 = 255 *  6 = 30\n 5 *  7 = 35\n5 *  8 = 40\n 5 *  9 = 45\n5 * 10 = 50\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G3Bzu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G3Bzu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17464762,"reputation":21,"user_id":12661733,"display_name":"54ND339"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675316101,"creation_date":1675316101,"answer_id":75319063,"question_id":75319022,"body_markdown":"In the original code, String.format(&quot;%2n&quot;, i) is not a valid format specifier. The %n format specifier is used to insert a newline character, not to format a number. To format a number with a specific width, you should use %2d instead, where 2 is the width.\r\n\r\n```\r\npublic class MultiplicationTable {\r\n    public static void main(String[] args) {\r\n        for (int i = 1; i &lt; 11; i++) {\r\n            System.out.println(String.format(&quot; 5 * %2d = %2d&quot;, i, 5*i));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn this code, `String.format(&quot; 5 * %2d = %2d&quot;, i, 5*i)` creates a formatted string where `%2d` is used to format the two integer values `i` and `5*i` with a width of 2 characters.","title":"Aligning in java","body":"<p>In the original code, String.format(&quot;%2n&quot;, i) is not a valid format specifier. The %n format specifier is used to insert a newline character, not to format a number. To format a number with a specific width, you should use %2d instead, where 2 is the width.</p>\n<pre><code>public class MultiplicationTable {\n    public static void main(String[] args) {\n        for (int i = 1; i &lt; 11; i++) {\n            System.out.println(String.format(&quot; 5 * %2d = %2d&quot;, i, 5*i));\n        }\n    }\n}\n</code></pre>\n<p>In this code, <code>String.format(&quot; 5 * %2d = %2d&quot;, i, 5*i)</code> creates a formatted string where <code>%2d</code> is used to format the two integer values <code>i</code> and <code>5*i</code> with a width of 2 characters.</p>\n"}],"owner":{"account_id":27017499,"reputation":3,"user_id":20576062,"display_name":"Programmer up here"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75319059,"answer_count":2,"score":0,"last_activity_date":1675316902,"creation_date":1675315736,"question_id":75319022,"body_markdown":"I am trying to print the multiplication table using java 19.0.2, using the following code:\r\n\r\n```\r\npublic class MultiplicationTable {\r\n    public static void main(String[] args) {\r\n        for (int i = 1; i &lt; 11; i++) {\r\n            System.out.println(&quot; 5 * &quot;+ String.format(&quot;%2n&quot;, i) + &quot; = &quot; + (5*i)); \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd I get this error output:\r\n\r\n```\r\nException in thread &quot;main&quot; java.util.IllegalFormatWidthException: 2\r\n        at java.base/java.util.Formatter$FormatSpecifier.checkText(Formatter.java:3313)\r\n        at java.base/java.util.Formatter$FormatSpecifier.&lt;init&gt;(Formatter.java:2996)\r\n        at java.base/java.util.Formatter.parse(Formatter.java:2839)\r\n        at java.base/java.util.Formatter.format(Formatter.java:2763)\r\n        at java.base/java.util.Formatter.format(Formatter.java:2717)\r\n        at java.base/java.lang.String.format(String.java:4150)\r\n        at HelloWorld.main(HelloWorld.java:4)\r\n```\r\n\r\nCan someone help?\r\n","title":"Aligning in java","body":"<p>I am trying to print the multiplication table using java 19.0.2, using the following code:</p>\n<pre><code>public class MultiplicationTable {\n    public static void main(String[] args) {\n        for (int i = 1; i &lt; 11; i++) {\n            System.out.println(&quot; 5 * &quot;+ String.format(&quot;%2n&quot;, i) + &quot; = &quot; + (5*i)); \n        }\n    }\n}\n</code></pre>\n<p>And I get this error output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.IllegalFormatWidthException: 2\n        at java.base/java.util.Formatter$FormatSpecifier.checkText(Formatter.java:3313)\n        at java.base/java.util.Formatter$FormatSpecifier.&lt;init&gt;(Formatter.java:2996)\n        at java.base/java.util.Formatter.parse(Formatter.java:2839)\n        at java.base/java.util.Formatter.format(Formatter.java:2763)\n        at java.base/java.util.Formatter.format(Formatter.java:2717)\n        at java.base/java.lang.String.format(String.java:4150)\n        at HelloWorld.main(HelloWorld.java:4)\n</code></pre>\n<p>Can someone help?</p>\n"},{"tags":["java","spring","firefox","vaadin"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1675263422,"post_id":75312042,"comment_id":132891159,"body_markdown":"A refresh should be noticable since it&#39;s a new request to your webapp. But you won&#39;t be able to distinguish if it&#39;s an actual refresh or some other request with the same url. You cannot detect the other two events unless the browser specifically tells you about it, which it doesn&#39;t.","body":"A refresh should be noticable since it&#39;s a new request to your webapp. But you won&#39;t be able to distinguish if it&#39;s an actual refresh or some other request with the same url. You cannot detect the other two events unless the browser specifically tells you about it, which it doesn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675316714,"creation_date":1675316714,"answer_id":75319117,"question_id":75312042,"body_markdown":"There cannot be any guarantee about definitely detecting closing a tab or the browser since they might happen while the user is offline. This means that you shouldn&#39;t design your application in a way that relies on that. What you can rely on is that the session will be expired if there is no activity from the user in a given duration.\r\n\r\nYou can detect refreshes by enabling the preserve on refresh feature and overriding the `refresh` method in your `UI` class since it will be run by the framework when a refresh occurs.","title":"How to detect refresh, tab closing, webrowser closing. Vaadin 6, Java 8, Sping, Must work on Firefox","body":"<p>There cannot be any guarantee about definitely detecting closing a tab or the browser since they might happen while the user is offline. This means that you shouldn't design your application in a way that relies on that. What you can rely on is that the session will be expired if there is no activity from the user in a given duration.</p>\n<p>You can detect refreshes by enabling the preserve on refresh feature and overriding the <code>refresh</code> method in your <code>UI</code> class since it will be run by the framework when a refresh occurs.</p>\n"}],"owner":{"account_id":23011123,"reputation":11,"user_id":17133653,"display_name":"Dar Gbu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1675316714,"creation_date":1675263231,"question_id":75312042,"body_markdown":"Hi How to detect refresh, tab closing, webrowser closing in Firefox? Im using Java 8, Spring na Vaadin 6 libraries for now. Javscript solution mentioned many times on this portal dont work in my case.\r\n\r\nRegards","title":"How to detect refresh, tab closing, webrowser closing. Vaadin 6, Java 8, Sping, Must work on Firefox","body":"<p>Hi How to detect refresh, tab closing, webrowser closing in Firefox? Im using Java 8, Spring na Vaadin 6 libraries for now. Javscript solution mentioned many times on this portal dont work in my case.</p>\n<p>Regards</p>\n"},{"tags":["java","json","java-8","qjsonobject"],"comments":[{"owner":{"account_id":1189982,"reputation":671,"user_id":2515377,"accept_rate":78,"display_name":"Kenpachi"},"score":1,"creation_date":1675321723,"post_id":75319070,"comment_id":132904658,"body_markdown":"Please try working this out by yourself, and add more details about what are the things that you tried. StackOverflow isn&#39;t really the platform to ask &quot;Solve this problem for me&quot; kind of questions. Trying to solve it by yourself would be helpful in you understanding the solution as well, and help you to be a better software developer.","body":"Please try working this out by yourself, and add more details about what are the things that you tried. StackOverflow isn&#39;t really the platform to ask &quot;Solve this problem for me&quot; kind of questions. Trying to solve it by yourself would be helpful in you understanding the solution as well, and help you to be a better software developer."},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1675328273,"post_id":75319070,"comment_id":132906205,"body_markdown":"Library _Josson &amp; Jossons_ has JSON datasets join and transformation operations and is capable to do you request by simple expressions. I&#39;m the author of the library. If you want to try, I can post the solution.","body":"Library <i>Josson &amp; Jossons</i> has JSON datasets join and transformation operations and is capable to do you request by simple expressions. I&#39;m the author of the library. If you want to try, I can post the solution."}],"owner":{"account_id":24983750,"reputation":13,"user_id":18845760,"display_name":"Sucheta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675316176,"creation_date":1675316176,"question_id":75319070,"body_markdown":"I want to join two json objects on the basis of their ids.\r\n\r\n    List&lt;JsonObject&gt; result1 = getRecordsFromDB1();\r\n    List&lt;JsonObject&gt; result2 = getRecordsFromDB2();\r\n    \r\n    result1 = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table1&quot;,&quot;DB1_COUNT&quot;:&quot;10&quot;}, {&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table2&quot;,&quot;DB1_COUNT&quot;:&quot;20&quot;}}];\r\n    \r\n    result2 = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB2_TABLE_NAME&quot;:&quot;Table1&quot;,&quot;DB2_COUNT&quot;:&quot;10&quot;}, {&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB2_TABLE_NAME&quot;:&quot;Table2&quot;,&quot;DB2_COUNT&quot;:&quot;40&quot;}}];\r\n\r\nI want to calculate the difference between the count for each table in both the databases.\r\n\r\nI want two lists success and reject in the following format where I can have the table name from both the database alsong with a property DIFF_COUNT which is the difference between DB2_COUNT-DB1_COUNT. If difference in count is 0 than success else reject.\r\n\r\n    List&lt;JsonObject&gt; success = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table1&quot;,DB2_TABLE_NAME:&quot;Table1&quot;,&quot;DIFF_COUNT&quot;:0}]\r\n    \r\n    List&lt;JsonObject&gt; reject = [{&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table2&quot;,DB2_TABLE_NAME:&quot;Table2&quot;,&quot;DIFF_COUNT&quot;:20}]\r\n\r\n","title":"Inner Join Two List of Json Objects in Java","body":"<p>I want to join two json objects on the basis of their ids.</p>\n<pre><code>List&lt;JsonObject&gt; result1 = getRecordsFromDB1();\nList&lt;JsonObject&gt; result2 = getRecordsFromDB2();\n\nresult1 = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table1&quot;,&quot;DB1_COUNT&quot;:&quot;10&quot;}, {&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table2&quot;,&quot;DB1_COUNT&quot;:&quot;20&quot;}}];\n\nresult2 = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB2_TABLE_NAME&quot;:&quot;Table1&quot;,&quot;DB2_COUNT&quot;:&quot;10&quot;}, {&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB2_TABLE_NAME&quot;:&quot;Table2&quot;,&quot;DB2_COUNT&quot;:&quot;40&quot;}}];\n</code></pre>\n<p>I want to calculate the difference between the count for each table in both the databases.</p>\n<p>I want two lists success and reject in the following format where I can have the table name from both the database alsong with a property DIFF_COUNT which is the difference between DB2_COUNT-DB1_COUNT. If difference in count is 0 than success else reject.</p>\n<pre><code>List&lt;JsonObject&gt; success = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table1&quot;,DB2_TABLE_NAME:&quot;Table1&quot;,&quot;DIFF_COUNT&quot;:0}]\n\nList&lt;JsonObject&gt; reject = [{&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table2&quot;,DB2_TABLE_NAME:&quot;Table2&quot;,&quot;DIFF_COUNT&quot;:20}]\n</code></pre>\n"},{"tags":["java","eclipse","for-loop","visual-studio-code","java.util.scanner"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1675315675,"post_id":75318979,"comment_id":132903547,"body_markdown":"No: you haven&#39;t created `g` yet. Presumably `g` is supposed to be a two dimensional int array, but you have no code anywhere that declares it as such before you start using it.","body":"No: you haven&#39;t created <code>g</code> yet. Presumably <code>g</code> is supposed to be a two dimensional int array, but you have no code anywhere that declares it as such before you start using it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1675315723,"post_id":75318979,"comment_id":132903556,"body_markdown":"What exactly do you think `int g[j][j]` does?","body":"What exactly do you think <code>int g[j][j]</code> does?"},{"owner":{"account_id":24327234,"reputation":33,"user_id":18266616,"display_name":"Samrudh S"},"score":0,"creation_date":1675315930,"post_id":75318979,"comment_id":132903588,"body_markdown":"int g[j][j] = sc.nextInt(). Isn&#39;t this declaring and initialising both ? I did the same thing for n before this. I directly declared and initialised n in int n = sc.nextInt(); @Mike&#39;Pomax&#39;Kamermans","body":"int g[j][j] = sc.nextInt(). Isn&#39;t this declaring and initialising both ? I did the same thing for n before this. I directly declared and initialised n in int n = sc.nextInt(); @Mike&#39;Pomax&#39;Kamermans"},{"owner":{"account_id":24327234,"reputation":33,"user_id":18266616,"display_name":"Samrudh S"},"score":0,"creation_date":1675316364,"post_id":75318979,"comment_id":132903650,"body_markdown":"It&#39;s supposed to be int g[j][k] sorry. @tgdavies","body":"It&#39;s supposed to be int g[j][k] sorry. @tgdavies"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1675316625,"post_id":75318979,"comment_id":132903700,"body_markdown":"No, it does not. Clearly your `g` is a 2d int array, so even if this worked (which is doesn&#39;t =) it&#39;s definitely not an `int`.","body":"No, it does not. Clearly your <code>g</code> is a 2d int array, so even if this worked (which is doesn&#39;t =) it&#39;s definitely not an <code>int</code>."}],"answers":[{"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675315950,"creation_date":1675315950,"answer_id":75319045,"question_id":75318979,"body_markdown":"this is most likely what you want to achieve:\r\n```java\r\n        int g[][] = new int[n][n];\r\n\r\n        for (int j = 0; j &lt; n; j++) {\r\n            for (int k = 0; k &lt; n; k++) {\r\n                g[j][k] = sc.nextInt();\r\n            }\r\n        }\r\n```\r\nYou have to initialize the array with a specific size, only then you can assign values at a given indexes.\r\n","title":"g cannot be resolved to a variable","body":"<p>this is most likely what you want to achieve:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        int g[][] = new int[n][n];\n\n        for (int j = 0; j &lt; n; j++) {\n            for (int k = 0; k &lt; n; k++) {\n                g[j][k] = sc.nextInt();\n            }\n        }\n</code></pre>\n<p>You have to initialize the array with a specific size, only then you can assign values at a given indexes.</p>\n"}],"owner":{"account_id":24327234,"reputation":33,"user_id":18266616,"display_name":"Samrudh S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75319045,"answer_count":1,"score":-1,"last_activity_date":1675315950,"creation_date":1675315327,"question_id":75318979,"body_markdown":"g cannot be resolved to a variable is the error popping up. I&#39;ve initialised g in the for loop, so why this error ? I&#39;m a beginner, so can anybody explain in as many simple and understandable words as possible. \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Bellman {\r\n    public static void main(String[] args) {\r\n    \t\r\n    \tScanner sc = new Scanner(System.in);\r\n    \t\r\n    \tSystem.out.println(&quot;Enter the number of nodes&quot;);\r\n    \tint n = sc.nextInt();\r\n    \t\r\n    \tSystem.out.println(&quot;Enter the cost matrix&quot;);\r\n    \t\r\n    \tfor (int j = 0; j&lt;n; j++) {\r\n    \t\tfor (int k = 0; k&lt;n; k++) {\r\n    \t\t\tint g[j][j] = sc.nextInt();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n    }\r\n\r\ng cannot be resolved to a variable. I&#39;ve initialised g in the for loop, so why this error ?","title":"g cannot be resolved to a variable","body":"<p>g cannot be resolved to a variable is the error popping up. I've initialised g in the for loop, so why this error ? I'm a beginner, so can anybody explain in as many simple and understandable words as possible.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Bellman {\npublic static void main(String[] args) {\n    \n    Scanner sc = new Scanner(System.in);\n    \n    System.out.println(&quot;Enter the number of nodes&quot;);\n    int n = sc.nextInt();\n    \n    System.out.println(&quot;Enter the cost matrix&quot;);\n    \n    for (int j = 0; j&lt;n; j++) {\n        for (int k = 0; k&lt;n; k++) {\n            int g[j][j] = sc.nextInt();\n        }\n    }\n    \n    \n\n}\n}\n</code></pre>\n<p>g cannot be resolved to a variable. I've initialised g in the for loop, so why this error ?</p>\n"},{"tags":["java","spring-boot","annotations","spring-aop","spring-annotations"],"owner":{"account_id":14547338,"reputation":9,"user_id":10507239,"display_name":"mHasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675335762,"answer_count":0,"score":0,"last_activity_date":1675315340,"creation_date":1675315247,"question_id":75318963,"body_markdown":"We have two custom annotations, @MerchantActivity and @Authorised. We want to execute the aspect of the @Authorised first and then the second one. But our system is automatically executing the aspect of @MerchantActivity first. How can we define execution sequence by ourselves?\r\n\r\n\r\n\r\n```\r\n@PostMapping(&quot;/{merchantId}/stores&quot;)\r\n@Authorised\r\n@MerchantActivity(title = &quot;add-store&quot;)\r\npublic ResponseEntity&lt;?&gt; addStore(@PathVariable(&quot;merchantId&quot;) String merchantId, @Valid @RequestBody StoreB store) \r\n{\r\n\tList&lt;StoreB&gt; res = merchantService.addStore(merchantId, store);\r\n\treturn ApiResponse.ok(res);\r\n}\r\n```","title":"How to define action sequence of multiple custom annotations on a single method signature on Spring Boot","body":"<p>We have two custom annotations, @MerchantActivity and @Authorised. We want to execute the aspect of the @Authorised first and then the second one. But our system is automatically executing the aspect of @MerchantActivity first. How can we define execution sequence by ourselves?</p>\n<pre><code>@PostMapping(&quot;/{merchantId}/stores&quot;)\n@Authorised\n@MerchantActivity(title = &quot;add-store&quot;)\npublic ResponseEntity&lt;?&gt; addStore(@PathVariable(&quot;merchantId&quot;) String merchantId, @Valid @RequestBody StoreB store) \n{\n    List&lt;StoreB&gt; res = merchantService.addStore(merchantId, store);\n    return ApiResponse.ok(res);\n}\n</code></pre>\n"},{"tags":["java","css","web-applications","vaadin"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1675321156,"post_id":75316483,"comment_id":132904533,"body_markdown":"Sidenote: Vaadin 19 is no longer maintained, the maintained branch is Vaadin 23, so I would consider upgrading to it.","body":"Sidenote: Vaadin 19 is no longer maintained, the maintained branch is Vaadin 23, so I would consider upgrading to it."},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1675321374,"post_id":75316483,"comment_id":132904584,"body_markdown":"Does this answer your question? [How to style grid cells in vaadin](https://stackoverflow.com/questions/74452065/how-to-style-grid-cells-in-vaadin)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74452065/how-to-style-grid-cells-in-vaadin\">How to style grid cells in vaadin</a>"}],"owner":{"account_id":8619641,"reputation":23,"user_id":6455058,"display_name":"Muhammet Kurt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675314931,"creation_date":1675287619,"question_id":75316483,"body_markdown":"Ellipsis added end of long string in vaadin&#39;s gridPro\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI want to add ellipsis end of long texts which are longer than vaadin&#39;s gridPro cells. I am using vaadin 19.8.4 version. I am newbie with css and vaadin.\r\n\r\nI have created css file and tried to use it with `setId()` after `grid.addColumn()`  but none of them worked.\r\n\r\nI have use chatGpt and it suggest me a lot of ways but none of them too did not worked.\r\n\r\nSome of these solutions only changed appearance of column&#39;s name, not content. \r\n\r\nI&#39;ve also tried `` and `setCellStyleGenerator()` methods but my vaadin didn&#39;t recognize these methods.\r\n\r\n\r\nI have tried  below code snippets separately:\r\n\r\n\t\tgrid.addColumn().setFlexGrow(1).getElement()\r\n\t\t\t\t.getStyle()\r\n\t\t\t\t.set(&quot;max-width&quot;, &quot;100px&quot;)\r\n\t\t\t\t.set(&quot;overflow&quot;, &quot;hidden&quot;)\r\n\t\t\t\t.set(&quot;text-overflow&quot;, &quot;ellipsis&quot;)\r\n\t\t\t\t.set(&quot;white-space&quot;, &quot;nowrap&quot;);\r\n\r\n\r\n\r\n\t\tgrid.getElement().executeJs(&quot;$0.getElementsByClassName(&#39;your-column&#39;)[0].style.setProperty(&#39;max-width&#39;, &#39;100px&#39;)&quot;,\r\n\t\t\t\tgrid.getElement().getNode());\r\n\t\tgrid.getElement().executeJs(&quot;$0.getElementsByClassName(&#39;your-column&#39;)[0].style.setProperty(&#39;text-overflow&#39;, &#39;ellipsis&#39;)&quot;,\r\n\t\t\t\tgrid.getElement().getNode());\r\n\t\tgrid.getElement().executeJs(&quot;$0.getElementsByClassName(&#39;your-column&#39;)[0].style.setProperty(&#39;white-space&#39;, &#39;nowrap&#39;)&quot;,\r\n\t\t\t\tgrid.getElement().getNode());    \r\n\r\n    .setStyleGenerator()\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/juCT7.png","title":"How to add ellipsis end of long text in vaadin&#39;s gridPro cell?","body":"<p>Ellipsis added end of long string in vaadin's gridPro</p>\n<p><a href=\"https://i.stack.imgur.com/juCT7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/juCT7.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to add ellipsis end of long texts which are longer than vaadin's gridPro cells. I am using vaadin 19.8.4 version. I am newbie with css and vaadin.</p>\n<p>I have created css file and tried to use it with <code>setId()</code> after <code>grid.addColumn()</code>  but none of them worked.</p>\n<p>I have use chatGpt and it suggest me a lot of ways but none of them too did not worked.</p>\n<p>Some of these solutions only changed appearance of column's name, not content.</p>\n<p>I've also tried `` and <code>setCellStyleGenerator()</code> methods but my vaadin didn't recognize these methods.</p>\n<p>I have tried  below code snippets separately:</p>\n<pre><code>    grid.addColumn().setFlexGrow(1).getElement()\n            .getStyle()\n            .set(&quot;max-width&quot;, &quot;100px&quot;)\n            .set(&quot;overflow&quot;, &quot;hidden&quot;)\n            .set(&quot;text-overflow&quot;, &quot;ellipsis&quot;)\n            .set(&quot;white-space&quot;, &quot;nowrap&quot;);\n\n\n\n    grid.getElement().executeJs(&quot;$0.getElementsByClassName('your-column')[0].style.setProperty('max-width', '100px')&quot;,\n            grid.getElement().getNode());\n    grid.getElement().executeJs(&quot;$0.getElementsByClassName('your-column')[0].style.setProperty('text-overflow', 'ellipsis')&quot;,\n            grid.getElement().getNode());\n    grid.getElement().executeJs(&quot;$0.getElementsByClassName('your-column')[0].style.setProperty('white-space', 'nowrap')&quot;,\n            grid.getElement().getNode());    \n\n.setStyleGenerator()\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":9298667,"reputation":152,"user_id":6904872,"display_name":"Naresh Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675314808,"creation_date":1675314808,"answer_id":75318923,"question_id":75318546,"body_markdown":"Before getting the username from the token your need to validate the token \r\n\r\nIn your ``JwtUtil`` class add a method to validate the token\r\n \r\n\r\n     public boolean validateJwtToken(String authToken) {\r\n    \t\ttry {\r\n    \t\t\tJwts.parser().setSigningKey(JWT_SECRET).parseClaimsJws(authToken);\r\n    \t\t\treturn true;\r\n    \t\t} catch (SignatureException e) {\r\n    \t\t\tlog.error(&quot;Invalid signature: {}&quot;, e.getMessage());\r\n    \t\t} catch (MalformedJwtException e) {\r\n    \t\t\tlog.error(&quot;Invalid token: {}&quot;, e.getMessage());\r\n    \t\t} catch (ExpiredJwtException e) {\r\n    \t\t\tlog.error(&quot;token is expired: {}&quot;, e.getMessage());\r\n    \t\t} catch (UnsupportedJwtException e) {\r\n    \t\t\tlog.error(&quot;token is unsupported: {}&quot;, e.getMessage());\r\n    \t\t} catch (IllegalArgumentException e) {\r\n    \t\t\tlog.error(&quot;claims string is empty: {}&quot;, e.getMessage());\r\n    \t\t}\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n\r\n\r\nand inside your ``JWTFilter`` class\r\nchange \r\n\r\n    if (jwt.isBlank()) {\r\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\r\n                } \r\nto\r\n  \r\n\r\n     if (jwt.isBlank() &amp;&amp; jwtUtil.validateJwtToken(jwt)) {\r\n                        response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\r\n                    } ","title":"Spring Sequrity Invalid JWT AccessDeniedException. Unable to handle the Spring Security Exception because the response is already committed","body":"<p>Before getting the username from the token your need to validate the token</p>\n<p>In your <code>JwtUtil</code> class add a method to validate the token</p>\n<pre><code> public boolean validateJwtToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(JWT_SECRET).parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            log.error(&quot;Invalid signature: {}&quot;, e.getMessage());\n        } catch (MalformedJwtException e) {\n            log.error(&quot;Invalid token: {}&quot;, e.getMessage());\n        } catch (ExpiredJwtException e) {\n            log.error(&quot;token is expired: {}&quot;, e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            log.error(&quot;token is unsupported: {}&quot;, e.getMessage());\n        } catch (IllegalArgumentException e) {\n            log.error(&quot;claims string is empty: {}&quot;, e.getMessage());\n        }\n\n        return false;\n    }\n</code></pre>\n<p>and inside your <code>JWTFilter</code> class\nchange</p>\n<pre><code>if (jwt.isBlank()) {\n                response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\n            } \n</code></pre>\n<p>to</p>\n<pre><code> if (jwt.isBlank() &amp;&amp; jwtUtil.validateJwtToken(jwt)) {\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\n                } \n</code></pre>\n"}],"owner":{"account_id":23439099,"reputation":1,"user_id":21129962,"display_name":"Artyom104"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675314808,"creation_date":1675310472,"question_id":75318546,"body_markdown":"When I use Postman and try to send a request to `/main` (or to `/admin`) I get an AccessDeniedException. \r\n\r\nAt the same time, if I send a request to `/auth/login` or `/auth/registration`, then everything will be fine and there will be a `BAD_REQUEST` in the response body (because of `sendError(HttpServletResponse.SC_BAD_REQUEST)`). \r\n\r\nIf there is no header or if it is empty, then everything also works correctly. \r\n\r\nThe error occurs only when the token is not valid and requests are sent to `/main` and `/admin`.\r\n\r\n```\r\n2023-02-02T07:38:42.180+04:00 ERROR 947458 --- [io-10480-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Unable to handle the Spring Security Exception because the response is already committed.] with root cause\r\n\r\nrg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat levit104.springcourse.jwtapp.config.JWTFilter.doFilterInternal(JWTFilter.java:71) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\n```java\r\n@Component\r\n@AllArgsConstructor\r\npublic class JWTFilter extends OncePerRequestFilter {\r\n    private final JWTUtil jwtUtil;\r\n    private final PersonDetailsService personDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n\r\n        if (Objects.nonNull(authHeader) &amp;&amp; !authHeader.isBlank() &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\r\n            String jwt = authHeader.substring(7);\r\n\r\n            if (jwt.isBlank()) {\r\n                response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\r\n            } else {\r\n                try {\r\n                    String username = jwtUtil.validateTokenAndGetClaim(jwt);\r\n\r\n                    UserDetails userDetails = personDetailsService.loadUserByUsername(username);\r\n\r\n                    UsernamePasswordAuthenticationToken authToken =\r\n                            new UsernamePasswordAuthenticationToken(\r\n                                    userDetails, userDetails.getPassword(), userDetails.getAuthorities());\r\n\r\n                    if (Objects.isNull(SecurityContextHolder.getContext().getAuthentication())) {\r\n                        SecurityContextHolder.getContext().setAuthentication(authToken);\r\n                    }\r\n\r\n                } catch (JWTVerificationException exception) {\r\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\r\n                    // return;\r\n                    // TODO Temp Fix\r\n                }\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\n@Configuration\r\n@AllArgsConstructor\r\npublic class SecurityConfig {\r\n    private final JWTFilter jwtFilter;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/auth/login&quot;, &quot;/auth/registration&quot;, &quot;/error&quot;).permitAll()\r\n                .anyRequest().hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                .and()\r\n                .logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/auth/login&quot;)\r\n                .and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfiguration) throws Exception {\r\n        return authConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```java\r\n    private static final long EXPIRATION_MINUTES = 60;\r\n    private static final String SUBJECT = &quot;User Details&quot;;\r\n    private static final String ISSUER = &quot;jwt-spring-app&quot;;\r\n    private static final String JWT_SECRET = &quot;JWT-AUTH-SPRING-BACKEND-APP&quot;; //TODO\r\n\r\n    public String generateToken(String username) {\r\n        Instant expirationDate = Instant.from(ZonedDateTime.now().plusMinutes(EXPIRATION_MINUTES));\r\n        return JWT.create()\r\n                .withSubject(SUBJECT)\r\n                .withClaim(&quot;username&quot;, username)\r\n                .withIssuedAt(Instant.now())\r\n                .withIssuer(ISSUER)\r\n                .withExpiresAt(expirationDate)\r\n                .sign(Algorithm.HMAC256(JWT_SECRET));\r\n    }\r\n\r\n    public String validateTokenAndGetClaim(String token) throws JWTVerificationException {\r\n        JWTVerifier jwtVerifier = JWT.require(Algorithm.HMAC256(JWT_SECRET))\r\n                .withSubject(SUBJECT)\r\n                .withIssuer(ISSUER)\r\n                .build();\r\n        DecodedJWT decodedJWT = jwtVerifier.verify(token); // throws JWTVerificationException\r\n        return decodedJWT.getClaim(&quot;username&quot;).asString();\r\n    }\r\n```\r\n\r\nIn addition, if I add `return` to the catch block, the error will no longer occur.","title":"Spring Sequrity Invalid JWT AccessDeniedException. Unable to handle the Spring Security Exception because the response is already committed","body":"<p>When I use Postman and try to send a request to <code>/main</code> (or to <code>/admin</code>) I get an AccessDeniedException.</p>\n<p>At the same time, if I send a request to <code>/auth/login</code> or <code>/auth/registration</code>, then everything will be fine and there will be a <code>BAD_REQUEST</code> in the response body (because of <code>sendError(HttpServletResponse.SC_BAD_REQUEST)</code>).</p>\n<p>If there is no header or if it is empty, then everything also works correctly.</p>\n<p>The error occurs only when the token is not valid and requests are sent to <code>/main</code> and <code>/admin</code>.</p>\n<pre><code>2023-02-02T07:38:42.180+04:00 ERROR 947458 --- [io-10480-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Unable to handle the Spring Security Exception because the response is already committed.] with root cause\n\nrg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at levit104.springcourse.jwtapp.config.JWTFilter.doFilterInternal(JWTFilter.java:71) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@AllArgsConstructor\npublic class JWTFilter extends OncePerRequestFilter {\n    private final JWTUtil jwtUtil;\n    private final PersonDetailsService personDetailsService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        String authHeader = request.getHeader(&quot;Authorization&quot;);\n\n        if (Objects.nonNull(authHeader) &amp;&amp; !authHeader.isBlank() &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\n            String jwt = authHeader.substring(7);\n\n            if (jwt.isBlank()) {\n                response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\n            } else {\n                try {\n                    String username = jwtUtil.validateTokenAndGetClaim(jwt);\n\n                    UserDetails userDetails = personDetailsService.loadUserByUsername(username);\n\n                    UsernamePasswordAuthenticationToken authToken =\n                            new UsernamePasswordAuthenticationToken(\n                                    userDetails, userDetails.getPassword(), userDetails.getAuthorities());\n\n                    if (Objects.isNull(SecurityContextHolder.getContext().getAuthentication())) {\n                        SecurityContextHolder.getContext().setAuthentication(authToken);\n                    }\n\n                } catch (JWTVerificationException exception) {\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\n                    // return;\n                    // TODO Temp Fix\n                }\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableMethodSecurity\n@Configuration\n@AllArgsConstructor\npublic class SecurityConfig {\n    private final JWTFilter jwtFilter;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/auth/login&quot;, &quot;/auth/registration&quot;, &quot;/error&quot;).permitAll()\n                .anyRequest().hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\n                .and()\n                .logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/auth/login&quot;)\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfiguration) throws Exception {\n        return authConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final long EXPIRATION_MINUTES = 60;\n    private static final String SUBJECT = &quot;User Details&quot;;\n    private static final String ISSUER = &quot;jwt-spring-app&quot;;\n    private static final String JWT_SECRET = &quot;JWT-AUTH-SPRING-BACKEND-APP&quot;; //TODO\n\n    public String generateToken(String username) {\n        Instant expirationDate = Instant.from(ZonedDateTime.now().plusMinutes(EXPIRATION_MINUTES));\n        return JWT.create()\n                .withSubject(SUBJECT)\n                .withClaim(&quot;username&quot;, username)\n                .withIssuedAt(Instant.now())\n                .withIssuer(ISSUER)\n                .withExpiresAt(expirationDate)\n                .sign(Algorithm.HMAC256(JWT_SECRET));\n    }\n\n    public String validateTokenAndGetClaim(String token) throws JWTVerificationException {\n        JWTVerifier jwtVerifier = JWT.require(Algorithm.HMAC256(JWT_SECRET))\n                .withSubject(SUBJECT)\n                .withIssuer(ISSUER)\n                .build();\n        DecodedJWT decodedJWT = jwtVerifier.verify(token); // throws JWTVerificationException\n        return decodedJWT.getClaim(&quot;username&quot;).asString();\n    }\n</code></pre>\n<p>In addition, if I add <code>return</code> to the catch block, the error will no longer occur.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":0,"creation_date":1631023149,"post_id":69089252,"comment_id":122108262,"body_markdown":"Can see a similar kind of issue at https://stackoverflow.com/a/53647605/2933389. Can you please look at this answer, if it can help.","body":"Can see a similar kind of issue at <a href=\"https://stackoverflow.com/a/53647605/2933389\">stackoverflow.com/a/53647605/2933389</a>. Can you please look at this answer, if it can help."},{"owner":{"account_id":22681831,"reputation":11,"user_id":16852088,"display_name":"onlu174"},"score":0,"creation_date":1631026203,"post_id":69089252,"comment_id":122109764,"body_markdown":"@ParameshKorrakuti I see how my error looks similar to that in the link, but I don&#39;t know how to relate to it nor how to apply that soluthion to my situation. I do export my module `org.application`. Feel free to say where my thinking is wrong","body":"@ParameshKorrakuti I see how my error looks similar to that in the link, but I don&#39;t know how to relate to it nor how to apply that soluthion to my situation. I do export my module <code>org.application</code>. Feel free to say where my thinking is wrong"},{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":0,"creation_date":1631033300,"post_id":69089252,"comment_id":122112642,"body_markdown":"Hope, this answer help you. https://stackoverflow.com/a/42541096/2933389.","body":"Hope, this answer help you. <a href=\"https://stackoverflow.com/a/42541096/2933389\">stackoverflow.com/a/42541096/2933389</a>."},{"owner":{"account_id":22681831,"reputation":11,"user_id":16852088,"display_name":"onlu174"},"score":0,"creation_date":1631038994,"post_id":69089252,"comment_id":122114640,"body_markdown":"So tell me if I&#39;m thinking correctly - I need to export my module to `ALL-UNNAMED` at a compilation level using a --add-exports command?","body":"So tell me if I&#39;m thinking correctly - I need to export my module to <code>ALL-UNNAMED</code> at a compilation level using a --add-exports command?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1631539419,"post_id":69089252,"comment_id":122241846,"body_markdown":"Try making your module open and export all packages i.e. `open module org.application { exports org.application; }`","body":"Try making your module open and export all packages i.e. <code>open module org.application { exports org.application; }</code>"}],"answers":[{"tags":[],"owner":{"account_id":6309469,"reputation":1058,"user_id":4901496,"display_name":"sobczak.dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675314686,"creation_date":1675314686,"answer_id":75318910,"question_id":69089252,"body_markdown":"From stack trace, I assuming that you are using Java modules and your error is probably related with incorrect modules configuration in your `package-info.java` file.\r\n```\r\nCaused by: java.lang.IllegalAccessError: superinterface check failed: class org.application.Przystanki$HibernateProxy$sCX2Dgdo (in module org.application) cannot access class org.hibernate.proxy.ProxyConfiguration (in unnamed module @0x56e9a474) because module org.application does not read unnamed module @0x56e9a474\r\n```\r\nIn module `org.application`, please add in `module-info.java`:\r\n```\r\nrequires org.hibernate.orm.core;\r\n```\r\n\r\n","title":"Error while creating EntityManagerFactory","body":"<p>From stack trace, I assuming that you are using Java modules and your error is probably related with incorrect modules configuration in your <code>package-info.java</code> file.</p>\n<pre><code>Caused by: java.lang.IllegalAccessError: superinterface check failed: class org.application.Przystanki$HibernateProxy$sCX2Dgdo (in module org.application) cannot access class org.hibernate.proxy.ProxyConfiguration (in unnamed module @0x56e9a474) because module org.application does not read unnamed module @0x56e9a474\n</code></pre>\n<p>In module <code>org.application</code>, please add in <code>module-info.java</code>:</p>\n<pre><code>requires org.hibernate.orm.core;\n</code></pre>\n"}],"owner":{"account_id":22681831,"reputation":11,"user_id":16852088,"display_name":"onlu174"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675314686,"creation_date":1631021860,"question_id":69089252,"body_markdown":"I&#39;m making a Java application using JavaFX and Hibernate and when creating EntityManagerFactory this error pops out:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n\t... 5 more\r\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: Transport] Unable to build Hibernate SessionFactory\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:1495)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1415)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\r\n\tat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat org.application/org.application.App.&lt;clinit&gt;(App.java:19)\r\n\t... 11 more\r\nCaused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123)\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\r\n\tat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:181)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:312)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1410)\r\n\t... 15 more\r\nCaused by: org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\r\n\tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:91)\r\n\tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116)\r\n\tat org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:432)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:612)\r\n\tat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:126)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\r\n\t... 20 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88)\r\n\t... 29 more\r\nCaused by: java.lang.IllegalArgumentException: Could not create type\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:155)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\r\n\tat org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.load(ByteBuddyState.java:178)\r\n\tat org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.loadProxy(ByteBuddyState.java:102)\r\n\tat org.hibernate.proxy.pojo.bytebuddy.ByteBuddyProxyHelper.buildProxy(ByteBuddyProxyHelper.java:55)\r\n\tat org.hibernate.proxy.pojo.bytebuddy.ByteBuddyProxyFactory.postInstantiate(ByteBuddyProxyFactory.java:61)\r\n\tat org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:102)\r\n\tat org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:160)\r\n\tat org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:53)\r\n\t... 34 more\r\nCaused by: java.lang.IllegalStateException: java.lang.IllegalAccessError: superinterface check failed: class org.application.Przystanki$HibernateProxy$sCX2Dgdo (in module org.application) cannot access class org.hibernate.proxy.ProxyConfiguration (in unnamed module @0x56e9a474) because module org.application does not read unnamed module @0x56e9a474\r\n\tat net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup.injectRaw(ClassInjector.java:1624)\r\n\tat net.bytebuddy.dynamic.loading.ClassInjector$AbstractBase.inject(ClassInjector.java:114)\r\n\tat net.bytebuddy.dynamic.loading.ClassLoadingStrategy$UsingLookup.load(ClassLoadingStrategy.java:492)\r\n\tat net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:100)\r\n\tat net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6154)\r\n\tat org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.lambda$load$0(ByteBuddyState.java:182)\r\n\tat net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\r\n\t... 42 more\r\nCaused by: java.lang.IllegalAccessError: superinterface check failed: class org.application.Przystanki$HibernateProxy$sCX2Dgdo (in module org.application) cannot access class org.hibernate.proxy.ProxyConfiguration (in unnamed module @0x56e9a474) because module org.application does not read unnamed module @0x56e9a474\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.System$2.defineClass(System.java:2127)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:962)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup.injectRaw(ClassInjector.java:1622)\r\n\t... 48 more\r\n```\r\nI believe it showed up after an IDE update.\r\n\r\nNone of this happens when all the classes run wild and free without any packages and modules but thats what JavaFX needs so there they are.\r\n\r\nI&#39;ve spent a day or so searching for answers or clues but I have no idea how to fix it. I am a total newbie in all of this and would really appreciate any help.","title":"Error while creating EntityManagerFactory","body":"<p>I'm making a Java application using JavaFX and Hibernate and when creating EntityManagerFactory this error pops out:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.ExceptionInInitializerError\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    ... 5 more\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: Transport] Unable to build Hibernate SessionFactory\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:1495)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1415)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:56)\n    at java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\n    at java.persistence@2.2/javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\n    at org.application/org.application.App.&lt;clinit&gt;(App.java:19)\n    ... 11 more\nCaused by: org.hibernate.MappingException: Could not get constructor for org.hibernate.persister.entity.SingleTableEntityPersister\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:123)\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\n    at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:181)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:312)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1410)\n    ... 15 more\nCaused by: org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.entity.PojoEntityTuplizer]\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:91)\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructDefaultTuplizer(EntityTuplizerFactory.java:116)\n    at org.hibernate.tuple.entity.EntityMetamodel.&lt;init&gt;(EntityMetamodel.java:432)\n    at org.hibernate.persister.entity.AbstractEntityPersister.&lt;init&gt;(AbstractEntityPersister.java:612)\n    at org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:126)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\n    ... 20 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.hibernate.tuple.entity.EntityTuplizerFactory.constructTuplizer(EntityTuplizerFactory.java:88)\n    ... 29 more\nCaused by: java.lang.IllegalArgumentException: Could not create type\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:155)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:175)\n    at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.load(ByteBuddyState.java:178)\n    at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.loadProxy(ByteBuddyState.java:102)\n    at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyProxyHelper.buildProxy(ByteBuddyProxyHelper.java:55)\n    at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyProxyFactory.postInstantiate(ByteBuddyProxyFactory.java:61)\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.buildProxyFactory(PojoEntityTuplizer.java:102)\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.&lt;init&gt;(AbstractEntityTuplizer.java:160)\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.&lt;init&gt;(PojoEntityTuplizer.java:53)\n    ... 34 more\nCaused by: java.lang.IllegalStateException: java.lang.IllegalAccessError: superinterface check failed: class org.application.Przystanki$HibernateProxy$sCX2Dgdo (in module org.application) cannot access class org.hibernate.proxy.ProxyConfiguration (in unnamed module @0x56e9a474) because module org.application does not read unnamed module @0x56e9a474\n    at net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup.injectRaw(ClassInjector.java:1624)\n    at net.bytebuddy.dynamic.loading.ClassInjector$AbstractBase.inject(ClassInjector.java:114)\n    at net.bytebuddy.dynamic.loading.ClassLoadingStrategy$UsingLookup.load(ClassLoadingStrategy.java:492)\n    at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:100)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6154)\n    at org.hibernate.bytecode.internal.bytebuddy.ByteBuddyState.lambda$load$0(ByteBuddyState.java:182)\n    at net.bytebuddy.TypeCache.findOrInsert(TypeCache.java:153)\n    ... 42 more\nCaused by: java.lang.IllegalAccessError: superinterface check failed: class org.application.Przystanki$HibernateProxy$sCX2Dgdo (in module org.application) cannot access class org.hibernate.proxy.ProxyConfiguration (in unnamed module @0x56e9a474) because module org.application does not read unnamed module @0x56e9a474\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.System$2.defineClass(System.java:2127)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:962)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at net.bytebuddy.dynamic.loading.ClassInjector$UsingLookup.injectRaw(ClassInjector.java:1622)\n    ... 48 more\n</code></pre>\n<p>I believe it showed up after an IDE update.</p>\n<p>None of this happens when all the classes run wild and free without any packages and modules but thats what JavaFX needs so there they are.</p>\n<p>I've spent a day or so searching for answers or clues but I have no idea how to fix it. I am a total newbie in all of this and would really appreciate any help.</p>\n"},{"tags":["java","file","file-io","hashmap"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1280261382,"post_id":3347504,"comment_id":3474519,"body_markdown":"What do you mean by &quot;does not give me the object in the format that I saved it&quot;?  Provide some examples of what you&#39;re seeing and what you expect.","body":"What do you mean by &quot;does not give me the object in the format that I saved it&quot;?  Provide some examples of what you&#39;re seeing and what you expect."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1280261654,"post_id":3347504,"comment_id":3474565,"body_markdown":"Why isn&#39;t your HashMap declared as `HashMap&lt;String,List&lt;String&gt;&gt;`?","body":"Why isn&#39;t your HashMap declared as <code>HashMap&lt;String,List&lt;String&gt;&gt;</code>?"},{"owner":{"account_id":169958,"reputation":904,"user_id":396364,"display_name":"Hbas"},"score":0,"creation_date":1280262482,"post_id":3347504,"comment_id":3474703,"body_markdown":"+1 for HashMap&lt;String,List&lt;String&gt;&gt;","body":"+1 for HashMap&lt;String,List&lt;String&gt;&gt;"},{"owner":{"account_id":635335,"reputation":199,"user_id":403828,"display_name":"lisam"},"score":0,"creation_date":1280262716,"post_id":3347504,"comment_id":3474741,"body_markdown":"It returns a table with 15 null elements and the &lt; mylist,[a,b,c] &gt; pair at the 3rd element. I want it to return only one element with the values I had provided to it in the first place.","body":"It returns a table with 15 null elements and the &lt; mylist,[a,b,c] &gt; pair at the 3rd element. I want it to return only one element with the values I had provided to it in the first place."},{"owner":{"account_id":2239,"reputation":7171,"user_id":3087,"display_name":"Cem Catikkas"},"score":0,"creation_date":1280263403,"post_id":3347504,"comment_id":3474857,"body_markdown":"See, ObjectOutputStream serializes the objects (HashMap in this case) in whatever format that ObjectInputStream will understand to deserialize and does so generically for any Serializable object. If you want it to serialize in the format that you desire you should write your own serializer/deserializer.","body":"See, ObjectOutputStream serializes the objects (HashMap in this case) in whatever format that ObjectInputStream will understand to deserialize and does so generically for any Serializable object. If you want it to serialize in the format that you desire you should write your own serializer/deserializer."},{"owner":{"account_id":119938,"reputation":7435,"user_id":312025,"accept_rate":66,"display_name":"Istao"},"score":3,"creation_date":1280264991,"post_id":3347504,"comment_id":3475164,"body_markdown":"What are the keys of the 15 null elements ? What is the result of fileObj.size() ?","body":"What are the keys of the 15 null elements ? What is the result of fileObj.size() ?"},{"owner":{"account_id":75323,"reputation":15516,"user_id":216111,"accept_rate":100,"display_name":"josefx"},"score":0,"creation_date":1280299590,"post_id":3347504,"comment_id":3478112,"body_markdown":"How do you see the 15 null elements? If only the third has a key value pair, then the other values are empty - this means the hashmap contains only one element - the one you stored.","body":"How do you see the 15 null elements? If only the third has a key value pair, then the other values are empty - this means the hashmap contains only one element - the one you stored."},{"owner":{"account_id":635335,"reputation":199,"user_id":403828,"display_name":"lisam"},"score":0,"creation_date":1280517368,"post_id":3347504,"comment_id":3506700,"body_markdown":"@Cem Catikkas you are right. Now I iterate through the HashMap and get the element I need. and do whatever it is that I have to with it.","body":"@Cem Catikkas you are right. Now I iterate through the HashMap and get the element I need. and do whatever it is that I have to with it."}],"answers":[{"tags":[],"owner":{"account_id":169958,"reputation":904,"user_id":396364,"display_name":"Hbas"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1282924053,"creation_date":1280262024,"answer_id":3347598,"question_id":3347504,"body_markdown":"I believe you&#180;re making a common mistake. You forgot to close the stream after using it!\r\n\r\n     File file = new File(&quot;temp&quot;);  \r\n     FileOutputStream f = new FileOutputStream(file);  \r\n     ObjectOutputStream s = new ObjectOutputStream(f);          \r\n     s.writeObject(fileObj);\r\n     s.close();","title":"How to read and write a HashMap to a file?","body":"<p>I believe you´re making a common mistake. You forgot to close the stream after using it!</p>\n\n<pre><code> File file = new File(\"temp\");  \n FileOutputStream f = new FileOutputStream(file);  \n ObjectOutputStream s = new ObjectOutputStream(f);          \n s.writeObject(fileObj);\n s.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":113718,"reputation":586,"user_id":299331,"accept_rate":80,"display_name":"aarestad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280264768,"creation_date":1280264768,"answer_id":3347993,"question_id":3347504,"body_markdown":"Your first line:\r\n\r\n    HashMap&lt;String,Object&gt; fileObj = new HashMap&lt;String,Object&gt;();\r\n\r\ngave me pause, as the values are not guaranteed to be `Serializable` and thus may not be written out correctly. You should really define the object as a `HashMap&lt;String, Serializable&gt;` (or if you prefer, simpy `Map&lt;String, Serializable&gt;`).\r\n\r\nI would also consider serializing the Map in a simple text format such as JSON since you are doing a simple `String -&gt; List&lt;String&gt;` mapping.","title":"How to read and write a HashMap to a file?","body":"<p>Your first line:</p>\n\n<pre><code>HashMap&lt;String,Object&gt; fileObj = new HashMap&lt;String,Object&gt;();\n</code></pre>\n\n<p>gave me pause, as the values are not guaranteed to be <code>Serializable</code> and thus may not be written out correctly. You should really define the object as a <code>HashMap&lt;String, Serializable&gt;</code> (or if you prefer, simpy <code>Map&lt;String, Serializable&gt;</code>).</p>\n\n<p>I would also consider serializing the Map in a simple text format such as JSON since you are doing a simple <code>String -&gt; List&lt;String&gt;</code> mapping.</p>\n"},{"tags":[],"owner":{"account_id":16868,"reputation":19586,"user_id":37193,"accept_rate":64,"display_name":"Stephen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280265284,"creation_date":1280265284,"answer_id":3348053,"question_id":3347504,"body_markdown":"I believe you&#39;re getting what you&#39;re saving.  Have you inspected the map before you save it?  In `HashMap`:\r\n\r\n    /**\r\n     * The default initial capacity - MUST be a power of two.\r\n     */\r\n    static final int DEFAULT_INITIAL_CAPACITY = 16;\r\n\r\ne.g. the default `HashMap` will start off with 16 `null`s.  You use one of the buckets, so you only have 15 `null`s left when you save, which is what you get when you load.\r\nTry inspecting `fileObj.keySet()`, `.entrySet()` or `.values()` to see what you expect.\r\n\r\n`HashMap`s are designed to be fast while trading off memory.  See [Wikipedia&#39;s Hash table][1] entry for more details.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Hash_table","title":"How to read and write a HashMap to a file?","body":"<p>I believe you're getting what you're saving.  Have you inspected the map before you save it?  In <code>HashMap</code>:</p>\n\n<pre><code>/**\n * The default initial capacity - MUST be a power of two.\n */\nstatic final int DEFAULT_INITIAL_CAPACITY = 16;\n</code></pre>\n\n<p>e.g. the default <code>HashMap</code> will start off with 16 <code>null</code>s.  You use one of the buckets, so you only have 15 <code>null</code>s left when you save, which is what you get when you load.\nTry inspecting <code>fileObj.keySet()</code>, <code>.entrySet()</code> or <code>.values()</code> to see what you expect.</p>\n\n<p><code>HashMap</code>s are designed to be fast while trading off memory.  See <a href=\"http://en.wikipedia.org/wiki/Hash_table\" rel=\"nofollow noreferrer\">Wikipedia's Hash table</a> entry for more details.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1357569996,"creation_date":1280298319,"answer_id":3350384,"question_id":3347504,"body_markdown":"You appear to be confusing the internal resprentation of a HashMap with how the HashMap behaves.  The collections are the same.  Here is a simple test to prove it to you.\r\n\r\n    public static void main(String... args)\r\n                                throws IOException, ClassNotFoundException {\r\n        HashMap&lt;String, Object&gt; fileObj = new HashMap&lt;String, Object&gt;();\r\n\r\n        ArrayList&lt;String&gt; cols = new ArrayList&lt;String&gt;();\r\n        cols.add(&quot;a&quot;);\r\n        cols.add(&quot;b&quot;);\r\n        cols.add(&quot;c&quot;);\r\n        fileObj.put(&quot;mylist&quot;, cols);\r\n        {\r\n            File file = new File(&quot;temp&quot;);\r\n            FileOutputStream f = new FileOutputStream(file);\r\n            ObjectOutputStream s = new ObjectOutputStream(f);\r\n            s.writeObject(fileObj);\r\n            s.close();\r\n        }\r\n        File file = new File(&quot;temp&quot;);\r\n        FileInputStream f = new FileInputStream(file);\r\n        ObjectInputStream s = new ObjectInputStream(f);\r\n        HashMap&lt;String, Object&gt; fileObj2 = (HashMap&lt;String, Object&gt;) s.readObject();\r\n        s.close();\r\n\r\n        Assert.assertEquals(fileObj.hashCode(), fileObj2.hashCode());\r\n        Assert.assertEquals(fileObj.toString(), fileObj2.toString());\r\n        Assert.assertTrue(fileObj.equals(fileObj2));\r\n    }","title":"How to read and write a HashMap to a file?","body":"<p>You appear to be confusing the internal resprentation of a HashMap with how the HashMap behaves.  The collections are the same.  Here is a simple test to prove it to you.</p>\n\n<pre><code>public static void main(String... args)\n                            throws IOException, ClassNotFoundException {\n    HashMap&lt;String, Object&gt; fileObj = new HashMap&lt;String, Object&gt;();\n\n    ArrayList&lt;String&gt; cols = new ArrayList&lt;String&gt;();\n    cols.add(\"a\");\n    cols.add(\"b\");\n    cols.add(\"c\");\n    fileObj.put(\"mylist\", cols);\n    {\n        File file = new File(\"temp\");\n        FileOutputStream f = new FileOutputStream(file);\n        ObjectOutputStream s = new ObjectOutputStream(f);\n        s.writeObject(fileObj);\n        s.close();\n    }\n    File file = new File(\"temp\");\n    FileInputStream f = new FileInputStream(file);\n    ObjectInputStream s = new ObjectInputStream(f);\n    HashMap&lt;String, Object&gt; fileObj2 = (HashMap&lt;String, Object&gt;) s.readObject();\n    s.close();\n\n    Assert.assertEquals(fileObj.hashCode(), fileObj2.hashCode());\n    Assert.assertEquals(fileObj.toString(), fileObj2.toString());\n    Assert.assertTrue(fileObj.equals(fileObj2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7398026,"reputation":1627,"user_id":5629298,"display_name":"Surendranath Sonawane"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508940529,"creation_date":1508940529,"answer_id":46934664,"question_id":3347504,"body_markdown":"you can also use JSON file to read and write MAP object.\r\n\r\n&gt; To write map object into JSON file\r\n\r\n    \tObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\tMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n\t\tmap.put(&quot;name&quot;, &quot;Suson&quot;);\r\n\t\tmap.put(&quot;age&quot;, 26);\r\n\r\n\t\t// write JSON to a file\r\n\t\tmapper.writeValue(new File(&quot;c:\\\\myData.json&quot;), map);\r\n\r\n&gt; To read map object from JSON file\r\n\r\n    \tObjectMapper mapper = new ObjectMapper();\r\n\r\n\t\t\t// read JSON from a file\r\n\t\t\tMap&lt;String, Object&gt; map = mapper.readValue(\r\n\t\t\t\t\tnew File(&quot;c:\\\\myData.json&quot;),\r\n\t\t\t\t\tnew TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n\t\t\t});\r\n\r\n\t\t\tSystem.out.println(map.get(&quot;name&quot;));\r\n\t\t\tSystem.out.println(map.get(&quot;age&quot;));\r\n\r\nand import ObjectMapper from com.fasterxml.jackson and put code in try catch block","title":"How to read and write a HashMap to a file?","body":"<p>you can also use JSON file to read and write MAP object.</p>\n\n<blockquote>\n  <p>To write map object into JSON file</p>\n</blockquote>\n\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n\n    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n    map.put(\"name\", \"Suson\");\n    map.put(\"age\", 26);\n\n    // write JSON to a file\n    mapper.writeValue(new File(\"c:\\\\myData.json\"), map);\n</code></pre>\n\n<blockquote>\n  <p>To read map object from JSON file</p>\n</blockquote>\n\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n\n        // read JSON from a file\n        Map&lt;String, Object&gt; map = mapper.readValue(\n                new File(\"c:\\\\myData.json\"),\n                new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n        });\n\n        System.out.println(map.get(\"name\"));\n        System.out.println(map.get(\"age\"));\n</code></pre>\n\n<p>and import ObjectMapper from com.fasterxml.jackson and put code in try catch block</p>\n"},{"tags":[],"owner":{"account_id":27248734,"reputation":9,"user_id":20773568,"display_name":"Nithesh Gowda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675314648,"creation_date":1675314648,"answer_id":75318906,"question_id":3347504,"body_markdown":"Same data if you want to write to a text file \r\n\r\n    public void writeToFile(Map&lt;String, List&lt;String&gt;&gt; failureMessage){\r\n        if(file!=null){\r\n            try{\r\n               BufferedWriter writer=new BufferedWriter(new FileWriter(file, true));\r\n                for (Map.Entry&lt;String, List&lt;String&gt;&gt; map : failureMessage.entrySet()) {\r\n                    writer.write(map.getKey()+&quot;\\n&quot;);\r\n                    for(String message:map.getValue()){\r\n                        writer.write(message+&quot;\\n&quot;);\r\n                    }\r\n                    writer.write(&quot;\\n&quot;);\r\n                }\r\n                writer.close();\r\n            }catch (Exception e){\r\n                System.out.println(&quot;Unable to write to file: &quot;+file.getPath());\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n","title":"How to read and write a HashMap to a file?","body":"<p>Same data if you want to write to a text file</p>\n<pre><code>public void writeToFile(Map&lt;String, List&lt;String&gt;&gt; failureMessage){\n    if(file!=null){\n        try{\n           BufferedWriter writer=new BufferedWriter(new FileWriter(file, true));\n            for (Map.Entry&lt;String, List&lt;String&gt;&gt; map : failureMessage.entrySet()) {\n                writer.write(map.getKey()+&quot;\\n&quot;);\n                for(String message:map.getValue()){\n                    writer.write(message+&quot;\\n&quot;);\n                }\n                writer.write(&quot;\\n&quot;);\n            }\n            writer.close();\n        }catch (Exception e){\n            System.out.println(&quot;Unable to write to file: &quot;+file.getPath());\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":635335,"reputation":199,"user_id":403828,"display_name":"lisam"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80509,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"answer_count":6,"score":19,"last_activity_date":1675314648,"creation_date":1280261241,"question_id":3347504,"body_markdown":"&lt;html&gt;\r\nI have the following **HashMap**:     \r\n    \r\n    HashMap&lt;String,Object&gt; fileObj = new HashMap&lt;String,Object&gt;();\r\n\r\n    ArrayList&lt;String&gt; cols = new ArrayList&lt;String&gt;();  \r\n    cols.add(&quot;a&quot;);  \r\n    cols.add(&quot;b&quot;);  \r\n    cols.add(&quot;c&quot;);  \r\n    fileObj.put(&quot;mylist&quot;,cols);  \r\n\r\nI write it to a file as follows:\r\n\r\n    File file = new File(&quot;temp&quot;);  \r\n    FileOutputStream f = new FileOutputStream(file);  \r\n    ObjectOutputStream s = new ObjectOutputStream(f);          \r\n    s.writeObject(fileObj);\r\n    s.flush();\r\n   \r\n\r\nNow I want to read this file back to a HashMap&lt;String, Object&gt; where the Object is an ArrayList&lt;String&gt;.\r\nIf i simply do:\r\n\r\n    File file = new File(&quot;temp&quot;);  \r\n    FileInputStream f = new FileInputStream(file);  \r\n    ObjectInputStream s = new ObjectInputStream(f);  \r\n    fileObj = (HashMap&lt;String,Object&gt;)s.readObject();         \r\n    s.close();\r\nThis does not give me the object in the format that I saved it in.\r\nIt returns a table with 15 null elements and the &lt; mylist,[a,b,c] &gt; pair at the 3rd element. I want it to return only one element with the values I had provided to it in the first place.    \r\n    //How can I read the same object back into a HashMap ?\r\n\r\nOK So based on Cem&#39;s note: This is what seems to be the correct explanation:\r\n\r\n**ObjectOutputStream serializes the objects (HashMap in this case) in whatever format that ObjectInputStream will understand to deserialize and does so generically for any Serializable object. \r\nIf you want it to serialize in the format that you desire you should write your own serializer/deserializer.**\r\n\r\n_In my case: I simply iterate through each of those elements in the HashMap when I read the Object back from the file and get the data and do whatever I want with it. (it enters the loop only at the point where there is data)._\r\n\r\n\r\nThanks,\r\n&lt;/html&gt;","title":"How to read and write a HashMap to a file?","body":"<p>\nI have the following <strong>HashMap</strong>:     </p>\n\n<pre><code>HashMap&lt;String,Object&gt; fileObj = new HashMap&lt;String,Object&gt;();\n\nArrayList&lt;String&gt; cols = new ArrayList&lt;String&gt;();  \ncols.add(\"a\");  \ncols.add(\"b\");  \ncols.add(\"c\");  \nfileObj.put(\"mylist\",cols);  \n</code></pre>\n\n<p>I write it to a file as follows:</p>\n\n<pre><code>File file = new File(\"temp\");  \nFileOutputStream f = new FileOutputStream(file);  \nObjectOutputStream s = new ObjectOutputStream(f);          \ns.writeObject(fileObj);\ns.flush();\n</code></pre>\n\n<p>Now I want to read this file back to a HashMap where the Object is an ArrayList.\nIf i simply do:</p>\n\n<pre><code>File file = new File(\"temp\");  \nFileInputStream f = new FileInputStream(file);  \nObjectInputStream s = new ObjectInputStream(f);  \nfileObj = (HashMap&lt;String,Object&gt;)s.readObject();         \ns.close();\n</code></pre>\n\n<p>This does not give me the object in the format that I saved it in.\nIt returns a table with 15 null elements and the &lt; mylist,[a,b,c] > pair at the 3rd element. I want it to return only one element with the values I had provided to it in the first place.<br>\n    //How can I read the same object back into a HashMap ?</p>\n\n<p>OK So based on Cem's note: This is what seems to be the correct explanation:</p>\n\n<p><strong>ObjectOutputStream serializes the objects (HashMap in this case) in whatever format that ObjectInputStream will understand to deserialize and does so generically for any Serializable object. \nIf you want it to serialize in the format that you desire you should write your own serializer/deserializer.</strong></p>\n\n<p><em>In my case: I simply iterate through each of those elements in the HashMap when I read the Object back from the file and get the data and do whatever I want with it. (it enters the loop only at the point where there is data).</em></p>\n\n<p>Thanks,\n</p>\n"},{"tags":["java","spring-boot","email"],"comments":[{"owner":{"account_id":28204,"reputation":1062,"user_id":75113,"display_name":"Ted M. Young"},"score":0,"creation_date":1670292447,"post_id":74694051,"comment_id":131837749,"body_markdown":"For Spring Boot 3, you probably need the jakarta (not javax) library &lt;dependency&gt;\n  &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\n  &lt;version&gt;1.6.4&lt;/version&gt;\n&lt;/dependency&gt;. See https://docs.spring.io/spring-framework/docs/6.0.2/reference/html/integration.html#mail for details.","body":"For Spring Boot 3, you probably need the jakarta (not javax) library &lt;dependency&gt;   &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;   &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;   &lt;version&gt;1.6.4&lt;/version&gt; &lt;/dependency&gt;. See <a href=\"https://docs.spring.io/spring-framework/docs/6.0.2/reference/html/integration.html#mail\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/6.0.2/reference/html/&hellip;</a> for details."},{"owner":{"account_id":25216567,"reputation":35,"user_id":19053632,"display_name":"LadySylwia"},"score":0,"creation_date":1670537884,"post_id":74694051,"comment_id":131903973,"body_markdown":"still the same. I thought it was a google authorization problem, I changed my mail to another one with a different domain but it keeps showing the same error.","body":"still the same. I thought it was a google authorization problem, I changed my mail to another one with a different domain but it keeps showing the same error."}],"answers":[{"tags":[],"owner":{"account_id":18383238,"reputation":445,"user_id":13390890,"display_name":"Abdullah Ismail"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670273494,"creation_date":1670273494,"answer_id":74694258,"question_id":74694051,"body_markdown":"    import org.springframework.mail.SimpleMailMessage;\r\n    import org.springframework.mail.javamail.JavaMailSenderImpl;\r\n\r\n    public void sendEmail(){\r\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n    mailSender.setHost(&quot;smtp.gmail.com&quot;);\r\n    mailSender.setPort(587);\r\n    mailSender.setUsername(&quot;yourEmail@example.com&quot;);\r\n    mailSender.setPassword(&quot;yourPassword&quot;);\r\n    SimpleMailMessage message = new SimpleMailMessage();\r\n    message.setFrom(&quot;sender@example.com&quot;);\r\n    message.setTo(&quot;receiver@example.com&quot;);\r\n    message.setSubject(&quot;Test Email&quot;);\r\n    message.setText(&quot;This is a test email sent using Spring Boot&quot;);\r\n    mailSender.send(message);\r\n    }","title":"Sending email via Spring Boot","body":"<pre><code>import org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\n\npublic void sendEmail(){\nJavaMailSenderImpl mailSender = new JavaMailSenderImpl();\nmailSender.setHost(&quot;smtp.gmail.com&quot;);\nmailSender.setPort(587);\nmailSender.setUsername(&quot;yourEmail@example.com&quot;);\nmailSender.setPassword(&quot;yourPassword&quot;);\nSimpleMailMessage message = new SimpleMailMessage();\nmessage.setFrom(&quot;sender@example.com&quot;);\nmessage.setTo(&quot;receiver@example.com&quot;);\nmessage.setSubject(&quot;Test Email&quot;);\nmessage.setText(&quot;This is a test email sent using Spring Boot&quot;);\nmailSender.send(message);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675314605,"creation_date":1670644747,"answer_id":74750259,"question_id":74694051,"body_markdown":"1. You don&#39;t need this, please remove it.\r\n\r\n\r\n`    &lt;dependency&gt;`\r\n`        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;`\r\n`        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;`\r\n`        &lt;version&gt;1.6.2&lt;/version&gt;`\r\n`    &lt;/dependency&gt;`\r\n\r\n2. Check MailSender import\r\n\r\nUSE `import org.springframework.mail.MailSender;`\r\n\r\nNOT `import org.springframework.mail.javamail.JavaMailSender;`\r\n\r\n3. spring-boot-starter-mail will create default MailSender , you don&#39;t create it (MailSender), just use `@Autowired private MailSender mailSender;`\r\n\r\nHello.java\r\n\r\n    package com.example.demo;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.mail.SimpleMailMessage;\r\n    //import org.springframework.mail.javamail.JavaMailSender;\r\n    import org.springframework.mail.MailSender;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    \r\n    public class Hello {\r\n        @Autowired\r\n        private MailSender mailSender;\r\n        @RequestMapping(&quot;/sendMail&quot;)\r\n        public String sendConfirmationEmail() {\r\n            SimpleMailMessage msg = new SimpleMailMessage();\r\n            msg.setTo(&quot;aaa@localhost&quot;);\r\n            msg.setSubject(&quot;Testing from Spring Boot&quot;);\r\n            msg.setText(&quot;Hello World from Spring Boot Email&quot;);\r\n            mailSender.send(msg);\r\n            return &quot;OK&quot;;\r\n        }\r\n    }\r\n\r\n\r\nI am test ok in my simple test project.\r\n\r\n`curl http://localhost:8080/sendMail`\r\n\r\nAnd I use FakeSmtp jar to my fake mail server.\r\n\r\nmy spring boot 3 pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo-mail&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo-mail&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nMY application.properties\r\n\r\n    spring.mail.host=localhost\r\n    spring.mail.port=2525\r\n    spring.mail.username=demo@localhost\r\n    spring.mail.password=demopassword\r\n    \r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.transport.protocol=smtp\r\n    spring.mail.properties.mail.smtps.quitwait=false\r\n    spring.mail.properties.mail.smtp.socketFactory.port=465\r\n    spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n\r\nDemoMailApplication.java \r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class DemoMailApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoMailApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n- DemoMailApplication.java\r\n- Hello.java\r\n- application.properties\r\n- pom.xml\r\n\r\n\r\n----------\r\n\r\n# Spring Boot 2.7.x send Mail with  attachments\r\n\r\n## pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## DemoApplication.java\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n## Hello.java\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.core.io.FileSystemResource;\r\nimport org.springframework.mail.MailSender;\r\nimport org.springframework.mail.SimpleMailMessage;\r\nimport org.springframework.mail.javamail.JavaMailSender;\r\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\r\nimport org.springframework.mail.javamail.MimeMessageHelper;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.mail.MessagingException;\r\nimport javax.mail.internet.MimeMessage;\r\nimport java.io.File;\r\n\r\n@RestController\r\n\r\npublic class Hello {\r\n    @Autowired\r\n    private JavaMailSenderImpl mailSender;\r\n    @RequestMapping(&quot;/sendMail&quot;)\r\n    public String sendConfirmationEmail() throws MessagingException {\r\n        MimeMessage message = mailSender.createMimeMessage();\r\n        MimeMessageHelper helper = new MimeMessageHelper(message, true);\r\n        helper.setTo(&quot;test@host.com&quot;);\r\n        helper.setText(&quot;Check out this image!&quot;);\r\n        FileSystemResource file = new FileSystemResource(new File(&quot;/YourAttachmentFile/Example.jpg&quot;));\r\n        helper.addAttachment(&quot;CoolImage.jpg&quot;, file);\r\n        mailSender.send(message);\r\n        return &quot;OK&quot;;\r\n    }\r\n}\r\n```\r\n\r\n## application.properties\r\n\r\n```\r\nspring.mail.host=localhost\r\nspring.mail.port=2525\r\nspring.mail.username=demo@localhost\r\nspring.mail.password=demopassword\r\nspring.mail.properties[mail.smtp.connectiontimeout]=5000\r\nspring.mail.properties[mail.smtp.timeout]=3000\r\nspring.mail.properties[mail.smtp.writetimeout]=5000\r\nspring.mail.properties.mail.smtp.auth=true\r\nspring.mail.properties.mail.transport.protocol=smtp\r\nspring.mail.properties.mail.smtps.quitwait=false\r\nspring.mail.properties.mail.smtp.socketFactory.port=465\r\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n```\r\n\r\n## Package\r\n\r\n```\r\nmvn clean package\r\n```\r\n\r\n## Run\r\n\r\n```\r\ncd target\r\njava -jar demo-0.0.1-SNAPSHOT.jar\r\n```\r\n\r\n## Test\r\n\r\n```\r\ncurl http://localhost:8080/sendMail\r\n```\r\n\r\n**You can use FakeSmtp as Dummy Mail Server**\r\n\r\n\r\n\r\n# REFERENCE\r\n\r\nExample Code is copy from spring-boot-reference-2.7.8.pdf ( **11.4. Sending Email** -&gt; TIP See the **reference documentation** ) -&gt; https://docs.spring.io/spring-framework/docs/5.3.25/reference/html/integration.html#mail (**6.2.1. Sending Attachments and Inline Resources**)\r\n","title":"Sending email via Spring Boot","body":"<ol>\n<li>You don't need this, please remove it.</li>\n</ol>\n<p><code>    &lt;dependency&gt;</code>\n<code>        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;</code>\n<code>        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;</code>\n<code>        &lt;version&gt;1.6.2&lt;/version&gt;</code>\n<code>    &lt;/dependency&gt;</code></p>\n<ol start=\"2\">\n<li>Check MailSender import</li>\n</ol>\n<p>USE <code>import org.springframework.mail.MailSender;</code></p>\n<p>NOT <code>import org.springframework.mail.javamail.JavaMailSender;</code></p>\n<ol start=\"3\">\n<li>spring-boot-starter-mail will create default MailSender , you don't create it (MailSender), just use <code>@Autowired private MailSender mailSender;</code></li>\n</ol>\n<p>Hello.java</p>\n<pre><code>package com.example.demo;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mail.SimpleMailMessage;\n//import org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.MailSender;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n\npublic class Hello {\n    @Autowired\n    private MailSender mailSender;\n    @RequestMapping(&quot;/sendMail&quot;)\n    public String sendConfirmationEmail() {\n        SimpleMailMessage msg = new SimpleMailMessage();\n        msg.setTo(&quot;aaa@localhost&quot;);\n        msg.setSubject(&quot;Testing from Spring Boot&quot;);\n        msg.setText(&quot;Hello World from Spring Boot Email&quot;);\n        mailSender.send(msg);\n        return &quot;OK&quot;;\n    }\n}\n</code></pre>\n<p>I am test ok in my simple test project.</p>\n<p><code>curl http://localhost:8080/sendMail</code></p>\n<p>And I use FakeSmtp jar to my fake mail server.</p>\n<p>my spring boot 3 pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo-mail&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo-mail&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>MY application.properties</p>\n<pre><code>spring.mail.host=localhost\nspring.mail.port=2525\nspring.mail.username=demo@localhost\nspring.mail.password=demopassword\n\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.transport.protocol=smtp\nspring.mail.properties.mail.smtps.quitwait=false\nspring.mail.properties.mail.smtp.socketFactory.port=465\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\n</code></pre>\n<p>DemoMailApplication.java</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoMailApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoMailApplication.class, args);\n    }\n}\n</code></pre>\n<ul>\n<li>DemoMailApplication.java</li>\n<li>Hello.java</li>\n<li>application.properties</li>\n<li>pom.xml</li>\n</ul>\n<hr />\n<h1>Spring Boot 2.7.x send Mail with  attachments</h1>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>DemoApplication.java</h2>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<h2>Hello.java</h2>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.io.FileSystemResource;\nimport org.springframework.mail.MailSender;\nimport org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\nimport org.springframework.mail.javamail.MimeMessageHelper;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.mail.MessagingException;\nimport javax.mail.internet.MimeMessage;\nimport java.io.File;\n\n@RestController\n\npublic class Hello {\n    @Autowired\n    private JavaMailSenderImpl mailSender;\n    @RequestMapping(&quot;/sendMail&quot;)\n    public String sendConfirmationEmail() throws MessagingException {\n        MimeMessage message = mailSender.createMimeMessage();\n        MimeMessageHelper helper = new MimeMessageHelper(message, true);\n        helper.setTo(&quot;test@host.com&quot;);\n        helper.setText(&quot;Check out this image!&quot;);\n        FileSystemResource file = new FileSystemResource(new File(&quot;/YourAttachmentFile/Example.jpg&quot;));\n        helper.addAttachment(&quot;CoolImage.jpg&quot;, file);\n        mailSender.send(message);\n        return &quot;OK&quot;;\n    }\n}\n</code></pre>\n<h2>application.properties</h2>\n<pre><code>spring.mail.host=localhost\nspring.mail.port=2525\nspring.mail.username=demo@localhost\nspring.mail.password=demopassword\nspring.mail.properties[mail.smtp.connectiontimeout]=5000\nspring.mail.properties[mail.smtp.timeout]=3000\nspring.mail.properties[mail.smtp.writetimeout]=5000\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.transport.protocol=smtp\nspring.mail.properties.mail.smtps.quitwait=false\nspring.mail.properties.mail.smtp.socketFactory.port=465\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\n</code></pre>\n<h2>Package</h2>\n<pre><code>mvn clean package\n</code></pre>\n<h2>Run</h2>\n<pre><code>cd target\njava -jar demo-0.0.1-SNAPSHOT.jar\n</code></pre>\n<h2>Test</h2>\n<pre><code>curl http://localhost:8080/sendMail\n</code></pre>\n<p><strong>You can use FakeSmtp as Dummy Mail Server</strong></p>\n<h1>REFERENCE</h1>\n<p>Example Code is copy from spring-boot-reference-2.7.8.pdf ( <strong>11.4. Sending Email</strong> -&gt; TIP See the <strong>reference documentation</strong> ) -&gt; <a href=\"https://docs.spring.io/spring-framework/docs/5.3.25/reference/html/integration.html#mail\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/5.3.25/reference/html/integration.html#mail</a> (<strong>6.2.1. Sending Attachments and Inline Resources</strong>)</p>\n"}],"owner":{"account_id":25216567,"reputation":35,"user_id":19053632,"display_name":"LadySylwia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5379,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74750259,"answer_count":2,"score":1,"last_activity_date":1675314605,"creation_date":1670272166,"question_id":74694051,"body_markdown":"I&#39;m trying to create a contact form. I am using Spring Boot 3.0.0. and Thymeleaf. Everything runs on localhost. I get an unexpected error when I want to send a message:\r\n\r\n`javax.mail.Provider: com.sun.mail.imap.IMAPProvider not a subtype\r\njava.util.ServiceConfigurationError: javax.mail.Provider: com.sun.mail.imap.IMAPProvider not a subtype`\r\n\r\npom.xml:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMessage class:\r\n```\r\npublic class MessageInfoDto {\r\n    private String name;\r\n    private String email;\r\n    private String text;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        this.text = text;\r\n    }\r\n```\r\n\r\nController:\r\n```\r\n@Controller\r\npublic class MessageInfoController {\r\n    MessageInfoService messageInfoService;\r\n\r\n    public MessageInfoController(MessageInfoService messageInfoService) {\r\n        this.messageInfoService = messageInfoService;\r\n    }\r\n\r\n    @GetMapping(&quot;/contact&quot;)\r\n    public String emialForm(Model model) {\r\n        model.addAttribute(&quot;message&quot;, new MessageInfoDto());\r\n        return &quot;contact&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/send&quot;)\r\n    public String getMessage(MessageInfoDto message) {\r\n        messageInfoService.sendEmail(message);\r\n        return &quot;redirect:/contact&quot;;\r\n    }\r\n}\r\n```\r\n\r\nService:\r\n```\r\n@Service\r\npublic class MessageInfoService {\r\n    private final JavaMailSender mailSender;\r\n    @Value(&quot;${spring.mail.username}&quot;)\r\n    private String owner;\r\n\r\n    public MessageInfoService(JavaMailSender mailSender) {\r\n        this.mailSender = mailSender;\r\n    }\r\n\r\n    public void sendEmail(MessageInfoDto message) {\r\n        SimpleMailMessage simpleMailMessage = new SimpleMailMessage();\r\n        simpleMailMessage.setTo(owner);\r\n        simpleMailMessage.setFrom(message.getEmail());\r\n        simpleMailMessage.setText(message.getText());\r\n        simpleMailMessage.setSubject(&quot;New Message&quot;);\r\n        simpleMailMessage.setReplyTo(message.getEmail());\r\n        mailSender.send(simpleMailMessage);\r\n    }\r\n}\r\n```\r\nHTML(contact.html):\r\n```\r\n&lt;body&gt;\r\n&lt;main class=&quot;main-content&quot; layout:fragment=&quot;content&quot;&gt;\r\n  &lt;h2 class=&quot;list-heading&quot;&gt;Send us a message&lt;/h2&gt;\r\n  &lt;form action=&quot;#&quot; th:action=&quot;@{/send}&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; class=&quot;mc-form&quot; th:object=&quot;${message}&quot;&gt;\r\n    &lt;label for=&quot;name&quot;&gt;Your Name&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;name&quot; placeholder=&quot;Your Name&quot; th:field=&quot;*{name}&quot; required&gt;\r\n    &lt;label for=&quot;email&quot;&gt;Your e-mail&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;email&quot; placeholder=&quot;e-mail&quot; th:field=&quot;*{email}&quot;&gt;\r\n    &lt;label for=&quot;message&quot;&gt;Your message&lt;/label&gt;\r\n    &lt;textarea id=&quot;message&quot; rows=&quot;10&quot; th:field=&quot;*{text}&quot;&gt;&lt;/textarea&gt;\r\n    &lt;button type=&quot;submit&quot;&gt;Send&lt;/button&gt;\r\n  &lt;/form&gt;\r\n&lt;/main&gt;\r\n&lt;/body&gt;\r\n```\r\n\r\napplication.yml:\r\n```\r\nspring:\r\n  mail:\r\n    host: smtp.gmail.com\r\n    port: 587\r\n    username: 10*****@gmail.com\r\n    password: [genereted password]\r\n    properties:\r\n      smtp:\r\n        auth: true\r\n        starttles:\r\n          enable: true\r\n          required: true\r\n```\r\n\r\nPlease help, I&#39;ve been googling this since yesterday and couldn&#39;t find an answer.\r\n\r\nI&#39;ve also tried with `javax.mail-api`. ","title":"Sending email via Spring Boot","body":"<p>I'm trying to create a contact form. I am using Spring Boot 3.0.0. and Thymeleaf. Everything runs on localhost. I get an unexpected error when I want to send a message:</p>\n<p><code>javax.mail.Provider: com.sun.mail.imap.IMAPProvider not a subtype java.util.ServiceConfigurationError: javax.mail.Provider: com.sun.mail.imap.IMAPProvider not a subtype</code></p>\n<p>pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Message class:</p>\n<pre><code>public class MessageInfoDto {\n    private String name;\n    private String email;\n    private String text;\n\n    public String getName() {\n        return name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n</code></pre>\n<p>Controller:</p>\n<pre><code>@Controller\npublic class MessageInfoController {\n    MessageInfoService messageInfoService;\n\n    public MessageInfoController(MessageInfoService messageInfoService) {\n        this.messageInfoService = messageInfoService;\n    }\n\n    @GetMapping(&quot;/contact&quot;)\n    public String emialForm(Model model) {\n        model.addAttribute(&quot;message&quot;, new MessageInfoDto());\n        return &quot;contact&quot;;\n    }\n\n    @PostMapping(&quot;/send&quot;)\n    public String getMessage(MessageInfoDto message) {\n        messageInfoService.sendEmail(message);\n        return &quot;redirect:/contact&quot;;\n    }\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\npublic class MessageInfoService {\n    private final JavaMailSender mailSender;\n    @Value(&quot;${spring.mail.username}&quot;)\n    private String owner;\n\n    public MessageInfoService(JavaMailSender mailSender) {\n        this.mailSender = mailSender;\n    }\n\n    public void sendEmail(MessageInfoDto message) {\n        SimpleMailMessage simpleMailMessage = new SimpleMailMessage();\n        simpleMailMessage.setTo(owner);\n        simpleMailMessage.setFrom(message.getEmail());\n        simpleMailMessage.setText(message.getText());\n        simpleMailMessage.setSubject(&quot;New Message&quot;);\n        simpleMailMessage.setReplyTo(message.getEmail());\n        mailSender.send(simpleMailMessage);\n    }\n}\n</code></pre>\n<p>HTML(contact.html):</p>\n<pre><code>&lt;body&gt;\n&lt;main class=&quot;main-content&quot; layout:fragment=&quot;content&quot;&gt;\n  &lt;h2 class=&quot;list-heading&quot;&gt;Send us a message&lt;/h2&gt;\n  &lt;form action=&quot;#&quot; th:action=&quot;@{/send}&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; class=&quot;mc-form&quot; th:object=&quot;${message}&quot;&gt;\n    &lt;label for=&quot;name&quot;&gt;Your Name&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;name&quot; placeholder=&quot;Your Name&quot; th:field=&quot;*{name}&quot; required&gt;\n    &lt;label for=&quot;email&quot;&gt;Your e-mail&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;email&quot; placeholder=&quot;e-mail&quot; th:field=&quot;*{email}&quot;&gt;\n    &lt;label for=&quot;message&quot;&gt;Your message&lt;/label&gt;\n    &lt;textarea id=&quot;message&quot; rows=&quot;10&quot; th:field=&quot;*{text}&quot;&gt;&lt;/textarea&gt;\n    &lt;button type=&quot;submit&quot;&gt;Send&lt;/button&gt;\n  &lt;/form&gt;\n&lt;/main&gt;\n&lt;/body&gt;\n</code></pre>\n<p>application.yml:</p>\n<pre><code>spring:\n  mail:\n    host: smtp.gmail.com\n    port: 587\n    username: 10*****@gmail.com\n    password: [genereted password]\n    properties:\n      smtp:\n        auth: true\n        starttles:\n          enable: true\n          required: true\n</code></pre>\n<p>Please help, I've been googling this since yesterday and couldn't find an answer.</p>\n<p>I've also tried with <code>javax.mail-api</code>.</p>\n"},{"tags":["java","http","networking","java-http-client"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1675257726,"post_id":75310285,"comment_id":132889055,"body_markdown":"Client code in java is written 100% right and will work, just tested it myself. Your php code must return status 200 instead of 302","body":"Client code in java is written 100% right and will work, just tested it myself. Your php code must return status 200 instead of 302"},{"owner":{"account_id":26564882,"reputation":102,"user_id":20192114,"display_name":"LakshyaK2011"},"score":0,"creation_date":1675263571,"post_id":75310285,"comment_id":132891221,"body_markdown":"I Have Tried In Browser, It Works, No Server Sided Issue","body":"I Have Tried In Browser, It Works, No Server Sided Issue"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675264643,"creation_date":1675262825,"answer_id":75311937,"question_id":75310285,"body_markdown":"In your Java code, you are calling\r\n\r\n    connection.setInstanceFollowRedirects(true);\r\n\r\nbefore you make the `connect()` call.  That means that the Java client ... on receiving a 302 response ... will *perform the redirect*; i.e. resend the request to the redirect location.  What you see when you call `getResponseCode()` or `getHeaderFields()` are the the details of the response from the 2nd (redirected) GET.\r\n\r\nIn this case the redirect works, so the response code is 200 and the headers don&#39;t include the `location` header.\r\n\r\nIf you want to see the `302` response and its headers, call `setInstanceFollowRedirects(false)`.","title":"I Am Getting The 200 Status Code But Instead I Should get 302 Status Code, How Do I Solve It?","body":"<p>In your Java code, you are calling</p>\n<pre><code>connection.setInstanceFollowRedirects(true);\n</code></pre>\n<p>before you make the <code>connect()</code> call.  That means that the Java client ... on receiving a 302 response ... will <em>perform the redirect</em>; i.e. resend the request to the redirect location.  What you see when you call <code>getResponseCode()</code> or <code>getHeaderFields()</code> are the the details of the response from the 2nd (redirected) GET.</p>\n<p>In this case the redirect works, so the response code is 200 and the headers don't include the <code>location</code> header.</p>\n<p>If you want to see the <code>302</code> response and its headers, call <code>setInstanceFollowRedirects(false)</code>.</p>\n"}],"owner":{"account_id":26564882,"reputation":102,"user_id":20192114,"display_name":"LakshyaK2011"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75311937,"answer_count":1,"score":1,"last_activity_date":1675313775,"creation_date":1675254991,"question_id":75310285,"body_markdown":"I Was Making A Java Program That Can Check That We Will Redirect Or Not&lt;br&gt;\r\nThere Are Some Status Codes In HTTPS, Like 200 Is For OK And 302 Is For Redirect,&lt;br&gt;\r\nSo Heres My Code:\r\n```\r\nURL url = new URL(&quot;http://localhost/test/test_page_1.php&quot;);\r\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\nconnection.connect();\r\nconnection.getResponseCode();\r\n```\r\nThe Line `connection.getResponseCode();` Should Return 302 (Redirect Code) Because In The Php Code, `header(&quot;location: pg_2.php&quot;) it sets location header to the page&#39;s location;`&lt;br&gt;\r\nBut Instead It Returns Me 200, I Am Using Xampp Wew Server, When I Open This Link In Browser, It Redirects Me, But Why I Am Not Getting 302 Code?\r\nPlease Help Me,\r\n\r\nEDIT:\r\nAlso,&lt;br&gt;\r\nWhen I Used This Code:\r\n```\r\nURL url = new URL(&quot;http://localhost/hackTest/log.php&quot;);\r\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\nconnection.setInstanceFollowRedirects(true);\r\nconnection.connect();\r\nfor (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : connection.getHeaderFields().entrySet()){\r\n     System.out.print(entry.getKey() + &quot;: &quot;);\r\n     for (String  str:  entry.getValue()) {\r\n         System.out.print(str + &quot;, &quot;);\r\n     }\r\n     System.out.println();\r\n}\r\n```\r\nOutput:\r\n```\r\nKeep-Alive: timeout=5, max=100, \r\nnull: HTTP/1.1 200 OK, \r\nServer: Apache/2.4.53 (Win64) OpenSSL/1.1.1n PHP/8.1.4, \r\nConnection: Keep-Alive, \r\nContent-Length: 8, \r\nDate: Wed, 01 Feb 2023 12:56:06 GMT, \r\nContent-Type: text/html; charset=UTF-8, \r\nX-Powered-By: PHP/8.1.4, \r\n```\r\nThere Is No Line Saying Location: pg2.php,&lt;br&gt;\r\nWhy Its Happening, IDK&lt;br&gt;\r\nPlease Help,&lt;br&gt;Thanks,","title":"I Am Getting The 200 Status Code But Instead I Should get 302 Status Code, How Do I Solve It?","body":"<p>I Was Making A Java Program That Can Check That We Will Redirect Or Not<br>\nThere Are Some Status Codes In HTTPS, Like 200 Is For OK And 302 Is For Redirect,<br>\nSo Heres My Code:</p>\n<pre><code>URL url = new URL(&quot;http://localhost/test/test_page_1.php&quot;);\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.connect();\nconnection.getResponseCode();\n</code></pre>\n<p>The Line <code>connection.getResponseCode();</code> Should Return 302 (Redirect Code) Because In The Php Code, <code>header(&quot;location: pg_2.php&quot;) it sets location header to the page's location;</code><br>\nBut Instead It Returns Me 200, I Am Using Xampp Wew Server, When I Open This Link In Browser, It Redirects Me, But Why I Am Not Getting 302 Code?\nPlease Help Me,</p>\n<p>EDIT:\nAlso,<br>\nWhen I Used This Code:</p>\n<pre><code>URL url = new URL(&quot;http://localhost/hackTest/log.php&quot;);\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setInstanceFollowRedirects(true);\nconnection.connect();\nfor (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : connection.getHeaderFields().entrySet()){\n     System.out.print(entry.getKey() + &quot;: &quot;);\n     for (String  str:  entry.getValue()) {\n         System.out.print(str + &quot;, &quot;);\n     }\n     System.out.println();\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Keep-Alive: timeout=5, max=100, \nnull: HTTP/1.1 200 OK, \nServer: Apache/2.4.53 (Win64) OpenSSL/1.1.1n PHP/8.1.4, \nConnection: Keep-Alive, \nContent-Length: 8, \nDate: Wed, 01 Feb 2023 12:56:06 GMT, \nContent-Type: text/html; charset=UTF-8, \nX-Powered-By: PHP/8.1.4, \n</code></pre>\n<p>There Is No Line Saying Location: pg2.php,<br>\nWhy Its Happening, IDK<br>\nPlease Help,<br>Thanks,</p>\n"},{"tags":["java","android","flutter","dart","accessibilityservice"],"comments":[{"owner":{"account_id":7846684,"reputation":75,"user_id":5931529,"display_name":"piptan"},"score":0,"creation_date":1678084118,"post_id":75318489,"comment_id":133457790,"body_markdown":"I do not know if it is the case or not but I think that specific app is also using Flutter and still have print command uncommented so print result is shown on my console. This case also occurs to me when I debug one of my Flutter app and run another Flutter app of mine on the same phone that still has print command uncommented. Android Studio shows print result from both of them.","body":"I do not know if it is the case or not but I think that specific app is also using Flutter and still have print command uncommented so print result is shown on my console. This case also occurs to me when I debug one of my Flutter app and run another Flutter app of mine on the same phone that still has print command uncommented. Android Studio shows print result from both of them."}],"owner":{"account_id":7846684,"reputation":75,"user_id":5931529,"display_name":"piptan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675313603,"creation_date":1675309692,"question_id":75318489,"body_markdown":"I write a flutter app that uses Accessibility service to monitor users&#39; interaction on one specific app. Everything works as expected. However, when I look at runtime console on Android Studios, I noticed that flutter console can detect and log the URL that this specific app is requesting -\r\n\r\n*I/dump    (19995): android.view.accessibility.AccessibilityNodeInfo@f7a68; boundsInParent: Rect(0, 0 - 1080, 2220); boundsInScreen: Rect(0, 0 - 1080, 2220); packageName: com.example.customer.qr; className: android.widget.ImageView; text: null; error: null; maxTextLength: -1; contentDescription: null; tooltipText: null; viewIdResName: ; checkable: false; checked: false; focusable: false; focused: false; selected: false; clickable: false; longClickable: false; contextClickable: false; enabled: true; password: false; scrollable: false; importantForAccessibility: false; visible: true; actions: [AccessibilityAction: ACTION_ACCESSIBILITY_FOCUS - null]*\r\n\r\n**I/flutter (20997): https://www.example.com/example**\r\n\r\n*I/dump    (19995): android.view.accessibility.AccessibilityNodeInfo@8000798e; boundsInParent: Rect(0, 0 - 1080, 2220); boundsInScreen: Rect(0, 0 - 1080, 2220); packageName: com.ktb.customer.qr; className: android.widget.FrameLayout; text: null; error: null; maxTextLength: -1; contentDescription: null; tooltipText: null; viewIdResName: null; checkable: false; checked: false; focusable: false; focused: false; selected: false; clickable: false; longClickable: false; contextClickable: false; enabled: true; password: false; scrollable: false; importantForAccessibility: true; visible: true; actions: [AccessibilityAction: ACTION_SELECT - null, AccessibilityAction: ACTION_CLEAR_SELECTION - null, AccessibilityAction: ACTION_ACCESSIBILITY_FOCUS - null, AccessibilityAction: ACTION_SHOW_ON_SCREEN - null]*\r\n\r\n\r\nFlutter can also detect http request details like below -\r\n\r\n*I/flutter (20997): yJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3NfdXVpZCI6IkxaU0\r\nlLUk5OQTcxWDY0UzJQTVk4VUVZWiI*\r\n\r\n*I/flutter (20997): {&quot;code&quot;:1000,&quot;message&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;register_flag&quot;:true,&quot;consent_flag&quot;:true}}*\r\n\r\n*I/flutter (20997): https://www.example.com/example/ex*\r\n\r\n\r\nI wonder how flutter can detect this information and how can I retreive these values (Url, parameters) into my flutter program to make use of them.\r\n\r\nIt would be appreciated if anyone could help me","title":"Flutter Console shows http request from another app monitored by accessibility service. How?","body":"<p>I write a flutter app that uses Accessibility service to monitor users' interaction on one specific app. Everything works as expected. However, when I look at runtime console on Android Studios, I noticed that flutter console can detect and log the URL that this specific app is requesting -</p>\n<p><em>I/dump    (19995): android.view.accessibility.AccessibilityNodeInfo@f7a68; boundsInParent: Rect(0, 0 - 1080, 2220); boundsInScreen: Rect(0, 0 - 1080, 2220); packageName: com.example.customer.qr; className: android.widget.ImageView; text: null; error: null; maxTextLength: -1; contentDescription: null; tooltipText: null; viewIdResName: ; checkable: false; checked: false; focusable: false; focused: false; selected: false; clickable: false; longClickable: false; contextClickable: false; enabled: true; password: false; scrollable: false; importantForAccessibility: false; visible: true; actions: [AccessibilityAction: ACTION_ACCESSIBILITY_FOCUS - null]</em></p>\n<p><strong>I/flutter (20997): <a href=\"https://www.example.com/example\" rel=\"nofollow noreferrer\">https://www.example.com/example</a></strong></p>\n<p><em>I/dump    (19995): android.view.accessibility.AccessibilityNodeInfo@8000798e; boundsInParent: Rect(0, 0 - 1080, 2220); boundsInScreen: Rect(0, 0 - 1080, 2220); packageName: com.ktb.customer.qr; className: android.widget.FrameLayout; text: null; error: null; maxTextLength: -1; contentDescription: null; tooltipText: null; viewIdResName: null; checkable: false; checked: false; focusable: false; focused: false; selected: false; clickable: false; longClickable: false; contextClickable: false; enabled: true; password: false; scrollable: false; importantForAccessibility: true; visible: true; actions: [AccessibilityAction: ACTION_SELECT - null, AccessibilityAction: ACTION_CLEAR_SELECTION - null, AccessibilityAction: ACTION_ACCESSIBILITY_FOCUS - null, AccessibilityAction: ACTION_SHOW_ON_SCREEN - null]</em></p>\n<p>Flutter can also detect http request details like below -</p>\n<p><em>I/flutter (20997): yJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2Nlc3NfdXVpZCI6IkxaU0\nlLUk5OQTcxWDY0UzJQTVk4VUVZWiI</em></p>\n<p><em>I/flutter (20997): {&quot;code&quot;:1000,&quot;message&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;register_flag&quot;:true,&quot;consent_flag&quot;:true}}</em></p>\n<p><em>I/flutter (20997): <a href=\"https://www.example.com/example/ex\" rel=\"nofollow noreferrer\">https://www.example.com/example/ex</a></em></p>\n<p>I wonder how flutter can detect this information and how can I retreive these values (Url, parameters) into my flutter program to make use of them.</p>\n<p>It would be appreciated if anyone could help me</p>\n"},{"tags":["java","spring","thymeleaf","many-to-one"],"answers":[{"tags":[],"owner":{"account_id":13910106,"reputation":206,"user_id":10043521,"display_name":"Andrei Prakhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649582432,"creation_date":1649582432,"answer_id":71815271,"question_id":71814885,"body_markdown":"The problem is exactly what is stated in error message: &quot;Property or field &#39;name&#39; cannot be found on object of type &#39;com.vet.model.User&#39;&quot;. Your class User has no &#39;name&#39; field, so probably it is misprint: it has &#39;firstName&#39; and &#39;lastName&#39; fields instead.","title":"Java Spring many to one thymeleaf error . How can i solve it?","body":"<p>The problem is exactly what is stated in error message: &quot;Property or field 'name' cannot be found on object of type 'com.vet.model.User'&quot;. Your class User has no 'name' field, so probably it is misprint: it has 'firstName' and 'lastName' fields instead.</p>\n"},{"tags":[],"owner":{"account_id":27681617,"reputation":1,"user_id":21130236,"display_name":"mr_prince_myshkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675312607,"creation_date":1675312607,"answer_id":75318727,"question_id":71814885,"body_markdown":"For the future generations: Had a similar issue - Fixed it by creating a getter for the list that stores my associations.","title":"Java Spring many to one thymeleaf error . How can i solve it?","body":"<p>For the future generations: Had a similar issue - Fixed it by creating a getter for the list that stores my associations.</p>\n"}],"owner":{"account_id":24888944,"reputation":5,"user_id":18761183,"display_name":"Furkan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71815271,"answer_count":2,"score":0,"last_activity_date":1675312607,"creation_date":1649578765,"question_id":71814885,"body_markdown":"The application works when database is empty.If I add a user then i can not add an animal .Can you help me ? I have 2 class User and Animal . \r\n\r\nAnimalController.java\r\n```     @GetMapping(&quot;/animals/new&quot;)\r\n    public String showAnimalNewForm(Model model){\r\n        List&lt;User&gt; listUsers = userService.listAll();\r\n        model.addAttribute(&quot;listUsers&quot;,listUsers);\r\n        model.addAttribute(&quot;animal&quot;,new Animal());\r\n        return &quot;animal_form&quot;;\r\n    }\r\n```\r\n\r\nHere i am trynig to show users . Animal have to has one owner.\r\nanimal_form.html\r\n```\r\n            &lt;div class=&quot;form-group raw&quot;&gt;\r\n                &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt; User: &lt;/label&gt;\r\n                &lt;div class=&quot;col-sm-8&quot; style=&quot;float: right;&quot;&gt;\r\n                    &lt;select class=&quot;form-control&quot; th:field=&quot;*{user}&quot; &gt;\r\n                        &lt;th:block th:each=&quot;user : ${listUsers}&quot;&gt;\r\n                            &lt;option th:text=&quot;${user.name}&quot; th:value=&quot;${user.id}&quot;&gt;\r\n                            &lt;/option&gt;\r\n                        &lt;/th:block&gt;\r\n                    &lt;/select&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n\r\n```\r\nError\r\n```\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nSun Apr 10 11:16:51 TRT 2022\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nAn error happened during template parsing (template: &quot;class path resource [templates/animal_form.html]&quot;)\r\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/animal_form.html]&quot;)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\r\n\tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;user.name&quot; (template: &quot;animal_form&quot; - line 57, col 37)\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n\tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n\t... 51 more\r\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;user.name&quot; (template: &quot;animal_form&quot; - line 57, col 37)\r\n\tat org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)\r\n\tat org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\r\n\tat org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\r\n\tat org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\r\n\tat org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\r\n\tat org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n\tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n\tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\r\n\tat org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)\r\n\tat org.thymeleaf.engine.Model.process(Model.java:282)\r\n\tat org.thymeleaf.engine.Model.process(Model.java:290)\r\n\tat org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)\r\n\tat org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)\r\n\tat org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\r\n\tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)\r\n\tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)\r\n\tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)\r\n\tat org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)\r\n\tat org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)\r\n\tat org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)\r\n\tat org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)\r\n\tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)\r\n\tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n\t... 53 more\r\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;name&#39; cannot be found on object of type &#39;com.vet.model.User&#39; - maybe not public or not valid?\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)\r\n\tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\r\n\tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)\r\n\tat org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)\r\n```\r\nAll code here: **https://github.com/Furkan-Ahmet-Ozdemir/Spring-vet**","title":"Java Spring many to one thymeleaf error . How can i solve it?","body":"<p>The application works when database is empty.If I add a user then i can not add an animal .Can you help me ? I have 2 class User and Animal .</p>\n<p>AnimalController.java</p>\n<pre><code>    public String showAnimalNewForm(Model model){\n        List&lt;User&gt; listUsers = userService.listAll();\n        model.addAttribute(&quot;listUsers&quot;,listUsers);\n        model.addAttribute(&quot;animal&quot;,new Animal());\n        return &quot;animal_form&quot;;\n    }\n</code></pre>\n<p>Here i am trynig to show users . Animal have to has one owner.\nanimal_form.html</p>\n<pre><code>            &lt;div class=&quot;form-group raw&quot;&gt;\n                &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt; User: &lt;/label&gt;\n                &lt;div class=&quot;col-sm-8&quot; style=&quot;float: right;&quot;&gt;\n                    &lt;select class=&quot;form-control&quot; th:field=&quot;*{user}&quot; &gt;\n                        &lt;th:block th:each=&quot;user : ${listUsers}&quot;&gt;\n                            &lt;option th:text=&quot;${user.name}&quot; th:value=&quot;${user.id}&quot;&gt;\n                            &lt;/option&gt;\n                        &lt;/th:block&gt;\n                    &lt;/select&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n</code></pre>\n<p>Error</p>\n<pre><code>This application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nSun Apr 10 11:16:51 TRT 2022\nThere was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: &quot;class path resource [templates/animal_form.html]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/animal_form.html]&quot;)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: &quot;user.name&quot; (template: &quot;animal_form&quot; - line 57, col 37)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 51 more\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: &quot;user.name&quot; (template: &quot;animal_form&quot; - line 57, col 37)\n    at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292)\n    at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166)\n    at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66)\n    at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109)\n    at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138)\n    at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\n    at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205)\n    at org.thymeleaf.engine.Model.process(Model.java:282)\n    at org.thymeleaf.engine.Model.process(Model.java:290)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:367)\n    at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:221)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164)\n    at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169)\n    at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412)\n    at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473)\n    at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 53 more\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'name' cannot be found on object of type 'com.vet.model.User' - maybe not public or not valid?\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:51)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:406)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92)\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\n    at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338)\n    at org.thymeleaf.spring5.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265)\n</code></pre>\n<p>All code here: <strong><a href=\"https://github.com/Furkan-Ahmet-Ozdemir/Spring-vet\" rel=\"nofollow noreferrer\">https://github.com/Furkan-Ahmet-Ozdemir/Spring-vet</a></strong></p>\n"},{"tags":["java","spring-boot","apache","spring-security"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675360765,"post_id":75318664,"comment_id":132917637,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16198561,"reputation":11,"user_id":11695527,"display_name":"Haker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675311869,"creation_date":1675311869,"question_id":75318664,"body_markdown":"I have apache running on a different host that can be authenticated using basic authentication, and I have a spring boot application running on a different server that uses JWT authentication. Can we authenticate the Apache server with that JWT token? I tried to get the url from the rest template and the username with the help of the Principle class. cannot extract the password.","title":"apache authentication with spring boot jwt token","body":"<p>I have apache running on a different host that can be authenticated using basic authentication, and I have a spring boot application running on a different server that uses JWT authentication. Can we authenticate the Apache server with that JWT token? I tried to get the url from the rest template and the username with the help of the Principle class. cannot extract the password.</p>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668363185,"creation_date":1668363185,"answer_id":74423512,"question_id":74423399,"body_markdown":"If you need to store the object list as JSON in DB then you need Convert the list of object to JSON string using Jackson `ObjectMapper`. Store the converted string to DB.","title":"Convert POJO into JSON","body":"<p>If you need to store the object list as JSON in DB then you need Convert the list of object to JSON string using Jackson <code>ObjectMapper</code>. Store the converted string to DB.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668368528,"creation_date":1668368528,"answer_id":74424173,"question_id":74423399,"body_markdown":"&gt; How can I convert it to a list and save it in a database in JSON\r\n&gt; format?\r\n&gt; \r\n&gt; The data should be stored in the database in the format below:\r\n&gt; \r\n&gt; ```\r\n&gt; {\r\n&gt;   &quot;list&quot;: [\r\n&gt;     {\r\n&gt;        &quot;position&quot;: &quot;Manager&quot;\r\n&gt;        &quot;name&quot;: &quot;Bob&quot;\r\n&gt;     }\r\n&gt;   ]\r\n&gt; }\r\n&gt; ```\r\n\r\nSince the serialized JSON is required to have a property `&quot;list&quot;` you can&#39;t simply serialize the List as is.\r\n\r\nInstead, you can define a POJO wrapping this list.\r\n\r\nThat&#39;s how it might look like (I&#39;ve made it generic in order to make it suitable for serializing any type of list):\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    public static class ListWrapper&lt;T&gt; {\r\n        private List&lt;T&gt; list;\r\n    }\r\n\r\nAnd that&#39;s how it can be serialized using Jackson&#39;s [`ObjectMapper`](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html) and [`ObjectWriter`](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectWriter.html):\r\n\r\n```\r\nList&lt;Emp&gt; emps = List.of(new Emp(&quot;Manager&quot;, &quot;Bob&quot;));\r\nListWrapper&lt;Emp&gt; listWrapper = new ListWrapper&lt;&gt;(emps);\r\n        \r\nObjectMapper mapper = new ObjectMapper();\r\nObjectWriter writer = mapper.writerWithDefaultPrettyPrinter();\r\n        \r\nString json = writer.writeValueAsString(listWrapper);\r\nSystem.out.println(json);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n{\r\n  &quot;list&quot; : [ {\r\n    &quot;name&quot; : &quot;Manager&quot;,\r\n    &quot;position&quot; : &quot;Bob&quot;\r\n  } ]\r\n}\r\n```","title":"Convert POJO into JSON","body":"<blockquote>\n<p>How can I convert it to a list and save it in a database in JSON\nformat?</p>\n<p>The data should be stored in the database in the format below:</p>\n<pre><code>{\n  &quot;list&quot;: [\n    {\n       &quot;position&quot;: &quot;Manager&quot;\n       &quot;name&quot;: &quot;Bob&quot;\n    }\n  ]\n}\n</code></pre>\n</blockquote>\n<p>Since the serialized JSON is required to have a property <code>&quot;list&quot;</code> you can't simply serialize the List as is.</p>\n<p>Instead, you can define a POJO wrapping this list.</p>\n<p>That's how it might look like (I've made it generic in order to make it suitable for serializing any type of list):</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic static class ListWrapper&lt;T&gt; {\n    private List&lt;T&gt; list;\n}\n</code></pre>\n<p>And that's how it can be serialized using Jackson's <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\"><code>ObjectMapper</code></a> and <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectWriter.html\" rel=\"nofollow noreferrer\"><code>ObjectWriter</code></a>:</p>\n<pre><code>List&lt;Emp&gt; emps = List.of(new Emp(&quot;Manager&quot;, &quot;Bob&quot;));\nListWrapper&lt;Emp&gt; listWrapper = new ListWrapper&lt;&gt;(emps);\n        \nObjectMapper mapper = new ObjectMapper();\nObjectWriter writer = mapper.writerWithDefaultPrettyPrinter();\n        \nString json = writer.writeValueAsString(listWrapper);\nSystem.out.println(json);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>{\n  &quot;list&quot; : [ {\n    &quot;name&quot; : &quot;Manager&quot;,\n    &quot;position&quot; : &quot;Bob&quot;\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":22613353,"reputation":21,"user_id":16793182,"display_name":"Sam Johnson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668437738,"accepted_answer_id":74424173,"answer_count":2,"score":0,"last_activity_date":1675311703,"creation_date":1668362162,"question_id":74423399,"body_markdown":"I have a POJO.\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Emp {\r\n    private String position;\r\n    private String name;\r\n}\r\n```\r\n\r\nSuppose, we have created an object \r\n\r\n```\r\nEmp emp = new Emp(&quot;Manager&quot;, &quot;Bob&quot;);\r\n```\r\n\r\nHow can I convert it to a list and save it in a database in JSON format?  \r\n\r\nThe data should be stored in the database in the format below:\r\n\r\n```\r\n{\r\n  list:[\r\n    {\r\n       position: Manager\r\n       name: Bob\r\n    }\r\n  ]\r\n}\r\n```\r\nAre there any ready solutions for that?\r\n\r\n\r\nI  converted an object into a list and then I called the .toString() method on it: \r\n\r\n```\r\nCollections.singletonList(emp);\r\n```\r\n\r\nBut when I store it in the database, the next save goes to the database:\r\n\r\n```\r\n[Emp(position=Manager, name=Bob)]\r\n```\r\nBut I need to store the record in a different way\r\n","title":"Convert POJO into JSON","body":"<p>I have a POJO.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@Builder\npublic class Emp {\n    private String position;\n    private String name;\n}\n</code></pre>\n<p>Suppose, we have created an object</p>\n<pre><code>Emp emp = new Emp(&quot;Manager&quot;, &quot;Bob&quot;);\n</code></pre>\n<p>How can I convert it to a list and save it in a database in JSON format?</p>\n<p>The data should be stored in the database in the format below:</p>\n<pre><code>{\n  list:[\n    {\n       position: Manager\n       name: Bob\n    }\n  ]\n}\n</code></pre>\n<p>Are there any ready solutions for that?</p>\n<p>I  converted an object into a list and then I called the .toString() method on it:</p>\n<pre><code>Collections.singletonList(emp);\n</code></pre>\n<p>But when I store it in the database, the next save goes to the database:</p>\n<pre><code>[Emp(position=Manager, name=Bob)]\n</code></pre>\n<p>But I need to store the record in a different way</p>\n"},{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675311434,"creation_date":1675311434,"answer_id":75318629,"question_id":75317965,"body_markdown":"If you are using this [easytable](https://github.com/vandeseer/easytable) library, when you try to build a ```Row```, it will return the ```Row``` Object to you:\r\n```java\r\npublic Row build() {\r\n    final Row row = new Row(cells);\r\n    row.settings = settings;\r\n    row.height = height;\r\n\r\n    return row;\r\n}\r\n```\r\n\r\nSo before you call ```addRow()``` to add your last ```Row``` to ```Table```, you can assign your last ```Row``` to a variable first.\r\n```java\r\nRow lastRow = Row.builder().build();\r\nTable table = Table.builder().addRow(lastRow);\r\n```\r\nAnd you can get access to last Row with ```lastRow```.","title":"In easyTable &quot;java&quot;, is there a possibility to access the last row i created?","body":"<p>If you are using this <a href=\"https://github.com/vandeseer/easytable\" rel=\"nofollow noreferrer\">easytable</a> library, when you try to build a <code>Row</code>, it will return the <code>Row</code> Object to you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Row build() {\n    final Row row = new Row(cells);\n    row.settings = settings;\n    row.height = height;\n\n    return row;\n}\n</code></pre>\n<p>So before you call <code>addRow()</code> to add your last <code>Row</code> to <code>Table</code>, you can assign your last <code>Row</code> to a variable first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Row lastRow = Row.builder().build();\nTable table = Table.builder().addRow(lastRow);\n</code></pre>\n<p>And you can get access to last Row with <code>lastRow</code>.</p>\n"}],"owner":{"account_id":27680833,"reputation":3,"user_id":21129615,"display_name":"yossef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75318629,"answer_count":1,"score":0,"last_activity_date":1675311434,"creation_date":1675303275,"question_id":75317965,"body_markdown":"in TableBuilder exactly , can i access the last row ?\r\n\r\nThere is nothing in the doc of the library explains how to do it","title":"In easyTable &quot;java&quot;, is there a possibility to access the last row i created?","body":"<p>in TableBuilder exactly , can i access the last row ?</p>\n<p>There is nothing in the doc of the library explains how to do it</p>\n"},{"tags":["java","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":8342165,"reputation":336,"user_id":6267163,"display_name":"V. Rob"},"score":0,"creation_date":1503563658,"post_id":45847035,"comment_id":78671275,"body_markdown":"are you looking for this: https://www.openhub.net/p/selenium-profiler ?","body":"are you looking for this: <a href=\"https://www.openhub.net/p/selenium-profiler\" rel=\"nofollow noreferrer\">openhub.net/p/selenium-profiler</a> ?"},{"owner":{"account_id":8342165,"reputation":336,"user_id":6267163,"display_name":"V. Rob"},"score":2,"creation_date":1503563741,"post_id":45847035,"comment_id":78671336,"body_markdown":"another way - using proxy for capture all network activity, in fast search I found this: https://github.com/lightbody/browsermob-proxy","body":"another way - using proxy for capture all network activity, in fast search I found this: <a href=\"https://github.com/lightbody/browsermob-proxy\" rel=\"nofollow noreferrer\">github.com/lightbody/browsermob-proxy</a>"},{"owner":{"account_id":11726337,"reputation":1244,"user_id":8583496,"display_name":"Alexey Shrub"},"score":0,"creation_date":1562686592,"post_id":45847035,"comment_id":100450620,"body_markdown":"example for python https://gist.github.com/mkaz/3047779 and docs https://www.w3.org/TR/navigation-timing/#processing-model","body":"example for python <a href=\"https://gist.github.com/mkaz/3047779\" rel=\"nofollow noreferrer\">gist.github.com/mkaz/3047779</a> and docs <a href=\"https://www.w3.org/TR/navigation-timing/#processing-model\" rel=\"nofollow noreferrer\">w3.org/TR/navigation-timing/#processing-model</a>"},{"owner":{"account_id":16032630,"reputation":199,"user_id":11571109,"display_name":"jainam shah"},"score":0,"creation_date":1629959826,"post_id":45847035,"comment_id":121825747,"body_markdown":"@AlexeyShrub any way to get status code from XHR using python?","body":"@AlexeyShrub any way to get status code from XHR using python?"}],"answers":[{"tags":[],"owner":{"account_id":3849926,"reputation":16794,"user_id":3190347,"accept_rate":68,"display_name":"Shubham Jain"},"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1650895553,"creation_date":1503569886,"answer_id":45859018,"question_id":45847035,"body_markdown":"Not exactly open by dev tools but found some network, performance and other results.\r\n\r\nYes you can do that using JavascriptExecutor\r\n\r\nBelow Code will give you all performance, network etc entries:-\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;start-maximized&quot;);\r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n    WebDriver driver = new ChromeDriver(capabilities);\r\n    driver.get(&quot;http://www.google.com&quot;);\r\n    String scriptToExecute = &quot;var performance = window.performance || window.mozPerformance || window.msPerformance || window.webkitPerformance || {}; var network = performance.getEntries() || {}; return network;&quot;;\r\n    String netData = ((JavascriptExecutor)driver).executeScript(scriptToExecute).toString();\r\n    System.out.println(netData);\r\n\r\nOR Below Code will give you specific performance entries:-\r\n\r\n    DesiredCapabilities d = DesiredCapabilities.chrome();\r\n    LoggingPreferences logPrefs = new LoggingPreferences();\r\n    logPrefs.enable(LogType.PERFORMANCE, Level.ALL);\r\n    d.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\r\n    WebDriver driver = new ChromeDriver(d);\r\n    driver.get(&quot;https://www.google.co.in/&quot;);\r\n    driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);\r\n    LogEntries les = driver.manage().logs().get(LogType.PERFORMANCE);\r\n    for (LogEntry le : les) {\r\n        System.out.println(le.getMessage());\r\n    }\r\n\r\nThe first code retrun network `return network;&quot;` because of this JS tag. You can remove JS code of entity which you don&#39;t require\r\n\r\nThe second code return perfromance\r\n\r\nHope it will help you :)","title":"Using Selenium how to get network request","body":"<p>Not exactly open by dev tools but found some network, performance and other results.</p>\n<p>Yes you can do that using JavascriptExecutor</p>\n<p>Below Code will give you all performance, network etc entries:-</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;start-maximized&quot;);\nDesiredCapabilities capabilities = DesiredCapabilities.chrome();\ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\nWebDriver driver = new ChromeDriver(capabilities);\ndriver.get(&quot;http://www.google.com&quot;);\nString scriptToExecute = &quot;var performance = window.performance || window.mozPerformance || window.msPerformance || window.webkitPerformance || {}; var network = performance.getEntries() || {}; return network;&quot;;\nString netData = ((JavascriptExecutor)driver).executeScript(scriptToExecute).toString();\nSystem.out.println(netData);\n</code></pre>\n<p>OR Below Code will give you specific performance entries:-</p>\n<pre><code>DesiredCapabilities d = DesiredCapabilities.chrome();\nLoggingPreferences logPrefs = new LoggingPreferences();\nlogPrefs.enable(LogType.PERFORMANCE, Level.ALL);\nd.setCapability(CapabilityType.LOGGING_PREFS, logPrefs);\nWebDriver driver = new ChromeDriver(d);\ndriver.get(&quot;https://www.google.co.in/&quot;);\ndriver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);\nLogEntries les = driver.manage().logs().get(LogType.PERFORMANCE);\nfor (LogEntry le : les) {\n    System.out.println(le.getMessage());\n}\n</code></pre>\n<p>The first code retrun network <code>return network;&quot;</code> because of this JS tag. You can remove JS code of entity which you don't require</p>\n<p>The second code return perfromance</p>\n<p>Hope it will help you :)</p>\n"},{"tags":[],"owner":{"account_id":15798219,"reputation":47,"user_id":11399494,"display_name":"naveen kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556023519,"creation_date":1556020772,"answer_id":55810753,"question_id":45847035,"body_markdown":"1. You can use &quot;browsermob-proxy&quot;, &quot;LoggingPreferences&quot;, &quot;CloseableHttpClient&quot;, &quot;HttpURLConnection&quot; for getting the logs\r\n2. If you wish not to use browser and want to get the response, then I would suggest to go for &quot;CloseableHttpClient&quot;.\r\n3. Copy the URI (&quot;www.somewebsite.com/v1/api/sign-in?&quot;).\r\n   Get the request payload(which will be available in that particular API URI). Pass all the parameters with &quot;&amp;&quot; like this &quot;www.somewebsite.com/v1/api/sign-in?&amp;username=xyz&amp;password=1234566&amp;app_id=12123214324234134&amp;app_secret=213242345345345&quot;\r\n(Remember app id and app secret is very unique and do not expose it anywhere)\r\n4. Once you get the URI, this code will give you JSON format response\r\n\r\n```java\r\n            HttpPost request = new HttpPost(str);\r\n            request.setHeader(&quot;content-type&quot;, &quot;application/json&quot;);\r\n            HttpResponse response = client.execute(request);\r\n            BufferedReader bufReader = new BufferedReader(new InputStreamReader(\r\n                    response.getEntity().getContent()));\r\n            while ((line = bufReader.readLine()) != null) {\r\n            \tbuilder=String.valueOf(line);\r\n            }\r\n\r\n            System.out.println(builder);\r\n        }\r\n\r\n```\r\n\r\n","title":"Using Selenium how to get network request","body":"<ol>\n<li>You can use \"browsermob-proxy\", \"LoggingPreferences\", \"CloseableHttpClient\", \"HttpURLConnection\" for getting the logs</li>\n<li>If you wish not to use browser and want to get the response, then I would suggest to go for \"CloseableHttpClient\".</li>\n<li>Copy the URI (\"www.somewebsite.com/v1/api/sign-in?\").\nGet the request payload(which will be available in that particular API URI). Pass all the parameters with \"&amp;\" like this \"www.somewebsite.com/v1/api/sign-in?&amp;username=xyz&amp;password=1234566&amp;app_id=12123214324234134&amp;app_secret=213242345345345\"\n(Remember app id and app secret is very unique and do not expose it anywhere)</li>\n<li>Once you get the URI, this code will give you JSON format response</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>            HttpPost request = new HttpPost(str);\n            request.setHeader(\"content-type\", \"application/json\");\n            HttpResponse response = client.execute(request);\n            BufferedReader bufReader = new BufferedReader(new InputStreamReader(\n                    response.getEntity().getContent()));\n            while ((line = bufReader.readLine()) != null) {\n                builder=String.valueOf(line);\n            }\n\n            System.out.println(builder);\n        }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1598967168,"creation_date":1580828375,"answer_id":60060074,"question_id":45847035,"body_markdown":"It&#39;s working for me\r\n\r\n   \r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    LoggingPreferences logPrefs = new LoggingPreferences();\r\n    logPrefs.enable( LogType.PERFORMANCE, Level.ALL );\r\n    options.setCapability( &quot;goog:loggingPrefs&quot;, logPrefs );\r\n    WebDriverManager.chromedriver().setup();\r\n    WebDriver driver = new ChromeDriver(options);\r\n    driver.get(&quot;http://www.google.com&quot;);\r\n        \r\n    List&lt;LogEntry&gt; entries = driver.manage().logs().get(LogType.PERFORMANCE).getAll();\r\n    System.out.println(entries.size() + &quot; &quot; + LogType.PERFORMANCE + &quot; log entries found&quot;);\r\n     for (LogEntry entry : entries) {\r\n       System.out.println(entry.getMessage());\r\n     }","title":"Using Selenium how to get network request","body":"<p>It's working for me</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\nLoggingPreferences logPrefs = new LoggingPreferences();\nlogPrefs.enable( LogType.PERFORMANCE, Level.ALL );\noptions.setCapability( &quot;goog:loggingPrefs&quot;, logPrefs );\nWebDriverManager.chromedriver().setup();\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;http://www.google.com&quot;);\n    \nList&lt;LogEntry&gt; entries = driver.manage().logs().get(LogType.PERFORMANCE).getAll();\nSystem.out.println(entries.size() + &quot; &quot; + LogType.PERFORMANCE + &quot; log entries found&quot;);\n for (LogEntry entry : entries) {\n   System.out.println(entry.getMessage());\n }\n</code></pre>\n"}],"owner":{"account_id":10621254,"reputation":2629,"user_id":7822301,"accept_rate":56,"display_name":"Zakaria Shahed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96468,"favorite_count":0,"down_vote_count":2,"up_vote_count":34,"closed_date":1660456966,"accepted_answer_id":45859018,"answer_count":3,"score":32,"last_activity_date":1675309511,"creation_date":1503513077,"question_id":45847035,"body_markdown":"I want to take all the network requests using selenium. I am not getting any way to find this solution if anyone can suggest to me or provide a code or library that would be appreciated. \r\n\r\nThis is my code:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    // Setting some chrome features here\r\n    \r\n    ProxyServer proxyServer = new ProxyServer(4444);\r\n    proxyServer.start();\r\n    \r\n    Proxy proxy = proxyServer.seleniumProxy();\r\n    \r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    \r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n    capabilities.setCapability(CapabilityType.PROXY, proxy);\r\n    \r\n    WebDriver driver = new ChromeDriver(capabilities); // Error happens here\r\n\r\n[![Network Request][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yzOUV.png","title":"Using Selenium how to get network request","body":"<p>I want to take all the network requests using selenium. I am not getting any way to find this solution if anyone can suggest to me or provide a code or library that would be appreciated.</p>\n<p>This is my code:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\n// Setting some chrome features here\n\nProxyServer proxyServer = new ProxyServer(4444);\nproxyServer.start();\n\nProxy proxy = proxyServer.seleniumProxy();\n\nDesiredCapabilities capabilities = DesiredCapabilities.chrome();\n\ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\ncapabilities.setCapability(CapabilityType.PROXY, proxy);\n\nWebDriver driver = new ChromeDriver(capabilities); // Error happens here\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yzOUV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yzOUV.png\" alt=\"Network Request\" /></a></p>\n"},{"tags":["java","spring-boot","soap"],"answers":[{"tags":[],"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664513736,"creation_date":1664511326,"answer_id":73903955,"question_id":73713460,"body_markdown":"Note that a namespace declaration in XML is not an attribute. Don&#39;t be confused by the similar syntax!\r\n\r\nSo I would not expect `e.removeAttribute` to do anything, because there is no attribute with the name `xmlns`.\r\n\r\nWhat you actually need to do is to _change the name_ of the element, e.g. using its [setElementQName()][1] method.  \r\n\r\n```java\r\n@Override\r\npublic boolean handleRequest(MessageContext messageContext, Object endpoint) throws Exception {\r\n    \r\n    SOAPMessage soapMessage = ((SaajSoapMessage) messageContext.getRequest()).getSaajMessage();\r\n    SOAPBody body = soapMessage.getSOAPBody();\r\n    \r\n    Iterator&lt;SOAPBodyElement&gt; it = body.getChildElements();\r\n    while (it.hasNext()) {\r\n        Object node = it.next();\r\n        if (!isTextNode(node)) {\r\n            com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl e = \r\n                    (com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl) node;\r\n            \r\n            Iterator&lt;SOAPBodyElement&gt; subItr = e.getChildElements();\r\n            while(subItr.hasNext()) {\r\n                Object subNode = subItr.next();\r\n                if(subNode instanceof com.sun.xml.internal.messaging.saaj.soap.impl.ElementImpl) {\r\n                    SOAPElement el = (SOAPElement) subNode;                \r\n                    el.setElementQName(\r\n                        new QName(\r\n                            e.getElementName().getURI(), \r\n                            el.getElementName().getLocalName()\r\n                        )\r\n                    );\r\n                }\r\n            }\r\n            \r\n        }\r\n    }\r\n    \r\n    soapMessage.writeTo(System.out);\r\n    return true;\r\n}\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/xml/soap/SOAPElement.html#setElementQName-javax.xml.namespace.QName-","title":"Remove empty ns attribute from SOAP request using EndpointInterceptor","body":"<p>Note that a namespace declaration in XML is not an attribute. Don't be confused by the similar syntax!</p>\n<p>So I would not expect <code>e.removeAttribute</code> to do anything, because there is no attribute with the name <code>xmlns</code>.</p>\n<p>What you actually need to do is to <em>change the name</em> of the element, e.g. using its <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/xml/soap/SOAPElement.html#setElementQName-javax.xml.namespace.QName-\" rel=\"nofollow noreferrer\">setElementQName()</a> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean handleRequest(MessageContext messageContext, Object endpoint) throws Exception {\n    \n    SOAPMessage soapMessage = ((SaajSoapMessage) messageContext.getRequest()).getSaajMessage();\n    SOAPBody body = soapMessage.getSOAPBody();\n    \n    Iterator&lt;SOAPBodyElement&gt; it = body.getChildElements();\n    while (it.hasNext()) {\n        Object node = it.next();\n        if (!isTextNode(node)) {\n            com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl e = \n                    (com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl) node;\n            \n            Iterator&lt;SOAPBodyElement&gt; subItr = e.getChildElements();\n            while(subItr.hasNext()) {\n                Object subNode = subItr.next();\n                if(subNode instanceof com.sun.xml.internal.messaging.saaj.soap.impl.ElementImpl) {\n                    SOAPElement el = (SOAPElement) subNode;                \n                    el.setElementQName(\n                        new QName(\n                            e.getElementName().getURI(), \n                            el.getElementName().getLocalName()\n                        )\n                    );\n                }\n            }\n            \n        }\n    }\n    \n    soapMessage.writeTo(System.out);\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":191602,"reputation":6822,"user_id":455814,"accept_rate":71,"display_name":"Waqas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73903955,"answer_count":1,"score":2,"last_activity_date":1675309265,"creation_date":1663142673,"question_id":73713460,"body_markdown":"There is this legacy system which is sending SOAP requests with an empty namespace attribute causing fields values to be null, when namespace attribute is removed while testing from SOAP UI, it work fine.\r\n\r\nThis is what problematic SOAP request looks like\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\r\n    xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;soapenv:Body&gt;\r\n        &lt;ADD xmlns=&quot;http://www.cc.com/ws&quot;&gt;\r\n            &lt;ID xmlns=&quot;&quot;&gt;dummy&lt;/ID&gt;\r\n            &lt;PWD xmlns=&quot;&quot;&gt;password&lt;/PWD&gt;\r\n        &lt;/ADD&gt;\r\n    &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\n\r\nI tried by adding an interceptor using `addInterceptors` method of `WsConfigurerAdapter`, code of which is pasted below, but it doesn&#39;t work\r\n\r\n```\r\n@Override\r\npublic boolean handleRequest(MessageContext messageContext, Object endpoint) throws Exception {\r\n\t\r\n\tSOAPMessage soapMessage = ((SaajSoapMessage) messageContext.getRequest()).getSaajMessage();\r\n\tSOAPBody body = soapMessage.getSOAPBody();\r\n\t\r\n\tIterator&lt;SOAPBodyElement&gt; it = body.getChildElements();\r\n\twhile (it.hasNext()) {\r\n\t\tObject node = it.next();\r\n\t\tif (!isTextNode(node)) {\r\n\t\t\tcom.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl e = \r\n\t\t\t\t\t(com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl) node;\r\n\t\t\t\r\n\t\t\tIterator&lt;SOAPBodyElement&gt; subItr = e.getChildElements();\r\n\t\t\twhile(subItr.hasNext()) {\r\n\t\t\t\tObject subNode = subItr.next();\r\n\t\t\t\tif(subNode instanceof com.sun.xml.internal.messaging.saaj.soap.impl.ElementImpl) {\r\n\t\t\t\t\tSOAPElement el = (SOAPElement) subNode;\r\n\t\t\t\t\r\n\t\t\t\t\tel.removeAttribute(&quot;xmlns&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tsoapMessage.writeTo(System.out);\r\n\treturn true;\r\n}\r\n```\r\n\r\n","title":"Remove empty ns attribute from SOAP request using EndpointInterceptor","body":"<p>There is this legacy system which is sending SOAP requests with an empty namespace attribute causing fields values to be null, when namespace attribute is removed while testing from SOAP UI, it work fine.</p>\n<p>This is what problematic SOAP request looks like</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n    xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;soapenv:Body&gt;\n        &lt;ADD xmlns=&quot;http://www.cc.com/ws&quot;&gt;\n            &lt;ID xmlns=&quot;&quot;&gt;dummy&lt;/ID&gt;\n            &lt;PWD xmlns=&quot;&quot;&gt;password&lt;/PWD&gt;\n        &lt;/ADD&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>I tried by adding an interceptor using <code>addInterceptors</code> method of <code>WsConfigurerAdapter</code>, code of which is pasted below, but it doesn't work</p>\n<pre><code>@Override\npublic boolean handleRequest(MessageContext messageContext, Object endpoint) throws Exception {\n    \n    SOAPMessage soapMessage = ((SaajSoapMessage) messageContext.getRequest()).getSaajMessage();\n    SOAPBody body = soapMessage.getSOAPBody();\n    \n    Iterator&lt;SOAPBodyElement&gt; it = body.getChildElements();\n    while (it.hasNext()) {\n        Object node = it.next();\n        if (!isTextNode(node)) {\n            com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl e = \n                    (com.sun.xml.internal.messaging.saaj.soap.ver1_1.BodyElement1_1Impl) node;\n            \n            Iterator&lt;SOAPBodyElement&gt; subItr = e.getChildElements();\n            while(subItr.hasNext()) {\n                Object subNode = subItr.next();\n                if(subNode instanceof com.sun.xml.internal.messaging.saaj.soap.impl.ElementImpl) {\n                    SOAPElement el = (SOAPElement) subNode;\n                \n                    el.removeAttribute(&quot;xmlns&quot;);\n                }\n            }\n            \n        }\n    }\n    \n    soapMessage.writeTo(System.out);\n    return true;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","multipart"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1675417421,"post_id":75318244,"comment_id":132928832,"body_markdown":"You are constructing your request wrong please look at this example https://www.baeldung.com/spring-multipart-post-request-test","body":"You are constructing your request wrong please look at this example <a href=\"https://www.baeldung.com/spring-multipart-post-request-test\" rel=\"nofollow noreferrer\">baeldung.com/spring-multipart-post-request-test</a>"}],"owner":{"account_id":22540636,"reputation":27,"user_id":16731233,"display_name":"WooSub Shin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675306850,"creation_date":1675306850,"question_id":75318244,"body_markdown":"while creating a file upload api using spring webflux, the response of the api is 415.\r\n\r\nI searched hard on Google, but couldn&#39;t find a solution, so I posted a question.\r\n\r\nMy guess is that the conversion of Flux&lt;FilePart&gt; files failed during the message conversion process.\r\n\r\nI would be very grateful if you could tell me how to solve it.\r\n\r\n\r\n*I couldn&#39;t speak English well, so I had help from Google Translate. I apologize in advance that my tone may be unsporting.*\r\n\r\n**environmental information**\r\njdk17,\r\ngradle 7.6\r\ndependencies\r\n```\r\ndependencies {\r\n\t// lombok\r\n\tcompileOnly group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.24&#39;\r\n\tannotationProcessor group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;1.18.24&#39;\r\n\r\n\t// https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client\r\n\timplementation &#39;org.mariadb.jdbc:mariadb-java-client:3.1.2&#39;\r\n\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nAPI CODE Example\r\n\r\n```java\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.http.codec.multipart.FilePart;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestPart;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/v1&quot;)\r\npublic class FileController {\r\n\r\n    @PostMapping(value = &quot;/test&quot;)\r\n    public String test(@RequestPart(&quot;test&quot;) String temp) {\r\n        return null;\r\n    }\r\n\r\n    @PostMapping(value = &quot;/file&quot;, consumes = { MediaType.MULTIPART_FORM_DATA_VALUE })\r\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; uploadFile(@RequestPart(&quot;file&quot;) Flux&lt;FilePart&gt; files) {\r\n\r\n        System.out.println(&quot;called uploadFile!!!&quot;);\r\n\r\n        return Mono.empty();\r\n    }\r\n\r\n}\r\n```\r\n\r\nTest CODE Example\r\n```java\r\n\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.multipart;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.net.URI;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.mock.web.MockMultipartFile;\r\nimport org.springframework.mock.web.MockPart;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\npublic class FileControllerTest {\r\n\r\n    @Test\r\n    @DisplayName(&quot;file upload test&quot;)\r\n    public void uploadFileTest() throws Exception {\r\n\r\n        // given\r\n        String fileName = &quot;TestSample&quot;;\r\n        String origFilename = &quot;TestSample.md&quot;;\r\n\r\n        Path sampleFilePath = Paths.get(getClass().getResource(&quot;sample/&quot; + origFilename + &quot;&quot;).toURI());\r\n\r\n        FileInputStream fis = new FileInputStream(sampleFilePath.toFile());\r\n\r\n        MockMultipartFile sampleFile = new MockMultipartFile(fileName,\r\n                origFilename, MediaType.MULTIPART_FORM_DATA_VALUE, fis);\r\n        MockMvc mockMvc = MockMvcBuilders.standaloneSetup(new FileController()).build();\r\n\r\n        // when, then\r\n        mockMvc.perform(\r\n                multipart(new URI(&quot;/v1/file&quot;)).file(\r\n                        sampleFile).part(\r\n                                new MockPart(&quot;file&quot;,\r\n                                        sampleFile.getBytes())))\r\n                .andExpect(status().isOk());\r\n    }\r\n}\r\n```\r\n\r\nResponse Example\r\n[![enter image description here][1]][1]\r\n```\r\n2023-02-02T11:45:45.114+09:00  WARN 36696 --- [           main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type &#39;application/octet-stream&#39; is not supported]\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DwvU0.png\r\n  [2]: https://i.stack.imgur.com/wLlV9.png\r\n\r\n","title":"Why does a 415 response occur when calling the multipart file upload api made with spring webflux?","body":"<p>while creating a file upload api using spring webflux, the response of the api is 415.</p>\n<p>I searched hard on Google, but couldn't find a solution, so I posted a question.</p>\n<p>My guess is that the conversion of Flux files failed during the message conversion process.</p>\n<p>I would be very grateful if you could tell me how to solve it.</p>\n<p><em>I couldn't speak English well, so I had help from Google Translate. I apologize in advance that my tone may be unsporting.</em></p>\n<p><strong>environmental information</strong>\njdk17,\ngradle 7.6\ndependencies</p>\n<pre><code>dependencies {\n    // lombok\n    compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.18.24'\n    annotationProcessor group: 'org.projectlombok', name: 'lombok', version: '1.18.24'\n\n    // https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client\n    implementation 'org.mariadb.jdbc:mariadb-java-client:3.1.2'\n\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\n</code></pre>\n<p>API CODE Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.codec.multipart.FilePart;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestPart;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport lombok.extern.slf4j.Slf4j;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\n@Slf4j\n@RestController\n@RequestMapping(&quot;/v1&quot;)\npublic class FileController {\n\n    @PostMapping(value = &quot;/test&quot;)\n    public String test(@RequestPart(&quot;test&quot;) String temp) {\n        return null;\n    }\n\n    @PostMapping(value = &quot;/file&quot;, consumes = { MediaType.MULTIPART_FORM_DATA_VALUE })\n    public Mono&lt;ResponseEntity&lt;String&gt;&gt; uploadFile(@RequestPart(&quot;file&quot;) Flux&lt;FilePart&gt; files) {\n\n        System.out.println(&quot;called uploadFile!!!&quot;);\n\n        return Mono.empty();\n    }\n\n}\n</code></pre>\n<p>Test CODE Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.multipart;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\nimport java.io.FileInputStream;\nimport java.net.URI;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.mock.web.MockMultipartFile;\nimport org.springframework.mock.web.MockPart;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\n\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\npublic class FileControllerTest {\n\n    @Test\n    @DisplayName(&quot;file upload test&quot;)\n    public void uploadFileTest() throws Exception {\n\n        // given\n        String fileName = &quot;TestSample&quot;;\n        String origFilename = &quot;TestSample.md&quot;;\n\n        Path sampleFilePath = Paths.get(getClass().getResource(&quot;sample/&quot; + origFilename + &quot;&quot;).toURI());\n\n        FileInputStream fis = new FileInputStream(sampleFilePath.toFile());\n\n        MockMultipartFile sampleFile = new MockMultipartFile(fileName,\n                origFilename, MediaType.MULTIPART_FORM_DATA_VALUE, fis);\n        MockMvc mockMvc = MockMvcBuilders.standaloneSetup(new FileController()).build();\n\n        // when, then\n        mockMvc.perform(\n                multipart(new URI(&quot;/v1/file&quot;)).file(\n                        sampleFile).part(\n                                new MockPart(&quot;file&quot;,\n                                        sampleFile.getBytes())))\n                .andExpect(status().isOk());\n    }\n}\n</code></pre>\n<p>Response Example\n<a href=\"https://i.stack.imgur.com/DwvU0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DwvU0.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>2023-02-02T11:45:45.114+09:00  WARN 36696 --- [           main] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type 'application/octet-stream' is not supported]\n</code></pre>\n"},{"tags":["java","netflix-zuul","api-gateway"],"owner":{"account_id":4755611,"reputation":5317,"user_id":3844458,"accept_rate":64,"display_name":"Pham X. Bach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675306419,"creation_date":1675306419,"question_id":75318205,"body_markdown":"I&#39;m setting up a zuul api gateway, but cannot set socket timeout\r\n\r\nThis is my application.properies file:\r\n\r\n    server.port = 8888\r\n\t#server.port = 443\r\n\t#server.port = 80\r\n\tspring.application.name = fmmm-gateway\r\n\r\n\t#Them systemlog tai thu muc logs/system\r\n\tlogging.level.com.rishabh.zuulgatewayservice.ZuulGatewayServiceApplication=INFO\r\n\tlogging.file.name=logs/system/system.log\r\n\r\n\tzuul.sslHostnameValidationEnabled=false\r\n\t \r\n\tzuul.host.connect-timeout-millis=100 #90000\r\n\tzuul.host.socket-timeout-millis=100 #90000\r\n\tzuul.host.read-timeout-millis=100 #90000\r\n\r\n\tribbon.ConnectTimeout=100 #90000\r\n\tribbon.ReadTimeout=100  #90000\r\n\tribbon.SocketTimeout=100 #90000\r\n\t \r\n\t#https://cloud.spring.io/spring-cloud-netflix/multi/multi__router_and_filter_zuul.html\r\n\tzuul.sensitiveHeaders=Cookie #Set global sensitiveHeaders de khong bi chan header Authentication\r\n\t#zuul.ignoredHeaders=true\r\n\r\n\r\n\t# routing for service 1: bbbb\r\n\tzuul.routes.service_1.path = /api/fmmm/testing/bbbb/**\r\n\tzuul.routes.service_1.url = https://www.bbbb.net/bbbbapi/common/\r\n\tzuul.routes.service_1.serviceId=bbbb\r\n\tbbbb.ribbon.ConnectTimeout=100\r\n\tbbbb.ribbon.ReadTimeout=900\r\n\tbbbb.ribbon.SocketTimeout=900\r\n\r\n\r\n\t# routing for service 2: ccc\r\n\tzuul.routes.service_2.path = /api/fmmm/testing/ccc/**\r\n\tzuul.routes.service_2.url = https://api-uat.ccc/ccc-api-uat/rp/v1/\r\n\r\nBut timeout in config not work. Tried commenting either zuul.host... or ribbon... but also not work.\r\n\r\nThe zuul API Gateway just keeps **default 10 seconds socket timeout** (logged request at 09:03:35.301, logged socket read timeout at 09:03:45.370)\r\n\r\n    2023-02-02 09:03:35.301|| request -&gt; org.springframework.cloud.netflix.zuul.filters.pre.....\r\n\r\n    2023-02-02 09:03:45.370  WARN 2692 --- [http-nio-8840-exec-2] o.s.c.n.z.filters.post.SendErrorFilter   : Error during filtering\r\n\r\n\tcom.netflix.zuul.exception.ZuulException: Forwarding error\r\n\t\tat org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.handleException(SimpleHostRoutingFilter.java:261) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\r\n\t\tat org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.run(SimpleHostRoutingFilter.java:241) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\r\n\t\tat com.netflix.zuul.ZuulFilter.runFilter(ZuulFilter.java:117) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat com.netflix.zuul.FilterProcessor.processZuulFilter(FilterProcessor.java:193) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat com.netflix.zuul.FilterProcessor.runFilters(FilterProcessor.java:157) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat com.netflix.zuul.FilterProcessor.route(FilterProcessor.java:118) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat com.netflix.zuul.ZuulRunner.route(ZuulRunner.java:96) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat com.netflix.zuul.http.ZuulServlet.route(ZuulServlet.java:116) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat com.netflix.zuul.http.ZuulServlet.service(ZuulServlet.java:81) ~[zuul-core-1.3.1.jar!/:1.3.1]\r\n\t\tat org.springframework.web.servlet.mvc.ServletWrappingController.handleRequestInternal(ServletWrappingController.java:166) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.cloud.netflix.zuul.web.ZuulController.handleRequest(ZuulController.java:45) [spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\r\n\t\tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:52) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:660) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.2.0.RELEASE.jar!/:2.2.0.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_341]\r\n\t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_341]\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\r\n\t\tat java.lang.Thread.run(Unknown Source) [na:1.8.0_341]\r\n\tCaused by: java.net.SocketTimeoutException: Read timed out\r\n\t\tat java.net.SocketInputStream.socketRead0(Native Method) ~[na:1.8.0_341]\r\n\t\tat java.net.SocketInputStream.socketRead(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat java.net.SocketInputStream.read(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat java.net.SocketInputStream.read(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat sun.security.ssl.SSLSocketImpl.readApplicationRecord(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat sun.security.ssl.SSLSocketImpl.access$300(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat sun.security.ssl.SSLSocketImpl$AppInputStream.read(Unknown Source) ~[na:1.8.0_341]\r\n\t\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.12.jar!/:4.4.12]\r\n\t\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:118) ~[httpclient-4.5.10.jar!/:4.5.10]\r\n\t\tat org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.forwardRequest(SimpleHostRoutingFilter.java:422) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\r\n\t\tat org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.forward(SimpleHostRoutingFilter.java:341) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\r\n\t\tat org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.run(SimpleHostRoutingFilter.java:236) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\r\n\t\t... 54 common frames omitted\r\n\r\n\t","title":"zuul api gateway cannot set socket timeout","body":"<p>I'm setting up a zuul api gateway, but cannot set socket timeout</p>\n<p>This is my application.properies file:</p>\n<pre><code>server.port = 8888\n#server.port = 443\n#server.port = 80\nspring.application.name = fmmm-gateway\n\n#Them systemlog tai thu muc logs/system\nlogging.level.com.rishabh.zuulgatewayservice.ZuulGatewayServiceApplication=INFO\nlogging.file.name=logs/system/system.log\n\nzuul.sslHostnameValidationEnabled=false\n \nzuul.host.connect-timeout-millis=100 #90000\nzuul.host.socket-timeout-millis=100 #90000\nzuul.host.read-timeout-millis=100 #90000\n\nribbon.ConnectTimeout=100 #90000\nribbon.ReadTimeout=100  #90000\nribbon.SocketTimeout=100 #90000\n \n#https://cloud.spring.io/spring-cloud-netflix/multi/multi__router_and_filter_zuul.html\nzuul.sensitiveHeaders=Cookie #Set global sensitiveHeaders de khong bi chan header Authentication\n#zuul.ignoredHeaders=true\n\n\n# routing for service 1: bbbb\nzuul.routes.service_1.path = /api/fmmm/testing/bbbb/**\nzuul.routes.service_1.url = https://www.bbbb.net/bbbbapi/common/\nzuul.routes.service_1.serviceId=bbbb\nbbbb.ribbon.ConnectTimeout=100\nbbbb.ribbon.ReadTimeout=900\nbbbb.ribbon.SocketTimeout=900\n\n\n# routing for service 2: ccc\nzuul.routes.service_2.path = /api/fmmm/testing/ccc/**\nzuul.routes.service_2.url = https://api-uat.ccc/ccc-api-uat/rp/v1/\n</code></pre>\n<p>But timeout in config not work. Tried commenting either zuul.host... or ribbon... but also not work.</p>\n<p>The zuul API Gateway just keeps <strong>default 10 seconds socket timeout</strong> (logged request at 09:03:35.301, logged socket read timeout at 09:03:45.370)</p>\n<pre><code>2023-02-02 09:03:35.301|| request -&gt; org.springframework.cloud.netflix.zuul.filters.pre.....\n\n2023-02-02 09:03:45.370  WARN 2692 --- [http-nio-8840-exec-2] o.s.c.n.z.filters.post.SendErrorFilter   : Error during filtering\n\ncom.netflix.zuul.exception.ZuulException: Forwarding error\n    at org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.handleException(SimpleHostRoutingFilter.java:261) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\n    at org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.run(SimpleHostRoutingFilter.java:241) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\n    at com.netflix.zuul.ZuulFilter.runFilter(ZuulFilter.java:117) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at com.netflix.zuul.FilterProcessor.processZuulFilter(FilterProcessor.java:193) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at com.netflix.zuul.FilterProcessor.runFilters(FilterProcessor.java:157) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at com.netflix.zuul.FilterProcessor.route(FilterProcessor.java:118) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at com.netflix.zuul.ZuulRunner.route(ZuulRunner.java:96) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at com.netflix.zuul.http.ZuulServlet.route(ZuulServlet.java:116) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at com.netflix.zuul.http.ZuulServlet.service(ZuulServlet.java:81) ~[zuul-core-1.3.1.jar!/:1.3.1]\n    at org.springframework.web.servlet.mvc.ServletWrappingController.handleRequestInternal(ServletWrappingController.java:166) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.cloud.netflix.zuul.web.ZuulController.handleRequest(ZuulController.java:45) [spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\n    at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:52) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:660) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:108) [spring-boot-actuator-2.2.0.RELEASE.jar!/:2.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1579) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_341]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_341]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.27.jar!/:9.0.27]\n    at java.lang.Thread.run(Unknown Source) [na:1.8.0_341]\nCaused by: java.net.SocketTimeoutException: Read timed out\n    at java.net.SocketInputStream.socketRead0(Native Method) ~[na:1.8.0_341]\n    at java.net.SocketInputStream.socketRead(Unknown Source) ~[na:1.8.0_341]\n    at java.net.SocketInputStream.read(Unknown Source) ~[na:1.8.0_341]\n    at java.net.SocketInputStream.read(Unknown Source) ~[na:1.8.0_341]\n    at sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[na:1.8.0_341]\n    at sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[na:1.8.0_341]\n    at sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(Unknown Source) ~[na:1.8.0_341]\n    at sun.security.ssl.SSLSocketImpl.readApplicationRecord(Unknown Source) ~[na:1.8.0_341]\n    at sun.security.ssl.SSLSocketImpl.access$300(Unknown Source) ~[na:1.8.0_341]\n    at sun.security.ssl.SSLSocketImpl$AppInputStream.read(Unknown Source) ~[na:1.8.0_341]\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) ~[httpcore-4.4.12.jar!/:4.4.12]\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:118) ~[httpclient-4.5.10.jar!/:4.5.10]\n    at org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.forwardRequest(SimpleHostRoutingFilter.java:422) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\n    at org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.forward(SimpleHostRoutingFilter.java:341) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\n    at org.springframework.cloud.netflix.zuul.filters.route.SimpleHostRoutingFilter.run(SimpleHostRoutingFilter.java:236) ~[spring-cloud-netflix-zuul-2.2.5.RELEASE.jar!/:2.2.5.RELEASE]\n    ... 54 common frames omitted\n</code></pre>\n"},{"tags":["java","spring-boot","http-headers"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1659992536,"post_id":73283772,"comment_id":129423210,"body_markdown":"The [`Content-Type` HTTP header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type) denotes the content type of the request. Are you actually sending an `octet-stream` as data? And what content-type have you configured for the endpoint to consume?","body":"The <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type\" rel=\"nofollow noreferrer\"><code>Content-Type</code> HTTP header</a> denotes the content type of the request. Are you actually sending an <code>octet-stream</code> as data? And what content-type have you configured for the endpoint to consume?"},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1659993593,"post_id":73283772,"comment_id":129423482,"body_markdown":"@Turing85 I&#39;m not sure if I get your question. I have a request body in json format which I need to transform that in a downloadable excel file, and that is I&#39;m trying to do with that code above.","body":"@Turing85 I&#39;m not sure if I get your question. I have a request body in json format which I need to transform that in a downloadable excel file, and that is I&#39;m trying to do with that code above."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1659993721,"post_id":73283772,"comment_id":129423503,"body_markdown":"If the request body is json, then you should send a `Content-Type` of `application/json`, not `application/octet-stream`.","body":"If the request body is json, then you should send a <code>Content-Type</code> of <code>application&#47;json</code>, not <code>application&#47;octet-stream</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1659994005,"post_id":73283772,"comment_id":129423574,"body_markdown":"What confuses me, though, is that postman normally sets the `Content-Type` header automatically to the content configured in the `Body` tab. Have you set the type in the `Body` tab to `json`?","body":"What confuses me, though, is that postman normally sets the <code>Content-Type</code> header automatically to the content configured in the <code>Body</code> tab. Have you set the type in the <code>Body</code> tab to <code>json</code>?"},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1660000830,"post_id":73283772,"comment_id":129424959,"body_markdown":"So, I did both changes for content-type and still get the same error. Also, I set the type of body as a json. And you&#39;re right, the postman automatically sets the content type but I just want to make sure that is a octet-stream. Is the request and response header &#39;Accept&#39; is needed to be changed or something?","body":"So, I did both changes for content-type and still get the same error. Also, I set the type of body as a json. And you&#39;re right, the postman automatically sets the content type but I just want to make sure that is a octet-stream. Is the request and response header &#39;Accept&#39; is needed to be changed or something?"},{"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"score":0,"creation_date":1660018591,"post_id":73283772,"comment_id":129427225,"body_markdown":"Well, I changed the ```Content-Type``` to ```application/json``` and it worked. By the way, how can I assure that when the front-end calls the API and will get a downloadable file?","body":"Well, I changed the <code>Content-Type</code> to <code>application&#47;json</code> and it worked. By the way, how can I assure that when the front-end calls the API and will get a downloadable file?"}],"answers":[{"tags":[],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675305407,"creation_date":1660133838,"answer_id":73306189,"question_id":73283772,"body_markdown":"I found out. I had to put these both parameters inside the ```@PostMapping```: ```produces``` and ```consumes```\r\n```\r\n@PostMapping(value = &quot;/exportfile/excel&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n```","title":"Getting &quot;Unsupported Media Type&quot; error 415 (octet-stream)","body":"<p>I found out. I had to put these both parameters inside the <code>@PostMapping</code>: <code>produces</code> and <code>consumes</code></p>\n<pre><code>@PostMapping(value = &quot;/exportfile/excel&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n"}],"owner":{"account_id":12577079,"reputation":119,"user_id":9220564,"display_name":"dcm50"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4696,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73306189,"answer_count":1,"score":0,"last_activity_date":1675305407,"creation_date":1659991183,"question_id":73283772,"body_markdown":"I developed a controller which generates an excel file with a chart, but when I change the attribute &quot;produces&quot; from the mapping, I always get the error as mentioned in the title.  \r\nThis is the header from the postman\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7OgXW.png\r\n\r\nAnd, this is the controller code\r\n```\r\n @PostMapping(value = &quot;/exportfile/excel&quot;, produces = {MediaType.APPLICATION_OCTET_STREAM_VALUE})\r\n    public ResponseEntity&lt;InputStreamResource&gt; exportExcel(@RequestBody ClientDataObjectRequest clientDataObjectRequest) {\r\n\r\n        ByteArrayInputStream file = generateCSVExcelService.generateFileDetailsWithChart(clientDataObjectRequest);\r\n\r\n        String dateFile = new SimpleDateFormat(&quot;MM-dd-yyyy&quot;).format(new java.util.Date());\r\n        String timeFile = new SimpleDateFormat(&quot;HH-mm&quot;).format(new java.util.Date());\r\n        String fileName = clientDataObjectRequest.getMetricName().replace(&quot; &quot;,&quot;_&quot;) + &quot;_&quot; + dateFile + &quot;T&quot; + timeFile;\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentDispositionFormData(&quot;attachment&quot;, fileName + &quot;.xlsx&quot;);\r\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n        //headers.set(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + fileName + &quot;.xlsx&quot;);\r\n        //headers.set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM_VALUE);\r\n\r\n        return new ResponseEntity&lt;&gt;(new InputStreamResource(file), headers, HttpStatus.OK);\r\n    }\r\n```\r\nAs you can see, I&#39;m using the &quot;produces&quot; as &quot;APPLICATION_OCTET_STREAM_VALUE&quot; as well as the headers request and response.  \r\nWhat am I missing here?\r\n\r\nEDIT: I&#39;m receiving a request body in a Json format\r\n```\r\n{\r\n    &quot;metricName&quot;:&quot;Turnover Rate&quot;,\r\n    &quot;dataFormatCodeValue&quot;: &quot;currency&quot;,\r\n    &quot;clientDataRequest&quot;:[\r\n       {\r\n          &quot;clientName&quot;:&quot;client 1&quot;,\r\n          &quot;value&quot;:&quot;1&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 2&quot;,\r\n          &quot;value&quot;:&quot;2&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 3&quot;,\r\n          &quot;value&quot;:&quot;53.78&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 4&quot;,\r\n          &quot;value&quot;:&quot;3&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 5555555&quot;,\r\n          &quot;value&quot;:&quot;4&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 6&quot;,\r\n          &quot;value&quot;:&quot;33&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 7&quot;,\r\n          &quot;value&quot;:&quot;0&quot;\r\n       },\r\n       {\r\n          &quot;clientName&quot;:&quot;client 8&quot;,\r\n          &quot;value&quot;:&quot;8.5&quot;\r\n       }\r\n    ]\r\n}\r\n```","title":"Getting &quot;Unsupported Media Type&quot; error 415 (octet-stream)","body":"<p>I developed a controller which generates an excel file with a chart, but when I change the attribute &quot;produces&quot; from the mapping, I always get the error as mentioned in the title.<br />\nThis is the header from the postman\n<a href=\"https://i.stack.imgur.com/7OgXW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7OgXW.png\" alt=\"enter image description here\" /></a></p>\n<p>And, this is the controller code</p>\n<pre><code> @PostMapping(value = &quot;/exportfile/excel&quot;, produces = {MediaType.APPLICATION_OCTET_STREAM_VALUE})\n    public ResponseEntity&lt;InputStreamResource&gt; exportExcel(@RequestBody ClientDataObjectRequest clientDataObjectRequest) {\n\n        ByteArrayInputStream file = generateCSVExcelService.generateFileDetailsWithChart(clientDataObjectRequest);\n\n        String dateFile = new SimpleDateFormat(&quot;MM-dd-yyyy&quot;).format(new java.util.Date());\n        String timeFile = new SimpleDateFormat(&quot;HH-mm&quot;).format(new java.util.Date());\n        String fileName = clientDataObjectRequest.getMetricName().replace(&quot; &quot;,&quot;_&quot;) + &quot;_&quot; + dateFile + &quot;T&quot; + timeFile;\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentDispositionFormData(&quot;attachment&quot;, fileName + &quot;.xlsx&quot;);\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n        //headers.set(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=&quot; + fileName + &quot;.xlsx&quot;);\n        //headers.set(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_OCTET_STREAM_VALUE);\n\n        return new ResponseEntity&lt;&gt;(new InputStreamResource(file), headers, HttpStatus.OK);\n    }\n</code></pre>\n<p>As you can see, I'm using the &quot;produces&quot; as &quot;APPLICATION_OCTET_STREAM_VALUE&quot; as well as the headers request and response.<br />\nWhat am I missing here?</p>\n<p>EDIT: I'm receiving a request body in a Json format</p>\n<pre><code>{\n    &quot;metricName&quot;:&quot;Turnover Rate&quot;,\n    &quot;dataFormatCodeValue&quot;: &quot;currency&quot;,\n    &quot;clientDataRequest&quot;:[\n       {\n          &quot;clientName&quot;:&quot;client 1&quot;,\n          &quot;value&quot;:&quot;1&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 2&quot;,\n          &quot;value&quot;:&quot;2&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 3&quot;,\n          &quot;value&quot;:&quot;53.78&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 4&quot;,\n          &quot;value&quot;:&quot;3&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 5555555&quot;,\n          &quot;value&quot;:&quot;4&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 6&quot;,\n          &quot;value&quot;:&quot;33&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 7&quot;,\n          &quot;value&quot;:&quot;0&quot;\n       },\n       {\n          &quot;clientName&quot;:&quot;client 8&quot;,\n          &quot;value&quot;:&quot;8.5&quot;\n       }\n    ]\n}\n</code></pre>\n"},{"tags":["java","glassfish"],"comments":[{"owner":{"account_id":28542,"reputation":160910,"user_id":76337,"accept_rate":70,"display_name":"John Saunders"},"score":0,"creation_date":1267560734,"post_id":2366270,"comment_id":2341873,"body_markdown":"Did you mean to tag this with &quot;j2ee&quot;?","body":"Did you mean to tag this with &quot;j2ee&quot;?"},{"owner":{"account_id":38723,"reputation":9874,"user_id":111331,"accept_rate":100,"display_name":"vkraemer"},"score":0,"creation_date":1267577315,"post_id":2366270,"comment_id":2343785,"body_markdown":"I looked up &#39;URI syntax authority component&#39; and this looks like a good reference: http://www.ietf.org/rfc/rfc2396.txt...","body":"I looked up &#39;URI syntax authority component&#39; and this looks like a good reference: <a href=\"http://www.ietf.org/rfc/rfc2396.txt\" rel=\"nofollow noreferrer\">ietf.org/rfc/rfc2396.txt</a>..."},{"owner":{"account_id":36777,"reputation":1990,"user_id":104993,"accept_rate":85,"display_name":"Kirby"},"score":0,"creation_date":1267624818,"post_id":2366270,"comment_id":2347624,"body_markdown":"do you think it has anything to do with the fact taht my netbeans workspace is over a unc connected path?","body":"do you think it has anything to do with the fact taht my netbeans workspace is over a unc connected path?"}],"answers":[{"tags":[],"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1267559785,"creation_date":1267559785,"answer_id":2366294,"question_id":2366270,"body_markdown":"Flip over to the GlassFish output tab, it&#39;ll give you better info.  Netbeans gives you that generic error, but Glassfish gives you the details.  When I get this it&#39;s usually a typo in one of my JSP or XML files...","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>Flip over to the GlassFish output tab, it'll give you better info.  Netbeans gives you that generic error, but Glassfish gives you the details.  When I get this it's usually a typo in one of my JSP or XML files...</p>\n"},{"tags":[],"owner":{"account_id":36777,"reputation":1990,"user_id":104993,"accept_rate":85,"display_name":"Kirby"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1319276251,"creation_date":1267625124,"answer_id":2371874,"question_id":2366270,"body_markdown":"The solution was simply that the URI was malformed (because the location of my project was over a &quot;\\\\\\\\&quot; UNC path).  This issue was fixed when I used a local workspace. \r\n","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>The solution was simply that the URI was malformed (because the location of my project was over a \"\\\\\" UNC path).  This issue was fixed when I used a local workspace. </p>\n"},{"tags":[],"owner":{"account_id":124926,"reputation":461,"user_id":320364,"accept_rate":50,"display_name":"shereifhawary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319276361,"creation_date":1285321062,"answer_id":3785823,"question_id":2366270,"body_markdown":"I had the same problem (NetBeans 6.9.1) and the fix is so simple :)\r\n\r\nI realized NetBeans didn&#39;t create a META-INF folder and thus no `context.xml` was found, so I create the META-INF folder under the main project folder and create file `context.xml` with the following content.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;Context antiJARLocking=&quot;true&quot; path=&quot;/home&quot;/&gt;\r\n\r\nAnd it runs :)\r\n\r\n","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>I had the same problem (NetBeans 6.9.1) and the fix is so simple :)</p>\n\n<p>I realized NetBeans didn't create a META-INF folder and thus no <code>context.xml</code> was found, so I create the META-INF folder under the main project folder and create file <code>context.xml</code> with the following content.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;Context antiJARLocking=\"true\" path=\"/home\"/&gt;\n</code></pre>\n\n<p>And it runs :)</p>\n"},{"tags":[],"owner":{"account_id":99131,"reputation":367,"user_id":267929,"accept_rate":78,"display_name":"MostafaEweda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319276463,"creation_date":1285531489,"answer_id":3799572,"question_id":2366270,"body_markdown":"I found out that the URL of the application conflicted with a module in the Sun GlassFish.\r\nSo, in the file `sun-web.xml` I renamed the &amp;lt;context-root&gt;/servlets-samples&amp;lt;/context-root&gt;.\r\n\r\nIt is now working.\r\n","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>I found out that the URL of the application conflicted with a module in the Sun GlassFish.\nSo, in the file <code>sun-web.xml</code> I renamed the &lt;context-root>/servlets-samples&lt;/context-root>.</p>\n\n<p>It is now working.</p>\n"},{"tags":[],"owner":{"account_id":79255,"reputation":293,"user_id":224906,"accept_rate":0,"display_name":"Zakir Sajib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319276590,"creation_date":1287419391,"answer_id":3961178,"question_id":2366270,"body_markdown":"I also faced similar problem while working on Affable Bean e-commerce site development. I received an error: \r\n\r\n&gt; Module has not been deployed.\r\n\r\nI checked the `sun-resources.xml` file and found the following statements which resulted in the error.\r\n\r\n    &lt;resources&gt;\r\n        &lt;jdbc-resource enabled=&quot;true&quot;\r\n                       jndi-name=&quot;jdbc/affablebean&quot;\r\n                       object-type=&quot;user&quot;\r\n                       pool-name=&quot;AffableBeanPool&quot;&gt;\r\n        &lt;/jdbc-resource&gt;\r\n\r\n        &lt;jdbc-connection-pool allow-non-component-callers=&quot;false&quot;\r\n                              associate-with-thread=&quot;false&quot;\r\n                              connection-creation-retry-attempts=&quot;0&quot;\r\n                              connection-creation-retry-interval-in-seconds=&quot;10&quot;\r\n                              connection-leak-reclaim=&quot;false&quot;\r\n                              connection-leak-timeout-in-seconds=&quot;0&quot;\r\n                              connection-validation-method=&quot;auto-commit&quot;\r\n                              datasource-classname=&quot;com.mysql.jdbc.jdbc2.optional.MysqlDataSource&quot;\r\n                              fail-all-connections=&quot;false&quot;\r\n                              idle-timeout-in-seconds=&quot;300&quot;\r\n                              is-connection-validation-required=&quot;false&quot;\r\n                              is-isolation-level-guaranteed=&quot;true&quot;\r\n                              lazy-connection-association=&quot;false&quot;\r\n                              lazy-connection-enlistment=&quot;false&quot;\r\n                              match-connections=&quot;false&quot;\r\n                              max-connection-usage-count=&quot;0&quot;\r\n                              max-pool-size=&quot;32&quot;\r\n                              max-wait-time-in-millis=&quot;60000&quot;\r\n                              name=&quot;AffableBeanPool&quot;\r\n                              non-transactional-connections=&quot;false&quot;\r\n                              pool-resize-quantity=&quot;2&quot;\r\n                              res-type=&quot;javax.sql.ConnectionPoolDataSource&quot;\r\n                              statement-timeout-in-seconds=&quot;-1&quot;\r\n                              steady-pool-size=&quot;8&quot;\r\n                              validate-atmost-once-period-in-seconds=&quot;0&quot;\r\n                              wrap-jdbc-objects=&quot;false&quot;&gt;\r\n\r\n            &lt;description&gt;Connects to the affablebean database&lt;/description&gt;\r\n            &lt;property name=&quot;URL&quot; value=&quot;jdbc:mysql://localhost:3306/affablebean&quot;/&gt;\r\n            &lt;property name=&quot;User&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;Password&quot; value=&quot;nbuser&quot;/&gt;\r\n        &lt;/jdbc-connection-pool&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen I changed the statements to the following which is simple and works. I was able to run the file successfully.\r\n\r\n    &lt;resources&gt;\r\n        &lt;jdbc-resource enabled=&quot;true&quot; jndi-name=&quot;jdbc/affablebean&quot; object-type=&quot;user&quot; pool-name=&quot;AffablebeanPool&quot;&gt;\r\n            &lt;description/&gt;\r\n        &lt;/jdbc-resource&gt;\r\n        &lt;jdbc-connection-pool allow-non-component-callers=&quot;false&quot; associate-with-thread=&quot;false&quot; connection-creation-retry-attempts=&quot;0&quot; connection-creation-retry-interval-in-seconds=&quot;10&quot; connection-leak-reclaim=&quot;false&quot; connection-leak-timeout-in-seconds=&quot;0&quot; connection-validation-method=&quot;auto-commit&quot; datasource-classname=&quot;com.mysql.jdbc.jdbc2.optional.MysqlDataSource&quot; fail-all-connections=&quot;false&quot; idle-timeout-in-seconds=&quot;300&quot; is-connection-validation-required=&quot;false&quot; is-isolation-level-guaranteed=&quot;true&quot; lazy-connection-association=&quot;false&quot; lazy-connection-enlistment=&quot;false&quot; match-connections=&quot;false&quot; max-connection-usage-count=&quot;0&quot; max-pool-size=&quot;32&quot; max-wait-time-in-millis=&quot;60000&quot; name=&quot;AffablebeanPool&quot; non-transactional-connections=&quot;false&quot; pool-resize-quantity=&quot;2&quot; res-type=&quot;javax.sql.ConnectionPoolDataSource&quot; statement-timeout-in-seconds=&quot;-1&quot; steady-pool-size=&quot;8&quot; validate-atmost-once-period-in-seconds=&quot;0&quot; wrap-jdbc-objects=&quot;false&quot;&gt;\r\n            &lt;property name=&quot;URL&quot; value=&quot;jdbc:mysql://localhost:3306/AffableBean&quot;/&gt;\r\n            &lt;property name=&quot;User&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;Password&quot; value=&quot;nbuser&quot;/&gt;\r\n        &lt;/jdbc-connection-pool&gt;\r\n    &lt;/resources&gt;\r\n","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>I also faced similar problem while working on Affable Bean e-commerce site development. I received an error: </p>\n\n<blockquote>\n  <p>Module has not been deployed.</p>\n</blockquote>\n\n<p>I checked the <code>sun-resources.xml</code> file and found the following statements which resulted in the error.</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;jdbc-resource enabled=\"true\"\n                   jndi-name=\"jdbc/affablebean\"\n                   object-type=\"user\"\n                   pool-name=\"AffableBeanPool\"&gt;\n    &lt;/jdbc-resource&gt;\n\n    &lt;jdbc-connection-pool allow-non-component-callers=\"false\"\n                          associate-with-thread=\"false\"\n                          connection-creation-retry-attempts=\"0\"\n                          connection-creation-retry-interval-in-seconds=\"10\"\n                          connection-leak-reclaim=\"false\"\n                          connection-leak-timeout-in-seconds=\"0\"\n                          connection-validation-method=\"auto-commit\"\n                          datasource-classname=\"com.mysql.jdbc.jdbc2.optional.MysqlDataSource\"\n                          fail-all-connections=\"false\"\n                          idle-timeout-in-seconds=\"300\"\n                          is-connection-validation-required=\"false\"\n                          is-isolation-level-guaranteed=\"true\"\n                          lazy-connection-association=\"false\"\n                          lazy-connection-enlistment=\"false\"\n                          match-connections=\"false\"\n                          max-connection-usage-count=\"0\"\n                          max-pool-size=\"32\"\n                          max-wait-time-in-millis=\"60000\"\n                          name=\"AffableBeanPool\"\n                          non-transactional-connections=\"false\"\n                          pool-resize-quantity=\"2\"\n                          res-type=\"javax.sql.ConnectionPoolDataSource\"\n                          statement-timeout-in-seconds=\"-1\"\n                          steady-pool-size=\"8\"\n                          validate-atmost-once-period-in-seconds=\"0\"\n                          wrap-jdbc-objects=\"false\"&gt;\n\n        &lt;description&gt;Connects to the affablebean database&lt;/description&gt;\n        &lt;property name=\"URL\" value=\"jdbc:mysql://localhost:3306/affablebean\"/&gt;\n        &lt;property name=\"User\" value=\"root\"/&gt;\n        &lt;property name=\"Password\" value=\"nbuser\"/&gt;\n    &lt;/jdbc-connection-pool&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Then I changed the statements to the following which is simple and works. I was able to run the file successfully.</p>\n\n<pre><code>&lt;resources&gt;\n    &lt;jdbc-resource enabled=\"true\" jndi-name=\"jdbc/affablebean\" object-type=\"user\" pool-name=\"AffablebeanPool\"&gt;\n        &lt;description/&gt;\n    &lt;/jdbc-resource&gt;\n    &lt;jdbc-connection-pool allow-non-component-callers=\"false\" associate-with-thread=\"false\" connection-creation-retry-attempts=\"0\" connection-creation-retry-interval-in-seconds=\"10\" connection-leak-reclaim=\"false\" connection-leak-timeout-in-seconds=\"0\" connection-validation-method=\"auto-commit\" datasource-classname=\"com.mysql.jdbc.jdbc2.optional.MysqlDataSource\" fail-all-connections=\"false\" idle-timeout-in-seconds=\"300\" is-connection-validation-required=\"false\" is-isolation-level-guaranteed=\"true\" lazy-connection-association=\"false\" lazy-connection-enlistment=\"false\" match-connections=\"false\" max-connection-usage-count=\"0\" max-pool-size=\"32\" max-wait-time-in-millis=\"60000\" name=\"AffablebeanPool\" non-transactional-connections=\"false\" pool-resize-quantity=\"2\" res-type=\"javax.sql.ConnectionPoolDataSource\" statement-timeout-in-seconds=\"-1\" steady-pool-size=\"8\" validate-atmost-once-period-in-seconds=\"0\" wrap-jdbc-objects=\"false\"&gt;\n        &lt;property name=\"URL\" value=\"jdbc:mysql://localhost:3306/AffableBean\"/&gt;\n        &lt;property name=\"User\" value=\"root\"/&gt;\n        &lt;property name=\"Password\" value=\"nbuser\"/&gt;\n    &lt;/jdbc-connection-pool&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112417,"reputation":823,"user_id":296533,"accept_rate":50,"display_name":"Mike GH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332850781,"creation_date":1332850781,"answer_id":9889423,"question_id":2366270,"body_markdown":"After trying a skeleton project called &quot;jsf-blank&quot;, which did not demonstrate this problem with xhtml files; I concluded that there was an unknown problem in my project.  My solution may not have been too elegant, but it saved time.  I backed up the code and other files I&#39;d already developed, deleted the project, and started over - recreated the project.  So far, I&#39;ve added back most of the files and it looks pretty good.  ","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>After trying a skeleton project called \"jsf-blank\", which did not demonstrate this problem with xhtml files; I concluded that there was an unknown problem in my project.  My solution may not have been too elegant, but it saved time.  I backed up the code and other files I'd already developed, deleted the project, and started over - recreated the project.  So far, I've added back most of the files and it looks pretty good.  </p>\n"},{"tags":[],"owner":{"account_id":4429887,"reputation":8130,"user_id":3607273,"accept_rate":88,"display_name":"S Meaden"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1614188379,"creation_date":1438366541,"answer_id":31752608,"question_id":2366270,"body_markdown":"An authority is a portion of a URI.  Your error suggests that it was not expecting one.  The authority section is shown below, it is what is known as the website part of the url.\r\n\r\nFrom RFC3986 on [URIs][1]: \r\n\r\n&gt; The following is an example URI and its component parts:\r\n\r\n         foo://example.com:8042/over/there?name=ferret#nose\r\n         \\_/   \\______________/\\_________/ \\_________/ \\__/\r\n          |           |            |            |        |\r\n       scheme     authority       path        query   fragment\r\n          |   _____________________|__\r\n         / \\ /                        \\\r\n         urn:example:animal:ferret:nose\r\n\r\nSo there are two formats, one with an authority and one not.    Regarding slashes: \r\n\r\n&gt; &quot;When authority is not present, the path cannot begin with two slash  \r\n&gt; characters (&quot;//&quot;).&quot;\r\n\r\nSource: https://tools.ietf.org/rfc/rfc3986.txt  (search for text &#39;*authority is not present, the path cannot begin with two slash*&#39;)\r\n\r\n\r\n  [1]: https://tools.ietf.org/rfc/rfc3986.txt","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>An authority is a portion of a URI.  Your error suggests that it was not expecting one.  The authority section is shown below, it is what is known as the website part of the url.</p>\n<p>From RFC3986 on <a href=\"https://tools.ietf.org/rfc/rfc3986.txt\" rel=\"noreferrer\">URIs</a>:</p>\n<blockquote>\n<p>The following is an example URI and its component parts:</p>\n</blockquote>\n<pre><code>     foo://example.com:8042/over/there?name=ferret#nose\n     \\_/   \\______________/\\_________/ \\_________/ \\__/\n      |           |            |            |        |\n   scheme     authority       path        query   fragment\n      |   _____________________|__\n     / \\ /                        \\\n     urn:example:animal:ferret:nose\n</code></pre>\n<p>So there are two formats, one with an authority and one not.    Regarding slashes:</p>\n<blockquote>\n<p>&quot;When authority is not present, the path cannot begin with two slash<br />\ncharacters (&quot;//&quot;).&quot;</p>\n</blockquote>\n<p>Source: <a href=\"https://tools.ietf.org/rfc/rfc3986.txt\" rel=\"noreferrer\">https://tools.ietf.org/rfc/rfc3986.txt</a>  (search for text '<em>authority is not present, the path cannot begin with two slash</em>')</p>\n"}],"owner":{"account_id":36777,"reputation":1990,"user_id":104993,"accept_rate":85,"display_name":"Kirby"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130469,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":2371874,"answer_count":7,"score":50,"last_activity_date":1675305377,"creation_date":1267559601,"question_id":2366270,"body_markdown":"I am attempting to build a Java web project on NetBeans 6.8, but I get get the following error:\r\n\r\n&gt; The module has not been deployed.\r\n\r\nIt points to my `build-impl.xml` file, line 577:\r\n\r\n    &lt;nbdeploy clientUrlPart=&quot;${client.urlPart}&quot; debugmode=&quot;false&quot; forceRedeploy=&quot;${forceRedeploy}&quot;/&gt;\r\n\r\nThe GlassFish v3 error log says:\r\n\r\n    SEVERE: Exception in command execution : java.lang.IllegalArgumentException: URI has an authority component\r\n    java.lang.IllegalArgumentException: URI has an authority component\r\n      at java.io.File.&lt;init&gt;(File.java:368)`..., etc.\r\n\r\nWhat does *&quot;URI has an authority component&quot;* mean?\r\n","title":"What does &#39;URI has an authority component&#39; mean?","body":"<p>I am attempting to build a Java web project on NetBeans 6.8, but I get get the following error:</p>\n\n<blockquote>\n  <p>The module has not been deployed.</p>\n</blockquote>\n\n<p>It points to my <code>build-impl.xml</code> file, line 577:</p>\n\n<pre><code>&lt;nbdeploy clientUrlPart=\"${client.urlPart}\" debugmode=\"false\" forceRedeploy=\"${forceRedeploy}\"/&gt;\n</code></pre>\n\n<p>The GlassFish v3 error log says:</p>\n\n<pre><code>SEVERE: Exception in command execution : java.lang.IllegalArgumentException: URI has an authority component\njava.lang.IllegalArgumentException: URI has an authority component\n  at java.io.File.&lt;init&gt;(File.java:368)`..., etc.\n</code></pre>\n\n<p>What does <em>\"URI has an authority component\"</em> mean?</p>\n"},{"tags":["java","encoding","utf-8","character-encoding","windows-1251"],"comments":[{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":1,"creation_date":1675150264,"post_id":75293780,"comment_id":132861116,"body_markdown":"Please show your code.","body":"Please show your code."},{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1675152921,"post_id":75293780,"comment_id":132861745,"body_markdown":"Is this all the code? I can&#39;t see anything related UTF-8.","body":"Is this all the code? I can&#39;t see anything related UTF-8."},{"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":0,"creation_date":1675153077,"post_id":75293780,"comment_id":132861803,"body_markdown":"And please add the code to the question and not as a comment.","body":"And please add the code to the question and not as a comment."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1675153194,"post_id":75293780,"comment_id":132861852,"body_markdown":"[The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/)","body":"<a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675156755,"post_id":75293780,"comment_id":132862874,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675186062,"post_id":75293780,"comment_id":132872819,"body_markdown":"@Codo I must assume that the [comment](https://stackoverflow.com/questions/75293780/save-cyrillic-while-change-string-encoding-from-utf-8-to-windows-1251-in-java#comment132861745_75293780) above was as reply to my comment (despite missing the `@user` annotation) I am not the author of the question, I posted a suggestion for the OP (I did not use `@Codo` in my first comment, should be implicit that it is addressed to OP [even if the site notified you]) And sure it is not all code, but the *heart* of how it can be done.","body":"@Codo I must assume that the <a href=\"https://stackoverflow.com/questions/75293780/save-cyrillic-while-change-string-encoding-from-utf-8-to-windows-1251-in-java#comment132861745_75293780\">comment</a> above was as reply to my comment (despite missing the <code>@user</code> annotation) I am not the author of the question, I posted a suggestion for the OP (I did not use <code>@Codo</code> in my first comment, should be implicit that it is addressed to OP [even if the site notified you]) And sure it is not all code, but the <i>heart</i> of how it can be done."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675304556,"creation_date":1675153295,"answer_id":75294350,"question_id":75293780,"body_markdown":"# Specify character encoding for writing\r\n\r\nYou can specify a character encoding with the [`CharSet`][1] class. \r\n\r\nThe [NIO.2][2] framework in modern Java makes easy work of writing text to a file. For example, [`Files.writeString`][3].\r\n\r\nThis code works for me:\r\n\r\n```java\r\nString original = &quot;Some текст с кириллицей&quot;;\r\nbyte[] win1251Bytes = new byte[ 0 ];\r\ntry { win1251Bytes = original.getBytes( &quot;windows-1251&quot; ); } catch ( UnsupportedEncodingException e ) { throw new RuntimeException( e ); }\r\nPath path = Paths.get( &quot;/Users/whatever/bogus.txt&quot; );  // Home folder on macOS.\r\ntry { Files.write( path , win1251Bytes ); } catch ( IOException e ) { throw new RuntimeException( e ); }\r\n```\r\n\r\nOr, this briefer code works too, per the [Comment by Holger](https://stackoverflow.com/questions/75293780/save-cyrillic-while-change-string-encoding-from-utf-8-to-windows-1251-in-java/75294350?noredirect=1#comment132893349_75294350) below.\r\n\r\n```java\r\ntry\r\n{\r\n    Files.writeString(\r\n            Paths.get( &quot;/Users/whatever/bogus.txt&quot; ) ,\r\n            &quot;Some текст с кириллицей&quot; ,\r\n            Charset.forName( &quot;windows-1251&quot; ) \r\n    );\r\n}\r\ncatch ( IOException e )\r\n{\r\n    throw new RuntimeException( e );\r\n}\r\n```\r\n\r\nI know nothing about Cyrillic text. I just read the [Oracle tutorial][4] first. Then I read [*Writing byte\\[\\] to a File in Java*][5] page at Baeldung.com. And in the Javadoc for [`Charset`][6], I found a mention that if a character set is supported in Java, we should be able to use its name as listed in [IANA Charset Registry][7]. By following that link, I found the name `&quot;windows-1251&quot;`. \r\n\r\nRun that code to create the file. \r\n\r\n\r\n# Specify character encoding for reading\r\n\r\nOpen the file in a [text editor][8] of your choice. Be sure to tell the app to &#128073; **interpret the [octets][9] in the file as Windows-1251** encoding.\r\n\r\nHere I chose to use the [*TextEdit*][10] app by Apple, bundled with [macOS][11]. In the File &gt; Open dialog box for TextEdit, notice the `Options` button used to display a list of character encodings. Choose *Cyrillic (Windows)* there, as that seems to mean [Windows-1251][12]. \r\n\r\n[![screenshot of TextEdit.app File &gt; Open &gt; Options dialog box][13]][13]\r\n\r\nIf the text is properly interpreted, we see the original Cyrillic characters.\r\n\r\n[![enter image description here][14]][14]\r\n\r\n# Defaults\r\n\r\nBe aware that until Java 17 and earlier, for most purposes the Java runtime **defaults to the character encoding native to the host OS**. This default applies to writing and reading text files, among other things.\r\n\r\nAs of Java 18 and later, the Java runtime **defaults to [UTF-8][15]** character encoding for most purposes. This default applies across all host platforms (macOS, Linux, Windows, etc.). See [*JEP 400: UTF-8 by Default*](https://openjdk.org/jeps/400). \r\n\r\nSo when you need an alternate character encoding such as *Windows 1251*, **always specify the `CharSet`** explicitly. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html\r\n  [2]: https://en.wikipedia.org/wiki/Non-blocking_I/O_(Java)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.file.OpenOption...)\r\n  [4]: https://docs.oracle.com/javase/tutorial/i18n/text/string.html\r\n  [5]: https://www.baeldung.com/java-write-byte-array-file\r\n  [6]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html\r\n  [7]: http://www.iana.org/assignments/character-sets\r\n  [8]: https://en.wikipedia.org/wiki/Text_editor\r\n  [9]: https://en.wikipedia.org/wiki/Octet_(computing)\r\n  [10]: https://en.wikipedia.org/wiki/TextEdit\r\n  [11]: https://en.wikipedia.org/wiki/macOS\r\n  [12]: https://en.wikipedia.org/wiki/Windows-1251\r\n  [13]: https://i.stack.imgur.com/RlTIN.jpg\r\n  [14]: https://i.stack.imgur.com/qfFK3.jpg\r\n  [15]: https://en.wikipedia.org/wiki/UTF-8","title":"Save cyrillic while change String encoding from UTF-8 to windows-1251 in Java","body":"<h1>Specify character encoding for writing</h1>\n<p>You can specify a character encoding with the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\"><code>CharSet</code></a> class.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Non-blocking_I/O_(Java)\" rel=\"nofollow noreferrer\">NIO.2</a> framework in modern Java makes easy work of writing text to a file. For example, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#writeString(java.nio.file.Path,java.lang.CharSequence,java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\"><code>Files.writeString</code></a>.</p>\n<p>This code works for me:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String original = &quot;Some текст с кириллицей&quot;;\nbyte[] win1251Bytes = new byte[ 0 ];\ntry { win1251Bytes = original.getBytes( &quot;windows-1251&quot; ); } catch ( UnsupportedEncodingException e ) { throw new RuntimeException( e ); }\nPath path = Paths.get( &quot;/Users/whatever/bogus.txt&quot; );  // Home folder on macOS.\ntry { Files.write( path , win1251Bytes ); } catch ( IOException e ) { throw new RuntimeException( e ); }\n</code></pre>\n<p>Or, this briefer code works too, per the <a href=\"https://stackoverflow.com/questions/75293780/save-cyrillic-while-change-string-encoding-from-utf-8-to-windows-1251-in-java/75294350?noredirect=1#comment132893349_75294350\">Comment by Holger</a> below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try\n{\n    Files.writeString(\n            Paths.get( &quot;/Users/whatever/bogus.txt&quot; ) ,\n            &quot;Some текст с кириллицей&quot; ,\n            Charset.forName( &quot;windows-1251&quot; ) \n    );\n}\ncatch ( IOException e )\n{\n    throw new RuntimeException( e );\n}\n</code></pre>\n<p>I know nothing about Cyrillic text. I just read the <a href=\"https://docs.oracle.com/javase/tutorial/i18n/text/string.html\" rel=\"nofollow noreferrer\">Oracle tutorial</a> first. Then I read <a href=\"https://www.baeldung.com/java-write-byte-array-file\" rel=\"nofollow noreferrer\"><em>Writing byte[] to a File in Java</em></a> page at Baeldung.com. And in the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\"><code>Charset</code></a>, I found a mention that if a character set is supported in Java, we should be able to use its name as listed in <a href=\"http://www.iana.org/assignments/character-sets\" rel=\"nofollow noreferrer\">IANA Charset Registry</a>. By following that link, I found the name <code>&quot;windows-1251&quot;</code>.</p>\n<p>Run that code to create the file.</p>\n<h1>Specify character encoding for reading</h1>\n<p>Open the file in a <a href=\"https://en.wikipedia.org/wiki/Text_editor\" rel=\"nofollow noreferrer\">text editor</a> of your choice. Be sure to tell the app to 👉 <strong>interpret the <a href=\"https://en.wikipedia.org/wiki/Octet_(computing)\" rel=\"nofollow noreferrer\">octets</a> in the file as Windows-1251</strong> encoding.</p>\n<p>Here I chose to use the <a href=\"https://en.wikipedia.org/wiki/TextEdit\" rel=\"nofollow noreferrer\"><em>TextEdit</em></a> app by Apple, bundled with <a href=\"https://en.wikipedia.org/wiki/macOS\" rel=\"nofollow noreferrer\">macOS</a>. In the File &gt; Open dialog box for TextEdit, notice the <code>Options</code> button used to display a list of character encodings. Choose <em>Cyrillic (Windows)</em> there, as that seems to mean <a href=\"https://en.wikipedia.org/wiki/Windows-1251\" rel=\"nofollow noreferrer\">Windows-1251</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/RlTIN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RlTIN.jpg\" alt=\"screenshot of TextEdit.app File &gt; Open &gt; Options dialog box\" /></a></p>\n<p>If the text is properly interpreted, we see the original Cyrillic characters.</p>\n<p><a href=\"https://i.stack.imgur.com/qfFK3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qfFK3.jpg\" alt=\"enter image description here\" /></a></p>\n<h1>Defaults</h1>\n<p>Be aware that until Java 17 and earlier, for most purposes the Java runtime <strong>defaults to the character encoding native to the host OS</strong>. This default applies to writing and reading text files, among other things.</p>\n<p>As of Java 18 and later, the Java runtime <strong>defaults to <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">UTF-8</a></strong> character encoding for most purposes. This default applies across all host platforms (macOS, Linux, Windows, etc.). See <a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\"><em>JEP 400: UTF-8 by Default</em></a>.</p>\n<p>So when you need an alternate character encoding such as <em>Windows 1251</em>, <strong>always specify the <code>CharSet</code></strong> explicitly.</p>\n"}],"owner":{"account_id":18758268,"reputation":11,"user_id":13677770,"display_name":"Mark Krass"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1675186526,"answer_count":1,"score":0,"last_activity_date":1675304556,"creation_date":1675149443,"question_id":75293780,"body_markdown":"I try to swap encoding from UTF-8 to windows-1251, but all my solutions works only with latin letters.\r\nSo I want to change encoding in cyrillic String. How can I do it correctly?\r\n\r\nAll solutions with creating a new String from bytes don&#39;t save [Cyrillic][1] letters.\r\n\r\nFor ex:\r\nUTF-8 - Some текст с кириллицей and latin\r\nwindows-1251 - Some С‚Р&#181;РєСЃС‚ СЃ РєРёСЂРёР&#187;Р&#187;РёС†Р&#181;Р№ and latin\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Cyrillic_script","title":"Save cyrillic while change String encoding from UTF-8 to windows-1251 in Java","body":"<p>I try to swap encoding from UTF-8 to windows-1251, but all my solutions works only with latin letters.\nSo I want to change encoding in cyrillic String. How can I do it correctly?</p>\n<p>All solutions with creating a new String from bytes don't save <a href=\"https://en.wikipedia.org/wiki/Cyrillic_script\" rel=\"nofollow noreferrer\">Cyrillic</a> letters.</p>\n<p>For ex:\nUTF-8 - Some текст с кириллицей and latin\nwindows-1251 - Some С‚РµРєСЃС‚ СЃ РєРёСЂРёР»Р»РёС†РµР№ and latin</p>\n"},{"tags":["java","android","react-native","rctbridge"],"comments":[{"owner":{"account_id":14842277,"reputation":4823,"user_id":10718641,"display_name":"Abe"},"score":0,"creation_date":1658707600,"post_id":73095898,"comment_id":129110920,"body_markdown":"This would be a good github issue, have you posted it to the React Native repo?","body":"This would be a good github issue, have you posted it to the React Native repo?"},{"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"score":0,"creation_date":1658709646,"post_id":73095898,"comment_id":129111110,"body_markdown":"@Abe I did post it on react&#39;s working group https://github.com/reactwg/react-native-new-architecture/discussions/65. I think I might be doing something wrong and it doesn&#39;t look to me an issue from react native&#39;s side.","body":"@Abe I did post it on react&#39;s working group <a href=\"https://github.com/reactwg/react-native-new-architecture/discussions/65\" rel=\"nofollow noreferrer\">github.com/reactwg/react-native-new-architecture/discussions&zwnj;&#8203;/65</a>. I think I might be doing something wrong and it doesn&#39;t look to me an issue from react native&#39;s side."},{"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"score":0,"creation_date":1674790867,"post_id":73095898,"comment_id":132793171,"body_markdown":"@Abe I posted in to react native&#39;s repo. Is been more than 6 months but no activity https://github.com/facebook/react-native/issues/34292","body":"@Abe I posted in to react native&#39;s repo. Is been more than 6 months but no activity <a href=\"https://github.com/facebook/react-native/issues/34292\" rel=\"nofollow noreferrer\">github.com/facebook/react-native/issues/34292</a>"},{"owner":{"account_id":1948645,"reputation":30106,"user_id":6877799,"accept_rate":75,"display_name":"AmerllicA"},"score":0,"creation_date":1675194376,"post_id":73095898,"comment_id":132875182,"body_markdown":"I think the only person who can help you is @SophieAlpert, Ping her.","body":"I think the only person who can help you is @SophieAlpert, Ping her."},{"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"score":0,"creation_date":1675238347,"post_id":73095898,"comment_id":132883046,"body_markdown":"No one replies....","body":"No one replies...."}],"answers":[{"tags":[],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675304424,"creation_date":1675304424,"answer_id":75318050,"question_id":73095898,"body_markdown":"Commenting  `super.dispatchModern(rctEventEmitter);` from dispatchModern resolved the issue","title":"RCTModernEventEmitter fires twice for android fabric component","body":"<p>Commenting  <code>super.dispatchModern(rctEventEmitter);</code> from dispatchModern resolved the issue</p>\n"}],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":75318050,"answer_count":1,"score":8,"last_activity_date":1675304424,"creation_date":1658638838,"question_id":73095898,"body_markdown":"I am trying to create a `fabric` component for `android`, specifically I want to use the `onClickHandler` of the button component and pass a callback to `react-native` side via `RCTModernEventEmitter`. It works fine for `iOS` but for android the `RCTModernEventEmitter` emits twice every time I click the `button`\r\n\r\n\r\nThis is my spec\r\n\r\n    import type {HostComponent, ViewProps} from &#39;react-native&#39;;\r\n    import type {\r\n      DirectEventHandler\r\n    } from &#39;react-native/Libraries/Types/CodegenTypes&#39;;\r\n    import codegenNativeComponent from &#39;react-native/Libraries/Utilities/codegenNativeComponent&#39;;\r\n    \r\n    type Event = Readonly&lt;{\r\n      text?: string;\r\n    }&gt;;\r\n    \r\n    interface NativeProps extends ViewProps {\r\n      text: string;\r\n      onClickHandler?: DirectEventHandler&lt;Event&gt;; ////Event name should start with on\r\n    }\r\n    \r\n    export default codegenNativeComponent&lt;NativeProps&gt;(\r\n      &#39;MyButtonView&#39;,\r\n    ) as HostComponent&lt;NativeProps&gt;;\r\n\r\n\r\nOn native side I have created following files\r\n\r\n\r\n    public class MyButtonViewManager extends SimpleViewManager&lt;MyButtonView&gt; {\r\n    \r\n        public static final String NAME = &quot;MyButtonView&quot;;\r\n        ReactApplicationContext mCallerContext;\r\n    \r\n        public MyButtonViewManager(ReactApplicationContext reactContext) {\r\n            mCallerContext = reactContext;\r\n        }\r\n     \r\n        @NonNull\r\n        @Override\r\n        public String getName() {\r\n            return NAME;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        protected MyButtonView createViewInstance(@NonNull ThemedReactContext reactContext) {\r\n            return new MyButtonView(reactContext);\r\n        }\r\n    \r\n        @ReactProp(name = &quot;text&quot;)\r\n        public void setQrCodeText(MyButtonView view, String text) {\r\n            view.setText(text);\r\n        }\r\n    \r\n    \r\n        @Nullable\r\n        @Override\r\n        public Map&lt;String, Object&gt; getExportedCustomDirectEventTypeConstants() {\r\n            return MapBuilder.of(&quot;topOnClickHandler&quot;,\r\n                    MapBuilder.of(&quot;registrationName&quot;, &quot;onClickHandler&quot;)\r\n            );\r\n        }\r\n    \r\n    }\r\n    \r\n    public class MyButtonClickEvent extends Event&lt;MyButtonClickEvent&gt; {\r\n    \r\n        public MyButtonClickEvent(int viewId) {\r\n            super(viewId);\r\n        }\r\n     \r\n        @Override\r\n        public String getEventName() {\r\n            return &quot;topOnClickHandler&quot;;\r\n        }\r\n    \r\n    //    @Override\r\n    //    public void dispatch(RCTEventEmitter rctEventEmitter) {\r\n    //        super.dispatch(rctEventEmitter);\r\n    //        rctEventEmitter.receiveEvent(getViewTag(), getEventName(), Arguments.createMap());\r\n    //    }\r\n    \r\n        @Override\r\n        public void dispatchModern(RCTModernEventEmitter rctEventEmitter) {\r\n            super.dispatchModern(rctEventEmitter);\r\n            rctEventEmitter.receiveEvent(-1,\r\n                    getViewTag(),getEventName(),\r\n                    Arguments.createMap()\r\n            );\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        protected WritableMap getEventData() {\r\n            WritableMap event = Arguments.createMap();\r\n            event.putString(&quot;message&quot;, &quot;MyMessage&quot;);\r\n            return event;\r\n        }\r\n    }\r\n    \r\n    public class MyButtonView extends androidx.appcompat.widget.AppCompatButton {\r\n    \r\n        public MyButtonView(Context context) {\r\n            super(context);\r\n            configureViews();\r\n        }\r\n    \r\n        private void configureViews(){\r\n            setBackgroundColor(Color.YELLOW);\r\n            setOnClickListener(view -&gt; {\r\n                ReactContext reactContext = (ReactContext)getContext();\r\n                EventDispatcher eventDispatcher = UIManagerHelper.getEventDispatcherForReactTag(\r\n                        reactContext ,getId()\r\n                );\r\n                eventDispatcher.dispatchEvent(new MyButtonClickEvent(getId()));\r\n            });\r\n        }\r\n    }\r\n\r\nOn `JS` side\r\n\r\n    &lt;MyButtonView\r\n      style={{height: 100, width: 100, margin: 20}}\r\n      onClickHandler={(value: any) =&gt; {\r\n        console.log(&#39;Hello ok bye&#39;, value.nativeEvent);\r\n      }}\r\n      text=&quot;Hello&quot;\r\n    /&gt;\r\n\r\nI get `value` in `onClickHandler` of `MyButtonView` twice even though I press the `button` once\r\n\r\nFullrepo is here https://github.com/PritishSawant/ReactNativeFabricEventListenerExample\r\n\r\nEdit:\r\n\r\nI have updated my code to 0.71.1 and you can find it [here][1]\r\n\r\n\r\n  [1]: https://github.com/PritishSawant/NewArchitectureReactNativeButtonClick0.71.1","title":"RCTModernEventEmitter fires twice for android fabric component","body":"<p>I am trying to create a <code>fabric</code> component for <code>android</code>, specifically I want to use the <code>onClickHandler</code> of the button component and pass a callback to <code>react-native</code> side via <code>RCTModernEventEmitter</code>. It works fine for <code>iOS</code> but for android the <code>RCTModernEventEmitter</code> emits twice every time I click the <code>button</code></p>\n<p>This is my spec</p>\n<pre><code>import type {HostComponent, ViewProps} from 'react-native';\nimport type {\n  DirectEventHandler\n} from 'react-native/Libraries/Types/CodegenTypes';\nimport codegenNativeComponent from 'react-native/Libraries/Utilities/codegenNativeComponent';\n\ntype Event = Readonly&lt;{\n  text?: string;\n}&gt;;\n\ninterface NativeProps extends ViewProps {\n  text: string;\n  onClickHandler?: DirectEventHandler&lt;Event&gt;; ////Event name should start with on\n}\n\nexport default codegenNativeComponent&lt;NativeProps&gt;(\n  'MyButtonView',\n) as HostComponent&lt;NativeProps&gt;;\n</code></pre>\n<p>On native side I have created following files</p>\n<pre><code>public class MyButtonViewManager extends SimpleViewManager&lt;MyButtonView&gt; {\n\n    public static final String NAME = &quot;MyButtonView&quot;;\n    ReactApplicationContext mCallerContext;\n\n    public MyButtonViewManager(ReactApplicationContext reactContext) {\n        mCallerContext = reactContext;\n    }\n \n    @NonNull\n    @Override\n    public String getName() {\n        return NAME;\n    }\n\n    @NonNull\n    @Override\n    protected MyButtonView createViewInstance(@NonNull ThemedReactContext reactContext) {\n        return new MyButtonView(reactContext);\n    }\n\n    @ReactProp(name = &quot;text&quot;)\n    public void setQrCodeText(MyButtonView view, String text) {\n        view.setText(text);\n    }\n\n\n    @Nullable\n    @Override\n    public Map&lt;String, Object&gt; getExportedCustomDirectEventTypeConstants() {\n        return MapBuilder.of(&quot;topOnClickHandler&quot;,\n                MapBuilder.of(&quot;registrationName&quot;, &quot;onClickHandler&quot;)\n        );\n    }\n\n}\n\npublic class MyButtonClickEvent extends Event&lt;MyButtonClickEvent&gt; {\n\n    public MyButtonClickEvent(int viewId) {\n        super(viewId);\n    }\n \n    @Override\n    public String getEventName() {\n        return &quot;topOnClickHandler&quot;;\n    }\n\n//    @Override\n//    public void dispatch(RCTEventEmitter rctEventEmitter) {\n//        super.dispatch(rctEventEmitter);\n//        rctEventEmitter.receiveEvent(getViewTag(), getEventName(), Arguments.createMap());\n//    }\n\n    @Override\n    public void dispatchModern(RCTModernEventEmitter rctEventEmitter) {\n        super.dispatchModern(rctEventEmitter);\n        rctEventEmitter.receiveEvent(-1,\n                getViewTag(),getEventName(),\n                Arguments.createMap()\n        );\n    }\n\n    @Nullable\n    @Override\n    protected WritableMap getEventData() {\n        WritableMap event = Arguments.createMap();\n        event.putString(&quot;message&quot;, &quot;MyMessage&quot;);\n        return event;\n    }\n}\n\npublic class MyButtonView extends androidx.appcompat.widget.AppCompatButton {\n\n    public MyButtonView(Context context) {\n        super(context);\n        configureViews();\n    }\n\n    private void configureViews(){\n        setBackgroundColor(Color.YELLOW);\n        setOnClickListener(view -&gt; {\n            ReactContext reactContext = (ReactContext)getContext();\n            EventDispatcher eventDispatcher = UIManagerHelper.getEventDispatcherForReactTag(\n                    reactContext ,getId()\n            );\n            eventDispatcher.dispatchEvent(new MyButtonClickEvent(getId()));\n        });\n    }\n}\n</code></pre>\n<p>On <code>JS</code> side</p>\n<pre><code>&lt;MyButtonView\n  style={{height: 100, width: 100, margin: 20}}\n  onClickHandler={(value: any) =&gt; {\n    console.log('Hello ok bye', value.nativeEvent);\n  }}\n  text=&quot;Hello&quot;\n/&gt;\n</code></pre>\n<p>I get <code>value</code> in <code>onClickHandler</code> of <code>MyButtonView</code> twice even though I press the <code>button</code> once</p>\n<p>Fullrepo is here <a href=\"https://github.com/PritishSawant/ReactNativeFabricEventListenerExample\" rel=\"noreferrer\">https://github.com/PritishSawant/ReactNativeFabricEventListenerExample</a></p>\n<p>Edit:</p>\n<p>I have updated my code to 0.71.1 and you can find it <a href=\"https://github.com/PritishSawant/NewArchitectureReactNativeButtonClick0.71.1\" rel=\"noreferrer\">here</a></p>\n"},{"tags":["java","detection","control-characters"],"comments":[{"owner":{"account_id":210048,"reputation":9082,"user_id":461444,"accept_rate":56,"display_name":"AFract"},"score":3,"creation_date":1425545457,"post_id":28873516,"comment_id":46009690,"body_markdown":"Looks like homework. What you did so far ?","body":"Looks like homework. What you did so far ?"},{"owner":{"account_id":3150862,"reputation":11755,"user_id":2664350,"display_name":"piet.t"},"score":0,"creation_date":1425545663,"post_id":28873516,"comment_id":46009804,"body_markdown":"Read the document char by char and count...","body":"Read the document char by char and count..."},{"owner":{"account_id":26827,"reputation":11952,"user_id":70149,"accept_rate":74,"display_name":"rism"},"score":1,"creation_date":1425545975,"post_id":28873516,"comment_id":46009957,"body_markdown":"I&#39;m voting to close this question as off-topic because zero effort went into   asking it.","body":"I&#39;m voting to close this question as off-topic because zero effort went into   asking it."},{"owner":{"account_id":5888604,"reputation":37,"user_id":4635858,"accept_rate":17,"display_name":"AAAAAAAAAAAA"},"score":0,"creation_date":1425573256,"post_id":28873516,"comment_id":46026960,"body_markdown":"So far I can only count the number of &quot;normal&quot; characters. (such as a, b, c...)","body":"So far I can only count the number of &quot;normal&quot; characters. (such as a, b, c...)"}],"answers":[{"tags":[],"owner":{"account_id":1544079,"reputation":5871,"user_id":1438038,"accept_rate":51,"display_name":"user1438038"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425628980,"creation_date":1425546135,"answer_id":28873744,"question_id":28873516,"body_markdown":"Loop through your input char by char and compare the character&#39;s ordinal number with the [control characters](http://en.wikipedia.org/wiki/ASCII#ASCII_control_code_chart) defined in ASCII standard. If you have a match, increase your counter.\r\n\r\n---\r\n\r\n**Edit:**\r\n\r\n      String input = &quot;325\\nfefe\\rw2&quot;;\r\n\r\n      int normalCount = 0;\r\n      int controlCount = 0;\r\n\r\n      for (int i = 0; i &lt; input.length(); ++i) {\r\n\r\n         int characterCode = (int)input.charAt(i);\r\n\r\n         if (characterCode == 10 || characterCode == 13) { // Match \\n and \\r\r\n            ++controlCount;\r\n         }\r\n         else {\r\n            ++normalCount;\r\n         }\r\n      }\r\n\r\n      System.out.println(&quot;The input contains:&quot;);\r\n      System.out.println(&quot;\\t&quot; + normalCount + &quot; printable characters&quot;);\r\n      System.out.println(&quot;\\t&quot; + controlCount + &quot; control characters&quot;);\r\n\r\nWill give you this output:\r\n\r\n    The input contains:\r\n    \t9 printable characters\r\n    \t2 control characters","title":"How to detect control character (ex. 0x0A (line feed)) with java?","body":"<p>Loop through your input char by char and compare the character's ordinal number with the <a href=\"http://en.wikipedia.org/wiki/ASCII#ASCII_control_code_chart\" rel=\"nofollow\">control characters</a> defined in ASCII standard. If you have a match, increase your counter.</p>\n\n<hr>\n\n<p><strong>Edit:</strong></p>\n\n<pre><code>  String input = \"325\\nfefe\\rw2\";\n\n  int normalCount = 0;\n  int controlCount = 0;\n\n  for (int i = 0; i &lt; input.length(); ++i) {\n\n     int characterCode = (int)input.charAt(i);\n\n     if (characterCode == 10 || characterCode == 13) { // Match \\n and \\r\n        ++controlCount;\n     }\n     else {\n        ++normalCount;\n     }\n  }\n\n  System.out.println(\"The input contains:\");\n  System.out.println(\"\\t\" + normalCount + \" printable characters\");\n  System.out.println(\"\\t\" + controlCount + \" control characters\");\n</code></pre>\n\n<p>Will give you this output:</p>\n\n<pre><code>The input contains:\n    9 printable characters\n    2 control characters\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27572847,"reputation":13,"user_id":21043695,"display_name":"Tony Valderrama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675303522,"creation_date":1674661126,"answer_id":75236302,"question_id":28873516,"body_markdown":"Maybe you can find [the isISOControl method][1] from the Character class useful. It returns true is the character is a control character.\r\n\r\nSupposing temp is a String and counter is an int where you want to have the total of control characters in the string, someting like this might do the trick:\r\n\r\n       for (int i=0,counter=0;i&lt;temp.length();i++) {\r\n           \tif (!Character.isISOControl(temp.charAt(i))) {\r\n           \t\tcounter++;\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Character.html#isISOControl(char)","title":"How to detect control character (ex. 0x0A (line feed)) with java?","body":"<p>Maybe you can find <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/lang/Character.html#isISOControl(char)\" rel=\"nofollow noreferrer\">the isISOControl method</a> from the Character class useful. It returns true is the character is a control character.</p>\n<p>Supposing temp is a String and counter is an int where you want to have the total of control characters in the string, someting like this might do the trick:</p>\n<pre><code>   for (int i=0,counter=0;i&lt;temp.length();i++) {\n        if (!Character.isISOControl(temp.charAt(i))) {\n            counter++;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":5888604,"reputation":37,"user_id":4635858,"accept_rate":17,"display_name":"AAAAAAAAAAAA"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1388,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1675303522,"creation_date":1425545322,"question_id":28873516,"body_markdown":"I need to count the number of control characters from a text document.","title":"How to detect control character (ex. 0x0A (line feed)) with java?","body":"<p>I need to count the number of control characters from a text document.</p>\n"},{"tags":["java","web-scraping","jsoup","data-extraction"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675303412,"post_id":75317947,"comment_id":132901974,"body_markdown":"It’s unlikely to be a static site.","body":"It’s unlikely to be a static site."},{"owner":{"account_id":27680713,"reputation":1,"user_id":21129528,"display_name":"gBarry"},"score":0,"creation_date":1675303824,"post_id":75317947,"comment_id":132902029,"body_markdown":"@DaveNewton shouldn&#39;t I still be able to extract the html data in the moment?","body":"@DaveNewton shouldn&#39;t I still be able to extract the html data in the moment?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1675306222,"post_id":75317947,"comment_id":132902347,"body_markdown":"Not if it’s generated dynamically, no; IIRC JSoup doesn’t do JS. For that you need to drive a full, headless or not, or reverse engineer their back end requests. *Noting that either are almost certainly against their TOS (but I’m guessing).*","body":"Not if it’s generated dynamically, no; IIRC JSoup doesn’t do JS. For that you need to drive a full, headless or not, or reverse engineer their back end requests. <i>Noting that either are almost certainly against their TOS (but I’m guessing).</i>"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1675608393,"post_id":75317947,"comment_id":132961650,"body_markdown":"Does this answer your question? [Page content is loaded with JavaScript and Jsoup doesn&#39;t see it](https://stackoverflow.com/questions/7488872/page-content-is-loaded-with-javascript-and-jsoup-doesnt-see-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7488872/page-content-is-loaded-with-javascript-and-jsoup-doesnt-see-it\">Page content is loaded with JavaScript and Jsoup doesn&#39;t see it</a>"}],"owner":{"account_id":27680713,"reputation":1,"user_id":21129528,"display_name":"gBarry"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675303043,"creation_date":1675303043,"question_id":75317947,"body_markdown":"I&#39;ve been trying to create a program in Java that can catch the odds of a game from a sportsbook like FanDuel but I&#39;ve been running into a lot of problems. When I print the html for the site I dont get the entire html for the site so Im unable to go into the divs and retrieve the actual data I want. \r\nI used the Url https://sportsbook.fanduel.com/ . If I try and run a method like Elements element = doc.getElementByID(&quot;root&quot;); to get the data inside that div the rest of the data in that div will not appear. [enter image description here](https://i.stack.imgur.com/IFYuu.png). I specifically would just like to get the moneyline data for each game if anyone can help that would be great\r\n```\r\npublic class ExtractSportsBookData {\r\n    public static void extractData(String url){\r\n        try{\r\n            Document doc = Jsoup.connect(url).get();\r\n            String html = doc.html();\r\n            System.out.println(html);\r\n            \r\n        } catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/2gy0l.png)\r\nIf you look at the image inside the li tags is where the data is stored for the moneylines for each game but I cannot seem to find a way to extract that data using Jsoup\r\n\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        ExtractSportsBookData.extractData(&quot;https://sportsbook.fanduel.com/&quot;);\r\n\r\n    }\r\n}\r\n\r\n\r\nimport java.io.IOException;\r\nimport java.io.SyncFailedException;\r\n\r\npublic class ExtractSportsBookData {\r\n    public static void extractData(String url){\r\n        try{\r\n            Document doc = Jsoup.connect(url).get();\r\n            String html = doc.html();\r\n            //System.out.println(html);\r\n            Elements element = doc.getElementsByClass(&quot;jo jp fk fe jy jz bs&quot;);\r\n            System.out.println(element.isEmpty());\r\n\r\n        } catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n[enter image description here](https://i.stack.imgur.com/BVF2c.png)\r\nThe result I receive from this is true meaning that the element is empty which is not what I want. Any help on this would be appreciated","title":"Jsoup webscraping to find game odds data","body":"<p>I've been trying to create a program in Java that can catch the odds of a game from a sportsbook like FanDuel but I've been running into a lot of problems. When I print the html for the site I dont get the entire html for the site so Im unable to go into the divs and retrieve the actual data I want.\nI used the Url <a href=\"https://sportsbook.fanduel.com/\" rel=\"nofollow noreferrer\">https://sportsbook.fanduel.com/</a> . If I try and run a method like Elements element = doc.getElementByID(&quot;root&quot;); to get the data inside that div the rest of the data in that div will not appear. <a href=\"https://i.stack.imgur.com/IFYuu.png\" rel=\"nofollow noreferrer\">enter image description here</a>. I specifically would just like to get the moneyline data for each game if anyone can help that would be great</p>\n<pre><code>public class ExtractSportsBookData {\n    public static void extractData(String url){\n        try{\n            Document doc = Jsoup.connect(url).get();\n            String html = doc.html();\n            System.out.println(html);\n            \n        } catch (IOException e){\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2gy0l.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nIf you look at the image inside the li tags is where the data is stored for the moneylines for each game but I cannot seem to find a way to extract that data using Jsoup</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        ExtractSportsBookData.extractData(&quot;https://sportsbook.fanduel.com/&quot;);\n\n    }\n}\n\n\nimport java.io.IOException;\nimport java.io.SyncFailedException;\n\npublic class ExtractSportsBookData {\n    public static void extractData(String url){\n        try{\n            Document doc = Jsoup.connect(url).get();\n            String html = doc.html();\n            //System.out.println(html);\n            Elements element = doc.getElementsByClass(&quot;jo jp fk fe jy jz bs&quot;);\n            System.out.println(element.isEmpty());\n\n        } catch (IOException e){\n            e.printStackTrace();\n        }\n\n    }\n\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BVF2c.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThe result I receive from this is true meaning that the element is empty which is not what I want. Any help on this would be appreciated</p>\n"},{"tags":["javascript","java","android","vue.js","webview"],"comments":[{"owner":{"account_id":20379589,"reputation":13,"user_id":14949992,"display_name":"SungsooKim"},"score":0,"creation_date":1675308482,"post_id":75305296,"comment_id":132902665,"body_markdown":"[Solved] I found out why that error is occur.\njava and javascript have different conversion methods(encode URI).\nSo, I append some more &#39;replacedAll&#39; code in JAVA code like this.\n`URLEncoder.encode(&quot;url&quot;), &quot;UTF-8&quot;).replaceAll(&quot;\\\\+&quot;, &quot;%20&quot;).replaceAll(&quot;\\\\%21&quot;, &quot;!&quot;).replaceAll(&quot;\\\\%27&quot;, &quot;&#39;&quot;).replaceAll(&quot;\\\\%28&quot;, &quot;(&quot;).replaceAll(&quot;\\\\%29&quot;, &quot;)&quot;).replaceAll(&quot;\\\\%7E&quot;, &quot;~&quot;);`\n\nAfter add this code, &#39;atob&#39; method worked fine.","body":"[Solved] I found out why that error is occur. java and javascript have different conversion methods(encode URI). So, I append some more &#39;replacedAll&#39; code in JAVA code like this. <code>URLEncoder.encode(&quot;url&quot;), &quot;UTF-8&quot;).replaceAll(&quot;\\\\+&quot;, &quot;%20&quot;).replaceAll(&quot;\\\\%21&quot;, &quot;!&quot;).replaceAll(&quot;\\\\%27&quot;, &quot;&#39;&quot;).replaceAll(&quot;\\\\%28&quot;, &quot;(&quot;).replaceAll(&quot;\\\\%29&quot;, &quot;)&quot;).replaceAll(&quot;\\\\%7E&quot;, &quot;~&quot;);</code>  After add this code, &#39;atob&#39; method worked fine."}],"owner":{"account_id":20379589,"reputation":13,"user_id":14949992,"display_name":"SungsooKim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675301927,"creation_date":1675221252,"question_id":75305296,"body_markdown":"I&#39;d like to convert encoded base64 string uri to file in javascript.\r\n\r\nOriginal uri is posted from android local file path. (&quot;content://com.google.android.apps.docs.storage/document/*&quot;)\r\n\r\nBelow code is the progress of encoding uri and posting them written from JAVA(Android).\r\n\r\n    public static String fileUriToBase64(Uri uri, ContentResolver resolver) {\r\n\t\tString encodedBase64 = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tbyte[] bytes = readBytes(uri, resolver);\r\n\t\t\tencodedBase64 = Base64.encodeToString(bytes, 0);\r\n\t\t} catch (IOException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\treturn encodedBase64;\r\n\t}\r\n\r\n    String originalUri = &quot;content://com.google.android.apps.docs.storage/document/*&quot;;\r\n    String encodedUri = URLEncoder.encode(fileUriToBase64(originalUri, getContentResolver()));\r\n\r\n    webView.evaluateJavascript(&quot;javascript: &quot; +&quot;getCroppedImageUrl(\\&quot;&quot; + &quot;data:image/png;base64,&quot; + encodedUri +\r\n\t\t\t\t&quot;\\&quot;)&quot;,null);\r\n\r\n\r\nIn webView, I can show that image uri via below code.\r\n\r\n```\r\n&lt;img\r\n  :src=&quot;this.encodedUri&quot;\r\n  id=&quot;img-test&quot;\r\n  style=&quot;width: 150px; height: 150px&quot;\r\n/&gt;\r\n```\r\nThis webView made of Vue.JS.\r\n\r\nWhen webView receive encodedUri, I want to post this image uri to server.\r\nTo decode this uri I use below code but it return error.\r\n```\r\nfunction base64ImageToBlob(str) {\r\n  const pos = str.indexOf(&quot;;base64,&quot;);\r\n  const type = str.substring(5, pos);\r\n  let decodedUri = decodeURI(str);\r\n  decodedUri = decodedUri.substr(pos + 8);\r\n  \r\n  const imageContent = atob(decodedUri);\r\n\r\n  // create an ArrayBuffer and a view (as unsigned 8-bit)\r\n  const buffer = new ArrayBuffer(imageContent.length);\r\n  const view = new Uint8Array(buffer);\r\n\r\n  // fill the view, using the decoded base64\r\n  for (var n = 0; n &lt; imageContent.length; n++) {\r\n    view[n] = imageContent.charCodeAt(n);\r\n  }\r\n\r\n  // convert ArrayBuffer to Blob\r\n  const blob = new Blob([buffer], { type: type });\r\n  return blob;\r\n}\r\n\r\ntry {\r\n  url = base64ImageToBlob(url);\r\n  } catch (err) {\r\n  alert(err);\r\n}\r\n```\r\nerror message is &#39;InvalidCharacterError: Failed to execute &#39;atob&#39; on &#39;Window&#39;: The string to be decoded is not correctly encoded&#39;\r\n\r\nHow can I convert that uri to file?\r\n\r\nThank you for reading it.","title":"How can I convert encoded base64 string uri (from native Android) to file in javascript?","body":"<p>I'd like to convert encoded base64 string uri to file in javascript.</p>\n<p>Original uri is posted from android local file path. (&quot;content://com.google.android.apps.docs.storage/document/*&quot;)</p>\n<p>Below code is the progress of encoding uri and posting them written from JAVA(Android).</p>\n<pre><code>public static String fileUriToBase64(Uri uri, ContentResolver resolver) {\n    String encodedBase64 = &quot;&quot;;\n    try {\n        byte[] bytes = readBytes(uri, resolver);\n        encodedBase64 = Base64.encodeToString(bytes, 0);\n    } catch (IOException e1) {\n        e1.printStackTrace();\n    }\n    return encodedBase64;\n}\n\nString originalUri = &quot;content://com.google.android.apps.docs.storage/document/*&quot;;\nString encodedUri = URLEncoder.encode(fileUriToBase64(originalUri, getContentResolver()));\n\nwebView.evaluateJavascript(&quot;javascript: &quot; +&quot;getCroppedImageUrl(\\&quot;&quot; + &quot;data:image/png;base64,&quot; + encodedUri +\n            &quot;\\&quot;)&quot;,null);\n</code></pre>\n<p>In webView, I can show that image uri via below code.</p>\n<pre><code>&lt;img\n  :src=&quot;this.encodedUri&quot;\n  id=&quot;img-test&quot;\n  style=&quot;width: 150px; height: 150px&quot;\n/&gt;\n</code></pre>\n<p>This webView made of Vue.JS.</p>\n<p>When webView receive encodedUri, I want to post this image uri to server.\nTo decode this uri I use below code but it return error.</p>\n<pre><code>function base64ImageToBlob(str) {\n  const pos = str.indexOf(&quot;;base64,&quot;);\n  const type = str.substring(5, pos);\n  let decodedUri = decodeURI(str);\n  decodedUri = decodedUri.substr(pos + 8);\n  \n  const imageContent = atob(decodedUri);\n\n  // create an ArrayBuffer and a view (as unsigned 8-bit)\n  const buffer = new ArrayBuffer(imageContent.length);\n  const view = new Uint8Array(buffer);\n\n  // fill the view, using the decoded base64\n  for (var n = 0; n &lt; imageContent.length; n++) {\n    view[n] = imageContent.charCodeAt(n);\n  }\n\n  // convert ArrayBuffer to Blob\n  const blob = new Blob([buffer], { type: type });\n  return blob;\n}\n\ntry {\n  url = base64ImageToBlob(url);\n  } catch (err) {\n  alert(err);\n}\n</code></pre>\n<p>error message is 'InvalidCharacterError: Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded'</p>\n<p>How can I convert that uri to file?</p>\n<p>Thank you for reading it.</p>\n"},{"tags":["java","github"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1675302736,"post_id":75317776,"comment_id":132901894,"body_markdown":"If you are talking about Java version itself the only way is to track down the commits/PRs for that code. It is a repo, there is not a division by version the last code there is the last version. You can however check the TAGs and see which files were added to it... But direct to a file not sure if it is possible","body":"If you are talking about Java version itself the only way is to track down the commits/PRs for that code. It is a repo, there is not a division by version the last code there is the last version. You can however check the TAGs and see which files were added to it... But direct to a file not sure if it is possible"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1675303246,"post_id":75317776,"comment_id":132901962,"body_markdown":"And if you are talking about the class/methods the `@since X` in the javadoc, for example (for Java 8) `@since 1.8` tells you when the method/class was added","body":"And if you are talking about the class/methods the <code>@since X</code> in the javadoc, for example (for Java 8) <code>@since 1.8</code> tells you when the method/class was added"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1675304219,"post_id":75317776,"comment_id":132902073,"body_markdown":"GitHub lets you select a tag to browse. When you’re looking at the code on the master branch, it could include unreleased changes.","body":"GitHub lets you select a tag to browse. When you’re looking at the code on the master branch, it could include unreleased changes."}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675300805,"creation_date":1675300805,"question_id":75317776,"body_markdown":"How to tell while browsing the JDK source in github, which version of Java it is?\r\nFor instance, I do not see anywhere it says which version this source of `Arrays` is:\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Arrays.java\r\n","title":"How to tell while browsing the JDK source in github, which version of Java it is?","body":"<p>How to tell while browsing the JDK source in github, which version of Java it is?\nFor instance, I do not see anywhere it says which version this source of <code>Arrays</code> is:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Arrays.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Arrays.java</a></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":1,"creation_date":1675187936,"post_id":75301223,"comment_id":132873407,"body_markdown":"just do not use `var`!","body":"just do not use <code>var</code>!"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1675188072,"post_id":75301223,"comment_id":132873451,"body_markdown":"`z` is an `int`. (something no wider than an int) * (something no wider than an int) is an int. So `byte*byte=int`, `byte*short=int`, `short*short=int` etc.","body":"<code>z</code> is an <code>int</code>. (something no wider than an int) * (something no wider than an int) is an int. So <code>byte*byte=int</code>, <code>byte*short=int</code>, <code>short*short=int</code> etc."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1675188957,"post_id":75301223,"comment_id":132873705,"body_markdown":"If you&#39;re using `var` then you don&#39;t care what it is.  The compiler will figure it out.","body":"If you&#39;re using <code>var</code> then you don&#39;t care what it is.  The compiler will figure it out."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1675300629,"post_id":75301223,"comment_id":132901600,"body_markdown":"@stdunbar no, I am trying to tell what the type of var is. It is a java certification question","body":"@stdunbar no, I am trying to tell what the type of var is. It is a java certification question"}],"answers":[{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1675205056,"creation_date":1675205056,"answer_id":75303923,"question_id":75301223,"body_markdown":"You can right click on IntelliJ&#39;s debugger tool window, select &quot;Customize Data Views&quot;, and enable &quot;Declared type&quot;.\r\n\r\n[![show declared type][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bkV2W.png","title":"How can I tell the type of a local variable in IntelliJ&#39;s debugger?","body":"<p>You can right click on IntelliJ's debugger tool window, select &quot;Customize Data Views&quot;, and enable &quot;Declared type&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/bkV2W.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/bkV2W.png\" alt=\"show declared type\" /></a></p>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75303923,"answer_count":1,"score":1,"last_activity_date":1675300681,"creation_date":1675187838,"question_id":75301223,"body_markdown":"    // from Selikoff and Boyarsky Java 17 certification\r\n    public class Ex0 {\r\n        public static void main(String[] args) {\r\n            short x = 10;\r\n            short y = 3;\r\n            var z = x * y;\r\n        }\r\n    }\r\n\r\nI want to tell what the type of the var is but I do not see it in the debugger.\r\n\r\nEven the types of x and y are not shown.\r\n\r\n\r\n[![ide][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/coHnK.png\r\n","title":"How can I tell the type of a local variable in IntelliJ&#39;s debugger?","body":"<pre><code>// from Selikoff and Boyarsky Java 17 certification\npublic class Ex0 {\n    public static void main(String[] args) {\n        short x = 10;\n        short y = 3;\n        var z = x * y;\n    }\n}\n</code></pre>\n<p>I want to tell what the type of the var is but I do not see it in the debugger.</p>\n<p>Even the types of x and y are not shown.</p>\n<p><a href=\"https://i.stack.imgur.com/coHnK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/coHnK.png\" alt=\"ide\" /></a></p>\n"},{"tags":["java","language-design","unsigned","integer"],"comments":[{"owner":{"account_id":5533,"reputation":119441,"user_id":8954,"accept_rate":93,"display_name":"Tamas Czinege"},"score":153,"creation_date":1231565754,"post_id":430346,"comment_id":254145,"body_markdown":"I don&#39;t know but it annoys the hell out of me; for example it is much harder to write network code this way.","body":"I don&#39;t know but it annoys the hell out of me; for example it is much harder to write network code this way."},{"owner":{"account_id":46093,"reputation":1235,"user_id":136089,"accept_rate":100,"display_name":"Liao"},"score":23,"creation_date":1264567875,"post_id":430346,"comment_id":2086280,"body_markdown":"I wish there were only two types in the language/database/... world: number and string :)","body":"I wish there were only two types in the language/database/... world: number and string :)"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":7,"creation_date":1282946357,"post_id":430346,"comment_id":3765088,"body_markdown":"Writing network code isn&#39;t much harder at all. BTW InputStream.read(), returns an unsigned byte, not a signed one for example so the network example is a confusion IMHO.  Its only confusing is you asume that writing a signed value is any different to writing an unsigned one. i.e. if you don&#39;t actually know what is happening at the byte level.","body":"Writing network code isn&#39;t much harder at all. BTW InputStream.read(), returns an unsigned byte, not a signed one for example so the network example is a confusion IMHO.  Its only confusing is you asume that writing a signed value is any different to writing an unsigned one. i.e. if you don&#39;t actually know what is happening at the byte level."},{"owner":{"account_id":72682,"reputation":10774,"user_id":209744,"accept_rate":60,"display_name":"PP."},"score":19,"creation_date":1329083909,"post_id":430346,"comment_id":11659571,"body_markdown":"@ZachSaw - I also did a double-take when I saw a language designer make that quote. There is nothing simpler than an unsigned integer. Signed integers are complicated. Particularly when you consider the bit twiddling at the transistor level. And how does a signed integer shift? I had to conclude that the designer of Java has a serious issue understanding boolean logic.","body":"@ZachSaw - I also did a double-take when I saw a language designer make that quote. There is nothing simpler than an unsigned integer. Signed integers are complicated. Particularly when you consider the bit twiddling at the transistor level. And how does a signed integer shift? I had to conclude that the designer of Java has a serious issue understanding boolean logic."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":1,"creation_date":1378182390,"post_id":430346,"comment_id":27347114,"body_markdown":"@PP.: A major problem with unsigned types in C is that they represent a weird cross between integers and a cyclic groups, since uint1-uint2 is defined as the value which, when added to uint2, yields uint1.  The problem could be solved if a language allowed for implicit casts which could not participate in operator overloading (so that e.g. `someUInt32=someUInt16;` would be legal, but `if (someInt32==someInt16)` would not be legal without a typecast) but included operator overloads that made sense (e.g. adding a signed value to a uint value cycles the group by that amount).","body":"@PP.: A major problem with unsigned types in C is that they represent a weird cross between integers and a cyclic groups, since uint1-uint2 is defined as the value which, when added to uint2, yields uint1.  The problem could be solved if a language allowed for implicit casts which could not participate in operator overloading (so that e.g. <code>someUInt32=someUInt16;</code> would be legal, but <code>if (someInt32==someInt16)</code> would not be legal without a typecast) but included operator overloads that made sense (e.g. adding a signed value to a uint value cycles the group by that amount)."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":8,"creation_date":1394625178,"post_id":430346,"comment_id":33970600,"body_markdown":"To me it becomes harder to do any image processing with images `byte` not being able to give a straight `140` gray level but a `-116` that you need to `&amp; 0xff` to get the correct value.","body":"To me it becomes harder to do any image processing with images <code>byte</code> not being able to give a straight <code>140</code> gray level but a <code>-116</code> that you need to <code>&amp; 0xff</code> to get the correct value."},{"owner":{"account_id":18835,"reputation":82183,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":4,"creation_date":1408651266,"post_id":430346,"comment_id":39682222,"body_markdown":"While working with bytes I generally don’t care about the sign, it all works out just the way it should. I would however *love* a way to use unsigned byte literals, i.e. the possibility to write `byte b = 0x99;` .","body":"While working with bytes I generally don’t care about the sign, it all works out just the way it should. I would however <i>love</i> a way to use unsigned byte literals, i.e. the possibility to write <code>byte b = 0x99;</code> ."},{"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":5,"creation_date":1426845816,"post_id":430346,"comment_id":46546883,"body_markdown":"FWIW, unsigned APIs finally got its presence in [Java 8](https://blogs.oracle.com/darcy/entry/unsigned_api)","body":"FWIW, unsigned APIs finally got its presence in <a href=\"https://blogs.oracle.com/darcy/entry/unsigned_api\" rel=\"nofollow noreferrer\">Java 8</a>"},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":2,"creation_date":1449738749,"post_id":430346,"comment_id":56140917,"body_markdown":"@PP. You don&#39;t use int for performing boolean logic. :P","body":"@PP. You don&#39;t use int for performing boolean logic. :P"},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1449739364,"post_id":430346,"comment_id":56141272,"body_markdown":"@Matthieu may be you can use int then? No?","body":"@Matthieu may be you can use int then? No?"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":2,"creation_date":1449761832,"post_id":430346,"comment_id":56156145,"body_markdown":"@djaqeel that&#39;s what&#39;s happening internally when you `&amp;0xff`. Loss of computing power...","body":"@djaqeel that&#39;s what&#39;s happening internally when you <code>&amp;0xff</code>. Loss of computing power..."},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":1,"creation_date":1449818869,"post_id":430346,"comment_id":56180508,"body_markdown":"@PP and Matthieu I didn&#39;t get you at all. While using boolean logic or processing bytes, I have to deal with bits, rather than it&#39;s output integer value. And AFAK, bits behave same way and don&#39;t care about the sign. Sign and min-max byte value matters for us, humans. So if I need to show byte value(very rare case though) I just make two port-in port-out functions for int to byte and vice versa.","body":"@PP and Matthieu I didn&#39;t get you at all. While using boolean logic or processing bytes, I have to deal with bits, rather than it&#39;s output integer value. And AFAK, bits behave same way and don&#39;t care about the sign. Sign and min-max byte value matters for us, humans. So if I need to show byte value(very rare case though) I just make two port-in port-out functions for int to byte and vice versa."},{"owner":{"account_id":145178,"reputation":9444,"user_id":354803,"display_name":"ShinTakezou"},"score":0,"creation_date":1529835794,"post_id":430346,"comment_id":89010726,"body_markdown":"@PeterLawrey how can `InputStream.read()` *return* unsigned bytes if unsigned bytes don&#39;t exist in Java? Since we have everywhere just bits, not signs, we have the two complement, a special interpretation of those bits which requires “special” treatment; that is, also you need to know extra rules, which sometimes you don&#39;t want to have in the way. E.g., using bytes read with `InputStream.read()` to build a 32 bit value, `(b[3] &lt;&lt; 24)|(b[2] &lt;&lt; 16)|(b[1] &lt;&lt; 8)|b[0]`… this works always iff you have unsigned bytes. Otherwise, sign extension gets in the way and you need masking.","body":"@PeterLawrey how can <code>InputStream.read()</code> <i>return</i> unsigned bytes if unsigned bytes don&#39;t exist in Java? Since we have everywhere just bits, not signs, we have the two complement, a special interpretation of those bits which requires “special” treatment; that is, also you need to know extra rules, which sometimes you don&#39;t want to have in the way. E.g., using bytes read with <code>InputStream.read()</code> to build a 32 bit value, <code>(b[3] &lt;&lt; 24)|(b[2] &lt;&lt; 16)|(b[1] &lt;&lt; 8)|b[0]</code>… this works always iff you have unsigned bytes. Otherwise, sign extension gets in the way and you need masking."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1529836679,"post_id":430346,"comment_id":89010905,"body_markdown":"@ShinTakezou the `read()` returns an `int` type which has the range of an unsigned byte (0 to 255) unless the end of file is reached. A more efficient way to read an `int` is as a 32-bit value rather than byte by byte. Note: you have to handle running out of bytes e.g. there is only 2 bytes when you actually want 4.","body":"@ShinTakezou the <code>read()</code> returns an <code>int</code> type which has the range of an unsigned byte (0 to 255) unless the end of file is reached. A more efficient way to read an <code>int</code> is as a 32-bit value rather than byte by byte. Note: you have to handle running out of bytes e.g. there is only 2 bytes when you actually want 4."},{"owner":{"account_id":145178,"reputation":9444,"user_id":354803,"display_name":"ShinTakezou"},"score":1,"creation_date":1529837257,"post_id":430346,"comment_id":89011031,"body_markdown":"@PeterLawrey confused with the wrong overloaded `read`: written the previous comment with `read(byte b[], ...)` in mind. Holding unsigned values into a signed bigger “container” is what I currently do — except in case of `long`. Still, when converting C code into Java, you have to watch yourself more than it should be if there were unsigned types.","body":"@PeterLawrey confused with the wrong overloaded <code>read</code>: written the previous comment with <code>read(byte b[], ...)</code> in mind. Holding unsigned values into a signed bigger “container” is what I currently do — except in case of <code>long</code>. Still, when converting C code into Java, you have to watch yourself more than it should be if there were unsigned types."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1529913680,"post_id":430346,"comment_id":89029973,"body_markdown":"@ShinTakezou personally I think Java should have unsigned types apart from char. esp unsigned byte which is more natural than a signed one.","body":"@ShinTakezou personally I think Java should have unsigned types apart from char. esp unsigned byte which is more natural than a signed one."}],"answers":[{"tags":[],"owner":{"account_id":877084,"reputation":9846,"user_id":50038,"display_name":"akatakritos"},"down_vote_count":7,"up_vote_count":20,"is_accepted":false,"score":13,"last_activity_date":1231551725,"creation_date":1231551725,"answer_id":430354,"question_id":430346,"body_markdown":"http://skeletoncoder.blogspot.com/2006/09/java-tutorials-why-no-unsigned.html\r\n\r\nThis guy says because the C standard defines operations involving unsigned and signed ints to be treated as unsigned. This could cause negative signed integers to roll around into a large unsigned int, potentially causing bugs.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p><a href=\"http://skeletoncoder.blogspot.com/2006/09/java-tutorials-why-no-unsigned.html\" rel=\"noreferrer\">http://skeletoncoder.blogspot.com/2006/09/java-tutorials-why-no-unsigned.html</a></p>\n\n<p>This guy says because the C standard defines operations involving unsigned and signed ints to be treated as unsigned. This could cause negative signed integers to roll around into a large unsigned int, potentially causing bugs.</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":4,"up_vote_count":214,"is_accepted":true,"score":210,"last_activity_date":1381081221,"creation_date":1231551815,"answer_id":430357,"question_id":430346,"body_markdown":"This is from an [interview with Gosling and others][1], about simplicity:\r\n\r\n&gt; Gosling: For me as a language designer, which I don&#39;t really count myself as these days, what &quot;simple&quot; really ended up meaning was could I expect J. Random Developer to hold the spec in his head. That definition says that, for instance, Java isn&#39;t -- and in fact a lot of these languages end up with a lot of corner cases, things that nobody really understands. Quiz any C developer about unsigned, and pretty soon you discover that almost no C developers actually understand what goes on with unsigned, what unsigned arithmetic is. Things like that made C complex. The language part of Java is, I think, pretty simple. The libraries you have to look up.\r\n\r\n\r\n  [1]: http://www.gotw.ca/publications/c_family_interview.htm","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>This is from an <a href=\"http://www.gotw.ca/publications/c_family_interview.htm\" rel=\"noreferrer\">interview with Gosling and others</a>, about simplicity:</p>\n\n<blockquote>\n  <p>Gosling: For me as a language designer, which I don't really count myself as these days, what \"simple\" really ended up meaning was could I expect J. Random Developer to hold the spec in his head. That definition says that, for instance, Java isn't -- and in fact a lot of these languages end up with a lot of corner cases, things that nobody really understands. Quiz any C developer about unsigned, and pretty soon you discover that almost no C developers actually understand what goes on with unsigned, what unsigned arithmetic is. Things like that made C complex. The language part of Java is, I think, pretty simple. The libraries you have to look up.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21881,"reputation":624,"user_id":53517,"display_name":"Rob Ottaway"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1231551942,"creation_date":1231551942,"answer_id":430361,"question_id":430346,"body_markdown":"I&#39;ve heard stories that they were to be included close to the orignal Java release. Oak was the precursor to Java, and in some spec documents there was mention of usigned values. Unfortunately these never made it into the Java language. As far as anyone has been able to figure out they just didn&#39;t get implemented, likely due to a time constraint.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>I've heard stories that they were to be included close to the orignal Java release. Oak was the precursor to Java, and in some spec documents there was mention of usigned values. Unfortunately these never made it into the Java language. As far as anyone has been able to figure out they just didn't get implemented, likely due to a time constraint.</p>\n"},{"tags":[],"owner":{"account_id":18835,"reputation":82183,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"down_vote_count":5,"up_vote_count":20,"is_accepted":false,"score":15,"last_activity_date":1408461877,"creation_date":1231553131,"answer_id":430389,"question_id":430346,"body_markdown":"As soon as signed and unsigned ints are mixed in an expression things start to get messy and you probably *will* lose information. Restricting Java to signed ints only really clears things up. I’m glad I don’t have to worry about the whole signed/unsigned business, though I sometimes do miss the 8th bit in a byte.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>As soon as signed and unsigned ints are mixed in an expression things start to get messy and you probably <em>will</em> lose information. Restricting Java to signed ints only really clears things up. I’m glad I don’t have to worry about the whole signed/unsigned business, though I sometimes do miss the 8th bit in a byte.</p>\n"},{"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1231561743,"creation_date":1231561743,"answer_id":430553,"question_id":430346,"body_markdown":"Reading between the lines, I think the logic was something like this:\r\n\r\n- generally, the Java designers wanted to simplify the repertoire of data types available\r\n- for everyday purposes, they felt that the most common need was for signed data types\r\n- for implementing certain algorithms, unsigned arithmetic is sometimes needed, but the kind of programmers that would be implementing such algorithms would also have the knowledge to &quot;work round&quot; doing unsigned arithmetic with signed data types\r\n\r\nMostly, I&#39;d say it was a reasonable decision. Possibly, I would have:\r\n\r\n- made byte unsigned, or at least have provided a signed/unsigned alternatives, possibly with different names, for this one data type (making it signed is good for consistency, but when do you ever need a signed byte?)\r\n- done away with &#39;short&#39; (when did you last use 16-bit signed arithmetic?)\r\n\r\nStill, with a bit of kludging, operations on unsigned values up to 32 bits aren&#39;t tooo bad, and most people don&#39;t need unsigned 64-bit division or comparison.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>Reading between the lines, I think the logic was something like this:</p>\n\n<ul>\n<li>generally, the Java designers wanted to simplify the repertoire of data types available</li>\n<li>for everyday purposes, they felt that the most common need was for signed data types</li>\n<li>for implementing certain algorithms, unsigned arithmetic is sometimes needed, but the kind of programmers that would be implementing such algorithms would also have the knowledge to \"work round\" doing unsigned arithmetic with signed data types</li>\n</ul>\n\n<p>Mostly, I'd say it was a reasonable decision. Possibly, I would have:</p>\n\n<ul>\n<li>made byte unsigned, or at least have provided a signed/unsigned alternatives, possibly with different names, for this one data type (making it signed is good for consistency, but when do you ever need a signed byte?)</li>\n<li>done away with 'short' (when did you last use 16-bit signed arithmetic?)</li>\n</ul>\n\n<p>Still, with a bit of kludging, operations on unsigned values up to 32 bits aren't tooo bad, and most people don't need unsigned 64-bit division or comparison.</p>\n"},{"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"down_vote_count":4,"up_vote_count":17,"is_accepted":false,"score":13,"last_activity_date":1501687879,"creation_date":1231576760,"answer_id":430754,"question_id":430346,"body_markdown":"I think Java is fine as it is, adding unsigned would complicate it without much gain.\r\nEven with the simplified integer model, most Java programmers don&#39;t know how the basic numeric types behave - just read the book [Java Puzzlers](http://www.javapuzzlers.com/contents.html) to see what misconceptions you might hold.\r\n\r\nAs for practical advice:\r\n\r\n* If your values are somewhat arbitrary size and don&#39;t fit into `int`, use `long`.\r\nIf they don&#39;t fit into `long` use `BigInteger`.\r\n\r\n* Use the smaller types only for arrays when you need to save space.\r\n\r\n* If you need exactly 64/32/16/8 bits, use `long`/`int`/`short`/`byte` and stop worrying about the sign bit, except for division, comparison, right shift, and casting.\r\n\r\nSee also [this][1] answer about &quot;porting a random number generator from C to Java&quot;.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/397867/port-of-random-generator-from-c-to-java#397997","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>I think Java is fine as it is, adding unsigned would complicate it without much gain.\nEven with the simplified integer model, most Java programmers don't know how the basic numeric types behave - just read the book <a href=\"http://www.javapuzzlers.com/contents.html\" rel=\"nofollow noreferrer\">Java Puzzlers</a> to see what misconceptions you might hold.</p>\n\n<p>As for practical advice:</p>\n\n<ul>\n<li><p>If your values are somewhat arbitrary size and don't fit into <code>int</code>, use <code>long</code>.\nIf they don't fit into <code>long</code> use <code>BigInteger</code>.</p></li>\n<li><p>Use the smaller types only for arrays when you need to save space.</p></li>\n<li><p>If you need exactly 64/32/16/8 bits, use <code>long</code>/<code>int</code>/<code>short</code>/<code>byte</code> and stop worrying about the sign bit, except for division, comparison, right shift, and casting.</p></li>\n</ul>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/397867/port-of-random-generator-from-c-to-java#397997\">this</a> answer about \"porting a random number generator from C to Java\".</p>\n"},{"tags":[],"owner":{"account_id":21939,"reputation":1791,"user_id":53722,"accept_rate":67,"display_name":"mike g"},"down_vote_count":6,"up_vote_count":4,"is_accepted":false,"score":-2,"last_activity_date":1231718215,"creation_date":1231718215,"answer_id":434067,"question_id":430346,"body_markdown":"I can think of one unfortunate side-effect. In java embedded databases, the number of ids you can have with a 32bit id field is 2^31, not 2^32 (~2billion, not ~4billion).","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>I can think of one unfortunate side-effect. In java embedded databases, the number of ids you can have with a 32bit id field is 2^31, not 2^32 (~2billion, not ~4billion).</p>\n"},{"tags":[],"owner":{"account_id":565054,"reputation":211,"user_id":188258,"display_name":"pat"},"down_vote_count":5,"up_vote_count":22,"is_accepted":false,"score":17,"last_activity_date":1255332010,"creation_date":1255332010,"answer_id":1553151,"question_id":430346,"body_markdown":"Java does have unsigned types, or at least one:  char is an unsigned short.  So whatever excuse Gosling throws up it&#39;s really just his ignorance why there are no other unsigned types.\r\n\r\nAlso Short types:  shorts are used all the time for multimedia.  The reason is you can fit 2 samples in a single 32-bit unsigned long and vectorize many operations.   Same thing with 8-bit data and unsigned byte.  You can fit 4 or 8 samples in a register for vectorizing.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>Java does have unsigned types, or at least one:  char is an unsigned short.  So whatever excuse Gosling throws up it's really just his ignorance why there are no other unsigned types.</p>\n\n<p>Also Short types:  shorts are used all the time for multimedia.  The reason is you can fit 2 samples in a single 32-bit unsigned long and vectorize many operations.   Same thing with 8-bit data and unsigned byte.  You can fit 4 or 8 samples in a register for vectorizing.</p>\n"},{"tags":[],"owner":{"account_id":432053,"reputation":4529,"user_id":816542,"display_name":"Jyro117"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1444733001,"creation_date":1311798169,"answer_id":6850755,"question_id":430346,"body_markdown":"This is an older question and pat did briefly mention char, I just thought I should expand upon this for others who will look at this down the road. Let&#39;s take a closer look at the Java primitive types:\r\n\r\n`byte` - 8-bit signed integer\r\n\r\n`short` - 16-bit signed integer\r\n\r\n`int` - 32-bit signed integer\r\n\r\n`long` - 64-bit signed integer\r\n\r\n`char` - 16-bit character (unsigned integer)\r\n\r\nAlthough `char` does not support `unsigned` arithmetic, it essentially can be treated as an `unsigned` integer. You would have to explicitly cast arithmetic operations back into `char`, but it does provide you with a way to specify `unsigned` numbers.\r\n\r\n    char a = 0;\r\n    char b = 6;\r\n    a += 1;\r\n    a = (char) (a * b);\r\n    a = (char) (a + b);\r\n    a = (char) (a - 16);\r\n    b = (char) (b % 3);\r\n    b = (char) (b / a);\r\n    //a = -1; // Generates complier error, must be cast to char\r\n    System.out.println(a); // Prints ? \r\n    System.out.println((int) a); // Prints 65532\r\n    System.out.println((short) a); // Prints -4\r\n    short c = -4;\r\n    System.out.println((int) c); // Prints -4, notice the difference with char\r\n    a *= 2;\r\n    a -= 6;\r\n    a /= 3;\r\n    a %= 7;\r\n    a++;\r\n    a--;\r\n\r\nYes, there isn&#39;t direct support for unsigned integers (obviously, I wouldn&#39;t have to cast most of my operations back into char if there was direct support). However, there certainly exists an unsigned primitive data type. I would liked to have seen an unsigned byte as well, but I guess doubling the memory cost and instead use char is a viable option.\r\n\r\n---\r\n\r\n## Edit\r\n\r\nWith JDK8 there are new APIs for [`Long`][1] and [`Integer`][2] which provide helper methods when treating `long` and `int` values as unsigned values.\r\n\r\n- `compareUnsigned`\r\n- `divideUnsigned`\r\n- `parseUnsignedInt`\r\n- `parseUnsignedLong`\r\n- `remainderUnsigned`\r\n- `toUnsignedLong`\r\n- `toUnsignedString`\r\n\r\nAdditionally, [Guava][3] provides a number of helper methods to do similar things for at the integer types which helps close the gap left by the lack of native support for `unsigned` integers.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html\r\n  [3]: https://github.com/google/guava/wiki","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>This is an older question and pat did briefly mention char, I just thought I should expand upon this for others who will look at this down the road. Let's take a closer look at the Java primitive types:</p>\n\n<p><code>byte</code> - 8-bit signed integer</p>\n\n<p><code>short</code> - 16-bit signed integer</p>\n\n<p><code>int</code> - 32-bit signed integer</p>\n\n<p><code>long</code> - 64-bit signed integer</p>\n\n<p><code>char</code> - 16-bit character (unsigned integer)</p>\n\n<p>Although <code>char</code> does not support <code>unsigned</code> arithmetic, it essentially can be treated as an <code>unsigned</code> integer. You would have to explicitly cast arithmetic operations back into <code>char</code>, but it does provide you with a way to specify <code>unsigned</code> numbers.</p>\n\n<pre><code>char a = 0;\nchar b = 6;\na += 1;\na = (char) (a * b);\na = (char) (a + b);\na = (char) (a - 16);\nb = (char) (b % 3);\nb = (char) (b / a);\n//a = -1; // Generates complier error, must be cast to char\nSystem.out.println(a); // Prints ? \nSystem.out.println((int) a); // Prints 65532\nSystem.out.println((short) a); // Prints -4\nshort c = -4;\nSystem.out.println((int) c); // Prints -4, notice the difference with char\na *= 2;\na -= 6;\na /= 3;\na %= 7;\na++;\na--;\n</code></pre>\n\n<p>Yes, there isn't direct support for unsigned integers (obviously, I wouldn't have to cast most of my operations back into char if there was direct support). However, there certainly exists an unsigned primitive data type. I would liked to have seen an unsigned byte as well, but I guess doubling the memory cost and instead use char is a viable option.</p>\n\n<hr>\n\n<h2>Edit</h2>\n\n<p>With JDK8 there are new APIs for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html\" rel=\"noreferrer\"><code>Long</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html\" rel=\"noreferrer\"><code>Integer</code></a> which provide helper methods when treating <code>long</code> and <code>int</code> values as unsigned values.</p>\n\n<ul>\n<li><code>compareUnsigned</code></li>\n<li><code>divideUnsigned</code></li>\n<li><code>parseUnsignedInt</code></li>\n<li><code>parseUnsignedLong</code></li>\n<li><code>remainderUnsigned</code></li>\n<li><code>toUnsignedLong</code></li>\n<li><code>toUnsignedString</code></li>\n</ul>\n\n<p>Additionally, <a href=\"https://github.com/google/guava/wiki\" rel=\"noreferrer\">Guava</a> provides a number of helper methods to do similar things for at the integer types which helps close the gap left by the lack of native support for <code>unsigned</code> integers.</p>\n"},{"tags":[],"owner":{"account_id":1314302,"reputation":73,"user_id":1261572,"display_name":"Denis Co"},"down_vote_count":18,"up_vote_count":9,"is_accepted":false,"score":-9,"last_activity_date":1331415476,"creation_date":1331415476,"answer_id":9650388,"question_id":430346,"body_markdown":"The reason IMHO is because they are/were too lazy to implement/correct that mistake. \r\nSuggesting that C/C++ programmers does not understand unsigned, structure, union, bit flag... Is just preposterous.\r\n\r\nEther you were talking with a basic/bash/java programmer on the verge of beginning programming a la C, without any real knowledge this language or you are just talking out of your own mind. ;)\r\n\r\nwhen you deal every day on format either from file or hardware you begin to question, what in the hell they were thinking.\r\n\r\nA good example here would be trying to use an unsigned byte as a self rotating loop. \r\nFor those of you who do not understand the last sentence, how on earth you call yourself a programmer. \r\n\r\nDC\r\n","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>The reason IMHO is because they are/were too lazy to implement/correct that mistake. \nSuggesting that C/C++ programmers does not understand unsigned, structure, union, bit flag... Is just preposterous.</p>\n\n<p>Ether you were talking with a basic/bash/java programmer on the verge of beginning programming a la C, without any real knowledge this language or you are just talking out of your own mind. ;)</p>\n\n<p>when you deal every day on format either from file or hardware you begin to question, what in the hell they were thinking.</p>\n\n<p>A good example here would be trying to use an unsigned byte as a self rotating loop. \nFor those of you who do not understand the last sentence, how on earth you call yourself a programmer. </p>\n\n<p>DC</p>\n"},{"tags":[],"owner":{"account_id":2326469,"reputation":9226,"user_id":2040863,"accept_rate":96,"display_name":"John Hascall"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1443798835,"creation_date":1361719809,"answer_id":15053268,"question_id":430346,"body_markdown":"With [JDK8][1] it does have some support for them.\r\n\r\nWe may yet see full support of unsigned types in Java despite Gosling&#39;s concerns.\r\n\r\n\r\n  [1]: https://blogs.oracle.com/darcy/entry/unsigned_api","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>With <a href=\"https://blogs.oracle.com/darcy/entry/unsigned_api\" rel=\"nofollow\">JDK8</a> it does have some support for them.</p>\n\n<p>We may yet see full support of unsigned types in Java despite Gosling's concerns.</p>\n"},{"tags":[],"owner":{"account_id":1523181,"reputation":2433,"user_id":1422297,"accept_rate":100,"display_name":"Morteza Adi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1501686886,"creation_date":1391073526,"answer_id":21452192,"question_id":430346,"body_markdown":"I know this post is too old; however for your interest, in Java 8 and later, you can use the `int` data type to represent an unsigned 32-bit integer, which has a minimum value of 0 and a maximum value of 2&lt;sup&gt;32&lt;/sup&gt;−1. Use the `Integer` class to use `int` data type as an unsigned integer and static methods like `compareUnsigned()`, `divideUnsigned()` etc. have been added to the `Integer` class to support the arithmetic operations for unsigned integers.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>I know this post is too old; however for your interest, in Java 8 and later, you can use the <code>int</code> data type to represent an unsigned 32-bit integer, which has a minimum value of 0 and a maximum value of 2<sup>32</sup>−1. Use the <code>Integer</code> class to use <code>int</code> data type as an unsigned integer and static methods like <code>compareUnsigned()</code>, <code>divideUnsigned()</code> etc. have been added to the <code>Integer</code> class to support the arithmetic operations for unsigned integers.</p>\n"},{"tags":[],"owner":{"account_id":2993324,"reputation":5785,"user_id":2540407,"accept_rate":70,"display_name":"Michael"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1454452616,"creation_date":1454452616,"answer_id":35165138,"question_id":430346,"body_markdown":"Because `unsigned` type is pure evil.\r\n\r\nThe fact that in C `unsigned - int` produces `unsigned` is even more evil.\r\n\r\nHere is a snapshot of the problem that burned me more than once:\r\n\r\n    // We have odd positive number of rays, \r\n    // consecutive ones at angle delta from each other.\r\n    assert( rays.size() &gt; 0 &amp;&amp; rays.size() % 2 == 1 );\r\n\r\n    // Get a set of ray at delta angle between them.\r\n    for( size_t n = 0; n &lt; rays.size(); ++n )\r\n    {\r\n        // Compute the angle between nth ray and the middle one.\r\n        // The index of the middle one is (rays.size() - 1) / 2,\r\n        // the rays are evenly spaced at angle delta, therefore\r\n        // the magnitude of the angle between nth ray and the \r\n        // middle one is: \r\n        double angle = delta * fabs( n - (rays.size() - 1) / 2 ); \r\n\r\n        // Do something else ...\r\n    }\r\n\r\nHave you noticed the bug yet? I confess I only saw it after stepping in with the debugger. \r\n\r\nBecause `n` is of unsigned type `size_t` the entire expression `n - (rays.size() - 1) / 2` evaluates as `unsigned`. That expression is intended to be a *signed* position of the `n`th ray from the middle one: the 1st ray from the middle one on the left side would have position -1, the 1st one on the right would have position +1, etc. After taking abs value and multiplying by the `delta` angle I would get the angle between `n`th ray and the middle one.\r\n\r\nUnfortunately for me the above expression contained the evil unsigned and instead of evaluating to, say, -1, it evaluated to 2^32-1. The subsequent conversion to `double` sealed the bug.\r\n\r\nAfter a bug or two caused by misuse of `unsigned` arithmetic one has to start wondering whether the extra bit one gets is worth the extra trouble. I am trying, as much as feasible, to avoid any use of `unsigned` types in arithmetic, although still use it for non-arithmetic operations such as binary masks.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>Because <code>unsigned</code> type is pure evil.</p>\n\n<p>The fact that in C <code>unsigned - int</code> produces <code>unsigned</code> is even more evil.</p>\n\n<p>Here is a snapshot of the problem that burned me more than once:</p>\n\n<pre><code>// We have odd positive number of rays, \n// consecutive ones at angle delta from each other.\nassert( rays.size() &gt; 0 &amp;&amp; rays.size() % 2 == 1 );\n\n// Get a set of ray at delta angle between them.\nfor( size_t n = 0; n &lt; rays.size(); ++n )\n{\n    // Compute the angle between nth ray and the middle one.\n    // The index of the middle one is (rays.size() - 1) / 2,\n    // the rays are evenly spaced at angle delta, therefore\n    // the magnitude of the angle between nth ray and the \n    // middle one is: \n    double angle = delta * fabs( n - (rays.size() - 1) / 2 ); \n\n    // Do something else ...\n}\n</code></pre>\n\n<p>Have you noticed the bug yet? I confess I only saw it after stepping in with the debugger. </p>\n\n<p>Because <code>n</code> is of unsigned type <code>size_t</code> the entire expression <code>n - (rays.size() - 1) / 2</code> evaluates as <code>unsigned</code>. That expression is intended to be a <em>signed</em> position of the <code>n</code>th ray from the middle one: the 1st ray from the middle one on the left side would have position -1, the 1st one on the right would have position +1, etc. After taking abs value and multiplying by the <code>delta</code> angle I would get the angle between <code>n</code>th ray and the middle one.</p>\n\n<p>Unfortunately for me the above expression contained the evil unsigned and instead of evaluating to, say, -1, it evaluated to 2^32-1. The subsequent conversion to <code>double</code> sealed the bug.</p>\n\n<p>After a bug or two caused by misuse of <code>unsigned</code> arithmetic one has to start wondering whether the extra bit one gets is worth the extra trouble. I am trying, as much as feasible, to avoid any use of <code>unsigned</code> types in arithmetic, although still use it for non-arithmetic operations such as binary masks.</p>\n"},{"tags":[],"owner":{"account_id":2564596,"reputation":73,"user_id":2225010,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1478027620,"creation_date":1478027620,"answer_id":40367054,"question_id":430346,"body_markdown":"I once took a C++ course with someone on the C++ standards committee who implied that Java made the right decision to avoid having unsigned integers because (1) most programs that use unsigned integers can do just as well with signed integers and this is more natural in terms of how people think, and (2) using unsigned integers results in lots easy to create but difficult to debug issues such as integer arithmetic overflow and losing significant bits when converting between signed and unsigned types. If you mistakenly subtract 1 from 0 using signed integers it often more quickly causes your program to crash and makes it easier to find the bug than if it wraps around to 2^32 - 1, and compilers and static analysis tools and runtime checks have to assume you know what you&#39;re doing since you chose to use unsigned arithmetic. Also, negative numbers like -1 can often represent something useful, like a field being ignored/defaulted/unset while if you were using unsigned you&#39;d have to reserve a special value like 2^32 - 1 or something similar.\r\n\r\nLong ago, when memory was limited and processors did not automatically operate on 64 bits at once, every bit counted a lot more, so having signed vs unsigned bytes or shorts actually mattered a lot more often and was obviously the right design decision. Today just using a signed int is more than sufficient in almost all regular programming cases, and if your program really needs to use values bigger than 2^31 - 1, you often just want a long anyway. Once you&#39;re into the territory of using longs, it&#39;s even harder to come up with a reason why you really can&#39;t get by with 2^63 - 1 positive integers. Whenever we go to 128 bit processors it&#39;ll be even less of an issue.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>I once took a C++ course with someone on the C++ standards committee who implied that Java made the right decision to avoid having unsigned integers because (1) most programs that use unsigned integers can do just as well with signed integers and this is more natural in terms of how people think, and (2) using unsigned integers results in lots easy to create but difficult to debug issues such as integer arithmetic overflow and losing significant bits when converting between signed and unsigned types. If you mistakenly subtract 1 from 0 using signed integers it often more quickly causes your program to crash and makes it easier to find the bug than if it wraps around to 2^32 - 1, and compilers and static analysis tools and runtime checks have to assume you know what you're doing since you chose to use unsigned arithmetic. Also, negative numbers like -1 can often represent something useful, like a field being ignored/defaulted/unset while if you were using unsigned you'd have to reserve a special value like 2^32 - 1 or something similar.</p>\n\n<p>Long ago, when memory was limited and processors did not automatically operate on 64 bits at once, every bit counted a lot more, so having signed vs unsigned bytes or shorts actually mattered a lot more often and was obviously the right design decision. Today just using a signed int is more than sufficient in almost all regular programming cases, and if your program really needs to use values bigger than 2^31 - 1, you often just want a long anyway. Once you're into the territory of using longs, it's even harder to come up with a reason why you really can't get by with 2^63 - 1 positive integers. Whenever we go to 128 bit processors it'll be even less of an issue.</p>\n"},{"tags":[],"owner":{"display_name":"user2133061"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1502108209,"creation_date":1502052291,"answer_id":45536475,"question_id":430346,"body_markdown":"Your question is &quot;Why doesn&#39;t Java support unsigned ints&quot;?\r\n\r\nAnd my answer to your question is that Java wants that all of it&#39;s primitive types: **byte**, **char**, **short**, **int** and **long** should be treated as **byte**, **word**, **dword** and **qword** respectively, exactly like in assembly, and the Java operators are **signed** operations on all of it&#39;s primitive types except for **char**, but only on **char** they are unsigned 16 bit only.\r\n\r\nSo static methods suppose to be the **unsigned** operations **also** for both 32 and 64 bit.\r\n\r\nYou need final class, whose static methods can be called for the **unsigned** operations.\r\n\r\nYou can create this final class, call it whatever name you want and implement it&#39;s static methods.\r\n\r\nIf you have no idea about how to implement the static methods then this &lt;a href=&quot;http://www.javamex.com/java_equivalents/unsigned.shtml&quot;&gt;link&lt;/a&gt; may help you.\r\n\r\nIn my opinion, Java is **not** similar to C++ **at all**, if it **neither** support unsigned types **nor** operator overloading, so I think that Java should be treated as completely different language from both C++ and from C.\r\n\r\nIt is also completely different in the name of the languages by the way.\r\n\r\nSo I don&#39;t recommend in Java to type code similar to C and I don&#39;t recommend to type code similar to C++ at all, because then in Java you won&#39;t be able to do what you want to do next in C++, i.e. the code won&#39;t continue to be C++ like at all and for me this is bad to code like that, to change the style in the middle.\r\n\r\nI recommend to write and use static methods also for the signed operations, so you don&#39;t see in the code mixture of operators and static methods for both signed and unsigned operations, unless you need only signed operations in the code, and it&#39;s okay to use the operators only.\r\n\r\nAlso I recommend to avoid using **short**, **int** and **long** primitive types, and use **word**, **dword** and **qword** respectively instead, and you are about call the static methods for unsigned operations and/or signed operations instead of using operators.\r\n\r\nIf you are about to do signed operations only and use the operators only in the code, then this is okay to use these primitive types **short**, **int** and **long**.\r\n\r\nActually **word**, **dword** and **qword** do**n&#39;t** exist in the language, but you can create new class for each and the implementation of each should be very easy:\r\n\r\nThe class **word** holds the primitive type **short** only, the class **dword** holds the primitive type **int** only and the class **qword** holds the primitive type **long** only. Now all the unsigned and the signed methods as static or not as your choice, you can implement in each class, i.e. all the 16 bit operations both unsigned and signed by giving meaning names on the **word** class, all the 32 bit operations both unsigned and signed by giving meaning names on the **dword** class and all the 64 bit operations both unsigned and signed by giving meaning names on the **qword** class.\r\n\r\nIf you don&#39;t like giving too many different names for each method, you can always use overloading in Java, good to read that Java did**n&#39;t** remove that too!\r\n\r\nIf you want methods rather than operators for 8 bit signed operations and methods for 8 bit unsigned operations that have no operators at all, then you can create the **Byte** class (note that the first letter &#39;B&#39; is capital, so this is not the primitive type **byte**) and implement the methods in this class.\r\n\r\nAbout passing by value and passing by reference:\r\n\r\nIf I am not wrong, like in C#, primitive objects are passed by value naturally, but class objects are passed by reference naturally, so that means that objects of type **Byte**, **word**, **dword** and **qword** will be passed by reference and not by value by default. I wish Java had **struct** objects as C# has, \r\nso all **Byte**, **word**, **dword** and **qword** could be implemented to be **struct** instead of **class**, so by default they were passed by value and not by reference by default, like any struct object in C#, like the primitive types, are passed by value and not by reference by default, but because that Java is worse than C# and we have to deal with that, then there is only classes and interfaces, that are passed by reference and not by value by default. So if you want to pass **Byte**, **word**, **dword** and **qword** objects by value and not by reference, like any other class object in Java and also in C#, you will have to simply use the copy constructor and that&#39;s it.\r\n\r\nThat&#39;s the only solution that I can think about. I just wish that I could just typedef the primitive types to word, dword and qword, but Java neither support typedef nor using at all, unlike C# that supports **using**, which is equivalent to the C&#39;s typedef.\r\n\r\nAbout output:\r\n\r\nFor the same **sequence of bits**, you can print them in many ways: As binary, as decimal (like the meaning of %u in C printf), as octal (like the meaning of %o in C printf), as hexadecimal (like the meaning of %x in C printf) and as integer (like the meaning of the %d in C printf).\r\n\r\nNote that C printf doesn&#39;t know the type of the variables being passed as parameters to the function, so printf knows the type of each variable only from the char* object passed to the first parameter of the function.\r\n\r\nSo in each of the classes: **Byte**, **word**, **dword** and **qword**, you can implement print method and get the functionality of printf, even though the primitive type of the class is signed, you still can print it as unsigned by following some algorithm involving logical and shift operations to get the digits to print to the output.\r\n\r\nUnfortunately the link I gave you doesn&#39;t show how to implement these print methods, but I am sure you can google for the algorithms you need to implement these print methods.\r\n\r\nThat&#39;s all I can answer your question and suggest you.","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>Your question is \"Why doesn't Java support unsigned ints\"?</p>\n\n<p>And my answer to your question is that Java wants that all of it's primitive types: <strong>byte</strong>, <strong>char</strong>, <strong>short</strong>, <strong>int</strong> and <strong>long</strong> should be treated as <strong>byte</strong>, <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong> respectively, exactly like in assembly, and the Java operators are <strong>signed</strong> operations on all of it's primitive types except for <strong>char</strong>, but only on <strong>char</strong> they are unsigned 16 bit only.</p>\n\n<p>So static methods suppose to be the <strong>unsigned</strong> operations <strong>also</strong> for both 32 and 64 bit.</p>\n\n<p>You need final class, whose static methods can be called for the <strong>unsigned</strong> operations.</p>\n\n<p>You can create this final class, call it whatever name you want and implement it's static methods.</p>\n\n<p>If you have no idea about how to implement the static methods then this <a href=\"http://www.javamex.com/java_equivalents/unsigned.shtml\" rel=\"nofollow noreferrer\">link</a> may help you.</p>\n\n<p>In my opinion, Java is <strong>not</strong> similar to C++ <strong>at all</strong>, if it <strong>neither</strong> support unsigned types <strong>nor</strong> operator overloading, so I think that Java should be treated as completely different language from both C++ and from C.</p>\n\n<p>It is also completely different in the name of the languages by the way.</p>\n\n<p>So I don't recommend in Java to type code similar to C and I don't recommend to type code similar to C++ at all, because then in Java you won't be able to do what you want to do next in C++, i.e. the code won't continue to be C++ like at all and for me this is bad to code like that, to change the style in the middle.</p>\n\n<p>I recommend to write and use static methods also for the signed operations, so you don't see in the code mixture of operators and static methods for both signed and unsigned operations, unless you need only signed operations in the code, and it's okay to use the operators only.</p>\n\n<p>Also I recommend to avoid using <strong>short</strong>, <strong>int</strong> and <strong>long</strong> primitive types, and use <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong> respectively instead, and you are about call the static methods for unsigned operations and/or signed operations instead of using operators.</p>\n\n<p>If you are about to do signed operations only and use the operators only in the code, then this is okay to use these primitive types <strong>short</strong>, <strong>int</strong> and <strong>long</strong>.</p>\n\n<p>Actually <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong> do<strong>n't</strong> exist in the language, but you can create new class for each and the implementation of each should be very easy:</p>\n\n<p>The class <strong>word</strong> holds the primitive type <strong>short</strong> only, the class <strong>dword</strong> holds the primitive type <strong>int</strong> only and the class <strong>qword</strong> holds the primitive type <strong>long</strong> only. Now all the unsigned and the signed methods as static or not as your choice, you can implement in each class, i.e. all the 16 bit operations both unsigned and signed by giving meaning names on the <strong>word</strong> class, all the 32 bit operations both unsigned and signed by giving meaning names on the <strong>dword</strong> class and all the 64 bit operations both unsigned and signed by giving meaning names on the <strong>qword</strong> class.</p>\n\n<p>If you don't like giving too many different names for each method, you can always use overloading in Java, good to read that Java did<strong>n't</strong> remove that too!</p>\n\n<p>If you want methods rather than operators for 8 bit signed operations and methods for 8 bit unsigned operations that have no operators at all, then you can create the <strong>Byte</strong> class (note that the first letter 'B' is capital, so this is not the primitive type <strong>byte</strong>) and implement the methods in this class.</p>\n\n<p>About passing by value and passing by reference:</p>\n\n<p>If I am not wrong, like in C#, primitive objects are passed by value naturally, but class objects are passed by reference naturally, so that means that objects of type <strong>Byte</strong>, <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong> will be passed by reference and not by value by default. I wish Java had <strong>struct</strong> objects as C# has, \nso all <strong>Byte</strong>, <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong> could be implemented to be <strong>struct</strong> instead of <strong>class</strong>, so by default they were passed by value and not by reference by default, like any struct object in C#, like the primitive types, are passed by value and not by reference by default, but because that Java is worse than C# and we have to deal with that, then there is only classes and interfaces, that are passed by reference and not by value by default. So if you want to pass <strong>Byte</strong>, <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong> objects by value and not by reference, like any other class object in Java and also in C#, you will have to simply use the copy constructor and that's it.</p>\n\n<p>That's the only solution that I can think about. I just wish that I could just typedef the primitive types to word, dword and qword, but Java neither support typedef nor using at all, unlike C# that supports <strong>using</strong>, which is equivalent to the C's typedef.</p>\n\n<p>About output:</p>\n\n<p>For the same <strong>sequence of bits</strong>, you can print them in many ways: As binary, as decimal (like the meaning of %u in C printf), as octal (like the meaning of %o in C printf), as hexadecimal (like the meaning of %x in C printf) and as integer (like the meaning of the %d in C printf).</p>\n\n<p>Note that C printf doesn't know the type of the variables being passed as parameters to the function, so printf knows the type of each variable only from the char* object passed to the first parameter of the function.</p>\n\n<p>So in each of the classes: <strong>Byte</strong>, <strong>word</strong>, <strong>dword</strong> and <strong>qword</strong>, you can implement print method and get the functionality of printf, even though the primitive type of the class is signed, you still can print it as unsigned by following some algorithm involving logical and shift operations to get the digits to print to the output.</p>\n\n<p>Unfortunately the link I gave you doesn't show how to implement these print methods, but I am sure you can google for the algorithms you need to implement these print methods.</p>\n\n<p>That's all I can answer your question and suggest you.</p>\n"},{"tags":[],"owner":{"account_id":5361192,"reputation":179,"user_id":4272389,"display_name":"MKhomo"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1561675359,"creation_date":1561647817,"answer_id":56793934,"question_id":430346,"body_markdown":"There&#39;s a few gems in the &#39;C&#39; spec that Java dropped for pragmatic reasons but which are slowly creeping back with developer demand (closures, etc).\r\n\r\nI mention a first one because it&#39;s related to this discussion; the adherence of pointer values to unsigned integer arithmetic. And, in relation to this thread topic, the difficulty of maintaining Unsigned semantics in the Signed world of Java.\r\n\r\nI would guess if one were to get a Dennis Ritchie alter ego to advise Gosling&#39;s design team it would have suggested giving Signed&#39;s a &quot;zero at infinity&quot;, so that all address offset requests would first add their ALGEBRAIC RING SIZE to obviate negative values.\r\n\r\nThat way, any offset thrown at the array can never generate a SEGFAULT. For example in an encapsulated class which I call RingArray of doubles that needs unsigned behaviour - in &quot;self rotating loop&quot; context:\r\n\r\n    // ...\r\n    // Housekeeping state variable\r\n    long entrycount;     // A sequence number\r\n    int cycle;           // Number of loops cycled\r\n    int size;            // Active size of the array because size&lt;modulus during cycle 0\r\n    int modulus;         // Maximal size of the array\r\n\r\n    // Ring state variables\r\n    private int head;   // The &#39;head&#39; of the Ring\r\n    private int tail;   // The ring iterator &#39;cursor&#39;\r\n    // tail may get the current cursor position\r\n    // and head gets the old tail value\r\n    // there are other semantic variations possible\r\n\r\n    // The Array state variable\r\n    double [] darray;    // The array of doubles\r\n\r\n    // somewhere in constructor\r\n    public RingArray(int modulus) {\r\n        super();\r\n        this.modulus = modulus;\r\n        tail =  head =  cycle = 0;\r\n        darray = new double[modulus];\r\n    // ...\r\n    }\r\n    // ...\r\n    double getElementAt(int offset){\r\n        return darray[(tail+modulus+offset%modulus)%modulus];\r\n    }\r\n    //  remember, the above is treating steady-state where size==modulus\r\n    // ...\r\nThe above RingArray would never ever &#39;get&#39; from a negative index, even if a malicious requestor tried to. Remember, there are also many legitimate requests for asking for prior (negative) index values.\r\n\r\nNB: The outer %modulus de-references legitimate requests whereas the inner %modulus masks out blatant malice from negatives more negative than -modulus. If this were to ever appear in a Java +..+9 || 8+..+ spec, then the problem would genuinely become a &#39;programmer who cannot &quot;self rotate&quot; FAULT&#39;.\r\n\r\nI&#39;m sure the so-called Java unsigned int &#39;deficiency&#39; can be made up for with the above one-liner.\r\n\r\nPS: Just to give context to above RingArray housekeeping, here&#39;s a candidate &#39;set&#39; operation to match the above &#39;get&#39; element operation:\r\n\r\n    void addElement(long entrycount,double value){ // to be called only by the keeper of entrycount\r\n        this.entrycount= entrycount;\r\n        cycle = (int)entrycount/modulus;\r\n        if(cycle==0){                       // start-up is when the ring is being populated the first time around\r\n            size = (int)entrycount;\t        // during start-up, size is less than modulus so use modulo size arithmetic\r\n            tail = (int)entrycount%size;    //  during start-up\r\n        }\r\n        else {\r\n            size = modulus;\r\n            head = tail;\r\n            tail = (int)entrycount%modulus; //  after start-up\r\n        }\r\n        darray[head] = value;               //  always overwrite old tail\r\n    }","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>There's a few gems in the 'C' spec that Java dropped for pragmatic reasons but which are slowly creeping back with developer demand (closures, etc).</p>\n\n<p>I mention a first one because it's related to this discussion; the adherence of pointer values to unsigned integer arithmetic. And, in relation to this thread topic, the difficulty of maintaining Unsigned semantics in the Signed world of Java.</p>\n\n<p>I would guess if one were to get a Dennis Ritchie alter ego to advise Gosling's design team it would have suggested giving Signed's a \"zero at infinity\", so that all address offset requests would first add their ALGEBRAIC RING SIZE to obviate negative values.</p>\n\n<p>That way, any offset thrown at the array can never generate a SEGFAULT. For example in an encapsulated class which I call RingArray of doubles that needs unsigned behaviour - in \"self rotating loop\" context:</p>\n\n<pre><code>// ...\n// Housekeeping state variable\nlong entrycount;     // A sequence number\nint cycle;           // Number of loops cycled\nint size;            // Active size of the array because size&lt;modulus during cycle 0\nint modulus;         // Maximal size of the array\n\n// Ring state variables\nprivate int head;   // The 'head' of the Ring\nprivate int tail;   // The ring iterator 'cursor'\n// tail may get the current cursor position\n// and head gets the old tail value\n// there are other semantic variations possible\n\n// The Array state variable\ndouble [] darray;    // The array of doubles\n\n// somewhere in constructor\npublic RingArray(int modulus) {\n    super();\n    this.modulus = modulus;\n    tail =  head =  cycle = 0;\n    darray = new double[modulus];\n// ...\n}\n// ...\ndouble getElementAt(int offset){\n    return darray[(tail+modulus+offset%modulus)%modulus];\n}\n//  remember, the above is treating steady-state where size==modulus\n// ...\n</code></pre>\n\n<p>The above RingArray would never ever 'get' from a negative index, even if a malicious requestor tried to. Remember, there are also many legitimate requests for asking for prior (negative) index values.</p>\n\n<p>NB: The outer %modulus de-references legitimate requests whereas the inner %modulus masks out blatant malice from negatives more negative than -modulus. If this were to ever appear in a Java +..+9 || 8+..+ spec, then the problem would genuinely become a 'programmer who cannot \"self rotate\" FAULT'.</p>\n\n<p>I'm sure the so-called Java unsigned int 'deficiency' can be made up for with the above one-liner.</p>\n\n<p>PS: Just to give context to above RingArray housekeeping, here's a candidate 'set' operation to match the above 'get' element operation:</p>\n\n<pre><code>void addElement(long entrycount,double value){ // to be called only by the keeper of entrycount\n    this.entrycount= entrycount;\n    cycle = (int)entrycount/modulus;\n    if(cycle==0){                       // start-up is when the ring is being populated the first time around\n        size = (int)entrycount;         // during start-up, size is less than modulus so use modulo size arithmetic\n        tail = (int)entrycount%size;    //  during start-up\n    }\n    else {\n        size = modulus;\n        head = tail;\n        tail = (int)entrycount%modulus; //  after start-up\n    }\n    darray[head] = value;               //  always overwrite old tail\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27297733,"reputation":43,"user_id":20815101,"display_name":"Thorfinn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675300380,"creation_date":1673626819,"answer_id":75111844,"question_id":430346,"body_markdown":"As someone who dealt with unsigned arithmetic, I can assure you there is really no necessity for unsigned numbers in Java. \r\n\r\nTake C for example. Let&#39;s write something like:\r\n\r\n    unsigned int num = -7;\r\n    printf(&quot;%d&quot;, num);\r\n\r\nCan you guess what&#39;s printed?\r\n\r\n    -7\r\n\r\nWow! An unsigned integer is negative! Exactly. There&#39;s no such thing as a true positive integer. An unsigned integer is just an n-byte(depends on architecture in C) value that doesn&#39;t allocate the MSB for sign. It doesn&#39;t check for the actual sign of the number assigned or read.\r\n","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>As someone who dealt with unsigned arithmetic, I can assure you there is really no necessity for unsigned numbers in Java.</p>\n<p>Take C for example. Let's write something like:</p>\n<pre><code>unsigned int num = -7;\nprintf(&quot;%d&quot;, num);\n</code></pre>\n<p>Can you guess what's printed?</p>\n<pre><code>-7\n</code></pre>\n<p>Wow! An unsigned integer is negative! Exactly. There's no such thing as a true positive integer. An unsigned integer is just an n-byte(depends on architecture in C) value that doesn't allocate the MSB for sign. It doesn't check for the actual sign of the number assigned or read.</p>\n"}],"owner":{"account_id":12204,"reputation":67772,"user_id":23903,"accept_rate":66,"display_name":"dsimcha"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125857,"favorite_count":0,"down_vote_count":1,"up_vote_count":408,"accepted_answer_id":430357,"answer_count":17,"score":407,"last_activity_date":1675300380,"creation_date":1231551333,"question_id":430346,"body_markdown":"Why doesn&#39;t Java include support for unsigned integers?  \r\n\r\nIt seems to me to be an odd omission, given that they allow one to write code that is less likely to produce overflows on unexpectedly large input.  \r\n\r\nFurthermore, using unsigned integers can be a form of self-documentation, since they indicate that the value which the unsigned int was intended to hold is never supposed to be negative.  \r\n\r\nLastly, in some cases, unsigned integers can be more efficient for certain operations, such as division.  \r\n\r\nWhat&#39;s the downside to including these?","title":"Why doesn&#39;t Java support unsigned ints?","body":"<p>Why doesn't Java include support for unsigned integers?  </p>\n\n<p>It seems to me to be an odd omission, given that they allow one to write code that is less likely to produce overflows on unexpectedly large input.  </p>\n\n<p>Furthermore, using unsigned integers can be a form of self-documentation, since they indicate that the value which the unsigned int was intended to hold is never supposed to be negative.  </p>\n\n<p>Lastly, in some cases, unsigned integers can be more efficient for certain operations, such as division.  </p>\n\n<p>What's the downside to including these?</p>\n"},{"tags":["java","oracle","exception","ora-00001"],"answers":[{"tags":[],"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1259083917,"creation_date":1259083917,"answer_id":1791651,"question_id":1791610,"body_markdown":"Just traverse the exception chain until you get to an exception with no cause, and then just return that message, if you want the last one.\r\n\r\nYour function will only get the first cause, if there is one.\r\n\r\nYou may want to look at finding the first cause in your package though, as the actual deepest one may be an oracle exception, which is helpful, but unless you can see where you created the problem, you will have a hard time fixing it.","title":"Java - find the first cause of an exception","body":"<p>Just traverse the exception chain until you get to an exception with no cause, and then just return that message, if you want the last one.</p>\n\n<p>Your function will only get the first cause, if there is one.</p>\n\n<p>You may want to look at finding the first cause in your package though, as the actual deepest one may be an oracle exception, which is helpful, but unless you can see where you created the problem, you will have a hard time fixing it.</p>\n"},{"tags":[],"owner":{"account_id":19056,"reputation":2927,"user_id":44313,"accept_rate":100,"display_name":"Karl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259084255,"creation_date":1259084255,"answer_id":1791692,"question_id":1791610,"body_markdown":"I think that any error that is thrown by oracle will be wrapped in a SQLException (somebody please correct me if wrong). Once you have accessed the SQLException you should be able to call\r\n\r\n getErrorCode()\r\n          Retrieves the vendor-specific exception code for this SQLException object.\r\n\r\nLet me know if this works as I have never tried it :-)\r\n\r\nKarl","title":"Java - find the first cause of an exception","body":"<p>I think that any error that is thrown by oracle will be wrapped in a SQLException (somebody please correct me if wrong). Once you have accessed the SQLException you should be able to call</p>\n\n<p>getErrorCode()\n          Retrieves the vendor-specific exception code for this SQLException object.</p>\n\n<p>Let me know if this works as I have never tried it :-)</p>\n\n<p>Karl</p>\n"},{"tags":[],"owner":{"account_id":75782,"reputation":1215,"user_id":217269,"display_name":"spork"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1386991479,"creation_date":1259084430,"answer_id":1791707,"question_id":1791610,"body_markdown":"If the exception being thrown is always going to be of a specific type, like OracleException, you can catch just that exception.\r\n\r\nFor example:\r\n\r\n    try {\r\n\r\n        ...\r\n\r\n    } catch(OracleException oe) {\r\n\r\n        ...\r\n\r\n    }\r\n\r\nThis would only apply if there are specific Oracle exceptions being thrown. I don&#39;t know much about Oracle, so before attempting this you will probably want to find out if that&#39;s what&#39;s happening.","title":"Java - find the first cause of an exception","body":"<p>If the exception being thrown is always going to be of a specific type, like OracleException, you can catch just that exception.</p>\n\n<p>For example:</p>\n\n<pre><code>try {\n\n    ...\n\n} catch(OracleException oe) {\n\n    ...\n\n}\n</code></pre>\n\n<p>This would only apply if there are specific Oracle exceptions being thrown. I don't know much about Oracle, so before attempting this you will probably want to find out if that's what's happening.</p>\n"},{"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259084709,"creation_date":1259084709,"answer_id":1791731,"question_id":1791610,"body_markdown":"You could improve your code checking for [SQLException][1]\r\n\r\n    import java.sql.SQLException;\r\n    \r\n    private static final String ORACLE = &quot;ORA&quot;;\r\n    \r\n    public String doHandle(Throwable t) {\r\n    \tif (t.getClass().isAssignableFrom(SQLException.class)) {\r\n    \tSQLException e = (SQLException) t;\r\n    \tint errCode = e.getErrorCode();\r\n    \tString state = e.getSQLState();\r\n    \tString msg = e.getMessage();\r\n    \tif (msg.contains(ORACLE)) {\r\n    \t\treturn msg;\r\n    \t\t}\r\n    \t} else {\r\n    \t\tif (t.getCause() != null) {\r\n    \t\t\treturn this.doHandle(t.getCause());\r\n    \t\t\t}\r\n    \t\t}\r\n    \treturn &quot;&quot;;\r\n    }\r\n\r\nAlso, I think in Oracle &quot;errCode&quot; contains the number associated to ORA-nnnn\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/sql/SQLException.html\r\n","title":"Java - find the first cause of an exception","body":"<p>You could improve your code checking for <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/sql/SQLException.html\" rel=\"nofollow noreferrer\">SQLException</a></p>\n\n<pre><code>import java.sql.SQLException;\n\nprivate static final String ORACLE = \"ORA\";\n\npublic String doHandle(Throwable t) {\n    if (t.getClass().isAssignableFrom(SQLException.class)) {\n    SQLException e = (SQLException) t;\n    int errCode = e.getErrorCode();\n    String state = e.getSQLState();\n    String msg = e.getMessage();\n    if (msg.contains(ORACLE)) {\n        return msg;\n        }\n    } else {\n        if (t.getCause() != null) {\n            return this.doHandle(t.getCause());\n            }\n        }\n    return \"\";\n}\n</code></pre>\n\n<p>Also, I think in Oracle \"errCode\" contains the number associated to ORA-nnnn</p>\n"},{"tags":[],"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1322599987,"creation_date":1259084743,"answer_id":1791736,"question_id":1791610,"body_markdown":"Probably a bit overkill for your usage but I think it is cleaner (and reusable)\r\n\r\n    interface ThrowablePredicate {\r\n        boolean accept(Throwable t);\r\n    }\r\n    \r\n    public OracleErrorThrowablePredicate implements ThrowablePredicate {\r\n        private static final ORA_ERR = &quot;ORA&quot;;\r\n    \r\n        public boolean accept(Throwable t) {\r\n    \t\treturn t.toString().contains(ORA_ERR);\r\n        }\r\n    }\r\n    \r\n    \r\n    public class CauseFinder {\r\n      \r\n       private ThrowablePredicate predicate;\r\n    \r\n       public CauseFinder(ThrowablePredicate predicate) {\r\n          this.predicate = predicate;\r\n       }\r\n    \t\r\n       Throwable findCause(Throwable t) {\r\n          Throwable cause = t.getCause();\r\n    \r\n          return cause == null ? null \r\n             : predicate.accept(cause) ? cause : findCause(cause)\r\n       }\r\n    }\r\n    \r\n    \r\n    // Your method\r\n    private String getErrorOracle(Throwable e){\r\n    \treturn new CauseFinder(new OracleErrorThrowablePredicate()).findCause(e);\r\n    }","title":"Java - find the first cause of an exception","body":"<p>Probably a bit overkill for your usage but I think it is cleaner (and reusable)</p>\n\n<pre><code>interface ThrowablePredicate {\n    boolean accept(Throwable t);\n}\n\npublic OracleErrorThrowablePredicate implements ThrowablePredicate {\n    private static final ORA_ERR = \"ORA\";\n\n    public boolean accept(Throwable t) {\n        return t.toString().contains(ORA_ERR);\n    }\n}\n\n\npublic class CauseFinder {\n\n   private ThrowablePredicate predicate;\n\n   public CauseFinder(ThrowablePredicate predicate) {\n      this.predicate = predicate;\n   }\n\n   Throwable findCause(Throwable t) {\n      Throwable cause = t.getCause();\n\n      return cause == null ? null \n         : predicate.accept(cause) ? cause : findCause(cause)\n   }\n}\n\n\n// Your method\nprivate String getErrorOracle(Throwable e){\n    return new CauseFinder(new OracleErrorThrowablePredicate()).findCause(e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"down_vote_count":1,"up_vote_count":91,"is_accepted":false,"score":90,"last_activity_date":1416245875,"creation_date":1259108425,"answer_id":1793904,"question_id":1791610,"body_markdown":"In the interests of not reinventing the wheel, if you&#39;re using [Apache Commons Lang][1], then look at [ExceptionUtils.getRootCause()][2].\r\n\r\nIs it worth including a library just for that? Maybe not. But if you already have it on your classpath, it&#39;s there for you, and note that it does some things that a &#39;naive&#39; implementation might not do (e.g. deal with cycles in the cause chain... ugh!)\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/\r\n  [2]: https://github.com/apache/commons-lang/blob/trunk/src/main/java/org/apache/commons/lang3/exception/ExceptionUtils.java#L691","title":"Java - find the first cause of an exception","body":"<p>In the interests of not reinventing the wheel, if you're using <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">Apache Commons Lang</a>, then look at <a href=\"https://github.com/apache/commons-lang/blob/trunk/src/main/java/org/apache/commons/lang3/exception/ExceptionUtils.java#L691\" rel=\"noreferrer\">ExceptionUtils.getRootCause()</a>.</p>\n\n<p>Is it worth including a library just for that? Maybe not. But if you already have it on your classpath, it's there for you, and note that it does some things that a 'naive' implementation might not do (e.g. deal with cycles in the cause chain... ugh!)</p>\n"},{"tags":[],"owner":{"account_id":2437624,"reputation":1128,"user_id":2127103,"display_name":"N&#225;ndor Kr&#225;cser"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1675299361,"creation_date":1368285013,"answer_id":16498554,"question_id":1791610,"body_markdown":"If you are already on [Guava][1] than [Throwables.getRootCause()][2] comes to the rescue.\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://guava.dev/releases/snapshot/api/docs/com/google/common/base/Throwables.html#getRootCause-java.lang.Throwable-","title":"Java - find the first cause of an exception","body":"<p>If you are already on <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Guava</a> than <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/base/Throwables.html#getRootCause-java.lang.Throwable-\" rel=\"nofollow noreferrer\">Throwables.getRootCause()</a> comes to the rescue.</p>\n"},{"tags":[],"owner":{"account_id":4103815,"reputation":488,"user_id":3368533,"display_name":"Fasiha"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1453965006,"creation_date":1453965006,"answer_id":35054924,"question_id":1791610,"body_markdown":"**on 28-01-2015** , i have unable to solve my problem with any of the above solution, so my recommendation is to use :\r\n\r\n\r\n    e.getMessage().toString();\r\n\r\n**Ps: i am using it on android.** ","title":"Java - find the first cause of an exception","body":"<p><strong>on 28-01-2015</strong> , i have unable to solve my problem with any of the above solution, so my recommendation is to use :</p>\n\n<pre><code>e.getMessage().toString();\n</code></pre>\n\n<p><strong>Ps: i am using it on android.</strong> </p>\n"},{"tags":[],"owner":{"account_id":1477288,"reputation":5052,"user_id":1387386,"display_name":"Anatolii Shuba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597722640,"creation_date":1597722640,"answer_id":63461613,"question_id":1791610,"body_markdown":"One line solution using core Java API:\r\n\r\n        try {\r\n            i = 1 / 0; \r\n        } catch (ArithmeticException e) {\r\n            System.out.println(new ArithmeticException().initCause(e).getCause());\r\n        }\r\n\r\n\r\nOne more solution below works as well:\r\n\r\n        try {\r\n            i = 1 / 0; \r\n        } catch (ArithmeticException e) {\r\n            System.out.println(new Exception().initCause(e).getCause());\r\n        }\r\n\r\nBoth of them will print\r\n\r\n**java.lang.ArithmeticException: / by zero**","title":"Java - find the first cause of an exception","body":"<p>One line solution using core Java API:</p>\n<pre><code>    try {\n        i = 1 / 0; \n    } catch (ArithmeticException e) {\n        System.out.println(new ArithmeticException().initCause(e).getCause());\n    }\n</code></pre>\n<p>One more solution below works as well:</p>\n<pre><code>    try {\n        i = 1 / 0; \n    } catch (ArithmeticException e) {\n        System.out.println(new Exception().initCause(e).getCause());\n    }\n</code></pre>\n<p>Both of them will print</p>\n<p><strong>java.lang.ArithmeticException: / by zero</strong></p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608846172,"creation_date":1608837022,"answer_id":65442410,"question_id":1791610,"body_markdown":"In my Spring Boot project for `getRootCause` IDEA suggest 3 static import:\r\n\r\nSpring Core: `org.springframework.core.NestedExceptionUtils.getRootCause`  \r\nJackson: `com.fasterxml.jackson.databind.util.ClassUtil.getRootCause`  \r\nGuava (Swagger transitive) `com.google.common.base.Throwables.getRootCause`\r\n\r\nMost smart (with cycle check) is Spring `NestedExceptionUtils.getRootCause`.\r\nBut, if your excetion has no cause, method returns `null`. \r\nIn my case it is wrong, so I&#39;ve done:\r\n\r\n    @NonNull\r\n    public static Throwable getRootCause(@NonNull Throwable t) {\r\n        Throwable rootCause = NestedExceptionUtils.getRootCause(t);\r\n        return rootCause != null ? rootCause : t;\r\n    }\r\n","title":"Java - find the first cause of an exception","body":"<p>In my Spring Boot project for <code>getRootCause</code> IDEA suggest 3 static import:</p>\n<p>Spring Core: <code>org.springframework.core.NestedExceptionUtils.getRootCause</code><br />\nJackson: <code>com.fasterxml.jackson.databind.util.ClassUtil.getRootCause</code><br />\nGuava (Swagger transitive) <code>com.google.common.base.Throwables.getRootCause</code></p>\n<p>Most smart (with cycle check) is Spring <code>NestedExceptionUtils.getRootCause</code>.\nBut, if your excetion has no cause, method returns <code>null</code>.\nIn my case it is wrong, so I've done:</p>\n<pre><code>@NonNull\npublic static Throwable getRootCause(@NonNull Throwable t) {\n    Throwable rootCause = NestedExceptionUtils.getRootCause(t);\n    return rootCause != null ? rootCause : t;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3477700,"reputation":42367,"user_id":2910520,"accept_rate":100,"display_name":"MatPag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630916924,"creation_date":1630685439,"answer_id":69047864,"question_id":1791610,"body_markdown":"I want to add Kotlin extension functions to get root causes:\r\n\r\n    fun Throwable.rootCause(): Throwable {\r\n      return if (cause == null) this else cause!!.rootCause()\r\n    }\r\n\r\n    //Return null if first cause is null\r\n    fun Throwable.optRootCause(): Throwable? {\r\n      return if (cause == null) null else cause!!.rootCause()\r\n    }\r\n\r\nOr this one if need to find a cause inside the throwable chain at any points:\r\n\r\n```\r\nfun &lt;T : Throwable&gt; Throwable.isOrContainsCauseOfType(clazz: KClass&lt;T&gt;): Throwable?  {\r\n  return when {\r\n    clazz.isInstance(this) -&gt; this //remove if you want to exclude [this]\r\n    cause == null -&gt; null\r\n    clazz.isInstance(cause) -&gt; cause\r\n    else -&gt; cause!!.isOrContainsCauseOfType(clazz)\r\n  }\r\n}\r\n```","title":"Java - find the first cause of an exception","body":"<p>I want to add Kotlin extension functions to get root causes:</p>\n<pre><code>fun Throwable.rootCause(): Throwable {\n  return if (cause == null) this else cause!!.rootCause()\n}\n\n//Return null if first cause is null\nfun Throwable.optRootCause(): Throwable? {\n  return if (cause == null) null else cause!!.rootCause()\n}\n</code></pre>\n<p>Or this one if need to find a cause inside the throwable chain at any points:</p>\n<pre><code>fun &lt;T : Throwable&gt; Throwable.isOrContainsCauseOfType(clazz: KClass&lt;T&gt;): Throwable?  {\n  return when {\n    clazz.isInstance(this) -&gt; this //remove if you want to exclude [this]\n    cause == null -&gt; null\n    clazz.isInstance(cause) -&gt; cause\n    else -&gt; cause!!.isOrContainsCauseOfType(clazz)\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645083245,"creation_date":1645083245,"answer_id":71154067,"question_id":1791610,"body_markdown":"[ExceptionUtils.getRootCause()][1], and [Throwables.getRootCause()][2] returns null if the cause of the exception being passed is null.The following method will return the original throwable if an throwable without a cause is being passed as the input parameter.\r\n\r\n    /**\r\n     * @return the root cause of a given throwable.\r\n     *   If throwable without a cause is being passed, the original throwable will be returned\r\n     */\r\n    public static Throwable getRootCause(@NonNull final Throwable throwable) {\r\n        List&lt;Throwable&gt; throwableList = ExceptionUtils.getThrowableList(throwable);\r\n        return throwableList.get(throwableList.size() - 1);\r\n    }\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/exception/ExceptionUtils.html#getRootCause(java.lang.Throwable)\r\n  [2]: https://guava.dev/releases/23.0/api/docs/src-html/com/google/common/base/Throwables.html#line.254","title":"Java - find the first cause of an exception","body":"<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.4/org/apache/commons/lang3/exception/ExceptionUtils.html#getRootCause(java.lang.Throwable)\" rel=\"nofollow noreferrer\">ExceptionUtils.getRootCause()</a>, and <a href=\"https://guava.dev/releases/23.0/api/docs/src-html/com/google/common/base/Throwables.html#line.254\" rel=\"nofollow noreferrer\">Throwables.getRootCause()</a> returns null if the cause of the exception being passed is null.The following method will return the original throwable if an throwable without a cause is being passed as the input parameter.</p>\n<pre><code>/**\n * @return the root cause of a given throwable.\n *   If throwable without a cause is being passed, the original throwable will be returned\n */\npublic static Throwable getRootCause(@NonNull final Throwable throwable) {\n    List&lt;Throwable&gt; throwableList = ExceptionUtils.getThrowableList(throwable);\n    return throwableList.get(throwableList.size() - 1);\n}\n</code></pre>\n"}],"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51673,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":1791651,"answer_count":12,"score":39,"last_activity_date":1675299361,"creation_date":1259083412,"question_id":1791610,"body_markdown":"I need to check if an exception is caused by some database problem. I receive an Exception and check if its cause contains the &quot;ORA&quot; string and return that (something like &quot;ORA-00001&quot;). The problem here is that the exception I receive is nested inside other exceptions, so if I don&#39;t find out if it&#39;s an oracle exception, I have to check into the cause of that exception and so on.\r\nIs there a cleaner way to do this? Is there a way to know the first cause (the deep-nested exception) of a given exception?\r\n\r\nMy current code looks like this:\r\n\r\n    private String getErrorOracle(Throwable e){\r\n    \t\tfinal String ORACLE = &quot;ORA&quot;;\r\n    \t\tif (e.getCause() != null &amp;&amp; e.getCause().toString().contains(ORACLE)){\r\n    \t\t\treturn e.getCause().toString();\r\n    \t\t} else if(e.getCause() != null){\r\n    \t\t\treturn getErrorOracle(e.getCause());\r\n    \t\t} else {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n","title":"Java - find the first cause of an exception","body":"<p>I need to check if an exception is caused by some database problem. I receive an Exception and check if its cause contains the \"ORA\" string and return that (something like \"ORA-00001\"). The problem here is that the exception I receive is nested inside other exceptions, so if I don't find out if it's an oracle exception, I have to check into the cause of that exception and so on.\nIs there a cleaner way to do this? Is there a way to know the first cause (the deep-nested exception) of a given exception?</p>\n\n<p>My current code looks like this:</p>\n\n<pre><code>private String getErrorOracle(Throwable e){\n        final String ORACLE = \"ORA\";\n        if (e.getCause() != null &amp;&amp; e.getCause().toString().contains(ORACLE)){\n            return e.getCause().toString();\n        } else if(e.getCause() != null){\n            return getErrorOracle(e.getCause());\n        } else {\n            return null;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin"],"owner":{"account_id":13143252,"reputation":3927,"user_id":9494140,"accept_rate":100,"display_name":"Ahmed Wagdi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675296487,"creation_date":1661437617,"question_id":73489305,"body_markdown":"I&#39;m trying to call a native kotlin code inside my flutter application .. am doing it this way \r\n\r\n**flutter side**\r\n```dart\r\nclass NativeLocationServices {\r\n  static const currentLocationChannel = MethodChannel(&quot;com.deliveryrunner.driver/getCurrentLocation&quot;);\r\n\r\n  getCurrentNativeLocation() async {\r\n      // Either the permission was already granted before or the user just granted it.\r\n      final arguments = {&quot;test&quot;:&quot;it is working&quot;};\r\n      final  currentLocation = await currentLocationChannel.invokeMethod(&quot;currentLocation&quot;,arguments);\r\n      print(currentLocation);\r\n\r\n    }\r\n  }\r\n```\r\n\r\n**kotlin side**\r\n\r\n```kotlin\r\npackage xxxxxx &gt; here are my package name \r\n\r\nimport android.content.*\r\nimport io.flutter.embedding.android.FlutterActivity\r\nimport androidx.annotation.NonNull\r\nimport io.flutter.embedding.engine.FlutterEngine\r\nimport io.flutter.plugin.common.MethodChannel\r\nimport android.content.Intent\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport android.location.Location\r\n\r\nclass MainActivity : FlutterActivity() {\r\n    private val LOCATION_CHANNEL = &quot;com.deliveryrunner.driver/getCurrentLocation&quot;;\r\n    private lateinit var channel: MethodChannel\r\n    private lateinit var fusedLocationClient: FusedLocationProviderClient\r\n    override fun onCreate(savedInstanceState: Bundle) {\r\n        GeneratedPluginRegistrant.registerWith(this)\r\n        MethodChannel(flutterView, CHANNEL).setMethodCallHandler {\r\n                call, result -&gt;\r\n            if (call.method == &quot;currentLocation&quot;) {\r\n                val arguments = call.arguments() as Map&lt;String, String&gt;\r\n                val test = arguments[&quot;test&quot;]\r\n                fusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\r\n                fusedLocationClient.lastLocation\r\n                    .addOnSuccessListener { location: Location? -&gt;\r\n                        // Got last known location. In some rare situations this can be null.\r\n//                        result.success(location)\r\n                        result.success(&quot;got the loation&quot;)\r\n                    }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nbut I am getting this error when I try to run the app \r\n\r\n```\r\ne: D:\\Flutter\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\workmanager-0.4.1\\android\\src\\main\\kotlin\\be\\tramckrijte\\workmanager\\BackgroundWorker.kt: (132, 21): Object is not abstract and does not implement abstract member public abstract fun error(p0: String, p1: String?, p2: Any?): Unit defined in io.flutter.plugin.common.MethodChannel.Result\r\ne: D:\\Flutter\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\workmanager-0.4.1\\android\\src\\main\\kotlin\\be\\tramckrijte\\workmanager\\BackgroundWorker.kt: (137, 25): &#39;error&#39; overrides nothing\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:workmanager:compileDebugKotlin&#39;.\r\n&gt; Compilation error. See log for more details\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 14s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\n```","title":"Object is not abstract and does not implement abstract member public abstract fun error in flutter with kotlin native code","body":"<p>I'm trying to call a native kotlin code inside my flutter application .. am doing it this way</p>\n<p><strong>flutter side</strong></p>\n<pre class=\"lang-dart prettyprint-override\"><code>class NativeLocationServices {\n  static const currentLocationChannel = MethodChannel(&quot;com.deliveryrunner.driver/getCurrentLocation&quot;);\n\n  getCurrentNativeLocation() async {\n      // Either the permission was already granted before or the user just granted it.\n      final arguments = {&quot;test&quot;:&quot;it is working&quot;};\n      final  currentLocation = await currentLocationChannel.invokeMethod(&quot;currentLocation&quot;,arguments);\n      print(currentLocation);\n\n    }\n  }\n</code></pre>\n<p><strong>kotlin side</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package xxxxxx &gt; here are my package name \n\nimport android.content.*\nimport io.flutter.embedding.android.FlutterActivity\nimport androidx.annotation.NonNull\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.plugin.common.MethodChannel\nimport android.content.Intent\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationServices;\nimport android.location.Location\n\nclass MainActivity : FlutterActivity() {\n    private val LOCATION_CHANNEL = &quot;com.deliveryrunner.driver/getCurrentLocation&quot;;\n    private lateinit var channel: MethodChannel\n    private lateinit var fusedLocationClient: FusedLocationProviderClient\n    override fun onCreate(savedInstanceState: Bundle) {\n        GeneratedPluginRegistrant.registerWith(this)\n        MethodChannel(flutterView, CHANNEL).setMethodCallHandler {\n                call, result -&gt;\n            if (call.method == &quot;currentLocation&quot;) {\n                val arguments = call.arguments() as Map&lt;String, String&gt;\n                val test = arguments[&quot;test&quot;]\n                fusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\n                fusedLocationClient.lastLocation\n                    .addOnSuccessListener { location: Location? -&gt;\n                        // Got last known location. In some rare situations this can be null.\n//                        result.success(location)\n                        result.success(&quot;got the loation&quot;)\n                    }\n            }\n        }\n    }\n</code></pre>\n<p>but I am getting this error when I try to run the app</p>\n<pre><code>e: D:\\Flutter\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\workmanager-0.4.1\\android\\src\\main\\kotlin\\be\\tramckrijte\\workmanager\\BackgroundWorker.kt: (132, 21): Object is not abstract and does not implement abstract member public abstract fun error(p0: String, p1: String?, p2: Any?): Unit defined in io.flutter.plugin.common.MethodChannel.Result\ne: D:\\Flutter\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\workmanager-0.4.1\\android\\src\\main\\kotlin\\be\\tramckrijte\\workmanager\\BackgroundWorker.kt: (137, 25): 'error' overrides nothing\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':workmanager:compileDebugKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 14s\nException: Gradle task assembleDebug failed with exit code 1\n\n</code></pre>\n"},{"tags":["java","arrays","generics"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1295456535,"post_id":4737598,"comment_id":5236920,"body_markdown":"(Note, [even if non-`null`] the array could be `String[]` giving `String.class`, but `T` could be `CharSequence`. Both reference arrays and reflection is best avoided.","body":"(Note, [even if non-<code>null</code>] the array could be <code>String[]</code> giving <code>String.class</code>, but <code>T</code> could be <code>CharSequence</code>. Both reference arrays and reflection is best avoided."},{"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1295463515,"post_id":4737598,"comment_id":5238523,"body_markdown":"&quot;reflection is best avoided&quot;: sure, but in my case T is an Enum, and I&#39;m taking in a T[], doing some calculation and returning an EnumMap&lt;&gt; which needs a Class&lt;T&gt; as a constructor parameter.","body":"&quot;reflection is best avoided&quot;: sure, but in my case T is an Enum, and I&#39;m taking in a T[], doing some calculation and returning an EnumMap&lt;&gt; which needs a Class&lt;T&gt; as a constructor parameter."}],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1295590005,"creation_date":1295453375,"answer_id":4737618,"question_id":4737598,"body_markdown":"Component Type\r\n--------------\r\n\r\nUse this:\r\n\r\n    array.getClass().getComponentType()\r\n\r\n&gt; Returns the `Class` representing the\r\n&gt; component type of an array. If this\r\n&gt; class does not represent an array\r\n&gt; class this method returns `null`.\r\n\r\n\r\n**Reference:**\r\n\r\n - [`Class.getComponentType()`][1]\r\n\r\n\r\n----------\r\n\r\nSafe / Unsafe casting\r\n---------------------\r\n\r\n&gt; Is there a way I can cast to Class&lt;T&gt;\r\n&gt; from Class&lt;?&gt; returned by\r\n&gt; getComponentType() without getting a\r\n&gt; compiler warning?\r\n\r\ntake this method:\r\n\r\n    public &lt;T&gt; void doSomething(final T[] array) throws Exception{\r\n        final Class&lt;? extends Object[]&gt; arrayClass = array.getClass();\r\n        final Class&lt;?&gt; componentType = arrayClass.getComponentType();\r\n        final T newInstance = (T) componentType.newInstance();\r\n    }\r\n\r\nHere&#39;s the generated byte code:\r\n\r\n    public void doSomething(java.lang.Object[] array) throws java.lang.Exception;\r\n         0  aload_1 [array]\r\n         1  invokevirtual java.lang.Object.getClass() : java.lang.Class [21]\r\n         4  astore_2 [arrayClass]\r\n         5  aload_2 [arrayClass]\r\n         6  invokevirtual java.lang.Class.getComponentType() : java.lang.Class [25]\r\n         9  astore_3 [componentType]\r\n        10  aload_3 [componentType]\r\n        11  invokevirtual java.lang.Class.newInstance() : java.lang.Object [30]\r\n        14  astore 4 [newInstance]\r\n        16  return\r\n\r\nAs you can see, the parameter type is erased to Object[], so the compiler has no way to know what T is. Yes, the compiler could use `array.getClass().getComponentType()`, but that would sometimes fail miserably because you can do stuff like this:\r\n\r\n    Object[] arr = new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; };\r\n    Integer[] integerArray = (Integer[]) arr;\r\n    doSomething(integerArray);\r\n\r\n(In this case `array.getClass().getComponentType()` returns `String.class`, but `T` stands for `Integer`. Yes, this is legal and does not generate compiler warnings.)\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getComponentType%28%29\r\n","title":"Getting the class of the components of an array","body":"<h2>Component Type</h2>\n\n<p>Use this:</p>\n\n<pre><code>array.getClass().getComponentType()\n</code></pre>\n\n<blockquote>\n  <p>Returns the <code>Class</code> representing the\n  component type of an array. If this\n  class does not represent an array\n  class this method returns <code>null</code>.</p>\n</blockquote>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#getComponentType%28%29\" rel=\"noreferrer\"><code>Class.getComponentType()</code></a></li>\n</ul>\n\n<hr>\n\n<h2>Safe / Unsafe casting</h2>\n\n<blockquote>\n  <p>Is there a way I can cast to Class\n  from Class returned by\n  getComponentType() without getting a\n  compiler warning?</p>\n</blockquote>\n\n<p>take this method:</p>\n\n<pre><code>public &lt;T&gt; void doSomething(final T[] array) throws Exception{\n    final Class&lt;? extends Object[]&gt; arrayClass = array.getClass();\n    final Class&lt;?&gt; componentType = arrayClass.getComponentType();\n    final T newInstance = (T) componentType.newInstance();\n}\n</code></pre>\n\n<p>Here's the generated byte code:</p>\n\n<pre><code>public void doSomething(java.lang.Object[] array) throws java.lang.Exception;\n     0  aload_1 [array]\n     1  invokevirtual java.lang.Object.getClass() : java.lang.Class [21]\n     4  astore_2 [arrayClass]\n     5  aload_2 [arrayClass]\n     6  invokevirtual java.lang.Class.getComponentType() : java.lang.Class [25]\n     9  astore_3 [componentType]\n    10  aload_3 [componentType]\n    11  invokevirtual java.lang.Class.newInstance() : java.lang.Object [30]\n    14  astore 4 [newInstance]\n    16  return\n</code></pre>\n\n<p>As you can see, the parameter type is erased to Object[], so the compiler has no way to know what T is. Yes, the compiler could use <code>array.getClass().getComponentType()</code>, but that would sometimes fail miserably because you can do stuff like this:</p>\n\n<pre><code>Object[] arr = new String[] { \"a\", \"b\", \"c\" };\nInteger[] integerArray = (Integer[]) arr;\ndoSomething(integerArray);\n</code></pre>\n\n<p>(In this case <code>array.getClass().getComponentType()</code> returns <code>String.class</code>, but <code>T</code> stands for <code>Integer</code>. Yes, this is legal and does not generate compiler warnings.)</p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652879692,"creation_date":1552082688,"answer_id":55071628,"question_id":4737598,"body_markdown":"If you want to do this for multi-dimensional arrays the following recursive code will work\r\n```\r\npublic static Class&lt;?&gt; getArrayType(Object array) {\r\n    Object element = Array.get(array, 0);\r\n    if (element.getClass().isArray()) {\r\n        return getArrayType(element);\r\n    } else {\r\n        return array.getClass().getComponentType();\r\n    }\r\n}\r\n```","title":"Getting the class of the components of an array","body":"<p>If you want to do this for multi-dimensional arrays the following recursive code will work</p>\n<pre><code>public static Class&lt;?&gt; getArrayType(Object array) {\n    Object element = Array.get(array, 0);\n    if (element.getClass().isArray()) {\n        return getArrayType(element);\n    } else {\n        return array.getClass().getComponentType();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5221036,"reputation":1,"user_id":4174506,"display_name":"Bonifacio Vel&#225;zquez B&#225;rcenas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675296068,"creation_date":1675296068,"answer_id":75317447,"question_id":4737598,"body_markdown":"Maybe an old thread, but I would like to share a tested version I did with all your recomendations:\r\n\r\n```\r\n    @NotNull\r\n    @SafeVarargs\r\n    public static &lt;T&gt; T coalesce(@NotNull T ... args) {\r\n        for(T i : args) {\r\n        \tif(i != null) {\r\n        \t\treturn i;\r\n        \t}\r\n        }\r\n        T newInstance = null;\r\n        try {\r\n    \t    final Class&lt;? extends Object[]&gt; arrayClass = args.getClass();\r\n    \t    final Class&lt;?&gt; componentType = arrayClass.getComponentType();\r\n    \t    newInstance = (T) componentType.newInstance();\r\n        }catch(Exception e) {\r\n        \te.printStackTrace();\r\n        }\r\n        return newInstance;\r\n    }\r\n```\r\n\r\nHope will be usefull to you!\r\n\r\nBest regards!","title":"Getting the class of the components of an array","body":"<p>Maybe an old thread, but I would like to share a tested version I did with all your recomendations:</p>\n<pre><code>    @NotNull\n    @SafeVarargs\n    public static &lt;T&gt; T coalesce(@NotNull T ... args) {\n        for(T i : args) {\n            if(i != null) {\n                return i;\n            }\n        }\n        T newInstance = null;\n        try {\n            final Class&lt;? extends Object[]&gt; arrayClass = args.getClass();\n            final Class&lt;?&gt; componentType = arrayClass.getComponentType();\n            newInstance = (T) componentType.newInstance();\n        }catch(Exception e) {\n            e.printStackTrace();\n        }\n        return newInstance;\n    }\n</code></pre>\n<p>Hope will be usefull to you!</p>\n<p>Best regards!</p>\n"}],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23957,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":4737618,"answer_count":3,"score":34,"last_activity_date":1675296068,"creation_date":1295453298,"question_id":4737598,"body_markdown":"If I have\r\n\r\n    public &lt;T&gt; doSomething(T[] array)\r\n    {\r\n    }\r\n\r\nhow can I get `T.class` from `array`? \r\n\r\nIf I do `array.getClass()` that gets me `T[].class` instead.","title":"Getting the class of the components of an array","body":"<p>If I have</p>\n\n<pre><code>public &lt;T&gt; doSomething(T[] array)\n{\n}\n</code></pre>\n\n<p>how can I get <code>T.class</code> from <code>array</code>? </p>\n\n<p>If I do <code>array.getClass()</code> that gets me <code>T[].class</code> instead.</p>\n"},{"tags":["java","data-structures","sparse-array","bitvector"],"comments":[{"owner":{"account_id":49859,"reputation":4437,"user_id":148607,"accept_rate":96,"display_name":"Justin"},"score":0,"creation_date":1276550931,"post_id":3040864,"comment_id":3111601,"body_markdown":"Do you know how sparse?, and which operations you are interested in (union, intersect, and, or)?  BitSet seemed not to specify an implementation (but proably isn&#39;t too bad).","body":"Do you know how sparse?, and which operations you are interested in (union, intersect, and, or)?  BitSet seemed not to specify an implementation (but proably isn&#39;t too bad)."},{"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":0,"creation_date":1276553972,"post_id":3040864,"comment_id":3111917,"body_markdown":"unfortunately not very sparse (perhaps 20-40% at the sparsest, could be non-sparse for certain inputs)","body":"unfortunately not very sparse (perhaps 20-40% at the sparsest, could be non-sparse for certain inputs)"},{"owner":{"account_id":11817,"reputation":16579,"user_id":22979,"accept_rate":66,"display_name":"benjismith"},"score":0,"creation_date":1276555202,"post_id":3040864,"comment_id":3112039,"body_markdown":"Do you need to do any fancy linear algebra with those vectors, or do you just need insert/remove/check functionality?","body":"Do you need to do any fancy linear algebra with those vectors, or do you just need insert/remove/check functionality?"}],"answers":[{"tags":[],"owner":{"account_id":142544,"reputation":1969,"user_id":350317,"accept_rate":100,"display_name":"gilesc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1276549181,"creation_date":1276549181,"answer_id":3040877,"question_id":3040864,"body_markdown":"CERN COLT is widely used for vector and matrix computation, and has sparse matrices, but isn&#39;t specifically used for bit vectors.\r\n\r\nhttp://acs.lbl.gov/software/colt/api/cern/colt/matrix/impl/SparseObjectMatrix1D.html","title":"java: sparse bit vector","body":"<p>CERN COLT is widely used for vector and matrix computation, and has sparse matrices, but isn't specifically used for bit vectors.</p>\n\n<p><a href=\"http://acs.lbl.gov/software/colt/api/cern/colt/matrix/impl/SparseObjectMatrix1D.html\" rel=\"nofollow noreferrer\">http://acs.lbl.gov/software/colt/api/cern/colt/matrix/impl/SparseObjectMatrix1D.html</a></p>\n"},{"tags":[],"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1276581863,"creation_date":1276549462,"answer_id":3040910,"question_id":3040864,"body_markdown":"The [colt library][1] has sparse matrices (1D, 2D and 3D). It also has an efficient BitVector, with 1 bit per value, rather than 8-bits as `boolean[]` does.\r\n\r\nHowever, the sparse matrices do not support bits directly - only doubles and objects. You could wrap the 1D sparse double matrix by maping bit index to long indices `(bitIndex&gt;&gt;6)` since each long holds 64 bits, [convert][2] the retrieved double to a raw long value, and use bit manipulation to access the bits of the retrieved long. A little work, but nowhere near as much as implementing the sparse vector yourself. Once your wrapper is working, you might avoid converting doubles to longs, and implement a real sparse long 1d matrix using the available Colt source code for the double 1D sparse matrix as a starting point.\r\n\r\nEDIT: More info. The Colt vectors/matrices require no memory initially for storage, assuming all bits (longs) are initially 0. Setting a value to non-zero consumes memory. Setting the value back to 0 continues to consume memory, although memory for zero values is reclaimed periodically. \r\n\r\nIf the bits are truly sparse, such that each backing long value only has one bit set, then the storage overhead will be very poor, requiring 64-bits per actual bit stored. But as you mention typical case is 20-40% sparse, then the overhead will be much lower, with possibly no wasted storage if bits are clustered in ranges, e.g. bits from 0-100, then 1000-1100, and 2000-2200 (values in hex.) Overall, only 1/16 of the region is assigned to bits, but the clustering means that the bits are stored with no wasted space. \r\n\r\n\r\n  [1]: http://acs.lbl.gov/software/colt/api/index.html\r\n  [2]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Double.html#doubleToRawLongBits(double)","title":"java: sparse bit vector","body":"<p>The <a href=\"http://acs.lbl.gov/software/colt/api/index.html\" rel=\"nofollow noreferrer\">colt library</a> has sparse matrices (1D, 2D and 3D). It also has an efficient BitVector, with 1 bit per value, rather than 8-bits as <code>boolean[]</code> does.</p>\n\n<p>However, the sparse matrices do not support bits directly - only doubles and objects. You could wrap the 1D sparse double matrix by maping bit index to long indices <code>(bitIndex&gt;&gt;6)</code> since each long holds 64 bits, <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Double.html#doubleToRawLongBits(double)\" rel=\"nofollow noreferrer\">convert</a> the retrieved double to a raw long value, and use bit manipulation to access the bits of the retrieved long. A little work, but nowhere near as much as implementing the sparse vector yourself. Once your wrapper is working, you might avoid converting doubles to longs, and implement a real sparse long 1d matrix using the available Colt source code for the double 1D sparse matrix as a starting point.</p>\n\n<p>EDIT: More info. The Colt vectors/matrices require no memory initially for storage, assuming all bits (longs) are initially 0. Setting a value to non-zero consumes memory. Setting the value back to 0 continues to consume memory, although memory for zero values is reclaimed periodically. </p>\n\n<p>If the bits are truly sparse, such that each backing long value only has one bit set, then the storage overhead will be very poor, requiring 64-bits per actual bit stored. But as you mention typical case is 20-40% sparse, then the overhead will be much lower, with possibly no wasted storage if bits are clustered in ranges, e.g. bits from 0-100, then 1000-1100, and 2000-2200 (values in hex.) Overall, only 1/16 of the region is assigned to bits, but the clustering means that the bits are stored with no wasted space. </p>\n"},{"tags":[],"owner":{"account_id":41366,"reputation":93989,"user_id":120163,"accept_rate":59,"display_name":"Ira Baxter"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1276549845,"creation_date":1276549845,"answer_id":3040969,"question_id":3040864,"body_markdown":"If its really sparse (e.g., less than 1% loading), then using a hash table indexed by bit index is probably pretty good; mere presence or absence of the index in the table is all you need to know if the bit is one or zero respectively. \r\n\r\nIf the density is upwards of a few percent, you can use a hash table indexed by bit index divided by 64, and store **long** words in the hash table containing actual bits.   Bit *N* is set if the hash table contains value *V* for *int(N/64)* and *(V&gt;&gt;(N mod 64))&amp;1* is true.\r\n\r\nBoth of these answers assume you want to optimize random access to bits.  If you want to optimize sequential (or other access) to bits by index, then you may want a sparse matrix structure, using the same kind of low-level bit vector representation depending on expected density.  See &lt;a href=&quot;http://en.wikipedia.org/wiki/Sparse_matrix&quot;&gt;Sparse Matrices&lt;/a&gt;","title":"java: sparse bit vector","body":"<p>If its really sparse (e.g., less than 1% loading), then using a hash table indexed by bit index is probably pretty good; mere presence or absence of the index in the table is all you need to know if the bit is one or zero respectively. </p>\n\n<p>If the density is upwards of a few percent, you can use a hash table indexed by bit index divided by 64, and store <strong>long</strong> words in the hash table containing actual bits.   Bit <em>N</em> is set if the hash table contains value <em>V</em> for <em>int(N/64)</em> and <em>(V>>(N mod 64))&amp;1</em> is true.</p>\n\n<p>Both of these answers assume you want to optimize random access to bits.  If you want to optimize sequential (or other access) to bits by index, then you may want a sparse matrix structure, using the same kind of low-level bit vector representation depending on expected density.  See <a href=\"http://en.wikipedia.org/wiki/Sparse_matrix\" rel=\"noreferrer\">Sparse Matrices</a></p>\n"},{"tags":[],"owner":{"account_id":4276,"reputation":14213,"user_id":6365,"accept_rate":65,"display_name":"Michael Barker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276549990,"creation_date":1276549990,"answer_id":3040987,"question_id":3040864,"body_markdown":"You could try [FastUtil&#39;s AVL Tree Map][1].  \r\n\r\n\r\n  [1]: http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/Long2BooleanAVLTreeMap.html","title":"java: sparse bit vector","body":"<p>You could try <a href=\"http://fastutil.dsi.unimi.it/docs/it/unimi/dsi/fastutil/longs/Long2BooleanAVLTreeMap.html\" rel=\"nofollow noreferrer\">FastUtil's AVL Tree Map</a>.  </p>\n"},{"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1276550518,"creation_date":1276550518,"answer_id":3041045,"question_id":3040864,"body_markdown":"A hash table where the mere presence or absence of the key tells you something? That would be a hash set then! I&#39;m skeptical of the performance of a set (even a hashed one) over the BitSet. It really depends on whether speed or memory is the primary driver.","title":"java: sparse bit vector","body":"<p>A hash table where the mere presence or absence of the key tells you something? That would be a hash set then! I'm skeptical of the performance of a set (even a hashed one) over the BitSet. It really depends on whether speed or memory is the primary driver.</p>\n"},{"tags":[],"owner":{"account_id":191037,"reputation":10804,"user_id":431356,"accept_rate":50,"display_name":"brettw"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1390351178,"creation_date":1322706982,"answer_id":8335923,"question_id":3040864,"body_markdown":"TL;DR go here [Efficient Sparse BitSet implementation in Java][1]\r\n\r\nI know this is an &quot;old&quot; question, but having the same question I stumbled across this post.  While the answers are good, I was ultimately not satisfied.  After further digging, I think I&#39;ve come across the &quot;definitive&quot; answer to the question of sparse BitSets in Java.\r\n\r\nIn [this presentation][2] the author, Dr. Bruce Haddon, discusses the efforts of his researchers to create a highly memory-efficient and high-performance replacement for the standard Java BitSet.\r\n\r\nThe original links to his presentation are dead, but I contacted Dr. Haddon and have preserved both the code and presentation here:\r\n\r\nhttps://github.com/brettwooldridge/SparseBitSet\r\n\r\nI cannot recommend reading this presentation more highly. It is a fascinating read even if you have no interest in sparse bit sets, it is more about the true nature of problem solving...\r\n\r\n[Slides: Is it Computer Science, Software Engineering, or Hacking?][2]\r\n\r\n  [1]: https://github.com/brettwooldridge/SparseBitSet\r\n  [2]: https://github.com/brettwooldridge/SparseBitSet/blob/master/SparseBitSet.pdf?raw=true\r\n","title":"java: sparse bit vector","body":"<p>TL;DR go here <a href=\"https://github.com/brettwooldridge/SparseBitSet\" rel=\"noreferrer\">Efficient Sparse BitSet implementation in Java</a></p>\n\n<p>I know this is an \"old\" question, but having the same question I stumbled across this post.  While the answers are good, I was ultimately not satisfied.  After further digging, I think I've come across the \"definitive\" answer to the question of sparse BitSets in Java.</p>\n\n<p>In <a href=\"https://github.com/brettwooldridge/SparseBitSet/blob/master/SparseBitSet.pdf?raw=true\" rel=\"noreferrer\">this presentation</a> the author, Dr. Bruce Haddon, discusses the efforts of his researchers to create a highly memory-efficient and high-performance replacement for the standard Java BitSet.</p>\n\n<p>The original links to his presentation are dead, but I contacted Dr. Haddon and have preserved both the code and presentation here:</p>\n\n<p><a href=\"https://github.com/brettwooldridge/SparseBitSet\" rel=\"noreferrer\">https://github.com/brettwooldridge/SparseBitSet</a></p>\n\n<p>I cannot recommend reading this presentation more highly. It is a fascinating read even if you have no interest in sparse bit sets, it is more about the true nature of problem solving...</p>\n\n<p><a href=\"https://github.com/brettwooldridge/SparseBitSet/blob/master/SparseBitSet.pdf?raw=true\" rel=\"noreferrer\">Slides: Is it Computer Science, Software Engineering, or Hacking?</a></p>\n"},{"tags":[],"owner":{"account_id":27607,"reputation":3480,"user_id":73007,"display_name":"Daniel Lemire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379342496,"creation_date":1379342496,"answer_id":18830780,"question_id":3040864,"body_markdown":"You could try the JavaEWAH library.\r\n\r\nhttps://code.google.com/p/javaewah/\r\n\r\nDepending on your problem it may be a good fit.\r\n\r\n(It is used by Apache Hive and others.)","title":"java: sparse bit vector","body":"<p>You could try the JavaEWAH library.</p>\n\n<p><a href=\"https://code.google.com/p/javaewah/\" rel=\"nofollow\">https://code.google.com/p/javaewah/</a></p>\n\n<p>Depending on your problem it may be a good fit.</p>\n\n<p>(It is used by Apache Hive and others.)</p>\n"},{"tags":[],"owner":{"account_id":206373,"reputation":7959,"user_id":455615,"accept_rate":67,"display_name":"Alex Cruise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675294591,"creation_date":1675294591,"answer_id":75317300,"question_id":3040864,"body_markdown":"Very late to the party here, but this question has pretty high PageRank. [Roaring Bitmap](https://roaringbitmap.org/) has eaten a lot of these use cases.","title":"java: sparse bit vector","body":"<p>Very late to the party here, but this question has pretty high PageRank. <a href=\"https://roaringbitmap.org/\" rel=\"nofollow noreferrer\">Roaring Bitmap</a> has eaten a lot of these use cases.</p>\n"}],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6133,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"closed_date":1675310700,"accepted_answer_id":3040910,"answer_count":8,"score":10,"last_activity_date":1675294591,"creation_date":1276549022,"question_id":3040864,"body_markdown":"Are there any well-known libraries in Java for sparse bit vectors?\r\n\r\n(And are there guidelines for how sparse is useful to use them vs. [java.util.BitSet][1]?)\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/BitSet.html","title":"java: sparse bit vector","body":"<p>Are there any well-known libraries in Java for sparse bit vectors?</p>\n\n<p>(And are there guidelines for how sparse is useful to use them vs. <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/BitSet.html\" rel=\"noreferrer\">java.util.BitSet</a>?)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9311,"page":681,"page_size":100}
