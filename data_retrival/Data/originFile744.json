{"items":[{"tags":["java","c++","windows"],"comments":[{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":0,"creation_date":1673269153,"post_id":75057267,"comment_id":132453366,"body_markdown":"Which filesystem are you using? Are you sure the attribute has actually been set?","body":"Which filesystem are you using? Are you sure the attribute has actually been set?"},{"owner":{"account_id":12566830,"reputation":11,"user_id":9142512,"display_name":"Hasan Enes"},"score":0,"creation_date":1673269339,"post_id":75057267,"comment_id":132453450,"body_markdown":"NTFS. Yes I&#39;m sure attribute has actually been set because I can read it with Files.getAttribute in Java","body":"NTFS. Yes I&#39;m sure attribute has actually been set because I can read it with Files.getAttribute in Java"},{"owner":{"account_id":4106157,"reputation":2138,"user_id":3370124,"display_name":"Richard Critten"},"score":1,"creation_date":1673270319,"post_id":75057267,"comment_id":132453811,"body_markdown":"Java will probably be using an alternative [File Stream](https://learn.microsoft.com/en-us/windows/win32/fileio/file-streams) (files can have multiple streams) to save the attributes. You will need to determine which one (enumerate them using WinAPI) and then you should be able to read the attributes.","body":"Java will probably be using an alternative <a href=\"https://learn.microsoft.com/en-us/windows/win32/fileio/file-streams\" rel=\"nofollow noreferrer\">File Stream</a> (files can have multiple streams) to save the attributes. You will need to determine which one (enumerate them using WinAPI) and then you should be able to read the attributes."},{"owner":{"account_id":12566830,"reputation":11,"user_id":9142512,"display_name":"Hasan Enes"},"score":0,"creation_date":1673270981,"post_id":75057267,"comment_id":132454128,"body_markdown":"Thanks for your time and help. Can you provide any examples for this I&#39;m really new to C++ and windows file systems. @RichardCritten","body":"Thanks for your time and help. Can you provide any examples for this I&#39;m really new to C++ and windows file systems. @RichardCritten"},{"owner":{"account_id":4106157,"reputation":2138,"user_id":3370124,"display_name":"Richard Critten"},"score":0,"creation_date":1673271333,"post_id":75057267,"comment_id":132454286,"body_markdown":"Data streams can be enumerated using the [`FindFirstStreamW`](https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-findfirststreamw) and [`FindNextStreamW`](https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-findnextstreamw) functions.","body":"Data streams can be enumerated using the <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-findfirststreamw\" rel=\"nofollow noreferrer\"><code>FindFirstStreamW</code></a> and <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-findnextstreamw\" rel=\"nofollow noreferrer\"><code>FindNextStreamW</code></a> functions."},{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":1,"creation_date":1673271845,"post_id":75057267,"comment_id":132454508,"body_markdown":"Here&#39;s what Java&#39;s doing if that helps: https://github.com/openjdk/jdk/blob/15345e3edcd8beee0d2c3192cfaaf76c7accee1f/src/java.base/windows/classes/sun/nio/fs/WindowsUserDefinedFileAttributeView.java#L177","body":"Here&#39;s what Java&#39;s doing if that helps: <a href=\"https://github.com/openjdk/jdk/blob/15345e3edcd8beee0d2c3192cfaaf76c7accee1f/src/java.base/windows/classes/sun/nio/fs/WindowsUserDefinedFileAttributeView.java#L177\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>"}],"owner":{"account_id":12566830,"reputation":11,"user_id":9142512,"display_name":"Hasan Enes"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673267761,"creation_date":1673267237,"question_id":75057267,"body_markdown":"I am implementing a simple Windows Overlay Icon Handler in C++ and I want to decide with a property of the document whether to show overlay icons or not. However, this property will be a custom property and will be given with my Java application. Below you can see a piece of sample Java code. Is it possible to read this property that I set in Java with C++?\r\n\r\n\r\n```\r\ntry {\r\n     Files.setAttribute(Paths.get(&quot;my file path&quot;), &quot;user:status&quot;, &quot;10&quot;.getBytes(&quot;UTF-8&quot;));\r\n} catch (IOException exception) {\r\n     exception.printStackTrace();\r\n}\r\n```\r\n\r\n\r\nI tried the property example from windows tutorial [here.](https://github.com/microsoft/Windows-classic-samples/tree/main/Samples/Win7Samples/winui/shell/appplatform/PropertyEdit) but that code only giving me system attributes. You can see the output of this code below [sample output](https://i.stack.imgur.com/Mr6yF.png) \r\n\r\nI&#39;m trying the read that custom attribute of file on overlay icon handler and decide whether to show overlay icons or not. I guess my C++ method would look like this.\r\n\r\n```\r\nHRESULT __stdcall CIconHandler::IsMemberOf(LPCWSTR pwszPath, DWORD dwAttrib)\r\n{\r\n   //get file attributes\r\n   // read user:status attribute value\r\n   // if (value = 15) {show icon}\r\n   // else { don&#39;t show icon }\r\n} \r\n```\r\n\r\nAnd if you have other solutions or suggestion for this operation I&#39;m open for them.","title":"Reading / Writing custom file attributes with C++/Java","body":"<p>I am implementing a simple Windows Overlay Icon Handler in C++ and I want to decide with a property of the document whether to show overlay icons or not. However, this property will be a custom property and will be given with my Java application. Below you can see a piece of sample Java code. Is it possible to read this property that I set in Java with C++?</p>\n<pre><code>try {\n     Files.setAttribute(Paths.get(&quot;my file path&quot;), &quot;user:status&quot;, &quot;10&quot;.getBytes(&quot;UTF-8&quot;));\n} catch (IOException exception) {\n     exception.printStackTrace();\n}\n</code></pre>\n<p>I tried the property example from windows tutorial <a href=\"https://github.com/microsoft/Windows-classic-samples/tree/main/Samples/Win7Samples/winui/shell/appplatform/PropertyEdit\" rel=\"nofollow noreferrer\">here.</a> but that code only giving me system attributes. You can see the output of this code below <a href=\"https://i.stack.imgur.com/Mr6yF.png\" rel=\"nofollow noreferrer\">sample output</a></p>\n<p>I'm trying the read that custom attribute of file on overlay icon handler and decide whether to show overlay icons or not. I guess my C++ method would look like this.</p>\n<pre><code>HRESULT __stdcall CIconHandler::IsMemberOf(LPCWSTR pwszPath, DWORD dwAttrib)\n{\n   //get file attributes\n   // read user:status attribute value\n   // if (value = 15) {show icon}\n   // else { don't show icon }\n} \n</code></pre>\n<p>And if you have other solutions or suggestion for this operation I'm open for them.</p>\n"},{"tags":["java","jsp"],"answers":[{"tags":[],"owner":{"account_id":13903,"reputation":393603,"user_id":28169,"accept_rate":88,"display_name":"unwind"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1246535175,"creation_date":1246535175,"answer_id":1073915,"question_id":1073909,"body_markdown":"This means that you&#39;re not calling a &quot;true&quot; function, in the mathematical sense. Such a function always returns a value, which is totally decided by its input parameters. There is no &quot;state&quot; to modify, and nothing else can happen. This is why functional programming is interesting from the parallelization point of view; it makes it easier to prove that e.g. two function calls are independent and can run in parallel.\r\n\r\nSee the Wikipedia entry on [pure functions][1] for further detail.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Pure_function","title":"Side effect--what&#39;s this?","body":"<p>This means that you're not calling a \"true\" function, in the mathematical sense. Such a function always returns a value, which is totally decided by its input parameters. There is no \"state\" to modify, and nothing else can happen. This is why functional programming is interesting from the parallelization point of view; it makes it easier to prove that e.g. two function calls are independent and can run in parallel.</p>\n\n<p>See the Wikipedia entry on <a href=\"http://en.wikipedia.org/wiki/Pure_function\" rel=\"noreferrer\">pure functions</a> for further detail.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1246535498,"creation_date":1246535498,"answer_id":1073932,"question_id":1073909,"body_markdown":"A side effect is anything a method does besides computing and returning a value. Any change of instance or class field values is a side effect, as is drawing something on the screen, writing to a file or a network connection.\r\n\r\nStrictly speaking, a &quot;function&quot; is defined as not having side effects - which is why Java uses the word &quot;method&quot; instead. A real function with no return value would be pointless.\r\n\r\nObviously, a method that does not have a return value must have some sort of side effect that justifies its existence. Set methods are an example - the side effect is changing the object&#39;s internal state.","title":"Side effect--what&#39;s this?","body":"<p>A side effect is anything a method does besides computing and returning a value. Any change of instance or class field values is a side effect, as is drawing something on the screen, writing to a file or a network connection.</p>\n\n<p>Strictly speaking, a \"function\" is defined as not having side effects - which is why Java uses the word \"method\" instead. A real function with no return value would be pointless.</p>\n\n<p>Obviously, a method that does not have a return value must have some sort of side effect that justifies its existence. Set methods are an example - the side effect is changing the object's internal state.</p>\n"},{"tags":[],"owner":{"account_id":44451,"reputation":3976,"user_id":130516,"display_name":"codethulhu"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1246541060,"creation_date":1246541060,"answer_id":1074315,"question_id":1073909,"body_markdown":"A side effect is when a method call changes a class&#39;s state. So\r\n\r\n    public class SideEffectClass{\r\n\r\n        private int state = 0;\r\n\r\n\r\n        public doSomething(int arg0){\r\n            state += arg0;\r\n        }\r\n    }\r\n\r\nHere, doSomething(int arg0) has the side effect of changing the state variable.\r\n\r\nWhen you think of a program, you can think of it as instructions + state + input. So if the domain of a program is the range of all possible input * state, and the program has side effects, you can see that the codomain of possible results for the application can grow explosively, as the number of side effects increase. This makes the possible states for the program large, which leads to complicated testing. The functional programming paradigm is designed to eliminate side effects. By making functions first class citizens and by making all declarations immutable functional programming prevents side effects, which makes functional programming shine in parallel processing, as synchronization issues are reduced.","title":"Side effect--what&#39;s this?","body":"<p>A side effect is when a method call changes a class's state. So</p>\n\n<pre><code>public class SideEffectClass{\n\n    private int state = 0;\n\n\n    public doSomething(int arg0){\n        state += arg0;\n    }\n}\n</code></pre>\n\n<p>Here, doSomething(int arg0) has the side effect of changing the state variable.</p>\n\n<p>When you think of a program, you can think of it as instructions + state + input. So if the domain of a program is the range of all possible input * state, and the program has side effects, you can see that the codomain of possible results for the application can grow explosively, as the number of side effects increase. This makes the possible states for the program large, which leads to complicated testing. The functional programming paradigm is designed to eliminate side effects. By making functions first class citizens and by making all declarations immutable functional programming prevents side effects, which makes functional programming shine in parallel processing, as synchronization issues are reduced.</p>\n"},{"tags":[],"owner":{"account_id":2477149,"reputation":43,"user_id":2157539,"accept_rate":17,"display_name":"Oekel"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1497061449,"creation_date":1457696720,"answer_id":35939462,"question_id":1073909,"body_markdown":"Let&#39;s manipulate the given code above a little bit to make it clear in comparison.\r\n\r\n    public class SideEffectClass{\r\n\r\n        private int state = 0;\r\n\r\n        public doSomething(...){//Does not matter\r\n            state ++;\r\n        }\r\n    }","title":"Side effect--what&#39;s this?","body":"<p>Let's manipulate the given code above a little bit to make it clear in comparison.</p>\n\n<pre><code>public class SideEffectClass{\n\n    private int state = 0;\n\n    public doSomething(...){//Does not matter\n        state ++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1238641,"reputation":10455,"user_id":1201725,"accept_rate":100,"display_name":"Bahadir Tasdemir"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673267574,"creation_date":1494529862,"answer_id":43923805,"question_id":1073909,"body_markdown":"When you use a medicine, its side effects are those that are generally unwanted bad effects. The main purpose to use it is to get its &quot;demanded&quot; effect. Here, when we look at the angle of functions, generally when you call them you get a calculated value and use. There are other functions that they also change some values while calculating the &quot;demanded&quot; value so here the &quot;changing some values&quot; is a side effect. In the description of your sentence, if a function does not return anything, it is only used for its side effects so here, the side effects are &quot;changing some values&quot;.","title":"Side effect--what&#39;s this?","body":"<p>When you use a medicine, its side effects are those that are generally unwanted bad effects. The main purpose to use it is to get its &quot;demanded&quot; effect. Here, when we look at the angle of functions, generally when you call them you get a calculated value and use. There are other functions that they also change some values while calculating the &quot;demanded&quot; value so here the &quot;changing some values&quot; is a side effect. In the description of your sentence, if a function does not return anything, it is only used for its side effects so here, the side effects are &quot;changing some values&quot;.</p>\n"}],"owner":{"display_name":"Java_Noob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33685,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"answer_count":5,"score":34,"last_activity_date":1673267574,"creation_date":1246535063,"question_id":1073909,"body_markdown":"Could someone tell me the meaning of &quot;side effect&quot; in the following line?\r\n\r\n&gt; If you&#39;re calling an EL function that doesn&#39;t return anything, then you&#39;re calling it just for its side effects.","title":"Side effect--what&#39;s this?","body":"<p>Could someone tell me the meaning of \"side effect\" in the following line?</p>\n\n<blockquote>\n  <p>If you're calling an EL function that doesn't return anything, then you're calling it just for its side effects.</p>\n</blockquote>\n"},{"tags":["java","windows","selenium","selenium-webdriver","tabs"],"comments":[{"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"score":0,"creation_date":1673267154,"post_id":75057219,"comment_id":132452644,"body_markdown":"Your question has already been answered: https://stackoverflow.com/questions/12729265/switch-tabs-using-selenium-webdriver-with-java","body":"Your question has already been answered: <a href=\"https://stackoverflow.com/questions/12729265/switch-tabs-using-selenium-webdriver-with-java\" title=\"switch tabs using selenium webdriver with java\">stackoverflow.com/questions/12729265/&hellip;</a>"}],"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673266956,"creation_date":1673266956,"question_id":75057219,"body_markdown":"Every thing works fine but the webdriver is not shifting focus to second tab after opening yopmail earlier shifting from one window and focussing from one window is working fine but focus on second tab is not working I am using arraylist for this rest of the codes is fine only focussing on second tab is not working   \r\n\r\n\r\n\r\n\r\n    package Rolesandpermissions;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.ArrayList;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Inviteuserbyemail {\r\n        public static void main(String[] args) throws InterruptedException, AWTException {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Path to chromedriver&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n            String windowHandle = driver.getWindowHandle();\r\n            driver.get(&quot;URL&quot;);\r\n            driver.navigate().forward();\r\n            driver.manage().window().maximize();\r\n            driver.navigate().forward();\r\n            driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;formBasicEmail\\&quot;]&quot;)).sendKeys(&quot;good@yopmail.com&quot;);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwerty@10&quot;);\r\n            driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.className(&quot;checkmark&quot;)).click();\r\n            driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div/div[1]/div/div/form/button&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(7000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[1]/ul/li[2]/a&quot;)).click();\r\n            Thread.sleep(4000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[3]/div/div/div/div&quot;)).click();\r\n            driver.navigate().forward();\r\n            Thread.sleep(8000);\r\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;NewUserWrap secondaryBtn\\&quot;]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Hond@yopmail.com&quot;);\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[2]/div/div/div[1]/input[1]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[2]/div/div/div[2]/a[6]&quot;)).click();\r\n            driver.findElement(By.id(&quot;teams&quot;)).click();\r\n            Thread.sleep(5000);\r\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[3]/div/div/div/div/div/span[1]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.manage().deleteAllCookies();\r\n            // If you want to sign out //\r\n            driver.findElement(By.xpath(&quot;//img[@class=\\&quot;rounded-circle\\&quot;]&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//a[@href=\\&quot;#\\&quot;]&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.switchTo().newWindow(WindowType.WINDOW);\r\n            // User has received invitation //\r\n            driver.get(&quot;http://www.yopmail.com&quot;);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;); //replace the test email\r\n            driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\r\n            Thread.sleep(4000);\r\n            driver.manage().window().maximize();\r\n            driver.switchTo().frame(&quot;ifmail&quot;);\r\n            driver.findElement(By.linkText(&quot;URL&quot;)).click();\r\n            ArrayList&lt;String&gt; tabs2 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n            driver.switchTo().window(tabs2.get(1));\r\n            driver.navigate().forward();\r\n            Thread.sleep(8000);\r\n            driver.findElement(By.className(&quot;form-control&quot;)).sendKeys(&quot;Victorious&quot;);\r\n            Thread.sleep(4000);\r\n            driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;);\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.className(&quot;checkmark&quot;)).click();\r\n            Thread.sleep(2000);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\r\n            //driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div/div[1]/div/div/p/a&quot;)).click();\r\n            driver.navigate().forward();\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fullName\\&quot;]&quot;)).sendKeys(&quot;Victorious&quot;);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;);\r\n            driver.navigate().forward();\r\n            driver.findElement(By.className(&quot;checkmark&quot;)).click();\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\r\n            //perform other operations.\r\n            Robot r = new Robot();\r\n            r.keyPress(KeyEvent.VK_CONTROL);\r\n            r.keyPress(KeyEvent.VK_T);\r\n            r.keyRelease(KeyEvent.VK_CONTROL);\r\n            r.keyRelease(KeyEvent.VK_T);\r\n            driver.switchTo().window(tabs2.get(0));\r\n            driver.get(&quot;http://www.yopmail.com&quot;);\r\n            driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;); //replace the test email\r\n            driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\r\n            driver.switchTo().frame(&quot;ifmail&quot;);\r\n            driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n            String strCode = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;mail\\&quot;]/div/table/tbody/tr[3]/td/table/tbody/tr[1]/td/table/tbody/tr[5]/td/span&quot;)).getText(); //replace the locator for verification code\r\n            System.out.println(&quot;----------------&quot;);\r\n            System.out.println(strCode);\r\n            System.out.println(&quot;----------------&quot;);\r\n            Actions actions = new Actions(driver);\r\n            actions.sendKeys(Keys.chord(Keys.LEFT_CONTROL, &quot;c&quot;)).build().perform();\r\n            driver.switchTo().window(tabs2.get(1));\r\n            //driver.manage().timeouts().implicitlyWait(60,TimeUnit.SECONDS);\r\n            driver.navigate().forward();\r\n             driver.findElement(By.id(&quot;code1&quot;)).sendKeys(strCode);\r\n            driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\r\n            int i;\r\n            for (i = 1; i &lt;= 6; i++) {\r\n                driver.navigate().forward();\r\n                driver.manage().timeouts().implicitlyWait(4, TimeUnit.SECONDS);\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//input[@name=\\&quot;newPassword\\&quot;]&quot;)).sendKeys(&quot;Qwerty@10&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//input[@name=\\&quot;comfirmNewPass\\&quot;] &quot;)).sendKeys(&quot;Qwerty@10&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\r\n                driver.navigate().forward();\r\n                driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n                driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwerty@10&quot;);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//span[@class=\\&quot;checkmark\\&quot;]&quot;)).click();\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div/div/div[1]/ul/li[1]/a&quot;)).click();\r\n                //New Team Creation //\r\n                /*driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;toggleHide\\&quot;])[2]&quot;)).click();\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;//button[@class=\\&quot;NewUserWrap secondaryBtn\\&quot;]&quot;)).click();\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.name(&quot;teamLogo&quot;)).sendKeys(&quot;tunnel.jpg&quot;);\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.name(&quot;name&quot;)).sendKeys(&quot;Great&quot;);\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;//textarea[@name=\\&quot;description\\&quot;]&quot;)).sendKeys(&quot;T&quot;);\r\n                Thread.sleep(4000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[3]/button[2]&quot;)).click();*/\r\n                // User click on joining a team //\r\n                Thread.sleep(4000);\r\n                driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[2]/div[2]/span/div/button&quot;)).click();\r\n    \r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to shift to second tab in java selenium","body":"<p>Every thing works fine but the webdriver is not shifting focus to second tab after opening yopmail earlier shifting from one window and focussing from one window is working fine but focus on second tab is not working I am using arraylist for this rest of the codes is fine only focussing on second tab is not working</p>\n<pre><code>package Rolesandpermissions;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.interactions.Actions;\n\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.util.ArrayList;\nimport java.util.concurrent.TimeUnit;\n\npublic class Inviteuserbyemail {\n    public static void main(String[] args) throws InterruptedException, AWTException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Path to chromedriver&quot;);\n        WebDriver driver = new ChromeDriver();\n        String windowHandle = driver.getWindowHandle();\n        driver.get(&quot;URL&quot;);\n        driver.navigate().forward();\n        driver.manage().window().maximize();\n        driver.navigate().forward();\n        driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;formBasicEmail\\&quot;]&quot;)).sendKeys(&quot;good@yopmail.com&quot;);\n        driver.navigate().forward();\n        driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwerty@10&quot;);\n        driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\n        driver.navigate().forward();\n        driver.findElement(By.className(&quot;checkmark&quot;)).click();\n        driver.manage().timeouts().implicitlyWait(7, TimeUnit.SECONDS);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div/div[1]/div/div/form/button&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(7000);\n        driver.findElement(By.xpath(&quot;/html/body/div/div/div[1]/ul/li[2]/a&quot;)).click();\n        Thread.sleep(4000);\n        driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[3]/div/div/div/div&quot;)).click();\n        driver.navigate().forward();\n        Thread.sleep(8000);\n        driver.findElement(By.xpath(&quot;//button[@class=\\&quot;NewUserWrap secondaryBtn\\&quot;]&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Hond@yopmail.com&quot;);\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[2]/div/div/div[1]/input[1]&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[2]/div/div/div[2]/a[6]&quot;)).click();\n        driver.findElement(By.id(&quot;teams&quot;)).click();\n        Thread.sleep(5000);\n        driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[2]/div[3]/div/div/div/div/div/span[1]&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\n        Thread.sleep(2000);\n        driver.manage().deleteAllCookies();\n        // If you want to sign out //\n        driver.findElement(By.xpath(&quot;//img[@class=\\&quot;rounded-circle\\&quot;]&quot;)).click();\n        driver.findElement(By.xpath(&quot;//a[@href=\\&quot;#\\&quot;]&quot;)).click();\n        Thread.sleep(2000);\n        driver.switchTo().newWindow(WindowType.WINDOW);\n        // User has received invitation //\n        driver.get(&quot;http://www.yopmail.com&quot;);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;); //replace the test email\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\n        Thread.sleep(4000);\n        driver.manage().window().maximize();\n        driver.switchTo().frame(&quot;ifmail&quot;);\n        driver.findElement(By.linkText(&quot;URL&quot;)).click();\n        ArrayList&lt;String&gt; tabs2 = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tabs2.get(1));\n        driver.navigate().forward();\n        Thread.sleep(8000);\n        driver.findElement(By.className(&quot;form-control&quot;)).sendKeys(&quot;Victorious&quot;);\n        Thread.sleep(4000);\n        driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;);\n        Thread.sleep(2000);\n        driver.findElement(By.className(&quot;checkmark&quot;)).click();\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\n        //driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div/div/div[1]/div/div/p/a&quot;)).click();\n        driver.navigate().forward();\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;fullName\\&quot;]&quot;)).sendKeys(&quot;Victorious&quot;);\n        driver.navigate().forward();\n        driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;);\n        driver.navigate().forward();\n        driver.findElement(By.className(&quot;checkmark&quot;)).click();\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div/div[1]/div/div/form/button&quot;)).click();\n        //perform other operations.\n        Robot r = new Robot();\n        r.keyPress(KeyEvent.VK_CONTROL);\n        r.keyPress(KeyEvent.VK_T);\n        r.keyRelease(KeyEvent.VK_CONTROL);\n        r.keyRelease(KeyEvent.VK_T);\n        driver.switchTo().window(tabs2.get(0));\n        driver.get(&quot;http://www.yopmail.com&quot;);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;login\\&quot;]&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;); //replace the test email\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/main/div[3]/div/div[1]/div[2]/div/div/form/div/div/div[4]/button/i\\n&quot;)).click();\n        driver.switchTo().frame(&quot;ifmail&quot;);\n        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n        String strCode = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;mail\\&quot;]/div/table/tbody/tr[3]/td/table/tbody/tr[1]/td/table/tbody/tr[5]/td/span&quot;)).getText(); //replace the locator for verification code\n        System.out.println(&quot;----------------&quot;);\n        System.out.println(strCode);\n        System.out.println(&quot;----------------&quot;);\n        Actions actions = new Actions(driver);\n        actions.sendKeys(Keys.chord(Keys.LEFT_CONTROL, &quot;c&quot;)).build().perform();\n        driver.switchTo().window(tabs2.get(1));\n        //driver.manage().timeouts().implicitlyWait(60,TimeUnit.SECONDS);\n        driver.navigate().forward();\n         driver.findElement(By.id(&quot;code1&quot;)).sendKeys(strCode);\n        driver.manage().timeouts().implicitlyWait(5, TimeUnit.SECONDS);\n        int i;\n        for (i = 1; i &lt;= 6; i++) {\n            driver.navigate().forward();\n            driver.manage().timeouts().implicitlyWait(4, TimeUnit.SECONDS);\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//input[@name=\\&quot;newPassword\\&quot;]&quot;)).sendKeys(&quot;Qwerty@10&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//input[@name=\\&quot;comfirmNewPass\\&quot;] &quot;)).sendKeys(&quot;Qwerty@10&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;otp btn btn-primary\\&quot;]&quot;)).click();\n            driver.navigate().forward();\n            driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n            driver.findElement(By.name(&quot;email&quot;)).sendKeys(&quot;Bond@yopmail.com&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;Qwerty@10&quot;);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//span[@class=\\&quot;checkmark\\&quot;]&quot;)).click();\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;btn btn-primary\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[1]/ul/li[1]/a&quot;)).click();\n            //New Team Creation //\n            /*driver.findElement(By.xpath(&quot;(//span[@class=\\&quot;toggleHide\\&quot;])[2]&quot;)).click();\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;//button[@class=\\&quot;NewUserWrap secondaryBtn\\&quot;]&quot;)).click();\n            Thread.sleep(2000);\n            driver.findElement(By.name(&quot;teamLogo&quot;)).sendKeys(&quot;tunnel.jpg&quot;);\n            Thread.sleep(2000);\n            driver.findElement(By.name(&quot;name&quot;)).sendKeys(&quot;Great&quot;);\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;//textarea[@name=\\&quot;description\\&quot;]&quot;)).sendKeys(&quot;T&quot;);\n            Thread.sleep(4000);\n            driver.findElement(By.xpath(&quot;/html/body/div[3]/div/div/form/div[3]/button[2]&quot;)).click();*/\n            // User click on joining a team //\n            Thread.sleep(4000);\n            driver.findElement(By.xpath(&quot;/html/body/div/div/div[2]/div[2]/div[2]/span/div/button&quot;)).click();\n\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","orm"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1673018314,"post_id":75032577,"comment_id":132409515,"body_markdown":"As a starting point, log each class you add by calling addAnnotatedClass to make sure that PlayerStats is actually added to the context. The error indicates that it is not.","body":"As a starting point, log each class you add by calling addAnnotatedClass to make sure that PlayerStats is actually added to the context. The error indicates that it is not."},{"owner":{"account_id":27454123,"reputation":3,"user_id":20945869,"display_name":"sauuey"},"score":0,"creation_date":1673036557,"post_id":75032577,"comment_id":132415140,"body_markdown":"@ewramner yes you are right. When I use this way to collecting the classes there are stored as java.lang.Class and not as my class. So now I fixed it and everything is fine. Best regards.","body":"@ewramner yes you are right. When I use this way to collecting the classes there are stored as java.lang.Class and not as my class. So now I fixed it and everything is fine. Best regards."},{"owner":{"account_id":27454123,"reputation":3,"user_id":20945869,"display_name":"sauuey"},"score":0,"creation_date":1673251029,"post_id":75032577,"comment_id":132447593,"body_markdown":"@ewramner can you please post your comment as answer so i can accept it.","body":"@ewramner can you please post your comment as answer so i can accept it."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1673266469,"post_id":75032577,"comment_id":132452401,"body_markdown":"please see my other answer below. I think that is better, as it shows the actual bug?","body":"please see my other answer below. I think that is better, as it shows the actual bug?"},{"owner":{"account_id":27454123,"reputation":3,"user_id":20945869,"display_name":"sauuey"},"score":0,"creation_date":1673281548,"post_id":75032577,"comment_id":132458475,"body_markdown":"Your answer is not the solve. The problem is at the parameter collection for the consturctor. There I used &#39;Class&lt;?&gt;... clazz&#39; which stores the classes in a lost of java.lang.Class ant not of the actuall class. So after I created a builder, so I can add the classes successively it works. You can edit your answer? So I can accept it, it was basiclly your idea.","body":"Your answer is not the solve. The problem is at the parameter collection for the consturctor. There I used &#39;Class&lt;?&gt;... clazz&#39; which stores the classes in a lost of java.lang.Class ant not of the actuall class. So after I created a builder, so I can add the classes successively it works. You can edit your answer? So I can accept it, it was basiclly your idea."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1673333789,"post_id":75032577,"comment_id":132469233,"body_markdown":"I can, but the type of the collection should not matter. The type you actually pass to addAnnotatedClass matters and in your original code that was wrong as per the answer. Perhaps you could try just that fix to verify? You can always go back to the nicer builder code afterwards. I&#39;m pretty sure this is the real solution.","body":"I can, but the type of the collection should not matter. The type you actually pass to addAnnotatedClass matters and in your original code that was wrong as per the answer. Perhaps you could try just that fix to verify? You can always go back to the nicer builder code afterwards. I&#39;m pretty sure this is the real solution."},{"owner":{"account_id":27454123,"reputation":3,"user_id":20945869,"display_name":"sauuey"},"score":0,"creation_date":1674462299,"post_id":75032577,"comment_id":132710926,"body_markdown":"@ewramner okay sorry nvm. I do not know what I did last time. I tried your answers and this works fine.","body":"@ewramner okay sorry nvm. I do not know what I did last time. I tried your answers and this works fine."}],"answers":[{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673266555,"creation_date":1673088443,"answer_id":75039701,"question_id":75032577,"body_markdown":"EDIT: as written in the comments, make sure that addAnnotatedClass actually adds PlayerStats to the context. The error indicates that it has not been added.\r\n\r\nLooking closer I think I spotted the bug in your original code. Change:\r\n\r\n    for (Class&lt;?&gt; c : clazz) {\r\n        configuration.addAnnotatedClass(c.getClass());\r\n    }\r\nTo:\r\n\r\n    for (Class&lt;?&gt; c : clazz) {\r\n        configuration.addAnnotatedClass(c);\r\n    }\r\n\r\nYou are already passing the classes, so the old code is registering the class of the class.","title":"Hibernate - Could not resolve root entity","body":"<p>EDIT: as written in the comments, make sure that addAnnotatedClass actually adds PlayerStats to the context. The error indicates that it has not been added.</p>\n<p>Looking closer I think I spotted the bug in your original code. Change:</p>\n<pre><code>for (Class&lt;?&gt; c : clazz) {\n    configuration.addAnnotatedClass(c.getClass());\n}\n</code></pre>\n<p>To:</p>\n<pre><code>for (Class&lt;?&gt; c : clazz) {\n    configuration.addAnnotatedClass(c);\n}\n</code></pre>\n<p>You are already passing the classes, so the old code is registering the class of the class.</p>\n"}],"owner":{"account_id":27454123,"reputation":3,"user_id":20945869,"display_name":"sauuey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75039701,"answer_count":1,"score":0,"last_activity_date":1673266555,"creation_date":1673017168,"question_id":75032577,"body_markdown":"I&#39;m getting a &quot;Could not resolve root entity &#39;PlayerStats&#39;&quot; UnknownEntityException while try to load a entity with spezific uuid. Inside the Test-Section it works fine but in when I compile it and try to run I received the error.\r\n\r\nPlayerStats\r\n```\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.NamedQueries;\r\nimport jakarta.persistence.NamedQuery;\r\nimport jakarta.persistence.Table;\r\nimport jakarta.persistence.Transient;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport java.io.Serializable;\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Table\r\n@Entity\r\npublic class PlayerStats implements Serializable {\r\n\r\n    public PlayerStats(String UUID, int deaths, int placed, int destroyed, String settings) {\r\n\r\n        this.UUID = UUID;\r\n        setDeaths(deaths);\r\n        setPlaced(placedBlocks);\r\n        setDestroyed(destroyed);\r\n        setSettings(settings);\r\n        stringToBool();\r\n    }\r\n\r\n    @Id\r\n    @Column\r\n    private String UUID;\r\n\r\n    @Column\r\n    private int deaths;\r\n\r\n    @Column\r\n    private int placed;\r\n\r\n    @Column\r\n    private int destroyed;\r\n\r\n    @Column\r\n    private String settings;\r\n\r\n...\r\n}\r\n```\r\n\r\nTest\r\n//This works\r\n```\r\n@Test\r\n    public void abc(){\r\n        SessionFactory sessionFactory;\r\n        Properties properties = new Properties();\r\n\r\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n        properties.setProperty(&quot;connection.driver_class&quot;, &quot;com.mysql.cl.jdbc.Driver&quot;);\r\n        properties.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://localhost:3306/alldatanew&quot;);\r\n        properties.setProperty(&quot;hibernate.connection.username&quot;, &quot;root&quot;);\r\n        properties.setProperty(&quot;hibernate.connection.password&quot;, &quot;&quot;);\r\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n        properties.setProperty(&quot;current_session_context_class&quot;, &quot;thread&quot;);\r\n\r\n        try {\r\n            sessionFactory = new Configuration()\r\n                    .addProperties(properties)\r\n                    .addAnnotatedClass(PlayerStats.class)\r\n                    .buildSessionFactory();\r\n        } catch (final Exception e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException();\r\n        }\r\n        Session session = sessionFactory.openSession();\r\n        SelectionQuery&lt;PlayerStats&gt; query = session.createSelectionQuery(&quot;FROM PlayerStats as P WHERE P.UUID = :uuid&quot;, PlayerStats.class);\r\n        query.setParameter(&quot;uuid&quot;, &quot;test3&quot;);\r\n        PlayerStats playerStats = query.getSingleResult();\r\n        System.out.println(playerStats.getUUID());\r\n\r\n\r\n    }\r\n\r\n```\r\n\r\nPlayerStatsStore\r\n//This do not work\r\n\r\n```\r\npublic PlayerStats findByUUID(String uuid) {\r\n\r\n        try (Session session = openSession()) {\r\n            SelectionQuery&lt;PlayerStats&gt; query = session.createSelectionQuery(&quot;FROM PlayerStats as P WHERE P.UUID = :uuid&quot;, PlayerStats.class);\r\n            query.setParameter(&quot;uuid&quot;, uuid);\r\n            PlayerStats playerStats = query.getSingleResult();\r\n            return playerStats;\r\n        } catch (final NoResultException exc) {\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nThe exception\r\n[Exception](https://i.stack.imgur.com/CztJW.png)\r\n[Exception](https://i.stack.imgur.com/nrXoy.png)\r\n\r\nSo my question is why it works inside of the test and not after compiling?\r\nWhat am I doing wrong?\r\n\r\nRegards, and thank you very much\r\n\r\nI tried to solve my problem with the @NamedQuery annotation. This also doesn&#39;t work. So maybe my problem is at the SessionFactory init.\r\n\r\nSessionFactory creation:\r\n\r\n```\r\npublic SessionFactory createSessionFactory(Class&lt;?&gt;... clazz) {\r\n\r\n        Properties properties = new Properties();\r\n\r\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\r\n        properties.setProperty(&quot;connection.driver_class&quot;, &quot;com.mysql.cl.jdbc.Driver&quot;);\r\n        properties.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://localhost:3306/alldatanew&quot;);\r\n        properties.setProperty(&quot;hibernate.connection.username&quot;, &quot;root&quot;);\r\n        properties.setProperty(&quot;hibernate.connection.password&quot;, &quot;&quot;);\r\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n        properties.setProperty(&quot;current_session_context_class&quot;, &quot;thread&quot;);\r\n        properties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n\r\n        try {\r\n            Configuration configuration = new Configuration();\r\n            configuration.addProperties(properties);\r\n            for (Class&lt;?&gt; c : clazz) {\r\n                configuration.addAnnotatedClass(c.getClass());\r\n            }\r\n            return configuration.buildSessionFactory();\r\n        } catch (final Exception e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException();\r\n        }\r\n    }\r\n```\r\n","title":"Hibernate - Could not resolve root entity","body":"<p>I'm getting a &quot;Could not resolve root entity 'PlayerStats'&quot; UnknownEntityException while try to load a entity with spezific uuid. Inside the Test-Section it works fine but in when I compile it and try to run I received the error.</p>\n<p>PlayerStats</p>\n<pre><code>import jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.NamedQueries;\nimport jakarta.persistence.NamedQuery;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.Transient;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport java.io.Serializable;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@Table\n@Entity\npublic class PlayerStats implements Serializable {\n\n    public PlayerStats(String UUID, int deaths, int placed, int destroyed, String settings) {\n\n        this.UUID = UUID;\n        setDeaths(deaths);\n        setPlaced(placedBlocks);\n        setDestroyed(destroyed);\n        setSettings(settings);\n        stringToBool();\n    }\n\n    @Id\n    @Column\n    private String UUID;\n\n    @Column\n    private int deaths;\n\n    @Column\n    private int placed;\n\n    @Column\n    private int destroyed;\n\n    @Column\n    private String settings;\n\n...\n}\n</code></pre>\n<p>Test\n//This works</p>\n<pre><code>@Test\n    public void abc(){\n        SessionFactory sessionFactory;\n        Properties properties = new Properties();\n\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\n        properties.setProperty(&quot;connection.driver_class&quot;, &quot;com.mysql.cl.jdbc.Driver&quot;);\n        properties.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://localhost:3306/alldatanew&quot;);\n        properties.setProperty(&quot;hibernate.connection.username&quot;, &quot;root&quot;);\n        properties.setProperty(&quot;hibernate.connection.password&quot;, &quot;&quot;);\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n        properties.setProperty(&quot;current_session_context_class&quot;, &quot;thread&quot;);\n\n        try {\n            sessionFactory = new Configuration()\n                    .addProperties(properties)\n                    .addAnnotatedClass(PlayerStats.class)\n                    .buildSessionFactory();\n        } catch (final Exception e) {\n            e.printStackTrace();\n            throw new RuntimeException();\n        }\n        Session session = sessionFactory.openSession();\n        SelectionQuery&lt;PlayerStats&gt; query = session.createSelectionQuery(&quot;FROM PlayerStats as P WHERE P.UUID = :uuid&quot;, PlayerStats.class);\n        query.setParameter(&quot;uuid&quot;, &quot;test3&quot;);\n        PlayerStats playerStats = query.getSingleResult();\n        System.out.println(playerStats.getUUID());\n\n\n    }\n\n</code></pre>\n<p>PlayerStatsStore\n//This do not work</p>\n<pre><code>public PlayerStats findByUUID(String uuid) {\n\n        try (Session session = openSession()) {\n            SelectionQuery&lt;PlayerStats&gt; query = session.createSelectionQuery(&quot;FROM PlayerStats as P WHERE P.UUID = :uuid&quot;, PlayerStats.class);\n            query.setParameter(&quot;uuid&quot;, uuid);\n            PlayerStats playerStats = query.getSingleResult();\n            return playerStats;\n        } catch (final NoResultException exc) {\n            return null;\n        }\n    }\n</code></pre>\n<p>The exception\n<a href=\"https://i.stack.imgur.com/CztJW.png\" rel=\"nofollow noreferrer\">Exception</a>\n<a href=\"https://i.stack.imgur.com/nrXoy.png\" rel=\"nofollow noreferrer\">Exception</a></p>\n<p>So my question is why it works inside of the test and not after compiling?\nWhat am I doing wrong?</p>\n<p>Regards, and thank you very much</p>\n<p>I tried to solve my problem with the @NamedQuery annotation. This also doesn't work. So maybe my problem is at the SessionFactory init.</p>\n<p>SessionFactory creation:</p>\n<pre><code>public SessionFactory createSessionFactory(Class&lt;?&gt;... clazz) {\n\n        Properties properties = new Properties();\n\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQLDialect&quot;);\n        properties.setProperty(&quot;connection.driver_class&quot;, &quot;com.mysql.cl.jdbc.Driver&quot;);\n        properties.setProperty(&quot;hibernate.connection.url&quot;, &quot;jdbc:mysql://localhost:3306/alldatanew&quot;);\n        properties.setProperty(&quot;hibernate.connection.username&quot;, &quot;root&quot;);\n        properties.setProperty(&quot;hibernate.connection.password&quot;, &quot;&quot;);\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n        properties.setProperty(&quot;current_session_context_class&quot;, &quot;thread&quot;);\n        properties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\n\n        try {\n            Configuration configuration = new Configuration();\n            configuration.addProperties(properties);\n            for (Class&lt;?&gt; c : clazz) {\n                configuration.addAnnotatedClass(c.getClass());\n            }\n            return configuration.buildSessionFactory();\n        } catch (final Exception e) {\n            e.printStackTrace();\n            throw new RuntimeException();\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","jackson-databind","whitesource"],"answers":[{"tags":[],"owner":{"account_id":7286943,"reputation":29,"user_id":5554738,"display_name":"pred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648043995,"creation_date":1648043995,"answer_id":71588518,"question_id":71512818,"body_markdown":"The fix for it on the way. Thanks to the open source community. In mean time if there  is possibility of a waiver, please request from your vendor. \r\n\r\nMore details can be found at https://github.com/FasterXML/jackson-databind/issues/2816","title":"CVE-2020-36518 : Unable to resolve WhiteSource vulnerability for jackson-databind library","body":"<p>The fix for it on the way. Thanks to the open source community. In mean time if there  is possibility of a waiver, please request from your vendor.</p>\n<p>More details can be found at <a href=\"https://github.com/FasterXML/jackson-databind/issues/2816\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/2816</a></p>\n"}],"owner":{"account_id":22638603,"reputation":31,"user_id":16815090,"display_name":"Brajesh Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1428,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1702135084,"answer_count":1,"score":2,"last_activity_date":1673266547,"creation_date":1647522328,"question_id":71512818,"body_markdown":"I have tried all the versions of **jackson-databind** (including version suggested on whitesource fix), but all the version for jackson-databind showing vulnerability on whitesource scan.\r\n\r\nBelow is the description of the issue and we can also see the WhiteSource Note :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5er9s.png\r\n\r\nCan someone help me here to resolve this? \r\n\r\nNote: I am using jackson-databind dependency so can not exclude it in pom.xml","title":"CVE-2020-36518 : Unable to resolve WhiteSource vulnerability for jackson-databind library","body":"<p>I have tried all the versions of <strong>jackson-databind</strong> (including version suggested on whitesource fix), but all the version for jackson-databind showing vulnerability on whitesource scan.</p>\n<p>Below is the description of the issue and we can also see the WhiteSource Note :\n<a href=\"https://i.stack.imgur.com/5er9s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5er9s.png\" alt=\"enter image description here\" /></a></p>\n<p>Can someone help me here to resolve this?</p>\n<p>Note: I am using jackson-databind dependency so can not exclude it in pom.xml</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":0,"creation_date":1232726183,"post_id":473401,"comment_id":290934,"body_markdown":"What does the above code give you in JUnit 4?","body":"What does the above code give you in JUnit 4?"},{"owner":{"account_id":17822,"reputation":39726,"user_id":40310,"accept_rate":62,"display_name":"Dave Ray"},"score":5,"creation_date":1232726482,"post_id":473401,"comment_id":290952,"body_markdown":"JUnit 3 tests extend TestCase where getName() is defined. JUnit 4 tests do not extend a base class, so there is no getName() method at all.","body":"JUnit 3 tests extend TestCase where getName() is defined. JUnit 4 tests do not extend a base class, so there is no getName() method at all."},{"owner":{"account_id":23933,"reputation":7284,"user_id":60462,"accept_rate":71,"display_name":"Volker Stolz"},"score":0,"creation_date":1234747291,"post_id":473401,"comment_id":363662,"body_markdown":"I have a similar problem where I want to &lt;b&gt;set&lt;/b&gt; the test name since I&#39;m using the Parametrized runner that only gives me numbered test cases.","body":"I have a similar problem where I want to &lt;b&gt;set&lt;/b&gt; the test name since I&#39;m using the Parametrized runner that only gives me numbered test cases."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1477249211,"post_id":473401,"comment_id":67677725,"body_markdown":"Lovely solution using Test or TestWatcher... just wondering (out loud) whether there should ever be a need for this? You can find whether a test is running slowly by looking at the timing output charts given by Gradle.  You should never need to know the order in which tests operate... ?","body":"Lovely solution using Test or TestWatcher... just wondering (out loud) whether there should ever be a need for this? You can find whether a test is running slowly by looking at the timing output charts given by Gradle.  You should never need to know the order in which tests operate... ?"}],"answers":[{"tags":[],"owner":{"account_id":16573,"reputation":3565,"user_id":36267,"accept_rate":83,"display_name":"cordellcp3"},"down_vote_count":8,"up_vote_count":12,"is_accepted":false,"score":4,"last_activity_date":1232726264,"creation_date":1232726264,"answer_id":473431,"question_id":473401,"body_markdown":"JUnit 4 does not have any out-of-the-box mechanism for a test case to get it’s own name (including during setup and teardown).","title":"Get name of currently executing test in JUnit 4","body":"<p>JUnit 4 does not have any out-of-the-box mechanism for a test case to get it’s own name (including during setup and teardown).</p>\n"},{"tags":[],"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1232831020,"creation_date":1232831020,"answer_id":476645,"question_id":473401,"body_markdown":"I&#39;d suggest you decouple the test method name from your test data set. I would model a DataLoaderFactory class which loads/caches the sets of test data from your resources, and then in your test case cam call some interface method which returns a set of test data for the test case. Having the test data tied to the test method name assumes the test data can only be used once, where in most case i&#39;d suggest that the same test data in uses in multiple tests to verify various aspects of your business logic.   ","title":"Get name of currently executing test in JUnit 4","body":"<p>I'd suggest you decouple the test method name from your test data set. I would model a DataLoaderFactory class which loads/caches the sets of test data from your resources, and then in your test case cam call some interface method which returns a set of test data for the test case. Having the test data tied to the test method name assumes the test data can only be used once, where in most case i'd suggest that the same test data in uses in multiple tests to verify various aspects of your business logic.   </p>\n"},{"tags":[],"owner":{"account_id":32966,"reputation":485,"user_id":91864,"accept_rate":80,"display_name":"chris.f.jones"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1239918302,"creation_date":1239918302,"answer_id":758180,"question_id":473401,"body_markdown":"A convoluted way is to create your own Runner by subclassing org.junit.runners.BlockJUnit4ClassRunner.\r\n\r\nYou can then do something like this:\r\n\r\n    public class NameAwareRunner extends BlockJUnit4ClassRunner {\r\n    \r\n        public NameAwareRunner(Class&lt;?&gt; aClass) throws InitializationError {\r\n            super(aClass);\r\n        }\r\n    \r\n        @Override\r\n        protected Statement methodBlock(FrameworkMethod frameworkMethod) {\r\n            System.err.println(frameworkMethod.getName());\r\n            return super.methodBlock(frameworkMethod);\r\n        }\r\n    }\r\n\r\n\r\nThen for each test class, you&#39;ll need to add a @RunWith(NameAwareRunner.class) annotation. Alternatively, you could put that annotation on a Test superclass if you don&#39;t want to remember it every time. This, of course, limits your selection of runners but that may be acceptable.\r\n\r\nAlso, it may take a little bit of kung fu to get the current test name out of the Runner and into your framework, but this at least gets you the name.\r\n","title":"Get name of currently executing test in JUnit 4","body":"<p>A convoluted way is to create your own Runner by subclassing org.junit.runners.BlockJUnit4ClassRunner.</p>\n\n<p>You can then do something like this:</p>\n\n<pre><code>public class NameAwareRunner extends BlockJUnit4ClassRunner {\n\n    public NameAwareRunner(Class&lt;?&gt; aClass) throws InitializationError {\n        super(aClass);\n    }\n\n    @Override\n    protected Statement methodBlock(FrameworkMethod frameworkMethod) {\n        System.err.println(frameworkMethod.getName());\n        return super.methodBlock(frameworkMethod);\n    }\n}\n</code></pre>\n\n<p>Then for each test class, you'll need to add a @RunWith(NameAwareRunner.class) annotation. Alternatively, you could put that annotation on a Test superclass if you don't want to remember it every time. This, of course, limits your selection of runners but that may be acceptable.</p>\n\n<p>Also, it may take a little bit of kung fu to get the current test name out of the Runner and into your framework, but this at least gets you the name.</p>\n"},{"tags":[],"owner":{"account_id":22914,"reputation":5048,"user_id":56994,"display_name":"FroMage"},"down_vote_count":0,"up_vote_count":422,"is_accepted":true,"score":422,"last_activity_date":1435566289,"creation_date":1253015991,"answer_id":1426730,"question_id":473401,"body_markdown":"JUnit 4.7 added this feature it seems using [TestName-Rule][1]. Looks like this will get you the method name:\r\n\r\n    import org.junit.Rule;\r\n\r\n    public class NameRuleTest {\r\n    \t@Rule public TestName name = new TestName();\r\n    \t\r\n    \t@Test public void testA() {\r\n    \t\tassertEquals(&quot;testA&quot;, name.getMethodName());\r\n    \t}\r\n    \t\r\n    \t@Test public void testB() {\r\n    \t\tassertEquals(&quot;testB&quot;, name.getMethodName());\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit/wiki/Rules#testname-rule","title":"Get name of currently executing test in JUnit 4","body":"<p>JUnit 4.7 added this feature it seems using <a href=\"https://github.com/junit-team/junit/wiki/Rules#testname-rule\" rel=\"noreferrer\">TestName-Rule</a>. Looks like this will get you the method name:</p>\n\n<pre><code>import org.junit.Rule;\n\npublic class NameRuleTest {\n    @Rule public TestName name = new TestName();\n\n    @Test public void testA() {\n        assertEquals(\"testA\", name.getMethodName());\n    }\n\n    @Test public void testB() {\n        assertEquals(\"testB\", name.getMethodName());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":96522,"reputation":61,"user_id":262315,"display_name":"jnorris"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1293750305,"creation_date":1293750305,"answer_id":4566953,"question_id":473401,"body_markdown":"    String testName = null;\r\n    StackTraceElement[] trace = Thread.currentThread().getStackTrace();\r\n    for (int i = trace.length - 1; i &gt; 0; --i) {\r\n        StackTraceElement ste = trace[i];\r\n        try {\r\n            Class&lt;?&gt; cls = Class.forName(ste.getClassName());\r\n            Method method = cls.getDeclaredMethod(ste.getMethodName());\r\n            Test annotation = method.getAnnotation(Test.class);\r\n            if (annotation != null) {\r\n                testName = ste.getClassName() + &quot;.&quot; + ste.getMethodName();\r\n                break;\r\n            }\r\n        } catch (ClassNotFoundException e) {\r\n        } catch (NoSuchMethodException e) {\r\n        } catch (SecurityException e) {\r\n        }\r\n    }\r\n","title":"Get name of currently executing test in JUnit 4","body":"<pre><code>String testName = null;\nStackTraceElement[] trace = Thread.currentThread().getStackTrace();\nfor (int i = trace.length - 1; i &gt; 0; --i) {\n    StackTraceElement ste = trace[i];\n    try {\n        Class&lt;?&gt; cls = Class.forName(ste.getClassName());\n        Method method = cls.getDeclaredMethod(ste.getMethodName());\n        Test annotation = method.getAnnotation(Test.class);\n        if (annotation != null) {\n            testName = ste.getClassName() + \".\" + ste.getMethodName();\n            break;\n        }\n    } catch (ClassNotFoundException e) {\n    } catch (NoSuchMethodException e) {\n    } catch (SecurityException e) {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1135821,"reputation":81,"user_id":1120900,"display_name":"journeyman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1325154308,"creation_date":1325153152,"answer_id":8666389,"question_id":473401,"body_markdown":"Consider using SLF4J (Simple Logging Facade for Java) provides some neat improvements using parameterized messages. Combining SLF4J with JUnit 4 rule implementations can provide more efficient test class logging techniques.\r\n\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.junit.rules.MethodRule;\r\n    import org.junit.rules.TestWatchman;\r\n    import org.junit.runners.model.FrameworkMethod;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n \r\n    public class LoggingTest {\r\n \r\n      @Rule public MethodRule watchman = new TestWatchman() {\r\n        public void starting(FrameworkMethod method) {\r\n          logger.info(&quot;{} being run...&quot;, method.getName());\r\n        }\r\n      };\r\n \r\n      final Logger logger =\r\n        LoggerFactory.getLogger(LoggingTest.class);\r\n \r\n      @Test\r\n      public void testA() {\r\n \r\n      }\r\n \r\n      @Test\r\n      public void testB() {\r\n \r\n      }\r\n    }","title":"Get name of currently executing test in JUnit 4","body":"<p>Consider using SLF4J (Simple Logging Facade for Java) provides some neat improvements using parameterized messages. Combining SLF4J with JUnit 4 rule implementations can provide more efficient test class logging techniques.</p>\n\n<pre><code>import org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.rules.MethodRule;\nimport org.junit.rules.TestWatchman;\nimport org.junit.runners.model.FrameworkMethod;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class LoggingTest {\n\n  @Rule public MethodRule watchman = new TestWatchman() {\n    public void starting(FrameworkMethod method) {\n      logger.info(\"{} being run...\", method.getName());\n    }\n  };\n\n  final Logger logger =\n    LoggerFactory.getLogger(LoggingTest.class);\n\n  @Test\n  public void testA() {\n\n  }\n\n  @Test\n  public void testB() {\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1534612,"reputation":276,"user_id":1430985,"display_name":"leojkelav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350047584,"creation_date":1350047584,"answer_id":12859862,"question_id":473401,"body_markdown":"    @ClassRule\r\n    public static TestRule watchman = new TestWatcher() {\r\n        @Override\r\n        protected void starting( final Description description ) {\r\n            String mN = description.getMethodName();\r\n            if ( mN == null ) {\r\n                mN = &quot;setUpBeforeClass..&quot;;\r\n            }\r\n\r\n            final String s = StringTools.toString( &quot;starting..JUnit-Test: %s.%s&quot;, description.getClassName(), mN );\r\n            System.err.println( s );\r\n        }\r\n    };","title":"Get name of currently executing test in JUnit 4","body":"<pre><code>@ClassRule\npublic static TestRule watchman = new TestWatcher() {\n    @Override\n    protected void starting( final Description description ) {\n        String mN = description.getMethodName();\n        if ( mN == null ) {\n            mN = \"setUpBeforeClass..\";\n        }\n\n        final String s = StringTools.toString( \"starting..JUnit-Test: %s.%s\", description.getClassName(), mN );\n        System.err.println( s );\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"down_vote_count":0,"up_vote_count":129,"is_accepted":false,"score":129,"last_activity_date":1567034733,"creation_date":1356083824,"answer_id":13987909,"question_id":473401,"body_markdown":"# JUnit 4.9.x and higher\n\nSince JUnit 4.9, the [`TestWatchman`](http://junit.org/javadoc/latest/org/junit/rules/TestWatchman.html) class has been deprecated in favour of the [`TestWatcher`](http://junit.org/javadoc/latest/org/junit/rules/TestWatcher.html) class, which has invocation:\n\n    @Rule\n    public TestRule watcher = new TestWatcher() {\n       protected void starting(Description description) {\n          System.out.println(&quot;Starting test: &quot; + description.getMethodName());\n       }\n    };\n\nNote: The containing class must be declared `public`.\n\n# JUnit 4.7.x - 4.8.x\n\nThe following approach will print method names for all tests in a class:\n\n    @Rule\n    public MethodRule watchman = new TestWatchman() {\n       public void starting(FrameworkMethod method) {\n          System.out.println(&quot;Starting test: &quot; + method.getName());\n       }\n    };\n","title":"Get name of currently executing test in JUnit 4","body":"<h1>JUnit 4.9.x and higher</h1>\n<p>Since JUnit 4.9, the <a href=\"http://junit.org/javadoc/latest/org/junit/rules/TestWatchman.html\" rel=\"noreferrer\"><code>TestWatchman</code></a> class has been deprecated in favour of the <a href=\"http://junit.org/javadoc/latest/org/junit/rules/TestWatcher.html\" rel=\"noreferrer\"><code>TestWatcher</code></a> class, which has invocation:</p>\n<pre><code>@Rule\npublic TestRule watcher = new TestWatcher() {\n   protected void starting(Description description) {\n      System.out.println(&quot;Starting test: &quot; + description.getMethodName());\n   }\n};\n</code></pre>\n<p>Note: The containing class must be declared <code>public</code>.</p>\n<h1>JUnit 4.7.x - 4.8.x</h1>\n<p>The following approach will print method names for all tests in a class:</p>\n<pre><code>@Rule\npublic MethodRule watchman = new TestWatchman() {\n   public void starting(FrameworkMethod method) {\n      System.out.println(&quot;Starting test: &quot; + method.getName());\n   }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92970,"reputation":679,"user_id":254562,"display_name":"Yavin5"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1366406263,"creation_date":1366406263,"answer_id":16113631,"question_id":473401,"body_markdown":"Try this instead:\r\n \r\n\r\n    public class MyTest {\r\n            @Rule\r\n            public TestName testName = new TestName();\r\n            \r\n            @Rule\r\n            public TestWatcher testWatcher = new TestWatcher() {\r\n                @Override\r\n                protected void starting(final Description description) {\r\n                    String methodName = description.getMethodName();\r\n                    String className = description.getClassName();\r\n                    className = className.substring(className.lastIndexOf(&#39;.&#39;) + 1);\r\n                    System.err.println(&quot;Starting JUnit-test: &quot; + className + &quot; &quot; + methodName);\r\n                }\r\n            };\r\n        \r\n            @Test\r\n            public void testA() {\r\n                    assertEquals(&quot;testA&quot;, testName.getMethodName());\r\n            }\r\n        \r\n            @Test\r\n            public void testB() {\r\n                    assertEquals(&quot;testB&quot;, testName.getMethodName());\r\n            }\r\n    }\r\n\r\nThe output looks like this:\r\n\r\n    Starting JUnit-test: MyTest testA\r\n    Starting JUnit-test: MyTest testB\r\n\r\nNOTE: This ***DOES NOT*** work if your test is a subclass of **TestCase**!  The test runs but the **@Rule** code just never runs.\r\n\r\n","title":"Get name of currently executing test in JUnit 4","body":"<p>Try this instead:</p>\n\n<pre><code>public class MyTest {\n        @Rule\n        public TestName testName = new TestName();\n\n        @Rule\n        public TestWatcher testWatcher = new TestWatcher() {\n            @Override\n            protected void starting(final Description description) {\n                String methodName = description.getMethodName();\n                String className = description.getClassName();\n                className = className.substring(className.lastIndexOf('.') + 1);\n                System.err.println(\"Starting JUnit-test: \" + className + \" \" + methodName);\n            }\n        };\n\n        @Test\n        public void testA() {\n                assertEquals(\"testA\", testName.getMethodName());\n        }\n\n        @Test\n        public void testB() {\n                assertEquals(\"testB\", testName.getMethodName());\n        }\n}\n</code></pre>\n\n<p>The output looks like this:</p>\n\n<pre><code>Starting JUnit-test: MyTest testA\nStarting JUnit-test: MyTest testB\n</code></pre>\n\n<p>NOTE: This <strong><em>DOES NOT</em></strong> work if your test is a subclass of <strong>TestCase</strong>!  The test runs but the <strong>@Rule</strong> code just never runs.</p>\n"},{"tags":[],"owner":{"account_id":226441,"reputation":3090,"user_id":958263,"accept_rate":69,"display_name":"Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428987178,"creation_date":1428987178,"answer_id":29619401,"question_id":473401,"body_markdown":"You can achieve this using `Slf4j` and `TestWatcher`\r\n\r\n    private static Logger _log = LoggerFactory.getLogger(SampleTest.class.getName());\r\n    \r\n    @Rule\r\n    public TestWatcher watchman = new TestWatcher() {\r\n        @Override\r\n        public void starting(final Description method) {\r\n            _log.info(&quot;being run...&quot; + method.getMethodName());\r\n        }\r\n    };","title":"Get name of currently executing test in JUnit 4","body":"<p>You can achieve this using <code>Slf4j</code> and <code>TestWatcher</code></p>\n\n<pre><code>private static Logger _log = LoggerFactory.getLogger(SampleTest.class.getName());\n\n@Rule\npublic TestWatcher watchman = new TestWatcher() {\n    @Override\n    public void starting(final Description method) {\n        _log.info(\"being run...\" + method.getMethodName());\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3345755,"reputation":124,"user_id":2810942,"display_name":"Csaba Tenkes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529198349,"creation_date":1466697098,"answer_id":37996370,"question_id":473401,"body_markdown":"Based on the previous comment and further considering I created an extension of TestWather which you can use in your JUnit test methods with this:\r\n\r\n    public class ImportUtilsTest {\r\n\t    private static final Logger LOGGER = Logger.getLogger(ImportUtilsTest.class);\r\n\t\r\n\t    @Rule\r\n        public TestWatcher testWatcher = new JUnitHelper(LOGGER);\r\n    \r\n        @Test\r\n        public test1(){\r\n        ...\r\n        }\r\n    }\r\n\r\n\r\nThe test helper class is the next:\r\n\r\n    public class JUnitHelper extends TestWatcher {\r\n\tprivate Logger LOGGER;\r\n\r\n\tpublic JUnitHelper(Logger LOGGER) {\r\n\t\tthis.LOGGER = LOGGER;\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void starting(final Description description) {\r\n\t\tLOGGER.info(&quot;STARTED &quot; + description.getMethodName());\r\n\t}\r\n\r\n \t@Override\r\n\tprotected void succeeded(Description description) {\r\n\t\tLOGGER.info(&quot;SUCCESSFUL &quot; + description.getMethodName());\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void failed(Throwable e, Description description) {\r\n\t\tLOGGER.error(&quot;FAILURE &quot; + description.getMethodName());\r\n\t}\r\n    }\r\n\r\nEnjoy!","title":"Get name of currently executing test in JUnit 4","body":"<p>Based on the previous comment and further considering I created an extension of TestWather which you can use in your JUnit test methods with this:</p>\n\n<pre><code>public class ImportUtilsTest {\n    private static final Logger LOGGER = Logger.getLogger(ImportUtilsTest.class);\n\n    @Rule\n    public TestWatcher testWatcher = new JUnitHelper(LOGGER);\n\n    @Test\n    public test1(){\n    ...\n    }\n}\n</code></pre>\n\n<p>The test helper class is the next:</p>\n\n<pre><code>public class JUnitHelper extends TestWatcher {\nprivate Logger LOGGER;\n\npublic JUnitHelper(Logger LOGGER) {\n    this.LOGGER = LOGGER;\n}\n\n@Override\nprotected void starting(final Description description) {\n    LOGGER.info(\"STARTED \" + description.getMethodName());\n}\n\n@Override\nprotected void succeeded(Description description) {\n    LOGGER.info(\"SUCCESSFUL \" + description.getMethodName());\n}\n\n@Override\nprotected void failed(Throwable e, Description description) {\n    LOGGER.error(\"FAILURE \" + description.getMethodName());\n}\n}\n</code></pre>\n\n<p>Enjoy!</p>\n"},{"tags":[],"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1639572290,"creation_date":1482670800,"answer_id":41321322,"question_id":473401,"body_markdown":"# JUnit 5 and higher\r\n\r\nIn **JUnit 5** you can inject `TestInfo` which simplifies test metadata injection to test methods. For example:\r\n\r\n    @Test\r\n    @DisplayName(&quot;This is my test&quot;)\r\n    @Tag(&quot;It is my tag&quot;)\r\n    void test1(TestInfo testInfo) {\r\n        assertEquals(&quot;This is my test&quot;, testInfo.getDisplayName());\r\n        assertTrue(testInfo.getTags().contains(&quot;It is my tag&quot;));\r\n    }\r\n\r\nSee more: [JUnit 5 User guide][1], [TestInfo javadoc][2].\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/\r\n  [2]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestInfo.html","title":"Get name of currently executing test in JUnit 4","body":"<h1>JUnit 5 and higher</h1>\n<p>In <strong>JUnit 5</strong> you can inject <code>TestInfo</code> which simplifies test metadata injection to test methods. For example:</p>\n<pre><code>@Test\n@DisplayName(&quot;This is my test&quot;)\n@Tag(&quot;It is my tag&quot;)\nvoid test1(TestInfo testInfo) {\n    assertEquals(&quot;This is my test&quot;, testInfo.getDisplayName());\n    assertTrue(testInfo.getTags().contains(&quot;It is my tag&quot;));\n}\n</code></pre>\n<p>See more: <a href=\"https://junit.org/junit5/docs/current/user-guide/\" rel=\"nofollow noreferrer\">JUnit 5 User guide</a>, <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/TestInfo.html\" rel=\"nofollow noreferrer\">TestInfo javadoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534090176,"creation_date":1534090176,"answer_id":51810563,"question_id":473401,"body_markdown":"In JUnit 5 [`TestInfo`][1] acts as a drop-in replacement for the TestName rule from JUnit 4.   \r\n\r\nFrom the documentation : \r\n\r\n&gt; TestInfo is used to inject information about the current test or\r\n&gt; container into to @Test, @RepeatedTest, @ParameterizedTest,\r\n&gt; @TestFactory, @BeforeEach, @AfterEach, @BeforeAll, and @AfterAll\r\n&gt; methods.\r\n\r\nTo retrieve the method name of the current executed test, you have two options :  `String TestInfo.getDisplayName()` and \r\n`Method TestInfo.getTestMethod()`.    \r\n\r\nTo retrieve only the name of the current test method  `TestInfo.getDisplayName()` may not be enough as the test method default display name is `methodName(TypeArg1, TypeArg2, ... TypeArg3)`.   \r\nDuplicating method names in `@DisplayName(&quot;..&quot;)` is not necessary a good idea.   \r\n\r\nAs alternative you could use \r\n`TestInfo.getTestMethod()` that returns a `Optional&lt;Method&gt;` object.  \r\nIf the retrieval method is used inside a test method, you don&#39;t even need to test the `Optional` wrapped value.   \r\n\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.TestInfo;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    @Test\r\n    void doThat(TestInfo testInfo) throws Exception {\r\n    \tAssertions.assertEquals(&quot;doThat(TestInfo)&quot;,testInfo.getDisplayName());\r\n    \tAssertions.assertEquals(&quot;doThat&quot;,testInfo.getTestMethod().get().getName());\r\n    }\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/TestInfo.html","title":"Get name of currently executing test in JUnit 4","body":"<p>In JUnit 5 <a href=\"https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/TestInfo.html\" rel=\"nofollow noreferrer\"><code>TestInfo</code></a> acts as a drop-in replacement for the TestName rule from JUnit 4.   </p>\n\n<p>From the documentation : </p>\n\n<blockquote>\n  <p>TestInfo is used to inject information about the current test or\n  container into to @Test, @RepeatedTest, @ParameterizedTest,\n  @TestFactory, @BeforeEach, @AfterEach, @BeforeAll, and @AfterAll\n  methods.</p>\n</blockquote>\n\n<p>To retrieve the method name of the current executed test, you have two options :  <code>String TestInfo.getDisplayName()</code> and \n<code>Method TestInfo.getTestMethod()</code>.    </p>\n\n<p>To retrieve only the name of the current test method  <code>TestInfo.getDisplayName()</code> may not be enough as the test method default display name is <code>methodName(TypeArg1, TypeArg2, ... TypeArg3)</code>.<br>\nDuplicating method names in <code>@DisplayName(\"..\")</code> is not necessary a good idea.   </p>\n\n<p>As alternative you could use \n<code>TestInfo.getTestMethod()</code> that returns a <code>Optional&lt;Method&gt;</code> object.<br>\nIf the retrieval method is used inside a test method, you don't even need to test the <code>Optional</code> wrapped value.   </p>\n\n<pre><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.TestInfo;\nimport org.junit.jupiter.api.Test;\n\n@Test\nvoid doThat(TestInfo testInfo) throws Exception {\n    Assertions.assertEquals(\"doThat(TestInfo)\",testInfo.getDisplayName());\n    Assertions.assertEquals(\"doThat\",testInfo.getTestMethod().get().getName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585228526,"creation_date":1585103157,"answer_id":60842203,"question_id":473401,"body_markdown":"JUnit 5 via ExtensionContext\r\n---------\r\n\r\n**Advantage:**\r\n\r\nYou get to have the added functionalities of `ExtensionContext` by overriding `afterEach(ExtensionContext context)`.\r\n\r\n```\r\npublic abstract class BaseTest {\r\n\r\n\tprotected WebDriver driver;\r\n\r\n\t@RegisterExtension\r\n\tAfterEachExtension afterEachExtension = new AfterEachExtension();\r\n\r\n\t@BeforeEach\r\n\tpublic void beforeEach() {\r\n\t\t// Initialise driver\r\n\t}\r\n\r\n\t@AfterEach\r\n\tpublic void afterEach() {\r\n\t\tafterEachExtension.setDriver(driver);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class AfterEachExtension implements AfterEachCallback {\r\n\r\n\tprivate WebDriver driver;\r\n\r\n\tpublic void setDriver(WebDriver driver) {\r\n\t\tthis.driver = driver;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterEach(ExtensionContext context) {\r\n\t\tString testMethodName = context.getTestMethod().orElseThrow().getName();\r\n\t\t// Attach test steps, attach scsreenshots on failure only, etc.\r\n\t\tdriver.quit();\r\n\t}\r\n\r\n}\r\n```","title":"Get name of currently executing test in JUnit 4","body":"<h2>JUnit 5 via ExtensionContext</h2>\n\n<p><strong>Advantage:</strong></p>\n\n<p>You get to have the added functionalities of <code>ExtensionContext</code> by overriding <code>afterEach(ExtensionContext context)</code>.</p>\n\n<pre><code>public abstract class BaseTest {\n\n    protected WebDriver driver;\n\n    @RegisterExtension\n    AfterEachExtension afterEachExtension = new AfterEachExtension();\n\n    @BeforeEach\n    public void beforeEach() {\n        // Initialise driver\n    }\n\n    @AfterEach\n    public void afterEach() {\n        afterEachExtension.setDriver(driver);\n    }\n\n}\n</code></pre>\n\n<pre><code>public class AfterEachExtension implements AfterEachCallback {\n\n    private WebDriver driver;\n\n    public void setDriver(WebDriver driver) {\n        this.driver = driver;\n    }\n\n    @Override\n    public void afterEach(ExtensionContext context) {\n        String testMethodName = context.getTestMethod().orElseThrow().getName();\n        // Attach test steps, attach scsreenshots on failure only, etc.\n        driver.quit();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9426911,"reputation":31,"user_id":7011561,"display_name":"James Crawford"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624410678,"creation_date":1624410678,"answer_id":68092365,"question_id":473401,"body_markdown":"I have a Junit4 test class that extends TestCase so the example with @Rule didn&#39;t work (as mentioned in other answers).\r\n\r\nHowever, if your class extends TestCase you can use getName() to get the current test name so this works:\r\n\r\n    @Before\r\n    public void setUp() {\r\n      System.out.println(&quot;Start test: &quot; + getName());\r\n    }\r\n    \r\n    @After\r\n    public void tearDown() {\r\n      System.out.println(&quot;Finish test: &quot; + getName());\r\n    }\r\n\r\n","title":"Get name of currently executing test in JUnit 4","body":"<p>I have a Junit4 test class that extends TestCase so the example with @Rule didn't work (as mentioned in other answers).</p>\n<p>However, if your class extends TestCase you can use getName() to get the current test name so this works:</p>\n<pre><code>@Before\npublic void setUp() {\n  System.out.println(&quot;Start test: &quot; + getName());\n}\n\n@After\npublic void tearDown() {\n  System.out.println(&quot;Finish test: &quot; + getName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23528295,"reputation":11,"user_id":17574416,"display_name":"Tomasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638472179,"creation_date":1638472179,"answer_id":70205195,"question_id":473401,"body_markdown":"I usually use something like this:\r\n```\r\n/** Returns text with test method name\r\n\t@param offset index of method on call stack to print, 1 for a caller of this method.\r\n\t*/\r\n\tstatic String getName(int offset)\r\n\t{ \r\n\t\tThrowable t = new Throwable();\r\n\t\tt.fillInStackTrace();\r\n\t\treturn \r\n               t.getStackTrace()[offset].getMethodName()+&quot;:&quot;+t.getStackTrace()[offset].getLineNumber(); \r\n\t};\r\n```\r\nThis is exactly what Exception do use when printing stack trace.\r\nDepending on the exact context You may have to figure out correct offset value. It is crude and primitive tough and is not using any fancy modern futures.","title":"Get name of currently executing test in JUnit 4","body":"<p>I usually use something like this:</p>\n<pre><code>/** Returns text with test method name\n    @param offset index of method on call stack to print, 1 for a caller of this method.\n    */\n    static String getName(int offset)\n    { \n        Throwable t = new Throwable();\n        t.fillInStackTrace();\n        return \n               t.getStackTrace()[offset].getMethodName()+&quot;:&quot;+t.getStackTrace()[offset].getLineNumber(); \n    };\n</code></pre>\n<p>This is exactly what Exception do use when printing stack trace.\nDepending on the exact context You may have to figure out correct offset value. It is crude and primitive tough and is not using any fancy modern futures.</p>\n"},{"tags":[],"owner":{"account_id":18428716,"reputation":77,"user_id":13424370,"display_name":"Sanjit"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673266496,"creation_date":1673266496,"answer_id":75057136,"question_id":473401,"body_markdown":"A more simpler way is to put this logic in **setUp()** and **tearDown()** methods.\\\r\nRefer below code for better clarity,\r\n\r\n    \r\n    import java.lang.reflect.Method;\r\n\r\n    @BeforeMethod\r\n    void setUp(Method method) {\r\n      log.info(&quot;###############################################&quot;);\r\n      log.info(&quot;Running Test: {}&quot;, method.getName());\r\n    }\r\n\r\n    @AfterMethod\r\n    void tearDown(Method method) {\r\n      log.info(&quot;Finished Test: {}&quot;, method.getName());\r\n        log.info(&quot;###############################################&quot;);\r\n    }\r\n\r\n\r\n    @Test\r\n    public void testMethodName() {\r\n      // Method logic implementation...\r\n    }\r\n\r\nHere is the output of above test execution,\r\n\r\n    #############################################################\r\n    Running Test: testMethodName\r\n    // Logs related to method execution...\r\n    Finished Test: testMethodName\r\n    #############################################################\r\n","title":"Get name of currently executing test in JUnit 4","body":"<p>A more simpler way is to put this logic in <strong>setUp()</strong> and <strong>tearDown()</strong> methods.<br />\nRefer below code for better clarity,</p>\n<pre><code>import java.lang.reflect.Method;\n\n@BeforeMethod\nvoid setUp(Method method) {\n  log.info(&quot;###############################################&quot;);\n  log.info(&quot;Running Test: {}&quot;, method.getName());\n}\n\n@AfterMethod\nvoid tearDown(Method method) {\n  log.info(&quot;Finished Test: {}&quot;, method.getName());\n    log.info(&quot;###############################################&quot;);\n}\n\n\n@Test\npublic void testMethodName() {\n  // Method logic implementation...\n}\n</code></pre>\n<p>Here is the output of above test execution,</p>\n<pre><code>#############################################################\nRunning Test: testMethodName\n// Logs related to method execution...\nFinished Test: testMethodName\n#############################################################\n</code></pre>\n"}],"owner":{"account_id":17822,"reputation":39726,"user_id":40310,"accept_rate":62,"display_name":"Dave Ray"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151445,"favorite_count":0,"down_vote_count":0,"up_vote_count":266,"accepted_answer_id":1426730,"answer_count":17,"score":266,"last_activity_date":1673266496,"creation_date":1232725874,"question_id":473401,"body_markdown":"In JUnit 3, I could get the name of the currently running test like this:\r\n\r\n    public class MyTest extends TestCase\r\n    {\r\n        public void testSomething()\r\n        {\r\n            System.out.println(&quot;Current test is &quot; + getName());\r\n            ...\r\n        }\r\n    }\r\n\r\nwhich would print &quot;Current test is testSomething&quot;. \r\n\r\nIs there any out-of-the-box or simple way to do this in JUnit 4?\r\n\r\nBackground: Obviously, I don&#39;t want to just print the name of the test. I want to load test-specific data that is stored in a resource with the same name as the test. You know, [convention over configuration][1] and all that.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Convention_over_Configuration","title":"Get name of currently executing test in JUnit 4","body":"<p>In JUnit 3, I could get the name of the currently running test like this:</p>\n\n<pre><code>public class MyTest extends TestCase\n{\n    public void testSomething()\n    {\n        System.out.println(\"Current test is \" + getName());\n        ...\n    }\n}\n</code></pre>\n\n<p>which would print \"Current test is testSomething\". </p>\n\n<p>Is there any out-of-the-box or simple way to do this in JUnit 4?</p>\n\n<p>Background: Obviously, I don't want to just print the name of the test. I want to load test-specific data that is stored in a resource with the same name as the test. You know, <a href=\"http://en.wikipedia.org/wiki/Convention_over_Configuration\" rel=\"noreferrer\">convention over configuration</a> and all that.</p>\n"},{"tags":["java","eclipse","tomcat","servlets","mysql-connector"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1673210013,"post_id":75051012,"comment_id":132441827,"body_markdown":"Eclipse has nothing to do with it, in spite of its many flaws.  You can&#39;t make a JDBC connection without a URL string and credentials.  This is a poor design.  You shouldn&#39;t be creating a new Connection for every request.  They take a long time to create.  Better to use a connection pool and check connections in and out of that.","body":"Eclipse has nothing to do with it, in spite of its many flaws.  You can&#39;t make a JDBC connection without a URL string and credentials.  This is a poor design.  You shouldn&#39;t be creating a new Connection for every request.  They take a long time to create.  Better to use a connection pool and check connections in and out of that."}],"answers":[{"tags":[],"owner":{"account_id":5255222,"reputation":573,"user_id":4198317,"display_name":"St&#233;phane Jeandeaux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673209606,"creation_date":1673209606,"answer_id":75051032,"question_id":75051012,"body_markdown":"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-tomcat.html\r\n\r\nYou should look at this page to install mysql driver properly in Tomcat","title":"failed connection Servlet error java and MySql","body":"<p><a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-tomcat.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-tomcat.html</a></p>\n<p>You should look at this page to install mysql driver properly in Tomcat</p>\n"}],"owner":{"account_id":24826724,"reputation":3,"user_id":18706489,"display_name":"Minor Campos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673266415,"accepted_answer_id":75051032,"answer_count":1,"score":0,"last_activity_date":1673266428,"creation_date":1673209290,"question_id":75051012,"body_markdown":"today i have a problem with servlet in java and mySql, btw i&#39;m using eclipse to write this code. The problem is that when i use the servlet to call my DAO class in tomcat, my connection to the database fails, but when i use a normal class to make a try with java compiler, the connection is good, this error is only when i use Tomcat.\r\n\r\nthis is my Servlet controller (in this the connection fails and i run this with tomcat)\r\n\r\n    public class ProductController extends HttpServlet {\r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public ProductController() {\r\n            super();\r\n        }\r\n    \r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \tProductDAO productDAO = new ProductDAO();\r\n    \tRequestDispatcher dispatcher = null;\r\n    \tString accion = request.getParameter(&quot;accion&quot;);\r\n    \t\r\n    \tif(accion == null || accion.isEmpty()) {\r\n    \t\tdispatcher = request.getRequestDispatcher(&quot;products/index.jsp&quot;);\r\n    \t\tList&lt;Product&gt; list = productDAO.getList();\r\n    \t\trequest.setAttribute(&quot;list&quot;, list);\r\n    \t}\r\n    \tdispatcher.forward(request, response);\r\n        }\r\n    \r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \tdoGet(request, response);\r\n        }\r\n    }\r\n\r\nThis is my DAO class\r\n\r\n    public class ProductDAO {\r\n        public ProductDAO() {\r\n        }\r\n    \r\n        public List&lt;Product&gt; getList() {\r\n    \tConnection_ jdbc = new Connection();\r\n    \tPreparedStatement ps;\r\n    \tResultSet rs;\r\n    \tList&lt;Product&gt; list = new ArrayList&lt;&gt;();\r\n    \t\r\n    \ttry {\r\n                ps = jdbc.getConecction().prepareStatement(&quot;SELECT * FROM products&quot;);;\r\n                rs = ps.executeQuery();\r\n                while(rs.next()) {\r\n    \t\tlist.add(new Product(rs.getInt(&quot;id&quot;), rs.getInt(&quot;stock&quot;), rs.getDouble(&quot;price&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;code&quot;)));\r\n                }\r\n                return list;\r\n    \t}catch (Exception e) {\r\n                System.out.println(&quot;Fallo en la conexion&quot;);\r\n                return null; \r\n    \t}\r\n        }\r\n    }\r\n\r\nThis is the error message\r\n\r\n[enter image description here](https://i.stack.imgur.com/eQVDj.png)\r\n\r\nThis is my Try controller\r\n\r\n    public class Controller{\r\n    \r\n        public static void main(String[] args) {\r\n    \tConnection_ jdbc = new Connection();\r\n    \tStatement statement;\r\n    \tResultSet rows;\r\n    \ttry {\r\n                statement = jdbc.getConecction().createStatement();\r\n                rows = statement.executeQuery(&quot;SELECT * FROM products&quot;);\r\n                System.out.println(&quot;Registers&quot;);\r\n                while(rows.next()) {\r\n                    System.out.println(&quot;Id &quot;+rows.getInt(&quot;stock&quot;));\r\n                }\r\n    \t} catch (Exception e) {\r\n                System.out.println(&quot;Fallo en la conexion&quot;);\r\n    \t}\r\n    }\r\n\r\nAnd this is when i use the try controller\r\n\r\n[enter image description here](https://i.stack.imgur.com/q4ZRg.png)\r\n\r\nlike i said before, in this try i am using java compiler of eclipse and i don&#39;t have the problem but, when i use tomcat again in this controller my system failes, i dont know how can i resolve it","title":"failed connection Servlet error java and MySql","body":"<p>today i have a problem with servlet in java and mySql, btw i'm using eclipse to write this code. The problem is that when i use the servlet to call my DAO class in tomcat, my connection to the database fails, but when i use a normal class to make a try with java compiler, the connection is good, this error is only when i use Tomcat.</p>\n<p>this is my Servlet controller (in this the connection fails and i run this with tomcat)</p>\n<pre><code>public class ProductController extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    public ProductController() {\n        super();\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    ProductDAO productDAO = new ProductDAO();\n    RequestDispatcher dispatcher = null;\n    String accion = request.getParameter(&quot;accion&quot;);\n    \n    if(accion == null || accion.isEmpty()) {\n        dispatcher = request.getRequestDispatcher(&quot;products/index.jsp&quot;);\n        List&lt;Product&gt; list = productDAO.getList();\n        request.setAttribute(&quot;list&quot;, list);\n    }\n    dispatcher.forward(request, response);\n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    doGet(request, response);\n    }\n}\n</code></pre>\n<p>This is my DAO class</p>\n<pre><code>public class ProductDAO {\n    public ProductDAO() {\n    }\n\n    public List&lt;Product&gt; getList() {\n    Connection_ jdbc = new Connection();\n    PreparedStatement ps;\n    ResultSet rs;\n    List&lt;Product&gt; list = new ArrayList&lt;&gt;();\n    \n    try {\n            ps = jdbc.getConecction().prepareStatement(&quot;SELECT * FROM products&quot;);;\n            rs = ps.executeQuery();\n            while(rs.next()) {\n        list.add(new Product(rs.getInt(&quot;id&quot;), rs.getInt(&quot;stock&quot;), rs.getDouble(&quot;price&quot;), rs.getString(&quot;name&quot;), rs.getString(&quot;code&quot;)));\n            }\n            return list;\n    }catch (Exception e) {\n            System.out.println(&quot;Fallo en la conexion&quot;);\n            return null; \n    }\n    }\n}\n</code></pre>\n<p>This is the error message</p>\n<p><a href=\"https://i.stack.imgur.com/eQVDj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This is my Try controller</p>\n<pre><code>public class Controller{\n\n    public static void main(String[] args) {\n    Connection_ jdbc = new Connection();\n    Statement statement;\n    ResultSet rows;\n    try {\n            statement = jdbc.getConecction().createStatement();\n            rows = statement.executeQuery(&quot;SELECT * FROM products&quot;);\n            System.out.println(&quot;Registers&quot;);\n            while(rows.next()) {\n                System.out.println(&quot;Id &quot;+rows.getInt(&quot;stock&quot;));\n            }\n    } catch (Exception e) {\n            System.out.println(&quot;Fallo en la conexion&quot;);\n    }\n}\n</code></pre>\n<p>And this is when i use the try controller</p>\n<p><a href=\"https://i.stack.imgur.com/q4ZRg.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>like i said before, in this try i am using java compiler of eclipse and i don't have the problem but, when i use tomcat again in this controller my system failes, i dont know how can i resolve it</p>\n"},{"tags":["java","simpledateformat"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1673264144,"post_id":75056668,"comment_id":132451610,"body_markdown":"I suspect the difference is some sort of overflow. Create a breakpoint and debug this to find out more. The real question is why you don&#39;t solve the actual problem and cut off the time part. And why the pattern contains 2-digit years but your input has 4-digit years.","body":"I suspect the difference is some sort of overflow. Create a breakpoint and debug this to find out more. The real question is why you don&#39;t solve the actual problem and cut off the time part. And why the pattern contains 2-digit years but your input has 4-digit years."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1673264238,"post_id":75056668,"comment_id":132451634,"body_markdown":"`ddMMyy` doesn&#39;t really match your input - but you really shouldn&#39;t be using `SimpleDateFormat` anymore and instead prefer `DateTimeFormatter` instead","body":"<code>ddMMyy</code> doesn&#39;t really match your input - but you really shouldn&#39;t be using <code>SimpleDateFormat</code> anymore and instead prefer <code>DateTimeFormatter</code> instead"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1673264331,"post_id":75056668,"comment_id":132451670,"body_markdown":"I changed it to `ddMMyyyy` and `09012022` and it works","body":"I changed it to <code>ddMMyyyy</code> and <code>09012022</code> and it works"},{"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"score":0,"creation_date":1673264498,"post_id":75056668,"comment_id":132451720,"body_markdown":"Yes, I know that SimpleDateFormat is not very good, and I know that the input doesn&#39;t match the format, and that the input is weird in the first place. This is just what I encountered in a legacy codebase, and I&#39;m simply curious to understand what&#39;s happening in the existing code, before I attempt to refactor.","body":"Yes, I know that SimpleDateFormat is not very good, and I know that the input doesn&#39;t match the format, and that the input is weird in the first place. This is just what I encountered in a legacy codebase, and I&#39;m simply curious to understand what&#39;s happening in the existing code, before I attempt to refactor."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673264533,"post_id":75056668,"comment_id":132451728,"body_markdown":"So, using `yyyy` and `2023000000000` it generates a year of `70403584` so I&#39;m &quot;assuming&quot; that&#39;s it&#39;s trying to consume  all the trailing `0`s","body":"So, using <code>yyyy</code> and <code>2023000000000</code> it generates a year of <code>70403584</code> so I&#39;m &quot;assuming&quot; that&#39;s it&#39;s trying to consume  all the trailing <code>0</code>s"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673265358,"post_id":75056668,"comment_id":132452004,"body_markdown":"If this is a bug in your legacy code and you need to fix the bug and test the code again, how much code wold you need to rewrite in order to avoid using `SimpleDateFormat` here? Certainly an option I would seriously consider.","body":"If this is a bug in your legacy code and you need to fix the bug and test the code again, how much code wold you need to rewrite in order to avoid using <code>SimpleDateFormat</code> here? Certainly an option I would seriously consider."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673265677,"post_id":75056668,"comment_id":132452116,"body_markdown":"I have reproduced. I agree with the others, though, that  if `2023` in your string is the year, then the you need `yyyy` (not `yy`) to parse it.","body":"I have reproduced. I agree with the others, though, that  if <code>2023</code> in your string is the year, then the you need <code>yyyy</code> (not <code>yy</code>) to parse it."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1673266493,"post_id":75056668,"comment_id":132452409,"body_markdown":"@jqno As a fellow dutchie, note that your legacy code is intricately bound up with fairly careless conversion between epoch-milli form and y/m/d form (GregorianCalendar and Date contain the careless code, to be clear), and very recent versions of the JVM (if you&#39;re on coretto 17, you&#39;ll have this mess, most other JDK editions don&#39;t, yet, but will soon), `Europe/Amsterdam` is broken, and any birthdates pre-1940 will shift by a day. Perhaps this disaster will let you claim the resources to fully refactor away from the legacy here.","body":"@jqno As a fellow dutchie, note that your legacy code is intricately bound up with fairly careless conversion between epoch-milli form and y/m/d form (GregorianCalendar and Date contain the careless code, to be clear), and very recent versions of the JVM (if you&#39;re on coretto 17, you&#39;ll have this mess, most other JDK editions don&#39;t, yet, but will soon), <code>Europe&#47;Amsterdam</code> is broken, and any birthdates pre-1940 will shift by a day. Perhaps this disaster will let you claim the resources to fully refactor away from the legacy here."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1673266685,"post_id":75056668,"comment_id":132452474,"body_markdown":"Which is the desired behaviour in your production code? Asking because both strings begin with `090120` , which appears to me to be correct for 9 January 2020. Are you wanting the exception or do you want parsing without exception? In the latter case, do you need to get the year correct (2023 and 2020 in your two examples)?","body":"Which is the desired behaviour in your production code? Asking because both strings begin with <code>090120</code> , which appears to me to be correct for 9 January 2020. Are you wanting the exception or do you want parsing without exception? In the latter case, do you need to get the year correct (2023 and 2020 in your two examples)?"},{"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"score":0,"creation_date":1673266810,"post_id":75056668,"comment_id":132452514,"body_markdown":"@rzwitserloot We&#39;re still stuck on Java 8 for the foreseeable future and also we&#39;re dealing with dates no earlier than 1990, so unfortunately this probably won&#39;t sway the powers that be. But thanks for the heads-up though!","body":"@rzwitserloot We&#39;re still stuck on Java 8 for the foreseeable future and also we&#39;re dealing with dates no earlier than 1990, so unfortunately this probably won&#39;t sway the powers that be. But thanks for the heads-up though!"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673266844,"post_id":75056668,"comment_id":132452531,"body_markdown":"This parses correctly since Java 9: `LocalDateTime.parse(&quot;09012020000000000&quot;, DateTimeFormatter.ofPattern(&quot;ddMMuuuuHHmmssSSS&quot;))`. Same if year is 2020 instead of 2023. In Java 8 it’s just a little more complicated.","body":"This parses correctly since Java 9: <code>LocalDateTime.parse(&quot;09012020000000000&quot;, DateTimeFormatter.ofPattern(&quot;ddMMuuuuHHmmssSSS&quot;))</code>. Same if year is 2020 instead of 2023. In Java 8 it’s just a little more complicated."},{"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"score":2,"creation_date":1673266958,"post_id":75056668,"comment_id":132452574,"body_markdown":"@OleV.V. Fun fact, the desired behaviour in this case is the exception, which will cause the parser to fall-through to a second date format to attempt, which uses yyyy instead of yy. I honestly can&#39;t think of a better example for programming-by-coincidence than this.","body":"@OleV.V. Fun fact, the desired behaviour in this case is the exception, which will cause the parser to fall-through to a second date format to attempt, which uses yyyy instead of yy. I honestly can&#39;t think of a better example for programming-by-coincidence than this."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673268858,"post_id":75056668,"comment_id":132453248,"body_markdown":"So the quick fix would be to throw the exception manually regardless of the string you get (not knowing the rest of your code it’s hard for me to tell whether there is a better solution, I hope there is).","body":"So the quick fix would be to throw the exception manually regardless of the string you get (not knowing the rest of your code it’s hard for me to tell whether there is a better solution, I hope there is)."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1673270759,"post_id":75056668,"comment_id":132454029,"body_markdown":"@jqno for what its worth, if you want &#39;least impact&#39;, you could clone `SimpleDateFormat` and replace line 1940 in `SimpleDateFormat`, which reads: `value = number.intValue();` with `value =  number.longValue() &gt; Integer.MAX_VALUE ? -1 : number.intValue();`, and use this cloned copy...","body":"@jqno for what its worth, if you want &#39;least impact&#39;, you could clone <code>SimpleDateFormat</code> and replace line 1940 in <code>SimpleDateFormat</code>, which reads: <code>value = number.intValue();</code> with <code>value =  number.longValue() &gt; Integer.MAX_VALUE ? -1 : number.intValue();</code>, and use this cloned copy..."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1673266207,"creation_date":1673265810,"answer_id":75057000,"question_id":75056668,"body_markdown":"The reason is integer overflow. But seriously, fix the legacy code.\r\n\r\n```\r\njshell&gt; (int)9012023000000000L\r\n$1 ==&gt; 496985600\r\n\r\njshell&gt; (int)9012022000000000L\r\n$2 ==&gt; -503014400\r\n```\r\n\r\nA negative year is out of range for the year component. A crazy large year is still considered valid.\r\n\r\nSet a breakpoint on [line 1543 of SimpleDateFormat.java](https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/text/SimpleDateFormat.java#L1543). The exception itself is thrown in [Line 2583 of GregorianCalendar.java](https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/GregorianCalendar.java#L2583):\r\n\r\n&gt;     for (int field = 0; field &lt; FIELD_COUNT; field++) {\r\n&gt;         int value = internalGet(field);\r\n&gt;         if (isExternallySet(field)) {\r\n&gt;             // Quick validation for any out of range values\r\n&gt;             if (value &lt; getMinimum(field) || value &gt; getMaximum(field)) {\r\n&gt;                 throw new IllegalArgumentException(getFieldName(field));\r\n&gt;             }\r\n&gt;         }\r\n&gt;         originalFields[field] = value;\r\n&gt;     }\r\n\r\nThe actual &quot;year&quot; value that ends up in this method is `-929596416` (`(int)2022000000000L`). Year 2023 does not throw because the long value coerced into an integer ends up being `70403584` – which is allowed. The GregorianCalendar rejects values smaller than 1 (`&lt; 1`) and greater than 292278994 (`&gt; 292278994`).","title":"SimpleDateFormat succeeds or throws depending on year number","body":"<p>The reason is integer overflow. But seriously, fix the legacy code.</p>\n<pre><code>jshell&gt; (int)9012023000000000L\n$1 ==&gt; 496985600\n\njshell&gt; (int)9012022000000000L\n$2 ==&gt; -503014400\n</code></pre>\n<p>A negative year is out of range for the year component. A crazy large year is still considered valid.</p>\n<p>Set a breakpoint on <a href=\"https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/text/SimpleDateFormat.java#L1543\" rel=\"nofollow noreferrer\">line 1543 of SimpleDateFormat.java</a>. The exception itself is thrown in <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/GregorianCalendar.java#L2583\" rel=\"nofollow noreferrer\">Line 2583 of GregorianCalendar.java</a>:</p>\n<blockquote>\n<pre><code>for (int field = 0; field &lt; FIELD_COUNT; field++) {\n    int value = internalGet(field);\n    if (isExternallySet(field)) {\n        // Quick validation for any out of range values\n        if (value &lt; getMinimum(field) || value &gt; getMaximum(field)) {\n            throw new IllegalArgumentException(getFieldName(field));\n        }\n    }\n    originalFields[field] = value;\n}\n</code></pre>\n</blockquote>\n<p>The actual &quot;year&quot; value that ends up in this method is <code>-929596416</code> (<code>(int)2022000000000L</code>). Year 2023 does not throw because the long value coerced into an integer ends up being <code>70403584</code> – which is allowed. The GregorianCalendar rejects values smaller than 1 (<code>&lt; 1</code>) and greater than 292278994 (<code>&gt; 292278994</code>).</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1673266378,"creation_date":1673265968,"answer_id":75057035,"question_id":75056668,"body_markdown":"OBVIOUS ANSWER: Get rid of this obsolete crud that never worked properly and do it right.\r\n\r\n## Let&#39;s first explain this result\r\n\r\nI&#39;m not sure why, but you wanted to know why this happens. I dived into the source of `SimpleDateFormat` for you.\r\n\r\nGiven that the `yy` part is the last, it takes all remaining digits. Thus, the `&quot;2022000000000&quot;` part of the string is parsed into a `Long` of value `2022000000000`. This is then immediately converted to an `int`, and that&#39;s quite problematic; `2022000000000` overflows and turns into int value `-929596416`. A standard `java.text.CalendarBuilder` instance is then told to set its `YEAR` field to that value (-929596416). Which is fine.\r\n\r\nWhen parsing is done, that builder is asked to produce a `GregorianCalendar` value. This doesn&#39;t work - the GregorianCalendar accepts -929596416 as YEAR value just fine, but `SimpleDateFormat` then asks this GregCal instance to calculate the time in millis since the epoch, and __that__ fails; an exception throws an exception indicating this. This exception is caught by the SimpleDateFormat code and results in the `Unparseable date` exception that you are getting.\r\n\r\nWith 2023, you get the same effect: That is turned into an `int` without checking if it overflows; that overflows just the same, and results in int value `70403584`. __GregorianCalendar DOES accept this year__. This then results in what you saw: Year 70403584 - which is explained as follows:\r\n\r\n```\r\nlong y = 2023000000000L;\r\nint i = (int) y;\r\nSystem.out.println(i); // prints 70403584\r\n```\r\n\r\nA deeper dive then is: Why is 70403584 fine, and -929596416 isn&#39;t?\r\n\r\nMostly, &#39;because&#39;. The GregCal internal methods `getMinimum(field)` and `getMaximum(field)`, when passing the YEAR field (constant value 1) are respectively 1 and 292278994. That means 70403584 is accepted, and -929596416 is not. You told it to be non-lenient. &quot;Lenient&quot; here (the old `j.u.Calendar` stuff) is mostly a silly concept (trying to define what is acceptable in non-lenient mode is virtually impossible. Various utterly ridiculous dates nevertheless are acceptable even in non-lenient mode).\r\n\r\nWe can verify this:\r\n\r\n```\r\nGregorianCalendar cal = new GregorianCalendar();\r\ncal.setLenient(false);\r\ncal.set(Calendar.YEAR, -5);\r\nSystem.out.println(cal.getTime());\r\n```\r\n\r\ngives you:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: YEAR\r\n\tat java.base/java.util.GregorianCalendar.computeTime(GregorianCalendar.java:2609)\r\n\tat java.base/java.util.Calendar.updateTime(Calendar.java:3411)\r\n\tat java.base/java.util.Calendar.getTimeInMillis(Calendar.java:1805)\r\n\tat java.base/java.util.Calendar.getTime(Calendar.java:1776)\r\n```\r\n\r\n__THE EXECUTIVE CONCLUSION__: If you were expecting lenient mode to reject these patterns, I have some nasty news for you: non-lenient mode __does not work and never did__ and you should not be relying on it. Specifically here, overflows are not checked (you&#39;d think that in non-lenient mode, any overflow of any value means the value is rejected, but, alas), and 2023000000000 so happens to overflow into a ridiculous but nevertheless, acceptable (even in non-lenient) year, whereas 2022000000000 does not.\r\n\r\n## So how do you fix this?\r\n\r\nYou can&#39;t. SimpleDateFormat and GregorianCalendar are horrible API and broken implementations. The only fix is to ditch it. Use `java.time`. Make a new formatter using `java.time.DateTimeFormatter`, parse this value into a `LocalDate`, and go from there. You&#39;ll solve a whole host of timezone related craziness on the fly, too! (Because `java.util.Date` is lying and doesn&#39;t represent dates. It represents instants, hence why `.getYear()` and company are deprecated, because you can&#39;t ask an instant for a year without a timezone, and Date doesn&#39;t have one. Calendar is intricately interwoven with it all - hence, storing dates on one timezone and reading them on another causes wonkiness. LocalDate avoids all that).\r\n\r\nEDIT: As a fellow dutchie, note that the most recent JDKs break the `Europe/Amsterdam` timezone (grumble grumble OpenJDK team doesn&#39;t understand what damage they are causing) - which means any conversion between epoch-millis and base dates is extra problematic for software running in dutch locales. For example, if you are storing birthdates and you dip through conversion like this, __everybody born before 1940 will break__ and their birthday will shift by a day. `LocalDate` avoids this by never storing anything as epoch-millis in the first place.\r\n","title":"SimpleDateFormat succeeds or throws depending on year number","body":"<p>OBVIOUS ANSWER: Get rid of this obsolete crud that never worked properly and do it right.</p>\n<h2>Let's first explain this result</h2>\n<p>I'm not sure why, but you wanted to know why this happens. I dived into the source of <code>SimpleDateFormat</code> for you.</p>\n<p>Given that the <code>yy</code> part is the last, it takes all remaining digits. Thus, the <code>&quot;2022000000000&quot;</code> part of the string is parsed into a <code>Long</code> of value <code>2022000000000</code>. This is then immediately converted to an <code>int</code>, and that's quite problematic; <code>2022000000000</code> overflows and turns into int value <code>-929596416</code>. A standard <code>java.text.CalendarBuilder</code> instance is then told to set its <code>YEAR</code> field to that value (-929596416). Which is fine.</p>\n<p>When parsing is done, that builder is asked to produce a <code>GregorianCalendar</code> value. This doesn't work - the GregorianCalendar accepts -929596416 as YEAR value just fine, but <code>SimpleDateFormat</code> then asks this GregCal instance to calculate the time in millis since the epoch, and <strong>that</strong> fails; an exception throws an exception indicating this. This exception is caught by the SimpleDateFormat code and results in the <code>Unparseable date</code> exception that you are getting.</p>\n<p>With 2023, you get the same effect: That is turned into an <code>int</code> without checking if it overflows; that overflows just the same, and results in int value <code>70403584</code>. <strong>GregorianCalendar DOES accept this year</strong>. This then results in what you saw: Year 70403584 - which is explained as follows:</p>\n<pre><code>long y = 2023000000000L;\nint i = (int) y;\nSystem.out.println(i); // prints 70403584\n</code></pre>\n<p>A deeper dive then is: Why is 70403584 fine, and -929596416 isn't?</p>\n<p>Mostly, 'because'. The GregCal internal methods <code>getMinimum(field)</code> and <code>getMaximum(field)</code>, when passing the YEAR field (constant value 1) are respectively 1 and 292278994. That means 70403584 is accepted, and -929596416 is not. You told it to be non-lenient. &quot;Lenient&quot; here (the old <code>j.u.Calendar</code> stuff) is mostly a silly concept (trying to define what is acceptable in non-lenient mode is virtually impossible. Various utterly ridiculous dates nevertheless are acceptable even in non-lenient mode).</p>\n<p>We can verify this:</p>\n<pre><code>GregorianCalendar cal = new GregorianCalendar();\ncal.setLenient(false);\ncal.set(Calendar.YEAR, -5);\nSystem.out.println(cal.getTime());\n</code></pre>\n<p>gives you:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: YEAR\n    at java.base/java.util.GregorianCalendar.computeTime(GregorianCalendar.java:2609)\n    at java.base/java.util.Calendar.updateTime(Calendar.java:3411)\n    at java.base/java.util.Calendar.getTimeInMillis(Calendar.java:1805)\n    at java.base/java.util.Calendar.getTime(Calendar.java:1776)\n</code></pre>\n<p><strong>THE EXECUTIVE CONCLUSION</strong>: If you were expecting lenient mode to reject these patterns, I have some nasty news for you: non-lenient mode <strong>does not work and never did</strong> and you should not be relying on it. Specifically here, overflows are not checked (you'd think that in non-lenient mode, any overflow of any value means the value is rejected, but, alas), and 2023000000000 so happens to overflow into a ridiculous but nevertheless, acceptable (even in non-lenient) year, whereas 2022000000000 does not.</p>\n<h2>So how do you fix this?</h2>\n<p>You can't. SimpleDateFormat and GregorianCalendar are horrible API and broken implementations. The only fix is to ditch it. Use <code>java.time</code>. Make a new formatter using <code>java.time.DateTimeFormatter</code>, parse this value into a <code>LocalDate</code>, and go from there. You'll solve a whole host of timezone related craziness on the fly, too! (Because <code>java.util.Date</code> is lying and doesn't represent dates. It represents instants, hence why <code>.getYear()</code> and company are deprecated, because you can't ask an instant for a year without a timezone, and Date doesn't have one. Calendar is intricately interwoven with it all - hence, storing dates on one timezone and reading them on another causes wonkiness. LocalDate avoids all that).</p>\n<p>EDIT: As a fellow dutchie, note that the most recent JDKs break the <code>Europe/Amsterdam</code> timezone (grumble grumble OpenJDK team doesn't understand what damage they are causing) - which means any conversion between epoch-millis and base dates is extra problematic for software running in dutch locales. For example, if you are storing birthdates and you dip through conversion like this, <strong>everybody born before 1940 will break</strong> and their birthday will shift by a day. <code>LocalDate</code> avoids this by never storing anything as epoch-millis in the first place.</p>\n"}],"owner":{"account_id":43702,"reputation":15263,"user_id":127863,"accept_rate":93,"display_name":"jqno"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":75057035,"answer_count":2,"score":4,"last_activity_date":1673266378,"creation_date":1673263927,"question_id":75056668,"body_markdown":"I&#39;m working with legacy code that tries to parse dates that include an optional time component that&#39;s usually padded with zeroes, using the a format string `ddMMyy` that doesn&#39;t really match the input. In the spirit of true legacy code, nobody ever bothered to clean it up because it accidentally does what it&#39;s supposed to do. Except, in 2023, it no longer does.\r\n\r\nHere&#39;s a (drastically simplified) version of the code:\r\n\r\n```java\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\n\r\npublic class WeirdDateFormat {\r\n    public static void main(String...args) throws ParseException {\r\n        var df = new SimpleDateFormat(&quot;ddMMyy&quot;);\r\n        df.setLenient(false);\r\n\r\n        System.out.println(df.parse(&quot;09012023000000000&quot;));\r\n        System.out.println(df.parse(&quot;09012022000000000&quot;));\r\n    }\r\n}\r\n```\r\n\r\nIt prints:\r\n\r\n```\r\nMon Jan 09 00:00:00 CET 70403584\r\nException in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;09012022000000000&quot;\r\n\tat java.base/java.text.DateFormat.parse(DateFormat.java:399)\r\n\tat WeirdDateFormat.main(WeirdDateFormat.java:10)\r\n```\r\n\r\nIn other words, the first date (9 January 2023) parses fine, but gives a date with the year 70403584.\r\nThe second date (9 January 2022) fails to parse and throws an exception.\r\n\r\n(If we set lenient to `true`, the second date doesn&#39;t throw but ends up in the year 239492593.)\r\n\r\nWTF is happening here? Why does it sometimes fail to parse, and sometimes not? And where do these bizarre year numbers come from?\r\n\r\n(Found the issue in production running Java 8, but the behaviour on Java 17 is the same.)\r\n\r\n\r\n**EDIT** Yes, I know, I know, I must fix the legacy code. No need to keep telling me, you&#39;re preaching to the choir! Unfortunately, my drastically simplified version of the code doesn&#39;t show you all the other legacy defects of the code base that *also* have to be addressed. I just want to understand what&#39;s going on here so I&#39;ll be better informed when I actually do refactor this code.","title":"SimpleDateFormat succeeds or throws depending on year number","body":"<p>I'm working with legacy code that tries to parse dates that include an optional time component that's usually padded with zeroes, using the a format string <code>ddMMyy</code> that doesn't really match the input. In the spirit of true legacy code, nobody ever bothered to clean it up because it accidentally does what it's supposed to do. Except, in 2023, it no longer does.</p>\n<p>Here's a (drastically simplified) version of the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\n\npublic class WeirdDateFormat {\n    public static void main(String...args) throws ParseException {\n        var df = new SimpleDateFormat(&quot;ddMMyy&quot;);\n        df.setLenient(false);\n\n        System.out.println(df.parse(&quot;09012023000000000&quot;));\n        System.out.println(df.parse(&quot;09012022000000000&quot;));\n    }\n}\n</code></pre>\n<p>It prints:</p>\n<pre><code>Mon Jan 09 00:00:00 CET 70403584\nException in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;09012022000000000&quot;\n    at java.base/java.text.DateFormat.parse(DateFormat.java:399)\n    at WeirdDateFormat.main(WeirdDateFormat.java:10)\n</code></pre>\n<p>In other words, the first date (9 January 2023) parses fine, but gives a date with the year 70403584.\nThe second date (9 January 2022) fails to parse and throws an exception.</p>\n<p>(If we set lenient to <code>true</code>, the second date doesn't throw but ends up in the year 239492593.)</p>\n<p>WTF is happening here? Why does it sometimes fail to parse, and sometimes not? And where do these bizarre year numbers come from?</p>\n<p>(Found the issue in production running Java 8, but the behaviour on Java 17 is the same.)</p>\n<p><strong>EDIT</strong> Yes, I know, I know, I must fix the legacy code. No need to keep telling me, you're preaching to the choir! Unfortunately, my drastically simplified version of the code doesn't show you all the other legacy defects of the code base that <em>also</em> have to be addressed. I just want to understand what's going on here so I'll be better informed when I actually do refactor this code.</p>\n"},{"tags":["java","spring-boot","egit","jgit"],"owner":{"account_id":26552899,"reputation":11,"user_id":20181950,"display_name":"Rocky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673265760,"creation_date":1673265084,"question_id":75056869,"body_markdown":"Hi i created a branch and added some files on that and checked out that branch after that if I try pushing the branch it is not pushed to remote only inital commit gets pushed each and everytime \r\n\r\nHere is the code \r\n```\r\n\r\n    private void remotePush(GitDto gitDto, CredentialsProvider credential, File destination)\r\n    {\r\n        try (Repository repository = repositoryBuilder(destination)) {\r\n            try (Git git = Git.open(destination)) {\r\n                git.checkout().setName(gitDto.getBranchName()).call(); git.commit().setAll(true).setMessage(gitDto.getCommitMessage()).call();\r\n                git.push().setRemote(&quot;origin&quot;).setCredentialsProvider(credential)\r\n                   .setRefSpecs(new RefSpec(gitDto.getBranchName() + &quot;:&quot; + gitDto.getBranchName()))\r\n                    .call();\r\n            } catch (RefNotFoundException e)\r\n            {\r\n                throw new RuntimeException(e);\r\n            }\r\n            catch (RefAlreadyExistsException e)\r\n            {\r\n                throw new RuntimeException(e);\r\n            }\r\n            catch (InvalidRefNameException e)\r\n            {\r\n                throw new RuntimeException(e);\r\n            }\r\n            catch (CheckoutConflictException e)\r\n            {\r\n                throw new RuntimeException(e);\r\n            }\r\n            catch (GitAPIException e) { throw new RuntimeException(e); }\r\n        } catch (IOException e) { throw new RuntimeException(e); }\r\n    }\r\n```\r\nThanks in advance ","title":"Issue while pushing branch into remote (jgit)","body":"<p>Hi i created a branch and added some files on that and checked out that branch after that if I try pushing the branch it is not pushed to remote only inital commit gets pushed each and everytime</p>\n<p>Here is the code</p>\n<pre><code>\n    private void remotePush(GitDto gitDto, CredentialsProvider credential, File destination)\n    {\n        try (Repository repository = repositoryBuilder(destination)) {\n            try (Git git = Git.open(destination)) {\n                git.checkout().setName(gitDto.getBranchName()).call(); git.commit().setAll(true).setMessage(gitDto.getCommitMessage()).call();\n                git.push().setRemote(&quot;origin&quot;).setCredentialsProvider(credential)\n                   .setRefSpecs(new RefSpec(gitDto.getBranchName() + &quot;:&quot; + gitDto.getBranchName()))\n                    .call();\n            } catch (RefNotFoundException e)\n            {\n                throw new RuntimeException(e);\n            }\n            catch (RefAlreadyExistsException e)\n            {\n                throw new RuntimeException(e);\n            }\n            catch (InvalidRefNameException e)\n            {\n                throw new RuntimeException(e);\n            }\n            catch (CheckoutConflictException e)\n            {\n                throw new RuntimeException(e);\n            }\n            catch (GitAPIException e) { throw new RuntimeException(e); }\n        } catch (IOException e) { throw new RuntimeException(e); }\n    }\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","xml","scaling","proportions"],"owner":{"account_id":27471919,"reputation":47,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673265663,"creation_date":1673263662,"question_id":75056617,"body_markdown":"I am trying to create a calculator app on android studio but I can&#39;t figure out how to adjust the numbers which users types into the calculator and which are shown on their screen according to their screen size. I want the numbers to have enough space for longer equations and also for everything to look proportional. I have tried adding textview autosize to my code:\r\n\r\n\r\n```\r\napp:autoSizeTextType=&quot;uniform&quot;\r\n        app:autoSizeMinTextSize=&quot;12sp&quot;\r\n        app:autoSizeMaxTextSize=&quot;55sp&quot;\r\n        android:autoSizeStepGranularity=&quot;2sp&quot;\r\n```\r\n\r\nbut this does not adjust the text size according to the screen size. \r\n\r\nWhat is the most appropriate code to add to my app to solve this problem?\r\n\r\nHere is the code for my output section.\r\n\r\n\r\n```\r\n&lt;TextView\r\n        android:id=&quot;@+id/tvmain&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:background=&quot;#000&quot;\r\n        android:text=&quot;&quot;\r\n        android:textColor=&quot;#fff&quot;\r\n        app:autoSizeTextType=&quot;uniform&quot;\r\n        app:autoSizeMinTextSize=&quot;12sp&quot;\r\n        app:autoSizeMaxTextSize=&quot;55sp&quot;\r\n        android:autoSizeStepGranularity=&quot;2sp&quot;\r\n        android:textAlignment=&quot;viewEnd&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:gravity=&quot;bottom&quot;\r\n        android:maxLines=&quot;1&quot;\r\n        android:layout_weight=&quot;2&quot;&gt;\r\n        \r\n\r\n    &lt;/TextView&gt;\r\n```\r\n\r\n\r\nIf anymore information is needed to help me in solving this problem then please let me know.","title":"How do I scale text according to screen size in android studio?","body":"<p>I am trying to create a calculator app on android studio but I can't figure out how to adjust the numbers which users types into the calculator and which are shown on their screen according to their screen size. I want the numbers to have enough space for longer equations and also for everything to look proportional. I have tried adding textview autosize to my code:</p>\n<pre><code>app:autoSizeTextType=&quot;uniform&quot;\n        app:autoSizeMinTextSize=&quot;12sp&quot;\n        app:autoSizeMaxTextSize=&quot;55sp&quot;\n        android:autoSizeStepGranularity=&quot;2sp&quot;\n</code></pre>\n<p>but this does not adjust the text size according to the screen size.</p>\n<p>What is the most appropriate code to add to my app to solve this problem?</p>\n<p>Here is the code for my output section.</p>\n<pre><code>&lt;TextView\n        android:id=&quot;@+id/tvmain&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:background=&quot;#000&quot;\n        android:text=&quot;&quot;\n        android:textColor=&quot;#fff&quot;\n        app:autoSizeTextType=&quot;uniform&quot;\n        app:autoSizeMinTextSize=&quot;12sp&quot;\n        app:autoSizeMaxTextSize=&quot;55sp&quot;\n        android:autoSizeStepGranularity=&quot;2sp&quot;\n        android:textAlignment=&quot;viewEnd&quot;\n        android:padding=&quot;10dp&quot;\n        android:gravity=&quot;bottom&quot;\n        android:maxLines=&quot;1&quot;\n        android:layout_weight=&quot;2&quot;&gt;\n        \n\n    &lt;/TextView&gt;\n</code></pre>\n<p>If anymore information is needed to help me in solving this problem then please let me know.</p>\n"},{"tags":["java","multithreading","concurrency","java-threads"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673259617,"post_id":75055627,"comment_id":132450131,"body_markdown":"There’s no sense in creating new threads manually, only to call `executor.submit(…);` The purpose of `submit` is to execute the task according to the executor’s policy, e.g. to run the task in another thread of a thread pool. Wrapping the `submit` call in another thread is a waste of resources. Just execute the `submit` calls directy.","body":"There’s no sense in creating new threads manually, only to call <code>executor.submit(…);</code> The purpose of <code>submit</code> is to execute the task according to the executor’s policy, e.g. to run the task in another thread of a thread pool. Wrapping the <code>submit</code> call in another thread is a waste of resources. Just execute the <code>submit</code> calls directy."},{"owner":{"account_id":25288091,"reputation":33,"user_id":19114669,"display_name":"Jetski111"},"score":0,"creation_date":1673263551,"post_id":75055627,"comment_id":132451404,"body_markdown":"@Holger new threads will be coming in randomly from clients. This was to simulate that.","body":"@Holger new threads will be coming in randomly from clients. This was to simulate that."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1673263754,"post_id":75055627,"comment_id":132451475,"body_markdown":"Don’t use the word “thread” when you mean “task” or “job”. You don’t not submit threads to an executor, you submit `Runnable`s which encapsulate a task. The `executor` decides how to map the tasks to threads. The caller thread of the `submit` call is entirely irrelevant.","body":"Don’t use the word “thread” when you mean “task” or “job”. You don’t not submit threads to an executor, you submit <code>Runnable</code>s which encapsulate a task. The <code>executor</code> decides how to map the tasks to threads. The caller thread of the <code>submit</code> call is entirely irrelevant."},{"owner":{"account_id":25288091,"reputation":33,"user_id":19114669,"display_name":"Jetski111"},"score":0,"creation_date":1673264016,"post_id":75055627,"comment_id":132451562,"body_markdown":"@Holger Is a task not on a separate thread...? I&#39;m unsure how this is even relevant towards my question?","body":"@Holger Is a task not on a separate thread...? I&#39;m unsure how this is even relevant towards my question?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673264611,"post_id":75055627,"comment_id":132451767,"body_markdown":"It depends on the particular executor, how each job maps to a thread. You entire question is based on the assumption that *not* every task gets a separate thread but that there are *less* threads than tasks (otherwise, there would be no problem in blocking threads). This is indeed not the most important aspect of the question, but using the right terms may be helpful for future readers.","body":"It depends on the particular executor, how each job maps to a thread. You entire question is based on the assumption that <i>not</i> every task gets a separate thread but that there are <i>less</i> threads than tasks (otherwise, there would be no problem in blocking threads). This is indeed not the most important aspect of the question, but using the right terms may be helpful for future readers."},{"owner":{"account_id":25288091,"reputation":33,"user_id":19114669,"display_name":"Jetski111"},"score":0,"creation_date":1673265295,"post_id":75055627,"comment_id":132451984,"body_markdown":"@Holger if it seems as though I am making that assumption. It is simply because I don&#39;t know how to explain the issue myself. Did my edit explain it better?","body":"@Holger if it seems as though I am making that assumption. It is simply because I don&#39;t know how to explain the issue myself. Did my edit explain it better?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673268912,"post_id":75055627,"comment_id":132453269,"body_markdown":"Yes, that’s better. I hope, the answer helps you. Let me know if there’s still a problem.","body":"Yes, that’s better. I hope, the answer helps you. Let me know if there’s still a problem."},{"owner":{"account_id":25288091,"reputation":33,"user_id":19114669,"display_name":"Jetski111"},"score":0,"creation_date":1673269809,"post_id":75055627,"comment_id":132453613,"body_markdown":"@Holger it helped me and I have already implemented the ideas into my project. I thank you very much","body":"@Holger it helped me and I have already implemented the ideas into my project. I thank you very much"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673264446,"creation_date":1673264446,"answer_id":75056757,"question_id":75055627,"body_markdown":"To avoid blocking a thread, you have to ensure that the action doesn’t even run before the other. For example, you can use a `CompletableFuture` to chain an action, to be scheduled when the previous has been completed:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    ExecutorService es = Executors.newFixedThreadPool(2);\r\n    for(int i = 0; i &lt; 5; i++) submit(&quot;one&quot;, task(&quot;one&quot;), es);\r\n    for(int i = 0; i &lt; 5; i++) submit(&quot;two&quot;, task(&quot;two&quot;), es);\r\n    LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(26));\r\n    es.shutdown();\r\n}\r\n\r\nstatic Runnable task(String x) {\r\n    return () -&gt; {\r\n        System.out.println(x);\r\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\r\n    };\r\n}\r\n\r\nstatic final ConcurrentHashMap&lt;String, CompletableFuture&lt;Void&gt;&gt; MAP\r\n    = new ConcurrentHashMap&lt;&gt;();\r\n\r\nstatic final void submit(String key, Runnable task, Executor e) {\r\n    CompletableFuture&lt;Void&gt; job = MAP.compute(key,\r\n        (k, previous) -&gt; previous != null?\r\n            previous.thenRunAsync(task, e): CompletableFuture.runAsync(task, e));\r\n    job.whenComplete((v,t) -&gt; MAP.remove(key, job));\r\n}\r\n```\r\n\r\nThe `ConcurrentHashMap` allows us to handle the cases as atomic updates\r\n\r\n - If no previous future exists for a key, just schedule the action, creating the future\r\n\r\n - If a previous future exists, chain the action, to be scheduled when the previous completed; the dependent action becomes the new future\r\n\r\n - If a job completed, the two-arg `remove(key, job)` will remove it if and only if it is still the current job\r\n\r\nThe example in the `main` method demonstrates how two independent actions can run with a thread pool of two threads, never blocking at thread.\r\n","title":"Prevent thread blocking queued threads","body":"<p>To avoid blocking a thread, you have to ensure that the action doesn’t even run before the other. For example, you can use a <code>CompletableFuture</code> to chain an action, to be scheduled when the previous has been completed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    ExecutorService es = Executors.newFixedThreadPool(2);\n    for(int i = 0; i &lt; 5; i++) submit(&quot;one&quot;, task(&quot;one&quot;), es);\n    for(int i = 0; i &lt; 5; i++) submit(&quot;two&quot;, task(&quot;two&quot;), es);\n    LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(26));\n    es.shutdown();\n}\n\nstatic Runnable task(String x) {\n    return () -&gt; {\n        System.out.println(x);\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\n    };\n}\n\nstatic final ConcurrentHashMap&lt;String, CompletableFuture&lt;Void&gt;&gt; MAP\n    = new ConcurrentHashMap&lt;&gt;();\n\nstatic final void submit(String key, Runnable task, Executor e) {\n    CompletableFuture&lt;Void&gt; job = MAP.compute(key,\n        (k, previous) -&gt; previous != null?\n            previous.thenRunAsync(task, e): CompletableFuture.runAsync(task, e));\n    job.whenComplete((v,t) -&gt; MAP.remove(key, job));\n}\n</code></pre>\n<p>The <code>ConcurrentHashMap</code> allows us to handle the cases as atomic updates</p>\n<ul>\n<li><p>If no previous future exists for a key, just schedule the action, creating the future</p>\n</li>\n<li><p>If a previous future exists, chain the action, to be scheduled when the previous completed; the dependent action becomes the new future</p>\n</li>\n<li><p>If a job completed, the two-arg <code>remove(key, job)</code> will remove it if and only if it is still the current job</p>\n</li>\n</ul>\n<p>The example in the <code>main</code> method demonstrates how two independent actions can run with a thread pool of two threads, never blocking at thread.</p>\n"}],"owner":{"account_id":25288091,"reputation":33,"user_id":19114669,"display_name":"Jetski111"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75056757,"answer_count":1,"score":3,"last_activity_date":1673265451,"creation_date":1673258395,"question_id":75055627,"body_markdown":"I have a task that will run many times with different values. I&#39;d like to prevent it from executing 2 of the same tasks (Based on the string value) at the same time. Below is an example of the strings. These values will change, but for simplicity I have included these values below in the example. I submit these tasks via an `ExecutorService` The tasks run, but the 2nd hi blocks the other tasks from running. So 4/5 tasks run concurrently. Once the lock is released from the first hi the 5th tasks continues and the other tasks continue fine. Is there a way to prevent this type of blocking of the task so that the other 3 tasks can run before it so there is no queuing until there is actually 5 tasks running concurrently. \r\n\r\nSubmission of the tasks:\r\n\r\n```\r\nexecutor.submit(new Task(&quot;hi&quot;));\r\nexecutor.submit(new Task(&quot;h&quot;));\r\nexecutor.submit(new Task(&quot;u&quot;));\r\nexecutor.submit(new Task(&quot;y&quot;));\r\nexecutor.submit(new Task(&quot;hi&quot;));\r\nexecutor.submit(new Task(&quot;p&quot;));\r\nexecutor.submit(new Task(&quot;o&quot;));\r\nexecutor.submit(new Task(&quot;bb&quot;));\r\n```\r\nThe Task is simple. It just prints out the string:\r\n```\r\nLock l = getLock(x);\r\ntry {\r\nl.lock();\r\n\r\nSystem.out.println(x);\r\n\r\ntry {\r\nThread.sleep(5000);\r\n} catch (InterruptedException ex) {\r\nLogger.getLogger(Task.class.getName()).log(Level.SEVERE, null, ex);\r\n}\r\n\r\n} finally {\r\nl.unlock();\r\n\r\n}\r\n```\r\n\r\n\r\nI&#39;ve updated the post to allow for things to be more clearly understood... ","title":"Prevent thread blocking queued threads","body":"<p>I have a task that will run many times with different values. I'd like to prevent it from executing 2 of the same tasks (Based on the string value) at the same time. Below is an example of the strings. These values will change, but for simplicity I have included these values below in the example. I submit these tasks via an <code>ExecutorService</code> The tasks run, but the 2nd hi blocks the other tasks from running. So 4/5 tasks run concurrently. Once the lock is released from the first hi the 5th tasks continues and the other tasks continue fine. Is there a way to prevent this type of blocking of the task so that the other 3 tasks can run before it so there is no queuing until there is actually 5 tasks running concurrently.</p>\n<p>Submission of the tasks:</p>\n<pre><code>executor.submit(new Task(&quot;hi&quot;));\nexecutor.submit(new Task(&quot;h&quot;));\nexecutor.submit(new Task(&quot;u&quot;));\nexecutor.submit(new Task(&quot;y&quot;));\nexecutor.submit(new Task(&quot;hi&quot;));\nexecutor.submit(new Task(&quot;p&quot;));\nexecutor.submit(new Task(&quot;o&quot;));\nexecutor.submit(new Task(&quot;bb&quot;));\n</code></pre>\n<p>The Task is simple. It just prints out the string:</p>\n<pre><code>Lock l = getLock(x);\ntry {\nl.lock();\n\nSystem.out.println(x);\n\ntry {\nThread.sleep(5000);\n} catch (InterruptedException ex) {\nLogger.getLogger(Task.class.getName()).log(Level.SEVERE, null, ex);\n}\n\n} finally {\nl.unlock();\n\n}\n</code></pre>\n<p>I've updated the post to allow for things to be more clearly understood...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1673219046,"post_id":75051835,"comment_id":132443250,"body_markdown":"In think we need see the code for QuizIntent - but also, is it intentional that you `putExtra(&quot;TRANSFER_NUMBER&quot;` but `getIntExtra(&quot;EXTRA_NUMBER&quot;` ?","body":"In think we need see the code for QuizIntent - but also, is it intentional that you <code>putExtra(&quot;TRANSFER_NUMBER&quot;</code> but <code>getIntExtra(&quot;EXTRA_NUMBER&quot;</code> ?"},{"owner":{"account_id":27471957,"reputation":1,"user_id":20960684,"display_name":"kanna"},"score":0,"creation_date":1673233964,"post_id":75051835,"comment_id":132445005,"body_markdown":"@racraman sorry i got confused, both are the same `&quot;TRANSFER_NUMBER&quot;`  also do you mean the intent or the whole code for the first activity?","body":"@racraman sorry i got confused, both are the same <code>&quot;TRANSFER_NUMBER&quot;</code>  also do you mean the intent or the whole code for the first activity?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1673235646,"post_id":75051835,"comment_id":132445201,"body_markdown":"The Intent Class - certainly the putExtra and getIntExtra methodd …. But hold on, in first activity, you have `Intent quizIntent = new Intent`, but you never store that `quizIntent` anywhere - so there’s no way that seconds Activity can be referring to the same instance.","body":"The Intent Class - certainly the putExtra and getIntExtra methodd …. But hold on, in first activity, you have <code>Intent quizIntent = new Intent</code>, but you never store that <code>quizIntent</code> anywhere - so there’s no way that seconds Activity can be referring to the same instance."},{"owner":{"account_id":16001900,"reputation":328,"user_id":11548316,"display_name":"Preston"},"score":0,"creation_date":1673251474,"post_id":75051835,"comment_id":132447708,"body_markdown":"This link (https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android-application) should help you.","body":"This link (<a href=\"https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android-application\" title=\"how do i pass data between activities in android application\">stackoverflow.com/questions/2091465/&hellip;</a>) should help you."},{"owner":{"account_id":27471957,"reputation":1,"user_id":20960684,"display_name":"kanna"},"score":0,"creation_date":1673272584,"post_id":75051835,"comment_id":132454794,"body_markdown":"@racraman thank you so much, i finally fixed the problem..","body":"@racraman thank you so much, i finally fixed the problem.."}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673262632,"creation_date":1673262632,"answer_id":75056423,"question_id":75051835,"body_markdown":"Update this\r\n\r\n    Intent quizIntent = new Intent(QuizSecond.this, ComputeActivity.class);\r\n    quizIntent.putExtra(&quot;TRANSFER_NUMBER&quot;, score);\r\n    startActivity(quizIntent);\r\n","title":"How can I transfer integer value from one activity to another?","body":"<p>Update this</p>\n<pre><code>Intent quizIntent = new Intent(QuizSecond.this, ComputeActivity.class);\nquizIntent.putExtra(&quot;TRANSFER_NUMBER&quot;, score);\nstartActivity(quizIntent);\n</code></pre>\n"}],"owner":{"account_id":27471957,"reputation":1,"user_id":20960684,"display_name":"kanna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673265406,"creation_date":1673218033,"question_id":75051835,"body_markdown":"i&#39;m trying to compile 4 integers from 4 different activities. the first activity is one of the 4 integer. the second activity is where i compile them.. I don&#39;t know what&#39;s the best way to send a value from different activites. Most of the intent methods i saw uses startActivity but still won&#39;t work.\r\n\r\n    public class QuizSecond extends AppCompatActivity implements View.OnClickListener{\r\n    TextView totalQuestionsTextView2;\r\n    TextView questionTextView2;\r\n    Button ansA2, ansB2, ansC2, ansD2;\r\n    Button submitBtn2;\r\n    int score= 0;\r\n    int totalQuestion2 = QuestionAnswer2.question2.length;\r\n    int currentQuestionIndex2 = 0;\r\n    String selectedAnswer2 = &quot;&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_quiz_second);\r\n\r\n        totalQuestionsTextView2 = findViewById(R.id.total_question2);\r\n        questionTextView2 = findViewById(R.id.question_preview);\r\n        ansA2 = findViewById(R.id.ans_A2);\r\n        ansB2 = findViewById(R.id.ans_B2);\r\n        ansC2 = findViewById(R.id.ans_C2);\r\n        ansD2 = findViewById(R.id.ans_D2);\r\n        submitBtn2 = findViewById(R.id.submit_btn2);\r\n\r\n        ansA2.setOnClickListener(this);\r\n        ansB2.setOnClickListener(this);\r\n        ansC2.setOnClickListener(this);\r\n        ansD2.setOnClickListener(this);\r\n        submitBtn2.setOnClickListener(this);\r\n\r\n        totalQuestionsTextView2.setText(&quot;Total questions : &quot;+totalQuestion2);\r\n        loadNewQuestion();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n\r\n        ansA2.setBackgroundColor(Color.WHITE);\r\n        ansB2.setBackgroundColor(Color.WHITE);\r\n        ansC2.setBackgroundColor(Color.WHITE);\r\n        ansD2.setBackgroundColor(Color.WHITE);\r\n\r\n        Button clickedButton = (Button) view;\r\n        if(clickedButton.getId()==R.id.submit_btn2){\r\n            if(selectedAnswer2.equals(QuestionAnswer2.correctAnswers2[currentQuestionIndex2])) {\r\n                score++;\r\n\r\n\r\n            }\r\n            currentQuestionIndex2++;\r\n            loadNewQuestion();\r\n\r\n\r\n            Intent quizIntent = new Intent(QuizSecond.this,ComputeActivity.class);\r\n            quizIntent.putExtra(&quot;EXTRA_NUMBER&quot;,score);\r\n\r\n\r\n\r\n        }\r\n        else{\r\n            //choices button clicked\r\n            selectedAnswer2  = clickedButton.getText().toString();\r\n            clickedButton.setBackgroundColor(Color.MAGENTA);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    void loadNewQuestion(){\r\n\r\n        if(currentQuestionIndex2 == totalQuestion2 ){\r\n            startActivity(new Intent(QuizSecond.this, ComputeActivity.class));\r\n\r\n            return;\r\n        }\r\n\r\n        questionTextView2.setText(QuestionAnswer2.question2[currentQuestionIndex2]);\r\n        ansA2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][0]);\r\n        ansB2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][1]);\r\n        ansC2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][2]);\r\n        ansD2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][3]);\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nsecond activity:\r\n\r\n\r\n`int number = getIntent().getIntExtra(&quot;EXTRA_NUMBER&quot;,0);\r\nif (number &gt; 3){\r\nToast.makeText(ComputeActivity.this,\r\n&quot;Your Message&quot;, Toast.LENGHT_LONG).show();}`","title":"How can I transfer integer value from one activity to another?","body":"<p>i'm trying to compile 4 integers from 4 different activities. the first activity is one of the 4 integer. the second activity is where i compile them.. I don't know what's the best way to send a value from different activites. Most of the intent methods i saw uses startActivity but still won't work.</p>\n<pre><code>public class QuizSecond extends AppCompatActivity implements View.OnClickListener{\nTextView totalQuestionsTextView2;\nTextView questionTextView2;\nButton ansA2, ansB2, ansC2, ansD2;\nButton submitBtn2;\nint score= 0;\nint totalQuestion2 = QuestionAnswer2.question2.length;\nint currentQuestionIndex2 = 0;\nString selectedAnswer2 = &quot;&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_quiz_second);\n\n    totalQuestionsTextView2 = findViewById(R.id.total_question2);\n    questionTextView2 = findViewById(R.id.question_preview);\n    ansA2 = findViewById(R.id.ans_A2);\n    ansB2 = findViewById(R.id.ans_B2);\n    ansC2 = findViewById(R.id.ans_C2);\n    ansD2 = findViewById(R.id.ans_D2);\n    submitBtn2 = findViewById(R.id.submit_btn2);\n\n    ansA2.setOnClickListener(this);\n    ansB2.setOnClickListener(this);\n    ansC2.setOnClickListener(this);\n    ansD2.setOnClickListener(this);\n    submitBtn2.setOnClickListener(this);\n\n    totalQuestionsTextView2.setText(&quot;Total questions : &quot;+totalQuestion2);\n    loadNewQuestion();\n\n}\n\n@Override\npublic void onClick(View view) {\n\n    ansA2.setBackgroundColor(Color.WHITE);\n    ansB2.setBackgroundColor(Color.WHITE);\n    ansC2.setBackgroundColor(Color.WHITE);\n    ansD2.setBackgroundColor(Color.WHITE);\n\n    Button clickedButton = (Button) view;\n    if(clickedButton.getId()==R.id.submit_btn2){\n        if(selectedAnswer2.equals(QuestionAnswer2.correctAnswers2[currentQuestionIndex2])) {\n            score++;\n\n\n        }\n        currentQuestionIndex2++;\n        loadNewQuestion();\n\n\n        Intent quizIntent = new Intent(QuizSecond.this,ComputeActivity.class);\n        quizIntent.putExtra(&quot;EXTRA_NUMBER&quot;,score);\n\n\n\n    }\n    else{\n        //choices button clicked\n        selectedAnswer2  = clickedButton.getText().toString();\n        clickedButton.setBackgroundColor(Color.MAGENTA);\n\n    }\n\n}\n\nvoid loadNewQuestion(){\n\n    if(currentQuestionIndex2 == totalQuestion2 ){\n        startActivity(new Intent(QuizSecond.this, ComputeActivity.class));\n\n        return;\n    }\n\n    questionTextView2.setText(QuestionAnswer2.question2[currentQuestionIndex2]);\n    ansA2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][0]);\n    ansB2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][1]);\n    ansC2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][2]);\n    ansD2.setText(QuestionAnswer2.choices2[currentQuestionIndex2][3]);\n\n}\n</code></pre>\n<p>}</p>\n<p>second activity:</p>\n<p><code>int number = getIntent().getIntExtra(&quot;EXTRA_NUMBER&quot;,0); if (number &gt; 3){ Toast.makeText(ComputeActivity.this, &quot;Your Message&quot;, Toast.LENGHT_LONG).show();}</code></p>\n"},{"tags":["java","csv","apache-tika","file-type","probe"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1509042289,"post_id":46960231,"comment_id":80870003,"body_markdown":"You&#39;re loosing the file name, creating objects you don&#39;t need, and generally being overly complicated! Why not just do [Tika.detect(File)](http://tika.apache.org/1.16/api/org/apache/tika/Tika.html#detect-java.io.File-) ?","body":"You&#39;re loosing the file name, creating objects you don&#39;t need, and generally being overly complicated! Why not just do <a href=\"http://tika.apache.org/1.16/api/org/apache/tika/Tika.html#detect-java.io.File-\" rel=\"nofollow noreferrer\">Tika.detect(File)</a> ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":3,"creation_date":1509048679,"post_id":46960231,"comment_id":80873720,"body_markdown":"@Gagravarr, **System.out.println(new Tika().detect(inputStream));** returns **text/plain**","body":"@Gagravarr, <b>System.out.println(new Tika().detect(inputStream));</b> returns <b>text/plain</b>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":2,"creation_date":1509049367,"post_id":46960231,"comment_id":80874068,"body_markdown":"@Gagravarr I don&#39;t want to provide name because if I rename foo.txt  with foo.csv - tika thinks that it csv","body":"@Gagravarr I don&#39;t want to provide name because if I rename foo.txt  with foo.csv - tika thinks that it csv"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1509107946,"post_id":46960231,"comment_id":80897861,"body_markdown":"There&#39;s no way to tell the difference between a CSV and a TXT other than by filename though!","body":"There&#39;s no way to tell the difference between a CSV and a TXT other than by filename though!"},{"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"score":0,"creation_date":1668129995,"post_id":46960231,"comment_id":131337392,"body_markdown":"Hi @gstackoverflow, what did you end you doing? What the `text/plain` good enough to detect a csv file?","body":"Hi @gstackoverflow, what did you end you doing? What the <code>text&#47;plain</code> good enough to detect a csv file?"},{"owner":{"account_id":1275353,"reputation":1052,"user_id":1230748,"accept_rate":29,"display_name":"dcalap"},"score":1,"creation_date":1673265200,"post_id":46960231,"comment_id":132451947,"body_markdown":"@jumping_monkey I&#39;ve added an answer with the current Apache Tika version. Hope it helps","body":"@jumping_monkey I&#39;ve added an answer with the current Apache Tika version. Hope it helps"}],"answers":[{"tags":[],"owner":{"account_id":3034727,"reputation":21,"user_id":2573083,"display_name":"Anbu Chinna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583319348,"creation_date":1583319348,"answer_id":60524467,"question_id":46960231,"body_markdown":"Try this...\r\n\r\n    public static String checkThatMimeTypeIsCsv(String fileName ) throws Exception {\r\n        File sourceFile = new File(fileName );\r\n        DefaultDetector file_detector = new DefaultDetector();\r\n        TikaInputStream file_stream = TikaInputStream.get(sourceFile);\r\n        Metadata metadata = new Metadata();\r\n        metadata.set(Metadata.RESOURCE_NAME_KEY, sourceFile.getName());\r\n        MediaType mediaType = file_detector.detect(file_stream, metadata);            \t\r\n        String file_type = mediaType.toString();\r\n        System.out.println(file_type);\r\n        return file_type;\r\n    }","title":"Apache tika detects mime-type incorrectly for csv","body":"<p>Try this...</p>\n\n<pre><code>public static String checkThatMimeTypeIsCsv(String fileName ) throws Exception {\n    File sourceFile = new File(fileName );\n    DefaultDetector file_detector = new DefaultDetector();\n    TikaInputStream file_stream = TikaInputStream.get(sourceFile);\n    Metadata metadata = new Metadata();\n    metadata.set(Metadata.RESOURCE_NAME_KEY, sourceFile.getName());\n    MediaType mediaType = file_detector.detect(file_stream, metadata);              \n    String file_type = mediaType.toString();\n    System.out.println(file_type);\n    return file_type;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1275353,"reputation":1052,"user_id":1230748,"accept_rate":29,"display_name":"dcalap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673264913,"creation_date":1673264913,"answer_id":75056841,"question_id":46960231,"body_markdown":"Here is an example of how to do it with [Apache Tika 2.6.0][1] (current version at this moment)\r\n\r\n```java\r\n// Read a CSV file.       \r\nFile file = new File(&quot;src/test/resources/testcsv/entities.csv&quot;);\r\nString csvContent = Files.readString(file.toPath());\r\n\r\nInputStream is = new FileInputStream(file);\r\nBufferedInputStream bufferedInputStream = new BufferedInputStream(is);\r\n\r\n// Prepare Tika data for detection\r\nMetadata metadata = new Metadata();\r\nmetadata.set(TikaCoreProperties.RESOURCE_NAME_KEY, file.getFilename());\r\n\r\nString detectedMimeType = MimeTypes.getDefaultMimeTypes().detect(bufferedInputStream, metadata).toString();\r\nassertEquals(&quot;text/csv&quot;, detectedMimeType);\r\n```\r\n\r\nFor a no real CSV file but trying to fake the extension:\r\n\r\n```java\r\n// Read a file that is not a CSV. I&#39;ve downloaded  https://upload.wikimedia.org/wikipedia/commons/7/74/Apache_Tika_Logo.svg and renamed to &#39;.csv&#39; extension for the test        \r\nFile file = new File(&quot;src/test/resources/testcsv/Apache_Tika_Logo.csv&quot;);\r\nString csvContent = Files.readString(file.toPath());\r\n\r\nInputStream is = new FileInputStream(file);\r\nBufferedInputStream bufferedInputStream = new BufferedInputStream(is);\r\n\r\n// Prepare Tika data for detection\r\nMetadata metadata = new Metadata();\r\nmetadata.set(TikaCoreProperties.RESOURCE_NAME_KEY, file.getFilename());\r\n\r\nString detectedMimeType = MimeTypes.getDefaultMimeTypes().detect(bufferedInputStream, metadata).toString();\r\nassertNotEquals(&quot;text/csv&quot;, detectedMimeType);\r\n```\r\n\r\nThe output of the `detectedMimeType` variable in the example file is `image/svg+xml`\r\n\r\n\r\n  [1]: https://tika.apache.org/2.6.0/index.html","title":"Apache tika detects mime-type incorrectly for csv","body":"<p>Here is an example of how to do it with <a href=\"https://tika.apache.org/2.6.0/index.html\" rel=\"nofollow noreferrer\">Apache Tika 2.6.0</a> (current version at this moment)</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Read a CSV file.       \nFile file = new File(&quot;src/test/resources/testcsv/entities.csv&quot;);\nString csvContent = Files.readString(file.toPath());\n\nInputStream is = new FileInputStream(file);\nBufferedInputStream bufferedInputStream = new BufferedInputStream(is);\n\n// Prepare Tika data for detection\nMetadata metadata = new Metadata();\nmetadata.set(TikaCoreProperties.RESOURCE_NAME_KEY, file.getFilename());\n\nString detectedMimeType = MimeTypes.getDefaultMimeTypes().detect(bufferedInputStream, metadata).toString();\nassertEquals(&quot;text/csv&quot;, detectedMimeType);\n</code></pre>\n<p>For a no real CSV file but trying to fake the extension:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Read a file that is not a CSV. I've downloaded  https://upload.wikimedia.org/wikipedia/commons/7/74/Apache_Tika_Logo.svg and renamed to '.csv' extension for the test        \nFile file = new File(&quot;src/test/resources/testcsv/Apache_Tika_Logo.csv&quot;);\nString csvContent = Files.readString(file.toPath());\n\nInputStream is = new FileInputStream(file);\nBufferedInputStream bufferedInputStream = new BufferedInputStream(is);\n\n// Prepare Tika data for detection\nMetadata metadata = new Metadata();\nmetadata.set(TikaCoreProperties.RESOURCE_NAME_KEY, file.getFilename());\n\nString detectedMimeType = MimeTypes.getDefaultMimeTypes().detect(bufferedInputStream, metadata).toString();\nassertNotEquals(&quot;text/csv&quot;, detectedMimeType);\n</code></pre>\n<p>The output of the <code>detectedMimeType</code> variable in the example file is <code>image/svg+xml</code></p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2677,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1673264913,"creation_date":1509038322,"question_id":46960231,"body_markdown":"I&#39;ve created `.csv` file using excel and I wrote following code using apache tika:\r\n\r\n    public static boolean checkThatMimeTypeIsCsv(InputStream inputStream) throws IOException {\r\n        BufferedInputStream bis = new BufferedInputStream(inputStream);\r\n        AutoDetectParser parser = new AutoDetectParser();\r\n        Detector detector = parser.getDetector();\r\n        Metadata md = new Metadata();\r\n        MediaType mediaType = detector.detect(bis, md);\r\n        return &quot;text/csv&quot;.equals(mediaType.toString());\r\n    }\r\n    \r\n    public static void main(String[] args) throws IOException {\r\n        System.out.println(checkThatMimeTypeIsCsv(new FileInputStream(&quot;Data.csv&quot;)));\r\n    }\r\n\r\nBut it returns `false`&#39;.\r\n\r\nDoes Tika so bad or I missed something?","title":"Apache tika detects mime-type incorrectly for csv","body":"<p>I've created <code>.csv</code> file using excel and I wrote following code using apache tika:</p>\n\n<pre><code>public static boolean checkThatMimeTypeIsCsv(InputStream inputStream) throws IOException {\n    BufferedInputStream bis = new BufferedInputStream(inputStream);\n    AutoDetectParser parser = new AutoDetectParser();\n    Detector detector = parser.getDetector();\n    Metadata md = new Metadata();\n    MediaType mediaType = detector.detect(bis, md);\n    return \"text/csv\".equals(mediaType.toString());\n}\n\npublic static void main(String[] args) throws IOException {\n    System.out.println(checkThatMimeTypeIsCsv(new FileInputStream(\"Data.csv\")));\n}\n</code></pre>\n\n<p>But it returns <code>false</code>'.</p>\n\n<p>Does Tika so bad or I missed something?</p>\n"},{"tags":["java","unit-testing","automated-tests","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1638946861,"post_id":70268026,"comment_id":124220097,"body_markdown":"This sounds like a bug, but I can&#39;t be sure... I propose opening an issue on Github so we can make sure we don&#39;t loose it","body":"This sounds like a bug, but I can&#39;t be sure... I propose opening an issue on Github so we can make sure we don&#39;t loose it"},{"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"score":1,"creation_date":1638966378,"post_id":70268026,"comment_id":124226715,"body_markdown":"@geoand Thanks, made an issue. Linked in question.","body":"@geoand Thanks, made an issue. Linked in question."}],"answers":[{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673264784,"creation_date":1673264784,"answer_id":75056820,"question_id":70268026,"body_markdown":"Any use of `@QuarkusTestResource()` without `restrictToAnnotatedClass` set to true, means that the `QuarkusTestResourceLifecycleManager` will be applied to all tests no matter where the annotation is placed.\r\n\r\nHope `restrictToAnnotatedClass` will solve the problem.","title":"Mixed up Test configuration when using @ResourceArg","body":"<p>Any use of <code>@QuarkusTestResource()</code> without <code>restrictToAnnotatedClass</code> set to true, means that the <code>QuarkusTestResourceLifecycleManager</code> will be applied to all tests no matter where the annotation is placed.</p>\n<p>Hope <code>restrictToAnnotatedClass</code> will solve the problem.</p>\n"}],"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673264784,"creation_date":1638918346,"question_id":70268026,"body_markdown":"TL:DR; When running tests with different `@ResourceArg`s, the configuration of different tests get thrown around and override others, breaking tests meant to run with specific configurations.\r\n\r\nSo, I have a service that has tests that run in different configuration setups. The main difference at the moment is the service can either manage its own authentication or get it from an external source (Keycloak).\r\n\r\nI firstly control this using test profiles, which seem to work fine. Unfortunately, in order to support both cases, the `ResourceLifecycleManager` I have setup supports setting up a Keycloak instance and returns config values that break the config for self authentication (This is due primarily to the fact that I have not found out how to get the lifecycle manager to determine on its own what profile or config is currently running. If I could do this, I think I would be much better off than using `@ResourceArg`, so would love to know if I missed something here).\r\n\r\nTo remedy this shortcoming, I have attempted to use `@ResourceArg`s to convey to the lifecycle manager when to setup for external auth. However, I have noticed some really odd execution timings and the config that ends up at my test/service isn&#39;t what I intend based on the test class&#39;s annotations, where it is obvious the lifecycle manager has setup for external auth.\r\n\r\nAdditionally, it should be noted that I have my tests ordered such that the profiles and configs shouldn&#39;t be running out of order; all the tests that don&#39;t care are run first, then the &#39;normal&#39; tests with self auth, then the tests with the external auth profile. I can see this working appropriately when I run in intellij, and the fact I can tell the time is being taken to start up the new service instance between the test profiles.\r\n\r\nLooking at the logs when I throw a breakpoint in places, some odd things are obvious:\r\n\r\n - When breakpoint on an erring test (before the external-configured tests run)\r\n   - The `start()` method of my `TestResourceLifecycleManager` has been called twice\r\n     - The first run ran with Keycloak starting, would override/break config\r\n       - though the time I would expect to need to be taken to start up keycloak not happening, a little confused here\r\n     - The second run is correct, not starting keycloak\r\n   - The profile config is what is expected, except for what the keycloak setup would override\r\n - When breakpoint on an external-configured test (after all self-configured tests run):\r\n   - The `start()` method has now been called 4 times; appears that things were started in the same order as before again for the new run of the app\r\n\r\nThere could be some weirdness in how Intellij/Gradle shows logs, but I am interpreting this as:\r\n - Quarkus initting the two instances of LifecycleManager when starting the app for some reason, and one&#39;s config overrides the other, causing my woes.\r\n - The lifecycle manager is working as expected; it appropriately starts/ doesn&#39;t start keycloak when configured either way\r\n\r\nAt this point I can&#39;t tell if I&#39;m doing something wrong, or if there&#39;s a bug.\r\n\r\n\r\nTest class example for self-auth test (same annotations for all tests in this (`test`) profile):\r\n\r\n```\r\n@Slf4j\r\n@QuarkusTest\r\n@QuarkusTestResource(TestResourceLifecycleManager.class)\r\n@TestHTTPEndpoint(Auth.class)\r\nclass AuthTest extends RunningServerTest {\r\n```\r\n\r\nTest class example for external auth test (same annotations for all tests in this (`externalAuth`) profile):\r\n\r\n```\r\n@Slf4j\r\n@QuarkusTest\r\n@TestProfile(ExternalAuthTestProfile.class)\r\n@QuarkusTestResource(value = TestResourceLifecycleManager.class, initArgs = @ResourceArg(name=TestResourceLifecycleManager.EXTERNAL_AUTH_ARG, value=&quot;true&quot;))\r\n@TestHTTPEndpoint(Auth.class)\r\nclass AuthExternalTest extends RunningServerTest {\r\n```\r\n\r\n`ExternalAuthTestProfile` extends this, providing the appropriate profile name:\r\n\r\n```\r\npublic class NonDefaultTestProfile implements QuarkusTestProfile {\r\n\r\n    private final String testProfile;\r\n    private final Map&lt;String, String&gt; overrides = new HashMap&lt;&gt;();\r\n\r\n    protected NonDefaultTestProfile(String testProfile) {\r\n        this.testProfile = testProfile;\r\n    }\r\n\r\n    protected NonDefaultTestProfile(String testProfile, Map&lt;String, String&gt; configOverrides) {\r\n        this(testProfile);\r\n        this.overrides.putAll(configOverrides);\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, String&gt; getConfigOverrides() {\r\n        return new HashMap&lt;&gt;(this.overrides);\r\n    }\r\n\r\n    @Override\r\n    public String getConfigProfile() {\r\n        return testProfile;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;TestResourceEntry&gt; testResources() {\r\n        return QuarkusTestProfile.super.testResources();\r\n    }\r\n}\r\n```\r\n\r\n\r\nLifecycle manager:\r\n\r\n```\r\n@Slf4j\r\npublic class TestResourceLifecycleManager implements QuarkusTestResourceLifecycleManager {\r\n    public static final String EXTERNAL_AUTH_ARG = &quot;externalAuth&quot;;\r\n\r\n    private static volatile MongodExecutable MONGO_EXE = null;\r\n    private static volatile KeycloakContainer KEYCLOAK_CONTAINER = null;\r\n\r\n\tprivate boolean externalAuth = false;\r\n\r\n    public synchronized Map&lt;String, String&gt; startKeycloakTestServer() {\r\n        if(!this.externalAuth){\r\n            log.info(&quot;No need for keycloak.&quot;);\r\n            return Map.of();\r\n        }\r\n        if (KEYCLOAK_CONTAINER != null) {\r\n            log.info(&quot;Keycloak already started.&quot;);\r\n        } else {\r\n            KEYCLOAK_CONTAINER = new KeycloakContainer()\r\n//\t\t\t\t.withEnv(&quot;hello&quot;,&quot;world&quot;)\r\n                    .withRealmImportFile(&quot;keycloak-realm.json&quot;);\r\n            KEYCLOAK_CONTAINER.start();\r\n            log.info(\r\n                    &quot;Test keycloak started at endpoint: {}\\tAdmin creds: {}:{}&quot;,\r\n                    KEYCLOAK_CONTAINER.getAuthServerUrl(),\r\n                    KEYCLOAK_CONTAINER.getAdminUsername(),\r\n                    KEYCLOAK_CONTAINER.getAdminPassword()\r\n            );\r\n\r\n        }\r\n        String clientId;\r\n        String clientSecret;\r\n        String publicKey = &quot;&quot;;\r\n        try (\r\n                Keycloak keycloak = KeycloakBuilder.builder()\r\n                        .serverUrl(KEYCLOAK_CONTAINER.getAuthServerUrl())\r\n                        .realm(&quot;master&quot;)\r\n                        .grantType(OAuth2Constants.PASSWORD)\r\n                        .clientId(&quot;admin-cli&quot;)\r\n                        .username(KEYCLOAK_CONTAINER.getAdminUsername())\r\n                        .password(KEYCLOAK_CONTAINER.getAdminPassword())\r\n                        .build();\r\n        ) {\r\n            RealmResource appsRealmResource = keycloak.realms().realm(&quot;apps&quot;);\r\n\r\n            ClientRepresentation qmClientResource = appsRealmResource.clients().findByClientId(&quot;quartermaster&quot;).get(0);\r\n\r\n            clientSecret = qmClientResource.getSecret();\r\n\r\n            log.info(&quot;Got client id \\&quot;{}\\&quot; with secret: {}&quot;, &quot;quartermaster&quot;, clientSecret);\r\n\r\n            //get private key\r\n            for (KeysMetadataRepresentation.KeyMetadataRepresentation curKey : appsRealmResource.keys().getKeyMetadata().getKeys()) {\r\n                if (!SIG.equals(curKey.getUse())) {\r\n                    continue;\r\n                }\r\n                if (!&quot;RSA&quot;.equals(curKey.getType())) {\r\n                    continue;\r\n                }\r\n                String publicKeyTemp = curKey.getPublicKey();\r\n                if (publicKeyTemp == null || publicKeyTemp.isBlank()) {\r\n                    continue;\r\n                }\r\n                publicKey = publicKeyTemp;\r\n                log.info(&quot;Found a relevant key for public key use: {} / {}&quot;, curKey.getKid(), publicKey);\r\n            }\r\n        }\r\n        // write public key\r\n        // = new File(TestResourceLifecycleManager.class.getResource(&quot;/&quot;).toURI().toString() + &quot;/security/testKeycloakPublicKey.pem&quot;);\r\n        File publicKeyFile;\r\n        try {\r\n            publicKeyFile = File.createTempFile(&quot;oqmTestKeycloakPublicKey&quot;,&quot;.pem&quot;);\r\n//            publicKeyFile = new File(TestResourceLifecycleManager.class.getResource(&quot;/&quot;).toURI().toString().replace(&quot;/classes/java/&quot;, &quot;/resources/&quot;) + &quot;/security/testKeycloakPublicKey.pem&quot;);\r\n            log.info(&quot;path of public key: {}&quot;, publicKeyFile);\r\n//            if(publicKeyFile.createNewFile()){\r\n//                log.info(&quot;created new public key file&quot;);\r\n//\r\n//            } else {\r\n//                log.info(&quot;Public file already exists&quot;);\r\n//            }\r\n            try (\r\n                    FileOutputStream os = new FileOutputStream(\r\n                            publicKeyFile\r\n                    );\r\n            ) {\r\n                IOUtils.write(publicKey, os, UTF_8);\r\n            } catch (IOException e) {\r\n                log.error(&quot;Failed to write out public key of keycloak: &quot;, e);\r\n                throw new IllegalStateException(&quot;Failed to write out public key of keycloak.&quot;, e);\r\n            }\r\n        } catch (IOException  e) {\r\n            log.error(&quot;Failed to create public key file: &quot;, e);\r\n            throw new IllegalStateException(&quot;Failed to create public key file&quot;, e);\r\n        }\r\n\r\n        String keycloakUrl = KEYCLOAK_CONTAINER.getAuthServerUrl().replace(&quot;/auth&quot;, &quot;&quot;);\r\n\r\n        return Map.of(\r\n                &quot;test.keycloak.url&quot;, keycloakUrl,\r\n                &quot;test.keycloak.authUrl&quot;, KEYCLOAK_CONTAINER.getAuthServerUrl(),\r\n                &quot;test.keycloak.adminName&quot;, KEYCLOAK_CONTAINER.getAdminUsername(),\r\n                &quot;test.keycloak.adminPass&quot;, KEYCLOAK_CONTAINER.getAdminPassword(),\r\n                //TODO:: add config for server to talk to\r\n                &quot;service.externalAuth.url&quot;, keycloakUrl,\r\n                &quot;mp.jwt.verify.publickey.location&quot;, publicKeyFile.getAbsolutePath()\r\n\r\n\r\n        );\r\n    }\r\n\r\n    public static synchronized void startMongoTestServer() throws IOException {\r\n        if (MONGO_EXE != null) {\r\n            log.info(&quot;Flapdoodle Mongo already started.&quot;);\r\n            return;\r\n        }\r\n        Version.Main version = Version.Main.V4_0;\r\n        int port = 27018;\r\n        log.info(&quot;Starting Flapdoodle Test Mongo {} on port {}&quot;, version, port);\r\n        IMongodConfig config = new MongodConfigBuilder()\r\n                .version(version)\r\n                .net(new Net(port, Network.localhostIsIPv6()))\r\n                .build();\r\n        try {\r\n            MONGO_EXE = MongodStarter.getDefaultInstance().prepare(config);\r\n            MongodProcess process = MONGO_EXE.start();\r\n            if (!process.isProcessRunning()) {\r\n                throw new IOException();\r\n            }\r\n        } catch (Throwable e) {\r\n            log.error(&quot;FAILED to start test mongo server: &quot;, e);\r\n            MONGO_EXE = null;\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    public static synchronized void stopMongoTestServer() {\r\n        if (MONGO_EXE == null) {\r\n            log.warn(&quot;Mongo was not started.&quot;);\r\n            return;\r\n        }\r\n        MONGO_EXE.stop();\r\n        MONGO_EXE = null;\r\n    }\r\n\r\n    public synchronized static void cleanMongo() throws IOException {\r\n        if (MONGO_EXE == null) {\r\n            log.warn(&quot;Mongo was not started.&quot;);\r\n            return;\r\n        }\r\n\r\n        log.info(&quot;Cleaning Mongo of all entries.&quot;);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void init(Map&lt;String, String&gt; initArgs) {\r\n        this.externalAuth = Boolean.parseBoolean(initArgs.getOrDefault(EXTERNAL_AUTH_ARG, Boolean.toString(this.externalAuth)));\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, String&gt; start() {\r\n        log.info(&quot;STARTING test lifecycle resources.&quot;);\r\n        Map&lt;String, String&gt; configOverride = new HashMap&lt;&gt;();\r\n        try {\r\n            startMongoTestServer();\r\n        } catch (IOException e) {\r\n            log.error(&quot;Unable to start Flapdoodle Mongo server&quot;);\r\n        }\r\n\r\n        configOverride.putAll(startKeycloakTestServer());\r\n\r\n        return configOverride;\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        log.info(&quot;STOPPING test lifecycle resources.&quot;);\r\n        stopMongoTestServer();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nThe app can be found here: https://github.com/Epic-Breakfast-Productions/OpenQuarterMaster/tree/main/software/open-qm-base-station\r\n\r\nThe tests are currently failing in the ways I am describing, so feel free to look around.\r\n\r\nNote that to run this, you will need to run `./gradlew build publishToMavenLocal` in https://github.com/Epic-Breakfast-Productions/OpenQuarterMaster/tree/main/software/libs/open-qm-core to install a dependency locally.\r\n\r\nGithub issue also tracking this: https://github.com/quarkusio/quarkus/issues/22025","title":"Mixed up Test configuration when using @ResourceArg","body":"<p>TL:DR; When running tests with different <code>@ResourceArg</code>s, the configuration of different tests get thrown around and override others, breaking tests meant to run with specific configurations.</p>\n<p>So, I have a service that has tests that run in different configuration setups. The main difference at the moment is the service can either manage its own authentication or get it from an external source (Keycloak).</p>\n<p>I firstly control this using test profiles, which seem to work fine. Unfortunately, in order to support both cases, the <code>ResourceLifecycleManager</code> I have setup supports setting up a Keycloak instance and returns config values that break the config for self authentication (This is due primarily to the fact that I have not found out how to get the lifecycle manager to determine on its own what profile or config is currently running. If I could do this, I think I would be much better off than using <code>@ResourceArg</code>, so would love to know if I missed something here).</p>\n<p>To remedy this shortcoming, I have attempted to use <code>@ResourceArg</code>s to convey to the lifecycle manager when to setup for external auth. However, I have noticed some really odd execution timings and the config that ends up at my test/service isn't what I intend based on the test class's annotations, where it is obvious the lifecycle manager has setup for external auth.</p>\n<p>Additionally, it should be noted that I have my tests ordered such that the profiles and configs shouldn't be running out of order; all the tests that don't care are run first, then the 'normal' tests with self auth, then the tests with the external auth profile. I can see this working appropriately when I run in intellij, and the fact I can tell the time is being taken to start up the new service instance between the test profiles.</p>\n<p>Looking at the logs when I throw a breakpoint in places, some odd things are obvious:</p>\n<ul>\n<li>When breakpoint on an erring test (before the external-configured tests run)\n<ul>\n<li>The <code>start()</code> method of my <code>TestResourceLifecycleManager</code> has been called twice\n<ul>\n<li>The first run ran with Keycloak starting, would override/break config\n<ul>\n<li>though the time I would expect to need to be taken to start up keycloak not happening, a little confused here</li>\n</ul>\n</li>\n<li>The second run is correct, not starting keycloak</li>\n</ul>\n</li>\n<li>The profile config is what is expected, except for what the keycloak setup would override</li>\n</ul>\n</li>\n<li>When breakpoint on an external-configured test (after all self-configured tests run):\n<ul>\n<li>The <code>start()</code> method has now been called 4 times; appears that things were started in the same order as before again for the new run of the app</li>\n</ul>\n</li>\n</ul>\n<p>There could be some weirdness in how Intellij/Gradle shows logs, but I am interpreting this as:</p>\n<ul>\n<li>Quarkus initting the two instances of LifecycleManager when starting the app for some reason, and one's config overrides the other, causing my woes.</li>\n<li>The lifecycle manager is working as expected; it appropriately starts/ doesn't start keycloak when configured either way</li>\n</ul>\n<p>At this point I can't tell if I'm doing something wrong, or if there's a bug.</p>\n<p>Test class example for self-auth test (same annotations for all tests in this (<code>test</code>) profile):</p>\n<pre><code>@Slf4j\n@QuarkusTest\n@QuarkusTestResource(TestResourceLifecycleManager.class)\n@TestHTTPEndpoint(Auth.class)\nclass AuthTest extends RunningServerTest {\n</code></pre>\n<p>Test class example for external auth test (same annotations for all tests in this (<code>externalAuth</code>) profile):</p>\n<pre><code>@Slf4j\n@QuarkusTest\n@TestProfile(ExternalAuthTestProfile.class)\n@QuarkusTestResource(value = TestResourceLifecycleManager.class, initArgs = @ResourceArg(name=TestResourceLifecycleManager.EXTERNAL_AUTH_ARG, value=&quot;true&quot;))\n@TestHTTPEndpoint(Auth.class)\nclass AuthExternalTest extends RunningServerTest {\n</code></pre>\n<p><code>ExternalAuthTestProfile</code> extends this, providing the appropriate profile name:</p>\n<pre><code>public class NonDefaultTestProfile implements QuarkusTestProfile {\n\n    private final String testProfile;\n    private final Map&lt;String, String&gt; overrides = new HashMap&lt;&gt;();\n\n    protected NonDefaultTestProfile(String testProfile) {\n        this.testProfile = testProfile;\n    }\n\n    protected NonDefaultTestProfile(String testProfile, Map&lt;String, String&gt; configOverrides) {\n        this(testProfile);\n        this.overrides.putAll(configOverrides);\n    }\n\n    @Override\n    public Map&lt;String, String&gt; getConfigOverrides() {\n        return new HashMap&lt;&gt;(this.overrides);\n    }\n\n    @Override\n    public String getConfigProfile() {\n        return testProfile;\n    }\n\n    @Override\n    public List&lt;TestResourceEntry&gt; testResources() {\n        return QuarkusTestProfile.super.testResources();\n    }\n}\n</code></pre>\n<p>Lifecycle manager:</p>\n<pre><code>@Slf4j\npublic class TestResourceLifecycleManager implements QuarkusTestResourceLifecycleManager {\n    public static final String EXTERNAL_AUTH_ARG = &quot;externalAuth&quot;;\n\n    private static volatile MongodExecutable MONGO_EXE = null;\n    private static volatile KeycloakContainer KEYCLOAK_CONTAINER = null;\n\n    private boolean externalAuth = false;\n\n    public synchronized Map&lt;String, String&gt; startKeycloakTestServer() {\n        if(!this.externalAuth){\n            log.info(&quot;No need for keycloak.&quot;);\n            return Map.of();\n        }\n        if (KEYCLOAK_CONTAINER != null) {\n            log.info(&quot;Keycloak already started.&quot;);\n        } else {\n            KEYCLOAK_CONTAINER = new KeycloakContainer()\n//              .withEnv(&quot;hello&quot;,&quot;world&quot;)\n                    .withRealmImportFile(&quot;keycloak-realm.json&quot;);\n            KEYCLOAK_CONTAINER.start();\n            log.info(\n                    &quot;Test keycloak started at endpoint: {}\\tAdmin creds: {}:{}&quot;,\n                    KEYCLOAK_CONTAINER.getAuthServerUrl(),\n                    KEYCLOAK_CONTAINER.getAdminUsername(),\n                    KEYCLOAK_CONTAINER.getAdminPassword()\n            );\n\n        }\n        String clientId;\n        String clientSecret;\n        String publicKey = &quot;&quot;;\n        try (\n                Keycloak keycloak = KeycloakBuilder.builder()\n                        .serverUrl(KEYCLOAK_CONTAINER.getAuthServerUrl())\n                        .realm(&quot;master&quot;)\n                        .grantType(OAuth2Constants.PASSWORD)\n                        .clientId(&quot;admin-cli&quot;)\n                        .username(KEYCLOAK_CONTAINER.getAdminUsername())\n                        .password(KEYCLOAK_CONTAINER.getAdminPassword())\n                        .build();\n        ) {\n            RealmResource appsRealmResource = keycloak.realms().realm(&quot;apps&quot;);\n\n            ClientRepresentation qmClientResource = appsRealmResource.clients().findByClientId(&quot;quartermaster&quot;).get(0);\n\n            clientSecret = qmClientResource.getSecret();\n\n            log.info(&quot;Got client id \\&quot;{}\\&quot; with secret: {}&quot;, &quot;quartermaster&quot;, clientSecret);\n\n            //get private key\n            for (KeysMetadataRepresentation.KeyMetadataRepresentation curKey : appsRealmResource.keys().getKeyMetadata().getKeys()) {\n                if (!SIG.equals(curKey.getUse())) {\n                    continue;\n                }\n                if (!&quot;RSA&quot;.equals(curKey.getType())) {\n                    continue;\n                }\n                String publicKeyTemp = curKey.getPublicKey();\n                if (publicKeyTemp == null || publicKeyTemp.isBlank()) {\n                    continue;\n                }\n                publicKey = publicKeyTemp;\n                log.info(&quot;Found a relevant key for public key use: {} / {}&quot;, curKey.getKid(), publicKey);\n            }\n        }\n        // write public key\n        // = new File(TestResourceLifecycleManager.class.getResource(&quot;/&quot;).toURI().toString() + &quot;/security/testKeycloakPublicKey.pem&quot;);\n        File publicKeyFile;\n        try {\n            publicKeyFile = File.createTempFile(&quot;oqmTestKeycloakPublicKey&quot;,&quot;.pem&quot;);\n//            publicKeyFile = new File(TestResourceLifecycleManager.class.getResource(&quot;/&quot;).toURI().toString().replace(&quot;/classes/java/&quot;, &quot;/resources/&quot;) + &quot;/security/testKeycloakPublicKey.pem&quot;);\n            log.info(&quot;path of public key: {}&quot;, publicKeyFile);\n//            if(publicKeyFile.createNewFile()){\n//                log.info(&quot;created new public key file&quot;);\n//\n//            } else {\n//                log.info(&quot;Public file already exists&quot;);\n//            }\n            try (\n                    FileOutputStream os = new FileOutputStream(\n                            publicKeyFile\n                    );\n            ) {\n                IOUtils.write(publicKey, os, UTF_8);\n            } catch (IOException e) {\n                log.error(&quot;Failed to write out public key of keycloak: &quot;, e);\n                throw new IllegalStateException(&quot;Failed to write out public key of keycloak.&quot;, e);\n            }\n        } catch (IOException  e) {\n            log.error(&quot;Failed to create public key file: &quot;, e);\n            throw new IllegalStateException(&quot;Failed to create public key file&quot;, e);\n        }\n\n        String keycloakUrl = KEYCLOAK_CONTAINER.getAuthServerUrl().replace(&quot;/auth&quot;, &quot;&quot;);\n\n        return Map.of(\n                &quot;test.keycloak.url&quot;, keycloakUrl,\n                &quot;test.keycloak.authUrl&quot;, KEYCLOAK_CONTAINER.getAuthServerUrl(),\n                &quot;test.keycloak.adminName&quot;, KEYCLOAK_CONTAINER.getAdminUsername(),\n                &quot;test.keycloak.adminPass&quot;, KEYCLOAK_CONTAINER.getAdminPassword(),\n                //TODO:: add config for server to talk to\n                &quot;service.externalAuth.url&quot;, keycloakUrl,\n                &quot;mp.jwt.verify.publickey.location&quot;, publicKeyFile.getAbsolutePath()\n\n\n        );\n    }\n\n    public static synchronized void startMongoTestServer() throws IOException {\n        if (MONGO_EXE != null) {\n            log.info(&quot;Flapdoodle Mongo already started.&quot;);\n            return;\n        }\n        Version.Main version = Version.Main.V4_0;\n        int port = 27018;\n        log.info(&quot;Starting Flapdoodle Test Mongo {} on port {}&quot;, version, port);\n        IMongodConfig config = new MongodConfigBuilder()\n                .version(version)\n                .net(new Net(port, Network.localhostIsIPv6()))\n                .build();\n        try {\n            MONGO_EXE = MongodStarter.getDefaultInstance().prepare(config);\n            MongodProcess process = MONGO_EXE.start();\n            if (!process.isProcessRunning()) {\n                throw new IOException();\n            }\n        } catch (Throwable e) {\n            log.error(&quot;FAILED to start test mongo server: &quot;, e);\n            MONGO_EXE = null;\n            throw e;\n        }\n    }\n\n    public static synchronized void stopMongoTestServer() {\n        if (MONGO_EXE == null) {\n            log.warn(&quot;Mongo was not started.&quot;);\n            return;\n        }\n        MONGO_EXE.stop();\n        MONGO_EXE = null;\n    }\n\n    public synchronized static void cleanMongo() throws IOException {\n        if (MONGO_EXE == null) {\n            log.warn(&quot;Mongo was not started.&quot;);\n            return;\n        }\n\n        log.info(&quot;Cleaning Mongo of all entries.&quot;);\n    }\n\n\n    @Override\n    public void init(Map&lt;String, String&gt; initArgs) {\n        this.externalAuth = Boolean.parseBoolean(initArgs.getOrDefault(EXTERNAL_AUTH_ARG, Boolean.toString(this.externalAuth)));\n    }\n\n    @Override\n    public Map&lt;String, String&gt; start() {\n        log.info(&quot;STARTING test lifecycle resources.&quot;);\n        Map&lt;String, String&gt; configOverride = new HashMap&lt;&gt;();\n        try {\n            startMongoTestServer();\n        } catch (IOException e) {\n            log.error(&quot;Unable to start Flapdoodle Mongo server&quot;);\n        }\n\n        configOverride.putAll(startKeycloakTestServer());\n\n        return configOverride;\n    }\n\n    @Override\n    public void stop() {\n        log.info(&quot;STOPPING test lifecycle resources.&quot;);\n        stopMongoTestServer();\n    }\n}\n</code></pre>\n<p>The app can be found here: <a href=\"https://github.com/Epic-Breakfast-Productions/OpenQuarterMaster/tree/main/software/open-qm-base-station\" rel=\"nofollow noreferrer\">https://github.com/Epic-Breakfast-Productions/OpenQuarterMaster/tree/main/software/open-qm-base-station</a></p>\n<p>The tests are currently failing in the ways I am describing, so feel free to look around.</p>\n<p>Note that to run this, you will need to run <code>./gradlew build publishToMavenLocal</code> in <a href=\"https://github.com/Epic-Breakfast-Productions/OpenQuarterMaster/tree/main/software/libs/open-qm-core\" rel=\"nofollow noreferrer\">https://github.com/Epic-Breakfast-Productions/OpenQuarterMaster/tree/main/software/libs/open-qm-core</a> to install a dependency locally.</p>\n<p>Github issue also tracking this: <a href=\"https://github.com/quarkusio/quarkus/issues/22025\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/22025</a></p>\n"},{"tags":["java","selenium","selenium-ide"],"comments":[{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1429267382,"post_id":7990922,"comment_id":47529964,"body_markdown":"What version of Selenium IDE are you using?","body":"What version of Selenium IDE are you using?"}],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1557906079,"creation_date":1320309244,"answer_id":7991999,"question_id":7990922,"body_markdown":" Below are steps:\r\n\r\n 1. `Options-&gt;Format -&gt; select format of your choice` eg. [junit/testng/isfw][1] \r\n 2. Go to `Source tab`.\r\n\r\nTo export test case in specific format use\r\n\r\n    File-&gt;Export Test Case As -&gt; select format\r\nOne of the useful feature of Selenium IDE is, it provide option to set clipboard format so that you can copy commands form table view and paste in format of your choice of language.\r\n\r\n    Options-&gt;Clipboard Format -&gt; set format\r\nHere is the [selenium IDE documentation][2]. \r\n\r\n\r\n  [1]: https://www.seleniumhq.org/selenium-ide/docs/en/introduction/code-export/#java-junit\r\n  [2]: https://www.seleniumhq.org/selenium-ide/docs/en/introduction/getting-started/","title":"How to generate Java source code from Selenium IDE (IDE code is in HTML extension)","body":"<p>Below are steps:</p>\n\n<ol>\n<li><code>Options-&gt;Format -&gt; select format of your choice</code> eg. <a href=\"https://www.seleniumhq.org/selenium-ide/docs/en/introduction/code-export/#java-junit\" rel=\"nofollow noreferrer\">junit/testng/isfw</a> </li>\n<li>Go to <code>Source tab</code>.</li>\n</ol>\n\n<p>To export test case in specific format use</p>\n\n<pre><code>File-&gt;Export Test Case As -&gt; select format\n</code></pre>\n\n<p>One of the useful feature of Selenium IDE is, it provide option to set clipboard format so that you can copy commands form table view and paste in format of your choice of language.</p>\n\n<pre><code>Options-&gt;Clipboard Format -&gt; set format\n</code></pre>\n\n<p>Here is the <a href=\"https://www.seleniumhq.org/selenium-ide/docs/en/introduction/getting-started/\" rel=\"nofollow noreferrer\">selenium IDE documentation</a>. </p>\n"},{"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435645581,"creation_date":1435645581,"answer_id":31131083,"question_id":7990922,"body_markdown":"There are 2 ways for the Java code in Selenium IDE:\r\n\r\n**1st way:** By exporting recorded test case(HTML format) into java file:\r\n\r\n1. Record your tests in HTML format by using Selenium IDE&lt;br&gt;\r\n2. File -&gt; Export Test Case As -&gt; Java / JUnit4/ WebDriver&lt;br&gt;\r\n3. Save the file (it would be saved as .java and this will show your expected Java code)\r\n\r\n**2nd way:** To see the Java code directly in Selenium IDE\r\n\r\n1. Go to Options -&gt; Options... &lt;br&gt;\r\n2. At &quot;Selenium IDE Options&quot; window: Check the check box for &quot;Enable experimental features&quot; and click OK button&lt;br&gt;\r\n3. Options -&gt; Format -&gt; Java / JUnit4 / WebDriver&lt;br&gt;\r\n4. Click OK button from &quot;JavaScript Application&quot; pop up -&gt; You will see the desired Java source code for your recorded tests","title":"How to generate Java source code from Selenium IDE (IDE code is in HTML extension)","body":"<p>There are 2 ways for the Java code in Selenium IDE:</p>\n\n<p><strong>1st way:</strong> By exporting recorded test case(HTML format) into java file:</p>\n\n<ol>\n<li>Record your tests in HTML format by using Selenium IDE<br></li>\n<li>File -> Export Test Case As -> Java / JUnit4/ WebDriver<br></li>\n<li>Save the file (it would be saved as .java and this will show your expected Java code)</li>\n</ol>\n\n<p><strong>2nd way:</strong> To see the Java code directly in Selenium IDE</p>\n\n<ol>\n<li>Go to Options -> Options... <br></li>\n<li>At \"Selenium IDE Options\" window: Check the check box for \"Enable experimental features\" and click OK button<br></li>\n<li>Options -> Format -> Java / JUnit4 / WebDriver<br></li>\n<li>Click OK button from \"JavaScript Application\" pop up -> You will see the desired Java source code for your recorded tests</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10867764,"reputation":1,"user_id":7990604,"display_name":"suraj kakode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494406454,"creation_date":1494406454,"answer_id":43887758,"question_id":7990922,"body_markdown":"Go to option, click on Enable Experiment Feature, click OK\r\nClick oK when popUp. Now again check option&gt;Format&gt;select ur desired format. \r\nCode will be display on &quot;source&quot; tab","title":"How to generate Java source code from Selenium IDE (IDE code is in HTML extension)","body":"<p>Go to option, click on Enable Experiment Feature, click OK\nClick oK when popUp. Now again check option>Format>select ur desired format. \nCode will be display on \"source\" tab</p>\n"},{"tags":[],"owner":{"account_id":4226501,"reputation":13484,"user_id":3459910,"accept_rate":73,"display_name":"winklerrr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526388229,"creation_date":1526388229,"answer_id":50350544,"question_id":7990922,"body_markdown":"The current version of [Selenium IDE][1] (`version: 3.0.2`) doesn&#39;t seem to support the &quot;export to code&quot; functionality.\r\n\r\nBut there is an alternative plugin which also uses the new [Selenium framework][2] (`version: 3+`) and still offers the possibility to export tests directly to code (python, Java, etc.). It&#39;s called:\r\n\r\n**[Katalon Recorder][3]** (available for Chrome &amp; Firefox, for free!)\r\n\r\nAs you can see in the picture below: there is an &quot;Export&quot; button in the top menu bar.\r\n\r\n![Katalon Recorder][4]\r\n\r\n\r\n\r\n[1]: https://addons.mozilla.org/de/firefox/addon/selenium-ide/\r\n[2]: https://github.com/SeleniumHQ/selenium\r\n[3]: https://www.katalon.com/resources-center/blog/katalon-automation-recorder/\r\n[4]: https://d1h3p5fzmizjvp.cloudfront.net/wp-content/uploads/2017/11/02143412/Katalon-Recorder-3.3.png &quot;Katalon Recorder&quot;","title":"How to generate Java source code from Selenium IDE (IDE code is in HTML extension)","body":"<p>The current version of <a href=\"https://addons.mozilla.org/de/firefox/addon/selenium-ide/\" rel=\"nofollow noreferrer\">Selenium IDE</a> (<code>version: 3.0.2</code>) doesn't seem to support the \"export to code\" functionality.</p>\n\n<p>But there is an alternative plugin which also uses the new <a href=\"https://github.com/SeleniumHQ/selenium\" rel=\"nofollow noreferrer\">Selenium framework</a> (<code>version: 3+</code>) and still offers the possibility to export tests directly to code (python, Java, etc.). It's called:</p>\n\n<p><strong><a href=\"https://www.katalon.com/resources-center/blog/katalon-automation-recorder/\" rel=\"nofollow noreferrer\">Katalon Recorder</a></strong> (available for Chrome &amp; Firefox, for free!)</p>\n\n<p>As you can see in the picture below: there is an \"Export\" button in the top menu bar.</p>\n\n<p><img src=\"https://d1h3p5fzmizjvp.cloudfront.net/wp-content/uploads/2017/11/02143412/Katalon-Recorder-3.3.png\" alt=\"Katalon Recorder\" title=\"Katalon Recorder\"></p>\n"},{"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673264483,"creation_date":1673264483,"answer_id":75056766,"question_id":7990922,"body_markdown":"With version 4 of Selenium IDE, the export into multiple languages is possible directly from Selenium IDE:\r\n\r\nsource: https://expleoacademy.com/int/6-steps-to-create-and-export-selenium-ide-tests/\r\n\r\n1. \r\n\r\n[![Side pane with Tests, mouse hovering over &quot;...&quot; option of one test][1]][1]\r\n\r\n2.\r\n\r\n[![shows export menue, visiable after clicking the &quot;...&quot; option. Mouse hovering over the entry &quot;Export&quot;][2]][2]\r\n\r\n3. \r\n\r\n[![bullet points to selected export language and framework (C#, Java, JavaScript, Python, Ruby), as well as further export options][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9tvX3.png\r\n  [2]: https://i.stack.imgur.com/OHQgS.png\r\n  [3]: https://i.stack.imgur.com/wKlLA.png","title":"How to generate Java source code from Selenium IDE (IDE code is in HTML extension)","body":"<p>With version 4 of Selenium IDE, the export into multiple languages is possible directly from Selenium IDE:</p>\n<p>source: <a href=\"https://expleoacademy.com/int/6-steps-to-create-and-export-selenium-ide-tests/\" rel=\"nofollow noreferrer\">https://expleoacademy.com/int/6-steps-to-create-and-export-selenium-ide-tests/</a></p>\n<p>1.</p>\n<p><a href=\"https://i.stack.imgur.com/9tvX3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9tvX3.png\" alt=\"Side pane with Tests, mouse hovering over &quot;...&quot; option of one test\" /></a></p>\n<p>2.</p>\n<p><a href=\"https://i.stack.imgur.com/OHQgS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OHQgS.png\" alt=\"shows export menue, visiable after clicking the &quot;...&quot; option. Mouse hovering over the entry &quot;Export&quot;\" /></a></p>\n<p>3.</p>\n<p><a href=\"https://i.stack.imgur.com/wKlLA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wKlLA.png\" alt=\"bullet points to selected export language and framework (C#, Java, JavaScript, Python, Ruby), as well as further export options\" /></a></p>\n"}],"owner":{"account_id":475453,"reputation":3047,"user_id":885798,"accept_rate":70,"display_name":"max"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25449,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7991999,"answer_count":5,"score":8,"last_activity_date":1673264483,"creation_date":1320300693,"question_id":7990922,"body_markdown":"I am using Selenium IDE (a Firefox plugin) for doing testing. I am unable to see java code when I start recording something. What I see always is HTML. Any idea what can be the best way to get the java source code. Please any one can help on this. \r\n\r\nThanks a lot.","title":"How to generate Java source code from Selenium IDE (IDE code is in HTML extension)","body":"<p>I am using Selenium IDE (a Firefox plugin) for doing testing. I am unable to see java code when I start recording something. What I see always is HTML. Any idea what can be the best way to get the java source code. Please any one can help on this. </p>\n\n<p>Thanks a lot.</p>\n"},{"tags":["java","bazel"],"comments":[{"owner":{"account_id":2437175,"reputation":2940,"user_id":2144408,"accept_rate":75,"display_name":"TamaMcGlinn"},"score":0,"creation_date":1639402307,"post_id":68594321,"comment_id":124331894,"body_markdown":"Could you add the output of `java --version` to your question? For me, I just didn&#39;t have a jdk installed, so I needed to do `sudo apt install default-jdk`","body":"Could you add the output of <code>java --version</code> to your question? For me, I just didn&#39;t have a jdk installed, so I needed to do <code>sudo apt install default-jdk</code>"},{"owner":{"account_id":9436770,"reputation":239,"user_id":7018565,"display_name":"user7018565"},"score":0,"creation_date":1641833838,"post_id":68594321,"comment_id":124904852,"body_markdown":"The VM is now running &quot;bullseye&quot; and the issue is no longer there!?","body":"The VM is now running &quot;bullseye&quot; and the issue is no longer there!?"}],"answers":[{"tags":[],"owner":{"account_id":9436770,"reputation":239,"user_id":7018565,"display_name":"user7018565"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641834058,"creation_date":1641834058,"answer_id":70656170,"question_id":68594321,"body_markdown":"Today, I have retested for the first time since long, and the issue seems to be gone.  The VM is running `bullseye`.\r\n\r\nBazel version:\r\n\r\n~~~~\r\n$ bazel version\r\nBazelisk version: v1.10.1\r\nBuild label: 4.2.1\r\nBuild target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Mon Aug 30 15:17:47 2021 (1630336667)\r\nBuild timestamp: 1630336667\r\nBuild timestamp as int: 1630336667\r\n~~~~\r\n\r\n\r\nJava version:\r\n\r\n~~~~\r\n$ java --version\r\nopenjdk 11.0.13 2021-10-19\r\nOpenJDK Runtime Environment (build 11.0.13+8-post-Debian-1deb11u1)\r\nOpenJDK 64-Bit Server VM (build 11.0.13+8-post-Debian-1deb11u1, mixed mode, sharing)\r\n~~~~\r\n\r\nMaybe a heisenbug ...\r\n","title":"Error in fail: Auto-Configuration Error: Cannot find Java binary bin/java","body":"<p>Today, I have retested for the first time since long, and the issue seems to be gone.  The VM is running <code>bullseye</code>.</p>\n<p>Bazel version:</p>\n<pre><code>$ bazel version\nBazelisk version: v1.10.1\nBuild label: 4.2.1\nBuild target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Mon Aug 30 15:17:47 2021 (1630336667)\nBuild timestamp: 1630336667\nBuild timestamp as int: 1630336667\n</code></pre>\n<p>Java version:</p>\n<pre><code>$ java --version\nopenjdk 11.0.13 2021-10-19\nOpenJDK Runtime Environment (build 11.0.13+8-post-Debian-1deb11u1)\nOpenJDK 64-Bit Server VM (build 11.0.13+8-post-Debian-1deb11u1, mixed mode, sharing)\n</code></pre>\n<p>Maybe a heisenbug ...</p>\n"},{"tags":[],"owner":{"account_id":4746724,"reputation":51,"user_id":3837871,"display_name":"Raulcr93"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643195038,"creation_date":1643195038,"answer_id":70862440,"question_id":68594321,"body_markdown":"I had the same error but I resolved it with the correct installation of the jdk. Check that your version of bazel does not mark this Warning:\r\n\r\n    bazel version \r\n    Bazelisk version: v1.11.0\r\n    **WARNING: Ignoring JAVA_HOME, because it must point to a JDK, not a JRE.**\r\n    Build label: 4.2.1\r\n    Build target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\n    Build time: Mon Aug 30 15:17:47 2021 (1630336667)\r\n    Build timestamp: 1630336667\r\n    Build timestamp as int: 1630336667\r\n\r\nIf this warning appears, it means that we have a problem with the jdk, validate that you have the javac command installed with the following command:\r\n\r\n    javac -version\r\n\r\nIf it is not installed, look for the installation for your platform, in my case it is with the following command:\r\n\r\n    sudo apt install default-jdk\r\n\r\nFinally verify the installation directory with the following command:\r\n\r\n    sudo update-alternatives --config javac\r\n\r\nMake sure you have the JAVA_HOME configured correctly.\r\n\r\n","title":"Error in fail: Auto-Configuration Error: Cannot find Java binary bin/java","body":"<p>I had the same error but I resolved it with the correct installation of the jdk. Check that your version of bazel does not mark this Warning:</p>\n<pre><code>bazel version \nBazelisk version: v1.11.0\n**WARNING: Ignoring JAVA_HOME, because it must point to a JDK, not a JRE.**\nBuild label: 4.2.1\nBuild target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Mon Aug 30 15:17:47 2021 (1630336667)\nBuild timestamp: 1630336667\nBuild timestamp as int: 1630336667\n</code></pre>\n<p>If this warning appears, it means that we have a problem with the jdk, validate that you have the javac command installed with the following command:</p>\n<pre><code>javac -version\n</code></pre>\n<p>If it is not installed, look for the installation for your platform, in my case it is with the following command:</p>\n<pre><code>sudo apt install default-jdk\n</code></pre>\n<p>Finally verify the installation directory with the following command:</p>\n<pre><code>sudo update-alternatives --config javac\n</code></pre>\n<p>Make sure you have the JAVA_HOME configured correctly.</p>\n"},{"tags":[],"owner":{"account_id":97993,"reputation":90061,"user_id":265521,"accept_rate":58,"display_name":"Timmmm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673264435,"creation_date":1673264435,"answer_id":75056754,"question_id":68594321,"body_markdown":"This is a confusing error message - it says it can&#39;t find `bin/java` but I did have `java` available on my system.\r\n\r\nThe issue is that I had the JRE (Java Runtime Environment) which lets you run Java programs with the `java` command, but I did not have the JDK (Java Development Environment) which lets you *compile* Java code with the `javac` command. That&#39;s what Bazel actually wants.\r\n\r\nI&#39;m on RHEL 8 so I installed it like this:\r\n\r\n```\r\nsudo dnf install java-1.8.0-openjdk-devel\r\n```","title":"Error in fail: Auto-Configuration Error: Cannot find Java binary bin/java","body":"<p>This is a confusing error message - it says it can't find <code>bin/java</code> but I did have <code>java</code> available on my system.</p>\n<p>The issue is that I had the JRE (Java Runtime Environment) which lets you run Java programs with the <code>java</code> command, but I did not have the JDK (Java Development Environment) which lets you <em>compile</em> Java code with the <code>javac</code> command. That's what Bazel actually wants.</p>\n<p>I'm on RHEL 8 so I installed it like this:</p>\n<pre><code>sudo dnf install java-1.8.0-openjdk-devel\n</code></pre>\n"}],"owner":{"account_id":9436770,"reputation":239,"user_id":7018565,"display_name":"user7018565"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2635,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1673264435,"creation_date":1627662779,"question_id":68594321,"body_markdown":"I am using the following configuration on an up-to-date Debian Testing:\r\n\r\n~~~~\r\n$ bazel version\r\nBazelisk version: v1.10.1\r\nStarting local Bazel server and connecting to it...\r\nBuild label: 4.0.0\r\nBuild target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\r\nBuild time: Thu Jan 21 07:33:24 2021 (1611214404)\r\nBuild timestamp: 1611214404\r\nBuild timestamp as int: 1611214404\r\n~~~~\r\n\r\nI have openjdk 11 (currently 11.0.11) installed and `update-alternatives` points to it via `/usr/bin/java`. Environment variable `JAVA_HOME` is **unset**.\r\n\r\nIn this configuration the following command fails:\r\n\r\n~~~~\r\n$ bazel coverage --config=linux_x86 -c dbg --instrumentation_filter=&quot;//implementation:atos_utest&quot; //implementation/src/utest:all 2&gt;&amp;1 | tee /tmp/buildlog.txt\r\n2021/07/30 16:40:49 Downloading https://releases.bazel.build/4.0.0/release/bazel-4.0.0-linux-x86_64...\r\nExtracting Bazel installation...\r\nStarting local Bazel server and connecting to it...\r\nLoading: \r\nLoading: 0 packages loaded\r\nLoading: 0 packages loaded\r\n    currently loading: implementation/src/utest\r\nAnalyzing: 27 targets (1 packages loaded)\r\nAnalyzing: 27 targets (1 packages loaded, 0 targets configured)\r\nAnalyzing: 27 targets (18 packages loaded, 73 targets configured)\r\nAnalyzing: 27 targets (27 packages loaded, 144 targets configured)\r\nERROR: /home/atoml/.cache/bazel/_bazel_atoml/ababbc8a7f78bac9d28b91a651da5105/external/local_jdk/BUILD.bazel:3:10: in fail_rule rule @local_jdk//:jdk: \r\nTraceback (most recent call last):\r\n\tFile &quot;/home/atoml/.cache/bazel/_bazel_atoml/ababbc8a7f78bac9d28b91a651da5105/external/bazel_tools/tools/jdk/fail_rule.bzl&quot;, line 19, column 13, in _fail_rule_impl\r\n\t\tfail(&quot;%s %s&quot; % (ctx.attr.header, ctx.attr.message))\r\nError in fail: Auto-Configuration Error: Cannot find Java binary bin/java in /home/atoml/.cache/bazel/_bazel_atoml/install/1a4a2fac02d50c77031d44c0d91b8920/embedded_tools/tools/jdk/nosystemjdk; either correct your JAVA_HOME, PATH or specify embedded Java (e.g. --javabase=@bazel_tools//tools/jdk:remote_jdk11)\r\nERROR: Analysis of target &#39;//implementation/src/utest:uut_compdb&#39; failed; build aborted: Analysis of target &#39;@local_jdk//:jdk&#39; failed\r\nINFO: Elapsed time: 7.681s\r\nINFO: 0 processes.\r\nFAILED: Build did NOT complete successfully (29 packages loaded, 367 targets configured)\r\nERROR: Couldn&#39;t start the build. Unable to run tests\r\nFAILED: Build did NOT complete successfully (29 packages loaded, 367 targets configured)\r\n~~~~\r\n\r\nOther build commands succeed. This is a VM setup, on other VM instances with the same configuration as described above, this command succeeds.\r\n\r\nI&#39;d be grateful for hints.  Simple things like `bazel clean` as in [a similar question][1] do not help, I have even removed the build cache completely, but to no avail. BTW. my build has nothing to do with android.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68481735/error-in-fail-auto-configuration-error-cannot-find-java-binary","title":"Error in fail: Auto-Configuration Error: Cannot find Java binary bin/java","body":"<p>I am using the following configuration on an up-to-date Debian Testing:</p>\n<pre><code>$ bazel version\nBazelisk version: v1.10.1\nStarting local Bazel server and connecting to it...\nBuild label: 4.0.0\nBuild target: bazel-out/k8-opt/bin/src/main/java/com/google/devtools/build/lib/bazel/BazelServer_deploy.jar\nBuild time: Thu Jan 21 07:33:24 2021 (1611214404)\nBuild timestamp: 1611214404\nBuild timestamp as int: 1611214404\n</code></pre>\n<p>I have openjdk 11 (currently 11.0.11) installed and <code>update-alternatives</code> points to it via <code>/usr/bin/java</code>. Environment variable <code>JAVA_HOME</code> is <strong>unset</strong>.</p>\n<p>In this configuration the following command fails:</p>\n<pre><code>$ bazel coverage --config=linux_x86 -c dbg --instrumentation_filter=&quot;//implementation:atos_utest&quot; //implementation/src/utest:all 2&gt;&amp;1 | tee /tmp/buildlog.txt\n2021/07/30 16:40:49 Downloading https://releases.bazel.build/4.0.0/release/bazel-4.0.0-linux-x86_64...\nExtracting Bazel installation...\nStarting local Bazel server and connecting to it...\nLoading: \nLoading: 0 packages loaded\nLoading: 0 packages loaded\n    currently loading: implementation/src/utest\nAnalyzing: 27 targets (1 packages loaded)\nAnalyzing: 27 targets (1 packages loaded, 0 targets configured)\nAnalyzing: 27 targets (18 packages loaded, 73 targets configured)\nAnalyzing: 27 targets (27 packages loaded, 144 targets configured)\nERROR: /home/atoml/.cache/bazel/_bazel_atoml/ababbc8a7f78bac9d28b91a651da5105/external/local_jdk/BUILD.bazel:3:10: in fail_rule rule @local_jdk//:jdk: \nTraceback (most recent call last):\n    File &quot;/home/atoml/.cache/bazel/_bazel_atoml/ababbc8a7f78bac9d28b91a651da5105/external/bazel_tools/tools/jdk/fail_rule.bzl&quot;, line 19, column 13, in _fail_rule_impl\n        fail(&quot;%s %s&quot; % (ctx.attr.header, ctx.attr.message))\nError in fail: Auto-Configuration Error: Cannot find Java binary bin/java in /home/atoml/.cache/bazel/_bazel_atoml/install/1a4a2fac02d50c77031d44c0d91b8920/embedded_tools/tools/jdk/nosystemjdk; either correct your JAVA_HOME, PATH or specify embedded Java (e.g. --javabase=@bazel_tools//tools/jdk:remote_jdk11)\nERROR: Analysis of target '//implementation/src/utest:uut_compdb' failed; build aborted: Analysis of target '@local_jdk//:jdk' failed\nINFO: Elapsed time: 7.681s\nINFO: 0 processes.\nFAILED: Build did NOT complete successfully (29 packages loaded, 367 targets configured)\nERROR: Couldn't start the build. Unable to run tests\nFAILED: Build did NOT complete successfully (29 packages loaded, 367 targets configured)\n</code></pre>\n<p>Other build commands succeed. This is a VM setup, on other VM instances with the same configuration as described above, this command succeeds.</p>\n<p>I'd be grateful for hints.  Simple things like <code>bazel clean</code> as in <a href=\"https://stackoverflow.com/questions/68481735/error-in-fail-auto-configuration-error-cannot-find-java-binary\">a similar question</a> do not help, I have even removed the build cache completely, but to no avail. BTW. my build has nothing to do with android.</p>\n"},{"tags":["javascript","java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673016726,"creation_date":1673016726,"answer_id":75032491,"question_id":75032331,"body_markdown":"The answer here depends on why you want it ! One way to do it is with updating a field in database when the event is triggered and you need to have a looping check in your java code that asks the same database if the event was triggered ... &lt;br /&gt;\r\nAlso, You can&#39;t access that information directly ! Witch is very good to provide security for the user … imagine you take the user to his PayPal account and he sees a perfectly functioning PayPal web page with all purchases. If your android app has access to the scripts in his website, i think we all know what can happend.\r\n","title":"How to listen for javascript events from a native android application?","body":"<p>The answer here depends on why you want it ! One way to do it is with updating a field in database when the event is triggered and you need to have a looping check in your java code that asks the same database if the event was triggered ... <br />\nAlso, You can't access that information directly ! Witch is very good to provide security for the user … imagine you take the user to his PayPal account and he sees a perfectly functioning PayPal web page with all purchases. If your android app has access to the scripts in his website, i think we all know what can happend.</p>\n"},{"tags":[],"owner":{"account_id":10661662,"reputation":79,"user_id":7849477,"display_name":"GNova"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673264053,"creation_date":1673264053,"answer_id":75056684,"question_id":75032331,"body_markdown":"I found the solution that seems to have worked, it was posted on another Answer:\r\n\r\nUsing our webview implementation. We implemented the onPageFinished method in order to inject our JS code to load the web:\r\n\r\n    override fun onPageFinished(url: String?) {\r\n    webview.loadUrl(\r\n    &quot;javascript:(function() {&quot; +\r\n        &quot;window.parent.addEventListener (&#39;message&#39;, function(event) {&quot; +\r\n        &quot; Android.receiveMessage(JSON.stringify(event.data));});&quot; +\r\n        &quot;})()&quot;\r\n    )\r\n    }\r\n\r\n\r\nwhat we are doing is creating a listener that sends those messages to our own JS and Android Bridge interface. Which we&#39;ve previously created in the webview setup in our Android activity as we normally do with addJavascriptInterface.\r\n\r\n    webview.addJavascriptInterface(JsObject(presenter), &quot;Android”)\r\n\r\nThis way, we already have that communication bridge and all the messages sent by the postMessage will reach us in that interface that is subscribed with that listener.\r\n\r\n    class JsObject(val presenter: Presenter) {\r\n        @JavascriptInterface\r\n        fun receiveMessage(data: String): Boolean {\r\n            presenter.onDataReceived(data)\r\n            Log.d(&quot;Data from JS&quot;, data)\r\n            return true\r\n        }\r\n\r\nOriginal Answer:\r\nhttps://stackoverflow.com/a/62500309/7849477\r\n\r\nHope it helps someone else.","title":"How to listen for javascript events from a native android application?","body":"<p>I found the solution that seems to have worked, it was posted on another Answer:</p>\n<p>Using our webview implementation. We implemented the onPageFinished method in order to inject our JS code to load the web:</p>\n<pre><code>override fun onPageFinished(url: String?) {\nwebview.loadUrl(\n&quot;javascript:(function() {&quot; +\n    &quot;window.parent.addEventListener ('message', function(event) {&quot; +\n    &quot; Android.receiveMessage(JSON.stringify(event.data));});&quot; +\n    &quot;})()&quot;\n)\n}\n</code></pre>\n<p>what we are doing is creating a listener that sends those messages to our own JS and Android Bridge interface. Which we've previously created in the webview setup in our Android activity as we normally do with addJavascriptInterface.</p>\n<pre><code>webview.addJavascriptInterface(JsObject(presenter), &quot;Android”)\n</code></pre>\n<p>This way, we already have that communication bridge and all the messages sent by the postMessage will reach us in that interface that is subscribed with that listener.</p>\n<pre><code>class JsObject(val presenter: Presenter) {\n    @JavascriptInterface\n    fun receiveMessage(data: String): Boolean {\n        presenter.onDataReceived(data)\n        Log.d(&quot;Data from JS&quot;, data)\n        return true\n    }\n</code></pre>\n<p>Original Answer:\n<a href=\"https://stackoverflow.com/a/62500309/7849477\">https://stackoverflow.com/a/62500309/7849477</a></p>\n<p>Hope it helps someone else.</p>\n"}],"owner":{"account_id":10661662,"reputation":79,"user_id":7849477,"display_name":"GNova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75056684,"answer_count":2,"score":1,"last_activity_date":1673264053,"creation_date":1673015912,"question_id":75032331,"body_markdown":"I have a native Android app that has a webView that loads a web page I have no control over.\r\n\r\nIn app I need to track/detect a “MessageEvent” that happens when a button is clicked on this page within the webView. \r\n\r\nScenario: \r\nUser presses a button within the webView which fires off a &quot;MessageEvent&quot;, When this “MessageEvent” is detected, a method in the Java/Kotlin code needs to be called, either through a listener that waits for this “MessageEvent” or another way(irrelevant how the method is called).\r\n\r\n\r\nMy main concern is how to detect this javascript “MessageEvent” event within my Java/Kotlin code.","title":"How to listen for javascript events from a native android application?","body":"<p>I have a native Android app that has a webView that loads a web page I have no control over.</p>\n<p>In app I need to track/detect a “MessageEvent” that happens when a button is clicked on this page within the webView.</p>\n<p>Scenario:\nUser presses a button within the webView which fires off a &quot;MessageEvent&quot;, When this “MessageEvent” is detected, a method in the Java/Kotlin code needs to be called, either through a listener that waits for this “MessageEvent” or another way(irrelevant how the method is called).</p>\n<p>My main concern is how to detect this javascript “MessageEvent” event within my Java/Kotlin code.</p>\n"},{"tags":["java","jsf","jakarta-ee-security-api"],"comments":[{"owner":{"account_id":384223,"reputation":1237,"user_id":740582,"accept_rate":39,"display_name":"Marcos"},"score":0,"creation_date":1673360766,"post_id":74988689,"comment_id":132477822,"body_markdown":"Maybe this question can be helpful: https://stackoverflow.com/questions/64750354/on-a-successful-login-securitycontext-authenticate-returns-authenticationstat","body":"Maybe this question can be helpful: <a href=\"https://stackoverflow.com/questions/64750354/on-a-successful-login-securitycontext-authenticate-returns-authenticationstat\" title=\"on a successful login securitycontext authenticate returns authenticationstat\">stackoverflow.com/questions/64750354/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":907715,"reputation":3063,"user_id":942261,"accept_rate":88,"display_name":"DaveB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673263943,"creation_date":1673263943,"answer_id":75056670,"question_id":74988689,"body_markdown":"Have you tried adding [@AutoApplySession][1] to your ApplicationConfig? This should instruct the servlet to store authentication status in Session scope\r\n\r\n\r\n  [1]: https://javaee.github.io/security-api/apidocs/index.html?javax/security/enterprise/authentication/mechanism/http/AutoApplySession.html","title":"Jakarta EE 10: Why am I being asked to login again after already loggin in?","body":"<p>Have you tried adding <a href=\"https://javaee.github.io/security-api/apidocs/index.html?javax/security/enterprise/authentication/mechanism/http/AutoApplySession.html\" rel=\"nofollow noreferrer\">@AutoApplySession</a> to your ApplicationConfig? This should instruct the servlet to store authentication status in Session scope</p>\n"}],"owner":{"account_id":19624165,"reputation":35,"user_id":14363960,"display_name":"mauvecrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673263943,"creation_date":1672714535,"question_id":74988689,"body_markdown":"I am trying to implement role based security to a web app using Jakarta EE 10 and JSF 4.0.\r\nI currently have some resources secured with the following url pattern: /myApp/*. (details in web.xml below)\r\n\r\nI am using a custom database identity store and a custom form authentication mechanism. I believe this is working correctly since I am being asked to login, and entering appropriate credentials redirects me to the desired page: /myApp/transactions.xhtml.\r\n\r\nI have another page, /myApp/import.xhtml. I access this page via a custom component, that currently uses h:commandLink, defined in transactions.xhtml.\r\n\r\nMy question: why am I being asked to login again when I navigate from transaction.xhtml to import.xhtml? My expectation is that I should be prompted to login once, and then be able to access any secured pages (e.g. import.xhtml) without having to login again.\r\n\r\nI do add my user to the session map (see below Login bean). \r\n\r\nHere is the code for the application configuration to do custom database identity store and a custom form authentication mechanism:\r\n\r\n\r\n\r\n```\r\n@ApplicationScoped\r\n@DatabaseIdentityStoreDefinition(\r\n        dataSourceLookup = &quot;java:/MySqlDS&quot;,\r\n        callerQuery = &quot;select enc_password from id_store_callers where username = ?&quot;,\r\n        groupsQuery = &quot;select idsg.group_name from id_store_groups idsg, id_store_callers idsc &quot; +\r\n                &quot;where idsg.caller_id = idsc.ids_caller_id and idsc.username = ?&quot;\r\n)\r\n@CustomFormAuthenticationMechanismDefinition(\r\n        loginToContinue = @LoginToContinue(\r\n                loginPage = &quot;/login.xhtml&quot;,\r\n                errorPage = &quot;&quot;,\r\n                useForwardToLogin = false\r\n        )\r\n)\r\npublic class ApplicationConfig {\r\n}\r\n```\r\n\r\n\r\n\r\nLogin page\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:h=&quot;jakarta.faces.html&quot;\r\n      xmlns:ui=&quot;jakarta.faces.facelets&quot;\r\n      xmlns:f=&quot;jakarta.faces.core&quot;&gt;\r\n&lt;f:view&gt;\r\n    &lt;h:head&gt;\r\n        &lt;title&gt;Login&lt;/title&gt;\r\n    &lt;/h:head&gt;\r\n    &lt;h:body&gt;\r\n        &lt;h:form&gt;\r\n            &lt;h:outputLabel for=&quot;username&quot; value=&quot;Username&quot;/&gt;\r\n            &lt;h:inputText id=&quot;username&quot; value=&quot;#{cLogin.username}&quot; size=&quot;45&quot; /&gt;\r\n            &lt;br /&gt;\r\n            &lt;h:outputLabel for=&quot;password&quot; value=&quot;Password&quot;/&gt;\r\n            &lt;h:inputSecret id=&quot;password&quot; value=&quot;#{cLogin.password}&quot; size=&quot;45&quot; /&gt;\r\n            &lt;br /&gt;\r\n            &lt;h:commandButton value=&quot;Login&quot; action=&quot;#{cLogin.login()}&quot; ajax=&quot;false&quot;/&gt;\r\n        &lt;/h:form&gt;\r\n    &lt;/h:body&gt;\r\n\r\n&lt;/f:view&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nLogin bean:\r\n\r\n```\r\n@Named(&quot;cLogin&quot;)\r\n@ViewScoped\r\npublic class LoginController implements Serializable {\r\n\r\n    @Inject\r\n    SecurityContext securityContext;\r\n\r\n    @Inject\r\n    FacesContext facesContext;\r\n\r\n    private String username;\r\n\r\n    private String password;\r\n\r\n    public void login() throws IOException {\r\n        ExternalContext ec = facesContext.getExternalContext();\r\n        HttpServletRequest req = (HttpServletRequest) ec.getRequest();\r\n        HttpServletResponse resp = (HttpServletResponse) ec.getResponse();\r\n\r\n        AuthenticationParameters params = AuthenticationParameters.withParams()\r\n                        .credential(\r\n                                new UsernamePasswordCredential(username,password)\r\n                        );\r\n        AuthenticationStatus outcome = securityContext.authenticate(req, resp, params);\r\n\r\n        String url = (String) ec.getRequestMap()\r\n                .get(RequestDispatcher.FORWARD_REQUEST_URI);\r\n        System.out.println(&quot;url: &quot; + url);\r\n        String query = (String) ec.getRequestMap()\r\n                .get(RequestDispatcher.FORWARD_QUERY_STRING);\r\n        System.out.println(&quot;query: &quot; + query);\r\n\r\n        if(outcome != AuthenticationStatus.SEND_FAILURE){\r\n            System.out.println(&quot;auth status: &quot; + outcome);\r\n            ec.getSessionMap()\r\n                    .putIfAbsent(&quot;user&quot;,securityContext.getCallerPrincipal().getName());\r\n            System.out.println(&quot;session user: &quot; + ec.getSessionMap().get(&quot;user&quot;));\r\n\r\n            if(url == null &amp;&amp; outcome == AuthenticationStatus.SUCCESS){\r\n                url = ec.getRequestContextPath() + &quot;/myApp/transactions.xhtml&quot;;\r\n                ec.redirect(url);\r\n            }\r\n            else if(url == null &amp;&amp; outcome == AuthenticationStatus.SEND_CONTINUE){\r\n                facesContext.responseComplete();\r\n            }\r\n        }\r\n        else {\r\n            facesContext.addMessage(null, new FacesMessage(FacesMessage.SEVERITY_ERROR, &quot;invalid credentials&quot;, null));\r\n        }\r\n\r\n    }\r\n\r\n    public String logout() throws ServletException {\r\n        ExternalContext ec = facesContext.getExternalContext();\r\n        ((HttpServletRequest)ec.getRequest())\r\n                .logout();\r\n        return &quot;/index.html?faces-redirect=true&quot;;\r\n    }\r\n\r\n    public String returnHome() {\r\n        return &quot;/myApp/transactions.xhtml?faces-redirect=true&quot;;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n```\r\n\r\n\r\n\r\nweb.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;\r\n         version=&quot;6.0&quot;&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;jakarta.faces.webapp.FacesServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;security-constraint&gt;\r\n        &lt;display-name&gt;Planner Role&lt;/display-name&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;All Transaction Pages&lt;/web-resource-name&gt;\r\n            &lt;url-pattern&gt;/myApp/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;auth-constraint&gt;\r\n            &lt;role-name&gt;planner&lt;/role-name&gt;\r\n        &lt;/auth-constraint&gt;\r\n    &lt;/security-constraint&gt;\r\n    &lt;security-constraint&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;JSF resources&lt;/web-resource-name&gt;\r\n            &lt;url-pattern&gt;/resources/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;auth-constraint /&gt;\r\n    &lt;/security-constraint&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;/index.xhtml&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\n\r\n\r\ntransactions.xhtml\r\n\r\n\r\n```\r\n&lt;ui:composition\r\n    xmlns:h=&quot;jakarta.faces.html&quot;\r\n    xmlns:ui=&quot;jakarta.faces.facelets&quot;\r\n    template=&quot;/WEB-INF/templates/homeTemplate.xhtml&quot;\r\n    xmlns:bq=&quot;jakarta.faces.composite/bqcomp&quot;\r\n&gt;\r\n    &lt;ui:param name=&quot;title&quot; value=&quot;My Transactions Home&quot; /&gt;\r\n    &lt;ui:define name=&quot;header&quot;&gt;\r\n        &lt;h:link value=&quot;Home&quot; outcome=&quot;#{cLogin.returnHome()}&quot;/&gt;\r\n        &lt;h:link value=&quot;Logout&quot; outcome=&quot;#{cLogin.logout()}&quot;/&gt;\r\n    &lt;/ui:define&gt;\r\n    &lt;ui:define name=&quot;main&quot;&gt;\r\n        &lt;h:outputStylesheet library=&quot;myApp&quot; name=&quot;css/components.css&quot; target=&quot;head&quot; /&gt;\r\n        &lt;h3&gt;Welcome #{cUser.username}&lt;/h3&gt;\r\n        &lt;bq:card title=&quot;Import&quot; image=&quot;upload.png&quot; navigation=&quot;import.xhtml?faces-redirect=true&quot;/&gt;\r\n    &lt;/ui:define&gt;\r\n&lt;/ui:composition&gt;\r\n```\r\n\r\n\r\n\r\ncard component:\r\n\r\n\r\n```\r\n&lt;ui:component xmlns:composite=&quot;jakarta.faces.composite&quot;\r\n    xmlns:ui=&quot;jakarta.faces.facelets&quot;\r\n    xmlns:h=&quot;jakarta.faces.html&quot;&gt;\r\n    &lt;composite:interface name=&quot;card&quot;\r\n                  displayName=&quot;Simple Card component&quot;&gt;\r\n        &lt;composite:attribute name=&quot;title&quot; required=&quot;true&quot; /&gt;\r\n        &lt;composite:attribute name=&quot;image&quot; required=&quot;false&quot; /&gt;\r\n        &lt;composite:attribute name=&quot;navigation&quot; /&gt;\r\n    &lt;/composite:interface&gt;\r\n    &lt;composite:implementation&gt;\r\n        &lt;div class=&quot;card-outer&quot;&gt;\r\n            &lt;div class=&quot;card-text&quot;&gt;\r\n                &lt;h:outputText value=&quot;#{cc.attrs.title}&quot; /&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;card-inner&quot;&gt;\r\n&lt;h:form&gt;\r\n    &lt;h:commandLink action=&quot;#{cUser.cardAction(cc.attrs.navigation)}&quot; &gt;\r\n        &lt;h:graphicImage library=&quot;images&quot; name=&quot;#{cc.attrs.image}&quot; rendered=&quot;#{not empty cc.attrs.image}&quot;/&gt;\r\n    &lt;/h:commandLink&gt;\r\n&lt;/h:form&gt;\r\n\r\n\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/composite:implementation&gt;\r\n&lt;/ui:component&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\nLastly, I&#39;m a coding enthusiast. Forgive me if there is something basic/fundamental that I&#39;m missing. I&#39;m trying to learn to build my own web app with Java, any feedback is welcome.\r\n\r\nThanks.\r\n\r\nI&#39;ve tried changing the Login bean from ViewScope and SessionScope. Looking at other posts, it seemed like the key is to have a &quot;user&quot; object in the Session Map; but I don&#39;t fully understand the significance of the &quot;user&quot; object.\r\n\r\nI am using a Database Identity store because I don&#39;t want to configure users and roles within the application server; I am defining them in a MySql database. I have a separate been to register new users with the &quot;planner&quot; role. That is working fine.\r\n\r\nI want to have secured pages, and I also only expect to login once per session. ","title":"Jakarta EE 10: Why am I being asked to login again after already loggin in?","body":"<p>I am trying to implement role based security to a web app using Jakarta EE 10 and JSF 4.0.\nI currently have some resources secured with the following url pattern: /myApp/*. (details in web.xml below)</p>\n<p>I am using a custom database identity store and a custom form authentication mechanism. I believe this is working correctly since I am being asked to login, and entering appropriate credentials redirects me to the desired page: /myApp/transactions.xhtml.</p>\n<p>I have another page, /myApp/import.xhtml. I access this page via a custom component, that currently uses h:commandLink, defined in transactions.xhtml.</p>\n<p>My question: why am I being asked to login again when I navigate from transaction.xhtml to import.xhtml? My expectation is that I should be prompted to login once, and then be able to access any secured pages (e.g. import.xhtml) without having to login again.</p>\n<p>I do add my user to the session map (see below Login bean).</p>\n<p>Here is the code for the application configuration to do custom database identity store and a custom form authentication mechanism:</p>\n<pre><code>@ApplicationScoped\n@DatabaseIdentityStoreDefinition(\n        dataSourceLookup = &quot;java:/MySqlDS&quot;,\n        callerQuery = &quot;select enc_password from id_store_callers where username = ?&quot;,\n        groupsQuery = &quot;select idsg.group_name from id_store_groups idsg, id_store_callers idsc &quot; +\n                &quot;where idsg.caller_id = idsc.ids_caller_id and idsc.username = ?&quot;\n)\n@CustomFormAuthenticationMechanismDefinition(\n        loginToContinue = @LoginToContinue(\n                loginPage = &quot;/login.xhtml&quot;,\n                errorPage = &quot;&quot;,\n                useForwardToLogin = false\n        )\n)\npublic class ApplicationConfig {\n}\n</code></pre>\n<p>Login page</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:h=&quot;jakarta.faces.html&quot;\n      xmlns:ui=&quot;jakarta.faces.facelets&quot;\n      xmlns:f=&quot;jakarta.faces.core&quot;&gt;\n&lt;f:view&gt;\n    &lt;h:head&gt;\n        &lt;title&gt;Login&lt;/title&gt;\n    &lt;/h:head&gt;\n    &lt;h:body&gt;\n        &lt;h:form&gt;\n            &lt;h:outputLabel for=&quot;username&quot; value=&quot;Username&quot;/&gt;\n            &lt;h:inputText id=&quot;username&quot; value=&quot;#{cLogin.username}&quot; size=&quot;45&quot; /&gt;\n            &lt;br /&gt;\n            &lt;h:outputLabel for=&quot;password&quot; value=&quot;Password&quot;/&gt;\n            &lt;h:inputSecret id=&quot;password&quot; value=&quot;#{cLogin.password}&quot; size=&quot;45&quot; /&gt;\n            &lt;br /&gt;\n            &lt;h:commandButton value=&quot;Login&quot; action=&quot;#{cLogin.login()}&quot; ajax=&quot;false&quot;/&gt;\n        &lt;/h:form&gt;\n    &lt;/h:body&gt;\n\n&lt;/f:view&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Login bean:</p>\n<pre><code>@Named(&quot;cLogin&quot;)\n@ViewScoped\npublic class LoginController implements Serializable {\n\n    @Inject\n    SecurityContext securityContext;\n\n    @Inject\n    FacesContext facesContext;\n\n    private String username;\n\n    private String password;\n\n    public void login() throws IOException {\n        ExternalContext ec = facesContext.getExternalContext();\n        HttpServletRequest req = (HttpServletRequest) ec.getRequest();\n        HttpServletResponse resp = (HttpServletResponse) ec.getResponse();\n\n        AuthenticationParameters params = AuthenticationParameters.withParams()\n                        .credential(\n                                new UsernamePasswordCredential(username,password)\n                        );\n        AuthenticationStatus outcome = securityContext.authenticate(req, resp, params);\n\n        String url = (String) ec.getRequestMap()\n                .get(RequestDispatcher.FORWARD_REQUEST_URI);\n        System.out.println(&quot;url: &quot; + url);\n        String query = (String) ec.getRequestMap()\n                .get(RequestDispatcher.FORWARD_QUERY_STRING);\n        System.out.println(&quot;query: &quot; + query);\n\n        if(outcome != AuthenticationStatus.SEND_FAILURE){\n            System.out.println(&quot;auth status: &quot; + outcome);\n            ec.getSessionMap()\n                    .putIfAbsent(&quot;user&quot;,securityContext.getCallerPrincipal().getName());\n            System.out.println(&quot;session user: &quot; + ec.getSessionMap().get(&quot;user&quot;));\n\n            if(url == null &amp;&amp; outcome == AuthenticationStatus.SUCCESS){\n                url = ec.getRequestContextPath() + &quot;/myApp/transactions.xhtml&quot;;\n                ec.redirect(url);\n            }\n            else if(url == null &amp;&amp; outcome == AuthenticationStatus.SEND_CONTINUE){\n                facesContext.responseComplete();\n            }\n        }\n        else {\n            facesContext.addMessage(null, new FacesMessage(FacesMessage.SEVERITY_ERROR, &quot;invalid credentials&quot;, null));\n        }\n\n    }\n\n    public String logout() throws ServletException {\n        ExternalContext ec = facesContext.getExternalContext();\n        ((HttpServletRequest)ec.getRequest())\n                .logout();\n        return &quot;/index.html?faces-redirect=true&quot;;\n    }\n\n    public String returnHome() {\n        return &quot;/myApp/transactions.xhtml?faces-redirect=true&quot;;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd&quot;\n         version=&quot;6.0&quot;&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;jakarta.faces.webapp.FacesServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;facesServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;security-constraint&gt;\n        &lt;display-name&gt;Planner Role&lt;/display-name&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;All Transaction Pages&lt;/web-resource-name&gt;\n            &lt;url-pattern&gt;/myApp/*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;auth-constraint&gt;\n            &lt;role-name&gt;planner&lt;/role-name&gt;\n        &lt;/auth-constraint&gt;\n    &lt;/security-constraint&gt;\n    &lt;security-constraint&gt;\n        &lt;web-resource-collection&gt;\n            &lt;web-resource-name&gt;JSF resources&lt;/web-resource-name&gt;\n            &lt;url-pattern&gt;/resources/*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;auth-constraint /&gt;\n    &lt;/security-constraint&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;/index.xhtml&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>transactions.xhtml</p>\n<pre><code>&lt;ui:composition\n    xmlns:h=&quot;jakarta.faces.html&quot;\n    xmlns:ui=&quot;jakarta.faces.facelets&quot;\n    template=&quot;/WEB-INF/templates/homeTemplate.xhtml&quot;\n    xmlns:bq=&quot;jakarta.faces.composite/bqcomp&quot;\n&gt;\n    &lt;ui:param name=&quot;title&quot; value=&quot;My Transactions Home&quot; /&gt;\n    &lt;ui:define name=&quot;header&quot;&gt;\n        &lt;h:link value=&quot;Home&quot; outcome=&quot;#{cLogin.returnHome()}&quot;/&gt;\n        &lt;h:link value=&quot;Logout&quot; outcome=&quot;#{cLogin.logout()}&quot;/&gt;\n    &lt;/ui:define&gt;\n    &lt;ui:define name=&quot;main&quot;&gt;\n        &lt;h:outputStylesheet library=&quot;myApp&quot; name=&quot;css/components.css&quot; target=&quot;head&quot; /&gt;\n        &lt;h3&gt;Welcome #{cUser.username}&lt;/h3&gt;\n        &lt;bq:card title=&quot;Import&quot; image=&quot;upload.png&quot; navigation=&quot;import.xhtml?faces-redirect=true&quot;/&gt;\n    &lt;/ui:define&gt;\n&lt;/ui:composition&gt;\n</code></pre>\n<p>card component:</p>\n<pre><code>&lt;ui:component xmlns:composite=&quot;jakarta.faces.composite&quot;\n    xmlns:ui=&quot;jakarta.faces.facelets&quot;\n    xmlns:h=&quot;jakarta.faces.html&quot;&gt;\n    &lt;composite:interface name=&quot;card&quot;\n                  displayName=&quot;Simple Card component&quot;&gt;\n        &lt;composite:attribute name=&quot;title&quot; required=&quot;true&quot; /&gt;\n        &lt;composite:attribute name=&quot;image&quot; required=&quot;false&quot; /&gt;\n        &lt;composite:attribute name=&quot;navigation&quot; /&gt;\n    &lt;/composite:interface&gt;\n    &lt;composite:implementation&gt;\n        &lt;div class=&quot;card-outer&quot;&gt;\n            &lt;div class=&quot;card-text&quot;&gt;\n                &lt;h:outputText value=&quot;#{cc.attrs.title}&quot; /&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;card-inner&quot;&gt;\n&lt;h:form&gt;\n    &lt;h:commandLink action=&quot;#{cUser.cardAction(cc.attrs.navigation)}&quot; &gt;\n        &lt;h:graphicImage library=&quot;images&quot; name=&quot;#{cc.attrs.image}&quot; rendered=&quot;#{not empty cc.attrs.image}&quot;/&gt;\n    &lt;/h:commandLink&gt;\n&lt;/h:form&gt;\n\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/composite:implementation&gt;\n&lt;/ui:component&gt;\n\n</code></pre>\n<p>Lastly, I'm a coding enthusiast. Forgive me if there is something basic/fundamental that I'm missing. I'm trying to learn to build my own web app with Java, any feedback is welcome.</p>\n<p>Thanks.</p>\n<p>I've tried changing the Login bean from ViewScope and SessionScope. Looking at other posts, it seemed like the key is to have a &quot;user&quot; object in the Session Map; but I don't fully understand the significance of the &quot;user&quot; object.</p>\n<p>I am using a Database Identity store because I don't want to configure users and roles within the application server; I am defining them in a MySql database. I have a separate been to register new users with the &quot;planner&quot; role. That is working fine.</p>\n<p>I want to have secured pages, and I also only expect to login once per session.</p>\n"},{"tags":["java","sharepoint","cmis","opencmis","java1.4"],"owner":{"account_id":27336946,"reputation":1,"user_id":20848237,"display_name":"Matt P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673263614,"creation_date":1673263529,"question_id":75056592,"body_markdown":"I have my connection to SP through open CMIS.\r\n\r\nI am trying to get cmis:contentStreamLength based on many cmis:objectId.\r\n\r\nThis select, for all documents works fine.\r\n\r\n`SELECT cmis:contentStreamLength FROM cmis:document`\r\n\r\nBut this query with where cond. doesn&#39;t.\r\n\r\n`SELECT cmis:contentStreamLength FROM cmis:document d WHERE ANY d.cmis:objectId IN (&#39;id&#39;,...)`\r\n\r\nOR\r\n\r\n`SELECT * FROM cmis:document d WHERE d.cmis:objectId = &#39;&quot;+contentId+&quot;&#39;&quot;` (just one id in form &quot;id&quot;)\r\n\r\nHere is the code in Java (1.4).\r\n\r\n    public int getSizeInBytes(String contentIds) {\r\n               String query = &quot;SELECT * FROM cmis:document d WHERE ANY d.cmis:objectId IN (&quot;+contentIds+&quot;)&quot;;\r\n               ItemIterable results = session.query(query,false);\r\n               int size=0;\r\n               Iterator iterator = results.iterator();\r\n               \r\n               while (iterator.hasNext()) {\r\n                   QueryResult res = (QueryResult) iterator.next();\r\n                   size +=   Integer.parseInt(res.getPropertyById(&quot;cmis:contentStreamLength&quot;).getFirstValue().toString());\r\n               }\r\n               \r\n               return size;\r\n           }\r\n\r\ncontetntIds are in the form of string like so - &quot;&#39;id&#39;,&#39;id&#39;,...&quot; - id as xxxx:xxxx\r\n\r\nIt breaks on  `while (iterator.hasNext())`\r\n\r\nexception :\r\n```\r\nCmisInvalidArgumentException: One or more of the input parameters to the service method is missing or invalid.\r\n```\r\nWhen I did\r\n\r\n`where d.cmis:createdBy = &quot;nonsens/non existent&quot;`\r\n\r\nIt just worked, like it didn&#39;t show a thing, so empty result is ok.\r\n\r\nWhat seems to be the problem ?\r\n\r\nEverything I tried is in details of my problem. \r\nI expect to get size of all documents with inputed ids.","title":"Java - CMIS query - WHERE IN","body":"<p>I have my connection to SP through open CMIS.</p>\n<p>I am trying to get cmis:contentStreamLength based on many cmis:objectId.</p>\n<p>This select, for all documents works fine.</p>\n<p><code>SELECT cmis:contentStreamLength FROM cmis:document</code></p>\n<p>But this query with where cond. doesn't.</p>\n<p><code>SELECT cmis:contentStreamLength FROM cmis:document d WHERE ANY d.cmis:objectId IN ('id',...)</code></p>\n<p>OR</p>\n<p><code>SELECT * FROM cmis:document d WHERE d.cmis:objectId = '&quot;+contentId+&quot;'&quot;</code> (just one id in form &quot;id&quot;)</p>\n<p>Here is the code in Java (1.4).</p>\n<pre><code>public int getSizeInBytes(String contentIds) {\n           String query = &quot;SELECT * FROM cmis:document d WHERE ANY d.cmis:objectId IN (&quot;+contentIds+&quot;)&quot;;\n           ItemIterable results = session.query(query,false);\n           int size=0;\n           Iterator iterator = results.iterator();\n           \n           while (iterator.hasNext()) {\n               QueryResult res = (QueryResult) iterator.next();\n               size +=   Integer.parseInt(res.getPropertyById(&quot;cmis:contentStreamLength&quot;).getFirstValue().toString());\n           }\n           \n           return size;\n       }\n</code></pre>\n<p>contetntIds are in the form of string like so - &quot;'id','id',...&quot; - id as xxxx:xxxx</p>\n<p>It breaks on  <code>while (iterator.hasNext())</code></p>\n<p>exception :</p>\n<pre><code>CmisInvalidArgumentException: One or more of the input parameters to the service method is missing or invalid.\n</code></pre>\n<p>When I did</p>\n<p><code>where d.cmis:createdBy = &quot;nonsens/non existent&quot;</code></p>\n<p>It just worked, like it didn't show a thing, so empty result is ok.</p>\n<p>What seems to be the problem ?</p>\n<p>Everything I tried is in details of my problem.\nI expect to get size of all documents with inputed ids.</p>\n"},{"tags":["java","path","srt"],"owner":{"account_id":26317982,"reputation":1,"user_id":19980460,"display_name":"Amir Hazim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673263571,"creation_date":1673255096,"question_id":75055055,"body_markdown":"i am  developing an app that  add subtitle (srt file) to videos using ffmpeg\r\n\r\ni want to know how the get the path on an .srt file \r\n\r\nright now what i am doing this to get the srt file is \r\n\r\n```\r\n Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n\r\n          \r\n            intent.setType(&quot;*/*&quot;);\r\n\r\n             intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n             intent.putExtra(Intent.EXTRA_LOCAL_ONLY, true)\r\n\r\n            startActivityForResult(intent, SELECT_SRT)\r\n)\r\n```\r\n\r\nso how can i use the startActivityForResult() to get the path?\r\n\r\ni did get the path of the video doing this \r\n```\r\n String[] projection = {MediaStore.Images.Media.DATA};\r\n        Cursor cursor = managedQuery(uri, projection, null, null, null);\r\n        if (cursor != null) {\r\n            try {\r\n                int column_index = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\r\n                cursor.moveToFirst();\r\n                return cursor.getString(column_index);\r\n            } catch (RuntimeException e) {\r\n\r\n                Log.d(&quot;TAG&quot;, &quot;MainActivity :  catch (RuntimeException e)&quot;);\r\n\r\n                return null;\r\n            }\r\n        } else return null;\r\n```\r\nbut this  will return null if its a SRT file    \r\n","title":"how to get the path of SRT file in andriod java","body":"<p>i am  developing an app that  add subtitle (srt file) to videos using ffmpeg</p>\n<p>i want to know how the get the path on an .srt file</p>\n<p>right now what i am doing this to get the srt file is</p>\n<pre><code> Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n\n          \n            intent.setType(&quot;*/*&quot;);\n\n             intent.addCategory(Intent.CATEGORY_OPENABLE);\n             intent.putExtra(Intent.EXTRA_LOCAL_ONLY, true)\n\n            startActivityForResult(intent, SELECT_SRT)\n)\n</code></pre>\n<p>so how can i use the startActivityForResult() to get the path?</p>\n<p>i did get the path of the video doing this</p>\n<pre><code> String[] projection = {MediaStore.Images.Media.DATA};\n        Cursor cursor = managedQuery(uri, projection, null, null, null);\n        if (cursor != null) {\n            try {\n                int column_index = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\n                cursor.moveToFirst();\n                return cursor.getString(column_index);\n            } catch (RuntimeException e) {\n\n                Log.d(&quot;TAG&quot;, &quot;MainActivity :  catch (RuntimeException e)&quot;);\n\n                return null;\n            }\n        } else return null;\n</code></pre>\n<p>but this  will return null if its a SRT file</p>\n"},{"tags":["java","spring-boot","logging","backend"],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673263441,"creation_date":1673263441,"answer_id":75056573,"question_id":75056242,"body_markdown":"First let&#39;s name the two applications:\r\n\r\n 1. API - the API service that you want to monitor\r\n 2. Monitor - which wants to see what calls are made to (1)\r\n\r\nThere are several ways to achieve this. \r\n\r\na) Open up a socket on Monitor for inbound traffic.  Communicate the IP address and socket port  manually to the API server, have it open up the connection to the Monitor and send some packet of data down this &quot;pipe&quot;.  This is the lowest level approach simple, but very fragile as you have to coordinate the starting of the services, and decide on a &quot;protocol&quot; for how the applications exchange data.\r\n\r\nb) REST: Create a RESTful controller on the Monitor app that accepts a POST.   Communicate the IP address and port manually to the API server.  Initiate a POST request to the Monitor app when needed.  This is more robust but still suffers from needing careful starting of the servers\r\n\r\nc) Message Queue. install a message queue system like RabbitMQ or ActiveMQ (available in Docker containers).  API server **publishes** a message to a **Queue**.  Monitor **subscribes** to the Queue.  Must more robust, still requires each application to be advised of the address of the MQ server, but now you can stop/start the two applications in any order\r\n\r\nd) The java logging article is good started into java logging. Most use cases log to a local file on the local server. There are some implementations of backend logging that send logs to remote places (I don&#39;t think that article covers them), and there are ways of adding your own custom receiver of this log traffic.  In this option, on the API side, it would use ordinary logging code with no knowledge of the downstream consumption of the logging.  Your monitor app would need to integrate tightly into a particular logging system with this approach. ","title":"App with Event logger on port:8080 listening calls from API port:8090 in SpringBoot","body":"<p>First let's name the two applications:</p>\n<ol>\n<li>API - the API service that you want to monitor</li>\n<li>Monitor - which wants to see what calls are made to (1)</li>\n</ol>\n<p>There are several ways to achieve this.</p>\n<p>a) Open up a socket on Monitor for inbound traffic.  Communicate the IP address and socket port  manually to the API server, have it open up the connection to the Monitor and send some packet of data down this &quot;pipe&quot;.  This is the lowest level approach simple, but very fragile as you have to coordinate the starting of the services, and decide on a &quot;protocol&quot; for how the applications exchange data.</p>\n<p>b) REST: Create a RESTful controller on the Monitor app that accepts a POST.   Communicate the IP address and port manually to the API server.  Initiate a POST request to the Monitor app when needed.  This is more robust but still suffers from needing careful starting of the servers</p>\n<p>c) Message Queue. install a message queue system like RabbitMQ or ActiveMQ (available in Docker containers).  API server <strong>publishes</strong> a message to a <strong>Queue</strong>.  Monitor <strong>subscribes</strong> to the Queue.  Must more robust, still requires each application to be advised of the address of the MQ server, but now you can stop/start the two applications in any order</p>\n<p>d) The java logging article is good started into java logging. Most use cases log to a local file on the local server. There are some implementations of backend logging that send logs to remote places (I don't think that article covers them), and there are ways of adding your own custom receiver of this log traffic.  In this option, on the API side, it would use ordinary logging code with no knowledge of the downstream consumption of the logging.  Your monitor app would need to integrate tightly into a particular logging system with this approach.</p>\n"}],"owner":{"account_id":27428753,"reputation":7,"user_id":20925806,"display_name":"V.T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75056573,"answer_count":1,"score":0,"last_activity_date":1673263441,"creation_date":1673261669,"question_id":75056242,"body_markdown":"I&#39;m trying to create an app with notification service whenever a call is made on API.\r\nIs it possible for me to create a logger on port:8080 and when app is run on the server it listens to api running on another server.\r\nBoth applications are run on local machine for testing purposes using Docker.\r\n\r\n\r\nSo far I&#39;ve been reading https://www.baeldung.com/spring-boot-logging in order to implement it but I&#39;m having problems with understanding the path mapping.\r\nAny ideas?","title":"App with Event logger on port:8080 listening calls from API port:8090 in SpringBoot","body":"<p>I'm trying to create an app with notification service whenever a call is made on API.\nIs it possible for me to create a logger on port:8080 and when app is run on the server it listens to api running on another server.\nBoth applications are run on local machine for testing purposes using Docker.</p>\n<p>So far I've been reading <a href=\"https://www.baeldung.com/spring-boot-logging\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-logging</a> in order to implement it but I'm having problems with understanding the path mapping.\nAny ideas?</p>\n"},{"tags":["java","exception","intellij-idea"],"comments":[{"owner":{"account_id":380582,"reputation":15578,"user_id":734687,"accept_rate":83,"display_name":"ChrLipp"},"score":0,"creation_date":1673258083,"post_id":75055484,"comment_id":132449641,"body_markdown":"How was the excpetion created? Through a Java application?","body":"How was the excpetion created? Through a Java application?"},{"owner":{"account_id":25342469,"reputation":38,"user_id":19160683,"display_name":"dev.AMS"},"score":0,"creation_date":1673258363,"post_id":75055484,"comment_id":132449718,"body_markdown":"Yes, just made a simple Java application to recreate an exception. The (Det g&#229;r inte att hitta filen) part can be translated to &quot;The file cannot be found&quot;.","body":"Yes, just made a simple Java application to recreate an exception. The (Det g&#229;r inte att hitta filen) part can be translated to &quot;The file cannot be found&quot;."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1673288006,"post_id":75055484,"comment_id":132460724,"body_markdown":"Have you tried to add &quot;-Duser.language=en -Duser.region=US&quot; to VM options in your run configuration?","body":"Have you tried to add &quot;-Duser.language=en -Duser.region=US&quot; to VM options in your run configuration?"},{"owner":{"account_id":25342469,"reputation":38,"user_id":19160683,"display_name":"dev.AMS"},"score":0,"creation_date":1673341650,"post_id":75055484,"comment_id":132471374,"body_markdown":"Yes I did as @Taras suggested which did not work","body":"Yes I did as @Taras suggested which did not work"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1673895938,"post_id":75055484,"comment_id":132594946,"body_markdown":"I meant you run configuration, not IDE .vmoptions file.","body":"I meant you run configuration, not IDE .vmoptions file."},{"owner":{"account_id":25342469,"reputation":38,"user_id":19160683,"display_name":"dev.AMS"},"score":0,"creation_date":1674024212,"post_id":75055484,"comment_id":132623954,"body_markdown":"Also did not work unfortunately","body":"Also did not work unfortunately"}],"answers":[{"tags":[],"owner":{"account_id":17875756,"reputation":106,"user_id":12985876,"display_name":"Taras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673259499,"creation_date":1673259499,"answer_id":75055809,"question_id":75055484,"body_markdown":"Maybe you also need to change region in .vmoptions file:\r\n\r\n    -Duser.language=en\r\n    -Duser.region=US\r\n\r\nThis will override the default language and region settings for the Java Virtual Machine (JVM) and may cause exception messages to be displayed in English.","title":"Exception message not in English using Intellij","body":"<p>Maybe you also need to change region in .vmoptions file:</p>\n<pre><code>-Duser.language=en\n-Duser.region=US\n</code></pre>\n<p>This will override the default language and region settings for the Java Virtual Machine (JVM) and may cause exception messages to be displayed in English.</p>\n"},{"tags":[],"owner":{"account_id":11267822,"reputation":61,"user_id":8264132,"display_name":"Tayyab Munir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673263127,"creation_date":1673263127,"answer_id":75056523,"question_id":75055484,"body_markdown":"Have to try to add below to &quot;Help | Edit custom VM options&quot;.\r\n\r\n    -Duser.language=en","title":"Exception message not in English using Intellij","body":"<p>Have to try to add below to &quot;Help | Edit custom VM options&quot;.</p>\n<pre><code>-Duser.language=en\n</code></pre>\n"}],"owner":{"account_id":25342469,"reputation":38,"user_id":19160683,"display_name":"dev.AMS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673263127,"creation_date":1673257641,"question_id":75055484,"body_markdown":"I can&#39;t seem to change the language on the exception messages in Intellij (Getting them in my native language). Everything else in the run log / output is in English. \r\n\r\nI have checked the settings for any deviation from English but can&#39;t find any. I also added the line &quot;-Duser.language=en&quot; in .vmoptions. \r\n\r\n**Example:** Got a FileNotFoundException \r\n\r\n    java.io.FileNotFoundException C:\\Users\\SomeUser\\SomeFilePath\\SomeFile ***(Det g&#229;r inte att hitta filen)***","title":"Exception message not in English using Intellij","body":"<p>I can't seem to change the language on the exception messages in Intellij (Getting them in my native language). Everything else in the run log / output is in English.</p>\n<p>I have checked the settings for any deviation from English but can't find any. I also added the line &quot;-Duser.language=en&quot; in .vmoptions.</p>\n<p><strong>Example:</strong> Got a FileNotFoundException</p>\n<pre><code>java.io.FileNotFoundException C:\\Users\\SomeUser\\SomeFilePath\\SomeFile ***(Det går inte att hitta filen)***\n</code></pre>\n"},{"tags":["java","windows","intellij-idea","tomcat8"],"comments":[{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":3,"creation_date":1635315364,"post_id":69733636,"comment_id":123260939,"body_markdown":"Does this answer your question? [Error running &#39;Tomcat&#39;: Address localhost:1099 is already in use. Why?](https://stackoverflow.com/questions/60466736/error-running-tomcat-address-localhost1099-is-already-in-use-why)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60466736/error-running-tomcat-address-localhost1099-is-already-in-use-why\">Error running &#39;Tomcat&#39;: Address localhost:1099 is already in use. Why?</a>"},{"owner":{"account_id":16320638,"reputation":1,"user_id":11786523,"display_name":"YellowLife"},"score":0,"creation_date":1635315595,"post_id":69733636,"comment_id":123261009,"body_markdown":"I have tried to modify the port number, but whichever I change to is occupied,And mine is spring","body":"I have tried to modify the port number, but whichever I change to is occupied,And mine is spring"},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1635315694,"post_id":69733636,"comment_id":123261038,"body_markdown":"Try restarting server.","body":"Try restarting server."},{"owner":{"account_id":16320638,"reputation":1,"user_id":11786523,"display_name":"YellowLife"},"score":0,"creation_date":1635315894,"post_id":69733636,"comment_id":123261096,"body_markdown":"I did not install tomcat and did not set up javahome\nI have restarted the computer several times","body":"I did not install tomcat and did not set up javahome I have restarted the computer several times"},{"owner":{"account_id":16320638,"reputation":1,"user_id":11786523,"display_name":"YellowLife"},"score":0,"creation_date":1635315918,"post_id":69733636,"comment_id":123261103,"body_markdown":"Tomcat does not set environment variables, directly use the idea in","body":"Tomcat does not set environment variables, directly use the idea in"}],"answers":[{"tags":[],"owner":{"account_id":14630393,"reputation":1,"user_id":10566393,"display_name":"LHZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635317758,"creation_date":1635317758,"answer_id":69734074,"question_id":69733636,"body_markdown":"This may be a bug in idea\r\n\r\nYou can try the following:\r\nRun cmd as an administrator\r\nnetsh winsock reset\r\nThen restart the computer\r\n\r\nHope your problem can be solved","title":"Intelij IDEA Error runing &#39;Tomcat 8.5.68&quot; address 1099 is already in use","body":"<p>This may be a bug in idea</p>\n<p>You can try the following:\nRun cmd as an administrator\nnetsh winsock reset\nThen restart the computer</p>\n<p>Hope your problem can be solved</p>\n"},{"tags":[],"owner":{"account_id":16320638,"reputation":1,"user_id":11786523,"display_name":"YellowLife"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673263103,"creation_date":1635333045,"answer_id":69737577,"question_id":69733636,"body_markdown":"Okay, but I don&#39;t know what to do next time.\r\nI reinstalled jdk IDEA tomcat and it didn&#39;t work. I also reset the network, but it didn&#39;t work. After a while, I changed a project and it didn&#39;t work, but I changed it back and it was fine.\r\n\r\n**My solution is as follows:**\r\n\r\n- Open powershell with administrator privileges\r\n\r\n- `netsh int ipv4 set dynamic tcp start=49152 num=16384`\r\n\r\n- `netsh int ipv6 set dynamic tcp start=49152 num=16384`\r\n\r\n- `netsh int ipv4 show dynamicport tcp`\r\n\r\nAdditional references:\r\n\r\n[WSL2, Hyper-V &amp; Reserved Ports](https://hungyi.net/posts/wsl2-reserved-ports/)\r\n\r\n[Unable to bind ports: Docker-for-Windows &amp; Hyper-V excluding but not using important port ranges\r\n#3171](https://github.com/docker/for-win/issues/3171#issuecomment-554587817)\r\n\r\n[The default dynamic port range for TCP/IP has changed since Windows Vista and in Windows Server 2008](https://learn.microsoft.com/en-us/troubleshoot/windows-server/networking/default-dynamic-port-range-tcpip-chang)","title":"Intelij IDEA Error runing &#39;Tomcat 8.5.68&quot; address 1099 is already in use","body":"<p>Okay, but I don't know what to do next time.\nI reinstalled jdk IDEA tomcat and it didn't work. I also reset the network, but it didn't work. After a while, I changed a project and it didn't work, but I changed it back and it was fine.</p>\n<p><strong>My solution is as follows:</strong></p>\n<ul>\n<li><p>Open powershell with administrator privileges</p>\n</li>\n<li><p><code>netsh int ipv4 set dynamic tcp start=49152 num=16384</code></p>\n</li>\n<li><p><code>netsh int ipv6 set dynamic tcp start=49152 num=16384</code></p>\n</li>\n<li><p><code>netsh int ipv4 show dynamicport tcp</code></p>\n</li>\n</ul>\n<p>Additional references:</p>\n<p><a href=\"https://hungyi.net/posts/wsl2-reserved-ports/\" rel=\"nofollow noreferrer\">WSL2, Hyper-V &amp; Reserved Ports</a></p>\n<p><a href=\"https://github.com/docker/for-win/issues/3171#issuecomment-554587817\" rel=\"nofollow noreferrer\">Unable to bind ports: Docker-for-Windows &amp; Hyper-V excluding but not using important port ranges\n#3171</a></p>\n<p><a href=\"https://learn.microsoft.com/en-us/troubleshoot/windows-server/networking/default-dynamic-port-range-tcpip-chang\" rel=\"nofollow noreferrer\">The default dynamic port range for TCP/IP has changed since Windows Vista and in Windows Server 2008</a></p>\n"}],"owner":{"account_id":16320638,"reputation":1,"user_id":11786523,"display_name":"YellowLife"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1635355015,"answer_count":2,"score":-1,"last_activity_date":1673263103,"creation_date":1635315243,"question_id":69733636,"body_markdown":"[error image][1]\r\nI tried before [link 1][2][link 2][3] [link 4][4] and Clear idea cache.\r\nThere is no error when deleting tomcat.\r\nnetstat -ano did not find 1099\r\nI have run the code without any problems, this problem is sometimes sometimes not.\r\n\r\n  [1]: https://i.stack.imgur.com/Fma7D.png\r\n  [2]:https://stackoverflow.com/questions/38986910/intellij-idea-address-localhost1099-is-already-in-use/55788410 \r\n[3]:https://developpaper.com/question/ideatomact-address-localhost1099-is-already-in-use/\r\n[4]:https://tridion.stackexchange.com/questions/12941/debugging-in-intellij-gives-address-localhost1099-is-already-in-use-error\r\n","title":"Intelij IDEA Error runing &#39;Tomcat 8.5.68&quot; address 1099 is already in use","body":"<p><a href=\"https://i.stack.imgur.com/Fma7D.png\" rel=\"nofollow noreferrer\">error image</a>\nI tried before <a href=\"https://stackoverflow.com/questions/38986910/intellij-idea-address-localhost1099-is-already-in-use/55788410\">link 1</a><a href=\"https://developpaper.com/question/ideatomact-address-localhost1099-is-already-in-use/\" rel=\"nofollow noreferrer\">link 2</a> <a href=\"https://tridion.stackexchange.com/questions/12941/debugging-in-intellij-gives-address-localhost1099-is-already-in-use-error\">link 4</a> and Clear idea cache.\nThere is no error when deleting tomcat.\nnetstat -ano did not find 1099\nI have run the code without any problems, this problem is sometimes sometimes not.</p>\n"},{"tags":["java","spring-boot","enums","mapstruct"],"comments":[{"owner":{"account_id":9680259,"reputation":366,"user_id":7182233,"display_name":"Aleks D"},"score":0,"creation_date":1592682091,"post_id":62472215,"comment_id":110514662,"body_markdown":"Hi, maybe I misunderstood the question, but why you cannot use @ValueMappings method inside your main mapper and use it as your custom mapping? How i know mapstruct generate the same logic as your method. See more [here](https://mapstruct.org/documentation/stable/reference/html/#_mapping_enum_types)","body":"Hi, maybe I misunderstood the question, but why you cannot use @ValueMappings method inside your main mapper and use it as your custom mapping? How i know mapstruct generate the same logic as your method. See more <a href=\"https://mapstruct.org/documentation/stable/reference/html/#_mapping_enum_types\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":17968100,"reputation":129,"user_id":13057558,"display_name":"fee1good"},"score":0,"creation_date":1592735053,"post_id":62472215,"comment_id":110525465,"body_markdown":"Hi Alex! Thanks for the link, I&#39;ve used it for generating the single enum mapping method (see eventSourceToSportEventSource), but not sure how I can map the exact field of the object using @ValueMappings inside the main mapper","body":"Hi Alex! Thanks for the link, I&#39;ve used it for generating the single enum mapping method (see eventSourceToSportEventSource), but not sure how I can map the exact field of the object using @ValueMappings inside the main mapper"},{"owner":{"account_id":9680259,"reputation":366,"user_id":7182233,"display_name":"Aleks D"},"score":0,"creation_date":1592735448,"post_id":62472215,"comment_id":110525552,"body_markdown":"MapStruct make mapping &quot;by type&quot; and if you just add method with @ValueMappings to main mapping class, then main mapping  method will use this method to map your enums by default. I think it should work out of box.","body":"MapStruct make mapping &quot;by type&quot; and if you just add method with @ValueMappings to main mapping class, then main mapping  method will use this method to map your enums by default. I think it should work out of box."},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1592975394,"post_id":62472215,"comment_id":110613470,"body_markdown":"The error you are getting is weird. Can you please add your entire mapper and the objects to the question. With the information you&#39;ve provided currently this should be working correctly (no error message)","body":"The error you are getting is weird. Can you please add your entire mapper and the objects to the question. With the information you&#39;ve provided currently this should be working correctly (no error message)"},{"owner":{"account_id":17968100,"reputation":129,"user_id":13057558,"display_name":"fee1good"},"score":1,"creation_date":1593514137,"post_id":62472215,"comment_id":110801980,"body_markdown":"Hey @Filip, nice to see the member of the core MapStruct team here :) MapStruct works well, it was my mistake, details in the accepted answer. Thanks!","body":"Hey @Filip, nice to see the member of the core MapStruct team here :) MapStruct works well, it was my mistake, details in the accepted answer. Thanks!"},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":1,"creation_date":1593527431,"post_id":62472215,"comment_id":110809171,"body_markdown":"We try to answer as many questions to our users on StackOverflow.","body":"We try to answer as many questions to our users on StackOverflow."}],"answers":[{"tags":[],"owner":{"account_id":17968100,"reputation":129,"user_id":13057558,"display_name":"fee1good"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1593514066,"creation_date":1593514066,"answer_id":62655713,"question_id":62472215,"body_markdown":"I used\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface ConverterMapper {\r\n      @Named(&quot;UnitValueConverter&quot;)\r\n      default Long unitValueConverter(UInt64Value value) {\r\n        return value.getValue();\r\n      }\r\n\r\nas an interface which contains all named mappers like above, and then I do\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface EventMapper extends ConverterMapper\r\n\r\n\r\nThe issue was that I didn&#39;t add the @Mapper annotation to the `ConverterMapper` interface\r\n","title":"Map Enum field with MapStruct","body":"<p>I used</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface ConverterMapper {\n  @Named(&quot;UnitValueConverter&quot;)\n  default Long unitValueConverter(UInt64Value value) {\n    return value.getValue();\n  }\n</code></pre>\n<p>as an interface which contains all named mappers like above, and then I do</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface EventMapper extends ConverterMapper\n</code></pre>\n<p>The issue was that I didn't add the @Mapper annotation to the <code>ConverterMapper</code> interface</p>\n"},{"tags":[],"owner":{"account_id":5121464,"reputation":1288,"user_id":4104865,"accept_rate":96,"display_name":"Thomas Schmidt"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1607268232,"creation_date":1607268232,"answer_id":65169701,"question_id":62472215,"body_markdown":"This can be achieved using [@ValueMapping][1]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/dev/api/org/mapstruct/ValueMapping.html","title":"Map Enum field with MapStruct","body":"<p>This can be achieved using <a href=\"https://mapstruct.org/documentation/dev/api/org/mapstruct/ValueMapping.html\" rel=\"nofollow noreferrer\">@ValueMapping</a></p>\n"},{"tags":[],"owner":{"account_id":13463936,"reputation":73,"user_id":9714946,"display_name":"Sergey Yaushev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673261585,"creation_date":1673261585,"answer_id":75056227,"question_id":62472215,"body_markdown":"I think the most convenient way is just to make a default method in your mapper\r\n\r\n    default ProblemStatus problemStatusFromString(String status) {\r\n        return ProblemStatus.get(status);\r\n    }\r\n\r\n    default String problemStatusToString(ProblemStatus problemStatus) {\r\n        return problemStatus.getValue();\r\n    }","title":"Map Enum field with MapStruct","body":"<p>I think the most convenient way is just to make a default method in your mapper</p>\n<pre><code>default ProblemStatus problemStatusFromString(String status) {\n    return ProblemStatus.get(status);\n}\n\ndefault String problemStatusToString(ProblemStatus problemStatus) {\n    return problemStatus.getValue();\n}\n</code></pre>\n"}],"owner":{"account_id":17968100,"reputation":129,"user_id":13057558,"display_name":"fee1good"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44675,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":62655713,"answer_count":3,"score":7,"last_activity_date":1673261585,"creation_date":1592576210,"question_id":62472215,"body_markdown":"I want to map 2 models, where each of them has almost the same enums. Let me show:\r\n\r\nThe first model has enum:\r\n\r\n    public enum EventSource {\r\n      BETRADAR(&quot;SOURCE_BETRADAR&quot;),\r\n      BETGENIUS(&quot;SOURCE_BETGENIUS&quot;),\r\n      BETCONSTRUCT(&quot;SOURCE_BETCONSTRUCT&quot;),\r\n      MODEL(&quot;SOURCE_MODEL&quot;);\r\n\r\nSecond model has enum:\r\n\r\n    public enum SportEventSource implements ProtocolMessageEnum {\r\n      SOURCE_UNKNOWN(0),\r\n      SOURCE_BETRADAR(1),\r\n      SOURCE_BETGENIUS(2),\r\n      SOURCE_BETCONSTRUCT(3),\r\n      UNRECOGNIZED(-1);\r\n\r\nI have such custom mapping method:\r\n\r\n    @Named(&quot;eventSourceConverter&quot;)   \r\n    default EventSource eventSourceConverter(SportEventSource source) {\r\n            switch (source) {\r\n              case SOURCE_MODEL:\r\n                return EventSource.MODEL;\r\n              case SOURCE_BETCONSTRUCT:\r\n                return EventSource.BETCONSTRUCT;\r\n              case SOURCE_BETGENIUS:\r\n                return EventSource.BETGENIUS;\r\n              case SOURCE_BETRADAR:\r\n                return EventSource.BETRADAR;\r\n              default:\r\n                return EventSource.MODEL;\r\n            }   \r\n    }\r\n\r\nAnd then I use:\r\n\r\n      @Mapping(target = &quot;mainSource&quot;, source = &quot;source&quot;, qualifiedByName = &quot;eventSourceConverter&quot;)\r\n      AdapterCompetitor protoToModel(Competitor proto);\r\n\r\nBut get:\r\n\r\n    error: The following constants from the property &quot;SportEventSource source&quot; enum have no corresponding constant in the &quot;*source*&quot; enum and must be mapped via adding additional mappings: SOURCE_UNKNOWN, SOURCE_BETRADAR, SOURCE_BETGENIUS, SOURCE_BETCONSTRUCT, UNRECOGNIZED.\r\n      AdapterCompetitor protoToModel(Competitor proto);\r\n\r\nI&#39;ve also created the enum mapper like:\r\n\r\n      @ValueMappings({\r\n          @ValueMapping(source = &quot;SOURCE_BETRADAR&quot;, target = &quot;BETRADAR&quot;),\r\n          @ValueMapping(source = &quot;SOURCE_BETGENIUS&quot;, target = &quot;BETGENIUS&quot;),\r\n          @ValueMapping(source = &quot;SOURCE_BETCONSTRUCT&quot;, target = &quot;BETCONSTRUCT&quot;),\r\n          @ValueMapping(source = &quot;SOURCE_MODEL&quot;, target = &quot;MODEL&quot;),\r\n          @ValueMapping(source = &quot;SOURCE_UNKNOWN&quot;, target = &quot;MODEL&quot;),\r\n          @ValueMapping(source = &quot;UNRECOGNIZED&quot;, target = &quot;MODEL&quot;)\r\n      })\r\n      EventSource eventSourceToSportEventSource(SportEventSource source);\r\n\r\nBut I don&#39;t need to have it separately, just want that enum field will be mapped within the internal mapping. Simply to say — when I do `AdapterCompetitor protoToModel(Competitor proto)` enum also should be mapped.\r\n\r\nThanks!\r\n\r\np.s. sorry for my eng, hope my questions make sense :)","title":"Map Enum field with MapStruct","body":"<p>I want to map 2 models, where each of them has almost the same enums. Let me show:</p>\n\n<p>The first model has enum:</p>\n\n<pre><code>public enum EventSource {\n  BETRADAR(\"SOURCE_BETRADAR\"),\n  BETGENIUS(\"SOURCE_BETGENIUS\"),\n  BETCONSTRUCT(\"SOURCE_BETCONSTRUCT\"),\n  MODEL(\"SOURCE_MODEL\");\n</code></pre>\n\n<p>Second model has enum:</p>\n\n<pre><code>public enum SportEventSource implements ProtocolMessageEnum {\n  SOURCE_UNKNOWN(0),\n  SOURCE_BETRADAR(1),\n  SOURCE_BETGENIUS(2),\n  SOURCE_BETCONSTRUCT(3),\n  UNRECOGNIZED(-1);\n</code></pre>\n\n<p>I have such custom mapping method:</p>\n\n<pre><code>@Named(\"eventSourceConverter\")   \ndefault EventSource eventSourceConverter(SportEventSource source) {\n        switch (source) {\n          case SOURCE_MODEL:\n            return EventSource.MODEL;\n          case SOURCE_BETCONSTRUCT:\n            return EventSource.BETCONSTRUCT;\n          case SOURCE_BETGENIUS:\n            return EventSource.BETGENIUS;\n          case SOURCE_BETRADAR:\n            return EventSource.BETRADAR;\n          default:\n            return EventSource.MODEL;\n        }   \n}\n</code></pre>\n\n<p>And then I use:</p>\n\n<pre><code>  @Mapping(target = \"mainSource\", source = \"source\", qualifiedByName = \"eventSourceConverter\")\n  AdapterCompetitor protoToModel(Competitor proto);\n</code></pre>\n\n<p>But get:</p>\n\n<pre><code>error: The following constants from the property \"SportEventSource source\" enum have no corresponding constant in the \"*source*\" enum and must be mapped via adding additional mappings: SOURCE_UNKNOWN, SOURCE_BETRADAR, SOURCE_BETGENIUS, SOURCE_BETCONSTRUCT, UNRECOGNIZED.\n  AdapterCompetitor protoToModel(Competitor proto);\n</code></pre>\n\n<p>I've also created the enum mapper like:</p>\n\n<pre><code>  @ValueMappings({\n      @ValueMapping(source = \"SOURCE_BETRADAR\", target = \"BETRADAR\"),\n      @ValueMapping(source = \"SOURCE_BETGENIUS\", target = \"BETGENIUS\"),\n      @ValueMapping(source = \"SOURCE_BETCONSTRUCT\", target = \"BETCONSTRUCT\"),\n      @ValueMapping(source = \"SOURCE_MODEL\", target = \"MODEL\"),\n      @ValueMapping(source = \"SOURCE_UNKNOWN\", target = \"MODEL\"),\n      @ValueMapping(source = \"UNRECOGNIZED\", target = \"MODEL\")\n  })\n  EventSource eventSourceToSportEventSource(SportEventSource source);\n</code></pre>\n\n<p>But I don't need to have it separately, just want that enum field will be mapped within the internal mapping. Simply to say — when I do <code>AdapterCompetitor protoToModel(Competitor proto)</code> enum also should be mapped.</p>\n\n<p>Thanks!</p>\n\n<p>p.s. sorry for my eng, hope my questions make sense :)</p>\n"},{"tags":["java","processing","control-p5"],"owner":{"account_id":19117752,"reputation":121,"user_id":13962321,"display_name":"Вадим Кузьмин"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673261473,"creation_date":1673261473,"question_id":75056200,"body_markdown":"I use the controlP5 library and did not find how to change the layout of the tabs.\r\nTried various tricks but .setPosition is not responsive.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/7RcxA.jpg\r\n\r\n\r\nimport controlP5.*;\r\n    \r\n    ControlP5 cp5;\r\n    int myColorBackground = color(128);\r\n    int sliderValue = 100;\r\n    \r\n    void setup() {\r\n      size(700,400);\r\n      noStroke();\r\n      cp5 = new ControlP5(this);\r\n    \r\n      // By default all controllers are stored inside Tab &#39;default&#39;\r\n      // add a second tab with name &#39;extra&#39;\r\n      cp5.addTab(&quot;extra&quot;)\r\n         .setColorBackground(color(0, 160, 100))\r\n         .setColorLabel(color(255))\r\n         .setColorActive(color(255,128,0))\r\n         ;\r\n    \r\n      // if you want to receive a controlEvent when\r\n      // a  tab is clicked, use activeEvent(true)\r\n      cp5.getTab(&quot;default&quot;)\r\n         .activateEvent(true)\r\n         .setLabel(&quot;my default tab&quot;)\r\n         .setPosition (120 , 230)\r\n         .setId(1)\r\n         ;\r\n    \r\n      cp5.getTab(&quot;extra&quot;)\r\n         .activateEvent(true)\r\n         .setPosition (150, 260)\r\n         .setId(2)\r\n         ;","title":"How can you move tabs?","body":"<p>I use the controlP5 library and did not find how to change the layout of the tabs.\nTried various tricks but .setPosition is not responsive.</p>\n<p><a href=\"https://i.stack.imgur.com/7RcxA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7RcxA.jpg\" alt=\"enter image description here\" /></a></p>\n<p>import controlP5.*;</p>\n<pre><code>ControlP5 cp5;\nint myColorBackground = color(128);\nint sliderValue = 100;\n\nvoid setup() {\n  size(700,400);\n  noStroke();\n  cp5 = new ControlP5(this);\n\n  // By default all controllers are stored inside Tab 'default'\n  // add a second tab with name 'extra'\n  cp5.addTab(&quot;extra&quot;)\n     .setColorBackground(color(0, 160, 100))\n     .setColorLabel(color(255))\n     .setColorActive(color(255,128,0))\n     ;\n\n  // if you want to receive a controlEvent when\n  // a  tab is clicked, use activeEvent(true)\n  cp5.getTab(&quot;default&quot;)\n     .activateEvent(true)\n     .setLabel(&quot;my default tab&quot;)\n     .setPosition (120 , 230)\n     .setId(1)\n     ;\n\n  cp5.getTab(&quot;extra&quot;)\n     .activateEvent(true)\n     .setPosition (150, 260)\n     .setId(2)\n     ;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673261081,"post_id":75056093,"comment_id":132450611,"body_markdown":"Why? With the refresh tolen you get a new access token, so you get the information anyway.","body":"Why? With the refresh tolen you get a new access token, so you get the information anyway."},{"owner":{"account_id":15786285,"reputation":11,"user_id":11390964,"display_name":"SEETHARAMU G N"},"score":0,"creation_date":1673264842,"post_id":75056093,"comment_id":132451823,"body_markdown":"no the access token is customized for the first time of creation when I use a refresh token to generate an access token it will not available because refresh token I didn&#39;t customized","body":"no the access token is customized for the first time of creation when I use a refresh token to generate an access token it will not available because refresh token I didn&#39;t customized"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673268198,"post_id":75056093,"comment_id":132453026,"body_markdown":"Why is your access token different the second time? It should always contain the same information.","body":"Why is your access token different the second time? It should always contain the same information."},{"owner":{"account_id":15786285,"reputation":11,"user_id":11390964,"display_name":"SEETHARAMU G N"},"score":0,"creation_date":1673268501,"post_id":75056093,"comment_id":132453128,"body_markdown":"as of my understand like this second-time refresh token gives the info to generate the access not the user what is present in the refresh token it will copy the info and generate new access token","body":"as of my understand like this second-time refresh token gives the info to generate the access not the user what is present in the refresh token it will copy the info and generate new access token"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673269835,"post_id":75056093,"comment_id":132453626,"body_markdown":"That is the identity token of OIDC. The access token doesn&#39;t contain user information. Also the refresh token doesn&#39;t contain user information. You should save the user information after you get the identity token.","body":"That is the identity token of OIDC. The access token doesn&#39;t contain user information. Also the refresh token doesn&#39;t contain user information. You should save the user information after you get the identity token."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673270245,"post_id":75056093,"comment_id":132453780,"body_markdown":"https://connect2id.com/learn/openid-connect, https://www.baeldung.com/spring-security-openid-connect","body":"<a href=\"https://connect2id.com/learn/openid-connect\" rel=\"nofollow noreferrer\">connect2id.com/learn/openid-connect</a>, <a href=\"https://www.baeldung.com/spring-security-openid-connect\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-openid-connect</a>"},{"owner":{"account_id":15786285,"reputation":11,"user_id":11390964,"display_name":"SEETHARAMU G N"},"score":0,"creation_date":1673338166,"post_id":75056093,"comment_id":132470347,"body_markdown":"thanks @dur for ur info I got the idea to customize","body":"thanks @dur for ur info I got the idea to customize"}],"owner":{"account_id":15786285,"reputation":11,"user_id":11390964,"display_name":"SEETHARAMU G N"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673260919,"creation_date":1673260919,"question_id":75056093,"body_markdown":"I need to add more custom fields in the refresh token\r\n\r\n[![added][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4PGXb.png\r\n\r\nthe left side was the access token data right side was the token refresh data I need the same as the access token ","title":"how to customize the Oauth refresh token in spring boot","body":"<p>I need to add more custom fields in the refresh token</p>\n<p><a href=\"https://i.stack.imgur.com/4PGXb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4PGXb.png\" alt=\"added\" /></a></p>\n<p>the left side was the access token data right side was the token refresh data I need the same as the access token</p>\n"},{"tags":["java","gstreamer"],"owner":{"account_id":1601231,"reputation":459,"user_id":1482214,"accept_rate":40,"display_name":"Sebastian G&#246;tz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673260478,"creation_date":1672931426,"question_id":75020532,"body_markdown":"I have the task to stream an IP camera&#39;s video stream (RTP/RTSP in h264) via J2EE application server to a browser. For this I am using [GStreamer 1.21.3][1] (latest dev release) with the [gstreamer-java library][2] on top. We are aiming towards a Websocket solution as the traditional HLS introduces significant latency.\r\nAfter having figured out what to do with the gst-launch executable on the commandline, I ended up with this code (for the moment):\r\n\r\n    \r\n    /*\r\n     * Configuration for RTSP over TCP to WebSocket:\r\n     *  1. rtspsrc to ip camera\r\n     *  2. rtph264depay ! h246parse to extract the h264 content\r\n     *  3. mp4mux to create fragmented MP4\r\n     *  4. appsink to grab the frames and use them in Websocket server\r\n     */\r\n    final String gstPipeline = String.format(&quot;rtspsrc onvif-mode=true protocols=tcp user-id=%s user-pw=%s location=%s latency=200&quot;\r\n    \t\t+ &quot; ! rtph264depay ! h264parse&quot;\r\n    \t\t+ &quot; ! mp4mux streamable=true fragment-duration=5000&quot;\r\n    \t\t+ &quot; ! appsink name=sink&quot;, USERNAME, PASSWORD, uri);\r\n    final Pipeline pipeline = initGStreamerPipeline(gstPipeline);\r\n    // Add listener to consume the incoming data\r\n    final AppSink sink = (AppSink) pipeline.getElementByName(&quot;sink&quot;);\r\n    sink.setCaps(Caps.anyCaps());\r\n    sink.set(&quot;emit-signals&quot;, true);\r\n    sink.set(&quot;max-buffers&quot;, 50);\r\n    sink.connect((NEW_SAMPLE) appsink -&gt; {\r\n    \tfinal Sample sample = appsink.pullSample();\r\n    \tif (sample == null)\r\n    \t{\r\n    \t\treturn FlowReturn.OK;\r\n    \t}\r\n    \r\n    \tfinal Buffer buffer = sample.getBuffer();\r\n    \ttry\r\n    \t{\r\n    \t\tfinal ByteBuffer buf = buffer.map(false);\r\n    \t\tLOGGER.debug(&quot;Unicast HTTP/TCP message received: {}&quot;, new String(Hex.encodeHex(buf, true)));\r\n    \t\tif (session != null)\r\n    \t\t{\r\n    \t\t\ttry\r\n    \t\t\t{\r\n    \t\t\t\tbuf.flip();\r\n    \t\t\t\tsession.getRemote().sendBytes(buf);\r\n    \t\t\t}\r\n    \t\t\tcatch (final Exception e)\r\n    \t\t\t{\r\n    \t\t\t\tLOGGER.error(&quot;Failed to send data via WebSocket&quot;, e);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \tfinally\r\n    \t{\r\n    \t\tbuffer.unmap();\r\n    \t}\r\n    \r\n    \treturn FlowReturn.OK;\r\n    });\r\n    sink.connect((AppSink.EOS) s -&gt; LOGGER.info(&quot;Appsink is EOS&quot;));\r\n    sink.connect((AppSink.NEW_PREROLL) s -&gt; {\r\n    \tLOGGER.info(&quot;Appsink NEW_PREROLL&quot;);\r\n    \treturn FlowReturn.OK;\r\n    });\r\n    \r\n    LOGGER.info(&quot;Connecting to {}&quot;, uri);\r\n    \r\n    /**\r\n     * Start the pipeline. Attach a bus listener to call Gst.quit on EOS or error.\r\n     */\r\n    pipeline.getBus().connect((Bus.ERROR) ((source, code, message) -&gt; {\r\n    \tLOGGER.info(message);\r\n    \tGst.quit();\r\n    }));\r\n    pipeline.getBus().connect((Bus.EOS) (source) -&gt; Gst.quit());\r\n    pipeline.play();\r\n    \r\n    /**\r\n     * Wait until Gst.quit() called.\r\n     */\r\n    LOGGER.info(&quot;Starting to consume media stream...&quot;);\r\n    Gst.main();\r\n    pipeline.stop();\r\n    server.stop();\r\n\r\nNow I seem to be stuck here, because the AppSink at the end of the pipeline never gets its new_sample signal triggered. The complete example works like a charme when I replace the appsink with a filesink. I have noticed that there are some other threads (like [this one][3]) with similar problems which normally boil down to &quot;you forgot to set emit-signals=true&quot;. Any ideas why my appsink gets no data?\r\n\r\n**Update:**\r\n\r\nIt appears that the problem is the URL I am passing to the pipeline string. It has two query parameters: `http://192.168.xx.xx:544/streaming?video=0&amp;meta=1`. If I remove the second parameter (and the ambersand along with it), the pipeline works. Unfortunately I found no docs how to escape URLs in the correct way so GStreamer can read it. Can anyone share such documentation?\r\n\r\n**Update 2:**\r\n\r\nIt starts getting weired now: It looks like the name of the URL parameter is the problem. I have started to replace it with some dummy argument and it works. So the ambersand is not the problem. Then I used VLC media player to consume the stream with the `&amp;meta=1` in place which also worked. Is it possible that the string &quot;meta&quot; is treated special in gstreamer?\r\n\r\n  [1]: https://gstreamer.freedesktop.org/pkg/windows/1.21.3/msvc/\r\n  [2]: https://github.com/gstreamer-java\r\n  [3]: https://stackoverflow.com/questions/33947284/gstreamer-appsink-not-getting-data-from-the-pipeline?r=SearchResults&amp;s=2%7C123.7572","title":"GStreamer java: AppSink not receiving new_sample signal","body":"<p>I have the task to stream an IP camera's video stream (RTP/RTSP in h264) via J2EE application server to a browser. For this I am using <a href=\"https://gstreamer.freedesktop.org/pkg/windows/1.21.3/msvc/\" rel=\"nofollow noreferrer\">GStreamer 1.21.3</a> (latest dev release) with the <a href=\"https://github.com/gstreamer-java\" rel=\"nofollow noreferrer\">gstreamer-java library</a> on top. We are aiming towards a Websocket solution as the traditional HLS introduces significant latency.\nAfter having figured out what to do with the gst-launch executable on the commandline, I ended up with this code (for the moment):</p>\n<pre><code>/*\n * Configuration for RTSP over TCP to WebSocket:\n *  1. rtspsrc to ip camera\n *  2. rtph264depay ! h246parse to extract the h264 content\n *  3. mp4mux to create fragmented MP4\n *  4. appsink to grab the frames and use them in Websocket server\n */\nfinal String gstPipeline = String.format(&quot;rtspsrc onvif-mode=true protocols=tcp user-id=%s user-pw=%s location=%s latency=200&quot;\n        + &quot; ! rtph264depay ! h264parse&quot;\n        + &quot; ! mp4mux streamable=true fragment-duration=5000&quot;\n        + &quot; ! appsink name=sink&quot;, USERNAME, PASSWORD, uri);\nfinal Pipeline pipeline = initGStreamerPipeline(gstPipeline);\n// Add listener to consume the incoming data\nfinal AppSink sink = (AppSink) pipeline.getElementByName(&quot;sink&quot;);\nsink.setCaps(Caps.anyCaps());\nsink.set(&quot;emit-signals&quot;, true);\nsink.set(&quot;max-buffers&quot;, 50);\nsink.connect((NEW_SAMPLE) appsink -&gt; {\n    final Sample sample = appsink.pullSample();\n    if (sample == null)\n    {\n        return FlowReturn.OK;\n    }\n\n    final Buffer buffer = sample.getBuffer();\n    try\n    {\n        final ByteBuffer buf = buffer.map(false);\n        LOGGER.debug(&quot;Unicast HTTP/TCP message received: {}&quot;, new String(Hex.encodeHex(buf, true)));\n        if (session != null)\n        {\n            try\n            {\n                buf.flip();\n                session.getRemote().sendBytes(buf);\n            }\n            catch (final Exception e)\n            {\n                LOGGER.error(&quot;Failed to send data via WebSocket&quot;, e);\n            }\n        }\n    }\n    finally\n    {\n        buffer.unmap();\n    }\n\n    return FlowReturn.OK;\n});\nsink.connect((AppSink.EOS) s -&gt; LOGGER.info(&quot;Appsink is EOS&quot;));\nsink.connect((AppSink.NEW_PREROLL) s -&gt; {\n    LOGGER.info(&quot;Appsink NEW_PREROLL&quot;);\n    return FlowReturn.OK;\n});\n\nLOGGER.info(&quot;Connecting to {}&quot;, uri);\n\n/**\n * Start the pipeline. Attach a bus listener to call Gst.quit on EOS or error.\n */\npipeline.getBus().connect((Bus.ERROR) ((source, code, message) -&gt; {\n    LOGGER.info(message);\n    Gst.quit();\n}));\npipeline.getBus().connect((Bus.EOS) (source) -&gt; Gst.quit());\npipeline.play();\n\n/**\n * Wait until Gst.quit() called.\n */\nLOGGER.info(&quot;Starting to consume media stream...&quot;);\nGst.main();\npipeline.stop();\nserver.stop();\n</code></pre>\n<p>Now I seem to be stuck here, because the AppSink at the end of the pipeline never gets its new_sample signal triggered. The complete example works like a charme when I replace the appsink with a filesink. I have noticed that there are some other threads (like <a href=\"https://stackoverflow.com/questions/33947284/gstreamer-appsink-not-getting-data-from-the-pipeline?r=SearchResults&amp;s=2%7C123.7572\">this one</a>) with similar problems which normally boil down to &quot;you forgot to set emit-signals=true&quot;. Any ideas why my appsink gets no data?</p>\n<p><strong>Update:</strong></p>\n<p>It appears that the problem is the URL I am passing to the pipeline string. It has two query parameters: <code>http://192.168.xx.xx:544/streaming?video=0&amp;meta=1</code>. If I remove the second parameter (and the ambersand along with it), the pipeline works. Unfortunately I found no docs how to escape URLs in the correct way so GStreamer can read it. Can anyone share such documentation?</p>\n<p><strong>Update 2:</strong></p>\n<p>It starts getting weired now: It looks like the name of the URL parameter is the problem. I have started to replace it with some dummy argument and it works. So the ambersand is not the problem. Then I used VLC media player to consume the stream with the <code>&amp;meta=1</code> in place which also worked. Is it possible that the string &quot;meta&quot; is treated special in gstreamer?</p>\n"},{"tags":["java","performance","parallelstream"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1669796539,"post_id":74624720,"comment_id":131722029,"body_markdown":"Please don&#39;t just describe your code. Include a [example] with your question instead.","body":"Please don&#39;t just describe your code. Include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your question instead."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1669796582,"post_id":74624720,"comment_id":131722044,"body_markdown":"And please also include your inputs, expected results and actual results.","body":"And please also include your inputs, expected results and actual results."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1669812710,"post_id":74624720,"comment_id":131727450,"body_markdown":"does the code inside the lambda expression access (read/modify) any data from outside i common (e.g. reads or writes to the same file, the same database, the same objects in memory) or do you really just create new stuff in your code or modify that person object? It would be quite unusual to work without any side effects inside a `.foreach`. Can you describe that &quot;fetch data from different array list&quot; and &quot;create a set of combinations&quot; a bit more in details?","body":"does the code inside the lambda expression access (read/modify) any data from outside i common (e.g. reads or writes to the same file, the same database, the same objects in memory) or do you really just create new stuff in your code or modify that person object? It would be quite unusual to work without any side effects inside a <code>.foreach</code>. Can you describe that &quot;fetch data from different array list&quot; and &quot;create a set of combinations&quot; a bit more in details?"}],"answers":[{"tags":[],"owner":{"account_id":14581216,"reputation":11,"user_id":10531590,"display_name":"Wise Lin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673260310,"creation_date":1672971407,"answer_id":75026300,"question_id":74624720,"body_markdown":"I have the question which is similar to @cyberbrain &#39;s comment. \r\n\r\nDoes the `nested for-loop` read and write the same collection(List/Set)? \r\n\r\nIf so, please make your collection can be concurrent object type.\r\ne.g. `CopyOnWriteArrayList` or `CopyOnWriteArraySet` something like these.","title":"Nested for loops inside a parallel for loops gives incorrect results","body":"<p>I have the question which is similar to @cyberbrain 's comment.</p>\n<p>Does the <code>nested for-loop</code> read and write the same collection(List/Set)?</p>\n<p>If so, please make your collection can be concurrent object type.\ne.g. <code>CopyOnWriteArrayList</code> or <code>CopyOnWriteArraySet</code> something like these.</p>\n"}],"owner":{"account_id":13351707,"reputation":11,"user_id":9636730,"display_name":"Mohana Priya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673260310,"creation_date":1669796458,"question_id":74624720,"body_markdown":"I am iterating the foreach loop using parallelStream but inside i have a list of nested for loops.\r\n\r\nDuring iteration its giving incorrect result each time with different value.\r\n\r\nI really needs this parallel for loop execution to increase performance.\r\n\r\nExpectation - 6k records\r\n\r\nResult set after parallel iteration - 2k which also varies if I execute the same logic again.\r\nWhat is the difference when we execute a parallelstream with foreach() loop and foreachOrdered()loop? Which one offers a best result with good performance?\r\n\r\n\r\n     //created a class\r\n     public class Person{\r\n         private Integer personId;\r\n         private String personName;\r\n     }\r\n\r\n     //Arraylist that holds all the person details\r\n     public Class PersonDetails{\r\n         public void personData(){\r\n             List&lt;Person&gt; personList = getPersonDetails();\r\n             personList.parallelStream().forEach(person-&gt; {\r\n                 // code logic to fetch data from different array list \r\n                 // based on personid and create a set of combinations \r\n                 // using nested for-loop.\r\n            });\r\n        }\r\n    }\r\n            \r\n            \r\n\r\n\r\n","title":"Nested for loops inside a parallel for loops gives incorrect results","body":"<p>I am iterating the foreach loop using parallelStream but inside i have a list of nested for loops.</p>\n<p>During iteration its giving incorrect result each time with different value.</p>\n<p>I really needs this parallel for loop execution to increase performance.</p>\n<p>Expectation - 6k records</p>\n<p>Result set after parallel iteration - 2k which also varies if I execute the same logic again.\nWhat is the difference when we execute a parallelstream with foreach() loop and foreachOrdered()loop? Which one offers a best result with good performance?</p>\n<pre><code> //created a class\n public class Person{\n     private Integer personId;\n     private String personName;\n }\n\n //Arraylist that holds all the person details\n public Class PersonDetails{\n     public void personData(){\n         List&lt;Person&gt; personList = getPersonDetails();\n         personList.parallelStream().forEach(person-&gt; {\n             // code logic to fetch data from different array list \n             // based on personid and create a set of combinations \n             // using nested for-loop.\n        });\n    }\n}\n        \n        \n</code></pre>\n"},{"tags":["java","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":7226902,"reputation":5025,"user_id":5515155,"display_name":"Rafał Leszko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1587110254,"creation_date":1587110254,"answer_id":61266701,"question_id":61265717,"body_markdown":"It looks like the issue https://github.com/hazelcast/hazelcast/issues/3395 is fixed in the version 3.7.\r\n\r\nSo you can try with the latest Hazelcast version: `4.0.1`. Or if you don&#39;t want to upgrade the major version, then try `3.12.6`.","title":"WrongTargetException in Hazelcast cluster","body":"<p>It looks like the issue <a href=\"https://github.com/hazelcast/hazelcast/issues/3395\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/issues/3395</a> is fixed in the version 3.7.</p>\n\n<p>So you can try with the latest Hazelcast version: <code>4.0.1</code>. Or if you don't want to upgrade the major version, then try <code>3.12.6</code>.</p>\n"}],"owner":{"account_id":1822566,"reputation":199,"user_id":1656253,"display_name":"Rahul J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1711,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61266701,"answer_count":1,"score":2,"last_activity_date":1673260158,"creation_date":1587106581,"question_id":61265717,"body_markdown":" I was running a POC with two members of hazelcast cluster, with 3.4.1 version of hazelcast. \r\n I observed a strange behavior, where one member was continuously throwing WrongTargetException. \r\n It was a rare scenario which I was able to replicate with following sequence of events : \r\n\r\n Assume I am running cluster with two members say X and Y.\r\n\r\n 1. Unplugged Y from the the cluster so it becomes unresponsive.\r\n 2. X thinks Y is not responding so it remove it from clusters.  \r\n 3.  Plugged in Y again, Y assumes it has not received any response/heart-beat\r\n    from X, so think X is dead, and it kicked X out from the cluster.\r\n 4. X begins to throw WrongTargetException soon.\r\n\r\nWhile searching on google I find same issue is described here https://github.com/hazelcast/hazelcast/issues/3395.\r\n \r\nSo would like to know if this has been fixed now, and what is preferred version that should be used. Please consider that I am already using 3.4.1 for other applications as well, so don&#39;t want to do a massive change while upgrading to latest version. ","title":"WrongTargetException in Hazelcast cluster","body":"<p>I was running a POC with two members of hazelcast cluster, with 3.4.1 version of hazelcast.\nI observed a strange behavior, where one member was continuously throwing WrongTargetException.\nIt was a rare scenario which I was able to replicate with following sequence of events :</p>\n<p>Assume I am running cluster with two members say X and Y.</p>\n<ol>\n<li>Unplugged Y from the the cluster so it becomes unresponsive.</li>\n<li>X thinks Y is not responding so it remove it from clusters.</li>\n<li>Plugged in Y again, Y assumes it has not received any response/heart-beat\nfrom X, so think X is dead, and it kicked X out from the cluster.</li>\n<li>X begins to throw WrongTargetException soon.</li>\n</ol>\n<p>While searching on google I find same issue is described here <a href=\"https://github.com/hazelcast/hazelcast/issues/3395\" rel=\"nofollow noreferrer\">https://github.com/hazelcast/hazelcast/issues/3395</a>.</p>\n<p>So would like to know if this has been fixed now, and what is preferred version that should be used. Please consider that I am already using 3.4.1 for other applications as well, so don't want to do a massive change while upgrading to latest version.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":23507202,"reputation":61,"user_id":17556283,"display_name":"louis clement"},"score":0,"creation_date":1673216516,"post_id":75048674,"comment_id":132442958,"body_markdown":"can you please provide more information?? And to show ur code you can use this :```","body":"can you please provide more information?? And to show ur code you can use this :```"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673221782,"post_id":75048674,"comment_id":132443598,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":27469044,"reputation":1,"user_id":20958304,"display_name":"Carlos Serrano"},"score":0,"creation_date":1673283639,"post_id":75048674,"comment_id":132459236,"body_markdown":"Sorry, I&#39;m new here so I don&#39;t know how to do some things, I edited the post and put the code, any more just tell me please.","body":"Sorry, I&#39;m new here so I don&#39;t know how to do some things, I edited the post and put the code, any more just tell me please."}],"owner":{"account_id":27469044,"reputation":1,"user_id":20958304,"display_name":"Carlos Serrano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673260019,"creation_date":1673189143,"question_id":75048674,"body_markdown":"I need help with this. I have a theme with:\r\n\r\n    &lt;style name=&quot;Theme.CuentameUnCuento&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;#4CAF50&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;#388E3C&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;#009688&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;#00796B&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n        &lt;item name=&quot;android:fontFamily&quot;&gt;@font/anna&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nThen I have, in the MainActivity.java, after the setContentView.\r\n\r\n        View decorView = getWindow().getDecorView();\r\n        int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                | View.SYSTEM_UI_FLAG_FULLSCREEN;\r\n        decorView.setSystemUiVisibility(uiOptions);\r\n\r\nWith all of this I can set the full screen mode in the app.\r\n\r\nAll seems to works fine, except when I touch a spinner adapter. Then the navigation buttons appears.\r\nIn the actitvity_main.xml the spinner:\r\n\r\n    &lt;Spinner\r\n        android:id=&quot;@+id/sp_idioma_menu&quot;\r\n        style=&quot;@style/spinner_style&quot;\r\n        android:layout_width=&quot;80dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginBottom=&quot;36dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/btn_salir&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        android:stateListAnimator=&quot;@null&quot;/&gt;\r\n\r\n\r\nThe styles.xml is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;style name=&quot;spinner_style&quot;&gt;\r\n            &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\r\n            &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\r\n            &lt;item name=&quot;android:background&quot;&gt;@drawable/diseny_spinner&lt;/item&gt;\r\n            &lt;item name=&quot;android:paddingLeft&quot;&gt;8dp&lt;/item&gt;\r\n            &lt;item name=&quot;android:paddingRight&quot;&gt;20dp&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\n\r\nThe diseny_spinner.xml is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item&gt;&lt;layer-list&gt;\r\n            &lt;item&gt;&lt;shape&gt;\r\n            &lt;/shape&gt;&lt;/item&gt;\r\n        &lt;/layer-list&gt;&lt;/item&gt;\r\n    &lt;/selector&gt;\r\n\r\nImages:\r\n[Screenshot when I touch the Spinner][1]\r\n[Screenshot when Spinner is not opened][2]\r\n\r\nHow can I solve this? Thanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ojyLr.png\r\n  [2]: https://i.stack.imgur.com/FgqxL.png","title":"Navigation Buttons appears when I touch a spinner","body":"<p>I need help with this. I have a theme with:</p>\n<pre><code>&lt;style name=&quot;Theme.CuentameUnCuento&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;#4CAF50&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;#388E3C&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n    &lt;!-- Secondary brand color. --&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;#009688&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryVariant&quot;&gt;#00796B&lt;/item&gt;\n    &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/white&lt;/item&gt;\n    &lt;!-- Status bar color. --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\n    &lt;item name=&quot;android:fontFamily&quot;&gt;@font/anna&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>Then I have, in the MainActivity.java, after the setContentView.</p>\n<pre><code>    View decorView = getWindow().getDecorView();\n    int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n            | View.SYSTEM_UI_FLAG_FULLSCREEN;\n    decorView.setSystemUiVisibility(uiOptions);\n</code></pre>\n<p>With all of this I can set the full screen mode in the app.</p>\n<p>All seems to works fine, except when I touch a spinner adapter. Then the navigation buttons appears.\nIn the actitvity_main.xml the spinner:</p>\n<pre><code>&lt;Spinner\n    android:id=&quot;@+id/sp_idioma_menu&quot;\n    style=&quot;@style/spinner_style&quot;\n    android:layout_width=&quot;80dp&quot;\n    android:layout_height=&quot;60dp&quot;\n    android:layout_marginEnd=&quot;16dp&quot;\n    android:layout_marginBottom=&quot;36dp&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/btn_salir&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    android:stateListAnimator=&quot;@null&quot;/&gt;\n</code></pre>\n<p>The styles.xml is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;style name=&quot;spinner_style&quot;&gt;\n        &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\n        &lt;item name=&quot;android:layout_height&quot;&gt;wrap_content&lt;/item&gt;\n        &lt;item name=&quot;android:background&quot;&gt;@drawable/diseny_spinner&lt;/item&gt;\n        &lt;item name=&quot;android:paddingLeft&quot;&gt;8dp&lt;/item&gt;\n        &lt;item name=&quot;android:paddingRight&quot;&gt;20dp&lt;/item&gt;\n        &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>The diseny_spinner.xml is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item&gt;&lt;layer-list&gt;\n        &lt;item&gt;&lt;shape&gt;\n        &lt;/shape&gt;&lt;/item&gt;\n    &lt;/layer-list&gt;&lt;/item&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>Images:\n<a href=\"https://i.stack.imgur.com/ojyLr.png\" rel=\"nofollow noreferrer\">Screenshot when I touch the Spinner</a>\n<a href=\"https://i.stack.imgur.com/FgqxL.png\" rel=\"nofollow noreferrer\">Screenshot when Spinner is not opened</a></p>\n<p>How can I solve this? Thanks</p>\n"},{"tags":["java","android","retrofit"],"answers":[{"tags":[],"owner":{"account_id":3793752,"reputation":491,"user_id":3149553,"display_name":"guillaume_fr"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1442312989,"creation_date":1442312989,"answer_id":32583756,"question_id":32579754,"body_markdown":"Go with RxJava Observable and call retry()\r\nDoc: https://github.com/ReactiveX/RxJava/wiki/Error-Handling-Operators","title":"Retrying the request using Retrofit 2","body":"<p>Go with RxJava Observable and call retry()\nDoc: <a href=\"https://github.com/ReactiveX/RxJava/wiki/Error-Handling-Operators\" rel=\"nofollow\">https://github.com/ReactiveX/RxJava/wiki/Error-Handling-Operators</a></p>\n"},{"tags":[],"owner":{"account_id":2931700,"reputation":7184,"user_id":2511775,"accept_rate":71,"display_name":"Ashkan Sarlak"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1443517763,"creation_date":1443517763,"answer_id":32840088,"question_id":32579754,"body_markdown":"I finally did something like this, for anyone interested:\r\n\r\n## 1 ##\r\n\r\nFirst I made an abstract class `CallbackWithRetry` \r\n\r\n    public abstract class CallbackWithRetry&lt;T&gt; implements Callback&lt;T&gt; {\r\n    \r\n        private static final int TOTAL_RETRIES = 3;\r\n        private static final String TAG = CallbackWithRetry.class.getSimpleName();\r\n        private final Call&lt;T&gt; call;\r\n        private int retryCount = 0;\r\n    \r\n        public CallbackWithRetry(Call&lt;T&gt; call) {\r\n            this.call = call;\r\n        }\r\n    \r\n        @Override\r\n        public void onFailure(Throwable t) {\r\n            Log.e(TAG, t.getLocalizedMessage());\r\n            if (retryCount++ &lt; TOTAL_RETRIES) {\r\n                Log.v(TAG, &quot;Retrying... (&quot; + retryCount + &quot; out of &quot; + TOTAL_RETRIES + &quot;)&quot;);\r\n                retry();\r\n            }\r\n        }\r\n    \r\n        private void retry() {\r\n            call.clone().enqueue(this);\r\n        }\r\n    }\r\n\r\nUsing this class I can do something like this:\r\n\r\n    serviceCall.enqueue(new CallbackWithRetry&lt;List&lt;Album&gt;&gt;(serviceCall) {\r\n        @Override\r\n        public void onResponse(Response&lt;List&lt;Album&gt;&gt; response) {\r\n            ...\r\n        }\r\n    });\r\n\r\n\r\n----------\r\n\r\n## 2 ##\r\n\r\nThis is not completely satisfactory because I have to pass same `serviceCall` twice. This can confusing as one can think the second `serviceCall` (that goes into constructor of `CallbackWithRetry`) should or could be something different from first one (which we invoke `enqueue` method on it)\r\n\r\nSo I implemented a helper class `CallUtils`:\r\n\r\n    public class CallUtils {\r\n    \r\n        public static &lt;T&gt; void enqueueWithRetry(Call&lt;T&gt; call, final Callback&lt;T&gt; callback) {\r\n            call.enqueue(new CallbackWithRetry&lt;T&gt;(call) {\r\n                @Override\r\n                public void onResponse(Response&lt;T&gt; response) {\r\n                    callback.onResponse(response);\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Throwable t) {\r\n                    super.onFailure(t);\r\n                    callback.onFailure(t);\r\n                }\r\n            });\r\n        }\r\n    \r\n    }\r\n\r\nAnd I can use it like this:\r\n\r\n    CallUtils.enqueueWithRetry(serviceCall, new Callback&lt;List&lt;Album&gt;&gt;() {\r\n        @Override\r\n        public void onResponse(Response&lt;List&lt;Album&gt;&gt; response) {\r\n            ...\r\n        }\r\n    \r\n        @Override\r\n        public void onFailure(Throwable t) {\r\n            // Let the underlying method do the job of retrying.\r\n        }\r\n    });\r\n\r\nWith this I have to pass a standard `Callback` to `enqueueWithRetry` method and it makes me implement `onFailure` (Though in the previous method I can implement it too)\r\n\r\nSo this is how I&#39;ve solved the issue. Any suggestion for a better design would be appreciated. ","title":"Retrying the request using Retrofit 2","body":"<p>I finally did something like this, for anyone interested:</p>\n\n<h2>1</h2>\n\n<p>First I made an abstract class <code>CallbackWithRetry</code> </p>\n\n<pre><code>public abstract class CallbackWithRetry&lt;T&gt; implements Callback&lt;T&gt; {\n\n    private static final int TOTAL_RETRIES = 3;\n    private static final String TAG = CallbackWithRetry.class.getSimpleName();\n    private final Call&lt;T&gt; call;\n    private int retryCount = 0;\n\n    public CallbackWithRetry(Call&lt;T&gt; call) {\n        this.call = call;\n    }\n\n    @Override\n    public void onFailure(Throwable t) {\n        Log.e(TAG, t.getLocalizedMessage());\n        if (retryCount++ &lt; TOTAL_RETRIES) {\n            Log.v(TAG, \"Retrying... (\" + retryCount + \" out of \" + TOTAL_RETRIES + \")\");\n            retry();\n        }\n    }\n\n    private void retry() {\n        call.clone().enqueue(this);\n    }\n}\n</code></pre>\n\n<p>Using this class I can do something like this:</p>\n\n<pre><code>serviceCall.enqueue(new CallbackWithRetry&lt;List&lt;Album&gt;&gt;(serviceCall) {\n    @Override\n    public void onResponse(Response&lt;List&lt;Album&gt;&gt; response) {\n        ...\n    }\n});\n</code></pre>\n\n<hr>\n\n<h2>2</h2>\n\n<p>This is not completely satisfactory because I have to pass same <code>serviceCall</code> twice. This can confusing as one can think the second <code>serviceCall</code> (that goes into constructor of <code>CallbackWithRetry</code>) should or could be something different from first one (which we invoke <code>enqueue</code> method on it)</p>\n\n<p>So I implemented a helper class <code>CallUtils</code>:</p>\n\n<pre><code>public class CallUtils {\n\n    public static &lt;T&gt; void enqueueWithRetry(Call&lt;T&gt; call, final Callback&lt;T&gt; callback) {\n        call.enqueue(new CallbackWithRetry&lt;T&gt;(call) {\n            @Override\n            public void onResponse(Response&lt;T&gt; response) {\n                callback.onResponse(response);\n            }\n\n            @Override\n            public void onFailure(Throwable t) {\n                super.onFailure(t);\n                callback.onFailure(t);\n            }\n        });\n    }\n\n}\n</code></pre>\n\n<p>And I can use it like this:</p>\n\n<pre><code>CallUtils.enqueueWithRetry(serviceCall, new Callback&lt;List&lt;Album&gt;&gt;() {\n    @Override\n    public void onResponse(Response&lt;List&lt;Album&gt;&gt; response) {\n        ...\n    }\n\n    @Override\n    public void onFailure(Throwable t) {\n        // Let the underlying method do the job of retrying.\n    }\n});\n</code></pre>\n\n<p>With this I have to pass a standard <code>Callback</code> to <code>enqueueWithRetry</code> method and it makes me implement <code>onFailure</code> (Though in the previous method I can implement it too)</p>\n\n<p>So this is how I've solved the issue. Any suggestion for a better design would be appreciated. </p>\n"},{"tags":[],"owner":{"account_id":1863553,"reputation":274,"user_id":1687601,"display_name":"milechainsaw"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1468933105,"creation_date":1468933105,"answer_id":38459318,"question_id":32579754,"body_markdown":"I&#39;ve made custom implementation of the Callback&lt;T&gt; interface, you can pretty much use it in place of original callback. If call is successful, the onResponse() method is called. If after retrying for set amount of repetitions call fails, onFailedAfterRetry() is called.\r\n\r\n    public abstract class BackoffCallback&lt;T&gt; implements Callback&lt;T&gt; {\r\n    private static final int RETRY_COUNT = 3;\r\n    /**\r\n     * Base retry delay for exponential backoff, in Milliseconds\r\n     */\r\n    private static final double RETRY_DELAY = 300;\r\n    private int retryCount = 0;\r\n\r\n    @Override\r\n    public void onFailure(final Call&lt;T&gt; call, Throwable t) {\r\n        retryCount++;\r\n        if (retryCount &lt;= RETRY_COUNT) {\r\n            int expDelay = (int) (RETRY_DELAY * Math.pow(2, Math.max(0, retryCount - 1)));\r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    retry(call);\r\n                }\r\n            }, expDelay);\r\n        } else {\r\n            onFailedAfterRetry(t);\r\n        }\r\n    }\r\n\r\n    private void retry(Call&lt;T&gt; call) {\r\n        call.clone().enqueue(this);\r\n    }\r\n\r\n    public abstract void onFailedAfterRetry(Throwable t);\r\n\r\n    }\r\n\r\nhttps://gist.github.com/milechainsaw/811c1b583706da60417ed10d35d2808f","title":"Retrying the request using Retrofit 2","body":"<p>I've made custom implementation of the Callback interface, you can pretty much use it in place of original callback. If call is successful, the onResponse() method is called. If after retrying for set amount of repetitions call fails, onFailedAfterRetry() is called.</p>\n\n<pre><code>public abstract class BackoffCallback&lt;T&gt; implements Callback&lt;T&gt; {\nprivate static final int RETRY_COUNT = 3;\n/**\n * Base retry delay for exponential backoff, in Milliseconds\n */\nprivate static final double RETRY_DELAY = 300;\nprivate int retryCount = 0;\n\n@Override\npublic void onFailure(final Call&lt;T&gt; call, Throwable t) {\n    retryCount++;\n    if (retryCount &lt;= RETRY_COUNT) {\n        int expDelay = (int) (RETRY_DELAY * Math.pow(2, Math.max(0, retryCount - 1)));\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                retry(call);\n            }\n        }, expDelay);\n    } else {\n        onFailedAfterRetry(t);\n    }\n}\n\nprivate void retry(Call&lt;T&gt; call) {\n    call.clone().enqueue(this);\n}\n\npublic abstract void onFailedAfterRetry(Throwable t);\n\n}\n</code></pre>\n\n<p><a href=\"https://gist.github.com/milechainsaw/811c1b583706da60417ed10d35d2808f\" rel=\"noreferrer\">https://gist.github.com/milechainsaw/811c1b583706da60417ed10d35d2808f</a></p>\n"},{"tags":[],"owner":{"account_id":42784,"reputation":1740,"user_id":124759,"accept_rate":93,"display_name":"huwr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485471084,"creation_date":1485471084,"answer_id":41884400,"question_id":32579754,"body_markdown":"I did something quite similar to Ashkan Sarlak, but since Retrofit 2.1 passes the `Call&lt;T&gt;` into the `onFailure` method, you can simplify to one `CallbackWithRetry&lt;T&gt;` abstract class. See:\r\n\r\n    public abstract class CallbackWithRetry&lt;T&gt; implements Callback&lt;T&gt; {\r\n\r\n \r\n\r\n     private static final String TAG = &quot;CallbackWithRetry&quot;;\r\n    \r\n      private int retryCount = 0;\r\n    \r\n      private final Logger logger;\r\n      private final String requestName;\r\n      private final int retryAttempts;\r\n    \r\n      protected CallbackWithRetry(@NonNull Logger logger, @NonNull String requestName, int retryAttempts) {\r\n        this.logger = logger;\r\n        this.requestName = requestName;\r\n        this.retryAttempts = retryAttempts;\r\n      }\r\n    \r\n      @Override\r\n      public void onFailure(Call&lt;T&gt; call, Throwable t) {\r\n        if (retryCount &lt; retryAttempts) {\r\n          logger.e(TAG, &quot;Retrying &quot;, requestName, &quot;... (&quot;, retryCount, &quot; out of &quot;, retryAttempts, &quot;)&quot;);\r\n          retry(call);\r\n    \r\n          retryCount += 1;\r\n        } else {\r\n          logger.e(TAG, &quot;Failed request &quot;, requestName, &quot; after &quot;, retryAttempts, &quot; attempts&quot;);\r\n        }\r\n      }\r\n    \r\n      private void retry(Call&lt;T&gt; call) {\r\n        call.clone().enqueue(this);\r\n      }\r\n    }","title":"Retrying the request using Retrofit 2","body":"<p>I did something quite similar to Ashkan Sarlak, but since Retrofit 2.1 passes the <code>Call&lt;T&gt;</code> into the <code>onFailure</code> method, you can simplify to one <code>CallbackWithRetry&lt;T&gt;</code> abstract class. See:</p>\n\n<pre><code>public abstract class CallbackWithRetry&lt;T&gt; implements Callback&lt;T&gt; {\n\n\n\n private static final String TAG = \"CallbackWithRetry\";\n\n  private int retryCount = 0;\n\n  private final Logger logger;\n  private final String requestName;\n  private final int retryAttempts;\n\n  protected CallbackWithRetry(@NonNull Logger logger, @NonNull String requestName, int retryAttempts) {\n    this.logger = logger;\n    this.requestName = requestName;\n    this.retryAttempts = retryAttempts;\n  }\n\n  @Override\n  public void onFailure(Call&lt;T&gt; call, Throwable t) {\n    if (retryCount &lt; retryAttempts) {\n      logger.e(TAG, \"Retrying \", requestName, \"... (\", retryCount, \" out of \", retryAttempts, \")\");\n      retry(call);\n\n      retryCount += 1;\n    } else {\n      logger.e(TAG, \"Failed request \", requestName, \" after \", retryAttempts, \" attempts\");\n    }\n  }\n\n  private void retry(Call&lt;T&gt; call) {\n    call.clone().enqueue(this);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8541170,"reputation":13179,"user_id":6401241,"display_name":"Radesh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539163003,"creation_date":1539163003,"answer_id":52736729,"question_id":32579754,"body_markdown":"[ashkan-sarlak][1] answer work great and i&#39;m just try to make it up to date.\r\n\r\nFrom [retrofit 2.1][2] \r\n\r\n    onFailure(Throwable t) \r\n   \r\nChange to\r\n\r\n    onFailure(Call&lt;T&gt; call, Throwable t)\r\n\r\nSo this make it so easy now.just create `CallbackWithRetry.java` like this\r\n\r\n    public abstract class CallbackWithRetry&lt;T&gt; implements Callback&lt;T&gt; {\r\n    \r\n        private static final int TOTAL_RETRIES = 3;\r\n        private static final String TAG = CallbackWithRetry.class.getSimpleName();\r\n        private int retryCount = 0;\r\n    \r\n        @Override\r\n        public void onFailure(Call&lt;T&gt; call, Throwable t) {\r\n            Log.e(TAG, t.getLocalizedMessage());\r\n            if (retryCount++ &lt; TOTAL_RETRIES) {\r\n                Log.v(TAG, &quot;Retrying... (&quot; + retryCount + &quot; out of &quot; + TOTAL_RETRIES + &quot;)&quot;);\r\n                retry(call);\r\n            }\r\n        }\r\n    \r\n        private void retry(Call&lt;T&gt; call) {\r\n            call.clone().enqueue(this);\r\n        }\r\n    }\r\n\r\nThat&#39;s all! you can simply use it like this\r\n\r\n    call.enqueue(new CallbackWithRetry&lt;someResponseClass&gt;() {\r\n            \r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;someResponseClass&gt; call, @NonNull retrofit2.Response&lt;someResponseClass&gt; response) {\r\n                //do what you want\r\n            }\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;someResponseClass&gt; call, @NonNull Throwable t) {\r\n                super.onFailure(call,t);\r\n                //do some thing to show ui you trying\r\n                //or don&#39;t show! its optional\r\n            }\r\n        });\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2511775/ashkan-sarlak\r\n  [2]: https://github.com/square/retrofit/tags","title":"Retrying the request using Retrofit 2","body":"<p><a href=\"https://stackoverflow.com/users/2511775/ashkan-sarlak\">ashkan-sarlak</a> answer work great and i'm just try to make it up to date.</p>\n\n<p>From <a href=\"https://github.com/square/retrofit/tags\" rel=\"noreferrer\">retrofit 2.1</a> </p>\n\n<pre><code>onFailure(Throwable t) \n</code></pre>\n\n<p>Change to</p>\n\n<pre><code>onFailure(Call&lt;T&gt; call, Throwable t)\n</code></pre>\n\n<p>So this make it so easy now.just create <code>CallbackWithRetry.java</code> like this</p>\n\n<pre><code>public abstract class CallbackWithRetry&lt;T&gt; implements Callback&lt;T&gt; {\n\n    private static final int TOTAL_RETRIES = 3;\n    private static final String TAG = CallbackWithRetry.class.getSimpleName();\n    private int retryCount = 0;\n\n    @Override\n    public void onFailure(Call&lt;T&gt; call, Throwable t) {\n        Log.e(TAG, t.getLocalizedMessage());\n        if (retryCount++ &lt; TOTAL_RETRIES) {\n            Log.v(TAG, \"Retrying... (\" + retryCount + \" out of \" + TOTAL_RETRIES + \")\");\n            retry(call);\n        }\n    }\n\n    private void retry(Call&lt;T&gt; call) {\n        call.clone().enqueue(this);\n    }\n}\n</code></pre>\n\n<p>That's all! you can simply use it like this</p>\n\n<pre><code>call.enqueue(new CallbackWithRetry&lt;someResponseClass&gt;() {\n\n        @Override\n        public void onResponse(@NonNull Call&lt;someResponseClass&gt; call, @NonNull retrofit2.Response&lt;someResponseClass&gt; response) {\n            //do what you want\n        }\n        @Override\n        public void onFailure(@NonNull Call&lt;someResponseClass&gt; call, @NonNull Throwable t) {\n            super.onFailure(call,t);\n            //do some thing to show ui you trying\n            //or don't show! its optional\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":163184,"reputation":4278,"user_id":385138,"accept_rate":90,"display_name":"SIVAKUMAR.J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540906530,"creation_date":1540906530,"answer_id":53065556,"question_id":32579754,"body_markdown":"I think for android we no need to go for retrofit for this.We can make use of Workmanager (which predefine android api).\r\nWe can use &quot;ListenableWorker.Result.SUCCESS&quot;,&quot;ListenableWorker.Result.RETRY&quot; ,etc and achieve the above goals.","title":"Retrying the request using Retrofit 2","body":"<p>I think for android we no need to go for retrofit for this.We can make use of Workmanager (which predefine android api).\nWe can use \"ListenableWorker.Result.SUCCESS\",\"ListenableWorker.Result.RETRY\" ,etc and achieve the above goals.</p>\n"},{"tags":[],"owner":{"account_id":1883941,"reputation":380,"user_id":1703546,"accept_rate":33,"display_name":"DTodt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549281689,"creation_date":1549281689,"answer_id":54515673,"question_id":32579754,"body_markdown":"With Retrofit 2.5\r\n\r\nNow it&#39;s possible to make async sync calls through **java.util.concurrent.CompletableFuture**, the code waits for it&#39;s completion wich is very nice.\r\n\r\nHere&#39;s a [gist][1] with a working solution.\r\n\r\n\r\n  [1]: https://gist.github.com/dtodt/2b62a18e87375682167027bb7feb6752","title":"Retrying the request using Retrofit 2","body":"<p>With Retrofit 2.5</p>\n\n<p>Now it's possible to make async sync calls through <strong>java.util.concurrent.CompletableFuture</strong>, the code waits for it's completion wich is very nice.</p>\n\n<p>Here's a <a href=\"https://gist.github.com/dtodt/2b62a18e87375682167027bb7feb6752\" rel=\"nofollow noreferrer\">gist</a> with a working solution.</p>\n"},{"tags":[],"owner":{"account_id":3234840,"reputation":618,"user_id":2729310,"display_name":"A. Ferrand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663921155,"creation_date":1663921155,"answer_id":73824880,"question_id":32579754,"body_markdown":"Another solution for this problem if retry is optional :\r\n\r\n```java\r\npublic class CustomCallback&lt;T&gt; implements Callback&lt;T&gt; {\r\n    @NonNull\r\n    Callback&lt;T&gt; callback;\r\n\r\n    private int retryCount = 0;\r\n    private int maxRetry = 0;\r\n\r\n    @EverythingIsNonNull\r\n    public CustomCallback(Callback&lt;T&gt; callback) {\r\n        this.callback = callback;\r\n    }\r\n\r\n\r\n    public CustomCallback&lt;T&gt; retryOnFailure(int nbRetry) {\r\n        maxRetry = nbRetry;\r\n        return this;\r\n    }\r\n\r\n    @EverythingIsNonNull\r\n    @Override\r\n    public void onResponse(Call&lt;T&gt; call, Response&lt;T&gt; response) {\r\n        callback.onResponse(call, response);\r\n    }\r\n\r\n    @EverythingIsNonNull\r\n    @Override\r\n    public void onFailure(Call&lt;T&gt; call, Throwable t) {\r\n        if (maxRetry &gt; retryCount) {\r\n            retryCount++;\r\n            call.clone().enqueue(this);\r\n            return;\r\n        }\r\n        callback.onFailure(call, t);\r\n    }\r\n}\r\n```\r\n\r\nThis way, you can choose if you want retry or not :\r\n```java\r\n//With retry\r\n myAPI.makeCall().enqueue(new CustomCallback&lt;&gt;(myCallback).retryOnFailure(3));\r\n//Without\r\n myAPI.makeCall().enqueue(new CustomCallback&lt;&gt;(myCallback));\r\n```","title":"Retrying the request using Retrofit 2","body":"<p>Another solution for this problem if retry is optional :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomCallback&lt;T&gt; implements Callback&lt;T&gt; {\n    @NonNull\n    Callback&lt;T&gt; callback;\n\n    private int retryCount = 0;\n    private int maxRetry = 0;\n\n    @EverythingIsNonNull\n    public CustomCallback(Callback&lt;T&gt; callback) {\n        this.callback = callback;\n    }\n\n\n    public CustomCallback&lt;T&gt; retryOnFailure(int nbRetry) {\n        maxRetry = nbRetry;\n        return this;\n    }\n\n    @EverythingIsNonNull\n    @Override\n    public void onResponse(Call&lt;T&gt; call, Response&lt;T&gt; response) {\n        callback.onResponse(call, response);\n    }\n\n    @EverythingIsNonNull\n    @Override\n    public void onFailure(Call&lt;T&gt; call, Throwable t) {\n        if (maxRetry &gt; retryCount) {\n            retryCount++;\n            call.clone().enqueue(this);\n            return;\n        }\n        callback.onFailure(call, t);\n    }\n}\n</code></pre>\n<p>This way, you can choose if you want retry or not :</p>\n<pre class=\"lang-java prettyprint-override\"><code>//With retry\n myAPI.makeCall().enqueue(new CustomCallback&lt;&gt;(myCallback).retryOnFailure(3));\n//Without\n myAPI.makeCall().enqueue(new CustomCallback&lt;&gt;(myCallback));\n</code></pre>\n"}],"owner":{"account_id":2931700,"reputation":7184,"user_id":2511775,"accept_rate":71,"display_name":"Ashkan Sarlak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33312,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":32840088,"answer_count":8,"score":32,"last_activity_date":1673259618,"creation_date":1442300746,"question_id":32579754,"body_markdown":"How can I add retry functionality to the requests sent by [Retrofit 2][1] library. Something like:\r\n\r\n    service.listItems().enqueue(new Callback&lt;List&lt;Item&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Response&lt;List&lt;Item&gt;&gt; response) {\r\n                ...\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable t) {\r\n                ...\r\n            }\r\n        }).retryOnFailure(5 /* times */);\r\n\r\n\r\n  [1]: http://square.github.io/retrofit/","title":"Retrying the request using Retrofit 2","body":"<p>How can I add retry functionality to the requests sent by <a href=\"http://square.github.io/retrofit/\" rel=\"noreferrer\">Retrofit 2</a> library. Something like:</p>\n\n<pre><code>service.listItems().enqueue(new Callback&lt;List&lt;Item&gt;&gt;() {\n        @Override\n        public void onResponse(Response&lt;List&lt;Item&gt;&gt; response) {\n            ...\n        }\n\n        @Override\n        public void onFailure(Throwable t) {\n            ...\n        }\n    }).retryOnFailure(5 /* times */);\n</code></pre>\n"},{"tags":["java","mysql","arrays","servlets","jdbc"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673258832,"post_id":75055636,"comment_id":132449888,"body_markdown":"Create a new `User` for each row and not one user with a list property","body":"Create a new <code>User</code> for each row and not one user with a list property"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673259181,"post_id":75055636,"comment_id":132450009,"body_markdown":"Please ask about only one problem per question.","body":"Please ask about only one problem per question."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1673259739,"post_id":75055636,"comment_id":132450159,"body_markdown":"So if you want to persist _shoes_, why on earth your class is called `User`?","body":"So if you want to persist <i>shoes</i>, why on earth your class is called <code>User</code>?"}],"owner":{"account_id":27469296,"reputation":1,"user_id":20958522,"display_name":"Bambina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673266335,"answer_count":0,"score":0,"last_activity_date":1673259538,"creation_date":1673258440,"question_id":75055636,"body_markdown":"I have an exact/similar problem with: https://stackoverflow.com/q/66652003/20958522 on How to insert dynamically created field values to MySQL db using Java/JDBC?\r\n\r\nThere&#39;s one answer that solved the problem above, but instead of one dynamically created field values (multiple phone numbers) I have to insert multiple dynamic field values in a row for example (size, price, stocks)\r\n[Image of multiple input fields](https://i.stack.imgur.com/abFFi.jpg)\r\n\r\nSolution that I found: https://stackoverflow.com/a/66691466/20958522\r\n\r\nHere is the code following the guide from the solution:\r\n\r\nAside from inserting multiple fields value from quantity, I also need to insert multiple weight, rate, and price into MySQL. What can I do to modify the code to be able to insert multiple input fields in a row to the database?\r\n\r\n**/Insert servlet**\r\n\r\n```java\r\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\ttry {\r\n\t\tString shoe_name= request.getParameter(&quot;shoe_name&quot;);        \t\r\n        String[] quantity = request.getParameterValues(&quot;quantity&quot;);\r\n        \r\n        List&lt;String&gt; qty = new ArrayList&lt;&gt;();\r\n        if (quantity != null) {\r\n          qty = Arrays.asList(quantity);\r\n        }\r\n        \r\n        String weight = request.getParameter(&quot;weight&quot;);\r\n    \tString rate= request.getParameter(&quot;rate&quot;);\r\n        String price = request.getParameter(&quot;price&quot;);\r\n        String status = &quot;2&quot;;\r\n                    \r\n        User newUser = new User(shoe_name, qty, weight, rate, price, status);\r\n        \r\n\t\tuserDAO.insertUser(newUser);\r\n        response.sendRedirect(&quot;List&quot;);\r\n\t\tSystem.out.println(&quot;Added Successfully&quot;);\r\n\t} catch (SQLException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n\r\n**userDAO.java code**\r\n(insert to database)\r\n\r\n```\r\n\r\n//INSERT ITEMS\r\npublic void insertUser(User user) throws SQLException, FileNotFoundException {\r\n    List&lt;String&gt; quantity = user.getQuantity();\r\n    PreparedStatement preparedStatement = null;\r\n    \r\n    if (quantity != null &amp;&amp; !quantity.isEmpty()) {\r\n\r\n\ttry (Connection connection = getConnection()){ \r\n\t preparedStatement = connection.prepareStatement(INSERT_USERS_SQL); \r\n    \r\n\t for (String qty : quantity) {\r\n\r\n\t\tpreparedStatement.setString(1, user.getShoe_name());\r\n  //    preparedStatement.setString(2, user.getQuantity());\r\n        \r\n\t\tpreparedStatement.setString(2, qty);\r\n\t\tpreparedStatement.setString(3, user.getWeight());\r\n        preparedStatement.setString(4, user.getRate());\r\n        preparedStatement.setString(5, user.getPrice());\r\n        preparedStatement.setString(6, user.getStatus());\r\n        preparedStatement.addBatch(); //remove\r\n\r\n\t }   \r\n\t \r\n     System.out.println(preparedStatement);\r\n//     preparedStatement.executeUpdate();\r\n     preparedStatement.executeBatch();\r\n\t \r\n    } catch (SQLException e) {\r\n    \tprintSQLException(e);\r\n    }catch(Exception ex) { \r\n\t\tex.printStackTrace(); \r\n\t} \r\n   }\r\n}\r\n```\r\n\r\n**user.java**\r\n\r\n```\r\npublic class User {\r\n\t\r\n\tprivate int product_id;\r\n\tprivate String shoe_name;\r\n    private List&lt;String&gt; quantity = new ArrayList&lt;&gt;();\r\n\tprivate String qty;\r\n    private String weight;\r\n\tprivate String rate;\r\n\tprivate String price;\r\n\tprivate String status = &quot;2&quot;;\r\n\r\n\tpublic User(String shoe_name, List&lt;String&gt; quantity, String weight, String rate, String price, String status) {\r\n\t\tsuper();\r\n\t\tthis.shoe_name = shoe_name;\r\n\t\tthis.quantity = quantity;\r\n\t\tthis.weight = weight;\r\n\t\tthis.rate = rate;\r\n\t\tthis.price = price;\r\n\t\tthis.status = status;\r\n\r\n\t}\r\n\r\n    public void addQty(String quantity) {\r\n        if (this.quantity == null) {\r\n          this.quantity = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        this.quantity.add(quantity);\r\n      }\r\n\r\n\r\n/*\r\n* SETTERS AND GETTERS */\r\n```\r\n\r\n\r\n","title":"How to insert dynamically *multiple* input fields in a row to mysql using java","body":"<p>I have an exact/similar problem with: <a href=\"https://stackoverflow.com/q/66652003/20958522\">How to insert dynamically created field values to MySQL db using Java/JDBC?</a> on How to insert dynamically created field values to MySQL db using Java/JDBC?</p>\n<p>There's one answer that solved the problem above, but instead of one dynamically created field values (multiple phone numbers) I have to insert multiple dynamic field values in a row for example (size, price, stocks)\n<a href=\"https://i.stack.imgur.com/abFFi.jpg\" rel=\"nofollow noreferrer\">Image of multiple input fields</a></p>\n<p>Solution that I found: <a href=\"https://stackoverflow.com/a/66691466/20958522\">https://stackoverflow.com/a/66691466/20958522</a></p>\n<p>Here is the code following the guide from the solution:</p>\n<p>Aside from inserting multiple fields value from quantity, I also need to insert multiple weight, rate, and price into MySQL. What can I do to modify the code to be able to insert multiple input fields in a row to the database?</p>\n<p><strong>/Insert servlet</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    try {\n        String shoe_name= request.getParameter(&quot;shoe_name&quot;);            \n        String[] quantity = request.getParameterValues(&quot;quantity&quot;);\n        \n        List&lt;String&gt; qty = new ArrayList&lt;&gt;();\n        if (quantity != null) {\n          qty = Arrays.asList(quantity);\n        }\n        \n        String weight = request.getParameter(&quot;weight&quot;);\n        String rate= request.getParameter(&quot;rate&quot;);\n        String price = request.getParameter(&quot;price&quot;);\n        String status = &quot;2&quot;;\n                    \n        User newUser = new User(shoe_name, qty, weight, rate, price, status);\n        \n        userDAO.insertUser(newUser);\n        response.sendRedirect(&quot;List&quot;);\n        System.out.println(&quot;Added Successfully&quot;);\n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><strong>userDAO.java code</strong>\n(insert to database)</p>\n<pre><code>\n//INSERT ITEMS\npublic void insertUser(User user) throws SQLException, FileNotFoundException {\n    List&lt;String&gt; quantity = user.getQuantity();\n    PreparedStatement preparedStatement = null;\n    \n    if (quantity != null &amp;&amp; !quantity.isEmpty()) {\n\n    try (Connection connection = getConnection()){ \n     preparedStatement = connection.prepareStatement(INSERT_USERS_SQL); \n    \n     for (String qty : quantity) {\n\n        preparedStatement.setString(1, user.getShoe_name());\n  //    preparedStatement.setString(2, user.getQuantity());\n        \n        preparedStatement.setString(2, qty);\n        preparedStatement.setString(3, user.getWeight());\n        preparedStatement.setString(4, user.getRate());\n        preparedStatement.setString(5, user.getPrice());\n        preparedStatement.setString(6, user.getStatus());\n        preparedStatement.addBatch(); //remove\n\n     }   \n     \n     System.out.println(preparedStatement);\n//     preparedStatement.executeUpdate();\n     preparedStatement.executeBatch();\n     \n    } catch (SQLException e) {\n        printSQLException(e);\n    }catch(Exception ex) { \n        ex.printStackTrace(); \n    } \n   }\n}\n</code></pre>\n<p><strong>user.java</strong></p>\n<pre><code>public class User {\n    \n    private int product_id;\n    private String shoe_name;\n    private List&lt;String&gt; quantity = new ArrayList&lt;&gt;();\n    private String qty;\n    private String weight;\n    private String rate;\n    private String price;\n    private String status = &quot;2&quot;;\n\n    public User(String shoe_name, List&lt;String&gt; quantity, String weight, String rate, String price, String status) {\n        super();\n        this.shoe_name = shoe_name;\n        this.quantity = quantity;\n        this.weight = weight;\n        this.rate = rate;\n        this.price = price;\n        this.status = status;\n\n    }\n\n    public void addQty(String quantity) {\n        if (this.quantity == null) {\n          this.quantity = new ArrayList&lt;&gt;();\n        }\n\n        this.quantity.add(quantity);\n      }\n\n\n/*\n* SETTERS AND GETTERS */\n</code></pre>\n"},{"tags":["java","output"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1673011756,"post_id":75030887,"comment_id":132407302,"body_markdown":"I don&#39;t understand how `numArray` works, is it the amount of votes for the name at that same index? Can you give an example of an input with its expected output?","body":"I don&#39;t understand how <code>numArray</code> works, is it the amount of votes for the name at that same index? Can you give an example of an input with its expected output?"},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673011914,"post_id":75030887,"comment_id":132407350,"body_markdown":"I have editted the code with everything so you can see.","body":"I have editted the code with everything so you can see."},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1673012599,"post_id":75030887,"comment_id":132407587,"body_markdown":"@CyberJack2022 Unfortunately your edit deleted the *actually relevant* code. Please revert it. Also, please take a moment to read the [formatting help](https://stackoverflow.com/help/formatting) — you are accidentally inserting a JavaScript block instead of a Java code block","body":"@CyberJack2022 Unfortunately your edit deleted the <i>actually relevant</i> code. Please revert it. Also, please take a moment to read the <a href=\"https://stackoverflow.com/help/formatting\">formatting help</a> — you are accidentally inserting a JavaScript block instead of a Java code block"},{"owner":{"display_name":"user20758216"},"score":0,"creation_date":1673013031,"post_id":75030887,"comment_id":132407739,"body_markdown":"None of that is javascript","body":"None of that is javascript"},{"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1673013155,"post_id":75030887,"comment_id":132407780,"body_markdown":"@CyberJack2022 I know. But it is *formatted* as such.","body":"@CyberJack2022 I know. But it is <i>formatted</i> as such."}],"answers":[{"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673010551,"creation_date":1673010551,"answer_id":75031355,"question_id":75030887,"body_markdown":"This is approach I would take. I would create a structure to hold the candidate name and number of votes as tracking that across 2 arrays is complicated and might be confusing. I would also suggest to use different data structures than arrays as the method input, I converted the input in the example into stream of `Candidate` which has 2 fields name and numVotes:\r\n```java\r\n    record Candidate(String name, int numVotes) {\r\n    }\r\n\r\n    public static void displayFinalResults(String[] stringArray, int[] numArray) {\r\n        //make sure that 2 arrays match in size\r\n        assert numArray.length == stringArray.length;\r\n        //zip arrays and convert to the stream of Candidate\r\n        var candidates = IntStream.range(0, stringArray.length).mapToObj(i -&gt; new Candidate(stringArray[i], numArray[i]));\r\n        //group by number of votes\r\n        var groupedByNumVotes = candidates.collect(Collectors.groupingBy(c -&gt; c.numVotes));\r\n        //sort by number of votes descending\r\n        var sorded = groupedByNumVotes.entrySet().stream().sorted((e1, e2) -&gt; Integer.compare(e2.getKey(), e1.getKey()));\r\n        //take first 3 places\r\n        var winners = sorded.limit(3).toList();\r\n\r\n        //Loop through the list of winners with index and print it\r\n        for (int i = 0; i &lt; winners.size(); i++) {\r\n            //List is indexed from 0 so the place number needs to be increased by one\r\n            System.out.println(&quot;Place &quot; + (i + 1));  \r\n            winners.get(i).getValue().forEach(System.out::println);\r\n            System.out.println();\r\n        }\r\n    }\r\n```","title":"Output election winner in the presence of ties","body":"<p>This is approach I would take. I would create a structure to hold the candidate name and number of votes as tracking that across 2 arrays is complicated and might be confusing. I would also suggest to use different data structures than arrays as the method input, I converted the input in the example into stream of <code>Candidate</code> which has 2 fields name and numVotes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    record Candidate(String name, int numVotes) {\n    }\n\n    public static void displayFinalResults(String[] stringArray, int[] numArray) {\n        //make sure that 2 arrays match in size\n        assert numArray.length == stringArray.length;\n        //zip arrays and convert to the stream of Candidate\n        var candidates = IntStream.range(0, stringArray.length).mapToObj(i -&gt; new Candidate(stringArray[i], numArray[i]));\n        //group by number of votes\n        var groupedByNumVotes = candidates.collect(Collectors.groupingBy(c -&gt; c.numVotes));\n        //sort by number of votes descending\n        var sorded = groupedByNumVotes.entrySet().stream().sorted((e1, e2) -&gt; Integer.compare(e2.getKey(), e1.getKey()));\n        //take first 3 places\n        var winners = sorded.limit(3).toList();\n\n        //Loop through the list of winners with index and print it\n        for (int i = 0; i &lt; winners.size(); i++) {\n            //List is indexed from 0 so the place number needs to be increased by one\n            System.out.println(&quot;Place &quot; + (i + 1));  \n            winners.get(i).getValue().forEach(System.out::println);\n            System.out.println();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1475,"reputation":533754,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673011430,"creation_date":1673011430,"answer_id":75031519,"question_id":75030887,"body_markdown":"Frankly, there is nothing fundamentally wrong with your approach (except that, by convention, the second place is usually skipped if there is a tie for the first; that is: there are two tied first-place candidates and a third place, but no second place). You just need to add one more case for three tied candidates.\r\n\r\nThat said, you can slightly shorten the code by merging redundancies in output formatting:\r\n\r\n    public static void displayFinalResults(String[] names, int[] scores) {\r\n        final String[] winners = new String[3];\r\n\r\n        if (scores[0] == scores[1] &amp;&amp; scores[1] == scores[2]) {\r\n            winners[0] = String.format(&quot;%s, %s and %s&quot;, names[0], names[1], names[2]);\r\n        } else if (scores[0] == scores[1]) {\r\n            winners[0] = String.format(&quot;%s and %s&quot;, names[0], names[1]);\r\n            winners[2] = names[2];\r\n        } else if (scores[1] == scores[2]) {\r\n            winners[0] = names[0];\r\n            winners[1] = String.format(&quot;%s and %s&quot;, names[1], names[2]);\r\n        } else {\r\n            System.arraycopy(names, 0, winners, 0, 3);\r\n        }\r\n\r\n        System.out.println();\r\n        if (winners[2] != null) System.out.printf(&quot;In third place: %s\\n&quot;, winners[2]);\r\n        if (winners[1] != null) System.out.printf(&quot;In second place: %s\\n&quot;, winners[1]);\r\n        final String prefix = winners[2] == null &amp;&amp; winners[1] == null ? &quot;T&quot; : &quot;And t&quot;;\r\n        System.out.printf(&quot;%she winner is: %s\\n&quot;, prefix, winners[0]);\r\n    }","title":"Output election winner in the presence of ties","body":"<p>Frankly, there is nothing fundamentally wrong with your approach (except that, by convention, the second place is usually skipped if there is a tie for the first; that is: there are two tied first-place candidates and a third place, but no second place). You just need to add one more case for three tied candidates.</p>\n<p>That said, you can slightly shorten the code by merging redundancies in output formatting:</p>\n<pre><code>public static void displayFinalResults(String[] names, int[] scores) {\n    final String[] winners = new String[3];\n\n    if (scores[0] == scores[1] &amp;&amp; scores[1] == scores[2]) {\n        winners[0] = String.format(&quot;%s, %s and %s&quot;, names[0], names[1], names[2]);\n    } else if (scores[0] == scores[1]) {\n        winners[0] = String.format(&quot;%s and %s&quot;, names[0], names[1]);\n        winners[2] = names[2];\n    } else if (scores[1] == scores[2]) {\n        winners[0] = names[0];\n        winners[1] = String.format(&quot;%s and %s&quot;, names[1], names[2]);\n    } else {\n        System.arraycopy(names, 0, winners, 0, 3);\n    }\n\n    System.out.println();\n    if (winners[2] != null) System.out.printf(&quot;In third place: %s\\n&quot;, winners[2]);\n    if (winners[1] != null) System.out.printf(&quot;In second place: %s\\n&quot;, winners[1]);\n    final String prefix = winners[2] == null &amp;&amp; winners[1] == null ? &quot;T&quot; : &quot;And t&quot;;\n    System.out.printf(&quot;%she winner is: %s\\n&quot;, prefix, winners[0]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673013501,"creation_date":1673013501,"answer_id":75031890,"question_id":75030887,"body_markdown":"I&#39;d first check what are the scores, highest, second highest, third highest.\r\nAnd then pick the names which have these values\r\n\r\n\r\n    public static void displayFinalResults(String[] stringArray, int[] numArray){\r\n        int highestScore = max(numArray, Integer.MAX_VALUE);\r\n        int secondHighestScore = max(numArray, highestScore);\r\n        int thirdHighestScore = max(numArray, secondHighestScore);\r\n\r\n        System.out.println(&quot;\\nIn third place: &quot;);\r\n        for (int i = 0; i &lt; numArray.length; i++) {\r\n            if (numArray[i] == thirdHighestScore) {\r\n                System.out.println(stringArray[i]);\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;In second place: &quot;);\r\n        for (int i = 0; i &lt; numArray.length; i++) {\r\n            if (numArray[i] == secondHighestScore) {\r\n                System.out.println(stringArray[i]);\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;And the winner: &quot;);\r\n        for (int i = 0; i &lt; numArray.length; i++) {\r\n            if (numArray[i] == highestScore) {\r\n                System.out.println(stringArray[i]);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public static int max(int[] scores, int lessThan) {\r\n        int max = Integer.MIN_VALUE;\r\n        for (int score : scores) {\r\n            if (score &gt; max &amp;&amp; score &lt; lessThan) {\r\n                max = score;\r\n            }\r\n        }\r\n\r\n        return max;\r\n    }","title":"Output election winner in the presence of ties","body":"<p>I'd first check what are the scores, highest, second highest, third highest.\nAnd then pick the names which have these values</p>\n<pre><code>public static void displayFinalResults(String[] stringArray, int[] numArray){\n    int highestScore = max(numArray, Integer.MAX_VALUE);\n    int secondHighestScore = max(numArray, highestScore);\n    int thirdHighestScore = max(numArray, secondHighestScore);\n\n    System.out.println(&quot;\\nIn third place: &quot;);\n    for (int i = 0; i &lt; numArray.length; i++) {\n        if (numArray[i] == thirdHighestScore) {\n            System.out.println(stringArray[i]);\n        }\n    }\n\n    System.out.println(&quot;In second place: &quot;);\n    for (int i = 0; i &lt; numArray.length; i++) {\n        if (numArray[i] == secondHighestScore) {\n            System.out.println(stringArray[i]);\n        }\n    }\n\n    System.out.println(&quot;And the winner: &quot;);\n    for (int i = 0; i &lt; numArray.length; i++) {\n        if (numArray[i] == highestScore) {\n            System.out.println(stringArray[i]);\n        }\n    }\n\n}\n\npublic static int max(int[] scores, int lessThan) {\n    int max = Integer.MIN_VALUE;\n    for (int score : scores) {\n        if (score &gt; max &amp;&amp; score &lt; lessThan) {\n            max = score;\n        }\n    }\n\n    return max;\n}\n</code></pre>\n"}],"owner":{"display_name":"user20758216"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75031890,"answer_count":3,"score":0,"last_activity_date":1673259414,"creation_date":1673007735,"question_id":75030887,"body_markdown":"I have programmed a working voting system, but it needs a little more decision making involved. The program needs to work if **two or more** candidates have the same number of votes. \r\n\r\nBelow is what i have but i think it is very long winded, and it will only work with 2 candidates having the same number of votes. Is there a more efficient way of doing this while working with 2 or more candidates having the same votes.\r\n\r\nThere are only 5 candidates available in this scenario, but should work if more are added too.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    \r\n            if(numArray[0] == numArray[1]){\r\n                System.out.println(&quot;\\nIn third place: &quot; + Array[3]);\r\n                System.out.println(&quot;In second place: &quot; + Array[2]);\r\n                System.out.println(&quot;And the winner is: &quot; + Array[0] + &quot; and &quot; + Array[1]);\r\n\r\n            }else if(numArray[1] == numArray[2]){\r\n                System.out.println(&quot;\\nIn third place: &quot; + Array[3]);\r\n                System.out.println(&quot;In second place: &quot; + Array[1] + &quot; and &quot; + Array[2]);\r\n                System.out.println(&quot;And the winner is: &quot; + Array[0]);\r\n            }else if(numArray[2] == numArray[3]){\r\n                System.out.println(&quot;\\nIn third place: &quot; + Array[2] + &quot; and &quot; + Array[3]);\r\n                System.out.println(&quot;In second place: &quot; + Array[1]);\r\n                System.out.println(&quot;And the winner is: &quot; + Array[0]);\r\n            }else{\r\n                System.out.println(&quot;\\third place: &quot; + Array[2]);\r\n                System.out.println(&quot;second place: &quot; + Array[1]);\r\n                System.out.println(&quot;winner is: &quot; + Array[0]);\r\n            }\r\n\r\n        \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Output election winner in the presence of ties","body":"<p>I have programmed a working voting system, but it needs a little more decision making involved. The program needs to work if <strong>two or more</strong> candidates have the same number of votes.</p>\n<p>Below is what i have but i think it is very long winded, and it will only work with 2 candidates having the same number of votes. Is there a more efficient way of doing this while working with 2 or more candidates having the same votes.</p>\n<p>There are only 5 candidates available in this scenario, but should work if more are added too.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        if(numArray[0] == numArray[1]){\n            System.out.println(\"\\nIn third place: \" + Array[3]);\n            System.out.println(\"In second place: \" + Array[2]);\n            System.out.println(\"And the winner is: \" + Array[0] + \" and \" + Array[1]);\n\n        }else if(numArray[1] == numArray[2]){\n            System.out.println(\"\\nIn third place: \" + Array[3]);\n            System.out.println(\"In second place: \" + Array[1] + \" and \" + Array[2]);\n            System.out.println(\"And the winner is: \" + Array[0]);\n        }else if(numArray[2] == numArray[3]){\n            System.out.println(\"\\nIn third place: \" + Array[2] + \" and \" + Array[3]);\n            System.out.println(\"In second place: \" + Array[1]);\n            System.out.println(\"And the winner is: \" + Array[0]);\n        }else{\n            System.out.println(\"\\third place: \" + Array[2]);\n            System.out.println(\"second place: \" + Array[1]);\n            System.out.println(\"winner is: \" + Array[0]);\n        }\n\n    </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673258741,"creation_date":1673258741,"answer_id":75055696,"question_id":75055314,"body_markdown":"First you should not separate your unit tests from integration tests by using different directories. Use the existing naming conventions. Unit Test `*Test.java` and integration tests `*IT.java`...\r\n\r\nUse the following [configuration in your POM File][1]:\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n    &lt;project\r\n        xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.soebes.youtube.maven.episodes&lt;/groupId&gt;\r\n      &lt;artifactId&gt;example-episode-2&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;name&gt;Episode 2: Unit- and/or Integration Testing&lt;/name&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.1&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.23.1&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n          &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.10.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0-M8&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;skipTests&gt;${skipUTs}&lt;/skipTests&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0-M8&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;skipTests&gt;${skipITs}&lt;/skipTests&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                  &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nBy using that you can run your unit tests via:\r\n\r\n    mvn test\r\n\r\nYou can run your unit- and your integration tests via:\r\n\r\n    mvn verify\r\n\r\nIf you like to run your integration tests only:\r\n\r\n    mvn verify -DskipUTs\r\n\r\n\r\nFor detail explanations you could check the following [YT video][2].\r\n\r\n\r\n  [1]: https://github.com/khmarbaise/youtube-videos/tree/main/episode-2\r\n  [2]: https://youtu.be/IVwbrhYCLpc","title":"Maven run unit tests without integration tests, and integration tests without unit tests","body":"<p>First you should not separate your unit tests from integration tests by using different directories. Use the existing naming conventions. Unit Test <code>*Test.java</code> and integration tests <code>*IT.java</code>...</p>\n<p>Use the following <a href=\"https://github.com/khmarbaise/youtube-videos/tree/main/episode-2\" rel=\"nofollow noreferrer\">configuration in your POM File</a>:</p>\n\n<pre><code>&lt;project\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.soebes.youtube.maven.episodes&lt;/groupId&gt;\n  &lt;artifactId&gt;example-episode-2&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;Episode 2: Unit- and/or Integration Testing&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n        &lt;version&gt;5.9.1&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;3.23.1&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n      &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.10.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0-M8&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;skipTests&gt;${skipUTs}&lt;/skipTests&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0-M8&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;skipTests&gt;${skipITs}&lt;/skipTests&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;integration-test&lt;/goal&gt;\n              &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>By using that you can run your unit tests via:</p>\n<pre><code>mvn test\n</code></pre>\n<p>You can run your unit- and your integration tests via:</p>\n<pre><code>mvn verify\n</code></pre>\n<p>If you like to run your integration tests only:</p>\n<pre><code>mvn verify -DskipUTs\n</code></pre>\n<p>For detail explanations you could check the following <a href=\"https://youtu.be/IVwbrhYCLpc\" rel=\"nofollow noreferrer\">YT video</a>.</p>\n"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673258741,"creation_date":1673256615,"question_id":75055314,"body_markdown":"I have structure:\r\n\r\n     - test\r\n       - java\r\n           - com\r\n              - A\r\n                 - service\r\n                     - serviceB\r\n                        - DefaultServiceBTest.java\r\n                        - integration\r\n                              - DefaultServiceBIntegrationTest.java\r\n\r\nI want to run separately unit and integration tests. I am using maven surefire and failsafe plugins:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n            &lt;printSummary&gt;true&lt;/printSummary&gt;\r\n            &lt;excludes&gt;\r\n                &lt;exclude&gt;integration/*.java&lt;/exclude&gt;\r\n            &lt;/excludes&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nSince `mvn test` defaultly runs `surefire:test` having this configuration for `maven-surefire` works, and using `mvn test` only runs unit tests - in my case all tests that are not in `integration` folder.\r\n\r\nHowever for failsafe i have this configuration:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven.failsafe.plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/integration/*.java&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nHaving this configuration for `maven-failsafe` and running `mvn verify -Pfailsafe` results in first running unit tests, and then integration tests. However i dont want the unit tests to be executed with this. What is wrong with the configuration?\r\n\r\nThanks for help!","title":"Maven run unit tests without integration tests, and integration tests without unit tests","body":"<p>I have structure:</p>\n<pre><code> - test\n   - java\n       - com\n          - A\n             - service\n                 - serviceB\n                    - DefaultServiceBTest.java\n                    - integration\n                          - DefaultServiceBIntegrationTest.java\n</code></pre>\n<p>I want to run separately unit and integration tests. I am using maven surefire and failsafe plugins:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n        &lt;printSummary&gt;true&lt;/printSummary&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;integration/*.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Since <code>mvn test</code> defaultly runs <code>surefire:test</code> having this configuration for <code>maven-surefire</code> works, and using <code>mvn test</code> only runs unit tests - in my case all tests that are not in <code>integration</code> folder.</p>\n<p>However for failsafe i have this configuration:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven.failsafe.plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/integration/*.java&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Having this configuration for <code>maven-failsafe</code> and running <code>mvn verify -Pfailsafe</code> results in first running unit tests, and then integration tests. However i dont want the unit tests to be executed with this. What is wrong with the configuration?</p>\n<p>Thanks for help!</p>\n"},{"tags":["java","criteria"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1673270679,"post_id":75055694,"comment_id":132453982,"body_markdown":"When will the proper constructor be added?","body":"When will the proper constructor be added?"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673304879,"post_id":75055694,"comment_id":132465131,"body_markdown":"Try adding `@AllArgsConstructor` on `StudentResDto`. You may also want to consider using `@Accessors(chain=true)` instead of `@SuperBuilder`.","body":"Try adding <code>@AllArgsConstructor</code> on <code>StudentResDto</code>. You may also want to consider using <code>@Accessors(chain=true)</code> instead of <code>@SuperBuilder</code>."},{"owner":{"account_id":16260697,"reputation":13,"user_id":11742091,"display_name":"user11742091"},"score":0,"creation_date":1673313343,"post_id":75055694,"comment_id":132466354,"body_markdown":"@ThomasTimbul it still error.","body":"@ThomasTimbul it still error."},{"owner":{"account_id":16260697,"reputation":13,"user_id":11742091,"display_name":"user11742091"},"score":0,"creation_date":1673313608,"post_id":75055694,"comment_id":132466386,"body_markdown":"@K.Nicholas i call function getStudent() in the service. I want to select specific columns so I create StudentResDto class","body":"@K.Nicholas i call function getStudent() in the service. I want to select specific columns so I create StudentResDto class"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673342814,"post_id":75055694,"comment_id":132471747,"body_markdown":"Look at the expected constructor arguments (error message). They are the same as the results of your query. You will need to adapt `StudentResDto` to accept those arguments in the same order of your query, or manually create a constructor that accepts those arguments in that order.","body":"Look at the expected constructor arguments (error message). They are the same as the results of your query. You will need to adapt <code>StudentResDto</code> to accept those arguments in the same order of your query, or manually create a constructor that accepts those arguments in that order."},{"owner":{"account_id":16260697,"reputation":13,"user_id":11742091,"display_name":"user11742091"},"score":0,"creation_date":1673402894,"post_id":75055694,"comment_id":132489353,"body_markdown":"@ThomasTimbul yes, I reorder the arguments and it worked. Thank you.","body":"@ThomasTimbul yes, I reorder the arguments and it worked. Thank you."},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673429841,"post_id":75055694,"comment_id":132495058,"body_markdown":"Great! The other option of course would be to change the ordering in your `select` ;-)","body":"Great! The other option of course would be to change the ordering in your <code>select</code> ;-)"}],"owner":{"account_id":16260697,"reputation":13,"user_id":11742091,"display_name":"user11742091"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673258731,"creation_date":1673258731,"question_id":75055694,"body_markdown":"I have classes:\r\n\r\n**Account.java**\r\n```\r\n@Entity\r\n@Table(name = &quot;accounts&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Account extends BaseEntity {\r\n    private String username;\r\n    private String password;\r\n    private int status;\r\n    private int type;\r\n}\r\n```\r\n\r\n**Student.java**\r\n```\r\n@Entity\r\n@Table(name = &quot;students&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Student extends BaseEntity {\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;account_id&quot;)\r\n    private Account account;\r\n\r\n    private String fullName;\r\n    private long classId;\r\n    private long titleId;\r\n}\r\n```\r\n\r\n**UserResDto.java**\r\n```\r\n@SuperBuilder\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class UserResDto {\r\n    private long accountId;\r\n    private String username;\r\n    private String fullName;\r\n    private int type;\r\n    private List&lt;Ability&gt; abilities;\r\n}\r\n```\r\n\r\n**StudentResDto.java**\r\n```\r\n@SuperBuilder\r\n@Getter\r\n@Setter\r\npublic class StudentResDto extends UserResDto {\r\n    private long classId;\r\n    private long titleId;\r\n}\r\n```\r\n\r\nI get students list use criteria:\r\n```\r\npublic List&lt;StudentResDto&gt; getStudent(String username) {\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;StudentResDto&gt; cq = cb.createQuery(StudentResDto.class);\r\n        Root&lt;Student&gt; student = cq.from(Student.class);\r\n        Join&lt;Student, Account&gt; account = student.join(&quot;account&quot;);\r\n        cq.multiselect(\r\n                account.get(&quot;id&quot;).alias(&quot;accountId&quot;),\r\n                account.get(&quot;username&quot;),\r\n                account.get(&quot;type&quot;),\r\n                student.get(&quot;fullName&quot;),\r\n                student.get(&quot;classId&quot;),\r\n                student.get(&quot;titleId&quot;)\r\n        );\r\n        return em.createQuery(cq).getResultList();\r\n    }\r\n```\r\n\r\nBut got errors:\r\n\r\nUnable to locate appropriate constructor on class [com.example.qldtback.dto.response.UserRes.StudentResDto]. Expected arguments are: long, java.lang.String, int, java.lang.String, long, long [select new com.example.qldtback.dto.response.UserRes.StudentResDto(generatedAlias0.id, generatedAlias0.username, generatedAlias0.type, generatedAlias1.fullName, generatedAlias1.classId, generatedAlias1.titleId) from com.example.qldtback.modules.student.Student as generatedAlias1 inner join generatedAlias1.account as generatedAlias0]\r\n\r\n\r\nSo how to fix it? Thank you very much!\r\n","title":"Criteria Unable to locate appropriate constructor on class","body":"<p>I have classes:</p>\n<p><strong>Account.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;accounts&quot;)\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Account extends BaseEntity {\n    private String username;\n    private String password;\n    private int status;\n    private int type;\n}\n</code></pre>\n<p><strong>Student.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;students&quot;)\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Student extends BaseEntity {\n    @OneToOne\n    @JoinColumn(name = &quot;account_id&quot;)\n    private Account account;\n\n    private String fullName;\n    private long classId;\n    private long titleId;\n}\n</code></pre>\n<p><strong>UserResDto.java</strong></p>\n<pre><code>@SuperBuilder\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserResDto {\n    private long accountId;\n    private String username;\n    private String fullName;\n    private int type;\n    private List&lt;Ability&gt; abilities;\n}\n</code></pre>\n<p><strong>StudentResDto.java</strong></p>\n<pre><code>@SuperBuilder\n@Getter\n@Setter\npublic class StudentResDto extends UserResDto {\n    private long classId;\n    private long titleId;\n}\n</code></pre>\n<p>I get students list use criteria:</p>\n<pre><code>public List&lt;StudentResDto&gt; getStudent(String username) {\n        CriteriaBuilder cb = em.getCriteriaBuilder();\n        CriteriaQuery&lt;StudentResDto&gt; cq = cb.createQuery(StudentResDto.class);\n        Root&lt;Student&gt; student = cq.from(Student.class);\n        Join&lt;Student, Account&gt; account = student.join(&quot;account&quot;);\n        cq.multiselect(\n                account.get(&quot;id&quot;).alias(&quot;accountId&quot;),\n                account.get(&quot;username&quot;),\n                account.get(&quot;type&quot;),\n                student.get(&quot;fullName&quot;),\n                student.get(&quot;classId&quot;),\n                student.get(&quot;titleId&quot;)\n        );\n        return em.createQuery(cq).getResultList();\n    }\n</code></pre>\n<p>But got errors:</p>\n<p>Unable to locate appropriate constructor on class [com.example.qldtback.dto.response.UserRes.StudentResDto]. Expected arguments are: long, java.lang.String, int, java.lang.String, long, long [select new com.example.qldtback.dto.response.UserRes.StudentResDto(generatedAlias0.id, generatedAlias0.username, generatedAlias0.type, generatedAlias1.fullName, generatedAlias1.classId, generatedAlias1.titleId) from com.example.qldtback.modules.student.Student as generatedAlias1 inner join generatedAlias1.account as generatedAlias0]</p>\n<p>So how to fix it? Thank you very much!</p>\n"},{"tags":["java","automation","pivot"],"owner":{"account_id":7942805,"reputation":1,"user_id":5996214,"display_name":"saffin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673258299,"creation_date":1673258299,"question_id":75055610,"body_markdown":"so below is the data for which pivot table is created already by a non technical person now she is asking me to automate that means she already have the data but with some java code lets say Apache POI API the pivot table should get automatically created\r\nany ideas or suggestion how to automatically create Pivot table \r\n\r\nbelow are the 3 columns for which pivot table needs to be created\r\n\r\n[enter image description here][1]\r\n\r\nbelow is pivot table format for which sheet should look alike\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4zXoi.png\r\n  [2]: https://i.stack.imgur.com/IBCZb.png","title":"how to create pivot table using apache POI API","body":"<p>so below is the data for which pivot table is created already by a non technical person now she is asking me to automate that means she already have the data but with some java code lets say Apache POI API the pivot table should get automatically created\nany ideas or suggestion how to automatically create Pivot table</p>\n<p>below are the 3 columns for which pivot table needs to be created</p>\n<p><a href=\"https://i.stack.imgur.com/4zXoi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>below is pivot table format for which sheet should look alike</p>\n<p><a href=\"https://i.stack.imgur.com/IBCZb.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","android-recyclerview","android-espresso"],"comments":[{"owner":{"account_id":245621,"reputation":1106,"user_id":2435126,"display_name":"Karan Harsh Wardhan"},"score":0,"creation_date":1549619495,"post_id":54589711,"comment_id":95975804,"body_markdown":"are you using stable ids or not?","body":"are you using stable ids or not?"},{"owner":{"account_id":15261807,"reputation":721,"user_id":11011605,"display_name":"Kratos"},"score":0,"creation_date":1549619916,"post_id":54589711,"comment_id":95976086,"body_markdown":"Yes I use stable ids","body":"Yes I use stable ids"},{"owner":{"account_id":4926203,"reputation":1059,"user_id":3967395,"display_name":"Nilesh Panchal"},"score":0,"creation_date":1549620239,"post_id":54589711,"comment_id":95976249,"body_markdown":"Try my answer code it will work fine.","body":"Try my answer code it will work fine."},{"owner":{"account_id":11187514,"reputation":1634,"user_id":8209253,"display_name":"Just The Highlights"},"score":0,"creation_date":1549705929,"post_id":54589711,"comment_id":96005583,"body_markdown":"Please provide the log below the error message that you&#39;re seeing. You definitely have more than one view with the id `R.id.ticket_list_list`.","body":"Please provide the log below the error message that you&#39;re seeing. You definitely have more than one view with the id <code>R.id.ticket_list_list</code>."},{"owner":{"account_id":4926203,"reputation":1059,"user_id":3967395,"display_name":"Nilesh Panchal"},"score":0,"creation_date":1552885870,"post_id":54589711,"comment_id":97165061,"body_markdown":"@Haris Have you got the answer or not?","body":"@Haris Have you got the answer or not?"}],"answers":[{"tags":[],"owner":{"account_id":4926203,"reputation":1059,"user_id":3967395,"display_name":"Nilesh Panchal"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1549621969,"creation_date":1549620129,"answer_id":54589929,"question_id":54589711,"body_markdown":"I also face the same problem before few days but finally got the solutions from StackOverflow.\r\n\r\nIf you want to click recycler custom item view click then implement the following code in your project\r\n\r\nYou need to write this code in java this will help you a lot and saved your time\r\n\r\nClickOnButtonView is control a view action happened in the list item and \r\nUiController class helps you find custom row item\r\n\r\n\r\nThe code is written in **Kotlin**\r\n\r\n    @RunWith(AndroidJUnit4::class)\r\n    class CampaignFragmentTest {\r\n\r\n        @get: Rule\r\n        val activityTestRule = ActivityTestRule(TestActivity::class.java)\r\n\r\n        @Test\r\n        fun testCustomListClick() {\r\n            clickOnButtonAtRow(0)\r\n        }\r\n    }\r\n\r\n    private fun clickOnButtonAtRow(position: Int) {\r\n        Espresso.onView(ViewMatchers.withId(R.id.list)).perform(RecyclerViewActions.actionOnItemAtPosition&lt;RecyclerView.ViewHolder&gt;\r\n        (position, ClickOnButtonView()))\r\n    }\r\n\r\n    inner class ClickOnButtonView : ViewAction {\r\n        internal var click = ViewActions.click()\r\n\r\n        override fun getConstraints(): Matcher&lt;View&gt; {\r\n            return click.constraints\r\n        }\r\n\r\n        override fun getDescription(): String {\r\n            return &quot; click on custom button view&quot;\r\n        }\r\n\r\n        override fun perform(uiController: UiController, view: View) {\r\n            //btnClickMe -&gt; Custom row item view button\r\n            click.perform(uiController, view.findViewById(R.id.btnClickMe))\r\n        }\r\n    }","title":"Espresso perform click on view in Recyclerview item","body":"<p>I also face the same problem before few days but finally got the solutions from StackOverflow.</p>\n\n<p>If you want to click recycler custom item view click then implement the following code in your project</p>\n\n<p>You need to write this code in java this will help you a lot and saved your time</p>\n\n<p>ClickOnButtonView is control a view action happened in the list item and \nUiController class helps you find custom row item</p>\n\n<p>The code is written in <strong>Kotlin</strong></p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass CampaignFragmentTest {\n\n    @get: Rule\n    val activityTestRule = ActivityTestRule(TestActivity::class.java)\n\n    @Test\n    fun testCustomListClick() {\n        clickOnButtonAtRow(0)\n    }\n}\n\nprivate fun clickOnButtonAtRow(position: Int) {\n    Espresso.onView(ViewMatchers.withId(R.id.list)).perform(RecyclerViewActions.actionOnItemAtPosition&lt;RecyclerView.ViewHolder&gt;\n    (position, ClickOnButtonView()))\n}\n\ninner class ClickOnButtonView : ViewAction {\n    internal var click = ViewActions.click()\n\n    override fun getConstraints(): Matcher&lt;View&gt; {\n        return click.constraints\n    }\n\n    override fun getDescription(): String {\n        return \" click on custom button view\"\n    }\n\n    override fun perform(uiController: UiController, view: View) {\n        //btnClickMe -&gt; Custom row item view button\n        click.perform(uiController, view.findViewById(R.id.btnClickMe))\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11187514,"reputation":1634,"user_id":8209253,"display_name":"Just The Highlights"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588178777,"creation_date":1549706741,"answer_id":54605181,"question_id":54589711,"body_markdown":"That error means that it found multiple views with the id `R.id.ticket_list_list`. There should also be a view hierarchy log that follows the error message you provided, showing the views that Espresso found with that same id marked with `****MATCHES****`. \r\n\r\nSo you can either change the id of the view you want to test or target the view by providing another [ViewMatcher][1] as below:\r\n\r\n    onView(allOf(withId(recyclerViewID), viewMatcher))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/test/espresso/matcher/ViewMatchers","title":"Espresso perform click on view in Recyclerview item","body":"<p>That error means that it found multiple views with the id <code>R.id.ticket_list_list</code>. There should also be a view hierarchy log that follows the error message you provided, showing the views that Espresso found with that same id marked with <code>****MATCHES****</code>. </p>\n\n<p>So you can either change the id of the view you want to test or target the view by providing another <a href=\"https://developer.android.com/reference/androidx/test/espresso/matcher/ViewMatchers\" rel=\"nofollow noreferrer\">ViewMatcher</a> as below:</p>\n\n<pre><code>onView(allOf(withId(recyclerViewID), viewMatcher))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4275384,"reputation":1457,"user_id":3496135,"accept_rate":50,"display_name":"kdyz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1549774960,"creation_date":1549774960,"answer_id":54613515,"question_id":54589711,"body_markdown":"    onView(withId(R.id.ticket_list_list))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\r\n\r\nThe error you&#39;re getting means that there&#39;s another View somewhere that also uses the id ***ticket_list_list***\r\n\r\n**Is ticket_list_list your actual list view?** (the parent of the things that you want to click)\r\n\r\nIf it is then **is it the only one available on the screen?** if it is then use the following\r\n\r\n    onView(allOf(withId(R.id.ticket_list_list), isDisplayed()))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\r\n\r\nAdding the isDisplayed() Matcher makes the targeted View more specific by targeting only those that are displayed and ignoring those that are existing but not displayed\r\n\r\n**If there really is another matcher displayed (or the above doesn&#39;t work for you)** that has the same id as the one you&#39;re trying to match then use the following\r\n\r\n    onView(allOf(withId(R.id.ticket_list_list), withParentIndex(index_of_matcher_here)))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\r\n\r\nInstead of isDisplayed() withParentIndex(some_number) should more specifically target and give you the view that has the id you&#39;re looking for along with the index of it\r\n\r\nIn the very messy instance that the above still doesn&#39;t work, maybe because all the returned Views have the same index possibly because they are the children of another View then you can get creative and do something like\r\n\r\n    onView(allOf(withId(R.id.ticket_list_list), withParent(allOf(withId(if_of_the_parent), withParentIndex(index_of_matcher_here)))))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\r\n\r\nto specify the index of the parent instead. \r\n\r\nJust mix &#39;n match your way through it, just make sure to not go crazy on the Matchers and just keep things readable \r\n\r\n*Use as little as you can (make sure it&#39;s readable and maintainable too and not just made up of indexes), you&#39;re not trying to get the coordinates for a missile target- you just want the View*","title":"Espresso perform click on view in Recyclerview item","body":"<pre><code>onView(withId(R.id.ticket_list_list))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n</code></pre>\n\n<p>The error you're getting means that there's another View somewhere that also uses the id <strong><em>ticket_list_list</em></strong></p>\n\n<p><strong>Is ticket_list_list your actual list view?</strong> (the parent of the things that you want to click)</p>\n\n<p>If it is then <strong>is it the only one available on the screen?</strong> if it is then use the following</p>\n\n<pre><code>onView(allOf(withId(R.id.ticket_list_list), isDisplayed()))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n</code></pre>\n\n<p>Adding the isDisplayed() Matcher makes the targeted View more specific by targeting only those that are displayed and ignoring those that are existing but not displayed</p>\n\n<p><strong>If there really is another matcher displayed (or the above doesn't work for you)</strong> that has the same id as the one you're trying to match then use the following</p>\n\n<pre><code>onView(allOf(withId(R.id.ticket_list_list), withParentIndex(index_of_matcher_here)))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n</code></pre>\n\n<p>Instead of isDisplayed() withParentIndex(some_number) should more specifically target and give you the view that has the id you're looking for along with the index of it</p>\n\n<p>In the very messy instance that the above still doesn't work, maybe because all the returned Views have the same index possibly because they are the children of another View then you can get creative and do something like</p>\n\n<pre><code>onView(allOf(withId(R.id.ticket_list_list), withParent(allOf(withId(if_of_the_parent), withParentIndex(index_of_matcher_here)))))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n</code></pre>\n\n<p>to specify the index of the parent instead. </p>\n\n<p>Just mix 'n match your way through it, just make sure to not go crazy on the Matchers and just keep things readable </p>\n\n<p><em>Use as little as you can (make sure it's readable and maintainable too and not just made up of indexes), you're not trying to get the coordinates for a missile target- you just want the View</em></p>\n"},{"tags":[],"owner":{"account_id":14071220,"reputation":41,"user_id":10164681,"display_name":"Mubarak Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673258017,"creation_date":1673258017,"answer_id":75055562,"question_id":54589711,"body_markdown":"   You Can also create your own custom click action like this :\r\n    \r\n        fun customActionClickOnItemEvent(\r\n            @NonNull targetViewId: Int\r\n        ): ViewAction {\r\n        \r\n            return object : ViewAction {\r\n        \r\n                val click = ViewActions.click()\r\n        \r\n                override fun getDescription(): String = &quot;Item clicked&quot;\r\n        \r\n                override fun getConstraints(): Matcher&lt;View&gt; = click.constraints\r\n        \r\n                override fun perform(uiController: UiController?, view: View?) {\r\n                    click.perform(uiController,view?.findViewById(targetViewId))\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n   And Calling this function like this :\r\n    \r\n     onView(withId(R.id.rv_products)).perform(\r\n                RecyclerViewActions.actionOnItemAtPosition&lt;RecyclerView.ViewHolder&gt;(\r\n                    1,\r\n                    customActionClickOnItemEvent(R.id.img_wish_list)\r\n                )\r\n            )","title":"Espresso perform click on view in Recyclerview item","body":"<p>You Can also create your own custom click action like this :</p>\n<pre><code>    fun customActionClickOnItemEvent(\n        @NonNull targetViewId: Int\n    ): ViewAction {\n    \n        return object : ViewAction {\n    \n            val click = ViewActions.click()\n    \n            override fun getDescription(): String = &quot;Item clicked&quot;\n    \n            override fun getConstraints(): Matcher&lt;View&gt; = click.constraints\n    \n            override fun perform(uiController: UiController?, view: View?) {\n                click.perform(uiController,view?.findViewById(targetViewId))\n            }\n        }\n    }\n</code></pre>\n<p>And Calling this function like this :</p>\n<pre><code> onView(withId(R.id.rv_products)).perform(\n            RecyclerViewActions.actionOnItemAtPosition&lt;RecyclerView.ViewHolder&gt;(\n                1,\n                customActionClickOnItemEvent(R.id.img_wish_list)\n            )\n        )\n</code></pre>\n"}],"owner":{"account_id":15261807,"reputation":721,"user_id":11011605,"display_name":"Kratos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54613515,"answer_count":4,"score":1,"last_activity_date":1673258017,"creation_date":1549619327,"question_id":54589711,"body_markdown":"I tried everything to perform click on view in recyclerview item but not succesfull. Read every option on internet and tried it but still not working. Lately I used:\r\n\r\n    onView(ViewMatchers.withId(R.id.live_rw_liveMatchList))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(2, MyViewAction.clickChildViewWithId(R.id.pick_pw_pickLeft)));\r\n\r\nBut all i get is:\r\n\r\n&gt; android.support.test.espresso.AmbiguousViewMatcherException: &#39;with id:\r\n&gt; hr.psk.android:id/ticket_list_list&#39; matches multiple views in the\r\n&gt; hierarchy. Problem views are marked with &#39;****MATCHES****&#39; below.\r\n\r\nAnd it matches only one view (my recyclerview with 13 childs)\r\n\r\nI know this should work but it is not working in my project. Tried to perform only click on recyclerviw item in other recyclerview to make it more simple like this:\r\n\r\n    onView(withId(R.id.ticket_list_list))\r\n        .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\r\n\r\nBut it gives me the same message back -&gt; Multiple matches problem\r\n\r\nsomebody help, I really tried everything","title":"Espresso perform click on view in Recyclerview item","body":"<p>I tried everything to perform click on view in recyclerview item but not succesfull. Read every option on internet and tried it but still not working. Lately I used:</p>\n\n<pre><code>onView(ViewMatchers.withId(R.id.live_rw_liveMatchList))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(2, MyViewAction.clickChildViewWithId(R.id.pick_pw_pickLeft)));\n</code></pre>\n\n<p>But all i get is:</p>\n\n<blockquote>\n  <p>android.support.test.espresso.AmbiguousViewMatcherException: 'with id:\n  hr.psk.android:id/ticket_list_list' matches multiple views in the\n  hierarchy. Problem views are marked with '****MATCHES****' below.</p>\n</blockquote>\n\n<p>And it matches only one view (my recyclerview with 13 childs)</p>\n\n<p>I know this should work but it is not working in my project. Tried to perform only click on recyclerviw item in other recyclerview to make it more simple like this:</p>\n\n<pre><code>onView(withId(R.id.ticket_list_list))\n    .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n</code></pre>\n\n<p>But it gives me the same message back -> Multiple matches problem</p>\n\n<p>somebody help, I really tried everything</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673255357,"post_id":75055064,"comment_id":132448769,"body_markdown":"Add the complete error message as text to your question","body":"Add the complete error message as text to your question"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673255647,"post_id":75055064,"comment_id":132448852,"body_markdown":"Looks like your application doesn&#39;t start. You should see stacktraces in the mvn output","body":"Looks like your application doesn&#39;t start. You should see stacktraces in the mvn output"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673258057,"post_id":75055064,"comment_id":132449628,"body_markdown":"Remove `hibernate-jpa-2.1-api` and remove the `maven-surefire-plugin` it download an incompatible one. If you want to skip tests add `-DskipTests=true` to your maven execution. Remoing the `hibernate-jpa-2.1-api` will probably lead to compilation errors because you should be using `jakarta.persistence` instead of `javax.persistence`.","body":"Remove <code>hibernate-jpa-2.1-api</code> and remove the <code>maven-surefire-plugin</code> it download an incompatible one. If you want to skip tests add <code>-DskipTests=true</code> to your maven execution. Remoing the <code>hibernate-jpa-2.1-api</code> will probably lead to compilation errors because you should be using <code>jakarta.persistence</code> instead of <code>javax.persistence</code>."}],"answers":[{"tags":[],"owner":{"account_id":21199058,"reputation":17,"user_id":15590048,"display_name":"AlexGolub"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673257932,"creation_date":1673255526,"answer_id":75055117,"question_id":75055064,"body_markdown":"Try creating new workspace for your project.  \r\n\r\nRun `mvn clean install` if project fails again then run the same command with `-X` i.e. `mvn clean install -X` to get the full stack trace log (paste it here)","title":"How to fix build failure : Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:run (default-cli) on project?","body":"<p>Try creating new workspace for your project.</p>\n<p>Run <code>mvn clean install</code> if project fails again then run the same command with <code>-X</code> i.e. <code>mvn clean install -X</code> to get the full stack trace log (paste it here)</p>\n"}],"owner":{"account_id":27475383,"reputation":1,"user_id":20963479,"display_name":"Bebetot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673257932,"creation_date":1673255166,"question_id":75055064,"body_markdown":"I am facing an error when I build a spring project\r\n[prompt error in cmd](https://i.stack.imgur.com/PvSTL.png)\r\nBelow is my pom.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.mycompany.formationspring&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;plugin&gt;  \r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  \r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;  \r\n    \t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;  \r\n    \t\t\t\t&lt;configuration&gt;  \r\n    \t\t\t\t\t&lt;skipTests&gt;true&lt;/skipTests&gt;  \r\n    \t\t\t\t&lt;/configuration&gt;  \r\n    \t\t\t&lt;/plugin&gt;  \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nHow can I fix this error ? \r\n\r\n\r\nI try to fix a spring build error\r\n","title":"How to fix build failure : Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:run (default-cli) on project?","body":"<p>I am facing an error when I build a spring project\n<a href=\"https://i.stack.imgur.com/PvSTL.png\" rel=\"nofollow noreferrer\">prompt error in cmd</a>\nBelow is my pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mycompany.formationspring&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;  \n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  \n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;  \n                &lt;version&gt;2.22.2&lt;/version&gt;  \n                &lt;configuration&gt;  \n                    &lt;skipTests&gt;true&lt;/skipTests&gt;  \n                &lt;/configuration&gt;  \n            &lt;/plugin&gt;  \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>How can I fix this error ?</p>\n<p>I try to fix a spring build error</p>\n"},{"tags":["java","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1673254460,"post_id":75054923,"comment_id":132448514,"body_markdown":"I doubt it is called as there is no `@Test` on your test method.","body":"I doubt it is called as there is no <code>@Test</code> on your test method."},{"owner":{"account_id":19857572,"reputation":31,"user_id":14546645,"display_name":"mhvb"},"score":0,"creation_date":1673255741,"post_id":75054923,"comment_id":132448886,"body_markdown":"@knittl you are right, I Just kept some sample code, I updated question now","body":"@knittl you are right, I Just kept some sample code, I updated question now"},{"owner":{"account_id":19857572,"reputation":31,"user_id":14546645,"display_name":"mhvb"},"score":0,"creation_date":1673255880,"post_id":75054923,"comment_id":132448930,"body_markdown":"@M.Deinum, in question i missed it","body":"@M.Deinum, in question i missed it"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673257957,"post_id":75054923,"comment_id":132449593,"body_markdown":"That is reactive code, nothing subscribes to it, so it does exactly that nothing.","body":"That is reactive code, nothing subscribes to it, so it does exactly that nothing."}],"answers":[{"tags":[],"owner":{"account_id":21199058,"reputation":17,"user_id":15590048,"display_name":"AlexGolub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673257412,"creation_date":1673257412,"answer_id":75055443,"question_id":75054923,"body_markdown":"From the first code snippet the line `int a = this::add;` does not compile because incompatible types: int is not a [functional interface][1]\r\n\r\n    @Service\r\n    public class MainClass {\r\n        public void simpleExe() {\r\n            int a = this::add; // DOES NOT COMPILE\r\n        }\r\n    \r\n        private int add() {\r\n            return 42;\r\n        }\r\n    }\r\n\r\nIf you want to use method reference that accepts zero arguments and return `int` you can utilize the `IntSupplier` functional interface:\r\n\r\n    import org.springframework.stereotype.Service;\r\n    import java.util.function.IntSupplier;\r\n    \r\n    @Service\r\n    public class MainClass {\r\n    \r\n        IntSupplier add = () -&gt; {\r\n            // some calculations\r\n            return 42;\r\n        };\r\n    \r\n        public void simpleExe() {\r\n            int a = add.getAsInt();\r\n            System.out.println(&quot;a = &quot; + a);\r\n            // ...\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://java-8-tips.readthedocs.io/en/stable/funcinterfaces.html#functional-interfaces","title":"method call not happening for method while unit testing","body":"<p>From the first code snippet the line <code>int a = this::add;</code> does not compile because incompatible types: int is not a <a href=\"https://java-8-tips.readthedocs.io/en/stable/funcinterfaces.html#functional-interfaces\" rel=\"nofollow noreferrer\">functional interface</a></p>\n<pre><code>@Service\npublic class MainClass {\n    public void simpleExe() {\n        int a = this::add; // DOES NOT COMPILE\n    }\n\n    private int add() {\n        return 42;\n    }\n}\n</code></pre>\n<p>If you want to use method reference that accepts zero arguments and return <code>int</code> you can utilize the <code>IntSupplier</code> functional interface:</p>\n<pre><code>import org.springframework.stereotype.Service;\nimport java.util.function.IntSupplier;\n\n@Service\npublic class MainClass {\n\n    IntSupplier add = () -&gt; {\n        // some calculations\n        return 42;\n    };\n\n    public void simpleExe() {\n        int a = add.getAsInt();\n        System.out.println(&quot;a = &quot; + a);\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19857572,"reputation":31,"user_id":14546645,"display_name":"mhvb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673257412,"creation_date":1673254302,"question_id":75054923,"body_markdown":"I have code like below trying to unit test it\r\n    \r\n    @Service\r\n    class MainClass {\r\n    public void simpleExe() {\r\n    webclient.post()\r\n    .uri(&quot;url&quot;)\r\n    .header(----)\r\n    .bodyValue(ReqPojo)\r\n    .retrieve()\r\n    .bodyToMono(Response.class)\r\n    .flatMap(this::add); **this line is running but the call not happening to add method**\r\n    }\r\n    \r\n    private Mono&lt;Response&gt; add() {\r\n    // doing some calculation\r\n    }\r\n    }\r\n\r\n\r\nTest class\r\n\r\n    @SpringBootTest\r\n    class MainClassTest {\r\n    \r\n    //mocked few other service calls\r\n    \r\n    @Autowired\r\n    MainClass mainClass;\r\n    @Test\r\n    public void testsimpleExe() {\r\n       mainClass.simpleExe();\r\n     }\r\n    }\r\n\r\n**this::add control coming to this line but call not happening to add method.**\r\nwhat could be the issue. any thing missing?","title":"method call not happening for method while unit testing","body":"<p>I have code like below trying to unit test it</p>\n<pre><code>@Service\nclass MainClass {\npublic void simpleExe() {\nwebclient.post()\n.uri(&quot;url&quot;)\n.header(----)\n.bodyValue(ReqPojo)\n.retrieve()\n.bodyToMono(Response.class)\n.flatMap(this::add); **this line is running but the call not happening to add method**\n}\n\nprivate Mono&lt;Response&gt; add() {\n// doing some calculation\n}\n}\n</code></pre>\n<p>Test class</p>\n<pre><code>@SpringBootTest\nclass MainClassTest {\n\n//mocked few other service calls\n\n@Autowired\nMainClass mainClass;\n@Test\npublic void testsimpleExe() {\n   mainClass.simpleExe();\n }\n}\n</code></pre>\n<p><strong>this::add control coming to this line but call not happening to add method.</strong>\nwhat could be the issue. any thing missing?</p>\n"},{"tags":["java","java-9","java-platform-module-system","jmod"],"comments":[{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":2,"creation_date":1498296719,"post_id":44732915,"comment_id":76451549,"body_markdown":"&quot;JMOD files can be used at compile time and link time, but not at run time&quot;. So, I&#39;d guess a JAR is still more useful for library consumers unless they&#39;d want to link their own run-time images.","body":"&quot;JMOD files can be used at compile time and link time, but not at run time&quot;. So, I&#39;d guess a JAR is still more useful for library consumers unless they&#39;d want to link their own run-time images."},{"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":1,"creation_date":1498299771,"post_id":44732915,"comment_id":76452259,"body_markdown":"As far as I can tell, JMOD files are used only for building custom runtime images (with `jlink`). This is not what most of the people do often. They are not even a part of the Java SE 9 specification. For now, JMOD files are just zip files, but this can be changed in the future.","body":"As far as I can tell, JMOD files are used only for building custom runtime images (with <code>jlink</code>). This is not what most of the people do often. They are not even a part of the Java SE 9 specification. For now, JMOD files are just zip files, but this can be changed in the future."},{"owner":{"account_id":195439,"reputation":60906,"user_id":438319,"accept_rate":73,"display_name":"ams"},"score":2,"creation_date":1498309666,"post_id":44732915,"comment_id":76454801,"body_markdown":"@ZhekaKozlov there is no more jre/lib/rt.jar in Java 9 so when javac is running to find the code for java.util.List it would be picking that up from $JDK_HOME/jmods/java.base.jmod so I think that if you only care about Java 9 you can just distribute JMOD files instead of jar files. JMOD files are not read at runtime with the JVM so if you make a custom jdk image with jlink to ship to customers there is no point in including the JMOD files, the Java 9 JRE does not ship with the JMOD files for the JDK.","body":"@ZhekaKozlov there is no more jre/lib/rt.jar in Java 9 so when javac is running to find the code for java.util.List it would be picking that up from $JDK_HOME/jmods/java.base.jmod so I think that if you only care about Java 9 you can just distribute JMOD files instead of jar files. JMOD files are not read at runtime with the JVM so if you make a custom jdk image with jlink to ship to customers there is no point in including the JMOD files, the Java 9 JRE does not ship with the JMOD files for the JDK."},{"owner":{"account_id":10990142,"reputation":397,"user_id":8074444,"display_name":"Anlon Burke"},"score":3,"creation_date":1498319493,"post_id":44732915,"comment_id":76457840,"body_markdown":"@ams Sorry, I don&#39;t get your last comment. Are you implicating that the Java 9 JDK reads from the JMOD files at runtime? AFAIK, that would be wrong. You can delete the whole jmods directory from a JDK without any consequences. Also, to my knowledge, a Java 9 JDK wouldn&#39;t &quot;pick up&quot; a custom custom JMOD that you distribute.","body":"@ams Sorry, I don&#39;t get your last comment. Are you implicating that the Java 9 JDK reads from the JMOD files at runtime? AFAIK, that would be wrong. You can delete the whole jmods directory from a JDK without any consequences. Also, to my knowledge, a Java 9 JDK wouldn&#39;t &quot;pick up&quot; a custom custom JMOD that you distribute."},{"owner":{"account_id":195439,"reputation":60906,"user_id":438319,"accept_rate":73,"display_name":"ams"},"score":0,"creation_date":1498322368,"post_id":44732915,"comment_id":76458703,"body_markdown":"@AnlonBurke I expected javac to depend on $JDK_HOME/jmods folder to resolve import statements or the IDE to depend on $JDK_HOME/jmods so I deleted the jmods folder on my machine stuff still compiles. The key thing I want to know is under what conditions would a developer publish a JMOD file?","body":"@AnlonBurke I expected javac to depend on $JDK_HOME/jmods folder to resolve import statements or the IDE to depend on $JDK_HOME/jmods so I deleted the jmods folder on my machine stuff still compiles. The key thing I want to know is under what conditions would a developer publish a JMOD file?"},{"owner":{"account_id":10990142,"reputation":397,"user_id":8074444,"display_name":"Anlon Burke"},"score":3,"creation_date":1498323505,"post_id":44732915,"comment_id":76459043,"body_markdown":"@ams To my knowledge (and as all the other commenters have said here) you&#39;d publish a JMOD file to enable a consumer to `jlink` his own run-time image that includes your JMOD module. It&#39;s possible I don&#39;t get the whole picture though.","body":"@ams To my knowledge (and as all the other commenters have said here) you&#39;d publish a JMOD file to enable a consumer to <code>jlink</code> his own run-time image that includes your JMOD module. It&#39;s possible I don&#39;t get the whole picture though."},{"owner":{"account_id":11265861,"reputation":6089,"user_id":14352161,"display_name":"concision"},"score":1,"creation_date":1601874288,"post_id":44732915,"comment_id":113530342,"body_markdown":"@Naman I have added a detailed answer on the purpose of JMODs in the context of Java 9&#39;s new module system. Let me know if this sufficiently answers the question at hand.","body":"@Naman I have added a detailed answer on the purpose of JMODs in the context of Java 9&#39;s new module system. Let me know if this sufficiently answers the question at hand."}],"answers":[{"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1498305606,"creation_date":1498305606,"answer_id":44736159,"question_id":44732915,"body_markdown":"Here are some quotes from [JEP 261: Module System][1], which contains a section on JMOD files.\r\n\r\n**Why?**\r\n\r\nFrom [JEP 261][1]:\r\n\r\n&gt; The new JMOD format goes beyond JAR files to include native code,\r\n&gt; configuration files, and other kinds of data that do not fit\r\n&gt; naturally, if at all, into JAR files.\r\n\r\nand\r\n\r\n&gt; The final format of JMOD files is an open issue, but for now it is\r\n&gt; based on ZIP files.\r\n\r\n**Should a developer publish JMOD files?**\r\n\r\nNote that JMOD files appear to be a way to incorporate native code (among other things) at compile-time and link-time. From [JEP 261][1]:\r\n\r\n&gt; JMOD files can be used at compile time and link time, but not at run\r\n&gt; time.\r\n\r\n(To be honest, I&#39;m not sure how native code is published pre-JDK 9.) For the vast majority of developers (without native libraries or other corner-cases), we will merely publish modular jars.\r\n\r\n  [1]: http://openjdk.java.net/jeps/261","title":"Why did Java 9 introduce the JMOD file format?","body":"<p>Here are some quotes from <a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261: Module System</a>, which contains a section on JMOD files.</p>\n\n<p><strong>Why?</strong></p>\n\n<p>From <a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261</a>:</p>\n\n<blockquote>\n  <p>The new JMOD format goes beyond JAR files to include native code,\n  configuration files, and other kinds of data that do not fit\n  naturally, if at all, into JAR files.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>The final format of JMOD files is an open issue, but for now it is\n  based on ZIP files.</p>\n</blockquote>\n\n<p><strong>Should a developer publish JMOD files?</strong></p>\n\n<p>Note that JMOD files appear to be a way to incorporate native code (among other things) at compile-time and link-time. From <a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261</a>:</p>\n\n<blockquote>\n  <p>JMOD files can be used at compile time and link time, but not at run\n  time.</p>\n</blockquote>\n\n<p>(To be honest, I'm not sure how native code is published pre-JDK 9.) For the vast majority of developers (without native libraries or other corner-cases), we will merely publish modular jars.</p>\n"},{"tags":[],"owner":{"account_id":11265861,"reputation":6089,"user_id":14352161,"display_name":"concision"},"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1673256901,"creation_date":1601874173,"answer_id":64202720,"question_id":44732915,"body_markdown":"The purpose of JMODs are not well documented and existing documentation is rather sparse. Here is an in-depth explanation of system, from my understanding.\r\n\r\nParts of this answer are rather long, verbose, partially redundant, and a tough read. Constructive, structural, or grammatical edits are more than welcome to improve readability for future readers.\r\n\r\n&lt;hr&gt;\r\n\r\n# Short(er) Answer\r\n\r\nThe [*Java Platform Module System*][1] ([*Project Jigsaw*](https://openjdk.java.net/projects/jigsaw/)) in [Java 9][2]+ introduces the notion of a new optional *link time* phase. This phase occurs when using the [CLI][3] tool [`jlink`](https://docs.oracle.com/javase/9/tools/jlink.htm) ([JEP 282][4]) to build a custom space-optimized [JRE][5]. \r\n\r\nThe `jlink` utility bundles all explicit/transitive [JAR][6] modules/JMOD dependencies into a minified JRE. All other unreachable dependencies in the dependency graph (starting from specified root modules) are omitted from the built JRE. As of JDK 9+, all of Java&#39;s standard library has been broken up into JMODs. These JMODs are located at `&lt;jdk&gt;/jmods`.\r\n\r\nWhereas JARs can only contain `.class` and resource files, JMODs (i.e. `.jmod` files) contain additional files that are consumed specifically in the new optional *link time* phase to customize the JRE (e.g. executables, native libraries, configurations, legal licenses, etc). These additional files are not available as resources at run time in the classpath, but are instead installed under various locations in the built JRE (e.g. executables and native libraries are placed under `&lt;jre&gt;/bin`). From the relevant bundled JARs and JMODs dependencies, classes and file resources will be written into a single optimized JIMAGE file, located at `&lt;jre&gt;/lib/modules` (replacing `&lt;jre&gt;/lib/rt.jar` in Java 8 and prior versions). The role of JMODs is at compile time and link time, and are _not_ designed to be used at run time.\r\n\r\nFor the average library/application, only JARs should be built and pushed, instead of JMODs; only under certain conditions will JMODs offer critical functionality that is needed during the *link time* phase. At the time of writing, Maven does not appear to offer strong support for JMODs beyond the alpha release plugin [`org.apache.maven.plugins:maven-jmod-plugin`](https://maven.apache.org/plugins/maven-jmod-plugin/).\r\n\r\n&lt;hr&gt;\r\n\r\n# Long Answer\r\nThis long-winded answer is more complexly motivated and sheds some light into how the new module system fundamentally operates. There is a strong emphasis throughout this post on the CLI tool `jlink`, since JMODs are designed specifically for this new optional *link time* phase that the tool introduces.\r\n\r\n## The Introduction of Project Jigsaw\r\nJava 9 introduced [Project Jigsaw](https://openjdk.java.net/projects/jigsaw/) in &#39;[JEP 261: Module System](http://openjdk.java.net/jeps/261)&#39;, a novel module system that can be used to minimize startup times and the size of JREs. As part of this release, the CLI utilities [`jmod`](https://docs.oracle.com/javase/9/tools/jmod.htm), `jimage`, and [`jlink`](https://docs.oracle.com/javase/9/tools/jlink.htm) were introduced along with new file formats for JMODs/`.jmod`s (ZIP-based) and JIMAGEs/`.jimage`s. \r\n\r\nA significant takeaway of this new module system is that the CLI tool `jlink` enables developers to build a custom JRE that contains only relevant standard library and external dependencies for their applications. This introduces a new notion of an optional *link time* phase between the traditional phases in the `compile time -&gt; run time` pipeline. \r\n\r\nFor an example of the advantages of using `jlink`, a minimalist JRE built from JDK 15 with only the `java.base` module comes out to roughly ~40MB in size, in stark juxtaposition to JDK 15&#39;s ~310MB size. This is especially useful for shipping a minimal custom JRE, such as for lean Docker images. The new module system brings significant benefits to the Java ecosystem that have been discussed at length elsewhere, and are thus not further elaborated in detail here. \r\n\r\n\r\n## The 3 J&#39;s: JARs, JMODs, and JIMAGEs\r\n\r\nThe high level description of a JARs, JMODs, and JIMAGEs do not quickly lend themselves to an explanation that strongly differentiates between the roles of the three file formats. Here is a non-exhaustive overview of the purposes of each:\r\n - **JARs:** The classical format based on the ZIP file format for bundling classes and resources into the classpath at *run time*. This is the de-facto mainstream standard set forth since JDK 1.1 in 1997. JARs can be added to the classpath with the `java` `-cp`/`-classpath` flags. Almost every library or dependency _has_, _is_, and _will_ be using this format, so it is glossed over in this section.\r\n\r\n - **JMODs:** A new format based on the ZIP file format for bundling the same contents that a JAR can contain, but with support for additional files (e.g. executables, native libraries, configurations, legal licenses, etc) that are consumed at the optional *link time* phase when building a custom JRE. JMODs are designed to be used at both compile time and link time, but _not_ at run time. This new format was likely introduced (instead of extending JARs) because there is a special meaning for directories within this new archive-based format that is _not_ backwards compatible with JARs that already use the same directory names. \r\n   - A JMOD can be constructed from a JAR module (i.e. contains a valid `module-info.class`) with the CLI tool [`jmod`](https://docs.oracle.com/javase/9/tools/jmod.htm). \r\n   - As of JDK 9 and onward, all Java standard modules are stored under `&lt;jdk&gt;/jmods` in a JDK installation. \r\n   - JMODs can be published for use by other developers and upstream applications; at the time of writing, I am unsure if JMODs may be pushed to Maven repositories, but various sources seem to indicate likely not for the time being. \r\n   - JMOD classes and resources _cannot_ be used at *run time* in the classpath with the `java` `-cp`/`-classpath` flags, as the classes and resources inside of the JMOD archive are stored under `classes` and not in the archive root.\r\n  &gt; Note: There may be a way to add easily JMODs to the classpath at *run time*; however, research did not explicitly state any functionality relating to this. Merely adding a JMOD to the classpath will not be sufficient for using the classes and resources. A custom [`ClassLoader`](https://docs.oracle.com/javase/9/docs/api/java/lang/ClassLoader.html) could be used to resolve class and resource files correctly in the JMOD archive at run time, however; this is generally not recommended and is not the purpose of JMODs.\r\n\r\n - **JIMAGEs**: A special file format introduced in &#39;[JEP 220: Modular Run-Time Images](http://openjdk.java.net/jeps/220)&#39; that is a *runtime* image containing all necessary classes and resources for a JRE (i.e. the standard library). Prior to JRE/JDK 9, a single large non-modular uber JAR was used, located at `&lt;jre&gt;/lib/rt.jar`; it has since been removed in favor of a single optimized JIMAGE stored located at `&lt;jre&gt;/lib/modules`. This format is _not_ based on the ZIP format and uses a custom format that is significantly more time and space efficient than the original legacy JAR format, reducing startup times.\r\n   - When building a custom JRE image with the CLI tool `jlink`, all relevant  (explicit or transistive) module dependencies&#39; classes and resources (from JAR modules or JMODs) are compiled into a single optimized JIMAGE file (again, stored under `&lt;jre&gt;/lib/modules`).\r\n   - The JIMAGE file format is modular and can be created, modified, disassembled, or inspected with the CLI tool `jimage`. E.g. `jimage list $JAVA_HOME/lib/modules`\r\n   - JIMAGEs should generally not be be published, but instead shipped with a specific custom JRE version; the file format may be subject to changes in the future.\r\n\r\n\r\n## The Substance: Detailed Purpose of JMOD\r\n\r\n\r\n### A New, Optional *Link Time* Phase\r\nAs stated a few times previously, the CLI tool [`jlink`](https://docs.oracle.com/javase/9/tools/jlink.htm) introduces a new optional stage in the normal Java pipeline - the ***link time phase***. This link time phase is used to generate a custom built JRE from a set of Java 9 modules (either a JAR with a `module-info.java` descriptor or a JMOD).\r\n\r\nThe high level stages are briefly described as follows:\r\n- **compile time** (`javac`): As described on the [`javac` documentation](https://docs.oracle.com/javase/9/tools/javac.htm), the compile time phase...\r\n  &gt; ...reads class and interface definitions, written in the Java programming language, and compiles them into bytecode class files. It can also process annotations in Java source files and classes.\r\n\r\n- **link time** (`jlink`): As described on &#39;[JEP 282: jlink: The Java Linker](https://openjdk.java.net/jeps/282)&#39;, the link time phase is...\r\n  &gt; ...an optional phase between the phases of compile time (the javac command) and run-time (the java run-time launcher). Link time requires a linking tool that will assemble and optimize a set of modules and their transitive dependencies to create a run-time image or executable.&lt;br&gt;&lt;br&gt;\r\n  &gt; Link time is an opportunity to do whole-world optimizations that are otherwise difficult at compile time or costly at run-time. An example would be to optimize a computation when all its inputs become constant (i.e., not unknown). A follow-up optimization would be to remove code that is no longer reachable.\r\n\r\n- **run time** (`java`): As described on the [`javac` documentation](https://docs.oracle.com/javase/9/tools/java.htm), the run time phase...\r\n  &gt; ...starts a Java application. It does this by starting the Java Runtime Environment (JRE), loading the specified class, and calling that class&#39;s main() method.\r\n\r\n### Introduction of JMODs\r\nDuring the link time phase, all classes and resources from modules (valid JAR modules or form JMODs&#39; `classes`) are compiled into a single optimized JIMAGE runtime image located at `&lt;jre&gt;/lib/modules`. Modules not explicitly or transitively included will _not_ be included into this final JIMAGE, saving a significant amount of space. However, when building a custom JRE, some additional files might be necessary inside of the JRE; e.g. executable commands or native libraries. For JAR modules, the story ends here - this is no way for a JAR to add files (beyond the classes included in the JIMAGE) into the built JRE without ambiguities.\r\n\r\nIntroducing JMODs: **JMODs have the ability to add additional files into the custom built JRE**; some examples (but not necessarily exhaustive): executable commands, configuration files, header files, legal notices and licenses, native libraries, and manual pages. This allows a module dependency to shape the built JRE in its own way. The behavior of how these additional files are inserted into the built JRE by the CLI tool `jlink` are documented within the next section.\r\n\r\nJMODs are destined for _solely_ for the compile time and link time phases, as described in &#39;[JEP 261: Module System](http://openjdk.java.net/jeps/261)&#39;:\r\n&gt; JMOD files can be used at compile time and link time, but not at run time. To support them at run time would require, in general, that we be prepared to extract and link native-code libraries on-the-fly. This is feasible on most platforms, though it can be very tricky, and we have not seen many use cases that require this capability, so for simplicity we have chosen to limit the utility of JMOD files in this release.\r\n\r\n\r\n### The New Format - No Backwards Compatibility with JARs\r\nA good question might be &quot;why not enable JARs to add link-time behavior?&quot;. A sneaking suspicion here is that this does not enable sufficient backwards-compatibility support with existing JARs and tooling. There is no specification for reserved filenames in the JAR archive file format. If an existing library stores any resources under the directories intended for link time, `jlink` could not accurately guess whether it is meant to be consumed during link time or needed at run time. A new file format specification with reserved directory names would resolve this clashing issue - such as the new JMOD format. With JMODs, there is no ambiguity about what resources are designated for link time and run time. Furthermore, the JMOD format can be also extended to add new functionalities in later JDK versions, without backwards-compatibility issues.\r\n\r\nThe JMOD file format is similar to a JAR in that it is based on the ZIP file format. A JMOD file has the following reserved directory names with the following behavior (this is not necessarily an exhaustive list!):\r\n- `bin` (`--cmds`): Executable commands that are copied to `&lt;jre&gt;/bin`\r\n- `classes` (`--class-path`): Intended for including into the final built JIMAGE, stored at `&lt;jre&gt;/lib/modules`\r\n- `conf` (`--config`): Additional configurations copied to `&lt;jre&gt;/conf`; likely used to control configuration for any bundled modules, if required\r\n- `include` (`--header-files`): Additional C header files that are copied to `&lt;jre&gt;/include/` for building C libraries for the JVM using JNI; e.g. in `java.base`, the JNI interfaces are exported\r\n- `legal` (`--legal-notices`): Legal notices and licenses for the module that are copied to `&lt;jre&gt;/legal/&lt;module name&gt;/`\r\n- `lib` (`--libs`): Native libraries that are copied to `&lt;jre&gt;/bin`\r\n\r\n&gt; For the curiously inclined, standard library JMODs (located under `$JAVA_HOME/jmods` in a JDK 9+) can be inspected with any application that reads ZIP archives.\r\n\r\n### Mainstream Support...?\r\nA significant part of the reason that JMODs have not been rapidly adopted and have poor documentation availability is that, quite simply put, they are not necessary for the vast majority of libraries and module dependencies. While they still are useful for specific use cases, modules should use the JAR format that already has mainstream support since it was defined with JDK 1.1 in 1997 (with `module-info.java` module support added with JDK 9 in 2017).\r\n\r\nFrom the documentation of the CLI tool [`jmod`](https://docs.oracle.com/en/java/javase/15/docs/specs/man/jmod.html): \r\n&gt; For most development tasks, including deploying modules on the module path or publishing them to a Maven repository, continue to package modules in modular JAR files. The jmod tool is intended for modules that have native libraries or other configuration files or for modules that you intend to link, with the jlink tool, to a runtime image.\r\n\r\n**An opinion**: JMODs will likely not gain any significant adoption by developers for at least a _very_ long time. Most developers will never hear or know the purpose of a JMOD - nor will they need to. JMODs serve a critical purpose behind the scenes for building JREs (all of the Java standard library modules are JMODs), but do not affect the vast majority of applications and projects due to their niche use case at link time. Java 9 was released in 2017 and dependencies in the Java ecosystem still struggle to reliably have a `module-info.class` descriptor to make a JAR a valid fully-fledged module...\r\n\r\n\r\n## Takeaways\r\n- JMODs are a fundamental new feature for creating JREs with the CLI tool `jlink` that enables customizing the custom built JRE with additional files.\r\n- Deploy JARs instead of JMODs, unless some features from JMODs are specifically needed. JAR modules are also compatible with `jlink`, so it is not necessary to ship a JMOD that only includes classes and resources. Ecosystem support and tooling is not necessarily going to adopt JMODs anytime soon and will certainly have compatibility issues for years to come.\r\n- Java documentation for this area of the ecosystem could _really_ use some improvement.\r\n\r\n&lt;hr&gt;\r\n\r\n# Disclaimer\r\nAt the time of writing this answer, there was sparse documentation on the purpose of JMODs for Java 9 and onward. In fact, the Google search phrases &quot;java jmods&quot; and &quot;jmod format&quot; bring this very same StackOverflow question as the second search hit result. Therefore, some aspects may not be accurately explained, but are generally &quot;directionally correct&quot;; furthermore, it may not paint the full picture. If you find any issues or caveats, leave a comment and I will try to reconcile it with this answer.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Platform_Module_System\r\n  [2]: https://en.m.wikipedia.org/wiki/Java_version_history#Java_9\r\n  [3]: https://en.m.wikipedia.org/wiki/Command-line_interface\r\n  [4]: https://openjdk.org/jeps/282\r\n  [5]: https://en.m.wikipedia.org/wiki/Java_(software_platform)#Java_Runtime_Environment\r\n  [6]: https://en.m.wikipedia.org/wiki/JAR_(file_format)","title":"Why did Java 9 introduce the JMOD file format?","body":"<p>The purpose of JMODs are not well documented and existing documentation is rather sparse. Here is an in-depth explanation of system, from my understanding.</p>\n<p>Parts of this answer are rather long, verbose, partially redundant, and a tough read. Constructive, structural, or grammatical edits are more than welcome to improve readability for future readers.</p>\n<hr>\n<h1>Short(er) Answer</h1>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"noreferrer\"><em>Java Platform Module System</em></a> (<a href=\"https://openjdk.java.net/projects/jigsaw/\" rel=\"noreferrer\"><em>Project Jigsaw</em></a>) in <a href=\"https://en.m.wikipedia.org/wiki/Java_version_history#Java_9\" rel=\"noreferrer\">Java 9</a>+ introduces the notion of a new optional <em>link time</em> phase. This phase occurs when using the <a href=\"https://en.m.wikipedia.org/wiki/Command-line_interface\" rel=\"noreferrer\">CLI</a> tool <a href=\"https://docs.oracle.com/javase/9/tools/jlink.htm\" rel=\"noreferrer\"><code>jlink</code></a> (<a href=\"https://openjdk.org/jeps/282\" rel=\"noreferrer\">JEP 282</a>) to build a custom space-optimized <a href=\"https://en.m.wikipedia.org/wiki/Java_(software_platform)#Java_Runtime_Environment\" rel=\"noreferrer\">JRE</a>.</p>\n<p>The <code>jlink</code> utility bundles all explicit/transitive <a href=\"https://en.m.wikipedia.org/wiki/JAR_(file_format)\" rel=\"noreferrer\">JAR</a> modules/JMOD dependencies into a minified JRE. All other unreachable dependencies in the dependency graph (starting from specified root modules) are omitted from the built JRE. As of JDK 9+, all of Java's standard library has been broken up into JMODs. These JMODs are located at <code>&lt;jdk&gt;/jmods</code>.</p>\n<p>Whereas JARs can only contain <code>.class</code> and resource files, JMODs (i.e. <code>.jmod</code> files) contain additional files that are consumed specifically in the new optional <em>link time</em> phase to customize the JRE (e.g. executables, native libraries, configurations, legal licenses, etc). These additional files are not available as resources at run time in the classpath, but are instead installed under various locations in the built JRE (e.g. executables and native libraries are placed under <code>&lt;jre&gt;/bin</code>). From the relevant bundled JARs and JMODs dependencies, classes and file resources will be written into a single optimized JIMAGE file, located at <code>&lt;jre&gt;/lib/modules</code> (replacing <code>&lt;jre&gt;/lib/rt.jar</code> in Java 8 and prior versions). The role of JMODs is at compile time and link time, and are <em>not</em> designed to be used at run time.</p>\n<p>For the average library/application, only JARs should be built and pushed, instead of JMODs; only under certain conditions will JMODs offer critical functionality that is needed during the <em>link time</em> phase. At the time of writing, Maven does not appear to offer strong support for JMODs beyond the alpha release plugin <a href=\"https://maven.apache.org/plugins/maven-jmod-plugin/\" rel=\"noreferrer\"><code>org.apache.maven.plugins:maven-jmod-plugin</code></a>.</p>\n<hr>\n<h1>Long Answer</h1>\n<p>This long-winded answer is more complexly motivated and sheds some light into how the new module system fundamentally operates. There is a strong emphasis throughout this post on the CLI tool <code>jlink</code>, since JMODs are designed specifically for this new optional <em>link time</em> phase that the tool introduces.</p>\n<h2>The Introduction of Project Jigsaw</h2>\n<p>Java 9 introduced <a href=\"https://openjdk.java.net/projects/jigsaw/\" rel=\"noreferrer\">Project Jigsaw</a> in '<a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261: Module System</a>', a novel module system that can be used to minimize startup times and the size of JREs. As part of this release, the CLI utilities <a href=\"https://docs.oracle.com/javase/9/tools/jmod.htm\" rel=\"noreferrer\"><code>jmod</code></a>, <code>jimage</code>, and <a href=\"https://docs.oracle.com/javase/9/tools/jlink.htm\" rel=\"noreferrer\"><code>jlink</code></a> were introduced along with new file formats for JMODs/<code>.jmod</code>s (ZIP-based) and JIMAGEs/<code>.jimage</code>s.</p>\n<p>A significant takeaway of this new module system is that the CLI tool <code>jlink</code> enables developers to build a custom JRE that contains only relevant standard library and external dependencies for their applications. This introduces a new notion of an optional <em>link time</em> phase between the traditional phases in the <code>compile time -&gt; run time</code> pipeline.</p>\n<p>For an example of the advantages of using <code>jlink</code>, a minimalist JRE built from JDK 15 with only the <code>java.base</code> module comes out to roughly ~40MB in size, in stark juxtaposition to JDK 15's ~310MB size. This is especially useful for shipping a minimal custom JRE, such as for lean Docker images. The new module system brings significant benefits to the Java ecosystem that have been discussed at length elsewhere, and are thus not further elaborated in detail here.</p>\n<h2>The 3 J's: JARs, JMODs, and JIMAGEs</h2>\n<p>The high level description of a JARs, JMODs, and JIMAGEs do not quickly lend themselves to an explanation that strongly differentiates between the roles of the three file formats. Here is a non-exhaustive overview of the purposes of each:</p>\n<ul>\n<li><p><strong>JARs:</strong> The classical format based on the ZIP file format for bundling classes and resources into the classpath at <em>run time</em>. This is the de-facto mainstream standard set forth since JDK 1.1 in 1997. JARs can be added to the classpath with the <code>java</code> <code>-cp</code>/<code>-classpath</code> flags. Almost every library or dependency <em>has</em>, <em>is</em>, and <em>will</em> be using this format, so it is glossed over in this section.</p>\n</li>\n<li><p><strong>JMODs:</strong> A new format based on the ZIP file format for bundling the same contents that a JAR can contain, but with support for additional files (e.g. executables, native libraries, configurations, legal licenses, etc) that are consumed at the optional <em>link time</em> phase when building a custom JRE. JMODs are designed to be used at both compile time and link time, but <em>not</em> at run time. This new format was likely introduced (instead of extending JARs) because there is a special meaning for directories within this new archive-based format that is <em>not</em> backwards compatible with JARs that already use the same directory names.</p>\n<ul>\n<li>A JMOD can be constructed from a JAR module (i.e. contains a valid <code>module-info.class</code>) with the CLI tool <a href=\"https://docs.oracle.com/javase/9/tools/jmod.htm\" rel=\"noreferrer\"><code>jmod</code></a>.</li>\n<li>As of JDK 9 and onward, all Java standard modules are stored under <code>&lt;jdk&gt;/jmods</code> in a JDK installation.</li>\n<li>JMODs can be published for use by other developers and upstream applications; at the time of writing, I am unsure if JMODs may be pushed to Maven repositories, but various sources seem to indicate likely not for the time being.</li>\n<li>JMOD classes and resources <em>cannot</em> be used at <em>run time</em> in the classpath with the <code>java</code> <code>-cp</code>/<code>-classpath</code> flags, as the classes and resources inside of the JMOD archive are stored under <code>classes</code> and not in the archive root.</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>Note: There may be a way to add easily JMODs to the classpath at <em>run time</em>; however, research did not explicitly state any functionality relating to this. Merely adding a JMOD to the classpath will not be sufficient for using the classes and resources. A custom <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ClassLoader.html\" rel=\"noreferrer\"><code>ClassLoader</code></a> could be used to resolve class and resource files correctly in the JMOD archive at run time, however; this is generally not recommended and is not the purpose of JMODs.</p>\n</blockquote>\n<ul>\n<li><strong>JIMAGEs</strong>: A special file format introduced in '<a href=\"http://openjdk.java.net/jeps/220\" rel=\"noreferrer\">JEP 220: Modular Run-Time Images</a>' that is a <em>runtime</em> image containing all necessary classes and resources for a JRE (i.e. the standard library). Prior to JRE/JDK 9, a single large non-modular uber JAR was used, located at <code>&lt;jre&gt;/lib/rt.jar</code>; it has since been removed in favor of a single optimized JIMAGE stored located at <code>&lt;jre&gt;/lib/modules</code>. This format is <em>not</em> based on the ZIP format and uses a custom format that is significantly more time and space efficient than the original legacy JAR format, reducing startup times.\n<ul>\n<li>When building a custom JRE image with the CLI tool <code>jlink</code>, all relevant  (explicit or transistive) module dependencies' classes and resources (from JAR modules or JMODs) are compiled into a single optimized JIMAGE file (again, stored under <code>&lt;jre&gt;/lib/modules</code>).</li>\n<li>The JIMAGE file format is modular and can be created, modified, disassembled, or inspected with the CLI tool <code>jimage</code>. E.g. <code>jimage list $JAVA_HOME/lib/modules</code></li>\n<li>JIMAGEs should generally not be be published, but instead shipped with a specific custom JRE version; the file format may be subject to changes in the future.</li>\n</ul>\n</li>\n</ul>\n<h2>The Substance: Detailed Purpose of JMOD</h2>\n<h3>A New, Optional <em>Link Time</em> Phase</h3>\n<p>As stated a few times previously, the CLI tool <a href=\"https://docs.oracle.com/javase/9/tools/jlink.htm\" rel=\"noreferrer\"><code>jlink</code></a> introduces a new optional stage in the normal Java pipeline - the <em><strong>link time phase</strong></em>. This link time phase is used to generate a custom built JRE from a set of Java 9 modules (either a JAR with a <code>module-info.java</code> descriptor or a JMOD).</p>\n<p>The high level stages are briefly described as follows:</p>\n<ul>\n<li><p><strong>compile time</strong> (<code>javac</code>): As described on the <a href=\"https://docs.oracle.com/javase/9/tools/javac.htm\" rel=\"noreferrer\"><code>javac</code> documentation</a>, the compile time phase...</p>\n<blockquote>\n<p>...reads class and interface definitions, written in the Java programming language, and compiles them into bytecode class files. It can also process annotations in Java source files and classes.</p>\n</blockquote>\n</li>\n<li><p><strong>link time</strong> (<code>jlink</code>): As described on '<a href=\"https://openjdk.java.net/jeps/282\" rel=\"noreferrer\">JEP 282: jlink: The Java Linker</a>', the link time phase is...</p>\n<blockquote>\n<p>...an optional phase between the phases of compile time (the javac command) and run-time (the java run-time launcher). Link time requires a linking tool that will assemble and optimize a set of modules and their transitive dependencies to create a run-time image or executable.<br><br>\nLink time is an opportunity to do whole-world optimizations that are otherwise difficult at compile time or costly at run-time. An example would be to optimize a computation when all its inputs become constant (i.e., not unknown). A follow-up optimization would be to remove code that is no longer reachable.</p>\n</blockquote>\n</li>\n<li><p><strong>run time</strong> (<code>java</code>): As described on the <a href=\"https://docs.oracle.com/javase/9/tools/java.htm\" rel=\"noreferrer\"><code>javac</code> documentation</a>, the run time phase...</p>\n<blockquote>\n<p>...starts a Java application. It does this by starting the Java Runtime Environment (JRE), loading the specified class, and calling that class's main() method.</p>\n</blockquote>\n</li>\n</ul>\n<h3>Introduction of JMODs</h3>\n<p>During the link time phase, all classes and resources from modules (valid JAR modules or form JMODs' <code>classes</code>) are compiled into a single optimized JIMAGE runtime image located at <code>&lt;jre&gt;/lib/modules</code>. Modules not explicitly or transitively included will <em>not</em> be included into this final JIMAGE, saving a significant amount of space. However, when building a custom JRE, some additional files might be necessary inside of the JRE; e.g. executable commands or native libraries. For JAR modules, the story ends here - this is no way for a JAR to add files (beyond the classes included in the JIMAGE) into the built JRE without ambiguities.</p>\n<p>Introducing JMODs: <strong>JMODs have the ability to add additional files into the custom built JRE</strong>; some examples (but not necessarily exhaustive): executable commands, configuration files, header files, legal notices and licenses, native libraries, and manual pages. This allows a module dependency to shape the built JRE in its own way. The behavior of how these additional files are inserted into the built JRE by the CLI tool <code>jlink</code> are documented within the next section.</p>\n<p>JMODs are destined for <em>solely</em> for the compile time and link time phases, as described in '<a href=\"http://openjdk.java.net/jeps/261\" rel=\"noreferrer\">JEP 261: Module System</a>':</p>\n<blockquote>\n<p>JMOD files can be used at compile time and link time, but not at run time. To support them at run time would require, in general, that we be prepared to extract and link native-code libraries on-the-fly. This is feasible on most platforms, though it can be very tricky, and we have not seen many use cases that require this capability, so for simplicity we have chosen to limit the utility of JMOD files in this release.</p>\n</blockquote>\n<h3>The New Format - No Backwards Compatibility with JARs</h3>\n<p>A good question might be &quot;why not enable JARs to add link-time behavior?&quot;. A sneaking suspicion here is that this does not enable sufficient backwards-compatibility support with existing JARs and tooling. There is no specification for reserved filenames in the JAR archive file format. If an existing library stores any resources under the directories intended for link time, <code>jlink</code> could not accurately guess whether it is meant to be consumed during link time or needed at run time. A new file format specification with reserved directory names would resolve this clashing issue - such as the new JMOD format. With JMODs, there is no ambiguity about what resources are designated for link time and run time. Furthermore, the JMOD format can be also extended to add new functionalities in later JDK versions, without backwards-compatibility issues.</p>\n<p>The JMOD file format is similar to a JAR in that it is based on the ZIP file format. A JMOD file has the following reserved directory names with the following behavior (this is not necessarily an exhaustive list!):</p>\n<ul>\n<li><code>bin</code> (<code>--cmds</code>): Executable commands that are copied to <code>&lt;jre&gt;/bin</code></li>\n<li><code>classes</code> (<code>--class-path</code>): Intended for including into the final built JIMAGE, stored at <code>&lt;jre&gt;/lib/modules</code></li>\n<li><code>conf</code> (<code>--config</code>): Additional configurations copied to <code>&lt;jre&gt;/conf</code>; likely used to control configuration for any bundled modules, if required</li>\n<li><code>include</code> (<code>--header-files</code>): Additional C header files that are copied to <code>&lt;jre&gt;/include/</code> for building C libraries for the JVM using JNI; e.g. in <code>java.base</code>, the JNI interfaces are exported</li>\n<li><code>legal</code> (<code>--legal-notices</code>): Legal notices and licenses for the module that are copied to <code>&lt;jre&gt;/legal/&lt;module name&gt;/</code></li>\n<li><code>lib</code> (<code>--libs</code>): Native libraries that are copied to <code>&lt;jre&gt;/bin</code></li>\n</ul>\n<blockquote>\n<p>For the curiously inclined, standard library JMODs (located under <code>$JAVA_HOME/jmods</code> in a JDK 9+) can be inspected with any application that reads ZIP archives.</p>\n</blockquote>\n<h3>Mainstream Support...?</h3>\n<p>A significant part of the reason that JMODs have not been rapidly adopted and have poor documentation availability is that, quite simply put, they are not necessary for the vast majority of libraries and module dependencies. While they still are useful for specific use cases, modules should use the JAR format that already has mainstream support since it was defined with JDK 1.1 in 1997 (with <code>module-info.java</code> module support added with JDK 9 in 2017).</p>\n<p>From the documentation of the CLI tool <a href=\"https://docs.oracle.com/en/java/javase/15/docs/specs/man/jmod.html\" rel=\"noreferrer\"><code>jmod</code></a>:</p>\n<blockquote>\n<p>For most development tasks, including deploying modules on the module path or publishing them to a Maven repository, continue to package modules in modular JAR files. The jmod tool is intended for modules that have native libraries or other configuration files or for modules that you intend to link, with the jlink tool, to a runtime image.</p>\n</blockquote>\n<p><strong>An opinion</strong>: JMODs will likely not gain any significant adoption by developers for at least a <em>very</em> long time. Most developers will never hear or know the purpose of a JMOD - nor will they need to. JMODs serve a critical purpose behind the scenes for building JREs (all of the Java standard library modules are JMODs), but do not affect the vast majority of applications and projects due to their niche use case at link time. Java 9 was released in 2017 and dependencies in the Java ecosystem still struggle to reliably have a <code>module-info.class</code> descriptor to make a JAR a valid fully-fledged module...</p>\n<h2>Takeaways</h2>\n<ul>\n<li>JMODs are a fundamental new feature for creating JREs with the CLI tool <code>jlink</code> that enables customizing the custom built JRE with additional files.</li>\n<li>Deploy JARs instead of JMODs, unless some features from JMODs are specifically needed. JAR modules are also compatible with <code>jlink</code>, so it is not necessary to ship a JMOD that only includes classes and resources. Ecosystem support and tooling is not necessarily going to adopt JMODs anytime soon and will certainly have compatibility issues for years to come.</li>\n<li>Java documentation for this area of the ecosystem could <em>really</em> use some improvement.</li>\n</ul>\n<hr>\n<h1>Disclaimer</h1>\n<p>At the time of writing this answer, there was sparse documentation on the purpose of JMODs for Java 9 and onward. In fact, the Google search phrases &quot;java jmods&quot; and &quot;jmod format&quot; bring this very same StackOverflow question as the second search hit result. Therefore, some aspects may not be accurately explained, but are generally &quot;directionally correct&quot;; furthermore, it may not paint the full picture. If you find any issues or caveats, leave a comment and I will try to reconcile it with this answer.</p>\n"}],"owner":{"account_id":195439,"reputation":60906,"user_id":438319,"accept_rate":73,"display_name":"ams"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22597,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":64202720,"answer_count":2,"score":87,"last_activity_date":1673256901,"creation_date":1498280198,"question_id":44732915,"body_markdown":"Java 9 has three ways to package compiled code in files:\r\n\r\n - JAR\r\n - JMOD\r\n - JIMAGE \r\n\r\nJIMAGE is optimized for speed and space and used by the JVM at runtime so it makes sense why JIMAGE was introduced. JIMAGE files are not supposed to be published to maven repos or used at compile or link time. \r\n\r\nThe docs claim that JMOD can store native code and other things that can&#39;t be stored by JAR files and that developers can make and distribute their own JMOD files. The JDK ships with `jmods/` directory containing all the modules of the JDK for users to depend on. \r\n\r\n**Questions:** \r\n\r\n - Why did Java 9 introduce the JMOD file format?\r\n - Should a library author distribute a JMOD file or a JAR file or both? \r\n - Should jmod files be published to maven repos? \r\n\r\n","title":"Why did Java 9 introduce the JMOD file format?","body":"<p>Java 9 has three ways to package compiled code in files:</p>\n\n<ul>\n<li>JAR</li>\n<li>JMOD</li>\n<li>JIMAGE </li>\n</ul>\n\n<p>JIMAGE is optimized for speed and space and used by the JVM at runtime so it makes sense why JIMAGE was introduced. JIMAGE files are not supposed to be published to maven repos or used at compile or link time. </p>\n\n<p>The docs claim that JMOD can store native code and other things that can't be stored by JAR files and that developers can make and distribute their own JMOD files. The JDK ships with <code>jmods/</code> directory containing all the modules of the JDK for users to depend on. </p>\n\n<p><strong>Questions:</strong> </p>\n\n<ul>\n<li>Why did Java 9 introduce the JMOD file format?</li>\n<li>Should a library author distribute a JMOD file or a JAR file or both? </li>\n<li>Should jmod files be published to maven repos? </li>\n</ul>\n"},{"tags":["java","callback"],"answers":[{"tags":[],"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673256322,"creation_date":1673254367,"answer_id":75054936,"question_id":75053100,"body_markdown":"From a functional programing perspective you solve this with currying. Meaning your function return another function. You can pass the Function to methods (or other functions).\r\n\r\nHere is your example with currying:\r\n\r\n    import java.util.function.Function;\r\n    \r\n    public class A {\r\n    \r\n        public static Function&lt;Double, Function&lt;Double, Function&lt;Double, Double&gt;&gt;&gt; plus = a -&gt; b -&gt; c -&gt; a + b + c;\r\n        public static Function&lt;Double, Function&lt;Double, Function&lt;Double, Double&gt;&gt;&gt; multiply = a -&gt; b -&gt; c -&gt; a * b * c;\r\n    \r\n        public static double doMath(double a, double b, double c, Function&lt;Double, Function&lt;Double, Function&lt;Double, Double&gt;&gt;&gt; calc) {\r\n            return calc.apply(a).apply(b).apply(c);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Plus:     &quot; + doMath(2, 3, 4, plus));\r\n            System.out.println(&quot;Multiply: &quot; + doMath(2, 3, 4, multiply));\r\n        }\r\n    }\r\n","title":"Callback with 3 parameters","body":"<p>From a functional programing perspective you solve this with currying. Meaning your function return another function. You can pass the Function to methods (or other functions).</p>\n<p>Here is your example with currying:</p>\n<pre><code>import java.util.function.Function;\n\npublic class A {\n\n    public static Function&lt;Double, Function&lt;Double, Function&lt;Double, Double&gt;&gt;&gt; plus = a -&gt; b -&gt; c -&gt; a + b + c;\n    public static Function&lt;Double, Function&lt;Double, Function&lt;Double, Double&gt;&gt;&gt; multiply = a -&gt; b -&gt; c -&gt; a * b * c;\n\n    public static double doMath(double a, double b, double c, Function&lt;Double, Function&lt;Double, Function&lt;Double, Double&gt;&gt;&gt; calc) {\n        return calc.apply(a).apply(b).apply(c);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Plus:     &quot; + doMath(2, 3, 4, plus));\n        System.out.println(&quot;Multiply: &quot; + doMath(2, 3, 4, multiply));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673254802,"creation_date":1673254802,"answer_id":75055004,"question_id":75053100,"body_markdown":"Just create your own `TriFunction` functional interface. Let&#39;s keep it simple and omit all the default methods for now:\r\n\r\n```java\r\n@FunctionalInterface\r\ninterface TriFunction&lt;T, U, V, R&gt; {\r\n\r\n    R apply(T t, U u, V v);\r\n}\r\n```\r\nThe annotation is optional, but it will cause a compiler error if you add another non-default method.","title":"Callback with 3 parameters","body":"<p>Just create your own <code>TriFunction</code> functional interface. Let's keep it simple and omit all the default methods for now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\ninterface TriFunction&lt;T, U, V, R&gt; {\n\n    R apply(T t, U u, V v);\n}\n</code></pre>\n<p>The annotation is optional, but it will cause a compiler error if you add another non-default method.</p>\n"}],"owner":{"account_id":19529,"reputation":31885,"user_id":45843,"accept_rate":91,"display_name":"rwallace"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75055004,"answer_count":2,"score":0,"last_activity_date":1673256322,"creation_date":1673237207,"question_id":75053100,"body_markdown":"In modern Java, using a callback (a.k.a. function reference a.k.a. function pointer) with up to two parameters is pleasantly easy and straightforward. Example:\r\n\r\n\tclass a {\r\n\t  public static Object plus(Object a, Object b) {\r\n\t    return (Double) a + (Double) b;\r\n\t  }\r\n\t\r\n\t  public static void main(String[] args) {\r\n\t    BiFunction&lt;Object, Object, Object&gt; f = a::plus;\r\n\t    System.out.println(f.apply(2.0, 3.0));\r\n\t  }\r\n\t}\r\n\r\n(The parameters and return value can be typed, though they have to be object references, not primitives.)\r\n\r\nThe compiler directly knows about `java.util.function.BiFunction` and its smaller kin, as can be seen in the disassembly of the above `main`:\r\n\r\n         0: invokedynamic #17,  0             // InvokeDynamic #0:apply:()Ljava/util/function/BiFunction;\r\n         5: astore_1\r\n         6: getstatic     #21                 // Field java/lang/System.out:Ljava/io/PrintStream;\r\n         9: aload_1\r\n        10: ldc2_w        #27                 // double 2.0d\r\n        13: invokestatic  #13                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;\r\n        16: ldc2_w        #29                 // double 3.0d\r\n        19: invokestatic  #13                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;\r\n        22: invokeinterface #31,  3           // InterfaceMethod java/util/function/BiFunction.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;\r\n        27: invokevirtual #36                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\r\n        30: return\r\n\r\nThere is, however, no `java.util.function.TriFunction`.\r\n\r\nHow do you set up a callback with three parameters?","title":"Callback with 3 parameters","body":"<p>In modern Java, using a callback (a.k.a. function reference a.k.a. function pointer) with up to two parameters is pleasantly easy and straightforward. Example:</p>\n<pre><code>class a {\n  public static Object plus(Object a, Object b) {\n    return (Double) a + (Double) b;\n  }\n\n  public static void main(String[] args) {\n    BiFunction&lt;Object, Object, Object&gt; f = a::plus;\n    System.out.println(f.apply(2.0, 3.0));\n  }\n}\n</code></pre>\n<p>(The parameters and return value can be typed, though they have to be object references, not primitives.)</p>\n<p>The compiler directly knows about <code>java.util.function.BiFunction</code> and its smaller kin, as can be seen in the disassembly of the above <code>main</code>:</p>\n<pre><code>     0: invokedynamic #17,  0             // InvokeDynamic #0:apply:()Ljava/util/function/BiFunction;\n     5: astore_1\n     6: getstatic     #21                 // Field java/lang/System.out:Ljava/io/PrintStream;\n     9: aload_1\n    10: ldc2_w        #27                 // double 2.0d\n    13: invokestatic  #13                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;\n    16: ldc2_w        #29                 // double 3.0d\n    19: invokestatic  #13                 // Method java/lang/Double.valueOf:(D)Ljava/lang/Double;\n    22: invokeinterface #31,  3           // InterfaceMethod java/util/function/BiFunction.apply:(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;\n    27: invokevirtual #36                 // Method java/io/PrintStream.println:(Ljava/lang/Object;)V\n    30: return\n</code></pre>\n<p>There is, however, no <code>java.util.function.TriFunction</code>.</p>\n<p>How do you set up a callback with three parameters?</p>\n"},{"tags":["java","spring-boot","maven","junit","jaxb"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1673190374,"post_id":75048741,"comment_id":132437824,"body_markdown":"You never read from the file. Your code attempts to parse the file name as xml.","body":"You never read from the file. Your code attempts to parse the file name as xml."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673190404,"post_id":75048741,"comment_id":132437835,"body_markdown":"Also: Please post you code as text, not as screenshots.","body":"Also: Please post you code as text, not as screenshots."},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1673194709,"post_id":75048741,"comment_id":132438749,"body_markdown":"Please include also the xml you are using for test.","body":"Please include also the xml you are using for test."}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673255313,"creation_date":1673203918,"answer_id":75050461,"question_id":75048741,"body_markdown":"Taking the xml you are using for tests (I omitted non significative tags from code, up to you integrate them):\r\n\r\n~~~\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;ns2:bookStore xmlns:ns2=&quot;com.zetcode&quot;&gt;\r\n    &lt;bookList&gt;\r\n        &lt;book AuthorName=&quot;Neil Strauss&quot;&gt;\r\n            &lt;title&gt;The Game&lt;/title&gt;\r\n            &lt;publisher&gt;Harpercollins&lt;/publisher&gt;\r\n            &lt;isbn&gt;978-0060554736&lt;/isbn&gt;\r\n        &lt;/book&gt;\r\n        &lt;book AuthorName=&quot;Charlotte Roche&quot;&gt;\r\n            &lt;title&gt;Feuchtgebiete&lt;/title&gt;\r\n            &lt;publisher&gt;Dumont Buchverlag&lt;/publisher&gt;\r\n            &lt;isbn&gt;978-3832180577&lt;/isbn&gt;\r\n        &lt;/book&gt;\r\n    &lt;/bookList&gt;\r\n    &lt;location&gt;Livres belles&lt;/location&gt;\r\n    &lt;name&gt;Fraport Bookstore&lt;/name&gt;\r\n&lt;/ns2:bookStore&gt;\r\n~~~\r\n\r\nThe first problem is about the presence of `&lt;ns2:bookStore xmlns:ns2=&quot;com.zetcode&quot;&gt;` tag, you have to define a `BookStore`wrapper class matching the `&lt;bookStore&gt;` tag to wrap the `&lt;bookList&gt;` tag using the [`XmlRootElement`](https://docs.oracle.com/javase/7/docs/api/javax/xml/bind/annotation/XmlRootElement.html) annotation:\r\n\r\n~~~\r\n@Data //&lt;--lombok annotation\r\n@XmlRootElement(name=&quot;bookStore&quot;, namespace = &quot;com.zetcode&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD) //&lt;-- used for permit access to fields\r\npublic class BookStore {\r\n\r\n    public BookList bookList;\r\n}\r\n~~~  \r\nYou have to repeat the same process for the `bookList` tag being aware it contains a list of books with the help of the [`XmlElement`](https://docs.oracle.com/javase/7/docs/api/javax/xml/bind/annotation/XmlElement.html) annotation which specifies every book is an element of the list:\r\n\r\n~~~\r\n@Data \r\n@XmlRootElement(name=&quot;bookList&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class BookList {\r\n\r\n    @XmlElement(name = &quot;book&quot;)\r\n    private List&lt;Book&gt; books;   \r\n}\r\n\r\n@Data\r\n@XmlRootElement(name = &quot;book&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(propOrder = {&quot;author&quot;, &quot;name&quot;, &quot;publisher&quot;, &quot;isbn&quot;})\r\npublic class Book {\r\n\r\n    private String name;\r\n    private String author;\r\n    private String publisher;\r\n    private String isbn;\r\n}\r\n~~~\r\n\r\nThen you can verify that everything is ok unmarshalling and marshalling the xml, printing it to the stdout :\r\n\r\n~~~\r\npublic class JaxbMain {\r\n\r\n    public static void main(String[] args) throws JAXBException {\r\n        File xml = new File(&quot;msg.xml&quot;);\r\n        //unmarshalling the xml\r\n        JAXBContext jc = JAXBContext.newInstance(BookStore.class);\r\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\r\n        BookStore bookStore = (BookStore) unmarshaller.unmarshal(xml);\r\n\r\n        //marshalling the xml to the stdout\r\n        Marshaller marshaller = jc.createMarshaller();\r\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n        //ok it prints the same xml\r\n        marshaller.marshal(bookStore, System.out);\r\n    }\r\n}\r\n~~~\r\n\r\nPom.xml:\r\n~~~\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n~~~","title":"The output is showing error when I convert xml into java object using JAXBException","body":"<p>Taking the xml you are using for tests (I omitted non significative tags from code, up to you integrate them):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;ns2:bookStore xmlns:ns2=&quot;com.zetcode&quot;&gt;\n    &lt;bookList&gt;\n        &lt;book AuthorName=&quot;Neil Strauss&quot;&gt;\n            &lt;title&gt;The Game&lt;/title&gt;\n            &lt;publisher&gt;Harpercollins&lt;/publisher&gt;\n            &lt;isbn&gt;978-0060554736&lt;/isbn&gt;\n        &lt;/book&gt;\n        &lt;book AuthorName=&quot;Charlotte Roche&quot;&gt;\n            &lt;title&gt;Feuchtgebiete&lt;/title&gt;\n            &lt;publisher&gt;Dumont Buchverlag&lt;/publisher&gt;\n            &lt;isbn&gt;978-3832180577&lt;/isbn&gt;\n        &lt;/book&gt;\n    &lt;/bookList&gt;\n    &lt;location&gt;Livres belles&lt;/location&gt;\n    &lt;name&gt;Fraport Bookstore&lt;/name&gt;\n&lt;/ns2:bookStore&gt;\n</code></pre>\n<p>The first problem is about the presence of <code>&lt;ns2:bookStore xmlns:ns2=&quot;com.zetcode&quot;&gt;</code> tag, you have to define a <code>BookStore</code>wrapper class matching the <code>&lt;bookStore&gt;</code> tag to wrap the <code>&lt;bookList&gt;</code> tag using the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/bind/annotation/XmlRootElement.html\" rel=\"nofollow noreferrer\"><code>XmlRootElement</code></a> annotation:</p>\n<pre><code>@Data //&lt;--lombok annotation\n@XmlRootElement(name=&quot;bookStore&quot;, namespace = &quot;com.zetcode&quot;)\n@XmlAccessorType(XmlAccessType.FIELD) //&lt;-- used for permit access to fields\npublic class BookStore {\n\n    public BookList bookList;\n}\n</code></pre>\n<p>You have to repeat the same process for the <code>bookList</code> tag being aware it contains a list of books with the help of the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/bind/annotation/XmlElement.html\" rel=\"nofollow noreferrer\"><code>XmlElement</code></a> annotation which specifies every book is an element of the list:</p>\n<pre><code>@Data \n@XmlRootElement(name=&quot;bookList&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class BookList {\n\n    @XmlElement(name = &quot;book&quot;)\n    private List&lt;Book&gt; books;   \n}\n\n@Data\n@XmlRootElement(name = &quot;book&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(propOrder = {&quot;author&quot;, &quot;name&quot;, &quot;publisher&quot;, &quot;isbn&quot;})\npublic class Book {\n\n    private String name;\n    private String author;\n    private String publisher;\n    private String isbn;\n}\n</code></pre>\n<p>Then you can verify that everything is ok unmarshalling and marshalling the xml, printing it to the stdout :</p>\n<pre><code>public class JaxbMain {\n\n    public static void main(String[] args) throws JAXBException {\n        File xml = new File(&quot;msg.xml&quot;);\n        //unmarshalling the xml\n        JAXBContext jc = JAXBContext.newInstance(BookStore.class);\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        BookStore bookStore = (BookStore) unmarshaller.unmarshal(xml);\n\n        //marshalling the xml to the stdout\n        Marshaller marshaller = jc.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        //ok it prints the same xml\n        marshaller.marshal(bookStore, System.out);\n    }\n}\n</code></pre>\n<p>Pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.20&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":27180609,"reputation":19,"user_id":20715915,"display_name":"SGP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673255313,"creation_date":1673189679,"question_id":75048741,"body_markdown":"In src/main/java, I have POJO classes and in src/test/resource I have XML file. I&#39;m writing a Junit test case where I have to parse the XML file into POJOs using JAXBException and then I have to check whether the variables are null or not.\r\n\r\nI created a test class and added the asseertNotNull statement but after running the code as &quot;Junit test&quot; I&#39;m getting some errors.\r\n\r\nJava Class :-\r\n\r\n    package com.examples.demo;\r\n\r\n    import javax.xml.bind.annotation.XmlAttribute;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n\r\n    @XmlRootElement(name = &quot;book&quot;)\r\n\r\n    // Defining order\r\n    @XmlType(propOrder = { &quot;author&quot;, &quot;name&quot;, &quot;publisher&quot;, &quot;isbn&quot; })\r\n    public class Book {\r\n\r\n\t    private String name;\r\n\t    private String author;\r\n\t    private String publisher;\r\n\t    private String isbn;\r\n\r\n\t    // Changing to title\r\n\t    @XmlElement(name = &quot;title&quot;)\r\n\t    public String getName() {\r\n\t\t    return name;\r\n\t    }\r\n\r\n\t    public void setName(String name) {\r\n\t\t    this.name = name;\r\n\t    }\r\n\r\n\t    @XmlAttribute(name = &quot;AuthorName&quot;)\r\n\t    public String getAuthor() {\r\n\t\t    return author;\r\n\t    }\r\n\r\n\t    public void setAuthor(String author) {\r\n\t\t    this.author = author;\r\n\t    }\r\n\r\n\t    @XmlElement(name = &quot;publisher&quot;)\r\n\t    public String getPublisher() {\r\n\t\t    return publisher;\r\n\t    }\r\n\r\n\t    public void setPublisher(String publisher) {\r\n\t\t    this.publisher = publisher;\r\n\t    }\r\n\r\n\t    @XmlElement(name = &quot;isbn&quot;)\r\n\t    public String getIsbn() {\r\n\t\t    return isbn;\r\n\t    }\r\n\r\n\t    public void setIsbn(String isbn) {\r\n\t\t    this.isbn = isbn;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public String toString() {\r\n\t\t    final StringBuilder sb = new StringBuilder(&quot;Book{&quot;);\r\n\t\t    sb.append(&quot;name=&#39;&quot;).append(name).append(&#39;\\&#39;&#39;);\r\n\t\t    sb.append(&quot;, author=&#39;&quot;).append(author).append(&#39;\\&#39;&#39;);\r\n\t\t    sb.append(&quot;, publisher=&#39;&quot;).append(publisher).append(&#39;\\&#39;&#39;);\r\n\t\t    sb.append(&quot;, isbn=&#39;&quot;).append(isbn).append(&#39;\\&#39;&#39;);\r\n\t\t    sb.append(&#39;}&#39;);\r\n\t\t    return sb.toString();\r\n\t    }\r\n    }\r\n\r\n\r\nTest Class :-\r\n\r\n    package com.examples.demo;\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertNotNull;\r\n\r\n    import java.io.IOException;\r\n    import java.io.StringReader;\r\n\r\n    import javax.xml.bind.JAXBException;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    import jakarta.xml.bind.JAXBContext;\r\n\r\n    public class BookTest {\r\n\r\n\t    private static final String BOOKSTORE_XML = &quot;src/test/resources/bookstore.xml&quot;;\r\n\r\n\t    @Test\r\n\t    public void oneDemo() throws JAXBException, IOException, jakarta.xml.bind.JAXBException {\r\n\t\t    JAXBContext context = JAXBContext.newInstance(BookStore.class);\r\n\t\t    BookStore bookStore = (BookStore) context.createUnmarshaller().unmarshal(new StringReader(BOOKSTORE_XML));\r\n\r\n\t\t    String name = bookStore.getName();\r\n\t\tassertNotNull(name);\r\n\r\n\t    }\r\n\r\n    }\r\n\r\nXML file :-\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;ns2:bookStore xmlns:ns2=&quot;com.zetcode&quot;&gt;\r\n        &lt;bookList&gt;\r\n            &lt;book AuthorName=&quot;Neil Strauss&quot;&gt;\r\n                &lt;title&gt;The Game&lt;/title&gt;\r\n                &lt;publisher&gt;Harpercollins&lt;/publisher&gt;\r\n                &lt;isbn&gt;978-0060554736&lt;/isbn&gt;\r\n            &lt;/book&gt;\r\n            &lt;book AuthorName=&quot;Charlotte Roche&quot;&gt;\r\n                &lt;title&gt;Feuchtgebiete&lt;/title&gt;\r\n                &lt;publisher&gt;Dumont Buchverlag&lt;/publisher&gt;\r\n                &lt;isbn&gt;978-3832180577&lt;/isbn&gt;\r\n            &lt;/book&gt;\r\n        &lt;/bookList&gt;\r\n        &lt;location&gt;Livres belles&lt;/location&gt;\r\n        &lt;name&gt;Fraport Bookstore&lt;/name&gt;\r\n    &lt;/ns2:bookStore&gt;\r\n\r\n\r\n\r\n[![errors](https://i.stack.imgur.com/9ttvB.png)](https://i.stack.imgur.com/9ttvB.png)\r\n\r\n\r\n\r\nHow to solve this? please help me\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eS3gM.png","title":"The output is showing error when I convert xml into java object using JAXBException","body":"<p>In src/main/java, I have POJO classes and in src/test/resource I have XML file. I'm writing a Junit test case where I have to parse the XML file into POJOs using JAXBException and then I have to check whether the variables are null or not.</p>\n<p>I created a test class and added the asseertNotNull statement but after running the code as &quot;Junit test&quot; I'm getting some errors.</p>\n<p>Java Class :-</p>\n<pre><code>package com.examples.demo;\n\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlRootElement(name = &quot;book&quot;)\n\n// Defining order\n@XmlType(propOrder = { &quot;author&quot;, &quot;name&quot;, &quot;publisher&quot;, &quot;isbn&quot; })\npublic class Book {\n\n    private String name;\n    private String author;\n    private String publisher;\n    private String isbn;\n\n    // Changing to title\n    @XmlElement(name = &quot;title&quot;)\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @XmlAttribute(name = &quot;AuthorName&quot;)\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    @XmlElement(name = &quot;publisher&quot;)\n    public String getPublisher() {\n        return publisher;\n    }\n\n    public void setPublisher(String publisher) {\n        this.publisher = publisher;\n    }\n\n    @XmlElement(name = &quot;isbn&quot;)\n    public String getIsbn() {\n        return isbn;\n    }\n\n    public void setIsbn(String isbn) {\n        this.isbn = isbn;\n    }\n\n    @Override\n    public String toString() {\n        final StringBuilder sb = new StringBuilder(&quot;Book{&quot;);\n        sb.append(&quot;name='&quot;).append(name).append('\\'');\n        sb.append(&quot;, author='&quot;).append(author).append('\\'');\n        sb.append(&quot;, publisher='&quot;).append(publisher).append('\\'');\n        sb.append(&quot;, isbn='&quot;).append(isbn).append('\\'');\n        sb.append('}');\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>Test Class :-</p>\n<pre><code>package com.examples.demo;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\nimport java.io.IOException;\nimport java.io.StringReader;\n\nimport javax.xml.bind.JAXBException;\n\nimport org.junit.jupiter.api.Test;\n\nimport jakarta.xml.bind.JAXBContext;\n\npublic class BookTest {\n\n    private static final String BOOKSTORE_XML = &quot;src/test/resources/bookstore.xml&quot;;\n\n    @Test\n    public void oneDemo() throws JAXBException, IOException, jakarta.xml.bind.JAXBException {\n        JAXBContext context = JAXBContext.newInstance(BookStore.class);\n        BookStore bookStore = (BookStore) context.createUnmarshaller().unmarshal(new StringReader(BOOKSTORE_XML));\n\n        String name = bookStore.getName();\n    assertNotNull(name);\n\n    }\n\n}\n</code></pre>\n<p>XML file :-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;ns2:bookStore xmlns:ns2=&quot;com.zetcode&quot;&gt;\n    &lt;bookList&gt;\n        &lt;book AuthorName=&quot;Neil Strauss&quot;&gt;\n            &lt;title&gt;The Game&lt;/title&gt;\n            &lt;publisher&gt;Harpercollins&lt;/publisher&gt;\n            &lt;isbn&gt;978-0060554736&lt;/isbn&gt;\n        &lt;/book&gt;\n        &lt;book AuthorName=&quot;Charlotte Roche&quot;&gt;\n            &lt;title&gt;Feuchtgebiete&lt;/title&gt;\n            &lt;publisher&gt;Dumont Buchverlag&lt;/publisher&gt;\n            &lt;isbn&gt;978-3832180577&lt;/isbn&gt;\n        &lt;/book&gt;\n    &lt;/bookList&gt;\n    &lt;location&gt;Livres belles&lt;/location&gt;\n    &lt;name&gt;Fraport Bookstore&lt;/name&gt;\n&lt;/ns2:bookStore&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9ttvB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ttvB.png\" alt=\"errors\" /></a></p>\n<p>How to solve this? please help me</p>\n"},{"tags":["java","system.out"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":4,"creation_date":1673252280,"post_id":75054597,"comment_id":132447908,"body_markdown":"Do not catch exceptions without handle it","body":"Do not catch exceptions without handle it"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1673252333,"post_id":75054597,"comment_id":132447923,"body_markdown":"No, printing does not affect the value of variables. (unless your classes have a ***very*** weird `toString()` implementation, `int` certainly does not have that)","body":"No, printing does not affect the value of variables. (unless your classes have a <b><i>very</i></b> weird <code>toString()</code> implementation, <code>int</code> certainly does not have that)"},{"owner":{"account_id":4401107,"reputation":1326,"user_id":4257751,"accept_rate":62,"display_name":"Karim Tawfik"},"score":0,"creation_date":1673252981,"post_id":75054597,"comment_id":132448091,"body_markdown":"Regardless the logic you are trying to implement, this code is incorrect, as it should be throwing NPE, due to the fact that you are using recursion, however there is no stopping condition, in your code you are swallowing the exception.\nAnd no priting doesn&#39;t affect the variables, unless you are doing on the fly assignment (e.g. `System.out.println((i+=2));`","body":"Regardless the logic you are trying to implement, this code is incorrect, as it should be throwing NPE, due to the fact that you are using recursion, however there is no stopping condition, in your code you are swallowing the exception. And no priting doesn&#39;t affect the variables, unless you are doing on the fly assignment (e.g. <code>System.out.println((i+=2));</code>"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1673253039,"post_id":75054597,"comment_id":132448113,"body_markdown":"The answer is simple: No. You did not include enough code to make a meaningful remark about what is causing what you&#39;re observing. But it isn&#39;t &#39;println changing variables&#39;.","body":"The answer is simple: No. You did not include enough code to make a meaningful remark about what is causing what you&#39;re observing. But it isn&#39;t &#39;println changing variables&#39;."},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1673255200,"post_id":75054597,"comment_id":132448728,"body_markdown":"This code looks like a great puzzler for job interview .","body":"This code looks like a great puzzler for job interview ."}],"answers":[{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673255171,"creation_date":1673254760,"answer_id":75054999,"question_id":75054597,"body_markdown":"The printing is not the cause of the different behaviour but the access of `j.val` is.\r\n\r\nIf you had proper null-checks in your code, e.g. `if (j == null) { return 0; }` in the beginning of the method this would not happen.\r\n\r\nIn the first snippet if you call the method with `j = null` you get an NPE in the `try`, catch it, ignore it and then return 1. The caller will get the 1, add 1 and then `return 2`.\r\n\r\nIn the second snippet if you call the method with `j = null` you once again get an NPE in the try, ignore it, then continue to the `print` which raises another NPE which is then thrown from the method and the recursive caller will catch it and *not* perform the `ans = ... + 1` successfully but simply `return 1`. \r\n\r\nTherefore you have a different behaviour between the two snippets. **But this is entirely unrelated to printing itself**.","title":"Does print statement in java effect any variables (without using increment)?","body":"<p>The printing is not the cause of the different behaviour but the access of <code>j.val</code> is.</p>\n<p>If you had proper null-checks in your code, e.g. <code>if (j == null) { return 0; }</code> in the beginning of the method this would not happen.</p>\n<p>In the first snippet if you call the method with <code>j = null</code> you get an NPE in the <code>try</code>, catch it, ignore it and then return 1. The caller will get the 1, add 1 and then <code>return 2</code>.</p>\n<p>In the second snippet if you call the method with <code>j = null</code> you once again get an NPE in the try, ignore it, then continue to the <code>print</code> which raises another NPE which is then thrown from the method and the recursive caller will catch it and <em>not</em> perform the <code>ans = ... + 1</code> successfully but simply <code>return 1</code>.</p>\n<p>Therefore you have a different behaviour between the two snippets. <strong>But this is entirely unrelated to printing itself</strong>.</p>\n"}],"owner":{"account_id":26535125,"reputation":5,"user_id":20166766,"display_name":"Jagnath reddy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673260418,"accepted_answer_id":75054999,"answer_count":1,"score":0,"last_activity_date":1673255171,"creation_date":1673252006,"question_id":75054597,"body_markdown":"I was trying out the leetcode problem [here](https://leetcode.com/problems/diameter-of-binary-tree/description/) \r\n\r\nthe code i wrote is\r\n\r\n```\r\npublic int toLeaf(TreeNode j){\r\n        int ans=1;\r\n        try{\r\n            ans= Math.max(toLeaf(j.left),toLeaf(j.right))+1;\r\n        }catch(Exception e){\r\n\r\n        }\r\n        return ans;\r\n    }\r\n    public int diameterOfBinaryTree(TreeNode root) {\r\n        return toLeaf(root);\r\n    }\r\n```\r\nwhich gave me wrong answer but as soon as added a print statment i got correct answers on the sample testcases\r\n\r\n```\r\npublic int toLeaf(TreeNode j){\r\n        int ans=1;\r\n        try{\r\n            ans= Math.max(toLeaf(j.left),toLeaf(j.right))+1;\r\n        }catch(Exception e){\r\n\r\n        }\r\n        System.out.println(j.val+&quot; &quot;+ans);  //here\r\n        return ans;\r\n    }\r\n    public int diameterOfBinaryTree(TreeNode root) {\r\n        return toLeaf(root);\r\n    }\r\n\r\n```\r\nwhat is the reason behind this?\r\n[here is the screenshot](https://i.stack.imgur.com/5eSiK.png)\r\n[rejected](https://i.stack.imgur.com/2OvGY.png)\r\n\r\n\r\n","title":"Does print statement in java effect any variables (without using increment)?","body":"<p>I was trying out the leetcode problem <a href=\"https://leetcode.com/problems/diameter-of-binary-tree/description/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>the code i wrote is</p>\n<pre><code>public int toLeaf(TreeNode j){\n        int ans=1;\n        try{\n            ans= Math.max(toLeaf(j.left),toLeaf(j.right))+1;\n        }catch(Exception e){\n\n        }\n        return ans;\n    }\n    public int diameterOfBinaryTree(TreeNode root) {\n        return toLeaf(root);\n    }\n</code></pre>\n<p>which gave me wrong answer but as soon as added a print statment i got correct answers on the sample testcases</p>\n<pre><code>public int toLeaf(TreeNode j){\n        int ans=1;\n        try{\n            ans= Math.max(toLeaf(j.left),toLeaf(j.right))+1;\n        }catch(Exception e){\n\n        }\n        System.out.println(j.val+&quot; &quot;+ans);  //here\n        return ans;\n    }\n    public int diameterOfBinaryTree(TreeNode root) {\n        return toLeaf(root);\n    }\n\n</code></pre>\n<p>what is the reason behind this?\n<a href=\"https://i.stack.imgur.com/5eSiK.png\" rel=\"nofollow noreferrer\">here is the screenshot</a>\n<a href=\"https://i.stack.imgur.com/2OvGY.png\" rel=\"nofollow noreferrer\">rejected</a></p>\n"},{"tags":["java","log4j","dynamic-data"],"answers":[{"tags":[],"owner":{"account_id":776367,"reputation":811,"user_id":826257,"display_name":"Big B"},"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1309687784,"creation_date":1309627982,"answer_id":6558539,"question_id":2810926,"body_markdown":"It&#39;s much easier to do the following:\r\n\r\n\r\nIn log4j.xml define variable as ${variable}:\r\n\r\n\t&lt;appender name=&quot;FILE&quot; class=&quot;org.apache.log4j.FileAppender&quot;&gt;\t\r\n\t\t&lt;param name=&quot;File&quot; value=&quot;${logfilename}.log&quot; /&gt;\r\n\t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n\t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d::[%t]::%-5p::%c::%x - %m%n&quot; /&gt;\r\n\t\t&lt;/layout&gt;\t\t\r\n\t&lt;/appender&gt;\r\n\r\nThen make sure you set the system property when you start your JVM such as:\r\n\r\n    java -Dlogfilename=my_fancy_filename  example.Application\r\n\r\nThat will create a dynamic log file name:  `my_fancy_filename.log`\r\n\r\n\r\nAlternatively, you can set the system property in code so long as you do it before you create a logger (this is useful if you want your PID in your logs for instance). Such as:\r\n\r\n    System.setProperty(&quot;logfilename&quot;, &quot;a_cool_logname&quot;);\r\n\r\nOnce that is set you can go ahead and get your loggers as normal and they will log to the dynamic file (be careful of those static Loggers that create loggers before your main method executes).","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>It's much easier to do the following:</p>\n\n<p>In log4j.xml define variable as ${variable}:</p>\n\n<pre><code>&lt;appender name=\"FILE\" class=\"org.apache.log4j.FileAppender\"&gt;    \n    &lt;param name=\"File\" value=\"${logfilename}.log\" /&gt;\n    &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n        &lt;param name=\"ConversionPattern\" value=\"%d::[%t]::%-5p::%c::%x - %m%n\" /&gt;\n    &lt;/layout&gt;       \n&lt;/appender&gt;\n</code></pre>\n\n<p>Then make sure you set the system property when you start your JVM such as:</p>\n\n<pre><code>java -Dlogfilename=my_fancy_filename  example.Application\n</code></pre>\n\n<p>That will create a dynamic log file name:  <code>my_fancy_filename.log</code></p>\n\n<p>Alternatively, you can set the system property in code so long as you do it before you create a logger (this is useful if you want your PID in your logs for instance). Such as:</p>\n\n<pre><code>System.setProperty(\"logfilename\", \"a_cool_logname\");\n</code></pre>\n\n<p>Once that is set you can go ahead and get your loggers as normal and they will log to the dynamic file (be careful of those static Loggers that create loggers before your main method executes).</p>\n"},{"tags":[],"owner":{"account_id":1394773,"reputation":51,"user_id":1324767,"display_name":"Nik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1351501720,"creation_date":1334081361,"answer_id":10094098,"question_id":2810926,"body_markdown":"It makes more sense to extend `FileAppender` with your own class, in which you override `setOptions()` method. Then in your `log4j.properties` you configure root to log to `yourpackage.yourFileAppender`, which is much cleaner.","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>It makes more sense to extend <code>FileAppender</code> with your own class, in which you override <code>setOptions()</code> method. Then in your <code>log4j.properties</code> you configure root to log to <code>yourpackage.yourFileAppender</code>, which is much cleaner.</p>\n"},{"tags":[],"owner":{"account_id":1757979,"reputation":1367,"user_id":1605761,"accept_rate":25,"display_name":"Utsav Chokshi"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1578023653,"creation_date":1395220327,"answer_id":22500931,"question_id":2810926,"body_markdown":"Below is my code for using Log4J for dynamically generate filename.\r\nIt changes its name according to input file name and current date-time. (So helpful in case you run same file multiple times.)\r\n\r\n    public class LogClass {\r\n    \t\r\n    \tprivate static Logger log =  Logger.getLogger(LogClass.class);\r\n    \tprivate static boolean initializationFlag = false;\r\n    \tprivate static String fileName;\r\n    \t\r\n    \tprivate static void intializeLogger(){\r\n    \t\tlog.setLevel(Level.DEBUG);\r\n    \t\t\r\n    \t\tDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\r\n    \t\tDate date = new Date();\r\n    \t\t\r\n    \t\tRollingFileAppender appender = new RollingFileAppender();\r\n    \t\tappender.setAppend(true);\r\n    \t\tappender.setMaxFileSize(&quot;1MB&quot;);\r\n    \t\tappender.setMaxBackupIndex(1);\r\n    \t\tappender.setFile(fileName + &quot;_&quot; + dateFormat.format(date) + &quot;.log&quot;);\r\n    \t\tappender.activateOptions();\r\n\r\n    \t\tPatternLayout layOut = new PatternLayout();\r\n    \t\tlayOut.setConversionPattern(&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n&quot;);\r\n    \t\tappender.setLayout(layOut);\r\n    \t\t\r\n    \t\tlog.addAppender(appender);\r\n    \t}\r\n    \t\r\n    \tpublic static Logger getLogger(){\r\n    \t\tif(initializationFlag == false){\r\n    \t\t\tintializeLogger();\r\n    \t\t\tinitializationFlag = true;\r\n    \t\t\treturn LogClass.log;\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\treturn LogClass.log;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void setFileName(String fileName){\r\n    \t\tLogClass.fileName = fileName;\r\n    \t}\r\n    }\r\n\r\nNow whenever you want to use logger in your program,\r\nJust write these two lines :\r\n\r\n    LogClass.setFileName(yourFileName);\r\n\tLogClass.getLogger().debug(&quot;hello!!&quot;);\r\n\r\nHappy Coding.\r\n\r\n \r\n","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>Below is my code for using Log4J for dynamically generate filename.\nIt changes its name according to input file name and current date-time. (So helpful in case you run same file multiple times.)</p>\n\n<pre><code>public class LogClass {\n\n    private static Logger log =  Logger.getLogger(LogClass.class);\n    private static boolean initializationFlag = false;\n    private static String fileName;\n\n    private static void intializeLogger(){\n        log.setLevel(Level.DEBUG);\n\n        DateFormat dateFormat = new SimpleDateFormat(\"dd/MM/yyyy HH:mm:ss\");\n        Date date = new Date();\n\n        RollingFileAppender appender = new RollingFileAppender();\n        appender.setAppend(true);\n        appender.setMaxFileSize(\"1MB\");\n        appender.setMaxBackupIndex(1);\n        appender.setFile(fileName + \"_\" + dateFormat.format(date) + \".log\");\n        appender.activateOptions();\n\n        PatternLayout layOut = new PatternLayout();\n        layOut.setConversionPattern(\"%d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\");\n        appender.setLayout(layOut);\n\n        log.addAppender(appender);\n    }\n\n    public static Logger getLogger(){\n        if(initializationFlag == false){\n            intializeLogger();\n            initializationFlag = true;\n            return LogClass.log;\n        }\n        else{\n            return LogClass.log;\n        }\n    }\n\n    public static void setFileName(String fileName){\n        LogClass.fileName = fileName;\n    }\n}\n</code></pre>\n\n<p>Now whenever you want to use logger in your program,\nJust write these two lines :</p>\n\n<pre><code>LogClass.setFileName(yourFileName);\nLogClass.getLogger().debug(\"hello!!\");\n</code></pre>\n\n<p>Happy Coding.</p>\n"},{"tags":[],"owner":{"account_id":5776348,"reputation":2162,"user_id":4558302,"accept_rate":67,"display_name":"Bopsi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473256738,"creation_date":1473256738,"answer_id":39371965,"question_id":2810926,"body_markdown":"In your class containing main method set the name of your class to some system property. In following example I used `log_dir` as property name.\r\n\r\n    class ABC{\r\n     public static void main(String s[]){\r\n      System.setProperty(&quot;log_dir&quot;, ABC.class.getSimpleName());\r\n     }\r\n    }\r\n\r\nAnd in your log4j.xml file use `log_dir` property in File param&#39;s value attribute\r\n\r\n    &lt;appender name=&quot;FA&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n      &lt;param name=&quot;DatePattern&quot; value=&quot;&#39;_&#39;yyyyMMdd&quot;/&gt;\r\n      &lt;param name=&quot;File&quot; value=&quot;D:/logFiles/${log_dir}&quot;/&gt;\r\n      &lt;layout class=&quot;com.dnb.genericpreprocessor.common.log.AppXMLLayout&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\nWorks like a charm","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>In your class containing main method set the name of your class to some system property. In following example I used <code>log_dir</code> as property name.</p>\n\n<pre><code>class ABC{\n public static void main(String s[]){\n  System.setProperty(\"log_dir\", ABC.class.getSimpleName());\n }\n}\n</code></pre>\n\n<p>And in your log4j.xml file use <code>log_dir</code> property in File param's value attribute</p>\n\n<pre><code>&lt;appender name=\"FA\" class=\"org.apache.log4j.DailyRollingFileAppender\"&gt;\n  &lt;param name=\"DatePattern\" value=\"'_'yyyyMMdd\"/&gt;\n  &lt;param name=\"File\" value=\"D:/logFiles/${log_dir}\"/&gt;\n  &lt;layout class=\"com.dnb.genericpreprocessor.common.log.AppXMLLayout\"/&gt;\n&lt;/appender&gt;\n</code></pre>\n\n<p>Works like a charm</p>\n"},{"tags":[],"owner":{"account_id":11711219,"reputation":497,"user_id":8573084,"display_name":"manikanta nvsr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586349313,"creation_date":1586349313,"answer_id":61100805,"question_id":2810926,"body_markdown":"Before executing anything, log4j thoroughly checks the class path for log4j.xml configuration file. Let&#39;say, by chance, if there is any log4j.xml configuration file in the library jars you referenced in your project, log4j loads that file as the configuration file and starts logging. In this context, when you are setting log file location in your FileAppender dynamically by getting the value from System properties as suggested by @Big B, it will not work since log4j had already loaded the configuration file it discovered first.\r\n\r\nTo prevent this, you can use `DOMConfigurator` to inform log4j what configuration file it should load and when it should load. So, as soon as you set the system property of LogFileLocation in your program use DOMConfigurator to load intended properties file in the following way:\r\n\r\n\r\n    System.setProperty(&quot;LogFileLocation&quot;, &quot;D:Test/Logdetails&quot;));\r\n    DOMConfigurator.configure(&quot;log4j.xml&quot;);\r\n\r\nBy doing this way, you will load log4j.xml after you set the system property LogFileLocation in your program. (It will also override the already loaded configuration)\r\n\r\nInside the log4j.xml configuration, you set the file location in the param tag &#39;File&#39;:\r\n\r\n    &lt;appender name=&quot;fileAppender&quot;\r\n    \t\tclass=&quot;org.apache.log4j.FileAppender&quot;&gt;\r\n    \t\t&lt;param name=&quot;File&quot; value=&quot;${LogFileLocation}.log&quot; /&gt;\r\n    \t\t&lt;param name=&quot;Append&quot; value=&quot;false&quot; /&gt; \r\n    &lt;!-- false will make the log to override the file. true will make the log to append to the file --&gt;\r\n    \t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n    \t\t\t&lt;param name=&quot;ConversionPattern&quot;\r\n    \t\t\t\tvalue=&quot;%d{dd/MM/yyyy HH:mm:ss} %-5p %c{2} \r\n    \t\t- %m%n&quot; /&gt;\r\n    \t\t&lt;/layout&gt;\r\n    \t&lt;/appender&gt;\r\n\r\nTo understand whatever I said better, provide `-Dlog4j.debug=true` in your VM arguments and see the log of log4j execution in your console.","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>Before executing anything, log4j thoroughly checks the class path for log4j.xml configuration file. Let'say, by chance, if there is any log4j.xml configuration file in the library jars you referenced in your project, log4j loads that file as the configuration file and starts logging. In this context, when you are setting log file location in your FileAppender dynamically by getting the value from System properties as suggested by @Big B, it will not work since log4j had already loaded the configuration file it discovered first.</p>\n\n<p>To prevent this, you can use <code>DOMConfigurator</code> to inform log4j what configuration file it should load and when it should load. So, as soon as you set the system property of LogFileLocation in your program use DOMConfigurator to load intended properties file in the following way:</p>\n\n<pre><code>System.setProperty(\"LogFileLocation\", \"D:Test/Logdetails\"));\nDOMConfigurator.configure(\"log4j.xml\");\n</code></pre>\n\n<p>By doing this way, you will load log4j.xml after you set the system property LogFileLocation in your program. (It will also override the already loaded configuration)</p>\n\n<p>Inside the log4j.xml configuration, you set the file location in the param tag 'File':</p>\n\n<pre><code>&lt;appender name=\"fileAppender\"\n        class=\"org.apache.log4j.FileAppender\"&gt;\n        &lt;param name=\"File\" value=\"${LogFileLocation}.log\" /&gt;\n        &lt;param name=\"Append\" value=\"false\" /&gt; \n&lt;!-- false will make the log to override the file. true will make the log to append to the file --&gt;\n        &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n            &lt;param name=\"ConversionPattern\"\n                value=\"%d{dd/MM/yyyy HH:mm:ss} %-5p %c{2} \n        - %m%n\" /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n</code></pre>\n\n<p>To understand whatever I said better, provide <code>-Dlog4j.debug=true</code> in your VM arguments and see the log of log4j execution in your console.</p>\n"},{"tags":[],"owner":{"account_id":1558549,"reputation":167,"user_id":1448980,"accept_rate":0,"display_name":"ashah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673254686,"creation_date":1673254686,"answer_id":75054984,"question_id":2810926,"body_markdown":"For me it worked only after I used ${sys: ...  as below. Without that it was not picking up that variable set in java command.\r\n\r\n    &lt;param name=&quot;File&quot; value=&quot;${sys:logfilename}.log&quot; /&gt;\r\n\r\n","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>For me it worked only after I used ${sys: ...  as below. Without that it was not picking up that variable set in java command.</p>\n<pre><code>&lt;param name=&quot;File&quot; value=&quot;${sys:logfilename}.log&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":612152,"reputation":241,"user_id":338298,"display_name":"Bittu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102803,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":6,"score":24,"last_activity_date":1673254686,"creation_date":1273583484,"question_id":2810926,"body_markdown":"I am using log4j to log information. I have used a `log4j.xml` file for creating log files. I have given the absolute path for each log file as a `param` tag value.\r\n\r\nE.g.:\r\n\r\n    &lt;appender name=&quot;FA&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n      &lt;param name=&quot;DatePattern&quot; value=&quot;&#39;_&#39;yyyyMMdd&quot;/&gt;\r\n      &lt;param name=&quot;File&quot; value=&quot;D:/logFiles/GPreprocessor.log&quot;/&gt;\r\n      &lt;layout class=&quot;com.dnb.genericpreprocessor.common.log.AppXMLLayout&quot;/&gt;\r\n    &lt;/appender&gt;\r\n\r\nI do not want to write &quot;GPreprocessor.log&quot; directly. Actually, that file name is dynamic, based on my project&#39;s name. For example, if I run the program ABC.java, logging should go to `D:/logFiles/ABC.log`, but if I run XYZ.java, logging should go to `D:/logFiles/XYZ.log`. The file&#39;s location will always remain the same: `D:/logFiles/`. How can I change the log file&#39;s name dynamically?","title":"How to give dynamic file name in the appender in log4j.xml","body":"<p>I am using log4j to log information. I have used a <code>log4j.xml</code> file for creating log files. I have given the absolute path for each log file as a <code>param</code> tag value.</p>\n\n<p>E.g.:</p>\n\n<pre><code>&lt;appender name=\"FA\" class=\"org.apache.log4j.DailyRollingFileAppender\"&gt;\n  &lt;param name=\"DatePattern\" value=\"'_'yyyyMMdd\"/&gt;\n  &lt;param name=\"File\" value=\"D:/logFiles/GPreprocessor.log\"/&gt;\n  &lt;layout class=\"com.dnb.genericpreprocessor.common.log.AppXMLLayout\"/&gt;\n&lt;/appender&gt;\n</code></pre>\n\n<p>I do not want to write \"GPreprocessor.log\" directly. Actually, that file name is dynamic, based on my project's name. For example, if I run the program ABC.java, logging should go to <code>D:/logFiles/ABC.log</code>, but if I run XYZ.java, logging should go to <code>D:/logFiles/XYZ.log</code>. The file's location will always remain the same: <code>D:/logFiles/</code>. How can I change the log file's name dynamically?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":121626,"reputation":8142,"user_id":314862,"accept_rate":76,"display_name":"Dimitri"},"score":1,"creation_date":1673254426,"post_id":75054906,"comment_id":132448504,"body_markdown":"It&#39;s because your hash method is not correct. Your hash is inconsistent.","body":"It&#39;s because your hash method is not correct. Your hash is inconsistent."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1673255106,"post_id":75054906,"comment_id":132448707,"body_markdown":"I think your `equals` is incorrect too. It is not transitive. Can you explain in more detail about the two &quot;equality conditions&quot;?","body":"I think your <code>equals</code> is incorrect too. It is not transitive. Can you explain in more detail about the two &quot;equality conditions&quot;?"},{"owner":{"account_id":121626,"reputation":8142,"user_id":314862,"accept_rate":76,"display_name":"Dimitri"},"score":0,"creation_date":1673255115,"post_id":75054906,"comment_id":132448710,"body_markdown":"you could reduce your equals conditions like this : `StringUtils.equals( dto.getName(), this.insideDto.getName()) || StringUtils.equals(dto.getType(), this.insideDto.getType()) &amp;&amp; StringUtils.equals(dto.getColor(), this.insideDto.getColor());`","body":"you could reduce your equals conditions like this : <code>StringUtils.equals( dto.getName(), this.insideDto.getName()) || StringUtils.equals(dto.getType(), this.insideDto.getType()) &amp;&amp; StringUtils.equals(dto.getColor(), this.insideDto.getColor());</code>"},{"owner":{"account_id":121626,"reputation":8142,"user_id":314862,"accept_rate":76,"display_name":"Dimitri"},"score":0,"creation_date":1673255185,"post_id":75054906,"comment_id":132448724,"body_markdown":"And in hashCode, just `Objects.hash(this.insideDto.getName(), this.insideDto.getType(),this.insideDto.getColor())`.","body":"And in hashCode, just <code>Objects.hash(this.insideDto.getName(), this.insideDto.getType(),this.insideDto.getColor())</code>."},{"owner":{"account_id":121626,"reputation":8142,"user_id":314862,"accept_rate":76,"display_name":"Dimitri"},"score":0,"creation_date":1673255208,"post_id":75054906,"comment_id":132448732,"body_markdown":"Btw you don&#39;t need a wrapper class for that.","body":"Btw you don&#39;t need a wrapper class for that."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1673270045,"post_id":75054906,"comment_id":132453704,"body_markdown":"Let’s say you have a) a red cat called Foo, b) a red cat call Bar and c) a green cat called Foo. a equals b, a equals c, but b is not equal to c =&gt; your equals method is not transitive, so you cannot have consistent logic. Bonus question: how many distinct animals do you have? If you start with a, you only have 1. If you start from b or c, you have 2.","body":"Let’s say you have a) a red cat called Foo, b) a red cat call Bar and c) a green cat called Foo. a equals b, a equals c, but b is not equal to c =&gt; your equals method is not transitive, so you cannot have consistent logic. Bonus question: how many distinct animals do you have? If you start with a, you only have 1. If you start from b or c, you have 2."},{"owner":{"account_id":6325177,"reputation":1443,"user_id":4911868,"accept_rate":100,"display_name":"javaDeveloper"},"score":0,"creation_date":1673276244,"post_id":75054906,"comment_id":132456263,"body_markdown":"@DidierL For this system, the data inconsistency is okay as long as there are no duplicates. And the rules are applied in the order of 1 and two in the order they are in the list","body":"@DidierL For this system, the data inconsistency is okay as long as there are no duplicates. And the rules are applied in the order of 1 and two in the order they are in the list"}],"owner":{"account_id":6325177,"reputation":1443,"user_id":4911868,"accept_rate":100,"display_name":"javaDeveloper"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673254582,"creation_date":1673254223,"question_id":75054906,"body_markdown":"I have a class Animal with three properties\r\n\r\n    class Animal {\r\n      String name;\r\n      String type;\r\n      String color;\r\n    }\r\n\r\nFrom a list of animals I need to find distinct animals.\r\n\r\nThe equality conditions are \r\n\r\n 1. if name is same both are equal\r\n 2. If both type and color are equal both are equal\r\n\r\nSo I wrote a wrapper animal and override the equals and hashcode\r\n\r\n    class WrapperAnimal {\r\n        Animal insideDto;\r\n    \r\n        public WrapperAnimal(Animal dto) {\r\n            this.insideDto = dto;\r\n        }\r\n    \r\n        public Animal unwrap() {\r\n            return insideDto;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if(this == o) {\r\n                return true;\r\n            }\r\n            if(o == null || getClass() != o.getClass()) {\r\n                return false;\r\n            }\r\n    \r\n            Animal dto = ((Animal) o).unwrap();\r\n    \r\n            if(dto.getName() != null &amp;&amp; StringUtils.equals(dto.getName(), this.insideDto.getName())) {\r\n                return true;\r\n            }\r\n    \r\n            return StringUtils.equals(dto.getType(), this.insideDto.getType()) &amp;&amp;\r\n                    StringUtils.equals(dto.getColor(), this.insideDto.getColor());\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            if(StringUtils.isNotEmpty(this.insideDto.getName())) {\r\n                return Objects.hash(this.insideDto.getName());\r\n            }\r\n    \r\n            return Objects.hash(this.insideDto.getType(),this.insideDto.getColor());\r\n        }\r\n    }\r\n\r\n\r\nI used streams distinct to find distinct\r\n\r\n    List&lt;Animal&gt; distinctAnimals = animals.stream().map(WrapperAnimal::new).distinct().map(WrapperAnimal::unwrap).toList()\r\n\r\nThis is not working when names are different but type and color are same.\r\n\r\n|Name|Type|Color|\r\n|------|------|--|\r\n|tiger1|type1|yellow|\r\n|tiger2|type1|yellow|\r\n\r\nI understand this is issue with the hashcode function. How can I fix this?","title":"Distinct by multiple properties with specific conditions","body":"<p>I have a class Animal with three properties</p>\n<pre><code>class Animal {\n  String name;\n  String type;\n  String color;\n}\n</code></pre>\n<p>From a list of animals I need to find distinct animals.</p>\n<p>The equality conditions are</p>\n<ol>\n<li>if name is same both are equal</li>\n<li>If both type and color are equal both are equal</li>\n</ol>\n<p>So I wrote a wrapper animal and override the equals and hashcode</p>\n<pre><code>class WrapperAnimal {\n    Animal insideDto;\n\n    public WrapperAnimal(Animal dto) {\n        this.insideDto = dto;\n    }\n\n    public Animal unwrap() {\n        return insideDto;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if(this == o) {\n            return true;\n        }\n        if(o == null || getClass() != o.getClass()) {\n            return false;\n        }\n\n        Animal dto = ((Animal) o).unwrap();\n\n        if(dto.getName() != null &amp;&amp; StringUtils.equals(dto.getName(), this.insideDto.getName())) {\n            return true;\n        }\n\n        return StringUtils.equals(dto.getType(), this.insideDto.getType()) &amp;&amp;\n                StringUtils.equals(dto.getColor(), this.insideDto.getColor());\n    }\n\n    @Override\n    public int hashCode() {\n        if(StringUtils.isNotEmpty(this.insideDto.getName())) {\n            return Objects.hash(this.insideDto.getName());\n        }\n\n        return Objects.hash(this.insideDto.getType(),this.insideDto.getColor());\n    }\n}\n</code></pre>\n<p>I used streams distinct to find distinct</p>\n<pre><code>List&lt;Animal&gt; distinctAnimals = animals.stream().map(WrapperAnimal::new).distinct().map(WrapperAnimal::unwrap).toList()\n</code></pre>\n<p>This is not working when names are different but type and color are same.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Color</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>tiger1</td>\n<td>type1</td>\n<td>yellow</td>\n</tr>\n<tr>\n<td>tiger2</td>\n<td>type1</td>\n<td>yellow</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I understand this is issue with the hashcode function. How can I fix this?</p>\n"},{"tags":["java","code-cleanup"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1673253282,"post_id":75054751,"comment_id":132448186,"body_markdown":"In Java naming conventions, a variable’s name begins with a lowercase letter. An all-uppercase name means a constant.","body":"In Java naming conventions, a variable’s name begins with a lowercase letter. An all-uppercase name means a constant."},{"owner":{"account_id":15589207,"reputation":434,"user_id":11246801,"display_name":"T.K"},"score":0,"creation_date":1673253671,"post_id":75054751,"comment_id":132448297,"body_markdown":"You can try to reduce your number of if else by merging some conditions together using &amp;&amp; and ||","body":"You can try to reduce your number of if else by merging some conditions together using &amp;&amp; and ||"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673253721,"post_id":75054751,"comment_id":132448311,"body_markdown":"You should think through the requirements before writing code. There is only one case where you care about odd numbers. So you should start with one outer “if else” testing for odd or even. No need to repeatedly test for even.","body":"You should think through the requirements before writing code. There is only one case where you care about odd numbers. So you should start with one outer “if else” testing for odd or even. No need to repeatedly test for even."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673254020,"post_id":75054751,"comment_id":132448406,"body_markdown":"Every time you&#39;ve written `else { if` you could just write `else if`, with one less `}` at the end.  You also don&#39;t need the very last `else`.","body":"Every time you&#39;ve written <code>else { if</code> you could just write <code>else if</code>, with one less <code>}</code> at the end.  You also don&#39;t need the very last <code>else</code>."}],"answers":[{"tags":[],"owner":{"account_id":15589207,"reputation":434,"user_id":11246801,"display_name":"T.K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673254219,"creation_date":1673254219,"answer_id":75054905,"question_id":75054751,"body_markdown":"I think an optimize version could be this : \r\n```\r\nif (N % 2 == 1 || (N &gt;= 6 &amp;&amp; N &lt;= 20)) {\r\n  System.out.println(&quot;Weird&quot;);\r\n}\r\nelse {\r\n  System.out.println(&quot;Not Weird&quot;);\r\n}\r\n```\r\nIf N is odd or N in range of 6 to 20 it&#39;s weird.\r\n\r\nElse N is either even or not in the range so it&#39;s not weird.","title":"How to remove the amounts of ifs from the application?","body":"<p>I think an optimize version could be this :</p>\n<pre><code>if (N % 2 == 1 || (N &gt;= 6 &amp;&amp; N &lt;= 20)) {\n  System.out.println(&quot;Weird&quot;);\n}\nelse {\n  System.out.println(&quot;Not Weird&quot;);\n}\n</code></pre>\n<p>If N is odd or N in range of 6 to 20 it's weird.</p>\n<p>Else N is either even or not in the range so it's not weird.</p>\n"},{"tags":[],"owner":{"account_id":9661716,"reputation":118,"user_id":7169560,"display_name":"Burak Ozmen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673254298,"creation_date":1673254298,"answer_id":75054919,"question_id":75054751,"body_markdown":"You can reduce the complexity and improve the readability of your code by extracting your logic to method/class etc. Also, nested conditions are hard to read, you should avoid it.\r\n\r\nExample:\r\n\r\n    public static void main(String[] args) {\r\n\r\n    \tint n = scanner.nextInt();\r\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n        scanner.close();\r\n\r\n        String print = isGivenNumberWeird(n) ? &quot;Weird&quot; : &quot;Not Weird&quot;\r\n\t\tSystem.out.println(print);\r\n    }\r\n\r\n    private static boolean isGivenNumberWeird(int n) {\r\n\t\tboolean isOdd = n % 2 == 1;\r\n        if (isOdd) {\r\n\t\t\treturn true;\r\n        }\r\n        if (n &gt;= 2 &amp;&amp; n &lt;=5) {\r\n        \treturn false;\r\n        }\r\n        if (n &gt;= 6 &amp;&amp; n &lt;=20) {\r\n        \treturn true;\r\n        }\r\n        if (n &gt; 20) {\r\n        \treturn false;\r\n        }\r\n    }","title":"How to remove the amounts of ifs from the application?","body":"<p>You can reduce the complexity and improve the readability of your code by extracting your logic to method/class etc. Also, nested conditions are hard to read, you should avoid it.</p>\n<p>Example:</p>\n<pre><code>public static void main(String[] args) {\n\n    int n = scanner.nextInt();\n    scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\n    scanner.close();\n\n    String print = isGivenNumberWeird(n) ? &quot;Weird&quot; : &quot;Not Weird&quot;\n    System.out.println(print);\n}\n\nprivate static boolean isGivenNumberWeird(int n) {\n    boolean isOdd = n % 2 == 1;\n    if (isOdd) {\n        return true;\n    }\n    if (n &gt;= 2 &amp;&amp; n &lt;=5) {\n        return false;\n    }\n    if (n &gt;= 6 &amp;&amp; n &lt;=20) {\n        return true;\n    }\n    if (n &gt; 20) {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27475119,"reputation":1,"user_id":20963270,"display_name":"GabsArcan01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1673254503,"answer_count":2,"score":-3,"last_activity_date":1673254298,"creation_date":1673253170,"question_id":75054751,"body_markdown":"The code I say has to complete these assignments:\r\nGiven an integer,N, perform the following conditional actions:\r\n\r\nIf N is odd, print Weird\r\nIf N is even and in the inclusive range of 2  to 5 , print Not Weird\r\nIf N is even and in the inclusive range of 6 to 20 , print Weird\r\nIf N is even and greater than 20 , print Not Weird\r\nComplete the stub code provided in your editor to print whether or not N is weird.\r\n\r\n\r\nMy code looked like this:\r\n\r\n    private static final Scanner scanner = new Scanner(System.in);\r\n    \r\n        public static void main(String[] args) {\r\n            int N = scanner.nextInt();\r\n            scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\r\n            scanner.close();\r\n            int Numberparorimpa = N % 2;\r\n            if(N &lt; 2 || Numberparorimpa ==1 || N &lt;=20 &amp;&amp;  N &gt;=6 ){\r\n                System.out.println(&quot;Weird&quot;);\r\n            }else{\r\n                if(N &gt;=2 &amp;&amp; Numberparorimpa == 0){\r\n                     System.out.println(&quot;Not Weird&quot;);\r\n                }else{\r\n                 if(Numberparorimpa == 0 &amp;&amp; N &gt;=6 || N&lt;=20){\r\n                      System.out.println(&quot;Weird&quot;);\r\n                 }else{\r\n                     if(Numberparorimpa== 0 &amp;&amp; N&gt; 20){\r\n                         System.out.println(&quot;Not Weird&quot;);\r\n                     }else{\r\n                         return;\r\n                     }\r\n                 }   \r\n                }\r\n            }\r\n                }\r\n            \r\n        }\r\n\r\nHow can I reduce the IFs of this code?","title":"How to remove the amounts of ifs from the application?","body":"<p>The code I say has to complete these assignments:\nGiven an integer,N, perform the following conditional actions:</p>\n<p>If N is odd, print Weird\nIf N is even and in the inclusive range of 2  to 5 , print Not Weird\nIf N is even and in the inclusive range of 6 to 20 , print Weird\nIf N is even and greater than 20 , print Not Weird\nComplete the stub code provided in your editor to print whether or not N is weird.</p>\n<p>My code looked like this:</p>\n<pre><code>private static final Scanner scanner = new Scanner(System.in);\n\n    public static void main(String[] args) {\n        int N = scanner.nextInt();\n        scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;);\n        scanner.close();\n        int Numberparorimpa = N % 2;\n        if(N &lt; 2 || Numberparorimpa ==1 || N &lt;=20 &amp;&amp;  N &gt;=6 ){\n            System.out.println(&quot;Weird&quot;);\n        }else{\n            if(N &gt;=2 &amp;&amp; Numberparorimpa == 0){\n                 System.out.println(&quot;Not Weird&quot;);\n            }else{\n             if(Numberparorimpa == 0 &amp;&amp; N &gt;=6 || N&lt;=20){\n                  System.out.println(&quot;Weird&quot;);\n             }else{\n                 if(Numberparorimpa== 0 &amp;&amp; N&gt; 20){\n                     System.out.println(&quot;Not Weird&quot;);\n                 }else{\n                     return;\n                 }\n             }   \n            }\n        }\n            }\n        \n    }\n</code></pre>\n<p>How can I reduce the IFs of this code?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7913220,"reputation":3565,"user_id":5976576,"accept_rate":83,"display_name":"MotKohn"},"score":0,"creation_date":1480826274,"post_id":40953460,"comment_id":69120489,"body_markdown":"\\\\n != \\\\\\n - you are comparing the letter &#39;n&#39; to newline &#39;\\n&#39;","body":"\\\\n != \\\\\\n - you are comparing the letter &#39;n&#39; to newline &#39;\\n&#39;"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1673254218,"creation_date":1480806377,"answer_id":40953507,"question_id":40953460,"body_markdown":"The `s=&quot;\\\\n&quot;` means you assign a backslash and `n` to the variable `s`, and it contains a *sequence of two chars*, ``\\`` and `n`.\r\n\r\nThe `Pattern.compile(&quot;\\\\\\n&quot;)` means you define a regex pattern `\\&lt;LF&gt;` (a backslash and a newline, line feed, char) that *matches a newline (LF) char*, because escaped non-word non-special chars match themselves. `\\,` matches a `,`, `\\;` matches a `;`.  Thus, this pattern won&#39;t match the string in variable `s`.\r\n\r\nThe redundant escape warning is thrown because `\\&lt;LF&gt;` matches the same newline char that can be matched with mere `&lt;LF&gt;`.\r\n\r\nMore examples:\r\n\r\n| Regex | Regex string literal | Matching text | Matching string literal |\r\n| - | - | - | - |\r\n| `&lt;LF&gt;` | `&quot;\\n&quot;` | `&lt;LF&gt;` | `&quot;\\n&quot;` |\r\n| `\\n` | `&quot;\\\\n&quot;` | `&lt;LF&gt;` | `&quot;\\n&quot;` |\r\n| `\\\\n` | `&quot;\\\\\\\\n&quot;` | `\\n` | `&quot;\\\\n&quot;`  |\r\n","title":"Redundant escape character in Pattern","body":"<p>The <code>s=&quot;\\\\n&quot;</code> means you assign a backslash and <code>n</code> to the variable <code>s</code>, and it contains a <em>sequence of two chars</em>, <code>\\</code> and <code>n</code>.</p>\n<p>The <code>Pattern.compile(&quot;\\\\\\n&quot;)</code> means you define a regex pattern <code>\\&lt;LF&gt;</code> (a backslash and a newline, line feed, char) that <em>matches a newline (LF) char</em>, because escaped non-word non-special chars match themselves. <code>\\,</code> matches a <code>,</code>, <code>\\;</code> matches a <code>;</code>.  Thus, this pattern won't match the string in variable <code>s</code>.</p>\n<p>The redundant escape warning is thrown because <code>\\&lt;LF&gt;</code> matches the same newline char that can be matched with mere <code>&lt;LF&gt;</code>.</p>\n<p>More examples:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Regex</th>\n<th>Regex string literal</th>\n<th>Matching text</th>\n<th>Matching string literal</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>&lt;LF&gt;</code></td>\n<td><code>&quot;\\n&quot;</code></td>\n<td><code>&lt;LF&gt;</code></td>\n<td><code>&quot;\\n&quot;</code></td>\n</tr>\n<tr>\n<td><code>\\n</code></td>\n<td><code>&quot;\\\\n&quot;</code></td>\n<td><code>&lt;LF&gt;</code></td>\n<td><code>&quot;\\n&quot;</code></td>\n</tr>\n<tr>\n<td><code>\\\\n</code></td>\n<td><code>&quot;\\\\\\\\n&quot;</code></td>\n<td><code>\\n</code></td>\n<td><code>&quot;\\\\n&quot;</code></td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":[],"owner":{"account_id":4453461,"reputation":3254,"user_id":3624545,"display_name":"Fedor Losev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480806475,"creation_date":1480806475,"answer_id":40953522,"question_id":40953460,"body_markdown":"Your source s has two characters, `&#39;\\&#39;` and `&#39;n&#39;`, if you meant it would be `\\` followed by a line break then it should be `&quot;\\\\\\n&quot;`\r\n\r\nPattern has two characters &#39;\\&#39; and &#39;\\n&#39; (line break) and \\ the escape characher is not needed, hence warning. If you meant \\ followed by line break it should be `&quot;\\\\\\\\\\n&quot;` (twice \\ to escape it for regex and then \\n).\r\n\r\n\t\tString s = &quot;\\\\\\n&quot;;\r\n\t\tSystem.out.println(s);\r\n\r\n\t\tPattern p = Pattern.compile(&quot;\\\\\\\\\\n&quot;);\r\n\r\n\t\tMatcher mm = p.matcher(s);\r\n\t\tSystem.out.println(mm.matches());\r\n\r\n\r\n","title":"Redundant escape character in Pattern","body":"<p>Your source s has two characters, <code>'\\'</code> and <code>'n'</code>, if you meant it would be <code>\\</code> followed by a line break then it should be <code>\"\\\\\\n\"</code></p>\n\n<p>Pattern has two characters '\\' and '\\n' (line break) and \\ the escape characher is not needed, hence warning. If you meant \\ followed by line break it should be <code>\"\\\\\\\\\\n\"</code> (twice \\ to escape it for regex and then \\n).</p>\n\n<pre><code>    String s = \"\\\\\\n\";\n    System.out.println(s);\n\n    Pattern p = Pattern.compile(\"\\\\\\\\\\n\");\n\n    Matcher mm = p.matcher(s);\n    System.out.println(mm.matches());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9773048,"reputation":1373,"user_id":7246614,"display_name":"timotree"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1480827327,"creation_date":1480826520,"answer_id":40955462,"question_id":40953460,"body_markdown":"Because `&quot;\\\\n&quot;` evaulates to backslash `\\\\` and the letter `n` while `&quot;\\\\\\n&quot;` evaluates to a backslash `\\\\` and then a newline `\\n`.","title":"Redundant escape character in Pattern","body":"<p>Because <code>\"\\\\n\"</code> evaulates to backslash <code>\\\\</code> and the letter <code>n</code> while <code>\"\\\\\\n\"</code> evaluates to a backslash <code>\\\\</code> and then a newline <code>\\n</code>.</p>\n"},{"tags":[],"owner":{"account_id":7392033,"reputation":57,"user_id":5625150,"display_name":"maha lakshmi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480827608,"creation_date":1480827608,"answer_id":40955547,"question_id":40953460,"body_markdown":"Backslashes within string literals in Java source code are interpreted as required by The Java™ Language Specification as either Unicode escapes (section 3.3) or other character escapes (section 3.10.6) It is therefore necessary to double backslashes in string literals that represent regular expressions to protect them from interpretation by the Java bytecode compiler. The string literal &quot;\\b&quot;, for example, matches a single backspace character when interpreted as a regular expression, while &quot;`\\\\b`&quot; matches a word boundary. \r\n\r\n Refer : https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html","title":"Redundant escape character in Pattern","body":"<p>Backslashes within string literals in Java source code are interpreted as required by The Java™ Language Specification as either Unicode escapes (section 3.3) or other character escapes (section 3.10.6) It is therefore necessary to double backslashes in string literals that represent regular expressions to protect them from interpretation by the Java bytecode compiler. The string literal \"\\b\", for example, matches a single backspace character when interpreted as a regular expression, while \"<code>\\\\b</code>\" matches a word boundary. </p>\n\n<p>Refer : <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html</a></p>\n"}],"owner":{"account_id":5484012,"reputation":203,"user_id":4359440,"accept_rate":0,"display_name":"Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19872,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1673254218,"creation_date":1480806099,"question_id":40953460,"body_markdown":"I am trying out the following code and it&#39;s printing false.\r\nI was expected that this would print true.\r\nIn addition , the Pattern.Compile() statemenet , gives a warning &#39;redundant escape character&#39;.\r\nCan someone please help me as to why this is not returning true and why do I see a warning.\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;\\\\n&quot;;\r\n        System.out.println(s);\r\n\r\n        Pattern p = Pattern.compile(&quot;\\\\\\n&quot;);\r\n        Matcher mm = p.matcher(s);\r\n        System.out.println(mm.matches());\r\n    }","title":"Redundant escape character in Pattern","body":"<p>I am trying out the following code and it's printing false.\nI was expected that this would print true.\nIn addition , the Pattern.Compile() statemenet , gives a warning 'redundant escape character'.\nCan someone please help me as to why this is not returning true and why do I see a warning.</p>\n\n<pre><code>public static void main(String[] args) {\n    String s = \"\\\\n\";\n    System.out.println(s);\n\n    Pattern p = Pattern.compile(\"\\\\\\n\");\n    Matcher mm = p.matcher(s);\n    System.out.println(mm.matches());\n}\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":18286558,"reputation":371,"user_id":13314717,"display_name":"NikMashei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1599678701,"creation_date":1599678701,"answer_id":63818114,"question_id":63800038,"body_markdown":"Finally I found solution for my problem. Answer is - just use your `@Column(columnDefinition = &quot;jsonb&quot;)` and `@Type(type = &quot;jsonb&quot;` via getters but not class properties.\r\n\r\n**entity definition**\r\n\r\n    @Entity\r\n    @Table(schema = &quot;ref&quot;, name = &quot;test_json_3&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Setter\r\n    public class TestJson extends AbstractServiceEntity {\r\n\r\n    private String jsonProperty;\r\n\r\n    @Type(type = &quot;jsonb&quot;)\r\n    @Column(columnDefinition = &quot;jsonb&quot;)\r\n    public String getJsonProperty() {\r\n        return jsonProperty;\r\n    }\r\n      \r\n\r\n","title":"Map string properties to JSONB","body":"<p>Finally I found solution for my problem. Answer is - just use your <code>@Column(columnDefinition = &quot;jsonb&quot;)</code> and <code>@Type(type = &quot;jsonb&quot;</code> via getters but not class properties.</p>\n<p><strong>entity definition</strong></p>\n<pre><code>@Entity\n@Table(schema = &quot;ref&quot;, name = &quot;test_json_3&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Setter\npublic class TestJson extends AbstractServiceEntity {\n\nprivate String jsonProperty;\n\n@Type(type = &quot;jsonb&quot;)\n@Column(columnDefinition = &quot;jsonb&quot;)\npublic String getJsonProperty() {\n    return jsonProperty;\n}\n  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637841084,"creation_date":1637841084,"answer_id":70110616,"question_id":63800038,"body_markdown":"You can try to add @TypeDefs under class TestJson:\r\n\r\n    @TypeDefs({\r\n    \t\t@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\n    })\r\n    public class TestJson extends AbstractServiceEntity {\r\n\r\n","title":"Map string properties to JSONB","body":"<p>You can try to add @TypeDefs under class TestJson:</p>\n<pre><code>@TypeDefs({\n        @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\n})\npublic class TestJson extends AbstractServiceEntity {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8602220,"reputation":161,"user_id":6443385,"display_name":"taichouvik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673254029,"creation_date":1673254029,"answer_id":75054871,"question_id":63800038,"body_markdown":"Alternate solution for mapping String to Jsonb type. Just add the following annotation on your string.\r\n\r\n```  \r\n@ColumnTransformer(write = &quot;?::jsonb&quot;)\r\nprivate String jsonProperty;\r\n```","title":"Map string properties to JSONB","body":"<p>Alternate solution for mapping String to Jsonb type. Just add the following annotation on your string.</p>\n<pre><code>@ColumnTransformer(write = &quot;?::jsonb&quot;)\nprivate String jsonProperty;\n</code></pre>\n"}],"owner":{"account_id":18286558,"reputation":371,"user_id":13314717,"display_name":"NikMashei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3812,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":63818114,"answer_count":3,"score":4,"last_activity_date":1673254029,"creation_date":1599591452,"question_id":63800038,"body_markdown":"I&#39;ve been trying map my string properties to Postgresql&#39;s JSONB using JPA. I did read [perfect article by Vlad Mihalcea][1] many times and also seen relative questions and problems with similar stuff. BUT I still have this exception `org.postgresql.util.PSQLException: ERROR: column &quot;json_property&quot; is of type jsonb but expression is of type character varying` every time when I&#39;m trying insert something into my table. \r\n\r\nAnd what even worse is - all these advices in similar questions were useful until I changed my entity class and made him inherits super class. And now situation is like this:\r\n1) If `@TypeDef` and `@Type` on my child class and it works great\r\n2) But I want use abstraction layer and set annotations, which I noticed above, to my base entity class and after that exception says me &#39;Hello! It&#39;s me again&#39;\r\n\r\nMy hierarchy is pretty simple and here it is:\r\n\r\n**Base entity**\r\n\r\n    @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\n    @MappedSuperclass\r\n    public abstract class AbstractServiceEntity implements Serializable {\r\n\r\n    private Integer id;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n**Child entity**\r\n\r\n    @Entity\r\n    @Table(schema = &quot;ref&quot;, name = &quot;test_json_3&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class TestJson extends AbstractServiceEntity {\r\n\r\n    @Type(type = &quot;jsonb&quot;)\r\n    @Column(columnDefinition = &quot;jsonb&quot;)\r\n    private String jsonProperty;\r\n\r\n**My table**\r\n\r\n    create table ref.test_json_3\r\n    (\r\n    id serial primary key,\r\n    json_property jsonb \r\n    )\r\n\r\n\r\n  [1]: https://vladmihalcea.com/map-string-jpa-property-json-column-hibernate/\r\n\r\n*UPD*\r\nI&#39;ve succesfully inserted record with JPA native query, but I had to unwrap my query into hibernate query. Not sure that it&#39;s the most convinient way to manage inserting data into DB. The my question is actual, I still need your help) Example with native query below.\r\n\r\n**Code snippent with result**\r\n\r\n    @Repository\r\n    public class JpaTestRepository {\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    @Transactional\r\n    public void insert(TestJson testJson) {\r\n        entityManager.createNativeQuery(&quot;INSERT INTO test_json_3 (json_property) VALUES (?)&quot;)\r\n                .unwrap(Query.class)\r\n                .setParameter(1, testJson.getJsonProperty(), JsonBinaryType.INSTANCE)\r\n                .executeUpdate();\r\n    }\r\n\r\n","title":"Map string properties to JSONB","body":"<p>I've been trying map my string properties to Postgresql's JSONB using JPA. I did read <a href=\"https://vladmihalcea.com/map-string-jpa-property-json-column-hibernate/\" rel=\"nofollow noreferrer\">perfect article by Vlad Mihalcea</a> many times and also seen relative questions and problems with similar stuff. BUT I still have this exception <code>org.postgresql.util.PSQLException: ERROR: column &quot;json_property&quot; is of type jsonb but expression is of type character varying</code> every time when I'm trying insert something into my table.</p>\n<p>And what even worse is - all these advices in similar questions were useful until I changed my entity class and made him inherits super class. And now situation is like this:</p>\n<ol>\n<li>If <code>@TypeDef</code> and <code>@Type</code> on my child class and it works great</li>\n<li>But I want use abstraction layer and set annotations, which I noticed above, to my base entity class and after that exception says me 'Hello! It's me again'</li>\n</ol>\n<p>My hierarchy is pretty simple and here it is:</p>\n<p><strong>Base entity</strong></p>\n<pre><code>@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\n@MappedSuperclass\npublic abstract class AbstractServiceEntity implements Serializable {\n\nprivate Integer id;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\npublic Integer getId() {\n    return id;\n}\n\npublic void setId(Integer id) {\n    this.id = id;\n}\n</code></pre>\n<p><strong>Child entity</strong></p>\n<pre><code>@Entity\n@Table(schema = &quot;ref&quot;, name = &quot;test_json_3&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class TestJson extends AbstractServiceEntity {\n\n@Type(type = &quot;jsonb&quot;)\n@Column(columnDefinition = &quot;jsonb&quot;)\nprivate String jsonProperty;\n</code></pre>\n<p><strong>My table</strong></p>\n<pre><code>create table ref.test_json_3\n(\nid serial primary key,\njson_property jsonb \n)\n</code></pre>\n<p><em>UPD</em>\nI've succesfully inserted record with JPA native query, but I had to unwrap my query into hibernate query. Not sure that it's the most convinient way to manage inserting data into DB. The my question is actual, I still need your help) Example with native query below.</p>\n<p><strong>Code snippent with result</strong></p>\n<pre><code>@Repository\npublic class JpaTestRepository {\n\n@PersistenceContext\nprivate EntityManager entityManager;\n\n@Transactional\npublic void insert(TestJson testJson) {\n    entityManager.createNativeQuery(&quot;INSERT INTO test_json_3 (json_property) VALUES (?)&quot;)\n            .unwrap(Query.class)\n            .setParameter(1, testJson.getJsonProperty(), JsonBinaryType.INSTANCE)\n            .executeUpdate();\n}\n</code></pre>\n"},{"tags":["java","android","firebase","android-studio","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1673251277,"post_id":75053844,"comment_id":132447652,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":20408445,"reputation":39,"user_id":14972476,"display_name":"Azariah Natasha"},"score":0,"creation_date":1673261857,"post_id":75053844,"comment_id":132450866,"body_markdown":"My application can be launched successfully without any errors but the contact list is not displayed. It will only show blank page","body":"My application can be launched successfully without any errors but the contact list is not displayed. It will only show blank page"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1673262353,"post_id":75053844,"comment_id":132451008,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."}],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673249159,"creation_date":1673246283,"answer_id":75053878,"question_id":75053844,"body_markdown":"**You are not updating list in Adaptor**\r\n\r\n*Please add this method in your adaptor class -*\r\n\r\n    public void updateList(ArrayList&lt;Contact&gt; list){\r\n       this.list=list;\r\n       notifyDataSetChanged();\r\n    }\r\n\r\nAnd replace this line from your contactList activity to **adapter.notifyDataSetChanged();** --&gt; **adapter.updateList(list);**\r\n\r\n\r\n**contactList.java**\r\n\r\n \r\n\r\n       package com.example.lucentproj;\r\n    \r\n        import androidx.annotation.NonNull; \r\n        import androidx.appcompat.app.AppCompatActivity; \r\n        import androidx.recyclerview.widget.LinearLayoutManager; \r\n        import androidx.recyclerview.widget.RecyclerView;\r\n        import android.os.Bundle;\r\n        import com.google.firebase.auth.FirebaseAuth; \r\n        import com.google.firebase.auth.FirebaseUser; \r\n        import com.google.firebase.database.DataSnapshot; \r\n        import com.google.firebase.database.DatabaseError; \r\n        import com.google.firebase.database.DatabaseReference; \r\n        import com.google.firebase.database.FirebaseDatabase; \r\n        import com.google.firebase.database.ValueEventListener;`\r\n        import java.util.ArrayList;\r\n    \r\n        public class contactList extends AppCompatActivity {\r\n        RecyclerView recyclerView;\r\n        DatabaseReference reference;\r\n        contAdapter adapter;\r\n        ArrayList&lt;Contact&gt; list;\r\n        FirebaseUser user;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_contact_list);\r\n    \r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n        recyclerView = findViewById(R.id.contList);\r\n        reference = FirebaseDatabase.getInstance().getReference(&quot;Contact&quot;);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n        list = new ArrayList&lt;&gt;();\r\n    \r\n        myRef.addChildEventListener(new ChildEventListener() {\r\n        @Override\r\n        public void onChildAdded(DataSnapshot dataSnapshot, String s) {\r\n             Contact contact = dataSnapshot.getValue(Contact.class);\r\n             list.add(contact);\r\n          }\r\n        }\r\n    \r\n        adapter = new contAdapter(this, list);\r\n        recyclerView.setAdapter(adapter);\r\n    \r\n        reference.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n    \r\n        for (DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n    \r\n        Contact contact = dataSnapshot.getValue(Contact.class);\r\n        list.add(contact);\r\n    \r\n        }\r\n        adapter.updateList(list);\r\n      }\r\n    \r\n       @Override\r\n       public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n       }\r\n      });\r\n     }\r\n    }","title":"Unable to display contact list in Android Studio using RecyclerView","body":"<p><strong>You are not updating list in Adaptor</strong></p>\n<p><em>Please add this method in your adaptor class -</em></p>\n<pre><code>public void updateList(ArrayList&lt;Contact&gt; list){\n   this.list=list;\n   notifyDataSetChanged();\n}\n</code></pre>\n<p>And replace this line from your contactList activity to <strong>adapter.notifyDataSetChanged();</strong> --&gt; <strong>adapter.updateList(list);</strong></p>\n<p><strong>contactList.java</strong></p>\n<pre><code>   package com.example.lucentproj;\n\n    import androidx.annotation.NonNull; \n    import androidx.appcompat.app.AppCompatActivity; \n    import androidx.recyclerview.widget.LinearLayoutManager; \n    import androidx.recyclerview.widget.RecyclerView;\n    import android.os.Bundle;\n    import com.google.firebase.auth.FirebaseAuth; \n    import com.google.firebase.auth.FirebaseUser; \n    import com.google.firebase.database.DataSnapshot; \n    import com.google.firebase.database.DatabaseError; \n    import com.google.firebase.database.DatabaseReference; \n    import com.google.firebase.database.FirebaseDatabase; \n    import com.google.firebase.database.ValueEventListener;`\n    import java.util.ArrayList;\n\n    public class contactList extends AppCompatActivity {\n    RecyclerView recyclerView;\n    DatabaseReference reference;\n    contAdapter adapter;\n    ArrayList&lt;Contact&gt; list;\n    FirebaseUser user;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_contact_list);\n\n    user = FirebaseAuth.getInstance().getCurrentUser();\n    recyclerView = findViewById(R.id.contList);\n    reference = FirebaseDatabase.getInstance().getReference(&quot;Contact&quot;);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n    list = new ArrayList&lt;&gt;();\n\n    myRef.addChildEventListener(new ChildEventListener() {\n    @Override\n    public void onChildAdded(DataSnapshot dataSnapshot, String s) {\n         Contact contact = dataSnapshot.getValue(Contact.class);\n         list.add(contact);\n      }\n    }\n\n    adapter = new contAdapter(this, list);\n    recyclerView.setAdapter(adapter);\n\n    reference.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n    for (DataSnapshot dataSnapshot : snapshot.getChildren()){\n\n    Contact contact = dataSnapshot.getValue(Contact.class);\n    list.add(contact);\n\n    }\n    adapter.updateList(list);\n  }\n\n   @Override\n   public void onCancelled(@NonNull DatabaseError error) {\n\n   }\n  });\n }\n}\n</code></pre>\n"}],"owner":{"account_id":20408445,"reputation":39,"user_id":14972476,"display_name":"Azariah Natasha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673253964,"creation_date":1673245976,"question_id":75053844,"body_markdown":"I am trying to display my contact list for my mobile application. I have already connected the database and I figured that there is no problem with the database since I can add new contact but I am unable to display the list. I use RecyclerView which I already created Adapter class, item layout and model for.\r\n\r\n* Adapter class - contAdapter.java\r\n* item layout - item.xml\r\n* Model - Contact\r\n* RecyclerView Layout - contactList.xml\r\n* contactList - to bind recyclerview with adapter\r\n\r\nI wish to see the list of contact added to the database to be displayed on the screen but I have been stuck here for quite some time since I cannot figure out what the problem is :(\r\n\r\nHere is my Contact Model:\r\n\r\n    public Contact() {\r\n    \r\n    }\r\n    \r\n    public Contact(String contName, String contNumber) {\r\n    this.contName = contName;\r\n    this.contNumber = contNumber;\r\n    }\r\n    \r\n    public String getContName() {\r\n    return contName;\r\n    }\r\n    \r\n    public void setContName(String contName) {\r\n    this.contName = contName;\r\n    }\r\n    \r\n    public String getContNumber() {\r\n    return contNumber;\r\n    }\r\n    \r\n    public void setContNumber(String contNumber) {\r\n    this.contNumber = contNumber;\r\n    }\r\n\r\n`contactList.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_margin=&quot;25dp&quot; tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/contList&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n`contactList.java`:\r\n\r\n        package com.example.lucentproj;\r\n    \r\n        import androidx.annotation.NonNull; \r\n        import androidx.appcompat.app.AppCompatActivity; \r\n        import androidx.recyclerview.widget.LinearLayoutManager; \r\n        import androidx.recyclerview.widget.RecyclerView;\r\n        import android.os.Bundle;\r\n        import com.google.firebase.auth.FirebaseAuth; \r\n        import com.google.firebase.auth.FirebaseUser; \r\n        import com.google.firebase.database.DataSnapshot; \r\n        import com.google.firebase.database.DatabaseError; \r\n        import com.google.firebase.database.DatabaseReference; \r\n        import com.google.firebase.database.FirebaseDatabase; \r\n        import com.google.firebase.database.ValueEventListener;`\r\n        import java.util.ArrayList;\r\n    \r\n        public class contactList extends AppCompatActivity {\r\n        RecyclerView recyclerView;\r\n        DatabaseReference reference;\r\n        contAdapter adapter;\r\n        ArrayList&lt;Contact&gt; list;\r\n        FirebaseUser user;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_contact_list);\r\n    \r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n        recyclerView = findViewById(R.id.contList);\r\n        reference = FirebaseDatabase.getInstance().getReference(&quot;Contact&quot;);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    \r\n        list = new ArrayList&lt;&gt;();\r\n        adapter = new contAdapter(this, list);\r\n        recyclerView.setAdapter(adapter);\r\n    \r\n        reference.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n    \r\n        for (DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n    \r\n        Contact contact = dataSnapshot.getValue(Contact.class);\r\n        list.add(contact);\r\n    \r\n        }\r\n        adapter.updateList(list);\r\n      }\r\n    \r\n       @Override\r\n       public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n       }\r\n    });\r\n    }\r\n    }\r\n\r\n`item.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; android:layout_margin=&quot;16dp&quot;\r\n        app:cardElevation=&quot;8dp&quot; app:cardCornerRadius=&quot;8dp&quot;&gt;\r\n    \r\n    \r\n        &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;16dp&quot;\r\n        android:orientation=&quot;vertical&quot;/&gt;\r\n    \r\n        &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center_vertical&quot;\r\n        android:orientation=&quot;horizontal&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n        android:id=&quot;@+id/contname&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fontFamily=&quot;@font/amaranth&quot;\r\n        android:text=&quot;Name&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n        android:id=&quot;@+id/contno&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;30dp&quot;\r\n        android:fontFamily=&quot;@font/amaranth_italic&quot;\r\n        android:paddingLeft=&quot;10dp&quot;\r\n        android:text=&quot;Number&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;italic&quot; /&gt;\r\n    \r\n        &lt;ImageView\r\n        android:id=&quot;@+id/cCall&quot;\r\n        android:layout_width=&quot;38dp&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:layout_marginLeft=&quot;280dp&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:src=&quot;@drawable/call&quot; /&gt;\r\n    \r\n        &lt;ImageView\r\n        android:id=&quot;@+id/cEdit&quot;\r\n        android:layout_width=&quot;45dp&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:layout_marginLeft=&quot;320dp&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:src=&quot;@drawable/edit&quot; /&gt;\r\n    \r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n```\r\n\r\n`contAdapter`:\r\n\r\n    package com.example.lucentproj;\r\n    \r\n    import android.content.Context; \r\n    import android.view.LayoutInflater; \r\n    import android.view.View; \r\n    import android.view.ViewGroup; import android.widget.TextView; \r\n    import androidx.annotation.NonNull; \r\n    import androidx.recyclerview.widget.RecyclerView; \r\n    import java.util.ArrayList;\r\n    \r\n    public class contAdapter extends RecyclerView.Adapter&lt;contAdapter.ViewHolder&gt; {Context context;\r\n    \r\n        ArrayList&lt;Contact&gt; list;\r\n    \r\n    public contAdapter(Context context, ArrayList&lt;Contact&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n    \r\n    @NonNull\r\n    @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\r\n        return new ViewHolder(v);\r\n    }\r\n    \r\n    @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n    \r\n        Contact cont = list.get(position);\r\n        holder.cname.setText(cont.getContName());\r\n        holder.cnum.setText(cont.getContNumber());\r\n    \r\n    }\r\n    \r\n    @Override\r\n        public int getItemCount() {\r\n        return list.size();\r\n    }\r\n    \r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n        TextView cname, cnum;\r\n    \r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n    \r\n            cname = itemView.findViewById(R.id.contName);\r\n            cnum =  itemView.findViewById(R.id.contNumber);\r\n        }\r\n    }\r\n        public void updateList(ArrayList&lt;Contact&gt; list){\r\n        this.list=list;\r\n        notifyDataSetChanged();\r\n    }\r\n    }","title":"Unable to display contact list in Android Studio using RecyclerView","body":"<p>I am trying to display my contact list for my mobile application. I have already connected the database and I figured that there is no problem with the database since I can add new contact but I am unable to display the list. I use RecyclerView which I already created Adapter class, item layout and model for.</p>\n<ul>\n<li>Adapter class - contAdapter.java</li>\n<li>item layout - item.xml</li>\n<li>Model - Contact</li>\n<li>RecyclerView Layout - contactList.xml</li>\n<li>contactList - to bind recyclerview with adapter</li>\n</ul>\n<p>I wish to see the list of contact added to the database to be displayed on the screen but I have been stuck here for quite some time since I cannot figure out what the problem is :(</p>\n<p>Here is my Contact Model:</p>\n<pre><code>public Contact() {\n\n}\n\npublic Contact(String contName, String contNumber) {\nthis.contName = contName;\nthis.contNumber = contNumber;\n}\n\npublic String getContName() {\nreturn contName;\n}\n\npublic void setContName(String contName) {\nthis.contName = contName;\n}\n\npublic String getContNumber() {\nreturn contNumber;\n}\n\npublic void setContNumber(String contNumber) {\nthis.contNumber = contNumber;\n}\n</code></pre>\n<p><code>contactList.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:layout_margin=&quot;25dp&quot; tools:context=&quot;.MainActivity&quot;&gt;\n    \n        &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/contList&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><code>contactList.java</code>:</p>\n<pre><code>    package com.example.lucentproj;\n\n    import androidx.annotation.NonNull; \n    import androidx.appcompat.app.AppCompatActivity; \n    import androidx.recyclerview.widget.LinearLayoutManager; \n    import androidx.recyclerview.widget.RecyclerView;\n    import android.os.Bundle;\n    import com.google.firebase.auth.FirebaseAuth; \n    import com.google.firebase.auth.FirebaseUser; \n    import com.google.firebase.database.DataSnapshot; \n    import com.google.firebase.database.DatabaseError; \n    import com.google.firebase.database.DatabaseReference; \n    import com.google.firebase.database.FirebaseDatabase; \n    import com.google.firebase.database.ValueEventListener;`\n    import java.util.ArrayList;\n\n    public class contactList extends AppCompatActivity {\n    RecyclerView recyclerView;\n    DatabaseReference reference;\n    contAdapter adapter;\n    ArrayList&lt;Contact&gt; list;\n    FirebaseUser user;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_contact_list);\n\n    user = FirebaseAuth.getInstance().getCurrentUser();\n    recyclerView = findViewById(R.id.contList);\n    reference = FirebaseDatabase.getInstance().getReference(&quot;Contact&quot;);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n    list = new ArrayList&lt;&gt;();\n    adapter = new contAdapter(this, list);\n    recyclerView.setAdapter(adapter);\n\n    reference.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n    for (DataSnapshot dataSnapshot : snapshot.getChildren()){\n\n    Contact contact = dataSnapshot.getValue(Contact.class);\n    list.add(contact);\n\n    }\n    adapter.updateList(list);\n  }\n\n   @Override\n   public void onCancelled(@NonNull DatabaseError error) {\n\n   }\n});\n}\n}\n</code></pre>\n<p><code>item.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n        &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; android:layout_margin=&quot;16dp&quot;\n        app:cardElevation=&quot;8dp&quot; app:cardCornerRadius=&quot;8dp&quot;&gt;\n    \n    \n        &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;16dp&quot;\n        android:orientation=&quot;vertical&quot;/&gt;\n    \n        &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center_vertical&quot;\n        android:orientation=&quot;horizontal&quot; /&gt;\n    \n        &lt;TextView\n        android:id=&quot;@+id/contname&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fontFamily=&quot;@font/amaranth&quot;\n        android:text=&quot;Name&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n    \n        &lt;TextView\n        android:id=&quot;@+id/contno&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;30dp&quot;\n        android:fontFamily=&quot;@font/amaranth_italic&quot;\n        android:paddingLeft=&quot;10dp&quot;\n        android:text=&quot;Number&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;italic&quot; /&gt;\n    \n        &lt;ImageView\n        android:id=&quot;@+id/cCall&quot;\n        android:layout_width=&quot;38dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:layout_marginLeft=&quot;280dp&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:clickable=&quot;true&quot;\n        android:src=&quot;@drawable/call&quot; /&gt;\n    \n        &lt;ImageView\n        android:id=&quot;@+id/cEdit&quot;\n        android:layout_width=&quot;45dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:layout_marginLeft=&quot;320dp&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:clickable=&quot;true&quot;\n        android:src=&quot;@drawable/edit&quot; /&gt;\n    \n    &lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p><code>contAdapter</code>:</p>\n<pre><code>package com.example.lucentproj;\n\nimport android.content.Context; \nimport android.view.LayoutInflater; \nimport android.view.View; \nimport android.view.ViewGroup; import android.widget.TextView; \nimport androidx.annotation.NonNull; \nimport androidx.recyclerview.widget.RecyclerView; \nimport java.util.ArrayList;\n\npublic class contAdapter extends RecyclerView.Adapter&lt;contAdapter.ViewHolder&gt; {Context context;\n\n    ArrayList&lt;Contact&gt; list;\n\npublic contAdapter(Context context, ArrayList&lt;Contact&gt; list) {\n    this.context = context;\n    this.list = list;\n}\n\n@NonNull\n@Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(context).inflate(R.layout.item,parent,false);\n    return new ViewHolder(v);\n}\n\n@Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n    Contact cont = list.get(position);\n    holder.cname.setText(cont.getContName());\n    holder.cnum.setText(cont.getContNumber());\n\n}\n\n@Override\n    public int getItemCount() {\n    return list.size();\n}\n\npublic static class ViewHolder extends RecyclerView.ViewHolder {\n\n    TextView cname, cnum;\n\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        cname = itemView.findViewById(R.id.contName);\n        cnum =  itemView.findViewById(R.id.contNumber);\n    }\n}\n    public void updateList(ArrayList&lt;Contact&gt; list){\n    this.list=list;\n    notifyDataSetChanged();\n}\n}\n</code></pre>\n"},{"tags":["java","string","string-utils"],"comments":[{"owner":{"account_id":22005,"reputation":20171,"user_id":53926,"accept_rate":60,"display_name":"Xavi"},"score":9,"creation_date":1403638359,"post_id":23419087,"comment_id":37732626,"body_markdown":"Might be worth mentioning that there&#39;s also a [`StringUtils.isEmpty(foo)`](https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#isEmpty(java.lang.String)) which helps you avoid null pointers, just like `isBlank`, but doesn&#39;t check for whitespace characters.","body":"Might be worth mentioning that there&#39;s also a <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#isEmpty(java.lang.String)\" rel=\"nofollow noreferrer\"><code>StringUtils.isEmpty(foo)</code></a> which helps you avoid null pointers, just like <code>isBlank</code>, but doesn&#39;t check for whitespace characters."}],"answers":[{"tags":[],"owner":{"account_id":2614156,"reputation":695,"user_id":2263638,"display_name":"chut"},"down_vote_count":3,"up_vote_count":23,"is_accepted":false,"score":20,"last_activity_date":1432746914,"creation_date":1398991983,"answer_id":23419103,"question_id":23419087,"body_markdown":"`StringUtils.isBlank()` will also check for null, whereas this:\r\n \r\n    String foo = getvalue(&quot;foo&quot;);\r\n    if (foo.isEmpty())\r\n\r\nwill throw a `NullPointerException` if `foo` is null.","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p><code>StringUtils.isBlank()</code> will also check for null, whereas this:</p>\n\n<pre><code>String foo = getvalue(\"foo\");\nif (foo.isEmpty())\n</code></pre>\n\n<p>will throw a <code>NullPointerException</code> if <code>foo</code> is null.</p>\n"},{"tags":[],"owner":{"account_id":1969265,"reputation":16148,"user_id":1768690,"accept_rate":60,"display_name":"Default"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1398991993,"creation_date":1398991993,"answer_id":23419105,"question_id":23419087,"body_markdown":"`StringUtils.isBlank(foo)` will perform a null check for you. If you perform `foo.isEmpty()` and `foo` is null, you will raise a NullPointerException.","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p><code>StringUtils.isBlank(foo)</code> will perform a null check for you. If you perform <code>foo.isEmpty()</code> and <code>foo</code> is null, you will raise a NullPointerException.</p>\n"},{"tags":[],"owner":{"account_id":194284,"reputation":4206,"user_id":436524,"accept_rate":72,"display_name":"Octavia Togami"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1398992095,"creation_date":1398992095,"answer_id":23419119,"question_id":23419087,"body_markdown":"`StringUtils.isBlank` also returns `true` for just whitespace:\n\n&gt; isBlank(String str) \n&gt;\n&gt; Checks if a String is whitespace, empty (&quot;&quot;) or null.","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p><code>StringUtils.isBlank</code> also returns <code>true</code> for just whitespace:</p>\n<blockquote>\n<p>isBlank(String str)</p>\n<p>Checks if a String is whitespace, empty (&quot;&quot;) or null.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":1,"up_vote_count":659,"is_accepted":true,"score":658,"last_activity_date":1599489989,"creation_date":1398992099,"answer_id":23419120,"question_id":23419087,"body_markdown":"[`StringUtils.isBlank()`][1] checks that each character of the string is a whitespace character (or that the string is empty or that it&#39;s null). This is totally different than just checking if the string is empty.\r\n\r\nFrom the linked documentation:\r\n\r\n&gt;Checks if a String is whitespace, empty (&quot;&quot;) or null.  \r\n&gt;\r\n&gt;      StringUtils.isBlank(null) &#160; &#160; &#160;= true\r\n&gt;      StringUtils.isBlank(&quot;&quot;) &#160; &#160; &#160; &#160;= true  \r\n&gt;      StringUtils.isBlank(&quot; &quot;) &#160; &#160; &#160; = true  \r\n&gt;      StringUtils.isBlank(&quot;bob&quot;) &#160; &#160; = false  \r\n&gt;      StringUtils.isBlank(&quot; &#160;bob &#160;&quot;) = false\r\n\r\nFor comparison **StringUtils.isEmpty**:\r\n\r\n     StringUtils.isEmpty(null)      = true\r\n     StringUtils.isEmpty(&quot;&quot;)        = true  \r\n     StringUtils.isEmpty(&quot; &quot;)       = false  \r\n     StringUtils.isEmpty(&quot;bob&quot;)     = false  \r\n     StringUtils.isEmpty(&quot;  bob  &quot;) = false\r\n\r\nWarning: In **java.lang.String**.isBlank() and **java.lang.String**.isEmpty() work the same except they don&#39;t return `true` for `null`.\r\n\r\n[`java.lang.String.isBlank()`][2] (since Java 11)\r\n\r\n[`java.lang.String.isEmpty()`][3]\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#isBlank%28java.lang.String%29\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#isBlank()\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#isEmpty()","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#isBlank%28java.lang.String%29\" rel=\"noreferrer\"><code>StringUtils.isBlank()</code></a> checks that each character of the string is a whitespace character (or that the string is empty or that it's null). This is totally different than just checking if the string is empty.</p>\n<p>From the linked documentation:</p>\n<blockquote>\n<p>Checks if a String is whitespace, empty (&quot;&quot;) or null.</p>\n<pre><code> StringUtils.isBlank(null)      = true\n StringUtils.isBlank(&quot;&quot;)        = true  \n StringUtils.isBlank(&quot; &quot;)       = true  \n StringUtils.isBlank(&quot;bob&quot;)     = false  \n StringUtils.isBlank(&quot;  bob  &quot;) = false\n</code></pre>\n</blockquote>\n<p>For comparison <strong>StringUtils.isEmpty</strong>:</p>\n<pre><code> StringUtils.isEmpty(null)      = true\n StringUtils.isEmpty(&quot;&quot;)        = true  \n StringUtils.isEmpty(&quot; &quot;)       = false  \n StringUtils.isEmpty(&quot;bob&quot;)     = false  \n StringUtils.isEmpty(&quot;  bob  &quot;) = false\n</code></pre>\n<p>Warning: In <strong>java.lang.String</strong>.isBlank() and <strong>java.lang.String</strong>.isEmpty() work the same except they don't return <code>true</code> for <code>null</code>.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"noreferrer\"><code>java.lang.String.isBlank()</code></a> (since Java 11)</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#isEmpty()\" rel=\"noreferrer\"><code>java.lang.String.isEmpty()</code></a></p>\n"},{"tags":[],"owner":{"account_id":1918972,"reputation":1224,"user_id":1730904,"display_name":"yallam"},"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1541873371,"creation_date":1411737231,"answer_id":26060488,"question_id":23419087,"body_markdown":"**StringUtils isEmpty** = **String isEmpty** checks + checks for null.\r\n\r\n**StringUtils isBlank** = **StringUtils isEmpty** checks + checks if the text contains only whitespace character(s).\r\n\r\nUseful links for further investigation:\r\n\r\n - [StringUtils isBlank documentation][1]\r\n - [StringUtils isEmpty documentation][2]\r\n - [String isEmpty documentation][3]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#isBlank(java.lang.String)\r\n  [2]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#isEmpty(java.lang.String)\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#isEmpty()","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p><strong>StringUtils isEmpty</strong> = <strong>String isEmpty</strong> checks + checks for null.</p>\n\n<p><strong>StringUtils isBlank</strong> = <strong>StringUtils isEmpty</strong> checks + checks if the text contains only whitespace character(s).</p>\n\n<p>Useful links for further investigation:</p>\n\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#isBlank(java.lang.String)\" rel=\"noreferrer\">StringUtils isBlank documentation</a></li>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#isEmpty(java.lang.String)\" rel=\"noreferrer\">StringUtils isEmpty documentation</a></li>\n<li><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#isEmpty()\" rel=\"noreferrer\">String isEmpty documentation</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5772293,"reputation":51,"user_id":4555388,"display_name":"user4555388"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423667731,"creation_date":1423667731,"answer_id":28457811,"question_id":23419087,"body_markdown":"StringUtils.isBlank() returns true for blanks(just whitespaces)and for null String as well. Actually it trims the Char sequences and then performs check.\r\n\r\n StringUtils.isEmpty() returns true when there is no charsequence in the String parameter or when String parameter is null. Difference is that isEmpty() returns false if String parameter contains just whiltespaces. It considers whitespaces as a state of being non empty.","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p>StringUtils.isBlank() returns true for blanks(just whitespaces)and for null String as well. Actually it trims the Char sequences and then performs check.</p>\n\n<p>StringUtils.isEmpty() returns true when there is no charsequence in the String parameter or when String parameter is null. Difference is that isEmpty() returns false if String parameter contains just whiltespaces. It considers whitespaces as a state of being non empty.</p>\n"},{"tags":[],"owner":{"account_id":8239256,"reputation":29,"user_id":6197372,"display_name":"Apoorva Dhanvanthri"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1460533642,"creation_date":1460533642,"answer_id":36591834,"question_id":23419087,"body_markdown":"    public static boolean isEmpty(String ptext) {\r\n     return ptext == null || ptext.trim().length() == 0;\r\n    }\r\n    \r\n    public static boolean isBlank(String ptext) {\r\n     return ptext == null || ptext.trim().length() == 0;\r\n    }\r\n\r\nBoth have the same code how will isBlank handle white spaces probably you meant isBlankString this has the code for handling whitespaces.\r\n\r\n    public static boolean isBlankString( String pString ) {\r\n     int strLength;\r\n     if( pString == null || (strLength = pString.length()) == 0)\r\n     return true;\r\n     for(int i=0; i &lt; strLength; i++)\r\n     if(!Character.isWhitespace(pString.charAt(i)))\r\n     return false;\r\n     return false;\r\n    }\r\n\r\n","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<pre><code>public static boolean isEmpty(String ptext) {\n return ptext == null || ptext.trim().length() == 0;\n}\n\npublic static boolean isBlank(String ptext) {\n return ptext == null || ptext.trim().length() == 0;\n}\n</code></pre>\n\n<p>Both have the same code how will isBlank handle white spaces probably you meant isBlankString this has the code for handling whitespaces.</p>\n\n<pre><code>public static boolean isBlankString( String pString ) {\n int strLength;\n if( pString == null || (strLength = pString.length()) == 0)\n return true;\n for(int i=0; i &lt; strLength; i++)\n if(!Character.isWhitespace(pString.charAt(i)))\n return false;\n return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":236361,"reputation":14191,"user_id":503804,"accept_rate":70,"display_name":"nilesh"},"down_vote_count":1,"up_vote_count":168,"is_accepted":false,"score":167,"last_activity_date":1507654204,"creation_date":1490996523,"answer_id":43150099,"question_id":23419087,"body_markdown":"The accepted answer from @arshajii is totally correct. However just being more explicit by saying below,\r\n\r\nStringUtils.isBlank()  \r\n\r\n     StringUtils.isBlank(null)      = true\r\n     StringUtils.isBlank(&quot;&quot;)        = true  \r\n     StringUtils.isBlank(&quot; &quot;)       = true  \r\n     StringUtils.isBlank(&quot;bob&quot;)     = false  \r\n     StringUtils.isBlank(&quot;  bob  &quot;) = false\r\n\r\n StringUtils.isEmpty\r\n\r\n     StringUtils.isEmpty(null)      = true\r\n     StringUtils.isEmpty(&quot;&quot;)        = true  \r\n     StringUtils.isEmpty(&quot; &quot;)       = false  \r\n     StringUtils.isEmpty(&quot;bob&quot;)     = false  \r\n     StringUtils.isEmpty(&quot;  bob  &quot;) = false","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p>The accepted answer from @arshajii is totally correct. However just being more explicit by saying below,</p>\n\n<p>StringUtils.isBlank()  </p>\n\n<pre><code> StringUtils.isBlank(null)      = true\n StringUtils.isBlank(\"\")        = true  \n StringUtils.isBlank(\" \")       = true  \n StringUtils.isBlank(\"bob\")     = false  \n StringUtils.isBlank(\"  bob  \") = false\n</code></pre>\n\n<p>StringUtils.isEmpty</p>\n\n<pre><code> StringUtils.isEmpty(null)      = true\n StringUtils.isEmpty(\"\")        = true  \n StringUtils.isEmpty(\" \")       = false  \n StringUtils.isEmpty(\"bob\")     = false  \n StringUtils.isEmpty(\"  bob  \") = false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":887421,"reputation":5160,"user_id":926520,"accept_rate":75,"display_name":"Pankaj"},"down_vote_count":7,"up_vote_count":2,"is_accepted":false,"score":-5,"last_activity_date":1564394575,"creation_date":1564394575,"answer_id":57251452,"question_id":23419087,"body_markdown":"I am answering this because it&#39;s the top result in Google for &quot;String isBlank() Method&quot;.\r\n\r\nIf you are using Java 11 or above, you can use the [String class isBlank()][1] method. This method does the same thing as Apache Commons StringUtils class.\r\n\r\nI have written a small post on this method examples, read it [here][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html#isBlank()\r\n  [2]: https://www.javastring.net/java/string/java-string-isblank-method-examples","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p>I am answering this because it's the top result in Google for \"String isBlank() Method\".</p>\n\n<p>If you are using Java 11 or above, you can use the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"nofollow noreferrer\">String class isBlank()</a> method. This method does the same thing as Apache Commons StringUtils class.</p>\n\n<p>I have written a small post on this method examples, read it <a href=\"https://www.javastring.net/java/string/java-string-isblank-method-examples\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":382603,"reputation":9058,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573171894,"creation_date":1565658040,"answer_id":57469901,"question_id":23419087,"body_markdown":"Instead of using third party lib, use Java 11 isBlank() \r\n\r\n        String str1 = &quot;&quot;;\r\n        String str2 = &quot;   &quot;;\r\n        Character ch = &#39;\\u0020&#39;;\r\n        String str3 =ch+&quot; &quot;+ch;\r\n       \r\n        System.out.println(str1.isEmpty()); //true\r\n        System.out.println(str2.isEmpty()); //false\r\n        System.out.println(str3.isEmpty()); //false            \r\n\r\n        System.out.println(str1.isBlank()); //true\r\n        System.out.println(str2.isBlank()); //true\r\n        System.out.println(str3.isBlank()); //true","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p>Instead of using third party lib, use Java 11 isBlank() </p>\n\n<pre><code>    String str1 = \"\";\n    String str2 = \"   \";\n    Character ch = '\\u0020';\n    String str3 =ch+\" \"+ch;\n\n    System.out.println(str1.isEmpty()); //true\n    System.out.println(str2.isEmpty()); //false\n    System.out.println(str3.isEmpty()); //false            \n\n    System.out.println(str1.isBlank()); //true\n    System.out.println(str2.isBlank()); //true\n    System.out.println(str3.isBlank()); //true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9994433,"reputation":369,"user_id":7392480,"display_name":"disha4mourya"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1567937174,"creation_date":1567937174,"answer_id":57840960,"question_id":23419087,"body_markdown":"The only difference between isBlank() and isEmpty() is:\r\n\r\n    StringUtils.isBlank(&quot; &quot;)       = true //compared string value has space and considered as blank\r\n\r\n    StringUtils.isEmpty(&quot; &quot;)       = false //compared string value has space and not considered as empty\r\n","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p>The only difference between isBlank() and isEmpty() is:</p>\n\n<pre><code>StringUtils.isBlank(\" \")       = true //compared string value has space and considered as blank\n\nStringUtils.isEmpty(\" \")       = false //compared string value has space and not considered as empty\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4930150,"reputation":1059,"user_id":3970199,"display_name":"Muhammad Zahab"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614077330,"creation_date":1614077330,"answer_id":66331675,"question_id":23419087,"body_markdown":"**The bottom line is :**\r\n\r\n    isEmpty take &quot; &quot; as a character but isBlank not. Rest both are same.\r\n\r\n","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p><strong>The bottom line is :</strong></p>\n<pre><code>isEmpty take &quot; &quot; as a character but isBlank not. Rest both are same.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":493879,"reputation":93,"user_id":4949979,"display_name":"iem"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658829321,"creation_date":1658829321,"answer_id":73121322,"question_id":23419087,"body_markdown":"StringUtils.isBlank(myStr) checks if the String myStr is whitespace, empty(&quot;&quot;) or null.","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p>StringUtils.isBlank(myStr) checks if the String myStr is whitespace, empty(&quot;&quot;) or null.</p>\n"},{"tags":[],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663657519,"creation_date":1663657519,"answer_id":73782775,"question_id":23419087,"body_markdown":"Instead of using a third-party library, use Java 11 isBlank()\r\n\r\n    System.out.println(&quot;&quot;.isEmpty());                      //true\r\n    System.out.println(&quot; &quot;.isEmpty());                     //false\r\n    System.out.println((&#39;\\u0020&#39;+&quot; &quot;+&#39;\\u0020&#39;).isEmpty()); //false\r\n    \r\n    System.out.println(&quot;&quot;.isBlank());                      //true\r\n    System.out.println(&quot; &quot;.isBlank());                     //true\r\n    System.out.println((&#39;\\u0020&#39;+&quot; &quot;+&#39;\\u0020&#39;).isBlank()); //true\r\nIf you want to use Java 8 and need isBlank function then try to use third-party library **org.apache.commons.lang3.StringUtils**\r\n\r\nStringUtils.isBlank()\r\n\r\n    System.out.println(StringUtils.isBlank(null));      //true\r\n    System.out.println(StringUtils.isBlank(&quot;&quot;));        //true\r\n    System.out.println(StringUtils.isBlank(&quot; &quot;));       //true\r\n    System.out.println(StringUtils.isBlank(&quot;bob&quot;));     //false\r\n    System.out.println(StringUtils.isBlank(&quot;  bob  &quot;)); //false\r\nStringUtils.isEmpty\r\n\r\n    System.out.println(StringUtils.isEmpty(null));      // = true\r\n    System.out.println(StringUtils.isEmpty(&quot;&quot;));        //= true\r\n    System.out.println(StringUtils.isEmpty(&quot; &quot;));       // = false\r\n    System.out.println(StringUtils.isEmpty(&quot;foo&quot;));     // = false\r\n    System.out.println(StringUtils.isEmpty(&quot;  foo  &quot;)); //= false\r\n\r\n","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p>Instead of using a third-party library, use Java 11 isBlank()</p>\n<pre><code>System.out.println(&quot;&quot;.isEmpty());                      //true\nSystem.out.println(&quot; &quot;.isEmpty());                     //false\nSystem.out.println(('\\u0020'+&quot; &quot;+'\\u0020').isEmpty()); //false\n\nSystem.out.println(&quot;&quot;.isBlank());                      //true\nSystem.out.println(&quot; &quot;.isBlank());                     //true\nSystem.out.println(('\\u0020'+&quot; &quot;+'\\u0020').isBlank()); //true\n</code></pre>\n<p>If you want to use Java 8 and need isBlank function then try to use third-party library <strong>org.apache.commons.lang3.StringUtils</strong></p>\n<p>StringUtils.isBlank()</p>\n<pre><code>System.out.println(StringUtils.isBlank(null));      //true\nSystem.out.println(StringUtils.isBlank(&quot;&quot;));        //true\nSystem.out.println(StringUtils.isBlank(&quot; &quot;));       //true\nSystem.out.println(StringUtils.isBlank(&quot;bob&quot;));     //false\nSystem.out.println(StringUtils.isBlank(&quot;  bob  &quot;)); //false\n</code></pre>\n<p>StringUtils.isEmpty</p>\n<pre><code>System.out.println(StringUtils.isEmpty(null));      // = true\nSystem.out.println(StringUtils.isEmpty(&quot;&quot;));        //= true\nSystem.out.println(StringUtils.isEmpty(&quot; &quot;));       // = false\nSystem.out.println(StringUtils.isEmpty(&quot;foo&quot;));     // = false\nSystem.out.println(StringUtils.isEmpty(&quot;  foo  &quot;)); //= false\n</code></pre>\n"}],"owner":{"account_id":32552,"reputation":5819,"user_id":90416,"accept_rate":44,"display_name":"NSA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":745671,"favorite_count":0,"down_vote_count":1,"up_vote_count":355,"accepted_answer_id":23419120,"answer_count":14,"score":354,"last_activity_date":1673253927,"creation_date":1398991863,"question_id":23419087,"body_markdown":"I ran into some code that has the following: \r\n\r\n    String foo = getvalue(&quot;foo&quot;);\r\n    if (StringUtils.isBlank(foo))\r\n        doStuff();\r\n    else\r\n        doOtherStuff();\r\n\r\nThis appears to be functionally equivalent to the following:\r\n\r\n    String foo = getvalue(&quot;foo&quot;);\r\n    if (foo.isEmpty())\r\n        doStuff();\r\n    else\r\n        doOtherStuff();\r\n\r\nIs a difference between the two (`org.apache.commons.lang3.StringUtils.isBlank` and `java.lang.String.isEmpty`)?","title":"StringUtils.isBlank() vs String.isEmpty()","body":"<p>I ran into some code that has the following: </p>\n\n<pre><code>String foo = getvalue(\"foo\");\nif (StringUtils.isBlank(foo))\n    doStuff();\nelse\n    doOtherStuff();\n</code></pre>\n\n<p>This appears to be functionally equivalent to the following:</p>\n\n<pre><code>String foo = getvalue(\"foo\");\nif (foo.isEmpty())\n    doStuff();\nelse\n    doOtherStuff();\n</code></pre>\n\n<p>Is a difference between the two (<code>org.apache.commons.lang3.StringUtils.isBlank</code> and <code>java.lang.String.isEmpty</code>)?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","http","istio"],"owner":{"account_id":22811756,"reputation":21,"user_id":16962946,"display_name":"Prateek Deshpande"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673253912,"creation_date":1673253912,"question_id":75054850,"body_markdown":"We have Spring Boot applications which use Kubernetes and Istio. The application connects to AWS OpenSearch for CRUD functionality. Recently, the requests to OpenSearch started failing and we encountered this error repeatedly in the application logs:\r\n\r\n`method [POST], host [http://vpc-application-name.us-east-1.es.amazonaws.com], URI [/dummy/uri?param1=dummy1&amp;param2=dummy2], status line [HTTP/1.1 503 Service Unavailable] upstream connect error or disconnect/reset before headers. reset reason: connection failure`\r\n\r\n\r\nWhen we tried to hit this URL through Postman, it was working. We also tried to bash into the Kubernetes pods of this service and tried to curl this URL from there, but we were getting proper response. So it looks like an issue from the Java side. When we restarted the pods, the error was gone.\r\n \r\nWhat could have caused this error?\r\nHow to identify or narrow down the root cause of this issue?\r\n\r\nI am fairly new to Istio, Kubernetes and AWS, and I do not know what to expect. Any help is appreciated.","title":"HTTP/1.1 503 Service Unavailable upstream connect error or disconnect/reset before headers. reset reason: connection failure","body":"<p>We have Spring Boot applications which use Kubernetes and Istio. The application connects to AWS OpenSearch for CRUD functionality. Recently, the requests to OpenSearch started failing and we encountered this error repeatedly in the application logs:</p>\n<p><code>method [POST], host [http://vpc-application-name.us-east-1.es.amazonaws.com], URI [/dummy/uri?param1=dummy1&amp;param2=dummy2], status line [HTTP/1.1 503 Service Unavailable] upstream connect error or disconnect/reset before headers. reset reason: connection failure</code></p>\n<p>When we tried to hit this URL through Postman, it was working. We also tried to bash into the Kubernetes pods of this service and tried to curl this URL from there, but we were getting proper response. So it looks like an issue from the Java side. When we restarted the pods, the error was gone.</p>\n<p>What could have caused this error?\nHow to identify or narrow down the root cause of this issue?</p>\n<p>I am fairly new to Istio, Kubernetes and AWS, and I do not know what to expect. Any help is appreciated.</p>\n"},{"tags":["java","audio","speech-recognition","microphone","vosk"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1626387518,"post_id":68401284,"comment_id":120886675,"body_markdown":"The sample rate of recording (8KHz) does not match the recognizer&#39;s one (16KHz). Maybe try to make them equal. For example change the `AudioFormat` to 16KHz.","body":"The sample rate of recording (8KHz) does not match the recognizer&#39;s one (16KHz). Maybe try to make them equal. For example change the <code>AudioFormat</code> to 16KHz."},{"owner":{"account_id":22220963,"reputation":23,"user_id":16458639,"display_name":"Squalmals"},"score":0,"creation_date":1626416711,"post_id":68401284,"comment_id":120891617,"body_markdown":"Making them equal doesn&#39;t seem to fix it, unfortunately.","body":"Making them equal doesn&#39;t seem to fix it, unfortunately."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1626463017,"post_id":68401284,"comment_id":120909090,"body_markdown":"It sure looks like what you have should be good. From what you have described, the speakers are playing back what the mic is picking up? (You have confirmed data is being sent to VOSK). Does VOSK work if you have a .wav file source instead (have you confirmed their basic example works)? It would be really poor if there was some sort of &quot;on&quot; switch for the VOSK given this isn&#39;t shown in their example. Did you see their &quot;test&quot; code? https://github.com/alphacep/vosk-api/blob/master/java/lib/src/test/java/org/vosk/test/DecoderTest.java","body":"It sure looks like what you have should be good. From what you have described, the speakers are playing back what the mic is picking up? (You have confirmed data is being sent to VOSK). Does VOSK work if you have a .wav file source instead (have you confirmed their basic example works)? It would be really poor if there was some sort of &quot;on&quot; switch for the VOSK given this isn&#39;t shown in their example. Did you see their &quot;test&quot; code? <a href=\"https://github.com/alphacep/vosk-api/blob/master/java/lib/src/test/java/org/vosk/test/DecoderTest.java\" rel=\"nofollow noreferrer\">github.com/alphacep/vosk-api/blob/master/java/lib/src/test/j&zwnj;&#8203;ava/&hellip;</a>"},{"owner":{"account_id":22220963,"reputation":23,"user_id":16458639,"display_name":"Squalmals"},"score":0,"creation_date":1626644104,"post_id":68401284,"comment_id":120942136,"body_markdown":"@PhilFreihofner, yes, the speakers do play back the microphone audio correctly, and I have also confirmed that the basic example works utilizing a .wav file. VOSK has very little documentation, unfortunately, so I don&#39;t know if there is an &quot;on&quot; switch. I am exploring other possibilities to java VOSK, but it would be really ideal if I was able to get this working. Do you have any ideas for alternatives to this solution or ways to make this work?","body":"@PhilFreihofner, yes, the speakers do play back the microphone audio correctly, and I have also confirmed that the basic example works utilizing a .wav file. VOSK has very little documentation, unfortunately, so I don&#39;t know if there is an &quot;on&quot; switch. I am exploring other possibilities to java VOSK, but it would be really ideal if I was able to get this working. Do you have any ideas for alternatives to this solution or ways to make this work?"},{"owner":{"account_id":7405785,"reputation":2672,"user_id":5634769,"display_name":"gpasch"},"score":0,"creation_date":1626651044,"post_id":68401284,"comment_id":120943204,"body_markdown":"You settled on VOSK? Did you try Sphinx? I&#39;m no expert but this is the more established solution. But if yu settled on something that has no Documentation maybe that fits You.","body":"You settled on VOSK? Did you try Sphinx? I&#39;m no expert but this is the more established solution. But if yu settled on something that has no Documentation maybe that fits You."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1626652438,"post_id":68401284,"comment_id":120943361,"body_markdown":"Good to have those cases established as a baseline. The successful .wav playback suggests the idea of an &quot;unflipped on switch&quot; is not the issue. Sorry I don&#39;t have much in the way of concrete ideas. The main thing I&#39;m thinking of is to try using the library in source form, which would allow you to enter some debug points into their code, and perhaps you could then verify the path of the data through their library and discover the point where it disappears. But that only works to the extent that operations are exposed and being handled in Java, and not sent to another system.","body":"Good to have those cases established as a baseline. The successful .wav playback suggests the idea of an &quot;unflipped on switch&quot; is not the issue. Sorry I don&#39;t have much in the way of concrete ideas. The main thing I&#39;m thinking of is to try using the library in source form, which would allow you to enter some debug points into their code, and perhaps you could then verify the path of the data through their library and discover the point where it disappears. But that only works to the extent that operations are exposed and being handled in Java, and not sent to another system."}],"answers":[{"tags":[],"owner":{"account_id":15757842,"reputation":106,"user_id":11370465,"display_name":"user11370465"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1628663553,"creation_date":1628663553,"answer_id":68737039,"question_id":68401284,"body_markdown":"this code work correctly for me you can use this:\r\n\r\n        public static void main(String[] args) {\r\n        \r\n        LibVosk.setLogLevel(LogLevel.DEBUG);\r\n        \r\n        AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 60000, 16, 2, 4, 44100, false);\r\n        DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\r\n        TargetDataLine microphone;\r\n        SourceDataLine speakers;\r\n\r\n        try (Model model = new Model(&quot;model&quot;);\r\n             Recognizer recognizer = new Recognizer(model, 120000)) {\r\n            try {\r\n\r\n                microphone = (TargetDataLine) AudioSystem.getLine(info);\r\n                microphone.open(format);\r\n                microphone.start();\r\n\r\n                ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n                int numBytesRead;\r\n                int CHUNK_SIZE = 1024;\r\n                int bytesRead = 0;\r\n\r\n                DataLine.Info dataLineInfo = new DataLine.Info(SourceDataLine.class, format);\r\n                speakers = (SourceDataLine) AudioSystem.getLine(dataLineInfo);\r\n                speakers.open(format);\r\n                speakers.start();\r\n                byte[] b = new byte[4096];\r\n\r\n                while (bytesRead &lt;= 100000000) {\r\n                    numBytesRead = microphone.read(b, 0, CHUNK_SIZE);\r\n                    bytesRead += numBytesRead;\r\n\r\n                    out.write(b, 0, numBytesRead);\r\n\r\n                    speakers.write(b, 0, numBytesRead);\r\n\r\n                    if (recognizer.acceptWaveForm(b, numBytesRead)) {\r\n                        System.out.println(recognizer.getResult());\r\n                    } else {\r\n                        System.out.println(recognizer.getPartialResult());\r\n                    }\r\n                }\r\n                System.out.println(recognizer.getFinalResult());\r\n                speakers.drain();\r\n                speakers.close();\r\n                microphone.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Use the microphone in java for speech recognition with VOSK","body":"<p>this code work correctly for me you can use this:</p>\n<pre><code>    public static void main(String[] args) {\n    \n    LibVosk.setLogLevel(LogLevel.DEBUG);\n    \n    AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 60000, 16, 2, 4, 44100, false);\n    DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\n    TargetDataLine microphone;\n    SourceDataLine speakers;\n\n    try (Model model = new Model(&quot;model&quot;);\n         Recognizer recognizer = new Recognizer(model, 120000)) {\n        try {\n\n            microphone = (TargetDataLine) AudioSystem.getLine(info);\n            microphone.open(format);\n            microphone.start();\n\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            int numBytesRead;\n            int CHUNK_SIZE = 1024;\n            int bytesRead = 0;\n\n            DataLine.Info dataLineInfo = new DataLine.Info(SourceDataLine.class, format);\n            speakers = (SourceDataLine) AudioSystem.getLine(dataLineInfo);\n            speakers.open(format);\n            speakers.start();\n            byte[] b = new byte[4096];\n\n            while (bytesRead &lt;= 100000000) {\n                numBytesRead = microphone.read(b, 0, CHUNK_SIZE);\n                bytesRead += numBytesRead;\n\n                out.write(b, 0, numBytesRead);\n\n                speakers.write(b, 0, numBytesRead);\n\n                if (recognizer.acceptWaveForm(b, numBytesRead)) {\n                    System.out.println(recognizer.getResult());\n                } else {\n                    System.out.println(recognizer.getPartialResult());\n                }\n            }\n            System.out.println(recognizer.getFinalResult());\n            speakers.drain();\n            speakers.close();\n            microphone.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14517787,"reputation":21,"user_id":10486365,"display_name":"orjander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673253887,"creation_date":1673225408,"answer_id":75052331,"question_id":68401284,"body_markdown":"I didn&#39;t get any of the code snippets from Squalmals or user11370465 working. In the Vosk installation documentation they say\r\n\r\n&gt;When using your own audio file make sure it has the correct format - PCM 16khz 16bit mono.\r\n\r\nThe following code works on my system, Linux Mint 20, OpenJDK 11.\r\n\r\n    public static void main(String[] argv) throws Exception{\r\n        LibVosk.setLogLevel(LogLevel.DEBUG);\r\n\r\n        AudioFormat format = new AudioFormat(16000f, 16, 1, true, false);\r\n        DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\r\n        TargetDataLine microphone;\r\n\r\n        Model model = new Model(&quot;my-path/vosk-model-small-en-us-0.15&quot;);\r\n        Recognizer recognizer = new Recognizer(model, 16000);\r\n\r\n        microphone = (TargetDataLine)AudioSystem.getLine(info);\r\n        microphone.open(format);\r\n        microphone.start();\r\n\r\n        int numBytesRead;\r\n        int CHUNK_SIZE = 4096;\r\n        int bytesRead = 0;\r\n\r\n        byte[] b = new byte[4096];\r\n\r\n        while(bytesRead&lt;=100000000){\r\n            numBytesRead = microphone.read(b, 0, CHUNK_SIZE);\r\n\r\n            bytesRead += numBytesRead;\r\n\r\n            if(recognizer.acceptWaveForm(b, numBytesRead)){\r\n                System.out.println(recognizer.getResult());\r\n            }else{\r\n                System.out.println(recognizer.getPartialResult());\r\n            }\r\n        }\r\n\r\n        System.out.println(recognizer.getFinalResult());\r\n        \r\n        microphone.close();\r\n    }\r\n\r\nAlso, the JNA Vosk wrapper didn&#39;t work right out of the box for me. In LibVosk.java I had to change\r\n\r\n    Native.register(LibVosk.class, &quot;vosk&quot;)\r\n\r\nto\r\n\r\n    Native.register(LibVosk.class, &quot;my-path/lib/python3.8/site-packages/vosk/libvosk.so&quot;);\r\n\r\nIn general, the Vosk speech recognition toolkit seems to work very well compared to other off-line speech recognition tools I have tried out. (Haven&#39;t tried CMUSphinx yet.) Vosk really needs better documentation and/or code comments though.","title":"Use the microphone in java for speech recognition with VOSK","body":"<p>I didn't get any of the code snippets from Squalmals or user11370465 working. In the Vosk installation documentation they say</p>\n<blockquote>\n<p>When using your own audio file make sure it has the correct format - PCM 16khz 16bit mono.</p>\n</blockquote>\n<p>The following code works on my system, Linux Mint 20, OpenJDK 11.</p>\n<pre><code>public static void main(String[] argv) throws Exception{\n    LibVosk.setLogLevel(LogLevel.DEBUG);\n\n    AudioFormat format = new AudioFormat(16000f, 16, 1, true, false);\n    DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\n    TargetDataLine microphone;\n\n    Model model = new Model(&quot;my-path/vosk-model-small-en-us-0.15&quot;);\n    Recognizer recognizer = new Recognizer(model, 16000);\n\n    microphone = (TargetDataLine)AudioSystem.getLine(info);\n    microphone.open(format);\n    microphone.start();\n\n    int numBytesRead;\n    int CHUNK_SIZE = 4096;\n    int bytesRead = 0;\n\n    byte[] b = new byte[4096];\n\n    while(bytesRead&lt;=100000000){\n        numBytesRead = microphone.read(b, 0, CHUNK_SIZE);\n\n        bytesRead += numBytesRead;\n\n        if(recognizer.acceptWaveForm(b, numBytesRead)){\n            System.out.println(recognizer.getResult());\n        }else{\n            System.out.println(recognizer.getPartialResult());\n        }\n    }\n\n    System.out.println(recognizer.getFinalResult());\n    \n    microphone.close();\n}\n</code></pre>\n<p>Also, the JNA Vosk wrapper didn't work right out of the box for me. In LibVosk.java I had to change</p>\n<pre><code>Native.register(LibVosk.class, &quot;vosk&quot;)\n</code></pre>\n<p>to</p>\n<pre><code>Native.register(LibVosk.class, &quot;my-path/lib/python3.8/site-packages/vosk/libvosk.so&quot;);\n</code></pre>\n<p>In general, the Vosk speech recognition toolkit seems to work very well compared to other off-line speech recognition tools I have tried out. (Haven't tried CMUSphinx yet.) Vosk really needs better documentation and/or code comments though.</p>\n"}],"owner":{"account_id":22220963,"reputation":23,"user_id":16458639,"display_name":"Squalmals"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2798,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68737039,"answer_count":2,"score":2,"last_activity_date":1673253887,"creation_date":1626386883,"question_id":68401284,"body_markdown":"I am trying to add real-time speech recognition to my java project (preferably offline). Through some googling and trying other solutions, I settled on using VOSK for my speech recognition. The primary problem I am encountering, however, is that VOSK has very little documentation and comes with only one example file for java which is used to extract text from a prerecorded wav file, shown below.\r\n```\r\npublic static void main(String[] argv) throws IOException, UnsupportedAudioFileException {\r\n        LibVosk.setLogLevel(LogLevel.DEBUG);\r\n\r\n        try (Model model = new Model(&quot;src\\\\main\\\\resources\\\\model&quot;);\r\n                    InputStream ais = AudioSystem.getAudioInputStream(new BufferedInputStream(new FileInputStream(&quot;src\\\\main\\\\resources\\\\python_example_test.wav&quot;)));\r\n                    Recognizer recognizer = new Recognizer(model, 16000)) {\r\n\r\n            int nbytes;\r\n            byte[] b = new byte[4096];\r\n            while ((nbytes = ais.read(b)) &gt;= 0) {\r\n            \tSystem.out.println(nbytes);\r\n                if (recognizer.acceptWaveForm(b, nbytes)) {\r\n                    System.out.println(recognizer.getResult());\r\n                } else {\r\n                    System.out.println(recognizer.getPartialResult());\r\n                }\r\n            }\r\n\r\n            System.out.println(recognizer.getFinalResult());\r\n        }\r\n    }\r\n```\r\nI attempted to convert this into something that would accept microphone audio, shown below:\r\n```\r\npublic static void main(String[] args) {\r\n\t\tLibVosk.setLogLevel(LogLevel.DEBUG);\r\n\t\tAudioFormat format = new AudioFormat(8000.0f, 16, 1, true, true);\r\n\t\tTargetDataLine microphone;\r\n\t\tSourceDataLine speakers;\r\n\r\n\t\ttry (Model model = new Model(&quot;src\\\\main\\\\resources\\\\model&quot;);\r\n\t\t\t\tRecognizer recognizer = new Recognizer(model, 16000)) {\r\n\t\t\ttry {\r\n\t\t\t\tmicrophone = AudioSystem.getTargetDataLine(format);\r\n\r\n\t\t\t\tDataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\r\n\t\t\t\tmicrophone = (TargetDataLine) AudioSystem.getLine(info);\r\n\t\t\t\tmicrophone.open(format);\r\n\t\t\t\tmicrophone.start();\r\n\t\t\t\t\r\n\t\t\t\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\t\t\t\tint numBytesRead;\r\n\t\t\t\tint CHUNK_SIZE = 1024;\r\n\t\t\t\tint bytesRead = 0;\r\n\t\t\t\t\r\n\t\t\t\tDataLine.Info dataLineInfo = new DataLine.Info(SourceDataLine.class, format);\r\n\t\t\t\tspeakers = (SourceDataLine) AudioSystem.getLine(dataLineInfo);\r\n\t\t\t\tspeakers.open(format);\r\n\t\t\t\tspeakers.start();\r\n\t\t\t\tbyte[] b = new byte[4096];\r\n\r\n\t\t\t\twhile (bytesRead &lt;= 100000) {\r\n\t\t\t\t\tnumBytesRead = microphone.read(b, 0, CHUNK_SIZE);\r\n\t\t\t\t\tbytesRead += numBytesRead;\r\n\t\t\t\t\t\r\n\t\t\t\t\tout.write(b, 0, numBytesRead); \r\n\r\n\t\t\t\t\tspeakers.write(b, 0, numBytesRead);\r\n\r\n\t\t\t\t\tif (recognizer.acceptWaveForm(b, numBytesRead)) {\r\n\t\t\t\t\t\tSystem.out.println(recognizer.getResult());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tSystem.out.println(recognizer.getPartialResult());\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(recognizer.getFinalResult());\r\n\t\t\t\tspeakers.drain();\r\n\t\t\t\tspeakers.close();\r\n\t\t\t\tmicrophone.close();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n```\r\nThis appears to be correctly capturing microphone data correctly (as it also outputs to the speakers) but VOSK shows no input, constantly printing results as empty strings. What am I doing wrong? Is what I am attempting even possible? Should I try to find a different library for speech recognition?","title":"Use the microphone in java for speech recognition with VOSK","body":"<p>I am trying to add real-time speech recognition to my java project (preferably offline). Through some googling and trying other solutions, I settled on using VOSK for my speech recognition. The primary problem I am encountering, however, is that VOSK has very little documentation and comes with only one example file for java which is used to extract text from a prerecorded wav file, shown below.</p>\n<pre><code>public static void main(String[] argv) throws IOException, UnsupportedAudioFileException {\n        LibVosk.setLogLevel(LogLevel.DEBUG);\n\n        try (Model model = new Model(&quot;src\\\\main\\\\resources\\\\model&quot;);\n                    InputStream ais = AudioSystem.getAudioInputStream(new BufferedInputStream(new FileInputStream(&quot;src\\\\main\\\\resources\\\\python_example_test.wav&quot;)));\n                    Recognizer recognizer = new Recognizer(model, 16000)) {\n\n            int nbytes;\n            byte[] b = new byte[4096];\n            while ((nbytes = ais.read(b)) &gt;= 0) {\n                System.out.println(nbytes);\n                if (recognizer.acceptWaveForm(b, nbytes)) {\n                    System.out.println(recognizer.getResult());\n                } else {\n                    System.out.println(recognizer.getPartialResult());\n                }\n            }\n\n            System.out.println(recognizer.getFinalResult());\n        }\n    }\n</code></pre>\n<p>I attempted to convert this into something that would accept microphone audio, shown below:</p>\n<pre><code>public static void main(String[] args) {\n        LibVosk.setLogLevel(LogLevel.DEBUG);\n        AudioFormat format = new AudioFormat(8000.0f, 16, 1, true, true);\n        TargetDataLine microphone;\n        SourceDataLine speakers;\n\n        try (Model model = new Model(&quot;src\\\\main\\\\resources\\\\model&quot;);\n                Recognizer recognizer = new Recognizer(model, 16000)) {\n            try {\n                microphone = AudioSystem.getTargetDataLine(format);\n\n                DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\n                microphone = (TargetDataLine) AudioSystem.getLine(info);\n                microphone.open(format);\n                microphone.start();\n                \n                ByteArrayOutputStream out = new ByteArrayOutputStream();\n                int numBytesRead;\n                int CHUNK_SIZE = 1024;\n                int bytesRead = 0;\n                \n                DataLine.Info dataLineInfo = new DataLine.Info(SourceDataLine.class, format);\n                speakers = (SourceDataLine) AudioSystem.getLine(dataLineInfo);\n                speakers.open(format);\n                speakers.start();\n                byte[] b = new byte[4096];\n\n                while (bytesRead &lt;= 100000) {\n                    numBytesRead = microphone.read(b, 0, CHUNK_SIZE);\n                    bytesRead += numBytesRead;\n                    \n                    out.write(b, 0, numBytesRead); \n\n                    speakers.write(b, 0, numBytesRead);\n\n                    if (recognizer.acceptWaveForm(b, numBytesRead)) {\n                        System.out.println(recognizer.getResult());\n                    } else {\n                        System.out.println(recognizer.getPartialResult());\n                    }\n                }\n                System.out.println(recognizer.getFinalResult());\n                speakers.drain();\n                speakers.close();\n                microphone.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n        }\n\n    }\n</code></pre>\n<p>This appears to be correctly capturing microphone data correctly (as it also outputs to the speakers) but VOSK shows no input, constantly printing results as empty strings. What am I doing wrong? Is what I am attempting even possible? Should I try to find a different library for speech recognition?</p>\n"},{"tags":["java","foreach","stream"],"owner":{"account_id":25374906,"reputation":1,"user_id":19188181,"display_name":"Surya Venkatesan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673253597,"creation_date":1672758055,"question_id":74995077,"body_markdown":"I want to achieve the below logic using streams in java. \r\n\r\n```java\r\nfor (Plan plan : organization.getPlan()) {\r\n        \tif(plan.getUserCount()==0) {\r\n        \t\treturn DataFetcherResult.&lt;com.xerago.acquigo.poc.dgmodels.types.User&gt;newResult().error(\r\n                        GraphqlErrorBuilder.newError()\r\n                                .message(&quot;User Count Exceeded!!&quot;)\r\n                                .errorType(ErrorType.FAILED_PRECONDITION)\r\n                                .build())\r\n                .build();\r\n        \t}\r\n        \t\tplan.setUserCount(plan.getUserCount()-1);\r\n        \t}\r\n```\r\nI want to return error graphql message when specific conditions are met or do the else part using stream","title":"How to convert my foreach loop into stream in java","body":"<p>I want to achieve the below logic using streams in java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Plan plan : organization.getPlan()) {\n            if(plan.getUserCount()==0) {\n                return DataFetcherResult.&lt;com.xerago.acquigo.poc.dgmodels.types.User&gt;newResult().error(\n                        GraphqlErrorBuilder.newError()\n                                .message(&quot;User Count Exceeded!!&quot;)\n                                .errorType(ErrorType.FAILED_PRECONDITION)\n                                .build())\n                .build();\n            }\n                plan.setUserCount(plan.getUserCount()-1);\n            }\n</code></pre>\n<p>I want to return error graphql message when specific conditions are met or do the else part using stream</p>\n"},{"tags":["java","string","is-empty","java-11"],"comments":[{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":5,"creation_date":1531385573,"post_id":51299126,"comment_id":89579298,"body_markdown":"Downvoted because the questions is somewhat arbitrary (`isempty` and `isBlank` pretty much tell you what the difference is) and easily answerable by looking at their Javadoc.","body":"Downvoted because the questions is somewhat arbitrary (<code>isempty</code> and <code>isBlank</code> pretty much tell you what the difference is) and easily answerable by looking at their Javadoc."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1531385620,"post_id":51299126,"comment_id":89579335,"body_markdown":"On the contrary to the ease of complexity. Would actually await someone to pitch in and speak about any difference(if) in the performance of the existing solution versus the `isBlank`, since the JDK link reads *&quot;avoids any object construction...&quot;* as well. :) Couldn&#39;t find the numbers on the link either.","body":"On the contrary to the ease of complexity. Would actually await someone to pitch in and speak about any difference(if) in the performance of the existing solution versus the <code>isBlank</code>, since the JDK link reads <i>&quot;avoids any object construction...&quot;</i> as well. :) Couldn&#39;t find the numbers on the link either."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":3,"creation_date":1556892938,"post_id":51299126,"comment_id":98593978,"body_markdown":"Technically, the question deserves a down-vote for lack of research. But its one of those questions that are probably searched often and as long as theres no duplicate, well. So it probably is worth having it here on SO.","body":"Technically, the question deserves a down-vote for lack of research. But its one of those questions that are probably searched often and as long as theres no duplicate, well. So it probably is worth having it here on SO."},{"owner":{"account_id":216244,"reputation":2037,"user_id":471362,"accept_rate":78,"display_name":"Bal"},"score":9,"creation_date":1557942343,"post_id":51299126,"comment_id":98939172,"body_markdown":"Upvoting because I just googled it and this was the first result.","body":"Upvoting because I just googled it and this was the first result."},{"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"score":2,"creation_date":1626824739,"post_id":51299126,"comment_id":120994589,"body_markdown":"Upvoting. The answer is not crystal clear, in particular for people who first language is not English.","body":"Upvoting. The answer is not crystal clear, in particular for people who first language is not English."}],"answers":[{"tags":[],"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"down_vote_count":1,"up_vote_count":54,"is_accepted":true,"score":53,"last_activity_date":1533970174,"creation_date":1531378699,"answer_id":51299127,"question_id":51299126,"body_markdown":"**isEmpty()**\r\n\r\nThe java string `isEmpty()` method checks if this string is empty. It returns **true**, if the length of the string is 0 otherwise false **e.g.** \r\n\r\n    System.out.println(&quot;&quot;.isEmpty()); // Prints - True\r\n    System.out.println(&quot; &quot;.isEmpty()); //Prints - False \r\n\r\n\r\n**[Java 11 - isBlank()](https://bugs.openjdk.java.net/browse/JDK-8200437)**\r\n\r\nThe new instance method `java.lang.String.isBlank()` **returns true if the string is empty or contains only white space**, \r\nwhere whitespace is defined as any codepoint that returns true when passed to Character#isWhitespace(int).\r\n\r\n\r\n    boolean blank = string.isBlank();\r\n\r\n\r\n----------\r\n\r\n\r\n**Before Java 11** \r\n \r\n\r\n    boolean blank = string.trim().isEmpty();\r\n\r\n\r\n**After Java 11** \r\n\r\n    boolean blank = string.isBlank();","title":"Difference between isEmpty() and isBlank() Method in java 11","body":"<p><strong>isEmpty()</strong></p>\n\n<p>The java string <code>isEmpty()</code> method checks if this string is empty. It returns <strong>true</strong>, if the length of the string is 0 otherwise false <strong>e.g.</strong> </p>\n\n<pre><code>System.out.println(\"\".isEmpty()); // Prints - True\nSystem.out.println(\" \".isEmpty()); //Prints - False \n</code></pre>\n\n<p><strong><a href=\"https://bugs.openjdk.java.net/browse/JDK-8200437\" rel=\"noreferrer\">Java 11 - isBlank()</a></strong></p>\n\n<p>The new instance method <code>java.lang.String.isBlank()</code> <strong>returns true if the string is empty or contains only white space</strong>, \nwhere whitespace is defined as any codepoint that returns true when passed to Character#isWhitespace(int).</p>\n\n<pre><code>boolean blank = string.isBlank();\n</code></pre>\n\n<hr>\n\n<p><strong>Before Java 11</strong> </p>\n\n<pre><code>boolean blank = string.trim().isEmpty();\n</code></pre>\n\n<p><strong>After Java 11</strong> </p>\n\n<pre><code>boolean blank = string.isBlank();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":302854,"reputation":4422,"user_id":611446,"accept_rate":82,"display_name":"Sasikumar Murugesan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1556893128,"creation_date":1556892788,"answer_id":55971582,"question_id":51299126,"body_markdown":"Java 11 added has new method called `.isBlank()` in `String` class\r\n\r\n 1. `isBlank()` method is equal to `str.trim().isEmpty()` in earlier to java 11 versions\r\n 2. `isEmpty()` : Returns true if, and only if, length() is 0\r\n\r\n\r\nThis is the internal implementation of `isBlank()` method in `String` class of java 11\r\n\r\n    public boolean isBlank() {\r\n        return indexOfNonWhitespace() == length();\r\n    }\r\n\r\n    private int indexOfNonWhitespace() {\r\n        if (isLatin1()) {\r\n            return StringLatin1.indexOfNonWhitespace(value);\r\n        } else {\r\n            return StringUTF16.indexOfNonWhitespace(value);\r\n        }\r\n    }\r\n    ","title":"Difference between isEmpty() and isBlank() Method in java 11","body":"<p>Java 11 added has new method called <code>.isBlank()</code> in <code>String</code> class</p>\n\n<ol>\n<li><code>isBlank()</code> method is equal to <code>str.trim().isEmpty()</code> in earlier to java 11 versions</li>\n<li><code>isEmpty()</code> : Returns true if, and only if, length() is 0</li>\n</ol>\n\n<p>This is the internal implementation of <code>isBlank()</code> method in <code>String</code> class of java 11</p>\n\n<pre><code>public boolean isBlank() {\n    return indexOfNonWhitespace() == length();\n}\n\nprivate int indexOfNonWhitespace() {\n    if (isLatin1()) {\n        return StringLatin1.indexOfNonWhitespace(value);\n    } else {\n        return StringUTF16.indexOfNonWhitespace(value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18569695,"reputation":121,"user_id":13531769,"display_name":"Vyom"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1591091162,"creation_date":1591091162,"answer_id":62149191,"question_id":51299126,"body_markdown":"The difference is as below :-\r\n\r\nisBlank() returns true for the string having only white space characters whereas isEmpty() will return false for such strings.\r\n\r\n    (&quot;\\n\\r  &quot;).isBlank();  //returns true\r\n    (&quot;\\n\\r  &quot;).isEmpty();  //returns false\r\n\r\nFor detailed explanation with Code Example visit : [isBlank() vs isEmpty() in String class Java][1]\r\n\r\n\r\n  [1]: https://techforhumans.site/java/general-java/isblank-vs-isempty-in-string-class-java/","title":"Difference between isEmpty() and isBlank() Method in java 11","body":"<p>The difference is as below :-</p>\n\n<p>isBlank() returns true for the string having only white space characters whereas isEmpty() will return false for such strings.</p>\n\n<pre><code>(\"\\n\\r  \").isBlank();  //returns true\n(\"\\n\\r  \").isEmpty();  //returns false\n</code></pre>\n\n<p>For detailed explanation with Code Example visit : <a href=\"https://techforhumans.site/java/general-java/isblank-vs-isempty-in-string-class-java/\" rel=\"noreferrer\">isBlank() vs isEmpty() in String class Java</a></p>\n"},{"tags":[],"owner":{"account_id":4134530,"reputation":395,"user_id":3391460,"display_name":"Manas Ranjan Mahapatra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673253475,"creation_date":1673253475,"answer_id":75054795,"question_id":51299126,"body_markdown":"**When to use isNull, isEmpty, isBlank** **isNull(&lt;string&gt;)** **Checks if the &lt;string&gt; value is &quot;null&quot;.**\r\n------------------------------------------------------------------------\r\n\r\n    isNull(null) = true\r\n    isNull(&quot;&quot;) = false\r\n    isNull(&quot; &quot;) = false\r\n    isNull(&quot;bob&quot;) = false\r\n    isNull(&quot; bob &quot;) = false\r\n\r\nReturns true if the string is null.\r\n\r\n**isEmpty(&lt;string&gt;)** **Checks if the &lt;string&gt; value is an empty string containing no characters or whitespace.**\r\n------------------------------------------------------------------------\r\n\r\n*\r\n\r\n    isEmpty(null) = true\r\n    isEmpty(&quot;&quot;) = true\r\n    isEmpty(&quot; &quot;) = false\r\n    isEmpty(&quot;bob&quot;) = false\r\n    isEmpty(&quot; bob &quot;) = false\r\n\r\n*\r\nReturns true if the string is null or empty.\r\n\r\n**\r\n\r\nisBlank(&lt;string&gt;) Checks if the value is null, empty, or contains only whitespace characters.\r\n------------------------------------------------------------------------\r\n\r\n**\r\n\r\n*\r\n\r\n    isBlank(null) = true\r\n    isBlank(&quot;&quot;) = true\r\n    isBlank(&quot; &quot;) = true\r\n    isBlank(&quot;bob&quot;) = false\r\n    isBlank(&quot; bob &quot;) = false\r\n\r\n*\r\nReturns true if the string is null, empty, or only whitespace.","title":"Difference between isEmpty() and isBlank() Method in java 11","body":"<h2><strong>When to use isNull, isEmpty, isBlank</strong> <strong>isNull()</strong> <strong>Checks if the  value is &quot;null&quot;.</strong></h2>\n<pre><code>isNull(null) = true\nisNull(&quot;&quot;) = false\nisNull(&quot; &quot;) = false\nisNull(&quot;bob&quot;) = false\nisNull(&quot; bob &quot;) = false\n</code></pre>\n<p>Returns true if the string is null.</p>\n<h2><strong>isEmpty()</strong> <strong>Checks if the  value is an empty string containing no characters or whitespace.</strong></h2>\n<ul>\n<li></li>\n</ul>\n<pre><code>isEmpty(null) = true\nisEmpty(&quot;&quot;) = true\nisEmpty(&quot; &quot;) = false\nisEmpty(&quot;bob&quot;) = false\nisEmpty(&quot; bob &quot;) = false\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<p>Returns true if the string is null or empty.</p>\n<p>**</p>\n<h2>isBlank() Checks if the value is null, empty, or contains only whitespace characters.</h2>\n<p>**</p>\n<p>*</p>\n<pre><code>isBlank(null) = true\nisBlank(&quot;&quot;) = true\nisBlank(&quot; &quot;) = true\nisBlank(&quot;bob&quot;) = false\nisBlank(&quot; bob &quot;) = false\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<p>Returns true if the string is null, empty, or only whitespace.</p>\n"}],"owner":{"account_id":124772,"reputation":10425,"user_id":320087,"accept_rate":90,"display_name":"Niraj Sonawane"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51842,"favorite_count":0,"down_vote_count":8,"up_vote_count":45,"accepted_answer_id":51299127,"answer_count":4,"score":37,"last_activity_date":1673253475,"creation_date":1531378699,"question_id":51299126,"body_markdown":"**Java 11** has added A new instance method  `isBlank()` to `java.lang.String` class.\r\n\r\nWhat&#39;s the basic difference between the existing `isEmpty` and newly added `isBlank()` method?","title":"Difference between isEmpty() and isBlank() Method in java 11","body":"<p><strong>Java 11</strong> has added A new instance method  <code>isBlank()</code> to <code>java.lang.String</code> class.</p>\n\n<p>What's the basic difference between the existing <code>isEmpty</code> and newly added <code>isBlank()</code> method?</p>\n"},{"tags":["java","bash","shell","processbuilder","gnome-terminal"],"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":1,"creation_date":1672353883,"post_id":74956629,"comment_id":132275264,"body_markdown":"Use the absolute path `/usr/bin/xmodmap`","body":"Use the absolute path <code>&#47;usr&#47;bin&#47;xmodmap</code>"},{"owner":{"account_id":20898461,"reputation":33,"user_id":15352086,"display_name":"anon"},"score":0,"creation_date":1672354162,"post_id":74956629,"comment_id":132275322,"body_markdown":"@Stewart Thank you for the quick response! If I do so I get &quot;/usr/bin/bash: line 1: /usr/bin/xmodmap: No such file or directory&quot;.","body":"@Stewart Thank you for the quick response! If I do so I get &quot;/usr/bin/bash: line 1: /usr/bin/xmodmap: No such file or directory&quot;."},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":1,"creation_date":1672355340,"post_id":74956629,"comment_id":132275548,"body_markdown":"And what happens when you do `which xmodmap` ?","body":"And what happens when you do <code>which xmodmap</code> ?"},{"owner":{"account_id":20898461,"reputation":33,"user_id":15352086,"display_name":"anon"},"score":0,"creation_date":1672356329,"post_id":74956629,"comment_id":132275708,"body_markdown":"@Stewart returns &quot;/usr/bin/xmodmap&quot;","body":"@Stewart returns &quot;/usr/bin/xmodmap&quot;"},{"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"score":2,"creation_date":1672356366,"post_id":74956629,"comment_id":132275714,"body_markdown":"Why `bash` to invoke `xmodmap`?","body":"Why <code>bash</code> to invoke <code>xmodmap</code>?"},{"owner":{"account_id":20898461,"reputation":33,"user_id":15352086,"display_name":"anon"},"score":0,"creation_date":1672357769,"post_id":74956629,"comment_id":132275921,"body_markdown":"@DiegoTorresMilano I was looking for a workaround, since only using `new ProcessBuilder(&quot;xmodmap ...&quot;)` leads to `java.io.IOException: Cannot run program &quot;xmodmap&quot;: error=2, No such file or directory`","body":"@DiegoTorresMilano I was looking for a workaround, since only using <code>new ProcessBuilder(&quot;xmodmap ...&quot;)</code> leads to <code>java.io.IOException: Cannot run program &quot;xmodmap&quot;: error=2, No such file or directory</code>"},{"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"score":1,"creation_date":1672360444,"post_id":74956629,"comment_id":132276320,"body_markdown":"Use absolute path and multiple strings:  `new ProcessBuilder(&quot;/usr/bin/xmodmap&quot;, &quot;-e&quot;, &quot;keycode 133 = Meta_L&quot;)` and you also simplify the quotes","body":"Use absolute path and multiple strings:  <code>new ProcessBuilder(&quot;&#47;usr&#47;bin&#47;xmodmap&quot;, &quot;-e&quot;, &quot;keycode 133 = Meta_L&quot;)</code> and you also simplify the quotes"},{"owner":{"account_id":20898461,"reputation":33,"user_id":15352086,"display_name":"anon"},"score":0,"creation_date":1672385364,"post_id":74956629,"comment_id":132279404,"body_markdown":"@DiegoTorresMilano ```ProcessBuilder processBuilder = new ProcessBuilder(&quot;/usr/bin/xmodmap&quot;, &quot;-e&quot;, &quot;keycode 133 = Meta_L&quot;);``` throws ```java.io.IOException: Cannot run program &quot;/usr/bin/xmodmap&quot;: error=2, No such file or directory```","body":"@DiegoTorresMilano <code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;&#47;usr&#47;bin&#47;xmodmap&quot;, &quot;-e&quot;, &quot;keycode 133 = Meta_L&quot;);</code> throws <code>java.io.IOException: Cannot run program &quot;&#47;usr&#47;bin&#47;xmodmap&quot;: error=2, No such file or directory</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672393515,"post_id":74956629,"comment_id":132281072,"body_markdown":"Please execute the command in the terminal and post exactly what works","body":"Please execute the command in the terminal and post exactly what works"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672394730,"post_id":74956629,"comment_id":132281346,"body_markdown":"Also, if a modifier is currently assigned, it must first be cleared. See [this](https://wiki.archlinux.org/title/xmodmap)","body":"Also, if a modifier is currently assigned, it must first be cleared. See <a href=\"https://wiki.archlinux.org/title/xmodmap\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"score":1,"creation_date":1672465392,"post_id":74956629,"comment_id":132294528,"body_markdown":"How and where are you executing the java app?","body":"How and where are you executing the java app?"},{"owner":{"account_id":20898461,"reputation":33,"user_id":15352086,"display_name":"anon"},"score":0,"creation_date":1672482657,"post_id":74956629,"comment_id":132296553,"body_markdown":"@DiegoTorresMilano I&#39;m simply using IntelliJ to run the program (IntelliJ IDEA 2022.3.1 (Community Edition) Build IC-223.8214.52 from Dec 20th 2022 - if that matters).","body":"@DiegoTorresMilano I&#39;m simply using IntelliJ to run the program (IntelliJ IDEA 2022.3.1 (Community Edition) Build IC-223.8214.52 from Dec 20th 2022 - if that matters)."},{"owner":{"account_id":20898461,"reputation":33,"user_id":15352086,"display_name":"anon"},"score":0,"creation_date":1672484107,"post_id":74956629,"comment_id":132296750,"body_markdown":"@g00se I added the terminal execution &amp; responses. I don&#39;t believe I understand what you mean by _Also, if a modifier is currently assigned, it must first be cleared_, but I did not manually make any prior modifications using xmodmap. I am using it on a fresh, unmodified keymap table.","body":"@g00se I added the terminal execution &amp; responses. I don&#39;t believe I understand what you mean by <i>Also, if a modifier is currently assigned, it must first be cleared</i>, but I did not manually make any prior modifications using xmodmap. I am using it on a fresh, unmodified keymap table."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672484557,"post_id":74956629,"comment_id":132296822,"body_markdown":"You need to use the *clear* option first - read the article I linked. Also please ensure you can do it at the command line first. xmodmap is *not* a shell built-in","body":"You need to use the <i>clear</i> option first - read the article I linked. Also please ensure you can do it at the command line first. xmodmap is <i>not</i> a shell built-in"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672486481,"post_id":74956629,"comment_id":132297132,"body_markdown":"Forgot to say - you need to use *add* finally too. See section 5.2","body":"Forgot to say - you need to use <i>add</i> finally too. See section 5.2"},{"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"score":0,"creation_date":1672520536,"post_id":74956629,"comment_id":132302740,"body_markdown":"The error (error=2) shows that `/usr/bin/xmodmap` is not found or cannot be executed, that&#39;s the first issue, then clearing modifiers and other stuff may come.","body":"The error (error=2) shows that <code>&#47;usr&#47;bin&#47;xmodmap</code> is not found or cannot be executed, that&#39;s the first issue, then clearing modifiers and other stuff may come."},{"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"score":1,"creation_date":1672520685,"post_id":74956629,"comment_id":132302761,"body_markdown":"Do something like https://stackoverflow.com/a/37070496/236465 with `/usr/bin/xmodmap` before trying `ProcessBuilder`","body":"Do something like <a href=\"https://stackoverflow.com/a/37070496/236465\">stackoverflow.com/a/37070496/236465</a> with <code>&#47;usr&#47;bin&#47;xmodmap</code> before trying <code>ProcessBuilder</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672525514,"post_id":74956629,"comment_id":132303307,"body_markdown":"Incidentally the &quot;command not found&quot; thing is an error message thrown up by xmodmap when the syntax is wrong","body":"Incidentally the &quot;command not found&quot; thing is an error message thrown up by xmodmap when the syntax is wrong"},{"owner":{"account_id":20898461,"reputation":33,"user_id":15352086,"display_name":"anon"},"score":0,"creation_date":1672595829,"post_id":74956629,"comment_id":132310760,"body_markdown":"@DiegoTorresMilano The &quot;FileNotFound&quot; exception is thrown immediately for &quot;/usr/bin/xmodmap&quot;.","body":"@DiegoTorresMilano The &quot;FileNotFound&quot; exception is thrown immediately for &quot;/usr/bin/xmodmap&quot;."},{"owner":{"account_id":20898461,"reputation":33,"user_id":15352086,"display_name":"anon"},"score":0,"creation_date":1672596472,"post_id":74956629,"comment_id":132310895,"body_markdown":"@g00se I do not want to configure the keymap at the CLI first, the project is supposed to be entirely automated. FYI: bash scripts called through java are neglected just as well as calling the command directly due to xmodmap seemingly missing completely for the java shell. I could probably let a bash script run the xmodmap configuration and the java program, however that would only circumvent the issue, not solve it.","body":"@g00se I do not want to configure the keymap at the CLI first, the project is supposed to be entirely automated. FYI: bash scripts called through java are neglected just as well as calling the command directly due to xmodmap seemingly missing completely for the java shell. I could probably let a bash script run the xmodmap configuration and the java program, however that would only circumvent the issue, not solve it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672600013,"post_id":74956629,"comment_id":132311549,"body_markdown":"I&#39;m aware that you want automation. xmodmap will be present most anywhere. It&#39;s certainly present in PopOs! - I just checked","body":"I&#39;m aware that you want automation. xmodmap will be present most anywhere. It&#39;s certainly present in PopOs! - I just checked"},{"owner":{"account_id":20898461,"reputation":33,"user_id":15352086,"display_name":"anon"},"score":0,"creation_date":1672666463,"post_id":74956629,"comment_id":132322699,"body_markdown":"@g00se So you are proposing I should try to clear Meta_L &amp; Super_L manually, then run &amp; add the reassignment via java?","body":"@g00se So you are proposing I should try to clear Meta_L &amp; Super_L manually, then run &amp; add the reassignment via java?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672668791,"post_id":74956629,"comment_id":132323366,"body_markdown":"What I&#39;m proposing is that you first create a script. Get your clear, add, setting OK in that. Run it at the command line. It can be *one* xmodmap command with three expressions, potentially. Doing it in Java should then be trivial.","body":"What I&#39;m proposing is that you first create a script. Get your clear, add, setting OK in that. Run it at the command line. It can be <i>one</i> xmodmap command with three expressions, potentially. Doing it in Java should then be trivial."},{"owner":{"account_id":20898461,"reputation":33,"user_id":15352086,"display_name":"anon"},"score":0,"creation_date":1673253364,"post_id":74956629,"comment_id":132448206,"body_markdown":"@g00se Alright, I sorta did that to no avail, same error message of &quot;no such file or directory&quot;","body":"@g00se Alright, I sorta did that to no avail, same error message of &quot;no such file or directory&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673255458,"post_id":74956629,"comment_id":132448800,"body_markdown":"Please show the commands in your script that ran successfully and did what you wanted it to do","body":"Please show the commands in your script that ran successfully and did what you wanted it to do"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673256045,"post_id":74956629,"comment_id":132448987,"body_markdown":"This is not really a Java question. You should be asking experienced X people as I too am unfamiliar with xmodmap","body":"This is not really a Java question. You should be asking experienced X people as I too am unfamiliar with xmodmap"},{"owner":{"account_id":20898461,"reputation":33,"user_id":15352086,"display_name":"anon"},"score":0,"creation_date":1673363636,"post_id":74956629,"comment_id":132478893,"body_markdown":"@g00se I fiddled around with a few, all of which worked (in console, i.e.), e.g. ```xmodmap -e &quot;remove mod1 = Meta_L&quot; &amp;&amp; xmodmap -e &quot;add mod4 = Meta_L&quot; &amp;&amp; xmodmap -e &quot;remove mod4 = Super_L&quot;```   and \n```xmodmap -e &quot;add mod4 = Super_L&quot; &amp;&amp; xmodmap -e &quot;remove mod4 = Meta_L&quot; &amp;&amp; xmodmap -e &quot;add mod1 = Meta_L&quot; &amp;&amp; exit```, but at the end of the day no matter the syntax &amp; structure, none of em work directly in java. got any recommendations where to start regarding X-specialists?","body":"@g00se I fiddled around with a few, all of which worked (in console, i.e.), e.g. <code>xmodmap -e &quot;remove mod1 = Meta_L&quot; &amp;&amp; xmodmap -e &quot;add mod4 = Meta_L&quot; &amp;&amp; xmodmap -e &quot;remove mod4 = Super_L&quot;</code>   and  <code>xmodmap -e &quot;add mod4 = Super_L&quot; &amp;&amp; xmodmap -e &quot;remove mod4 = Meta_L&quot; &amp;&amp; xmodmap -e &quot;add mod1 = Meta_L&quot; &amp;&amp; exit</code>, but at the end of the day no matter the syntax &amp; structure, none of em work directly in java. got any recommendations where to start regarding X-specialists?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673365384,"post_id":74956629,"comment_id":132479599,"body_markdown":"I can do some testing myself though I have to admit, somewhat ashamedly, when I tried this before, I got myself into a mess and had to restart X ;) One thing you can do, with a working one, is try chaining expressions instead of using &amp;&amp;. That will make it easier in `ProcessBuilder`","body":"I can do some testing myself though I have to admit, somewhat ashamedly, when I tried this before, I got myself into a mess and had to restart X ;) One thing you can do, with a working one, is try chaining expressions instead of using &amp;&amp;. That will make it easier in <code>ProcessBuilder</code>"}],"owner":{"account_id":20898461,"reputation":33,"user_id":15352086,"display_name":"anon"},"comment_count":28,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673253306,"creation_date":1672353300,"question_id":74956629,"body_markdown":"--- Specs ---  \r\nOperating System: Ubuntu-based Pop OS  \r\nOS Version: 22.04  \r\nDesktop Environment: default / GNOME  \r\nUsed OS Shell(s): default / bash &amp; sh  \r\nProgramming Language: Java 8 / 17  \r\nProgram Environment: all default IntelliJ IDEA 2022.3.1 (Community Edition), Build #IC-223.8214.52, built on December 20, 2022  \r\nProgram JDK: manually installed Amazon Corretto 8 / 17, also tried in-built IntelliJ OpenJDK 16 &amp; 17 to no avail.\r\n\r\n--- Background (in case this is relevant) ---  \r\nI am working on a java photo editing automation program for which I   need to perform actions such as opening a photo editing software. I&#39;d    like a java robot to press Super_L/Meta_L/Windows_L to open the Ubuntu   launcher, then type in the photo editing software name and confirm.   \r\nIn order to achieve a press of the Super_L-key through java, I figured   out that I would have to temporarily assign the Meta_L-Key to my   Super_L-key using &quot;xmodmap -e ...&quot;.  \r\n  \r\n--- Problem Description ---  \r\nWhile I could successfully implement the rest,   \r\nI am severely struggling with executing the &quot;xmodmap&quot; shell-command using java.  \r\nI did not manually set any aliases or environmental variables regarding xmodmap.  \r\nOutside of java, it does work using bash, sh and &quot;gnome-terminal -- xmodmap ...&quot;\r\nand the command exists in /usr/bin/ as &quot;xmodmap&quot;.  \r\nI did try reading the /usr/bin folder of the executing java process to find &quot;xmodmap&quot; missing from the list.  \r\nI assumed &quot;xmodmap&quot; were a shell-builtin, but apparently I was wrong?  \r\nHow can I invoke this command (and others like it)?  \r\n\r\n--- Code Chunk ---  \r\n```\r\n    private void temporarilyAssignMetaLKeyToWindowsKey() {\r\n        // xmodmap -e &quot;keycode 133 = Meta_L&quot;\r\n        String cmd = &quot;xmodmap -e \\&quot;keycode 133 = Meta_L\\&quot;&quot;; // does not work!\r\n        //  cmd = &quot;ls -alt /usr/bin |grep -i xm&quot;; // works!\r\n        try {\r\n            // execute command\r\n            ProcessBuilder processBuilder = new ProcessBuilder(&quot;/usr/bin/bash&quot;, &quot;-c&quot;, cmd);\r\n            processBuilder.inheritIO();\r\n            System.out.println(processBuilder.command());\r\n            Process process = processBuilder.start();\r\n\r\n            // print command output\r\n            InputStreamReader inputStreamReader = new InputStreamReader(process.getInputStream());\r\n            BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\r\n            String output = null;\r\n            while((output = bufferedReader.readLine()) != null ) {\r\n                System.out.println(output);\r\n            }\r\n\r\n            // wait for command to finish\r\n            process.waitFor();\r\n\r\n            // close resources\r\n            bufferedReader.close();\r\n            process.destroy();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\n--- Produced Result ---\r\n&gt;/usr/bin/bash: line 1: xmodmap: command not found\r\n\r\n**Edit:**  \r\nRunning &quot;echo $XDG_SESSION_TYPE&quot; in terminal returns &quot;x11&quot; (xorg).  \r\n\r\n**Edit 2:**  \r\nAdded program environment.\r\n\r\n**Edit 3:**  \r\nxmodmap *before* applying modifications:\r\n[![enter image description here][1]][1]  \r\n[![enter image description here][2]][2]  \r\nxmodmap *after* applying modifications:  \r\n[![enter image description here][3]][3]  \r\n[![enter image description here][4]][4]    \r\n\r\n**Edit 4:**  \r\nSudo-ing the command does not change the outcome:  \r\n```\r\nString cmd = &quot;sudo /usr/bin/xmodmap -e \\&quot;keycode 133 = Meta_L\\&quot;&quot;;\r\n// ...\r\nProcessBuilder processBuilder = new ProcessBuilder(&quot;/usr/bin/bash&quot;, &quot;-c&quot;, cmd); // /usr/bin/bash: line 1: sudo: command not found\r\nProcessBuilder processBuilder = new ProcessBuilder(cmd); // java.io.IOException: Cannot run program &quot;sudo /usr/bin/xmodmap -e &quot;keycode 133 = Meta_L&quot;&quot;: error=2, No such file or directory\r\nProcessBuilder processBuilder = new ProcessBuilder(&quot;sudo /usr/bin/xmodmap&quot;, &quot;-e&quot;, &quot;keycode 133 = Meta_L&quot;); // java.io.IOException: Cannot run program &quot;sudo /usr/bin/xmodmap&quot;: error=2, No such file or directory\r\n```\r\n**Edit 5:**  \r\n```\r\nxmodmap -e &quot;remove mod1 = Meta_L&quot; &amp;&amp; xmodmap -e &quot;add mod4 = Meta_L&quot; &amp;&amp; xmodmap -e &quot;remove mod4 = Super_L&quot;  \r\n\r\nxmodmap -e &quot;add mod4 = Super_L&quot; &amp;&amp; xmodmap -e &quot;remove mod4 = Meta_L&quot; &amp;&amp; xmodmap -e &quot;add mod1 = Meta_L&quot; &amp;&amp; exit  \r\n```  \r\nthese could also not be found, same error message  \r\n\r\nThank you very much in advance!\r\nFeel free to correct me (:\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1rnWt.png\r\n  [2]: https://i.stack.imgur.com/s3OET.png\r\n  [3]: https://i.stack.imgur.com/RcCzW.png\r\n  [4]: https://i.stack.imgur.com/zBXbF.png","title":"How to fix Java ProcessBuilder &quot;Command Not Found&quot; for Linux-based systems?","body":"<p>--- Specs ---<br />\nOperating System: Ubuntu-based Pop OS<br />\nOS Version: 22.04<br />\nDesktop Environment: default / GNOME<br />\nUsed OS Shell(s): default / bash &amp; sh<br />\nProgramming Language: Java 8 / 17<br />\nProgram Environment: all default IntelliJ IDEA 2022.3.1 (Community Edition), Build #IC-223.8214.52, built on December 20, 2022<br />\nProgram JDK: manually installed Amazon Corretto 8 / 17, also tried in-built IntelliJ OpenJDK 16 &amp; 17 to no avail.</p>\n<p>--- Background (in case this is relevant) ---<br />\nI am working on a java photo editing automation program for which I   need to perform actions such as opening a photo editing software. I'd    like a java robot to press Super_L/Meta_L/Windows_L to open the Ubuntu   launcher, then type in the photo editing software name and confirm.<br />\nIn order to achieve a press of the Super_L-key through java, I figured   out that I would have to temporarily assign the Meta_L-Key to my   Super_L-key using &quot;xmodmap -e ...&quot;.</p>\n<p>--- Problem Description ---<br />\nWhile I could successfully implement the rest,<br />\nI am severely struggling with executing the &quot;xmodmap&quot; shell-command using java.<br />\nI did not manually set any aliases or environmental variables regarding xmodmap.<br />\nOutside of java, it does work using bash, sh and &quot;gnome-terminal -- xmodmap ...&quot;\nand the command exists in /usr/bin/ as &quot;xmodmap&quot;.<br />\nI did try reading the /usr/bin folder of the executing java process to find &quot;xmodmap&quot; missing from the list.<br />\nI assumed &quot;xmodmap&quot; were a shell-builtin, but apparently I was wrong?<br />\nHow can I invoke this command (and others like it)?</p>\n<p>--- Code Chunk ---</p>\n<pre><code>    private void temporarilyAssignMetaLKeyToWindowsKey() {\n        // xmodmap -e &quot;keycode 133 = Meta_L&quot;\n        String cmd = &quot;xmodmap -e \\&quot;keycode 133 = Meta_L\\&quot;&quot;; // does not work!\n        //  cmd = &quot;ls -alt /usr/bin |grep -i xm&quot;; // works!\n        try {\n            // execute command\n            ProcessBuilder processBuilder = new ProcessBuilder(&quot;/usr/bin/bash&quot;, &quot;-c&quot;, cmd);\n            processBuilder.inheritIO();\n            System.out.println(processBuilder.command());\n            Process process = processBuilder.start();\n\n            // print command output\n            InputStreamReader inputStreamReader = new InputStreamReader(process.getInputStream());\n            BufferedReader bufferedReader = new BufferedReader(inputStreamReader);\n            String output = null;\n            while((output = bufferedReader.readLine()) != null ) {\n                System.out.println(output);\n            }\n\n            // wait for command to finish\n            process.waitFor();\n\n            // close resources\n            bufferedReader.close();\n            process.destroy();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>--- Produced Result ---</p>\n<blockquote>\n<p>/usr/bin/bash: line 1: xmodmap: command not found</p>\n</blockquote>\n<p><strong>Edit:</strong><br />\nRunning &quot;echo $XDG_SESSION_TYPE&quot; in terminal returns &quot;x11&quot; (xorg).</p>\n<p><strong>Edit 2:</strong><br />\nAdded program environment.</p>\n<p><strong>Edit 3:</strong><br />\nxmodmap <em>before</em> applying modifications:\n<a href=\"https://i.stack.imgur.com/1rnWt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1rnWt.png\" alt=\"enter image description here\" /></a><br />\n<a href=\"https://i.stack.imgur.com/s3OET.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s3OET.png\" alt=\"enter image description here\" /></a><br />\nxmodmap <em>after</em> applying modifications:<br />\n<a href=\"https://i.stack.imgur.com/RcCzW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RcCzW.png\" alt=\"enter image description here\" /></a><br />\n<a href=\"https://i.stack.imgur.com/zBXbF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zBXbF.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit 4:</strong><br />\nSudo-ing the command does not change the outcome:</p>\n<pre><code>String cmd = &quot;sudo /usr/bin/xmodmap -e \\&quot;keycode 133 = Meta_L\\&quot;&quot;;\n// ...\nProcessBuilder processBuilder = new ProcessBuilder(&quot;/usr/bin/bash&quot;, &quot;-c&quot;, cmd); // /usr/bin/bash: line 1: sudo: command not found\nProcessBuilder processBuilder = new ProcessBuilder(cmd); // java.io.IOException: Cannot run program &quot;sudo /usr/bin/xmodmap -e &quot;keycode 133 = Meta_L&quot;&quot;: error=2, No such file or directory\nProcessBuilder processBuilder = new ProcessBuilder(&quot;sudo /usr/bin/xmodmap&quot;, &quot;-e&quot;, &quot;keycode 133 = Meta_L&quot;); // java.io.IOException: Cannot run program &quot;sudo /usr/bin/xmodmap&quot;: error=2, No such file or directory\n</code></pre>\n<p><strong>Edit 5:</strong></p>\n<pre><code>xmodmap -e &quot;remove mod1 = Meta_L&quot; &amp;&amp; xmodmap -e &quot;add mod4 = Meta_L&quot; &amp;&amp; xmodmap -e &quot;remove mod4 = Super_L&quot;  \n\nxmodmap -e &quot;add mod4 = Super_L&quot; &amp;&amp; xmodmap -e &quot;remove mod4 = Meta_L&quot; &amp;&amp; xmodmap -e &quot;add mod1 = Meta_L&quot; &amp;&amp; exit  \n</code></pre>\n<p>these could also not be found, same error message</p>\n<p>Thank you very much in advance!\nFeel free to correct me (:</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1673253740,"post_id":75054743,"comment_id":132448321,"body_markdown":"Your FirebaseUser object is null. So make sure it&#39;s not null before calling `getUid()` on it.","body":"Your FirebaseUser object is null. So make sure it&#39;s not null before calling <code>getUid()</code> on it."},{"owner":{"account_id":27001816,"reputation":1,"user_id":20562983,"display_name":"Vikas Patel"},"score":0,"creation_date":1673360507,"post_id":75054743,"comment_id":132477732,"body_markdown":"I don&#39;t get that.Can you please explain how","body":"I don&#39;t get that.Can you please explain how"}],"owner":{"account_id":27001816,"reputation":1,"user_id":20562983,"display_name":"Vikas Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673253697,"answer_count":0,"score":0,"last_activity_date":1673253082,"creation_date":1673253082,"question_id":75054743,"body_markdown":"1. **Logcat**\r\n\r\n Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39; on a null object reference\r\n        at com.example.medcareinapp.UserSideScreens.PatientDashboardActivity.onCreate(PatientDashboardActivity.java:89)\r\n\r\n\r\n\r\n2. **PatientDashboardActivity.java**\r\n\r\n private static FirebaseAuth mAuth;\r\n    public static String UserName;\r\n\r\n    DrawerLayout drawerLayout;\r\n    TextView nav_name;\r\n    CardView  bookRideCard, profileCard, activeRideCard, historyCard, book_doctor, active_appointments;\r\n    Intent i;\r\n\r\n    FirebaseFirestore firebaseFirestore;\r\n    FirebaseAuth firebaseAuth;\r\n    String currentUserKey;\r\n\r\n\r\n\r\n\r\n    private int PERMISSION_CODE = 1;\r\n\r\n    //shared prefs variables\r\n    public static final String SHARED_PREFS = &quot;SharedPrefs&quot;;\r\n    public static final String userType = &quot;userType&quot;;\r\n    public static final String userNodeKey = &quot;userKey&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_patient_dashboard);\r\n\r\n\r\n\r\n        // check if the permissions are granted\r\n        if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION) != PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_COARSE_LOCATION) != PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(PatientDashboardActivity.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, PERMISSION_CODE);\r\n            Toast.makeText(getApplicationContext(), &quot;Provide the permissions to continue&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        SharedPreferences sharedPreferences = getSharedPreferences(SHARED_PREFS, MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n        firebaseFirestore = FirebaseFirestore.getInstance();\r\n        currentUserKey = firebaseAuth.getCurrentUser().getUid();\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        UserName = getIntent().getStringExtra(&quot;UserName&quot;);\r\n\r\n        drawerLayout = findViewById(R.id.drawer);\r\n        nav_name = findViewById(R.id.nav_name);\r\n        nav_name.setText(UserName);\r\n\r\n        book_doctor = findViewById(R.id.book_doctor);\r\n        active_appointments = findViewById(R.id.active_appointments);\r\n        bookRideCard = findViewById(R.id.bookRideCardPDashboard);","title":"on a null object reference :Attempt to invoke virtual method &#39;java.lang.String com.google.firebase.auth.FirebaseUser.getUid()&#39;","body":"<ol>\n<li><strong>Logcat</strong></li>\n</ol>\n<p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.google.firebase.auth.FirebaseUser.getUid()' on a null object reference\nat com.example.medcareinapp.UserSideScreens.PatientDashboardActivity.onCreate(PatientDashboardActivity.java:89)</p>\n<ol start=\"2\">\n<li><strong>PatientDashboardActivity.java</strong></li>\n</ol>\n<p>private static FirebaseAuth mAuth;\npublic static String UserName;</p>\n<pre><code>DrawerLayout drawerLayout;\nTextView nav_name;\nCardView  bookRideCard, profileCard, activeRideCard, historyCard, book_doctor, active_appointments;\nIntent i;\n\nFirebaseFirestore firebaseFirestore;\nFirebaseAuth firebaseAuth;\nString currentUserKey;\n\n\n\n\nprivate int PERMISSION_CODE = 1;\n\n//shared prefs variables\npublic static final String SHARED_PREFS = &quot;SharedPrefs&quot;;\npublic static final String userType = &quot;userType&quot;;\npublic static final String userNodeKey = &quot;userKey&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_patient_dashboard);\n\n\n\n    // check if the permissions are granted\n    if (ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION) != PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_COARSE_LOCATION) != PERMISSION_GRANTED) {\n        ActivityCompat.requestPermissions(PatientDashboardActivity.this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_COARSE_LOCATION}, PERMISSION_CODE);\n        Toast.makeText(getApplicationContext(), &quot;Provide the permissions to continue&quot;, Toast.LENGTH_SHORT).show();\n        return;\n    }\n\n    SharedPreferences sharedPreferences = getSharedPreferences(SHARED_PREFS, MODE_PRIVATE);\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n\n    firebaseAuth = FirebaseAuth.getInstance();\n    firebaseFirestore = FirebaseFirestore.getInstance();\n    currentUserKey = firebaseAuth.getCurrentUser().getUid();\n\n    mAuth = FirebaseAuth.getInstance();\n    UserName = getIntent().getStringExtra(&quot;UserName&quot;);\n\n    drawerLayout = findViewById(R.id.drawer);\n    nav_name = findViewById(R.id.nav_name);\n    nav_name.setText(UserName);\n\n    book_doctor = findViewById(R.id.book_doctor);\n    active_appointments = findViewById(R.id.active_appointments);\n    bookRideCard = findViewById(R.id.bookRideCardPDashboard);\n</code></pre>\n"},{"tags":["java","testing","mockito","powermock"],"comments":[{"owner":{"account_id":112221,"reputation":24579,"user_id":296108,"accept_rate":92,"display_name":"Chris Knight"},"score":0,"creation_date":1382358844,"post_id":19494506,"comment_id":28915344,"body_markdown":"As Machine is an interface, can you not inject a class which overrides the sleep method with a blank implementation and test via the interface?","body":"As Machine is an interface, can you not inject a class which overrides the sleep method with a blank implementation and test via the interface?"}],"answers":[{"tags":[],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1606816868,"creation_date":1382359019,"answer_id":19494717,"question_id":19494506,"body_markdown":"This took me a while to figure out, so I am answering my own question.\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.Mockito;\r\n    import org.powermock.api.mockito.PowerMockito;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    \r\n    @RunWith(PowerMockRunner.class)  // important\r\n    @PrepareForTest(MachineImpl.class)  // important: do not use Thread.class here\r\n    public class MachineImplTest {\r\n    \r\n        private MachineImpl classUnderTest;\r\n    \r\n        @Before\r\n        public void beforeEachTest() {\r\n            classUnderTest = new MachineImpl();\r\n        }\r\n    \r\n        @Test\r\n        public void sleep_Pass() {\r\n            classUnderTest.sleep(0);\r\n            classUnderTest.sleep(-100);\r\n            classUnderTest.sleep(+100);\r\n        }\r\n    \r\n        @Test\r\n        public void sleep_Pass2() {\r\n            // We do not want to mock all methods, only specific methods, such as Thread.sleep().\r\n            // Use spy() instead of mockStatic().\r\n            PowerMockito.spy(Thread.class);\r\n    \r\n\t        // These two lines are tightly bound.\r\n            PowerMockito.doThrow(new InterruptedException()).when(Thread.class);\r\n            Thread.sleep(Mockito.anyLong());\r\n    \r\n            classUnderTest.sleep(0);\r\n            classUnderTest.sleep(-100);\r\n            classUnderTest.sleep(+100);\r\n        }\r\n    }\r\n\r\nIf you are using TestNG, try this:\r\n\r\n    import org.mockito.Mockito;\r\n    import org.powermock.api.mockito.PowerMockito;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.testng.PowerMockTestCase;\r\n    \r\n    @PrepareForTest(MachineImpl.class)  // important: do not use Thread.class here\r\n    public class MachineImplTest\r\n    extends PowerMockTestCase {\r\n        ...\r\n    }\r\n\r\nRead more about TestNG + Mockito + PowerMock here: https://stackoverflow.com/a/35815153/257299\r\n","title":"How to mock Thread.sleep() with PowerMock?","body":"<p>This took me a while to figure out, so I am answering my own question.</p>\n<pre><code>import org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)  // important\n@PrepareForTest(MachineImpl.class)  // important: do not use Thread.class here\npublic class MachineImplTest {\n\n    private MachineImpl classUnderTest;\n\n    @Before\n    public void beforeEachTest() {\n        classUnderTest = new MachineImpl();\n    }\n\n    @Test\n    public void sleep_Pass() {\n        classUnderTest.sleep(0);\n        classUnderTest.sleep(-100);\n        classUnderTest.sleep(+100);\n    }\n\n    @Test\n    public void sleep_Pass2() {\n        // We do not want to mock all methods, only specific methods, such as Thread.sleep().\n        // Use spy() instead of mockStatic().\n        PowerMockito.spy(Thread.class);\n\n        // These two lines are tightly bound.\n        PowerMockito.doThrow(new InterruptedException()).when(Thread.class);\n        Thread.sleep(Mockito.anyLong());\n\n        classUnderTest.sleep(0);\n        classUnderTest.sleep(-100);\n        classUnderTest.sleep(+100);\n    }\n}\n</code></pre>\n<p>If you are using TestNG, try this:</p>\n<pre><code>import org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.testng.PowerMockTestCase;\n\n@PrepareForTest(MachineImpl.class)  // important: do not use Thread.class here\npublic class MachineImplTest\nextends PowerMockTestCase {\n    ...\n}\n</code></pre>\n<p>Read more about TestNG + Mockito + PowerMock here: <a href=\"https://stackoverflow.com/a/35815153/257299\">https://stackoverflow.com/a/35815153/257299</a></p>\n"},{"tags":[],"owner":{"account_id":173390,"reputation":7326,"user_id":402027,"accept_rate":91,"display_name":"Dorus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1412069354,"creation_date":1411082495,"answer_id":25923992,"question_id":19494506,"body_markdown":"This was helpfull. I did end up using something slightly different. I use EasyMock instead of Mockito.\r\n\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({ClassUnderTest.class})\r\n    public class MyTest {\r\n        @Before\r\n        public void setUp() {\r\n   \t        PowerMock.mockStatic(Thread.class, methods(Thread.class, &quot;sleep&quot;));\r\n            Thread.sleep(anyLong());\r\n\t\t    EasyMock.expectLastCall().anyTimes();\r\n        }\r\n    }\r\n\r\nNo need to use `Thread.class` in `@PrepareForTest`.","title":"How to mock Thread.sleep() with PowerMock?","body":"<p>This was helpfull. I did end up using something slightly different. I use EasyMock instead of Mockito.</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({ClassUnderTest.class})\npublic class MyTest {\n    @Before\n    public void setUp() {\n        PowerMock.mockStatic(Thread.class, methods(Thread.class, \"sleep\"));\n        Thread.sleep(anyLong());\n        EasyMock.expectLastCall().anyTimes();\n    }\n}\n</code></pre>\n\n<p>No need to use <code>Thread.class</code> in <code>@PrepareForTest</code>.</p>\n"},{"tags":[],"owner":{"account_id":6598439,"reputation":131,"user_id":5097454,"display_name":"Venkat Adapa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673253043,"creation_date":1673253043,"answer_id":75054736,"question_id":19494506,"body_markdown":"Without using Power Mockito, Write a wrapper method for Thread.sleep(anyLongValue) and move it to the utility class and mock the Utility class method using regular Mockito API.\r\n\r\n     public void sleep(int duration) throws InterruptedException {\r\n            Thread.sleep(duration);\r\n     }","title":"How to mock Thread.sleep() with PowerMock?","body":"<p>Without using Power Mockito, Write a wrapper method for Thread.sleep(anyLongValue) and move it to the utility class and mock the Utility class method using regular Mockito API.</p>\n<pre><code> public void sleep(int duration) throws InterruptedException {\n        Thread.sleep(duration);\n }\n</code></pre>\n"}],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25314,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":19494717,"answer_count":3,"score":10,"last_activity_date":1673253043,"creation_date":1382358446,"question_id":19494506,"body_markdown":"How to mock Thread.sleep() with PowerMock?\r\n\r\nSample interface and class:\r\n\r\n    public interface Machine {\r\n    \r\n        void sleep(long millis);\r\n    }\r\n\r\n    public class MachineImpl\r\n    implements Machine {\r\n    \r\n        private static final Logger logger = Logger.getLogger(MachineImpl.class);\r\n    \r\n        @Override\r\n        public void sleep(long millis) {\r\n            try {\r\n                if (millis &gt; 0) {\r\n                    logger.trace(String.format(&quot;Try to sleep for %d millis...&quot;, millis));\r\n                    Thread.sleep(millis);\r\n                }\r\n            }\r\n            catch (InterruptedException e) {\r\n                logger.trace(&quot;Full exception&quot;, e);\r\n            }\r\n        }\r\n    }\r\n","title":"How to mock Thread.sleep() with PowerMock?","body":"<p>How to mock Thread.sleep() with PowerMock?</p>\n\n<p>Sample interface and class:</p>\n\n<pre><code>public interface Machine {\n\n    void sleep(long millis);\n}\n\npublic class MachineImpl\nimplements Machine {\n\n    private static final Logger logger = Logger.getLogger(MachineImpl.class);\n\n    @Override\n    public void sleep(long millis) {\n        try {\n            if (millis &gt; 0) {\n                logger.trace(String.format(\"Try to sleep for %d millis...\", millis));\n                Thread.sleep(millis);\n            }\n        }\n        catch (InterruptedException e) {\n            logger.trace(\"Full exception\", e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1673182249,"post_id":75047849,"comment_id":132436232,"body_markdown":"What do you mean by &quot;why&quot;? Because `a` is an array?","body":"What do you mean by &quot;why&quot;? Because <code>a</code> is an array?"},{"owner":{"account_id":21805279,"reputation":501,"user_id":16103555,"display_name":"Toni26"},"score":0,"creation_date":1673182328,"post_id":75047849,"comment_id":132436244,"body_markdown":"but where in this class is it mentioned that a is an array . The second paramter of   CollectorImpl is  BiConsumer&lt;A, T&gt; accumulator,    In order to write a[0] somewhere needs to say that a is an array","body":"but where in this class is it mentioned that a is an array . The second paramter of   CollectorImpl is  BiConsumer&lt;A, T&gt; accumulator,    In order to write a[0] somewhere needs to say that a is an array"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1673182494,"post_id":75047849,"comment_id":132436263,"body_markdown":"Well for that you would need to find the constructor of `CollectorImpl` that this is calling. It likely takes some functional interfaces, and those functional interfaces have a single abstract method that takes some array as its first parameter.","body":"Well for that you would need to find the constructor of <code>CollectorImpl</code> that this is calling. It likely takes some functional interfaces, and those functional interfaces have a single abstract method that takes some array as its first parameter."},{"owner":{"account_id":21805279,"reputation":501,"user_id":16103555,"display_name":"Toni26"},"score":0,"creation_date":1673182586,"post_id":75047849,"comment_id":132436275,"body_markdown":"Just tell me where it is :)","body":"Just tell me where it is :)"},{"owner":{"account_id":21805279,"reputation":501,"user_id":16103555,"display_name":"Toni26"},"score":0,"creation_date":1673182804,"post_id":75047849,"comment_id":132436315,"body_markdown":"Yes I understood now that a has to be an array. But still somewhere it has to say that it is an array. Where is it ? :) To be exact it is a generic typ so it has to be mentioned somewhere","body":"Yes I understood now that a has to be an array. But still somewhere it has to say that it is an array. Where is it ? :) To be exact it is a generic typ so it has to be mentioned somewhere"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1673182951,"post_id":75047849,"comment_id":132436338,"body_markdown":"Look closely at the signature of `boxSupplier` :)","body":"Look closely at the signature of <code>boxSupplier</code> :)"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1673183069,"post_id":75047849,"comment_id":132436356,"body_markdown":"The first two arguments are `Supplier&lt;A&gt;` and `BiConsumer&lt;A, T&gt;`. So the type of `A` is determined by what the `Supplier` is going to return","body":"The first two arguments are <code>Supplier&lt;A&gt;</code> and <code>BiConsumer&lt;A, T&gt;</code>. So the type of <code>A</code> is determined by what the <code>Supplier</code> is going to return"},{"owner":{"account_id":21805279,"reputation":501,"user_id":16103555,"display_name":"Toni26"},"score":0,"creation_date":1673183281,"post_id":75047849,"comment_id":132436392,"body_markdown":"Wow. For me that is really interesting. I did not know that the first Parameter can determine the types of the second parameter. Wow :) For me this is completely new or maybe I have to longer think about it","body":"Wow. For me that is really interesting. I did not know that the first Parameter can determine the types of the second parameter. Wow :) For me this is completely new or maybe I have to longer think about it"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1673183765,"post_id":75047849,"comment_id":132436454,"body_markdown":"The process is called *type inference*.","body":"The process is called <i>type inference</i>."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673184328,"creation_date":1673183942,"answer_id":75048062,"question_id":75047849,"body_markdown":"Why is it possible to use an array subscript here? Because it&#39;s an array, why wouldn&#39;t you be able to use it just like any other array?\r\n\r\nThe `Collectors#reducing` method returns a new `Collector` instance:\r\n\r\n        return new CollectorImpl&lt;&gt;(\r\n                boxSupplier(identity),\r\n                (a, t) -&gt; { a[0] = op.apply(a[0], mapper.apply(t)); },\r\n                (a, b) -&gt; { a[0] = op.apply(a[0], b[0]); return a; },\r\n                a -&gt; a[0],\r\n                CH_NOID);\r\n\r\nThe signature of this `CollectorImpl` constructor is:\r\n\r\n        CollectorImpl(Supplier&lt;A&gt; supplier,\r\n                      BiConsumer&lt;A, T&gt; accumulator,\r\n                      BinaryOperator&lt;A&gt; combiner,\r\n                      Function&lt;A,R&gt; finisher,\r\n                      Set&lt;Characteristics&gt; characteristics) {\r\n\r\nThe signature of `boxSupplier` is:\r\n\r\n    private static &lt;T&gt; Supplier&lt;T[]&gt; boxSupplier(T identity) {\r\n        return () -&gt; (T[]) new Object[] { identity };\r\n    }\r\n\r\nwhich returns a `Supplier` which supplies an array (effectively wrapping the specified `identity` object lazily in an array with a single element). Consequently, type param `A` of `CollectorImpl` has to be an array of the identity&#39;s type, meaning that the second and third parameter are a `BiConsumer` of an array and a `BinaryOperator` on an array. The formal parameter `a` in the lambda&#39;s parameter list therefore is of an array type. Since it&#39;s an array, it can be used like any other array.\r\n\r\nThis is called [type inference](https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html):\r\n\r\n&gt; Type inference is a Java compiler&#39;s ability to look at each method invocation and corresponding declaration to determine the type argument (or arguments) that make the invocation applicable. The inference algorithm determines the types of the arguments and, if available, the type that the result is being assigned, or returned. Finally, the inference algorithm tries to find the most specific type that works with all of the arguments.\r\n\r\nYou could specify the lambda parameter types explicitly to make it clearer:\r\n\r\n    public static &lt;T, U&gt;\r\n    Collector&lt;T, ?, U&gt; reducing(U identity,\r\n                                Function&lt;? super T, ? extends U&gt; mapper,\r\n                                BinaryOperator&lt;U&gt; op) {\r\n        return new CollectorImpl&lt;&gt;(\r\n                boxSupplier(identity),\r\n                (U[] a, T t) -&gt; {a[0] = op.apply(a[0], mapper.apply(t));},\r\n                (U[] a, U[] b) -&gt; {a[0] = op.apply(a[0], b[0]);return a;},\r\n                (U[] a) -&gt; a[0],\r\n                CH_NOID);\r\n    }\r\n\r\nOr you could replace each lambda expression with an anonymous class:\r\n\r\n        return new CollectorImpl&lt;&gt;(\r\n                new Supplier&lt;U[]&gt;() {\r\n                    @Override\r\n                    public U[] get() {\r\n                        return (U[]) new Object[]{identity};\r\n                    }\r\n                },\r\n                new BiConsumer&lt;U[], T&gt;() {\r\n                    @Override\r\n                    public void accept(final U[] a, final T t) {\r\n                        a[0] = op.apply(a[0], mapper.apply(t));\r\n                    }\r\n                },\r\n                new BinaryOperator&lt;U[]&gt;() {\r\n                    @Override\r\n                    public U[] apply(final U[] a, final U[] b) {\r\n                        a[0] = op.apply(a[0], b[0]);\r\n                        return a;\r\n                    }\r\n                },\r\n                new Function&lt;U[], U&gt;() {\r\n                    @Override\r\n                    public U apply(final U[] a) {\r\n                        return a[0];\r\n                    }\r\n                },\r\n                CH_NOID);\r\n","title":"Why in Collectors.java Class it is possible to use array indexing?","body":"<p>Why is it possible to use an array subscript here? Because it's an array, why wouldn't you be able to use it just like any other array?</p>\n<p>The <code>Collectors#reducing</code> method returns a new <code>Collector</code> instance:</p>\n<pre><code>    return new CollectorImpl&lt;&gt;(\n            boxSupplier(identity),\n            (a, t) -&gt; { a[0] = op.apply(a[0], mapper.apply(t)); },\n            (a, b) -&gt; { a[0] = op.apply(a[0], b[0]); return a; },\n            a -&gt; a[0],\n            CH_NOID);\n</code></pre>\n<p>The signature of this <code>CollectorImpl</code> constructor is:</p>\n<pre><code>    CollectorImpl(Supplier&lt;A&gt; supplier,\n                  BiConsumer&lt;A, T&gt; accumulator,\n                  BinaryOperator&lt;A&gt; combiner,\n                  Function&lt;A,R&gt; finisher,\n                  Set&lt;Characteristics&gt; characteristics) {\n</code></pre>\n<p>The signature of <code>boxSupplier</code> is:</p>\n<pre><code>private static &lt;T&gt; Supplier&lt;T[]&gt; boxSupplier(T identity) {\n    return () -&gt; (T[]) new Object[] { identity };\n}\n</code></pre>\n<p>which returns a <code>Supplier</code> which supplies an array (effectively wrapping the specified <code>identity</code> object lazily in an array with a single element). Consequently, type param <code>A</code> of <code>CollectorImpl</code> has to be an array of the identity's type, meaning that the second and third parameter are a <code>BiConsumer</code> of an array and a <code>BinaryOperator</code> on an array. The formal parameter <code>a</code> in the lambda's parameter list therefore is of an array type. Since it's an array, it can be used like any other array.</p>\n<p>This is called <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html\" rel=\"nofollow noreferrer\">type inference</a>:</p>\n<blockquote>\n<p>Type inference is a Java compiler's ability to look at each method invocation and corresponding declaration to determine the type argument (or arguments) that make the invocation applicable. The inference algorithm determines the types of the arguments and, if available, the type that the result is being assigned, or returned. Finally, the inference algorithm tries to find the most specific type that works with all of the arguments.</p>\n</blockquote>\n<p>You could specify the lambda parameter types explicitly to make it clearer:</p>\n<pre><code>public static &lt;T, U&gt;\nCollector&lt;T, ?, U&gt; reducing(U identity,\n                            Function&lt;? super T, ? extends U&gt; mapper,\n                            BinaryOperator&lt;U&gt; op) {\n    return new CollectorImpl&lt;&gt;(\n            boxSupplier(identity),\n            (U[] a, T t) -&gt; {a[0] = op.apply(a[0], mapper.apply(t));},\n            (U[] a, U[] b) -&gt; {a[0] = op.apply(a[0], b[0]);return a;},\n            (U[] a) -&gt; a[0],\n            CH_NOID);\n}\n</code></pre>\n<p>Or you could replace each lambda expression with an anonymous class:</p>\n<pre><code>    return new CollectorImpl&lt;&gt;(\n            new Supplier&lt;U[]&gt;() {\n                @Override\n                public U[] get() {\n                    return (U[]) new Object[]{identity};\n                }\n            },\n            new BiConsumer&lt;U[], T&gt;() {\n                @Override\n                public void accept(final U[] a, final T t) {\n                    a[0] = op.apply(a[0], mapper.apply(t));\n                }\n            },\n            new BinaryOperator&lt;U[]&gt;() {\n                @Override\n                public U[] apply(final U[] a, final U[] b) {\n                    a[0] = op.apply(a[0], b[0]);\n                    return a;\n                }\n            },\n            new Function&lt;U[], U&gt;() {\n                @Override\n                public U apply(final U[] a) {\n                    return a[0];\n                }\n            },\n            CH_NOID);\n</code></pre>\n"}],"owner":{"account_id":21805279,"reputation":501,"user_id":16103555,"display_name":"Toni26"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75048062,"answer_count":1,"score":0,"last_activity_date":1673252875,"creation_date":1673181859,"question_id":75047849,"body_markdown":"In collectors.java class I found this method. I cannot explain myself why you can use array indexing here. I mean this line   `(a, t) -&gt; { a[0] = op.apply(a[0], mapper.apply(t)); },`\r\n    \r\n    public static &lt;T, U&gt; Collector&lt;T, ?, U&gt; reducing(U identity,\r\n                                    Function&lt;? super T, ? extends U&gt; mapper,\r\n                                    BinaryOperator&lt;U&gt; op) {\r\n            return new CollectorImpl&lt;&gt;(\r\n                    boxSupplier(identity),\r\n                    (a, t) -&gt; { a[0] = op.apply(a[0], mapper.apply(t)); },\r\n                    (a, b) -&gt; { a[0] = op.apply(a[0], b[0]); return a; },\r\n                    a -&gt; a[0], CH_NOID);\r\n        }","title":"Why in Collectors.java Class it is possible to use array indexing?","body":"<p>In collectors.java class I found this method. I cannot explain myself why you can use array indexing here. I mean this line   <code>(a, t) -&gt; { a[0] = op.apply(a[0], mapper.apply(t)); },</code></p>\n<pre><code>public static &lt;T, U&gt; Collector&lt;T, ?, U&gt; reducing(U identity,\n                                Function&lt;? super T, ? extends U&gt; mapper,\n                                BinaryOperator&lt;U&gt; op) {\n        return new CollectorImpl&lt;&gt;(\n                boxSupplier(identity),\n                (a, t) -&gt; { a[0] = op.apply(a[0], mapper.apply(t)); },\n                (a, b) -&gt; { a[0] = op.apply(a[0], b[0]); return a; },\n                a -&gt; a[0], CH_NOID);\n    }\n</code></pre>\n"},{"tags":["java","xml","xsd","jaxb","xjb"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1673251955,"post_id":75054486,"comment_id":132447827,"body_markdown":"The JAXB-runtime you have uses the `javax.*` namespace. You need to use the 3.0.x or higher version for the one that uses `jakarta.*`.","body":"The JAXB-runtime you have uses the <code>javax.*</code> namespace. You need to use the 3.0.x or higher version for the one that uses <code>jakarta.*</code>."},{"owner":{"account_id":1484861,"reputation":119,"user_id":1393335,"accept_rate":67,"display_name":"pemko"},"score":0,"creation_date":1673252628,"post_id":75054486,"comment_id":132447994,"body_markdown":"Thank you very much, I start to missing the obvious things in this long process of updating","body":"Thank you very much, I start to missing the obvious things in this long process of updating"},{"owner":{"account_id":3807187,"reputation":16966,"user_id":3159253,"accept_rate":60,"display_name":"user3159253"},"score":0,"creation_date":1700829607,"post_id":75054486,"comment_id":136704090,"body_markdown":"@MarkRotteveel this comment should be converted to an answer.\nIndeed, replacing `jaxb-api` with `jakarta.xml.bind-api` resolves the problem","body":"@MarkRotteveel this comment should be converted to an answer. Indeed, replacing <code>jaxb-api</code> with <code>jakarta.xml.bind-api</code> resolves the problem"}],"owner":{"account_id":1484861,"reputation":119,"user_id":1393335,"accept_rate":67,"display_name":"pemko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2678,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673252676,"creation_date":1673251279,"question_id":75054486,"body_markdown":"I&#39;m currently updating our application to Java 17 and JAXB 3.\r\n\r\nI switched to the jaxb30-maven-plugin for this\r\n\r\n    &lt;groupId&gt;com.evolvedbinary.maven.jvnet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb30-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;0.15.0&lt;/version&gt;\r\n\r\nNow I&#39;m getting the error when I try to generate anything:\r\n\r\n[WARNING] Error injecting: org.jvnet.mjiip.v_3_0.XJC30Mojo\r\njava.lang.TypeNotPresentException: Type jakarta.xml.bind.annotation.XmlSchema not present\r\n    at sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType \r\n\r\nhere is my pom.xml:\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;com.evolvedbinary.maven.jvnet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb30-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;0.15.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;locale&gt;en&lt;/locale&gt;\r\n                &lt;extension&gt;true&lt;/extension&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;Generate Import Sources&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;generate&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;schemaLanguage&gt;XMLSCHEMA&lt;/schemaLanguage&gt;\r\n                        &lt;schemaDirectory&gt;${basedir}/src/main/resources/xsd&lt;/schemaDirectory&gt;\r\n                        &lt;schemaIncludes&gt;\r\n                            &lt;include&gt;/Import_v1.xsd&lt;/include&gt;\r\n                        &lt;/schemaIncludes&gt;\r\n                        &lt;generatePackage&gt;com.company.project.v1&lt;/generatePackage&gt;\r\n                        &lt;generateDirectory&gt;${basedir}/target/jaxb&lt;/generateDirectory&gt;\r\n                        &lt;bindingIncludes&gt;\r\n                            &lt;bindingInclude&gt;Import_v1.xjb&lt;/bindingInclude&gt;\r\n                        &lt;/bindingIncludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3.3&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.2.1&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n\r\n        &lt;/plugin&gt;\r\n\r\nCan you probably help me and see what the problem is?","title":"Jakarta XML Schema is not present when updating to Java 17 and JAXB 3","body":"<p>I'm currently updating our application to Java 17 and JAXB 3.</p>\n<p>I switched to the jaxb30-maven-plugin for this</p>\n<pre><code>&lt;groupId&gt;com.evolvedbinary.maven.jvnet&lt;/groupId&gt;\n&lt;artifactId&gt;jaxb30-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;0.15.0&lt;/version&gt;\n</code></pre>\n<p>Now I'm getting the error when I try to generate anything:</p>\n<p>[WARNING] Error injecting: org.jvnet.mjiip.v_3_0.XJC30Mojo\njava.lang.TypeNotPresentException: Type jakarta.xml.bind.annotation.XmlSchema not present\nat sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType</p>\n<p>here is my pom.xml:</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;com.evolvedbinary.maven.jvnet&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb30-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.15.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;locale&gt;en&lt;/locale&gt;\n            &lt;extension&gt;true&lt;/extension&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;Generate Import Sources&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;generate&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\n                &lt;configuration&gt;\n                    &lt;schemaLanguage&gt;XMLSCHEMA&lt;/schemaLanguage&gt;\n                    &lt;schemaDirectory&gt;${basedir}/src/main/resources/xsd&lt;/schemaDirectory&gt;\n                    &lt;schemaIncludes&gt;\n                        &lt;include&gt;/Import_v1.xsd&lt;/include&gt;\n                    &lt;/schemaIncludes&gt;\n                    &lt;generatePackage&gt;com.company.project.v1&lt;/generatePackage&gt;\n                    &lt;generateDirectory&gt;${basedir}/target/jaxb&lt;/generateDirectory&gt;\n                    &lt;bindingIncludes&gt;\n                        &lt;bindingInclude&gt;Import_v1.xjb&lt;/bindingInclude&gt;\n                    &lt;/bindingIncludes&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n                &lt;version&gt;2.3.3&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n                &lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n\n    &lt;/plugin&gt;\n</code></pre>\n<p>Can you probably help me and see what the problem is?</p>\n"},{"tags":["java","performance","generics","collections","comparison"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673252362,"creation_date":1673116771,"answer_id":75042874,"question_id":75042068,"body_markdown":"If I were you, instead of reinventing the wheel, I would work with a third party library such as JaVers. \r\n\r\n[JaVers Documentation][1]\r\n\r\n[JaVers GitHub][2]\r\n\r\n[Javers Maven][3] \r\n\r\nIt is a powerful yet lightweight library. It can do much more but you can also use it as a mere object diff tool. As a starting point I have taken some of your example input to show how you can apply it to your use case.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.javers.core.Javers;\r\n    import org.javers.core.JaversBuilder;\r\n    import org.javers.core.diff.Diff;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Getter;\r\n    \r\n    public final class Example {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            //Just copied your sample input but used only one custom class as the second is not really needed\r\n            List&lt;TestTable1&gt; dataDB1 = Arrays.asList(new TestTable1(&quot;1&quot;,&quot;1&quot;,&quot;One&quot;,&quot;Blue&quot;),\r\n                          new TestTable1(&quot;2&quot;,&quot;2&quot;,&quot;Two&quot;,&quot;Red&quot;),\r\n                          new TestTable1(&quot;3&quot;,&quot;3&quot;,&quot;Three&quot;,&quot;Black&quot;),\r\n                          new TestTable1(&quot;4&quot;,&quot;4&quot;,&quot;Four&quot;,&quot;Green&quot;),\r\n                          new TestTable1(&quot;5&quot;,&quot;5&quot;,&quot;Five&quot;,&quot;White&quot;));\r\n    \r\n            List&lt;TestTable1&gt; dataDB2 = Arrays.asList(new TestTable1(&quot;1&quot;,&quot;1&quot;,&quot;One&quot;,&quot;Blue&quot;),\r\n                          new TestTable1(&quot;2&quot;,&quot;2&quot;,&quot;Two&quot;,&quot;Red1&quot;),\r\n                          new TestTable1(&quot;3&quot;,&quot;3&quot;,&quot;Three&quot;,&quot;Black&quot;),\r\n                          new TestTable1(&quot;4&quot;,&quot;4&quot;,&quot;Four&quot;,&quot;Green&quot;),\r\n                          new TestTable1(&quot;5&quot;,&quot;5&quot;,&quot;Two&quot;,&quot;White&quot;));\r\n    \r\n            //create a map from your input for a faster access of objects by id\r\n            Map&lt;String, TestTable1&gt; db1Map = dataDB1.stream()\r\n                                               .collect(Collectors.toMap(TestTable1::getId, Function.identity()));\r\n            Map&lt;String, TestTable1&gt; db2Map = dataDB2.stream()\r\n                                               .collect(Collectors.toMap(TestTable1::getId, Function.identity()));\r\n    \r\n            // do your comparison using JaVers\r\n            Javers javers = JaversBuilder.javers().build();\r\n    \r\n            db1Map.keySet().forEach(key -&gt; {\r\n                Diff diff = javers.compare(db1Map.get(key), db2Map.get(key));\r\n                if (diff.hasChanges()){\r\n                    System.out.println(&quot;Changes for id: &quot; + key);\r\n                    System.out.println(diff.prettyPrint());\r\n                    System.out.println(&quot;********************************************************&quot;);\r\n                    System.out.println();\r\n                }\r\n            });\r\n        }\r\n    \r\n        // a simple POJO for your data\r\n        @AllArgsConstructor\r\n        @Getter\r\n        public static class TestTable1 {\r\n            String id;\r\n            String column1;\r\n            String column2;\r\n            String column3;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    Changes for id: 2\r\n    Diff:\r\n    * changes on com.mycompany.Example$TestTable1/ :\r\n      - &#39;column3&#39; changed: &#39;Red&#39; -&gt; &#39;Red1&#39;\r\n    \r\n    ********************************************************\r\n    \r\n    Changes for id: 5\r\n    Diff:\r\n    * changes on com.mycompany.Example$TestTable1/ :\r\n      - &#39;column2&#39; changed: &#39;Five&#39; -&gt; &#39;Two&#39;\r\n    \r\n    ********************************************************\r\n\r\nI just used `prettyPrint` to get a standard output but you can configure it to match your needs\r\n\r\n\r\n  [1]: https://javers.org/documentation/getting-started/\r\n  [2]: https://github.com/javers/javers\r\n  [3]: https://mvnrepository.com/artifact/org.javers/javers-core/6.8.2","title":"How to compare the list/map of custom objects, field by field to create mismatch report for very big data set in generic way using Java 8 or more?","body":"<p>If I were you, instead of reinventing the wheel, I would work with a third party library such as JaVers.</p>\n<p><a href=\"https://javers.org/documentation/getting-started/\" rel=\"nofollow noreferrer\">JaVers Documentation</a></p>\n<p><a href=\"https://github.com/javers/javers\" rel=\"nofollow noreferrer\">JaVers GitHub</a></p>\n<p><a href=\"https://mvnrepository.com/artifact/org.javers/javers-core/6.8.2\" rel=\"nofollow noreferrer\">Javers Maven</a></p>\n<p>It is a powerful yet lightweight library. It can do much more but you can also use it as a mere object diff tool. As a starting point I have taken some of your example input to show how you can apply it to your use case.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\nimport org.javers.core.Javers;\nimport org.javers.core.JaversBuilder;\nimport org.javers.core.diff.Diff;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\n\npublic final class Example {\n\n    public static void main(String[] args) {\n\n        //Just copied your sample input but used only one custom class as the second is not really needed\n        List&lt;TestTable1&gt; dataDB1 = Arrays.asList(new TestTable1(&quot;1&quot;,&quot;1&quot;,&quot;One&quot;,&quot;Blue&quot;),\n                      new TestTable1(&quot;2&quot;,&quot;2&quot;,&quot;Two&quot;,&quot;Red&quot;),\n                      new TestTable1(&quot;3&quot;,&quot;3&quot;,&quot;Three&quot;,&quot;Black&quot;),\n                      new TestTable1(&quot;4&quot;,&quot;4&quot;,&quot;Four&quot;,&quot;Green&quot;),\n                      new TestTable1(&quot;5&quot;,&quot;5&quot;,&quot;Five&quot;,&quot;White&quot;));\n\n        List&lt;TestTable1&gt; dataDB2 = Arrays.asList(new TestTable1(&quot;1&quot;,&quot;1&quot;,&quot;One&quot;,&quot;Blue&quot;),\n                      new TestTable1(&quot;2&quot;,&quot;2&quot;,&quot;Two&quot;,&quot;Red1&quot;),\n                      new TestTable1(&quot;3&quot;,&quot;3&quot;,&quot;Three&quot;,&quot;Black&quot;),\n                      new TestTable1(&quot;4&quot;,&quot;4&quot;,&quot;Four&quot;,&quot;Green&quot;),\n                      new TestTable1(&quot;5&quot;,&quot;5&quot;,&quot;Two&quot;,&quot;White&quot;));\n\n        //create a map from your input for a faster access of objects by id\n        Map&lt;String, TestTable1&gt; db1Map = dataDB1.stream()\n                                           .collect(Collectors.toMap(TestTable1::getId, Function.identity()));\n        Map&lt;String, TestTable1&gt; db2Map = dataDB2.stream()\n                                           .collect(Collectors.toMap(TestTable1::getId, Function.identity()));\n\n        // do your comparison using JaVers\n        Javers javers = JaversBuilder.javers().build();\n\n        db1Map.keySet().forEach(key -&gt; {\n            Diff diff = javers.compare(db1Map.get(key), db2Map.get(key));\n            if (diff.hasChanges()){\n                System.out.println(&quot;Changes for id: &quot; + key);\n                System.out.println(diff.prettyPrint());\n                System.out.println(&quot;********************************************************&quot;);\n                System.out.println();\n            }\n        });\n    }\n\n    // a simple POJO for your data\n    @AllArgsConstructor\n    @Getter\n    public static class TestTable1 {\n        String id;\n        String column1;\n        String column2;\n        String column3;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Changes for id: 2\nDiff:\n* changes on com.mycompany.Example$TestTable1/ :\n  - 'column3' changed: 'Red' -&gt; 'Red1'\n\n********************************************************\n\nChanges for id: 5\nDiff:\n* changes on com.mycompany.Example$TestTable1/ :\n  - 'column2' changed: 'Five' -&gt; 'Two'\n\n********************************************************\n</code></pre>\n<p>I just used <code>prettyPrint</code> to get a standard output but you can configure it to match your needs</p>\n"}],"owner":{"account_id":5451563,"reputation":41,"user_id":4336160,"display_name":"Pooja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673252362,"creation_date":1673109939,"question_id":75042068,"body_markdown":"I have been working on comparison of data between 2 different database sources in Java. I can&#39;t compare it in DB directly, due to some other challenges.\r\n\r\n - I have 50 tables to compare. \r\n - Table count will vary from 10k to 500k. (Need efficient algorithm)\r\n - Each table column count and field names will also be different (of course)\r\n\r\nI&#39;ve written below code using for loop which is limitations like:\r\n\r\n 1. As data size can be huge for some tables, for loop solution is not efficient.\r\n 2. Number of columns will vary for each table, hence the logic I have written wont work for all, I need to repeat it for different tables. Lots of boilerplate code.\r\n 3. Suppose any new column is added to some table, comparison logic also needs to be updated\r\n\r\nMy requirement:\r\n\r\n 1. I want to write a efficient code for finding field by field mismatch report of provided list of custom objects.\r\n 2. The comparison code should be capable of comparing any type of custom object list. (Not sure how to do it)\r\n 3. Ability to create, table object POJO by referring to some property file which will contain the list of columns for all tables.\r\n\r\n```\r\npublic void loadDummyTableObjects() {\r\n        table1DataList =\r\n                Arrays.asList(new TestTable1(&quot;1&quot;,&quot;1&quot;,&quot;One&quot;,&quot;Blue&quot;),\r\n                        new TestTable1(&quot;2&quot;,&quot;2&quot;,&quot;Two&quot;,&quot;Red&quot;),\r\n                        new TestTable1(&quot;3&quot;,&quot;3&quot;,&quot;Three&quot;,&quot;Black&quot;),\r\n                        new TestTable1(&quot;4&quot;,&quot;4&quot;,&quot;Four&quot;,&quot;Green&quot;),\r\n                        new TestTable1(&quot;5&quot;,&quot;5&quot;,&quot;Five&quot;,&quot;White&quot;));\r\n\r\n        table2DataList =\r\n                Arrays.asList(new TestTable2(&quot;1&quot;,&quot;1&quot;,&quot;One&quot;,&quot;Blue&quot;),\r\n                        new TestTable2(&quot;2&quot;,&quot;2&quot;,&quot;Two&quot;,&quot;Red1&quot;),\r\n                        new TestTable2(&quot;3&quot;,&quot;3&quot;,&quot;Three&quot;,&quot;Black&quot;),\r\n                        new TestTable2(&quot;4&quot;,&quot;4&quot;,&quot;Four&quot;,&quot;Green&quot;),\r\n                        new TestTable2(&quot;5&quot;,&quot;5&quot;,&quot;Two&quot;,&quot;White&quot;));\r\n    }\r\n\r\n   public void compareDataWithForLoop() {\r\n        loadDummyTableObjects();\r\n        List&lt;MismatchReport&gt; mismatchReport = new ArrayList&lt;&gt;();\r\n        for (TestTable1 t1Row: table1DataList) {\r\n            for (TestTable2 t2Row: table2DataList) {\r\n                if (t1Row.getId().equals(t2Row.getId())) {\r\n                    if (!(t1Row.getColumn1().equals(t2Row.getColumn1()))) {\r\n                        MismatchReport result = getMismatchReport(&quot;Table1&quot;, &quot;Column1&quot;, t1Row.getColumn1(), t2Row.getColumn1());\r\n                        mismatchReport.add(result);\r\n                    }\r\n                    if (!(t1Row.getColumn2().equals(t2Row.getColumn2()))) {\r\n                        MismatchReport result = getMismatchReport(&quot;Table1&quot;, &quot;Column2&quot;, t1Row.getColumn2(), t2Row.getColumn2());\r\n                        mismatchReport.add(result);\r\n                    }\r\n                    if (!(t1Row.getColumn3().equals(t2Row.getColumn3()))) {\r\n                        MismatchReport result = getMismatchReport(&quot;Table1&quot;, &quot;Column3&quot;, t1Row.getColumn3(), t2Row.getColumn3());\r\n                        mismatchReport.add(result);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        System.out.println(mismatchReport);\r\n    }\r\n\r\n    private static MismatchReport getMismatchReport(String tableNme, String Db1Table1Column1, String t1Row, String t2Row) {\r\n        MismatchReport result = new MismatchReport();\r\n        result.setTableNme(tableNme);\r\n        result.setColumnNme(Db1Table1Column1);\r\n        result.setDb1Value(t1Row);\r\n        result.setDb2Value(t2Row);\r\n        return result;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        DataComparatorService service = new DataComparatorService();\r\n        service.compareDataWithForLoop();\r\n    }\r\n\r\n```\r\nThe output format for every table comparison should be same. The result should contain fields (TableName, ColumnName, Db1Value, Db2Value), to know the column for which difference has found and the mismatch values.\r\nThe output of above code is:\r\n\r\n```\r\n\r\n[MismatchReport{tableNme=&#39;Table1&#39;, columnNme=&#39;Column3&#39;, db1Value=&#39;Red&#39;, db2Value=&#39;Red1&#39;}, \r\nMismatchReport{tableNme=&#39;Table1&#39;, columnNme=&#39;Column2&#39;, db1Value=&#39;Five&#39;, db2Value=&#39;Two&#39;}]\r\n```\r\nAny leads on how can above requirements be achieved will be very much helpful.\r\n ","title":"How to compare the list/map of custom objects, field by field to create mismatch report for very big data set in generic way using Java 8 or more?","body":"<p>I have been working on comparison of data between 2 different database sources in Java. I can't compare it in DB directly, due to some other challenges.</p>\n<ul>\n<li>I have 50 tables to compare.</li>\n<li>Table count will vary from 10k to 500k. (Need efficient algorithm)</li>\n<li>Each table column count and field names will also be different (of course)</li>\n</ul>\n<p>I've written below code using for loop which is limitations like:</p>\n<ol>\n<li>As data size can be huge for some tables, for loop solution is not efficient.</li>\n<li>Number of columns will vary for each table, hence the logic I have written wont work for all, I need to repeat it for different tables. Lots of boilerplate code.</li>\n<li>Suppose any new column is added to some table, comparison logic also needs to be updated</li>\n</ol>\n<p>My requirement:</p>\n<ol>\n<li>I want to write a efficient code for finding field by field mismatch report of provided list of custom objects.</li>\n<li>The comparison code should be capable of comparing any type of custom object list. (Not sure how to do it)</li>\n<li>Ability to create, table object POJO by referring to some property file which will contain the list of columns for all tables.</li>\n</ol>\n<pre><code>public void loadDummyTableObjects() {\n        table1DataList =\n                Arrays.asList(new TestTable1(&quot;1&quot;,&quot;1&quot;,&quot;One&quot;,&quot;Blue&quot;),\n                        new TestTable1(&quot;2&quot;,&quot;2&quot;,&quot;Two&quot;,&quot;Red&quot;),\n                        new TestTable1(&quot;3&quot;,&quot;3&quot;,&quot;Three&quot;,&quot;Black&quot;),\n                        new TestTable1(&quot;4&quot;,&quot;4&quot;,&quot;Four&quot;,&quot;Green&quot;),\n                        new TestTable1(&quot;5&quot;,&quot;5&quot;,&quot;Five&quot;,&quot;White&quot;));\n\n        table2DataList =\n                Arrays.asList(new TestTable2(&quot;1&quot;,&quot;1&quot;,&quot;One&quot;,&quot;Blue&quot;),\n                        new TestTable2(&quot;2&quot;,&quot;2&quot;,&quot;Two&quot;,&quot;Red1&quot;),\n                        new TestTable2(&quot;3&quot;,&quot;3&quot;,&quot;Three&quot;,&quot;Black&quot;),\n                        new TestTable2(&quot;4&quot;,&quot;4&quot;,&quot;Four&quot;,&quot;Green&quot;),\n                        new TestTable2(&quot;5&quot;,&quot;5&quot;,&quot;Two&quot;,&quot;White&quot;));\n    }\n\n   public void compareDataWithForLoop() {\n        loadDummyTableObjects();\n        List&lt;MismatchReport&gt; mismatchReport = new ArrayList&lt;&gt;();\n        for (TestTable1 t1Row: table1DataList) {\n            for (TestTable2 t2Row: table2DataList) {\n                if (t1Row.getId().equals(t2Row.getId())) {\n                    if (!(t1Row.getColumn1().equals(t2Row.getColumn1()))) {\n                        MismatchReport result = getMismatchReport(&quot;Table1&quot;, &quot;Column1&quot;, t1Row.getColumn1(), t2Row.getColumn1());\n                        mismatchReport.add(result);\n                    }\n                    if (!(t1Row.getColumn2().equals(t2Row.getColumn2()))) {\n                        MismatchReport result = getMismatchReport(&quot;Table1&quot;, &quot;Column2&quot;, t1Row.getColumn2(), t2Row.getColumn2());\n                        mismatchReport.add(result);\n                    }\n                    if (!(t1Row.getColumn3().equals(t2Row.getColumn3()))) {\n                        MismatchReport result = getMismatchReport(&quot;Table1&quot;, &quot;Column3&quot;, t1Row.getColumn3(), t2Row.getColumn3());\n                        mismatchReport.add(result);\n                    }\n                }\n            }\n        }\n        System.out.println(mismatchReport);\n    }\n\n    private static MismatchReport getMismatchReport(String tableNme, String Db1Table1Column1, String t1Row, String t2Row) {\n        MismatchReport result = new MismatchReport();\n        result.setTableNme(tableNme);\n        result.setColumnNme(Db1Table1Column1);\n        result.setDb1Value(t1Row);\n        result.setDb2Value(t2Row);\n        return result;\n    }\n\n    public static void main(String[] args) {\n        DataComparatorService service = new DataComparatorService();\n        service.compareDataWithForLoop();\n    }\n\n</code></pre>\n<p>The output format for every table comparison should be same. The result should contain fields (TableName, ColumnName, Db1Value, Db2Value), to know the column for which difference has found and the mismatch values.\nThe output of above code is:</p>\n<pre><code>\n[MismatchReport{tableNme='Table1', columnNme='Column3', db1Value='Red', db2Value='Red1'}, \nMismatchReport{tableNme='Table1', columnNme='Column2', db1Value='Five', db2Value='Two'}]\n</code></pre>\n<p>Any leads on how can above requirements be achieved will be very much helpful.</p>\n"},{"tags":["java","spring-boot","utf-8","http-headers"],"owner":{"account_id":22969058,"reputation":41,"user_id":17097713,"display_name":"UTPAL GAURAV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673252950,"answer_count":0,"score":0,"last_activity_date":1673252259,"creation_date":1673252259,"question_id":75054630,"body_markdown":"I have been trying to download an attachment with a Chinese filename but somehow their encoding changes to some gibberish filename while downloading.\r\n\r\nHere&#39;s my code -\r\n\r\n```\r\nString fileName = &quot;出口项目.zip&quot;;\r\n\r\nfinal HttpHeaders headers = new HttpHeaders();\r\n\r\nheaders.setContentDisposition(ContentDisposition\r\n\t\t\t\t\t.builder(&quot;attachment&quot;)\r\n\t\t\t\t\t.filename(fileName).build());\r\n\r\nreturn ResponseEntity.ok()\r\n                     .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n\t\t\t\t\t .headers(headers)\r\n\t\t\t\t\t .body(fileInputStreamResource);\r\n```\r\n\r\nI have already tried ``` filename= URLEncoder.encode(fileName, &quot;UTF-8&quot;);``` and all other solutions available on Stack overflow but always get only 2 types of response- \r\n1. either the file name changes to &#39;????.zip&#39;.\r\n2. or if the encoded characters fall in ASCII then the filename is the encoded name. (eg: \\u51FA\\u53E3\\u9879\\u76EE.zip)\r\n\r\nTechnology used-\r\nJava 17 for Spring Boot and using Postman for requests.\r\n\r\nIs there any way I can preserve the Chinese characters in Content-Disposition or any workaround?","title":"Chinese characters get corrupted when send in Content Disposition in Java","body":"<p>I have been trying to download an attachment with a Chinese filename but somehow their encoding changes to some gibberish filename while downloading.</p>\n<p>Here's my code -</p>\n<pre><code>String fileName = &quot;出口项目.zip&quot;;\n\nfinal HttpHeaders headers = new HttpHeaders();\n\nheaders.setContentDisposition(ContentDisposition\n                    .builder(&quot;attachment&quot;)\n                    .filename(fileName).build());\n\nreturn ResponseEntity.ok()\n                     .contentType(MediaType.APPLICATION_OCTET_STREAM)\n                     .headers(headers)\n                     .body(fileInputStreamResource);\n</code></pre>\n<p>I have already tried <code> filename= URLEncoder.encode(fileName, &quot;UTF-8&quot;);</code> and all other solutions available on Stack overflow but always get only 2 types of response-</p>\n<ol>\n<li>either the file name changes to '????.zip'.</li>\n<li>or if the encoded characters fall in ASCII then the filename is the encoded name. (eg: \\u51FA\\u53E3\\u9879\\u76EE.zip)</li>\n</ol>\n<p>Technology used-\nJava 17 for Spring Boot and using Postman for requests.</p>\n<p>Is there any way I can preserve the Chinese characters in Content-Disposition or any workaround?</p>\n"},{"tags":["java","eclipse","jopendocument"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1673197537,"post_id":75049565,"comment_id":132439368,"body_markdown":"It looks like that jar is not compatible with the Java module system. You can stop using modules by deleting the `module-info.java` file.","body":"It looks like that jar is not compatible with the Java module system. You can stop using modules by deleting the <code>module-info.java</code> file."},{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1673211937,"post_id":75049565,"comment_id":132442172,"body_markdown":"Welcome! [Here&#39;s how to ask a proper &quot;Where&#39;s the bug / Fix my code&quot; question](https://meta.stackoverflow.com/a/253788/11107541). Can you please read it and apply what you learn to improve your question? Can you please provide a [mre]? See [ask] for further guidance. Can you please [edit] to convert your images of text into actual text? [See here](https://meta.stackoverflow.com/a/285557/11107541) for why. See [/editing-help#code](/editing-help#code) for how to format code blocks.","body":"Welcome! <a href=\"https://meta.stackoverflow.com/a/253788/11107541\">Here&#39;s how to ask a proper &quot;Where&#39;s the bug / Fix my code&quot; question</a>. Can you please read it and apply what you learn to improve your question? Can you please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for further guidance. Can you please <a href=\"https://stackoverflow.com/posts/75049565/edit\">edit</a> to convert your images of text into actual text? <a href=\"https://meta.stackoverflow.com/a/285557/11107541\">See here</a> for why. See <a href=\"/editing-help#code\">/editing-help#code</a> for how to format code blocks."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673231506,"post_id":75049565,"comment_id":132444739,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":27469878,"reputation":1,"user_id":20959004,"display_name":"Holger"},"score":0,"creation_date":1673250680,"post_id":75049565,"comment_id":132447502,"body_markdown":"@greg-449: I need the module to access the .ods file. If you have another way of working with .ods files, please let me know.","body":"@greg-449: I need the module to access the .ods file. If you have another way of working with .ods files, please let me know."},{"owner":{"account_id":27469878,"reputation":1,"user_id":20959004,"display_name":"Holger"},"score":0,"creation_date":1673250836,"post_id":75049565,"comment_id":132447540,"body_markdown":"@starball: \n\nI added the code and some more info on where i got the library, but i&#39;m not really sure the code is the issue here.","body":"@starball:   I added the code and some more info on where i got the library, but i&#39;m not really sure the code is the issue here."},{"owner":{"account_id":15396644,"reputation":25755,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1673251350,"post_id":75049565,"comment_id":132447673,"body_markdown":"Yes it&#39;s good that you added where you downloaded it from and what version you downloaded. You just need to provide _just_ enough information for others to reproduce the issue. That doesn&#39;t always necessitate adding code, but it usually does. In this case, maybe it didn&#39;t.","body":"Yes it&#39;s good that you added where you downloaded it from and what version you downloaded. You just need to provide <i>just</i> enough information for others to reproduce the issue. That doesn&#39;t always necessitate adding code, but it usually does. In this case, maybe it didn&#39;t."}],"owner":{"account_id":27469878,"reputation":1,"user_id":20959004,"display_name":"Holger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673251144,"creation_date":1673196060,"question_id":75049565,"body_markdown":"When executing a simple programm that aims to write a string into an ods-File, i get an error in eclipse. \r\n\r\nHere&#39;s the error: \r\n\r\n&gt; java.lang.module.FindException: Unable to derive module descriptor for /home/benutzer/Documents/Java/Eclipse/FNetParser/src/jOpenDocument.jar\r\nCaused by: java.lang.module.InvalidModuleDescriptorException: JDOMAbout$Info.class found in top-level directory (unnamed package not allowed in module)\r\n\r\n\r\nNow here&#39;s how I got there: I wrote a class that uses the jopendocument-1.5.rar library to write a string into a cell in an .ods-file. I downloaded the jar here: https://jopendocument.org/download.html (I downloaded version 1.5) and the code looks like this: \r\n\r\n\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import org.jopendocument.dom.spreadsheet.Sheet;\r\n    import org.jopendocument.dom.spreadsheet.SpreadSheet;\r\n    \r\n    \r\n    public class SpreadSheetHandler {\r\n    \t\r\n    \tpublic static void main() {\r\n    \t\r\n    \t\tSpreadSheetHandler ssh = new SpreadSheetHandler();\t\r\n    \t\tssh.writeStringToCell(&quot;L1&quot;, &quot;Test&quot;);\r\n    \t\t\t\r\n    \t}\r\n    \t\t\r\n    \t\r\n    \tpublic void writeStringToCell (String str_cell, String str_value) {\r\n    \t\t\r\n    \t\tFile odc_WpDaten = new File(&quot;/home/benutzer/Desktop/Aktien/20230103_Aktienliste.ods&quot;);\r\n    \t\t\r\n    \t\t//odc_WpDaten.loadFrom(&quot;/home/benutzer/Desktop/Aktien/20230103_Aktienliste.ods&quot;);\r\n    \t\t\r\n    \t\tSheet sht_WpDaten;\r\n    \t\ttry {\r\n    \t\t\tsht_WpDaten = SpreadSheet.createFromFile(odc_WpDaten).getSheet(&quot;Sheet1&quot;);\r\n    \t\t\t\r\n    sht_WpDaten.getCellAt(str_cell).setValue(&quot;str_value&quot;);\r\n    \t\t\t\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\nAll the programm is supposed to do is open an .ods file and write &quot;Test&quot; in cell L1. That&#39;s it.\r\n\r\nI have added the jopendocument library to my project like other libraries before (Add library..., then add to build path...) I have also aligned to names of the jar file (renamed the .jar file &quot;jopendocument.jar&quot;) and of the entry in the module-info.java file. I still get the error.\r\n\r\nThe content of module-info.java looks like this:\r\n\r\n    /**\r\n     * \r\n     */\r\n    /**\r\n     * @author benutzer\r\n     *\r\n     */\r\n    module FNetParser {\r\n    \trequires jOpenDocument;\r\n    }\r\n\r\nIt doesn&#39;t look like a coding problem to me. More like some issue with setting this ominous &quot;module descriptor&quot; in eclipse. Does anyone know where i can find the &quot;module descriptor&quot;, that is mentioned in the error message?\r\n\r\nI the module-info.java, &quot;jopendocument&quot; is underlined, when i hover over it, the tooltip reads: &quot;Name of automatic module &quot;jopendocument&quot; is unstable. It is derived from the module&#39;s filename. \r\n\r\n\r\n\r\n","title":"jopendocument error in Eclipse - Unable to derive module descriptor","body":"<p>When executing a simple programm that aims to write a string into an ods-File, i get an error in eclipse.</p>\n<p>Here's the error:</p>\n<blockquote>\n<p>java.lang.module.FindException: Unable to derive module descriptor for /home/benutzer/Documents/Java/Eclipse/FNetParser/src/jOpenDocument.jar\nCaused by: java.lang.module.InvalidModuleDescriptorException: JDOMAbout$Info.class found in top-level directory (unnamed package not allowed in module)</p>\n</blockquote>\n<p>Now here's how I got there: I wrote a class that uses the jopendocument-1.5.rar library to write a string into a cell in an .ods-file. I downloaded the jar here: <a href=\"https://jopendocument.org/download.html\" rel=\"nofollow noreferrer\">https://jopendocument.org/download.html</a> (I downloaded version 1.5) and the code looks like this:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport org.jopendocument.dom.spreadsheet.Sheet;\nimport org.jopendocument.dom.spreadsheet.SpreadSheet;\n\n\npublic class SpreadSheetHandler {\n    \n    public static void main() {\n    \n        SpreadSheetHandler ssh = new SpreadSheetHandler();  \n        ssh.writeStringToCell(&quot;L1&quot;, &quot;Test&quot;);\n            \n    }\n        \n    \n    public void writeStringToCell (String str_cell, String str_value) {\n        \n        File odc_WpDaten = new File(&quot;/home/benutzer/Desktop/Aktien/20230103_Aktienliste.ods&quot;);\n        \n        //odc_WpDaten.loadFrom(&quot;/home/benutzer/Desktop/Aktien/20230103_Aktienliste.ods&quot;);\n        \n        Sheet sht_WpDaten;\n        try {\n            sht_WpDaten = SpreadSheet.createFromFile(odc_WpDaten).getSheet(&quot;Sheet1&quot;);\n            \nsht_WpDaten.getCellAt(str_cell).setValue(&quot;str_value&quot;);\n            \n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>All the programm is supposed to do is open an .ods file and write &quot;Test&quot; in cell L1. That's it.</p>\n<p>I have added the jopendocument library to my project like other libraries before (Add library..., then add to build path...) I have also aligned to names of the jar file (renamed the .jar file &quot;jopendocument.jar&quot;) and of the entry in the module-info.java file. I still get the error.</p>\n<p>The content of module-info.java looks like this:</p>\n<pre><code>/**\n * \n */\n/**\n * @author benutzer\n *\n */\nmodule FNetParser {\n    requires jOpenDocument;\n}\n</code></pre>\n<p>It doesn't look like a coding problem to me. More like some issue with setting this ominous &quot;module descriptor&quot; in eclipse. Does anyone know where i can find the &quot;module descriptor&quot;, that is mentioned in the error message?</p>\n<p>I the module-info.java, &quot;jopendocument&quot; is underlined, when i hover over it, the tooltip reads: &quot;Name of automatic module &quot;jopendocument&quot; is unstable. It is derived from the module's filename.</p>\n"},{"tags":["java","database","hibernate","spring-boot"],"comments":[{"owner":{"account_id":378454,"reputation":8227,"user_id":731178,"display_name":"J&#225;n Halaša"},"score":0,"creation_date":1517500341,"post_id":48566481,"comment_id":84129520,"body_markdown":"What are your `hbm2ddl` settings in `application.properties`?","body":"What are your <code>hbm2ddl</code> settings in <code>application.properties</code>?"},{"owner":{"account_id":7981650,"reputation":463,"user_id":6022745,"accept_rate":87,"display_name":"Tareq"},"score":0,"creation_date":1517503487,"post_id":48566481,"comment_id":84131689,"body_markdown":"@Jan Halasa, hbm2ddl is Validate.","body":"@Jan Halasa, hbm2ddl is Validate."}],"answers":[{"tags":[],"owner":{"account_id":378454,"reputation":8227,"user_id":731178,"display_name":"J&#225;n Halaša"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1517564654,"creation_date":1517564654,"answer_id":48579831,"question_id":48566481,"body_markdown":"You can either modify the database:\r\n\r\n    ALTER TABLE product MODIFY description VARCHAR(255);\r\n\r\nThis simple `ALTER TABLE` command may fail if the description values are longer than 255 characters, so you may need to do it by creating a new column and transforming the values and dropping the original column.\r\n\r\nOr you can adjust the Java code:\r\n\r\n    @Lob\r\n    @Column(name = &quot;description&quot;, columnDefinition = &quot;LONGTEXT&quot;)\r\n    private String description;\r\n\r\nYou can try to omit the `columnDefinition` first, it may be the default MySQL text LOB for Hibernate.","title":"Longvarchar in Hibernate","body":"<p>You can either modify the database:</p>\n\n<pre><code>ALTER TABLE product MODIFY description VARCHAR(255);\n</code></pre>\n\n<p>This simple <code>ALTER TABLE</code> command may fail if the description values are longer than 255 characters, so you may need to do it by creating a new column and transforming the values and dropping the original column.</p>\n\n<p>Or you can adjust the Java code:</p>\n\n<pre><code>@Lob\n@Column(name = \"description\", columnDefinition = \"LONGTEXT\")\nprivate String description;\n</code></pre>\n\n<p>You can try to omit the <code>columnDefinition</code> first, it may be the default MySQL text LOB for Hibernate.</p>\n"},{"tags":[],"owner":{"account_id":9640176,"reputation":376,"user_id":7981395,"display_name":"Aliaksandr Shpak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565357613,"creation_date":1565357613,"answer_id":57431224,"question_id":48566481,"body_markdown":"For me, works\r\n\r\n    @Column(name = &quot;DeckName&quot;, n`enter code here`ullable = true, columnDefinition = &quot;nvarchar(MAX)&quot;)","title":"Longvarchar in Hibernate","body":"<p>For me, works</p>\n\n<pre><code>@Column(name = \"DeckName\", n`enter code here`ullable = true, columnDefinition = \"nvarchar(MAX)\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10565417,"reputation":141,"user_id":7783809,"display_name":"Quynh Vi"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1673250343,"creation_date":1568002581,"answer_id":57847818,"question_id":48566481,"body_markdown":"I used @Type (org.hibernate.annotations.Type;) it worked\r\n\r\n    `addresses` text CHARACTER SET utf8 COLLATE utf8_bin NULL DEFAULT NULL\r\n\r\n    @Column(columnDefinition = &quot;text&quot;)\r\n    @Type(type = &quot;text&quot;)\r\n    private String addresses;\r\n\r\n","title":"Longvarchar in Hibernate","body":"<p>I used @Type (org.hibernate.annotations.Type;) it worked</p>\n<pre><code>`addresses` text CHARACTER SET utf8 COLLATE utf8_bin NULL DEFAULT NULL\n\n@Column(columnDefinition = &quot;text&quot;)\n@Type(type = &quot;text&quot;)\nprivate String addresses;\n</code></pre>\n"}],"owner":{"account_id":7981650,"reputation":463,"user_id":6022745,"accept_rate":87,"display_name":"Tareq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16268,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":48579831,"answer_count":3,"score":14,"last_activity_date":1673250343,"creation_date":1517499372,"question_id":48566481,"body_markdown":"This is the property,\r\n\r\n    @Column( name = &quot;description&quot;)\r\n    private String description;\r\n\r\nThis is MySql Table\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7C6dl.png\r\n\r\nDuring compiling this error is thrown,\r\n\r\n&gt; Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [description] in table [product]; found [longtext (Types#LONGVARCHAR)], but expecting [varchar(255) (Types#VARCHAR)]\r\n\r\nWhat I am missing?","title":"Longvarchar in Hibernate","body":"<p>This is the property,</p>\n\n<pre><code>@Column( name = \"description\")\nprivate String description;\n</code></pre>\n\n<p>This is MySql Table\n<a href=\"https://i.stack.imgur.com/7C6dl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7C6dl.png\" alt=\"enter image description here\"></a></p>\n\n<p>During compiling this error is thrown,</p>\n\n<blockquote>\n  <p>Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [description] in table [product]; found [longtext (Types#LONGVARCHAR)], but expecting [varchar(255) (Types#VARCHAR)]</p>\n</blockquote>\n\n<p>What I am missing?</p>\n"},{"tags":["java","spring","classnotfoundexception"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1673245023,"post_id":75053433,"comment_id":132446362,"body_markdown":"Mixing jars from different versions. Remove the `spring-beans` dependency.","body":"Mixing jars from different versions. Remove the <code>spring-beans</code> dependency."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673250068,"creation_date":1673250068,"answer_id":75054323,"question_id":75053433,"body_markdown":"The problem is your dependencies which break things. \r\n\r\n**TL;DR:** Remove the `spring-beans` dependency as that is incompatible with your setup. \r\n\r\nExplanation:\r\n---\r\nYou are using Spring Boot 2.7.7 which uses Spring 5.3.x. You have however includes `spring-beans` for version `6.0.3` which is incompatible with Spring Boot 2.7.7 (it is required/used by Spring Boot 3.0.x). \r\n\r\nRemove that dependency as that will already be pulled in by the other dependencies. Which makes me wonder why you decided to include this in the first place?","title":"class ThrowingSupplier not found","body":"<p>The problem is your dependencies which break things.</p>\n<p><strong>TL;DR:</strong> Remove the <code>spring-beans</code> dependency as that is incompatible with your setup.</p>\n<h2>Explanation:</h2>\n<p>You are using Spring Boot 2.7.7 which uses Spring 5.3.x. You have however includes <code>spring-beans</code> for version <code>6.0.3</code> which is incompatible with Spring Boot 2.7.7 (it is required/used by Spring Boot 3.0.x).</p>\n<p>Remove that dependency as that will already be pulled in by the other dependencies. Which makes me wonder why you decided to include this in the first place?</p>\n"}],"owner":{"account_id":13482813,"reputation":57,"user_id":10833486,"display_name":"Gabriel Menezes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1255,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75054323,"answer_count":1,"score":2,"last_activity_date":1673250273,"creation_date":1673241546,"question_id":75053433,"body_markdown":"I&#39;m having this issue when I start my project\r\n\r\n```\r\njava.lang.NoClassDefFoundError: org/springframework/util/function/ThrowingSupplier\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat org.springframework.beans.factory.support.RootBeanDefinition.setInstanceSupplier(RootBeanDefinition.java:438) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionBuilder.rootBeanDefinition(BeanDefinitionBuilder.java:129) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.beans.factory.support.BeanDefinitionBuilder.rootBeanDefinition(BeanDefinitionBuilder.java:141) ~[spring-beans-6.0.3.jar:6.0.3]\r\n\tat org.springframework.boot.autoconfigure.SharedMetadataReaderFactoryContextInitializer$CachingMetadataReaderFactoryPostProcessor.register(SharedMetadataReaderFactoryContextInitializer.java:104) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.autoconfigure.SharedMetadataReaderFactoryContextInitializer$CachingMetadataReaderFactoryPostProcessor.postProcessBeanDefinitionRegistry(SharedMetadataReaderFactoryContextInitializer.java:97) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:87) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat br.com.biblioteca.BibliotecaApiApplication.main(BibliotecaApiApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.util.function.ThrowingSupplier\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 24 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI honestly have no idea what&#39;s going on. I searched on google and didn&#39;t find any answer that would help me, I even put it in chatgpt and also nothing.\r\n\r\nmy pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.7&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;br.com.biblioteca&lt;/groupId&gt;\r\n    &lt;artifactId&gt;biblioteca-api&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;biblioteca-api&lt;/name&gt;\r\n    &lt;description&gt;API da biblioteca da gertrudes&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nif necessary I can commit my code and make it available here for you guys, to try to run.\r\n\r\nI googled and didn&#39;t find anything relevant.","title":"class ThrowingSupplier not found","body":"<p>I'm having this issue when I start my project</p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/util/function/ThrowingSupplier\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at org.springframework.beans.factory.support.RootBeanDefinition.setInstanceSupplier(RootBeanDefinition.java:438) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.BeanDefinitionBuilder.rootBeanDefinition(BeanDefinitionBuilder.java:129) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.BeanDefinitionBuilder.rootBeanDefinition(BeanDefinitionBuilder.java:141) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.boot.autoconfigure.SharedMetadataReaderFactoryContextInitializer$CachingMetadataReaderFactoryPostProcessor.register(SharedMetadataReaderFactoryContextInitializer.java:104) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\n    at org.springframework.boot.autoconfigure.SharedMetadataReaderFactoryContextInitializer$CachingMetadataReaderFactoryPostProcessor.postProcessBeanDefinitionRegistry(SharedMetadataReaderFactoryContextInitializer.java:97) ~[spring-boot-autoconfigure-2.7.7.jar:2.7.7]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:87) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\n    at br.com.biblioteca.BibliotecaApiApplication.main(BibliotecaApiApplication.java:10) ~[classes/:na]\nCaused by: java.lang.ClassNotFoundException: org.springframework.util.function.ThrowingSupplier\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 24 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I honestly have no idea what's going on. I searched on google and didn't find any answer that would help me, I even put it in chatgpt and also nothing.</p>\n<p>my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;br.com.biblioteca&lt;/groupId&gt;\n    &lt;artifactId&gt;biblioteca-api&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;biblioteca-api&lt;/name&gt;\n    &lt;description&gt;API da biblioteca da gertrudes&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;6.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>if necessary I can commit my code and make it available here for you guys, to try to run.</p>\n<p>I googled and didn't find anything relevant.</p>\n"},{"tags":["java","selenium","selenium-chromedriver","google-chrome-headless","lang"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646061393,"creation_date":1646061067,"answer_id":71297064,"question_id":71296869,"body_markdown":"To change the language to German through [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) while executing [Selenium](https://stackoverflow.com/a/54482491/7429447) tests you can use the following line of code:\r\n\r\n\r\n\toptions.addArguments(&#39;--lang=de_DE&#39;);","title":"How to change language to German in ChromeDriver while running Selenium tests in Java","body":"<p>To change the language to German through <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> while executing <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> tests you can use the following line of code:</p>\n<pre><code>options.addArguments('--lang=de_DE');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8819057,"reputation":116,"user_id":6589537,"display_name":"mpoqq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673250144,"creation_date":1673250144,"answer_id":75054332,"question_id":71296869,"body_markdown":"On Linux, Chrome uses the `LANGUAGE` environment variable ([chrome.i18n](https://developer.chrome.com/docs/extensions/reference/i18n/#linux)). \r\n\r\nIf you run the WebDriver with docker just add `-e LANGUAGE=de_DE -e LANG=de_DE`.  \r\n\r\nIf you use selenium-grid deployed to Kubernetes you can set [chromeNode.extraEnvironmentVariables](https://github.com/SeleniumHQ/docker-selenium/blob/trunk/charts/selenium-grid/README.md#configuration) to \r\n```\r\nextraEnvironmentVariables:\r\n  - name: LANG\r\n    value: de_DE\r\n  - name: LANGUAGE\r\n    value: de_DE\r\n```\r\n\r\nIn the newest version of [docker-selenium](https://github.com/SeleniumHQ/docker-selenium) they are added a wrapper to set the `LANGUAGE` env var based on the `--lang` arugment (see [PullRequest](https://github.com/SeleniumHQ/docker-selenium/pull/1751))","title":"How to change language to German in ChromeDriver while running Selenium tests in Java","body":"<p>On Linux, Chrome uses the <code>LANGUAGE</code> environment variable (<a href=\"https://developer.chrome.com/docs/extensions/reference/i18n/#linux\" rel=\"nofollow noreferrer\">chrome.i18n</a>).</p>\n<p>If you run the WebDriver with docker just add <code>-e LANGUAGE=de_DE -e LANG=de_DE</code>.</p>\n<p>If you use selenium-grid deployed to Kubernetes you can set <a href=\"https://github.com/SeleniumHQ/docker-selenium/blob/trunk/charts/selenium-grid/README.md#configuration\" rel=\"nofollow noreferrer\">chromeNode.extraEnvironmentVariables</a> to</p>\n<pre><code>extraEnvironmentVariables:\n  - name: LANG\n    value: de_DE\n  - name: LANGUAGE\n    value: de_DE\n</code></pre>\n<p>In the newest version of <a href=\"https://github.com/SeleniumHQ/docker-selenium\" rel=\"nofollow noreferrer\">docker-selenium</a> they are added a wrapper to set the <code>LANGUAGE</code> env var based on the <code>--lang</code> arugment (see <a href=\"https://github.com/SeleniumHQ/docker-selenium/pull/1751\" rel=\"nofollow noreferrer\">PullRequest</a>)</p>\n"}],"owner":{"account_id":24406595,"reputation":11,"user_id":18334695,"display_name":"JanR443"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673250144,"creation_date":1646060195,"question_id":71296869,"body_markdown":"I am having some problems setting the language of my chrome-browser to english when running Tests in my CI/CD-Pipeline. I use Selenium and TestNG for testing. Everytime I run my tests locally it works perfectly fine but when the Pipeline executes the tests, it always ends up failing the asserted value. This seems to be because the pipeline changes the browsers language to english instead of german. \r\n\r\nI already tried the following code snippets to change the browsers language but none of them worked:\r\n\r\n    WebDriverManager.chromedriver().setup();\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setHeadless(headless); //headless is true\r\n    options.setExperimentalOption(&quot;prefs&quot;, Collections.singletonMap(&quot;intl.accept_languages&quot;, &quot;de-DE&quot;));\r\n\r\nand \r\n\r\n    options.addArguments(&quot;--lang=de-DE&quot;)\r\nand\r\n\r\n    options.addArguments(&quot;lang=de-DE&quot;)\r\nand\r\n\r\n    options.addArguments(&quot;lang=de&quot;)\r\nI tried literally every solution I found online. I think the problem might be the headless mode but I couldn&#39;t figure out how to solve it. ","title":"How to change language to German in ChromeDriver while running Selenium tests in Java","body":"<p>I am having some problems setting the language of my chrome-browser to english when running Tests in my CI/CD-Pipeline. I use Selenium and TestNG for testing. Everytime I run my tests locally it works perfectly fine but when the Pipeline executes the tests, it always ends up failing the asserted value. This seems to be because the pipeline changes the browsers language to english instead of german.</p>\n<p>I already tried the following code snippets to change the browsers language but none of them worked:</p>\n<pre><code>WebDriverManager.chromedriver().setup();\nChromeOptions options = new ChromeOptions();\noptions.setHeadless(headless); //headless is true\noptions.setExperimentalOption(&quot;prefs&quot;, Collections.singletonMap(&quot;intl.accept_languages&quot;, &quot;de-DE&quot;));\n</code></pre>\n<p>and</p>\n<pre><code>options.addArguments(&quot;--lang=de-DE&quot;)\n</code></pre>\n<p>and</p>\n<pre><code>options.addArguments(&quot;lang=de-DE&quot;)\n</code></pre>\n<p>and</p>\n<pre><code>options.addArguments(&quot;lang=de&quot;)\n</code></pre>\n<p>I tried literally every solution I found online. I think the problem might be the headless mode but I couldn't figure out how to solve it.</p>\n"},{"tags":["javascript","java","json","windows","eclipse"],"answers":[{"tags":[],"owner":{"account_id":15135906,"reputation":46,"user_id":10922437,"display_name":"priyank modi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673249793,"creation_date":1673249793,"answer_id":75054292,"question_id":75054191,"body_markdown":"It seems you want to get the value of the key(that can be parameterized).\r\n\r\n    const jsonArray = [\r\n      {\r\n        &quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,\r\n        &quot;@baseType&quot;: &quot;LogicalResource&quot;,\r\n        &quot;isBundle&quot;: false,\r\n        &quot;isMNP&quot;: false,\r\n        &quot;businessType&quot;: [],\r\n        &quot;category&quot;: [\r\n          {\r\n            &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\r\n            &quot;name&quot;: &quot;Starterpack2&quot;,\r\n            &quot;description&quot;: &quot;Starterpack2&quot;,\r\n            &quot;code&quot;: &quot;RC17&quot;,\r\n            &quot;version&quot;: 2\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n    \r\n    const parameter = &quot;category&quot;;\r\n    \r\n    const result = jsonArray.find(({ [parameter]: value }) =&gt; value);\r\n    \r\n    if (result) {\r\n      console.log(result);\r\n    } else {\r\n      console.log(`No object found with ${parameter}`);\r\n    }\r\n\r\n\r\nIf this is not what you are looking for, then please add your code snippet for better understanding.","title":"is it possible to retrieve and print the data from a json object inside json array without using any index values and specific keys","body":"<p>It seems you want to get the value of the key(that can be parameterized).</p>\n<pre><code>const jsonArray = [\n  {\n    &quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,\n    &quot;@baseType&quot;: &quot;LogicalResource&quot;,\n    &quot;isBundle&quot;: false,\n    &quot;isMNP&quot;: false,\n    &quot;businessType&quot;: [],\n    &quot;category&quot;: [\n      {\n        &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\n        &quot;name&quot;: &quot;Starterpack2&quot;,\n        &quot;description&quot;: &quot;Starterpack2&quot;,\n        &quot;code&quot;: &quot;RC17&quot;,\n        &quot;version&quot;: 2\n      }\n    ]\n  }\n];\n\nconst parameter = &quot;category&quot;;\n\nconst result = jsonArray.find(({ [parameter]: value }) =&gt; value);\n\nif (result) {\n  console.log(result);\n} else {\n  console.log(`No object found with ${parameter}`);\n}\n</code></pre>\n<p>If this is not what you are looking for, then please add your code snippet for better understanding.</p>\n"},{"tags":[],"owner":{"account_id":24610976,"reputation":78,"user_id":18512567,"display_name":"Ali "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673249856,"creation_date":1673249856,"answer_id":75054299,"question_id":75054191,"body_markdown":"Try this.\r\n\r\n**For Example:**\r\n\r\n    let a = [{&quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,&quot;category&quot;: [\r\n            {\r\n                &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\r\n                &quot;name&quot;: &quot;Starterpack2&quot;,\r\n                &quot;description&quot;: &quot;Starterpack2&quot;,\r\n                &quot;code&quot;: &quot;RC17&quot;,\r\n                &quot;version&quot;: 2\r\n            }]}]\r\n            \r\n          function print (values){return (a[0][`${values}`])}\r\n    \r\n         //now just pass any name like &quot;category&quot; or in future &quot;categories&quot;\r\n\r\n         print(&quot;category&quot;)  //this will retrun the array.\r\n\r\nNow modify with your requirements.\r\n\r\n","title":"is it possible to retrieve and print the data from a json object inside json array without using any index values and specific keys","body":"<p>Try this.</p>\n<p><strong>For Example:</strong></p>\n<pre><code>let a = [{&quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,&quot;category&quot;: [\n        {\n            &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\n            &quot;name&quot;: &quot;Starterpack2&quot;,\n            &quot;description&quot;: &quot;Starterpack2&quot;,\n            &quot;code&quot;: &quot;RC17&quot;,\n            &quot;version&quot;: 2\n        }]}]\n        \n      function print (values){return (a[0][`${values}`])}\n\n     //now just pass any name like &quot;category&quot; or in future &quot;categories&quot;\n\n     print(&quot;category&quot;)  //this will retrun the array.\n</code></pre>\n<p>Now modify with your requirements.</p>\n"}],"owner":{"account_id":27474473,"reputation":1,"user_id":20962726,"display_name":"sindhunadh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673249856,"creation_date":1673249011,"question_id":75054191,"body_markdown":"    [\r\n        {\r\n            &quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,\r\n            &quot;@baseType&quot;: &quot;LogicalResource&quot;,\r\n            &quot;isBundle&quot;: false,\r\n            &quot;isMNP&quot;: false,\r\n            &quot;businessType&quot;: [],\r\n            &quot;category&quot;: [\r\n                {\r\n                    &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\r\n                    &quot;name&quot;: &quot;Starterpack2&quot;,\r\n                    &quot;description&quot;: &quot;Starterpack2&quot;,\r\n                    &quot;code&quot;: &quot;RC17&quot;,\r\n                    &quot;version&quot;: 2\r\n                }}]\r\n\r\nnow i need to check and print the JSON Object inside the JSON Array if category is present then it should print  and in future if category is changed according to that if we pass parameter the output should print we don&#39;t hard code the code \r\n\r\ni have tried by using key values it is coming but if the key value changes it is not printing the object \r\nEX:- \r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,\r\n            &quot;@baseType&quot;: &quot;LogicalResource&quot;,\r\n            &quot;isBundle&quot;: false,\r\n            &quot;isMNP&quot;: false,\r\n            &quot;businessType&quot;: [],\r\n            &quot;category&quot;: [\r\n                {\r\n                    &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\r\n                    &quot;name&quot;: &quot;Starterpack2&quot;,\r\n                    &quot;description&quot;: &quot;Starterpack2&quot;,\r\n                    &quot;code&quot;: &quot;RC17&quot;,\r\n                    &quot;version&quot;: 2\r\n                }}]\r\n\r\nin the above code i have printed category object but if category changed to categories it is not printing so i want a code which can read the code and based on parameters user giving it should be print  the output\r\n\r\n\r\n","title":"is it possible to retrieve and print the data from a json object inside json array without using any index values and specific keys","body":"<pre><code>[\n    {\n        &quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,\n        &quot;@baseType&quot;: &quot;LogicalResource&quot;,\n        &quot;isBundle&quot;: false,\n        &quot;isMNP&quot;: false,\n        &quot;businessType&quot;: [],\n        &quot;category&quot;: [\n            {\n                &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\n                &quot;name&quot;: &quot;Starterpack2&quot;,\n                &quot;description&quot;: &quot;Starterpack2&quot;,\n                &quot;code&quot;: &quot;RC17&quot;,\n                &quot;version&quot;: 2\n            }}]\n</code></pre>\n<p>now i need to check and print the JSON Object inside the JSON Array if category is present then it should print  and in future if category is changed according to that if we pass parameter the output should print we don't hard code the code</p>\n<p>i have tried by using key values it is coming but if the key value changes it is not printing the object\nEX:-</p>\n<pre><code>[\n    {\n        &quot;id&quot;: &quot;628ba44f5a6de600071d16fa&quot;,\n        &quot;@baseType&quot;: &quot;LogicalResource&quot;,\n        &quot;isBundle&quot;: false,\n        &quot;isMNP&quot;: false,\n        &quot;businessType&quot;: [],\n        &quot;category&quot;: [\n            {\n                &quot;id&quot;: &quot;628ba3ef5a6de600071d165f&quot;,\n                &quot;name&quot;: &quot;Starterpack2&quot;,\n                &quot;description&quot;: &quot;Starterpack2&quot;,\n                &quot;code&quot;: &quot;RC17&quot;,\n                &quot;version&quot;: 2\n            }}]\n</code></pre>\n<p>in the above code i have printed category object but if category changed to categories it is not printing so i want a code which can read the code and based on parameters user giving it should be print  the output</p>\n"},{"tags":["java","hibernate","hbm2ddl"],"answers":[{"tags":[],"owner":{"account_id":1941,"reputation":17240,"user_id":2670,"accept_rate":92,"display_name":"Peter Hilton"},"down_vote_count":1,"up_vote_count":174,"is_accepted":false,"score":173,"last_activity_date":1231834305,"creation_date":1231834305,"answer_id":438286,"question_id":438146,"body_markdown":"The configuration property is called `hibernate.hbm2ddl.auto`\r\n\r\nIn our development environment we set `hibernate.hbm2ddl.auto=create-drop` to drop and create a clean database each time we deploy, so that our database is in a known state.\r\n\r\nIn theory, you can set `hibernate.hbm2ddl.auto=update` to update your database with changes to your model, but I would not trust that on a production database. An earlier version of the documentation said that this was experimental, at least; I do not know the current status.\r\n\r\nTherefore, for our production database, do not set `hibernate.hbm2ddl.auto` - the default is to make no database changes. Instead, we manually create an SQL DDL update script that applies changes from one version to the next.","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>The configuration property is called <code>hibernate.hbm2ddl.auto</code></p>\n\n<p>In our development environment we set <code>hibernate.hbm2ddl.auto=create-drop</code> to drop and create a clean database each time we deploy, so that our database is in a known state.</p>\n\n<p>In theory, you can set <code>hibernate.hbm2ddl.auto=update</code> to update your database with changes to your model, but I would not trust that on a production database. An earlier version of the documentation said that this was experimental, at least; I do not know the current status.</p>\n\n<p>Therefore, for our production database, do not set <code>hibernate.hbm2ddl.auto</code> - the default is to make no database changes. Instead, we manually create an SQL DDL update script that applies changes from one version to the next.</p>\n"},{"tags":[],"owner":{"account_id":10628,"reputation":5791,"user_id":20161,"accept_rate":50,"display_name":"Pat"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1237794034,"creation_date":1237794034,"answer_id":672490,"question_id":438146,"body_markdown":"I would use [liquibase][1] for updating your db. hibernate&#39;s schema update feature is really only o.k. for a developer while they are developing new features. In a production situation, the db upgrade needs to be handled more carefully.\r\n\r\n\r\n  [1]: http://www.liquibase.org &quot;liquibase&quot;","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>I would use <a href=\"http://www.liquibase.org\" rel=\"noreferrer\" title=\"liquibase\">liquibase</a> for updating your db. hibernate's schema update feature is really only o.k. for a developer while they are developing new features. In a production situation, the db upgrade needs to be handled more carefully.</p>\n"},{"tags":[],"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"down_vote_count":0,"up_vote_count":1227,"is_accepted":false,"score":1227,"last_activity_date":1673239372,"creation_date":1257535502,"answer_id":1689769,"question_id":438146,"body_markdown":"From the [community documentation][1]:\r\n\r\n&gt;hibernate.hbm2ddl.auto    Automatically validates or exports schema DDL to the database when the SessionFactory is created. With create-drop, the database schema will be dropped when the SessionFactory is closed explicitly.\r\n&gt;\r\n&gt;e.g. validate | update | create | create-drop \r\n\r\nSo the list of possible options are,\r\n\r\n- *validate*: validate the schema, makes no changes to the database.\r\n- *create-only*: database creation will be generated.\r\n- *drop*: database dropping will be generated.\r\n- *update*: update the schema.\r\n- *create*: creates the schema, destroying previous data.\r\n- *create-drop*: drop the schema when the SessionFactory is closed explicitly, typically when the application is stopped.\r\n- *none*: does nothing with the schema, makes no changes to the database\r\n\r\nThese options seem intended to be developers tools and not to facilitate any production level databases, you may want to have a look at the following question; [Hibernate: hbm2ddl.auto=update in production?][2]\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl\r\n  [2]: https://stackoverflow.com/questions/221379/hibernate-hbm2ddl-autoupdate-in-production","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>From the <a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl\" rel=\"noreferrer\">community documentation</a>:</p>\n<blockquote>\n<p>hibernate.hbm2ddl.auto    Automatically validates or exports schema DDL to the database when the SessionFactory is created. With create-drop, the database schema will be dropped when the SessionFactory is closed explicitly.</p>\n<p>e.g. validate | update | create | create-drop</p>\n</blockquote>\n<p>So the list of possible options are,</p>\n<ul>\n<li><em>validate</em>: validate the schema, makes no changes to the database.</li>\n<li><em>create-only</em>: database creation will be generated.</li>\n<li><em>drop</em>: database dropping will be generated.</li>\n<li><em>update</em>: update the schema.</li>\n<li><em>create</em>: creates the schema, destroying previous data.</li>\n<li><em>create-drop</em>: drop the schema when the SessionFactory is closed explicitly, typically when the application is stopped.</li>\n<li><em>none</em>: does nothing with the schema, makes no changes to the database</li>\n</ul>\n<p>These options seem intended to be developers tools and not to facilitate any production level databases, you may want to have a look at the following question; <a href=\"https://stackoverflow.com/questions/221379/hibernate-hbm2ddl-autoupdate-in-production\">Hibernate: hbm2ddl.auto=update in production?</a></p>\n"},{"tags":[],"owner":{"account_id":1401059,"reputation":2551,"user_id":1329839,"display_name":"Michiel Verkaik"},"down_vote_count":0,"up_vote_count":212,"is_accepted":false,"score":212,"last_activity_date":1673249841,"creation_date":1339167134,"answer_id":10951187,"question_id":438146,"body_markdown":"There&#39;s also the value of [`none`][1] to disable it entirely.\r\n\r\n[1]: https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>There's also the value of <a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl\" rel=\"noreferrer\"><code>none</code></a> to disable it entirely.</p>\n"},{"tags":[],"owner":{"account_id":1003809,"reputation":2773,"user_id":1018054,"accept_rate":73,"display_name":"Vishal Sharma"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1340244744,"creation_date":1340244744,"answer_id":11130672,"question_id":438146,"body_markdown":"I Think you should have to concentrate on the \r\n\r\n    SchemaExport Class \r\n\r\nthis Class Makes Your Configuration Dynamic \r\nSo it allows you to choose whatever suites you best...\r\n\r\nCheckout [\\[SchemaExport\\]][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/tool/hbm2ddl/SchemaExport.html","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>I Think you should have to concentrate on the </p>\n\n<pre><code>SchemaExport Class \n</code></pre>\n\n<p>this Class Makes Your Configuration Dynamic \nSo it allows you to choose whatever suites you best...</p>\n\n<p>Checkout <a href=\"http://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/tool/hbm2ddl/SchemaExport.html\" rel=\"noreferrer\">[SchemaExport]</a></p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":108,"is_accepted":false,"score":108,"last_activity_date":1610258708,"creation_date":1400157972,"answer_id":23678638,"question_id":438146,"body_markdown":"First, the possible values for the `hbm2ddl` configuration property are the following ones:\r\n\r\n- `none` - No action is performed. The schema will not be generated.\r\n- `create-only` - The database schema will be generated.\r\n- `drop` - The database schema will be dropped.\r\n- `create` - The database schema will be dropped and created afterward.\r\n- `create-drop` - The database schema will be dropped and created afterward. Upon closing the `SessionFactory`, the database schema will be dropped.\r\n- `validate` - The database schema will be validated using the entity mappings.\r\n- `update` - The database schema will be updated by comparing the existing database schema with the entity mappings.\r\n\r\nThe `hibernate.hbm2ddl.auto=&quot;update&quot;` is convenient but less flexible if you plan on adding functions or executing some custom scripts. \r\n\r\nSo, The *most flexible approach* is to use [Flyway][3].\r\n\r\nHowever, even if you use Flyway, you can still generate the initial migration script using hbm2ddl.\r\n\r\n  [3]: https://flywaydb.org/","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>First, the possible values for the <code>hbm2ddl</code> configuration property are the following ones:</p>\n<ul>\n<li><code>none</code> - No action is performed. The schema will not be generated.</li>\n<li><code>create-only</code> - The database schema will be generated.</li>\n<li><code>drop</code> - The database schema will be dropped.</li>\n<li><code>create</code> - The database schema will be dropped and created afterward.</li>\n<li><code>create-drop</code> - The database schema will be dropped and created afterward. Upon closing the <code>SessionFactory</code>, the database schema will be dropped.</li>\n<li><code>validate</code> - The database schema will be validated using the entity mappings.</li>\n<li><code>update</code> - The database schema will be updated by comparing the existing database schema with the entity mappings.</li>\n</ul>\n<p>The <code>hibernate.hbm2ddl.auto=&quot;update&quot;</code> is convenient but less flexible if you plan on adding functions or executing some custom scripts.</p>\n<p>So, The <em>most flexible approach</em> is to use <a href=\"https://flywaydb.org/\" rel=\"noreferrer\">Flyway</a>.</p>\n<p>However, even if you use Flyway, you can still generate the initial migration script using hbm2ddl.</p>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1433758650,"creation_date":1423562195,"answer_id":28428698,"question_id":438146,"body_markdown":"If you don&#39;t want to use Strings in your app and are looking for predefined constants have a look at `org.hibernate.cfg.AvailableSettings` class included in the Hibernate JAR, where you&#39;ll find a constant for all possible settings. In your case for example:\r\n\r\n\t/**\r\n\t * Auto export/update schema using hbm2ddl tool. Valid values are &lt;tt&gt;update&lt;/tt&gt;,\r\n\t * &lt;tt&gt;create&lt;/tt&gt;, &lt;tt&gt;create-drop&lt;/tt&gt; and &lt;tt&gt;validate&lt;/tt&gt;.\r\n\t */\r\n\tString HBM2DDL_AUTO = &quot;hibernate.hbm2ddl.auto&quot;;","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>If you don't want to use Strings in your app and are looking for predefined constants have a look at <code>org.hibernate.cfg.AvailableSettings</code> class included in the Hibernate JAR, where you'll find a constant for all possible settings. In your case for example:</p>\n\n<pre><code>/**\n * Auto export/update schema using hbm2ddl tool. Valid values are &lt;tt&gt;update&lt;/tt&gt;,\n * &lt;tt&gt;create&lt;/tt&gt;, &lt;tt&gt;create-drop&lt;/tt&gt; and &lt;tt&gt;validate&lt;/tt&gt;.\n */\nString HBM2DDL_AUTO = \"hibernate.hbm2ddl.auto\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2663342,"reputation":907,"user_id":2302492,"display_name":"amit"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1470585028,"creation_date":1470579111,"answer_id":38814972,"question_id":438146,"body_markdown":"Although it is quite an old post but as i did some research on the topic so thought of sharing it.\r\n\r\n***hibernate.hbm2ddl.auto***\r\n\r\nAs per the documentation it can have four valid values:&lt;br/&gt;\r\n\r\n***create  |  update  |  validate  |  create-drop***\r\n\r\nFollowing is the explanation of the behaviour shown by these value:\r\n\r\n - *create* :- create the schema, the data previously present (if there) in the schema is lost\r\n - update:- update the schema with the given values.\r\n - validate:- validate the schema. It makes no change in the DB.\r\n - create-drop:- create the schema with destroying the data previously present(if there). It also drop the database schema when the SessionFactory is closed.\r\n\r\nFollowing are the important points worth noting:\r\n\r\n - In case of ***update***, if schema is not present in the DB then the schema is created.\r\n - In case of ***validate***, if schema does not exists in DB, it is not created. Instead, it will throw an error:- `Table not found:&lt;table name&gt;`\r\n - In case of ***create-drop***, schema is not dropped on closing the session. It drops only on closing the SessionFactory.\r\n - In case if i give any value to this property(say abc, instead of above four values discussed above) or it is just left blank. It shows following behaviour:\r\n    \r\n     -If schema is not present in the DB:- It creates the schema\r\n   \r\n     -If schema is present in the DB:- ***update*** the schema.\r\n\r\n","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>Although it is quite an old post but as i did some research on the topic so thought of sharing it.</p>\n\n<p><strong><em>hibernate.hbm2ddl.auto</em></strong></p>\n\n<p>As per the documentation it can have four valid values:<br/></p>\n\n<p><strong><em>create  |  update  |  validate  |  create-drop</em></strong></p>\n\n<p>Following is the explanation of the behaviour shown by these value:</p>\n\n<ul>\n<li><em>create</em> :- create the schema, the data previously present (if there) in the schema is lost</li>\n<li>update:- update the schema with the given values.</li>\n<li>validate:- validate the schema. It makes no change in the DB.</li>\n<li>create-drop:- create the schema with destroying the data previously present(if there). It also drop the database schema when the SessionFactory is closed.</li>\n</ul>\n\n<p>Following are the important points worth noting:</p>\n\n<ul>\n<li>In case of <strong><em>update</em></strong>, if schema is not present in the DB then the schema is created.</li>\n<li>In case of <strong><em>validate</em></strong>, if schema does not exists in DB, it is not created. Instead, it will throw an error:- <code>Table not found:&lt;table name&gt;</code></li>\n<li>In case of <strong><em>create-drop</em></strong>, schema is not dropped on closing the session. It drops only on closing the SessionFactory.</li>\n<li><p>In case if i give any value to this property(say abc, instead of above four values discussed above) or it is just left blank. It shows following behaviour:</p>\n\n<p>-If schema is not present in the DB:- It creates the schema</p>\n\n<p>-If schema is present in the DB:- <strong><em>update</em></strong> the schema.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":93845,"reputation":4170,"user_id":256561,"accept_rate":100,"display_name":"Doc Davluz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1471608972,"creation_date":1470912310,"answer_id":38894203,"question_id":438146,"body_markdown":"**Since 5.0**, you can now find those values in a dedicated `Enum`: [`org.hibernate.boot.SchemaAutoTooling`][1] (enhanced with value `NONE` since 5.2).\r\n\r\nOr even better, **since 5.1**, you can also use the [`org.hibernate.tool.schema.Action`][2] `Enum` which combines JPA 2 and &quot;legacy&quot; Hibernate DDL actions.\r\n\r\n**But**, you cannot yet configure a `DataSource` programmatically with this. It would be nicer to use this combined with [`org.hibernate.cfg.AvailableSettings#HBM2DDL_AUTO`][3] but the current code expect a `String` value (excerpt taken from [`SessionFactoryBuilderImpl`][6]):\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    this.schemaAutoTooling = SchemaAutoTooling.interpret( (String) configurationSettings.get( AvailableSettings.HBM2DDL_AUTO ) );\r\n\r\n… and internal `enum` values of both [`org.hibernate.boot.SchemaAutoTooling`][4]and [`org.hibernate.tool.schema.Action`][5] aren&#39;t exposed publicly.\r\n\r\nHereunder, a sample programmatic `DataSource` configuration (used in ones of my Spring Boot applications) which use a gambit thanks to `.name().toLowerCase()` but it only works with values without dash (not `create-drop` for instance):\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean(name = ENTITY_MANAGER_NAME)\r\n    public LocalContainerEntityManagerFactoryBean internalEntityManagerFactory(\r\n            EntityManagerFactoryBuilder builder,\r\n            @Qualifier(DATA_SOURCE_NAME) DataSource internalDataSource) {\r\n\r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(AvailableSettings.HBM2DDL_AUTO, SchemaAutoTooling.CREATE.name().toLowerCase());\r\n        properties.put(AvailableSettings.DIALECT, H2Dialect.class.getName());\r\n\r\n        return builder\r\n                .dataSource(internalDataSource)\r\n                .packages(JpaModelsScanEntry.class, Jsr310JpaConverters.class)\r\n                .persistenceUnit(PERSISTENCE_UNIT_NAME)\r\n                .properties(properties)\r\n                .build();\r\n    }\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/boot/SchemaAutoTooling.html\r\n  [2]: http://docs.jboss.org/hibernate/orm/5.1/javadocs/org/hibernate/tool/schema/Action.html\r\n  [3]: http://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/cfg/AvailableSettings.html#HBM2DDL_AUTO\r\n  [4]: https://github.com/hibernate/hibernate-orm/blob/5.2.2/hibernate-core/src/main/java/org/hibernate/boot/SchemaAutoTooling.java\r\n  [5]: https://github.com/hibernate/hibernate-orm/blob/5.2.2/hibernate-core/src/main/java/org/hibernate/tool/schema/Action.java\r\n  [6]: https://github.com/hibernate/hibernate-orm/blob/5.2.2/hibernate-core/src/main/java/org/hibernate/boot/internal/SessionFactoryBuilderImpl.java#L711","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p><strong>Since 5.0</strong>, you can now find those values in a dedicated <code>Enum</code>: <a href=\"http://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/boot/SchemaAutoTooling.html\" rel=\"nofollow\"><code>org.hibernate.boot.SchemaAutoTooling</code></a> (enhanced with value <code>NONE</code> since 5.2).</p>\n\n<p>Or even better, <strong>since 5.1</strong>, you can also use the <a href=\"http://docs.jboss.org/hibernate/orm/5.1/javadocs/org/hibernate/tool/schema/Action.html\" rel=\"nofollow\"><code>org.hibernate.tool.schema.Action</code></a> <code>Enum</code> which combines JPA 2 and \"legacy\" Hibernate DDL actions.</p>\n\n<p><strong>But</strong>, you cannot yet configure a <code>DataSource</code> programmatically with this. It would be nicer to use this combined with <a href=\"http://docs.jboss.org/hibernate/orm/5.0/javadocs/org/hibernate/cfg/AvailableSettings.html#HBM2DDL_AUTO\" rel=\"nofollow\"><code>org.hibernate.cfg.AvailableSettings#HBM2DDL_AUTO</code></a> but the current code expect a <code>String</code> value (excerpt taken from <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.2.2/hibernate-core/src/main/java/org/hibernate/boot/internal/SessionFactoryBuilderImpl.java#L711\" rel=\"nofollow\"><code>SessionFactoryBuilderImpl</code></a>):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>this.schemaAutoTooling = SchemaAutoTooling.interpret( (String) configurationSettings.get( AvailableSettings.HBM2DDL_AUTO ) );\n</code></pre>\n\n<p>… and internal <code>enum</code> values of both <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.2.2/hibernate-core/src/main/java/org/hibernate/boot/SchemaAutoTooling.java\" rel=\"nofollow\"><code>org.hibernate.boot.SchemaAutoTooling</code></a>and <a href=\"https://github.com/hibernate/hibernate-orm/blob/5.2.2/hibernate-core/src/main/java/org/hibernate/tool/schema/Action.java\" rel=\"nofollow\"><code>org.hibernate.tool.schema.Action</code></a> aren't exposed publicly.</p>\n\n<p>Hereunder, a sample programmatic <code>DataSource</code> configuration (used in ones of my Spring Boot applications) which use a gambit thanks to <code>.name().toLowerCase()</code> but it only works with values without dash (not <code>create-drop</code> for instance):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = ENTITY_MANAGER_NAME)\npublic LocalContainerEntityManagerFactoryBean internalEntityManagerFactory(\n        EntityManagerFactoryBuilder builder,\n        @Qualifier(DATA_SOURCE_NAME) DataSource internalDataSource) {\n\n    Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(AvailableSettings.HBM2DDL_AUTO, SchemaAutoTooling.CREATE.name().toLowerCase());\n    properties.put(AvailableSettings.DIALECT, H2Dialect.class.getName());\n\n    return builder\n            .dataSource(internalDataSource)\n            .packages(JpaModelsScanEntry.class, Jsr310JpaConverters.class)\n            .persistenceUnit(PERSISTENCE_UNIT_NAME)\n            .properties(properties)\n            .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7455476,"reputation":629,"user_id":5668886,"display_name":"vishal thakur"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1555446647,"creation_date":1488538298,"answer_id":42576925,"question_id":438146,"body_markdown":"- `validate`: validates the schema, no change happens to the database.\r\n- `update`: updates the schema with current execute query.\r\n- `create`: creates new schema every time, and destroys previous data.\r\n- `create-drop`: drops the schema when the application is stopped or SessionFactory is closed explicitly.","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<ul>\n<li><code>validate</code>: validates the schema, no change happens to the database.</li>\n<li><code>update</code>: updates the schema with current execute query.</li>\n<li><code>create</code>: creates new schema every time, and destroys previous data.</li>\n<li><code>create-drop</code>: drops the schema when the application is stopped or SessionFactory is closed explicitly.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8479306,"reputation":741,"user_id":6359443,"display_name":"Vinod Kumawat"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1499689228,"creation_date":1494523590,"answer_id":43922047,"question_id":438146,"body_markdown":"`hibernate.hbm2ddl.auto` automatically validates and exports DDL to the schema when the sessionFactory is created.\r\n\r\nBy default, it does not perform any creation or modification automatically on DB. If the user sets one of the below values then it is doing DDL schema changes automatically.\r\n\r\n * create - doing creating a schema\r\n\r\n        &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;&gt;\r\n\r\n * update - updating existing schema\r\n\r\n        &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;&gt;\r\n\r\n * validate - validate existing schema\r\n\r\n        &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot;&gt;\r\n\r\n * create-drop - create and drop the schema automatically when a session is starts and ends\r\n\r\n        &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot;&gt;","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p><code>hibernate.hbm2ddl.auto</code> automatically validates and exports DDL to the schema when the sessionFactory is created.</p>\n\n<p>By default, it does not perform any creation or modification automatically on DB. If the user sets one of the below values then it is doing DDL schema changes automatically.</p>\n\n<ul>\n<li><p>create - doing creating a schema</p>\n\n<pre><code>&lt;entry key=\"hibernate.hbm2ddl.auto\" value=\"create\"&gt;\n</code></pre></li>\n<li><p>update - updating existing schema</p>\n\n<pre><code>&lt;entry key=\"hibernate.hbm2ddl.auto\" value=\"update\"&gt;\n</code></pre></li>\n<li><p>validate - validate existing schema</p>\n\n<pre><code>&lt;entry key=\"hibernate.hbm2ddl.auto\" value=\"validate\"&gt;\n</code></pre></li>\n<li><p>create-drop - create and drop the schema automatically when a session is starts and ends</p>\n\n<pre><code>&lt;entry key=\"hibernate.hbm2ddl.auto\" value=\"create-drop\"&gt;\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5448501,"reputation":1780,"user_id":4334162,"display_name":"Arun Raaj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508078697,"creation_date":1508078697,"answer_id":46756282,"question_id":438146,"body_markdown":"`validate`: It validates the schema and makes no changes to the DB.        \r\nAssume you have added a new column in the mapping file and perform the insert operation, it will throw an Exception &quot;missing the XYZ column&quot; because the existing schema is different than the object you are going to insert. If you alter the table by adding that new column manually then perform the Insert operation then it will definitely insert all columns along with the new column to the Table.\r\nMeans it doesn&#39;t make any changes/alters the existing schema/table.\r\n\r\n`update`: it alters the existing table in the database when you perform operation. \r\nYou can add or remove columns with this option of hbm2ddl. \r\nBut if you are going to add a new column that is &#39;NOT NULL&#39; then it will ignore adding that particular column to the DB. Because the Table must be empty if you want to add a &#39;NOT NULL&#39; column to the existing table. ","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p><code>validate</code>: It validates the schema and makes no changes to the DB.<br>\nAssume you have added a new column in the mapping file and perform the insert operation, it will throw an Exception \"missing the XYZ column\" because the existing schema is different than the object you are going to insert. If you alter the table by adding that new column manually then perform the Insert operation then it will definitely insert all columns along with the new column to the Table.\nMeans it doesn't make any changes/alters the existing schema/table.</p>\n\n<p><code>update</code>: it alters the existing table in the database when you perform operation. \nYou can add or remove columns with this option of hbm2ddl. \nBut if you are going to add a new column that is 'NOT NULL' then it will ignore adding that particular column to the DB. Because the Table must be empty if you want to add a 'NOT NULL' column to the existing table. </p>\n"},{"tags":[],"owner":{"account_id":3401908,"reputation":431,"user_id":2853874,"accept_rate":86,"display_name":"ibrahim demir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607586509,"creation_date":1590174625,"answer_id":61962252,"question_id":438146,"body_markdown":"To whomever searching for default value...\r\n\r\nIt is written in the source code at version 2.0.5 of spring-boot and 1.1.0 at JpaProperties:\r\n\r\n\t\t/**\r\n\t\t * DDL mode. This is actually a shortcut for the &quot;hibernate.hbm2ddl.auto&quot;\r\n\t\t * property. Defaults to &quot;create-drop&quot; when using an embedded database and no\r\n\t\t * schema manager was detected. Otherwise, defaults to &quot;none&quot;.\r\n\t\t */\r\n\t\tprivate String ddlAuto;","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>To whomever searching for default value...</p>\n<p>It is written in the source code at version 2.0.5 of spring-boot and 1.1.0 at JpaProperties:</p>\n<pre><code>    /**\n     * DDL mode. This is actually a shortcut for the &quot;hibernate.hbm2ddl.auto&quot;\n     * property. Defaults to &quot;create-drop&quot; when using an embedded database and no\n     * schema manager was detected. Otherwise, defaults to &quot;none&quot;.\n     */\n    private String ddlAuto;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631775256,"creation_date":1631775256,"answer_id":69203657,"question_id":438146,"body_markdown":"With all above said...\r\nNotice this property is called `dll.auto` and should only control dll operations(create/drop schema/table), I found surprisingly that it has to do with dml, too: only `update` will allow insert data, which is dml operation. \r\n\r\nGot caught by this when trying to populate data into a in-memory database; only `update` works. ","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>With all above said...\nNotice this property is called <code>dll.auto</code> and should only control dll operations(create/drop schema/table), I found surprisingly that it has to do with dml, too: only <code>update</code> will allow insert data, which is dml operation.</p>\n<p>Got caught by this when trying to populate data into a in-memory database; only <code>update</code> works.</p>\n"}],"owner":{"display_name":"Suzan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305598,"favorite_count":0,"down_vote_count":4,"up_vote_count":1257,"answer_count":14,"score":1253,"last_activity_date":1673249841,"creation_date":1231828848,"question_id":438146,"body_markdown":"I really want to know more about the update, export and the values that could be given to `hibernate.hbm2ddl.auto`&lt;br&gt;\r\nI need to know when to use the update and when not? And what is the alternative?\r\n \r\nThese are changes that could happen over DB:\r\n\r\n- new tables\r\n- new columns in old tables\r\n- columns deleted\r\n- data type of a column changed\r\n- a type of a column changed its attributes\r\n- tables dropped\r\n- values of a column changed \r\n\r\nIn each case what is the best solution?","title":"What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do","body":"<p>I really want to know more about the update, export and the values that could be given to <code>hibernate.hbm2ddl.auto</code><br>\nI need to know when to use the update and when not? And what is the alternative?</p>\n\n<p>These are changes that could happen over DB:</p>\n\n<ul>\n<li>new tables</li>\n<li>new columns in old tables</li>\n<li>columns deleted</li>\n<li>data type of a column changed</li>\n<li>a type of a column changed its attributes</li>\n<li>tables dropped</li>\n<li>values of a column changed </li>\n</ul>\n\n<p>In each case what is the best solution?</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1673219747,"post_id":75051949,"comment_id":132443326,"body_markdown":"You can use it like a sub-project, or even build a jar and include it in the `dependencies` section of your `build.gradle`, or create a library and publish it over maven local. Which way is more fit for you so I can explain a bit more about.","body":"You can use it like a sub-project, or even build a jar and include it in the <code>dependencies</code> section of your <code>build.gradle</code>, or create a library and publish it over maven local. Which way is more fit for you so I can explain a bit more about."},{"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"score":0,"creation_date":1673220113,"post_id":75051949,"comment_id":132443371,"body_markdown":"I want the build to work with all local dependencies. If I change code in one project I want the build of the other project to pick that up.","body":"I want the build to work with all local dependencies. If I change code in one project I want the build of the other project to pick that up."},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1673220335,"post_id":75051949,"comment_id":132443406,"body_markdown":"hmmm, then would it be sufficient to say, That project2 depends on project1 ? if not, would there be an issue if you made a project3 as a parent for both of project1 and project2 ? I&#39;ve never had a case where I need to depend on another separate project, unless its just a piece of code only, this way project2 can act like a library for project1.","body":"hmmm, then would it be sufficient to say, That project2 depends on project1 ? if not, would there be an issue if you made a project3 as a parent for both of project1 and project2 ? I&#39;ve never had a case where I need to depend on another separate project, unless its just a piece of code only, this way project2 can act like a library for project1."},{"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"score":0,"creation_date":1673220454,"post_id":75051949,"comment_id":132443421,"body_markdown":"Yes. Project2 depends on Project1. I am not sure why this is not an incredibly common use case? I have a folder that contains a repo of java gradle project. I have another folder that contains a gradle java project that has a dependency on the first one. How can I do this?","body":"Yes. Project2 depends on Project1. I am not sure why this is not an incredibly common use case? I have a folder that contains a repo of java gradle project. I have another folder that contains a gradle java project that has a dependency on the first one. How can I do this?"},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1673221044,"post_id":75051949,"comment_id":132443485,"body_markdown":"I&#39;ve added an answer, Its an incredibly common case unless I did not get well what you want. let me know if there is some issues.","body":"I&#39;ve added an answer, Its an incredibly common case unless I did not get well what you want. let me know if there is some issues."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1673256803,"post_id":75051949,"comment_id":132449223,"body_markdown":"You can use [Composite Builds](https://docs.gradle.org/current/userguide/composite_builds.html) to &#39;connect&#39; two otherwise unrelated Gradle projects.","body":"You can use <a href=\"https://docs.gradle.org/current/userguide/composite_builds.html\" rel=\"nofollow noreferrer\">Composite Builds</a> to &#39;connect&#39; two otherwise unrelated Gradle projects."}],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673249585,"creation_date":1673220991,"answer_id":75052055,"question_id":75051949,"body_markdown":"Well, According to the discussion in the comments, here is how to do it.\r\n\r\n`project1` has its own `build.gradle` and `setting.gradle` \r\n\r\ngo `setting.gradle` and add the following after cloning the repo inside `project1` folder:\r\n\r\n```\r\ninclude &#39;:project2&#39;\r\n```\r\n\r\nNow, In your `project1` in `build.gradle` file You can add `project2` to `dependencies` section so it will look like this :\r\n\r\n```\r\ndependencies {\r\n    // Use JUnit test framework.\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n\r\n    // This dependency is used by the application.\r\n    implementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n    implementation project(&#39;:project2&#39;)\r\n}\r\n```\r\n\r\nthe final result :\r\n\r\nAny time you build `project1`, `project2` will be built as well.\r\n\r\nAny update for `project2` will be effected immediately to `project1` after any build operation.\r\n\r\nMight be helpful to read official [docs](https://docs.gradle.org/current/userguide/multi_project_builds.html) about multi project builds.\r\n\r\n\r\nIf you don&#39;t want to clone `project2` inside `project1`, Then build `project2` with gradle command line `gradle build`\r\n\r\nThis will result in a Jar file created at `project2/build/libs/project2-0.0.1-SNAPSHOT.jar`\r\n\r\nThen you can add it to `project1` with a relative path to this Jar like this:\r\n\r\n```\r\nimplementation files(&#39;../project2/build/libs/project2-0.0.1-SNAPSHOT.jar&#39;)\r\n```\r\n\r\n","title":"How can I add an external folder of java code to my gradle project with a relative path?","body":"<p>Well, According to the discussion in the comments, here is how to do it.</p>\n<p><code>project1</code> has its own <code>build.gradle</code> and <code>setting.gradle</code></p>\n<p>go <code>setting.gradle</code> and add the following after cloning the repo inside <code>project1</code> folder:</p>\n<pre><code>include ':project2'\n</code></pre>\n<p>Now, In your <code>project1</code> in <code>build.gradle</code> file You can add <code>project2</code> to <code>dependencies</code> section so it will look like this :</p>\n<pre><code>dependencies {\n    // Use JUnit test framework.\n    testImplementation 'junit:junit:4.13.2'\n\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:30.1.1-jre'\n    implementation project(':project2')\n}\n</code></pre>\n<p>the final result :</p>\n<p>Any time you build <code>project1</code>, <code>project2</code> will be built as well.</p>\n<p>Any update for <code>project2</code> will be effected immediately to <code>project1</code> after any build operation.</p>\n<p>Might be helpful to read official <a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">docs</a> about multi project builds.</p>\n<p>If you don't want to clone <code>project2</code> inside <code>project1</code>, Then build <code>project2</code> with gradle command line <code>gradle build</code></p>\n<p>This will result in a Jar file created at <code>project2/build/libs/project2-0.0.1-SNAPSHOT.jar</code></p>\n<p>Then you can add it to <code>project1</code> with a relative path to this Jar like this:</p>\n<pre><code>implementation files('../project2/build/libs/project2-0.0.1-SNAPSHOT.jar')\n</code></pre>\n"}],"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673249585,"creation_date":1673219501,"question_id":75051949,"body_markdown":"I have a Gradle Java project that I want to reference other java code that exists in another repo. I am not quite sure how to do this.\r\n\r\nMy existing build.gradle\r\n\r\n    /*\r\n     * This file was generated by the Gradle &#39;init&#39; task.\r\n     *\r\n     * This generated file contains a sample Java application project to get you started.\r\n     * For more details take a look at the &#39;Building Java &amp; JVM projects&#39; chapter in the Gradle\r\n     * User Manual available at https://docs.gradle.org/7.2/userguide/building_java_projects.html\r\n     */\r\n    \r\n    plugins {\r\n        // Apply the application plugin to add support for building a CLI application in Java.\r\n        id &#39;application&#39;\r\n    }\r\n    \r\n    repositories {\r\n        // Use Maven Central for resolving dependencies.\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        // Use JUnit test framework.\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n    \r\n        // This dependency is used by the application.\r\n        implementation &#39;com.google.guava:guava:30.1.1-jre&#39;\r\n    \r\n        // implementation project(&#39;:project1&#39;)\r\n        // implementation files(&#39;../../project1/lib/build/libs/lib.jar&#39;)\r\n    }\r\n    \r\n    application {\r\n        // Define the main class for the application.\r\n        mainClass = &#39;project2.App&#39;\r\n    }\r\n\r\nWhat can I add to this file, to have it reference a relative path that points to a folder with java source files in it?","title":"How can I add an external folder of java code to my gradle project with a relative path?","body":"<p>I have a Gradle Java project that I want to reference other java code that exists in another repo. I am not quite sure how to do this.</p>\n<p>My existing build.gradle</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java application project to get you started.\n * For more details take a look at the 'Building Java &amp; JVM projects' chapter in the Gradle\n * User Manual available at https://docs.gradle.org/7.2/userguide/building_java_projects.html\n */\n\nplugins {\n    // Apply the application plugin to add support for building a CLI application in Java.\n    id 'application'\n}\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit test framework.\n    testImplementation 'junit:junit:4.13.2'\n\n    // This dependency is used by the application.\n    implementation 'com.google.guava:guava:30.1.1-jre'\n\n    // implementation project(':project1')\n    // implementation files('../../project1/lib/build/libs/lib.jar')\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass = 'project2.App'\n}\n</code></pre>\n<p>What can I add to this file, to have it reference a relative path that points to a folder with java source files in it?</p>\n"},{"tags":["java","android","robotium"],"comments":[{"owner":{"account_id":6762217,"reputation":481,"user_id":5208534,"display_name":"Kit Fung"},"score":0,"creation_date":1457678705,"post_id":35928964,"comment_id":59524645,"body_markdown":"if you only want to overwrite the sleep time of &quot;waitForCondition&quot; instead of all wait functoin, why don&#39;t you just create your own wait function?","body":"if you only want to overwrite the sleep time of &quot;waitForCondition&quot; instead of all wait functoin, why don&#39;t you just create your own wait function?"},{"owner":{"account_id":98127,"reputation":7386,"user_id":265791,"accept_rate":88,"display_name":"Mark"},"score":0,"creation_date":1457683486,"post_id":35928964,"comment_id":59526823,"body_markdown":"Because then I&#39;d effectively be doing what I said I didn&#39;t want to do: taking the Robotium source code, changing it, and recompiling.","body":"Because then I&#39;d effectively be doing what I said I didn&#39;t want to do: taking the Robotium source code, changing it, and recompiling."},{"owner":{"account_id":6762217,"reputation":481,"user_id":5208534,"display_name":"Kit Fung"},"score":0,"creation_date":1457695397,"post_id":35928964,"comment_id":59534060,"body_markdown":"I mean you can create a new function in a new custom class instead of editing the source code. The logic behind &quot;waitForCondition&quot; is pretty clear and easy to implement. It will not require you to recompile it.","body":"I mean you can create a new function in a new custom class instead of editing the source code. The logic behind &quot;waitForCondition&quot; is pretty clear and easy to implement. It will not require you to recompile it."}],"answers":[{"tags":[],"owner":{"account_id":552103,"reputation":5002,"user_id":704945,"accept_rate":71,"display_name":"vRallev"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1457698754,"creation_date":1457698754,"answer_id":35940129,"question_id":35928964,"body_markdown":"Even if the `Waiter` or `Sleeper` class were public, you couldn&#39;t change the values. The reason is that the `waiter` field in the `Solo` class is final and the constructor where the value is assigned is private. \r\n\r\nThe only way to hack this is with reflection. I tried the solution below and it works. Notice the package of both classes!\r\n\r\n    package com.robotium.solo;\r\n\r\n    import java.lang.reflect.Field;\r\n\r\n    public class SoloHack {\r\n\r\n      private final Solo mSolo;\r\n\r\n      public SoloHack(Solo solo) {\r\n        mSolo = solo;\r\n      }\r\n\r\n      public void hack() throws NoSuchFieldException, IllegalAccessException {\r\n        Field field = mSolo.waiter.getClass().getDeclaredField(&quot;sleeper&quot;);\r\n        field.setAccessible(true);\r\n\r\n        // Object value = field.get(mSolo.waiter);\r\n        // Class&lt;?&gt; aClass = value.getClass();\r\n\r\n        field.set(mSolo.waiter, new SleeperHack());\r\n\r\n        // Object newValue = field.get(mSolo.waiter);\r\n        // Class&lt;?&gt; newClass = newValue.getClass();\r\n      }\r\n    }\r\n\r\nAnd\r\n    \r\n    package com.robotium.solo;\r\n\r\n    public class SleeperHack extends Sleeper {\r\n\r\n      @Override\r\n      public void sleep() {\r\n        sleep(50);\r\n      }\r\n    }","title":"Robotium - customize PAUSE duration in Sleeper class","body":"<p>Even if the <code>Waiter</code> or <code>Sleeper</code> class were public, you couldn't change the values. The reason is that the <code>waiter</code> field in the <code>Solo</code> class is final and the constructor where the value is assigned is private. </p>\n\n<p>The only way to hack this is with reflection. I tried the solution below and it works. Notice the package of both classes!</p>\n\n<pre><code>package com.robotium.solo;\n\nimport java.lang.reflect.Field;\n\npublic class SoloHack {\n\n  private final Solo mSolo;\n\n  public SoloHack(Solo solo) {\n    mSolo = solo;\n  }\n\n  public void hack() throws NoSuchFieldException, IllegalAccessException {\n    Field field = mSolo.waiter.getClass().getDeclaredField(\"sleeper\");\n    field.setAccessible(true);\n\n    // Object value = field.get(mSolo.waiter);\n    // Class&lt;?&gt; aClass = value.getClass();\n\n    field.set(mSolo.waiter, new SleeperHack());\n\n    // Object newValue = field.get(mSolo.waiter);\n    // Class&lt;?&gt; newClass = newValue.getClass();\n  }\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>package com.robotium.solo;\n\npublic class SleeperHack extends Sleeper {\n\n  @Override\n  public void sleep() {\n    sleep(50);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":98127,"reputation":7386,"user_id":265791,"accept_rate":88,"display_name":"Mark"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":35940129,"answer_count":1,"score":6,"last_activity_date":1673249401,"creation_date":1457650338,"question_id":35928964,"body_markdown":"waitForCondition() on the Solo class in Robotium uses a Sleeper object to sleep a thread in between checking for a condition. The Sleeper class has a PAUSE defined as 500 milliseconds. I want to lower that, ideally without downloading the Robotium source code, changing it, and recompiling Robotium.\r\n\r\nI tried extending the Solo class and constructing my own Waiter class that would use a custom Sleeper object with lower sleep intervals, but Waiter has package-level access so this route is not available.\r\n\r\nThe final keyword aside, [this commit message][1] seems to indicate that custom configurations should be (or are coming) but I don&#39;t see any way to customize those constants in the [Solo.Config class][2].\r\n\r\nDoes anyone have any solutions? Thanks!\r\n\r\n**Update:** @vRallev&#39;s answer below gets the job done with reflection. I made a [pull request][3] that was merged into Robotium today. In the next release, you&#39;ll be able to configure sleep times with the Config class.\r\n\r\n[1]: https://github.com/RobotiumTech/robotium/commit/8fac33c1907ab11a2a4a24a03c1efa2edd530fe6\r\n[2]: https://github.com/RobotiumTech/robotium/blob/master/robotium-solo/src/main/java/com/robotium/solo/Solo.java#L199\r\n[3]: https://github.com/RobotiumTech/robotium/pull/815","title":"Robotium - customize PAUSE duration in Sleeper class","body":"<p>waitForCondition() on the Solo class in Robotium uses a Sleeper object to sleep a thread in between checking for a condition. The Sleeper class has a PAUSE defined as 500 milliseconds. I want to lower that, ideally without downloading the Robotium source code, changing it, and recompiling Robotium.</p>\n\n<p>I tried extending the Solo class and constructing my own Waiter class that would use a custom Sleeper object with lower sleep intervals, but Waiter has package-level access so this route is not available.</p>\n\n<p>The final keyword aside, <a href=\"https://github.com/RobotiumTech/robotium/commit/8fac33c1907ab11a2a4a24a03c1efa2edd530fe6\" rel=\"nofollow\">this commit message</a> seems to indicate that custom configurations should be (or are coming) but I don't see any way to customize those constants in the <a href=\"https://github.com/RobotiumTech/robotium/blob/master/robotium-solo/src/main/java/com/robotium/solo/Solo.java#L199\" rel=\"nofollow\">Solo.Config class</a>.</p>\n\n<p>Does anyone have any solutions? Thanks!</p>\n\n<p><strong>Update:</strong> @vRallev's answer below gets the job done with reflection. I made a <a href=\"https://github.com/RobotiumTech/robotium/pull/815\" rel=\"nofollow\">pull request</a> that was merged into Robotium today. In the next release, you'll be able to configure sleep times with the Config class.</p>\n"},{"tags":["java","file-io","file-move"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1589783793,"post_id":61863584,"comment_id":109419253,"body_markdown":"Can you print `filePath` and `trashBinPath.resolve(fileName)`? The exception seems to say that the destination file is not what you think.","body":"Can you print <code>filePath</code> and <code>trashBinPath.resolve(fileName)</code>? The exception seems to say that the destination file is not what you think."},{"owner":{"account_id":14286536,"reputation":146,"user_id":10319765,"display_name":"Yahav"},"score":0,"creation_date":1589790665,"post_id":61863584,"comment_id":109422513,"body_markdown":"trashBinPath.resolve(fileName): /files/attachments/trashbin/2000/filename.txt\nfilePath: /files/attachments/2000/filename.txt\ntrashBinPath: /files/attachments/trashbin/2000","body":"trashBinPath.resolve(fileName): /files/attachments/trashbin/2000/filename.txt filePath: /files/attachments/2000/filename.txt trashBinPath: /files/attachments/trashbin/2000"}],"answers":[{"tags":[],"owner":{"display_name":"user9604262"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673249128,"creation_date":1673249128,"answer_id":75054206,"question_id":61863584,"body_markdown":"Experienced the same thing, this part was the issue when comparing your code to mine after fixing the issue.\r\n\r\n````&quot;/files/attachments/trashbin/2000&quot;.````\r\n\r\nit needs to be \r\n\r\n````&quot;/files/attachments/trashbin/2000/&quot;.````","title":"Files.move keeps throwing file already exist exception on directory","body":"<p>Experienced the same thing, this part was the issue when comparing your code to mine after fixing the issue.</p>\n<p><code>&quot;/files/attachments/trashbin/2000&quot;.</code></p>\n<p>it needs to be</p>\n<p><code>&quot;/files/attachments/trashbin/2000/&quot;.</code></p>\n"}],"owner":{"account_id":14286536,"reputation":146,"user_id":10319765,"display_name":"Yahav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673249128,"creation_date":1589783273,"question_id":61863584,"body_markdown":"I am trying to move a file from a folder A: &quot;/files/attachments/2000/filename.txt&quot; to folder B: &quot;/files/attachments/trashbin/2000/filename.txt&quot; but I keep getting the exception: FileAlreadyExistsException and the exception output is: &quot;/files/attachments/trashbin/2000&quot;.\r\n\r\nthis is the code:\r\n\r\n    Path filePath = Paths.get(pathOnNFS.concat(folderPath).concat(Utils.DELIMITER + fileName));\r\n\tPath trashBinPath = Paths.get(trashBinNFS.concat(folderPath));\r\n\ttry {\r\n\t\tFiles.createDirectories(trashBinPath);\r\n\t\tFiles.move(filePath, trashBinPath.resolve(fileName), StandardCopyOption.REPLACE_EXISTING);\r\n    }catch(...){}\r\n\r\nCan anyone suggest why it is happening? this is the documentation: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)\r\n\r\n\r\n","title":"Files.move keeps throwing file already exist exception on directory","body":"<p>I am trying to move a file from a folder A: \"/files/attachments/2000/filename.txt\" to folder B: \"/files/attachments/trashbin/2000/filename.txt\" but I keep getting the exception: FileAlreadyExistsException and the exception output is: \"/files/attachments/trashbin/2000\".</p>\n\n<p>this is the code:</p>\n\n<pre><code>Path filePath = Paths.get(pathOnNFS.concat(folderPath).concat(Utils.DELIMITER + fileName));\nPath trashBinPath = Paths.get(trashBinNFS.concat(folderPath));\ntry {\n    Files.createDirectories(trashBinPath);\n    Files.move(filePath, trashBinPath.resolve(fileName), StandardCopyOption.REPLACE_EXISTING);\n}catch(...){}\n</code></pre>\n\n<p>Can anyone suggest why it is happening? this is the documentation: <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/nio/file/Files.html#move(java.nio.file.Path,java.nio.file.Path,java.nio.file.CopyOption...)</a></p>\n"},{"tags":["java","git","eclipse","egit","sts"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1673243389,"post_id":75053480,"comment_id":132446131,"body_markdown":"The error log is in the eclipse error window. also does not seems like a error related to git itself.","body":"The error log is in the eclipse error window. also does not seems like a error related to git itself."},{"owner":{"account_id":27473769,"reputation":33,"user_id":20962137,"display_name":"hannah"},"score":0,"creation_date":1673248282,"post_id":75053480,"comment_id":132446999,"body_markdown":"i edit my post! Could you check out this again? @Popeye","body":"i edit my post! Could you check out this again? @Popeye"},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1673249221,"post_id":75053480,"comment_id":132447166,"body_markdown":"I think, Java project property missing project name and resource path. Is your project a maven/gradle project? if not, consider that. Also restart your eclipse. clean exit and then start, also consider to delete the build file under target directory and rebuild the project.","body":"I think, Java project property missing project name and resource path. Is your project a maven/gradle project? if not, consider that. Also restart your eclipse. clean exit and then start, also consider to delete the build file under target directory and rebuild the project."},{"owner":{"account_id":27473769,"reputation":33,"user_id":20962137,"display_name":"hannah"},"score":0,"creation_date":1673251355,"post_id":75053480,"comment_id":132447675,"body_markdown":"it&#39;s maven .. i should delete it and clone it again &#128549; Thank you for your answer","body":"it&#39;s maven .. i should delete it and clone it again 😥 Thank you for your answer"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1673264896,"post_id":75053480,"comment_id":132451837,"body_markdown":"Why is there a `.metadata` folder in the working tree of your Git repository? This does not look correct.","body":"Why is there a <code>.metadata</code> folder in the working tree of your Git repository? This does not look correct."},{"owner":{"account_id":27473769,"reputation":33,"user_id":20962137,"display_name":"hannah"},"score":0,"creation_date":1673499462,"post_id":75053480,"comment_id":132514192,"body_markdown":"OMG. you are totally right. i checked other projects. there are no `.metadata` folder! Thanks a lot. i&#39;ll delete and create again my git repository @howlger","body":"OMG. you are totally right. i checked other projects. there are no <code>.metadata</code> folder! Thanks a lot. i&#39;ll delete and create again my git repository @howlger"}],"owner":{"account_id":27473769,"reputation":33,"user_id":20962137,"display_name":"hannah"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673248999,"creation_date":1673242246,"question_id":75053480,"body_markdown":"i just use sts 4.9.0\r\n\r\nThe problem is this: whenever I do almost anything \r\n(ex. save a file I&#39;m working on)\r\n\r\nI get an error:\r\n\r\n`An error has occurred. See error log for more details.\r\nPath must include project and resource name: /.gitignore`\r\n\r\nStack Trace\r\n\r\n```\r\njava.lang.IllegalArgumentException: Path must include project and resource name: /.gitignore\r\n\tat org.eclipse.core.runtime.Assert.isLegal(Assert.java:66)\r\n\tat org.eclipse.core.internal.resources.Workspace.newResource(Workspace.java:2128)\r\n\tat org.eclipse.core.internal.resources.Container.getFile(Container.java:196)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingViewContentProvider.getFile(StagingViewContentProvider.java:139)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingEntry.getFile(StagingEntry.java:213)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingEntry.getProblemSeverity(StagingEntry.java:244)\r\n\tat org.eclipse.egit.ui.internal.decorators.ProblemLabelDecorator.decorateImage(ProblemLabelDecorator.java:84)\r\n\tat org.eclipse.jface.viewers.DecoratingLabelProvider.getImage(DecoratingLabelProvider.java:101)\r\n\tat org.eclipse.jface.viewers.DecoratingLabelProvider.updateLabel(DecoratingLabelProvider.java:237)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingView$TreeDecoratingLabelProvider.updateLabel(StagingView.java:622)\r\n\tat org.eclipse.jface.viewers.WrappedViewerLabelProvider.update(WrappedViewerLabelProvider.java:169)\r\n\tat org.eclipse.jface.viewers.ViewerColumn.refresh(ViewerColumn.java:144)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:959)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:126)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:1037)\r\n\tat org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:427)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:2111)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:853)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:831)\r\n\tat org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:604)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:779)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.internalInitializeTree(AbstractTreeViewer.java:1599)\r\n\tat org.eclipse.jface.viewers.TreeViewer.internalInitializeTree(TreeViewer.java:780)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.lambda$1(AbstractTreeViewer.java:1584)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1400)\r\n\tat org.eclipse.jface.viewers.TreeViewer.preservingSelection(TreeViewer.java:363)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1361)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:1578)\r\n\tat org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:282)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1634)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingView.setStagingViewerInput(StagingView.java:2353)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingView.lambda$19(StagingView.java:3907)\r\n\tat org.eclipse.egit.ui.internal.staging.StagingView$56.runInUIThread(StagingView.java:4542)\r\n\tat org.eclipse.ui.progress.UIJob.lambda$0(UIJob.java:95)\r\n\tat org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:40)\r\n\tat org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:185)\r\n\tat org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4001)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3629)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1157)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:653)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:590)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1461)\r\n```\r\n\r\nand Session Data\r\n```\r\neclipse.buildId=4.9.0.202012132054\r\njava.version=15.0.1\r\njava.vendor=Oracle Corporation\r\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ko_KR\r\nFramework arguments:  -product org.springframework.boot.ide.branding.sts4\r\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.springframework.boot.ide.branding.sts4\r\n```\r\n\r\ni did Maven &gt; update Project to all my projects\r\n\r\nbut it&#39;s still the same situation\r\n\r\nAnd I used it well before without this error\r\n\r\nIt happened when i formatted the computer and cloned the this repositoris again\r\n\r\nand it already exist .gitignore file\r\n\r\nhttps://i.stack.imgur.com/Mkk8d.png\r\n\r\ni can&#39;t find out how to fix it\r\n\r\ni hope it will fix it!\r\n\r\nThanks\r\n","title":"Path must include project and resource name: /.gitignore","body":"<p>i just use sts 4.9.0</p>\n<p>The problem is this: whenever I do almost anything\n(ex. save a file I'm working on)</p>\n<p>I get an error:</p>\n<p><code>An error has occurred. See error log for more details. Path must include project and resource name: /.gitignore</code></p>\n<p>Stack Trace</p>\n<pre><code>java.lang.IllegalArgumentException: Path must include project and resource name: /.gitignore\n    at org.eclipse.core.runtime.Assert.isLegal(Assert.java:66)\n    at org.eclipse.core.internal.resources.Workspace.newResource(Workspace.java:2128)\n    at org.eclipse.core.internal.resources.Container.getFile(Container.java:196)\n    at org.eclipse.egit.ui.internal.staging.StagingViewContentProvider.getFile(StagingViewContentProvider.java:139)\n    at org.eclipse.egit.ui.internal.staging.StagingEntry.getFile(StagingEntry.java:213)\n    at org.eclipse.egit.ui.internal.staging.StagingEntry.getProblemSeverity(StagingEntry.java:244)\n    at org.eclipse.egit.ui.internal.decorators.ProblemLabelDecorator.decorateImage(ProblemLabelDecorator.java:84)\n    at org.eclipse.jface.viewers.DecoratingLabelProvider.getImage(DecoratingLabelProvider.java:101)\n    at org.eclipse.jface.viewers.DecoratingLabelProvider.updateLabel(DecoratingLabelProvider.java:237)\n    at org.eclipse.egit.ui.internal.staging.StagingView$TreeDecoratingLabelProvider.updateLabel(StagingView.java:622)\n    at org.eclipse.jface.viewers.WrappedViewerLabelProvider.update(WrappedViewerLabelProvider.java:169)\n    at org.eclipse.jface.viewers.ViewerColumn.refresh(ViewerColumn.java:144)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:959)\n    at org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:126)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:1037)\n    at org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:427)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\n    at org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:2111)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:853)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:831)\n    at org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:604)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:779)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.internalInitializeTree(AbstractTreeViewer.java:1599)\n    at org.eclipse.jface.viewers.TreeViewer.internalInitializeTree(TreeViewer.java:780)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.lambda$1(AbstractTreeViewer.java:1584)\n    at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1400)\n    at org.eclipse.jface.viewers.TreeViewer.preservingSelection(TreeViewer.java:363)\n    at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1361)\n    at org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:1578)\n    at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:282)\n    at org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1634)\n    at org.eclipse.egit.ui.internal.staging.StagingView.setStagingViewerInput(StagingView.java:2353)\n    at org.eclipse.egit.ui.internal.staging.StagingView.lambda$19(StagingView.java:3907)\n    at org.eclipse.egit.ui.internal.staging.StagingView$56.runInUIThread(StagingView.java:4542)\n    at org.eclipse.ui.progress.UIJob.lambda$0(UIJob.java:95)\n    at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:40)\n    at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:185)\n    at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4001)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3629)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1157)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:644)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:653)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:590)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1461)\n</code></pre>\n<p>and Session Data</p>\n<pre><code>eclipse.buildId=4.9.0.202012132054\njava.version=15.0.1\njava.vendor=Oracle Corporation\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=ko_KR\nFramework arguments:  -product org.springframework.boot.ide.branding.sts4\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.springframework.boot.ide.branding.sts4\n</code></pre>\n<p>i did Maven &gt; update Project to all my projects</p>\n<p>but it's still the same situation</p>\n<p>And I used it well before without this error</p>\n<p>It happened when i formatted the computer and cloned the this repositoris again</p>\n<p>and it already exist .gitignore file</p>\n<p><a href=\"https://i.stack.imgur.com/Mkk8d.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Mkk8d.png</a></p>\n<p>i can't find out how to fix it</p>\n<p>i hope it will fix it!</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","hibernate","microservices"],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673248323,"creation_date":1673248323,"answer_id":75054107,"question_id":75048023,"body_markdown":"Try annotating your method with `@Transactional`. Then then `OrderProduct` won&#39;t get detached within the `createOrder` method.","title":"org.hibernate.PersistentObjectException: detached entity passed to persist OrderProduct","body":"<p>Try annotating your method with <code>@Transactional</code>. Then then <code>OrderProduct</code> won't get detached within the <code>createOrder</code> method.</p>\n"}],"owner":{"account_id":13842566,"reputation":45,"user_id":9992454,"display_name":"Deepak Bisht"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673248323,"creation_date":1673183497,"question_id":75048023,"body_markdown":"I&#39;m learning microservices and while creating a database entry I got stuck on this error.\r\n\r\norg.hibernate.PersistentObjectException: detached entity passed to persist: OrderProduct\r\n\r\nWhen I change the cascading to MERGE then the data get saved in OrderDetail table only. I have searched but could not find a anything useful. Here&#39;s my code.\r\n\r\nFeign Proxy Interface:\r\n\r\n```\r\n@FeignClient(name=&quot;product-metadata&quot;,url=&quot;localhost:8080&quot;)\r\npublic interface OrderProductProxy {\r\n\t@GetMapping(&quot;/products/productdetails/{productId}&quot;)\r\n\tpublic OrderProduct getProductDetails(@PathVariable UUID productId);\r\n}\r\n```\r\nOrderDetail Entity:\r\n```\r\n@Getter @Setter\r\n@NoArgsConstructor @AllArgsConstructor\r\n@Entity\r\npublic class OrderDetail {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate long id;\r\n\t\r\n\t\r\n\tprivate UUID orderId;\r\n\t\r\n\tprivate String customerId;\r\n\t\r\n\tprivate String totalAmount;\r\n\t\r\n\t@OneToMany(cascade = CascadeType.ALL,mappedBy = &quot;orderId&quot;)\r\n\tprivate List&lt;OrderProduct&gt; productId;\r\n\r\n\tpublic void addProduct(OrderProduct orderProduct) {\r\n\t\tif(orderProduct != null) {\r\n\t\t\tif(productId == null) {\r\n\t\t\t\tproductId = new ArrayList&lt;&gt;();\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.productId.add(orderProduct);\r\n\t\torderProduct.setOrderId(this);\r\n\t}\r\n}\r\n```\r\nOrderProduct Entity:\r\n```\r\n@Getter @Setter\r\n@NoArgsConstructor @AllArgsConstructor\r\n@ToString\r\n@Entity\r\npublic class OrderProduct {\r\n\t\r\n\t\r\n\tprivate long id;\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate UUID uniqueId;\r\n\tprivate String name;\r\n\tprivate BigDecimal price;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;orderId&quot;)\r\n\tprivate OrderDetail orderId;\r\n}\r\n```\r\nController:\r\n```\r\n@PostMapping(&quot;/create/{productId}&quot;)\r\n\tpublic OrderDetail createOrder(@PathVariable UUID productId,@RequestBody OrderDetail orderDetails) {\r\n\t\t\r\n\t\tOrderProduct orderProduct = proxy.getProductDetails(productId);\r\n\t\tSystem.out.println(orderProduct);\r\n\t\torderDetails.addProduct(orderProduct);\r\n\t\tUUID orderId = UUID.randomUUID();\r\n\t\torderDetails.setOrderId(orderId);\r\n\t\treturn repo.save(orderDetails);\r\n\t}\r\n```","title":"org.hibernate.PersistentObjectException: detached entity passed to persist OrderProduct","body":"<p>I'm learning microservices and while creating a database entry I got stuck on this error.</p>\n<p>org.hibernate.PersistentObjectException: detached entity passed to persist: OrderProduct</p>\n<p>When I change the cascading to MERGE then the data get saved in OrderDetail table only. I have searched but could not find a anything useful. Here's my code.</p>\n<p>Feign Proxy Interface:</p>\n<pre><code>@FeignClient(name=&quot;product-metadata&quot;,url=&quot;localhost:8080&quot;)\npublic interface OrderProductProxy {\n    @GetMapping(&quot;/products/productdetails/{productId}&quot;)\n    public OrderProduct getProductDetails(@PathVariable UUID productId);\n}\n</code></pre>\n<p>OrderDetail Entity:</p>\n<pre><code>@Getter @Setter\n@NoArgsConstructor @AllArgsConstructor\n@Entity\npublic class OrderDetail {\n    \n    @Id\n    @GeneratedValue\n    private long id;\n    \n    \n    private UUID orderId;\n    \n    private String customerId;\n    \n    private String totalAmount;\n    \n    @OneToMany(cascade = CascadeType.ALL,mappedBy = &quot;orderId&quot;)\n    private List&lt;OrderProduct&gt; productId;\n\n    public void addProduct(OrderProduct orderProduct) {\n        if(orderProduct != null) {\n            if(productId == null) {\n                productId = new ArrayList&lt;&gt;();\n            }\n        }\n        this.productId.add(orderProduct);\n        orderProduct.setOrderId(this);\n    }\n}\n</code></pre>\n<p>OrderProduct Entity:</p>\n<pre><code>@Getter @Setter\n@NoArgsConstructor @AllArgsConstructor\n@ToString\n@Entity\npublic class OrderProduct {\n    \n    \n    private long id;\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private UUID uniqueId;\n    private String name;\n    private BigDecimal price;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;orderId&quot;)\n    private OrderDetail orderId;\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/create/{productId}&quot;)\n    public OrderDetail createOrder(@PathVariable UUID productId,@RequestBody OrderDetail orderDetails) {\n        \n        OrderProduct orderProduct = proxy.getProductDetails(productId);\n        System.out.println(orderProduct);\n        orderDetails.addProduct(orderProduct);\n        UUID orderId = UUID.randomUUID();\n        orderDetails.setOrderId(orderId);\n        return repo.save(orderDetails);\n    }\n</code></pre>\n"},{"tags":["java","android","calendar","alarmmanager"],"answers":[{"tags":[],"owner":{"account_id":9472968,"reputation":387,"user_id":7046314,"display_name":"Tyrmos"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1478853869,"creation_date":1478853869,"answer_id":40544151,"question_id":40540805,"body_markdown":"As far as i can see, you could just use the normal [Calendar][1] instead of the in API 24 introduced [ICU Calendar][2]. Try to use this import `java.util.Calendar` instead of this import `android.icu.util.Calendar`.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/util/Calendar.html\r\n  [2]: https://developer.android.com/reference/android/icu/util/Calendar.html","title":"Android Studio stack=java.lang.NoClassDefFoundError: Failed resolution of: Landroid/icu/util/Calendar;","body":"<p>As far as i can see, you could just use the normal <a href=\"https://developer.android.com/reference/java/util/Calendar.html\" rel=\"noreferrer\">Calendar</a> instead of the in API 24 introduced <a href=\"https://developer.android.com/reference/android/icu/util/Calendar.html\" rel=\"noreferrer\">ICU Calendar</a>. Try to use this import <code>java.util.Calendar</code> instead of this import <code>android.icu.util.Calendar</code>.</p>\n"},{"tags":[],"owner":{"account_id":10730802,"reputation":1,"user_id":7896977,"display_name":"Jose Armando"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492705300,"creation_date":1492705300,"answer_id":43524903,"question_id":40540805,"body_markdown":"I had the same problem, changed the import from android.icu.util.Calendar to java.util.Calendar and it work! hope it helps you!","title":"Android Studio stack=java.lang.NoClassDefFoundError: Failed resolution of: Landroid/icu/util/Calendar;","body":"<p>I had the same problem, changed the import from android.icu.util.Calendar to java.util.Calendar and it work! hope it helps you!</p>\n"},{"tags":[],"owner":{"account_id":10767249,"reputation":1197,"user_id":7921804,"display_name":"Maizied Hasan Majumder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517782878,"creation_date":1517782878,"answer_id":48613594,"question_id":40540805,"body_markdown":"From Calendar pick date:\r\n`import java.util.Calendar` instead of this `import android.icu.util.Calendar`\r\nAnd Then write those code code for Date Pick.\r\n\r\n    Calendar callForDate = Calendar.getInstance();\r\n\r\n    java.text.SimpleDateFormat currentDate = new java.text.SimpleDateFormat(&quot;dd-MMMM-yyyy&quot;);\r\n\r\n    final String saveCurrentDate = currentDate.format(callForDate.getTime());\r\n\r\n","title":"Android Studio stack=java.lang.NoClassDefFoundError: Failed resolution of: Landroid/icu/util/Calendar;","body":"<p>From Calendar pick date:\n<code>import java.util.Calendar</code> instead of this <code>import android.icu.util.Calendar</code>\nAnd Then write those code code for Date Pick.</p>\n\n<pre><code>Calendar callForDate = Calendar.getInstance();\n\njava.text.SimpleDateFormat currentDate = new java.text.SimpleDateFormat(\"dd-MMMM-yyyy\");\n\nfinal String saveCurrentDate = currentDate.format(callForDate.getTime());\n</code></pre>\n"}],"owner":{"account_id":9624172,"reputation":520,"user_id":7144325,"accept_rate":0,"display_name":"Emmanuel Garcia Martinez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8222,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1673248065,"creation_date":1478836016,"question_id":40540805,"body_markdown":"I have used the `calendar` class for a alarm app with the `alarm manager`, but I have an error with the instance of the class `calendar`.\r\nI have investigated in other forums but I haven&#39;t find the proper solutions.\r\nplease I need your help.\r\n\r\n## the error is marked in the instance of the calendar class \r\n![the error is marked in the instance of the calendar class ][1]\r\n\r\n![enter image description here][2]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IwHyI.png\r\n  [2]: https://i.stack.imgur.com/VODRf.png","title":"Android Studio stack=java.lang.NoClassDefFoundError: Failed resolution of: Landroid/icu/util/Calendar;","body":"<p>I have used the <code>calendar</code> class for a alarm app with the <code>alarm manager</code>, but I have an error with the instance of the class <code>calendar</code>.\nI have investigated in other forums but I haven't find the proper solutions.\nplease I need your help.</p>\n<h2>the error is marked in the instance of the calendar class</h2>\n<p><img src=\"https://i.stack.imgur.com/IwHyI.png\" alt=\"the error is marked in the instance of the calendar class \" /></p>\n<p><img src=\"https://i.stack.imgur.com/VODRf.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","maven","selenium","cmd","testng"],"answers":[{"tags":[],"owner":{"account_id":2683108,"reputation":89,"user_id":2318030,"display_name":"S-Kerrigan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1489721245,"creation_date":1489720907,"answer_id":42848630,"question_id":42847732,"body_markdown":"in first, please add improvement in pom.xml... need adding execution section:\r\n\r\n    &lt;executions&gt;\r\n    &lt;execution&gt;\r\n        &lt;phase&gt;test&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n            &lt;goal&gt;test&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\nIn second, you can create section in pom.xml with variables. And, then, calling it from cmd.\r\n\r\n    &lt;properties&gt;\r\n\t&lt;defaultSuiteFiles&gt;\r\n            ./Sets/Suits/CMS_Administration_SiteBackup_029.xml,\r\n        &lt;/defaultSuiteFiles&gt;\r\n        &lt;suiteFile&gt;${defaultSuiteFiles}&lt;/suiteFile&gt;\r\n    &lt;/defaultSuiteFiles&gt;\r\n    &lt;/properties&gt;\r\n    ...\r\n    ...\r\n    &lt;suiteXmlFiles&gt;\r\n        &lt;suiteXmlFile&gt;${suiteFile}&lt;/suiteXmlFile&gt;\r\n    &lt;/suiteXmlFiles&gt;\r\n    \r\nSo, result of prototype pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    .....\r\n    .....\r\n\r\n\r\n    &lt;properties&gt;        \r\n        &lt;defaultSuiteFiles&gt;\r\n            ./Sets/Suits/CMS_Administration_SiteBackup_029.xml,\r\n        &lt;/defaultSuiteFiles&gt;\r\n        &lt;suiteFile&gt;${defaultSuiteFiles}&lt;/suiteFile&gt;\r\n\r\n\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;Base configuration&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n                &lt;plugins&gt;                    \r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.19.1&lt;/version&gt;\r\n                        &lt;inherited&gt;true&lt;/inherited&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;phase&gt;test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;test&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;suiteXmlFiles&gt;\r\n                                &lt;suiteXmlFile&gt;${suiteFile}&lt;/suiteXmlFile&gt;\r\n                            &lt;/suiteXmlFiles&gt;                            \r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nAnd use this, how a example for cmd: `mvn  test -DdefaultSuiteFiles=&quot;./YOUR_DIRECTORY/YOUR_SUITE.xml,&quot;`\r\n\r\n\r\n**Explanations**: in pom.xml you setup xmls for default and place to variable. And, if you will use variable in cmd, you will rewrite values. ","title":"How to run testng.xml from Maven command line","body":"<p>in first, please add improvement in pom.xml... need adding execution section:</p>\n\n<pre><code>&lt;executions&gt;\n&lt;execution&gt;\n    &lt;phase&gt;test&lt;/phase&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;test&lt;/goal&gt;\n    &lt;/goals&gt;\n&lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n\n<p>In second, you can create section in pom.xml with variables. And, then, calling it from cmd.</p>\n\n<pre><code>&lt;properties&gt;\n&lt;defaultSuiteFiles&gt;\n        ./Sets/Suits/CMS_Administration_SiteBackup_029.xml,\n    &lt;/defaultSuiteFiles&gt;\n    &lt;suiteFile&gt;${defaultSuiteFiles}&lt;/suiteFile&gt;\n&lt;/defaultSuiteFiles&gt;\n&lt;/properties&gt;\n...\n...\n&lt;suiteXmlFiles&gt;\n    &lt;suiteXmlFile&gt;${suiteFile}&lt;/suiteXmlFile&gt;\n&lt;/suiteXmlFiles&gt;\n</code></pre>\n\n<p>So, result of prototype pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n.....\n.....\n\n\n&lt;properties&gt;        \n    &lt;defaultSuiteFiles&gt;\n        ./Sets/Suits/CMS_Administration_SiteBackup_029.xml,\n    &lt;/defaultSuiteFiles&gt;\n    &lt;suiteFile&gt;${defaultSuiteFiles}&lt;/suiteFile&gt;\n\n\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;Base configuration&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\n            &lt;plugins&gt;                    \n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.19.1&lt;/version&gt;\n                    &lt;inherited&gt;true&lt;/inherited&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;test&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;test&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;suiteXmlFiles&gt;\n                            &lt;suiteXmlFile&gt;${suiteFile}&lt;/suiteXmlFile&gt;\n                        &lt;/suiteXmlFiles&gt;                            \n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>And use this, how a example for cmd: <code>mvn  test -DdefaultSuiteFiles=\"./YOUR_DIRECTORY/YOUR_SUITE.xml,\"</code></p>\n\n<p><strong>Explanations</strong>: in pom.xml you setup xmls for default and place to variable. And, if you will use variable in cmd, you will rewrite values. </p>\n"},{"tags":[],"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1489725739,"creation_date":1489725739,"answer_id":42849358,"question_id":42847732,"body_markdown":"If you have a fixed testng xml, then you just need to do `mvn clean test`.\r\nThe surefire plugin would be executed by default in the test phase of maven and the xml hardcoded would be picked up.","title":"How to run testng.xml from Maven command line","body":"<p>If you have a fixed testng xml, then you just need to do <code>mvn clean test</code>.\nThe surefire plugin would be executed by default in the test phase of maven and the xml hardcoded would be picked up.</p>\n"},{"tags":[],"owner":{"account_id":5178132,"reputation":3269,"user_id":4144572,"accept_rate":43,"display_name":"Prakash Palnati"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1514441482,"creation_date":1514441482,"answer_id":48002426,"question_id":42847732,"body_markdown":"Easiest solution would be, add the below lines in surefire plugin.\r\n\r\n    &lt;suiteXmlFiles&gt;\r\n        &lt;!-- pass testng.xml files as argument from command line --&gt;\r\n        &lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\r\n    &lt;/suiteXmlFiles&gt;\r\n\r\nAnd run your xml file as below,\r\n\r\n    mvn clean test -Dsurefire.suiteXmlFiles=/path/to/testng.xml","title":"How to run testng.xml from Maven command line","body":"<p>Easiest solution would be, add the below lines in surefire plugin.</p>\n\n<pre><code>&lt;suiteXmlFiles&gt;\n    &lt;!-- pass testng.xml files as argument from command line --&gt;\n    &lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\n&lt;/suiteXmlFiles&gt;\n</code></pre>\n\n<p>And run your xml file as below,</p>\n\n<pre><code>mvn clean test -Dsurefire.suiteXmlFiles=/path/to/testng.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16425204,"reputation":959,"user_id":11865450,"display_name":"Vivek Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623208315,"creation_date":1623207534,"answer_id":67896936,"question_id":42847732,"body_markdown":"**Need to pass path from the content root of testng.xml file between suiteXmlFiles tag** \r\n\r\nfor e.g. for my project in place of testng.xml i am using file name as AllTests.xml, which is located under folder TestSuites\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;suiteXmlFiles&gt;\r\n                            &lt;suiteXmlFile&gt;src/test/resources/TestSuites/AllTests.xml&lt;/suiteXmlFile&gt;\r\n                        &lt;/suiteXmlFiles&gt;\r\n                    &lt;/configuration&gt;\r\n     &lt;/plugin&gt;\r\n\r\nand now run `mvn clean test`,\r\nit will pick the test suite file from pom.xml and run all the test classes mentioned in this suite. \r\n\r\nNote:\r\n\r\n1. Reason we need to mention complete path of testng.xml file is,\r\nbecause by default maven will search this file directly under the project level \r\n\r\n2. If you using IntelliJ you can find Path from content root for your testng.xml file, by doing right click on the file-&gt; Copy Path -&gt; Path from content root\r\n","title":"How to run testng.xml from Maven command line","body":"<p><strong>Need to pass path from the content root of testng.xml file between suiteXmlFiles tag</strong></p>\n<p>for e.g. for my project in place of testng.xml i am using file name as AllTests.xml, which is located under folder TestSuites</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;src/test/resources/TestSuites/AllTests.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n<p>and now run <code>mvn clean test</code>,\nit will pick the test suite file from pom.xml and run all the test classes mentioned in this suite.</p>\n<p>Note:</p>\n<ol>\n<li><p>Reason we need to mention complete path of testng.xml file is,\nbecause by default maven will search this file directly under the project level</p>\n</li>\n<li><p>If you using IntelliJ you can find Path from content root for your testng.xml file, by doing right click on the file-&gt; Copy Path -&gt; Path from content root</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10854251,"reputation":31,"user_id":7981112,"display_name":"ravi ch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673247757,"creation_date":1673247757,"answer_id":75054040,"question_id":42847732,"body_markdown":"Followed exactly same as solution provided by @S-Kerrigan.But it is behaving differently in below scenario.\r\n\r\nIn my folder, there are 3 testng xml files but i am passing only one testng xml file during run time but it is executing all three xml files..\r\n\r\nIn properties in pom file defined as below:\r\n\r\n    &lt;defaultSuiteFiles&gt;sampletestng&lt;/defaultSuiteFiles&gt;\r\n    &lt;suiteFile&gt;${defaultSuiteFiles}&lt;/suiteFile&gt;\t\r\n\r\n  \r\nIn plugin as below:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n    \t &lt;configuration&gt;\r\n    \t  &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n    \t\t&lt;suiteXmlFiles&gt;\r\n    \t\t &lt;suiteXmlFile&gt;${suiteFile}&lt;/suiteXmlFile&gt;\r\n    \t\t&lt;/suiteXmlFiles&gt;\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIn CMD mvn clean test -DdefaultSuiteFiles=src/test/resources/TestSuites/precondiiton.xml\r\n","title":"How to run testng.xml from Maven command line","body":"<p>Followed exactly same as solution provided by @S-Kerrigan.But it is behaving differently in below scenario.</p>\n<p>In my folder, there are 3 testng xml files but i am passing only one testng xml file during run time but it is executing all three xml files..</p>\n<p>In properties in pom file defined as below:</p>\n<pre><code>&lt;defaultSuiteFiles&gt;sampletestng&lt;/defaultSuiteFiles&gt;\n&lt;suiteFile&gt;${defaultSuiteFiles}&lt;/suiteFile&gt; \n</code></pre>\n<p>In plugin as below:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n     &lt;configuration&gt;\n      &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n        &lt;suiteXmlFiles&gt;\n         &lt;suiteXmlFile&gt;${suiteFile}&lt;/suiteXmlFile&gt;\n        &lt;/suiteXmlFiles&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>In CMD mvn clean test -DdefaultSuiteFiles=src/test/resources/TestSuites/precondiiton.xml</p>\n"}],"owner":{"account_id":8673819,"reputation":369,"user_id":6491801,"accept_rate":73,"display_name":"jeffsia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72465,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":5,"score":15,"last_activity_date":1673247757,"creation_date":1489714541,"question_id":42847732,"body_markdown":"I have the following entry in my pom.xml with the suite file defined in the configuration.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.19.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;suiteXmlFiles&gt;\r\n                &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\r\n            &lt;/suiteXmlFiles&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nWhat is a the correct way to run this in cmd using maven? I am able to run the test with the command below but it doesn&#39;t make sense to indicate the testng.xml again in the command when it&#39;s already defined in the pom.\r\n\r\n     mvn clean test -DsuiteXmlFile=testng.xml\r\n\r\n","title":"How to run testng.xml from Maven command line","body":"<p>I have the following entry in my pom.xml with the suite file defined in the configuration.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.19.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;suiteXmlFiles&gt;\n            &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\n        &lt;/suiteXmlFiles&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>What is a the correct way to run this in cmd using maven? I am able to run the test with the command below but it doesn't make sense to indicate the testng.xml again in the command when it's already defined in the pom.</p>\n\n<pre><code> mvn clean test -DsuiteXmlFile=testng.xml\n</code></pre>\n"},{"tags":["java","spring","spring-boot","enums","jackson"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673246568,"post_id":75053897,"comment_id":132446662,"body_markdown":"*And if requestParam is empty/null, want to set default enum as ALL.* I think, that can you only manage with a custom deserializer","body":"<i>And if requestParam is empty/null, want to set default enum as ALL.</i> I think, that can you only manage with a custom deserializer"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673246613,"post_id":75053897,"comment_id":132446668,"body_markdown":"Which library do you use to deserialize the requests? `jackson` or `gson`?","body":"Which library do you use to deserialize the requests? <code>jackson</code> or <code>gson</code>?"},{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1673246733,"post_id":75053897,"comment_id":132446693,"body_markdown":"using jackson. and for setting default @RequestParam(value = &quot;mode&quot;, required = false, defaultValue = &quot;ALL&quot;), this will help","body":"using jackson. and for setting default @RequestParam(value = &quot;mode&quot;, required = false, defaultValue = &quot;ALL&quot;), this will help"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673246756,"post_id":75053897,"comment_id":132446698,"body_markdown":"This is a regular `@RequestParam` that doesn&#39;t use the json serialization but rather plain request parameter binding. So you would need a custom converter for that, a `String` to `EmployeeMode` converter. For the default you could set `ALL` as the default value (you can then remove `required=false` as that is then implied).","body":"This is a regular <code>@RequestParam</code> that doesn&#39;t use the json serialization but rather plain request parameter binding. So you would need a custom converter for that, a <code>String</code> to <code>EmployeeMode</code> converter. For the default you could set <code>ALL</code> as the default value (you can then remove <code>required=false</code> as that is then implied)."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673246819,"post_id":75053897,"comment_id":132446706,"body_markdown":"Have you read [this](https://stackoverflow.com/questions/24157817/jackson-databind-enum-case-insensitive)","body":"Have you read <a href=\"https://stackoverflow.com/questions/24157817/jackson-databind-enum-case-insensitive\">this</a>"},{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1673246873,"post_id":75053897,"comment_id":132446718,"body_markdown":"@Jens I read that and tried. but not worked out for me","body":"@Jens I read that and tried. but not worked out for me"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673247577,"post_id":75053897,"comment_id":132446856,"body_markdown":"@Jens he is binding a regular parameter not deserializing a JSON body, so trying to solve this with configuring JSON (de)serializers or Jackson or Gson won&#39;t help a bit as that isn&#39;t being used at all when binding request parameters.","body":"@Jens he is binding a regular parameter not deserializing a JSON body, so trying to solve this with configuring JSON (de)serializers or Jackson or Gson won&#39;t help a bit as that isn&#39;t being used at all when binding request parameters."}],"answers":[{"tags":[],"owner":{"account_id":14614685,"reputation":61,"user_id":10555123,"display_name":"bidulgi69"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673247099,"creation_date":1673247099,"answer_id":75053959,"question_id":75053897,"body_markdown":"You can handle it by implementing converter.\r\n\r\n    public class EmployeeModeConverter implements Converter&lt;String, EmployeeMode&gt; {\r\n        @Override\r\n        public EmployeeMode convert(String source) {\r\n            switch (source.toUpperCase()) {\r\n                case &quot;REGULAR&quot;: return EmployeeMode.Regular;\r\n                case &quot;TEMPROARY&quot;: return EmployeeMode.TEMPROARY;\r\n                default: return EmployeeMode.ALL;\r\n            }        \r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    public class Config extends WebMvcConfigurationSupport {\r\n        @Override\r\n        public void addFormatters(FormatterRegistry registry) {\r\n            registry.addConverter(new EmployeeModeConverter());\r\n        }\r\n    }\r\n\r\n","title":"Deserialize requestParam enum case insensitive in spring boot using jackson","body":"<p>You can handle it by implementing converter.</p>\n<pre><code>public class EmployeeModeConverter implements Converter&lt;String, EmployeeMode&gt; {\n    @Override\n    public EmployeeMode convert(String source) {\n        switch (source.toUpperCase()) {\n            case &quot;REGULAR&quot;: return EmployeeMode.Regular;\n            case &quot;TEMPROARY&quot;: return EmployeeMode.TEMPROARY;\n            default: return EmployeeMode.ALL;\n        }        \n    }\n}\n\n@Configuration\npublic class Config extends WebMvcConfigurationSupport {\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new EmployeeModeConverter());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673247099,"creation_date":1673246447,"question_id":75053897,"body_markdown":"I&#39;m having below api\r\n\r\n```\r\n  @GetMapping(value = &quot;/employees&quot;)\r\n    public List&lt;Employee&gt; getEmployees(\r\n        @RequestParam(value = &quot;mode&quot;, required = false) final EmployeeMode mode) {\r\n        //calling service from here\r\n    }\r\n```\r\nI&#39;m having EmployeeMode enum as requestParam.\r\n\r\n```\r\npublic enum EmployeeMode {\r\n\r\n    REGULAR,\r\n    ALL,\r\n    TEMPROARY\r\n}\r\n```\r\n\r\nI want to accept request with case insensitive. Tried with ```@JsonAlias```, ```@JsonCreator``` and ```objectMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS, true);``` and ```spring.jackson.mapper.accept-case-insensitive-enums: true```. nothing worked for me.\r\n\r\nI&#39;m using spring boot 2.5.5.\r\n\r\nHow to accept case insensitive request with requestParam? And if requestParam is empty/null, want to set default enum as ALL.\r\n\r\n","title":"Deserialize requestParam enum case insensitive in spring boot using jackson","body":"<p>I'm having below api</p>\n<pre><code>  @GetMapping(value = &quot;/employees&quot;)\n    public List&lt;Employee&gt; getEmployees(\n        @RequestParam(value = &quot;mode&quot;, required = false) final EmployeeMode mode) {\n        //calling service from here\n    }\n</code></pre>\n<p>I'm having EmployeeMode enum as requestParam.</p>\n<pre><code>public enum EmployeeMode {\n\n    REGULAR,\n    ALL,\n    TEMPROARY\n}\n</code></pre>\n<p>I want to accept request with case insensitive. Tried with <code>@JsonAlias</code>, <code>@JsonCreator</code> and <code>objectMapper.configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS, true);</code> and <code>spring.jackson.mapper.accept-case-insensitive-enums: true</code>. nothing worked for me.</p>\n<p>I'm using spring boot 2.5.5.</p>\n<p>How to accept case insensitive request with requestParam? And if requestParam is empty/null, want to set default enum as ALL.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1672126946,"post_id":74926541,"comment_id":132224721,"body_markdown":"Why did you exclude the `SecurityAutoConfiguration` class?","body":"Why did you exclude the <code>SecurityAutoConfiguration</code> class?"},{"owner":{"account_id":20586928,"reputation":9,"user_id":15111586,"display_name":"Amirreza Andishmand"},"score":0,"creation_date":1672137516,"post_id":74926541,"comment_id":132226862,"body_markdown":"@fatih I do not have such a class in the project.\nI am attaching the available classes in a photo","body":"@fatih I do not have such a class in the project. I am attaching the available classes in a photo"},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1672143597,"post_id":74926541,"comment_id":132228219,"body_markdown":"Can you try to remove the exclude part for `@EnableAutoConfiguration` in `WebSecurityConfig` class?","body":"Can you try to remove the exclude part for <code>@EnableAutoConfiguration</code> in <code>WebSecurityConfig</code> class?"},{"owner":{"account_id":20586928,"reputation":9,"user_id":15111586,"display_name":"Amirreza Andishmand"},"score":0,"creation_date":1672148387,"post_id":74926541,"comment_id":132229443,"body_markdown":"@fatih i deleted .A few lines were added to the trace results which I added","body":"@fatih i deleted .A few lines were added to the trace results which I added"}],"owner":{"account_id":20586928,"reputation":9,"user_id":15111586,"display_name":"Amirreza Andishmand"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673246894,"creation_date":1672124711,"question_id":74926541,"body_markdown":"I have a spring boot project\r\n\r\nWhen authenticating in project, after authenticating with the admin account, I encountered an anonymous role.\r\n\r\nCan you please advise what is the reason and how to solve it?\r\n\r\nMeanwhile, I use Angular as the front end of the project\r\n\r\n**This is my webSecurityConfig**\r\n\r\n```\r\n\r\npublic class WebSecurityConfig {\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Autowired\r\n    private AuthEntryPointJwt unauthorizedHandler;\r\n\r\n    @Bean\r\n    public AuthTokenFilter authenticationJwtTokenFilter() {\r\n        return new AuthTokenFilter();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n        return authConfig.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeRequests().antMatchers(&quot;/api2/auth/**&quot;).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n        http.authenticationProvider(authenticationProvider());\r\n\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n**Auth Controller:**\r\n\r\n```\r\n\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;, maxAge = 3600)\r\n@RestController\r\n@RequestMapping(&quot;/api2/auth&quot;)\r\npublic class AuthController {\r\n        @Autowired\r\n        AuthenticationManager authenticationManager;\r\n        @Autowired\r\n        UserRepository userRepository;\r\n        @Autowired\r\n        RoleRepository roleRepository;\r\n        @Autowired\r\n        PasswordEncoder encoder;\r\n        @Autowired\r\n        JwtUtils jwtUtils;\r\n\r\n        @PostMapping(&quot;/signin&quot;)\r\n        public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\r\n            Authentication authentication = authenticationManager\r\n                    .authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n            UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\r\n            ResponseCookie jwtCookie = jwtUtils.generateJwtCookie(userDetails);\r\n            List&lt;String&gt; roles = userDetails.getAuthorities().stream()\r\n                    .map(item -&gt; item.getAuthority())\r\n                    .collect(Collectors.toList());\r\n            return ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString())\r\n                    .body(new UserInfoResponse(userDetails.getId(),\r\n                            userDetails.getUsername(),\r\n                            userDetails.getPassword(),\r\n                            roles));\r\n        }\r\n\r\n        @PostMapping(&quot;/signup&quot;)\r\n        public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signUpRequest) {\r\n            if (userRepository.existsByUsername(signUpRequest.getUsername())) {\r\n                return ResponseEntity.badRequest().body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\r\n            }\r\n\r\n            // Create new user&#39;s account\r\n            User user = new User(signUpRequest.getUsername(),\r\n                    encoder.encode(signUpRequest.getPassword()));\r\n            Set&lt;String&gt; strRoles =  signUpRequest.getRole();\r\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n            if (strRoles == null) {\r\n                Role userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n                        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                roles.add(userRole);\r\n            } else {\r\n                strRoles.forEach(role -&gt; {\r\n                    if (&quot;admin&quot;.equals(role)) {\r\n                        Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\r\n                                .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                        roles.add(adminRole);\r\n\r\n                    } else if (&quot;user&quot;.equals(role)) {\r\n                        Role userRole = roleRepository.findByName(ERole.ROLE_USER)\r\n                                .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\r\n                        roles.add(userRole);\r\n                    }\r\n                });\r\n            }\r\n            user.setRoles(roles);\r\n            userRepository.save(user);\r\n            return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\r\n        }\r\n\r\n        @PostMapping(&quot;/signout&quot;)\r\n        public ResponseEntity&lt;?&gt; logoutUser() {\r\n            ResponseCookie cookie = jwtUtils.getCleanJwtCookie();\r\n            return ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, cookie.toString())\r\n                    .body(new MessageResponse(&quot;You&#39;ve been signed out!&quot;));\r\n        }\r\n    }\r\n```\r\n\r\n**result of trace:**\r\n\r\n&gt; ERROR 2540 ---  c.s.e.security.jwt.AuthEntryPointJwt     : Unauthorized error: Full authentication is required to access this resource\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to \\[Is Secure\\]\r\n&gt;\r\n&gt; DEBUG 2540 ---  s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n&gt;\r\n&gt; TRACE 2540 --- o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain \\[RequestMatcher=any request, Filters=\\[org.springframework.security.web.session.DisableEncodeUrlFilter...\\]\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)\r\n&gt;\r\n&gt; TRACE 2540 --- \\[nio-8080-exec-2\\] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)\r\n&gt;\r\n&gt; DEBUG 2540 --- s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n&gt;\r\n&gt; TRACE 2540 --- o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)\r\n&gt;\r\n&gt; TRACE 2540 --- o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or \\[Ant \\[pattern=&#39;/logout&#39;, GET\\], Ant \\[pattern=&#39;/logout&#39;, POST\\], Ant \\[pattern=&#39;/logout&#39;, PUT\\], Ant \\[pattern=&#39;/logout&#39;, DELETE\\]\\]\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking AuthTokenFilter (7/13)\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)\r\n&gt;\r\n&gt; TRACE 2540 ---\\[ o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken \\[Principal=anonymousUser, Credentials=\\[PROTECTED\\], Authenticated=true, Details=WebAuthenticationDetails \\[RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null\\], Granted Authorities=\\[ROLE_ANONYMOUS\\]\\]\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)\r\n&gt;\r\n&gt; TRACE 2540 --- \\[nio-8080-exec-2\\] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)\r\n&gt;\r\n&gt; TRACE 2540 --- \\[nio-8080-exec-2\\] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)\r\n&gt;\r\n&gt; TRACE 2540 --- \\[nio-8080-exec-2\\] edFilterInvocationSecurityMetadataSource : Did not match request to Ant \\[pattern=&#39;/api2/auth/\\*\\*&#39;\\] - \\[permitAll\\] (1/2)\r\n&gt;\r\n&gt; TRACE 2540 ---o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate AnonymousAuthenticationToken \\[Principal=anonymousUser, Credentials=\\[PROTECTED\\], Authenticated=true, Details=WebAuthenticationDetails \\[RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null\\], Granted Authorities=\\[ROLE_ANONYMOUS\\]\\] before authorizing\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.s.w.a.expression.WebExpressionVoter  : Voted to deny authorization\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation \\[GET /product/slider\\] with attributes \\[authenticated\\] using AffirmativeBased \\[DecisionVoters=\\[org.springframework.security.web.access.expression.WebExpressionVoter@1dcad16f\\], AllowIfAllAbstainDecisions=false\\]\r\n&gt;\r\n&gt; TRACE 2540 ---  o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken \\[Principal=anonymousUser, Credentials=\\[PROTECTED\\], Authenticated=true, Details=WebAuthenticationDetails \\[RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null\\], Granted Authorities=\\[ROLE_ANONYMOUS\\]\\] to authentication entry point since access is denied\r\n\r\n&gt; **Added**\r\n\r\n &gt;ERROR 8184 ---  c.s.e.security.jwt.AuthEntryPointJwt     : Unauthorized error: Full authentication is required to access this resource &gt;\r\n\r\n&gt;TRACE 8184 --- o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure] &gt;\r\n\r\n&gt;DEBUG 8184 --- s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n\r\nProject classes: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Thank you for your time**\r\n\r\nI tried many ways from stackoverflow and other places to solve this problem, but I didn&#39;t get any results.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jqe1K.png","title":"Anonymous Role in springboot project after autenticated","body":"<p>I have a spring boot project</p>\n<p>When authenticating in project, after authenticating with the admin account, I encountered an anonymous role.</p>\n<p>Can you please advise what is the reason and how to solve it?</p>\n<p>Meanwhile, I use Angular as the front end of the project</p>\n<p><strong>This is my webSecurityConfig</strong></p>\n<pre><code>\npublic class WebSecurityConfig {\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests().antMatchers(&quot;/api2/auth/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n</code></pre>\n<p><strong>Auth Controller:</strong></p>\n<pre><code>\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/api2/auth&quot;)\npublic class AuthController {\n        @Autowired\n        AuthenticationManager authenticationManager;\n        @Autowired\n        UserRepository userRepository;\n        @Autowired\n        RoleRepository roleRepository;\n        @Autowired\n        PasswordEncoder encoder;\n        @Autowired\n        JwtUtils jwtUtils;\n\n        @PostMapping(&quot;/signin&quot;)\n        public ResponseEntity&lt;?&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\n            Authentication authentication = authenticationManager\n                    .authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n\n            UserDetailsImpl userDetails = (UserDetailsImpl) authentication.getPrincipal();\n            ResponseCookie jwtCookie = jwtUtils.generateJwtCookie(userDetails);\n            List&lt;String&gt; roles = userDetails.getAuthorities().stream()\n                    .map(item -&gt; item.getAuthority())\n                    .collect(Collectors.toList());\n            return ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString())\n                    .body(new UserInfoResponse(userDetails.getId(),\n                            userDetails.getUsername(),\n                            userDetails.getPassword(),\n                            roles));\n        }\n\n        @PostMapping(&quot;/signup&quot;)\n        public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signUpRequest) {\n            if (userRepository.existsByUsername(signUpRequest.getUsername())) {\n                return ResponseEntity.badRequest().body(new MessageResponse(&quot;Error: Username is already taken!&quot;));\n            }\n\n            // Create new user's account\n            User user = new User(signUpRequest.getUsername(),\n                    encoder.encode(signUpRequest.getPassword()));\n            Set&lt;String&gt; strRoles =  signUpRequest.getRole();\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n            if (strRoles == null) {\n                Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n                        .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                roles.add(userRole);\n            } else {\n                strRoles.forEach(role -&gt; {\n                    if (&quot;admin&quot;.equals(role)) {\n                        Role adminRole = roleRepository.findByName(ERole.ROLE_ADMIN)\n                                .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                        roles.add(adminRole);\n\n                    } else if (&quot;user&quot;.equals(role)) {\n                        Role userRole = roleRepository.findByName(ERole.ROLE_USER)\n                                .orElseThrow(() -&gt; new RuntimeException(&quot;Error: Role is not found.&quot;));\n                        roles.add(userRole);\n                    }\n                });\n            }\n            user.setRoles(roles);\n            userRepository.save(user);\n            return ResponseEntity.ok(new MessageResponse(&quot;User registered successfully!&quot;));\n        }\n\n        @PostMapping(&quot;/signout&quot;)\n        public ResponseEntity&lt;?&gt; logoutUser() {\n            ResponseCookie cookie = jwtUtils.getCleanJwtCookie();\n            return ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, cookie.toString())\n                    .body(new MessageResponse(&quot;You've been signed out!&quot;));\n        }\n    }\n</code></pre>\n<p><strong>result of trace:</strong></p>\n<blockquote>\n<p>ERROR 2540 ---  c.s.e.security.jwt.AuthEntryPointJwt     : Unauthorized error: Full authentication is required to access this resource</p>\n<p>TRACE 2540 ---  o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]</p>\n<p>DEBUG 2540 ---  s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request</p>\n<p>TRACE 2540 --- o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter...]</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)</p>\n<p>TRACE 2540 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextPersistenceFilter (3/13)</p>\n<p>DEBUG 2540 --- s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext</p>\n<p>TRACE 2540 --- o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)</p>\n<p>TRACE 2540 --- o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)</p>\n<p>TRACE 2540 ---  o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking AuthTokenFilter (7/13)</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)</p>\n<p>TRACE 2540 ---[ o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]</p>\n<p>TRACE 2540 ---  o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)</p>\n<p>TRACE 2540 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)</p>\n<p>TRACE 2540 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking FilterSecurityInterceptor (13/13)</p>\n<p>TRACE 2540 --- [nio-8080-exec-2] edFilterInvocationSecurityMetadataSource : Did not match request to Ant [pattern='/api2/auth/**'] - [permitAll] (1/2)</p>\n<p>TRACE 2540 ---o.s.s.w.a.i.FilterSecurityInterceptor    : Did not re-authenticate AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] before authorizing</p>\n<p>TRACE 2540 ---  o.s.s.w.a.expression.WebExpressionVoter  : Voted to deny authorization</p>\n<p>TRACE 2540 ---  o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /product/slider] with attributes [authenticated] using AffirmativeBased [DecisionVoters=[org.springframework.security.web.access.expression.WebExpressionVoter@1dcad16f], AllowIfAllAbstainDecisions=false]</p>\n<p>TRACE 2540 ---  o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied</p>\n</blockquote>\n<blockquote>\n<p><strong>Added</strong></p>\n</blockquote>\n<blockquote>\n<p>ERROR 8184 ---  c.s.e.security.jwt.AuthEntryPointJwt     : Unauthorized error: Full authentication is required to access this resource &gt;</p>\n</blockquote>\n<blockquote>\n<p>TRACE 8184 --- o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure] &gt;</p>\n</blockquote>\n<blockquote>\n<p>DEBUG 8184 --- s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request</p>\n</blockquote>\n<p>Project classes:</p>\n<p><a href=\"https://i.stack.imgur.com/jqe1K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jqe1K.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Thank you for your time</strong></p>\n<p>I tried many ways from stackoverflow and other places to solve this problem, but I didn't get any results.</p>\n"},{"tags":["java","gradle","groovy"],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1645522334,"creation_date":1645522334,"answer_id":71218832,"question_id":71216665,"body_markdown":"You missing the needed dependency. \r\n\r\nAdd `org.codehaus.groovy:groovy-json:3.0.9` in `dependencies` section so ti will look like \r\n\r\n```\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    implementation &#39;org.codehaus.groovy:groovy-json:3.0.9&#39;\r\n}\r\n```\r\nAnd then you can test with CLI as `gradle sample` or `./gradlew sample` and it will return `{a=b}`","title":"build.gradle cannot resolve symbol &#39;groovy.json.JsonSlurper&#39;","body":"<p>You missing the needed dependency.</p>\n<p>Add <code>org.codehaus.groovy:groovy-json:3.0.9</code> in <code>dependencies</code> section so ti will look like</p>\n<pre><code>dependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    implementation 'org.codehaus.groovy:groovy-json:3.0.9'\n}\n</code></pre>\n<p>And then you can test with CLI as <code>gradle sample</code> or <code>./gradlew sample</code> and it will return <code>{a=b}</code></p>\n"}],"owner":{"account_id":14018267,"reputation":103,"user_id":10125153,"display_name":"user10125153"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7787,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":71218832,"answer_count":1,"score":9,"last_activity_date":1673246811,"creation_date":1645510469,"question_id":71216665,"body_markdown":"I can&#39;t resolve the groovy.json.JsonSlurper in the build.gradle file with Intellij, does anyone know how to fix it?\r\n\r\n\r\n```java\r\n\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\n\r\n\r\ntask sample() {\r\n    doLast {\r\n        sample();\r\n    }\r\n}\r\n\r\nimport groovy.json.JsonSlurper\r\ndef sample(){\r\n    def json = new JsonSlurper().parseText(&#39;{&quot;a&quot;:&quot;b&quot;}&#39;)\r\n    println(json);\r\n}\r\n\r\n```\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HSqTu.png","title":"build.gradle cannot resolve symbol &#39;groovy.json.JsonSlurper&#39;","body":"<p>I can't resolve the groovy.json.JsonSlurper in the build.gradle file with Intellij, does anyone know how to fix it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nplugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\n\n\ntask sample() {\n    doLast {\n        sample();\n    }\n}\n\nimport groovy.json.JsonSlurper\ndef sample(){\n    def json = new JsonSlurper().parseText('{&quot;a&quot;:&quot;b&quot;}')\n    println(json);\n}\n\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/HSqTu.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","date","time"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1511973977,"post_id":10690370,"comment_id":82072961,"body_markdown":"This code uses troublesome old date-time classes now supplanted by the java.time classes. For older Java and Android, see the *ThreeTen-Backport* and *ThreeTenABP* projects.","body":"This code uses troublesome old date-time classes now supplanted by the java.time classes. For older Java and Android, see the <i>ThreeTen-Backport</i> and <i>ThreeTenABP</i> projects."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1517355534,"post_id":10690370,"comment_id":84060095,"body_markdown":"Similar Question: [*date difference in days, in Android*](https://stackoverflow.com/q/5405610/642706)","body":"Similar Question: <a href=\"https://stackoverflow.com/q/5405610/642706\"><i>date difference in days, in Android</i></a>"},{"owner":{"account_id":20450406,"reputation":1339,"user_id":15005298,"display_name":"Yaqoob Bhatti"},"score":0,"creation_date":1630408409,"post_id":10690370,"comment_id":121942558,"body_markdown":"Try this https://stackoverflow.com/a/68997515/15005298","body":"Try this <a href=\"https://stackoverflow.com/a/68997515/15005298\">stackoverflow.com/a/68997515/15005298</a>"}],"answers":[{"tags":[],"owner":{"account_id":327702,"reputation":17684,"user_id":650233,"accept_rate":75,"display_name":"Dan F"},"down_vote_count":1,"up_vote_count":165,"is_accepted":true,"score":164,"last_activity_date":1594208940,"creation_date":1337624656,"answer_id":10690542,"question_id":10690370,"body_markdown":"You&#39;re close to the right answer, you are getting the difference in milliseconds between those two dates, but when you attempt to construct a date out of that difference, it is assuming you want to create a new `Date` object with that difference value as its epoch time.  If you&#39;re looking for a time in hours, then you would simply need to do some basic arithmetic on that `diff` to get the different time parts.\r\n\r\nJava:\r\n\r\n    long diff = date1.getTime() - date2.getTime();\r\n    long seconds = diff / 1000;\r\n    long minutes = seconds / 60;\r\n    long hours = minutes / 60;\r\n    long days = hours / 24;\r\n\r\nKotlin:\r\n\r\n    val diff: Long = date1.getTime() - date2.getTime()\r\n    val seconds = diff / 1000\r\n    val minutes = seconds / 60\r\n    val hours = minutes / 60\r\n    val days = hours / 24\r\n\r\nAll of this math will simply do integer arithmetic, so it will truncate any decimal points","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>You're close to the right answer, you are getting the difference in milliseconds between those two dates, but when you attempt to construct a date out of that difference, it is assuming you want to create a new <code>Date</code> object with that difference value as its epoch time.  If you're looking for a time in hours, then you would simply need to do some basic arithmetic on that <code>diff</code> to get the different time parts.</p>\n<p>Java:</p>\n<pre><code>long diff = date1.getTime() - date2.getTime();\nlong seconds = diff / 1000;\nlong minutes = seconds / 60;\nlong hours = minutes / 60;\nlong days = hours / 24;\n</code></pre>\n<p>Kotlin:</p>\n<pre><code>val diff: Long = date1.getTime() - date2.getTime()\nval seconds = diff / 1000\nval minutes = seconds / 60\nval hours = minutes / 60\nval days = hours / 24\n</code></pre>\n<p>All of this math will simply do integer arithmetic, so it will truncate any decimal points</p>\n"},{"tags":[],"owner":{"account_id":155220,"reputation":6787,"user_id":371720,"accept_rate":58,"display_name":"Shihab Uddin"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1403075409,"creation_date":1403075409,"answer_id":24279153,"question_id":10690370,"body_markdown":"**Some addition:** \r\nHere I convert string to date then I compare the current time. \r\n\r\n    String toyBornTime = &quot;2014-06-18 12:56:50&quot;;\r\n\t\tSimpleDateFormat dateFormat = new SimpleDateFormat(\r\n\t\t\t\t&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n\t\ttry {\r\n\r\n\t\t\tDate oldDate = dateFormat.parse(toyBornTime);\r\n\t\t\tSystem.out.println(oldDate);\r\n\r\n\t\t\tDate currentDate = new Date();\r\n\r\n\t\t\tlong diff = currentDate.getTime() - oldDate.getTime();\r\n\t\t\tlong seconds = diff / 1000;\r\n\t\t\tlong minutes = seconds / 60;\r\n\t\t\tlong hours = minutes / 60;\r\n\t\t\tlong days = hours / 24;\r\n\r\n\t\t\tif (oldDate.before(currentDate)) {\r\n\r\n\t\t\t\tLog.e(&quot;oldDate&quot;, &quot;is previous date&quot;);\r\n\t\t\t\tLog.e(&quot;Difference: &quot;, &quot; seconds: &quot; + seconds + &quot; minutes: &quot; + minutes\r\n\t\t\t\t\t\t+ &quot; hours: &quot; + hours + &quot; days: &quot; + days);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t// Log.e(&quot;toyBornTime&quot;, &quot;&quot; + toyBornTime);\r\n\r\n\t\t} catch (ParseException e) {\r\n\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p><strong>Some addition:</strong> \nHere I convert string to date then I compare the current time. </p>\n\n<pre><code>String toyBornTime = \"2014-06-18 12:56:50\";\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\n            \"yyyy-MM-dd HH:mm:ss\");\n\n    try {\n\n        Date oldDate = dateFormat.parse(toyBornTime);\n        System.out.println(oldDate);\n\n        Date currentDate = new Date();\n\n        long diff = currentDate.getTime() - oldDate.getTime();\n        long seconds = diff / 1000;\n        long minutes = seconds / 60;\n        long hours = minutes / 60;\n        long days = hours / 24;\n\n        if (oldDate.before(currentDate)) {\n\n            Log.e(\"oldDate\", \"is previous date\");\n            Log.e(\"Difference: \", \" seconds: \" + seconds + \" minutes: \" + minutes\n                    + \" hours: \" + hours + \" days: \" + days);\n\n        }\n\n        // Log.e(\"toyBornTime\", \"\" + toyBornTime);\n\n    } catch (ParseException e) {\n\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1452909,"reputation":887,"user_id":1369285,"accept_rate":43,"display_name":"Dude"},"down_vote_count":2,"up_vote_count":64,"is_accepted":false,"score":62,"last_activity_date":1455026231,"creation_date":1455025879,"answer_id":35293784,"question_id":10690370,"body_markdown":"\t    long diffInMillisec = date1.getTime() - date2.getTime();\r\n\r\n        long diffInDays = TimeUnit.MILLISECONDS.toDays(diffInMillisec);\r\n        long diffInHours = TimeUnit.MILLISECONDS.toHours(diffInMillisec);\r\n        long diffInMin = TimeUnit.MILLISECONDS.toMinutes(diffInMillisec);\r\n        long diffInSec = TimeUnit.MILLISECONDS.toSeconds(diffInMillisec);","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<pre><code>    long diffInMillisec = date1.getTime() - date2.getTime();\n\n    long diffInDays = TimeUnit.MILLISECONDS.toDays(diffInMillisec);\n    long diffInHours = TimeUnit.MILLISECONDS.toHours(diffInMillisec);\n    long diffInMin = TimeUnit.MILLISECONDS.toMinutes(diffInMillisec);\n    long diffInSec = TimeUnit.MILLISECONDS.toSeconds(diffInMillisec);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5213085,"reputation":37,"user_id":4168846,"display_name":"ahmad dehghan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1483939185,"creation_date":1483939185,"answer_id":41541455,"question_id":10690370,"body_markdown":"shortest answer that works for me. send start and end date in millisecond.\r\n\r\n    public int GetDifference(long start,long end){\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTimeInMillis(start);\r\n        int hour = cal.get(Calendar.HOUR_OF_DAY);\r\n        int min = cal.get(Calendar.MINUTE);\r\n        long t=(23-hour)*3600000+(59-min)*60000;\r\n\r\n        t=start+t;\r\n\r\n        int diff=0;\r\n        if(end&gt;t){\r\n            diff=(int)((end-t)/ TimeUnit.DAYS.toMillis(1))+1;\r\n        }\r\n\r\n        return  diff;\r\n    }","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>shortest answer that works for me. send start and end date in millisecond.</p>\n\n<pre><code>public int GetDifference(long start,long end){\n    Calendar cal = Calendar.getInstance();\n    cal.setTimeInMillis(start);\n    int hour = cal.get(Calendar.HOUR_OF_DAY);\n    int min = cal.get(Calendar.MINUTE);\n    long t=(23-hour)*3600000+(59-min)*60000;\n\n    t=start+t;\n\n    int diff=0;\n    if(end&gt;t){\n        diff=(int)((end-t)/ TimeUnit.DAYS.toMillis(1))+1;\n    }\n\n    return  diff;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12376350,"reputation":11,"user_id":9023957,"display_name":"neal zedlav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511936192,"creation_date":1511936192,"answer_id":47546248,"question_id":10690370,"body_markdown":"Use these functions\r\n\r\n        public static int getDateDifference(\r\n            int previousYear, int previousMonthOfYear, int previousDayOfMonth,\r\n            int nextYear, int nextMonthOfYear, int nextDayOfMonth,\r\n            int differenceToCount){\r\n        // int differenceToCount = can be any of the following\r\n        //  Calendar.MILLISECOND;\r\n        //  Calendar.SECOND;\r\n        //  Calendar.MINUTE;\r\n        //  Calendar.HOUR;\r\n        //  Calendar.DAY_OF_MONTH;\r\n        //  Calendar.MONTH;\r\n        //  Calendar.YEAR;\r\n        //  Calendar.----\r\n\r\n        Calendar previousDate = Calendar.getInstance();\r\n        previousDate.set(Calendar.DAY_OF_MONTH, previousDayOfMonth);\r\n        // month is zero indexed so month should be minus 1\r\n        previousDate.set(Calendar.MONTH, previousMonthOfYear);\r\n        previousDate.set(Calendar.YEAR, previousYear);\r\n\r\n        Calendar nextDate = Calendar.getInstance();\r\n        nextDate.set(Calendar.DAY_OF_MONTH, previousDayOfMonth);\r\n        // month is zero indexed so month should be minus 1\r\n        nextDate.set(Calendar.MONTH, previousMonthOfYear);\r\n        nextDate.set(Calendar.YEAR, previousYear);\r\n\r\n        return getDateDifference(previousDate,nextDate,differenceToCount);\r\n    }\r\n    public static int getDateDifference(Calendar previousDate,Calendar nextDate,int differenceToCount){\r\n        // int differenceToCount = can be any of the following\r\n        //  Calendar.MILLISECOND;\r\n        //  Calendar.SECOND;\r\n        //  Calendar.MINUTE;\r\n        //  Calendar.HOUR;\r\n        //  Calendar.DAY_OF_MONTH;\r\n        //  Calendar.MONTH;\r\n        //  Calendar.YEAR;\r\n        //  Calendar.----\r\n\r\n        //raise an exception if previous is greater than nextdate.\r\n        if(previousDate.compareTo(nextDate)&gt;0){\r\n            throw new RuntimeException(&quot;Previous Date is later than Nextdate&quot;);\r\n        }\r\n\r\n        int difference=0;\r\n        while(previousDate.compareTo(nextDate)&lt;=0){\r\n            difference++;\r\n            previousDate.add(differenceToCount,1);\r\n        }\r\n        return difference;\r\n    }\r\n","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>Use these functions</p>\n\n<pre><code>    public static int getDateDifference(\n        int previousYear, int previousMonthOfYear, int previousDayOfMonth,\n        int nextYear, int nextMonthOfYear, int nextDayOfMonth,\n        int differenceToCount){\n    // int differenceToCount = can be any of the following\n    //  Calendar.MILLISECOND;\n    //  Calendar.SECOND;\n    //  Calendar.MINUTE;\n    //  Calendar.HOUR;\n    //  Calendar.DAY_OF_MONTH;\n    //  Calendar.MONTH;\n    //  Calendar.YEAR;\n    //  Calendar.----\n\n    Calendar previousDate = Calendar.getInstance();\n    previousDate.set(Calendar.DAY_OF_MONTH, previousDayOfMonth);\n    // month is zero indexed so month should be minus 1\n    previousDate.set(Calendar.MONTH, previousMonthOfYear);\n    previousDate.set(Calendar.YEAR, previousYear);\n\n    Calendar nextDate = Calendar.getInstance();\n    nextDate.set(Calendar.DAY_OF_MONTH, previousDayOfMonth);\n    // month is zero indexed so month should be minus 1\n    nextDate.set(Calendar.MONTH, previousMonthOfYear);\n    nextDate.set(Calendar.YEAR, previousYear);\n\n    return getDateDifference(previousDate,nextDate,differenceToCount);\n}\npublic static int getDateDifference(Calendar previousDate,Calendar nextDate,int differenceToCount){\n    // int differenceToCount = can be any of the following\n    //  Calendar.MILLISECOND;\n    //  Calendar.SECOND;\n    //  Calendar.MINUTE;\n    //  Calendar.HOUR;\n    //  Calendar.DAY_OF_MONTH;\n    //  Calendar.MONTH;\n    //  Calendar.YEAR;\n    //  Calendar.----\n\n    //raise an exception if previous is greater than nextdate.\n    if(previousDate.compareTo(nextDate)&gt;0){\n        throw new RuntimeException(\"Previous Date is later than Nextdate\");\n    }\n\n    int difference=0;\n    while(previousDate.compareTo(nextDate)&lt;=0){\n        difference++;\n        previousDate.add(differenceToCount,1);\n    }\n    return difference;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1573972330,"creation_date":1517344092,"answer_id":48529971,"question_id":10690370,"body_markdown":"## java.time.Duration\r\n\r\nUse `java.time.Duration`:\r\n\r\n\t\tDuration diff = Duration.between(instant2, instant1);\r\n\t\tSystem.out.println(diff);\r\n\r\nThis will print something like\r\n\r\n    PT109H27M21S\r\n\r\nThis means a period of time of 109 hours 27 minutes 21 seconds. If you want someting more human-readable — I’ll give the Java 9 version first, it’s simplest:\r\n\r\n\t\tString formattedDiff = String.format(Locale.ENGLISH,\r\n\t\t\t\t&quot;%d days %d hours %d minutes %d seconds&quot;,\r\n\t\t\t\tdiff.toDays(), diff.toHoursPart(), diff.toMinutesPart(), diff.toSecondsPart());\r\n\t\tSystem.out.println(formattedDiff);\r\n\r\nNow we get\r\n\r\n    4 days 13 hours 27 minutes 21 seconds\r\n\r\nThe `Duration` class is part of `java.time` the modern Java date and time API. This is bundled on newer Android devices. On older devices, get ThreeTenABP and add it to your project, and make sure to import `org.threeten.bp.Duration` and other date-time classes you may need from the same package.\r\n\r\nAssuming you still haven’t got the Java 9 version, you may subtract the larger units in turn to get the smaller ones:\r\n\r\n\t\tlong days = diff.toDays();\r\n\t\tdiff = diff.minusDays(days);\r\n\t\tlong hours = diff.toHours();\r\n\t\tdiff = diff.minusHours(hours);\r\n\t\tlong minutes = diff.toMinutes();\r\n\t\tdiff = diff.minusMinutes(minutes);\r\n\t\tlong seconds = diff.toSeconds();\r\n\r\nThen you can format the four variables as above.\r\n\r\n## What did you do wrong?\r\n\r\nA `Date` represents a point in time. It was never meant for representing an amount of time, a duration, and it isn’t suited for it. Trying to make that work would *at best* lead to confusing and hard-to-maintain code. You don’t want that, so please don’t.\r\n\r\n## Question: Doesn’t java.time require Android API level 26?\r\n\r\njava.time works nicely on both older and newer Android devices. It just requires at least **Java 6**.\r\n\r\n - In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.\r\n - In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).\r\n - On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from `org.threeten.bp` with subpackages.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/), explaining how to use `java.time`.\r\n - [ThreeTen Backport project](http://www.threeten.org/threetenbp/), the backport of `java.time` to Java 6 and 7\r\n - [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP), Android edition of ThreeTen Backport\r\n - [Question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project), with a very thorough explanation.\r\n - [Java Specification Request (JSR) 310](https://jcp.org/en/jsr/detail?id=310).","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<h2>java.time.Duration</h2>\n\n<p>Use <code>java.time.Duration</code>:</p>\n\n<pre><code>    Duration diff = Duration.between(instant2, instant1);\n    System.out.println(diff);\n</code></pre>\n\n<p>This will print something like</p>\n\n<pre><code>PT109H27M21S\n</code></pre>\n\n<p>This means a period of time of 109 hours 27 minutes 21 seconds. If you want someting more human-readable — I’ll give the Java 9 version first, it’s simplest:</p>\n\n<pre><code>    String formattedDiff = String.format(Locale.ENGLISH,\n            \"%d days %d hours %d minutes %d seconds\",\n            diff.toDays(), diff.toHoursPart(), diff.toMinutesPart(), diff.toSecondsPart());\n    System.out.println(formattedDiff);\n</code></pre>\n\n<p>Now we get</p>\n\n<pre><code>4 days 13 hours 27 minutes 21 seconds\n</code></pre>\n\n<p>The <code>Duration</code> class is part of <code>java.time</code> the modern Java date and time API. This is bundled on newer Android devices. On older devices, get ThreeTenABP and add it to your project, and make sure to import <code>org.threeten.bp.Duration</code> and other date-time classes you may need from the same package.</p>\n\n<p>Assuming you still haven’t got the Java 9 version, you may subtract the larger units in turn to get the smaller ones:</p>\n\n<pre><code>    long days = diff.toDays();\n    diff = diff.minusDays(days);\n    long hours = diff.toHours();\n    diff = diff.minusHours(hours);\n    long minutes = diff.toMinutes();\n    diff = diff.minusMinutes(minutes);\n    long seconds = diff.toSeconds();\n</code></pre>\n\n<p>Then you can format the four variables as above.</p>\n\n<h2>What did you do wrong?</h2>\n\n<p>A <code>Date</code> represents a point in time. It was never meant for representing an amount of time, a duration, and it isn’t suited for it. Trying to make that work would <em>at best</em> lead to confusing and hard-to-maintain code. You don’t want that, so please don’t.</p>\n\n<h2>Question: Doesn’t java.time require Android API level 26?</h2>\n\n<p>java.time works nicely on both older and newer Android devices. It just requires at least <strong>Java 6</strong>.</p>\n\n<ul>\n<li>In Java 8 and later and on newer Android devices (from API level 26) the modern API comes built-in.</li>\n<li>In non-Android Java 6 and 7 get the ThreeTen Backport, the backport of the modern classes (ThreeTen for JSR 310; see the links at the bottom).</li>\n<li>On (older) Android use the Android edition of ThreeTen Backport. It’s called ThreeTenABP. And make sure you import the date and time classes from <code>org.threeten.bp</code> with subpackages.</li>\n</ul>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"noreferrer\">Oracle tutorial: Date Time</a>, explaining how to use <code>java.time</code>.</li>\n<li><a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen Backport project</a>, the backport of <code>java.time</code> to Java 6 and 7</li>\n<li><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport</li>\n<li><a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">Question: How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</li>\n<li><a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">Java Specification Request (JSR) 310</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7497972,"reputation":1364,"user_id":5697474,"display_name":"Syed Danish Haider"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546846519,"creation_date":1546846519,"answer_id":54070215,"question_id":10690370,"body_markdown":"Using georgian calander \r\n    \r\n     public void dateDifferenceExample() {\r\n\r\n            // Set the date for both of the calendar instance\r\n            GregorianCalendar calDate = new GregorianCalendar(2012, 10, 02,5,23,43);\r\n            GregorianCalendar cal2 = new GregorianCalendar(2015, 04, 02);\r\n\r\n            // Get the represented date in milliseconds\r\n            long millis1 = calDate.getTimeInMillis();\r\n            long millis2 = cal2.getTimeInMillis();\r\n\r\n            // Calculate difference in milliseconds\r\n            long diff = millis2 - millis1;\r\n\r\n            // Calculate difference in seconds\r\n            long diffSeconds = diff / 1000;\r\n\r\n            // Calculate difference in minutes\r\n            long diffMinutes = diff / (60 * 1000);\r\n\r\n            // Calculate difference in hours\r\n            long diffHours = diff / (60 * 60 * 1000);\r\n\r\n            // Calculate difference in days\r\n            long diffDays = diff / (24 * 60 * 60 * 1000);\r\n        Toast.makeText(getContext(), &quot;&quot;+diffSeconds, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n    }","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>Using georgian calander </p>\n\n<pre><code> public void dateDifferenceExample() {\n\n        // Set the date for both of the calendar instance\n        GregorianCalendar calDate = new GregorianCalendar(2012, 10, 02,5,23,43);\n        GregorianCalendar cal2 = new GregorianCalendar(2015, 04, 02);\n\n        // Get the represented date in milliseconds\n        long millis1 = calDate.getTimeInMillis();\n        long millis2 = cal2.getTimeInMillis();\n\n        // Calculate difference in milliseconds\n        long diff = millis2 - millis1;\n\n        // Calculate difference in seconds\n        long diffSeconds = diff / 1000;\n\n        // Calculate difference in minutes\n        long diffMinutes = diff / (60 * 1000);\n\n        // Calculate difference in hours\n        long diffHours = diff / (60 * 60 * 1000);\n\n        // Calculate difference in days\n        long diffDays = diff / (24 * 60 * 60 * 1000);\n    Toast.makeText(getContext(), \"\"+diffSeconds, Toast.LENGTH_SHORT).show();\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13027616,"reputation":69,"user_id":9415105,"display_name":"jkronlachner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563440547,"creation_date":1563440547,"answer_id":57090790,"question_id":10690370,"body_markdown":"Here is my answer based on @Ole V. V. answer. \r\n\r\nThis also works with Singular. \r\n\r\n    private String getDuration(Date d1, Date d2) {\r\n        Duration diff = Duration.between(d1.toInstant(), d2.toInstant());\r\n\r\n\r\n        long days = diff.toDays();\r\n        diff = diff.minusDays(days);\r\n        long hours = diff.toHours();\r\n        diff = diff.minusHours(hours);\r\n        long minutes = diff.toMinutes();\r\n        diff = diff.minusMinutes(minutes);\r\n        long seconds = diff.toMillis();\r\n\r\n        StringBuilder formattedDiff = new StringBuilder();\r\n        if(days!=0){\r\n            if(days==1){\r\n                formattedDiff.append(days + &quot; Day &quot;);\r\n\r\n            }else {\r\n                formattedDiff.append(days + &quot; Days &quot;);\r\n            }\r\n        }if(hours!=0){\r\n            if(hours==1){\r\n                formattedDiff.append(hours + &quot; hour &quot;);\r\n            }else{\r\n                formattedDiff.append(hours + &quot; hours &quot;);\r\n            }\r\n        }if(minutes!=0){\r\n            if(minutes==1){\r\n                formattedDiff.append(minutes + &quot; minute &quot;);\r\n            }else{\r\n                formattedDiff.append(minutes + &quot; minutes &quot;);\r\n            }\r\n        }if(seconds!=0){\r\n            if(seconds==1){\r\n                formattedDiff.append(seconds + &quot; second &quot;);\r\n            }else{\r\n                formattedDiff.append(seconds + &quot; seconds &quot;);\r\n            }\r\n        }\r\n\r\n\r\n        return formattedDiff.toString();\r\n    }\r\n\r\nIt works with a StringBuilder to append everything together. ","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>Here is my answer based on @Ole V. V. answer. </p>\n\n<p>This also works with Singular. </p>\n\n<pre><code>private String getDuration(Date d1, Date d2) {\n    Duration diff = Duration.between(d1.toInstant(), d2.toInstant());\n\n\n    long days = diff.toDays();\n    diff = diff.minusDays(days);\n    long hours = diff.toHours();\n    diff = diff.minusHours(hours);\n    long minutes = diff.toMinutes();\n    diff = diff.minusMinutes(minutes);\n    long seconds = diff.toMillis();\n\n    StringBuilder formattedDiff = new StringBuilder();\n    if(days!=0){\n        if(days==1){\n            formattedDiff.append(days + \" Day \");\n\n        }else {\n            formattedDiff.append(days + \" Days \");\n        }\n    }if(hours!=0){\n        if(hours==1){\n            formattedDiff.append(hours + \" hour \");\n        }else{\n            formattedDiff.append(hours + \" hours \");\n        }\n    }if(minutes!=0){\n        if(minutes==1){\n            formattedDiff.append(minutes + \" minute \");\n        }else{\n            formattedDiff.append(minutes + \" minutes \");\n        }\n    }if(seconds!=0){\n        if(seconds==1){\n            formattedDiff.append(seconds + \" second \");\n        }else{\n            formattedDiff.append(seconds + \" seconds \");\n        }\n    }\n\n\n    return formattedDiff.toString();\n}\n</code></pre>\n\n<p>It works with a StringBuilder to append everything together. </p>\n"},{"tags":[],"owner":{"account_id":6403531,"reputation":234,"user_id":4965482,"display_name":"Gilad Levinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580606053,"creation_date":1580606053,"answer_id":60022493,"question_id":10690370,"body_markdown":"**written in Kotlin:**\r\nif you need difference between 2 dates and don&#39;t care about the dates itself ( good if you need to do something in the app,based on time from other operation time that was saved in shared preferences for example).\r\nsave first time :\r\n\r\n    val firstTime:Long= System.currentTimeMillis()\r\n                        \r\nsave second time:\r\n\r\n    val now:Long= System.currentTimeMillis()\r\n    \r\ncalculate the miliseconds between 2 times:\r\n\r\n    val milisecondsSinceLastTime: Long =(now-lastScrollTime)\r\n\r\n\r\n\r\n\r\n","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p><strong>written in Kotlin:</strong>\nif you need difference between 2 dates and don't care about the dates itself ( good if you need to do something in the app,based on time from other operation time that was saved in shared preferences for example).\nsave first time :</p>\n\n<pre><code>val firstTime:Long= System.currentTimeMillis()\n</code></pre>\n\n<p>save second time:</p>\n\n<pre><code>val now:Long= System.currentTimeMillis()\n</code></pre>\n\n<p>calculate the miliseconds between 2 times:</p>\n\n<pre><code>val milisecondsSinceLastTime: Long =(now-lastScrollTime)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4536147,"reputation":511,"user_id":7926219,"display_name":"Bartłomiej Uliasz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1643472996,"creation_date":1589203447,"answer_id":61730808,"question_id":10690370,"body_markdown":"If you use Kotlin language for Android development you can get difference in days like this:\r\n```\r\nfun daysDiff(c1: Calendar, c2: Calendar): Long {\r\n    val diffInMillis = c1.timeInMillis - c2.timeInMillis\r\n    return diffInMillis.milliseconds.inWholeDays\r\n}\r\n```\r\nor if you want to get results in different type you can replace `inWholeDays` with `toInt(...)`, `toDouble(...)`, `toString(...)`. \r\n\r\nIf the only date difference you&#39;re interested in is days (let&#39;s say as a Double type result) you can create operator extension method like this:\r\n```\r\noperator fun Calendar.minus(c: Calendar): Double {\r\n    val diffInMillis = timeInMillis - c.timeInMillis\r\n    return diffInMillis.milliseconds.toDouble(DurationUnit.DAYS)\r\n}\r\n```\r\nAnd then any operation like `calendar2 - calendar1` will return difference in days as Double.","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>If you use Kotlin language for Android development you can get difference in days like this:</p>\n<pre><code>fun daysDiff(c1: Calendar, c2: Calendar): Long {\n    val diffInMillis = c1.timeInMillis - c2.timeInMillis\n    return diffInMillis.milliseconds.inWholeDays\n}\n</code></pre>\n<p>or if you want to get results in different type you can replace <code>inWholeDays</code> with <code>toInt(...)</code>, <code>toDouble(...)</code>, <code>toString(...)</code>.</p>\n<p>If the only date difference you're interested in is days (let's say as a Double type result) you can create operator extension method like this:</p>\n<pre><code>operator fun Calendar.minus(c: Calendar): Double {\n    val diffInMillis = timeInMillis - c.timeInMillis\n    return diffInMillis.milliseconds.toDouble(DurationUnit.DAYS)\n}\n</code></pre>\n<p>And then any operation like <code>calendar2 - calendar1</code> will return difference in days as Double.</p>\n"},{"tags":[],"owner":{"account_id":11683233,"reputation":646,"user_id":8554111,"display_name":"sum20156"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596299411,"creation_date":1596299411,"answer_id":63207518,"question_id":10690370,"body_markdown":"I tried this method..but don&#39;t know why I am not getting proper result\r\n\r\n    long diff = date1.getTime() - date2.getTime();\r\n    long seconds = diff / 1000;\r\n    long minutes = seconds / 60;\r\n    long hours = minutes / 60;\r\n    long days = hours / 24;\r\n\r\nBut this works\r\n\r\n    long miliSeconds = date1.getTime() -date2.getTime();\r\n    long seconds = TimeUnit.MILLISECONDS.toSeconds(miliSeconds);\r\n    long minute = seconds/60;\r\n    long hour = minute/60;\r\n    long days = hour/24;","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>I tried this method..but don't know why I am not getting proper result</p>\n<pre><code>long diff = date1.getTime() - date2.getTime();\nlong seconds = diff / 1000;\nlong minutes = seconds / 60;\nlong hours = minutes / 60;\nlong days = hours / 24;\n</code></pre>\n<p>But this works</p>\n<pre><code>long miliSeconds = date1.getTime() -date2.getTime();\nlong seconds = TimeUnit.MILLISECONDS.toSeconds(miliSeconds);\nlong minute = seconds/60;\nlong hour = minute/60;\nlong days = hour/24;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21226063,"reputation":51,"user_id":15611733,"display_name":"Frank Oualitsen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1618231463,"creation_date":1618231463,"answer_id":67058611,"question_id":10690370,"body_markdown":"What about using [Instant](https://developer.android.com/reference/java/time/Instant):\r\n\r\n    val instant1 = now()\r\n    val instant2 = now()\r\n    val diff: Duration = Duration.between(instant1, instant2)\r\n    val minutes = diff.toMinutes()\r\n\r\nYou can even save your Instant using instant1.toString() and parse that string with parse(string).\r\n\r\nIf you need to support Android API level &lt; 26 just add \r\n[Java 8+ API desugaring support](https://developer.android.com/studio/write/java8-support#library-desugaring)\r\nto your project.","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>What about using <a href=\"https://developer.android.com/reference/java/time/Instant\" rel=\"noreferrer\">Instant</a>:</p>\n<pre><code>val instant1 = now()\nval instant2 = now()\nval diff: Duration = Duration.between(instant1, instant2)\nval minutes = diff.toMinutes()\n</code></pre>\n<p>You can even save your Instant using instant1.toString() and parse that string with parse(string).</p>\n<p>If you need to support Android API level &lt; 26 just add\n<a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\">Java 8+ API desugaring support</a>\nto your project.</p>\n"},{"tags":[],"owner":{"account_id":20231732,"reputation":1,"user_id":14838100,"display_name":"Ubaid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646030583,"creation_date":1644084641,"answer_id":71000787,"question_id":10690370,"body_markdown":"Get time difference between AM and PM\r\n\r\n    \r\n\r\n    \r\n    private int  getTimeDiff() {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm:ss aa&quot;);\r\n        Date systemDate = Calendar.getInstance().getTime();\r\n        String myDate = sdf.format(systemDate);\r\n        Date current = null;\r\n        Date Date2 = null;\r\n        try {\r\n            current = sdf.parse(myDate);\r\n            // current = sdf.parse(&quot;05:00:00 pm&quot;);\r\n            Date2 = sdf.parse(&quot;12:00:00 am&quot;);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        long millse = Date2.getTime() - current.getTime();\r\n        long mills = Math.abs(millse);\r\n        int Hours = (int) (mills / (1000 * 60 * 60));\r\n        int Mins = (int) (mills / (1000 * 60)) % 60;\r\n        long Secs = (int) (mills / 1000) % 60;\r\n        String diff = Hours + &quot;:&quot; + Mins + &quot;:&quot; + Secs;\r\n        int min = 60-Mins;\r\n        if (Hours &gt;= 12) {\r\n            String requiredTime = 24 - Hours + &quot;:&quot; + Mins + &quot;:&quot; + Secs;\r\n            int minutes= ((24-Hours)*60)-Mins;\r\n            return minutes;\r\n\r\n        } else {\r\n            int time = 12 - Hours;\r\n            int hours=time+12;\r\n            int res = (hours*60);\r\n            int minutes = res-Mins;\r\n            return minutes;\r\n        }\r\n    }","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>Get time difference between AM and PM</p>\n<pre><code>private int  getTimeDiff() {\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;hh:mm:ss aa&quot;);\n    Date systemDate = Calendar.getInstance().getTime();\n    String myDate = sdf.format(systemDate);\n    Date current = null;\n    Date Date2 = null;\n    try {\n        current = sdf.parse(myDate);\n        // current = sdf.parse(&quot;05:00:00 pm&quot;);\n        Date2 = sdf.parse(&quot;12:00:00 am&quot;);\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    long millse = Date2.getTime() - current.getTime();\n    long mills = Math.abs(millse);\n    int Hours = (int) (mills / (1000 * 60 * 60));\n    int Mins = (int) (mills / (1000 * 60)) % 60;\n    long Secs = (int) (mills / 1000) % 60;\n    String diff = Hours + &quot;:&quot; + Mins + &quot;:&quot; + Secs;\n    int min = 60-Mins;\n    if (Hours &gt;= 12) {\n        String requiredTime = 24 - Hours + &quot;:&quot; + Mins + &quot;:&quot; + Secs;\n        int minutes= ((24-Hours)*60)-Mins;\n        return minutes;\n\n    } else {\n        int time = 12 - Hours;\n        int hours=time+12;\n        int res = (hours*60);\n        int minutes = res-Mins;\n        return minutes;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21792039,"reputation":81,"user_id":16092119,"display_name":"Ehsan Pagheh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644091776,"creation_date":1644091776,"answer_id":71001749,"question_id":10690370,"body_markdown":"when you attempt to construct a date out of that difference, it is assuming you want to create a new Date object with that difference value as its epoch time.\r\n\r\n    //get time in milliseconds\r\n    long diff = date1.getTime() - date2.getTime();\r\n    //get time in seconds\r\n    long seconds = diff / 1000;\r\n    //and so on\r\n    long minutes = seconds / 60;\r\n    long hours = minutes / 60;\r\n    long days = hours / 24;\r\n\r\nfor more information you could use these links:\r\n\r\n [Oracle tutorial: Date Time][1], explaining how to use java.time.\r\n\r\n[ThreeTen Backport project][2], the backport of java.time to Java \r\n6 and 7.\r\n\r\n[ThreeTenABP][3], Android edition of ThreeTen Backport.\r\n\r\nQuestion: [How to use ThreeTenABP in Android Project][4], with a very thorough explanation.\r\n   \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/datetime/\r\n  [2]: http://www.threeten.org/threetenbp/\r\n  [3]: https://github.com/JakeWharton/ThreeTenABP\r\n  [4]: https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>when you attempt to construct a date out of that difference, it is assuming you want to create a new Date object with that difference value as its epoch time.</p>\n<pre><code>//get time in milliseconds\nlong diff = date1.getTime() - date2.getTime();\n//get time in seconds\nlong seconds = diff / 1000;\n//and so on\nlong minutes = seconds / 60;\nlong hours = minutes / 60;\nlong days = hours / 24;\n</code></pre>\n<p>for more information you could use these links:</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a>, explaining how to use java.time.</p>\n<p><a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen Backport project</a>, the backport of java.time to Java\n6 and 7.</p>\n<p><a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>, Android edition of ThreeTen Backport.</p>\n<p>Question: <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>, with a very thorough explanation.</p>\n"},{"tags":[],"owner":{"account_id":7320847,"reputation":41,"user_id":5576951,"display_name":"Ahtsham Asghar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673246759,"creation_date":1672928224,"answer_id":75019816,"question_id":10690370,"body_markdown":"The other answers are Ok in some cases they work perfect but when there is time difference between two dates( Like I am comparing two dates with different time then the difference between two dates either will be less than 24 hours which I can&#39;t afford or greater than 24 hours ) then it will not work so here is my approach \r\n\r\n        fun isSameDay(date1: Date, date2: Date): Boolean {\r\n           val format = SimpleDateFormat(&quot;dd/MM/yyyy&quot;)\r\n           return format.format(date1).equals(format.format(date2))\r\n        }","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>The other answers are Ok in some cases they work perfect but when there is time difference between two dates( Like I am comparing two dates with different time then the difference between two dates either will be less than 24 hours which I can't afford or greater than 24 hours ) then it will not work so here is my approach</p>\n<pre><code>    fun isSameDay(date1: Date, date2: Date): Boolean {\n       val format = SimpleDateFormat(&quot;dd/MM/yyyy&quot;)\n       return format.format(date1).equals(format.format(date2))\n    }\n</code></pre>\n"}],"owner":{"account_id":118267,"reputation":5132,"user_id":309166,"accept_rate":65,"display_name":"Alex K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143614,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":10690542,"answer_count":15,"score":80,"last_activity_date":1673246759,"creation_date":1337623917,"question_id":10690370,"body_markdown":"I saw all the post in here and still I can&#39;t figure how do get difference between two android dates.\r\n\r\nThis is what I do:\r\n\r\n    long diff = date1.getTime() - date2.getTime();\r\n    Date diffDate = new Date(diff);\r\n\r\nand I get: the date is Jan. 1, 1970 and the time is always bigger in two hours...I&#39;m from Israel so the two hours is timeOffset.\r\n\r\nHow can I get normal difference???","title":"How do I get difference between two dates in android?, tried every thing and post","body":"<p>I saw all the post in here and still I can't figure how do get difference between two android dates.</p>\n\n<p>This is what I do:</p>\n\n<pre><code>long diff = date1.getTime() - date2.getTime();\nDate diffDate = new Date(diff);\n</code></pre>\n\n<p>and I get: the date is Jan. 1, 1970 and the time is always bigger in two hours...I'm from Israel so the two hours is timeOffset.</p>\n\n<p>How can I get normal difference???</p>\n"},{"tags":["java","arrays","queue","nodes"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1592845425,"post_id":62519663,"comment_id":110564852,"body_markdown":"Post the text instead of the images.","body":"Post the text instead of the images."},{"owner":{"display_name":"user10111187"},"score":0,"creation_date":1592845648,"post_id":62519663,"comment_id":110564961,"body_markdown":"@ArvindKumarAvinash Altered the question","body":"@ArvindKumarAvinash Altered the question"}],"answers":[{"tags":[],"owner":{"account_id":27106718,"reputation":1,"user_id":20652450,"display_name":"Jannat Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673246528,"creation_date":1671112169,"answer_id":74812595,"question_id":62519663,"body_markdown":"The Queue follows FIFO.\r\nYour Order is John&lt;--Steve &lt;-- Peter.\r\nSo, your FRONT is John.\r\nREAR is Peter.\r\nHence, your output is correct.\r\n","title":"Front and Rear elements are showing only the currently added elements but not the firstly added and last one added","body":"<p>The Queue follows FIFO.\nYour Order is John&lt;--Steve &lt;-- Peter.\nSo, your FRONT is John.\nREAR is Peter.\nHence, your output is correct.</p>\n"}],"owner":{"display_name":"user10111187"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673246528,"creation_date":1592845222,"question_id":62519663,"body_markdown":"I had some trouble learning DSA concepts in college and i am trying to learn it all by myself. And as part of my attempts, i am creating a simple application where the system should take in reservations by the user and insert them into a queue.\r\n\r\nI have used JAVA for this, but the problem is the output always displays only the elements which was added on that code run but not the ones which were added previously, \r\n\r\nExample: \r\n\r\nI add 2 elements named as John and Steve and i go another round and add a person named Peter and according to the FIFO concept the front index value should be Peter and the rear value should be John since John was added first. \r\n\r\nBut my code displays only Peter as first and rear index value. \r\n\r\nCode blocks are as below.\r\n\r\n[![Node Class Code][1]][1]\r\n\r\n[![Queue Class Variables &amp; Enqueue Operation][2]][2]\r\n\r\n[![Dequeue Operation][3]][3]\r\n\r\n\r\n[![Getting user input using scanner and enqueuing the elements][4]][4]\r\n\r\n\r\n[![Continuation][5]][5]\r\n\r\n\r\n[![Code Displays only the elements which was added in the code run][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VEHwi.png\r\n  [2]: https://i.stack.imgur.com/LAMsO.png\r\n  [3]: https://i.stack.imgur.com/MEtyK.png\r\n  [4]: https://i.stack.imgur.com/QKf4o.png\r\n  [5]: https://i.stack.imgur.com/rfqYC.png\r\n  [6]: https://i.stack.imgur.com/4HLuF.png\r\n\r\nNode Class Code\r\n    \r\n    public class Nodes {\r\n        \r\n        public int BanquetHall_ID;\r\n        public int Reservation_ID;\r\n        public String Customer_Name;\r\n        public int Contact_No;\r\n        public String Reservation_Date;\r\n        public int Menu_Selection;\r\n        public String Customer_Email_Address;\r\n        Nodes next ;\r\n        int data;\r\n    \r\n        \r\n        public Nodes(int BanquetHall_ID, int Reservation_ID, String Customer_Name, \r\n                int Contact_No,String Customer_Email_Address ,String Reservation_Date, int Menu_Selection)\r\n        {\r\n            this.BanquetHall_ID=BanquetHall_ID;\r\n            this.Reservation_ID=Reservation_ID;\r\n            this.Customer_Name=Customer_Name;\r\n            this.Contact_No=Contact_No;\r\n            this.Customer_Email_Address=Customer_Email_Address;\r\n            this.Reservation_Date=Reservation_Date;\r\n            this.Menu_Selection=Menu_Selection;\r\n            this.next=null;\r\n        }\r\n    }\r\n\r\nQueue Class Code\r\n\r\n    public class Queue {\r\n    \r\n    Nodes front, rear;\r\n    \r\n    public Queue()\r\n    {\r\n        this.front = this.rear = null;\r\n    }      \r\n            \r\n        void enQueue(int BanquetHall_ID, int Reservation_ID, String Customer_Name, int Contact_No, \r\n                String Customer_Email_Address,String Reservation_Date, int Menu_Selection)\r\n        {\r\n            Nodes temp = new Nodes(BanquetHall_ID , Reservation_ID , Customer_Name , Contact_No , \r\n                    Customer_Email_Address , Reservation_Date , Menu_Selection);\r\n                \r\n                if(this.rear == null)\r\n                {                   \r\n                    this.front = this.rear = temp;\r\n                    return;  \r\n                }\r\n                \r\n                this.rear.next = temp;\r\n                this.rear = temp;\r\n        }\r\n  \r\n        public void deQueue(int Reservation_ID)\r\n        {\r\n            if (this.front == null)\r\n            {\r\n                return;\r\n            }\r\n\r\n            Nodes temp = this.front;\r\n            this.front= this.front.next;\r\n                \r\n            if (this.front == null)\r\n            {\r\n                this.rear=null;\r\n            }\r\n        }\r\n\r\nMain Class Code\r\n\r\n        else if(c==2)\r\n        {\r\n              int crun = 1;\r\n                while(crun!=0)\r\n                {\r\n                System.out.println(&quot;***** You Have Selected To Make A Reservation *****&quot;);\r\n                System.out.println(&quot;----- Please Provide The Accurate Details Below -----&quot;);\r\n                \r\n                System.out.println(&quot;Enter preferred Hall ID : &quot;);\r\n                int id = sc.nextInt();\r\n                \r\n                System.out.println(&quot;Enter preferred Reservation ID (Provide An ID In Numbers Which You Can Always Remember) : &quot;);\r\n                int rid=sc.nextInt();\r\n                \r\n                sc.nextLine();\r\n                \r\n                System.out.println(&quot;Enter Your Name : &quot;);\r\n                String name = sc.nextLine();\r\n                \r\n                System.out.println(&quot;Enter Your Contact Number : &quot;);\r\n                int contact = sc.nextInt();\r\n                \r\n                sc.nextLine();\r\n                \r\n                System.out.println(&quot;Enter Your Email Address : &quot;);\r\n                String email = sc.nextLine();\r\n                \r\n                System.out.println(&quot;Enter Your Reservation Date (YYYY-MM-DD): &quot;);\r\n                String date = sc.nextLine();\r\n                \r\n                System.out.println(&quot;Enter Your Menu Selection : &quot;);\r\n                int menu = sc.nextInt();\r\n                \r\n                Queue nd = new Queue();\r\n                nd.enQueue(id, rid, name, contact, email, date, menu);\r\n                System.out.println(&quot;Inserted Element Index : &quot;+ nd.front.Customer_Name);\r\n                System.out.println(&quot;Last element Index : &quot;+nd.rear.Customer_Name);\r\n                \r\n                Scanner cs = new Scanner(System.in);\r\n                \r\n                System.out.println(&quot;Would you like to rerun this program? 1= Yes, 0 = No&quot;);\r\n                crun = cs.nextInt();\r\n                }\r\n        }\r\n\r\n","title":"Front and Rear elements are showing only the currently added elements but not the firstly added and last one added","body":"<p>I had some trouble learning DSA concepts in college and i am trying to learn it all by myself. And as part of my attempts, i am creating a simple application where the system should take in reservations by the user and insert them into a queue.</p>\n<p>I have used JAVA for this, but the problem is the output always displays only the elements which was added on that code run but not the ones which were added previously,</p>\n<p>Example:</p>\n<p>I add 2 elements named as John and Steve and i go another round and add a person named Peter and according to the FIFO concept the front index value should be Peter and the rear value should be John since John was added first.</p>\n<p>But my code displays only Peter as first and rear index value.</p>\n<p>Code blocks are as below.</p>\n<p><a href=\"https://i.stack.imgur.com/VEHwi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VEHwi.png\" alt=\"Node Class Code\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LAMsO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LAMsO.png\" alt=\"Queue Class Variables &amp; Enqueue Operation\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MEtyK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MEtyK.png\" alt=\"Dequeue Operation\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/QKf4o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QKf4o.png\" alt=\"Getting user input using scanner and enqueuing the elements\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/rfqYC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rfqYC.png\" alt=\"Continuation\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/4HLuF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4HLuF.png\" alt=\"Code Displays only the elements which was added in the code run\" /></a></p>\n<p>Node Class Code</p>\n<pre><code>public class Nodes {\n    \n    public int BanquetHall_ID;\n    public int Reservation_ID;\n    public String Customer_Name;\n    public int Contact_No;\n    public String Reservation_Date;\n    public int Menu_Selection;\n    public String Customer_Email_Address;\n    Nodes next ;\n    int data;\n\n    \n    public Nodes(int BanquetHall_ID, int Reservation_ID, String Customer_Name, \n            int Contact_No,String Customer_Email_Address ,String Reservation_Date, int Menu_Selection)\n    {\n        this.BanquetHall_ID=BanquetHall_ID;\n        this.Reservation_ID=Reservation_ID;\n        this.Customer_Name=Customer_Name;\n        this.Contact_No=Contact_No;\n        this.Customer_Email_Address=Customer_Email_Address;\n        this.Reservation_Date=Reservation_Date;\n        this.Menu_Selection=Menu_Selection;\n        this.next=null;\n    }\n}\n</code></pre>\n<p>Queue Class Code</p>\n<pre><code>public class Queue {\n\nNodes front, rear;\n\npublic Queue()\n{\n    this.front = this.rear = null;\n}      \n        \n    void enQueue(int BanquetHall_ID, int Reservation_ID, String Customer_Name, int Contact_No, \n            String Customer_Email_Address,String Reservation_Date, int Menu_Selection)\n    {\n        Nodes temp = new Nodes(BanquetHall_ID , Reservation_ID , Customer_Name , Contact_No , \n                Customer_Email_Address , Reservation_Date , Menu_Selection);\n            \n            if(this.rear == null)\n            {                   \n                this.front = this.rear = temp;\n                return;  \n            }\n            \n            this.rear.next = temp;\n            this.rear = temp;\n    }\n\n    public void deQueue(int Reservation_ID)\n    {\n        if (this.front == null)\n        {\n            return;\n        }\n\n        Nodes temp = this.front;\n        this.front= this.front.next;\n            \n        if (this.front == null)\n        {\n            this.rear=null;\n        }\n    }\n</code></pre>\n<p>Main Class Code</p>\n<pre><code>    else if(c==2)\n    {\n          int crun = 1;\n            while(crun!=0)\n            {\n            System.out.println(&quot;***** You Have Selected To Make A Reservation *****&quot;);\n            System.out.println(&quot;----- Please Provide The Accurate Details Below -----&quot;);\n            \n            System.out.println(&quot;Enter preferred Hall ID : &quot;);\n            int id = sc.nextInt();\n            \n            System.out.println(&quot;Enter preferred Reservation ID (Provide An ID In Numbers Which You Can Always Remember) : &quot;);\n            int rid=sc.nextInt();\n            \n            sc.nextLine();\n            \n            System.out.println(&quot;Enter Your Name : &quot;);\n            String name = sc.nextLine();\n            \n            System.out.println(&quot;Enter Your Contact Number : &quot;);\n            int contact = sc.nextInt();\n            \n            sc.nextLine();\n            \n            System.out.println(&quot;Enter Your Email Address : &quot;);\n            String email = sc.nextLine();\n            \n            System.out.println(&quot;Enter Your Reservation Date (YYYY-MM-DD): &quot;);\n            String date = sc.nextLine();\n            \n            System.out.println(&quot;Enter Your Menu Selection : &quot;);\n            int menu = sc.nextInt();\n            \n            Queue nd = new Queue();\n            nd.enQueue(id, rid, name, contact, email, date, menu);\n            System.out.println(&quot;Inserted Element Index : &quot;+ nd.front.Customer_Name);\n            System.out.println(&quot;Last element Index : &quot;+nd.rear.Customer_Name);\n            \n            Scanner cs = new Scanner(System.in);\n            \n            System.out.println(&quot;Would you like to rerun this program? 1= Yes, 0 = No&quot;);\n            crun = cs.nextInt();\n            }\n    }\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":12667897,"reputation":514,"user_id":9206488,"display_name":"Raymo111"},"score":1,"creation_date":1523896982,"post_id":49862273,"comment_id":86739728,"body_markdown":"In your example, there is only 1 common letter: the first `a`.","body":"In your example, there is only 1 common letter: the first <code>a</code>."},{"owner":{"account_id":3777416,"reputation":5038,"user_id":3137842,"accept_rate":73,"display_name":"Gershon Papi"},"score":0,"creation_date":1523897141,"post_id":49862273,"comment_id":86739801,"body_markdown":"Seeing your example, it seems the order of the letters is irrelevant. You should, for each word, count how many times each letter appears. Then take the minimum of each word and add it all.","body":"Seeing your example, it seems the order of the letters is irrelevant. You should, for each word, count how many times each letter appears. Then take the minimum of each word and add it all."},{"owner":{"account_id":3912994,"reputation":837,"user_id":3237736,"accept_rate":43,"display_name":"user3237736"},"score":0,"creation_date":1523900194,"post_id":49862273,"comment_id":86741482,"body_markdown":"see my post, I added a solution using Stream API. Not sure if you want to use that, and it&#39;s probably not the best approach, but maybe this opens the door to Stream API for you - it is a very nice feature","body":"see my post, I added a solution using Stream API. Not sure if you want to use that, and it&#39;s probably not the best approach, but maybe this opens the door to Stream API for you - it is a very nice feature"}],"answers":[{"tags":[],"owner":{"account_id":12667897,"reputation":514,"user_id":9206488,"display_name":"Raymo111"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523910878,"creation_date":1523897095,"answer_id":49862355,"question_id":49862273,"body_markdown":"Use the `s1.charAt(i) == s2.charAt(i)` comparison. There is no need to put the strings into an arrayList.\r\n\r\nEdit: You&#39;ll need to add a conditional statement to make sure that you don&#39;t go out of bounds when the strings are of different lengths.","title":"Getting the common character count between two strings","body":"<p>Use the <code>s1.charAt(i) == s2.charAt(i)</code> comparison. There is no need to put the strings into an arrayList.</p>\n\n<p>Edit: You'll need to add a conditional statement to make sure that you don't go out of bounds when the strings are of different lengths.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523897226,"creation_date":1523897226,"answer_id":49862398,"question_id":49862273,"body_markdown":"1. Don&#39;t compare objects with `==`\r\n2. Don&#39;t reinvent the wheel: you don&#39;t need to loop through a list to know if it contains an element. There&#39;s `contains()` to do that for you. \r\n3. You don&#39;t even need `contains()`, since `remove()` tells you if something has been removed or not. So all you need is:\r\n\r\n 1. Create a `List&lt;Character&gt;` from string2\r\n 2. Loop through string1&#39;s characters, or until the list is empty\r\n 3. At each iteration, remove the current character from the list. If it was removed, increment the count\r\n","title":"Getting the common character count between two strings","body":"<ol>\n<li>Don't compare objects with <code>==</code></li>\n<li>Don't reinvent the wheel: you don't need to loop through a list to know if it contains an element. There's <code>contains()</code> to do that for you. </li>\n<li><p>You don't even need <code>contains()</code>, since <code>remove()</code> tells you if something has been removed or not. So all you need is:</p>\n\n<ol>\n<li>Create a <code>List&lt;Character&gt;</code> from string2</li>\n<li>Loop through string1's characters, or until the list is empty</li>\n<li>At each iteration, remove the current character from the list. If it was removed, increment the count</li>\n</ol></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3912994,"reputation":837,"user_id":3237736,"accept_rate":43,"display_name":"user3237736"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1523899758,"creation_date":1523898019,"answer_id":49862641,"question_id":49862273,"body_markdown":"You could go for maps. It may not be the best solution in terms of performance, but imo one that is intuitive to understand. First, iterate each string and collect each of its (distinct) characters with their appearance count. Then, compare the keysets of both maps (i.e. the characters) and for each character you find in both maps, store it together with its minimum appearance count from both maps. So something like this:\r\n\r\n    // first collect characters with their appearance count in maps:\r\n    &quot;aabcc&quot; -&gt; 2xa, 1xb, 2xc\r\n    &quot;adcaa&quot; -&gt; 3xa, 1xc, 1xd\r\n\r\n    // now, get all shared characters with their minimum count from both maps:\r\n    a -&gt; min(2,3) = 2\r\n    b -&gt; not shared\r\n    c -&gt; min(2,1) = 1\r\n    d -&gt; not shared\r\n\r\nI guess this could be implemented in a cool way using the Stream API, but it would be quite a complex statement, not sure whether you have experience with Streams.\r\n\r\nedit: Here&#39;s one solution using Streams. I bet there are better ones, both performance-wise and from its approach, but it&#39;s the first thing that I tried:\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(commonCharacterCount(&quot;aabcc&quot;,&quot;adcaa&quot;));\r\n    }\r\n    \r\n    public static int commonCharacterCount(String s1, String s2) {\r\n        Map&lt;Character, Integer&gt; s1CharacterCount = getCharacterCount(s1);\r\n        Map&lt;Character, Integer&gt; s2CharacterCount = getCharacterCount(s2);\r\n        return s1CharacterCount.keySet().stream()\r\n                .filter(s2CharacterCount.keySet()::contains)\r\n                .mapToInt(c -&gt; Math.min(s1CharacterCount.get(c), s2CharacterCount.get(c)))\r\n                .sum();\r\n    }\r\n    \r\n    public static Map&lt;Character, Integer&gt; getCharacterCount(String s) {\r\n        Map&lt;Character, Integer&gt; characterCount = new HashMap&lt;&gt;();\r\n        for (char c: s.toCharArray()) {\r\n            characterCount.put(c, characterCount.computeIfAbsent(c, count -&gt; 0) + 1);\r\n        }\r\n        return characterCount;\r\n    }\r\n\r\n","title":"Getting the common character count between two strings","body":"<p>You could go for maps. It may not be the best solution in terms of performance, but imo one that is intuitive to understand. First, iterate each string and collect each of its (distinct) characters with their appearance count. Then, compare the keysets of both maps (i.e. the characters) and for each character you find in both maps, store it together with its minimum appearance count from both maps. So something like this:</p>\n\n<pre><code>// first collect characters with their appearance count in maps:\n\"aabcc\" -&gt; 2xa, 1xb, 2xc\n\"adcaa\" -&gt; 3xa, 1xc, 1xd\n\n// now, get all shared characters with their minimum count from both maps:\na -&gt; min(2,3) = 2\nb -&gt; not shared\nc -&gt; min(2,1) = 1\nd -&gt; not shared\n</code></pre>\n\n<p>I guess this could be implemented in a cool way using the Stream API, but it would be quite a complex statement, not sure whether you have experience with Streams.</p>\n\n<p>edit: Here's one solution using Streams. I bet there are better ones, both performance-wise and from its approach, but it's the first thing that I tried:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(commonCharacterCount(\"aabcc\",\"adcaa\"));\n}\n\npublic static int commonCharacterCount(String s1, String s2) {\n    Map&lt;Character, Integer&gt; s1CharacterCount = getCharacterCount(s1);\n    Map&lt;Character, Integer&gt; s2CharacterCount = getCharacterCount(s2);\n    return s1CharacterCount.keySet().stream()\n            .filter(s2CharacterCount.keySet()::contains)\n            .mapToInt(c -&gt; Math.min(s1CharacterCount.get(c), s2CharacterCount.get(c)))\n            .sum();\n}\n\npublic static Map&lt;Character, Integer&gt; getCharacterCount(String s) {\n    Map&lt;Character, Integer&gt; characterCount = new HashMap&lt;&gt;();\n    for (char c: s.toCharArray()) {\n        characterCount.put(c, characterCount.computeIfAbsent(c, count -&gt; 0) + 1);\n    }\n    return characterCount;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523898588,"creation_date":1523898588,"answer_id":49862800,"question_id":49862273,"body_markdown":"Create a map of the letter counts for each string you give it. Then compare the keys to one another and if the letter is contained in both words, grab the lowest count from the two maps. Try this\r\n\r\n    public static void main(String[] args)\r\n\t{\r\n\t\tString str1 = &quot;aabbcc&quot;;\r\n\t\tString str2 = &quot;abcddc&quot;;\r\n\t\tHashMap&lt;Character, Integer&gt; str1LetterCounts = createLetterCountMap(str1);\r\n\t\tHashMap&lt;Character, Integer&gt; str2LetterCounts = createLetterCountMap(str2);\r\n\t\t\r\n\t\tHashMap&lt;Character, Integer&gt; commonCounts = new HashMap&lt;&gt;();\r\n\t\t\r\n\t\tSet&lt;Character&gt; possibleCommonCharacterList = str1LetterCounts.keySet();\r\n\t\t\r\n\t\tfor(Character letter : possibleCommonCharacterList)\r\n\t\t{\r\n\t\t\tif(str2LetterCounts.containsKey(letter))\r\n\t\t\t{\r\n\t\t\t\tInteger count1 = str1LetterCounts.get(letter);\r\n\t\t\t\tInteger count2 = str2LetterCounts.get(letter);\r\n\t\t\t\tcommonCounts.put(letter, count1 &lt;= count2 ? count1 : count2);\r\n\t\t\t\tSystem.out.println(&quot;Common Character &quot; + letter + &quot; : &quot; + (count1 &lt;= count2 ? count1 : count2));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static HashMap&lt;Character, Integer&gt; createLetterCountMap(String word)\r\n\t{\r\n\t\tHashMap&lt;Character, Integer&gt; letterCountsForWord = new HashMap&lt;&gt;();\r\n\t\tfor(int i = 0; i &lt; word.length(); i++)\r\n\t\t{\r\n\t\t\tCharacter key = word.charAt(i);\r\n\t\t\tif(letterCountsForWord.containsKey(key))\r\n\t\t\t{\r\n\t\t\t\tletterCountsForWord.put(key, letterCountsForWord.get(key) + 1);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tletterCountsForWord.put(key, 1);\r\n\t\t}\r\n\t\t\r\n\t\treturn letterCountsForWord;\r\n\t}\r\n\r\nOutput\r\n\r\n\r\n    Common Character a : 1\r\n    Common Character b : 1\r\n    Common Character c : 2\r\n\r\n","title":"Getting the common character count between two strings","body":"<p>Create a map of the letter counts for each string you give it. Then compare the keys to one another and if the letter is contained in both words, grab the lowest count from the two maps. Try this</p>\n\n<pre><code>public static void main(String[] args)\n{\n    String str1 = \"aabbcc\";\n    String str2 = \"abcddc\";\n    HashMap&lt;Character, Integer&gt; str1LetterCounts = createLetterCountMap(str1);\n    HashMap&lt;Character, Integer&gt; str2LetterCounts = createLetterCountMap(str2);\n\n    HashMap&lt;Character, Integer&gt; commonCounts = new HashMap&lt;&gt;();\n\n    Set&lt;Character&gt; possibleCommonCharacterList = str1LetterCounts.keySet();\n\n    for(Character letter : possibleCommonCharacterList)\n    {\n        if(str2LetterCounts.containsKey(letter))\n        {\n            Integer count1 = str1LetterCounts.get(letter);\n            Integer count2 = str2LetterCounts.get(letter);\n            commonCounts.put(letter, count1 &lt;= count2 ? count1 : count2);\n            System.out.println(\"Common Character \" + letter + \" : \" + (count1 &lt;= count2 ? count1 : count2));\n        }\n    }\n\n}\n\npublic static HashMap&lt;Character, Integer&gt; createLetterCountMap(String word)\n{\n    HashMap&lt;Character, Integer&gt; letterCountsForWord = new HashMap&lt;&gt;();\n    for(int i = 0; i &lt; word.length(); i++)\n    {\n        Character key = word.charAt(i);\n        if(letterCountsForWord.containsKey(key))\n        {\n            letterCountsForWord.put(key, letterCountsForWord.get(key) + 1);\n        }\n        else\n            letterCountsForWord.put(key, 1);\n    }\n\n    return letterCountsForWord;\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>Common Character a : 1\nCommon Character b : 1\nCommon Character c : 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26730749,"reputation":1,"user_id":20333138,"display_name":"fatih karaca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673246240,"creation_date":1672335511,"answer_id":74954347,"question_id":49862273,"body_markdown":"    int solution(String s1, String s2) {\r\n        int count = 0;\r\n        String[] arr1 = s1.split(&quot;&quot;);\r\n        String[] arr2 = s2.split(&quot;&quot;);//I did split 2 Strings\r\n\r\n        for (int i = 0; i &lt; s1.length(); i++) {\r\n            String s = arr1[i];//anymatch operator complaining if I directly give arr[i]\r\n            if (Arrays.stream(arr2).anyMatch(t -&gt; t.equals(s))) {\r\n                for (int j = 0; j &lt; arr2.length; j++) {\r\n                    if (arr2[j].equals(arr1[i])) {\r\n                        arr2[j] = &quot;&quot;;\r\n                        break;\r\n                    }\r\n                }\r\n                arr1[i] = &quot;&quot;;\r\n\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }","title":"Getting the common character count between two strings","body":"<pre><code>int solution(String s1, String s2) {\n    int count = 0;\n    String[] arr1 = s1.split(&quot;&quot;);\n    String[] arr2 = s2.split(&quot;&quot;);//I did split 2 Strings\n\n    for (int i = 0; i &lt; s1.length(); i++) {\n        String s = arr1[i];//anymatch operator complaining if I directly give arr[i]\n        if (Arrays.stream(arr2).anyMatch(t -&gt; t.equals(s))) {\n            for (int j = 0; j &lt; arr2.length; j++) {\n                if (arr2[j].equals(arr1[i])) {\n                    arr2[j] = &quot;&quot;;\n                    break;\n                }\n            }\n            arr1[i] = &quot;&quot;;\n\n            count++;\n        }\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"display_name":"user9372262"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4294,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49862641,"answer_count":5,"score":2,"last_activity_date":1673246240,"creation_date":1523896791,"question_id":49862273,"body_markdown":"&gt; Given two strings, find the number of common characters between them.\r\n&gt; \r\n&gt; Example\r\n&gt; \r\n&gt; For s1 = &quot;aabcc&quot; and s2 = &quot;adcaa&quot;, the output should be\r\n&gt; commonCharacterCount(s1, s2) = 3.\r\n&gt; \r\n&gt; Strings have 3 common characters - 2 &quot;a&quot;s and 1 &quot;c&quot;.\r\n\r\nI&#39;ve been stuck on this problem for quite a bit and I&#39;ve tried many approaches to solving this problem, but I cannot quite figure it out. I have the principal idea of how to solve it, but I cannot transfer that to code.\r\n\r\nWhat my approach is to put the string&#39;s characters in their own ArrayList and use nested loops to iterate through them comparing the similar characters and storing the count in a int value. I don&#39;t have any code because I have tried many different attempts varying my code, but no luck.\r\n\r\nI used two nested for loops that are separate from each other like this:\r\n\r\n    for(int i = 0; i&lt;firstString.size(); i++){\r\n        for(int j = 0; j&lt;secondString.size(); j++){\r\n            if(firstString.get(i) == secondString.get(j){\r\n                lettersInCommon++;\r\n                secondString.remove(j);\r\n                }\r\n            }\r\n    }\r\nAnd\r\n\r\n    for(int i = 0; i&lt;secondString.size(); i++){\r\n        for(int j = 0; j&lt;firstString.size(); j++){\r\n            if(firstString.get(i) == secondString.get(j){\r\n                lettersInCommon2++;\r\n                firstString.remove(i);\r\n                }\r\n            }\r\n    }\r\n\r\nSo after these loops run, I return the difference between the two lettersinCommon ints depending on their size to avoid negatives. So if lettersInCommon &gt; lettersInCommon2 -- return lettersInCommon - lettersInCommon2; and vice versa.\r\n\r\nI don&#39;t want anyone to tell me how to code this, I would only like advice towards my logic to see if I can simplify this problem or if I am missing something.\r\n\r\nI would also like to state that this code works for some test cases but not all.\r\n\r\nI&#39;ve been taking into account the comments I&#39;ve received and gotten this far:\r\n\r\n\tArrayList&lt;Character&gt; firstString = new ArrayList&lt;Character&gt;();\r\n\tArrayList&lt;Character&gt; secondString = new ArrayList&lt;Character&gt;();\r\n\tint lettersInCommon = 0;\r\n\t    \r\n\tfor(int i = 0; i&lt;s1.length(); i++){\r\n\t    firstString.add(s1.charAt(i));\r\n\t}\r\n\t    \r\n\tfor(int i = 0; i&lt;s2.length(); i++){\r\n\t    secondString.add(s2.charAt(i));\r\n\t}\r\n    Collections.sort(firstString);\r\n    Collections.sort(secondString);\r\n    for(char c : firstString){\r\n        if(firstString.contains(c) &amp;&amp; secondString.contains(c)){\r\n            lettersInCommon++;\r\n            secondString.remove(s2.indexOf(c));\r\n        }\r\n    }\r\n\r\nI am really close, but the error I get is an out of bounds exception on this line\r\n`secondString.remove(s2.indexOf(c));` \r\n\r\nDoes anyone have any insight on this?","title":"Getting the common character count between two strings","body":"<blockquote>\n  <p>Given two strings, find the number of common characters between them.</p>\n  \n  <p>Example</p>\n  \n  <p>For s1 = \"aabcc\" and s2 = \"adcaa\", the output should be\n  commonCharacterCount(s1, s2) = 3.</p>\n  \n  <p>Strings have 3 common characters - 2 \"a\"s and 1 \"c\".</p>\n</blockquote>\n\n<p>I've been stuck on this problem for quite a bit and I've tried many approaches to solving this problem, but I cannot quite figure it out. I have the principal idea of how to solve it, but I cannot transfer that to code.</p>\n\n<p>What my approach is to put the string's characters in their own ArrayList and use nested loops to iterate through them comparing the similar characters and storing the count in a int value. I don't have any code because I have tried many different attempts varying my code, but no luck.</p>\n\n<p>I used two nested for loops that are separate from each other like this:</p>\n\n<pre><code>for(int i = 0; i&lt;firstString.size(); i++){\n    for(int j = 0; j&lt;secondString.size(); j++){\n        if(firstString.get(i) == secondString.get(j){\n            lettersInCommon++;\n            secondString.remove(j);\n            }\n        }\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>for(int i = 0; i&lt;secondString.size(); i++){\n    for(int j = 0; j&lt;firstString.size(); j++){\n        if(firstString.get(i) == secondString.get(j){\n            lettersInCommon2++;\n            firstString.remove(i);\n            }\n        }\n}\n</code></pre>\n\n<p>So after these loops run, I return the difference between the two lettersinCommon ints depending on their size to avoid negatives. So if lettersInCommon > lettersInCommon2 -- return lettersInCommon - lettersInCommon2; and vice versa.</p>\n\n<p>I don't want anyone to tell me how to code this, I would only like advice towards my logic to see if I can simplify this problem or if I am missing something.</p>\n\n<p>I would also like to state that this code works for some test cases but not all.</p>\n\n<p>I've been taking into account the comments I've received and gotten this far:</p>\n\n<pre><code>ArrayList&lt;Character&gt; firstString = new ArrayList&lt;Character&gt;();\nArrayList&lt;Character&gt; secondString = new ArrayList&lt;Character&gt;();\nint lettersInCommon = 0;\n\nfor(int i = 0; i&lt;s1.length(); i++){\n    firstString.add(s1.charAt(i));\n}\n\nfor(int i = 0; i&lt;s2.length(); i++){\n    secondString.add(s2.charAt(i));\n}\nCollections.sort(firstString);\nCollections.sort(secondString);\nfor(char c : firstString){\n    if(firstString.contains(c) &amp;&amp; secondString.contains(c)){\n        lettersInCommon++;\n        secondString.remove(s2.indexOf(c));\n    }\n}\n</code></pre>\n\n<p>I am really close, but the error I get is an out of bounds exception on this line\n<code>secondString.remove(s2.indexOf(c));</code> </p>\n\n<p>Does anyone have any insight on this?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2341,"user_id":20440272,"display_name":"Sohaib Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673206476,"creation_date":1673206476,"answer_id":75050711,"question_id":75050155,"body_markdown":"Just rebuild your project and run again","title":"android button id declaration","body":"<p>Just rebuild your project and run again</p>\n"},{"tags":[],"owner":{"account_id":27473350,"reputation":1,"user_id":20961793,"display_name":"Steven Adriano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673236510,"creation_date":1673236510,"answer_id":75053041,"question_id":75050155,"body_markdown":"Sometimes it is a bug in android studio, you can try close and reopen Android Studio. If it doesn&#39;t work, you can invalidate caches or clean project and rebuild it.","title":"android button id declaration","body":"<p>Sometimes it is a bug in android studio, you can try close and reopen Android Studio. If it doesn't work, you can invalidate caches or clean project and rebuild it.</p>\n"},{"tags":[],"owner":{"account_id":26814613,"reputation":1,"user_id":20404727,"display_name":"sourav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673245664,"creation_date":1673245664,"answer_id":75053811,"question_id":75050155,"body_markdown":"Just click on Invalidate Caches from top Toolbar (File) ,  and then click on Invalidate &amp; Restart. Thank You","title":"android button id declaration","body":"<p>Just click on Invalidate Caches from top Toolbar (File) ,  and then click on Invalidate &amp; Restart. Thank You</p>\n"}],"owner":{"account_id":27330058,"reputation":47,"user_id":20842337,"display_name":"Sumita Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75050711,"answer_count":3,"score":0,"last_activity_date":1673245664,"creation_date":1673200847,"question_id":75050155,"body_markdown":"I have set the button id in xml file but while I tried to find the id of the button it showing an error\r\nxml file\r\n```\r\n&lt;androidx.appcompat.widget.AppCompatButton\r\n        android:id=&quot;@+id/btnrotation&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/rorationbtn&quot;\r\n        android:layout_below=&quot;@+id/imgbox&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;&gt;\r\n    &lt;/androidx.appcompat.widget.AppCompatButton&gt;\r\n```\r\njava file\r\n```\r\npublic class rotation extends AppCompatActivity {\r\n    AppCompatButton rotate;\r\n    ImageView imgbox;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_rotation);\r\n        getSupportActionBar().setTitle(&quot;Rotation&quot;);\r\n        imgbox=findViewById(R.id.imgbox);\r\n        rotate=findViewById(R.id.btnrotation);\r\n\r\n    }\r\n```\r\nerror\r\ndoes not contain a declaration with id &#39;btnrotation&#39; \r\n","title":"android button id declaration","body":"<p>I have set the button id in xml file but while I tried to find the id of the button it showing an error\nxml file</p>\n<pre><code>&lt;androidx.appcompat.widget.AppCompatButton\n        android:id=&quot;@+id/btnrotation&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/rorationbtn&quot;\n        android:layout_below=&quot;@+id/imgbox&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:layout_marginTop=&quot;50dp&quot;&gt;\n    &lt;/androidx.appcompat.widget.AppCompatButton&gt;\n</code></pre>\n<p>java file</p>\n<pre><code>public class rotation extends AppCompatActivity {\n    AppCompatButton rotate;\n    ImageView imgbox;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_rotation);\n        getSupportActionBar().setTitle(&quot;Rotation&quot;);\n        imgbox=findViewById(R.id.imgbox);\n        rotate=findViewById(R.id.btnrotation);\n\n    }\n</code></pre>\n<p>error\ndoes not contain a declaration with id 'btnrotation'</p>\n"},{"tags":["java","oauth","authorization","keycloak"],"comments":[{"owner":{"account_id":241356,"reputation":565,"user_id":512116,"accept_rate":56,"display_name":"pls"},"score":0,"creation_date":1675750858,"post_id":73412895,"comment_id":132990678,"body_markdown":"We have very similar requirements and are about to adopt keycloak for the same purpose. Can you share the solution you ended for (1) implementing multitenancy in keycloak (per realm/groups/other) (2) managing user access right/permissions/roles?","body":"We have very similar requirements and are about to adopt keycloak for the same purpose. Can you share the solution you ended for (1) implementing multitenancy in keycloak (per realm/groups/other) (2) managing user access right/permissions/roles?"}],"owner":{"account_id":6507730,"reputation":89,"user_id":5036095,"display_name":"umaid ashraf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673245562,"creation_date":1660892114,"question_id":73412895,"body_markdown":"We have a multi-tenant (used by multiple organizations) application in Java Spring Boot. We have to implement authentication as well as authorization in such a way that; \r\n1. There can be multiple users in an organization and a user can also be part of multiple organizations.\r\n2. At a time user can view data of only one organization but he can simply switch between organizations.\r\n3. In an organization, there can be multiple teams.\r\n4. A user can have different level of access/permissions for each team. Like maybe a user A is manager of team 1 and same time he can be member of team 2 etc. \r\n\r\nWe are planning to use keycloak for IAM. So the question is, either this type of access management will be possible to achieve in keycloak or we have to manage these permissions on database level in code? And for multi-tenancy, a separate realm for each tenant will be good or we should go for single realm and multiple groups?\r\n\r\nLooking for expert opinions.","title":"Managing organization structure and permissions with keycloak","body":"<p>We have a multi-tenant (used by multiple organizations) application in Java Spring Boot. We have to implement authentication as well as authorization in such a way that;</p>\n<ol>\n<li>There can be multiple users in an organization and a user can also be part of multiple organizations.</li>\n<li>At a time user can view data of only one organization but he can simply switch between organizations.</li>\n<li>In an organization, there can be multiple teams.</li>\n<li>A user can have different level of access/permissions for each team. Like maybe a user A is manager of team 1 and same time he can be member of team 2 etc.</li>\n</ol>\n<p>We are planning to use keycloak for IAM. So the question is, either this type of access management will be possible to achieve in keycloak or we have to manage these permissions on database level in code? And for multi-tenancy, a separate realm for each tenant will be good or we should go for single realm and multiple groups?</p>\n<p>Looking for expert opinions.</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":14450412,"reputation":41,"user_id":10438125,"display_name":"Ac. Selvan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673245226,"creation_date":1673089015,"question_id":75039748,"body_markdown":"    package com.example.camerastatuscheck;\r\n    \r\n    import static android.content.ContentValues.TAG;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    \r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    import android.hardware.camera2.CameraAccessException;\r\n    import android.hardware.camera2.CameraCharacteristics;\r\n    import android.hardware.camera2.CameraManager;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\r\n        public static final String ACTION_USB_PERMISSION = &quot;com.example.usbtestapp.USB_PERMISSION&quot;;\r\n        static final int intentFlags = android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S ? PendingIntent.FLAG_MUTABLE : 0;\r\n        static final int MY_CAMERA_PERMISSION_CODE = 100;\r\n        private Context ContextofMainAcitivity;\r\n        public IntentFilter USBconnectdisconnect_intentFilter;\r\n        public Intent GetEXTRA_PERMISSION_GRANTEDIntent;\r\n        public PendingIntent current_usbpermissionIntent;\r\n        public UsbDevice current_usbdevice;\r\n        public UsbManager current_usbManager;\r\n        private static final String TAG = &quot;usbtestapp&quot;;\r\n        TextureView new_textureview;\r\n        Button new_open_camera,nextactivity;\r\n        UsbDeviceConnection usbConnection;\r\n        PendingIntent permissionIntent;\r\n        private static final int REQUEST_CAMERA_PERMISSION = 200;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            camera_start();\r\n        }\r\n        private void camera_start() {\r\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED ) {\r\n                ActivityCompat.requestPermissions(fornewpos.this, new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\r\n                return;\r\n            }\r\n            Log.d(&quot;camera start&quot;, &quot;success&quot;);\r\n            UsbManager manager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n    \r\n            HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\r\n            Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\r\n            while(deviceIterator.hasNext()){\r\n                UsbDevice device = deviceIterator.next();\r\n                manager.requestPermission(device, permissionIntent);;\r\n                //your code\r\n            }\r\n            Log.d(&quot;Camrea srtart&quot;,&quot;camera start&quot;);\r\n            CameraManager manager =\r\n                    (CameraManager)getSystemService(CAMERA_SERVICE);\r\n            try {\r\n                for (String cameraId : manager.getCameraIdList()) {\r\n                    CameraCharacteristics chars\r\n                            = manager.getCameraCharacteristics(cameraId);\r\n                    // Do something with the characteristics\r\n                    int deviceLevel = chars.get(CameraCharacteristics.INFO_SUPPORTED_HARDWARE_LEVEL);\r\n                    Log.d(TAG, &quot; **** device [&quot;+cameraId+&quot;] level:&quot;+deviceLevel);\r\n                    Toast.makeText(getApplicationContext(), &quot;cameraId&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            } catch(CameraAccessException e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if (requestCode == REQUEST_CAMERA_PERMISSION) {\r\n                if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\r\n                    // close the app\r\n                    Toast.makeText(MainActivity.this, &quot;Sorry!!!, you can&#39;t use this app without granting permission&quot;, Toast.LENGTH_LONG).show();\r\n                    finish();\r\n                }\r\n            }\r\n        }\r\n    private final BroadcastReceiver usbReceiver = new BroadcastReceiver() {\r\n    \r\n            public void onReceive(Context context, Intent intent) {\r\n                String action = intent.getAction();\r\n                if (ACTION_USB_PERMISSION.equals(action)) {\r\n                    synchronized (this) {\r\n                        UsbDevice device = (UsbDevice)intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n    \r\n                        if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n                            if(device != null){\r\n                                Toast.makeText(context, &quot;Permission granded&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                        else {\r\n                            Toast.makeText(context, &quot;Permission denied&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    public boolean supportsExternalCameras() {\r\n            return this.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_EXTERNAL);\r\n        }\r\n    }\r\n\r\n\r\n## Log ##\r\n&gt; 2023-01-07 15:31:55.318 23651-23651 libc                    com.example.cmaera5                  E  Access denied finding property &quot;vendor.camera.aux.packagelist&quot;\r\n\r\n## AndroidManifest ##\r\n\r\n    &lt;uses-feature\r\n            android:name=&quot;android.hardware.camera&quot;\r\n            android:required=&quot;true&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    \r\n        &lt;uses-feature android:name=&quot;android.hardware.camera2.full&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.usb.accessory&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.usb&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n\r\n## Description ##\r\n\r\nI have been using the above code to capture an image from an External USB Camera (Web Cam). This code is working perfectly on most devices, but on some device, it throws \r\n\r\n&gt; 2023-01-07 15:31:55.318 23651-23651 libc   com.example.cmaera5  E \r\n&gt; Access denied finding property &quot;vendor.camera.aux.packagelist&quot;\r\n\r\nIn some devices it shows the above error message in logcat while trying to get the camera ID to open the camera \r\n\r\nI gave permission to camera, external storage and USB device\r\n\r\n## The device Configuration that shows the error ##\r\n1. Android OS version: 9.0 \r\n1. API Level         : 28\r\n\r\nPlease provide me with an explanation of what is happening.\r\n\r\n\r\n","title":"Camera 2 API throws Access denied finding property &quot;vendor.camera.aux.packagelist&quot;","body":"<pre><code>package com.example.camerastatuscheck;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.hardware.camera2.CameraAccessException;\nimport android.hardware.camera2.CameraCharacteristics;\nimport android.hardware.camera2.CameraManager;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\nprivate static final int REQUEST_CAMERA_PERMISSION = 200;\n    public static final String ACTION_USB_PERMISSION = &quot;com.example.usbtestapp.USB_PERMISSION&quot;;\n    static final int intentFlags = android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.S ? PendingIntent.FLAG_MUTABLE : 0;\n    static final int MY_CAMERA_PERMISSION_CODE = 100;\n    private Context ContextofMainAcitivity;\n    public IntentFilter USBconnectdisconnect_intentFilter;\n    public Intent GetEXTRA_PERMISSION_GRANTEDIntent;\n    public PendingIntent current_usbpermissionIntent;\n    public UsbDevice current_usbdevice;\n    public UsbManager current_usbManager;\n    private static final String TAG = &quot;usbtestapp&quot;;\n    TextureView new_textureview;\n    Button new_open_camera,nextactivity;\n    UsbDeviceConnection usbConnection;\n    PendingIntent permissionIntent;\n    private static final int REQUEST_CAMERA_PERMISSION = 200;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        camera_start();\n    }\n    private void camera_start() {\nif (ActivityCompat.checkSelfPermission(this, Manifest.permission.CAMERA) != PackageManager.PERMISSION_GRANTED ) {\n            ActivityCompat.requestPermissions(fornewpos.this, new String[]{Manifest.permission.CAMERA}, REQUEST_CAMERA_PERMISSION);\n            return;\n        }\n        Log.d(&quot;camera start&quot;, &quot;success&quot;);\n        UsbManager manager = (UsbManager) getSystemService(Context.USB_SERVICE);\n\n        HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\n        Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\n        while(deviceIterator.hasNext()){\n            UsbDevice device = deviceIterator.next();\n            manager.requestPermission(device, permissionIntent);;\n            //your code\n        }\n        Log.d(&quot;Camrea srtart&quot;,&quot;camera start&quot;);\n        CameraManager manager =\n                (CameraManager)getSystemService(CAMERA_SERVICE);\n        try {\n            for (String cameraId : manager.getCameraIdList()) {\n                CameraCharacteristics chars\n                        = manager.getCameraCharacteristics(cameraId);\n                // Do something with the characteristics\n                int deviceLevel = chars.get(CameraCharacteristics.INFO_SUPPORTED_HARDWARE_LEVEL);\n                Log.d(TAG, &quot; **** device [&quot;+cameraId+&quot;] level:&quot;+deviceLevel);\n                Toast.makeText(getApplicationContext(), &quot;cameraId&quot;, Toast.LENGTH_SHORT).show();\n            }\n        } catch(CameraAccessException e){\n            e.printStackTrace();\n        }\n    }\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_CAMERA_PERMISSION) {\n            if (grantResults[0] == PackageManager.PERMISSION_DENIED) {\n                // close the app\n                Toast.makeText(MainActivity.this, &quot;Sorry!!!, you can't use this app without granting permission&quot;, Toast.LENGTH_LONG).show();\n                finish();\n            }\n        }\n    }\nprivate final BroadcastReceiver usbReceiver = new BroadcastReceiver() {\n\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (ACTION_USB_PERMISSION.equals(action)) {\n                synchronized (this) {\n                    UsbDevice device = (UsbDevice)intent.getParcelableExtra(UsbManager.EXTRA_DEVICE);\n\n                    if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\n                        if(device != null){\n                            Toast.makeText(context, &quot;Permission granded&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                    else {\n                        Toast.makeText(context, &quot;Permission denied&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        }\n    };\npublic boolean supportsExternalCameras() {\n        return this.getPackageManager().hasSystemFeature(PackageManager.FEATURE_CAMERA_EXTERNAL);\n    }\n}\n</code></pre>\n<h2>Log</h2>\n<blockquote>\n<p>2023-01-07 15:31:55.318 23651-23651 libc                    com.example.cmaera5                  E  Access denied finding property &quot;vendor.camera.aux.packagelist&quot;</p>\n</blockquote>\n<h2>AndroidManifest</h2>\n<pre><code>&lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;uses-feature android:name=&quot;android.hardware.camera2.full&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.usb.accessory&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.usb&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n</code></pre>\n<h2>Description</h2>\n<p>I have been using the above code to capture an image from an External USB Camera (Web Cam). This code is working perfectly on most devices, but on some device, it throws</p>\n<blockquote>\n<p>2023-01-07 15:31:55.318 23651-23651 libc   com.example.cmaera5  E\nAccess denied finding property &quot;vendor.camera.aux.packagelist&quot;</p>\n</blockquote>\n<p>In some devices it shows the above error message in logcat while trying to get the camera ID to open the camera</p>\n<p>I gave permission to camera, external storage and USB device</p>\n<h2>The device Configuration that shows the error</h2>\n<ol>\n<li>Android OS version: 9.0</li>\n<li>API Level         : 28</li>\n</ol>\n<p>Please provide me with an explanation of what is happening.</p>\n"},{"tags":["java","gradle","intellij-idea","jar","program-entry-point"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673213103,"post_id":75051324,"comment_id":132442404,"body_markdown":"The only reason `ImageIO.read` will return `null` is if the image is not a supported image format - there&#39;s not enough context to be sure, but I&#39;d be making sure that the images you&#39;re trying to load are included within your resulting jar.  Also, your question title doesn&#39;t match you question, which is very confusing","body":"The only reason <code>ImageIO.read</code> will return <code>null</code> is if the image is not a supported image format - there&#39;s not enough context to be sure, but I&#39;d be making sure that the images you&#39;re trying to load are included within your resulting jar.  Also, your question title doesn&#39;t match you question, which is very confusing"},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673213971,"post_id":75051324,"comment_id":132442574,"body_markdown":"What about is confusing? I&#39;m having trouble building the jar. It&#39;s finding a .png. Click the link here: https://i.stack.imgur.com/ZFIWe.png , as you can see, i&#39;m not having issues with my program in intellij. I am having issues with .jar","body":"What about is confusing? I&#39;m having trouble building the jar. It&#39;s finding a .png. Click the link here: <a href=\"https://i.stack.imgur.com/ZFIWe.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/ZFIWe.png</a> , as you can see, i&#39;m not having issues with my program in intellij. I am having issues with .jar"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673215106,"post_id":75051324,"comment_id":132442742,"body_markdown":"Title: `&quot;no main manifest attribute, in app.jar&quot;`; Question: `Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.awt.image.BufferedImage.getSubimage(int, int, int, int)&quot; because &quot;img&quot; is null` - Those are two different issues, so, which problem are we actually looking at","body":"Title: <code>&quot;no main manifest attribute, in app.jar&quot;</code>; Question: <code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.awt.image.BufferedImage.getSubimage(int, int, int, int)&quot; because &quot;img&quot; is null</code> - Those are two different issues, so, which problem are we actually looking at"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673215127,"post_id":75051324,"comment_id":132442748,"body_markdown":"Unzip the Jar - make sure the image files are included. [Add resources and config files to your JAR using Gradle](https://stackoverflow.com/questions/24724383/add-resources-and-config-files-to-your-jar-using-gradle) might also be worth a look","body":"Unzip the Jar - make sure the image files are included. <a href=\"https://stackoverflow.com/questions/24724383/add-resources-and-config-files-to-your-jar-using-gradle\">Add resources and config files to your JAR using Gradle</a> might also be worth a look"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673215334,"post_id":75051324,"comment_id":132442786,"body_markdown":"What is the value of `fileName`?","body":"What is the value of <code>fileName</code>?"},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673215476,"post_id":75051324,"comment_id":132442804,"body_markdown":"Sorry for the confusion of the title and the question. The error that i receive is not relevant, for it does not appear outside of running the jar. My problem is that my jar is not properly building.","body":"Sorry for the confusion of the title and the question. The error that i receive is not relevant, for it does not appear outside of running the jar. My problem is that my jar is not properly building."},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673215741,"post_id":75051324,"comment_id":132442847,"body_markdown":"Unzipping the jar I see there are no resource folders, and no image files. The link that you have sent has a depreciated solution.","body":"Unzipping the jar I see there are no resource folders, and no image files. The link that you have sent has a depreciated solution."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673215879,"post_id":75051324,"comment_id":132442866,"body_markdown":"That should already have been taken care of, using IntelliJ","body":"That should already have been taken care of, using IntelliJ"},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673216073,"post_id":75051324,"comment_id":132442890,"body_markdown":"fileName gets used in several places. It loads in more than one image file. When looking in the jar file with 7Zip, it appears that there is no resources folder, and there is no &quot;Main-Class: main.Main&quot; inside of the MANIFEST.mf, but every time that I try to change that, it reverts.","body":"fileName gets used in several places. It loads in more than one image file. When looking in the jar file with 7Zip, it appears that there is no resources folder, and there is no &quot;Main-Class: main.Main&quot; inside of the MANIFEST.mf, but every time that I try to change that, it reverts."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673216359,"post_id":75051324,"comment_id":132442931,"body_markdown":"I don&#39;t use IntelliJ but it seems like you need to find out how to define resources with it","body":"I don&#39;t use IntelliJ but it seems like you need to find out how to define resources with it"},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673216362,"post_id":75051324,"comment_id":132442934,"body_markdown":"I&#39;ve now tried to add this to the build.gradle:\n`jar {\n    from(&#39;src/main/resources&#39;) {\n        include &#39;**/*.*&#39;\n    }\n    manifest {\n\n        attributes &quot;Main-Class&quot;: &quot;Main&quot;\n    }\n}\nsourceSets {\n    main {\n        java {\n            srcDirs = [&#39;./src/main/java&#39;]\n        }\n        resources {\n            srcDirs = [&#39;./src/main/resources&#39;]\n        }\n    }\n}`\n\nHowever, this does not work. source; https://stackoverflow.com/questions/70466312/gradle-does-not-include-resource-folder-to-jar\n\n:/ I&#39;m so lost.","body":"I&#39;ve now tried to add this to the build.gradle: <code>jar {     from(&#39;src&#47;main&#47;resources&#39;) {         include &#39;**&#47;*.*&#39;     }     manifest {          attributes &quot;Main-Class&quot;: &quot;Main&quot;     } } sourceSets {     main {         java {             srcDirs = [&#39;.&#47;src&#47;main&#47;java&#39;]         }         resources {             srcDirs = [&#39;.&#47;src&#47;main&#47;resources&#39;]         }     } }</code>  However, this does not work. source; <a href=\"https://stackoverflow.com/questions/70466312/gradle-does-not-include-resource-folder-to-jar\" title=\"gradle does not include resource folder to jar\">stackoverflow.com/questions/70466312/&hellip;</a>  :/ I&#39;m so lost."},{"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"score":0,"creation_date":1673217185,"post_id":75051324,"comment_id":132443038,"body_markdown":"Found the solution: https://stackoverflow.com/questions/28337418/intellij-resources-not-in-built-artifact\n\nI&#39;m going to write a full response soon.","body":"Found the solution: <a href=\"https://stackoverflow.com/questions/28337418/intellij-resources-not-in-built-artifact\" title=\"intellij resources not in built artifact\">stackoverflow.com/questions/28337418/&hellip;</a>  I&#39;m going to write a full response soon."},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":0,"creation_date":1673256946,"post_id":75051324,"comment_id":132449252,"body_markdown":"Have you tried using the [Application plugin](https://docs.gradle.org/current/userguide/application_plugin.html)? It provides a convenient option for setting the main class.","body":"Have you tried using the <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow noreferrer\">Application plugin</a>? It provides a convenient option for setting the main class."}],"answers":[{"tags":[],"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673217914,"creation_date":1673217914,"answer_id":75051820,"question_id":75051324,"body_markdown":"Found the solution by looking [here][1]\r\nI solved this answer by doing as follows:\r\n\r\nI added this to the build.gradle file, although this didn&#39;t seem to do much, because I have to manually modify the MANIFEST.MF inside of the jar by using 7ZIP, but I&#39;ll get to that in a bit. this is what i added:\r\n\r\n    jar {\r\n    from(&#39;src/main/resources&#39;) {\r\n        include &#39;**/*.*&#39;\r\n    }\r\n    manifest {\r\n        attributes &quot;Main-Class&quot;: &quot;main.Main&quot;\r\n    }\r\n}\r\n\r\n\r\nAfter this, I changed some things inside of the File &gt; Project Structure &gt; Artifacts. \r\n\r\nOh another thing, when using the + sign to create the .jar file in the &gt;Artifacts section, do &quot;copy output to director and link manifest&quot; change the directory from `\\src\\main\\java` to `\\src\\main\\resources`\r\n\r\nAfter this, add the &#39;resources&#39; to the jar by pressing the + dropdown *inside of Output Layout* and select the `resources` folder. \r\n\r\nImages:\r\n\r\n[This is a link to what I&#39;ve added.][2]\r\n\r\n\r\n[And this is how i&#39;ve added it.][3]\r\n\r\nAfter this, it should add the resource folders to the inside of the .jar.\r\n\r\nBut that&#39;s not it. Rebuild/Build the jar again with Build &gt; Build Artifacts &gt; Build.\r\n\r\nAnd then use 7Zip or WinRar to open the .jar archive. Go inside of META-INF --&gt; MANIFEST.MF and drag it somewhere. I used my desktop.\r\n\r\nOpen up that copy of the MANIFEST.MF and then add `Main-Class: main.Main` just below the line that says Manifest-Version: 1.0.\r\n\r\nthis is what my full MANIFEST.MF looks like. \r\n```\r\nManifest-Version: 1.0\r\nMain-Class: main.Main\r\nBuild-Date: 2021-09-22\r\nBuild-Revision: 9883ffa5ab9ddb27ce33f6d2ace9f6be16403f40\r\nBuild-Time: 20:54:36.897+0200\r\nBuilt-By: JUnit Team\r\nBundle-ManifestVersion: 2\r\nBundle-Name: JUnit Jupiter API\r\nBundle-SymbolicName: junit-jupiter-api\r\nBundle-Version: 5.8.1\r\nCreated-By: 11.0.12 (Eclipse Foundation 11.0.12+7)\r\nExport-Package: org.junit.jupiter.api;version=&quot;5.8.1&quot;;status=STABLE;uses\r\n :=&quot;kotlin,kotlin.jvm.functions,kotlin.jvm.internal,org.apiguardian.api,\r\n org.junit.jupiter.api.function,org.junit.jupiter.api.parallel,org.junit\r\n .platform.commons.annotation,org.opentest4j&quot;,org.junit.jupiter.api.cond\r\n ition;version=&quot;5.8.1&quot;;status=STABLE;uses:=&quot;org.apiguardian.api,org.juni\r\n t.jupiter.api.extension&quot;,org.junit.jupiter.api.extension;version=&quot;5.8.1\r\n &quot;;status=STABLE;uses:=&quot;org.apiguardian.api,org.junit.jupiter.api,org.ju\r\n nit.jupiter.api.function,org.junit.jupiter.api.parallel,org.junit.platf\r\n orm.commons&quot;,org.junit.jupiter.api.extension.support;version=&quot;5.8.1&quot;;st\r\n atus=EXPERIMENTAL;uses:=&quot;org.apiguardian.api,org.junit.jupiter.api.exte\r\n nsion&quot;,org.junit.jupiter.api.function;version=&quot;5.8.1&quot;;status=STABLE;use\r\n s:=&quot;org.apiguardian.api&quot;,org.junit.jupiter.api.io;version=&quot;5.8.1&quot;;statu\r\n s=EXPERIMENTAL;uses:=&quot;org.apiguardian.api&quot;,org.junit.jupiter.api.parall\r\n el;version=&quot;5.8.1&quot;;status=EXPERIMENTAL;uses:=&quot;org.apiguardian.api&quot;\r\nImplementation-Title: junit-jupiter-api\r\nImplementation-Vendor: junit.org\r\nImplementation-Version: 5.8.1\r\nImport-Package: org.apiguardian.api;resolution:=optional;version=&quot;[1.1,2\r\n )&quot;,org.junit.platform.commons.logging;status=INTERNAL;version=&quot;[1.8,2)&quot;\r\n ,kotlin;resolution:=optional,kotlin.collections;resolution:=optional,ko\r\n tlin.jvm.functions;resolution:=optional,kotlin.jvm.internal;resolution:\r\n =optional,org.junit.jupiter.api;version=&quot;[5.8,6)&quot;,org.junit.jupiter.api\r\n .extension;version=&quot;[5.8,6)&quot;,org.junit.jupiter.api.function;version=&quot;[5\r\n .8,6)&quot;,org.junit.jupiter.api.parallel;version=&quot;[5.8,6)&quot;,org.junit.platf\r\n orm.commons;version=&quot;[1.8,2)&quot;,org.junit.platform.commons.annotation;ver\r\n sion=&quot;[1.8,2)&quot;,org.junit.platform.commons.function;version=&quot;[1.8,2)&quot;,or\r\n g.junit.platform.commons.support;version=&quot;[1.8,2)&quot;,org.junit.platform.c\r\n ommons.util;version=&quot;[1.8,2)&quot;,org.opentest4j;version=&quot;[1.2,2)&quot;\r\nRequire-Capability: osgi.ee;filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=1.8))&quot;\r\nSpecification-Title: junit-jupiter-api\r\nSpecification-Vendor: junit.org\r\nSpecification-Version: 5.8.1\r\n\r\n\r\n```\r\n\r\nNow save this copy of the MANIFEST.MF file, and drag&amp;drop it into your .jar archive (that you have open still with 7Zip or WinRar. ) and replace the file inside with the one that you have created.\r\n\r\nNow run:\r\n```\r\njava -jar app.jar\r\n```\r\n\r\nLet me know if I&#39;ve got anything incorrect.\r\n\r\n  [1]: https://stackoverflow.com/questions/28337418/intellij-resources-not-in-built-artifact\r\n  [2]: https://i.stack.imgur.com/5s70j.png\r\n  [3]: https://i.stack.imgur.com/3BeTF.png","title":"Can&#39;t run .jar file created with IntelliJ / Gradle. &quot;no main manifest attribute, in app.jar&quot;","body":"<p>Found the solution by looking <a href=\"https://stackoverflow.com/questions/28337418/intellij-resources-not-in-built-artifact\">here</a>\nI solved this answer by doing as follows:</p>\n<p>I added this to the build.gradle file, although this didn't seem to do much, because I have to manually modify the MANIFEST.MF inside of the jar by using 7ZIP, but I'll get to that in a bit. this is what i added:</p>\n<pre><code>jar {\nfrom('src/main/resources') {\n    include '**/*.*'\n}\nmanifest {\n    attributes &quot;Main-Class&quot;: &quot;main.Main&quot;\n}\n</code></pre>\n<p>}</p>\n<p>After this, I changed some things inside of the File &gt; Project Structure &gt; Artifacts.</p>\n<p>Oh another thing, when using the + sign to create the .jar file in the &gt;Artifacts section, do &quot;copy output to director and link manifest&quot; change the directory from <code>\\src\\main\\java</code> to <code>\\src\\main\\resources</code></p>\n<p>After this, add the 'resources' to the jar by pressing the + dropdown <em>inside of Output Layout</em> and select the <code>resources</code> folder.</p>\n<p>Images:</p>\n<p><a href=\"https://i.stack.imgur.com/5s70j.png\" rel=\"nofollow noreferrer\">This is a link to what I've added.</a></p>\n<p><a href=\"https://i.stack.imgur.com/3BeTF.png\" rel=\"nofollow noreferrer\">And this is how i've added it.</a></p>\n<p>After this, it should add the resource folders to the inside of the .jar.</p>\n<p>But that's not it. Rebuild/Build the jar again with Build &gt; Build Artifacts &gt; Build.</p>\n<p>And then use 7Zip or WinRar to open the .jar archive. Go inside of META-INF --&gt; MANIFEST.MF and drag it somewhere. I used my desktop.</p>\n<p>Open up that copy of the MANIFEST.MF and then add <code>Main-Class: main.Main</code> just below the line that says Manifest-Version: 1.0.</p>\n<p>this is what my full MANIFEST.MF looks like.</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: main.Main\nBuild-Date: 2021-09-22\nBuild-Revision: 9883ffa5ab9ddb27ce33f6d2ace9f6be16403f40\nBuild-Time: 20:54:36.897+0200\nBuilt-By: JUnit Team\nBundle-ManifestVersion: 2\nBundle-Name: JUnit Jupiter API\nBundle-SymbolicName: junit-jupiter-api\nBundle-Version: 5.8.1\nCreated-By: 11.0.12 (Eclipse Foundation 11.0.12+7)\nExport-Package: org.junit.jupiter.api;version=&quot;5.8.1&quot;;status=STABLE;uses\n :=&quot;kotlin,kotlin.jvm.functions,kotlin.jvm.internal,org.apiguardian.api,\n org.junit.jupiter.api.function,org.junit.jupiter.api.parallel,org.junit\n .platform.commons.annotation,org.opentest4j&quot;,org.junit.jupiter.api.cond\n ition;version=&quot;5.8.1&quot;;status=STABLE;uses:=&quot;org.apiguardian.api,org.juni\n t.jupiter.api.extension&quot;,org.junit.jupiter.api.extension;version=&quot;5.8.1\n &quot;;status=STABLE;uses:=&quot;org.apiguardian.api,org.junit.jupiter.api,org.ju\n nit.jupiter.api.function,org.junit.jupiter.api.parallel,org.junit.platf\n orm.commons&quot;,org.junit.jupiter.api.extension.support;version=&quot;5.8.1&quot;;st\n atus=EXPERIMENTAL;uses:=&quot;org.apiguardian.api,org.junit.jupiter.api.exte\n nsion&quot;,org.junit.jupiter.api.function;version=&quot;5.8.1&quot;;status=STABLE;use\n s:=&quot;org.apiguardian.api&quot;,org.junit.jupiter.api.io;version=&quot;5.8.1&quot;;statu\n s=EXPERIMENTAL;uses:=&quot;org.apiguardian.api&quot;,org.junit.jupiter.api.parall\n el;version=&quot;5.8.1&quot;;status=EXPERIMENTAL;uses:=&quot;org.apiguardian.api&quot;\nImplementation-Title: junit-jupiter-api\nImplementation-Vendor: junit.org\nImplementation-Version: 5.8.1\nImport-Package: org.apiguardian.api;resolution:=optional;version=&quot;[1.1,2\n )&quot;,org.junit.platform.commons.logging;status=INTERNAL;version=&quot;[1.8,2)&quot;\n ,kotlin;resolution:=optional,kotlin.collections;resolution:=optional,ko\n tlin.jvm.functions;resolution:=optional,kotlin.jvm.internal;resolution:\n =optional,org.junit.jupiter.api;version=&quot;[5.8,6)&quot;,org.junit.jupiter.api\n .extension;version=&quot;[5.8,6)&quot;,org.junit.jupiter.api.function;version=&quot;[5\n .8,6)&quot;,org.junit.jupiter.api.parallel;version=&quot;[5.8,6)&quot;,org.junit.platf\n orm.commons;version=&quot;[1.8,2)&quot;,org.junit.platform.commons.annotation;ver\n sion=&quot;[1.8,2)&quot;,org.junit.platform.commons.function;version=&quot;[1.8,2)&quot;,or\n g.junit.platform.commons.support;version=&quot;[1.8,2)&quot;,org.junit.platform.c\n ommons.util;version=&quot;[1.8,2)&quot;,org.opentest4j;version=&quot;[1.2,2)&quot;\nRequire-Capability: osgi.ee;filter:=&quot;(&amp;(osgi.ee=JavaSE)(version=1.8))&quot;\nSpecification-Title: junit-jupiter-api\nSpecification-Vendor: junit.org\nSpecification-Version: 5.8.1\n\n\n</code></pre>\n<p>Now save this copy of the MANIFEST.MF file, and drag&amp;drop it into your .jar archive (that you have open still with 7Zip or WinRar. ) and replace the file inside with the one that you have created.</p>\n<p>Now run:</p>\n<pre><code>java -jar app.jar\n</code></pre>\n<p>Let me know if I've got anything incorrect.</p>\n"},{"tags":[],"owner":{"account_id":26885891,"reputation":26,"user_id":20465465,"display_name":"ITGeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673245087,"creation_date":1673245087,"answer_id":75053754,"question_id":75051324,"body_markdown":"RootCause:\r\nWhen you run self-executable jar, java will look for the Main-Class in MANIFEST.MF file located under META-INF folder. If it is not able to find an entry,then it will complain with Unable to execute jar- file: “no main manifest attribute”.\r\n\r\nTry to change your manifest attributes like:\r\n```\r\njar {\r\n  manifest {\r\n    attributes(\r\n      &#39;Main-Class&#39;: &#39;package.MainClass&#39;\r\n    )\r\n  }\r\n}\r\n```\r\nAnd then just change &#39;package.MainClass&#39; to &#39;&lt;your packagename&gt;.&lt;the name of your Main class&gt;&#39; (where your Main class has a main method). In this case, you make in your manifest an attribute, which point to this class, then a jar is running.\r\n\r\n**for adding it using CLI the following command will do the job:**\r\n```\r\njar cmvf META-INF/MANIFEST.MF &lt;new-jar-filename&gt;.jar  &lt;files to include&gt;\r\n```\r\n\r\nYou can also refer to this article https://www.javatpoint.com/no-main-manifest-attribute","title":"Can&#39;t run .jar file created with IntelliJ / Gradle. &quot;no main manifest attribute, in app.jar&quot;","body":"<p>RootCause:\nWhen you run self-executable jar, java will look for the Main-Class in MANIFEST.MF file located under META-INF folder. If it is not able to find an entry,then it will complain with Unable to execute jar- file: “no main manifest attribute”.</p>\n<p>Try to change your manifest attributes like:</p>\n<pre><code>jar {\n  manifest {\n    attributes(\n      'Main-Class': 'package.MainClass'\n    )\n  }\n}\n</code></pre>\n<p>And then just change 'package.MainClass' to '.' (where your Main class has a main method). In this case, you make in your manifest an attribute, which point to this class, then a jar is running.</p>\n<p><strong>for adding it using CLI the following command will do the job:</strong></p>\n<pre><code>jar cmvf META-INF/MANIFEST.MF &lt;new-jar-filename&gt;.jar  &lt;files to include&gt;\n</code></pre>\n<p>You can also refer to this article <a href=\"https://www.javatpoint.com/no-main-manifest-attribute\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/no-main-manifest-attribute</a></p>\n"}],"owner":{"account_id":26109201,"reputation":1,"user_id":19803425,"display_name":"Sage Belknap"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673245087,"creation_date":1673212277,"question_id":75051324,"body_markdown":"I&#39;ve followed the advice of other solutions. [Like this one.](https://stackoverflow.com/questions/9689793/cant-execute-jar-file-no-main-manifest-attribute)\r\n\r\n[And this one.](https://stackoverflow.com/questions/53830423/no-main-manifest-attribute-intellij)\r\n\r\n\r\n\r\nI&#39;ve also tried the solution belonging to [this](https://stackoverflow.com/questions/19250966/failing-to-run-jar-file-from-command-line-no-main-manifest-attribute)\r\n\r\n```\r\n$ java -cp app.jar main.Main\r\n\r\n```\r\nI get an error that would not normally occur when running the project inside of IntelliJ.\r\n\r\n\r\nHere is that error:\r\n```\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.awt.image.BufferedImage.getSubimage(int, int, int, int)&quot; because &quot;img&quot; is null\r\n        at entities.MiqoCharacter.loadAnimationMale(MiqoCharacter.java:280)\r\n        at entities.MiqoCharacter.&lt;init&gt;(MiqoCharacter.java:50)\r\n        at gamescreens.CharacterDisplayScreen.initClasses(CharacterDisplayScreen.java:33)\r\n        at gamescreens.CharacterDisplayScreen.&lt;init&gt;(CharacterDisplayScreen.java:27)\r\n        at main.Game.initClasses(Game.java:33)\r\n        at main.Game.&lt;init&gt;(Game.java:22)\r\n        at main.Main.main(Main.java:7)\r\n```\r\n\r\nLike I have stated, this error does not occur inside of the program itself. I believe that it has to do with the resources folder. \r\nThis is the method that is causing the errors.\r\n\r\n```\r\n public static BufferedImage GetSpriteAtlas(String fileName) {\r\n        BufferedImage img = null;\r\n        InputStream is = AssetLoader.class.getResourceAsStream(fileName);\r\n        if (is != null) {\r\n            try {\r\n\r\n                img = ImageIO.read(is);\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                try {\r\n\r\n                    is.close();\r\n\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        return img;\r\n    }\r\n```\r\n\r\nWhen running the full code inside of IntelliJ, I can see the program just fine. \r\n[Here is the GUI of the application displaying correctly when running inside of IntelliJ.](https://i.stack.imgur.com/ZFIWe.png)\r\n\r\n\r\nI have created the .jar file using IntelliJ, and I have built it using Gradle.\r\nthis is my build.gradle file.\r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\njar {\r\n    manifest {\r\n        attributes &quot;Main-Class&quot;: &quot;main.Main&quot;\r\n    }\r\n}\r\n\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n}\r\n\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nand here is my MANIFEST.MF\r\n\r\n```\r\nMain-Class: main.Main\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve tried to follow the advice of several threads on stack overflow as well as from videos on youtube. I can&#39;t seem to find the answer to this. And i get errors that would indicate that my .jar file had not compiled the contents of the resource folder, nor detect the Main class in my project. ","title":"Can&#39;t run .jar file created with IntelliJ / Gradle. &quot;no main manifest attribute, in app.jar&quot;","body":"<p>I've followed the advice of other solutions. <a href=\"https://stackoverflow.com/questions/9689793/cant-execute-jar-file-no-main-manifest-attribute\">Like this one.</a></p>\n<p><a href=\"https://stackoverflow.com/questions/53830423/no-main-manifest-attribute-intellij\">And this one.</a></p>\n<p>I've also tried the solution belonging to <a href=\"https://stackoverflow.com/questions/19250966/failing-to-run-jar-file-from-command-line-no-main-manifest-attribute\">this</a></p>\n<pre><code>$ java -cp app.jar main.Main\n\n</code></pre>\n<p>I get an error that would not normally occur when running the project inside of IntelliJ.</p>\n<p>Here is that error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.awt.image.BufferedImage.getSubimage(int, int, int, int)&quot; because &quot;img&quot; is null\n        at entities.MiqoCharacter.loadAnimationMale(MiqoCharacter.java:280)\n        at entities.MiqoCharacter.&lt;init&gt;(MiqoCharacter.java:50)\n        at gamescreens.CharacterDisplayScreen.initClasses(CharacterDisplayScreen.java:33)\n        at gamescreens.CharacterDisplayScreen.&lt;init&gt;(CharacterDisplayScreen.java:27)\n        at main.Game.initClasses(Game.java:33)\n        at main.Game.&lt;init&gt;(Game.java:22)\n        at main.Main.main(Main.java:7)\n</code></pre>\n<p>Like I have stated, this error does not occur inside of the program itself. I believe that it has to do with the resources folder.\nThis is the method that is causing the errors.</p>\n<pre><code> public static BufferedImage GetSpriteAtlas(String fileName) {\n        BufferedImage img = null;\n        InputStream is = AssetLoader.class.getResourceAsStream(fileName);\n        if (is != null) {\n            try {\n\n                img = ImageIO.read(is);\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n                try {\n\n                    is.close();\n\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        return img;\n    }\n</code></pre>\n<p>When running the full code inside of IntelliJ, I can see the program just fine.\n<a href=\"https://i.stack.imgur.com/ZFIWe.png\" rel=\"nofollow noreferrer\">Here is the GUI of the application displaying correctly when running inside of IntelliJ.</a></p>\n<p>I have created the .jar file using IntelliJ, and I have built it using Gradle.\nthis is my build.gradle file.</p>\n<pre><code>plugins {\n    id 'java'\n}\njar {\n    manifest {\n        attributes &quot;Main-Class&quot;: &quot;main.Main&quot;\n    }\n}\n\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n}\n\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>and here is my MANIFEST.MF</p>\n<pre><code>Main-Class: main.Main\n\n</code></pre>\n<p>I've tried to follow the advice of several threads on stack overflow as well as from videos on youtube. I can't seem to find the answer to this. And i get errors that would indicate that my .jar file had not compiled the contents of the resource folder, nor detect the Main class in my project.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":7728868,"reputation":336,"user_id":5852701,"display_name":"StealthSpoder"},"score":0,"creation_date":1570551948,"post_id":58290379,"comment_id":102945142,"body_markdown":"Awesome question.  I usually step through the debugger to find out what implementation is being used at that time, but there has to be a better way of doing this.","body":"Awesome question.  I usually step through the debugger to find out what implementation is being used at that time, but there has to be a better way of doing this."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":3,"creation_date":1570552651,"post_id":58290379,"comment_id":102945474,"body_markdown":"Well, the point of interfaces is to be able to exchange one implementation for another at runtime. Your example is quite trivial and it might seem as if the IDE should be able to &quot;know&quot; the actual type of `onyx` and `lassie` but think of a more complex scenario: what if some library, reflection code etc. would change those references? How would the IDE know which would be called at runtime? It&#39;s quite a hard if not impossible task (at least for arbitrary code) so the IDE will show you all usages that _could_ end up calling that single implementation.","body":"Well, the point of interfaces is to be able to exchange one implementation for another at runtime. Your example is quite trivial and it might seem as if the IDE should be able to &quot;know&quot; the actual type of <code>onyx</code> and <code>lassie</code> but think of a more complex scenario: what if some library, reflection code etc. would change those references? How would the IDE know which would be called at runtime? It&#39;s quite a hard if not impossible task (at least for arbitrary code) so the IDE will show you all usages that <i>could</i> end up calling that single implementation."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1570556552,"post_id":58290379,"comment_id":102947262,"body_markdown":"To illustrate Thomas’s point:  imagine a method `public static void barkTwice(Dog dog)`.  How would an IDE know which implementation is being passed as an argument?","body":"To illustrate Thomas’s point:  imagine a method <code>public static void barkTwice(Dog dog)</code>.  How would an IDE know which implementation is being passed as an argument?"},{"owner":{"account_id":4382459,"reputation":151,"user_id":3573712,"display_name":"user3573712"},"score":0,"creation_date":1570558976,"post_id":58290379,"comment_id":102948303,"body_markdown":"Yes - I couldn&#39;t think of a way that the IDE could know what the type is at runtime, but I thought maybe it could guess based on the way it was assigned in main.  I suppose I could search for instances of &quot;= new Lab()&quot; or of the constructor itself, but the real project I&#39;m working with uses spring - so there aren&#39;t any obvious constructors used. Searching through items.xml should work, but it&#39;s still not easy.","body":"Yes - I couldn&#39;t think of a way that the IDE could know what the type is at runtime, but I thought maybe it could guess based on the way it was assigned in main.  I suppose I could search for instances of &quot;= new Lab()&quot; or of the constructor itself, but the real project I&#39;m working with uses spring - so there aren&#39;t any obvious constructors used. Searching through items.xml should work, but it&#39;s still not easy."}],"answers":[{"tags":[],"owner":{"account_id":4382459,"reputation":151,"user_id":3573712,"display_name":"user3573712"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570638422,"creation_date":1570638422,"answer_id":58308484,"question_id":58290379,"body_markdown":"As the comments say, the implementation being used is determined at runtime, so Intellij can&#39;t limit usage results to one implementation. However, Intellij support suggested creating a custom scope to limit the usage search. That helps a bit, although creating a scope requires that you know the general area where you usage is, which is maybe what you were doing the usage search for in the first place. In my case, I could create a scope that only includes the code our company has made to the project. That reduced the results from 500+ to about 80. \r\n\r\nTo create a custom scope in Intellij, select File-settings-appearance &amp; behavior-Scopes. Click the plus sign in the middle of the dialog box, select local or shared, and give it a name. In the right half of the dialog box, you can include/exclude/include recursively/exclude recursively libraries, packages etc.\r\n\r\nThen when you do your find usages (or other searches) click the gear icon in the results and select your new scope in the drop down list. \r\n","title":"How to find usages of ONE implementation of an interface&#39;s method","body":"<p>As the comments say, the implementation being used is determined at runtime, so Intellij can't limit usage results to one implementation. However, Intellij support suggested creating a custom scope to limit the usage search. That helps a bit, although creating a scope requires that you know the general area where you usage is, which is maybe what you were doing the usage search for in the first place. In my case, I could create a scope that only includes the code our company has made to the project. That reduced the results from 500+ to about 80. </p>\n\n<p>To create a custom scope in Intellij, select File-settings-appearance &amp; behavior-Scopes. Click the plus sign in the middle of the dialog box, select local or shared, and give it a name. In the right half of the dialog box, you can include/exclude/include recursively/exclude recursively libraries, packages etc.</p>\n\n<p>Then when you do your find usages (or other searches) click the gear icon in the results and select your new scope in the drop down list. </p>\n"},{"tags":[],"owner":{"account_id":2759776,"reputation":959,"user_id":2376893,"display_name":"Chris J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673244340,"creation_date":1673244340,"answer_id":75053681,"question_id":58290379,"body_markdown":"I&#39;ve a similar case, where I&#39;ve to find the usage of external library, say for eg:\r\n\r\n    implementation &#39;com.android.volley:volley:1.1.1&#39;\r\nin my `Module:app` only. So, for this, go to\r\n\r\n`1. Project` in the left tab of android studio &gt; `Android` view &gt; Right Click `app` directory &gt; `Analyze` &gt; `Analyaze Dependencies` &gt; In the pop up window, select `Directory` only &gt; Click `OK`.\r\n\r\nThen `Dependency Viewer` Tab will open. Select where to search in left tree. For that, I click `app` in left tree. Then in the right tree, I have to select the External library, that I&#39;m looking for. For that,\r\n\r\nOpen `External Dependencies` &gt; Click `com/android/volley`.\r\n\r\nThen at the bottom of both left and right trees, I can see all the usages of the external library in my `Module:app`.\r\n\r\nHope it helps...","title":"How to find usages of ONE implementation of an interface&#39;s method","body":"<p>I've a similar case, where I've to find the usage of external library, say for eg:</p>\n<pre><code>implementation 'com.android.volley:volley:1.1.1'\n</code></pre>\n<p>in my <code>Module:app</code> only. So, for this, go to</p>\n<p><code>1. Project</code> in the left tab of android studio &gt; <code>Android</code> view &gt; Right Click <code>app</code> directory &gt; <code>Analyze</code> &gt; <code>Analyaze Dependencies</code> &gt; In the pop up window, select <code>Directory</code> only &gt; Click <code>OK</code>.</p>\n<p>Then <code>Dependency Viewer</code> Tab will open. Select where to search in left tree. For that, I click <code>app</code> in left tree. Then in the right tree, I have to select the External library, that I'm looking for. For that,</p>\n<p>Open <code>External Dependencies</code> &gt; Click <code>com/android/volley</code>.</p>\n<p>Then at the bottom of both left and right trees, I can see all the usages of the external library in my <code>Module:app</code>.</p>\n<p>Hope it helps...</p>\n"}],"owner":{"account_id":4382459,"reputation":151,"user_id":3573712,"display_name":"user3573712"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1673244340,"creation_date":1570551799,"question_id":58290379,"body_markdown":"I have a project with hundreds of implementations of an interface. I&#39;d like to find the usages of a method in just ONE implementation of that interface. Intellij (and Eclipse) both show me all usages of that method in all of the implementations - hundreds of them.\r\n\r\nI highlight the method in one implementation of the interface, right-click and select &quot;find usages&quot;, and it shows me all usages of that method in all implementations.\r\n\r\nNone of the usage options in Intellij seem to get me just one implementation.\r\n\r\n    public interface Dog {\r\n        void bark(int volume);\r\n    }\r\n    public class Lab implements Dog {\r\n        public void bark(int volume) {\r\n            System.out.println(&quot;woof&quot;);\r\n        }\r\n    }\r\n    public class Collie implements Dog {\r\n        public void bark(int volume) {\r\n            System.out.println(&quot;woof&quot;);\r\n        }\r\n    }\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \t    Dog onyx = new Lab();\r\n    \t    Dog lassie = new Collie();\r\n    \r\n    \r\n    \t    onyx.bark(50);\r\n    \t    lassie.bark(20);\r\n        }\r\n    }\r\n\r\nIf I highlight the Lab bark method, click show usages, I want to just see the onyx.bark(50) line in main.java, not both bark usages in main.java.\r\n\r\nI realize that if I use Lab onyx = new Lab() and Collie lassie = new Collie() in the main class, find references will work, but that&#39;s not how the project is written. Maybe there&#39;s no way for the IDE to determine the implementing class when the type is the interface, but it sure would be useful.","title":"How to find usages of ONE implementation of an interface&#39;s method","body":"<p>I have a project with hundreds of implementations of an interface. I'd like to find the usages of a method in just ONE implementation of that interface. Intellij (and Eclipse) both show me all usages of that method in all of the implementations - hundreds of them.</p>\n\n<p>I highlight the method in one implementation of the interface, right-click and select \"find usages\", and it shows me all usages of that method in all implementations.</p>\n\n<p>None of the usage options in Intellij seem to get me just one implementation.</p>\n\n<pre><code>public interface Dog {\n    void bark(int volume);\n}\npublic class Lab implements Dog {\n    public void bark(int volume) {\n        System.out.println(\"woof\");\n    }\n}\npublic class Collie implements Dog {\n    public void bark(int volume) {\n        System.out.println(\"woof\");\n    }\n}\npublic class Main {\n\n    public static void main(String[] args) {\n        Dog onyx = new Lab();\n        Dog lassie = new Collie();\n\n\n        onyx.bark(50);\n        lassie.bark(20);\n    }\n}\n</code></pre>\n\n<p>If I highlight the Lab bark method, click show usages, I want to just see the onyx.bark(50) line in main.java, not both bark usages in main.java.</p>\n\n<p>I realize that if I use Lab onyx = new Lab() and Collie lassie = new Collie() in the main class, find references will work, but that's not how the project is written. Maybe there's no way for the IDE to determine the implementing class when the type is the interface, but it sure would be useful.</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":4,"creation_date":1673197063,"post_id":75049195,"comment_id":132439270,"body_markdown":"You can [_define_](https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#define_elements) arbitrary elements, for [example](https://stackoverflow.com/a/74480486/230513), but I would advocate using the computed size in a responsive layout.","body":"You can <a href=\"https://openjfx.io/javadoc/19/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#define_elements\" rel=\"nofollow noreferrer\"><i>define</i></a> arbitrary elements, for <a href=\"https://stackoverflow.com/a/74480486/230513\">example</a>, but I would advocate using the computed size in a responsive layout."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1673198268,"post_id":75049195,"comment_id":132439537,"body_markdown":"*”Perhaps, even better would be if I could set all values within scenebuilder to be by preferred ratio rather that size, so that later on, when resizing the stage, everything would change with it.”* This is what you should do. Just choose appropriate layout panes that implement this behavior; it is exactly what they are for. `AnchorPane`, which does not really implement a responsive layout, is rarely the correct choice.","body":"<i>”Perhaps, even better would be if I could set all values within scenebuilder to be by preferred ratio rather that size, so that later on, when resizing the stage, everything would change with it.”</i> This is what you should do. Just choose appropriate layout panes that implement this behavior; it is exactly what they are for. <code>AnchorPane</code>, which does not really implement a responsive layout, is rarely the correct choice."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":3,"creation_date":1673255776,"post_id":75049195,"comment_id":132448898,"body_markdown":"your first code snippet would be plain wrong: fields annotated with fxml are supposed to be injected by the loader, they _must not_ be initialized - it&#39;s a one-way road. As already suggested in the other comments: learn all about layouts, choose an appropriate one. when stuck come back with a [mcve] demonstrating the problem","body":"your first code snippet would be plain wrong: fields annotated with fxml are supposed to be injected by the loader, they <i>must not</i> be initialized - it&#39;s a one-way road. As already suggested in the other comments: learn all about layouts, choose an appropriate one. when stuck come back with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1673257774,"post_id":75049195,"comment_id":132449520,"body_markdown":"Another [example of `fx:define`](https://stackoverflow.com/questions/23705654/bind-font-size-in-javafx). See the usage of the `Measurement` class in my answer.  Though, please heed the recommendations in other comments. I wouldn’t use the define mechanism like this unless I really needed to as it would complicate things for me.","body":"Another <a href=\"https://stackoverflow.com/questions/23705654/bind-font-size-in-javafx\">example of <code>fx:define</code></a>. See the usage of the <code>Measurement</code> class in my answer.  Though, please heed the recommendations in other comments. I wouldn’t use the define mechanism like this unless I really needed to as it would complicate things for me."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1673328345,"post_id":75049195,"comment_id":132468220,"body_markdown":"This looks like a case where you are attempting to take the wrong approach to accomplish a task. My guess is that you should do this while loading an FXML. If this is the loading of the first FXML, it should be done in the `Main`.  `Rectangle2D screenBounds = Screen.getPrimary().getBounds();        \n        Parent root = FXMLLoader.load(getClass().getResource(&quot;LoginScreen.fxml&quot;));        \n        Scene scene = new Scene(root, screenBounds.getWidth()/2, screenBounds.getHeight()/2);`","body":"This looks like a case where you are attempting to take the wrong approach to accomplish a task. My guess is that you should do this while loading an FXML. If this is the loading of the first FXML, it should be done in the <code>Main</code>.  <code>Rectangle2D screenBounds = Screen.getPrimary().getBounds();                 Parent root = FXMLLoader.load(getClass().getResource(&quot;LoginScreen.fxml&quot;));                 Scene scene = new Scene(root, screenBounds.getWidth()&#47;2, screenBounds.getHeight()&#47;2);</code>"}],"answers":[{"tags":[],"owner":{"account_id":26246600,"reputation":21,"user_id":19919975,"display_name":"Ibrahim Habra"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1673243101,"creation_date":1673243101,"answer_id":75053567,"question_id":75049195,"body_markdown":"Maybe you can initialize the bounds of AnchorPane in the controller class instead of using variables ,since it is not allowed to be.&lt;br&gt;\r\nPerhaps you should implement the &lt;code&gt;Controller&lt;/code&gt; class with &lt;code&gt;Initializable&lt;/code&gt; class to over ride the &lt;code&gt;initialize&lt;/code&gt; method.&lt;br&gt;\r\nAs names suggests , you can initialize the component of the fxml file using that method.&lt;br&gt;\r\nAnd of course you can inside that method set the bounds by &lt;code&gt;root.setPrefHeight(customVariable);&lt;/code&gt;.&lt;br&gt;\r\n&lt;h3&gt;Full code:&lt;/h3&gt;&lt;br&gt;\r\n&lt;code&gt;\r\n\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.layout.AnchorPane;\r\n\r\n    public class Controller implements Initializable {\r\n\r\n    @fxml\r\n    public AnchorPane root;\r\n    public int height = 180;\r\n    public int width = 200;\r\n\r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n        root.setPrefHeight(height);\r\n        root.setPrefWidth(width);\r\n        }\r\n    }\r\n\r\n&lt;/code&gt;\r\n ","title":"Using a variable from a java file in an FXML file","body":"<p>Maybe you can initialize the bounds of AnchorPane in the controller class instead of using variables ,since it is not allowed to be.<br>\nPerhaps you should implement the <code>Controller</code> class with <code>Initializable</code> class to over ride the <code>initialize</code> method.<br>\nAs names suggests , you can initialize the component of the fxml file using that method.<br>\nAnd of course you can inside that method set the bounds by <code>root.setPrefHeight(customVariable);</code>.<br></p>\n<h3>Full code:</h3><br>\n<code>\n<pre><code>import javafx.fxml.Initializable;\nimport javafx.scene.layout.AnchorPane;\n\npublic class Controller implements Initializable {\n\n@fxml\npublic AnchorPane root;\npublic int height = 180;\npublic int width = 200;\n\n@Override\npublic void initialize(URL location, ResourceBundle resources) {\n    root.setPrefHeight(height);\n    root.setPrefWidth(width);\n    }\n}\n</code></pre>\n</code>\n \n"}],"owner":{"account_id":27425363,"reputation":1,"user_id":20922968,"display_name":"emilwandersen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673243101,"creation_date":1673193232,"question_id":75049195,"body_markdown":"I&#39;m creating a stage that I&#39;ve made in scenebuilder and I want some of the sizes in there to be dependent on the size of the monitor. However, in scenebuilder, when setting pref width/height, I can only write a number or &quot;USE_COMPUTED_SIZE&quot;. \r\nI know that I can get the dimensions of the screen by using the following code;\r\n\r\n```\r\nRectangle2D screenBounds = Screen.getPrimary().getBounds();\r\n\r\n    @FXML\r\n    double windowHeight = screenBounds.getHeight()/2;\r\n    @FXML\r\n    double windowWidth = screenBounds.getHeight()/2;\r\n```\r\n\r\nis there a way to use these variables &quot;**windowHeight**&quot; and &quot;**windowWidth**&quot; in the FXML file. Like:\r\n\r\n\r\n```\r\n&lt;AnchorPane prefHeight=&quot;windowHeight&quot; prefWidth=&quot;windowWidth&quot; stylesheets=&quot;@defaultStyle.css&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;Menu&quot;&gt;\r\n```\r\n\r\n(The variables &quot;**windowHeight**&quot; and &quot;**windowWidth**&quot; are declared in Menu.java)\r\n\r\n\r\nAnother preferred way to be able to do it would be if I could directly set the width and height to a variable within scenebuilder.\r\n\r\nPerhaps, even better would be if I could set all values within scenebuilder to be by preferred ratio rather that size, so that later on, when resizing the stage, everything would change with it.\r\n\r\n\r\n\r\n\r\nI have tried to later set the width and height of the stage when loading it but it didn&#39;t really work.","title":"Using a variable from a java file in an FXML file","body":"<p>I'm creating a stage that I've made in scenebuilder and I want some of the sizes in there to be dependent on the size of the monitor. However, in scenebuilder, when setting pref width/height, I can only write a number or &quot;USE_COMPUTED_SIZE&quot;.\nI know that I can get the dimensions of the screen by using the following code;</p>\n<pre><code>Rectangle2D screenBounds = Screen.getPrimary().getBounds();\n\n    @FXML\n    double windowHeight = screenBounds.getHeight()/2;\n    @FXML\n    double windowWidth = screenBounds.getHeight()/2;\n</code></pre>\n<p>is there a way to use these variables &quot;<strong>windowHeight</strong>&quot; and &quot;<strong>windowWidth</strong>&quot; in the FXML file. Like:</p>\n<pre><code>&lt;AnchorPane prefHeight=&quot;windowHeight&quot; prefWidth=&quot;windowWidth&quot; stylesheets=&quot;@defaultStyle.css&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;Menu&quot;&gt;\n</code></pre>\n<p>(The variables &quot;<strong>windowHeight</strong>&quot; and &quot;<strong>windowWidth</strong>&quot; are declared in Menu.java)</p>\n<p>Another preferred way to be able to do it would be if I could directly set the width and height to a variable within scenebuilder.</p>\n<p>Perhaps, even better would be if I could set all values within scenebuilder to be by preferred ratio rather that size, so that later on, when resizing the stage, everything would change with it.</p>\n<p>I have tried to later set the width and height of the stage when loading it but it didn't really work.</p>\n"},{"tags":["java","android","unit-testing","junit","junit5"],"comments":[{"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1654624512,"post_id":46161113,"comment_id":128133464,"body_markdown":"Related post: [How to use JUnit 5 with Gradle?](https://stackoverflow.com/q/44429751/8583692)","body":"Related post: <a href=\"https://stackoverflow.com/q/44429751/8583692\">How to use JUnit 5 with Gradle?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1573593777,"creation_date":1505153347,"answer_id":46161894,"question_id":46161113,"body_markdown":"Android Studio is based on IDEA, correct?\r\n\r\nThen see this answer here https://stackoverflow.com/a/46161799/1431016 or read directly the user-guide at http://junit.org/junit5/docs/current/user-guide/#running-tests-ide-intellij-idea\r\n\r\nSummary:\r\n\r\n    // Only needed to run tests in an IntelliJ IDEA that bundles an older version\r\n    testImplementation(&quot;org.junit.platform:junit-platform-launcher:1.0.0&quot;)\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-engine:5.0.0&quot;)\r\n    testImplementation(&quot;org.junit.vintage:junit-vintage-engine:4.12.0&quot;)\r\n\r\nI didn&#39;t try this project yet, but it could help you using JUnit 5 on Android: https://github.com/aurae/android-junit5","title":"JUnit 5 for Android testing","body":"<p>Android Studio is based on IDEA, correct?</p>\n\n<p>Then see this answer here <a href=\"https://stackoverflow.com/a/46161799/1431016\">https://stackoverflow.com/a/46161799/1431016</a> or read directly the user-guide at <a href=\"http://junit.org/junit5/docs/current/user-guide/#running-tests-ide-intellij-idea\" rel=\"nofollow noreferrer\">http://junit.org/junit5/docs/current/user-guide/#running-tests-ide-intellij-idea</a></p>\n\n<p>Summary:</p>\n\n<pre><code>// Only needed to run tests in an IntelliJ IDEA that bundles an older version\ntestImplementation(\"org.junit.platform:junit-platform-launcher:1.0.0\")\ntestImplementation(\"org.junit.jupiter:junit-jupiter-engine:5.0.0\")\ntestImplementation(\"org.junit.vintage:junit-vintage-engine:4.12.0\")\n</code></pre>\n\n<p>I didn't try this project yet, but it could help you using JUnit 5 on Android: <a href=\"https://github.com/aurae/android-junit5\" rel=\"nofollow noreferrer\">https://github.com/aurae/android-junit5</a></p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1666266159,"creation_date":1544203624,"answer_id":53674289,"question_id":46161113,"body_markdown":"### Refer to [this issue][2] and [this issue][3] regarding JUnit 5 support on Android.\r\n\r\nAdd this build script dependency in your **top-level** *build.gradle[.kts]* file:\r\n\r\n```groovy\r\nbuildscript {\r\n  dependencies {\r\n    classpath(&quot;de.mannodermaus.gradle.plugins:android-junit5:1.8.2.1&quot;)\r\n  }\r\n}\r\n```\r\n\r\nAnd add these lines in your **app** or library *build.gradle[.kts]* file:\r\n\r\n```groovy\r\nplugins {\r\n  // ...\r\n  id(&quot;de.mannodermaus.android-junit5&quot;)\r\n}\r\n\r\ndependencies {\r\n  // Aggregator dependency on JUnit api, engine, and params\r\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.9.1&quot;)\r\n  // (Optional) If you also have JUnit 4-based tests\r\n  testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n  testRuntimeOnly(&quot;org.junit.vintage:junit-vintage-engine:5.9.1&quot;)\r\n}\r\n```\r\n\r\nYou can use the above solution if you are using **Android Gradle plugin 3.2.0 or higher** and **Gradle 4.7 or higher**. For more information refer to the [plugin GitHub page][1].\r\n\r\n# Extended answer\r\n\r\nIf you want to use JUnit 5 in your instrumented tests (*androidTest* source set) do the following:\r\n\r\n  1. Add these dependencies to your **app** or libray build script:\r\n\r\n```groovy\r\nandroidTestImplementation(&quot;de.mannodermaus.junit5:android-test-core:1.3.0&quot;)\r\nandroidTestRuntimeOnly(&quot;de.mannodermaus.junit5:android-test-runner:1.3.0&quot;)\r\n```\r\n\r\n  2. Use `ActivityScenarioExtension` instead of `ActivityScenarioRule` in your test classes:\r\n\r\n```kotlin\r\nimport de.mannodermaus.junit5.ActivityScenarioExtension\r\n\r\nclass MyActivityTest {\r\n\r\n  @JvmField\r\n  @RegisterExtension\r\n  val scenarioExtension = ActivityScenarioExtension.launch&lt;MyActivity&gt;()\r\n\r\n  @Test\r\n  fun test1() {\r\n    val scenario = scenarioExtension.scenario\r\n    scenario.moveToState(Lifecycle.State.RESUMED)\r\n    assertThat(scenario.state).isEqualTo(Lifecycle.State.RESUMED)\r\n  }\r\n\r\n  @Test\r\n  fun test2(scenario: ActivityScenario&lt;MyActivity&gt;) {\r\n    scenario.moveToState(Lifecycle.State.RESUMED)\r\n    assertThat(scenario.state).isEqualTo(Lifecycle.State.RESUMED)\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/mannodermaus/android-junit5\r\n  [2]: https://issuetracker.google.com/issues/127100532\r\n  [3]: https://github.com/android/android-test/issues/224","title":"JUnit 5 for Android testing","body":"<h3>Refer to <a href=\"https://issuetracker.google.com/issues/127100532\" rel=\"noreferrer\">this issue</a> and <a href=\"https://github.com/android/android-test/issues/224\" rel=\"noreferrer\">this issue</a> regarding JUnit 5 support on Android.</h3>\n<p>Add this build script dependency in your <strong>top-level</strong> <em>build.gradle[.kts]</em> file:</p>\n<pre><code>buildscript {\n  dependencies {\n    classpath(&quot;de.mannodermaus.gradle.plugins:android-junit5:1.8.2.1&quot;)\n  }\n}\n</code></pre>\n<p>And add these lines in your <strong>app</strong> or library <em>build.gradle[.kts]</em> file:</p>\n<pre><code>plugins {\n  // ...\n  id(&quot;de.mannodermaus.android-junit5&quot;)\n}\n\ndependencies {\n  // Aggregator dependency on JUnit api, engine, and params\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.9.1&quot;)\n  // (Optional) If you also have JUnit 4-based tests\n  testImplementation(&quot;junit:junit:4.13.2&quot;)\n  testRuntimeOnly(&quot;org.junit.vintage:junit-vintage-engine:5.9.1&quot;)\n}\n</code></pre>\n<p>You can use the above solution if you are using <strong>Android Gradle plugin 3.2.0 or higher</strong> and <strong>Gradle 4.7 or higher</strong>. For more information refer to the <a href=\"https://github.com/mannodermaus/android-junit5\" rel=\"noreferrer\">plugin GitHub page</a>.</p>\n<h1>Extended answer</h1>\n<p>If you want to use JUnit 5 in your instrumented tests (<em>androidTest</em> source set) do the following:</p>\n<ol>\n<li>Add these dependencies to your <strong>app</strong> or libray build script:</li>\n</ol>\n<pre><code>androidTestImplementation(&quot;de.mannodermaus.junit5:android-test-core:1.3.0&quot;)\nandroidTestRuntimeOnly(&quot;de.mannodermaus.junit5:android-test-runner:1.3.0&quot;)\n</code></pre>\n<ol start=\"2\">\n<li>Use <code>ActivityScenarioExtension</code> instead of <code>ActivityScenarioRule</code> in your test classes:</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import de.mannodermaus.junit5.ActivityScenarioExtension\n\nclass MyActivityTest {\n\n  @JvmField\n  @RegisterExtension\n  val scenarioExtension = ActivityScenarioExtension.launch&lt;MyActivity&gt;()\n\n  @Test\n  fun test1() {\n    val scenario = scenarioExtension.scenario\n    scenario.moveToState(Lifecycle.State.RESUMED)\n    assertThat(scenario.state).isEqualTo(Lifecycle.State.RESUMED)\n  }\n\n  @Test\n  fun test2(scenario: ActivityScenario&lt;MyActivity&gt;) {\n    scenario.moveToState(Lifecycle.State.RESUMED)\n    assertThat(scenario.state).isEqualTo(Lifecycle.State.RESUMED)\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7961138,"reputation":1310,"user_id":6008948,"display_name":"Dagnogo Jean-Fran&#231;ois"},"down_vote_count":4,"up_vote_count":6,"is_accepted":false,"score":2,"last_activity_date":1580738176,"creation_date":1580738176,"answer_id":60040706,"question_id":46161113,"body_markdown":"**USE ALWAYS THE OFFICIAL VERSION**\r\n\r\nFirst go to the **official documentation** of Junit here : https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\r\nyou will see all latest version like this \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wOYvQ.png\r\n\r\nthen in your app/gradle add this dependencie :\r\n\r\n&gt;  testImplementation(&#39;org.junit.jupiter:junit-jupiter:X.X.X&#39;)\r\n\r\nwhere X.X.X is the version you want.\r\nFor example in my case it was  \r\n\r\n&gt; testImplementation(&#39;org.junit.jupiter:junit-jupiter:5.6.0&#39;)\r\n\r\n","title":"JUnit 5 for Android testing","body":"<p><strong>USE ALWAYS THE OFFICIAL VERSION</strong></p>\n\n<p>First go to the <strong>official documentation</strong> of Junit here : <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api</a>\nyou will see all latest version like this \n<a href=\"https://i.stack.imgur.com/wOYvQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wOYvQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>then in your app/gradle add this dependencie :</p>\n\n<blockquote>\n  <p>testImplementation('org.junit.jupiter:junit-jupiter:X.X.X')</p>\n</blockquote>\n\n<p>where X.X.X is the version you want.\nFor example in my case it was  </p>\n\n<blockquote>\n  <p>testImplementation('org.junit.jupiter:junit-jupiter:5.6.0')</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1942793,"reputation":859,"user_id":1748584,"display_name":"Bob Liberatore"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1665861399,"creation_date":1665861399,"answer_id":74082314,"question_id":46161113,"body_markdown":"You can use the official version by adding these lines to your gradle file:\r\n\r\n    android {\r\n        testOptions {\r\n            unitTests.all {\r\n                useJUnitPlatform()\r\n        }\r\n      }\r\n    }\r\n\r\n \r\n\r\n    dependencies {\r\n         testImplementation &quot;org.junit.jupiter:junit-jupiter:5.8.0&quot;\r\n    }\r\n\r\n\r\nTo continue to run your JUnit4 tests alongside Junit5, add:\r\n\r\n    testImplementation &quot;org.junit.vintage:junit-vintage-engine:5.8.0&quot;","title":"JUnit 5 for Android testing","body":"<p>You can use the official version by adding these lines to your gradle file:</p>\n<pre><code>android {\n    testOptions {\n        unitTests.all {\n            useJUnitPlatform()\n    }\n  }\n}\n\n\n\ndependencies {\n     testImplementation &quot;org.junit.jupiter:junit-jupiter:5.8.0&quot;\n}\n</code></pre>\n<p>To continue to run your JUnit4 tests alongside Junit5, add:</p>\n<pre><code>testImplementation &quot;org.junit.vintage:junit-vintage-engine:5.8.0&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673243052,"creation_date":1673186713,"answer_id":75048381,"question_id":46161113,"body_markdown":"It is January 2023 and the answers here that used to work, do not work for me on Android Studio 2021.3.1 (Patch 1), running Gradle 7.4.\r\n\r\nThis is what I did to make mine work:\r\n\r\n 1. First, attempted to follow the answer by @Mahozad. I chose it because it referred to the [latest junit-jupiter:5.9.1 version][1]. \r\n 2. But my app&#39;s `build.gradle` did not like the `plugins {...}` section from there, so I used `apply plugin: &#39;de.mannodermaus.android-junit5&#39;` instead, from [@BoonKeatTeo&#39;s article][2].\r\n 3. Still, it would not recognize any of the imported symbols and so I added the [repository URL from @DagnogoJean-Fran&#231;ois&#39;s answer][3] (File &gt; Settings &gt; Build... &gt; Remote Jar Repositories)\r\n 4. It continued complaining about an `import static org.junit.jupiter.api.Assertions.*;` added to Test class and after running from the command line `gradlew build --warning-mode=all`, I realized that it is a good idea to remove the **deprecated** `jcenter` repository. In addition to removing it via Settings, I replaced all `jcenter()` occurrences with `mavenCentral()` in the root build.gradle.\r\n 5. I still had the import warning, so I decided to remove all imports and accept the suggestion by Android Studio to add a `org.junit.jupiter:junit-jupiter:5.8.1` dependency. This seems to have done the magic and now there are no warnings on any of my Test class symbols.\r\n\r\nTo summarize, here is how my build.gradle looks now:\r\n\r\n    apply plugin: &#39;com.android.library&#39;\r\n    apply plugin: &#39;de.mannodermaus.android-junit5&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 33\r\n        buildToolsVersion &quot;33.0.1&quot;\r\n        compileOptions.encoding = &#39;windows-1251&#39;\r\n    \tuseLibrary &#39;org.apache.http.legacy&#39;\r\n        namespace &#39;com.susu.mylib&#39;\r\n    \r\n        defaultConfig {\r\n            minSdkVersion 26\r\n            targetSdkVersion 33\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                proguardFiles &#39;proguard.cfg&#39;\r\n            }\r\n        }\r\n    \r\n        testOptions {\r\n            unitTests.all {\r\n                useJUnitPlatform()\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &quot;androidx.core:core-ktx:1.9.0&quot;\r\n        implementation &#39;org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2&#39;\r\n        implementation &quot;com.android.billingclient:billing:5.1.0&quot;\r\n    \r\n        implementation &#39;org.junit.jupiter:junit-jupiter:5.8.1&#39;\r\n    }\r\n\r\nComments on how to improve this further are greatly appreciated.\r\n\r\n  [1]: https://stackoverflow.com/a/53674289/2597758\r\n  [2]: https://medium.com/@boonkeat/android-unit-testing-with-junit5-d1b8f9c620b6\r\n  [3]: https://stackoverflow.com/a/60040706/2597758\r\n","title":"JUnit 5 for Android testing","body":"<p>It is January 2023 and the answers here that used to work, do not work for me on Android Studio 2021.3.1 (Patch 1), running Gradle 7.4.</p>\n<p>This is what I did to make mine work:</p>\n<ol>\n<li>First, attempted to follow the answer by @Mahozad. I chose it because it referred to the <a href=\"https://stackoverflow.com/a/53674289/2597758\">latest junit-jupiter:5.9.1 version</a>.</li>\n<li>But my app's <code>build.gradle</code> did not like the <code>plugins {...}</code> section from there, so I used <code>apply plugin: 'de.mannodermaus.android-junit5'</code> instead, from <a href=\"https://medium.com/@boonkeat/android-unit-testing-with-junit5-d1b8f9c620b6\" rel=\"nofollow noreferrer\">@BoonKeatTeo's article</a>.</li>\n<li>Still, it would not recognize any of the imported symbols and so I added the <a href=\"https://stackoverflow.com/a/60040706/2597758\">repository URL from @DagnogoJean-François's answer</a> (File &gt; Settings &gt; Build... &gt; Remote Jar Repositories)</li>\n<li>It continued complaining about an <code>import static org.junit.jupiter.api.Assertions.*;</code> added to Test class and after running from the command line <code>gradlew build --warning-mode=all</code>, I realized that it is a good idea to remove the <strong>deprecated</strong> <code>jcenter</code> repository. In addition to removing it via Settings, I replaced all <code>jcenter()</code> occurrences with <code>mavenCentral()</code> in the root build.gradle.</li>\n<li>I still had the import warning, so I decided to remove all imports and accept the suggestion by Android Studio to add a <code>org.junit.jupiter:junit-jupiter:5.8.1</code> dependency. This seems to have done the magic and now there are no warnings on any of my Test class symbols.</li>\n</ol>\n<p>To summarize, here is how my build.gradle looks now:</p>\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'de.mannodermaus.android-junit5'\n\nandroid {\n    compileSdkVersion 33\n    buildToolsVersion &quot;33.0.1&quot;\n    compileOptions.encoding = 'windows-1251'\n    useLibrary 'org.apache.http.legacy'\n    namespace 'com.susu.mylib'\n\n    defaultConfig {\n        minSdkVersion 26\n        targetSdkVersion 33\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles 'proguard.cfg'\n        }\n    }\n\n    testOptions {\n        unitTests.all {\n            useJUnitPlatform()\n        }\n    }\n}\n\ndependencies {\n    implementation &quot;androidx.core:core-ktx:1.9.0&quot;\n    implementation 'org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2'\n    implementation &quot;com.android.billingclient:billing:5.1.0&quot;\n\n    implementation 'org.junit.jupiter:junit-jupiter:5.8.1'\n}\n</code></pre>\n<p>Comments on how to improve this further are greatly appreciated.</p>\n"}],"owner":{"account_id":5418209,"reputation":4429,"user_id":4312751,"accept_rate":57,"display_name":"mac229"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24888,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":5,"score":29,"last_activity_date":1673243052,"creation_date":1505150277,"question_id":46161113,"body_markdown":"How to configure JUnit 5 for Android unit testing?\r\nI tried:\r\n\r\n    testCompile(&quot;org.junit.jupiter:junit-jupiter-api:5.0.0&quot;)\r\nBut it doesn&#39;t work, when I run previous the simplest unit test:\r\n\r\n    @Test\r\n    public void addition_isCorrect() throws Exception {\r\n    \tassertEquals(4, 2 + 2);\r\n    }\r\n\r\nI get error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.junit.platform.commons.util.ReflectionUtils.getDefaultClassLoader()Ljava/lang/ClassLoader;\r\n    \tat org.junit.platform.launcher.core.ServiceLoaderTestEngineRegistry.loadTestEngines(ServiceLoaderTestEngineRegistry.java:31)\r\n    \tat org.junit.platform.launcher.core.LauncherFactory.create(LauncherFactory.java:42)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:36)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\r\n    \r\n    Process finished with exit code 1\r\n    Empty test suite.","title":"JUnit 5 for Android testing","body":"<p>How to configure JUnit 5 for Android unit testing?\nI tried:</p>\n\n<pre><code>testCompile(\"org.junit.jupiter:junit-jupiter-api:5.0.0\")\n</code></pre>\n\n<p>But it doesn't work, when I run previous the simplest unit test:</p>\n\n<pre><code>@Test\npublic void addition_isCorrect() throws Exception {\n    assertEquals(4, 2 + 2);\n}\n</code></pre>\n\n<p>I get error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: org.junit.platform.commons.util.ReflectionUtils.getDefaultClassLoader()Ljava/lang/ClassLoader;\n    at org.junit.platform.launcher.core.ServiceLoaderTestEngineRegistry.loadTestEngines(ServiceLoaderTestEngineRegistry.java:31)\n    at org.junit.platform.launcher.core.LauncherFactory.create(LauncherFactory.java:42)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:36)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\n\nProcess finished with exit code 1\nEmpty test suite.\n</code></pre>\n"},{"tags":["java","eclipse","jakarta-ee","glassfish","ejb"],"owner":{"account_id":142750,"reputation":2897,"user_id":350648,"accept_rate":86,"display_name":"Haxed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673242344,"creation_date":1673228063,"question_id":75052477,"body_markdown":"When deploying my application I need to separate my configurations. This way any configuration changes does not require a new build.\r\n\r\nMy application has\r\n\r\napp.ear\r\n+ |---- app-ejb.jar\r\n+          |---- sun-ejb-jar.xml \r\n\r\n\r\nI need to remove sun-ejb-jar.xml out of app-ejb.jar and also app.ear, so when I make configuration changes in sun-ejb-jar.xml, I do not need to build and deploy, but only restart the application.\r\n\r\nIs this possible with Glassfish v2 ?\r\n","title":"GlassFish v2 - How to externalize deployment descriptor sun-ejb-jar.xml?","body":"<p>When deploying my application I need to separate my configurations. This way any configuration changes does not require a new build.</p>\n<p>My application has</p>\n<p>app.ear</p>\n<ul>\n<li>|---- app-ejb.jar</li>\n<li>\n<pre><code>     |---- sun-ejb-jar.xml \n</code></pre>\n</li>\n</ul>\n<p>I need to remove sun-ejb-jar.xml out of app-ejb.jar and also app.ear, so when I make configuration changes in sun-ejb-jar.xml, I do not need to build and deploy, but only restart the application.</p>\n<p>Is this possible with Glassfish v2 ?</p>\n"},{"tags":["java","generics","enums"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":2,"creation_date":1673231770,"post_id":75052709,"comment_id":132444756,"body_markdown":"I&#39;d start by defining a common base class for the type estimates which has the name, value, and code properties defined there.","body":"I&#39;d start by defining a common base class for the type estimates which has the name, value, and code properties defined there."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1673232778,"post_id":75052709,"comment_id":132444877,"body_markdown":"Enums can&#39;t extend other classes, but they can implement interfaces.","body":"Enums can&#39;t extend other classes, but they can implement interfaces."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673238189,"creation_date":1673238189,"answer_id":75053164,"question_id":75052709,"body_markdown":"This answer is related and helpful -- https://stackoverflow.com/a/70596442/10118965\r\n\r\nBut here is a more directed answer. In short, using interfaces, enums, and generics allows you to make this much easier to consolidate.\r\n\r\nFirst, create an interface that has all of the relevant functions. I called mine `ParentInterface`. In this case, you needed `::getName`, `::getValue`, and `::getCode`.\r\n\r\nNext, you need to create a method inside that interface that returns the values of the enum. This is a more complicated step because it requires you to take a pretty big step into the generics world, combined with enums.\r\n\r\nIn short, if we look at the JavaDoc for enums, we see the following.\r\n\r\nhttps://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html\r\n\r\n`Class Enum&lt;E extends Enum&lt;E&gt;&gt;`\r\n\r\nSo in short, if we want to say that some type `E` is an enum, then we must say something like this.\r\n\r\n`E extends Enum&lt;E&gt;`\r\n\r\nOk, now we know how to say that the parameterized type must be an enum. The reason why we did this is because we actually wanted to get ***the values*** of the enum. We can&#39;t do that without first making sure that we have an enum.\r\n\r\nBut now that we do, we can write a method sort of like this.\r\n\r\n```java\r\npublic static &lt;E extends Enum&lt;E&gt;&gt; List&lt;E&gt; values(final Class&lt;E&gt; clazz)\r\n{\r\n\r\n   return Arrays.asList(clazz.getEnumConstants());\r\n\r\n}\r\n```\r\n\r\nThis method says that the `clazz` that we receive as a paramter must be a type of enum. Once it proves that, then we can safely call the `Class::getEnumConstants` method and be sure that we will get what we expect.\r\n\r\nSo, now that we have wrote our static method, next we put a parameterized type on the interface. Specifically, we want to make sure that this interface only refers to enums.\r\n\r\nWe add the following parameterized type to the interface.\r\n\r\n`&lt;E extends Enum&lt;E&gt;&gt;`\r\n\r\nAnd then finally, we modify our static method just slightly to make sure that it is only used to generate enum values for enums that implement our interface. Maybe you don&#39;t want that restriction, but in case you do, here is what you would add.\r\n\r\n` &amp; ParentInterface&lt;E&gt;`\r\n\r\nAnd with that, we are done. Here is what our interface should roughly look like.\r\n\r\n```java\r\n      public interface ParentInterface&lt;E extends Enum&lt;E&gt;&gt; // pick a better name\r\n      {\r\n      \r\n         String getName();\r\n         String getValue();\r\n         String getCode();\r\n         \r\n         public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;E&gt; values(final Class&lt;E&gt; clazz)\r\n         {\r\n         \r\n            return Arrays.asList(clazz.getEnumConstants());\r\n         \r\n         }\r\n      \r\n      }\r\n```\r\n\r\nNext, we need to make sure all of our enums implement this new interface. That is pretty easy to do.\r\n\r\n`public enum EstimateFuelType implements ParentInterface&lt;EstimateFuelType&gt;`\r\n\r\n`public enum EstimateTransmissionType implements ParentInterface&lt;EstimateTransmissionType&gt;`\r\n\r\nThe actual internals of the enum shouldn&#39;t have to change. All you are doing is changing the outside.\r\n\r\nAnd then finally, let us rework our method to handle this brand new interface and our reworked enums.\r\n\r\nLet&#39;s start by building off of our `::getFuelTypeList` method. That means that we start with a duplicate, but renamed.\r\n\r\n```java\r\n      public static List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList() {\r\n      \r\n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\r\n      \r\n         for(EstimateFuelType fuelType : EstimateFuelType.values()) {\r\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\r\n            transmission.put(&quot;code&quot;, fuelType.getCode());\r\n            transmission.put(&quot;value&quot;, fuelType.getValue());\r\n            transmission.put(&quot;name&quot;, fuelType.getName());\r\n            fuelList.add(transmission);\r\n         }\r\n      \r\n         return fuelList;\r\n      \r\n      }\r\n```\r\n\r\nOther than the method name, this method is exactly the same as `::getFuelTypeList`.\r\n\r\nLet&#39;s start by changing the method signature to include the generics that we made. More specifically, let&#39;s introduce this method to the idea of our interface.\r\n\r\n`public static &lt;E extends ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList()`\r\n\r\nHowever, if we try to do just this, the compiler will complain at us, saying that if we want `E` to extend our interface, it must also extend `Enum&lt;E&gt;` too. Otherwise, it will break the rule of our interface, which says that *&quot;Anything that extends me must have an enum in the type parameter that also extends me&quot;*. We made this rule earlier on when putting the type parameter on our interface.\r\n\r\nSo, to get past this, we must specify that our type parameter also is an enum. That is easy enough to change.\r\n\r\n`public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList()`\r\n\r\nNow, the compiler is happy.\r\n\r\nSo, because of this change, our method is now aware of a type called `E`. This type is a subtype of an enum, and is also a subtype of the interface that we made.\r\n\r\nNow that the method is aware of our type, let&#39;s actually put it to use. Here is what we have thus far.\r\n\r\n```java\r\n      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList() {\r\n      \r\n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\r\n      \r\n         for(EstimateFuelType fuelType : EstimateFuelType.values()) {\r\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\r\n            transmission.put(&quot;code&quot;, fuelType.getCode());\r\n            transmission.put(&quot;value&quot;, fuelType.getValue());\r\n            transmission.put(&quot;name&quot;, fuelType.getName());\r\n            fuelList.add(transmission);\r\n         }\r\n      \r\n         return fuelList;\r\n      \r\n      }\r\n```\r\n\r\nObviously, everything is still hardcoded to use `EstimateFuelType`. So let&#39;s start by changing that.\r\n\r\n```java\r\n      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList() {\r\n      \r\n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\r\n      \r\n         for(E fuelType : E.values()) {\r\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\r\n            transmission.put(&quot;code&quot;, fuelType.getCode());\r\n            transmission.put(&quot;value&quot;, fuelType.getValue());\r\n            transmission.put(&quot;name&quot;, fuelType.getName());\r\n            fuelList.add(transmission);\r\n         }\r\n      \r\n         return fuelList;\r\n      \r\n      }\r\n```\r\n\r\nThis almost works, but the compiler gets upset and says that it doesn&#39;t know where to find the `E::values` method. Annoyingly enough, Java does not permit us to override static methods, so this solution had to get needlessly complicated. Luckily, we already did the complicated part earlier. Instead of trying to use the unknown `E::values` method, why don&#39;t we use the static method we made earlier?\r\n\r\nHowever, in order to use that method, we need to provide a `Class&lt;E&gt;`. Simple enough, let&#39;s also modify our method to take in a `Class&lt;E&gt;`. And let&#39;s also replace that unknown method that just threw an error.\r\n\r\n```java\r\n      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList(final Class&lt;E&gt; clazz) {\r\n      \r\n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\r\n      \r\n         for(E fuelType : ParentInterface.values(clazz)) {\r\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\r\n            transmission.put(&quot;code&quot;, fuelType.getCode());\r\n            transmission.put(&quot;value&quot;, fuelType.getValue());\r\n            transmission.put(&quot;name&quot;, fuelType.getName());\r\n            fuelList.add(transmission);\r\n         }\r\n      \r\n         return fuelList;\r\n      \r\n      }\r\n```\r\n\r\nAnd then that should be it. You can now delete the unnecessary methods that only work for the individual enums. Here is the complete solution, with some refactoring, renaming, and general clean up.\r\n\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n\r\n   public class SOQ_20230108\r\n   {\r\n   \r\n      public static void main(String[] args)\r\n      {\r\n      \r\n         System.out.println(getParentTypeList(EstimateFuelType.class));\r\n         System.out.println(getParentTypeList(EstimateTransmissionType.class));\r\n      \r\n      }\r\n   \r\n      public interface ParentInterface&lt;E extends Enum&lt;E&gt;&gt; // pick a better name\r\n      {\r\n      \r\n         String getName();\r\n         String getValue();\r\n         String getCode();\r\n         \r\n         public static &lt;E extends Enum&lt;E&gt;&gt; List&lt;E&gt; values(final Class&lt;E&gt; clazz)\r\n         {\r\n         \r\n            return Arrays.asList(clazz.getEnumConstants());\r\n         \r\n         }\r\n      \r\n      }\r\n   \r\n      public enum EstimateFuelType implements ParentInterface&lt;EstimateFuelType&gt;\r\n      {\r\n      \r\n         GASOLINE(&quot;가솔린&quot;, &quot;A001&quot;, &quot;001&quot;),\r\n         DIESEL(&quot;디젤&quot;, &quot;A002&quot;, &quot;002&quot;),\r\n         LPG_GENERAL(&quot;LPG(일반인 구입)&quot;, &quot;A003&quot;, &quot;003&quot;),\r\n         LPG_ALL(&quot;LPG&quot;, &quot;A004&quot;, &quot;004&quot;),\r\n         HYBRID(&quot;가솔린+전기&quot;, &quot;A005&quot;, &quot;005&quot;),\r\n         ELECTRONIC(&quot;전기&quot;, &quot;A009&quot;, &quot;009&quot;),\r\n         ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\r\n      \r\n         final String name;\r\n         final String value;\r\n         final String code;\r\n      \r\n         EstimateFuelType(String name, String value, String code) \r\n         {\r\n            \r\n            this.name = name;\r\n            this.value = value;\r\n            this.code = code;\r\n         \r\n         }\r\n      \r\n         public String getName() \r\n         {\r\n            \r\n            return name;\r\n         \r\n         }\r\n      \r\n         public String getValue() \r\n         {\r\n            \r\n            return value;\r\n         \r\n         }\r\n      \r\n         public String getCode() \r\n         {\r\n            \r\n            return code;\r\n         \r\n         }\r\n      \r\n      }\r\n   \r\n      public enum EstimateTransmissionType implements ParentInterface&lt;EstimateTransmissionType&gt;\r\n      {\r\n      \r\n         AUTO(&quot;오토(A/T)&quot;, &quot;A001&quot;, &quot;001&quot;),\r\n         MANUAL(&quot;수동(M/T)&quot;, &quot;A002&quot;, &quot;002&quot;),\r\n         ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\r\n      \r\n         final String name;\r\n         final String value;\r\n         final String code;\r\n      \r\n         EstimateTransmissionType(String name, String value, String code) \r\n         {\r\n            \r\n            this.name = name;\r\n            this.value = value;\r\n            this.code = code;\r\n         \r\n         }\r\n      \r\n         public String getName() \r\n         {\r\n            \r\n            return name;\r\n         \r\n         }\r\n      \r\n         public String getValue() \r\n         {\r\n            \r\n            return value;\r\n         \r\n         }\r\n      \r\n         public String getCode() \r\n         {\r\n            \r\n            return code;\r\n         \r\n         }\r\n      \r\n      }\r\n   \r\n      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getParentTypeList(Class&lt;E&gt; clazz) {\r\n      \r\n         final List&lt;Map&lt;String, Object&gt;&gt; typeList = new ArrayList&lt;&gt;();\r\n      \r\n         for(final E type : ParentInterface.values(clazz)) {\r\n            final Map&lt;String, Object&gt; typeMap = new HashMap&lt;&gt;();\r\n            typeMap.put(&quot;code&quot;, type.getCode());\r\n            typeMap.put(&quot;value&quot;, type.getValue());\r\n            typeMap.put(&quot;name&quot;, type.getName());\r\n            typeList.add(typeMap);\r\n         }\r\n      \r\n         return typeList;\r\n      \r\n      }\r\n   \r\n   }\r\n\r\n```\r\n\r\nThis complete example has a main method, so you can run it yourself and see that it works.\r\n\r\nFinally, if you decide to make this method work for other enums that you add into the future, it is very easy to do. Simply ensure that each enum you add implements your interface, and the parameterized type for that interface should be the enum name itself. If that doesn&#39;t make sense, just follow the same format as the other enums and it should work out fine.","title":"How can I remove the duplicate source code with enum and generic in Java?","body":"<p>This answer is related and helpful -- <a href=\"https://stackoverflow.com/a/70596442/10118965\">https://stackoverflow.com/a/70596442/10118965</a></p>\n<p>But here is a more directed answer. In short, using interfaces, enums, and generics allows you to make this much easier to consolidate.</p>\n<p>First, create an interface that has all of the relevant functions. I called mine <code>ParentInterface</code>. In this case, you needed <code>::getName</code>, <code>::getValue</code>, and <code>::getCode</code>.</p>\n<p>Next, you need to create a method inside that interface that returns the values of the enum. This is a more complicated step because it requires you to take a pretty big step into the generics world, combined with enums.</p>\n<p>In short, if we look at the JavaDoc for enums, we see the following.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html</a></p>\n<p><code>Class Enum&lt;E extends Enum&lt;E&gt;&gt;</code></p>\n<p>So in short, if we want to say that some type <code>E</code> is an enum, then we must say something like this.</p>\n<p><code>E extends Enum&lt;E&gt;</code></p>\n<p>Ok, now we know how to say that the parameterized type must be an enum. The reason why we did this is because we actually wanted to get <em><strong>the values</strong></em> of the enum. We can't do that without first making sure that we have an enum.</p>\n<p>But now that we do, we can write a method sort of like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;E extends Enum&lt;E&gt;&gt; List&lt;E&gt; values(final Class&lt;E&gt; clazz)\n{\n\n   return Arrays.asList(clazz.getEnumConstants());\n\n}\n</code></pre>\n<p>This method says that the <code>clazz</code> that we receive as a paramter must be a type of enum. Once it proves that, then we can safely call the <code>Class::getEnumConstants</code> method and be sure that we will get what we expect.</p>\n<p>So, now that we have wrote our static method, next we put a parameterized type on the interface. Specifically, we want to make sure that this interface only refers to enums.</p>\n<p>We add the following parameterized type to the interface.</p>\n<p><code>&lt;E extends Enum&lt;E&gt;&gt;</code></p>\n<p>And then finally, we modify our static method just slightly to make sure that it is only used to generate enum values for enums that implement our interface. Maybe you don't want that restriction, but in case you do, here is what you would add.</p>\n<p><code> &amp; ParentInterface&lt;E&gt;</code></p>\n<p>And with that, we are done. Here is what our interface should roughly look like.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public interface ParentInterface&lt;E extends Enum&lt;E&gt;&gt; // pick a better name\n      {\n      \n         String getName();\n         String getValue();\n         String getCode();\n         \n         public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;E&gt; values(final Class&lt;E&gt; clazz)\n         {\n         \n            return Arrays.asList(clazz.getEnumConstants());\n         \n         }\n      \n      }\n</code></pre>\n<p>Next, we need to make sure all of our enums implement this new interface. That is pretty easy to do.</p>\n<p><code>public enum EstimateFuelType implements ParentInterface&lt;EstimateFuelType&gt;</code></p>\n<p><code>public enum EstimateTransmissionType implements ParentInterface&lt;EstimateTransmissionType&gt;</code></p>\n<p>The actual internals of the enum shouldn't have to change. All you are doing is changing the outside.</p>\n<p>And then finally, let us rework our method to handle this brand new interface and our reworked enums.</p>\n<p>Let's start by building off of our <code>::getFuelTypeList</code> method. That means that we start with a duplicate, but renamed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public static List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList() {\n      \n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\n      \n         for(EstimateFuelType fuelType : EstimateFuelType.values()) {\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\n            transmission.put(&quot;code&quot;, fuelType.getCode());\n            transmission.put(&quot;value&quot;, fuelType.getValue());\n            transmission.put(&quot;name&quot;, fuelType.getName());\n            fuelList.add(transmission);\n         }\n      \n         return fuelList;\n      \n      }\n</code></pre>\n<p>Other than the method name, this method is exactly the same as <code>::getFuelTypeList</code>.</p>\n<p>Let's start by changing the method signature to include the generics that we made. More specifically, let's introduce this method to the idea of our interface.</p>\n<p><code>public static &lt;E extends ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList()</code></p>\n<p>However, if we try to do just this, the compiler will complain at us, saying that if we want <code>E</code> to extend our interface, it must also extend <code>Enum&lt;E&gt;</code> too. Otherwise, it will break the rule of our interface, which says that <em>&quot;Anything that extends me must have an enum in the type parameter that also extends me&quot;</em>. We made this rule earlier on when putting the type parameter on our interface.</p>\n<p>So, to get past this, we must specify that our type parameter also is an enum. That is easy enough to change.</p>\n<p><code>public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList()</code></p>\n<p>Now, the compiler is happy.</p>\n<p>So, because of this change, our method is now aware of a type called <code>E</code>. This type is a subtype of an enum, and is also a subtype of the interface that we made.</p>\n<p>Now that the method is aware of our type, let's actually put it to use. Here is what we have thus far.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList() {\n      \n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\n      \n         for(EstimateFuelType fuelType : EstimateFuelType.values()) {\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\n            transmission.put(&quot;code&quot;, fuelType.getCode());\n            transmission.put(&quot;value&quot;, fuelType.getValue());\n            transmission.put(&quot;name&quot;, fuelType.getName());\n            fuelList.add(transmission);\n         }\n      \n         return fuelList;\n      \n      }\n</code></pre>\n<p>Obviously, everything is still hardcoded to use <code>EstimateFuelType</code>. So let's start by changing that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList() {\n      \n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\n      \n         for(E fuelType : E.values()) {\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\n            transmission.put(&quot;code&quot;, fuelType.getCode());\n            transmission.put(&quot;value&quot;, fuelType.getValue());\n            transmission.put(&quot;name&quot;, fuelType.getName());\n            fuelList.add(transmission);\n         }\n      \n         return fuelList;\n      \n      }\n</code></pre>\n<p>This almost works, but the compiler gets upset and says that it doesn't know where to find the <code>E::values</code> method. Annoyingly enough, Java does not permit us to override static methods, so this solution had to get needlessly complicated. Luckily, we already did the complicated part earlier. Instead of trying to use the unknown <code>E::values</code> method, why don't we use the static method we made earlier?</p>\n<p>However, in order to use that method, we need to provide a <code>Class&lt;E&gt;</code>. Simple enough, let's also modify our method to take in a <code>Class&lt;E&gt;</code>. And let's also replace that unknown method that just threw an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getGenericTypeList(final Class&lt;E&gt; clazz) {\n      \n         List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\n      \n         for(E fuelType : ParentInterface.values(clazz)) {\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\n            transmission.put(&quot;code&quot;, fuelType.getCode());\n            transmission.put(&quot;value&quot;, fuelType.getValue());\n            transmission.put(&quot;name&quot;, fuelType.getName());\n            fuelList.add(transmission);\n         }\n      \n         return fuelList;\n      \n      }\n</code></pre>\n<p>And then that should be it. You can now delete the unnecessary methods that only work for the individual enums. Here is the complete solution, with some refactoring, renaming, and general clean up.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\n\n\n   public class SOQ_20230108\n   {\n   \n      public static void main(String[] args)\n      {\n      \n         System.out.println(getParentTypeList(EstimateFuelType.class));\n         System.out.println(getParentTypeList(EstimateTransmissionType.class));\n      \n      }\n   \n      public interface ParentInterface&lt;E extends Enum&lt;E&gt;&gt; // pick a better name\n      {\n      \n         String getName();\n         String getValue();\n         String getCode();\n         \n         public static &lt;E extends Enum&lt;E&gt;&gt; List&lt;E&gt; values(final Class&lt;E&gt; clazz)\n         {\n         \n            return Arrays.asList(clazz.getEnumConstants());\n         \n         }\n      \n      }\n   \n      public enum EstimateFuelType implements ParentInterface&lt;EstimateFuelType&gt;\n      {\n      \n         GASOLINE(&quot;가솔린&quot;, &quot;A001&quot;, &quot;001&quot;),\n         DIESEL(&quot;디젤&quot;, &quot;A002&quot;, &quot;002&quot;),\n         LPG_GENERAL(&quot;LPG(일반인 구입)&quot;, &quot;A003&quot;, &quot;003&quot;),\n         LPG_ALL(&quot;LPG&quot;, &quot;A004&quot;, &quot;004&quot;),\n         HYBRID(&quot;가솔린+전기&quot;, &quot;A005&quot;, &quot;005&quot;),\n         ELECTRONIC(&quot;전기&quot;, &quot;A009&quot;, &quot;009&quot;),\n         ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\n      \n         final String name;\n         final String value;\n         final String code;\n      \n         EstimateFuelType(String name, String value, String code) \n         {\n            \n            this.name = name;\n            this.value = value;\n            this.code = code;\n         \n         }\n      \n         public String getName() \n         {\n            \n            return name;\n         \n         }\n      \n         public String getValue() \n         {\n            \n            return value;\n         \n         }\n      \n         public String getCode() \n         {\n            \n            return code;\n         \n         }\n      \n      }\n   \n      public enum EstimateTransmissionType implements ParentInterface&lt;EstimateTransmissionType&gt;\n      {\n      \n         AUTO(&quot;오토(A/T)&quot;, &quot;A001&quot;, &quot;001&quot;),\n         MANUAL(&quot;수동(M/T)&quot;, &quot;A002&quot;, &quot;002&quot;),\n         ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\n      \n         final String name;\n         final String value;\n         final String code;\n      \n         EstimateTransmissionType(String name, String value, String code) \n         {\n            \n            this.name = name;\n            this.value = value;\n            this.code = code;\n         \n         }\n      \n         public String getName() \n         {\n            \n            return name;\n         \n         }\n      \n         public String getValue() \n         {\n            \n            return value;\n         \n         }\n      \n         public String getCode() \n         {\n            \n            return code;\n         \n         }\n      \n      }\n   \n      public static &lt;E extends Enum&lt;E&gt; &amp; ParentInterface&lt;E&gt;&gt; List&lt;Map&lt;String, Object&gt;&gt; getParentTypeList(Class&lt;E&gt; clazz) {\n      \n         final List&lt;Map&lt;String, Object&gt;&gt; typeList = new ArrayList&lt;&gt;();\n      \n         for(final E type : ParentInterface.values(clazz)) {\n            final Map&lt;String, Object&gt; typeMap = new HashMap&lt;&gt;();\n            typeMap.put(&quot;code&quot;, type.getCode());\n            typeMap.put(&quot;value&quot;, type.getValue());\n            typeMap.put(&quot;name&quot;, type.getName());\n            typeList.add(typeMap);\n         }\n      \n         return typeList;\n      \n      }\n   \n   }\n\n</code></pre>\n<p>This complete example has a main method, so you can run it yourself and see that it works.</p>\n<p>Finally, if you decide to make this method work for other enums that you add into the future, it is very easy to do. Simply ensure that each enum you add implements your interface, and the parameterized type for that interface should be the enum name itself. If that doesn't make sense, just follow the same format as the other enums and it should work out fine.</p>\n"},{"tags":[],"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673242225,"creation_date":1673241171,"answer_id":75053407,"question_id":75052709,"body_markdown":"The new old wisdom to prefer composition over inheritance seems to apply here. We can do all the common stuff in a delegate class:\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class EnumDemo {\r\n  interface AttributeProvider {\r\n    EstimateAttributes getAttributes();\r\n  }\r\n  \r\n  public enum EstimateTransmissionType implements AttributeProvider {\r\n    AUTO(&quot;오토(A/T)&quot;, &quot;A001&quot;, &quot;001&quot;),\r\n    MANUAL(&quot;수동(M/T)&quot;, &quot;A002&quot;, &quot;002&quot;),\r\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\r\n\r\n    private final final EstimateAttributes attributes;\r\n    \r\n    EstimateTransmissionType(String name, String value, String code) {\r\n      this.attributes = new EstimateAttributes(name, value, code);\r\n    }\r\n\r\n    @Override\r\n    public EstimateAttributes getAttributes() {\r\n      return attributes;\r\n    }\r\n  }\r\n  \r\n  public enum EstimateFuelType implements AttributeProvider {\r\n    GASOLINE(&quot;가솔린&quot;, &quot;A001&quot;, &quot;001&quot;),\r\n    DIESEL(&quot;디젤&quot;, &quot;A002&quot;, &quot;002&quot;),\r\n    LPG_GENERAL(&quot;LPG(일반인 구입)&quot;, &quot;A003&quot;, &quot;003&quot;),\r\n    LPG_ALL(&quot;LPG&quot;, &quot;A004&quot;, &quot;004&quot;),\r\n    HYBRID(&quot;가솔린+전기&quot;, &quot;A005&quot;, &quot;005&quot;),\r\n    ELECTRONIC(&quot;전기&quot;, &quot;A009&quot;, &quot;009&quot;),\r\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\r\n\r\n    private final EstimateAttributes attributes;\r\n\r\n    EstimateFuelType(String name, String value, String code) {\r\n      attributes = new EstimateAttributes(name, value, code);\r\n    }\r\n\r\n    @Override\r\n    public EstimateAttributes getAttributes() {\r\n      return attributes;\r\n    }\r\n  }\r\n  \r\n  static class EstimateAttributes {\r\n    private final String name;\r\n    private final String value;\r\n    private final String code;\r\n\r\n    public EstimateAttributes(String name, String value, String code) {\r\n      this.name = name;\r\n      this.value = value;\r\n      this.code = code;\r\n    }\r\n    \r\n    public Map&lt;String, Object&gt; asMap() {\r\n     Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n     map.put(&quot;name&quot;, name);\r\n     map.put(&quot;value&quot;, value);\r\n     map.put(&quot;code&quot;, code);\r\n     return map;\r\n    }\r\n\r\n     // Add getters if needed.\r\n  }\r\n  \r\n  public static &lt;E extends Enum&lt;E&gt; &amp; AttributeProvider&gt; \r\n      List&lt;Map&lt;String, Object&gt;&gt; getAttributeMaps(Class&lt;E&gt; enumClass) {\r\n    return Arrays.stream(enumClass.getEnumConstants())\r\n        .map(enumValue -&gt; enumValue.getAttributes().asMap())\r\n        .collect(Collectors.toList());\r\n  }\r\n}\r\n```\r\n\r\nNow we can say `EnumDemo.getAttributeMaps(EstimateTransmissionType.class)` and `EnumDemo.getAttributeMaps(EstimateFuelType.class)`.","title":"How can I remove the duplicate source code with enum and generic in Java?","body":"<p>The new old wisdom to prefer composition over inheritance seems to apply here. We can do all the common stuff in a delegate class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Map;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class EnumDemo {\n  interface AttributeProvider {\n    EstimateAttributes getAttributes();\n  }\n  \n  public enum EstimateTransmissionType implements AttributeProvider {\n    AUTO(&quot;오토(A/T)&quot;, &quot;A001&quot;, &quot;001&quot;),\n    MANUAL(&quot;수동(M/T)&quot;, &quot;A002&quot;, &quot;002&quot;),\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\n\n    private final final EstimateAttributes attributes;\n    \n    EstimateTransmissionType(String name, String value, String code) {\n      this.attributes = new EstimateAttributes(name, value, code);\n    }\n\n    @Override\n    public EstimateAttributes getAttributes() {\n      return attributes;\n    }\n  }\n  \n  public enum EstimateFuelType implements AttributeProvider {\n    GASOLINE(&quot;가솔린&quot;, &quot;A001&quot;, &quot;001&quot;),\n    DIESEL(&quot;디젤&quot;, &quot;A002&quot;, &quot;002&quot;),\n    LPG_GENERAL(&quot;LPG(일반인 구입)&quot;, &quot;A003&quot;, &quot;003&quot;),\n    LPG_ALL(&quot;LPG&quot;, &quot;A004&quot;, &quot;004&quot;),\n    HYBRID(&quot;가솔린+전기&quot;, &quot;A005&quot;, &quot;005&quot;),\n    ELECTRONIC(&quot;전기&quot;, &quot;A009&quot;, &quot;009&quot;),\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\n\n    private final EstimateAttributes attributes;\n\n    EstimateFuelType(String name, String value, String code) {\n      attributes = new EstimateAttributes(name, value, code);\n    }\n\n    @Override\n    public EstimateAttributes getAttributes() {\n      return attributes;\n    }\n  }\n  \n  static class EstimateAttributes {\n    private final String name;\n    private final String value;\n    private final String code;\n\n    public EstimateAttributes(String name, String value, String code) {\n      this.name = name;\n      this.value = value;\n      this.code = code;\n    }\n    \n    public Map&lt;String, Object&gt; asMap() {\n     Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n     map.put(&quot;name&quot;, name);\n     map.put(&quot;value&quot;, value);\n     map.put(&quot;code&quot;, code);\n     return map;\n    }\n\n     // Add getters if needed.\n  }\n  \n  public static &lt;E extends Enum&lt;E&gt; &amp; AttributeProvider&gt; \n      List&lt;Map&lt;String, Object&gt;&gt; getAttributeMaps(Class&lt;E&gt; enumClass) {\n    return Arrays.stream(enumClass.getEnumConstants())\n        .map(enumValue -&gt; enumValue.getAttributes().asMap())\n        .collect(Collectors.toList());\n  }\n}\n</code></pre>\n<p>Now we can say <code>EnumDemo.getAttributeMaps(EstimateTransmissionType.class)</code> and <code>EnumDemo.getAttributeMaps(EstimateFuelType.class)</code>.</p>\n"}],"owner":{"account_id":4346313,"reputation":71,"user_id":3548162,"accept_rate":100,"display_name":"Christopher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75053164,"answer_count":2,"score":2,"last_activity_date":1673242225,"creation_date":1673231576,"question_id":75052709,"body_markdown":"I would like to delete the duplicate source code below.\r\n\r\n    public static List&lt;Map&lt;String, Object&gt;&gt; getTransmissionTypeList() {\r\n\r\n        List&lt;Map&lt;String, Object&gt;&gt; transmissionList = new ArrayList&lt;&gt;();\r\n\r\n        for(EstimateTransmissionType transmissionType : EstimateTransmissionType.values()) {\r\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\r\n            transmission.put(&quot;code&quot;, transmissionType.getCode());\r\n            transmission.put(&quot;value&quot;, transmissionType.getValue());\r\n            transmission.put(&quot;name&quot;, transmissionType.getName());\r\n            transmissionList.add(transmission);\r\n        }\r\n\r\n        return transmissionList;\r\n\r\n    }\r\n\r\n    public static List&lt;Map&lt;String, Object&gt;&gt; getFuelTypeList() {\r\n\r\n        List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\r\n\r\n        for(EstimateFuelType fuelType : EstimateFuelType.values()) {\r\n            Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\r\n            transmission.put(&quot;code&quot;, fuelType.getCode());\r\n            transmission.put(&quot;value&quot;, fuelType.getValue());\r\n            transmission.put(&quot;name&quot;, fuelType.getName());\r\n            fuelList.add(transmission);\r\n        }\r\n\r\n        return fuelList;\r\n\r\n    }\r\n\r\nFor the `EstimateTransmissionType` and `EstimateFuelType`, those two enums are totally same structure inside.\r\n\r\n\r\n```\r\npublic enum EstimateTransmissionType {\r\n\r\n    AUTO(&quot;오토(A/T)&quot;, &quot;A001&quot;, &quot;001&quot;),\r\n    MANUAL(&quot;수동(M/T)&quot;, &quot;A002&quot;, &quot;002&quot;),\r\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\r\n\r\n    final String name;\r\n    final String value;\r\n    final String code;\r\n\r\n    EstimateTransmissionType(String name, String value, String code) {\r\n        this.name = name;\r\n        this.value = value;\r\n        this.code = code;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public String getCode() {\r\n        return code;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic enum EstimateFuelType {\r\n\r\n    GASOLINE(&quot;가솔린&quot;, &quot;A001&quot;, &quot;001&quot;),\r\n    DIESEL(&quot;디젤&quot;, &quot;A002&quot;, &quot;002&quot;),\r\n    LPG_GENERAL(&quot;LPG(일반인 구입)&quot;, &quot;A003&quot;, &quot;003&quot;),\r\n    LPG_ALL(&quot;LPG&quot;, &quot;A004&quot;, &quot;004&quot;),\r\n    HYBRID(&quot;가솔린+전기&quot;, &quot;A005&quot;, &quot;005&quot;),\r\n    ELECTRONIC(&quot;전기&quot;, &quot;A009&quot;, &quot;009&quot;),\r\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\r\n\r\n    final String name;\r\n    final String value;\r\n    final String code;\r\n\r\n    EstimateFuelType(String name, String value, String code) {\r\n        this.name = name;\r\n        this.value = value;\r\n        this.code = code;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public String getCode() {\r\n        return code;\r\n    }\r\n}\r\n```\r\n\r\nI really want to improve my source code quality, but I have no idea where to start this.\r\nCould somebody give me a good inspiration or clear answer?","title":"How can I remove the duplicate source code with enum and generic in Java?","body":"<p>I would like to delete the duplicate source code below.</p>\n<pre><code>public static List&lt;Map&lt;String, Object&gt;&gt; getTransmissionTypeList() {\n\n    List&lt;Map&lt;String, Object&gt;&gt; transmissionList = new ArrayList&lt;&gt;();\n\n    for(EstimateTransmissionType transmissionType : EstimateTransmissionType.values()) {\n        Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\n        transmission.put(&quot;code&quot;, transmissionType.getCode());\n        transmission.put(&quot;value&quot;, transmissionType.getValue());\n        transmission.put(&quot;name&quot;, transmissionType.getName());\n        transmissionList.add(transmission);\n    }\n\n    return transmissionList;\n\n}\n\npublic static List&lt;Map&lt;String, Object&gt;&gt; getFuelTypeList() {\n\n    List&lt;Map&lt;String, Object&gt;&gt; fuelList = new ArrayList&lt;&gt;();\n\n    for(EstimateFuelType fuelType : EstimateFuelType.values()) {\n        Map&lt;String, Object&gt; transmission = new HashMap&lt;&gt;();\n        transmission.put(&quot;code&quot;, fuelType.getCode());\n        transmission.put(&quot;value&quot;, fuelType.getValue());\n        transmission.put(&quot;name&quot;, fuelType.getName());\n        fuelList.add(transmission);\n    }\n\n    return fuelList;\n\n}\n</code></pre>\n<p>For the <code>EstimateTransmissionType</code> and <code>EstimateFuelType</code>, those two enums are totally same structure inside.</p>\n<pre><code>public enum EstimateTransmissionType {\n\n    AUTO(&quot;오토(A/T)&quot;, &quot;A001&quot;, &quot;001&quot;),\n    MANUAL(&quot;수동(M/T)&quot;, &quot;A002&quot;, &quot;002&quot;),\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\n\n    final String name;\n    final String value;\n    final String code;\n\n    EstimateTransmissionType(String name, String value, String code) {\n        this.name = name;\n        this.value = value;\n        this.code = code;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public String getCode() {\n        return code;\n    }\n}\n</code></pre>\n<pre><code>public enum EstimateFuelType {\n\n    GASOLINE(&quot;가솔린&quot;, &quot;A001&quot;, &quot;001&quot;),\n    DIESEL(&quot;디젤&quot;, &quot;A002&quot;, &quot;002&quot;),\n    LPG_GENERAL(&quot;LPG(일반인 구입)&quot;, &quot;A003&quot;, &quot;003&quot;),\n    LPG_ALL(&quot;LPG&quot;, &quot;A004&quot;, &quot;004&quot;),\n    HYBRID(&quot;가솔린+전기&quot;, &quot;A005&quot;, &quot;005&quot;),\n    ELECTRONIC(&quot;전기&quot;, &quot;A009&quot;, &quot;009&quot;),\n    ETC(&quot;기타&quot;, &quot;A999&quot;, &quot;999&quot;);\n\n    final String name;\n    final String value;\n    final String code;\n\n    EstimateFuelType(String name, String value, String code) {\n        this.name = name;\n        this.value = value;\n        this.code = code;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public String getCode() {\n        return code;\n    }\n}\n</code></pre>\n<p>I really want to improve my source code quality, but I have no idea where to start this.\nCould somebody give me a good inspiration or clear answer?</p>\n"},{"tags":["java","spring","type-conversion"],"answers":[{"tags":[],"owner":{"account_id":1841280,"reputation":2686,"user_id":1670616,"display_name":"sgpalit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1349699075,"creation_date":1349699075,"answer_id":12781705,"question_id":12779329,"body_markdown":"write a custom conversionService\r\n\r\n    public class CustomerConversionServiceFactoryBean extends ConversionServiceFactoryBean {\r\n\r\n    \tList&lt;Converter&lt;Object, Object&gt;&gt; converters = new ArrayList&lt;&gt;();\r\n\t\r\n    \tpublic CustomerConversionServiceFactoryBean() {\r\n    \t\tsuper();\r\n\t\t\r\n\t\tDefaultConversionService conversionservice = (DefaultConversionService)  super.getObject();\r\n\t\t\r\n    \t\tfor(int i=0;i&lt;converters.size();i++){\r\n    \t\t\tconversionservice.addConverter(converters.get(i));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nthen change your xml\r\n\r\n    &lt;bean id=&quot;conversionService&quot;\r\n\t\tclass=&quot;CustomerConversionServiceFactoryBean&quot; &gt;\r\n\t\t&lt;property name=&quot;converters&quot; &gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;bean class=&quot;CustomConverter&quot;  /&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nI think this will help you...","title":"Spring ConversionService adding Converters","body":"<p>write a custom conversionService</p>\n\n<pre><code>public class CustomerConversionServiceFactoryBean extends ConversionServiceFactoryBean {\n\n    List&lt;Converter&lt;Object, Object&gt;&gt; converters = new ArrayList&lt;&gt;();\n\n    public CustomerConversionServiceFactoryBean() {\n        super();\n\n    DefaultConversionService conversionservice = (DefaultConversionService)  super.getObject();\n\n        for(int i=0;i&lt;converters.size();i++){\n            conversionservice.addConverter(converters.get(i));\n        }\n    }\n}\n</code></pre>\n\n<p>then change your xml</p>\n\n<pre><code>&lt;bean id=\"conversionService\"\n    class=\"CustomerConversionServiceFactoryBean\" &gt;\n    &lt;property name=\"converters\" &gt;\n        &lt;list&gt;\n            &lt;bean class=\"CustomConverter\"  /&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>I think this will help you...</p>\n"},{"tags":[],"owner":{"account_id":70704,"reputation":49430,"user_id":204788,"display_name":"Biju Kunjummen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349700891,"creation_date":1349700891,"answer_id":12782201,"question_id":12779329,"body_markdown":"Came across a very interesting way to do this in Stackoverflow - https://stackoverflow.com/a/12760579/204788  \r\n\r\nUsing a feature called [Collection merging][1], you can essentially do this:\r\n\r\n    &lt;bean id=&quot;customConversionService&quot; class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot; parent=&quot;conversionService&quot;&gt;\r\n        &lt;property name=&quot;converters&quot;&gt;\r\n            &lt;list merge=&quot;true&quot;&gt;\r\n                &lt;bean id=&quot;StringToLoggerConverter&quot; class=&quot;com.citi.spring.converter.LoggerConverter&quot; /&gt;\r\n           &lt;/list&gt;\r\n       &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-collection-elements-merging","title":"Spring ConversionService adding Converters","body":"<p>Came across a very interesting way to do this in Stackoverflow - <a href=\"https://stackoverflow.com/a/12760579/204788\">https://stackoverflow.com/a/12760579/204788</a>  </p>\n\n<p>Using a feature called <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/beans.html#beans-collection-elements-merging\" rel=\"nofollow noreferrer\">Collection merging</a>, you can essentially do this:</p>\n\n<pre><code>&lt;bean id=\"customConversionService\" class=\"org.springframework.context.support.ConversionServiceFactoryBean\" parent=\"conversionService\"&gt;\n    &lt;property name=\"converters\"&gt;\n        &lt;list merge=\"true\"&gt;\n            &lt;bean id=\"StringToLoggerConverter\" class=\"com.citi.spring.converter.LoggerConverter\" /&gt;\n       &lt;/list&gt;\n   &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1915780,"reputation":1791,"user_id":1728402,"accept_rate":53,"display_name":"nikkatsa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1349780475,"creation_date":1349780475,"answer_id":12798635,"question_id":12779329,"body_markdown":"While experimenting with different ways and even following spring source code in some i came across with an interesting thing.\r\n\r\nThe only way i found to use conversionService without overriding the existing converters with my custom ones was either to extend or re-implement the conversionService calling the super class&#39;s afterPropertiesSet() method to register the default converters and then add the custom ones.\r\n\r\nBut even if i was using that way, at runtime i was getting an exception that no converter was found for my specific types (e.g. from String to Logger). \r\n\r\nThat triggered my interest and i followed spring source code to find out why and i realized that spring was trying to find a custom converter registered with PropertyEditor. I am not sure why this is happening. I have to add here that my application is not using spring mvc and conversionService might somehow need to be registered and i didn&#39;t do it. \r\n\r\nFinally, i solved the issue with registering a custom converter using Property editor. This documentation can be viewed as reference:\r\n\r\nhttp://static.springsource.org/spring/docs/current/spring-framework-reference/html/validation.html\r\n\r\nI would be very interested in knowing why Spring was not finding my registered custom converters in the conversionService&#39;s registry (or at least why spring was not looking at that registry to find the custom converters). Was i missing any configuration?","title":"Spring ConversionService adding Converters","body":"<p>While experimenting with different ways and even following spring source code in some i came across with an interesting thing.</p>\n\n<p>The only way i found to use conversionService without overriding the existing converters with my custom ones was either to extend or re-implement the conversionService calling the super class's afterPropertiesSet() method to register the default converters and then add the custom ones.</p>\n\n<p>But even if i was using that way, at runtime i was getting an exception that no converter was found for my specific types (e.g. from String to Logger). </p>\n\n<p>That triggered my interest and i followed spring source code to find out why and i realized that spring was trying to find a custom converter registered with PropertyEditor. I am not sure why this is happening. I have to add here that my application is not using spring mvc and conversionService might somehow need to be registered and i didn't do it. </p>\n\n<p>Finally, i solved the issue with registering a custom converter using Property editor. This documentation can be viewed as reference:</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/current/spring-framework-reference/html/validation.html\" rel=\"noreferrer\">http://static.springsource.org/spring/docs/current/spring-framework-reference/html/validation.html</a></p>\n\n<p>I would be very interested in knowing why Spring was not finding my registered custom converters in the conversionService's registry (or at least why spring was not looking at that registry to find the custom converters). Was i missing any configuration?</p>\n"},{"tags":[],"owner":{"account_id":2073508,"reputation":2779,"user_id":1847482,"accept_rate":60,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396511008,"creation_date":1396511008,"answer_id":22830974,"question_id":12779329,"body_markdown":"It&#39;s enough to override the ConversionServiceFactoryBean.afterPropertiesSet() and set the ConversionService object to your converters there.\r\nLet your converters implement some interface that allows to set a ConversionService object, say ConversionServiceAware.\r\nThe only problem is to get access to the registered converters, so you&#39;ll also have to override the &#39;setConverters()&#39; method.\r\n\r\n    public class MyFormattingConversionServiceFactoryBean extends FormattingConversionServiceFactoryBean {\r\n    \r\n        private Set&lt;?&gt; cachedConverters = new LinkedHashSet&lt;&gt;();\r\n    \r\n        @Override\r\n        public void setConverters(Set&lt;?&gt; converters) {\r\n            super.setConverters(converters);\r\n            this.cachedConverters = new LinkedHashSet&lt;&gt;(converters);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void afterPropertiesSet() {\r\n            super.afterPropertiesSet();\r\n            FormattingConversionService conversionService = getObject();\r\n            for (Object converter : cachedConverters) {\r\n                if (converter instanceof ConversionServiceAware) {\r\n                    ((ConversionServiceAware) converter).setConversionService(conversionService);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Spring ConversionService adding Converters","body":"<p>It's enough to override the ConversionServiceFactoryBean.afterPropertiesSet() and set the ConversionService object to your converters there.\nLet your converters implement some interface that allows to set a ConversionService object, say ConversionServiceAware.\nThe only problem is to get access to the registered converters, so you'll also have to override the 'setConverters()' method.</p>\n\n<pre><code>public class MyFormattingConversionServiceFactoryBean extends FormattingConversionServiceFactoryBean {\n\n    private Set&lt;?&gt; cachedConverters = new LinkedHashSet&lt;&gt;();\n\n    @Override\n    public void setConverters(Set&lt;?&gt; converters) {\n        super.setConverters(converters);\n        this.cachedConverters = new LinkedHashSet&lt;&gt;(converters);\n\n    }\n\n    @Override\n    public void afterPropertiesSet() {\n        super.afterPropertiesSet();\n        FormattingConversionService conversionService = getObject();\n        for (Object converter : cachedConverters) {\n            if (converter instanceof ConversionServiceAware) {\n                ((ConversionServiceAware) converter).setConversionService(conversionService);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":517348,"reputation":15463,"user_id":1238957,"accept_rate":70,"display_name":"Christian Vielma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404157259,"creation_date":1404157259,"answer_id":24497729,"question_id":12779329,"body_markdown":"You can also add it dinamically using addConverter method on your DefaultConversionService-ish class:\r\n\r\n    DefaultConversionService cs = new &lt;YourClassThatInheritsFromDefaultConversionService or DefaultConversionService&gt;();\r\n    \r\n    cs.addConverter(new MyConverter());\r\n\r\n","title":"Spring ConversionService adding Converters","body":"<p>You can also add it dinamically using addConverter method on your DefaultConversionService-ish class:</p>\n\n<pre><code>DefaultConversionService cs = new &lt;YourClassThatInheritsFromDefaultConversionService or DefaultConversionService&gt;();\n\ncs.addConverter(new MyConverter());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4782401,"reputation":206,"user_id":3863769,"display_name":"Christopher"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1407414142,"creation_date":1407414142,"answer_id":25182439,"question_id":12779329,"body_markdown":"For anyone who stumbles on this now via a google search or similar 2+ years after the question was originally posted, adding converters has been made much easier through Java Config: `WebMvcConfigurerAdapter` provides the `addFormatters(FormatterRegistry)` method that can be used to specify additional custom converters.","title":"Spring ConversionService adding Converters","body":"<p>For anyone who stumbles on this now via a google search or similar 2+ years after the question was originally posted, adding converters has been made much easier through Java Config: <code>WebMvcConfigurerAdapter</code> provides the <code>addFormatters(FormatterRegistry)</code> method that can be used to specify additional custom converters.</p>\n"},{"tags":[],"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545065817,"creation_date":1433362516,"answer_id":30629803,"question_id":12779329,"body_markdown":"With spring &gt; 4 it is no more necessary to implement an own derivation of the ConversionService. Initialize it in a @Configuration annotated class as follows:\r\n\r\n    @Configuration\r\n    public class ConversionServiceProvider\r\n    {\r\n        @Autowired\r\n        private MyConverterImpl myConverter;\r\n\r\n        @Bean\r\n        public ConversionService getConversionService()\r\n        {\r\n            ConversionServiceFactoryBean bean = new ConversionServiceFactoryBean();\r\n            bean.setConverters( getConverters() );\r\n            bean.afterPropertiesSet();\r\n            ConversionService object = bean.getObject();\r\n            return object;\r\n        }\r\n\r\n        private Set&lt;Converter&lt;?, ?&gt;&gt; getConverters()\r\n        {\r\n            Set&lt;Converter&lt;?, ?&gt;&gt; converters = new HashSet&lt;Converter&lt;?, ?&gt;&gt;();\r\n\r\n            converters.add( myConverter );\r\n            // add here more custom converters, either as spring bean references or directly instantiated\r\n\r\n            return converters;\r\n        }\r\n    }","title":"Spring ConversionService adding Converters","body":"<p>With spring > 4 it is no more necessary to implement an own derivation of the ConversionService. Initialize it in a @Configuration annotated class as follows:</p>\n\n<pre><code>@Configuration\npublic class ConversionServiceProvider\n{\n    @Autowired\n    private MyConverterImpl myConverter;\n\n    @Bean\n    public ConversionService getConversionService()\n    {\n        ConversionServiceFactoryBean bean = new ConversionServiceFactoryBean();\n        bean.setConverters( getConverters() );\n        bean.afterPropertiesSet();\n        ConversionService object = bean.getObject();\n        return object;\n    }\n\n    private Set&lt;Converter&lt;?, ?&gt;&gt; getConverters()\n    {\n        Set&lt;Converter&lt;?, ?&gt;&gt; converters = new HashSet&lt;Converter&lt;?, ?&gt;&gt;();\n\n        converters.add( myConverter );\n        // add here more custom converters, either as spring bean references or directly instantiated\n\n        return converters;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9034081,"reputation":39,"user_id":6730751,"display_name":"limon4ick"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1568817354,"creation_date":1568635513,"answer_id":57956525,"question_id":12779329,"body_markdown":"This variant works for me.\r\nIf you use java configuration, you can add your converters to existing `GenericConversionService` \r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html\r\n\r\n    Config methods may have an arbitrary name and any number of arguments; each of those arguments will be autowired with a matching bean in the Spring container. Bean property setter methods are effectively just a special case of such a general config method. Such config methods do not have to be public.\r\n\r\n        @Configuration\r\n        class MyConfig {\r\n    \r\n        @Autowired\r\n        void conversionService(GenericConversionService genericConversionService) {\r\n            genericConversionService.addConverter(String.class, UUID.class, UUID::fromString);\r\n            genericConversionService.addConverter(String.class, DateTime.class, DateTime::parse);\r\n            genericConversionService.addConverter(String.class, EnumState.class, EnumState::valueOf);\r\n        }\r\n    }","title":"Spring ConversionService adding Converters","body":"<p>This variant works for me.\nIf you use java configuration, you can add your converters to existing <code>GenericConversionService</code> </p>\n\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/Autowired.html</a></p>\n\n<pre><code>Config methods may have an arbitrary name and any number of arguments; each of those arguments will be autowired with a matching bean in the Spring container. Bean property setter methods are effectively just a special case of such a general config method. Such config methods do not have to be public.\n\n    @Configuration\n    class MyConfig {\n\n    @Autowired\n    void conversionService(GenericConversionService genericConversionService) {\n        genericConversionService.addConverter(String.class, UUID.class, UUID::fromString);\n        genericConversionService.addConverter(String.class, DateTime.class, DateTime::parse);\n        genericConversionService.addConverter(String.class, EnumState.class, EnumState::valueOf);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3068102,"reputation":194,"user_id":2599371,"display_name":"LionH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580934553,"creation_date":1580934553,"answer_id":60083638,"question_id":12779329,"body_markdown":"To resolve any circular dependencies, here the steps I followed (Spring Boot v5.2.1):\r\n\r\nRegister a simple conversionService\r\n\r\n    @Configuration\r\n    public class ConverterProvider {\r\n    \r\n        @Bean\r\n        public ConversionService conversionService() {\r\n            ConversionService conversionService = new GenericConversionService();\r\n            return conversionService;\r\n        }\r\n    }\r\n\r\nInject your custom converters\r\n\r\n    @Component\r\n    public class ConvertersInjection {\r\n    \r\n        @Autowired\r\n        private GenericConversionService conversionService;\r\n    \r\n        @Autowired\r\n        private void converters(Set&lt;Converter&gt; converters) {\r\n            converters.forEach(conversionService::addConverter);\r\n        }\r\n    }\r\nThe converter can even autowire your conversionService\r\n\r\n    @Component\r\n    public class PushNotificationConverter implements Converter&lt;PushNotificationMessages.PushNotification, GCM&gt; {\r\n        @Lazy\r\n        @Autowired\r\n        private ConversionService conversionService;\r\n    \r\n        @Override\r\n        public GCM convert(PushNotificationMessages.PushNotification source) {\r\n            GCM gcm = new GCM();\r\n            if (source.hasContent()) {\r\n                PushNotificationMessages.PushNotification.Content content = source.getContent();\r\n                if (content.hasData()) {\r\n                    conversionService.convert(content.getData(), gcm.getData().getClass());\r\n                } else if (content.hasNotification()) {\r\n                    conversionService.convert(content.getNotification(), gcm.getNotification().getClass());\r\n                }\r\n            }\r\n            return gcm;\r\n        }\r\n    }","title":"Spring ConversionService adding Converters","body":"<p>To resolve any circular dependencies, here the steps I followed (Spring Boot v5.2.1):</p>\n\n<p>Register a simple conversionService</p>\n\n<pre><code>@Configuration\npublic class ConverterProvider {\n\n    @Bean\n    public ConversionService conversionService() {\n        ConversionService conversionService = new GenericConversionService();\n        return conversionService;\n    }\n}\n</code></pre>\n\n<p>Inject your custom converters</p>\n\n<pre><code>@Component\npublic class ConvertersInjection {\n\n    @Autowired\n    private GenericConversionService conversionService;\n\n    @Autowired\n    private void converters(Set&lt;Converter&gt; converters) {\n        converters.forEach(conversionService::addConverter);\n    }\n}\n</code></pre>\n\n<p>The converter can even autowire your conversionService</p>\n\n<pre><code>@Component\npublic class PushNotificationConverter implements Converter&lt;PushNotificationMessages.PushNotification, GCM&gt; {\n    @Lazy\n    @Autowired\n    private ConversionService conversionService;\n\n    @Override\n    public GCM convert(PushNotificationMessages.PushNotification source) {\n        GCM gcm = new GCM();\n        if (source.hasContent()) {\n            PushNotificationMessages.PushNotification.Content content = source.getContent();\n            if (content.hasData()) {\n                conversionService.convert(content.getData(), gcm.getData().getClass());\n            } else if (content.hasNotification()) {\n                conversionService.convert(content.getNotification(), gcm.getNotification().getClass());\n            }\n        }\n        return gcm;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4328490,"reputation":1080,"user_id":3534593,"accept_rate":67,"display_name":"coretechie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673242213,"creation_date":1673242213,"answer_id":75053479,"question_id":12779329,"body_markdown":"My very very old code had the converters added in this class. To fix my issue I had to add one more converter just by adding extra lines in the same class&#39;s `addFormatters` (overridden) method. ```WebMvcContext implements WebMvcConfigurer```\r\n\r\nLines:\r\n\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n    .....\r\n    registry.addConverter( SourceType.class, TargetType.class, converter);","title":"Spring ConversionService adding Converters","body":"<p>My very very old code had the converters added in this class. To fix my issue I had to add one more converter just by adding extra lines in the same class's <code>addFormatters</code> (overridden) method. <code>WebMvcContext implements WebMvcConfigurer</code></p>\n<p>Lines:</p>\n<pre><code>@Override\npublic void addFormatters(FormatterRegistry registry) {\n.....\nregistry.addConverter( SourceType.class, TargetType.class, converter);\n</code></pre>\n"}],"owner":{"account_id":1915780,"reputation":1791,"user_id":1728402,"accept_rate":53,"display_name":"nikkatsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38897,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":12798635,"answer_count":10,"score":19,"last_activity_date":1673242213,"creation_date":1349690184,"question_id":12779329,"body_markdown":"I searched for the below problem, but couldn&#39;t find an answer.\r\n\r\nI want to use spring&#39;s conversion service by writing my custom converter that implements &lt;b&gt;org.springframework.core.convert.converter.Converter&lt;S, T&gt;&lt;/b&gt;.\r\n\r\nThen i add my custom converter as below:\r\n\r\n    &lt;bean id=&quot;conversionService&quot; class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;converters&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;bean id=&quot;StringToLoggerConverter&quot; class=&quot;com.citi.spring.converter.LoggerConverter&quot; /&gt;\r\n           &lt;/list&gt;\r\n       &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nWhen doing the above my application initialization fails, because i am overriding bean conversionService and registering only my custom converter.\r\n\r\nHow can i not override the conversionService and only add my custom converter to the list of converters, at the same time keeping the existing ones?\r\n\r\nThanks in advance.\r\n","title":"Spring ConversionService adding Converters","body":"<p>I searched for the below problem, but couldn't find an answer.</p>\n\n<p>I want to use spring's conversion service by writing my custom converter that implements <b>org.springframework.core.convert.converter.Converter</b>.</p>\n\n<p>Then i add my custom converter as below:</p>\n\n<pre><code>&lt;bean id=\"conversionService\" class=\"org.springframework.context.support.ConversionServiceFactoryBean\"&gt;\n    &lt;property name=\"converters\"&gt;\n        &lt;list&gt;\n            &lt;bean id=\"StringToLoggerConverter\" class=\"com.citi.spring.converter.LoggerConverter\" /&gt;\n       &lt;/list&gt;\n   &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>When doing the above my application initialization fails, because i am overriding bean conversionService and registering only my custom converter.</p>\n\n<p>How can i not override the conversionService and only add my custom converter to the list of converters, at the same time keeping the existing ones?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":15350717,"reputation":420,"user_id":11074576,"display_name":"daya pangestu"},"score":0,"creation_date":1673231128,"post_id":75052648,"comment_id":132444704,"body_markdown":"ditch your online teacher, findViewById was obsolete way to get reference view in android, use viewBinding it would never throw NPE, there is tons of tutorial of how to use viewbinding out there","body":"ditch your online teacher, findViewById was obsolete way to get reference view in android, use viewBinding it would never throw NPE, there is tons of tutorial of how to use viewbinding out there"}],"answers":[{"tags":[],"owner":{"account_id":23799293,"reputation":86,"user_id":17809754,"display_name":"Gourav Gautam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673240357,"creation_date":1673240357,"answer_id":75053345,"question_id":75052648,"body_markdown":"Initialise views below set content\r\n\r\n\r\n\r\n\r\n  \r\n\r\n      super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n    \r\n    \r\n    heading1 = findViewById(R.id.textView_heading);\r\n    counter_text1 = findViewById(R.id.textView_counter);\r\n     btn1 = findViewById(R.id.button_counter);\r\n\r\n\r\nYou can use view binding which make your work more easier \r\n","title":"how to solve this error : &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference","body":"<p>Initialise views below set content</p>\n<pre><code>  super.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main);\n\n\nheading1 = findViewById(R.id.textView_heading);\ncounter_text1 = findViewById(R.id.textView_counter);\n btn1 = findViewById(R.id.button_counter);\n</code></pre>\n<p>You can use view binding which make your work more easier</p>\n"},{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673242196,"creation_date":1673242196,"answer_id":75053476,"question_id":75052648,"body_markdown":"#### - Here, you need to change just the line up and down. Because you declare `findViewById()` first of inflating XML Layout.\r\n\r\n\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main); // Raise your layout to Java class level.\r\n\r\n    // Then find Your view from xml\r\n    btn1 = findViewById(R.id.button_counter);\r\n    ...\r\n}\r\n```","title":"how to solve this error : &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference","body":"<h4>- Here, you need to change just the line up and down. Because you declare <code>findViewById()</code> first of inflating XML Layout.</h4>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main); // Raise your layout to Java class level.\n\n    // Then find Your view from xml\n    btn1 = findViewById(R.id.button_counter);\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":19460542,"reputation":23,"user_id":14234955,"display_name":"Shambhu Jagtap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75053345,"answer_count":2,"score":0,"last_activity_date":1673242196,"creation_date":1673230798,"question_id":75052648,"body_markdown":"I am trying to code a counter app in which pressing the &quot;Button&quot; increments the counter and displays it in the TextView. I followed the exact same procedure as my online teacher. But, the code is not running.\r\n\r\nXML code:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/wall_grad&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView_heading&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;208dp&quot;\r\n        android:text=&quot;The counter app&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView_counter&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;84dp&quot;\r\n        android:text=&quot;0&quot;\r\n        android:textSize=&quot;25sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView_heading&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button_counter&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot;\r\n        android:textSize=&quot;22sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView_counter&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.198&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\nJava Code:\r\n\r\n```\r\npackage com.example.counter_08_01_23;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    TextView heading1 , counter_text1;\r\n    Button btn1;\r\n    int counter = 0;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n        heading1 = findViewById(R.id.textView_heading);\r\n        counter_text1 = findViewById(R.id.textView_counter);\r\n        btn1 = findViewById(R.id.button_counter);\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Adding functionality\r\n\r\n        btn1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                counter_text1.setText(inc_counter());\r\n            }\r\n        });\r\n    }\r\n\r\n    public int inc_counter(){\r\n        return ++counter;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nThe Log is as follows :\r\n&gt; \r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.counter_08_01_23, PID: 22639\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.counter_08_01_23/com.example.counter_08_01_23.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3197)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3334)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:113)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:71)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2025)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:226)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7191)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:499)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:942)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n        at com.example.counter_08_01_23.MainActivity.onCreate(MainActivity.java:28)\r\n        at android.app.Activity.performCreate(Activity.java:7376)\r\n        at android.app.Activity.performCreate(Activity.java:7367)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3177)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3334)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:113)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:71)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2025)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:226)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7191)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:499)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:942)&#160;\r\nI/Process: Sending signal. PID: 22639 SIG: 9\r\n\r\n","title":"how to solve this error : &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference","body":"<p>I am trying to code a counter app in which pressing the &quot;Button&quot; increments the counter and displays it in the TextView. I followed the exact same procedure as my online teacher. But, the code is not running.</p>\n<p>XML code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/wall_grad&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView_heading&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;208dp&quot;\n        android:text=&quot;The counter app&quot;\n        android:textSize=&quot;24sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView_counter&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;84dp&quot;\n        android:text=&quot;0&quot;\n        android:textSize=&quot;25sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView_heading&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button_counter&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Button&quot;\n        android:textSize=&quot;22sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView_counter&quot;\n        app:layout_constraintVertical_bias=&quot;0.198&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>Java Code:</p>\n<pre><code>package com.example.counter_08_01_23;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    TextView heading1 , counter_text1;\n    Button btn1;\n    int counter = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        heading1 = findViewById(R.id.textView_heading);\n        counter_text1 = findViewById(R.id.textView_counter);\n        btn1 = findViewById(R.id.button_counter);\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Adding functionality\n\n        btn1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                counter_text1.setText(inc_counter());\n            }\n        });\n    }\n\n    public int inc_counter(){\n        return ++counter;\n    }\n\n}\n</code></pre>\n<p>The Log is as follows :</p>\n<blockquote>\n</blockquote>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.counter_08_01_23, PID: 22639\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.counter_08_01_23/com.example.counter_08_01_23.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3197)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3334)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:113)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:71)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2025)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:226)\nat android.app.ActivityThread.main(ActivityThread.java:7191)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:499)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:942)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\nat com.example.counter_08_01_23.MainActivity.onCreate(MainActivity.java:28)\nat android.app.Activity.performCreate(Activity.java:7376)\nat android.app.Activity.performCreate(Activity.java:7367)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3177)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3334) \nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78) \nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:113) \nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:71) \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2025) \nat android.os.Handler.dispatchMessage(Handler.java:106) \nat android.os.Looper.loop(Looper.java:226) \nat android.app.ActivityThread.main(ActivityThread.java:7191) \nat java.lang.reflect.Method.invoke(Native Method) \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:499) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:942) \nI/Process: Sending signal. PID: 22639 SIG: 9</p>\n"},{"tags":["java","json","object","gson"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1464262440,"post_id":37459368,"comment_id":62418440,"body_markdown":"And what happens if you only use `Gson gson = new Gson()`?","body":"And what happens if you only use <code>Gson gson = new Gson()</code>?"},{"owner":{"account_id":2660325,"reputation":241,"user_id":2300182,"accept_rate":29,"display_name":"PAncho"},"score":0,"creation_date":1464262616,"post_id":37459368,"comment_id":62418578,"body_markdown":"if i only use Gson gson = new Gson()\nInfinity loop at recursive calling com.google.gson.internal.$Gson$Types.resolve($Gson$Types.java:375)","body":"if i only use Gson gson = new Gson() Infinity loop at recursive calling com.google.gson.internal.$Gson$Types.resolve($Gson$Types.jav&zwnj;&#8203;a:375)"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1464262683,"post_id":37459368,"comment_id":62418631,"body_markdown":"what `excludeFieldsWithoutExposeAnnotation` says? &quot;only expose fields that are annotated and ignore the rest &quot;","body":"what <code>excludeFieldsWithoutExposeAnnotation</code> says? &quot;only expose fields that are annotated and ignore the rest &quot;"},{"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":0,"creation_date":1464262718,"post_id":37459368,"comment_id":62418648,"body_markdown":"Possible duplicate of [How should I escape strings in JSON?](http://stackoverflow.com/questions/3020094/how-should-i-escape-strings-in-json)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/3020094/how-should-i-escape-strings-in-json\">How should I escape strings in JSON?</a>"},{"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":0,"creation_date":1464262745,"post_id":37459368,"comment_id":62418671,"body_markdown":"^ i.e. single quotes are not valid JSON.","body":"^ i.e. single quotes are not valid JSON."}],"answers":[{"tags":[],"owner":{"account_id":231010,"reputation":1482,"user_id":494984,"accept_rate":33,"display_name":"Vikas Madhusudana"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1599089177,"creation_date":1464262612,"answer_id":37459768,"question_id":37459368,"body_markdown":"Since you are setting `excludeFieldsWithoutExposeAnnotation()` configuration on the `GsonBuilder` you must put `@Expose` annotation on those fields you want to serialize/deserialize.\r\n\r\nSo in order for `excludeFieldsWithoutExposeAnnotation()` to serialize/deserialize your fields you must add that annotation:\r\n    \r\n    @Expose\r\n    private String userName;\r\n    @Expose\r\n    private String password;\r\n\r\nOr, you could remove `excludeFieldsWithoutExposeAnnotation()` from the `GsonBuilder`.","title":"gson.fromJson return null values","body":"<p>Since you are setting <code>excludeFieldsWithoutExposeAnnotation()</code> configuration on the <code>GsonBuilder</code> you must put <code>@Expose</code> annotation on those fields you want to serialize/deserialize.</p>\n<p>So in order for <code>excludeFieldsWithoutExposeAnnotation()</code> to serialize/deserialize your fields you must add that annotation:</p>\n<pre><code>@Expose\nprivate String userName;\n@Expose\nprivate String password;\n</code></pre>\n<p>Or, you could remove <code>excludeFieldsWithoutExposeAnnotation()</code> from the <code>GsonBuilder</code>.</p>\n"},{"tags":[],"owner":{"account_id":3564480,"reputation":1938,"user_id":2976424,"display_name":"Kumaresan Perumal"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1574053556,"creation_date":1464263364,"answer_id":37460066,"question_id":37459368,"body_markdown":"Try like this, please. Here is the example class:\r\n\r\n    class AngilinaJoile {\r\n        private String name;\r\n\r\n        // setter\r\n    \r\n        // getter  \r\n    }\r\n\r\n\r\nAnd here is how you deserialize it with Gson:\r\n \r\n    Gson gson = new Gson();  \r\n    String jsonInString = &quot;{&#39;name&#39; : &#39;kumaresan perumal&#39;}&quot;;\r\n    AngilinaJoile angel = gson.fromJson(jsonInString, AngilinaJoile.class);","title":"gson.fromJson return null values","body":"<p>Try like this, please. Here is the example class:</p>\n\n<pre><code>class AngilinaJoile {\n    private String name;\n\n    // setter\n\n    // getter  \n}\n</code></pre>\n\n<p>And here is how you deserialize it with Gson:</p>\n\n<pre><code>Gson gson = new Gson();  \nString jsonInString = \"{'name' : 'kumaresan perumal'}\";\nAngilinaJoile angel = gson.fromJson(jsonInString, AngilinaJoile.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8667660,"reputation":35,"user_id":6487536,"display_name":"Divyanshu Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673241893,"creation_date":1673241818,"answer_id":75053452,"question_id":37459368,"body_markdown":"Adding what resolved this for me.\r\nSo in my API following gson implementation was getting used:\r\n\r\n    Gson gson = new GsonBuilder().setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES).create();\r\n\r\nI had to use the same implementation in my test, before which gson was failing to parse attributes.\r\n\r\nSo in essence check how your gson is configured in api/handler, and use same configuration in your test.","title":"gson.fromJson return null values","body":"<p>Adding what resolved this for me.\nSo in my API following gson implementation was getting used:</p>\n<pre><code>Gson gson = new GsonBuilder().setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES).create();\n</code></pre>\n<p>I had to use the same implementation in my test, before which gson was failing to parse attributes.</p>\n<p>So in essence check how your gson is configured in api/handler, and use same configuration in your test.</p>\n"}],"owner":{"account_id":2660325,"reputation":241,"user_id":2300182,"accept_rate":29,"display_name":"PAncho"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23996,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":37459768,"answer_count":3,"score":10,"last_activity_date":1673241893,"creation_date":1464261563,"question_id":37459368,"body_markdown":"This is My JSON String : `&quot;{&#39;userName&#39; : &#39;Bachooo&#39;}&quot;`\r\n\r\nConverting JSON String to **LoginVO** logic is:\r\n\r\n    Gson gson = new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create();\r\n    LoginVO loginFrom  = gson.fromJson(jsonInString, LoginVO.class);\r\n    System.out.println(&quot;userName &quot; + loginFrom.getUserName()); // output null\r\n\r\n\r\nMy **LoginVO.class** is:\r\n\r\n\r\n    public class LoginVO {\r\n\r\n\t private String userName;\r\n\t private String password;\r\n\t\r\n\t public String getUserName()\r\n\t {\r\n\t\treturn userName;\r\n\t }\r\n\t public void setUserName(String userName)\r\n\t {\r\n\t\tthis.userName = userName;\r\n\t }\r\n\t public String getPassword()\r\n\t {\r\n\t\treturn password;\r\n\t }\r\n\t public void setPassword(String password)\r\n\t {\r\n\t\tthis.password = password;\r\n\t }\r\n\r\n    }\r\n\r\nNote I am using **jdk 1.8.0_92** \r\n\r\nOutput of loginForm.getUserName() is `NULL` instead of `&quot;Bachooo&quot;` any idea about this issue?","title":"gson.fromJson return null values","body":"<p>This is My JSON String : <code>\"{'userName' : 'Bachooo'}\"</code></p>\n\n<p>Converting JSON String to <strong>LoginVO</strong> logic is:</p>\n\n<pre><code>Gson gson = new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create();\nLoginVO loginFrom  = gson.fromJson(jsonInString, LoginVO.class);\nSystem.out.println(\"userName \" + loginFrom.getUserName()); // output null\n</code></pre>\n\n<p>My <strong>LoginVO.class</strong> is:</p>\n\n<pre><code>public class LoginVO {\n\n private String userName;\n private String password;\n\n public String getUserName()\n {\n    return userName;\n }\n public void setUserName(String userName)\n {\n    this.userName = userName;\n }\n public String getPassword()\n {\n    return password;\n }\n public void setPassword(String password)\n {\n    this.password = password;\n }\n\n}\n</code></pre>\n\n<p>Note I am using <strong>jdk 1.8.0_92</strong> </p>\n\n<p>Output of loginForm.getUserName() is <code>NULL</code> instead of <code>\"Bachooo\"</code> any idea about this issue?</p>\n"},{"tags":["java","spring","pdf","resttemplate"],"comments":[{"owner":{"account_id":179170,"reputation":5588,"user_id":411645,"accept_rate":88,"display_name":"Thomas Junk"},"score":5,"creation_date":1409073808,"post_id":25510498,"comment_id":39825169,"body_markdown":"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/ByteArrayHttpMessageConverter.html would be, what you are looking for","body":"<a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/ByteArrayHttpMessageConverter.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a> would be, what you are looking for"}],"answers":[{"tags":[],"owner":{"account_id":3651435,"reputation":383,"user_id":3043516,"display_name":"ak1984"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1591875706,"creation_date":1409084902,"answer_id":25514612,"question_id":25510498,"body_markdown":"Thanks Thomas it worked. \r\n\r\nI added ByteArrayHttpMessageConverter to the RestTemplate and it worked. \r\n\r\nCode I added: \r\n\r\n    ByteArrayHttpMessageConverter byteArrayHttpMessageConverter = new ByteArrayHttpMessageConverter();\r\n    \r\n    List&lt;MediaType&gt; supportedApplicationTypes = new ArrayList&lt;&gt;();\r\n    MediaType pdfApplication = new MediaType(&quot;application&quot;,&quot;pdf&quot;);\r\n    supportedApplicationTypes.add(pdfApplication);\r\n    \r\n    byteArrayHttpMessageConverter.setSupportedMediaTypes(supportedApplicationTypes);\r\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\r\n    messageConverters.add(byteArrayHttpMessageConverter);\r\n    restTemplate = new RestTemplate();\r\n    restTemplate.setMessageConverters(messageConverters);\r\n    \r\n    Object result = getRestTemplate().getForObject(url, returnClass, parameters);\r\n    byte[] resultByteArr = (byte[])result;","title":"How to receive application/pdf response from a server using RestTemplate","body":"<p>Thanks Thomas it worked. </p>\n\n<p>I added ByteArrayHttpMessageConverter to the RestTemplate and it worked. </p>\n\n<p>Code I added: </p>\n\n<pre><code>ByteArrayHttpMessageConverter byteArrayHttpMessageConverter = new ByteArrayHttpMessageConverter();\n\nList&lt;MediaType&gt; supportedApplicationTypes = new ArrayList&lt;&gt;();\nMediaType pdfApplication = new MediaType(\"application\",\"pdf\");\nsupportedApplicationTypes.add(pdfApplication);\n\nbyteArrayHttpMessageConverter.setSupportedMediaTypes(supportedApplicationTypes);\nList&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;&gt;();\nmessageConverters.add(byteArrayHttpMessageConverter);\nrestTemplate = new RestTemplate();\nrestTemplate.setMessageConverters(messageConverters);\n\nObject result = getRestTemplate().getForObject(url, returnClass, parameters);\nbyte[] resultByteArr = (byte[])result;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7654872,"reputation":109,"user_id":5802185,"display_name":"RoshanS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673241270,"creation_date":1636956372,"answer_id":69970047,"question_id":25510498,"body_markdown":"API  I  calling to get  PDF  is returning  `InputStreamResource`. \r\nTo get the response, I  used it this way and  I was able to get a successful byte array of pdf.\r\n\r\n```\r\npublic byte[] callApiToGetPDF(Object  reqData) {\r\n\t\r\n\tString urlForEndPoint= baseUrl + &quot;/&quot; +    &quot;&quot;;   \r\n\tHttpEntity&lt;Object&gt; entity = new HttpEntity&lt;&gt;(reqData, buildHeaders());\r\n\treturn restTemplate.postForEntity(urlForEndPoint, entity, byte[].class).getBody();\r\n}\r\n```\r\n\r\n","title":"How to receive application/pdf response from a server using RestTemplate","body":"<p>API  I  calling to get  PDF  is returning  <code>InputStreamResource</code>.\nTo get the response, I  used it this way and  I was able to get a successful byte array of pdf.</p>\n<pre><code>public byte[] callApiToGetPDF(Object  reqData) {\n    \n    String urlForEndPoint= baseUrl + &quot;/&quot; +    &quot;&quot;;   \n    HttpEntity&lt;Object&gt; entity = new HttpEntity&lt;&gt;(reqData, buildHeaders());\n    return restTemplate.postForEntity(urlForEndPoint, entity, byte[].class).getBody();\n}\n</code></pre>\n"}],"owner":{"account_id":3651435,"reputation":383,"user_id":3043516,"display_name":"ak1984"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23560,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1673241270,"creation_date":1409069618,"question_id":25510498,"body_markdown":"I am trying capture the response of an HTTP request made by my java client code. The response has a content-type of `application/pdf`. In the logs I can see that the server sent a response in \r\n\r\n    Object result = getRestTemplate().postForObject(urlString, formDataHttpEntity, returnClassObject, parametersMapStringString);\r\n\r\nand I get the following JUnit error:\r\n\r\n&gt; org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type\r\n&gt; [java.lang.Object] and content type [application/pdf]\r\n\r\nWhat do I need to do to get past this? My ultimate goal is to take this in a `byte[]` and push it in a DB table field of blob type\r\n\r\nNote: I get the following response header from the server\r\n\r\n&gt; HTTP/1.1 200 OK Cache-Control: max-age=0,must-revalidate&lt;br&gt;\r\n&gt; Content-Disposition: attachment; filename=&quot;Executive Summary.PDF&quot;&lt;br&gt;\r\n&gt; Content-Type: application/pdf\r\n\r\n","title":"How to receive application/pdf response from a server using RestTemplate","body":"<p>I am trying capture the response of an HTTP request made by my java client code. The response has a content-type of <code>application/pdf</code>. In the logs I can see that the server sent a response in </p>\n\n<pre><code>Object result = getRestTemplate().postForObject(urlString, formDataHttpEntity, returnClassObject, parametersMapStringString);\n</code></pre>\n\n<p>and I get the following JUnit error:</p>\n\n<blockquote>\n  <p>org.springframework.web.client.RestClientException: Could not extract response: no suitable HttpMessageConverter found for response type\n  [java.lang.Object] and content type [application/pdf]</p>\n</blockquote>\n\n<p>What do I need to do to get past this? My ultimate goal is to take this in a <code>byte[]</code> and push it in a DB table field of blob type</p>\n\n<p>Note: I get the following response header from the server</p>\n\n<blockquote>\n  <p>HTTP/1.1 200 OK Cache-Control: max-age=0,must-revalidate<br>\n  Content-Disposition: attachment; filename=\"Executive Summary.PDF\"<br>\n  Content-Type: application/pdf</p>\n</blockquote>\n"},{"tags":["java","android","kotlin","android-glide"],"comments":[{"owner":{"account_id":24121929,"reputation":9,"user_id":18090964,"display_name":"띵바이러스"},"score":0,"creation_date":1673229847,"post_id":75052548,"comment_id":132444539,"body_markdown":"Example image url is &quot;https://ifh.cc/g/XxQmXH.png&quot;","body":"Example image url is &quot;<a href=\"https://ifh.cc/g/XxQmXH.png\" rel=\"nofollow noreferrer\">ifh.cc/g/XxQmXH.png</a>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":27431313,"reputation":63,"user_id":20927962,"display_name":"Rachit Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673241212,"creation_date":1673241212,"answer_id":75053411,"question_id":75052548,"body_markdown":"You should try defining the alertDialog like this:\r\n\r\n    val alertDialog : AlertDialog =  MaterialAlertDialogBuilder(this, R.style.MyRounded_MaterialComponents_MaterialAlertDialog)  // for fragment you can use getActivity() instead of this\r\n\r\nand style like this:\r\n\r\n    &lt;style name=&quot;MyRounded.MaterialComponents.MaterialAlertDialog&quot; \r\n        parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\r\n\r\n        &lt;item name=&quot;shapeAppearanceOverlay&quot;&gt;\r\n            @style/ShapeAppearanceOverlay.App.CustomDialog.Rounded\r\n        &lt;/item&gt;\r\n        &lt;item name=&quot;colorSurface&quot;&gt;\r\n            @color/YOUR_COLOR\r\n        &lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;ShapeAppearanceOverlay.App.CustomDialog.Rounded&quot; parent=&quot;&quot;&gt;\r\n        &lt;item name=&quot;cornerFamily&quot;&gt;\r\n            rounded\r\n        &lt;/item&gt;\r\n        &lt;item name=&quot;cornerSize&quot;&gt;\r\n            4dp\r\n        &lt;/item&gt;\r\n    &lt;/style&gt;\r\n","title":"Glide - Rounded Corner size different","body":"<p>You should try defining the alertDialog like this:</p>\n<pre><code>val alertDialog : AlertDialog =  MaterialAlertDialogBuilder(this, R.style.MyRounded_MaterialComponents_MaterialAlertDialog)  // for fragment you can use getActivity() instead of this\n</code></pre>\n<p>and style like this:</p>\n<pre><code>&lt;style name=&quot;MyRounded.MaterialComponents.MaterialAlertDialog&quot; \n    parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\n\n    &lt;item name=&quot;shapeAppearanceOverlay&quot;&gt;\n        @style/ShapeAppearanceOverlay.App.CustomDialog.Rounded\n    &lt;/item&gt;\n    &lt;item name=&quot;colorSurface&quot;&gt;\n        @color/YOUR_COLOR\n    &lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;ShapeAppearanceOverlay.App.CustomDialog.Rounded&quot; parent=&quot;&quot;&gt;\n    &lt;item name=&quot;cornerFamily&quot;&gt;\n        rounded\n    &lt;/item&gt;\n    &lt;item name=&quot;cornerSize&quot;&gt;\n        4dp\n    &lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"}],"owner":{"account_id":24121929,"reputation":9,"user_id":18090964,"display_name":"띵바이러스"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673241212,"creation_date":1673229129,"question_id":75052548,"body_markdown":"I want to make 4dp rounded top corners image in a dialog.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/QE15q.png)](https://i.stack.imgur.com/QE15q.png)\r\n\r\nBut when I gave 4dp(change to pixel), The imgae was made like this.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/jdAsd.png)](https://i.stack.imgur.com/jdAsd.png)\r\n\r\nThe bottom corners are background drawable.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;&gt;\r\n\r\n    &lt;solid android:color=&quot;@android:color/white&quot; /&gt;\r\n\r\n    &lt;corners\r\n        android:bottomRightRadius=&quot;4dp&quot; /&gt;\r\n\r\n&lt;/shape&gt;\r\n```\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;&gt;\r\n\r\n    &lt;solid android:color=&quot;@android:color/white&quot; /&gt;\r\n\r\n    &lt;corners\r\n        android:bottomLeftRadius=&quot;4dp&quot; /&gt;\r\n\r\n&lt;/shape&gt;\r\n```\r\n\r\nI tried like this code. help me plz &#128546;&#128546;\r\n\r\n```\r\n    private fun initView() {\r\n        val dm = ctx.resources.displayMetrics\r\n        val width = dm.widthPixels - 60\r\n        val radius = dpToPx(4).toFloat()\r\n\r\n        window?.run {\r\n            setLayout(width, ViewGroup.LayoutParams.WRAP_CONTENT)\r\n            setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))\r\n        }\r\n\r\n        Glide.with(ctx)\r\n            .load(quizNoticeImage)\r\n            .transform(GranularRoundedCorners(radius, radius, 0f, 0f))\r\n            .listener(object : RequestListener&lt;Drawable&gt; {\r\n                override fun onLoadFailed(\r\n                    e: GlideException?,\r\n                    model: Any?,\r\n                    target: Target&lt;Drawable&gt;?,\r\n                    isFirstResource: Boolean\r\n                ): Boolean {\r\n                    noShowAgain()\r\n                    return false\r\n                }\r\n\r\n                override fun onResourceReady(\r\n                    resource: Drawable?,\r\n                    model: Any?,\r\n                    target: Target&lt;Drawable&gt;?,\r\n                    dataSource: DataSource?,\r\n                    isFirstResource: Boolean\r\n                ): Boolean {\r\n                    vBarHorizontal.visible()\r\n                    vBarVertical.visible()\r\n                    tvNoShowAgain.visible()\r\n                    tvClose.visible()\r\n                    return false\r\n                }\r\n            })\r\n            .into(ivQuiz)\r\n\r\n        ivQuiz.setOnClickListener(this)\r\n        tvNoShowAgain.setOnClickListener(this)\r\n        tvClose.setOnClickListener(this)\r\n    }\r\n```\r\n\r\nI tried glide - overide, shapable imgae etc.. but I can&#39;t make this.\r\nThe first image is 12dp(change to pixel)","title":"Glide - Rounded Corner size different","body":"<p>I want to make 4dp rounded top corners image in a dialog.</p>\n<p><a href=\"https://i.stack.imgur.com/QE15q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QE15q.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I gave 4dp(change to pixel), The imgae was made like this.</p>\n<p><a href=\"https://i.stack.imgur.com/jdAsd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jdAsd.png\" alt=\"enter image description here\" /></a></p>\n<p>The bottom corners are background drawable.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n\n    &lt;solid android:color=&quot;@android:color/white&quot; /&gt;\n\n    &lt;corners\n        android:bottomRightRadius=&quot;4dp&quot; /&gt;\n\n&lt;/shape&gt;\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n\n    &lt;solid android:color=&quot;@android:color/white&quot; /&gt;\n\n    &lt;corners\n        android:bottomLeftRadius=&quot;4dp&quot; /&gt;\n\n&lt;/shape&gt;\n</code></pre>\n<p>I tried like this code. help me plz 😢😢</p>\n<pre><code>    private fun initView() {\n        val dm = ctx.resources.displayMetrics\n        val width = dm.widthPixels - 60\n        val radius = dpToPx(4).toFloat()\n\n        window?.run {\n            setLayout(width, ViewGroup.LayoutParams.WRAP_CONTENT)\n            setBackgroundDrawable(ColorDrawable(Color.TRANSPARENT))\n        }\n\n        Glide.with(ctx)\n            .load(quizNoticeImage)\n            .transform(GranularRoundedCorners(radius, radius, 0f, 0f))\n            .listener(object : RequestListener&lt;Drawable&gt; {\n                override fun onLoadFailed(\n                    e: GlideException?,\n                    model: Any?,\n                    target: Target&lt;Drawable&gt;?,\n                    isFirstResource: Boolean\n                ): Boolean {\n                    noShowAgain()\n                    return false\n                }\n\n                override fun onResourceReady(\n                    resource: Drawable?,\n                    model: Any?,\n                    target: Target&lt;Drawable&gt;?,\n                    dataSource: DataSource?,\n                    isFirstResource: Boolean\n                ): Boolean {\n                    vBarHorizontal.visible()\n                    vBarVertical.visible()\n                    tvNoShowAgain.visible()\n                    tvClose.visible()\n                    return false\n                }\n            })\n            .into(ivQuiz)\n\n        ivQuiz.setOnClickListener(this)\n        tvNoShowAgain.setOnClickListener(this)\n        tvClose.setOnClickListener(this)\n    }\n</code></pre>\n<p>I tried glide - overide, shapable imgae etc.. but I can't make this.\nThe first image is 12dp(change to pixel)</p>\n"},{"tags":["java","selenium","selenium-webdriver","automation","testng"],"answers":[{"tags":[],"owner":{"account_id":11961012,"reputation":7343,"user_id":8752062,"display_name":"frianH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673241111,"creation_date":1673240373,"answer_id":75053348,"question_id":75051399,"body_markdown":"Something wrong:\r\n 1. Even you have 2 initialize driver, your script recognized as one test only.\r\n 2. You have to give a condition how to submit a successful login.\r\n 3. For `username` and `password`, looks like you want the logs, but it doesn&#39;t look like it&#39;s set at all.\r\n\r\nApproach:\r\n 1. Create 2 `@Test` annotation for each test.\r\n 2. Mark what a successful login looks like., mostly with **`welcome home`**\r\n 3. Logs set, with : `import org.testng.Reporter;`\r\n\r\n```\r\n@Test\r\npublic void helloWorldTest1() {\r\n    ....\r\n\r\n    //logs set\r\n    String username = &quot;admin&quot;;\r\n    String password = &quot;admin&quot;;\r\n    Reporter.log(&quot;username = &quot; +username, true);\r\n    Reporter.log(&quot;password = &quot; +password, true);\r\n\r\n    driver.get(&quot;https://website234/backend/&quot;);\r\n    driver.findElement(By.id(&quot;username&quot;)).sendKeys(username);\r\n    driver.findElement(By.id(&quot;login&quot;)).sendKeys(password);\r\n    //here, i think need to submit login button\r\n    buttonLogin.click();\r\n    \r\n    //here, find a welcome home locator maybe\r\n    WebElement welcomeHome = driver.findElement(By.name(&quot;a locator&quot;));\r\n}\r\n\r\n@Test\r\npublic void helloWorldTest2() {\r\n    ....\r\n\r\n    //logs set\r\n    String username = &quot;admin&quot;;\r\n    String password = &quot;admin2&quot;;\r\n    Reporter.log(&quot;username = &quot; +username, true);\r\n    Reporter.log(&quot;password = &quot; +password, true);\r\n\r\n    driver.get(&quot;https://website234/backend/&quot;);\r\n    driver.findElement(By.id(&quot;username&quot;)).sendKeys(username);\r\n    driver.findElement(By.id(&quot;login&quot;)).sendKeys(password);\r\n    //here, i think need to submit login button\r\n    buttonLogin.click();\r\n    \r\n    //here, find a welcome home locator maybe\r\n    WebElement welcomeHome = driver.findElement(By.name(&quot;a locator&quot;));\r\n}\r\n```\r\nConsole output:\r\n[![console output][2]][2]\r\n\r\nNote : You can see logs in default report too `emailable-report.html`:\r\n\r\n[![emailable-report.html][1]][1]\r\n\r\nBtw there is way to achive this still with one **`@Test`**, you can learn about [**`@DataProvider`**](https://testng.org/doc/documentation-main.html#parameters-dataproviders) and `invocationcount` to repeat this test with various parameter.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ib1Ip.png\r\n  [2]: https://i.stack.imgur.com/KaFNY.png","title":"Counting number of successes and failures in TESTNG and Java (selenium)","body":"<p>Something wrong:</p>\n<ol>\n<li>Even you have 2 initialize driver, your script recognized as one test only.</li>\n<li>You have to give a condition how to submit a successful login.</li>\n<li>For <code>username</code> and <code>password</code>, looks like you want the logs, but it doesn't look like it's set at all.</li>\n</ol>\n<p>Approach:</p>\n<ol>\n<li>Create 2 <code>@Test</code> annotation for each test.</li>\n<li>Mark what a successful login looks like., mostly with <strong><code>welcome home</code></strong></li>\n<li>Logs set, with : <code>import org.testng.Reporter;</code></li>\n</ol>\n<pre><code>@Test\npublic void helloWorldTest1() {\n    ....\n\n    //logs set\n    String username = &quot;admin&quot;;\n    String password = &quot;admin&quot;;\n    Reporter.log(&quot;username = &quot; +username, true);\n    Reporter.log(&quot;password = &quot; +password, true);\n\n    driver.get(&quot;https://website234/backend/&quot;);\n    driver.findElement(By.id(&quot;username&quot;)).sendKeys(username);\n    driver.findElement(By.id(&quot;login&quot;)).sendKeys(password);\n    //here, i think need to submit login button\n    buttonLogin.click();\n    \n    //here, find a welcome home locator maybe\n    WebElement welcomeHome = driver.findElement(By.name(&quot;a locator&quot;));\n}\n\n@Test\npublic void helloWorldTest2() {\n    ....\n\n    //logs set\n    String username = &quot;admin&quot;;\n    String password = &quot;admin2&quot;;\n    Reporter.log(&quot;username = &quot; +username, true);\n    Reporter.log(&quot;password = &quot; +password, true);\n\n    driver.get(&quot;https://website234/backend/&quot;);\n    driver.findElement(By.id(&quot;username&quot;)).sendKeys(username);\n    driver.findElement(By.id(&quot;login&quot;)).sendKeys(password);\n    //here, i think need to submit login button\n    buttonLogin.click();\n    \n    //here, find a welcome home locator maybe\n    WebElement welcomeHome = driver.findElement(By.name(&quot;a locator&quot;));\n}\n</code></pre>\n<p>Console output:\n<a href=\"https://i.stack.imgur.com/KaFNY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KaFNY.png\" alt=\"console output\" /></a></p>\n<p>Note : You can see logs in default report too <code>emailable-report.html</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/ib1Ip.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ib1Ip.png\" alt=\"emailable-report.html\" /></a></p>\n<p>Btw there is way to achive this still with one <strong><code>@Test</code></strong>, you can learn about <a href=\"https://testng.org/doc/documentation-main.html#parameters-dataproviders\" rel=\"nofollow noreferrer\"><strong><code>@DataProvider</code></strong></a> and <code>invocationcount</code> to repeat this test with various parameter.</p>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673241111,"creation_date":1673212881,"question_id":75051399,"body_markdown":"I have a little JAVA program that login into a website\r\n\r\n    package testingProgram;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class testingProgram {\r\n    \r\n    \t@Test\r\n    \tpublic void helloWorldTest() {\r\n    \t\tSystem.out.println(&quot;Hello World!&quot;);\r\n    \t\t\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\Steve\\\\Desktop\\\\chromedriver.exe&quot;);\r\n    \r\n    \t\tWebDriver driver = new ChromeDriver(); \r\n    \r\n    \t\tdriver.get(&quot;https://website234/backend/&quot;);\r\n    \t\tdriver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;admin&quot;);\r\n    \t\tdriver.findElement(By.id(&quot;login&quot;)).sendKeys(&quot;admin&quot;);\r\n    \t\tdriver.close();\r\n    \t\t\r\n    \t\tWebDriver driver2 = new ChromeDriver(); \r\n    \t\tdriver2.get(&quot;https://website234/backend/&quot;);\r\n    \t\tdriver2.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;admin&quot;);\r\n    \t\tdriver2.findElement(By.id(&quot;login&quot;)).sendKeys(&quot;admin2&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n&gt; Note: in my example the correct login is:\r\n&gt; \r\n&gt; username = admin and password = admin\r\n\r\n-------------------------------------------------------------------\r\n\r\nIt opens 2 chrome sessions and tries to login by using different passwords.\r\n\r\nIf it fails login it throws and error message like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy testng test shows this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nBut i want the output to tell me how many tests passed and in my case only one username and password worked correctly.\r\n\r\n**Expected result:**\r\n\r\n        Default test\r\n        Tests run: 1, Failures: 0, Skips: 0\r\n    ===============================================\r\n    \r\n    \r\n    ===============================================\r\n    Default suite\r\n    Total tests run: 1, Passes: 1 (username = admin, password = admin), Failures: 1 (username = admin, password = admin2), Skips: 0\r\n\r\nbecause i was able to login by using username = admin and password = admin but it wont be able to login using username = admin and password = admin2\r\n\r\nHow can i achieve something like that?\r\n\r\n  [1]: https://i.stack.imgur.com/s6X4k.png\r\n  [2]: https://i.stack.imgur.com/7xMAH.png","title":"Counting number of successes and failures in TESTNG and Java (selenium)","body":"<p>I have a little JAVA program that login into a website</p>\n<pre><code>package testingProgram;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.testng.annotations.Test;\n\npublic class testingProgram {\n\n    @Test\n    public void helloWorldTest() {\n        System.out.println(&quot;Hello World!&quot;);\n        \n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\Steve\\\\Desktop\\\\chromedriver.exe&quot;);\n\n        WebDriver driver = new ChromeDriver(); \n\n        driver.get(&quot;https://website234/backend/&quot;);\n        driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;admin&quot;);\n        driver.findElement(By.id(&quot;login&quot;)).sendKeys(&quot;admin&quot;);\n        driver.close();\n        \n        WebDriver driver2 = new ChromeDriver(); \n        driver2.get(&quot;https://website234/backend/&quot;);\n        driver2.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;admin&quot;);\n        driver2.findElement(By.id(&quot;login&quot;)).sendKeys(&quot;admin2&quot;);\n    }\n}\n</code></pre>\n<blockquote>\n<p>Note: in my example the correct login is:</p>\n<p>username = admin and password = admin</p>\n</blockquote>\n<hr />\n<p>It opens 2 chrome sessions and tries to login by using different passwords.</p>\n<p>If it fails login it throws and error message like this:</p>\n<p><a href=\"https://i.stack.imgur.com/s6X4k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s6X4k.png\" alt=\"enter image description here\" /></a></p>\n<p>My testng test shows this:</p>\n<p><a href=\"https://i.stack.imgur.com/7xMAH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7xMAH.png\" alt=\"enter image description here\" /></a></p>\n<p>But i want the output to tell me how many tests passed and in my case only one username and password worked correctly.</p>\n<p><strong>Expected result:</strong></p>\n<pre><code>    Default test\n    Tests run: 1, Failures: 0, Skips: 0\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 1, Passes: 1 (username = admin, password = admin), Failures: 1 (username = admin, password = admin2), Skips: 0\n</code></pre>\n<p>because i was able to login by using username = admin and password = admin but it wont be able to login using username = admin and password = admin2</p>\n<p>How can i achieve something like that?</p>\n"},{"tags":["java","reactjs","json","security","next.js"],"comments":[{"owner":{"account_id":18508059,"reputation":821,"user_id":13483939,"display_name":"Shubham Waje"},"score":1,"creation_date":1673245701,"post_id":75053369,"comment_id":132446488,"body_markdown":"From where `allowedUser` coming from? From the server or you have hardcoded json file there which I&#39;m assuming is the case.","body":"From where <code>allowedUser</code> coming from? From the server or you have hardcoded json file there which I&#39;m assuming is the case."},{"owner":{"account_id":26846582,"reputation":179,"user_id":20432259,"display_name":"KnightTheLion"},"score":0,"creation_date":1673246515,"post_id":75053369,"comment_id":132446658,"body_markdown":"its in the Next pages/api folder. I checked in the sources in dev tools and its hidden like its supposed to be. But of course its parsed in my login.js to show the array","body":"its in the Next pages/api folder. I checked in the sources in dev tools and its hidden like its supposed to be. But of course its parsed in my login.js to show the array"}],"owner":{"account_id":26846582,"reputation":179,"user_id":20432259,"display_name":"KnightTheLion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673240655,"creation_date":1673240655,"question_id":75053369,"body_markdown":"I am fairly new to Next and React, and I really don&#39;t know a whole lot about backend anything except very basic knowledge for how models and using the data works. \r\n\r\nOk, so far the method I have used is working. However, I went to the client side and the login.js file obviously showed the JSON file items in the allowed-users.json because I imported it and checked the array for the allowed users. The logic works and only the emails on the list can login with Google Auth. \r\n\r\nThis is not a major issue because the app idea I am coming up with is not supposed to be a site pushed to production with a lot of publicity, but I still would like to know something I could do to make this secure to learn.\r\n\r\nI am open to any suggestions, or any correction on anything I am doing that is not good practice. I am here to learn. What I did in this code is just a test to get it to work, and the whole project is just to test out using the NextAuth with Google to give users permissions on the site to implement an Admin, Employee, Client system for the accounts.\r\n\r\nMy Code:\r\n\r\n\r\n```\r\nimport React from &quot;react&quot;;\r\nimport { useSession, signIn, signOut } from &quot;next-auth/react&quot;;\r\nimport GoogleButton from &quot;react-google-button&quot;;\r\nimport { useRouter } from &quot;next/router&quot;;\r\nimport allowedUsers from &quot;./api/allowed-users.json&quot;;\r\n\r\nconst Login = () =&gt; {\r\n  const { data: session } = useSession();\r\n  const router = useRouter();\r\n\r\n  console.log(session);\r\n\r\n  if (!session) {\r\n    return (\r\n      &lt;div className=&quot;flex justify-center items-center content-center h-full&quot;&gt;\r\n        &lt;div&gt;\r\n          &lt;GoogleButton onClick={() =&gt; signIn()} /&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    );\r\n  }\r\n  if (session &amp;&amp; allowedUsers.includes(session.user.email) ) {\r\n    router.push(&quot;/account&quot;);\r\n  } else {\r\n    const exitLogin = () =&gt; signOut();\r\n    exitLogin();\r\n  }\r\n};\r\n\r\nexport default Login;\r\n\r\n```\r\n\r\n\r\n\r\nI have tried reading Next documentation on handling JSON and also API calls, but like I said, I am fairly new to this. I come from old school HTML / CSS / with simple JavaScript for simple sites. I am trying to broaden my knowledge to learn how to develop apps and sites that are viable nowadays. \r\n\r\nIf anyone has good documentation I should read please link it, or if you know a tutorial somewhere I can read through or watch that covers a topic similar to this.\r\n\r\nThanks! \r\n\r\nKnight","title":"Creating an &quot;allowed-users&quot; list in Next.Js while implementing Google Auth","body":"<p>I am fairly new to Next and React, and I really don't know a whole lot about backend anything except very basic knowledge for how models and using the data works.</p>\n<p>Ok, so far the method I have used is working. However, I went to the client side and the login.js file obviously showed the JSON file items in the allowed-users.json because I imported it and checked the array for the allowed users. The logic works and only the emails on the list can login with Google Auth.</p>\n<p>This is not a major issue because the app idea I am coming up with is not supposed to be a site pushed to production with a lot of publicity, but I still would like to know something I could do to make this secure to learn.</p>\n<p>I am open to any suggestions, or any correction on anything I am doing that is not good practice. I am here to learn. What I did in this code is just a test to get it to work, and the whole project is just to test out using the NextAuth with Google to give users permissions on the site to implement an Admin, Employee, Client system for the accounts.</p>\n<p>My Code:</p>\n<pre><code>import React from &quot;react&quot;;\nimport { useSession, signIn, signOut } from &quot;next-auth/react&quot;;\nimport GoogleButton from &quot;react-google-button&quot;;\nimport { useRouter } from &quot;next/router&quot;;\nimport allowedUsers from &quot;./api/allowed-users.json&quot;;\n\nconst Login = () =&gt; {\n  const { data: session } = useSession();\n  const router = useRouter();\n\n  console.log(session);\n\n  if (!session) {\n    return (\n      &lt;div className=&quot;flex justify-center items-center content-center h-full&quot;&gt;\n        &lt;div&gt;\n          &lt;GoogleButton onClick={() =&gt; signIn()} /&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n  if (session &amp;&amp; allowedUsers.includes(session.user.email) ) {\n    router.push(&quot;/account&quot;);\n  } else {\n    const exitLogin = () =&gt; signOut();\n    exitLogin();\n  }\n};\n\nexport default Login;\n\n</code></pre>\n<p>I have tried reading Next documentation on handling JSON and also API calls, but like I said, I am fairly new to this. I come from old school HTML / CSS / with simple JavaScript for simple sites. I am trying to broaden my knowledge to learn how to develop apps and sites that are viable nowadays.</p>\n<p>If anyone has good documentation I should read please link it, or if you know a tutorial somewhere I can read through or watch that covers a topic similar to this.</p>\n<p>Thanks!</p>\n<p>Knight</p>\n"},{"tags":["java","rest","ssl","oauth"],"comments":[{"owner":{"account_id":1203958,"reputation":18288,"user_id":1174054,"accept_rate":38,"display_name":"Takahiko Kawasaki"},"score":0,"creation_date":1466663902,"post_id":14242383,"comment_id":63412748,"body_markdown":"Do you want to implement an OAuth server ([RFC 6749](https://tools.ietf.org/html/rfc6749)) or just want to make a [token request](https://tools.ietf.org/html/rfc6749#section-4.1.3) as an OAuth client application?","body":"Do you want to implement an OAuth server (<a href=\"https://tools.ietf.org/html/rfc6749\" rel=\"nofollow noreferrer\">RFC 6749</a>) or just want to make a <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.3\" rel=\"nofollow noreferrer\">token request</a> as an OAuth client application?"}],"answers":[{"tags":[],"owner":{"account_id":319198,"reputation":3879,"user_id":636836,"display_name":"Mark S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357752514,"creation_date":1357752514,"answer_id":14242966,"question_id":14242383,"body_markdown":"I would use a [Java OAuth Library][1] to handle the OAuth portion of the code. \r\n\r\n\r\n  [1]: http://oauth.googlecode.com/svn/code/java/core/","title":"Simple Java OAuth example","body":"<p>I would use a <a href=\"http://oauth.googlecode.com/svn/code/java/core/\" rel=\"nofollow\">Java OAuth Library</a> to handle the OAuth portion of the code. </p>\n"}],"owner":{"account_id":1495127,"reputation":3189,"user_id":1401265,"accept_rate":29,"display_name":"PrecisionPete"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7784,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673240440,"creation_date":1357750720,"question_id":14242383,"body_markdown":"I am trying to integrate Stripe (payment processor) with a Tomcat/JSP application. They have a library for most of it except the initial OAuth2 connection.\r\n\r\nNot being a Java/Net programmer, I am having trouble getting my head around implementing the  REST api in Java. \r\n\r\nTheir documentation does not cover Java very well but the cURL examples &quot;should&quot; be easy to work from. \r\n\r\nBasically I need to simulate this:\r\n\r\n    curl -X POST https://connect.stripe.com/oauth/token \\\r\n    -H &quot;Authorization: Bearer sk_test_123123123123&quot; \\\r\n    -d code=AUTHORIZATION_CODE \\\r\n    -d grant_type=authorization_code\r\n\r\nThen I need to parse the JSON response.\r\n\r\nCan anyone provide me with a code fragment to get me over this? Thanks","title":"Simple Java OAuth example","body":"<p>I am trying to integrate Stripe (payment processor) with a Tomcat/JSP application. They have a library for most of it except the initial OAuth2 connection.</p>\n\n<p>Not being a Java/Net programmer, I am having trouble getting my head around implementing the  REST api in Java. </p>\n\n<p>Their documentation does not cover Java very well but the cURL examples \"should\" be easy to work from. </p>\n\n<p>Basically I need to simulate this:</p>\n\n<pre><code>curl -X POST https://connect.stripe.com/oauth/token \\\n-H \"Authorization: Bearer sk_test_123123123123\" \\\n-d code=AUTHORIZATION_CODE \\\n-d grant_type=authorization_code\n</code></pre>\n\n<p>Then I need to parse the JSON response.</p>\n\n<p>Can anyone provide me with a code fragment to get me over this? Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20326770,"reputation":5841,"user_id":14909980,"display_name":"TheEagle"},"score":0,"creation_date":1673218051,"post_id":75051812,"comment_id":132443142,"body_markdown":"We need the full traceback …","body":"We need the full traceback …"},{"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1673218124,"post_id":75051812,"comment_id":132443152,"body_markdown":"what language is this? You don&#39;t declare variables with `int` in JavaScript.","body":"what language is this? You don&#39;t declare variables with <code>int</code> in JavaScript."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1673218151,"post_id":75051812,"comment_id":132443156,"body_markdown":"What version of Java does your project use (for me it&#39;s File -&gt; Project Structure -&gt; Language Level)?","body":"What version of Java does your project use (for me it&#39;s File -&gt; Project Structure -&gt; Language Level)?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1673218784,"post_id":75051812,"comment_id":132443226,"body_markdown":"@TheEagle compiler errors don&#39;t have tracebacks.","body":"@TheEagle compiler errors don&#39;t have tracebacks."}],"answers":[{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673240071,"creation_date":1673240071,"answer_id":75053319,"question_id":75051812,"body_markdown":"Language level 8 - Lambdas, type annotations etc will work only for Intellij and whenever you will try to build you application with any tool like gradle/maven with JDK 10, you will get this error as `var` is now reserved keyword in java 10 present in `java.lang` package.\r\n\r\nBest solution is that remove below import line from your code and change Language level to 10, as you are already using java 10 so you don&#39;t need to use `var` from lombok library, jdk 10 itself will provide you `var` keyword, to automatically detect the datatype of a variable based on the surrounding context.\r\n\r\n    import lombok.var;","title":"java: as of release 10, &#39;var&#39; is a restricted type name and cannot be used for type declarations or as the element type of an array","body":"<p>Language level 8 - Lambdas, type annotations etc will work only for Intellij and whenever you will try to build you application with any tool like gradle/maven with JDK 10, you will get this error as <code>var</code> is now reserved keyword in java 10 present in <code>java.lang</code> package.</p>\n<p>Best solution is that remove below import line from your code and change Language level to 10, as you are already using java 10 so you don't need to use <code>var</code> from lombok library, jdk 10 itself will provide you <code>var</code> keyword, to automatically detect the datatype of a variable based on the surrounding context.</p>\n<pre><code>import lombok.var;\n</code></pre>\n"}],"owner":{"account_id":17421490,"reputation":31,"user_id":12626979,"display_name":"kevin estrada"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":577,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1673240071,"creation_date":1673217855,"question_id":75051812,"body_markdown":"I keep getting this from jetbrains intellij\r\njava: as of release 10, &#39;var&#39; is a restricted type name and cannot be used for type declarations or as the element type of an array.\r\n\r\n\r\n```\r\npackage com.ruse.world.content.collectionlog;\r\n\r\nimport com.ruse.model.definitions.NPCDrops;\r\nimport com.ruse.model.definitions.NpcDefinition;\r\nimport com.ruse.util.Misc;\r\nimport com.ruse.world.content.KillsTracker;\r\nimport com.ruse.world.content.TeleportInterface;\r\nimport com.ruse.world.entity.impl.player.Player;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.var;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\n//import com.sun.scenario.effect.DropShadow;\r\n\r\n private void sendNpcData(int index) {\r\n        int received = 0;\r\n        int total = 0;\r\n        var definition = NpcDefinition.forId(currentlyViewing.get(index));\r\n        player.getPacketSender().resetItemsOnInterface(30375, 6 * 10);\r\n        player.getPacketSender().sendString(30368, &quot;&quot; + definition.getName() + &quot;&quot;);\r\n        player.getPacketSender().sendString(30369, &quot;Killcount: &quot; +\r\n                Misc.insertCommasToNumber(String.valueOf(KillsTracker.getTotalKillsForNpc(definition.getId(), player))));\r\n        var drops = NPCDrops.forId(definition.getId());\r\n        var slot = 0;\r\n        if (drops != null &amp;&amp; drops.getDropList() != null) {\r\n            for (var npcDrop : drops.getDropList()) { //smaller and equal too means very common, and always,\r\n                if (npcDrop.getChance() &lt;= 1) {\r\n                    continue;\r\n                }\r\n                if (hasObtainedItem(definition.getId(), npcDrop.getId())) {\r\n                    var item = player.getCollectionLogData().stream().filter(data -&gt; data.getNpcId() == definition.getId() &amp;&amp; data.getItem() == npcDrop.getId()).findFirst().get();\r\n                    player.getPacketSender().sendItemOnInterface(30375, item.getItem(), slot++, item.getAmount());\r\n                    received++;\r\n                } else {\r\n                    player.getPacketSender().sendItemOnInterface(30375, npcDrop.getId(), slot++, 0);\r\n                }\r\n                total++;\r\n            }\r\n        }\r\n        int lines = total / 6;\r\n        if (total % 6 &gt; 0)\r\n            lines++;\r\n        player.getPacketSender().setScrollMax(30385, lines * 40);\r\n        player.getPacketSender().sendString(30367, &quot;Obtained: @gre@&quot; + received + &quot;/&quot; + total + &quot;&quot;);\r\n    }\r\n```\r\n\r\nLanguage level 8 - Lambdas, type annotations etc.\r\n\r\nTrying to stop that error from showing up to build project","title":"java: as of release 10, &#39;var&#39; is a restricted type name and cannot be used for type declarations or as the element type of an array","body":"<p>I keep getting this from jetbrains intellij\njava: as of release 10, 'var' is a restricted type name and cannot be used for type declarations or as the element type of an array.</p>\n<pre><code>package com.ruse.world.content.collectionlog;\n\nimport com.ruse.model.definitions.NPCDrops;\nimport com.ruse.model.definitions.NpcDefinition;\nimport com.ruse.util.Misc;\nimport com.ruse.world.content.KillsTracker;\nimport com.ruse.world.content.TeleportInterface;\nimport com.ruse.world.entity.impl.player.Player;\nimport lombok.RequiredArgsConstructor;\nimport lombok.var;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\n\n//import com.sun.scenario.effect.DropShadow;\n\n private void sendNpcData(int index) {\n        int received = 0;\n        int total = 0;\n        var definition = NpcDefinition.forId(currentlyViewing.get(index));\n        player.getPacketSender().resetItemsOnInterface(30375, 6 * 10);\n        player.getPacketSender().sendString(30368, &quot;&quot; + definition.getName() + &quot;&quot;);\n        player.getPacketSender().sendString(30369, &quot;Killcount: &quot; +\n                Misc.insertCommasToNumber(String.valueOf(KillsTracker.getTotalKillsForNpc(definition.getId(), player))));\n        var drops = NPCDrops.forId(definition.getId());\n        var slot = 0;\n        if (drops != null &amp;&amp; drops.getDropList() != null) {\n            for (var npcDrop : drops.getDropList()) { //smaller and equal too means very common, and always,\n                if (npcDrop.getChance() &lt;= 1) {\n                    continue;\n                }\n                if (hasObtainedItem(definition.getId(), npcDrop.getId())) {\n                    var item = player.getCollectionLogData().stream().filter(data -&gt; data.getNpcId() == definition.getId() &amp;&amp; data.getItem() == npcDrop.getId()).findFirst().get();\n                    player.getPacketSender().sendItemOnInterface(30375, item.getItem(), slot++, item.getAmount());\n                    received++;\n                } else {\n                    player.getPacketSender().sendItemOnInterface(30375, npcDrop.getId(), slot++, 0);\n                }\n                total++;\n            }\n        }\n        int lines = total / 6;\n        if (total % 6 &gt; 0)\n            lines++;\n        player.getPacketSender().setScrollMax(30385, lines * 40);\n        player.getPacketSender().sendString(30367, &quot;Obtained: @gre@&quot; + received + &quot;/&quot; + total + &quot;&quot;);\n    }\n</code></pre>\n<p>Language level 8 - Lambdas, type annotations etc.</p>\n<p>Trying to stop that error from showing up to build project</p>\n"},{"tags":["java","android","unity-game-engine"],"owner":{"account_id":19674142,"reputation":1,"user_id":14402724,"display_name":"anon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673239358,"creation_date":1672990176,"question_id":75028101,"body_markdown":"I&#39;m trying to run a Unity game on the Android Studio emulator, but I&#39;m receiving the error below whenever I run it (either from building an apk from the Unity editor and running or from the play store): \r\n\r\n`AndroidJavaException: java.lang.ClassNotFoundException: com.unity3d.plugin.downloader.UnityDownloaderService\r\n                                                                                                    java.lang.ClassNotFoundException: com.unity3d.plugin.downloader.UnityDownloaderService\r\n                                                                                                    \tat java.lang.Class.classForName(Native Method)\r\n                                                                                                    \tat java.lang.Class.forName(Class.java:454)\r\n                                                                                                    \tat com.unity3d.player.UnityPlayer.nativeRender(Native Method)\r\n                                                                                                    \tat com.unity3d.player.UnityPlayer.access$300(Unknown Source:0)\r\n                                                                                                    \tat com.unity3d.player.UnityPlayer$e$1.handleMessage(Unknown Source:95)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat com.unity3d.player.UnityPlayer$e.run(Unknown Source:20)\r\n                                                                                                    Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.unity3d.plugin.downloader.UnityDownloaderService&quot; on path: DexPathList[[zip file &quot;/data/app/~~PUPwYH3sTLZDgAXgKGYUmA==/com.todo.todo-QL3yqTG5AR994UyegPPCZA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~PUPwYH3sTLZDgAXgKGYUmA==/com.todo.todo-QL3`&lt;br&gt;\r\n\r\nI&#39;m not sure what&#39;s wrong here since it works for other people. Any ideas?","title":"AndroidJavaException: java.lang.ClassNotFoundException: com.unity3d.plugin.downloader.UnityDownloaderService","body":"<p>I'm trying to run a Unity game on the Android Studio emulator, but I'm receiving the error below whenever I run it (either from building an apk from the Unity editor and running or from the play store):</p>\n<p><code>AndroidJavaException: java.lang.ClassNotFoundException: com.unity3d.plugin.downloader.UnityDownloaderService java.lang.ClassNotFoundException: com.unity3d.plugin.downloader.UnityDownloaderService at java.lang.Class.classForName(Native Method) at java.lang.Class.forName(Class.java:454) at com.unity3d.player.UnityPlayer.nativeRender(Native Method) at com.unity3d.player.UnityPlayer.access$300(Unknown Source:0) at com.unity3d.player.UnityPlayer$e$1.handleMessage(Unknown Source:95) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loopOnce(Looper.java:201) at android.os.Looper.loop(Looper.java:288) at com.unity3d.player.UnityPlayer$e.run(Unknown Source:20) Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.unity3d.plugin.downloader.UnityDownloaderService&quot; on path: DexPathList[[zip file &quot;/data/app/~~PUPwYH3sTLZDgAXgKGYUmA==/com.todo.todo-QL3yqTG5AR994UyegPPCZA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~PUPwYH3sTLZDgAXgKGYUmA==/com.todo.todo-QL3</code><br></p>\n<p>I'm not sure what's wrong here since it works for other people. Any ideas?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":5489757,"reputation":678,"user_id":4363468,"accept_rate":100,"display_name":"Evgeniy Strepetov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1548873812,"creation_date":1548873812,"answer_id":54447452,"question_id":54443477,"body_markdown":"I found a workaround for similar problem by setting `secure` flag to `false` for `@WebMvcTest`.\r\n\r\nLike:\r\n\r\n    @WebMvcTest(controllers = SomeController.class, secure = false)","title":"Disable security in springBootTest using WebTestClient","body":"<p>I found a workaround for similar problem by setting <code>secure</code> flag to <code>false</code> for <code>@WebMvcTest</code>.</p>\n\n<p>Like:</p>\n\n<pre><code>@WebMvcTest(controllers = SomeController.class, secure = false)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1750956,"reputation":414,"user_id":1600055,"accept_rate":50,"display_name":"Maciek Murawski"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1620770619,"creation_date":1548881732,"answer_id":54449383,"question_id":54443477,"body_markdown":"In some dark place, deep down the rabbit hole I found this:\r\n```\r\n@TestConfiguration\r\n@Order(1)\r\npublic class SecurityConfiguration\r\n  implements WebSecurityConfigurer&lt;WebSecurity&gt; {\r\n\r\n  @Override\r\n  public void init(WebSecurity builder) throws Exception {\r\n    builder.ignoring().requestMatchers(\r\n      new AntPathRequestMatcher(&quot;/**&quot;));\r\n  }\r\n\r\n  @Override\r\n  public void configure(WebSecurity builder) throws Exception {\r\n  }\r\n\r\n}\r\n```\r\n\r\nRemember to register class in `@SpringBootTest`, for instance:\r\n```\r\n@SpringBootTest(\r\n  classes = [SomeApplication, SecurityConfiguration],\r\n  webEnvironment = RANDOM_PORT\r\n)\r\n```\r\n\r\nIt&#39;s not disabling spring security, but it makes it transparent.","title":"Disable security in springBootTest using WebTestClient","body":"<p>In some dark place, deep down the rabbit hole I found this:</p>\n<pre><code>@TestConfiguration\n@Order(1)\npublic class SecurityConfiguration\n  implements WebSecurityConfigurer&lt;WebSecurity&gt; {\n\n  @Override\n  public void init(WebSecurity builder) throws Exception {\n    builder.ignoring().requestMatchers(\n      new AntPathRequestMatcher(&quot;/**&quot;));\n  }\n\n  @Override\n  public void configure(WebSecurity builder) throws Exception {\n  }\n\n}\n</code></pre>\n<p>Remember to register class in <code>@SpringBootTest</code>, for instance:</p>\n<pre><code>@SpringBootTest(\n  classes = [SomeApplication, SecurityConfiguration],\n  webEnvironment = RANDOM_PORT\n)\n</code></pre>\n<p>It's not disabling spring security, but it makes it transparent.</p>\n"},{"tags":[],"owner":{"account_id":7180854,"reputation":75,"user_id":5484873,"display_name":"Ridwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673238146,"creation_date":1673238146,"answer_id":75053159,"question_id":54443477,"body_markdown":"I solved this problem by adding the [AutoConfigureMockMvc][1] annotation in the test class. \r\n\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureMockMvc(addFilters = false) // to ignore security\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/AutoConfigureMockMvc.html#addFilters()","title":"Disable security in springBootTest using WebTestClient","body":"<p>I solved this problem by adding the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/web/servlet/AutoConfigureMockMvc.html#addFilters()\" rel=\"nofollow noreferrer\">AutoConfigureMockMvc</a> annotation in the test class.</p>\n<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc(addFilters = false) // to ignore security\n</code></pre>\n"}],"owner":{"account_id":5127621,"reputation":148,"user_id":4109055,"display_name":"naitsabes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3791,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":54449383,"answer_count":3,"score":11,"last_activity_date":1673238146,"creation_date":1548860318,"question_id":54443477,"body_markdown":"SpringBoot in 2.1 Release Notes contain the following piece of information:\r\n\r\n&gt; Security configuration is now applied to WebTestClient. For more information on testing secured endpoints, please refer to the relevant section of Spring Security’s reference documentation.\r\n\r\nProblem:\r\n\r\nAfter updating SpringBoot from **2.0.4** to **2.1.2** I found that my tests have stopped to work. I am using `@SpringBootTest` for my REST test. My `WebTestClient` cannot reach server. I did try a lot (e.g. from [here][1])\r\nto mock or disable security and still getting `403 FORBIDDEN` response.\r\n\r\nDo you have any clues what can be wrong?\r\n\r\nI create `WebTestClient` in the following way:\r\n\r\n    client = WebTestClient\r\n      .bindToServer()\r\n      .baseUrl(&quot;http://localhost:$port&quot;)\r\n      .build()\r\n\r\nAlso tried to exclude `SecurityAutoConfiguration.class`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.1.x/reference/html5/#test-method-setup","title":"Disable security in springBootTest using WebTestClient","body":"<p>SpringBoot in 2.1 Release Notes contain the following piece of information:</p>\n\n<blockquote>\n  <p>Security configuration is now applied to WebTestClient. For more information on testing secured endpoints, please refer to the relevant section of Spring Security’s reference documentation.</p>\n</blockquote>\n\n<p>Problem:</p>\n\n<p>After updating SpringBoot from <strong>2.0.4</strong> to <strong>2.1.2</strong> I found that my tests have stopped to work. I am using <code>@SpringBootTest</code> for my REST test. My <code>WebTestClient</code> cannot reach server. I did try a lot (e.g. from <a href=\"https://docs.spring.io/spring-security/site/docs/5.1.x/reference/html5/#test-method-setup\" rel=\"noreferrer\">here</a>)\nto mock or disable security and still getting <code>403 FORBIDDEN</code> response.</p>\n\n<p>Do you have any clues what can be wrong?</p>\n\n<p>I create <code>WebTestClient</code> in the following way:</p>\n\n<pre><code>client = WebTestClient\n  .bindToServer()\n  .baseUrl(\"http://localhost:$port\")\n  .build()\n</code></pre>\n\n<p>Also tried to exclude <code>SecurityAutoConfiguration.class</code>.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9248,"page":744,"page_size":100}
