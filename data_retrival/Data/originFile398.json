{"items":[{"tags":["java","spring","spring-boot","spring-transactions"],"comments":[{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1685542519,"post_id":76374340,"comment_id":134675087,"body_markdown":"Possibly related: https://stackoverflow.com/questions/1201726/tracking-down-cause-of-springs-not-eligible-for-auto-proxying","body":"Possibly related: <a href=\"https://stackoverflow.com/questions/1201726/tracking-down-cause-of-springs-not-eligible-for-auto-proxying\" title=\"tracking down cause of springs not eligible for auto proxying\">stackoverflow.com/questions/1201726/&hellip;</a>"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1685542597,"post_id":76374340,"comment_id":134675113,"body_markdown":"`javax.transaction.Transactional` - that is wrong annotation, should be `org.springframework.transaction.annotation.Transactional`","body":"<code>javax.transaction.Transactional</code> - that is wrong annotation, should be <code>org.springframework.transaction.annotation.Transactional</code>"},{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1685542605,"post_id":76374340,"comment_id":134675117,"body_markdown":"Did you add `@EnableTransactionManagement` to your `@SpringBootApplication` class? Also, `TransactionSynchronizationManager` class belongs to `...reactive` package, so maybe you will need to define `ReactiveTransactionManager` bean, e.g. `org.springframework.data.mongodb.ReactiveMongoTransactionManager`","body":"Did you add <code>@EnableTransactionManagement</code> to your <code>@SpringBootApplication</code> class? Also, <code>TransactionSynchronizationManager</code> class belongs to <code>...reactive</code> package, so maybe you will need to define <code>ReactiveTransactionManager</code> bean, e.g. <code>org.springframework.data.mongodb.ReactiveMongoTransactionMan&zwnj;&#8203;ager</code>"},{"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"score":0,"creation_date":1685600866,"post_id":76374340,"comment_id":134683318,"body_markdown":"@AndreyB.Panfilov Nope, it is not. It works as expected.","body":"@AndreyB.Panfilov Nope, it is not. It works as expected."},{"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"score":0,"creation_date":1685600891,"post_id":76374340,"comment_id":134683324,"body_markdown":"@geobreze Yes. `@EnableTransactionManagement` is added.","body":"@geobreze Yes. <code>@EnableTransactionManagement</code> is added."}],"answers":[{"tags":[],"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685600896,"creation_date":1685600896,"answer_id":76379205,"question_id":76374340,"body_markdown":"The first comment mentioning a possible duplicate helped me move forward. I changed the Constructor injection to field injection and added `@Lazy` and it started working.\r\nMore Information can be found here: \r\n- https://stackoverflow.com/questions/76374340/spring-not-creating-proxy-object-for-a-spring-service-that-has-a-public-method-w?noredirect=1#comment134675117_76374340\r\n- https://www.baeldung.com/spring-not-eligible-for-auto-proxying\r\n- https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/\r\n- https://www.startups.com/community/questions/7706/springboot-doesn-t-load-bean-globalmethodsecurityconfiguration-err-not-eligible","title":"Spring not creating Proxy Object for A Spring Service that has a public method with @Transactional annotation","body":"<p>The first comment mentioning a possible duplicate helped me move forward. I changed the Constructor injection to field injection and added <code>@Lazy</code> and it started working.\nMore Information can be found here:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/76374340/spring-not-creating-proxy-object-for-a-spring-service-that-has-a-public-method-w?noredirect=1#comment134675117_76374340\">Spring not creating Proxy Object for A Spring Service that has a public method with @Transactional annotation</a></li>\n<li><a href=\"https://www.baeldung.com/spring-not-eligible-for-auto-proxying\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-not-eligible-for-auto-proxying</a></li>\n<li><a href=\"https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/\" rel=\"nofollow noreferrer\">https://synyx.de/blog/bean-x-of-type-y-is-not-eligible-for-getting-processed-by-all-beanpostprocessors/</a></li>\n<li><a href=\"https://www.startups.com/community/questions/7706/springboot-doesn-t-load-bean-globalmethodsecurityconfiguration-err-not-eligible\" rel=\"nofollow noreferrer\">https://www.startups.com/community/questions/7706/springboot-doesn-t-load-bean-globalmethodsecurityconfiguration-err-not-eligible</a></li>\n</ul>\n"}],"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685600896,"creation_date":1685541778,"question_id":76374340,"body_markdown":"I have a RestController that has a Service with a public method annotated with `@Transactional`. The RestController class is annotated with `@RestController`, and the service bean is injected using Constructor injection. You can assume that the service is written as a different public class. `MyRespository` is annotated with `@Repository` annotation.\r\n\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.support.TransactionSynchronizationManager;\r\n    import org.springframework.web.bind.annotation.PatchMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import javax.transaction.Transactional;\r\n    \r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class MyController {\r\n    \r\n        private final MyService myService;\r\n    \r\n        @PatchMapping(&quot;/some-endpoint&quot;)\r\n        public SomeCustomObject updateSomeObject(){\r\n            // This prints `package.x.y.z.MyService` as opposed to something like `package.x.y.z.MyService$$EnhancerBySpringCGLIB$$a1b2c3d4`\r\n            log.info(&quot;myService proxy {}&quot;, myService.getClass());\r\n            return myService.updateSomeObject();\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class MyService extends SomeBaseService{\r\n    \r\n        private final MyRepository myRepository;\r\n    \r\n        @Transactional(rollbackOn = SomeCustomException.class)\r\n        public SomeCustomObject updateSomeObject(){\r\n            log.info(&quot;Is Transaction Active {} Name {} &quot;, TransactionSynchronizationManager.isActualTransactionActive(),\r\n                    TransactionSynchronizationManager.getCurrentTransactionName()); // This prints `false` and `null`\r\n            SomeCustomObject someCustomObject = getTheObj();\r\n            updateTheObject(someCustomObject);\r\n        } // Updates are not persisted to the database.\r\n    \r\n        private SomeCustomObject getTheObj(){\r\n            return myRepository.HugeMethodNameThatsWhyUsedAMethodAsWrapper();\r\n        }\r\n    \r\n        private void updateTheObject(SomeCustomObject someCustomObject){\r\n            myRepository.setSomething(someCustomObject);\r\n        }\r\n    }\r\n\r\nOn googling, I found Spring may not be able to create a proxy if circular dependencies are there. So I tried Field injection using `@Autowired` still the log output show the real object.\r\n\r\nIn one of the other controllers which have another service, which also extends from the `SomeBaseService` like `MyService` class, injected, the proxy is being created and all these classes are within the same base package.","title":"Spring not creating Proxy Object for A Spring Service that has a public method with @Transactional annotation","body":"<p>I have a RestController that has a Service with a public method annotated with <code>@Transactional</code>. The RestController class is annotated with <code>@RestController</code>, and the service bean is injected using Constructor injection. You can assume that the service is written as a different public class. <code>MyRespository</code> is annotated with <code>@Repository</code> annotation.</p>\n<pre><code>import lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.support.TransactionSynchronizationManager;\nimport org.springframework.web.bind.annotation.PatchMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.transaction.Transactional;\n\n@RestController\n@RequiredArgsConstructor\npublic class MyController {\n\n    private final MyService myService;\n\n    @PatchMapping(&quot;/some-endpoint&quot;)\n    public SomeCustomObject updateSomeObject(){\n        // This prints `package.x.y.z.MyService` as opposed to something like `package.x.y.z.MyService$$EnhancerBySpringCGLIB$$a1b2c3d4`\n        log.info(&quot;myService proxy {}&quot;, myService.getClass());\n        return myService.updateSomeObject();\n    }\n\n}\n\n\n@Service\n@RequiredArgsConstructor\npublic class MyService extends SomeBaseService{\n\n    private final MyRepository myRepository;\n\n    @Transactional(rollbackOn = SomeCustomException.class)\n    public SomeCustomObject updateSomeObject(){\n        log.info(&quot;Is Transaction Active {} Name {} &quot;, TransactionSynchronizationManager.isActualTransactionActive(),\n                TransactionSynchronizationManager.getCurrentTransactionName()); // This prints `false` and `null`\n        SomeCustomObject someCustomObject = getTheObj();\n        updateTheObject(someCustomObject);\n    } // Updates are not persisted to the database.\n\n    private SomeCustomObject getTheObj(){\n        return myRepository.HugeMethodNameThatsWhyUsedAMethodAsWrapper();\n    }\n\n    private void updateTheObject(SomeCustomObject someCustomObject){\n        myRepository.setSomething(someCustomObject);\n    }\n}\n</code></pre>\n<p>On googling, I found Spring may not be able to create a proxy if circular dependencies are there. So I tried Field injection using <code>@Autowired</code> still the log output show the real object.</p>\n<p>In one of the other controllers which have another service, which also extends from the <code>SomeBaseService</code> like <code>MyService</code> class, injected, the proxy is being created and all these classes are within the same base package.</p>\n"},{"tags":["java","swing","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676737713,"post_id":75493730,"comment_id":133199345,"body_markdown":"What UI framework? JavaFX, Swing, AWT, SWT, Vaadin?","body":"What UI framework? JavaFX, Swing, AWT, SWT, Vaadin?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676816928,"post_id":75493730,"comment_id":133209420,"body_markdown":"@BasilBourque The OP is referring to IntelliJ itself, so in a sense the framework *is* IntelliJ.","body":"@BasilBourque The OP is referring to IntelliJ itself, so in a sense the framework <i>is</i> IntelliJ."},{"owner":{"account_id":2568958,"reputation":863,"user_id":2692704,"display_name":"foobarna"},"score":0,"creation_date":1676841879,"post_id":75493730,"comment_id":133213993,"body_markdown":"@BasilBourque as Mark noted, it&#39;s the framework used to develop the IDE itself and I think is based on Swing.","body":"@BasilBourque as Mark noted, it&#39;s the framework used to develop the IDE itself and I think is based on Swing."}],"answers":[{"tags":[],"owner":{"account_id":8835692,"reputation":1670,"user_id":6629569,"accept_rate":71,"display_name":"Abby"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685600851,"creation_date":1676806039,"answer_id":75499797,"question_id":75493730,"body_markdown":"When running IntelliJ in internal mode (should be by default in your sandbox), you get the [UI inspector](https://plugins.jetbrains.com/docs/intellij/internal-ui-inspector.html) under **Tools &gt; Internal Actions &gt; UI &gt; UI Inspector**.\r\n\r\nThe specific UI element you are looking for is hard to get this way though, because when transferring focus to the UI inspector you lose the find popup.\r\nMy guess is that you are looking for an implementation of [`ItemPresentation`](https://github.com/JetBrains/intellij-community/blob/master/platform/core-api/src/com/intellij/navigation/ItemPresentation.java), the one in [`PsiFileImpl`](https://github.com/JetBrains/intellij-community/blob/c1d5eea5a08b1d67abf65804d3a573f5a25f791e/platform/core-impl/src/com/intellij/psi/impl/source/PsiFileImpl.java#L888`) might give you a good starting point.\r\n\r\n---\r\n\r\n**Edit.** You *can* open the UI inspector for any UI element with the shortcut &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Click&lt;/kbd&gt;, where you click on the element you want to inspect.","title":"Inspect UI in IntelliJ IDEs","body":"<p>When running IntelliJ in internal mode (should be by default in your sandbox), you get the <a href=\"https://plugins.jetbrains.com/docs/intellij/internal-ui-inspector.html\" rel=\"nofollow noreferrer\">UI inspector</a> under <strong>Tools &gt; Internal Actions &gt; UI &gt; UI Inspector</strong>.</p>\n<p>The specific UI element you are looking for is hard to get this way though, because when transferring focus to the UI inspector you lose the find popup.\nMy guess is that you are looking for an implementation of <a href=\"https://github.com/JetBrains/intellij-community/blob/master/platform/core-api/src/com/intellij/navigation/ItemPresentation.java\" rel=\"nofollow noreferrer\"><code>ItemPresentation</code></a>, the one in <a href=\"https://github.com/JetBrains/intellij-community/blob/c1d5eea5a08b1d67abf65804d3a573f5a25f791e/platform/core-impl/src/com/intellij/psi/impl/source/PsiFileImpl.java#L888%60\" rel=\"nofollow noreferrer\"><code>PsiFileImpl</code></a> might give you a good starting point.</p>\n<hr />\n<p><strong>Edit.</strong> You <em>can</em> open the UI inspector for any UI element with the shortcut <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>Click</kbd>, where you click on the element you want to inspect.</p>\n"}],"owner":{"account_id":2568958,"reputation":863,"user_id":2692704,"display_name":"foobarna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75499797,"answer_count":1,"score":1,"last_activity_date":1685600851,"creation_date":1676727705,"question_id":75493730,"body_markdown":"I want to modify some UI in IntelliJ straight from the code (https://github.com/JetBrains/intellij-community), but I am having a hard time to identify which panel/class that particular UI component is.\r\n\r\nIs there a way to tell &quot;Hey, what panel is beneath the mouse cursor?&quot;? - just like &quot;Inspect element&quot; in a browser.\r\n\r\nThe particular UI piece is the &quot;file + line number&quot; from the find panel:\r\n[![enter image description here](https://i.stack.imgur.com/8RG94.png)](https://i.stack.imgur.com/8RG94.png)\r\n\r\nI&#39;ve added the code from https://github.com/JetBrains/intellij-community and tried searching by strings found in the &quot;Find&quot; panel, but as I&#39;m not a Java developer, haven&#39;t found what I&#39;m looking for.\r\n\r\n","title":"Inspect UI in IntelliJ IDEs","body":"<p>I want to modify some UI in IntelliJ straight from the code (<a href=\"https://github.com/JetBrains/intellij-community\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/intellij-community</a>), but I am having a hard time to identify which panel/class that particular UI component is.</p>\n<p>Is there a way to tell &quot;Hey, what panel is beneath the mouse cursor?&quot;? - just like &quot;Inspect element&quot; in a browser.</p>\n<p>The particular UI piece is the &quot;file + line number&quot; from the find panel:\n<a href=\"https://i.stack.imgur.com/8RG94.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8RG94.png\" alt=\"enter image description here\" /></a></p>\n<p>I've added the code from <a href=\"https://github.com/JetBrains/intellij-community\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/intellij-community</a> and tried searching by strings found in the &quot;Find&quot; panel, but as I'm not a Java developer, haven't found what I'm looking for.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5271912,"reputation":55,"user_id":4209925,"display_name":"rick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685600795,"creation_date":1685600795,"answer_id":76379185,"question_id":76379061,"body_markdown":"&gt; . in most of the cases it executes at the time but sometime it takes to many hours to call the method.\r\n&gt; Blockquote\r\n\r\nthread issue. If the available thread is busy for other task, you must wait maybe many hours.\r\n\r\n1. calling the async method from within the same class — won&#39;t work. you may see the detail [https://www.baeldung.com/spring-async][1]\r\n\r\n2. you should create a ThreadPool and its size should bigger than 1, you may see the detail [https://spring.io/guides/gs/async-method/][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-async\r\n  [2]: https://spring.io/guides/gs/async-method/","title":"Calling method with @Async annotation called after to much time in spring boot","body":"<blockquote>\n<p>. in most of the cases it executes at the time but sometime it takes to many hours to call the method.\nBlockquote</p>\n</blockquote>\n<p>thread issue. If the available thread is busy for other task, you must wait maybe many hours.</p>\n<ol>\n<li><p>calling the async method from within the same class — won't work. you may see the detail <a href=\"https://www.baeldung.com/spring-async\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-async</a></p>\n</li>\n<li><p>you should create a ThreadPool and its size should bigger than 1, you may see the detail <a href=\"https://spring.io/guides/gs/async-method/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/async-method/</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":10892613,"reputation":29,"user_id":8007829,"display_name":"Bilal Ghanchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685600795,"creation_date":1685599311,"question_id":76379061,"body_markdown":"I am using **java-11** and **spring boot 2.3.8.RELEASE** in my project.\r\n\r\nIn my project, I got the issue in calling **@async** method.\r\n\r\nwhen i call **@async** method sometimes it called after to many hours. in most of the cases it executes at the time but sometime it takes to many hours to call the method. \r\n\r\nbelow is my code\r\n\r\n```` \r\npublic void methodA(){\r\n     logger.info(&quot;going to call async method&quot;);\r\n     this.methodB();\r\n     logger.info(&quot;async method execution completed&quot;);\r\n}\r\n\r\n@Async\r\npublic void methodB(){\r\n      logger.info(&quot;inside async method&quot;);\r\n}\r\n\r\n````\r\n\r\nwhen i checked logs for above then it i got o/p as below\r\n\r\n````\r\n2023-05-29 03:36:36.893  INFO 3382750 --- [http-nio-auto-1-exec-236] com.demo.web.service      : going to call async method\r\n\r\n2023-05-29 04:53:08.893  INFO 3382750 --- [http-nio-auto-1-exec-236] com.demo.web.service      : inside async method\r\n\r\n2023-05-29 04:53:08.893  INFO 3382750 --- [http-nio-auto-1-exec-236] com.demo.web.service      : async method execution completed\r\n````\r\n\r\n\r\nI don&#39;t understand why this is happening.\r\nSometime it works well as expected and sometime it&#39;s working like this \r\n\r\nAny help is appreciated\r\n\r\nPlease guide. Thanks\r\n\r\n","title":"Calling method with @Async annotation called after to much time in spring boot","body":"<p>I am using <strong>java-11</strong> and <strong>spring boot 2.3.8.RELEASE</strong> in my project.</p>\n<p>In my project, I got the issue in calling <strong>@async</strong> method.</p>\n<p>when i call <strong>@async</strong> method sometimes it called after to many hours. in most of the cases it executes at the time but sometime it takes to many hours to call the method.</p>\n<p>below is my code</p>\n<pre><code>public void methodA(){\n     logger.info(&quot;going to call async method&quot;);\n     this.methodB();\n     logger.info(&quot;async method execution completed&quot;);\n}\n\n@Async\npublic void methodB(){\n      logger.info(&quot;inside async method&quot;);\n}\n\n</code></pre>\n<p>when i checked logs for above then it i got o/p as below</p>\n<pre><code>2023-05-29 03:36:36.893  INFO 3382750 --- [http-nio-auto-1-exec-236] com.demo.web.service      : going to call async method\n\n2023-05-29 04:53:08.893  INFO 3382750 --- [http-nio-auto-1-exec-236] com.demo.web.service      : inside async method\n\n2023-05-29 04:53:08.893  INFO 3382750 --- [http-nio-auto-1-exec-236] com.demo.web.service      : async method execution completed\n</code></pre>\n<p>I don't understand why this is happening.\nSometime it works well as expected and sometime it's working like this</p>\n<p>Any help is appreciated</p>\n<p>Please guide. Thanks</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":2802397,"reputation":1110,"user_id":5339661,"display_name":"Marcos Barbero"},"score":2,"creation_date":1617005779,"post_id":66850744,"comment_id":118169516,"body_markdown":"I believe it&#39;s better if you use Liquibase or Flyway for that purposed, it will give you a lot more control over what you are trying to achieve.","body":"I believe it&#39;s better if you use Liquibase or Flyway for that purposed, it will give you a lot more control over what you are trying to achieve."},{"owner":{"account_id":19880392,"reputation":11,"user_id":14564531,"display_name":"mariaILikeIt"},"score":0,"creation_date":1617008554,"post_id":66850744,"comment_id":118170581,"body_markdown":"Thanks @MarcosBarbero, are there any good resources for Liquibase or Flyway you can recommend?","body":"Thanks @MarcosBarbero, are there any good resources for Liquibase or Flyway you can recommend?"},{"owner":{"account_id":2802397,"reputation":1110,"user_id":5339661,"display_name":"Marcos Barbero"},"score":1,"creation_date":1617014547,"post_id":66850744,"comment_id":118173014,"body_markdown":"You can refer to Liquibase&#39;s official guide here https://docs.liquibase.com/tools-integrations/springboot/springboot.html","body":"You can refer to Liquibase&#39;s official guide here <a href=\"https://docs.liquibase.com/tools-integrations/springboot/springboot.html\" rel=\"nofollow noreferrer\">docs.liquibase.com/tools-integrations/springboot/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4703670,"reputation":141,"user_id":3806532,"display_name":"Tavo Sanchez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617006172,"creation_date":1617006172,"answer_id":66850865,"question_id":66850744,"body_markdown":"If you are using `schema.sql` and `data.sql` you have to disable the `spring.jpa.hibernate.ddl-auto` ie. `spring.jpa.hibernate.ddl-auto=none`.\r\nTake a look at the [documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-initialize-a-database-using-spring-jdbc) on how to initialize the database.","title":"Spring H2 database - cannot initilize and persist data","body":"<p>If you are using <code>schema.sql</code> and <code>data.sql</code> you have to disable the <code>spring.jpa.hibernate.ddl-auto</code> ie. <code>spring.jpa.hibernate.ddl-auto=none</code>.\nTake a look at the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-initialize-a-database-using-spring-jdbc\" rel=\"nofollow noreferrer\">documentation</a> on how to initialize the database.</p>\n"},{"tags":[],"owner":{"account_id":22105716,"reputation":1,"user_id":16361418,"display_name":"Rob Ladrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685598437,"creation_date":1685598437,"answer_id":76378981,"question_id":66850744,"body_markdown":"i just tried with import.sql instead of data.sql and works for me","title":"Spring H2 database - cannot initilize and persist data","body":"<p>i just tried with import.sql instead of data.sql and works for me</p>\n"}],"owner":{"account_id":19880392,"reputation":11,"user_id":14564531,"display_name":"mariaILikeIt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685600312,"creation_date":1617005565,"question_id":66850744,"body_markdown":"I would like to create an app that fills a **`H2`** database with some data on the first startup and persists it. Unless I remove the db file, the data is saved in the file and not overwritten. If I remove the db file, I would like the app to create it again with the basic set of data. I&#39;ve made two files `schema.sql` and `data.sql`.\r\n\r\n**Schema.sql**\r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS ACCOUNT\r\n(\r\n    id      INT AUTO_INCREMENT PRIMARY KEY,\r\n    NAME    VARCHAR(50) UNIQUE NOT NULL,\r\n    BALANCE INT                NOT NULL\r\n);\r\n\r\n```\r\n\r\n**Data.sql**\r\n```\r\nINSERT INTO ACCOUNT(NAME, BALANCE)\r\nVALUES (&#39;Wallet&#39;, 100);\r\nINSERT INTO ACCOUNT(NAME, BALANCE)\r\nVALUES (&#39;Savings&#39;, 5000);\r\nINSERT INTO ACCOUNT(NAME, BALANCE)\r\nVALUES (&#39;Budget3&#39;, 0);\r\nINSERT INTO ACCOUNT(NAME, BALANCE)\r\nVALUES (&#39;Budget4&#39;, 0);\r\n```\r\n\r\n\r\nAnd my application.properties\r\n\r\n```\r\nspring.h2.console.path=/h2\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.jpa.show-sql=true\r\nspring.h2.console.enabled=true\r\nspring.datasource.url = jdbc:h2:file:./data/sample;DB_CLOSE_ON_EXIT=FALSE;AUTO_RECONNECT=TRUE\r\n```\r\nIn the current setup, the data.sql does not populate the db on first start. If I add `#spring.datasource.initialization-mode=always` - it populates the db on the first run, but causes issues afterwards.","title":"Spring H2 database - cannot initilize and persist data","body":"<p>I would like to create an app that fills a <strong><code>H2</code></strong> database with some data on the first startup and persists it. Unless I remove the db file, the data is saved in the file and not overwritten. If I remove the db file, I would like the app to create it again with the basic set of data. I've made two files <code>schema.sql</code> and <code>data.sql</code>.</p>\n<p><strong>Schema.sql</strong></p>\n<pre><code>CREATE TABLE IF NOT EXISTS ACCOUNT\n(\n    id      INT AUTO_INCREMENT PRIMARY KEY,\n    NAME    VARCHAR(50) UNIQUE NOT NULL,\n    BALANCE INT                NOT NULL\n);\n\n</code></pre>\n<p><strong>Data.sql</strong></p>\n<pre><code>INSERT INTO ACCOUNT(NAME, BALANCE)\nVALUES ('Wallet', 100);\nINSERT INTO ACCOUNT(NAME, BALANCE)\nVALUES ('Savings', 5000);\nINSERT INTO ACCOUNT(NAME, BALANCE)\nVALUES ('Budget3', 0);\nINSERT INTO ACCOUNT(NAME, BALANCE)\nVALUES ('Budget4', 0);\n</code></pre>\n<p>And my application.properties</p>\n<pre><code>spring.h2.console.path=/h2\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.show-sql=true\nspring.h2.console.enabled=true\nspring.datasource.url = jdbc:h2:file:./data/sample;DB_CLOSE_ON_EXIT=FALSE;AUTO_RECONNECT=TRUE\n</code></pre>\n<p>In the current setup, the data.sql does not populate the db on first start. If I add <code>#spring.datasource.initialization-mode=always</code> - it populates the db on the first run, but causes issues afterwards.</p>\n"},{"tags":["java","emoji"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685598719,"post_id":76378972,"comment_id":134683033,"body_markdown":"I imagine you need to add a UTF-16 _encoding_ declaration as a _[launch option](https://code.visualstudio.com/docs/java/java-debugging#_launch)_ in the _launch.json_.","body":"I imagine you need to add a UTF-16 <i>encoding</i> declaration as a <i><a href=\"https://code.visualstudio.com/docs/java/java-debugging#_launch\" rel=\"nofollow noreferrer\">launch option</a></i> in the <i>launch.json</i>."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685606951,"post_id":76378972,"comment_id":134684431,"body_markdown":"@Reilas Java may internally use UTF-16 for `char`, that does not mean it uses UTF-16 for source and communication with consoles and things (since Java 18 it is UTF-8 by default, before that - on Windows - it is generally a locale specific encoding, like windows-1252).","body":"@Reilas Java may internally use UTF-16 for <code>char</code>, that does not mean it uses UTF-16 for source and communication with consoles and things (since Java 18 it is UTF-8 by default, before that - on Windows - it is generally a locale specific encoding, like windows-1252)."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685639895,"post_id":76378972,"comment_id":134692203,"body_markdown":"@MarkRotteveel, is that what the launch option would be changing?  Only a JVM option?  I misinterpreted.","body":"@MarkRotteveel, is that what the launch option would be changing?  Only a JVM option?  I misinterpreted."}],"answers":[{"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685600248,"creation_date":1685600248,"answer_id":76379147,"question_id":76378972,"body_markdown":"It works for me in both VS Code and IntelliJ IDEA.\r\n\r\nPlease check your settings for terminal and file encoding.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0J54x.png","title":"Why do emojis print as weird symbols in my Java project on Visual Studio Code?","body":"<p>It works for me in both VS Code and IntelliJ IDEA.</p>\n<p>Please check your settings for terminal and file encoding.</p>\n<p><a href=\"https://i.stack.imgur.com/0J54x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0J54x.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28724842,"reputation":1,"user_id":21997834,"display_name":"holdtheline"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685600248,"creation_date":1685598337,"question_id":76378972,"body_markdown":"Displaying UTF-8 Emojis in java\r\n\r\nI&#39;m trying to print emojis such as &quot;&#128674;&quot; in java on Visual Studio Code, but it would replace every emoji with a &quot;?&quot;\r\nI tried to find solutions online and found that by importing:\r\n\r\n```\r\nimport java.io.FileDescriptor;\r\nimport java.io.FileOutputStream;\r\nimport java.io.PrintStream;\r\nimport java.nio.charset.StandardCharsets;\r\n```\r\nI could print using a new printStream, which got me to:\r\n```\r\n PrintStream ps = new PrintStream(new FileOutputStream(FileDescriptor.out), true, StandardCharsets.UTF_8);\r\n ps.println(&quot;&#128674;&quot;);\r\n```\r\nHowever, this only returned unintended symbols &quot;≡ƒ&#220;&#243;&quot;. \r\nHow can I get it to display the intended emojis?","title":"Why do emojis print as weird symbols in my Java project on Visual Studio Code?","body":"<p>Displaying UTF-8 Emojis in java</p>\n<p>I'm trying to print emojis such as &quot;🚢&quot; in java on Visual Studio Code, but it would replace every emoji with a &quot;?&quot;\nI tried to find solutions online and found that by importing:</p>\n<pre><code>import java.io.FileDescriptor;\nimport java.io.FileOutputStream;\nimport java.io.PrintStream;\nimport java.nio.charset.StandardCharsets;\n</code></pre>\n<p>I could print using a new printStream, which got me to:</p>\n<pre><code> PrintStream ps = new PrintStream(new FileOutputStream(FileDescriptor.out), true, StandardCharsets.UTF_8);\n ps.println(&quot;🚢&quot;);\n</code></pre>\n<p>However, this only returned unintended symbols &quot;≡ƒÜó&quot;.\nHow can I get it to display the intended emojis?</p>\n"},{"tags":["java","eclipse","project","startup","startup-error"],"comments":[{"owner":{"display_name":"user1131435"},"score":13,"creation_date":1366926023,"post_id":16225177,"comment_id":23206890,"body_markdown":"Do you have a `public static void main(String[] args)` anywhere?","body":"Do you have a <code>public static void main(String[] args)</code> anywhere?"},{"owner":{"account_id":2687521,"reputation":1049,"user_id":2321611,"accept_rate":78,"display_name":"user2321611"},"score":2,"creation_date":1366926230,"post_id":16225177,"comment_id":23206966,"body_markdown":"I do have public class &quot;name&quot; extends JFrame","body":"I do have public class &quot;name&quot; extends JFrame"},{"owner":{"account_id":898283,"reputation":1283,"user_id":935079,"accept_rate":100,"display_name":"jambriz"},"score":3,"creation_date":1366926886,"post_id":16225177,"comment_id":23207212,"body_markdown":"i dont know what causes this, or how to solve it, but it sure has happened to me with public classes that do have a main method (correctly declared of course). Just wanted to point out that it may not be as simple as you might think","body":"i dont know what causes this, or how to solve it, but it sure has happened to me with public classes that do have a main method (correctly declared of course). Just wanted to point out that it may not be as simple as you might think"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":2,"creation_date":1366926944,"post_id":16225177,"comment_id":23207232,"body_markdown":"I think all the probes point that he&#39;s trying to run some classes without a main method. We&#39;ll continue investigating.","body":"I think all the probes point that he&#39;s trying to run some classes without a main method. We&#39;ll continue investigating."},{"owner":{"account_id":5834077,"reputation":73,"user_id":4597705,"accept_rate":75,"display_name":"Andr&#233; Lu&#237;s Tomaz Dionisio"},"score":1,"creation_date":1515170216,"post_id":16225177,"comment_id":83211703,"body_markdown":"Maybe it is a maven project so click in the name of your project and hit the follow keys alt+f5 to update the project.","body":"Maybe it is a maven project so click in the name of your project and hit the follow keys alt+f5 to update the project."},{"owner":{"account_id":1065843,"reputation":157,"user_id":1101680,"display_name":"TheGeeko61"},"score":0,"creation_date":1657587457,"post_id":16225177,"comment_id":128841169,"body_markdown":"Ten years later, and I receive it on version 2022-06 of eclipse.  Running on Linux Ubuntu 22.04.  Was there ever a viable answer among the many given?  Looks like a lot of shot-iin-the-dark responses.","body":"Ten years later, and I receive it on version 2022-06 of eclipse.  Running on Linux Ubuntu 22.04.  Was there ever a viable answer among the many given?  Looks like a lot of shot-iin-the-dark responses."}],"answers":[{"tags":[],"owner":{"display_name":"user1131435"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1366927332,"creation_date":1366927332,"answer_id":16225497,"question_id":16225177,"body_markdown":"The entry point for Java programs is the method:\r\n\r\n    public static void main(String[] args) {\r\n        //Code\r\n    }\r\n\r\nIf you do not have this, your program will not run. ","title":"Error: Selection does not contain a main type","body":"<p>The entry point for Java programs is the method:</p>\n\n<pre><code>public static void main(String[] args) {\n    //Code\n}\n</code></pre>\n\n<p>If you do not have this, your program will not run. </p>\n"},{"tags":[],"owner":{"account_id":1507235,"reputation":6056,"user_id":1410342,"accept_rate":95,"display_name":"NoNaMe"},"down_vote_count":3,"up_vote_count":31,"is_accepted":true,"score":28,"last_activity_date":1613662588,"creation_date":1366958828,"answer_id":16230316,"question_id":16225177,"body_markdown":"I hope you are trying to run the main class in this way, see screenshot:  \r\n![screenshot of Eclipse file context menu][1]\r\n\r\nIf not, then try this way. If yes, then please make sure that your class you are trying to run has a main method, that is, the same method definition as below:\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    // some code here\r\n}\r\n```\r\n\r\nI hope this will help you.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aoCV9.png","title":"Error: Selection does not contain a main type","body":"<p>I hope you are trying to run the main class in this way, see screenshot:<br />\n<img src=\"https://i.stack.imgur.com/aoCV9.png\" alt=\"screenshot of Eclipse file context menu\" /></p>\n<p>If not, then try this way. If yes, then please make sure that your class you are trying to run has a main method, that is, the same method definition as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // some code here\n}\n</code></pre>\n<p>I hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":186042,"reputation":591,"user_id":423143,"display_name":"zen"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1379643097,"creation_date":1379643097,"answer_id":18907842,"question_id":16225177,"body_markdown":"The other answers are all valid, however, if you are still having a problem you might not have your class inside the src folder in which case Eclipse may not see it as part of the project. This would also invoke the same error message you have seen. ","title":"Error: Selection does not contain a main type","body":"<p>The other answers are all valid, however, if you are still having a problem you might not have your class inside the src folder in which case Eclipse may not see it as part of the project. This would also invoke the same error message you have seen. </p>\n"},{"tags":[],"owner":{"account_id":1373820,"reputation":1579,"user_id":1308236,"accept_rate":79,"display_name":"Dev M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393606026,"creation_date":1393606026,"answer_id":22100992,"question_id":16225177,"body_markdown":"You must place all your files (file.java) under the root folder **SRC**.","title":"Error: Selection does not contain a main type","body":"<p>You must place all your files (file.java) under the root folder <strong>SRC</strong>.</p>\n"},{"tags":[],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1394118945,"creation_date":1394118945,"answer_id":22228526,"question_id":16225177,"body_markdown":"Few things to check out:\r\n\r\n1. Do you have a main package? do all of your classes are under this package?\r\n2. Do you use a main class with public static void main(String[] args)?\r\n3. Do you declare: package &lt;your package name&gt;; in your main class?\r\n4. You can always clean the project before running it. In Eclipse - Just go to  Project -&gt; clean then run the app again. \r\n\r\n","title":"Error: Selection does not contain a main type","body":"<p>Few things to check out:</p>\n\n<ol>\n<li>Do you have a main package? do all of your classes are under this package?</li>\n<li>Do you use a main class with public static void main(String[] args)?</li>\n<li>Do you declare: package ; in your main class?</li>\n<li>You can always clean the project before running it. In Eclipse - Just go to  Project -> clean then run the app again. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4315658,"reputation":941,"user_id":3525611,"display_name":"Rashid"},"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1644932714,"creation_date":1397259692,"answer_id":23024294,"question_id":16225177,"body_markdown":"Right click on the folder where you put your main class then click on `Build Path` --&gt; `Use as Source Folder`.\r\n\r\n Finally run your main file as java application. Hope this problem will be solved.\r\n\r\nIf the option &#39;Use as Source Folder&#39; is not visible then inside the &#39;Build Path&#39; select the option &#39;Remove from Build Path&#39;. This will allow &#39;Use as Source Folder&#39; option to appear in the &#39;Build Path&#39;.","title":"Error: Selection does not contain a main type","body":"<p>Right click on the folder where you put your main class then click on <code>Build Path</code> --&gt; <code>Use as Source Folder</code>.</p>\n<p>Finally run your main file as java application. Hope this problem will be solved.</p>\n<p>If the option 'Use as Source Folder' is not visible then inside the 'Build Path' select the option 'Remove from Build Path'. This will allow 'Use as Source Folder' option to appear in the 'Build Path'.</p>\n"},{"tags":[],"owner":{"account_id":102459,"reputation":1508,"user_id":275027,"accept_rate":68,"display_name":"mishal153"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1398192887,"creation_date":1398192296,"answer_id":23227742,"question_id":16225177,"body_markdown":"I resolved this by adding a new source folder and putting my java file inside that folder. &quot;source folder&quot; is not just any folder i believe. its some special folder type for java/eclipse and can be added in eclipse by right-click on project -&gt; properties -&gt; Java buld path -&gt; Source and add a folder","title":"Error: Selection does not contain a main type","body":"<p>I resolved this by adding a new source folder and putting my java file inside that folder. \"source folder\" is not just any folder i believe. its some special folder type for java/eclipse and can be added in eclipse by right-click on project -> properties -> Java buld path -> Source and add a folder</p>\n"},{"tags":[],"owner":{"account_id":2071510,"reputation":1531,"user_id":1845891,"accept_rate":40,"display_name":"shivesh suman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398840624,"creation_date":1398840624,"answer_id":23381448,"question_id":16225177,"body_markdown":"I ran into the same issue and found that there was an extra pair of braces (curly brackets) enclosing public static void main(String args) { ... }. This method should really be at the top scope in the class and should not be enclosed around braces. It seems that it is possible to end up with braces around this method when working in Eclipse. This could be just one way you can see this issue when working with Eclipse. Happy coding!\r\n","title":"Error: Selection does not contain a main type","body":"<p>I ran into the same issue and found that there was an extra pair of braces (curly brackets) enclosing public static void main(String args) { ... }. This method should really be at the top scope in the class and should not be enclosed around braces. It seems that it is possible to end up with braces around this method when working in Eclipse. This could be just one way you can see this issue when working with Eclipse. Happy coding!</p>\n"},{"tags":[],"owner":{"account_id":463594,"reputation":972,"user_id":866596,"accept_rate":85,"display_name":"Keven M"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1401082958,"creation_date":1401082958,"answer_id":23863418,"question_id":16225177,"body_markdown":"I had this happen repeatedly after adding images to a project in Eclipse and making them part of the build path.  The solution was to right-click on the class containing the `main` method, and then choose Run As -&gt; Java Application.  It seems that when you add a file to the build path, Eclipse automatically assumes that file is where the `main` method is.  By going through the Run As menu instead of just clicking the green Run As button, it allows you to specify the correct entry-point.","title":"Error: Selection does not contain a main type","body":"<p>I had this happen repeatedly after adding images to a project in Eclipse and making them part of the build path.  The solution was to right-click on the class containing the <code>main</code> method, and then choose Run As -> Java Application.  It seems that when you add a file to the build path, Eclipse automatically assumes that file is where the <code>main</code> method is.  By going through the Run As menu instead of just clicking the green Run As button, it allows you to specify the correct entry-point.</p>\n"},{"tags":[],"owner":{"account_id":4969821,"reputation":31,"user_id":3998007,"display_name":"Yang Zhang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1409592645,"creation_date":1409592645,"answer_id":25610623,"question_id":16225177,"body_markdown":"I ran into the same problem.  I fixed by right click on the package -&gt; properties -&gt; Java Build Path -&gt; Add folder (select the folder your code reside in).","title":"Error: Selection does not contain a main type","body":"<p>I ran into the same problem.  I fixed by right click on the package -> properties -> Java Build Path -> Add folder (select the folder your code reside in).</p>\n"},{"tags":[],"owner":{"account_id":2707308,"reputation":246,"user_id":2336634,"accept_rate":50,"display_name":"KC McLaughlin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1410181621,"creation_date":1410181621,"answer_id":25725013,"question_id":16225177,"body_markdown":"When you save your file, make sure it has the extension .java.  If it does not, Eclipse won&#39;t know to read it as a java file.","title":"Error: Selection does not contain a main type","body":"<p>When you save your file, make sure it has the extension .java.  If it does not, Eclipse won't know to read it as a java file.</p>\n"},{"tags":[],"owner":{"account_id":3608976,"reputation":413,"user_id":3010484,"display_name":"hipokito"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1451501273,"creation_date":1451501273,"answer_id":34535347,"question_id":16225177,"body_markdown":"I am running eclipse from Ubuntu. Had this same problem and was able run the program through terminal. So I just moved the existing `public static void main(String[] args) {` just below the class declaration (it got automatically formatted by eclipse) and the next launch was successful. Then moved the main method back to where it was before and it worked fine this time.","title":"Error: Selection does not contain a main type","body":"<p>I am running eclipse from Ubuntu. Had this same problem and was able run the program through terminal. So I just moved the existing <code>public static void main(String[] args) {</code> just below the class declaration (it got automatically formatted by eclipse) and the next launch was successful. Then moved the main method back to where it was before and it worked fine this time.</p>\n"},{"tags":[],"owner":{"account_id":11763655,"reputation":1486,"user_id":8608962,"accept_rate":50,"display_name":"sander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537513542,"creation_date":1537513542,"answer_id":52438325,"question_id":16225177,"body_markdown":"Make sure the `main` in `public static void main(String[] args)` is lower case. For me it didn&#39;t work when I had it with capital letter.","title":"Error: Selection does not contain a main type","body":"<p>Make sure the <code>main</code> in <code>public static void main(String[] args)</code> is lower case. For me it didn't work when I had it with capital letter.</p>\n"},{"tags":[],"owner":{"account_id":4526530,"reputation":377,"user_id":3678163,"accept_rate":71,"display_name":"Yithirash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551677525,"creation_date":1551677525,"answer_id":54977178,"question_id":16225177,"body_markdown":"Right Click &gt; Run AS &gt; Run Configurations\r\n\r\nIn this screen if your &quot;Main class&quot; Text field is empty, then add the class name by clicking &quot;Search&quot; button on the right side of the text field and choose the class file. And then click &quot;Run&quot; button on the bottom of the configuration screen. That&#39;s it","title":"Error: Selection does not contain a main type","body":"<p>Right Click > Run AS > Run Configurations</p>\n\n<p>In this screen if your \"Main class\" Text field is empty, then add the class name by clicking \"Search\" button on the right side of the text field and choose the class file. And then click \"Run\" button on the bottom of the configuration screen. That's it</p>\n"},{"tags":[],"owner":{"account_id":8935079,"reputation":343,"user_id":6666173,"display_name":"Rajiv Ranjan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557903045,"creation_date":1557898869,"answer_id":56142404,"question_id":16225177,"body_markdown":"Put your Main Java class file in `src/main/java` folder and check if there is not any error in &#39;Java Build Path&#39; by following right click on project and select `Java Build Path-&gt;Source`.\r\n","title":"Error: Selection does not contain a main type","body":"<p>Put your Main Java class file in <code>src/main/java</code> folder and check if there is not any error in 'Java Build Path' by following right click on project and select <code>Java Build Path-&gt;Source</code>.</p>\n"},{"tags":[],"owner":{"account_id":5617704,"reputation":235,"user_id":4448479,"display_name":"&#216;yvind Roth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559415967,"creation_date":1559415967,"answer_id":56409642,"question_id":16225177,"body_markdown":"I had this problem in two projects. Maven and command line worked as expected for both. The problems were Eclipse specific. Two different solutions:\r\nProject 1): Move the main method declaration to the top within the class, above all other declarations like fields and constructors. Crazy, but it worked.\r\nProject 2): The solution for Project 1) did not remedy the problem. However, removing lombok imports and explicitly writing a getter method solved the problem\r\n\r\nConclusion:\r\nEclipse and/or the lombok plugin have/has a bug.","title":"Error: Selection does not contain a main type","body":"<p>I had this problem in two projects. Maven and command line worked as expected for both. The problems were Eclipse specific. Two different solutions:\nProject 1): Move the main method declaration to the top within the class, above all other declarations like fields and constructors. Crazy, but it worked.\nProject 2): The solution for Project 1) did not remedy the problem. However, removing lombok imports and explicitly writing a getter method solved the problem</p>\n\n<p>Conclusion:\nEclipse and/or the lombok plugin have/has a bug.</p>\n"},{"tags":[],"owner":{"account_id":7109625,"reputation":1066,"user_id":5438060,"display_name":"Abhishek Rathore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565759010,"creation_date":1565759010,"answer_id":57488414,"question_id":16225177,"body_markdown":"If you are working with a Maven project you have to understand the fact that directory layout is bit different. In this the package name must be **src/main/java**.\r\n\r\nFor this update your source folder by right click on project **root folder -&gt; properties -&gt; java build path -&gt; source tab**. Here remove all other source folders as they might have been added in wrong manner. Now, select project /src/main/java as the source folder. Add and apply the changes. Now refresh your workspace using F5.\r\n\r\nThis should fix the issue of not recognizing a main type.\r\n","title":"Error: Selection does not contain a main type","body":"<p>If you are working with a Maven project you have to understand the fact that directory layout is bit different. In this the package name must be <strong>src/main/java</strong>.</p>\n\n<p>For this update your source folder by right click on project <strong>root folder -> properties -> java build path -> source tab</strong>. Here remove all other source folders as they might have been added in wrong manner. Now, select project /src/main/java as the source folder. Add and apply the changes. Now refresh your workspace using F5.</p>\n\n<p>This should fix the issue of not recognizing a main type.</p>\n"},{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593458904,"creation_date":1593458469,"answer_id":62645308,"question_id":16225177,"body_markdown":"I had this issue because the tutorial code I was trying to run wasn&#39;t in the correct package even though I had typed in the package name at the top of each class. \r\n\r\nI right-clicked each class, `Refactor` and `Move To` and accepted the package name suggestion.\r\n\r\nThen as usual, `Run As`... `Java Application`.\r\n\r\nAnd it worked `:)`","title":"Error: Selection does not contain a main type","body":"<p>I had this issue because the tutorial code I was trying to run wasn't in the correct package even though I had typed in the package name at the top of each class.</p>\n<p>I right-clicked each class, <code>Refactor</code> and <code>Move To</code> and accepted the package name suggestion.</p>\n<p>Then as usual, <code>Run As</code>... <code>Java Application</code>.</p>\n<p>And it worked <code>:)</code></p>\n"},{"tags":[],"owner":{"account_id":18705688,"reputation":3,"user_id":13636912,"display_name":"Anshul Khatri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614702398,"creation_date":1614702398,"answer_id":66443237,"question_id":16225177,"body_markdown":"You must check this as well, Go to Java build path -&gt; config build path, check that JRE System Library [Java SE -version] is check marked, try running the code again. This fixed my issue. ","title":"Error: Selection does not contain a main type","body":"<p>You must check this as well, Go to Java build path -&gt; config build path, check that JRE System Library [Java SE -version] is check marked, try running the code again. This fixed my issue.</p>\n"},{"tags":[],"owner":{"account_id":11597672,"reputation":359,"user_id":8495914,"display_name":"Zakir Hussain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616216351,"creation_date":1616216351,"answer_id":66718388,"question_id":16225177,"body_markdown":"Looks too late to answer but might help someone,\r\n\r\nHaving same problem i solved it by following steps:::::\r\n\r\nSelect Main class in eclipse then click on Window in menu bar, \r\n\r\n`Window--&gt;Show view--&gt;Select Outline`\r\n\r\nRight click on `main(String[]):void` then `Run As` --&gt; `java Application`\r\n\r\n[![Image reference for Running Main method][1]][1]\r\n\r\n\r\nBy doing this you can run the main method directly. This worked for me \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7lxte.jpg","title":"Error: Selection does not contain a main type","body":"<p>Looks too late to answer but might help someone,</p>\n<p>Having same problem i solved it by following steps:::::</p>\n<p>Select Main class in eclipse then click on Window in menu bar,</p>\n<p><code>Window--&gt;Show view--&gt;Select Outline</code></p>\n<p>Right click on <code>main(String[]):void</code> then <code>Run As</code> --&gt; <code>java Application</code></p>\n<p><a href=\"https://i.stack.imgur.com/7lxte.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7lxte.jpg\" alt=\"Image reference for Running Main method\" /></a></p>\n<p>By doing this you can run the main method directly. This worked for me</p>\n"},{"tags":[],"owner":{"account_id":143069,"reputation":7079,"user_id":351154,"accept_rate":92,"display_name":"user8128167"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634583118,"creation_date":1634583118,"answer_id":69621114,"question_id":16225177,"body_markdown":"In my case I was using ant to perform the build, and clearly had the class setup in the build.xml file:\r\n\r\n    &lt;target name=&quot;jar&quot;&gt;\r\n      &lt;jar destfile=&quot;ec-stats.jar&quot; includes=&quot;bin/**,src/**&quot;&gt;\r\n        &lt;manifest&gt;\r\n            &lt;attribute name=&quot;Main-Class&quot; value=&quot;my.package.MyStatistics&quot; /&gt;\r\n        &lt;/manifest&gt;\r\n      &lt;/jar&gt;\r\n  \t&lt;/target&gt; \r\n\r\nBut it still kept giving me the same error, until I right-clicked on the folder in Eclipse and chose `Build Path` -&gt; `Use As Source Folder`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSee also https://stackoverflow.com/questions/16225177/error-selection-does-not-contain-a-main-type\r\n\r\n  [1]: https://i.stack.imgur.com/n2Ofl.jpg","title":"Error: Selection does not contain a main type","body":"<p>In my case I was using ant to perform the build, and clearly had the class setup in the build.xml file:</p>\n<pre><code>&lt;target name=&quot;jar&quot;&gt;\n  &lt;jar destfile=&quot;ec-stats.jar&quot; includes=&quot;bin/**,src/**&quot;&gt;\n    &lt;manifest&gt;\n        &lt;attribute name=&quot;Main-Class&quot; value=&quot;my.package.MyStatistics&quot; /&gt;\n    &lt;/manifest&gt;\n  &lt;/jar&gt;\n&lt;/target&gt; \n</code></pre>\n<p>But it still kept giving me the same error, until I right-clicked on the folder in Eclipse and chose <code>Build Path</code> -&gt; <code>Use As Source Folder</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/n2Ofl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n2Ofl.jpg\" alt=\"enter image description here\" /></a></p>\n<p>See also <a href=\"https://stackoverflow.com/questions/16225177/error-selection-does-not-contain-a-main-type\">Error: Selection does not contain a main type</a></p>\n"},{"tags":[],"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634752722,"creation_date":1634752722,"answer_id":69650951,"question_id":16225177,"body_markdown":"Solved the issue as following:\r\n 1) Going in Properties of the Project\r\n\r\n  - 1.1) Inside &quot;Java Compiler&quot;: chose the: &quot;Compiler compliance level:&quot; to a specific version of JDK (in my case I choosed 15)\r\n\r\n  - 1.2) Inside &quot;Java Build Path&quot;, in the tab &quot;Libraries&quot;, at the Modulepath:  change the &quot;JRE System Library&quot; to the same of the version you choosed at step 1.1 above (in my case I picked JDK 15)\r\n\r\n 2) Run the java file that contains a main method","title":"Error: Selection does not contain a main type","body":"<p>Solved the issue as following:</p>\n<ol>\n<li>Going in Properties of the Project</li>\n</ol>\n<ul>\n<li><p>1.1) Inside &quot;Java Compiler&quot;: chose the: &quot;Compiler compliance level:&quot; to a specific version of JDK (in my case I choosed 15)</p>\n</li>\n<li><p>1.2) Inside &quot;Java Build Path&quot;, in the tab &quot;Libraries&quot;, at the Modulepath:  change the &quot;JRE System Library&quot; to the same of the version you choosed at step 1.1 above (in my case I picked JDK 15)</p>\n</li>\n</ul>\n<ol start=\"2\">\n<li>Run the java file that contains a main method</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23428548,"reputation":129,"user_id":17487723,"display_name":"Syed Aaqib Hussain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648307999,"creation_date":1648307999,"answer_id":71629301,"question_id":16225177,"body_markdown":"This can be resolved in two steps if you are using Eclipse IDE.\r\n\r\n**&#128073; Step I**: Right click on the project and click *Maven* &gt; Choose *Up-date Project*\r\n\r\n[![][1]][1]\r\n\r\n\r\n**&#128073; Step II**: Select the project the click *Ok button*\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OTlrp.png\r\n  [2]: https://i.stack.imgur.com/pn6Tu.png\r\n\r\nHope this helps.✔","title":"Error: Selection does not contain a main type","body":"<p>This can be resolved in two steps if you are using Eclipse IDE.</p>\n<p><strong>👉 Step I</strong>: Right click on the project and click <em>Maven</em> &gt; Choose <em>Up-date Project</em></p>\n<p><a href=\"https://i.stack.imgur.com/OTlrp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OTlrp.png\" alt=\"\" /></a></p>\n<p><strong>👉 Step II</strong>: Select the project the click <em>Ok button</em></p>\n<p><a href=\"https://i.stack.imgur.com/pn6Tu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pn6Tu.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope this helps.✔</p>\n"},{"tags":[],"owner":{"account_id":19587164,"reputation":13,"user_id":14335042,"display_name":"Pratik Chandra Tripathi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664803028,"creation_date":1664803028,"answer_id":73936050,"question_id":16225177,"body_markdown":"This error usually occurs because jdk is not selected for the project. I had the same problem and this worked for me.\r\n\r\nMake sure that your class file is inside src folder then follow below steps\r\n\r\nStep 1: Right click on project folder\r\nStep 2: Build Path --&gt; Configure Build Path\r\nStep 3: Select &quot;Java Build Path&quot; from the left corner of the window\r\nStep 4: Under &quot;Order and Export&quot; **Tab**\r\nStep 5: Click on any of the jdk available check box to select it.\r\nStep 6: Click on Apply and Close. ","title":"Error: Selection does not contain a main type","body":"<p>This error usually occurs because jdk is not selected for the project. I had the same problem and this worked for me.</p>\n<p>Make sure that your class file is inside src folder then follow below steps</p>\n<p>Step 1: Right click on project folder\nStep 2: Build Path --&gt; Configure Build Path\nStep 3: Select &quot;Java Build Path&quot; from the left corner of the window\nStep 4: Under &quot;Order and Export&quot; <strong>Tab</strong>\nStep 5: Click on any of the jdk available check box to select it.\nStep 6: Click on Apply and Close.</p>\n"},{"tags":[],"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685599893,"creation_date":1677956103,"answer_id":75637946,"question_id":16225177,"body_markdown":"1. ---&gt; Right click on the projecct and select `properties`.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. ---&gt; Select `Java Build Path`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n3. ---&gt; Select `Source` tab, see `source folders on build path` is pointing to your `project/src` path. If not, select `Add folder` and select the `src` folder.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n4. ---&gt; Under `Default output folder` see that it is pointing to your `ProjectName/src`\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n--------------------\r\n****Solution - 2****\r\n--------------------\r\n\r\n\r\nOr Try this way - https://stackoverflow.com/a/76375396/11962586\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JOwW0.png\r\n  [2]: https://i.stack.imgur.com/E9HK9.png\r\n  [3]: https://i.stack.imgur.com/kjbBF.png\r\n  [4]: https://i.stack.imgur.com/rzGtd.png","title":"Error: Selection does not contain a main type","body":"<ol>\n<li><p>---&gt; Right click on the projecct and select <code>properties</code>.\n<a href=\"https://i.stack.imgur.com/JOwW0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JOwW0.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>---&gt; Select <code>Java Build Path</code></p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/E9HK9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E9HK9.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>---&gt; Select <code>Source</code> tab, see <code>source folders on build path</code> is pointing to your <code>project/src</code> path. If not, select <code>Add folder</code> and select the <code>src</code> folder.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/kjbBF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kjbBF.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>---&gt; Under <code>Default output folder</code> see that it is pointing to your <code>ProjectName/src</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/rzGtd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rzGtd.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h2><strong><strong>Solution - 2</strong></strong></h2>\n<p>Or Try this way - <a href=\"https://stackoverflow.com/a/76375396/11962586\">https://stackoverflow.com/a/76375396/11962586</a></p>\n"}],"owner":{"account_id":2687521,"reputation":1049,"user_id":2321611,"accept_rate":78,"display_name":"user2321611"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342608,"favorite_count":0,"down_vote_count":1,"up_vote_count":76,"accepted_answer_id":16230316,"answer_count":25,"score":75,"last_activity_date":1685599893,"creation_date":1366925932,"question_id":16225177,"body_markdown":"I am trying to run some java files in a new project. So I make the project, put the files in it and I try to run the main file so my game starts. \r\n\r\nI get an error that says `selection does not contain a main type`.\r\n\r\nI have tried several ways to run it:\r\n\r\n - Some say to launch eclipse again, tried this a dozen times. \r\n - Somewhere else someone pointed to open a new project and make a build path to the old project. \r\n\r\nDidn&#39;t work either. \r\n\r\nI am pretty sure it must work because I ran it a few hours ago at school. How do I get this working?  Thank you in advance! \r\n","title":"Error: Selection does not contain a main type","body":"<p>I am trying to run some java files in a new project. So I make the project, put the files in it and I try to run the main file so my game starts. </p>\n\n<p>I get an error that says <code>selection does not contain a main type</code>.</p>\n\n<p>I have tried several ways to run it:</p>\n\n<ul>\n<li>Some say to launch eclipse again, tried this a dozen times. </li>\n<li>Somewhere else someone pointed to open a new project and make a build path to the old project. </li>\n</ul>\n\n<p>Didn't work either. </p>\n\n<p>I am pretty sure it must work because I ran it a few hours ago at school. How do I get this working?  Thank you in advance! </p>\n"},{"tags":["java","flutter"],"owner":{"account_id":20486781,"reputation":988,"user_id":15033763,"display_name":"Kdon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685606808,"answer_count":0,"score":0,"last_activity_date":1685599241,"creation_date":1685599241,"question_id":76379057,"body_markdown":"I am using flutter in China with a VPN and ran into this issue related the java connection, which prevents flutter from running.\r\n\r\nMy internet connection works well with VPN. And flutter doctor has no errors. I have tried flutter pub clean, restarting PC, changing VPN location etc but can&#39;t get fix this error.\r\n\r\n\r\n```\r\nFlutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this source!\r\nLaunching lib\\main.dart on sdk gphone x86 64 in debug mode...\r\nRunning Gradle task &#39;assembleDebug&#39;...\r\nException in thread &quot;main&quot; java.net.ConnectException: Connection refused: connect\r\n\tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)\r\n\tat java.base/sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:174)\r\n\tat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)\r\n\tat java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\r\n\tat java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:380)\r\n\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:193)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\r\n\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:179)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1665)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\r\n\tat org.gradle.wrapper.Download.downloadInternal(Download.java:58)\r\n\tat org.gradle.wrapper.Download.download(Download.java:44)\r\n\tat org.gradle.wrapper.Install$1.call(Install.java:61)\r\n\tat org.gradle.wrapper.Install$1.call(Install.java:48)\r\n\tat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\r\n\tat org.gradle.wrapper.Install.createDist(Install.java:48)\r\n\tat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\r\n\tat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```","title":"Flutter - error: Exception in thread &quot;main&quot; java.net.ConnectException: Connection refused: connect","body":"<p>I am using flutter in China with a VPN and ran into this issue related the java connection, which prevents flutter from running.</p>\n<p>My internet connection works well with VPN. And flutter doctor has no errors. I have tried flutter pub clean, restarting PC, changing VPN location etc but can't get fix this error.</p>\n<pre><code>Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this source!\nLaunching lib\\main.dart on sdk gphone x86 64 in debug mode...\nRunning Gradle task 'assembleDebug'...\nException in thread &quot;main&quot; java.net.ConnectException: Connection refused: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)\n    at java.base/sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:174)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)\n    at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\n    at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:380)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:193)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:179)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1665)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\n    at org.gradle.wrapper.Download.downloadInternal(Download.java:58)\n    at org.gradle.wrapper.Download.download(Download.java:44)\n    at org.gradle.wrapper.Install$1.call(Install.java:61)\n    at org.gradle.wrapper.Install$1.call(Install.java:48)\n    at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\n    at org.gradle.wrapper.Install.createDist(Install.java:48)\n    at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\n    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n"},{"tags":["java","owl","owl-api"],"answers":[{"tags":[],"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1685599184,"creation_date":1419373958,"answer_id":27629005,"question_id":27611174,"body_markdown":"Yes, this has changed in OWLAPI 4. Use `EntitySearcher.getAnnotationObjects(cls.getIRI(), ontology)` instead.\r\n\r\nTo search over the imports closure, pass the closure instead of the single ontology.","title":"Cannot Get Annotations for OWLClass in OWLAPI","body":"<p>Yes, this has changed in OWLAPI 4. Use <code>EntitySearcher.getAnnotationObjects(cls.getIRI(), ontology)</code> instead.</p>\n<p>To search over the imports closure, pass the closure instead of the single ontology.</p>\n"}],"owner":{"account_id":3064692,"reputation":6250,"user_id":2596664,"accept_rate":57,"display_name":"Jim L."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":27629005,"answer_count":1,"score":3,"last_activity_date":1685599184,"creation_date":1419286098,"question_id":27611174,"body_markdown":"I am using OWLAPI 4.0.1 as a global library from Maven in IntelliJ. I am seeing many examples on the Web for how to get annotations for a class (such as the one in this [related question][1]), but IntelliJ tells me there is no such getAnnotations() method. Other API code works fine, and I&#39;m able to find classes and properties in an ontology. Has the OWLAPI changed, or am I missing something?\r\n\r\n  [1]: https://stackoverflow.com/questions/25622694/how-to-get-annotations-from-owl-individual-using-owlapi","title":"Cannot Get Annotations for OWLClass in OWLAPI","body":"<p>I am using OWLAPI 4.0.1 as a global library from Maven in IntelliJ. I am seeing many examples on the Web for how to get annotations for a class (such as the one in this <a href=\"https://stackoverflow.com/questions/25622694/how-to-get-annotations-from-owl-individual-using-owlapi\">related question</a>), but IntelliJ tells me there is no such getAnnotations() method. Other API code works fine, and I'm able to find classes and properties in an ontology. Has the OWLAPI changed, or am I missing something?</p>\n"},{"tags":["java","oracle","jdbc","connection-string","service-name"],"comments":[{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":1,"creation_date":1564463245,"post_id":57264443,"comment_id":101028049,"body_markdown":"Do you have any stacktraces / sql error codes you can add? Also make sure that the domain can actually be resolved.","body":"Do you have any stacktraces / sql error codes you can add? Also make sure that the domain can actually be resolved."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1564481281,"post_id":57264443,"comment_id":101036608,"body_markdown":"Related: https://stackoverflow.com/questions/4832056/java-jdbc-how-to-connect-to-oracle-using-service-name-instead-of-sid?rq=1","body":"Related: <a href=\"https://stackoverflow.com/questions/4832056/java-jdbc-how-to-connect-to-oracle-using-service-name-instead-of-sid?rq=1\" title=\"java jdbc how to connect to oracle using service name instead of sid\">stackoverflow.com/questions/4832056/&hellip;</a>"},{"owner":{"account_id":16119330,"reputation":1097,"user_id":11635652,"display_name":"Daniel Weigel"},"score":0,"creation_date":1564528982,"post_id":57264443,"comment_id":101058629,"body_markdown":"Hi @MarkRotteveel thanks for the answer. I stumbled upon this question before asking mine. I figured that maybe I get a server error because the Oracle server I am trying to connect with may not have Google scripts IP ranges whitelisted..... I will explore that solution today. Still, I do not understand why changing the domain name by its IP address number version gives me a different response","body":"Hi @MarkRotteveel thanks for the answer. I stumbled upon this question before asking mine. I figured that maybe I get a server error because the Oracle server I am trying to connect with may not have Google scripts IP ranges whitelisted..... I will explore that solution today. Still, I do not understand why changing the domain name by its IP address number version gives me a different response"}],"answers":[{"tags":[],"owner":{"account_id":5860804,"reputation":54,"user_id":11377103,"display_name":"Sanower Tamjit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564465181,"creation_date":1564464339,"answer_id":57264808,"question_id":57264443,"body_markdown":"The actual format of Oracle JDBC connection using service name is:\r\n\r\n```none\r\n@//host_name:port_number/service_name\r\n```\r\n\r\nMake sure that is service name is ok.\r\nYou can try with TNSNameListener\r\n\r\n```none\r\njdbc:oracle:thin:@(description=(address=(host=&lt;HOSTADDRESS&gt;)(protocol=tcp)(port=&lt;PORT&gt;))(connect_data=(service_name=&lt;SERVICENAME&gt;)(server=&lt;SHARED&gt;)))\r\n```\r\nThe TNSNameListener file location:\r\n\r\n    &lt;ORACLE_HOME&gt;\\network\\admin\\tnsnames.ora\r\n    example: /home/oracle/oracle/product/10.2.0/db_1/network/admin/tnsnames.ora\r\n\r\n ","title":"JDBC - Cant connect to Oracle using Service Name","body":"<p>The actual format of Oracle JDBC connection using service name is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>@//host_name:port_number/service_name\n</code></pre>\n\n<p>Make sure that is service name is ok.\nYou can try with TNSNameListener</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>jdbc:oracle:thin:@(description=(address=(host=&lt;HOSTADDRESS&gt;)(protocol=tcp)(port=&lt;PORT&gt;))(connect_data=(service_name=&lt;SERVICENAME&gt;)(server=&lt;SHARED&gt;)))\n</code></pre>\n\n<p>The TNSNameListener file location:</p>\n\n<pre><code>&lt;ORACLE_HOME&gt;\\network\\admin\\tnsnames.ora\nexample: /home/oracle/oracle/product/10.2.0/db_1/network/admin/tnsnames.ora\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564528801,"creation_date":1564528801,"answer_id":57281233,"question_id":57264443,"body_markdown":"I am not sure which class is that Jdbc is. Take a look at the [JDBCUrlSample.java][1] and [DataSourceSample.java][2]\r\n\r\n\r\n  [1]: https://github.com/oracle/oracle-db-examples/blob/master/java/jdbc/BasicSamples/JDBCUrlSample.java\r\n  [2]: https://github.com/oracle/oracle-db-examples/blob/master/java/jdbc/ConnectionSamples/DataSourceSample.java","title":"JDBC - Cant connect to Oracle using Service Name","body":"<p>I am not sure which class is that Jdbc is. Take a look at the <a href=\"https://github.com/oracle/oracle-db-examples/blob/master/java/jdbc/BasicSamples/JDBCUrlSample.java\" rel=\"nofollow noreferrer\">JDBCUrlSample.java</a> and <a href=\"https://github.com/oracle/oracle-db-examples/blob/master/java/jdbc/ConnectionSamples/DataSourceSample.java\" rel=\"nofollow noreferrer\">DataSourceSample.java</a></p>\n"},{"tags":[],"owner":{"account_id":13087154,"reputation":134,"user_id":9455798,"display_name":"Vishnu Mari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685599052,"creation_date":1685599052,"answer_id":76379041,"question_id":57264443,"body_markdown":"Use this: \r\n\r\njdbc:oracle:thin:@//hostname:1521/ServiceName","title":"JDBC - Cant connect to Oracle using Service Name","body":"<p>Use this:</p>\n<p>jdbc:oracle:thin:@//hostname:1521/ServiceName</p>\n"}],"owner":{"account_id":16119330,"reputation":1097,"user_id":11635652,"display_name":"Daniel Weigel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6594,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1685599052,"creation_date":1564462044,"question_id":57264443,"body_markdown":"I have been trying to connect to this Oracle database with JDBC **thin** driver with the following syntax:\r\n\r\n    var URL = &quot;jdbc:oracle:thin:@//16.161.286.56:1522/Service_Name&quot;; \r\n    var USER = &quot;user&quot;;\r\n    var PASS = &quot;password&quot;;\r\n    var conn = Jdbc.getConnection(URL, USER, PASS);\r\n\r\n\r\nI keep on having the same response when I execute this:\r\n\r\n**We&#39;re sorry, a server error occurred. Please wait a bit and try again. [87a99af]**\r\n\r\nWould anyone have an idea of what I am doing wrong ?\r\n\r\n--------------------------------\r\n\r\nAlso, when I change the IP address to its &#39;string version&#39;:\r\n\r\n    var URL = &quot;jdbc:oracle:thin:@//mydomain.com:1522/Service_Name&quot;;\r\n\r\nThen I get the error response:\r\n\r\n&gt; Failed to establish a database connection. Check connection string, username and password.\r\n\r\nWhich does not make sense to me as both expressions are supposed to be equivalent ...","title":"JDBC - Cant connect to Oracle using Service Name","body":"<p>I have been trying to connect to this Oracle database with JDBC <strong>thin</strong> driver with the following syntax:</p>\n\n<pre><code>var URL = \"jdbc:oracle:thin:@//16.161.286.56:1522/Service_Name\"; \nvar USER = \"user\";\nvar PASS = \"password\";\nvar conn = Jdbc.getConnection(URL, USER, PASS);\n</code></pre>\n\n<p>I keep on having the same response when I execute this:</p>\n\n<p><strong>We're sorry, a server error occurred. Please wait a bit and try again. [87a99af]</strong></p>\n\n<p>Would anyone have an idea of what I am doing wrong ?</p>\n\n<hr>\n\n<p>Also, when I change the IP address to its 'string version':</p>\n\n<pre><code>var URL = \"jdbc:oracle:thin:@//mydomain.com:1522/Service_Name\";\n</code></pre>\n\n<p>Then I get the error response:</p>\n\n<blockquote>\n  <p>Failed to establish a database connection. Check connection string, username and password.</p>\n</blockquote>\n\n<p>Which does not make sense to me as both expressions are supposed to be equivalent ...</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose"],"answers":[{"tags":[],"owner":{"account_id":5110444,"reputation":1635,"user_id":4097210,"display_name":"mixer"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1685598785,"creation_date":1641463205,"answer_id":70605397,"question_id":70605396,"body_markdown":"You may be import wrong package from glance.\r\n\r\nGoogle provide [glance][1] for write appwidget with compose.\r\n\r\nFor example `LazyColumn`, there are:\r\n\r\n- androidx.glance.appwidget.layout.LazyColumn\r\n- androidx.compose.foundation.lazy.LazyColumn\r\n\r\n说实话这个定义真垃圾，太迷惑了。\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/glance","title":"Jetpack compose java.lang.IllegalStateException: Invalid applier","body":"<p>You may be import wrong package from glance.</p>\n<p>Google provide <a href=\"https://developer.android.com/jetpack/androidx/releases/glance\" rel=\"nofollow noreferrer\">glance</a> for write appwidget with compose.</p>\n<p>For example <code>LazyColumn</code>, there are:</p>\n<ul>\n<li>androidx.glance.appwidget.layout.LazyColumn</li>\n<li>androidx.compose.foundation.lazy.LazyColumn</li>\n</ul>\n<p>说实话这个定义真垃圾，太迷惑了。</p>\n"}],"owner":{"account_id":5110444,"reputation":1635,"user_id":4097210,"display_name":"mixer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2204,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70605397,"answer_count":1,"score":2,"last_activity_date":1685598785,"creation_date":1641463205,"question_id":70605396,"body_markdown":"```\r\n2022-01-06 17:52:16.567 9504-9504/com.example.android E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.android, PID: 9504\r\n    java.lang.IllegalStateException: Invalid applier\r\n        at androidx.compose.runtime.ComposablesKt.invalidApplier(Composables.kt:449)\r\n        at androidx.glance.appwidget.layout.LazyListKt.LazyColumn-EiNPFjs(LazyList.kt:265)\r\n        at com.example.android.MainActivity$onCreate$1$2.invoke(MainActivity.kt:60)\r\n        at com.example.android.MainActivity$onCreate$1$2.invoke(MainActivity.kt:59)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.material.MaterialTheme_androidKt.PlatformMaterialTheme(MaterialTheme.android.kt:23)\r\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1$1.invoke(MaterialTheme.kt:82)\r\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1$1.invoke(MaterialTheme.kt:81)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\r\n        at androidx.compose.material.TextKt.ProvideTextStyle(Text.kt:265)\r\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1.invoke(MaterialTheme.kt:81)\r\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1.invoke(MaterialTheme.kt:80)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\r\n        at androidx.compose.material.MaterialThemeKt.MaterialTheme(MaterialTheme.kt:72)\r\n        at com.example.android.ui.theme.ThemeKt.PeopleInSpaceTheme(Theme.kt:41)\r\n        at com.example.android.MainActivity$onCreate$1.invoke(MainActivity.kt:59)\r\n        at com.example.android.MainActivity$onCreate$1.invoke(MainActivity.kt:49)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.ui.platform.ComposeView.Content(ComposeView.android.kt:410)\r\n        at androidx.compose.ui.platform.AbstractComposeView$ensureCompositionCreated$1.invoke(ComposeView.android.kt:252)\r\n        at androidx.compose.ui.platform.AbstractComposeView$ensureCompositionCreated$1.invoke(ComposeView.android.kt:251)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\r\n        at androidx.compose.ui.platform.CompositionLocalsKt.ProvideCommonCompositionLocals(CompositionLocals.kt:166)\r\n        at androidx.compose.ui.platform.AndroidCompositionLocals_androidKt$ProvideAndroidCompositionLocals$3.invoke(AndroidCompositionLocals.android.kt:123)\r\n        at androidx.compose.ui.platform.AndroidCompositionLocals_androidKt$ProvideAndroidCompositionLocals$3.invoke(AndroidCompositionLocals.android.kt:122)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\r\n        at androidx.compose.ui.platform.AndroidCompositionLocals_androidKt.ProvideAndroidCompositionLocals(AndroidCompositionLocals.android.kt:114)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1$3.invoke(Wrapper.android.kt:157)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1$3.invoke(Wrapper.android.kt:156)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n2022-01-06 17:52:16.567 9504-9504/com.example.android E/AndroidRuntime:     at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1.invoke(Wrapper.android.kt:156)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1.invoke(Wrapper.android.kt:140)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\r\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\r\n        at androidx.compose.runtime.ComposerKt.invokeComposable(Composer.kt:3337)\r\n        at androidx.compose.runtime.ComposerImpl$doCompose$2$5.invoke(Composer.kt:2582)\r\n        at androidx.compose.runtime.ComposerImpl$doCompose$2$5.invoke(Composer.kt:2571)\r\n        at androidx.compose.runtime.SnapshotStateKt__DerivedStateKt.observeDerivedStateRecalculations(DerivedState.kt:247)\r\n        at androidx.compose.runtime.SnapshotStateKt.observeDerivedStateRecalculations(Unknown Source:1)\r\n        at androidx.compose.runtime.ComposerImpl.doCompose(Composer.kt:2571)\r\n        at androidx.compose.runtime.ComposerImpl.composeContent$runtime_release(Composer.kt:2522)\r\n        at androidx.compose.runtime.CompositionImpl.composeContent(Composition.kt:478)\r\n        at androidx.compose.runtime.Recomposer.composeInitial$runtime_release(Recomposer.kt:748)\r\n        at androidx.compose.runtime.CompositionImpl.setContent(Composition.kt:433)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:140)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:131)\r\n        at androidx.compose.ui.platform.AndroidComposeView.setOnViewTreeOwnersAvailable(AndroidComposeView.android.kt:907)\r\n        at androidx.compose.ui.platform.WrappedComposition.setContent(Wrapper.android.kt:131)\r\n        at androidx.compose.ui.platform.WrappedComposition.onStateChanged(Wrapper.android.kt:182)\r\n        at androidx.lifecycle.LifecycleRegistry$ObserverWithState.dispatchEvent(LifecycleRegistry.java:354)\r\n        at androidx.lifecycle.LifecycleRegistry.addObserver(LifecycleRegistry.java:196)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:138)\r\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:131)\r\n        at androidx.compose.ui.platform.AndroidComposeView.onAttachedToWindow(AndroidComposeView.android.kt:994)\r\n        at android.view.View.dispatchAttachedToWindow(View.java:20753)\r\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3490)\r\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\r\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\r\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\r\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\r\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2613)\r\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2126)\r\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8653)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1037)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:845)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:780)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1022)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n\r\n```","title":"Jetpack compose java.lang.IllegalStateException: Invalid applier","body":"<pre><code>2022-01-06 17:52:16.567 9504-9504/com.example.android E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.android, PID: 9504\n    java.lang.IllegalStateException: Invalid applier\n        at androidx.compose.runtime.ComposablesKt.invalidApplier(Composables.kt:449)\n        at androidx.glance.appwidget.layout.LazyListKt.LazyColumn-EiNPFjs(LazyList.kt:265)\n        at com.example.android.MainActivity$onCreate$1$2.invoke(MainActivity.kt:60)\n        at com.example.android.MainActivity$onCreate$1$2.invoke(MainActivity.kt:59)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.material.MaterialTheme_androidKt.PlatformMaterialTheme(MaterialTheme.android.kt:23)\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1$1.invoke(MaterialTheme.kt:82)\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1$1.invoke(MaterialTheme.kt:81)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\n        at androidx.compose.material.TextKt.ProvideTextStyle(Text.kt:265)\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1.invoke(MaterialTheme.kt:81)\n        at androidx.compose.material.MaterialThemeKt$MaterialTheme$1.invoke(MaterialTheme.kt:80)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\n        at androidx.compose.material.MaterialThemeKt.MaterialTheme(MaterialTheme.kt:72)\n        at com.example.android.ui.theme.ThemeKt.PeopleInSpaceTheme(Theme.kt:41)\n        at com.example.android.MainActivity$onCreate$1.invoke(MainActivity.kt:59)\n        at com.example.android.MainActivity$onCreate$1.invoke(MainActivity.kt:49)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.ui.platform.ComposeView.Content(ComposeView.android.kt:410)\n        at androidx.compose.ui.platform.AbstractComposeView$ensureCompositionCreated$1.invoke(ComposeView.android.kt:252)\n        at androidx.compose.ui.platform.AbstractComposeView$ensureCompositionCreated$1.invoke(ComposeView.android.kt:251)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\n        at androidx.compose.ui.platform.CompositionLocalsKt.ProvideCommonCompositionLocals(CompositionLocals.kt:166)\n        at androidx.compose.ui.platform.AndroidCompositionLocals_androidKt$ProvideAndroidCompositionLocals$3.invoke(AndroidCompositionLocals.android.kt:123)\n        at androidx.compose.ui.platform.AndroidCompositionLocals_androidKt$ProvideAndroidCompositionLocals$3.invoke(AndroidCompositionLocals.android.kt:122)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\n        at androidx.compose.ui.platform.AndroidCompositionLocals_androidKt.ProvideAndroidCompositionLocals(AndroidCompositionLocals.android.kt:114)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1$3.invoke(Wrapper.android.kt:157)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1$3.invoke(Wrapper.android.kt:156)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n2022-01-06 17:52:16.567 9504-9504/com.example.android E/AndroidRuntime:     at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.runtime.CompositionLocalKt.CompositionLocalProvider(CompositionLocal.kt:228)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1.invoke(Wrapper.android.kt:156)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1$1.invoke(Wrapper.android.kt:140)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:107)\n        at androidx.compose.runtime.internal.ComposableLambdaImpl.invoke(ComposableLambda.jvm.kt:34)\n        at androidx.compose.runtime.ComposerKt.invokeComposable(Composer.kt:3337)\n        at androidx.compose.runtime.ComposerImpl$doCompose$2$5.invoke(Composer.kt:2582)\n        at androidx.compose.runtime.ComposerImpl$doCompose$2$5.invoke(Composer.kt:2571)\n        at androidx.compose.runtime.SnapshotStateKt__DerivedStateKt.observeDerivedStateRecalculations(DerivedState.kt:247)\n        at androidx.compose.runtime.SnapshotStateKt.observeDerivedStateRecalculations(Unknown Source:1)\n        at androidx.compose.runtime.ComposerImpl.doCompose(Composer.kt:2571)\n        at androidx.compose.runtime.ComposerImpl.composeContent$runtime_release(Composer.kt:2522)\n        at androidx.compose.runtime.CompositionImpl.composeContent(Composition.kt:478)\n        at androidx.compose.runtime.Recomposer.composeInitial$runtime_release(Recomposer.kt:748)\n        at androidx.compose.runtime.CompositionImpl.setContent(Composition.kt:433)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:140)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:131)\n        at androidx.compose.ui.platform.AndroidComposeView.setOnViewTreeOwnersAvailable(AndroidComposeView.android.kt:907)\n        at androidx.compose.ui.platform.WrappedComposition.setContent(Wrapper.android.kt:131)\n        at androidx.compose.ui.platform.WrappedComposition.onStateChanged(Wrapper.android.kt:182)\n        at androidx.lifecycle.LifecycleRegistry$ObserverWithState.dispatchEvent(LifecycleRegistry.java:354)\n        at androidx.lifecycle.LifecycleRegistry.addObserver(LifecycleRegistry.java:196)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:138)\n        at androidx.compose.ui.platform.WrappedComposition$setContent$1.invoke(Wrapper.android.kt:131)\n        at androidx.compose.ui.platform.AndroidComposeView.onAttachedToWindow(AndroidComposeView.android.kt:994)\n        at android.view.View.dispatchAttachedToWindow(View.java:20753)\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3490)\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\n        at android.view.ViewGroup.dispatchAttachedToWindow(ViewGroup.java:3497)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2613)\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:2126)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8653)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1037)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:845)\n        at android.view.Choreographer.doFrame(Choreographer.java:780)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1022)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685588323,"creation_date":1685588323,"answer_id":76378400,"question_id":76358670,"body_markdown":"the JsonParser is fetch data in sequence, when you invoke readValue, it get `F`, and the parser move its cursor to next token, so there is no method to access the store_code field that in the previous. so for your scenario, i think you could add custom deserializer for `Product` Class and maintaion all the field in your self, so you could no effect by the parse order.","title":"Jackson custom deserializer dropped some fields inside the deserializer method","body":"<p>the JsonParser is fetch data in sequence, when you invoke readValue, it get <code>F</code>, and the parser move its cursor to next token, so there is no method to access the store_code field that in the previous. so for your scenario, i think you could add custom deserializer for <code>Product</code> Class and maintaion all the field in your self, so you could no effect by the parse order.</p>\n"},{"tags":[],"owner":{"account_id":11996741,"reputation":95,"user_id":8778025,"display_name":"Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685598394,"creation_date":1685598394,"answer_id":76378976,"question_id":76358670,"body_markdown":"I found a workaround solution for this, after we create the `ObjectMapper mapper = new ObjectMapper();` pass the required values to it in the following way,\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    DeserializationConfig deserializationConfig = mapper.getDeserializationConfig();\r\n    DeserializationConfig modifiedConfig = deserializationConfig.withAttribute(&quot;mappingData&quot;, map);\r\n    mapper.setConfig(modifiedConfig);\r\n\r\nThen access the passed information through the deserializer in this way,\r\n\r\n    public com.sysco.site_product.models.pisv2.Split deserialize(JsonParser jp, DeserializationContext context) throws IOException {\r\n          Map&lt;String, Object&gt; inputJSONMap = (Map&lt;String, Object&gt;) context.getAttribute(&quot;mappingData&quot;);\r\n    \r\n    ......\r\n    \r\n    }\r\n\r\nOpen for feedbacks!\r\n\r\n","title":"Jackson custom deserializer dropped some fields inside the deserializer method","body":"<p>I found a workaround solution for this, after we create the <code>ObjectMapper mapper = new ObjectMapper();</code> pass the required values to it in the following way,</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nDeserializationConfig deserializationConfig = mapper.getDeserializationConfig();\nDeserializationConfig modifiedConfig = deserializationConfig.withAttribute(&quot;mappingData&quot;, map);\nmapper.setConfig(modifiedConfig);\n</code></pre>\n<p>Then access the passed information through the deserializer in this way,</p>\n<pre><code>public com.sysco.site_product.models.pisv2.Split deserialize(JsonParser jp, DeserializationContext context) throws IOException {\n      Map&lt;String, Object&gt; inputJSONMap = (Map&lt;String, Object&gt;) context.getAttribute(&quot;mappingData&quot;);\n\n......\n\n}\n</code></pre>\n<p>Open for feedbacks!</p>\n"}],"owner":{"account_id":11996741,"reputation":95,"user_id":8778025,"display_name":"Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685598394,"creation_date":1685374968,"question_id":76358670,"body_markdown":"I have a JSON object that needs to be deserialized in my use case. Also, I need to generate some fields value combining one or more attributes in the same JSON. So I chose Jackson deserialization and annotated the required fields with relevant deserialization classes like follow\r\n\r\n    @Getter\r\n    @ToString\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class Product implements Serializable {\r\n\r\n        @JsonProperty(&quot;item_name&quot;)\r\n        @JsonDeserialize(using = ProductDeserializer.ItemName.class)\r\n        private String itemName;\r\n        \r\n        @JsonProperty(&quot;item_code&quot;)\r\n        @JsonDeserialize(using = CommonDeserializer.Trim.class)\r\n        private String itemCode;\r\n        \r\n        @JsonProperty(&quot;demand_status&quot;)\r\n        @JsonDeserialize(using = ProductDeserializer.DemandStatus.class)\r\n        private boolean isDemandItem;\r\n        \r\n        @JsonProperty(&quot;upc&quot;)\r\n        private long upcCode;\r\n        \r\n        @JsonProperty(&quot;store_condition&quot;) //multiple attributes uses, ex &#39;store_code&#39;\r\n        @JsonDeserialize(using = ProductDeserializer.StoreConditionDeserializer.class)\r\n        private StoreCondition storeCondition;\r\n\r\n        .....\r\n\r\n    }\r\n\r\nDeserialization class for the `storeCondition` variable is as follows,\r\n    \r\n    \r\n\r\n    public static class StoreConditionDeserializer extends JsonDeserializer&lt;StoreCondition&gt; {\r\n        @Override\r\n        public StoreCondition deserialize(JsonParser jp, DeserializationContext context) throws IOException {\r\n            String stock_id = jp.getCodec().readValue(jp, JsonNode.class).asText();\r\n            String store_code = jp.getCodec().readValue(jp, JsonNode.class).get(&quot;store_code&quot;).asText();\r\n        \r\n            /* I need to access several fields from the JSON to generate the object I need, \r\n               but some of them are missing here but they exist in the JSON input */\r\n        \r\n            //Also some logic, API calls, etc\r\n        \r\n            return ...;\r\n        }\r\n        \r\n    }\r\n\r\nThis is how my input JSON looks like\r\n\r\n    {\r\n      &quot;_id&quot;: 28463836,\r\n      &quot;item_name&quot;: &quot;john product&quot;,\r\n      &quot;item_code&quot;: &quot;doe code&quot;,\r\n      &quot;store_code&quot;: &quot;T&quot;,\r\n      &quot;demand_status&quot;: &quot;D&quot;,\r\n      &quot;upc&quot;: 874564847,\r\n      &quot;store_condition&quot;: &quot;F&quot;,\r\n      &quot;location&quot;: &quot;IR&quot;,\r\n      &quot;W_Code&quot;: &quot;X3846&quot;\r\n    }\r\n\r\n\r\nIf you take a look at the Pojo class, the last attribute annotated with `@JsonProperty(&quot;store_condition&quot;)`, which is also present in the above JSON. When the deserialization happens, it does not have this complete JSON object within the `deserialize` method, it only has the attributes after the `store_condition` attribute. But for my use case, I need to access the fields above that, for example, `store_code`. But since the `store_code` code is located before `store_condition`, the `store_code` does not available in the deserializer.\r\n\r\n\r\nThis is how I do the deserialization,\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Product product = mapper.convertValue(jsonInput, Product.class);\r\n\r\n**Could someone explain why and how this happens? Also, a way to solve this.** &lt;br&gt;I hope that my question and my requirement is clear. Feel free to drop a comment if you need any clarifications.\r\n\r\nThe Jackson library I used is `group: &#39;org.apache.beam&#39;, name: &#39;beam-sdks-java-extensions-json-jackson&#39;, version: &#39;2.47.0&#39;`","title":"Jackson custom deserializer dropped some fields inside the deserializer method","body":"<p>I have a JSON object that needs to be deserialized in my use case. Also, I need to generate some fields value combining one or more attributes in the same JSON. So I chose Jackson deserialization and annotated the required fields with relevant deserialization classes like follow</p>\n<pre><code>@Getter\n@ToString\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Product implements Serializable {\n\n    @JsonProperty(&quot;item_name&quot;)\n    @JsonDeserialize(using = ProductDeserializer.ItemName.class)\n    private String itemName;\n    \n    @JsonProperty(&quot;item_code&quot;)\n    @JsonDeserialize(using = CommonDeserializer.Trim.class)\n    private String itemCode;\n    \n    @JsonProperty(&quot;demand_status&quot;)\n    @JsonDeserialize(using = ProductDeserializer.DemandStatus.class)\n    private boolean isDemandItem;\n    \n    @JsonProperty(&quot;upc&quot;)\n    private long upcCode;\n    \n    @JsonProperty(&quot;store_condition&quot;) //multiple attributes uses, ex 'store_code'\n    @JsonDeserialize(using = ProductDeserializer.StoreConditionDeserializer.class)\n    private StoreCondition storeCondition;\n\n    .....\n\n}\n</code></pre>\n<p>Deserialization class for the <code>storeCondition</code> variable is as follows,</p>\n<pre><code>public static class StoreConditionDeserializer extends JsonDeserializer&lt;StoreCondition&gt; {\n    @Override\n    public StoreCondition deserialize(JsonParser jp, DeserializationContext context) throws IOException {\n        String stock_id = jp.getCodec().readValue(jp, JsonNode.class).asText();\n        String store_code = jp.getCodec().readValue(jp, JsonNode.class).get(&quot;store_code&quot;).asText();\n    \n        /* I need to access several fields from the JSON to generate the object I need, \n           but some of them are missing here but they exist in the JSON input */\n    \n        //Also some logic, API calls, etc\n    \n        return ...;\n    }\n    \n}\n</code></pre>\n<p>This is how my input JSON looks like</p>\n<pre><code>{\n  &quot;_id&quot;: 28463836,\n  &quot;item_name&quot;: &quot;john product&quot;,\n  &quot;item_code&quot;: &quot;doe code&quot;,\n  &quot;store_code&quot;: &quot;T&quot;,\n  &quot;demand_status&quot;: &quot;D&quot;,\n  &quot;upc&quot;: 874564847,\n  &quot;store_condition&quot;: &quot;F&quot;,\n  &quot;location&quot;: &quot;IR&quot;,\n  &quot;W_Code&quot;: &quot;X3846&quot;\n}\n</code></pre>\n<p>If you take a look at the Pojo class, the last attribute annotated with <code>@JsonProperty(&quot;store_condition&quot;)</code>, which is also present in the above JSON. When the deserialization happens, it does not have this complete JSON object within the <code>deserialize</code> method, it only has the attributes after the <code>store_condition</code> attribute. But for my use case, I need to access the fields above that, for example, <code>store_code</code>. But since the <code>store_code</code> code is located before <code>store_condition</code>, the <code>store_code</code> does not available in the deserializer.</p>\n<p>This is how I do the deserialization,</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nProduct product = mapper.convertValue(jsonInput, Product.class);\n</code></pre>\n<p><strong>Could someone explain why and how this happens? Also, a way to solve this.</strong> <br>I hope that my question and my requirement is clear. Feel free to drop a comment if you need any clarifications.</p>\n<p>The Jackson library I used is <code>group: 'org.apache.beam', name: 'beam-sdks-java-extensions-json-jackson', version: '2.47.0'</code></p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1685348258,"post_id":76355672,"comment_id":134643539,"body_markdown":"I think you need to call toString() on the StringBuffer. StringBuffer != String","body":"I think you need to call toString() on the StringBuffer. StringBuffer != String"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1685394908,"post_id":76355672,"comment_id":134650993,"body_markdown":"FYI, `== true` is always redundant.","body":"FYI, <code>== true</code> is always redundant."}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685350315,"creation_date":1685348674,"answer_id":76355743,"question_id":76355672,"body_markdown":"A `StringBuffer` is not a `String`, thus it will never be equal to a `String`. Compare `st` with `st1.toString()` instead.\r\n\r\nAs an aside, in `if(st1.equals(st)==true)` comparing a boolean with `true` is not necessary and error-prone. You should write it as `if(st1.toString().equals(st))` so you don&#39;t use a single `=` by mistake and introduce a bug that can be rather hard to notice.\r\n\r\n    class Palindrome {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString st = &quot;iti&quot;;\r\n    \t\tStringBuffer st1 =new StringBuffer(st);\r\n    \t\tst1.reverse();\r\n    \t\tif(st1.toString().equals(st)) { // HERE notice the use of `toString`\r\n    \t\t\tSystem.out.print(&quot;palindrome string&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.print(&quot;not palindrome&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"String is palindrome or not","body":"<p>A <code>StringBuffer</code> is not a <code>String</code>, thus it will never be equal to a <code>String</code>. Compare <code>st</code> with <code>st1.toString()</code> instead.</p>\n<p>As an aside, in <code>if(st1.equals(st)==true)</code> comparing a boolean with <code>true</code> is not necessary and error-prone. You should write it as <code>if(st1.toString().equals(st))</code> so you don't use a single <code>=</code> by mistake and introduce a bug that can be rather hard to notice.</p>\n<pre><code>class Palindrome {\n    public static void main(String[] args) {\n        String st = &quot;iti&quot;;\n        StringBuffer st1 =new StringBuffer(st);\n        st1.reverse();\n        if(st1.toString().equals(st)) { // HERE notice the use of `toString`\n            System.out.print(&quot;palindrome string&quot;);\n        } else {\n            System.out.print(&quot;not palindrome&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28700475,"reputation":29,"user_id":21977743,"display_name":"Aliana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685349469,"creation_date":1685349469,"answer_id":76355821,"question_id":76355672,"body_markdown":"    public static void main(String[] args) {\r\n    String st = &quot;iti&quot;;\r\n    StringBuffer st1 =new StringBuffer(st);\r\n    st1.reverse();\r\n    System.out.println(st1);\r\n    System.out.println(st.equals(st1));\r\n    if(st.equals(&quot;&quot;+st1)) { // convert st1 from StringBuffer to String\r\n        System.out.print(&quot;palindrome string&quot;);\r\n    } else {\r\n        System.out.print(&quot;not palindrome&quot;);\r\n    }\r\n}","title":"String is palindrome or not","body":"<pre><code>public static void main(String[] args) {\nString st = &quot;iti&quot;;\nStringBuffer st1 =new StringBuffer(st);\nst1.reverse();\nSystem.out.println(st1);\nSystem.out.println(st.equals(st1));\nif(st.equals(&quot;&quot;+st1)) { // convert st1 from StringBuffer to String\n    System.out.print(&quot;palindrome string&quot;);\n} else {\n    System.out.print(&quot;not palindrome&quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685598305,"creation_date":1685394408,"answer_id":76360324,"question_id":76355672,"body_markdown":"To derive the _String_ value within _StringBuffer_, you need to call the _toString_ method.\r\n\r\n```java\r\nSystem.out.print(st.equals(st1.toString()));\r\n```\r\n\r\nAnd, at your _if-conditional_ statement.\r\n\r\n```java\r\nif(st1.toString().equals(st)==true)\r\n```","title":"String is palindrome or not","body":"<p>To derive the <em>String</em> value within <em>StringBuffer</em>, you need to call the <em>toString</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.print(st.equals(st1.toString()));\n</code></pre>\n<p>And, at your <em>if-conditional</em> statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(st1.toString().equals(st)==true)\n</code></pre>\n"}],"owner":{"account_id":27473103,"reputation":11,"user_id":20961580,"display_name":"Shakti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1685598305,"creation_date":1685347964,"question_id":76355672,"body_markdown":"I need to check whether a string is a palindrome, but I&#39;m always getting &quot;not palindrome&quot;. What&#39;s my mistake?\r\n\r\n    public static void main(String[] args) {\r\n        String st = &quot;iti&quot;;\r\n        StringBuffer st1 =new StringBuffer(st);\r\n        st1.reverse();\r\n        System.out.println(st1);\r\n        System.out.print(st.equals(st1));\r\n        if(st1.equals(st)==true) {\r\n            System.out.print(&quot;palindrome string&quot;);\r\n        } else {\r\n            System.out.print(&quot;not palindrome&quot;);\r\n        }\r\n\t}\r\n\r\n","title":"String is palindrome or not","body":"<p>I need to check whether a string is a palindrome, but I'm always getting &quot;not palindrome&quot;. What's my mistake?</p>\n<pre><code>public static void main(String[] args) {\n    String st = &quot;iti&quot;;\n    StringBuffer st1 =new StringBuffer(st);\n    st1.reverse();\n    System.out.println(st1);\n    System.out.print(st.equals(st1));\n    if(st1.equals(st)==true) {\n        System.out.print(&quot;palindrome string&quot;);\n    } else {\n        System.out.print(&quot;not palindrome&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685565064,"post_id":76377027,"comment_id":134679804,"body_markdown":"Please read [How to Ask](https://stackoverflow.com/help/how-to-ask). You should provide complete the [complete error message](https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough)","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>. You should provide complete the <a href=\"https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough\">complete error message</a>"},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":0,"creation_date":1701208056,"post_id":76377027,"comment_id":136746418,"body_markdown":"Did you ever figure this out?","body":"Did you ever figure this out?"}],"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685598064,"creation_date":1685564671,"question_id":76377027,"body_markdown":"I am trying to modify one-to-many relationship via CriteriaUpdate for partial update but I am getting `java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0` when I am trying to save relation with child entity.\r\n\r\nhere&#39;s `OrganizationRepositoryImpl.update(dto)` code:\r\n\r\n\r\n  \r\n\r\n          var criteriaBuilder = entityManager.getCriteriaBuilder();\r\n    \r\n            CriteriaUpdate&lt;Organization&gt; update = criteriaBuilder.createCriteriaUpdate(Organization.class);\r\n    \r\n            Root&lt;Organization&gt; organization = update.from(Organization.class);\r\n    \r\n     // variables declaration &amp; logic\r\n    \r\n    \r\n            if (details.isPresent()) {\r\n                var l = details.get().stream()\r\n                        .map(td -&gt; entityManager.getReference(Detail.class, td))\r\n                        .toList();\r\n                update.set(organization.join(&quot;details&quot;), l);\r\n            }\r\n    \r\n            if (identifiers.isPresent()) {\r\n                var l = identifiers.get().stream()\r\n                        .map(td -&gt; entityManager.getReference(Identifier.class, td))\r\n                        .toList();\r\n                update.set(organization.get(&quot;identifiers&quot;), l);\r\n            }\r\n    \r\n\r\n\r\n            if (addresses.isPresent()) {\r\n                var l = addresses.get().stream()\r\n                        .map(td -&gt; entityManager.getReference(Address.class, td))\r\n                        .toList();\r\n                update.set(organization.get(&quot;addresses&quot;), l);\r\n            }\r\n    \r\n            update.where(criteriaBuilder.equal(organization.get(&quot;id&quot;), organizationDTO.getId()));\r\n    \r\n            Query query = entityManager.createQuery(update);\r\n            int rowCount = query.executeUpdate();\r\n    \r\n            log.info(&quot;{} rows updated&quot;, rowCount);\r\n\r\nOrganization entity code:\r\n\r\n    @Data\r\n    @Entity\r\n    public class Organization {\r\n        @Id\r\n        @SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\r\n        private Long id;\r\n        // string fields\r\n    \r\n        @JoinColumn(name=&quot;organization_id&quot;)\r\n        @OneToMany\r\n        private List&lt;Detail&gt; details;\r\n        @JoinColumn(name=&quot;organization_id&quot;)\r\n        @OneToMany\r\n        private List&lt;Identifier&gt; identifiers;\r\n        @JoinColumn(name=&quot;organization_id&quot;)\r\n        @OneToMany\r\n        private List&lt;Address&gt; addresses;\r\n    }\r\n\r\nIdentifier entity code:\r\n\r\n    @Data\r\n    @Entity\r\n    public class Identifier {\r\n        @Id\r\n        @SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\r\n        private Long id;\r\n        private String text;\r\n        private String detail;\r\n    }\r\n\r\nError message:\r\n\r\n    2023-05-31 20:16:40|ERROR|organizations|http-nio-8080-exec-1|o.a.c.c.C.[.[.[/].[dispatcherServlet]   ||Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0] with root cause\r\n    java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\r\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\r\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\r\n    at java.base/java.util.Objects.checkIndex(Objects.java:385)\r\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$visitSetClause$4(BaseSqmToSqlAstConverter.java:925)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$consumeSqmParameter$85(BaseSqmToSqlAstConverter.java:4903)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$resolveSqmParameter$90(BaseSqmToSqlAstConverter.java:5321)\r\n    at org.hibernate.metamodel.mapping.internal.BasicEntityIdentifierMappingImpl.forEachJdbcType(BasicEntityIdentifierMappingImpl.java:191)\r\n    at org.hibernate.persister.entity.AbstractEntityPersister.forEachJdbcType(AbstractEntityPersister.java:6892)\r\n    at org.hibernate.metamodel.mapping.EntityValuedModelPart.forEachJdbcType(EntityValuedModelPart.java:88)\r\n    at org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl.forEachJdbcType(PluralAttributeMappingImpl.java:907)\r\n    at org.hibernate.metamodel.mapping.Bindable.forEachJdbcType(Bindable.java:48)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.resolveSqmParameter(BaseSqmToSqlAstConverter.java:5320)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.consumeSqmParameter(BaseSqmToSqlAstConverter.java:4899)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSetClause(BaseSqmToSqlAstConverter.java:920)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitUpdateStatement(BaseSqmToSqlAstConverter.java:773)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitUpdateStatement(BaseSqmToSqlAstConverter.java:416)\r\n    at org.hibernate.query.sqm.tree.update.SqmUpdateStatement.accept(SqmUpdateStatement.java:170)\r\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:711)\r\n    at org.hibernate.query.sqm.internal.SimpleUpdateQueryPlan.createUpdateTranslator(SimpleUpdateQueryPlan.java:119)\r\n    at org.hibernate.query.sqm.internal.SimpleUpdateQueryPlan.executeUpdate(SimpleUpdateQueryPlan.java:61)\r\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doExecuteUpdate(QuerySqmImpl.java:728)\r\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.executeUpdate(QuerySqmImpl.java:698)\r\n    at com.company.repository.OrganizationRepositoryImpl.update(OrganizationRepositoryImpl.java:77)\r\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\r\n    at com.company.repository.OrganizationRepositoryImpl$$SpringCGLIB$$0.update(&lt;generated&gt;)\r\n    at com.company.service.OrganizationServiceImpl.updateOrganization(OrganizationServiceImpl.java:88)\r\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:390)\r\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\r\n    at com.company.service.OrganizationServiceImpl$$SpringCGLIB$$0.updateOrganization(&lt;generated&gt;)\r\n    at com.company.controller.OrganizationsController.patchOrganization(OrganizationsController.java:51)\r\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888)\r\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\r\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)\r\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\r\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    at java.base/java.lang.Thread.run(Thread.java:1589)\r\n\r\nI&#39;ve tried `organization.join(...)`, `organization.get(...)` methods but it didn&#39;t help.","title":"entityManager.createQuery throws java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 on saving child entity","body":"<p>I am trying to modify one-to-many relationship via CriteriaUpdate for partial update but I am getting <code>java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0</code> when I am trying to save relation with child entity.</p>\n<p>here's <code>OrganizationRepositoryImpl.update(dto)</code> code:</p>\n<pre><code>      var criteriaBuilder = entityManager.getCriteriaBuilder();\n\n        CriteriaUpdate&lt;Organization&gt; update = criteriaBuilder.createCriteriaUpdate(Organization.class);\n\n        Root&lt;Organization&gt; organization = update.from(Organization.class);\n\n // variables declaration &amp; logic\n\n\n        if (details.isPresent()) {\n            var l = details.get().stream()\n                    .map(td -&gt; entityManager.getReference(Detail.class, td))\n                    .toList();\n            update.set(organization.join(&quot;details&quot;), l);\n        }\n\n        if (identifiers.isPresent()) {\n            var l = identifiers.get().stream()\n                    .map(td -&gt; entityManager.getReference(Identifier.class, td))\n                    .toList();\n            update.set(organization.get(&quot;identifiers&quot;), l);\n        }\n\n\n\n        if (addresses.isPresent()) {\n            var l = addresses.get().stream()\n                    .map(td -&gt; entityManager.getReference(Address.class, td))\n                    .toList();\n            update.set(organization.get(&quot;addresses&quot;), l);\n        }\n\n        update.where(criteriaBuilder.equal(organization.get(&quot;id&quot;), organizationDTO.getId()));\n\n        Query query = entityManager.createQuery(update);\n        int rowCount = query.executeUpdate();\n\n        log.info(&quot;{} rows updated&quot;, rowCount);\n</code></pre>\n<p>Organization entity code:</p>\n<pre><code>@Data\n@Entity\npublic class Organization {\n    @Id\n    @SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\n    private Long id;\n    // string fields\n\n    @JoinColumn(name=&quot;organization_id&quot;)\n    @OneToMany\n    private List&lt;Detail&gt; details;\n    @JoinColumn(name=&quot;organization_id&quot;)\n    @OneToMany\n    private List&lt;Identifier&gt; identifiers;\n    @JoinColumn(name=&quot;organization_id&quot;)\n    @OneToMany\n    private List&lt;Address&gt; addresses;\n}\n</code></pre>\n<p>Identifier entity code:</p>\n<pre><code>@Data\n@Entity\npublic class Identifier {\n    @Id\n    @SequenceGenerator(name = &quot;id_sequence&quot;, sequenceName = &quot;my_id_sequence&quot;, allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;id_sequence&quot;)\n    private Long id;\n    private String text;\n    private String detail;\n}\n</code></pre>\n<p>Error message:</p>\n<pre><code>2023-05-31 20:16:40|ERROR|organizations|http-nio-8080-exec-1|o.a.c.c.C.[.[.[/].[dispatcherServlet]   ||Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0] with root cause\njava.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0\nat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\nat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\nat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\nat java.base/java.util.Objects.checkIndex(Objects.java:385)\nat java.base/java.util.ArrayList.get(ArrayList.java:427)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$visitSetClause$4(BaseSqmToSqlAstConverter.java:925)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$consumeSqmParameter$85(BaseSqmToSqlAstConverter.java:4903)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.lambda$resolveSqmParameter$90(BaseSqmToSqlAstConverter.java:5321)\nat org.hibernate.metamodel.mapping.internal.BasicEntityIdentifierMappingImpl.forEachJdbcType(BasicEntityIdentifierMappingImpl.java:191)\nat org.hibernate.persister.entity.AbstractEntityPersister.forEachJdbcType(AbstractEntityPersister.java:6892)\nat org.hibernate.metamodel.mapping.EntityValuedModelPart.forEachJdbcType(EntityValuedModelPart.java:88)\nat org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl.forEachJdbcType(PluralAttributeMappingImpl.java:907)\nat org.hibernate.metamodel.mapping.Bindable.forEachJdbcType(Bindable.java:48)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.resolveSqmParameter(BaseSqmToSqlAstConverter.java:5320)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.consumeSqmParameter(BaseSqmToSqlAstConverter.java:4899)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSetClause(BaseSqmToSqlAstConverter.java:920)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitUpdateStatement(BaseSqmToSqlAstConverter.java:773)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitUpdateStatement(BaseSqmToSqlAstConverter.java:416)\nat org.hibernate.query.sqm.tree.update.SqmUpdateStatement.accept(SqmUpdateStatement.java:170)\nat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:711)\nat org.hibernate.query.sqm.internal.SimpleUpdateQueryPlan.createUpdateTranslator(SimpleUpdateQueryPlan.java:119)\nat org.hibernate.query.sqm.internal.SimpleUpdateQueryPlan.executeUpdate(SimpleUpdateQueryPlan.java:61)\nat org.hibernate.query.sqm.internal.QuerySqmImpl.doExecuteUpdate(QuerySqmImpl.java:728)\nat org.hibernate.query.sqm.internal.QuerySqmImpl.executeUpdate(QuerySqmImpl.java:698)\nat com.company.repository.OrganizationRepositoryImpl.update(OrganizationRepositoryImpl.java:77)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:578)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\nat com.company.repository.OrganizationRepositoryImpl$$SpringCGLIB$$0.update(&lt;generated&gt;)\nat com.company.service.OrganizationServiceImpl.updateOrganization(OrganizationServiceImpl.java:88)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:578)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:390)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702)\nat com.company.service.OrganizationServiceImpl$$SpringCGLIB$$0.updateOrganization(&lt;generated&gt;)\nat com.company.controller.OrganizationsController.patchOrganization(OrganizationsController.java:51)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\nat java.base/java.lang.reflect.Method.invoke(Method.java:578)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:888)\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\nat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n<p>I've tried <code>organization.join(...)</code>, <code>organization.get(...)</code> methods but it didn't help.</p>\n"},{"tags":["java","console-application","jansi"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664716689,"post_id":73925622,"comment_id":130530941,"body_markdown":"```AnsiConsole```  needs to be put into your classpath","body":"<code>AnsiConsole</code>  needs to be put into your classpath"},{"owner":{"account_id":15775971,"reputation":33,"user_id":15817931,"display_name":"Alwin Schneider"},"score":0,"creation_date":1664718028,"post_id":73925622,"comment_id":130531252,"body_markdown":"all i have is a jar file that i included","body":"all i have is a jar file that i included"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664720224,"post_id":73925622,"comment_id":130531668,"body_markdown":"The jar is not on the classpath otherwise you wouldn&#39;t get that message","body":"The jar is not on the classpath otherwise you wouldn&#39;t get that message"}],"answers":[{"tags":[],"owner":{"account_id":4920049,"reputation":934,"user_id":8780138,"display_name":"Logu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685598062,"creation_date":1685598062,"answer_id":76378953,"question_id":73925622,"body_markdown":"To compile\r\n\r\n`javac -cp path/to/jansi.jar SnakeGame.java`\r\n\r\nTo run\r\n\r\n`java -cp path/to/jansi.jar:./ SnakeGame`\r\n\r\nAlternatively you can export the CLASS_PATH env variable and do them normally\r\n","title":"What causes this jAnsi NoClassDefFoundError?","body":"<p>To compile</p>\n<p><code>javac -cp path/to/jansi.jar SnakeGame.java</code></p>\n<p>To run</p>\n<p><code>java -cp path/to/jansi.jar:./ SnakeGame</code></p>\n<p>Alternatively you can export the CLASS_PATH env variable and do them normally</p>\n"}],"owner":{"account_id":15775971,"reputation":33,"user_id":15817931,"display_name":"Alwin Schneider"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1387,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685598062,"creation_date":1664711933,"question_id":73925622,"body_markdown":"In my code i am using the jAnsi Libary. but it spits the following error:\r\n\r\n    import org.fusesource.jansi.AnsiConsole;\r\n    import org.fusesource.jansi.Ansi;\r\n\r\n\r\n\r\n    public class SnakeGame {\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\t\t\r\n\t\t\r\n\t\tAnsiConsole.systemInstall();\r\n\t\tSystem.out.println( \r\n        Ansi.ansi().eraseScreen().fg(Ansi.Color.RED).a(&quot;Hello&quot;).fg(Ansi.Color.GREEN).a(&quot; \r\n        World&quot;).reset() );\r\n\t\tAnsiConsole.systemUninstall();\r\n\t    }\r\n    }\r\n\r\n\r\ni already tried this https://stackoverflow.com/questions/24951951/playframework-2-3-1-noclassdeffounderror-org-fusesource-jansi-ansioutputstream and it doesnt apply to my problem\r\n\r\n\r\nHere is the Error it spits:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/fusesource/jansi/AnsiConsole\r\n\tat SnakeGame.main(SnakeGame.java:11)\r\nCaused by: java.lang.ClassNotFoundException: org.fusesource.jansi.AnsiConsole\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 1 more\r\n\r\n\r\ni tried using Versions 2.10 and 2.01, but the problem stays.\r\n\r\n\r\nDo you have any Idea how to solve this?\r\n\r\nor should i just use another language than java. because i already tried jLine and it doesent work either.switching language would be the last option for me.\r\n\r\ngg Guys,\r\n\r\nkind regards,\r\n\r\nAlwin","title":"What causes this jAnsi NoClassDefFoundError?","body":"<p>In my code i am using the jAnsi Libary. but it spits the following error:</p>\n<pre><code>import org.fusesource.jansi.AnsiConsole;\nimport org.fusesource.jansi.Ansi;\n\n\n\npublic class SnakeGame {\n\n\npublic static void main(String[] args) {        \n    \n    AnsiConsole.systemInstall();\n    System.out.println( \n    Ansi.ansi().eraseScreen().fg(Ansi.Color.RED).a(&quot;Hello&quot;).fg(Ansi.Color.GREEN).a(&quot; \n    World&quot;).reset() );\n    AnsiConsole.systemUninstall();\n    }\n}\n</code></pre>\n<p>i already tried this <a href=\"https://stackoverflow.com/questions/24951951/playframework-2-3-1-noclassdeffounderror-org-fusesource-jansi-ansioutputstream\">PlayFramework 2.3.1 NoClassDefFoundError: org/fusesource/jansi/AnsiOutputStream</a> and it doesnt apply to my problem</p>\n<p>Here is the Error it spits:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/fusesource/jansi/AnsiConsole\nat SnakeGame.main(SnakeGame.java:11)\nCaused by: java.lang.ClassNotFoundException: org.fusesource.jansi.AnsiConsole\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 1 more</p>\n</blockquote>\n<p>i tried using Versions 2.10 and 2.01, but the problem stays.</p>\n<p>Do you have any Idea how to solve this?</p>\n<p>or should i just use another language than java. because i already tried jLine and it doesent work either.switching language would be the last option for me.</p>\n<p>gg Guys,</p>\n<p>kind regards,</p>\n<p>Alwin</p>\n"},{"tags":["java","xml","dom","jaxb","xml-formatting"],"comments":[{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":0,"creation_date":1433782364,"post_id":30713897,"comment_id":49487139,"body_markdown":"The [XML Specification](http://www.w3.org/TR/REC-xml/#sec-starttags) explicitly says, &quot;the order of attribute specifications in a start-tag or empty-element tag is not significant.&quot; If they are significant to you, I&#39;d suggest they not be attributes, but rather child elements.","body":"The <a href=\"http://www.w3.org/TR/REC-xml/#sec-starttags\" rel=\"nofollow noreferrer\">XML Specification</a> explicitly says, &quot;the order of attribute specifications in a start-tag or empty-element tag is not significant.&quot; If they are significant to you, I&#39;d suggest they not be attributes, but rather child elements."},{"owner":{"account_id":56124,"reputation":7256,"user_id":2506382,"accept_rate":67,"display_name":"dcsohl"},"score":0,"creation_date":1433782534,"post_id":30713897,"comment_id":49487235,"body_markdown":"possible duplicate of [Order of XML attributes after DOM processing](http://stackoverflow.com/questions/726395/order-of-xml-attributes-after-dom-processing)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/726395/order-of-xml-attributes-after-dom-processing\">Order of XML attributes after DOM processing</a>"},{"owner":{"account_id":2905849,"reputation":8813,"user_id":2491227,"accept_rate":33,"display_name":"Kevin Brown"},"score":0,"creation_date":1433797120,"post_id":30713897,"comment_id":49495405,"body_markdown":"If you have created some solution that requires XML attributes to be in a specific order, then you have created a text-processing solution and not an XML solution. Do not use XML technology to modify it because you now have specified non-XML processing requirements (i.e. you want a specific ordering in the attributes). That does not exist in the standard and no &quot;XML&quot; software needs to do it.","body":"If you have created some solution that requires XML attributes to be in a specific order, then you have created a text-processing solution and not an XML solution. Do not use XML technology to modify it because you now have specified non-XML processing requirements (i.e. you want a specific ordering in the attributes). That does not exist in the standard and no &quot;XML&quot; software needs to do it."},{"owner":{"account_id":66042,"reputation":5303,"user_id":193980,"accept_rate":48,"display_name":"Phlip"},"score":1,"creation_date":1688829492,"post_id":30713897,"comment_id":135128006,"body_markdown":"the order of attributes are significant to me because I&#39;m writing tests and they must never change, even when I reconstitute a DOM into its source string for inspection. I apologize for writing tests. I know it&#39;s a bad habit, and I will try to stop","body":"the order of attributes are significant to me because I&#39;m writing tests and they must never change, even when I reconstitute a DOM into its source string for inspection. I apologize for writing tests. I know it&#39;s a bad habit, and I will try to stop"}],"answers":[{"tags":[],"owner":{"account_id":13985372,"reputation":1,"user_id":10100608,"display_name":"SuperRedNova"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1531940657,"creation_date":1531928014,"answer_id":51405905,"question_id":30713897,"body_markdown":"    @XmlType(propOrder = {&quot;startversion&quot;, &quot;moduleid&quot;, &quot;endversion&quot;, &quot;steps&quot;})\r\n    public class XmlSubModel {\r\n\t   \r\n\t\tprivate String startversion = &quot;&quot;;\r\n\t\tprivate String moduleid = &quot;&quot;;\r\n\t\tprivate String endversion = &quot;&quot;;\r\n\t\tprivate String steps = &quot;&quot;;\r\n\r\n\t\t@XmlAttribute\r\n\t\tpublic String getStartversion() {\r\n\t\t\treturn startversion;\r\n\t\t}\r\n\r\n\t\tpublic void setStartversion(String startversion) {\r\n\t\t\tthis.startversion = startversion;\r\n\t\t}\r\n\r\n\t\t@XmlAttribute\r\n\t\tpublic String getModuleid() {\r\n\t\t\treturn moduleid;\r\n\t\t}\r\n\r\n\t\tpublic void setModuleid(String moduleid) {\r\n\t\t\tthis.moduleid = moduleid;\r\n\t\t}\r\n\r\n\t\t@XmlAttribute\r\n\t\tpublic String getEndversion() {\r\n\t\t\treturn endversion;\r\n\t\t}\r\n\r\n\t\tpublic void setEndversion(String endversion) {\r\n\t\t\tthis.endversion = endversion;\r\n\t\t}\r\n\r\n\t\tpublic String getSteps() {\r\n\t\t\treturn steps;\r\n\t\t}\r\n\r\n\t\tpublic void setSteps(String steps) {\r\n\t\t\tthis.steps = steps;\r\n\t\t}\r\n\r\n    \r\n\t}\r\n","title":"How to stop XML Tag Attributes from sorting in Ascending Order after modifying the XML file using Java?","body":"<pre><code>@XmlType(propOrder = {\"startversion\", \"moduleid\", \"endversion\", \"steps\"})\npublic class XmlSubModel {\n\n    private String startversion = \"\";\n    private String moduleid = \"\";\n    private String endversion = \"\";\n    private String steps = \"\";\n\n    @XmlAttribute\n    public String getStartversion() {\n        return startversion;\n    }\n\n    public void setStartversion(String startversion) {\n        this.startversion = startversion;\n    }\n\n    @XmlAttribute\n    public String getModuleid() {\n        return moduleid;\n    }\n\n    public void setModuleid(String moduleid) {\n        this.moduleid = moduleid;\n    }\n\n    @XmlAttribute\n    public String getEndversion() {\n        return endversion;\n    }\n\n    public void setEndversion(String endversion) {\n        this.endversion = endversion;\n    }\n\n    public String getSteps() {\n        return steps;\n    }\n\n    public void setSteps(String steps) {\n        this.steps = steps;\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9555707,"reputation":3,"user_id":7098249,"display_name":"slow_learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685597543,"creation_date":1685526987,"answer_id":76372256,"question_id":30713897,"body_markdown":"You cannot control the order of attributes. If you are using DOM, then attributes will be sorted in alphabetical order. One approach is to set your element as string without parsing, this will maintain the order.\r\n\r\nExample: `element.setTextContent(&quot;&lt;child_element attr=&quot;&quot;&gt;&lt;/child_element&gt;&quot;)`\r\n\r\nLater you can parse this while reading.\r\n\r\nIf you want to specify the order of attributes, it can be achieved by using JAXB. [JAXB Example][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jaxb","title":"How to stop XML Tag Attributes from sorting in Ascending Order after modifying the XML file using Java?","body":"<p>You cannot control the order of attributes. If you are using DOM, then attributes will be sorted in alphabetical order. One approach is to set your element as string without parsing, this will maintain the order.</p>\n<p>Example: <code>element.setTextContent(&quot;&lt;child_element attr=&quot;&quot;&gt;&lt;/child_element&gt;&quot;)</code></p>\n<p>Later you can parse this while reading.</p>\n<p>If you want to specify the order of attributes, it can be achieved by using JAXB. <a href=\"https://www.baeldung.com/jaxb\" rel=\"nofollow noreferrer\">JAXB Example</a></p>\n"}],"owner":{"account_id":6300508,"reputation":431,"user_id":4895346,"accept_rate":29,"display_name":"Arthas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2569,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1685597543,"creation_date":1433779039,"question_id":30713897,"body_markdown":"I have written a program to find all XML files matching a particular pattern in a directory and modify it by adding a new tag.\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;paths&gt;\r\n      &lt;upgradepath startversion=&quot;1.4.0.0&quot; moduleid=&quot;${moduleId}&quot; endversion=&quot;1.4.0.1&quot;&gt;\r\n        &lt;steps&gt;\r\n          &lt;!-- Put scripts here to go from 1.4.0.0 to 1.4.0.1 --&gt;\r\n        &lt;/steps&gt;\r\n      &lt;/upgradepath&gt;\r\n\r\n      &lt;upgradepath startversion=&quot;1.4.0.1&quot; moduleid=&quot;${moduleId}&quot; endversion=&quot;1.4.0.2&quot;&gt;\r\n        &lt;steps&gt;\r\n          &lt;!-- Put scripts here to go from 1.4.0.1 to 1.4.0.2 --&gt;\r\n        &lt;/steps&gt;\r\n      &lt;/upgradepath&gt;\r\n    &lt;/paths&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAfter running my program the XML file gets modified as below :\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;paths&gt;\r\n      &lt;upgradepath endversion=&quot;1.4.0.1&quot; moduleid=&quot;${moduleId}&quot; startversion=&quot;1.4.0.0&quot;&gt;\r\n        &lt;steps&gt;\r\n          &lt;!-- Put scripts here to go from 1.4.0.0 to 1.4.0.1 --&gt;\r\n        &lt;/steps&gt;\r\n      &lt;/upgradepath&gt;\r\n\r\n      &lt;upgradepath endversion=&quot;1.4.0.2&quot; moduleid=&quot;${moduleId}&quot; startversion=&quot;1.4.0.1&quot;&gt;\r\n    \t&lt;steps&gt;\r\n    \t  &lt;!-- Put scripts here to go from 1.4.0.1 to 1.4.0.2 --&gt;\r\n    \t&lt;/steps&gt;\r\n      &lt;/upgradepath&gt;\r\n\r\n    &lt;upgradepath endversion=&quot;1.4.0.3&quot; moduleid=&quot;${moduleId}&quot; startversion=&quot;1.4.0.2&quot;&gt;\r\n    &lt;steps&gt;\r\n    &lt;!--Put scripts here to go from 1.4.0.2 to 1.4.0.3--&gt;\r\n    &lt;/steps&gt;\r\n    &lt;/upgradepath&gt;\r\n    &lt;/paths&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf you see the attributes of all the tags you will see that they have all been rearranged in ascending order. The **startversion** attribute now appears last and the **endversion** attribute appears first. I want the original order of the attributes after modification of the XML file. I have tried almost everything and have lost all hope. Is there any way I can do this? Also is there a way to sort the attributes in descending order? It&#39;s not the right solution but it helps.\r\n\r\nHere is a code snippet from the program I am using to modify the files : \r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    private static void updateXMLFiles(String sStartVersion, String sEndVersion) {\r\n      try {\r\n        for (int c = 0; c &lt; pathsList.size(); c++) {\r\n          File xmlFile = new File(pathsList.get(c).toString());\r\n          DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n          DocumentBuilder dBuilder;\r\n          dBuilder = dbFactory.newDocumentBuilder();\r\n          Document doc = dBuilder.parse(xmlFile);\r\n          doc.getDocumentElement().normalize();\r\n                    \r\n          // Get the last &lt;upgradepath&gt; tag in the file.\r\n          // Method Call to verify the version entered and update the XML Files.\r\n\r\n          // Write the updated document to the file.\r\n          doc.getDocumentElement().normalize();\r\n          TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n          Transformer transformer = transformerFactory.newTransformer();\r\n          DOMSource source = new DOMSource(doc);\r\n          StreamResult result = new StreamResult(new File(pathsList.get(c).toString()));\r\n          transformer.setOutputProperty(OutputKeys.STANDALONE, &quot;yes&quot;);\r\n          transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n          transformer.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n          transformer.transform(source, result);\r\n      } \r\n      catch (SAXException e1) {\r\n        e1.printStackTrace();\r\n      } \r\n      catch (ParserConfigurationException e1) {\r\n        e1.printStackTrace();\r\n      } \r\n      catch (IOException e1) {\r\n        e1.printStackTrace();\r\n      } \r\n      catch (TransformerException e1) {\r\n        e1.printStackTrace();\r\n      }\r\n    }\r\n\r\n    private static void addNewVersion(Document doc, String sStartVersion, String sEndVersion) {\r\n        Element element = doc.getDocumentElement();\r\n        Element upgradePath = doc.createElement(&quot;upgradepath&quot;);\r\n        upgradePath.setAttribute(&quot;startversion&quot;, sStartVersion);\r\n        upgradePath.setAttribute(&quot;moduleid&quot;, &quot;${moduleId}&quot;);\r\n        upgradePath.setAttribute(&quot;endversion&quot;, sEndVersion);\r\n        Element steps = doc.createElement(&quot;steps&quot;);\r\n        Comment comment = doc.createComment(&quot;Put scripts here to go from &quot; + sStartVersion + &quot; to &quot; + sEndVersion);\r\n        steps.appendChild(comment);\r\n        upgradePath.appendChild(steps);\r\n        element.appendChild(upgradePath);\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIs there any way I can keep the order of the attributes intact or in the worst case arrange it in descending order?\r\nA friend of mine suggested I try out JAXB but I couldn&#39;t find a way to achieve this. If someone thinks JAXB can solve this do mention how to format an existing XML file and not creating one.\r\nAnother issue which is not a major concern is that although I have used the &lt;br&gt;\r\n**transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);** &lt;br&gt;\r\nthe newly added tags are not indented correctly. Any way to fix this?","title":"How to stop XML Tag Attributes from sorting in Ascending Order after modifying the XML file using Java?","body":"<p>I have written a program to find all XML files matching a particular pattern in a directory and modify it by adding a new tag.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\r\n&lt;paths&gt;\r\n  &lt;upgradepath startversion=\"1.4.0.0\" moduleid=\"${moduleId}\" endversion=\"1.4.0.1\"&gt;\r\n    &lt;steps&gt;\r\n      &lt;!-- Put scripts here to go from 1.4.0.0 to 1.4.0.1 --&gt;\r\n    &lt;/steps&gt;\r\n  &lt;/upgradepath&gt;\r\n\r\n  &lt;upgradepath startversion=\"1.4.0.1\" moduleid=\"${moduleId}\" endversion=\"1.4.0.2\"&gt;\r\n    &lt;steps&gt;\r\n      &lt;!-- Put scripts here to go from 1.4.0.1 to 1.4.0.2 --&gt;\r\n    &lt;/steps&gt;\r\n  &lt;/upgradepath&gt;\r\n&lt;/paths&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>After running my program the XML file gets modified as below :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\r\n&lt;paths&gt;\r\n  &lt;upgradepath endversion=\"1.4.0.1\" moduleid=\"${moduleId}\" startversion=\"1.4.0.0\"&gt;\r\n    &lt;steps&gt;\r\n      &lt;!-- Put scripts here to go from 1.4.0.0 to 1.4.0.1 --&gt;\r\n    &lt;/steps&gt;\r\n  &lt;/upgradepath&gt;\r\n\r\n  &lt;upgradepath endversion=\"1.4.0.2\" moduleid=\"${moduleId}\" startversion=\"1.4.0.1\"&gt;\r\n\t&lt;steps&gt;\r\n\t  &lt;!-- Put scripts here to go from 1.4.0.1 to 1.4.0.2 --&gt;\r\n\t&lt;/steps&gt;\r\n  &lt;/upgradepath&gt;\r\n\r\n&lt;upgradepath endversion=\"1.4.0.3\" moduleid=\"${moduleId}\" startversion=\"1.4.0.2\"&gt;\r\n&lt;steps&gt;\r\n&lt;!--Put scripts here to go from 1.4.0.2 to 1.4.0.3--&gt;\r\n&lt;/steps&gt;\r\n&lt;/upgradepath&gt;\r\n&lt;/paths&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you see the attributes of all the tags you will see that they have all been rearranged in ascending order. The <strong>startversion</strong> attribute now appears last and the <strong>endversion</strong> attribute appears first. I want the original order of the attributes after modification of the XML file. I have tried almost everything and have lost all hope. Is there any way I can do this? Also is there a way to sort the attributes in descending order? It's not the right solution but it helps.</p>\n\n<p>Here is a code snippet from the program I am using to modify the files : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>private static void updateXMLFiles(String sStartVersion, String sEndVersion) {\r\n  try {\r\n    for (int c = 0; c &lt; pathsList.size(); c++) {\r\n      File xmlFile = new File(pathsList.get(c).toString());\r\n      DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n      DocumentBuilder dBuilder;\r\n      dBuilder = dbFactory.newDocumentBuilder();\r\n      Document doc = dBuilder.parse(xmlFile);\r\n      doc.getDocumentElement().normalize();\r\n                \r\n      // Get the last &lt;upgradepath&gt; tag in the file.\r\n      // Method Call to verify the version entered and update the XML Files.\r\n\r\n      // Write the updated document to the file.\r\n      doc.getDocumentElement().normalize();\r\n      TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n      Transformer transformer = transformerFactory.newTransformer();\r\n      DOMSource source = new DOMSource(doc);\r\n      StreamResult result = new StreamResult(new File(pathsList.get(c).toString()));\r\n      transformer.setOutputProperty(OutputKeys.STANDALONE, \"yes\");\r\n      transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\r\n      transformer.setOutputProperty(\"{http://xml.apache.org/xslt}indent-amount\", \"2\");\r\n      transformer.transform(source, result);\r\n  } \r\n  catch (SAXException e1) {\r\n    e1.printStackTrace();\r\n  } \r\n  catch (ParserConfigurationException e1) {\r\n    e1.printStackTrace();\r\n  } \r\n  catch (IOException e1) {\r\n    e1.printStackTrace();\r\n  } \r\n  catch (TransformerException e1) {\r\n    e1.printStackTrace();\r\n  }\r\n}\r\n\r\nprivate static void addNewVersion(Document doc, String sStartVersion, String sEndVersion) {\r\n    Element element = doc.getDocumentElement();\r\n    Element upgradePath = doc.createElement(\"upgradepath\");\r\n    upgradePath.setAttribute(\"startversion\", sStartVersion);\r\n    upgradePath.setAttribute(\"moduleid\", \"${moduleId}\");\r\n    upgradePath.setAttribute(\"endversion\", sEndVersion);\r\n    Element steps = doc.createElement(\"steps\");\r\n    Comment comment = doc.createComment(\"Put scripts here to go from \" + sStartVersion + \" to \" + sEndVersion);\r\n    steps.appendChild(comment);\r\n    upgradePath.appendChild(steps);\r\n    element.appendChild(upgradePath);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Is there any way I can keep the order of the attributes intact or in the worst case arrange it in descending order?\nA friend of mine suggested I try out JAXB but I couldn't find a way to achieve this. If someone thinks JAXB can solve this do mention how to format an existing XML file and not creating one.\nAnother issue which is not a major concern is that although I have used the <br>\n<strong>transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");</strong> <br>\nthe newly added tags are not indented correctly. Any way to fix this?</p>\n"},{"tags":["java","garbage-collection","jvm"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1312304130,"post_id":6915633,"comment_id":8237121,"body_markdown":"Why would you want to increase the rate of GCs? What are you **really** trying to optimize? And yes: there are [plenty of ways to tweak the GC](http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html).","body":"Why would you want to increase the rate of GCs? What are you <b>really</b> trying to optimize? And yes: there are <a href=\"http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html\" rel=\"nofollow noreferrer\">plenty of ways to tweak the GC</a>."},{"owner":{"account_id":67250,"reputation":3526,"user_id":196869,"accept_rate":100,"display_name":"Jim"},"score":2,"creation_date":1312304151,"post_id":6915633,"comment_id":8237130,"body_markdown":"Don&#39;t call System.gc().  Please.  http://stackoverflow.com/questions/2414105/why-is-it-a-bad-practice-to-call-system-gc","body":"Don&#39;t call System.gc().  Please.  <a href=\"http://stackoverflow.com/questions/2414105/why-is-it-a-bad-practice-to-call-system-gc\" title=\"why is it a bad practice to call system gc\">stackoverflow.com/questions/2414105/&hellip;</a>"},{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":0,"creation_date":1312304214,"post_id":6915633,"comment_id":8237145,"body_markdown":"Check out similar posts in the **Related** column on the right... specifically this: [Does anyone know of a good guide to configure GC in Java?](http://stackoverflow.com/questions/4505987/does-anyone-know-of-a-good-guide-to-configure-gc-in-java)","body":"Check out similar posts in the <b>Related</b> column on the right... specifically this: <a href=\"http://stackoverflow.com/questions/4505987/does-anyone-know-of-a-good-guide-to-configure-gc-in-java\">Does anyone know of a good guide to configure GC in Java?</a>"},{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":1,"creation_date":1312304424,"post_id":6915633,"comment_id":8237211,"body_markdown":"Increasing the rate of GC calls will not solve your problem if GC is taking up a significant chunk of CPU usage; it will only worsen things. If your JVM is well tuned, then it should invoke GC only occassionally to clean up the young gen, and the old gen on lesser occasions.","body":"Increasing the rate of GC calls will not solve your problem if GC is taking up a significant chunk of CPU usage; it will only worsen things. If your JVM is well tuned, then it should invoke GC only occassionally to clean up the young gen, and the old gen on lesser occasions."}],"answers":[{"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1312305677,"creation_date":1312305085,"answer_id":6915824,"question_id":6915633,"body_markdown":"If you change the GC pause time, garbage collection should take place more frequently. This *may* be useful for some time critical apps where you need garbage collections to not take as long as it might, even if there may be more collections. `-XpauseTarget` should do this as a VM argument. Minimum value here is 10 milliseconds. Don&#39;t call `System.gc()`. Depending on where you call it, you could make your application hugely inefficient.\r\n\r\nThe best idea is to simply optimise your application to use fewer objects. You can use a tool such as JVisualVM which comes with the JDK to inspect your app at runtime and find out where the problem lies, and also to look at the garbage collection info.\r\n\r\nYou could also try a different garbage collector. I use the following, and it helps me in some applications where memory usage, say, is more important than CPU time (although there&#39;s a few useless options here -- just weed them out):\r\n\r\n    -Xincgc\r\n    -XX:+CMSIncrementalPacing\r\n    -XX:+UseAdaptiveSizePolicy\r\n    -XX:+AggressiveOpts\r\n    -XX:+ExplicitGCInvokesConcurrent\r\n    -XX:+UnlockExperimentalVMOptions\r\n    -XX:+UseConcMarkSweepGC\r\n    -XX:UseSSE=3\r\n    -XX:+UseParNewGC\r\n    -XX:SurvivorRatio=2\r\n    -XX:NewRatio=8\r\n    -XX:+DoEscapeAnalysis\r\n    -XX:+UseFastAccessorMethods\r\n    -XX:+ForceTimeHighResolution\r\n    -XX:+UseTLAB\r\n    -XX:+ResizeTLAB\r\n    -XX:MaxGCPauseMillis=10\r\n    -XX:ParallelGCThreads=8\r\n    -XX:+CMSParallelRemarkEnabled\r\n    -XX:+DisableExplicitGC\r\n    -XX:+UseAdaptiveGCBoundary\r\n    -XX:-UseGCOverheadLimit\r\n    -Xnoclassgc\r\n    -server\r\n    -Xss128k\r\n    -Xms1g\r\n    -Xmx1g","title":"How to increase the rate of GC calls in java?","body":"<p>If you change the GC pause time, garbage collection should take place more frequently. This <em>may</em> be useful for some time critical apps where you need garbage collections to not take as long as it might, even if there may be more collections. <code>-XpauseTarget</code> should do this as a VM argument. Minimum value here is 10 milliseconds. Don't call <code>System.gc()</code>. Depending on where you call it, you could make your application hugely inefficient.</p>\n\n<p>The best idea is to simply optimise your application to use fewer objects. You can use a tool such as JVisualVM which comes with the JDK to inspect your app at runtime and find out where the problem lies, and also to look at the garbage collection info.</p>\n\n<p>You could also try a different garbage collector. I use the following, and it helps me in some applications where memory usage, say, is more important than CPU time (although there's a few useless options here -- just weed them out):</p>\n\n<pre><code>-Xincgc\n-XX:+CMSIncrementalPacing\n-XX:+UseAdaptiveSizePolicy\n-XX:+AggressiveOpts\n-XX:+ExplicitGCInvokesConcurrent\n-XX:+UnlockExperimentalVMOptions\n-XX:+UseConcMarkSweepGC\n-XX:UseSSE=3\n-XX:+UseParNewGC\n-XX:SurvivorRatio=2\n-XX:NewRatio=8\n-XX:+DoEscapeAnalysis\n-XX:+UseFastAccessorMethods\n-XX:+ForceTimeHighResolution\n-XX:+UseTLAB\n-XX:+ResizeTLAB\n-XX:MaxGCPauseMillis=10\n-XX:ParallelGCThreads=8\n-XX:+CMSParallelRemarkEnabled\n-XX:+DisableExplicitGC\n-XX:+UseAdaptiveGCBoundary\n-XX:-UseGCOverheadLimit\n-Xnoclassgc\n-server\n-Xss128k\n-Xms1g\n-Xmx1g\n</code></pre>\n"}],"owner":{"account_id":189681,"reputation":691,"user_id":429150,"accept_rate":71,"display_name":"cooltechnomax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3331,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":6915824,"answer_count":1,"score":3,"last_activity_date":1685596410,"creation_date":1312303988,"question_id":6915633,"body_markdown":"How to increase the rate of GC calls in java? Are there any JVM parameters to tune the rate at which GC gets called?\r\n\r\nThanks!!","title":"How to increase the rate of GC calls in java?","body":"<p>How to increase the rate of GC calls in java? Are there any JVM parameters to tune the rate at which GC gets called?</p>\n\n<p>Thanks!!</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685597200,"post_id":76377814,"comment_id":134682864,"body_markdown":"What is the spring version that you are using?","body":"What is the spring version that you are using?"},{"owner":{"account_id":4651430,"reputation":1022,"user_id":3768218,"accept_rate":67,"display_name":"Jeya Kumar"},"score":0,"creation_date":1685598275,"post_id":76377814,"comment_id":134682993,"body_markdown":"spring 5.3.x; and i tried with    4.3.x; for both throwing null pointer exception","body":"spring 5.3.x; and i tried with    4.3.x; for both throwing null pointer exception"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685600754,"post_id":76377814,"comment_id":134683297,"body_markdown":"https://stackoverflow.com/questions/68538851/lombok-and-autowired","body":"<a href=\"https://stackoverflow.com/questions/68538851/lombok-and-autowired\" title=\"lombok and autowired\">stackoverflow.com/questions/68538851/lombok-and-autowired</a>"}],"answers":[{"tags":[],"owner":{"account_id":3416886,"reputation":137,"user_id":2865528,"display_name":"manojgarimella"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685592962,"creation_date":1685592962,"answer_id":76378622,"question_id":76377814,"body_markdown":"You need to have the configuration created for your ObjectMapper using the config.\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class ObjectMapperConfig {\r\n    \r\n        @Bean\r\n        public ObjectMapper objectMapper() {\r\n            return new ObjectMapper();\r\n        }\r\n    }\r\n\r\nThen in your configuration processor class autowire your objectmapper.\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    public ConfigurationProcessor(ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\nThis should inject your objectMapper object into the context.\r\n","title":"dependency injection in java library using spring","body":"<p>You need to have the configuration created for your ObjectMapper using the config.</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class ObjectMapperConfig {\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        return new ObjectMapper();\n    }\n}\n</code></pre>\n<p>Then in your configuration processor class autowire your objectmapper.</p>\n<pre><code>private final ObjectMapper objectMapper;\n\n@Autowired\npublic ConfigurationProcessor(ObjectMapper objectMapper) {\n    this.objectMapper = objectMapper;\n}\n</code></pre>\n<p>This should inject your objectMapper object into the context.</p>\n"},{"tags":[],"owner":{"account_id":23390750,"reputation":1,"user_id":17455434,"display_name":"hontinghk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685595984,"creation_date":1685593850,"answer_id":76378675,"question_id":76377814,"body_markdown":"Based on the code you provided, it seems that you are manually creating an instance of ConfigurationProcessor using the new keyword in your TestSpring class. When you create an object this way, Spring is not aware of it, and thus, it doesn&#39;t perform dependency injection on that object.\r\n\r\nTo fix it, one of the solution is to retrieve the ConfigurationProcessor bean and let spring to handle the dependency injection. Here is an example.\r\n\r\n```\r\n@Slf4j\r\n@ComponentScan(basePackages = {&quot;com.my.package.search&quot;})\r\npublic final class TestSpring {\r\n  \r\n    public static void main(String[] args) {\r\n        ApplicationContext context = new AnnotationConfigApplicationContext(TestSpring.class);\r\n        ConfigurationProcessor configurationProcessor = context.getBean(ConfigurationProcessor.class);\r\n        configurationProcessor.processTheme(null);\r\n    }\r\n}\r\n```\r\n\r\nThere is alternative solutions. You can try and see which is the best for your situation. Here is some key word: SpringBootTest, TestConfiguration or Mockito.","title":"dependency injection in java library using spring","body":"<p>Based on the code you provided, it seems that you are manually creating an instance of ConfigurationProcessor using the new keyword in your TestSpring class. When you create an object this way, Spring is not aware of it, and thus, it doesn't perform dependency injection on that object.</p>\n<p>To fix it, one of the solution is to retrieve the ConfigurationProcessor bean and let spring to handle the dependency injection. Here is an example.</p>\n<pre><code>@Slf4j\n@ComponentScan(basePackages = {&quot;com.my.package.search&quot;})\npublic final class TestSpring {\n  \n    public static void main(String[] args) {\n        ApplicationContext context = new AnnotationConfigApplicationContext(TestSpring.class);\n        ConfigurationProcessor configurationProcessor = context.getBean(ConfigurationProcessor.class);\n        configurationProcessor.processTheme(null);\n    }\n}\n</code></pre>\n<p>There is alternative solutions. You can try and see which is the best for your situation. Here is some key word: SpringBootTest, TestConfiguration or Mockito.</p>\n"}],"owner":{"account_id":4651430,"reputation":1022,"user_id":3768218,"accept_rate":67,"display_name":"Jeya Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685596253,"creation_date":1685574889,"question_id":76377814,"body_markdown":"I am new to spring framework and trying to do dependency injection using spring framework in my stand alone java library which is consumed by 2 of the clients\r\n\r\nI am declaring my bean and I want to inject `ObjectMapper`\r\n\r\n        package com.my.package.search.modules\r\n\r\n        @Component\r\n        public class ModuleProvider {\r\n            @Bean\r\n            public ObjectMapper getObjectMapper() {\r\n               return new ObjectMapper().enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n            }\r\n        \r\n        }\r\n\r\nmy class using it\r\n\r\n        @Slf4j\r\n        @ComponentScan(basePackages = {&quot;com.my.package.search&quot;})\r\n        @Component\r\n        @RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\n        public class ConfigurationProcessor {\r\n        \r\n        private ObjectMapper objectMapper;\r\n        \r\n        @SneakyThrows\r\n        public void processTheme(String name) {\r\n        \r\n            String json = &quot;{ \\&quot;color\\&quot; : \\&quot;Black\\&quot;, \\&quot;type\\&quot; : \\&quot;BMW\\&quot; }&quot;;\r\n            Car car = objectMapper.readValue(json, Car.class);\r\n            System.out.println(&quot;all gg&quot; + car);\r\n        }\r\n    }\r\n\r\nI am trying to trigger it from\r\n\r\n    @Slf4j\r\n    public final class SomeCaller {\r\n    \r\n      //Some caller method is triggering this\r\n        public void callConfig() {\r\n            new ConfigurationProcessor().processTheme(null);\r\n        }\r\n    }\r\n\r\nI am getting null pointer exception in\r\n\r\n    Car car = objectMapper.readValue(json, Car.class);\r\n\r\nobjectMapper -  is not getting injected and it is coming as null\r\n\r\nI am trying to follow examples which I got from internet like https://www.baeldung.com/spring-component-annotation\r\n\r\n\r\nPS: I am aware this is not best practice to integrate DI in libraries. In this case both the clients-services are owned by myself.\r\n\r\n\r\nEDIT:1\r\n\r\nI made changes as suggested but that didnt worked \r\n\r\n    @Component\r\n    @Configuration\r\n    public class ModuleProvider {\r\n        @Bean\r\n        public ObjectMapper getObjectMapper() {\r\n           return new ObjectMapper().enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"dependency injection in java library using spring","body":"<p>I am new to spring framework and trying to do dependency injection using spring framework in my stand alone java library which is consumed by 2 of the clients</p>\n<p>I am declaring my bean and I want to inject <code>ObjectMapper</code></p>\n<pre><code>    package com.my.package.search.modules\n\n    @Component\n    public class ModuleProvider {\n        @Bean\n        public ObjectMapper getObjectMapper() {\n           return new ObjectMapper().enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n        }\n    \n    }\n</code></pre>\n<p>my class using it</p>\n<pre><code>    @Slf4j\n    @ComponentScan(basePackages = {&quot;com.my.package.search&quot;})\n    @Component\n    @RequiredArgsConstructor(onConstructor = @__(@Autowired))\n    public class ConfigurationProcessor {\n    \n    private ObjectMapper objectMapper;\n    \n    @SneakyThrows\n    public void processTheme(String name) {\n    \n        String json = &quot;{ \\&quot;color\\&quot; : \\&quot;Black\\&quot;, \\&quot;type\\&quot; : \\&quot;BMW\\&quot; }&quot;;\n        Car car = objectMapper.readValue(json, Car.class);\n        System.out.println(&quot;all gg&quot; + car);\n    }\n}\n</code></pre>\n<p>I am trying to trigger it from</p>\n<pre><code>@Slf4j\npublic final class SomeCaller {\n\n  //Some caller method is triggering this\n    public void callConfig() {\n        new ConfigurationProcessor().processTheme(null);\n    }\n}\n</code></pre>\n<p>I am getting null pointer exception in</p>\n<pre><code>Car car = objectMapper.readValue(json, Car.class);\n</code></pre>\n<p>objectMapper -  is not getting injected and it is coming as null</p>\n<p>I am trying to follow examples which I got from internet like <a href=\"https://www.baeldung.com/spring-component-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-component-annotation</a></p>\n<p>PS: I am aware this is not best practice to integrate DI in libraries. In this case both the clients-services are owned by myself.</p>\n<p>EDIT:1</p>\n<p>I made changes as suggested but that didnt worked</p>\n<pre><code>@Component\n@Configuration\npublic class ModuleProvider {\n    @Bean\n    public ObjectMapper getObjectMapper() {\n       return new ObjectMapper().enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","google-maps"],"comments":[{"owner":{"account_id":17917946,"reputation":266,"user_id":13018498,"display_name":"Binil George"},"score":0,"creation_date":1685559893,"post_id":76375442,"comment_id":134678948,"body_markdown":"have you tried starting the activity again ?","body":"have you tried starting the activity again ?"},{"owner":{"account_id":17917946,"reputation":266,"user_id":13018498,"display_name":"Binil George"},"score":0,"creation_date":1685560922,"post_id":76375442,"comment_id":134679130,"body_markdown":"with startactivity and intent ?","body":"with startactivity and intent ?"},{"owner":{"account_id":22386279,"reputation":1,"user_id":16599040,"display_name":"varrun"},"score":0,"creation_date":1685590316,"post_id":76375442,"comment_id":134682233,"body_markdown":"Yes i have tried still not refreshed. @BinilGeorge","body":"Yes i have tried still not refreshed. @BinilGeorge"}],"owner":{"account_id":22386279,"reputation":1,"user_id":16599040,"display_name":"varrun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685596061,"creation_date":1685549328,"question_id":76375442,"body_markdown":"Once enabling the permissions in settings for google map, on back to the application screen is not getting refreshed. what is the call back need to be used ?\r\n\r\n&gt; \r\n&gt; \r\n&gt;\r\n&gt; ```\r\n&gt; binding.mapView.permissionMsgClick.setOnClickListener {\r\n&gt;             val intent = Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS)\r\n&gt;             val uri = Uri.fromParts(&quot;package&quot;, requireContext().packageName, null)\r\n&gt;             intent.data = uri\r\n&gt;             startActivity(intent)\r\n&gt;             Log.d(TAG, &quot;permissionMsgClick : entering&quot;)\r\n&gt;         }\r\n&gt; ```\r\n&gt;\r\n&gt; \r\n&gt; \r\n&gt; \\[enter image description here\\](https://i.stack.imgur.com/aOreG.png)\r\n&gt; In the above image i have a location text after enabling permissions from settings on navigate back map screen is not refreshing. So the texts are not hiding am using the fragment class.","title":"How to refresh map screen in a Kotlin app after enabling permissions in settings screen?","body":"<p>Once enabling the permissions in settings for google map, on back to the application screen is not getting refreshed. what is the call back need to be used ?</p>\n<blockquote>\n<pre><code>binding.mapView.permissionMsgClick.setOnClickListener {\n            val intent = Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS)\n            val uri = Uri.fromParts(&quot;package&quot;, requireContext().packageName, null)\n            intent.data = uri\n            startActivity(intent)\n            Log.d(TAG, &quot;permissionMsgClick : entering&quot;)\n        }\n</code></pre>\n<p>[enter image description here](<a href=\"https://i.stack.imgur.com/aOreG.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/aOreG.png</a>)\nIn the above image i have a location text after enabling permissions from settings on navigate back map screen is not refreshing. So the texts are not hiding am using the fragment class.</p>\n</blockquote>\n"},{"tags":["java","oracle","jdbc","apache-axis"],"comments":[{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":2,"creation_date":1387800073,"post_id":20742794,"comment_id":31081576,"body_markdown":"What does `util.getFilePathToSave()` give you - sounds like it would be a file path rather than a JDBC URL, but then you wouldn&#39;t be getting an error from the listener. Do you get this error immediately, or after it&#39;s performed some operations - maybe you aren&#39;t closing your connections and the listener/DB is running out of processes?","body":"What does <code>util.getFilePathToSave()</code> give you - sounds like it would be a file path rather than a JDBC URL, but then you wouldn&#39;t be getting an error from the listener. Do you get this error immediately, or after it&#39;s performed some operations - maybe you aren&#39;t closing your connections and the listener/DB is running out of processes?"},{"owner":{"account_id":2563574,"reputation":1605,"user_id":2224206,"accept_rate":86,"display_name":"Priyan RockZ"},"score":0,"creation_date":1387947625,"post_id":20742794,"comment_id":31129001,"body_markdown":"thanks dear Alex.its gives jdbc url.i&#39;ll check my connection&#39;s open &amp; close","body":"thanks dear Alex.its gives jdbc url.i&#39;ll check my connection&#39;s open &amp; close"}],"answers":[{"tags":[],"owner":{"account_id":3766428,"reputation":458,"user_id":3129841,"accept_rate":100,"display_name":"Devaraj Mahesan"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1387811830,"creation_date":1387810869,"answer_id":20746040,"question_id":20742794,"body_markdown":"You opened a lot of connections and that&#39;s the issue. I think in your code, you did not close the opened connection.\r\n\r\nA database bounce could temporarily solve, but will re-appear when you do consecutive execution.\r\nAlso, it should be verified the number of concurrent connections to the database. If maximum DB processes parameter has been reached this is a common symptom. \r\n\r\nCourtesy of this thread: https://community.oracle.com/thread/362226?tstart=-1","title":"ORA-12516, TNS:listener could not find available handler","body":"<p>You opened a lot of connections and that's the issue. I think in your code, you did not close the opened connection.</p>\n\n<p>A database bounce could temporarily solve, but will re-appear when you do consecutive execution.\nAlso, it should be verified the number of concurrent connections to the database. If maximum DB processes parameter has been reached this is a common symptom. </p>\n\n<p>Courtesy of this thread: <a href=\"https://community.oracle.com/thread/362226?tstart=-1\">https://community.oracle.com/thread/362226?tstart=-1</a></p>\n"},{"tags":[],"owner":{"account_id":543620,"reputation":1424,"user_id":912813,"display_name":"Jeff Miller"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1395771960,"creation_date":1395771960,"answer_id":22643231,"question_id":20742794,"body_markdown":"I fixed this problem with sql command line:\r\n\r\n    connect system/&lt;password&gt;\r\n    alter system set processes=300 scope=spfile;\r\n    alter system set sessions=300 scope=spfile;\r\n\r\nRestart database.\r\n\r\n","title":"ORA-12516, TNS:listener could not find available handler","body":"<p>I fixed this problem with sql command line:</p>\n\n<pre><code>connect system/&lt;password&gt;\nalter system set processes=300 scope=spfile;\nalter system set sessions=300 scope=spfile;\n</code></pre>\n\n<p>Restart database.</p>\n"},{"tags":[],"owner":{"account_id":9155183,"reputation":99,"user_id":6808336,"display_name":"Sorin Dumitru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676882875,"creation_date":1676882875,"answer_id":75507025,"question_id":20742794,"body_markdown":"For me the problem was not the number of connexions, but the &quot;matching protocol&quot; part. Changing the ojdbc version solved the problem.","title":"ORA-12516, TNS:listener could not find available handler","body":"<p>For me the problem was not the number of connexions, but the &quot;matching protocol&quot; part. Changing the ojdbc version solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":1675364,"reputation":383,"user_id":1541051,"accept_rate":80,"display_name":"Bharat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685594369,"creation_date":1685594369,"answer_id":76378711,"question_id":20742794,"body_markdown":"A connection pooling solution can prevent these intermittent connection establishment failures. This is from &quot;High Performance Java Persistence book&quot; by Vlad Mihalcea\r\n","title":"ORA-12516, TNS:listener could not find available handler","body":"<p>A connection pooling solution can prevent these intermittent connection establishment failures. This is from &quot;High Performance Java Persistence book&quot; by Vlad Mihalcea</p>\n"}],"owner":{"account_id":2563574,"reputation":1605,"user_id":2224206,"accept_rate":86,"display_name":"Priyan RockZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200145,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":20746040,"answer_count":4,"score":32,"last_activity_date":1685594369,"creation_date":1387798871,"question_id":20742794,"body_markdown":"My error:\r\n\r\n    java.sql.SQLException: Listener refused the connection with the following error:\r\n    \r\n    ORA-12516, TNS:listener could not find available handler with matching protocol\r\n    stack\r\n    The Connection descriptor used by the client was:\r\n    //10.2.5.21:9001/XE\r\n    \r\n            at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java\r\n    :112)\r\n            at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java\r\n    :261)\r\n            at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:387)\r\n            at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:\r\n    414)\r\n            at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\r\n            at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtensio\r\n    n.java:35)\r\n            at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\r\n            at oracle.jdbc.pool.OracleDataSource.getPhysicalConnection(OracleDataSou\r\n    rce.java:297)\r\n            at oracle.jdbc.pool.OracleDataSource.getConnection(OracleDataSource.java\r\n    :221)\r\n            at oracle.jdbc.pool.OracleDataSource.getConnection(OracleDataSource.java\r\n    :165)\r\n            at utilityService.DB_util.setOracleConnectionActive(DB_util.java:99)\r\n            at utilityService.DB_util.getRecPreparedAuthentication(DB_util.java:124)\r\n\r\n\r\nMy common db connection class:\r\n\r\n    package utilityService;\r\n    \r\n    import java.sql.CallableStatement;\r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    import oracle.jdbc.pool.OracleDataSource;\r\n    \r\n\r\n    public class DB_util {\r\n    \tString propValue = &quot;&quot;;\r\n    \tResultSet rec = null;\r\n    \tStatement stm = null;\r\n    \tPreparedStatement pre_stm = null;\r\n    \tCallableStatement call_stm = null;\r\n    \tConnection conn1 = null;\r\n    \r\n    \t/**\r\n    \t * Constructure to get oracle connection\r\n    \t */\r\n    \tpublic DB_util() {\r\n    \t\t\r\n    \t\tUtil util=new Util();\r\n    \t\tpropValue=util.getFilePathToSave();\r\n    \t\t//propValue = Util.propValue;// get oracle connection\r\n    \t\tsetOracleConnectionActive();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Close all oracle connections and result sets.\r\n    \t */\r\n    \tpublic void setOracleConnectionClose() {\r\n    \t\ttry {\r\n    \t\t\tif (conn1 != null || !conn1.isClosed()) {\r\n    \t\t\t\tif (rec != null) {\r\n    \t\t\t\t\trec.close();\r\n    \t\t\t\t\trec = null;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (stm != null) {\r\n    \t\t\t\t\tstm.close();\r\n    \t\t\t\t\tstm = null;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (pre_stm != null) {\r\n    \t\t\t\t\tpre_stm.close();\r\n    \t\t\t\t\tpre_stm = null;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (call_stm != null) {\r\n    \t\t\t\t\tcall_stm.close();\r\n    \t\t\t\t\tcall_stm = null;\r\n    \t\t\t\t}\r\n    \t\t\t\tconn1.commit();\r\n    \t\t\t\tconn1.close();\r\n    \t\t\t\tconn1 = null;\r\n    \t\t\t}\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * return a result set according to sql sent\r\n    \t * \r\n    \t * @param SQL\r\n    \t * @return\r\n    \t */\r\n    \tpublic ResultSet getRec(String SQL) {\r\n    \t\ttry {\r\n    \t\t\tsetOracleConnectionActive();\r\n    \t\t\tstm = conn1.createStatement();\r\n    \t\t\trec = stm.executeQuery(SQL);\r\n    \r\n    \t\t\treturn rec;\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t\treturn rec;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Activate oracle connection\r\n    \t */\r\n    \tprivate void setOracleConnectionActive() {\r\n    \t\ttry {\r\n    \t\t\tif (conn1 == null || conn1.isClosed()) {\r\n    \t\t\t\tOracleDataSource ods = new OracleDataSource();\r\n    \t\t\t\tif (propValue != null) {\r\n    \t\t\t\t\tods.setURL(propValue);\r\n    \t\t\t\t}\r\n    \t\t\t\tconn1 = ods.getConnection();\r\n    \t\t\t\tSystem.out.println(&quot;DB connection CONNECTED......&quot;);\r\n    \t\t\t\tconn1.setAutoCommit(false);\r\n    \t\t\t}\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\t//setOracleConnectionActive();\r\n    \t\t\tex.printStackTrace();\r\n    \t\t\tSystem.out.println(&quot;DB connection FAILED......&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * send prepared result set with user authenticate\r\n    \t * \r\n    \t * @param SQL\r\n    \t * @param strInputUserMobile\r\n    \t * @param strInputUserName\r\n    \t * @param strInputUserPassword\r\n    \t * @return\r\n    \t */\r\n    \tpublic ResultSet getRecPreparedAuthentication(String SQL,\r\n    \t\t\tString strInputUserMobile, String strInputUserName,\r\n    \t\t\tString strInputUserPassword) {\r\n    \r\n    \t\ttry {\r\n    \t\t\tsetOracleConnectionActive();\r\n    \t\t\tpre_stm = conn1.prepareStatement(SQL);\r\n    \t\t\tpre_stm.setString(1, strInputUserMobile);\r\n    \t\t\tpre_stm.setString(2, strInputUserName);\r\n    \t\t\tpre_stm.setString(3, strInputUserPassword);\r\n    \t\t\trec = pre_stm.executeQuery();\r\n    \r\n    \t\t\treturn rec;\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tex.printStackTrace();\r\n    \t\t\treturn rec;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t/**\r\n    \t * insert sql to db which is send as a sql\r\n    \t * \r\n    \t * @param SQL\r\n    \t * @return\r\n    \t */\r\n    \tpublic int insertSQL(String SQL) {\r\n    \t\tint output = 0;\r\n    \t\ttry {\r\n    \t\t\tsetOracleConnectionActive();\r\n    \t\t\tstm = conn1.createStatement();\r\n    \t\t\toutput = stm.executeUpdate(SQL);\r\n    \t\t\tconn1.commit();\r\n    \t\t\toutput = 1;\r\n    \r\n    \t\t} catch (Exception ex) {\r\n    \t\t\ttry {\r\n    \t\t\t\tconn1.rollback();\r\n    \t\t\t\toutput = 0;\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\toutput = 0;\r\n    \t\t\t}\r\n    \t\t\tex.printStackTrace();\r\n    \r\n    \t\t}\r\n    \t\treturn output;\r\n    \r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Send a callable statement according to sent sql\r\n    \t * \r\n    \t * @param SQL\r\n    \t * @return\r\n    \t */\r\n    \tpublic CallableStatement callableStatementSQL(String SQL) {\r\n    \r\n    \t\tint output = 0;\r\n    \t\ttry {\r\n    \t\t\tsetOracleConnectionActive();\r\n    \t\t\tcall_stm = conn1.prepareCall(SQL);\r\n    \r\n    \t\t} catch (Exception ex) {\r\n    \t\t\ttry {\r\n    \t\t\t\tconn1.rollback();\r\n    \t\t\t\toutput = 0;\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t\toutput = 0;\r\n    \t\t\t}\r\n    \t\t\tex.printStackTrace();\r\n    \r\n    \t\t}\r\n    \t\treturn call_stm;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nEvery transaction I refer this class and do my fetching &amp; CRUD operations.\r\nIs there any issue with my code?","title":"ORA-12516, TNS:listener could not find available handler","body":"<p>My error:</p>\n\n<pre><code>java.sql.SQLException: Listener refused the connection with the following error:\n\nORA-12516, TNS:listener could not find available handler with matching protocol\nstack\nThe Connection descriptor used by the client was:\n//10.2.5.21:9001/XE\n\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java\n:112)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java\n:261)\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:387)\n        at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:\n414)\n        at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:165)\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtensio\nn.java:35)\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:801)\n        at oracle.jdbc.pool.OracleDataSource.getPhysicalConnection(OracleDataSou\nrce.java:297)\n        at oracle.jdbc.pool.OracleDataSource.getConnection(OracleDataSource.java\n:221)\n        at oracle.jdbc.pool.OracleDataSource.getConnection(OracleDataSource.java\n:165)\n        at utilityService.DB_util.setOracleConnectionActive(DB_util.java:99)\n        at utilityService.DB_util.getRecPreparedAuthentication(DB_util.java:124)\n</code></pre>\n\n<p>My common db connection class:</p>\n\n<pre><code>package utilityService;\n\nimport java.sql.CallableStatement;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport oracle.jdbc.pool.OracleDataSource;\n\n\npublic class DB_util {\n    String propValue = \"\";\n    ResultSet rec = null;\n    Statement stm = null;\n    PreparedStatement pre_stm = null;\n    CallableStatement call_stm = null;\n    Connection conn1 = null;\n\n    /**\n     * Constructure to get oracle connection\n     */\n    public DB_util() {\n\n        Util util=new Util();\n        propValue=util.getFilePathToSave();\n        //propValue = Util.propValue;// get oracle connection\n        setOracleConnectionActive();\n    }\n\n    /**\n     * Close all oracle connections and result sets.\n     */\n    public void setOracleConnectionClose() {\n        try {\n            if (conn1 != null || !conn1.isClosed()) {\n                if (rec != null) {\n                    rec.close();\n                    rec = null;\n                }\n                if (stm != null) {\n                    stm.close();\n                    stm = null;\n                }\n                if (pre_stm != null) {\n                    pre_stm.close();\n                    pre_stm = null;\n                }\n                if (call_stm != null) {\n                    call_stm.close();\n                    call_stm = null;\n                }\n                conn1.commit();\n                conn1.close();\n                conn1 = null;\n            }\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    /**\n     * return a result set according to sql sent\n     * \n     * @param SQL\n     * @return\n     */\n    public ResultSet getRec(String SQL) {\n        try {\n            setOracleConnectionActive();\n            stm = conn1.createStatement();\n            rec = stm.executeQuery(SQL);\n\n            return rec;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return rec;\n        }\n\n    }\n\n    /**\n     * Activate oracle connection\n     */\n    private void setOracleConnectionActive() {\n        try {\n            if (conn1 == null || conn1.isClosed()) {\n                OracleDataSource ods = new OracleDataSource();\n                if (propValue != null) {\n                    ods.setURL(propValue);\n                }\n                conn1 = ods.getConnection();\n                System.out.println(\"DB connection CONNECTED......\");\n                conn1.setAutoCommit(false);\n            }\n        } catch (Exception ex) {\n            //setOracleConnectionActive();\n            ex.printStackTrace();\n            System.out.println(\"DB connection FAILED......\");\n        }\n    }\n\n    /**\n     * send prepared result set with user authenticate\n     * \n     * @param SQL\n     * @param strInputUserMobile\n     * @param strInputUserName\n     * @param strInputUserPassword\n     * @return\n     */\n    public ResultSet getRecPreparedAuthentication(String SQL,\n            String strInputUserMobile, String strInputUserName,\n            String strInputUserPassword) {\n\n        try {\n            setOracleConnectionActive();\n            pre_stm = conn1.prepareStatement(SQL);\n            pre_stm.setString(1, strInputUserMobile);\n            pre_stm.setString(2, strInputUserName);\n            pre_stm.setString(3, strInputUserPassword);\n            rec = pre_stm.executeQuery();\n\n            return rec;\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return rec;\n        }\n\n    }\n\n    /**\n     * insert sql to db which is send as a sql\n     * \n     * @param SQL\n     * @return\n     */\n    public int insertSQL(String SQL) {\n        int output = 0;\n        try {\n            setOracleConnectionActive();\n            stm = conn1.createStatement();\n            output = stm.executeUpdate(SQL);\n            conn1.commit();\n            output = 1;\n\n        } catch (Exception ex) {\n            try {\n                conn1.rollback();\n                output = 0;\n            } catch (SQLException e) {\n                e.printStackTrace();\n                output = 0;\n            }\n            ex.printStackTrace();\n\n        }\n        return output;\n\n    }\n\n    /**\n     * Send a callable statement according to sent sql\n     * \n     * @param SQL\n     * @return\n     */\n    public CallableStatement callableStatementSQL(String SQL) {\n\n        int output = 0;\n        try {\n            setOracleConnectionActive();\n            call_stm = conn1.prepareCall(SQL);\n\n        } catch (Exception ex) {\n            try {\n                conn1.rollback();\n                output = 0;\n            } catch (SQLException e) {\n                e.printStackTrace();\n                output = 0;\n            }\n            ex.printStackTrace();\n\n        }\n        return call_stm;\n\n    }\n\n}\n</code></pre>\n\n<p>Every transaction I refer this class and do my fetching &amp; CRUD operations.\nIs there any issue with my code?</p>\n"},{"tags":["java","amazon-web-services","google-cloud-platform","google-bigquery"],"owner":{"account_id":20245896,"reputation":3,"user_id":14848356,"display_name":"Sunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685594350,"creation_date":1685281310,"question_id":76351789,"body_markdown":"I have setup a data transfer config between Big Query and Amazon S3, and Big Query data transfer service support connection with AWS using  AWS access keys and secret keys. Because of key rotation policy for AWS, secret keys and access keys are rotated after fixed interval of time. So how should we update the new access keys and secret keys for data transfer config by creating some script.\r\n\r\n","title":"How to update access keys and secret keys for Data transfer Config","body":"<p>I have setup a data transfer config between Big Query and Amazon S3, and Big Query data transfer service support connection with AWS using  AWS access keys and secret keys. Because of key rotation policy for AWS, secret keys and access keys are rotated after fixed interval of time. So how should we update the new access keys and secret keys for data transfer config by creating some script.</p>\n"},{"tags":["java","encapsulation","jls","java-package"],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1612892472,"creation_date":1600811002,"answer_id":64018076,"question_id":64018075,"body_markdown":"Subpackages exist to allow code to be conveniently organized.  They impose a restriction on class/interface naming (a class cannot have the same fully qualified name as a subpackage), but are otherwise no different than two unrelated packages.\r\n\r\nThe Java Language Specification defines what subpackages are in section 7.1, [Package Members](https://docs.oracle.com/javase/specs/jls/se15/html/jls-7.html#jls-7.1).\r\n\r\nA subpackage is any package directly nested within another package.  For instance, `com.example.subpackage` is a subpackage of `com.example`:\r\n\r\n&gt; The members of a package are its subpackages and all the top level class types and top level interface types declared in all the compilation units of the package.\r\n&gt;\r\n&gt; *For example, in the Java SE Platform API:*\r\n&gt;\r\n&gt; * *The package `java` has subpackages `awt`, `applet`, `io`, `lang`, `net`, and `util`, but no compilation units.*\r\n&gt; * *The package `java.awt` has a subpackage named `image`, as well as a number of compilation units containing declarations of class and interface types.*\r\n\r\nSubpackages enforce naming constraints between subpackages and classes/interfaces within the package.  Namely, a subpackage and a class/interface cannot share the same name within the same package:\r\n\r\n&gt; **A package may not contain two members of the same name, or a compile-time error results.**\r\n&gt;\r\n&gt; *Here are some examples:*\r\n&gt;\r\n&gt; * *Because the package `java.awt` has a subpackage `image`, it cannot (and does not) contain a declaration of a class or interface type named `image`.*\r\n&gt; * *If there is a package named `mouse` and a member type `Button` in that package (which then might be referred to as `mouse.Button`), then there cannot be any package with the fully qualified name `mouse.Button` or `mouse.Button.Click`.*\r\n&gt; * *If `com.nighthacks.java.jag` is the fully qualified name of a type, then there cannot be any package whose fully qualified name is either `com.nighthacks.java.jag` or `com.nighthacks.java.jag.scrabble`.*\r\n\r\nThe subpackage concept primarly exists for organizational purposes.  The restriction against name conflicts is the *only* significance afforded to subpackages by the language:\r\n\r\n&gt; The hierarchical naming structure for packages is intended to be convenient for organizing related packages in a conventional manner, but has no significance in itself other than the prohibition against a package having a subpackage with the same simple name as a top level type declared in that package.\r\n&gt;\r\n&gt; *For example, there is no special access relationship between a package named `oliver` and another package named `oliver.twist`, or between packages named `evelyn.wood` and `evelyn.waugh`. That is, the code in a package named `oliver.twist` has no better access to the types declared within package `oliver` than code in any other package.*\r\n","title":"What do Java subpackages do, given that they don&#39;t provide a special access relationship?","body":"<p>Subpackages exist to allow code to be conveniently organized.  They impose a restriction on class/interface naming (a class cannot have the same fully qualified name as a subpackage), but are otherwise no different than two unrelated packages.</p>\n<p>The Java Language Specification defines what subpackages are in section 7.1, <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-7.html#jls-7.1\" rel=\"nofollow noreferrer\">Package Members</a>.</p>\n<p>A subpackage is any package directly nested within another package.  For instance, <code>com.example.subpackage</code> is a subpackage of <code>com.example</code>:</p>\n<blockquote>\n<p>The members of a package are its subpackages and all the top level class types and top level interface types declared in all the compilation units of the package.</p>\n<p><em>For example, in the Java SE Platform API:</em></p>\n<ul>\n<li><em>The package <code>java</code> has subpackages <code>awt</code>, <code>applet</code>, <code>io</code>, <code>lang</code>, <code>net</code>, and <code>util</code>, but no compilation units.</em></li>\n<li><em>The package <code>java.awt</code> has a subpackage named <code>image</code>, as well as a number of compilation units containing declarations of class and interface types.</em></li>\n</ul>\n</blockquote>\n<p>Subpackages enforce naming constraints between subpackages and classes/interfaces within the package.  Namely, a subpackage and a class/interface cannot share the same name within the same package:</p>\n<blockquote>\n<p><strong>A package may not contain two members of the same name, or a compile-time error results.</strong></p>\n<p><em>Here are some examples:</em></p>\n<ul>\n<li><em>Because the package <code>java.awt</code> has a subpackage <code>image</code>, it cannot (and does not) contain a declaration of a class or interface type named <code>image</code>.</em></li>\n<li><em>If there is a package named <code>mouse</code> and a member type <code>Button</code> in that package (which then might be referred to as <code>mouse.Button</code>), then there cannot be any package with the fully qualified name <code>mouse.Button</code> or <code>mouse.Button.Click</code>.</em></li>\n<li><em>If <code>com.nighthacks.java.jag</code> is the fully qualified name of a type, then there cannot be any package whose fully qualified name is either <code>com.nighthacks.java.jag</code> or <code>com.nighthacks.java.jag.scrabble</code>.</em></li>\n</ul>\n</blockquote>\n<p>The subpackage concept primarly exists for organizational purposes.  The restriction against name conflicts is the <em>only</em> significance afforded to subpackages by the language:</p>\n<blockquote>\n<p>The hierarchical naming structure for packages is intended to be convenient for organizing related packages in a conventional manner, but has no significance in itself other than the prohibition against a package having a subpackage with the same simple name as a top level type declared in that package.</p>\n<p><em>For example, there is no special access relationship between a package named <code>oliver</code> and another package named <code>oliver.twist</code>, or between packages named <code>evelyn.wood</code> and <code>evelyn.waugh</code>. That is, the code in a package named <code>oliver.twist</code> has no better access to the types declared within package <code>oliver</code> than code in any other package.</em></p>\n</blockquote>\n"}],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64018076,"answer_count":1,"score":0,"last_activity_date":1685593288,"creation_date":1600811002,"question_id":64018075,"body_markdown":"I have seen a number of posts on Stack Overflow and elsewhere assert that Java does not have the concept of subpackages.  One thing often pointed out is the lack of any special access relationship between a package and its &quot;subpackage&quot;.  For instance, there is no way to expose a class or method in `com.example` to classes in `com.example.subpackage` (or vice versa) without exposing it to all other packages.  However, despite these assertions, I see that the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se15/html/index.html) does in fact define the concept of &quot;subpackage&quot; in [Chapter 7. Packages and Modules](https://docs.oracle.com/javase/specs/jls/se15/html/jls-7.html).\r\n\r\n&gt; The members of a package are class and interface types, which are declared in compilation units of the package, and subpackages, which may contain compilation units and subpackages of their own.\r\n\r\nWhat, therefore, is a subpackage in Java, and what does it do?","title":"What do Java subpackages do, given that they don&#39;t provide a special access relationship?","body":"<p>I have seen a number of posts on Stack Overflow and elsewhere assert that Java does not have the concept of subpackages.  One thing often pointed out is the lack of any special access relationship between a package and its &quot;subpackage&quot;.  For instance, there is no way to expose a class or method in <code>com.example</code> to classes in <code>com.example.subpackage</code> (or vice versa) without exposing it to all other packages.  However, despite these assertions, I see that the <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/index.html\" rel=\"nofollow noreferrer\">Java Language Specification</a> does in fact define the concept of &quot;subpackage&quot; in <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-7.html\" rel=\"nofollow noreferrer\">Chapter 7. Packages and Modules</a>.</p>\n<blockquote>\n<p>The members of a package are class and interface types, which are declared in compilation units of the package, and subpackages, which may contain compilation units and subpackages of their own.</p>\n</blockquote>\n<p>What, therefore, is a subpackage in Java, and what does it do?</p>\n"},{"tags":["java","android","eclipse","performance"],"comments":[{"owner":{"account_id":1626069,"reputation":7110,"user_id":1501613,"accept_rate":100,"display_name":"cYrixmorten"},"score":0,"creation_date":1382630458,"post_id":19570209,"comment_id":29043714,"body_markdown":"filter by message: ^(?!.*(GC)|(Cache)).*$. :P when using Google Maps API it generates a lot of GC messages in LogCat, which is removed by doing this. Not a solution though. But in case or app works fine despite the warning, this is a neat way to remove unwanted logs.","body":"filter by message: ^(?!.*(GC)|(Cache)).*$. :P when using Google Maps API it generates a lot of GC messages in LogCat, which is removed by doing this. Not a solution though. But in case or app works fine despite the warning, this is a neat way to remove unwanted logs."}],"answers":[{"tags":[],"owner":{"account_id":3172419,"reputation":583,"user_id":2681023,"display_name":"Varun"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1515423240,"creation_date":1392807046,"answer_id":21878274,"question_id":19570209,"body_markdown":"eclipse.ini file can be edited.\r\nIncrease the values for memory usage.\r\nPlease see the sample eclipse.ini file below.\r\n\r\n    --launcher.XXMaxPermSize\r\n    512M\r\n    \r\n    -showsplash\r\n    org.eclipse.platform\r\n    --launcher.XXMaxPermSize\r\n    512m\r\n    \r\n    --launcher.defaultAction\r\n    openFile\r\n    \r\n    --launcher.appendVmargs\r\n    \r\n    -showsplash\r\n    \r\n    org.eclipse.platform\r\n    \r\n    --launcher.XXMaxPermSize\r\n    \r\n    512m\r\n    \r\n    --launcher.defaultAction\r\n    \r\n    openFile\r\n    \r\n    --launcher.appendVmargs\r\n    \r\n    -vmargs\r\n    \r\n    -Dosgi.requiredJavaVersion=1.6\r\n    \r\n    -Xms512m\r\n    \r\n    -Xmx1024m\r\n\r\n![The changed area in Eclipse.ini file][1]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/NMcuW.png\r\n","title":"How to fix this error &quot;GC overhead limit exceeded in Eclipse&quot;","body":"<p>eclipse.ini file can be edited.\nIncrease the values for memory usage.\nPlease see the sample eclipse.ini file below.</p>\n\n<pre><code>--launcher.XXMaxPermSize\n512M\n\n-showsplash\norg.eclipse.platform\n--launcher.XXMaxPermSize\n512m\n\n--launcher.defaultAction\nopenFile\n\n--launcher.appendVmargs\n\n-showsplash\n\norg.eclipse.platform\n\n--launcher.XXMaxPermSize\n\n512m\n\n--launcher.defaultAction\n\nopenFile\n\n--launcher.appendVmargs\n\n-vmargs\n\n-Dosgi.requiredJavaVersion=1.6\n\n-Xms512m\n\n-Xmx1024m\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/NMcuW.png\" alt=\"The changed area in Eclipse.ini file\"></p>\n"},{"tags":[],"owner":{"account_id":3056766,"reputation":399,"user_id":2590197,"display_name":"HariKishore K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570536555,"creation_date":1570536555,"answer_id":58286073,"question_id":19570209,"body_markdown":"MAC / IOS Users \r\n\r\n&gt; RightClick on Eclipse.app and then click on Show Package Content\r\n&gt; Now Open Content folder to find the eclipse.ini file and edit\r\n\r\n    -Xms512m\r\n    -Xmx2048m","title":"How to fix this error &quot;GC overhead limit exceeded in Eclipse&quot;","body":"<p>MAC / IOS Users </p>\n\n<blockquote>\n  <p>RightClick on Eclipse.app and then click on Show Package Content\n  Now Open Content folder to find the eclipse.ini file and edit</p>\n</blockquote>\n\n<pre><code>-Xms512m\n-Xmx2048m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10835294,"reputation":21,"user_id":7968464,"display_name":"faizan9689"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685593211,"creation_date":1685593211,"answer_id":76378631,"question_id":19570209,"body_markdown":"Use -Xmx:G1GC:1024 algorithm to fix it in config file which loads when app start","title":"How to fix this error &quot;GC overhead limit exceeded in Eclipse&quot;","body":"<p>Use -Xmx:G1GC:1024 algorithm to fix it in config file which loads when app start</p>\n"}],"owner":{"account_id":3423854,"reputation":697,"user_id":2870356,"accept_rate":14,"display_name":"issam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45363,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1685593211,"creation_date":1382628682,"question_id":19570209,"body_markdown":"How to fix this error &quot;GC overhead limit exceeded in Eclipse&quot;. This problem was occurred when I used graphical layout from ADT android.","title":"How to fix this error &quot;GC overhead limit exceeded in Eclipse&quot;","body":"<p>How to fix this error \"GC overhead limit exceeded in Eclipse\". This problem was occurred when I used graphical layout from ADT android.</p>\n"},{"tags":["java","android","admob","android-recyclerview"],"comments":[{"owner":{"account_id":7192131,"reputation":1877,"user_id":5492047,"display_name":"Reyansh Mishra"},"score":0,"creation_date":1493691468,"post_id":43666419,"comment_id":74501758,"body_markdown":"where do you call this method ?recyclerview.scrollToPosition(adapterWrapper.getAdapter().getItemCount()-1); try this mRecyclerView.post(new Runnable() {\n                                @Override\n                                public void run() {\n                                    mRecyclerView.scrollToPosition(mData.size()-1);\n                                }\n                            });","body":"where do you call this method ?recyclerview.scrollToPosition(adapterWrapper.getAdapter().g&zwnj;&#8203;etItemCount()-1); try this mRecyclerView.post(new Runnable() {                                 @Override                                 public void run() {                                     mRecyclerView.scrollToPosition(mData.size()-1);                                 }                             });"},{"owner":{"account_id":10003908,"reputation":863,"user_id":7399013,"accept_rate":54,"display_name":"Doge"},"score":0,"creation_date":1493691593,"post_id":43666419,"comment_id":74501784,"body_markdown":"@ReyanshMishra I tried setStackFromEnd in oncreate. ScrollToPostion after recyclerview.setAdapter","body":"@ReyanshMishra I tried setStackFromEnd in oncreate. ScrollToPostion after recyclerview.setAdapter"},{"owner":{"account_id":7192131,"reputation":1877,"user_id":5492047,"display_name":"Reyansh Mishra"},"score":0,"creation_date":1493691763,"post_id":43666419,"comment_id":74501826,"body_markdown":"once your all data is loaded and your recyclerview and adapter is ready then you should call this method calling before or in between can confuse the recyclerview to calculate the sizes of the item in its adapter. try above code and let me know.","body":"once your all data is loaded and your recyclerview and adapter is ready then you should call this method calling before or in between can confuse the recyclerview to calculate the sizes of the item in its adapter. try above code and let me know."}],"answers":[{"tags":[],"owner":{"account_id":7192131,"reputation":1877,"user_id":5492047,"display_name":"Reyansh Mishra"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1493616139,"creation_date":1493529476,"answer_id":43703164,"question_id":43666419,"body_markdown":"Can you show us your whole code of recyclerview and its adapter.\r\n\r\nmaybe this will work\r\n\r\n&gt; recyclerview.scrollToPosition(mData.size()-1);\r\n\r\nwhere mData is the list which you are passing into the recyclerview&#39;s adapter\r\nthose its pretty hard to figure out what&#39;s wrong with such a little code.","title":"Scroll to bottom in recyclerview with multiple view types","body":"<p>Can you show us your whole code of recyclerview and its adapter.</p>\n\n<p>maybe this will work</p>\n\n<blockquote>\n  <p>recyclerview.scrollToPosition(mData.size()-1);</p>\n</blockquote>\n\n<p>where mData is the list which you are passing into the recyclerview's adapter\nthose its pretty hard to figure out what's wrong with such a little code.</p>\n"},{"tags":[],"owner":{"account_id":10003908,"reputation":863,"user_id":7399013,"accept_rate":54,"display_name":"Doge"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1493772492,"creation_date":1493771860,"answer_id":43749286,"question_id":43666419,"body_markdown":"I don&#39;t know the reason, But I changed my RecyclerView height to `match_parent` and it&#39;s working properly.\r\n\r\nAnd it&#39;s scrolling to complete bottom and I&#39;m still using same function `.setstacktoend(true)`\r\n\r\nThanx to everyone who tried to help me :)","title":"Scroll to bottom in recyclerview with multiple view types","body":"<p>I don't know the reason, But I changed my RecyclerView height to <code>match_parent</code> and it's working properly.</p>\n\n<p>And it's scrolling to complete bottom and I'm still using same function <code>.setstacktoend(true)</code></p>\n\n<p>Thanx to everyone who tried to help me :)</p>\n"},{"tags":[],"owner":{"account_id":16247350,"reputation":149,"user_id":11732119,"display_name":"lazy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685590714,"creation_date":1685590714,"answer_id":76378540,"question_id":43666419,"body_markdown":"It seems that no one here has mentioned the actual reason. I&#39;ve encountered a similar issue. If you are using Glide to load images and your imageView&#39;s width and height are dynamic, what will happen if you call `recyclerview.scrollToPosition` before the `onResourceReady` callback?\r\n\r\nIf you call `recyclerview.scrollToPosition` before the `onResourceReady` callback is triggered, the RecyclerView will scroll to the desired position immediately, without waiting for Glide to finish loading the image and adjusting the imageView&#39;s dimensions. As a result, after Glide finishes loading the image and the imageView&#39;s dimensions change, the content may shift or become misaligned, causing an offset.\r\n\r\nTo avoid this issue, it is recommended to wait until all the images are loaded before calling `scrollToPosition`. You can achieve this by using Glide&#39;s listener methods or other mechanisms to determine when all the images have been loaded, and then trigger the scrollToPosition method. This ensures that the RecyclerView scrolls to the correct position after all the images have finished loading and their dimensions have been adjusted.","title":"Scroll to bottom in recyclerview with multiple view types","body":"<p>It seems that no one here has mentioned the actual reason. I've encountered a similar issue. If you are using Glide to load images and your imageView's width and height are dynamic, what will happen if you call <code>recyclerview.scrollToPosition</code> before the <code>onResourceReady</code> callback?</p>\n<p>If you call <code>recyclerview.scrollToPosition</code> before the <code>onResourceReady</code> callback is triggered, the RecyclerView will scroll to the desired position immediately, without waiting for Glide to finish loading the image and adjusting the imageView's dimensions. As a result, after Glide finishes loading the image and the imageView's dimensions change, the content may shift or become misaligned, causing an offset.</p>\n<p>To avoid this issue, it is recommended to wait until all the images are loaded before calling <code>scrollToPosition</code>. You can achieve this by using Glide's listener methods or other mechanisms to determine when all the images have been loaded, and then trigger the scrollToPosition method. This ensures that the RecyclerView scrolls to the correct position after all the images have finished loading and their dimensions have been adjusted.</p>\n"}],"owner":{"account_id":10003908,"reputation":863,"user_id":7399013,"accept_rate":54,"display_name":"Doge"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":43749286,"answer_count":3,"score":15,"last_activity_date":1685590714,"creation_date":1493321323,"question_id":43666419,"body_markdown":"I have a recyclerview with multiple items. and recyclerview has different viewtypes with different heights..\r\n\r\n\r\nSo these are what i tried\r\n\r\n        \r\n\r\n    recyclerview.scrollToPosition(adapterWrapper.getAdapter().getItemCount()-1);\r\n\r\nand\r\n\r\n    app:layoutManager=&quot;LinearLayoutManager&quot;\r\n    app:stackFromEnd=&quot;true&quot;\r\n\r\nThey work well for me when i apply them on single view types only.. But in multiview types. It&#39;s not scrolling to bottom. It&#39;s being stuck at 9 items before the bottom.\r\n\r\nI was using `stackFromBottom` in listview before and it was working fine.. \r\n\r\nSo what&#39;s the solution for it in recyclerview?\r\n\r\nIt&#39;s actually a chat app with different types of layout including images,gif etc..\r\n\r\n\r\nRecyclerAdapter code,\r\n\r\n\r\n\r\n    package com.buckydroid.anonchat.Adapters;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.net.Uri;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.util.Log;\r\n    import android.view.LayoutInflater;\r\n    import android.view.MenuItem;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.webkit.URLUtil;\r\n    import android.widget.ImageView;\r\n    import android.widget.PopupMenu;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.buckydroid.anonchat.Async.DownloadManager;\r\n    import com.buckydroid.anonchat.Chatroom.ChatRoom;\r\n    import com.buckydroid.anonchat.Pages.FullScreenImageView;\r\n    import com.buckydroid.anonchat.Pages.Profile;\r\n    import com.buckydroid.anonchat.Pages.VideoPlayer;\r\n    import com.buckydroid.anonchat.R;\r\n    import com.bumptech.glide.Glide;\r\n    import com.bumptech.glide.load.engine.DiskCacheStrategy;\r\n    import com.bumptech.glide.load.resource.drawable.GlideDrawable;\r\n    import com.bumptech.glide.load.resource.gif.GifDrawable;\r\n    import com.bumptech.glide.request.RequestListener;\r\n    import com.bumptech.glide.request.target.GlideDrawableImageViewTarget;\r\n    import com.bumptech.glide.request.target.Target;\r\n    import com.firebase.client.DataSnapshot;\r\n    import com.firebase.client.Firebase;\r\n    import com.firebase.client.FirebaseError;\r\n    import com.firebase.client.ValueEventListener;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.vanniktech.emoji.EmojiTextView;\r\n    \r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import de.hdodenhof.circleimageview.CircleImageView;\r\n    \r\n    /**\r\n     * Created by buckydroid on 27/04/17.\r\n     */\r\n    \r\n    public class ChatRecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;{\r\n        List&lt;String&gt; message = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; image = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; usernames = new ArrayList&lt;&gt;();\r\n        List&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n        ChatRoom chatroom = new ChatRoom();\r\n        String name;\r\n        Context c;\r\n        String username;\r\n        String otherusername;\r\n        String groupName;\r\n        public GifDrawable gifDrawable;\r\n        List&lt;Integer&gt; type = new ArrayList&lt;&gt;();\r\n        String id;\r\n        ArrayList&lt;String&gt; zcode = new ArrayList&lt;&gt;();\r\n    \r\n        public ChatRecyclerAdapter(String id, String s, List&lt;String&gt; message, List&lt;Integer&gt; image, Context c, String username, String otherusername, List&lt;Integer&gt; type, List&lt;String&gt; usernames, String j, ArrayList&lt;String&gt; zcode) {\r\n            this.message = message;\r\n            this.image = image;\r\n            this.c = c;\r\n            this.username = username;\r\n            this.otherusername = otherusername;\r\n            this.type = type;\r\n            this.usernames = usernames;\r\n            this.groupName = j;\r\n            this.name = s;\r\n            this.id = id;\r\n            this.zcode = zcode;\r\n    \r\n        }\r\n    \r\n    \r\n        class ViewHolder extends  RecyclerView.ViewHolder{\r\n            ImageView imageView;\r\n            EmojiTextView messageView;\r\n            CircleImageView profileImage;\r\n            ImageView gif;\r\n            TextView groupactionmessage;\r\n            ImageView thumbnail;\r\n            TextView filename;\r\n            TextView filesize;\r\n            TextView morevert;\r\n            public ViewHolder(View itemView) {\r\n                super(itemView);\r\n                messageView = (EmojiTextView) itemView.findViewById(R.id.message_view);\r\n                imageView = (ImageView) itemView.findViewById(R.id.imageMessage);\r\n                profileImage = (CircleImageView) itemView.findViewById(R.id.profile_image);\r\n                thumbnail = (ImageView) itemView.findViewById(R.id.thumbnail);\r\n                filename = (TextView) itemView.findViewById(R.id.filename);\r\n                gif = (ImageView) itemView.findViewById(R.id.gifmessage);\r\n                groupactionmessage = (TextView) itemView.findViewById(R.id.group_action_message);\r\n    \r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            if (username.equals(usernames.get(position))) {\r\n                Log.i(&quot;type&quot;, String.valueOf(type.get(position)));\r\n                return type.get(position);\r\n            }\r\n            else\r\n                return type.get(position)+7;\r\n        }\r\n    \r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View v = null;\r\n            switch (viewType){\r\n    \r\n                case 0:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_message_bubble, parent, false);\r\n                    System.out.println(&quot;Type 0&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n    \r\n                case 7:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.message_item, parent, false);;\r\n                    System.out.println(&quot;Type 7&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n    \r\n                case 1:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_image_layout, parent, false);\r\n                    System.out.println(&quot;Type 1&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n    \r\n                case 8:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.chatroom_image, parent, false);\r\n                    System.out.println(&quot;Type 8&quot;);\r\n                    return new ViewHolder(v);\r\n                case 2:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_gif, parent, false);\r\n                    System.out.println(&quot;Type 2&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n    \r\n                case 9:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.chatroom_gif, parent, false);\r\n                    System.out.println(&quot;Type 9&quot;);\r\n    \r\n                case 3:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.group_actions_list, parent, false);\r\n                    System.out.println(&quot;Type 3&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n    \r\n                case 10:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.group_actions_list, parent, false);\r\n                    System.out.println(&quot;Type 10&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n    \r\n                case 4:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.video_thumbnail_message, parent, false);\r\n                    System.out.println(&quot;Type 4&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n                case 11:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.video_thumbnail_message2, parent, false);\r\n                    System.out.println(&quot;Type 11&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n                case 5:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.file_layout, parent, false);\r\n                    System.out.println(&quot;Type 5&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n                case 12:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_file_layout, parent, false);\r\n                    System.out.println(&quot;Type 12&quot;);\r\n                    return new ViewHolder(v);\r\n    \r\n                default:\r\n                    v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.message_item, parent, false);\r\n                    return new ViewHolder(v);\r\n    \r\n            }\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\r\n            switch (holder.getItemViewType()){\r\n                case 0:\r\n                case 7:\r\n    \r\n                    Log.i(&quot;Type on message&quot;, String.valueOf(type.get(position)) + &quot;  &quot; +message.get(position) + &quot;   &quot;+holder.getItemViewType());\r\n    \r\n                    ViewHolder messageHolder = (ViewHolder)holder;\r\n                    if (!username.equals(usernames.get(position)))\r\n                        messageHolder.profileImage.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                Intent i = new Intent(c, Profile.class);\r\n                                i.putExtra(&quot;username&quot;,usernames.get(position));\r\n                                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                c.startActivity(i);\r\n                            }\r\n                        });\r\n                    Firebase userdata = new Firebase(&quot;https://droidchatz.firebaseio.com/userdata/&quot;+usernames.get(position));\r\n                    userdata.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            if (!usernames.get(position).equals(username))\r\n                                Glide.with (c.getApplicationContext())\r\n                                        .load (dataSnapshot.child(&quot;pic&quot;).getValue(String.class))\r\n                                        .diskCacheStrategy(DiskCacheStrategy.ALL)\r\n    \r\n                                        .error (R.drawable.dog)\r\n                                        .into (messageHolder.profileImage);\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(FirebaseError firebaseError) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n                   messageHolder.messageView.setText(message.get(position));\r\n    \r\n    \r\n    \r\n    \r\n                    messageHolder.messageView.setOnLongClickListener(new View.OnLongClickListener() {\r\n                        @Override\r\n                        public boolean onLongClick(View v) {\r\n                            PopupMenu popupMenu = new PopupMenu(c, messageHolder.messageView);\r\n                            popupMenu.getMenuInflater().inflate(R.menu.messsage_popup_menu, popupMenu.getMenu());\r\n                            popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\r\n                                @Override\r\n                                public boolean onMenuItemClick(MenuItem item) {\r\n                                    switch (item.getItemId()) {\r\n                                        case R.id.action_reply:\r\n                                            String te = usernames.get(position) + &quot; : &quot; + messageHolder.messageView.getText() + &quot;\\n\\n\\n&quot;;\r\n                                            ChatRoom.input.setText(te);\r\n                                            ChatRoom.input.setSelection(te.length());\r\n                                            break;\r\n                                        case R.id.action_copy:\r\n                                            android.content.ClipboardManager clipboard = (android.content.ClipboardManager) c.getSystemService(Context.CLIPBOARD_SERVICE);\r\n                                            android.content.ClipData clip = android.content.ClipData.newPlainText(messageHolder.messageView.getText(), messageHolder.messageView.getText());\r\n                                            clipboard.setPrimaryClip(clip);\r\n                                            Toast.makeText(c, &quot;Text Copied...&quot;, Toast.LENGTH_SHORT).show();\r\n                                            break;\r\n                                        case R.id.action_report:\r\n                                            new Firebase(&quot;https://droidchatz.firebaseio.com/groupchat/&quot; + name).child(&quot;report&quot;).child(usernames.get(position)).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).setValue(true);\r\n    \r\n                                            break;\r\n    \r\n                                    }\r\n                                    return false;\r\n                                }\r\n                            });\r\n                            popupMenu.show();\r\n                            return false;\r\n                        }\r\n                    });\r\n    \r\n                    break;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n                case 1:\r\n                case 8:\r\n                    ViewHolder imageHolder = (ViewHolder)holder;\r\n    \r\n                    Log.i(&quot;Type on image&quot;, String.valueOf(type.get(position)) + &quot;  &quot; +message.get(position)+&quot;   &quot;+holder.getItemViewType());\r\n    \r\n                    imageHolder.imageView.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            Intent i = new Intent(c, FullScreenImageView.class);\r\n                            i.putExtra(&quot;uri&quot;, message.get(position));\r\n                            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                            c.startActivity(i);\r\n                        }\r\n                    });\r\n    \r\n    \r\n    \r\n                    imageHolder.imageView.setAdjustViewBounds(true);\r\n                    GlideDrawableImageViewTarget imageViewPreview = new GlideDrawableImageViewTarget(imageHolder.imageView);\r\n                    Glide\r\n                            .with(c)\r\n                            .load(message.get(position))\r\n                            .centerCrop()\r\n                            .listener(new RequestListener&lt;String, GlideDrawable&gt;() {\r\n                                @Override\r\n                                public boolean onException(Exception e, String model, Target&lt;GlideDrawable&gt; target, boolean isFirstResource) {\r\n                                    return false;\r\n                                }\r\n    \r\n                                @Override\r\n                                public boolean onResourceReady(GlideDrawable resource, String model, Target&lt;GlideDrawable&gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\r\n                                    return false;\r\n                                }\r\n                            })\r\n                            .into(imageViewPreview);\r\n    \r\n                    Firebase userdata2 = new Firebase(&quot;https://droidchatz.firebaseio.com/userdata/&quot;+usernames.get(position));\r\n                    userdata2.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            if (!usernames.get(position).equals(username)) {\r\n                                Glide.with (c)\r\n                                        .load (dataSnapshot.child(&quot;pic&quot;).getValue(String.class))\r\n                                        .error (R.drawable.dog)\r\n                                        .into (imageHolder.profileImage);\r\n    \r\n    \r\n                            }                }\r\n    \r\n                        @Override\r\n                        public void onCancelled(FirebaseError firebaseError) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n    \r\n    \r\n    \r\n                    break;\r\n                case 2:\r\n                case 9:\r\n    \r\n                    Log.i(&quot;Type on gif&quot;, String.valueOf(type.get(position)) + &quot;  &quot; +message.get(position)+&quot;   &quot;+holder.getItemViewType());\r\n    \r\n                    ViewHolder gifHolder = (ViewHolder)holder;\r\n                    gifHolder.gif.setAdjustViewBounds(true);\r\n                    GlideDrawableImageViewTarget imageViewPreview2 = new GlideDrawableImageViewTarget(gifHolder.gif);\r\n                    Glide\r\n                            .with(c)\r\n                            .load(message.get(position))\r\n                            .listener(new RequestListener&lt;String, GlideDrawable&gt;() {\r\n                                @Override\r\n                                public boolean onException(Exception e, String model, Target&lt;GlideDrawable&gt; target, boolean isFirstResource) {\r\n                                    return false;\r\n                                }\r\n    \r\n                                @Override\r\n                                public boolean onResourceReady(GlideDrawable resource, String model, Target&lt;GlideDrawable&gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\r\n                                    return false;\r\n                                }\r\n                            })\r\n                            .into(imageViewPreview2);\r\n                    if (!username.equals(usernames.get(position)))\r\n                        gifHolder.profileImage.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                Intent i = new Intent(c, Profile.class);\r\n                                i.putExtra(&quot;username&quot;,usernames.get(position));\r\n                                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                c.startActivity(i);\r\n                            }\r\n                        });\r\n    \r\n    \r\n                    Firebase userdata3 = new Firebase(&quot;https://droidchatz.firebaseio.com/userdata/&quot;+usernames.get(position));\r\n                    userdata3.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            if (!usernames.get(position).equals(username))\r\n                                Glide.with (c)\r\n                                        .load (dataSnapshot.child(&quot;pic&quot;).getValue(String.class))\r\n                                        .error (R.drawable.dog)\r\n                                        .into (gifHolder.profileImage);\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(FirebaseError firebaseError) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n    \r\n                    break;\r\n                case 3:\r\n                case 10:\r\n                    Log.i(&quot;Type on action&quot;, String.valueOf(type.get(position)) + &quot;  &quot; +message.get(position)+&quot;   &quot;+holder.getItemViewType());\r\n    \r\n                    ViewHolder actionHolder = (ViewHolder)holder;\r\n                    actionHolder.groupactionmessage.setText(message.get(position));\r\n    \r\n    \r\n                    break;\r\n    \r\n                case 4:\r\n                case 11:\r\n    \r\n                    ViewHolder videoHolder = (ViewHolder)holder;\r\n                    Log.i(&quot;Type on video&quot;, String.valueOf(type.get(position)) + &quot;  &quot; +message.get(position)+&quot;   &quot;+holder.getItemViewType());\r\n                    FirebaseDatabase.getInstance().getReference().child(&quot;thumbnails&quot;).child(name).child(zcode.get(position)).addValueEventListener(new com.google.firebase.database.ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(com.google.firebase.database.DataSnapshot dataSnapshot) {\r\n                            Glide.with(c).load(dataSnapshot.getValue(String.class)).centerCrop().into(videoHolder.thumbnail);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(DatabaseError databaseError) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n    \r\n                    if (!username.equals(usernames.get(position)))\r\n                        videoHolder.profileImage.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                Intent i = new Intent(c, Profile.class);\r\n                                i.putExtra(&quot;username&quot;,usernames.get(position));\r\n                                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                c.startActivity(i);\r\n                            }\r\n                        });\r\n                    videoHolder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            Intent i = new Intent(c, VideoPlayer.class);\r\n                            i.putExtra(&quot;link&quot;, message.get(position));\r\n                            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    \r\n                            c.startActivity(i);\r\n    \r\n                        }\r\n                    });\r\n                    Firebase userdata4 = new Firebase(&quot;https://droidchatz.firebaseio.com/userdata/&quot;+usernames.get(position));\r\n    \r\n                    userdata4.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            if (!usernames.get(position).equals(username))\r\n                                Glide.with (c)\r\n                                        .load (dataSnapshot.child(&quot;pic&quot;).getValue(String.class))\r\n                                        .error (R.drawable.dog)\r\n                                        .into (videoHolder.profileImage);\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(FirebaseError firebaseError) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n    \r\n    \r\n                    break;\r\n                case 5:\r\n                case 12:\r\n    \r\n    \r\n    \r\n                    ViewHolder fileHolder = (ViewHolder)holder;\r\n                    Firebase userdata5 = new Firebase(&quot;https://droidchatz.firebaseio.com/userdata/&quot;+usernames.get(position));\r\n                    if (!username.equals(usernames.get(position)))\r\n                        fileHolder.profileImage.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                Intent i = new Intent(c, Profile.class);\r\n                                i.putExtra(&quot;username&quot;,usernames.get(position));\r\n                                i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                c.startActivity(i);\r\n                            }\r\n                        });\r\n                    userdata5.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(DataSnapshot dataSnapshot) {\r\n                            if (!usernames.get(position).equals(username))\r\n    \r\n                                Glide.with (c)\r\n                                        .load (dataSnapshot.child(&quot;pic&quot;).getValue(String.class))\r\n                                        .error (R.drawable.dog)\r\n                                        .into (fileHolder.profileImage);\r\n    \r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(FirebaseError firebaseError) {\r\n    \r\n                        }\r\n                    });\r\n                    fileHolder.filename.setText(URLUtil.guessFileName(message.get(position), null, null));\r\n                    final URL[] uri = new URL[1];\r\n                    final URLConnection[] ucon = new URLConnection[1];\r\n                    final String[] contentLengthStr = new String[1];\r\n                    Thread size = new Thread();\r\n                    Runnable getfilesize;\r\n                    fileHolder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View v) {\r\n                            Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(message.get(position)));\r\n                            c.startActivity(browserIntent);\r\n                        }\r\n                    });\r\n                    break;\r\n    \r\n    \r\n            }\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return message.size();\r\n        }\r\n    \r\n    \r\n        }\r\n\r\nThanx!!!\r\n\r\n  [1]: https://github.com/clockbyte/admobadapter\r\n\r\n\r\n","title":"Scroll to bottom in recyclerview with multiple view types","body":"<p>I have a recyclerview with multiple items. and recyclerview has different viewtypes with different heights..</p>\n\n<p>So these are what i tried</p>\n\n<pre><code>recyclerview.scrollToPosition(adapterWrapper.getAdapter().getItemCount()-1);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>app:layoutManager=\"LinearLayoutManager\"\napp:stackFromEnd=\"true\"\n</code></pre>\n\n<p>They work well for me when i apply them on single view types only.. But in multiview types. It's not scrolling to bottom. It's being stuck at 9 items before the bottom.</p>\n\n<p>I was using <code>stackFromBottom</code> in listview before and it was working fine.. </p>\n\n<p>So what's the solution for it in recyclerview?</p>\n\n<p>It's actually a chat app with different types of layout including images,gif etc..</p>\n\n<p>RecyclerAdapter code,</p>\n\n<pre><code>package com.buckydroid.anonchat.Adapters;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.support.v7.widget.RecyclerView;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.webkit.URLUtil;\nimport android.widget.ImageView;\nimport android.widget.PopupMenu;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.buckydroid.anonchat.Async.DownloadManager;\nimport com.buckydroid.anonchat.Chatroom.ChatRoom;\nimport com.buckydroid.anonchat.Pages.FullScreenImageView;\nimport com.buckydroid.anonchat.Pages.Profile;\nimport com.buckydroid.anonchat.Pages.VideoPlayer;\nimport com.buckydroid.anonchat.R;\nimport com.bumptech.glide.Glide;\nimport com.bumptech.glide.load.engine.DiskCacheStrategy;\nimport com.bumptech.glide.load.resource.drawable.GlideDrawable;\nimport com.bumptech.glide.load.resource.gif.GifDrawable;\nimport com.bumptech.glide.request.RequestListener;\nimport com.bumptech.glide.request.target.GlideDrawableImageViewTarget;\nimport com.bumptech.glide.request.target.Target;\nimport com.firebase.client.DataSnapshot;\nimport com.firebase.client.Firebase;\nimport com.firebase.client.FirebaseError;\nimport com.firebase.client.ValueEventListener;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.vanniktech.emoji.EmojiTextView;\n\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\n/**\n * Created by buckydroid on 27/04/17.\n */\n\npublic class ChatRecyclerAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;{\n    List&lt;String&gt; message = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; image = new ArrayList&lt;&gt;();\n    List&lt;String&gt; usernames = new ArrayList&lt;&gt;();\n    List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n    ChatRoom chatroom = new ChatRoom();\n    String name;\n    Context c;\n    String username;\n    String otherusername;\n    String groupName;\n    public GifDrawable gifDrawable;\n    List&lt;Integer&gt; type = new ArrayList&lt;&gt;();\n    String id;\n    ArrayList&lt;String&gt; zcode = new ArrayList&lt;&gt;();\n\n    public ChatRecyclerAdapter(String id, String s, List&lt;String&gt; message, List&lt;Integer&gt; image, Context c, String username, String otherusername, List&lt;Integer&gt; type, List&lt;String&gt; usernames, String j, ArrayList&lt;String&gt; zcode) {\n        this.message = message;\n        this.image = image;\n        this.c = c;\n        this.username = username;\n        this.otherusername = otherusername;\n        this.type = type;\n        this.usernames = usernames;\n        this.groupName = j;\n        this.name = s;\n        this.id = id;\n        this.zcode = zcode;\n\n    }\n\n\n    class ViewHolder extends  RecyclerView.ViewHolder{\n        ImageView imageView;\n        EmojiTextView messageView;\n        CircleImageView profileImage;\n        ImageView gif;\n        TextView groupactionmessage;\n        ImageView thumbnail;\n        TextView filename;\n        TextView filesize;\n        TextView morevert;\n        public ViewHolder(View itemView) {\n            super(itemView);\n            messageView = (EmojiTextView) itemView.findViewById(R.id.message_view);\n            imageView = (ImageView) itemView.findViewById(R.id.imageMessage);\n            profileImage = (CircleImageView) itemView.findViewById(R.id.profile_image);\n            thumbnail = (ImageView) itemView.findViewById(R.id.thumbnail);\n            filename = (TextView) itemView.findViewById(R.id.filename);\n            gif = (ImageView) itemView.findViewById(R.id.gifmessage);\n            groupactionmessage = (TextView) itemView.findViewById(R.id.group_action_message);\n\n\n        }\n    }\n\n\n\n    @Override\n    public int getItemViewType(int position) {\n        if (username.equals(usernames.get(position))) {\n            Log.i(\"type\", String.valueOf(type.get(position)));\n            return type.get(position);\n        }\n        else\n            return type.get(position)+7;\n    }\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View v = null;\n        switch (viewType){\n\n            case 0:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_message_bubble, parent, false);\n                System.out.println(\"Type 0\");\n                return new ViewHolder(v);\n\n\n            case 7:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.message_item, parent, false);;\n                System.out.println(\"Type 7\");\n                return new ViewHolder(v);\n\n\n            case 1:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_image_layout, parent, false);\n                System.out.println(\"Type 1\");\n                return new ViewHolder(v);\n\n\n            case 8:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.chatroom_image, parent, false);\n                System.out.println(\"Type 8\");\n                return new ViewHolder(v);\n            case 2:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_gif, parent, false);\n                System.out.println(\"Type 2\");\n                return new ViewHolder(v);\n\n\n            case 9:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.chatroom_gif, parent, false);\n                System.out.println(\"Type 9\");\n\n            case 3:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.group_actions_list, parent, false);\n                System.out.println(\"Type 3\");\n                return new ViewHolder(v);\n\n\n            case 10:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.group_actions_list, parent, false);\n                System.out.println(\"Type 10\");\n                return new ViewHolder(v);\n\n\n            case 4:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.video_thumbnail_message, parent, false);\n                System.out.println(\"Type 4\");\n                return new ViewHolder(v);\n\n            case 11:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.video_thumbnail_message2, parent, false);\n                System.out.println(\"Type 11\");\n                return new ViewHolder(v);\n\n            case 5:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.file_layout, parent, false);\n                System.out.println(\"Type 5\");\n                return new ViewHolder(v);\n\n            case 12:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.sender_file_layout, parent, false);\n                System.out.println(\"Type 12\");\n                return new ViewHolder(v);\n\n            default:\n                v = LayoutInflater.from (parent.getContext ()).inflate (R.layout.message_item, parent, false);\n                return new ViewHolder(v);\n\n        }\n\n\n\n\n    }\n\n    @Override\n    public void onBindViewHolder(RecyclerView.ViewHolder holder, int position) {\n        switch (holder.getItemViewType()){\n            case 0:\n            case 7:\n\n                Log.i(\"Type on message\", String.valueOf(type.get(position)) + \"  \" +message.get(position) + \"   \"+holder.getItemViewType());\n\n                ViewHolder messageHolder = (ViewHolder)holder;\n                if (!username.equals(usernames.get(position)))\n                    messageHolder.profileImage.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            Intent i = new Intent(c, Profile.class);\n                            i.putExtra(\"username\",usernames.get(position));\n                            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                            c.startActivity(i);\n                        }\n                    });\n                Firebase userdata = new Firebase(\"https://droidchatz.firebaseio.com/userdata/\"+usernames.get(position));\n                userdata.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        if (!usernames.get(position).equals(username))\n                            Glide.with (c.getApplicationContext())\n                                    .load (dataSnapshot.child(\"pic\").getValue(String.class))\n                                    .diskCacheStrategy(DiskCacheStrategy.ALL)\n\n                                    .error (R.drawable.dog)\n                                    .into (messageHolder.profileImage);\n\n                    }\n\n                    @Override\n                    public void onCancelled(FirebaseError firebaseError) {\n\n                    }\n                });\n\n               messageHolder.messageView.setText(message.get(position));\n\n\n\n\n                messageHolder.messageView.setOnLongClickListener(new View.OnLongClickListener() {\n                    @Override\n                    public boolean onLongClick(View v) {\n                        PopupMenu popupMenu = new PopupMenu(c, messageHolder.messageView);\n                        popupMenu.getMenuInflater().inflate(R.menu.messsage_popup_menu, popupMenu.getMenu());\n                        popupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\n                            @Override\n                            public boolean onMenuItemClick(MenuItem item) {\n                                switch (item.getItemId()) {\n                                    case R.id.action_reply:\n                                        String te = usernames.get(position) + \" : \" + messageHolder.messageView.getText() + \"\\n\\n\\n\";\n                                        ChatRoom.input.setText(te);\n                                        ChatRoom.input.setSelection(te.length());\n                                        break;\n                                    case R.id.action_copy:\n                                        android.content.ClipboardManager clipboard = (android.content.ClipboardManager) c.getSystemService(Context.CLIPBOARD_SERVICE);\n                                        android.content.ClipData clip = android.content.ClipData.newPlainText(messageHolder.messageView.getText(), messageHolder.messageView.getText());\n                                        clipboard.setPrimaryClip(clip);\n                                        Toast.makeText(c, \"Text Copied...\", Toast.LENGTH_SHORT).show();\n                                        break;\n                                    case R.id.action_report:\n                                        new Firebase(\"https://droidchatz.firebaseio.com/groupchat/\" + name).child(\"report\").child(usernames.get(position)).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).setValue(true);\n\n                                        break;\n\n                                }\n                                return false;\n                            }\n                        });\n                        popupMenu.show();\n                        return false;\n                    }\n                });\n\n                break;\n\n\n\n\n\n            case 1:\n            case 8:\n                ViewHolder imageHolder = (ViewHolder)holder;\n\n                Log.i(\"Type on image\", String.valueOf(type.get(position)) + \"  \" +message.get(position)+\"   \"+holder.getItemViewType());\n\n                imageHolder.imageView.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        Intent i = new Intent(c, FullScreenImageView.class);\n                        i.putExtra(\"uri\", message.get(position));\n                        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                        c.startActivity(i);\n                    }\n                });\n\n\n\n                imageHolder.imageView.setAdjustViewBounds(true);\n                GlideDrawableImageViewTarget imageViewPreview = new GlideDrawableImageViewTarget(imageHolder.imageView);\n                Glide\n                        .with(c)\n                        .load(message.get(position))\n                        .centerCrop()\n                        .listener(new RequestListener&lt;String, GlideDrawable&gt;() {\n                            @Override\n                            public boolean onException(Exception e, String model, Target&lt;GlideDrawable&gt; target, boolean isFirstResource) {\n                                return false;\n                            }\n\n                            @Override\n                            public boolean onResourceReady(GlideDrawable resource, String model, Target&lt;GlideDrawable&gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\n                                return false;\n                            }\n                        })\n                        .into(imageViewPreview);\n\n                Firebase userdata2 = new Firebase(\"https://droidchatz.firebaseio.com/userdata/\"+usernames.get(position));\n                userdata2.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        if (!usernames.get(position).equals(username)) {\n                            Glide.with (c)\n                                    .load (dataSnapshot.child(\"pic\").getValue(String.class))\n                                    .error (R.drawable.dog)\n                                    .into (imageHolder.profileImage);\n\n\n                        }                }\n\n                    @Override\n                    public void onCancelled(FirebaseError firebaseError) {\n\n                    }\n                });\n\n\n\n\n                break;\n            case 2:\n            case 9:\n\n                Log.i(\"Type on gif\", String.valueOf(type.get(position)) + \"  \" +message.get(position)+\"   \"+holder.getItemViewType());\n\n                ViewHolder gifHolder = (ViewHolder)holder;\n                gifHolder.gif.setAdjustViewBounds(true);\n                GlideDrawableImageViewTarget imageViewPreview2 = new GlideDrawableImageViewTarget(gifHolder.gif);\n                Glide\n                        .with(c)\n                        .load(message.get(position))\n                        .listener(new RequestListener&lt;String, GlideDrawable&gt;() {\n                            @Override\n                            public boolean onException(Exception e, String model, Target&lt;GlideDrawable&gt; target, boolean isFirstResource) {\n                                return false;\n                            }\n\n                            @Override\n                            public boolean onResourceReady(GlideDrawable resource, String model, Target&lt;GlideDrawable&gt; target, boolean isFromMemoryCache, boolean isFirstResource) {\n                                return false;\n                            }\n                        })\n                        .into(imageViewPreview2);\n                if (!username.equals(usernames.get(position)))\n                    gifHolder.profileImage.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            Intent i = new Intent(c, Profile.class);\n                            i.putExtra(\"username\",usernames.get(position));\n                            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                            c.startActivity(i);\n                        }\n                    });\n\n\n                Firebase userdata3 = new Firebase(\"https://droidchatz.firebaseio.com/userdata/\"+usernames.get(position));\n                userdata3.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        if (!usernames.get(position).equals(username))\n                            Glide.with (c)\n                                    .load (dataSnapshot.child(\"pic\").getValue(String.class))\n                                    .error (R.drawable.dog)\n                                    .into (gifHolder.profileImage);\n\n                    }\n\n                    @Override\n                    public void onCancelled(FirebaseError firebaseError) {\n\n                    }\n                });\n\n\n                break;\n            case 3:\n            case 10:\n                Log.i(\"Type on action\", String.valueOf(type.get(position)) + \"  \" +message.get(position)+\"   \"+holder.getItemViewType());\n\n                ViewHolder actionHolder = (ViewHolder)holder;\n                actionHolder.groupactionmessage.setText(message.get(position));\n\n\n                break;\n\n            case 4:\n            case 11:\n\n                ViewHolder videoHolder = (ViewHolder)holder;\n                Log.i(\"Type on video\", String.valueOf(type.get(position)) + \"  \" +message.get(position)+\"   \"+holder.getItemViewType());\n                FirebaseDatabase.getInstance().getReference().child(\"thumbnails\").child(name).child(zcode.get(position)).addValueEventListener(new com.google.firebase.database.ValueEventListener() {\n                    @Override\n                    public void onDataChange(com.google.firebase.database.DataSnapshot dataSnapshot) {\n                        Glide.with(c).load(dataSnapshot.getValue(String.class)).centerCrop().into(videoHolder.thumbnail);\n                    }\n\n                    @Override\n                    public void onCancelled(DatabaseError databaseError) {\n\n                    }\n                });\n\n\n                if (!username.equals(usernames.get(position)))\n                    videoHolder.profileImage.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            Intent i = new Intent(c, Profile.class);\n                            i.putExtra(\"username\",usernames.get(position));\n                            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                            c.startActivity(i);\n                        }\n                    });\n                videoHolder.itemView.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        Intent i = new Intent(c, VideoPlayer.class);\n                        i.putExtra(\"link\", message.get(position));\n                        i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n\n                        c.startActivity(i);\n\n                    }\n                });\n                Firebase userdata4 = new Firebase(\"https://droidchatz.firebaseio.com/userdata/\"+usernames.get(position));\n\n                userdata4.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        if (!usernames.get(position).equals(username))\n                            Glide.with (c)\n                                    .load (dataSnapshot.child(\"pic\").getValue(String.class))\n                                    .error (R.drawable.dog)\n                                    .into (videoHolder.profileImage);\n\n                    }\n\n                    @Override\n                    public void onCancelled(FirebaseError firebaseError) {\n\n                    }\n                });\n\n\n\n                break;\n            case 5:\n            case 12:\n\n\n\n                ViewHolder fileHolder = (ViewHolder)holder;\n                Firebase userdata5 = new Firebase(\"https://droidchatz.firebaseio.com/userdata/\"+usernames.get(position));\n                if (!username.equals(usernames.get(position)))\n                    fileHolder.profileImage.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View v) {\n                            Intent i = new Intent(c, Profile.class);\n                            i.putExtra(\"username\",usernames.get(position));\n                            i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                            c.startActivity(i);\n                        }\n                    });\n                userdata5.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n                        if (!usernames.get(position).equals(username))\n\n                            Glide.with (c)\n                                    .load (dataSnapshot.child(\"pic\").getValue(String.class))\n                                    .error (R.drawable.dog)\n                                    .into (fileHolder.profileImage);\n\n                    }\n\n                    @Override\n                    public void onCancelled(FirebaseError firebaseError) {\n\n                    }\n                });\n                fileHolder.filename.setText(URLUtil.guessFileName(message.get(position), null, null));\n                final URL[] uri = new URL[1];\n                final URLConnection[] ucon = new URLConnection[1];\n                final String[] contentLengthStr = new String[1];\n                Thread size = new Thread();\n                Runnable getfilesize;\n                fileHolder.itemView.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(message.get(position)));\n                        c.startActivity(browserIntent);\n                    }\n                });\n                break;\n\n\n        }\n\n\n\n\n    }\n\n\n\n    @Override\n    public int getItemCount() {\n        return message.size();\n    }\n\n\n    }\n</code></pre>\n\n<p>Thanx!!!</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1685548450,"post_id":76375315,"comment_id":134676644,"body_markdown":"Is this **really** the code you have for your enums or did you just guess and wrote something from your memory? Because this is not any java syntax I am familiar with.","body":"Is this <b>really</b> the code you have for your enums or did you just guess and wrote something from your memory? Because this is not any java syntax I am familiar with."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1685548543,"post_id":76375315,"comment_id":134676661,"body_markdown":"How are you using these &quot;enums&quot; in your code? Could you provide a minimal example?","body":"How are you using these &quot;enums&quot; in your code? Could you provide a minimal example?"},{"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"score":0,"creation_date":1685548830,"post_id":76375315,"comment_id":134676729,"body_markdown":"@aled No it does not . I want to retrieve the entire enum class not just the enum within it","body":"@aled No it does not . I want to retrieve the entire enum class not just the enum within it"},{"owner":{"account_id":1435086,"reputation":4492,"user_id":2323964,"accept_rate":87,"display_name":"Novaterata"},"score":0,"creation_date":1685549476,"post_id":76375315,"comment_id":134676864,"body_markdown":"Here is my method from the duplicate https://stackoverflow.com/a/43664038/2323964 If you want to use something other than the literal enum name, just implement a common interface like @Mr.Polywhirl suggest and use whatever property from that","body":"Here is my method from the duplicate <a href=\"https://stackoverflow.com/a/43664038/2323964\">stackoverflow.com/a/43664038/2323964</a> If you want to use something other than the literal enum name, just implement a common interface like @Mr.Polywhirl suggest and use whatever property from that"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1685549821,"post_id":76375315,"comment_id":134676934,"body_markdown":"_&quot;For example map.get(&quot;Animal&quot;) should return me the enum Animal&quot;_ - that&#39;s impossible: methods cannot return classes, they can only return _instances_ of classes, i.e. objects. The enum entries DOG, LION etc. are in fact objects - they&#39;re instances of the enum class Animal. So a method such as `map.get` can only return DOG etc but not Animal. When you had it return a `Class&lt;? extends Enum&gt;` that was actually returning an instance of the `Class` class.","body":"<i>&quot;For example map.get(&quot;Animal&quot;) should return me the enum Animal&quot;</i> - that&#39;s impossible: methods cannot return classes, they can only return <i>instances</i> of classes, i.e. objects. The enum entries DOG, LION etc. are in fact objects - they&#39;re instances of the enum class Animal. So a method such as <code>map.get</code> can only return DOG etc but not Animal. When you had it return a <code>Class&lt;? extends Enum&gt;</code> that was actually returning an instance of the <code>Class</code> class."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":3,"creation_date":1685551206,"post_id":76375315,"comment_id":134677232,"body_markdown":"You can return `Aminal.class`, and use it with `Enum.valueOf(map.get(&quot;Animal&quot;), &quot;DOG&quot;)`.","body":"You can return <code>Aminal.class</code>, and use it with <code>Enum.valueOf(map.get(&quot;Animal&quot;), &quot;DOG&quot;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":1595031,"reputation":1442,"user_id":1477418,"display_name":"Islam Elbanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685555871,"creation_date":1685548798,"answer_id":76375372,"question_id":76375315,"body_markdown":"\\* Updating my answer since the question is updated with more explanations.\r\n\r\nI&#39;m going to provide another approach which is adding another dimension to the Enum to indicate the Animal type, and in this case you don&#39;t need to cast to multiple Enums: \r\n```java\r\npublic enum AnimalType \r\n{\r\n    BIRD, CAT;\r\n}\r\npublic enum Animal \r\n{\r\n    CHEETAH(AnimalType.CAT, &quot;Cheetah&quot;),\r\n    LION(AnimalType.CAT, &quot;Lion&quot;),\r\n    HAWK(AnimalType.BIRD, &quot;Hawk&quot;),\r\n    OWL(AnimalType.BIRD, &quot;Owl&quot;);\r\n \r\n    private AnimalType type;\r\n    private String name;\r\n \r\n    Animal(AnimalType type, String name) {\r\n        this.type = type;\r\n        this.name = name;\r\n    }\r\n \r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public AnimalType getType() {\r\n        return type;\r\n    }\r\n\r\n    public static Optional&lt;Animal&gt; fromName(String name) {\r\n        return Arrays.stream(Animal.values())\r\n            .filter(a -&gt; a.name.equals(name))\r\n            .findFirst();\r\n    }\r\n\r\n    public static List&lt;Animal&gt; fromType(AnimalType type) {\r\n        return Arrays.stream(Animal.values())\r\n            .filter(a -&gt; a.type == type))\r\n            .collect(Collectors.toList());\r\n    }\r\n}\r\n```","title":"How can we store String to Enum classes map","body":"<p>* Updating my answer since the question is updated with more explanations.</p>\n<p>I'm going to provide another approach which is adding another dimension to the Enum to indicate the Animal type, and in this case you don't need to cast to multiple Enums:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum AnimalType \n{\n    BIRD, CAT;\n}\npublic enum Animal \n{\n    CHEETAH(AnimalType.CAT, &quot;Cheetah&quot;),\n    LION(AnimalType.CAT, &quot;Lion&quot;),\n    HAWK(AnimalType.BIRD, &quot;Hawk&quot;),\n    OWL(AnimalType.BIRD, &quot;Owl&quot;);\n \n    private AnimalType type;\n    private String name;\n \n    Animal(AnimalType type, String name) {\n        this.type = type;\n        this.name = name;\n    }\n \n    public String getName() {\n        return name;\n    }\n\n    public AnimalType getType() {\n        return type;\n    }\n\n    public static Optional&lt;Animal&gt; fromName(String name) {\n        return Arrays.stream(Animal.values())\n            .filter(a -&gt; a.name.equals(name))\n            .findFirst();\n    }\n\n    public static List&lt;Animal&gt; fromType(AnimalType type) {\n        return Arrays.stream(Animal.values())\n            .filter(a -&gt; a.type == type))\n            .collect(Collectors.toList());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685550163,"creation_date":1685549145,"answer_id":76375415,"question_id":76375315,"body_markdown":"You will need to have your enums implement a common interface like so:\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Zoo {\r\n    private static final Map&lt;String, ZooAnimal&gt; animals;\r\n\r\n    static {\r\n        Map&lt;String, ZooAnimal&gt; tmp = new HashMap&lt;&gt;();\r\n        tmp.put(&quot;CHEETAH&quot;, Cat.CHEETAH);\r\n        tmp.put(&quot;LION&quot;, Cat.LION);\r\n        tmp.put(&quot;PANTHER&quot;, Cat.PANTHER);\r\n        tmp.put(&quot;TIGER&quot;, Cat.TIGER);\r\n        tmp.put(&quot;HAWK&quot;, Bird.HAWK);\r\n        tmp.put(&quot;OSTRICH&quot;, Bird.OSTRICH);\r\n        tmp.put(&quot;OWL&quot;, Bird.OWL);\r\n        animals = Collections.unmodifiableMap(tmp);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        ZooAnimal animal = animals.get(&quot;PANTHER&quot;);\r\n        if (animal != null &amp;&amp; animal instanceof Cat) {\r\n            // A panther is a cat\r\n            System.out.printf(&quot;A %s is a cat%n&quot;, animal.getName().toLowerCase());\r\n        }\r\n    }\r\n\r\n    private interface ZooAnimal {\r\n        String getName();\r\n    }\r\n\r\n    public enum Cat implements ZooAnimal {\r\n        CHEETAH, LION, PANTHER, TIGER;\r\n\r\n        @Override\r\n        public String getName() {\r\n            return this.name();\r\n        }\r\n    };\r\n\r\n    public enum Bird implements ZooAnimal {\r\n        HAWK, OSTRICH, OWL;\r\n\r\n        @Override\r\n        public String getName() {\r\n            return this.name();\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nIf you want the values, you can use the generic `Enum` class:\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Zoo {\r\n    private static final Map&lt;String, Class&lt;? extends Enum&lt;?&gt;&gt;&gt; animals;\r\n\r\n    static {\r\n        Map&lt;String, Class&lt;? extends Enum&lt;?&gt;&gt;&gt; tmp = new HashMap&lt;&gt;();\r\n        tmp.put(&quot;BIRD&quot;, Bird.class);\r\n        tmp.put(&quot;CAT&quot;, Cat.class);\r\n        animals = Collections.unmodifiableMap(tmp);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Class&lt;? extends Enum&lt;?&gt;&gt; animal = animals.get(&quot;CAT&quot;);\r\n        // Print the values\r\n        for (Enum&lt;?&gt; c : animal.getEnumConstants()) {\r\n            System.out.println(c.name()); // CHEETAH, LION, PANTHER, TIGER\r\n        }\r\n    }\r\n\r\n    public enum Cat {\r\n        CHEETAH, LION, PANTHER, TIGER;\r\n    };\r\n\r\n    public enum Bird {\r\n        HAWK, OSTRICH, OWL;\r\n    };\r\n}\r\n```","title":"How can we store String to Enum classes map","body":"<p>You will need to have your enums implement a common interface like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Zoo {\n    private static final Map&lt;String, ZooAnimal&gt; animals;\n\n    static {\n        Map&lt;String, ZooAnimal&gt; tmp = new HashMap&lt;&gt;();\n        tmp.put(&quot;CHEETAH&quot;, Cat.CHEETAH);\n        tmp.put(&quot;LION&quot;, Cat.LION);\n        tmp.put(&quot;PANTHER&quot;, Cat.PANTHER);\n        tmp.put(&quot;TIGER&quot;, Cat.TIGER);\n        tmp.put(&quot;HAWK&quot;, Bird.HAWK);\n        tmp.put(&quot;OSTRICH&quot;, Bird.OSTRICH);\n        tmp.put(&quot;OWL&quot;, Bird.OWL);\n        animals = Collections.unmodifiableMap(tmp);\n    }\n\n    public static void main(String[] args) {\n        ZooAnimal animal = animals.get(&quot;PANTHER&quot;);\n        if (animal != null &amp;&amp; animal instanceof Cat) {\n            // A panther is a cat\n            System.out.printf(&quot;A %s is a cat%n&quot;, animal.getName().toLowerCase());\n        }\n    }\n\n    private interface ZooAnimal {\n        String getName();\n    }\n\n    public enum Cat implements ZooAnimal {\n        CHEETAH, LION, PANTHER, TIGER;\n\n        @Override\n        public String getName() {\n            return this.name();\n        }\n    };\n\n    public enum Bird implements ZooAnimal {\n        HAWK, OSTRICH, OWL;\n\n        @Override\n        public String getName() {\n            return this.name();\n        }\n    };\n}\n</code></pre>\n<p>If you want the values, you can use the generic <code>Enum</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Zoo {\n    private static final Map&lt;String, Class&lt;? extends Enum&lt;?&gt;&gt;&gt; animals;\n\n    static {\n        Map&lt;String, Class&lt;? extends Enum&lt;?&gt;&gt;&gt; tmp = new HashMap&lt;&gt;();\n        tmp.put(&quot;BIRD&quot;, Bird.class);\n        tmp.put(&quot;CAT&quot;, Cat.class);\n        animals = Collections.unmodifiableMap(tmp);\n    }\n\n    public static void main(String[] args) {\n        Class&lt;? extends Enum&lt;?&gt;&gt; animal = animals.get(&quot;CAT&quot;);\n        // Print the values\n        for (Enum&lt;?&gt; c : animal.getEnumConstants()) {\n            System.out.println(c.name()); // CHEETAH, LION, PANTHER, TIGER\n        }\n    }\n\n    public enum Cat {\n        CHEETAH, LION, PANTHER, TIGER;\n    };\n\n    public enum Bird {\n        HAWK, OSTRICH, OWL;\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1685555308,"creation_date":1685555308,"answer_id":76376110,"question_id":76375315,"body_markdown":"I found a solution through Reflections . It can be sone like this \r\n\r\n    Map&lt;String, Class&lt;? extends Enum&lt;?&gt;&gt;&gt; errorCodes = errorCodeMap.getErrorCodeMap();\r\n                Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = errorCodes.get(code.substring(0, 1));\r\n                Enum&lt;?&gt;[] enumConstants = enumClass.getEnumConstants();\r\n                Class&lt;?&gt; actualEnumClass = enumConstants[0].getDeclaringClass();\r\n                StringBuilder errorCode = new StringBuilder().append(prefix).append(code);\r\n                Enum&lt;?&gt; errorEnum = Enum.valueOf(actualEnumClass.asSubclass(Enum.class), errorCode.toString());","title":"How can we store String to Enum classes map","body":"<p>I found a solution through Reflections . It can be sone like this</p>\n<pre><code>Map&lt;String, Class&lt;? extends Enum&lt;?&gt;&gt;&gt; errorCodes = errorCodeMap.getErrorCodeMap();\n            Class&lt;? extends Enum&lt;?&gt;&gt; enumClass = errorCodes.get(code.substring(0, 1));\n            Enum&lt;?&gt;[] enumConstants = enumClass.getEnumConstants();\n            Class&lt;?&gt; actualEnumClass = enumConstants[0].getDeclaringClass();\n            StringBuilder errorCode = new StringBuilder().append(prefix).append(code);\n            Enum&lt;?&gt; errorEnum = Enum.valueOf(actualEnumClass.asSubclass(Enum.class), errorCode.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685590653,"creation_date":1685590653,"answer_id":76378536,"question_id":76375315,"body_markdown":"There doesn&#39;t appear to be an exact solution to what you&#39;re looking to achieve.\r\n\r\nEssentially, I believe that since an _enum_ is considered a _static_ object, you cannot cast the static reference into a new object.\r\n\r\nYou would have to use a _Class\\&lt;Animal\\&gt;_ type.  \r\nAnd, at that rate, you&#39;re better off just utilizing the _[Enum](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Enum.html)_ class.\r\n\r\nHere is a tutorial on Java reflection with _enums_, for this specific requirement.  \r\n_[Examining Enums (The Java&amp;trade; Tutorials &amp;gt; The Reflection API &amp;gt; Arrays and Enumerated Types)](https://docs.oracle.com/javase/tutorial/reflect/special/enumMembers.html)_.\r\n\r\nSince you know that your map values are going to be _enum_ objects, you can utilize the _[Enum#valueOf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String))_ method, to obtain a single value.\r\n\r\nIf you want a list of values, similar to the _values_ method, you can use an array of _Enum_ and utilize the _[Class#getEnumConstants](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html#getEnumConstants())_.\r\n\r\n```java\r\nMap&lt;String, Class&lt;? extends Enum&gt;&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;Animal&quot;, Animal.class);\r\nmap.put(&quot;Bird&quot;, Bird.class);\r\nfor (Enum value : map.get(&quot;Animal&quot;).getEnumConstants()) \r\n    System.out.println(value.name());\r\n```","title":"How can we store String to Enum classes map","body":"<p>There doesn't appear to be an exact solution to what you're looking to achieve.</p>\n<p>Essentially, I believe that since an <em>enum</em> is considered a <em>static</em> object, you cannot cast the static reference into a new object.</p>\n<p>You would have to use a <em>Class&lt;Animal&gt;</em> type.<br />\nAnd, at that rate, you're better off just utilizing the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\">Enum</a></em> class.</p>\n<p>Here is a tutorial on Java reflection with <em>enums</em>, for this specific requirement.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/reflect/special/enumMembers.html\" rel=\"nofollow noreferrer\">Examining Enums (The Java™ Tutorials &gt; The Reflection API &gt; Arrays and Enumerated Types)</a></em>.</p>\n<p>Since you know that your map values are going to be <em>enum</em> objects, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)\" rel=\"nofollow noreferrer\">Enum#valueOf</a></em> method, to obtain a single value.</p>\n<p>If you want a list of values, similar to the <em>values</em> method, you can use an array of <em>Enum</em> and utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html#getEnumConstants()\" rel=\"nofollow noreferrer\">Class#getEnumConstants</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Class&lt;? extends Enum&gt;&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;Animal&quot;, Animal.class);\nmap.put(&quot;Bird&quot;, Bird.class);\nfor (Enum value : map.get(&quot;Animal&quot;).getEnumConstants()) \n    System.out.println(value.name());\n</code></pre>\n"}],"owner":{"account_id":7674368,"reputation":417,"user_id":5815695,"accept_rate":58,"display_name":"Aman Kumar Sinha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1685615445,"accepted_answer_id":76376110,"answer_count":4,"score":1,"last_activity_date":1685590653,"creation_date":1685548329,"question_id":76375315,"body_markdown":"I have multiple enum classes . For example\r\n\r\n       public class enum Animal { \r\n            DOG,\r\n            LION;\r\n    } \r\n        public class enum Bird { \r\n    \r\n         OSTRICH,\r\n         CROW };\r\n    }\r\nI want to have a Map&lt;String, Enums &gt; where i can store these enum classes as values and then fetch them based on keys . For example\r\nMap&lt;String, Enumclass&gt; such that it gives me the Enum when i pass the key to the Map. For example map.get(&quot;Animal&quot;) should return me the enum Animal and then i can do operations like Animals.valueOf();\r\n\r\nI was able to store the enums in a  `private Map&lt;String, Class&lt;? extends Enum&gt;&gt; Map;` but not able to retreive and cast it back to the proper enum classes. Is it possible to do this ","title":"How can we store String to Enum classes map","body":"<p>I have multiple enum classes . For example</p>\n<pre><code>   public class enum Animal { \n        DOG,\n        LION;\n} \n    public class enum Bird { \n\n     OSTRICH,\n     CROW };\n}\n</code></pre>\n<p>I want to have a Map&lt;String, Enums &gt; where i can store these enum classes as values and then fetch them based on keys . For example\nMap&lt;String, Enumclass&gt; such that it gives me the Enum when i pass the key to the Map. For example map.get(&quot;Animal&quot;) should return me the enum Animal and then i can do operations like Animals.valueOf();</p>\n<p>I was able to store the enums in a  <code>private Map&lt;String, Class&lt;? extends Enum&gt;&gt; Map;</code> but not able to retreive and cast it back to the proper enum classes. Is it possible to do this</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1685595802,"post_id":76378371,"comment_id":134682722,"body_markdown":"As @KJ says, what we see as tables in pdf, often internally merely are some lines and text pieces. Thus, often one needs sophisticated guesswork to identify tables. Such guesswork is usually only implemented in dedicated projects (like tabula), not in the general purpose pdf libraries (like iText). If the pdf is properly tagged, though, table extraction with iText is possible using those tags. So: Are your pdfs properly tagged? Furthermore, what do you mean by *&quot;ensure the data is valid&quot;*? By which criteria should iText validate the data?","body":"As @KJ says, what we see as tables in pdf, often internally merely are some lines and text pieces. Thus, often one needs sophisticated guesswork to identify tables. Such guesswork is usually only implemented in dedicated projects (like tabula), not in the general purpose pdf libraries (like iText). If the pdf is properly tagged, though, table extraction with iText is possible using those tags. So: Are your pdfs properly tagged? Furthermore, what do you mean by <i>&quot;ensure the data is valid&quot;</i>? By which criteria should iText validate the data?"},{"owner":{"account_id":1707578,"reputation":868,"user_id":1566339,"display_name":"Andr&#233; Lemos"},"score":1,"creation_date":1685601802,"post_id":76378371,"comment_id":134683465,"body_markdown":"doing that is not an easy task, that&#39;s why we&#39;ve created [pdf2Data](https://itextpdf.com/products/pdf2data/extract-your-content-from-pdf), which leverages on iText 7, and in the near future, iText 8.","body":"doing that is not an easy task, that&#39;s why we&#39;ve created <a href=\"https://itextpdf.com/products/pdf2data/extract-your-content-from-pdf\" rel=\"nofollow noreferrer\">pdf2Data</a>, which leverages on iText 7, and in the near future, iText 8."}],"owner":{"account_id":28723989,"reputation":1,"user_id":21997165,"display_name":"dream rob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685589895,"creation_date":1685587699,"question_id":76378371,"body_markdown":"# **May I ask a question, whether iText 7 can extract table data from a PDF file?**\r\n\r\n\r\n\r\nCurrently, I am learning to use iText 7, which is a great open-source software that I really like. However, I have encountered a problem while learning. May I ask how to extract data from a table in a PDF file, and ensure the data is valid? Moreover, if there are multiple tables on the same page of the PDF file, how can I extract the data from each of the tables separately?\r\n\r\nLooking forward to your reply, thank you.","title":"Can iText 7 extract table data from a PDF file?","body":"<h1><strong>May I ask a question, whether iText 7 can extract table data from a PDF file?</strong></h1>\n<p>Currently, I am learning to use iText 7, which is a great open-source software that I really like. However, I have encountered a problem while learning. May I ask how to extract data from a table in a PDF file, and ensure the data is valid? Moreover, if there are multiple tables on the same page of the PDF file, how can I extract the data from each of the tables separately?</p>\n<p>Looking forward to your reply, thank you.</p>\n"},{"tags":["java","itext","apache-poi","xdocreport"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677598987,"post_id":75590755,"comment_id":133367658,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1677684588,"post_id":75590755,"comment_id":133387055,"body_markdown":"If you google `WARNING: An illegal reflective access operation has occurred` - you will get 1.25m matches. First one is https://stackoverflow.com/questions/50251798/what-is-an-illegal-reflective-access","body":"If you google <code>WARNING: An illegal reflective access operation has occurred</code> - you will get 1.25m matches. First one is <a href=\"https://stackoverflow.com/questions/50251798/what-is-an-illegal-reflective-access\" title=\"what is an illegal reflective access\">stackoverflow.com/questions/50251798/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28717138,"reputation":11,"user_id":21991536,"display_name":"Gail Thorne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685589186,"creation_date":1685589186,"answer_id":76378446,"question_id":75590755,"body_markdown":"I think you can try the Spire.Doc for java component.Spire.Doc for Java can be applied easily to [convert  Word to PDF in high quality][1].Last but not least it is very easy to operate.Please visit this link to explore more about for [Spire.Doc for Java][2].\r\nHere is part of the codeis:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n            //Load a sample Word document\r\n            doc.loadFromFile(&quot;C:\\\\Users\\\\Test1\\\\Desktop\\\\sample.docx&quot;);\r\n\r\n            //Create a ToPdfParameterList instance\r\n            ToPdfParameterList ppl=new ToPdfParameterList();\r\n\r\n            //Embed all fonts in the PDF document \r\n            ppl.isEmbeddedAllFonts(true);\r\n\r\n            //Remove the hyperlinks and keep the character formats\r\n            ppl.setDisableLink(true);\r\n\r\n            //Set the output image quality as 40% of the original image. 80% is the default setting.\r\n            doc.setJPEGQuality(40);\r\n\r\n            //Save the document as PDF\r\n            doc.saveToFile(&quot;output/ToPDF.pdf&quot;, ppl);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://www.e-iceblue.com/Tutorials/Java/Spire.Doc-for-Java/Program-Guide/Conversion/Convert-Word-to-PDF-in-Java.html\r\n  [2]: https://www.e-iceblue.com/Download/doc-for-java.html","title":"Convert docx to pdf with library XDocReport in Java","body":"<p>I think you can try the Spire.Doc for java component.Spire.Doc for Java can be applied easily to <a href=\"https://www.e-iceblue.com/Tutorials/Java/Spire.Doc-for-Java/Program-Guide/Conversion/Convert-Word-to-PDF-in-Java.html\" rel=\"nofollow noreferrer\">convert  Word to PDF in high quality</a>.Last but not least it is very easy to operate.Please visit this link to explore more about for <a href=\"https://www.e-iceblue.com/Download/doc-for-java.html\" rel=\"nofollow noreferrer\">Spire.Doc for Java</a>.\nHere is part of the codeis:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        //Load a sample Word document\n        doc.loadFromFile(\"C:\\\\Users\\\\Test1\\\\Desktop\\\\sample.docx\");\n\n        //Create a ToPdfParameterList instance\n        ToPdfParameterList ppl=new ToPdfParameterList();\n\n        //Embed all fonts in the PDF document \n        ppl.isEmbeddedAllFonts(true);\n\n        //Remove the hyperlinks and keep the character formats\n        ppl.setDisableLink(true);\n\n        //Set the output image quality as 40% of the original image. 80% is the default setting.\n        doc.setJPEGQuality(40);\n\n        //Save the document as PDF\n        doc.saveToFile(\"output/ToPDF.pdf\", ppl);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":25882918,"reputation":1,"user_id":19611635,"display_name":"Hooman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685595206,"answer_count":1,"score":0,"last_activity_date":1685589186,"creation_date":1677580116,"question_id":75590755,"body_markdown":"To convert docx to pdf, I want to do it with the latest method.\r\nI get help from this website.\r\n\r\nhttps://simplesolution.dev/java-convert-docx-file-to-pdf-file-using-xdocreport/\r\n\r\nI add the library to my project and test the code example.\r\nFinally I get this warning :\r\n\r\n**WARNING: An illegal reflective access operation has occurred**\r\n**WARNING: Illegal reflective access by com.lowagie.text.pdf.MappedRandomAccessFile$1 (file:/C:/Users/ToOpbOoy/.m2/repository/com/lowagie/itext/2.1.7/itext-2.1.7.jar) to method java.nio.DirectByteBuffer.cleaner()**\r\n**WARNING: Please consider reporting this to the maintainers of com.lowagie.text.pdf.MappedRandomAccessFile$1**\r\n**WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations**\r\n**WARNING: All illegal access operations will be denied in a future release**\r\n\r\nI did not find anything about this warning on the Internet. What is this warning and how can it be solved?\r\n\r\nI did the conversion with apache poi and itext libraries.\r\nBut it does not convert correctly.","title":"Convert docx to pdf with library XDocReport in Java","body":"<p>To convert docx to pdf, I want to do it with the latest method.\nI get help from this website.</p>\n<p><a href=\"https://simplesolution.dev/java-convert-docx-file-to-pdf-file-using-xdocreport/\" rel=\"nofollow noreferrer\">https://simplesolution.dev/java-convert-docx-file-to-pdf-file-using-xdocreport/</a></p>\n<p>I add the library to my project and test the code example.\nFinally I get this warning :</p>\n<p><strong>WARNING: An illegal reflective access operation has occurred</strong>\n<strong>WARNING: Illegal reflective access by com.lowagie.text.pdf.MappedRandomAccessFile$1 (file:/C:/Users/ToOpbOoy/.m2/repository/com/lowagie/itext/2.1.7/itext-2.1.7.jar) to method java.nio.DirectByteBuffer.cleaner()</strong>\n<strong>WARNING: Please consider reporting this to the maintainers of com.lowagie.text.pdf.MappedRandomAccessFile$1</strong>\n<strong>WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations</strong>\n<strong>WARNING: All illegal access operations will be denied in a future release</strong></p>\n<p>I did not find anything about this warning on the Internet. What is this warning and how can it be solved?</p>\n<p>I did the conversion with apache poi and itext libraries.\nBut it does not convert correctly.</p>\n"},{"tags":["java","grpc","grpc-java"],"comments":[{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":2,"creation_date":1685461070,"post_id":76360839,"comment_id":134661709,"body_markdown":"You are probably closing the RPC multiple times (accidentally, or racing between threads). The stack trace would show the _second_ close.","body":"You are probably closing the RPC multiple times (accidentally, or racing between threads). The stack trace would show the <i>second</i> close."},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1685463633,"post_id":76360839,"comment_id":134662309,"body_markdown":"I added the full trace but don&#39;t see anything specific about closing (except for half closed) near the bottom.","body":"I added the full trace but don&#39;t see anything specific about closing (except for half closed) near the bottom."},{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":1,"creation_date":1685554676,"post_id":76360839,"comment_id":134677938,"body_markdown":"Is there any way your SimpleGrpcHealthServiceImpl.check() could be calling responseObserver.onCompleted() twice? Or call both onError() and onCompleted()?","body":"Is there any way your SimpleGrpcHealthServiceImpl.check() could be calling responseObserver.onCompleted() twice? Or call both onError() and onCompleted()?"},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1685559737,"post_id":76360839,"comment_id":134678914,"body_markdown":"I don&#39;t think so I&#39;ll post the code snippet","body":"I don&#39;t think so I&#39;ll post the code snippet"},{"owner":{"account_id":25649504,"reputation":144,"user_id":19417003,"display_name":"Larry Safran"},"score":1,"creation_date":1685582127,"post_id":76360839,"comment_id":134681646,"body_markdown":"You mention that the client terminates.  Are you calling channel.shutdownNow() and awaitTermination in your client?","body":"You mention that the client terminates.  Are you calling channel.shutdownNow() and awaitTermination in your client?"},{"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1685587687,"post_id":76360839,"comment_id":134682033,"body_markdown":"@LarrySafran yes I added the client code","body":"@LarrySafran yes I added the client code"},{"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"score":1,"creation_date":1685655082,"post_id":76360839,"comment_id":134695109,"body_markdown":"check() looks good. Very little way to have a bug in that! I&#39;ll note it would be better to leave watch() unimplemented than implemented in that form; callers may immediately re-create the RPC when it completes. As unimplemented, callers could fall-back to check(). But that&#39;s unrelated. Since the service looks good, next I&#39;d suspect an interceptor. The Brave TracingServerInterceptor looks fine. Especially look at any of your custom interceptors.","body":"check() looks good. Very little way to have a bug in that! I&#39;ll note it would be better to leave watch() unimplemented than implemented in that form; callers may immediately re-create the RPC when it completes. As unimplemented, callers could fall-back to check(). But that&#39;s unrelated. Since the service looks good, next I&#39;d suspect an interceptor. The Brave TracingServerInterceptor looks fine. Especially look at any of your custom interceptors."}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685587671,"creation_date":1685403503,"question_id":76360839,"body_markdown":"I recently upgraded to gRPC 1.55.1 from 1.44.0 and I started getting this stack trace\r\n\r\n&gt; May 29, 2023 7:33:36 PM io.grpc.internal.SerializingExecutor run\r\n&gt; SEVERE: Exception while executing runnable \r\n&gt; \r\n&gt; io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed@6a59743a\r\n&gt; java.lang.IllegalStateException: call already closed\r\n&gt;\r\n&gt; at com.google.common.base.Preconditions.checkState(Preconditions.java:502)\r\n&gt;\r\n&gt; at io.grpc.internal.ServerCallImpl.closeInternal(ServerCallImpl.java:212)\r\n&gt; \r\n&gt; at io.grpc.internal.ServerCallImpl.close(ServerCallImpl.java:207)\r\n...\r\n\r\nNow the code itself actually runs it completes the request which is a simple health request.  The client already receives a success signal and terminates after making the call.  It is expected that the connection will be closed.\r\n\r\nBut this stack trace is filling up my log and I am not sure what is causing it.  The closest thing I can think of is to disable the log message using the following code but that seems a bit drastic.\r\n\r\n```java\r\nLogger grpcExecutorLogger = Logger.getLogger(&quot;io.grpc.internal.SerializingExecutor&quot;);\r\ngrpcExecutorLogger.setLevel(Level.OFF);\r\n```\r\n\r\nIs there a new way of implementing the server side that I may have missed in the release notes because I can&#39;t see anything obvious.\r\n\r\nThe full trace\r\n```\r\nSEVERE: Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed@56a7a5ef\r\njava.lang.IllegalStateException: call already closed\r\n       at com.google.common.base.Preconditions.checkState(Preconditions.java:502)\r\n       at io.grpc.internal.ServerCallImpl.closeInternal(ServerCallImpl.java:212)\r\n       at io.grpc.internal.ServerCallImpl.close(ServerCallImpl.java:207)\r\n       at brave.grpc.TracingServerInterceptor$TracingServerCall.close(TracingServerInterceptor.java:120)\r\n       at io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:395)\r\n       at MYOWNSERVICE.SimpleGrpcHealthServiceImpl.check(SimpleGrpcHealthServiceImpl.java:22)\r\n       at io.grpc.health.v1.HealthGrpc$MethodHandlers.invoke(HealthGrpc.java:326)\r\n       at io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)\r\n       at brave.grpc.TracingServerInterceptor$TracingServerCallListener.onHalfClose(TracingServerInterceptor.java:153)\r\n       at io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)\r\n       at io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)\r\n       at io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)\r\n       at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:346)\r\n       at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:860)\r\n       at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n       at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n       at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n       at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n       at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nI tried both the `HeatlhStatusManager.getHealthService()` implementation and my own that simply returns `SERVING` to try to diagnose this as well.\r\n\r\n```\r\n  @Override\r\n  public void check(HealthCheckRequest request,\r\n      StreamObserver&lt;HealthCheckResponse&gt; responseObserver) {\r\n      HealthCheckResponse response = HealthCheckResponse.newBuilder().setStatus(SERVING).build();\r\n      responseObserver.onNext(response);\r\n      responseObserver.onCompleted();\r\n    }\r\n  }\r\n\r\n  // for completeness but I don&#39;t call this method.\r\n  @Override\r\n  public void watch(HealthCheckRequest request,\r\n      StreamObserver&lt;HealthCheckResponse&gt; responseObserver) {\r\n      check(request, responseObserver);\r\n    }\r\n  }\r\n``` \r\n\r\nThe healthcheck client doesn&#39;t do anything special it simply makes the call and shuts down the connection when it&#39;s done.\r\n\r\n```java\r\npublic class GrpcHealthCheckApp {\r\n  public static void main(String[] args) throws Exception{\r\n\r\n    var channel =\r\n        ManagedChannelBuilder.forAddress(args[0], Integer.parseInt(args[1])).usePlaintext().build();\r\n\r\n    var stub = HealthGrpc.newBlockingStub(channel);\r\n    var request = HealthCheckRequest.newBuilder().build();\r\n    var response = stub.check(request);\r\n\r\n    if (!response.getStatus().equals(HealthCheckResponse.ServingStatus.SERVING)) {\r\n      throw new IllegalStateException(&quot;Health-check failed&quot;);\r\n    }\r\n    channel.shutdown();\r\n    channel.awaitTermination(1, TimeUnit.MINUTES);\r\n  }\r\n}\r\n```\r\n","title":"gRPC &quot;call already closed&quot;","body":"<p>I recently upgraded to gRPC 1.55.1 from 1.44.0 and I started getting this stack trace</p>\n<blockquote>\n<p>May 29, 2023 7:33:36 PM io.grpc.internal.SerializingExecutor run\nSEVERE: Exception while executing runnable</p>\n<p>io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed@6a59743a\njava.lang.IllegalStateException: call already closed</p>\n<p>at com.google.common.base.Preconditions.checkState(Preconditions.java:502)</p>\n<p>at io.grpc.internal.ServerCallImpl.closeInternal(ServerCallImpl.java:212)</p>\n<p>at io.grpc.internal.ServerCallImpl.close(ServerCallImpl.java:207)\n...</p>\n</blockquote>\n<p>Now the code itself actually runs it completes the request which is a simple health request.  The client already receives a success signal and terminates after making the call.  It is expected that the connection will be closed.</p>\n<p>But this stack trace is filling up my log and I am not sure what is causing it.  The closest thing I can think of is to disable the log message using the following code but that seems a bit drastic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Logger grpcExecutorLogger = Logger.getLogger(&quot;io.grpc.internal.SerializingExecutor&quot;);\ngrpcExecutorLogger.setLevel(Level.OFF);\n</code></pre>\n<p>Is there a new way of implementing the server side that I may have missed in the release notes because I can't see anything obvious.</p>\n<p>The full trace</p>\n<pre><code>SEVERE: Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed@56a7a5ef\njava.lang.IllegalStateException: call already closed\n       at com.google.common.base.Preconditions.checkState(Preconditions.java:502)\n       at io.grpc.internal.ServerCallImpl.closeInternal(ServerCallImpl.java:212)\n       at io.grpc.internal.ServerCallImpl.close(ServerCallImpl.java:207)\n       at brave.grpc.TracingServerInterceptor$TracingServerCall.close(TracingServerInterceptor.java:120)\n       at io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onCompleted(ServerCalls.java:395)\n       at MYOWNSERVICE.SimpleGrpcHealthServiceImpl.check(SimpleGrpcHealthServiceImpl.java:22)\n       at io.grpc.health.v1.HealthGrpc$MethodHandlers.invoke(HealthGrpc.java:326)\n       at io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)\n       at brave.grpc.TracingServerInterceptor$TracingServerCallListener.onHalfClose(TracingServerInterceptor.java:153)\n       at io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)\n       at io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)\n       at io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)\n       at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:346)\n       at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:860)\n       at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n       at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n       at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n       at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n       at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I tried both the <code>HeatlhStatusManager.getHealthService()</code> implementation and my own that simply returns <code>SERVING</code> to try to diagnose this as well.</p>\n<pre><code>  @Override\n  public void check(HealthCheckRequest request,\n      StreamObserver&lt;HealthCheckResponse&gt; responseObserver) {\n      HealthCheckResponse response = HealthCheckResponse.newBuilder().setStatus(SERVING).build();\n      responseObserver.onNext(response);\n      responseObserver.onCompleted();\n    }\n  }\n\n  // for completeness but I don't call this method.\n  @Override\n  public void watch(HealthCheckRequest request,\n      StreamObserver&lt;HealthCheckResponse&gt; responseObserver) {\n      check(request, responseObserver);\n    }\n  }\n</code></pre>\n<p>The healthcheck client doesn't do anything special it simply makes the call and shuts down the connection when it's done.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GrpcHealthCheckApp {\n  public static void main(String[] args) throws Exception{\n\n    var channel =\n        ManagedChannelBuilder.forAddress(args[0], Integer.parseInt(args[1])).usePlaintext().build();\n\n    var stub = HealthGrpc.newBlockingStub(channel);\n    var request = HealthCheckRequest.newBuilder().build();\n    var response = stub.check(request);\n\n    if (!response.getStatus().equals(HealthCheckResponse.ServingStatus.SERVING)) {\n      throw new IllegalStateException(&quot;Health-check failed&quot;);\n    }\n    channel.shutdown();\n    channel.awaitTermination(1, TimeUnit.MINUTES);\n  }\n}\n</code></pre>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1685545663,"post_id":76374248,"comment_id":134675950,"body_markdown":"What version of MQ are the jar files from? What is the full stack of the error? If it mentions libmqjbnd it is likely not an actual error.","body":"What version of MQ are the jar files from? What is the full stack of the error? If it mentions libmqjbnd it is likely not an actual error."}],"answers":[{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685548675,"creation_date":1685548675,"answer_id":76375359,"question_id":76374248,"body_markdown":"What is the exact version/release number of the MQ JAR files you are using? i.e. 9.2.0.11\r\n\r\nThis could be a bug in the Java/MQ library or a simple coding issue on your part.\r\n\r\nYou should only ever get Reason Code 2495 - MQRC_MODULE_NOT_FOUND when your client application is connecting in &quot;bindings mode&quot; but by your code above, you appear to be connecting to the queue manager in &quot;client mode&quot;. Which does appear to be correct.\r\n\r\nHere are some of the problems I see with your code:\r\n\r\n- MQEnvironment class is not thread-safe and should not be used. You should set the connection parameters in a Hashtable and pass it to the MQQueueManager class.\r\n\r\n- You should never use any MQ object that begins with &#39;SYSTEM&#39; (i.e. SYSTEM.DEF.SVRCONN). Create your own channel for your application. i.e. APP.TEST.CHL or whatever you want to call it.\r\n\r\n- You should have a catch clause for the MQException and then dump out the MQ Completion Code and Reason Code.\r\n\r\n- The close method for the opened queue should be in the finally clause.\r\n\r\nHere&#39;s my suggestion on what the code should look like:\r\n\r\n    import java.util.Hashtable;\r\n    import com.ibm.mq.MQException;\r\n    import com.ibm.mq.MQMessage;\r\n    import com.ibm.mq.MQPutMessageOptions;\r\n    import com.ibm.mq.MQQueue;\r\n    import com.ibm.mq.MQQueueManager;\r\n    import com.ibm.mq.constants.CMQC;\r\n    \r\n    public class SO_TestIt\r\n    {\r\n       public static void main(String[] args) {\r\n          int openOptions = CMQC.MQOO_INQUIRE | CMQC.MQOO_OUTPUT;\r\n          Hashtable&lt;String,Object&gt; mqht = new Hashtable&lt;String,Object&gt;();\r\n    \r\n          mqht.put(CMQC.CHANNEL_PROPERTY, &quot;APP.TEST.CHL&quot;);\r\n          mqht.put(CMQC.HOST_NAME_PROPERTY, &quot;192.168.0.13&quot;);\r\n          mqht.put(CMQC.PORT_PROPERTY, new Integer(1414));\r\n          mqht.put(CMQC.USER_ID_PROPERTY, &quot;myUserId&quot;);\r\n          mqht.put(CMQC.PASSWORD_PROPERTY, &quot;myPwd&quot;);\r\n    \r\n          MQQueueManager qMgr = null;\r\n          MQQueue        destQueue = null;\r\n          MQMessage      tmpMsg = new MQMessage();\r\n          try {\r\n              qMgr = new MQQueueManager(&quot;QM1&quot;, mqht);\r\n              destQueue = qMgr.accessQueue(&quot;TESTQ&quot;, openOptions);\r\n    \r\n              tmpMsg.write(&quot;Msg1&quot;.getBytes());\r\n              destQueue.put(tmpMsg, new MQPutMessageOptions());\r\n              tmpMsg.clearMessage();\r\n    \r\n              tmpMsg.write(&quot;Msg2&quot;.getBytes());\r\n              destQueue.put(tmpMsg, new MQPutMessageOptions());\r\n          } catch (MQException e) {\r\n              System.err.println(&quot;Put CC=&quot; +e.completionCode + &quot; : RC=&quot; + e.reasonCode);\r\n          } catch (Exception e) {\r\n              e.printStackTrace();\r\n          } finally {\r\n             try {\r\n                if(destQueue != null)\r\n                   destQueue.close();\r\n             } catch (MQException e) {\r\n                System.err.println(&quot;Close: CC=&quot; +e.completionCode + &quot; : RC=&quot; + e.reasonCode);\r\n             }\r\n    \r\n             try {\r\n                if(qMgr != null)\r\n                   qMgr.disconnect();\r\n             } catch (MQException e) {\r\n                System.err.println(&quot;Disconnect: CC=&quot; +e.completionCode + &quot; : RC=&quot; + e.reasonCode);\r\n             }\r\n          }\r\n       }\r\n    }\r\n\r\n","title":"MQJE001: Completion Code &#39;2&#39;, Reason &#39;2495&#39; while intend to put many messages","body":"<p>What is the exact version/release number of the MQ JAR files you are using? i.e. 9.2.0.11</p>\n<p>This could be a bug in the Java/MQ library or a simple coding issue on your part.</p>\n<p>You should only ever get Reason Code 2495 - MQRC_MODULE_NOT_FOUND when your client application is connecting in &quot;bindings mode&quot; but by your code above, you appear to be connecting to the queue manager in &quot;client mode&quot;. Which does appear to be correct.</p>\n<p>Here are some of the problems I see with your code:</p>\n<ul>\n<li><p>MQEnvironment class is not thread-safe and should not be used. You should set the connection parameters in a Hashtable and pass it to the MQQueueManager class.</p>\n</li>\n<li><p>You should never use any MQ object that begins with 'SYSTEM' (i.e. SYSTEM.DEF.SVRCONN). Create your own channel for your application. i.e. APP.TEST.CHL or whatever you want to call it.</p>\n</li>\n<li><p>You should have a catch clause for the MQException and then dump out the MQ Completion Code and Reason Code.</p>\n</li>\n<li><p>The close method for the opened queue should be in the finally clause.</p>\n</li>\n</ul>\n<p>Here's my suggestion on what the code should look like:</p>\n<pre><code>import java.util.Hashtable;\nimport com.ibm.mq.MQException;\nimport com.ibm.mq.MQMessage;\nimport com.ibm.mq.MQPutMessageOptions;\nimport com.ibm.mq.MQQueue;\nimport com.ibm.mq.MQQueueManager;\nimport com.ibm.mq.constants.CMQC;\n\npublic class SO_TestIt\n{\n   public static void main(String[] args) {\n      int openOptions = CMQC.MQOO_INQUIRE | CMQC.MQOO_OUTPUT;\n      Hashtable&lt;String,Object&gt; mqht = new Hashtable&lt;String,Object&gt;();\n\n      mqht.put(CMQC.CHANNEL_PROPERTY, &quot;APP.TEST.CHL&quot;);\n      mqht.put(CMQC.HOST_NAME_PROPERTY, &quot;192.168.0.13&quot;);\n      mqht.put(CMQC.PORT_PROPERTY, new Integer(1414));\n      mqht.put(CMQC.USER_ID_PROPERTY, &quot;myUserId&quot;);\n      mqht.put(CMQC.PASSWORD_PROPERTY, &quot;myPwd&quot;);\n\n      MQQueueManager qMgr = null;\n      MQQueue        destQueue = null;\n      MQMessage      tmpMsg = new MQMessage();\n      try {\n          qMgr = new MQQueueManager(&quot;QM1&quot;, mqht);\n          destQueue = qMgr.accessQueue(&quot;TESTQ&quot;, openOptions);\n\n          tmpMsg.write(&quot;Msg1&quot;.getBytes());\n          destQueue.put(tmpMsg, new MQPutMessageOptions());\n          tmpMsg.clearMessage();\n\n          tmpMsg.write(&quot;Msg2&quot;.getBytes());\n          destQueue.put(tmpMsg, new MQPutMessageOptions());\n      } catch (MQException e) {\n          System.err.println(&quot;Put CC=&quot; +e.completionCode + &quot; : RC=&quot; + e.reasonCode);\n      } catch (Exception e) {\n          e.printStackTrace();\n      } finally {\n         try {\n            if(destQueue != null)\n               destQueue.close();\n         } catch (MQException e) {\n            System.err.println(&quot;Close: CC=&quot; +e.completionCode + &quot; : RC=&quot; + e.reasonCode);\n         }\n\n         try {\n            if(qMgr != null)\n               qMgr.disconnect();\n         } catch (MQException e) {\n            System.err.println(&quot;Disconnect: CC=&quot; +e.completionCode + &quot; : RC=&quot; + e.reasonCode);\n         }\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":1662902,"reputation":455,"user_id":1530836,"accept_rate":93,"display_name":"Kaninchen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685586642,"creation_date":1685541013,"question_id":76374248,"body_markdown":"I intend to use following code to send many messages into IBM MQ\r\n\r\n    public static void main(String[] args) {\r\n    \t\tint openOptions = CMQC.MQOO_INQUIRE | CMQC.MQOO_OUTPUT;\r\n    \t\tMQEnvironment.hostname = &quot;192.168.0.13&quot;;\r\n    \t\tMQEnvironment.port = 1414;\r\n    \t\tMQEnvironment.channel = &quot;SYSTEM.DEF.SVRCONN&quot;;\r\n    \t\tMQEnvironment.properties.put(CMQC.TRANSPORT_PROPERTY, CMQC.TRANSPORT_MQSERIES);\r\n    \r\n    \t\tMQQueueManager qMgr;\r\n            MQMessage tmpMsg = new MQMessage();\r\n    \t\ttry {\r\n    \t\t\tqMgr = new MQQueueManager(&quot;QM1&quot;);\r\n    \t\t\tMQQueue destQueue = qMgr.accessQueue(&quot;TESTQ&quot;, openOptions);\r\n\r\n                tmpMsg.write(&quot;Msg1&quot;.getBytes());\r\n\t\t\t\tdestQueue.put(tmpMsg, pmo);\r\n\t\t\t\ttmpMsg.clearMessage();\r\n\r\n                tmpMsg.write(&quot;Msg2&quot;.getBytes());\r\n\t\t\t\tdestQueue.put(tmpMsg, pmo);\r\n\r\n    \t\t\tdestQueue.close();\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n              if(qMgr != null)\r\n                qMgr.disconnect();\r\n            }\r\n    \r\n    \t}\r\n\r\nthen the program give me error `MQJE001: Completion Code &#39;2&#39;, Reason &#39;2495&#39;`. I saw the other post said something about that I have set this program to connect in binding mode? I didn&#39;t see anything about binding in my `openOptions`. Does anyone know what happen?\r\n\r\n=====Update=====\r\n\r\nthe client that I&#39;m using is `com.ibm.mq.allclient 9.3.2.0`\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;9.3.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n","title":"MQJE001: Completion Code &#39;2&#39;, Reason &#39;2495&#39; while intend to put many messages","body":"<p>I intend to use following code to send many messages into IBM MQ</p>\n<pre><code>public static void main(String[] args) {\n        int openOptions = CMQC.MQOO_INQUIRE | CMQC.MQOO_OUTPUT;\n        MQEnvironment.hostname = &quot;192.168.0.13&quot;;\n        MQEnvironment.port = 1414;\n        MQEnvironment.channel = &quot;SYSTEM.DEF.SVRCONN&quot;;\n        MQEnvironment.properties.put(CMQC.TRANSPORT_PROPERTY, CMQC.TRANSPORT_MQSERIES);\n\n        MQQueueManager qMgr;\n        MQMessage tmpMsg = new MQMessage();\n        try {\n            qMgr = new MQQueueManager(&quot;QM1&quot;);\n            MQQueue destQueue = qMgr.accessQueue(&quot;TESTQ&quot;, openOptions);\n\n            tmpMsg.write(&quot;Msg1&quot;.getBytes());\n            destQueue.put(tmpMsg, pmo);\n            tmpMsg.clearMessage();\n\n            tmpMsg.write(&quot;Msg2&quot;.getBytes());\n            destQueue.put(tmpMsg, pmo);\n\n            destQueue.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n          if(qMgr != null)\n            qMgr.disconnect();\n        }\n\n    }\n</code></pre>\n<p>then the program give me error <code>MQJE001: Completion Code '2', Reason '2495'</code>. I saw the other post said something about that I have set this program to connect in binding mode? I didn't see anything about binding in my <code>openOptions</code>. Does anyone know what happen?</p>\n<p>=====Update=====</p>\n<p>the client that I'm using is <code>com.ibm.mq.allclient 9.3.2.0</code></p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n            &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\n            &lt;version&gt;9.3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","json","jackson","deserialization","dropwizard"],"comments":[{"owner":{"account_id":3202753,"reputation":6346,"user_id":2704500,"accept_rate":50,"display_name":"pandaadb"},"score":1,"creation_date":1477308410,"post_id":40192666,"comment_id":67697869,"body_markdown":"Hi - I have answered the pretty much same question before. Jackson supports this kind of behaviour out of the box, where the serialisation depends on a field in the json value. Have a look here: http://stackoverflow.com/questions/38501574/rules-for-jersey-to-parse-json-jackson-subtype-deserialisation/38523801#38523801","body":"Hi - I have answered the pretty much same question before. Jackson supports this kind of behaviour out of the box, where the serialisation depends on a field in the json value. Have a look here: <a href=\"http://stackoverflow.com/questions/38501574/rules-for-jersey-to-parse-json-jackson-subtype-deserialisation/38523801#38523801\" title=\"rules for jersey to parse json jackson subtype deserialisation\">stackoverflow.com/questions/38501574/&hellip;</a>"},{"owner":{"account_id":3319350,"reputation":1394,"user_id":2790903,"accept_rate":57,"display_name":"Doe Johnson"},"score":0,"creation_date":1477335556,"post_id":40192666,"comment_id":67714587,"body_markdown":"@pandaadb Nice hint, but I cannot use annotations for my use case. The model lib is serialization/deserialization agnostic","body":"@pandaadb Nice hint, but I cannot use annotations for my use case. The model lib is serialization/deserialization agnostic"},{"owner":{"account_id":1539955,"reputation":1612,"user_id":1434854,"accept_rate":60,"display_name":"Vova Rozhkov"},"score":0,"creation_date":1537899783,"post_id":40192666,"comment_id":91949563,"body_markdown":"I have the same requirement and after inspection of data available JsonParser and DeserializationContext I may conclude that there is no way to get access to parent json node...","body":"I have the same requirement and after inspection of data available JsonParser and DeserializationContext I may conclude that there is no way to get access to parent json node..."}],"answers":[{"tags":[],"owner":{"account_id":1400867,"reputation":116,"user_id":1329680,"display_name":"PaulMooney"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554230381,"creation_date":1554230381,"answer_id":55481536,"question_id":40192666,"body_markdown":"You can access it through the DeserializationContext like so\r\n\r\n`Object parent = dc.getParser().getParsingContext().getCurrentValue();`\r\n\r\nThen cast it to the appropriate POJO type that has the &#39;importantKey&#39; field.","title":"Read field from parent node in custom Jackson Deserializer","body":"<p>You can access it through the DeserializationContext like so</p>\n\n<p><code>Object parent = dc.getParser().getParsingContext().getCurrentValue();</code></p>\n\n<p>Then cast it to the appropriate POJO type that has the 'importantKey' field.</p>\n"},{"tags":[],"owner":{"account_id":28723857,"reputation":1,"user_id":21997060,"display_name":"takatsuki shiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685586038,"creation_date":1685586038,"answer_id":76378294,"question_id":40192666,"body_markdown":"I am using jackson 2.13.5.\r\nThe class I want to deserialize is like\r\n\r\n    public class ParentClass {\r\n        private String name;\r\n        private MyClass myClass;\r\n    }\r\nI am using a custom StdDeserializer.\r\n\r\n    public class MyClassDeserializer extends StdDeserializer&lt;Myclass&gt; {\r\n\r\n        // ...\r\n\r\n        @Override\r\n        public MyClass deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            Object parentValue = jsonParser.getParsingContext().getParent().getCurrentValue();\r\n            if(parentValue instanceof ParentClass) {\r\n                ParentClass parentClass = (ParentClass) parentValue;\r\n                String name = parentClass.getName();\r\n                // a custom method to determine the subtype by name\r\n                Class&lt;? extends PluginConfig&gt; subtype = loadSubtype(name);\r\n                ObjectCodec codec = jsonParser.getCodec();\r\n                // Deserialize MyClass using the appropriate subtype\r\n                return codec.treeToValue(codec.readTree(jsonParser), subtype);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\nThis works for me, but I am not sure if this approach is recommended.","title":"Read field from parent node in custom Jackson Deserializer","body":"<p>I am using jackson 2.13.5.\nThe class I want to deserialize is like</p>\n<pre><code>public class ParentClass {\n    private String name;\n    private MyClass myClass;\n}\n</code></pre>\n<p>I am using a custom StdDeserializer.</p>\n<pre><code>public class MyClassDeserializer extends StdDeserializer&lt;Myclass&gt; {\n\n    // ...\n\n    @Override\n    public MyClass deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        Object parentValue = jsonParser.getParsingContext().getParent().getCurrentValue();\n        if(parentValue instanceof ParentClass) {\n            ParentClass parentClass = (ParentClass) parentValue;\n            String name = parentClass.getName();\n            // a custom method to determine the subtype by name\n            Class&lt;? extends PluginConfig&gt; subtype = loadSubtype(name);\n            ObjectCodec codec = jsonParser.getCodec();\n            // Deserialize MyClass using the appropriate subtype\n            return codec.treeToValue(codec.readTree(jsonParser), subtype);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>This works for me, but I am not sure if this approach is recommended.</p>\n"}],"owner":{"account_id":3319350,"reputation":1394,"user_id":2790903,"accept_rate":57,"display_name":"Doe Johnson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3779,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1685586038,"creation_date":1477142486,"question_id":40192666,"body_markdown":"Have a look at the following input JSON:\r\n\r\n    {\r\n        &quot;importantKey&quot;: &quot;123xyz&quot;,\r\n        &quot;nested&quot;: {\r\n            // more stuff goes here.\r\n        }\r\n    }\r\n\r\n`Nested` is represented by an interface that has several different implementations.\r\nThe point is, in order to figure out which implementation should be used for deserialization, I need to check `importantKey&#39;s` value. \r\n\r\nMy current solution is to deserialize the whole thing at once:\r\n\r\n    @Override\r\n    public Foo deserialize(JsonParser jp, DeserializationContext dc) \r\n                throws IOException, JsonProcessingException {\r\n\r\n        ObjectMapper objectMapper = (ObjectMapper) jp.getCodec();\r\n        ObjectNode objectNode = objectMapper.readTree(jp);\r\n        String importantKey = objectNode.findValue(&quot;importantKey&quot;).asText();\r\n\r\n        JsonNode nestedNode = objectNode.findValue(&quot;nested&quot;);\r\n        NestedInterface nested;\r\n        nested = objectMapper.treeToValue(nestedNode, findNestedImplFor(importantKey));\r\n\r\n        // construct containing Foo and so on ...\r\n    }\r\n\r\nThis works but for several different reasons (specific to my use case) it would be a lot cooler if there was a Deserializer just for `nested` that somehow could read or had access to fields from the outer object.\r\n\r\nI&#39;m running jackson 2.8.x in a dropwizard context.\r\n\r\nDoes someone have an idea? Thanks in advance!","title":"Read field from parent node in custom Jackson Deserializer","body":"<p>Have a look at the following input JSON:</p>\n\n<pre><code>{\n    \"importantKey\": \"123xyz\",\n    \"nested\": {\n        // more stuff goes here.\n    }\n}\n</code></pre>\n\n<p><code>Nested</code> is represented by an interface that has several different implementations.\nThe point is, in order to figure out which implementation should be used for deserialization, I need to check <code>importantKey's</code> value. </p>\n\n<p>My current solution is to deserialize the whole thing at once:</p>\n\n<pre><code>@Override\npublic Foo deserialize(JsonParser jp, DeserializationContext dc) \n            throws IOException, JsonProcessingException {\n\n    ObjectMapper objectMapper = (ObjectMapper) jp.getCodec();\n    ObjectNode objectNode = objectMapper.readTree(jp);\n    String importantKey = objectNode.findValue(\"importantKey\").asText();\n\n    JsonNode nestedNode = objectNode.findValue(\"nested\");\n    NestedInterface nested;\n    nested = objectMapper.treeToValue(nestedNode, findNestedImplFor(importantKey));\n\n    // construct containing Foo and so on ...\n}\n</code></pre>\n\n<p>This works but for several different reasons (specific to my use case) it would be a lot cooler if there was a Deserializer just for <code>nested</code> that somehow could read or had access to fields from the outer object.</p>\n\n<p>I'm running jackson 2.8.x in a dropwizard context.</p>\n\n<p>Does someone have an idea? Thanks in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1685584507,"post_id":76378202,"comment_id":134681813,"body_markdown":"I would add `processBuilder.redirectErrorStream(true);` and re-try - always worth the time checking the `errorStream` as well","body":"I would add <code>processBuilder.redirectErrorStream(true);</code> and re-try - always worth the time checking the <code>errorStream</code> as well"},{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1685584921,"post_id":76378202,"comment_id":134681841,"body_markdown":"Doesn&#39;t ProcessBuilder just take a collection of args - so &quot;emacs -nw&quot; needs to be broken into 2 strings:  &quot;emacs&quot; and &quot;-nw&quot; ?","body":"Doesn&#39;t ProcessBuilder just take a collection of args - so &quot;emacs -nw&quot; needs to be broken into 2 strings:  &quot;emacs&quot; and &quot;-nw&quot; ?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1685588911,"post_id":76378202,"comment_id":134682123,"body_markdown":"@John3136 Because they&#39;re passing it the shell, that might change, as the shell may want the args in a single string, but it would need to be tested further","body":"@John3136 Because they&#39;re passing it the shell, that might change, as the shell may want the args in a single string, but it would need to be tested further"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685619155,"post_id":76378202,"comment_id":134686986,"body_markdown":"Why are you not happy with the command that *does* work? The other one is, afaik (I use vim, not emacs) confined to running it within the context of a terminal session. That&#39;s not really suitable for automation","body":"Why are you not happy with the command that <i>does</i> work? The other one is, afaik (I use vim, not emacs) confined to running it within the context of a terminal session. That&#39;s not really suitable for automation"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685585311,"creation_date":1685585311,"answer_id":76378261,"question_id":76378202,"body_markdown":"You should pass a `String[]` to invoke the command with arguments. Also, things are *much* simpler if you take advantage of `ProcessBuilder.inheritIO()`. Finally, you don&#39;t need to specify `bash` or `cmd`. Something like,\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] command = { &quot;emacs&quot;, &quot;-nw&quot; };\r\n\t\ttestShellCommand(command);\r\n\t}\r\n\r\n\tpublic static void testShellCommand(String[] command) {\r\n\t\ttry {\r\n\t\t\tProcessBuilder processBuilder = new ProcessBuilder(command);\r\n\t\t\tprocessBuilder.inheritIO();\r\n\t\t\tProcess process = processBuilder.start();\r\n\t\t\tint exitCode = process.waitFor();\r\n\t\t\tSystem.out.println(&quot;Command executed with exit code: &quot; + exitCode);\r\n\r\n\t\t\tif (exitCode != 0) {\r\n\t\t\t\tSystem.err.println(&quot;Command execution failed with exit code: &quot; + exitCode);\r\n\t\t\t\tSystem.exit(1);\r\n\t\t\t}\r\n\t\t} catch (IOException | InterruptedException e) {\r\n\t\t\tSystem.err.println(&quot;Error executing command: &quot; + e.getMessage());\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t}","title":"Launching emacs from java with arguments... not working","body":"<p>You should pass a <code>String[]</code> to invoke the command with arguments. Also, things are <em>much</em> simpler if you take advantage of <code>ProcessBuilder.inheritIO()</code>. Finally, you don't need to specify <code>bash</code> or <code>cmd</code>. Something like,</p>\n<pre><code>public static void main(String[] args) {\n    String[] command = { &quot;emacs&quot;, &quot;-nw&quot; };\n    testShellCommand(command);\n}\n\npublic static void testShellCommand(String[] command) {\n    try {\n        ProcessBuilder processBuilder = new ProcessBuilder(command);\n        processBuilder.inheritIO();\n        Process process = processBuilder.start();\n        int exitCode = process.waitFor();\n        System.out.println(&quot;Command executed with exit code: &quot; + exitCode);\n\n        if (exitCode != 0) {\n            System.err.println(&quot;Command execution failed with exit code: &quot; + exitCode);\n            System.exit(1);\n        }\n    } catch (IOException | InterruptedException e) {\n        System.err.println(&quot;Error executing command: &quot; + e.getMessage());\n        System.exit(1);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18947668,"reputation":165,"user_id":18058476,"display_name":"Bill Moore"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685585311,"creation_date":1685584121,"question_id":76378202,"body_markdown":"I&#39;m running under linux with the bash shell, and\r\n\r\nI have some java code that is attempting to launch emacs using processbuilder... I need to luanch emacs with a spefic set of arguments to the tool...  instead it always reports error 1 and fails. \r\n\r\nWhat&#39;s the best way to do this?\r\n \r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\n\r\npublic class test5 {\r\n    public static void main(String[] args) {\r\n        // Test with arguments\r\n\t\t\r\n        // Doesn&#39;t work\r\n        String command = &quot;emacs -nw&quot;;\r\n\t\t\r\n        // works\r\n        //String command = &quot;emacs&quot;;\r\n\r\n        testShellCommand(command);\r\n    }\r\n\r\n    public static void testShellCommand(String command) {\r\n        try {\r\n            ProcessBuilder processBuilder;\r\n            String osName = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n            if (osName.contains(&quot;win&quot;)) {\r\n                processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/C&quot;, command);\r\n            } else {\r\n                processBuilder = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, command);\r\n            }\r\n\r\n            Process process = processBuilder.start();\r\n\r\n            // Read the output of the command\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n\r\n            int exitCode = process.waitFor();\r\n            System.out.println(&quot;Command executed with exit code: &quot; + exitCode);\r\n\r\n            if (exitCode != 0) {\r\n                System.err.println(&quot;Command execution failed with exit code: &quot; + exitCode);\r\n                System.exit(1);\r\n            }\r\n        } catch (IOException | InterruptedException e) {\r\n            System.err.println(&quot;Error executing command: &quot; + e.getMessage());\r\n            System.exit(1);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere&#39;s my output\r\n\r\n```bash\r\n$ javac test5.java\r\n$ java test5\r\nCommand executed with exit code: 1\r\nCommand execution failed with exit code: 1\r\n&lt;Should see emacs window open here...but don&#39;t&gt;\r\n```\r\n","title":"Launching emacs from java with arguments... not working","body":"<p>I'm running under linux with the bash shell, and</p>\n<p>I have some java code that is attempting to launch emacs using processbuilder... I need to luanch emacs with a spefic set of arguments to the tool...  instead it always reports error 1 and fails.</p>\n<p>What's the best way to do this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class test5 {\n    public static void main(String[] args) {\n        // Test with arguments\n        \n        // Doesn't work\n        String command = &quot;emacs -nw&quot;;\n        \n        // works\n        //String command = &quot;emacs&quot;;\n\n        testShellCommand(command);\n    }\n\n    public static void testShellCommand(String command) {\n        try {\n            ProcessBuilder processBuilder;\n            String osName = System.getProperty(&quot;os.name&quot;).toLowerCase();\n            if (osName.contains(&quot;win&quot;)) {\n                processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/C&quot;, command);\n            } else {\n                processBuilder = new ProcessBuilder(&quot;bash&quot;, &quot;-c&quot;, command);\n            }\n\n            Process process = processBuilder.start();\n\n            // Read the output of the command\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            String line;\n            while ((line = reader.readLine()) != null) {\n                System.out.println(line);\n            }\n\n            int exitCode = process.waitFor();\n            System.out.println(&quot;Command executed with exit code: &quot; + exitCode);\n\n            if (exitCode != 0) {\n                System.err.println(&quot;Command execution failed with exit code: &quot; + exitCode);\n                System.exit(1);\n            }\n        } catch (IOException | InterruptedException e) {\n            System.err.println(&quot;Error executing command: &quot; + e.getMessage());\n            System.exit(1);\n        }\n    }\n}\n</code></pre>\n<p>Here's my output</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ javac test5.java\n$ java test5\nCommand executed with exit code: 1\nCommand execution failed with exit code: 1\n&lt;Should see emacs window open here...but don't&gt;\n</code></pre>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":1652167,"reputation":3610,"user_id":1522522,"accept_rate":86,"display_name":"vandale"},"score":2,"creation_date":1384993279,"post_id":20109956,"comment_id":29965854,"body_markdown":"what does `out.println(&quot;Nice to meet you &quot; + Getp1Name());` print?","body":"what does <code>out.println(&quot;Nice to meet you &quot; + Getp1Name());</code> print?"},{"owner":{"account_id":2648152,"reputation":529,"user_id":2290443,"accept_rate":61,"display_name":"Ryan Hosford"},"score":0,"creation_date":1384993410,"post_id":20109956,"comment_id":29965914,"body_markdown":"At the moment, it prints out &quot;Nice to meet you&quot;","body":"At the moment, it prints out &quot;Nice to meet you&quot;"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":2,"creation_date":1384993450,"post_id":20109956,"comment_id":29965924,"body_markdown":"@RyanHosford: I&#39;m assuming you have another input before this. Perhaps a `.next()`? `.nextInt()`?","body":"@RyanHosford: I&#39;m assuming you have another input before this. Perhaps a <code>.next()</code>? <code>.nextInt()</code>?"},{"owner":{"account_id":3006668,"reputation":20250,"user_id":2956115,"display_name":"artur grzesiak"},"score":2,"creation_date":1384993458,"post_id":20109956,"comment_id":29965927,"body_markdown":"do you use scanner somewhere before?","body":"do you use scanner somewhere before?"},{"owner":{"account_id":1832500,"reputation":4685,"user_id":1663592,"display_name":"Smit"},"score":1,"creation_date":1384993473,"post_id":20109956,"comment_id":29965933,"body_markdown":"@RyanHosford Can you show the entire class code?","body":"@RyanHosford Can you show the entire class code?"},{"owner":{"account_id":1652167,"reputation":3610,"user_id":1522522,"accept_rate":86,"display_name":"vandale"},"score":0,"creation_date":1384993474,"post_id":20109956,"comment_id":29965934,"body_markdown":"Please show the code from which you call `Names`.","body":"Please show the code from which you call <code>Names</code>."},{"owner":{"account_id":2648152,"reputation":529,"user_id":2290443,"accept_rate":61,"display_name":"Ryan Hosford"},"score":0,"creation_date":1384994898,"post_id":20109956,"comment_id":29966395,"body_markdown":"Question edited to request","body":"Question edited to request"}],"answers":[{"tags":[],"owner":{"account_id":2522414,"reputation":195,"user_id":2192517,"accept_rate":64,"display_name":"Student"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384994937,"creation_date":1384994937,"answer_id":20110309,"question_id":20109956,"body_markdown":"Maybe try to change:\r\n\r\n    public static void Setp1Name(String player1name){\r\n        p1name = player1name;\r\n    }\r\n\r\nto:\r\n\r\n    public static void Setp1Name(){\r\n        p1name = qwe.nextLine();\r\n    }\r\n\r\nand same for the other setName method.","title":"Java scanner.nextLine() is skipping","body":"<p>Maybe try to change:</p>\n\n<pre><code>public static void Setp1Name(String player1name){\n    p1name = player1name;\n}\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>public static void Setp1Name(){\n    p1name = qwe.nextLine();\n}\n</code></pre>\n\n<p>and same for the other setName method.</p>\n"}],"owner":{"account_id":2648152,"reputation":529,"user_id":2290443,"accept_rate":61,"display_name":"Ryan Hosford"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1385005160,"answer_count":1,"score":2,"last_activity_date":1685583355,"creation_date":1384993138,"question_id":20109956,"body_markdown":"I am writing a TicTacToe program and for some reason it is skipping the scanner.nextLine() for player 1, but is stopping for player 2. Entire code is as follows: Method in question is called &quot;Names&quot;\r\n\r\n    package tictactoe;\r\n\r\n    import static java.lang.System.*;\r\n    import java.io.*;\r\n    import java.util.Scanner;\r\n\r\n    public class TicTacToe {\r\n\r\n    static String p1name;\r\n    static String p2name;\r\n    static String p1marker;\r\n    static String p2marker;\r\n    \r\n    public static Scanner qwe = new Scanner(in);\r\n    \r\n    public static void title(){\r\n        out.println(&quot;\\tTicTacToe by Ryan Hosford&quot;);\r\n        out.print(&quot;\\n\\n\\n&quot;);\r\n        out.println(&quot;1)Start&quot;+&quot;\\t\\t&quot; + &quot;2)How to play\\t\\t&quot; + &quot;3)Quit &quot;);\r\n        int title = qwe.nextInt();\r\n        if(title == 1)\r\n            Names();\r\n        else if(title ==2)\r\n            Info();\r\n        else if(title ==3)\r\n            Quit();\r\n        else\r\n            title();\r\n            \r\n    }\r\n    \r\n    public static void Names(){\r\n        out.print(&quot;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n&quot;);\r\n        out.println(&quot;Player 1, What is your name?&quot;);\r\n        Setp1Name(qwe.nextLine());\r\n        out.println(&quot;Nice to meet you &quot; + Getp1Name());\r\n        out.println(&quot;&quot;);\r\n        out.println(&quot;Player 2, what is your name?&quot;);\r\n        Setp2Name(qwe.next());\r\n        out.println(&quot;Nice to meet you &quot; + Getp2Name());\r\n        qwe.next();\r\n        Markers();\r\n    }\r\n    \r\n    \r\n    \r\n    public static void Markers(){\r\n        out.print(&quot;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n&quot;);\r\n        out.println(Getp1Name()+&quot;, Would you like to X&#39;s or O&#39;s?&quot;);\r\n        Setp1Marker(qwe.next());\r\n        if(Getp1Marker().equals(&quot;X&quot;) || Getp1Marker().equals(&quot;x&quot;)){\r\n            Setp2Marker(&quot;O&quot;);\r\n        }\r\n        else if(Getp1Marker().equals(&quot;O&quot;) || Getp1Marker().equals(&quot;o&quot;)){\r\n            Setp2Marker(&quot;X&quot;);\r\n        }\r\n        else{\r\n            Markers();\r\n        }\r\n        out.println(Getp1Name() + &quot; is playing with: &quot; +Getp1Marker());\r\n        out.println(Getp2Name() + &quot; is playing with: &quot; + Getp2Marker());\r\n        out.println(&quot;&quot;);\r\n        out.println(&quot;Press enter to continue...&quot;);\r\n        qwe.nextLine();\r\n        Game();\r\n    }\r\n    \r\n    \r\n   \r\n    \r\n    \r\n        ///////////////////////////////////////////////////////////////////////////////////////////      ///////////////////////////////////////////////////////////   ///////////////////////////////////////////////////////////////////////////////////////////     ////////////////////////////////////////////////////////////    \r\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////    \r\n    \r\n    public static void main(String[] args) {\r\n        title();\r\n    }\r\n    \r\n    public static void Setp1Name(String player1name){\r\n        p1name = player1name;\r\n    }\r\n    \r\n    public static String Getp1Name(){\r\n        return p1name;\r\n    }\r\n    \r\n    public static void Setp2Name(String player2name){\r\n        p2name = player2name;\r\n    }\r\n    \r\n    public static String Getp2Name(){\r\n        return p2name;\r\n    }\r\n    \r\n ////////////////////////////////////////////////////////////////////////////////////////// ///////////////////////////////   \r\n /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////   \r\n    \r\n    public static void Setp1Marker(String p1Mark){\r\n        p1Mark.toUpperCase();\r\n        p1marker = p1Mark;\r\n    }\r\n    \r\n    public static String Getp1Marker(){\r\n        return p1marker;\r\n    }\r\n    \r\n    public static void Setp2Marker(String p2Mark){\r\n        p2Mark.toUpperCase();\r\n        p2marker = p2Mark;\r\n    }\r\n    \r\n    public static String Getp2Marker(){\r\n        return p2marker;\r\n    }\r\n    \r\n    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////   \r\n /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////   \r\n    \r\n    public static void Info(){\r\n        out.print(&quot;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n&quot;);\r\n        out.println(&quot;TicTacToe is a game where you have to try and get 3 of your markers in a row; Be that diagonally, vertically, or horizontally.&quot;);\r\n        out.println(&quot;The two markers in TicTacToe are X and O&quot;);\r\n        out.println(&quot;The two players take turns placing one of their markers, and the game is over once a player gets 3 in a row.&quot;);\r\n        out.println(&quot;&quot;);\r\n        out.println(&quot;Press enter to continue...&quot;);\r\n        qwe.next();\r\n        title();\r\n    }\r\n    \r\n    public static void Quit(){\r\n        out.print(&quot;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n&quot;);\r\n        out.println(&quot;Quitting game...&quot;);\r\n        exit(0);\r\n    }\r\n    }\r\n\r\n","title":"Java scanner.nextLine() is skipping","body":"<p>I am writing a TicTacToe program and for some reason it is skipping the scanner.nextLine() for player 1, but is stopping for player 2. Entire code is as follows: Method in question is called \"Names\"</p>\n\n<pre><code>package tictactoe;\n\nimport static java.lang.System.*;\nimport java.io.*;\nimport java.util.Scanner;\n\npublic class TicTacToe {\n\nstatic String p1name;\nstatic String p2name;\nstatic String p1marker;\nstatic String p2marker;\n\npublic static Scanner qwe = new Scanner(in);\n\npublic static void title(){\n    out.println(\"\\tTicTacToe by Ryan Hosford\");\n    out.print(\"\\n\\n\\n\");\n    out.println(\"1)Start\"+\"\\t\\t\" + \"2)How to play\\t\\t\" + \"3)Quit \");\n    int title = qwe.nextInt();\n    if(title == 1)\n        Names();\n    else if(title ==2)\n        Info();\n    else if(title ==3)\n        Quit();\n    else\n        title();\n\n}\n\npublic static void Names(){\n    out.print(\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\");\n    out.println(\"Player 1, What is your name?\");\n    Setp1Name(qwe.nextLine());\n    out.println(\"Nice to meet you \" + Getp1Name());\n    out.println(\"\");\n    out.println(\"Player 2, what is your name?\");\n    Setp2Name(qwe.next());\n    out.println(\"Nice to meet you \" + Getp2Name());\n    qwe.next();\n    Markers();\n}\n\n\n\npublic static void Markers(){\n    out.print(\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\");\n    out.println(Getp1Name()+\", Would you like to X's or O's?\");\n    Setp1Marker(qwe.next());\n    if(Getp1Marker().equals(\"X\") || Getp1Marker().equals(\"x\")){\n        Setp2Marker(\"O\");\n    }\n    else if(Getp1Marker().equals(\"O\") || Getp1Marker().equals(\"o\")){\n        Setp2Marker(\"X\");\n    }\n    else{\n        Markers();\n    }\n    out.println(Getp1Name() + \" is playing with: \" +Getp1Marker());\n    out.println(Getp2Name() + \" is playing with: \" + Getp2Marker());\n    out.println(\"\");\n    out.println(\"Press enter to continue...\");\n    qwe.nextLine();\n    Game();\n}\n\n\n\n\n\n    ///////////////////////////////////////////////////////////////////////////////////////////      ///////////////////////////////////////////////////////////   ///////////////////////////////////////////////////////////////////////////////////////////     ////////////////////////////////////////////////////////////    \n</code></pre>\n\n<p>///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////    </p>\n\n<pre><code>public static void main(String[] args) {\n    title();\n}\n\npublic static void Setp1Name(String player1name){\n    p1name = player1name;\n}\n\npublic static String Getp1Name(){\n    return p1name;\n}\n\npublic static void Setp2Name(String player2name){\n    p2name = player2name;\n}\n\npublic static String Getp2Name(){\n    return p2name;\n}\n</code></pre>\n\n<p>////////////////////////////////////////////////////////////////////////////////////////// ///////////////////////////////<br>\n /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////   </p>\n\n<pre><code>public static void Setp1Marker(String p1Mark){\n    p1Mark.toUpperCase();\n    p1marker = p1Mark;\n}\n\npublic static String Getp1Marker(){\n    return p1marker;\n}\n\npublic static void Setp2Marker(String p2Mark){\n    p2Mark.toUpperCase();\n    p2marker = p2Mark;\n}\n\npublic static String Getp2Marker(){\n    return p2marker;\n}\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////   \n</code></pre>\n\n<p>/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////   </p>\n\n<pre><code>public static void Info(){\n    out.print(\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\");\n    out.println(\"TicTacToe is a game where you have to try and get 3 of your markers in a row; Be that diagonally, vertically, or horizontally.\");\n    out.println(\"The two markers in TicTacToe are X and O\");\n    out.println(\"The two players take turns placing one of their markers, and the game is over once a player gets 3 in a row.\");\n    out.println(\"\");\n    out.println(\"Press enter to continue...\");\n    qwe.next();\n    title();\n}\n\npublic static void Quit(){\n    out.print(\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\");\n    out.println(\"Quitting game...\");\n    exit(0);\n}\n}\n</code></pre>\n"},{"tags":["java","google-maps-android-api-2","android-location"],"answers":[{"tags":[],"owner":{"account_id":18735873,"reputation":53,"user_id":13660225,"display_name":"Ruineie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685583210,"creation_date":1684656572,"answer_id":76298888,"question_id":75543250,"body_markdown":"You are looking for a reference of the elevation of a certian location. This needs a database. There are such services. For example, in google map platform, there is a service called elevation api which can give you elevation of any point on earth. You can also find some free open API that can help you. For example this one.\r\nhttps://www.opentopodata.org/#host-your-own\r\nRemember, he data has a resolution, like 30m, some are finer, while some are coarser. And some provides static evelation information that won&#39;t be updated. Find the one suits your requirments.","title":"How get the altitude of a place where the phone is located ( not the altitude of the phone)","body":"<p>You are looking for a reference of the elevation of a certian location. This needs a database. There are such services. For example, in google map platform, there is a service called elevation api which can give you elevation of any point on earth. You can also find some free open API that can help you. For example this one.\n<a href=\"https://www.opentopodata.org/#host-your-own\" rel=\"nofollow noreferrer\">https://www.opentopodata.org/#host-your-own</a>\nRemember, he data has a resolution, like 30m, some are finer, while some are coarser. And some provides static evelation information that won't be updated. Find the one suits your requirments.</p>\n"}],"owner":{"account_id":25311834,"reputation":73,"user_id":19134480,"display_name":"Patrick Renaud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685583210,"creation_date":1677146580,"question_id":75543250,"body_markdown":"I am implementing an android app in java to determine if an object is in flight (in the example ,it&#39;s a phone hang on a drone ) . To proceed,i retrieve the altitude of the  phone , then i retrieve the altitude of the area where the phone is ( because , i suppose that in the different places in the area).Then i add a defined height on the area altitude to determine if the object is in flight when it reaches this height . But the problem is , the only altitude i can retrieve is the phone altitude but not the area altitude and i&#39;m trying to figure it out .Could you help me ?\r\nHere is the code , i&#39;ve implemented :    \r\n\r\n\r\n    public class TimeService extends Service{\r\n        private final static String TAG = TimeService.class.getName();\r\n        \r\n      LocationEntity location = new LocationEntity();\r\n       \r\n       private  Handler handler;\r\n    \r\n        FusedLocationProviderClient fusedLocationProviderClient;\r\n       \r\n        LocationRequest locationRequest;\r\n       \r\n        \r\n    \r\n        LocationRequest newlocationRequest;\r\n       \r\n    \r\n        double Longitude, Latitude, Altitude,Acccuracy,Speed;\r\n      \r\n        AppDatabase appDatabase;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            context=this;\r\n          \r\n            fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n             appDatabase=AppDatabase.getDbIntance(this);\r\n          \r\n    \r\n            locationCallback = new LocationCallback() {\r\n                @Override\r\n                public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                    super.onLocationResult(locationResult);\r\n    \r\n                    Location location = locationResult.getLastLocation();\r\n                    assert location != null;\r\n                    Log.d(&quot;TAG&quot;, &quot;onLocationResult: callback method  &quot;+&quot;longitude &quot;+location.getLongitude()+&quot;latitude &quot;+location.getLatitude()+&quot;Accuracy &quot;+location.getAccuracy()+&quot;Speed &quot;+location.getSpeed());\r\n                }\r\n            };\r\n    \r\n            startLocationUpdate();\r\n           \r\n            handler = new Handler();\r\n    \r\n            // Define the code block to be executed\r\n             Runnable runnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    // Insert custom code here\r\n                       startLocationUpdate();\r\n                    Log.d(&quot;TAG&quot;, &quot;run: &quot;+&quot;run every 30s&quot;);\r\n                    // Repeat every 2 seconds\r\n                    handler.postDelayed(this, 30000L);\r\n                }\r\n            };\r\n    \r\n    // Start the Runnable immediately\r\n            handler.post(runnable);\r\n        }\r\n    }\r\n    \r\n        //Location function\r\n        //Setting all properties of Location\r\n    \r\n        public void locationSettings() {\r\n    //Put in the time service\r\n            newlocationRequest = new LocationRequest();\r\n            newlocationRequest.setInterval(30000);\r\n            newlocationRequest.setFastestInterval(5000);\r\n            //most accurate use GPS\r\n            newlocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        }\r\n    \r\n        public void updateGPS() {\r\n    \r\n           // fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n            //user provided the permission , run the code\r\n            BaseView baseView = new BaseView();\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermi ssions for more details.\r\n                return;\r\n            }\r\n            fusedLocationProviderClient.getLastLocation().addOnSuccessListener(baseView, position -&gt; {\r\n                Log.d(&quot;TAG&quot;, &quot;updateGPS: position elements are : &quot; + &quot;lon = &quot; + position.getLongitude() + &quot;lat = &quot; + position.getLatitude()+&quot;alt &quot;+position.getAltitude() + &quot;Acc= &quot; + position.getAccuracy() + &quot; Speed = &quot; + position.getSpeed());\r\n    \r\n    \r\n                    location.setLongitude(position.getLongitude());\r\n                    location.setLatitude(position.getLatitude());\r\n                    location.setAltitude(position.getAltitude());\r\n                    location.setAccuracy(position.getAccuracy());\r\n                    location.setSpeed(position.getSpeed());\r\n    \r\n                assert location!=null;\r\n                appDatabase.locationDao().insert(location);\r\n    \r\n            });\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        public void startLocationUpdate() {\r\n    \r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            fusedLocationProviderClient.requestLocationUpdates(newlocationRequest,locationCallback, null);\r\n            updateGPS();\r\n    \r\n    \r\n        }\r\n    \r\n    }","title":"How get the altitude of a place where the phone is located ( not the altitude of the phone)","body":"<p>I am implementing an android app in java to determine if an object is in flight (in the example ,it's a phone hang on a drone ) . To proceed,i retrieve the altitude of the  phone , then i retrieve the altitude of the area where the phone is ( because , i suppose that in the different places in the area).Then i add a defined height on the area altitude to determine if the object is in flight when it reaches this height . But the problem is , the only altitude i can retrieve is the phone altitude but not the area altitude and i'm trying to figure it out .Could you help me ?\nHere is the code , i've implemented :</p>\n<pre><code>public class TimeService extends Service{\n    private final static String TAG = TimeService.class.getName();\n    \n  LocationEntity location = new LocationEntity();\n   \n   private  Handler handler;\n\n    FusedLocationProviderClient fusedLocationProviderClient;\n   \n    LocationRequest locationRequest;\n   \n    \n\n    LocationRequest newlocationRequest;\n   \n\n    double Longitude, Latitude, Altitude,Acccuracy,Speed;\n  \n    AppDatabase appDatabase;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        context=this;\n      \n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n         appDatabase=AppDatabase.getDbIntance(this);\n      \n\n        locationCallback = new LocationCallback() {\n            @Override\n            public void onLocationResult(@NonNull LocationResult locationResult) {\n                super.onLocationResult(locationResult);\n\n                Location location = locationResult.getLastLocation();\n                assert location != null;\n                Log.d(&quot;TAG&quot;, &quot;onLocationResult: callback method  &quot;+&quot;longitude &quot;+location.getLongitude()+&quot;latitude &quot;+location.getLatitude()+&quot;Accuracy &quot;+location.getAccuracy()+&quot;Speed &quot;+location.getSpeed());\n            }\n        };\n\n        startLocationUpdate();\n       \n        handler = new Handler();\n\n        // Define the code block to be executed\n         Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                // Insert custom code here\n                   startLocationUpdate();\n                Log.d(&quot;TAG&quot;, &quot;run: &quot;+&quot;run every 30s&quot;);\n                // Repeat every 2 seconds\n                handler.postDelayed(this, 30000L);\n            }\n        };\n\n// Start the Runnable immediately\n        handler.post(runnable);\n    }\n}\n\n    //Location function\n    //Setting all properties of Location\n\n    public void locationSettings() {\n//Put in the time service\n        newlocationRequest = new LocationRequest();\n        newlocationRequest.setInterval(30000);\n        newlocationRequest.setFastestInterval(5000);\n        //most accurate use GPS\n        newlocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    }\n\n    public void updateGPS() {\n\n       // fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n        //user provided the permission , run the code\n        BaseView baseView = new BaseView();\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermi ssions for more details.\n            return;\n        }\n        fusedLocationProviderClient.getLastLocation().addOnSuccessListener(baseView, position -&gt; {\n            Log.d(&quot;TAG&quot;, &quot;updateGPS: position elements are : &quot; + &quot;lon = &quot; + position.getLongitude() + &quot;lat = &quot; + position.getLatitude()+&quot;alt &quot;+position.getAltitude() + &quot;Acc= &quot; + position.getAccuracy() + &quot; Speed = &quot; + position.getSpeed());\n\n\n                location.setLongitude(position.getLongitude());\n                location.setLatitude(position.getLatitude());\n                location.setAltitude(position.getAltitude());\n                location.setAccuracy(position.getAccuracy());\n                location.setSpeed(position.getSpeed());\n\n            assert location!=null;\n            appDatabase.locationDao().insert(location);\n\n        });\n\n    }\n\n\n\n    public void startLocationUpdate() {\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        fusedLocationProviderClient.requestLocationUpdates(newlocationRequest,locationCallback, null);\n        updateGPS();\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":18884916,"reputation":144,"user_id":13776577,"display_name":"拉拉姬"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685582163,"creation_date":1685582163,"question_id":76378112,"body_markdown":"```java\r\nremoteViews.setTextViewText(R.id.text,&quot;Hello guys&quot;);\r\nremoteViews.setViewVisibility(R.id.text, View.GONE);\r\n```\r\n\r\nIn notification, is it possible to ignore the UI thread?","title":"Should operations on RemoteViews be placed in the UI thread?","body":"<pre class=\"lang-java prettyprint-override\"><code>remoteViews.setTextViewText(R.id.text,&quot;Hello guys&quot;);\nremoteViews.setViewVisibility(R.id.text, View.GONE);\n</code></pre>\n<p>In notification, is it possible to ignore the UI thread?</p>\n"},{"tags":["java","jts"],"answers":[{"tags":[],"owner":{"account_id":28530,"reputation":4817,"user_id":76295,"accept_rate":68,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685581666,"creation_date":1685581666,"answer_id":76378087,"question_id":76376139,"body_markdown":"OK here&#39;s the solution I found.  It requires using a &#39;noder&#39; to find all the line intersections.\r\n\r\n```java\r\nimport org.locationtech.jts.algorithm.RobustLineIntersector;\r\nimport org.locationtech.jts.geom.*;\r\nimport org.locationtech.jts.noding.*;\r\nimport org.locationtech.jts.operation.polygonize.Polygonizer;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\npublic class TestJts {\r\n    public static void main(String[] args) {\r\n        try {\r\n            List&lt;SegmentString&gt; segmentStrings = new ArrayList&lt;&gt;();\r\n            segmentStrings.add(new NodedSegmentString(\r\n                    new Coordinate[]{\r\n                            new Coordinate(-0.5, 0.5),\r\n                            new Coordinate(0, -0.5),\r\n                            new Coordinate(0, 1),\r\n                            new Coordinate(1, 1),\r\n                            new Coordinate(1, 0),\r\n                            new Coordinate(-0.5, 0)\r\n                    }, null));\r\n\r\n            segmentStrings.add(new NodedSegmentString(\r\n                    new Coordinate[]{\r\n                            new Coordinate(0, 2),\r\n                            new Coordinate(0.5, 0),\r\n                            new Coordinate(1, 2)\r\n                    }, null));\r\n\r\n\r\n            Collection&lt;Polygon&gt; polygons = getPolygons(segmentStrings);\r\n            for (Polygon polygon : polygons) {\r\n                System.out.println(polygon);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private static Collection&lt;Polygon&gt; getPolygons(List&lt;SegmentString&gt; segmentStrings) {\r\n        GeometryFactory factory = new GeometryFactory();\r\n        MCIndexNoder noder = new MCIndexNoder();\r\n        noder.setSegmentIntersector(new IntersectionAdder(new RobustLineIntersector()));\r\n        noder.computeNodes(segmentStrings);\r\n\r\n        Collection&lt;NodedSegmentString&gt; nodedSubstrings = noder.getNodedSubstrings();\r\n\r\n        List&lt;LineString&gt; lineStrings = new ArrayList&lt;&gt;();\r\n        for (NodedSegmentString nss : nodedSubstrings) {\r\n            lineStrings.add(factory.createLineString(nss.getCoordinates()));\r\n        }\r\n\r\n        Polygonizer polygonizer = new Polygonizer();\r\n        polygonizer.add(lineStrings);\r\n\r\n        return polygonizer.getPolygons();\r\n    }\r\n}\r\n```","title":"How can I find the set of polygons created by a set of lines in JTS?","body":"<p>OK here's the solution I found.  It requires using a 'noder' to find all the line intersections.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.locationtech.jts.algorithm.RobustLineIntersector;\nimport org.locationtech.jts.geom.*;\nimport org.locationtech.jts.noding.*;\nimport org.locationtech.jts.operation.polygonize.Polygonizer;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\npublic class TestJts {\n    public static void main(String[] args) {\n        try {\n            List&lt;SegmentString&gt; segmentStrings = new ArrayList&lt;&gt;();\n            segmentStrings.add(new NodedSegmentString(\n                    new Coordinate[]{\n                            new Coordinate(-0.5, 0.5),\n                            new Coordinate(0, -0.5),\n                            new Coordinate(0, 1),\n                            new Coordinate(1, 1),\n                            new Coordinate(1, 0),\n                            new Coordinate(-0.5, 0)\n                    }, null));\n\n            segmentStrings.add(new NodedSegmentString(\n                    new Coordinate[]{\n                            new Coordinate(0, 2),\n                            new Coordinate(0.5, 0),\n                            new Coordinate(1, 2)\n                    }, null));\n\n\n            Collection&lt;Polygon&gt; polygons = getPolygons(segmentStrings);\n            for (Polygon polygon : polygons) {\n                System.out.println(polygon);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static Collection&lt;Polygon&gt; getPolygons(List&lt;SegmentString&gt; segmentStrings) {\n        GeometryFactory factory = new GeometryFactory();\n        MCIndexNoder noder = new MCIndexNoder();\n        noder.setSegmentIntersector(new IntersectionAdder(new RobustLineIntersector()));\n        noder.computeNodes(segmentStrings);\n\n        Collection&lt;NodedSegmentString&gt; nodedSubstrings = noder.getNodedSubstrings();\n\n        List&lt;LineString&gt; lineStrings = new ArrayList&lt;&gt;();\n        for (NodedSegmentString nss : nodedSubstrings) {\n            lineStrings.add(factory.createLineString(nss.getCoordinates()));\n        }\n\n        Polygonizer polygonizer = new Polygonizer();\n        polygonizer.add(lineStrings);\n\n        return polygonizer.getPolygons();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28530,"reputation":4817,"user_id":76295,"accept_rate":68,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685581666,"creation_date":1685555547,"question_id":76376139,"body_markdown":"I have a set of line segments and I want to find what polygons are formed by the intersection of those lines.  For example, suppose I have the following two line sequences:\r\n\r\n(-0.5, 0.5) to (0, -0.5) to (0, 1) to (1, 1) to (1, 0) to (-0.5, 0)\r\n\r\nand \r\n\r\n(0, 2) to (0.5, 0) to (1, 2)\r\n\r\nHow can I find the 4 polygon shapes as identified by the red arrows in the following diagram:\r\n[![Diagram showing lines in cartesian plane][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IOnjQ.png","title":"How can I find the set of polygons created by a set of lines in JTS?","body":"<p>I have a set of line segments and I want to find what polygons are formed by the intersection of those lines.  For example, suppose I have the following two line sequences:</p>\n<p>(-0.5, 0.5) to (0, -0.5) to (0, 1) to (1, 1) to (1, 0) to (-0.5, 0)</p>\n<p>and</p>\n<p>(0, 2) to (0.5, 0) to (1, 2)</p>\n<p>How can I find the 4 polygon shapes as identified by the red arrows in the following diagram:\n<a href=\"https://i.stack.imgur.com/IOnjQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IOnjQ.png\" alt=\"Diagram showing lines in cartesian plane\" /></a></p>\n"},{"tags":["java","spring-boot","swagger","jersey","swagger-core"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1671581413,"post_id":74870001,"comment_id":132128949,"body_markdown":"`Using the version: 1.6.8, swagger-ui shows :`,  `limit` show `default value` is `24`, where is `24` in your code ?","body":"<code>Using the version: 1.6.8, swagger-ui shows :</code>,  <code>limit</code> show <code>default value</code> is <code>24</code>, where is <code>24</code> in your code ?"},{"owner":{"account_id":505268,"reputation":45,"user_id":190643,"display_name":"Leonardo Lima"},"score":0,"creation_date":1671582880,"post_id":74870001,"comment_id":132129166,"body_markdown":"@life888888 thanks for this reply, the code is the same, just the value in the image is wrong, and default value is set on limit item on Pagination class using &#39;@DefaultValue&#39;","body":"@life888888 thanks for this reply, the code is the same, just the value in the image is wrong, and default value is set on limit item on Pagination class using &#39;@DefaultValue&#39;"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1671592757,"post_id":74870001,"comment_id":132130486,"body_markdown":"https://github.com/springdoc/springdoc-openapi/issues/868, `@Schema(description = &quot;Test enum object&quot;, defaultValue = &quot;TestEnum.C&quot;)`","body":"<a href=\"https://github.com/springdoc/springdoc-openapi/issues/868\" rel=\"nofollow noreferrer\">github.com/springdoc/springdoc-openapi/issues/868</a>, <code>@Schema(description = &quot;Test enum object&quot;, defaultValue = &quot;TestEnum.C&quot;)</code>"},{"owner":{"account_id":505268,"reputation":45,"user_id":190643,"display_name":"Leonardo Lima"},"score":0,"creation_date":1671629347,"post_id":74870001,"comment_id":132139478,"body_markdown":"@life888888 I tried use Schema... \n\n  @QueryParam(&quot;limit&quot;)\n  @Schema(defaultValue = &quot;200&quot;, type = &quot;integer&quot;, format = &quot;int32&quot;)\n  private Integer limit = 24;\n\nIt still showing 2 json input objects but now with the right default value","body":"@life888888 I tried use Schema...     @QueryParam(&quot;limit&quot;)   @Schema(defaultValue = &quot;200&quot;, type = &quot;integer&quot;, format = &quot;int32&quot;)   private Integer limit = 24;  It still showing 2 json input objects but now with the right default value"}],"owner":{"account_id":505268,"reputation":45,"user_id":190643,"display_name":"Leonardo Lima"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685580562,"creation_date":1671579742,"question_id":74870001,"body_markdown":"I&#39;m in a journey to upgrade swagger-jaxrs2-jakarta 1.6.8 to 2.2.7, I got almost everything working except some object parameters that should be exploded as inputs in the Swagger-ui and them still be interpreted as JSON input... and not as 2 distinct inputs\r\n\r\n - Java: 17 Springboot: 3.0.0 \r\n - Jersey: 3.1.0 \r\n - swagger-jaxrs2-jakarta: 2.2.7\r\n\r\nResource Interface\r\n\r\n```\r\n@Tag(name = &quot;MyResource&quot;, description = &quot;MyResource enpoint&quot;)\r\n@Path(&quot;/&quot;)\r\n@RequestMapping\r\npublic interface MyResourceAPI {\r\n\r\n  @GET\r\n  @Path(&quot;/get/{name}/something&quot;)\r\n  @Produces(MediaType.APPLICATION_JSON)\r\n  @Operation(summary = &quot;MyResource&quot;)\r\n  @GetMapping(value = &quot;/get/{name}/something&quot;)\r\n  @ApiResponses(value = {\r\n      @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Not found&quot;),\r\n      @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Bad request&quot;),\r\n      @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Sucesso&quot;, content = @Content(schema = @Schema(implementation = MyResourcehResponse.class)))\r\n  })\r\n  Response search(@Context HttpServletRequest servletRequest, @BeanParam MyCustomRequest myRequest);\r\n}\r\n```\r\nResource Impl\r\n\r\n```\r\n@Component\r\npublic class MyResourceAPIImpl extends implements MyResourceAPI {\r\n\r\n  @Override\r\n  public Response search(HttpServletRequest servletRequest, MyCustomRequest myRequest) {\r\n    #hidden logic\r\n    return Response.ok().entity(myResponse).build();\r\n  }\r\n}\r\n```\r\nRequest&#39;s classes\r\n\r\n```\r\npublic class MyCustomRequest extends Request {\r\n\r\n}\r\n\r\npublic class Request {\r\n  @BeanParam\r\n  @Builder.Default\r\n  private Pagination pagination = new Pagination();\r\n}\r\n\r\npublic class Pagination {\r\n\r\n  @QueryParam(&quot;limit&quot;)\r\n  @DefaultValue(&quot;200&quot;)\r\n  private Integer limit = 200;\r\n\r\n  @QueryParam(&quot;offset&quot;)\r\n  @DefaultValue(&quot;0&quot;)\r\n  private Integer offset = 0;\r\n}\r\n```\r\n\r\nUsing the version: 1.6.8, swagger-ui shows\r\n[![enter image description here][1]][1]\r\n\r\nAfter upgrade:\r\n[![enter image description here](https://i.stack.imgur.com/gMRdk.png)](https://i.stack.imgur.com/gMRdk.png)\r\n\r\nIf I remove @QueryParam from Pagination items, they disappear, and if I remove @BeanParam from Pagination declaration, it works as a single JSON input.\r\n\r\nI&#39;m without any clue to fix this... anyone already got this issue or something similar and can help me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KLvNp.png","title":"Springboot + Jersey 3 + Swagger-core - Nested @Beanparam not rendering correctly","body":"<p>I'm in a journey to upgrade swagger-jaxrs2-jakarta 1.6.8 to 2.2.7, I got almost everything working except some object parameters that should be exploded as inputs in the Swagger-ui and them still be interpreted as JSON input... and not as 2 distinct inputs</p>\n<ul>\n<li>Java: 17 Springboot: 3.0.0</li>\n<li>Jersey: 3.1.0</li>\n<li>swagger-jaxrs2-jakarta: 2.2.7</li>\n</ul>\n<p>Resource Interface</p>\n<pre><code>@Tag(name = &quot;MyResource&quot;, description = &quot;MyResource enpoint&quot;)\n@Path(&quot;/&quot;)\n@RequestMapping\npublic interface MyResourceAPI {\n\n  @GET\n  @Path(&quot;/get/{name}/something&quot;)\n  @Produces(MediaType.APPLICATION_JSON)\n  @Operation(summary = &quot;MyResource&quot;)\n  @GetMapping(value = &quot;/get/{name}/something&quot;)\n  @ApiResponses(value = {\n      @ApiResponse(responseCode = &quot;404&quot;, description = &quot;Not found&quot;),\n      @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Bad request&quot;),\n      @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Sucesso&quot;, content = @Content(schema = @Schema(implementation = MyResourcehResponse.class)))\n  })\n  Response search(@Context HttpServletRequest servletRequest, @BeanParam MyCustomRequest myRequest);\n}\n</code></pre>\n<p>Resource Impl</p>\n<pre><code>@Component\npublic class MyResourceAPIImpl extends implements MyResourceAPI {\n\n  @Override\n  public Response search(HttpServletRequest servletRequest, MyCustomRequest myRequest) {\n    #hidden logic\n    return Response.ok().entity(myResponse).build();\n  }\n}\n</code></pre>\n<p>Request's classes</p>\n<pre><code>public class MyCustomRequest extends Request {\n\n}\n\npublic class Request {\n  @BeanParam\n  @Builder.Default\n  private Pagination pagination = new Pagination();\n}\n\npublic class Pagination {\n\n  @QueryParam(&quot;limit&quot;)\n  @DefaultValue(&quot;200&quot;)\n  private Integer limit = 200;\n\n  @QueryParam(&quot;offset&quot;)\n  @DefaultValue(&quot;0&quot;)\n  private Integer offset = 0;\n}\n</code></pre>\n<p>Using the version: 1.6.8, swagger-ui shows\n<a href=\"https://i.stack.imgur.com/KLvNp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KLvNp.png\" alt=\"enter image description here\" /></a></p>\n<p>After upgrade:\n<a href=\"https://i.stack.imgur.com/gMRdk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gMRdk.png\" alt=\"enter image description here\" /></a></p>\n<p>If I remove @QueryParam from Pagination items, they disappear, and if I remove @BeanParam from Pagination declaration, it works as a single JSON input.</p>\n<p>I'm without any clue to fix this... anyone already got this issue or something similar and can help me?</p>\n"},{"tags":["java","spring-boot","maven","openapi-generator-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":9727666,"reputation":71,"user_id":7213979,"display_name":"kinlhp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685579955,"creation_date":1685499974,"answer_id":76369775,"question_id":76369664,"body_markdown":"After hitting my head a lot _(Brazilian expression for trying several times)_, I found a mechanism provided by the plugin itself.\r\n\r\nIt consists of two steps:\r\n\r\n 1. Create `${project.baseDir}/.openapi-generator-ignore` defining the paths to be ignored:\r\n```properties\r\n# ${project.baseDir}/.openapi-generator-ignore\r\n\r\n# https://github.com/OpenAPITools/openapi-generator/blob/master/docs/customization.md#ignore-file-format\r\n#\r\n# Use this file to prevent files from being overwritten by the generator.\r\n# The patterns follow closely to .gitignore or .dockerignore.\r\n\r\n**/OpenApiGeneratorApplicationTests.java\r\n```\r\n 2. Define in the plugin configuration (`&lt;ignoreFileOverride&gt;`) the file that defines the path to be ignored (`.openapi-generator-ignore`):\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.kinlhp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;moname-build&lt;/artifactId&gt;\r\n\t&lt;version&gt;${revision}&lt;/version&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t&lt;name&gt;${project.artifactId}&lt;/name&gt;\r\n\t&lt;description&gt;Project to money me with no name [build].&lt;/description&gt;\r\n\t&lt;url&gt;https://moname.kinlhp.com&lt;/url&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;main.basedir&gt;${basedir}&lt;/main.basedir&gt;\r\n\t\t&lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\r\n\t\t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\t\t&lt;openapi-generator.base-package&gt;com.kinlhp.moname.commons.api.oas&lt;/openapi-generator.base-package&gt;\r\n\t\t&lt;openapi-generator.input-spec&gt;${project.basedir}/src/main/resources/openapi/specification.yaml&lt;/openapi-generator.input-spec&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;${project.build.sourceEncoding}&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;!-- dependency versions --&gt;\r\n\t\t&lt;revision&gt;1.0.0.BUILD-SNAPSHOT&lt;/revision&gt;\r\n\t\t&lt;!-- # third party # --&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;openapi-generator-maven-plugin.version&gt;6.6.0&lt;/openapi-generator-maven-plugin.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;!-- # third party # --&gt;\r\n\t\t\t\t&lt;!-- openapitools --&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;${openapi-generator-maven-plugin.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;openapi-generator&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- README#openapi-generator-spring-metadata --&gt;\r\n\t\t\t\t\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n\t\t\t\t\t\t\t\t&lt;!-- README#openapi-generator-spring-config-options --&gt;\r\n\t\t\t\t\t\t\t\t&lt;apiPackage&gt;${openapi-generator.base-package}.endpoint&lt;/apiPackage&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;moname-commons-api-oas&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactVersion&gt;${revision}&lt;/artifactVersion&gt;\r\n\t\t\t\t\t\t\t\t&lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n\t\t\t\t\t\t\t\t&lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;ignoreFileOverride&gt;.openapi-generator-ignore&lt;/ignoreFileOverride&gt;\r\n\t\t\t\t\t\t\t\t&lt;inputSpec&gt;${openapi-generator.input-spec}&lt;/inputSpec&gt;\r\n\t\t\t\t\t\t\t\t&lt;invokerPackage&gt;${openapi-generator.base-package}.invoker&lt;/invokerPackage&gt;\r\n\t\t\t\t\t\t\t\t&lt;modelNameSuffix&gt;DTO&lt;/modelNameSuffix&gt;\r\n\t\t\t\t\t\t\t\t&lt;modelPackage&gt;${openapi-generator.base-package}.payload&lt;/modelPackage&gt;\r\n\t\t\t\t\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;!-- README#openapi-generator-spring-metadata --&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;generatorLanguage&gt;Java&lt;/generatorLanguage&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;generatorType&gt;SERVER&lt;/generatorType&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;!-- README#openapi-generator-spring-config-options --&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;artifactDescription&gt;Project to money me with no name [commons-api-oas].&lt;/artifactDescription&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;artifactUrl&gt;${project.url}&lt;/artifactUrl&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;basePackage&gt;${openapi-generator.base-package}&lt;/basePackage&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;bigDecimalAsString&gt;true&lt;/bigDecimalAsString&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;booleanGetterPrefix&gt;is&lt;/booleanGetterPrefix&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;configPackage&gt;${openapi-generator.base-package}.configuration&lt;/configPackage&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;developerEmail&gt;lhp.kin@gmail.com&lt;/developerEmail&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;developerName&gt;Luis Henrique Pereira&lt;/developerName&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;developerOrganization&gt;${project.organization.name}&lt;/developerOrganization&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;developerOrganizationUrl&gt;${project.organization.url}&lt;/developerOrganizationUrl&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;licenseName&gt;MIT License&lt;/licenseName&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;licenseUrl&gt;https://www.opensource.org/licenses/mit-license.php&lt;/licenseUrl&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;parentArtifactId&gt;moname-commons&lt;/parentArtifactId&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;parentGroupId&gt;${project.parent.groupId}&lt;/parentGroupId&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;parentVersion&gt;${revision}&lt;/parentVersion&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;scmConnection&gt;${project.scm.connection}&lt;/scmConnection&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;scmDeveloperConnection&gt;${project.scm.developerConnection}&lt;/scmDeveloperConnection&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;scmUrl&gt;${project.scm.url}&lt;/scmUrl&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;serializableModel&gt;true&lt;/serializableModel&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;title&gt;Project to money me with no name [commons-api-oas].&lt;/title&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;unhandledException&gt;true&lt;/unhandledException&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;useSpringBoot3&gt;true&lt;/useSpringBoot3&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;useSpringController&gt;true&lt;/useSpringController&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAs result, the ignore behavior can be seen by the log:\r\n```bash\r\n./mvn --batch-mode --define skipTests --no-transfer-progress --threads 1C --update-snapshots clean package\r\n```\r\n\r\n```log\r\n...\r\n[INFO] --- openapi-generator:6.6.0:generate (default-generate) @ moname-addressing-api ---\r\n[INFO] Generating with dryRun=false\r\n[INFO] OpenAPI Generator: spring (server)\r\n[INFO] Generator &#39;spring&#39; is considered stable.\r\n[INFO] ----------------------------------\r\n[INFO] Environment variable JAVA_POST_PROCESS_FILE not defined so the Java code may not be properly formatted. To define it, try &#39;export JAVA_POST_PROCESS_FILE=&quot;/usr/local/bin/clang-format -i&quot;&#39; (Linux/Mac)\r\n[INFO] NOTE: To enable file post-processing, &#39;enablePostProcessFile&#39; must be set to `true` (--enable-post-process-file for CLI).\r\n[INFO] Processing operation getCountries\r\n...\r\n[INFO] Ignored /home/kin/projects/moname/moname-addressing/moname-addressing-api/target/generated-sources/openapi/src/test/java/com/kinlhp/moname/addressing/api/oas/OpenApiGeneratorApplicationTests.java (Ignored by rule in ignore file.)\r\n...\r\n################################################################################\r\n# Thanks for using OpenAPI Generator.                                          #\r\n# Please consider donation to help us maintain this project &#128591;                 #\r\n# https://opencollective.com/openapi_generator/donate                          #\r\n################################################################################\r\n...\r\n```\r\n\r\nThe complete code can be seen on this [repository](https://github.com/kinlhpsoftwareinc/moname/blob/develop/pom.xml).","title":"How OpenAPI Generator .openapi-generator-ignore works on openapi-generator-maven-plugin?","body":"<p>After hitting my head a lot <em>(Brazilian expression for trying several times)</em>, I found a mechanism provided by the plugin itself.</p>\n<p>It consists of two steps:</p>\n<ol>\n<li>Create <code>${project.baseDir}/.openapi-generator-ignore</code> defining the paths to be ignored:</li>\n</ol>\n<pre><code># ${project.baseDir}/.openapi-generator-ignore\n\n# https://github.com/OpenAPITools/openapi-generator/blob/master/docs/customization.md#ignore-file-format\n#\n# Use this file to prevent files from being overwritten by the generator.\n# The patterns follow closely to .gitignore or .dockerignore.\n\n**/OpenApiGeneratorApplicationTests.java\n</code></pre>\n<ol start=\"2\">\n<li>Define in the plugin configuration (<code>&lt;ignoreFileOverride&gt;</code>) the file that defines the path to be ignored (<code>.openapi-generator-ignore</code>):</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.kinlhp&lt;/groupId&gt;\n    &lt;artifactId&gt;moname-build&lt;/artifactId&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;${project.artifactId}&lt;/name&gt;\n    &lt;description&gt;Project to money me with no name [build].&lt;/description&gt;\n    &lt;url&gt;https://moname.kinlhp.com&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;main.basedir&gt;${basedir}&lt;/main.basedir&gt;\n        &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;openapi-generator.base-package&gt;com.kinlhp.moname.commons.api.oas&lt;/openapi-generator.base-package&gt;\n        &lt;openapi-generator.input-spec&gt;${project.basedir}/src/main/resources/openapi/specification.yaml&lt;/openapi-generator.input-spec&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;${project.build.sourceEncoding}&lt;/project.reporting.outputEncoding&gt;\n        &lt;!-- dependency versions --&gt;\n        &lt;revision&gt;1.0.0.BUILD-SNAPSHOT&lt;/revision&gt;\n        &lt;!-- # third party # --&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;openapi-generator-maven-plugin.version&gt;6.6.0&lt;/openapi-generator-maven-plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;!-- # third party # --&gt;\n                &lt;!-- openapitools --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${openapi-generator-maven-plugin.version}&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;openapi-generator&lt;/id&gt;\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;generate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;!-- README#openapi-generator-spring-metadata --&gt;\n                                &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                                &lt;!-- README#openapi-generator-spring-config-options --&gt;\n                                &lt;apiPackage&gt;${openapi-generator.base-package}.endpoint&lt;/apiPackage&gt;\n                                &lt;artifactId&gt;moname-commons-api-oas&lt;/artifactId&gt;\n                                &lt;artifactVersion&gt;${revision}&lt;/artifactVersion&gt;\n                                &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                                &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                &lt;ignoreFileOverride&gt;.openapi-generator-ignore&lt;/ignoreFileOverride&gt;\n                                &lt;inputSpec&gt;${openapi-generator.input-spec}&lt;/inputSpec&gt;\n                                &lt;invokerPackage&gt;${openapi-generator.base-package}.invoker&lt;/invokerPackage&gt;\n                                &lt;modelNameSuffix&gt;DTO&lt;/modelNameSuffix&gt;\n                                &lt;modelPackage&gt;${openapi-generator.base-package}.payload&lt;/modelPackage&gt;\n                                &lt;configOptions&gt;\n                                    &lt;!-- README#openapi-generator-spring-metadata --&gt;\n                                    &lt;generatorLanguage&gt;Java&lt;/generatorLanguage&gt;\n                                    &lt;generatorType&gt;SERVER&lt;/generatorType&gt;\n                                    &lt;!-- README#openapi-generator-spring-config-options --&gt;\n                                    &lt;artifactDescription&gt;Project to money me with no name [commons-api-oas].&lt;/artifactDescription&gt;\n                                    &lt;artifactUrl&gt;${project.url}&lt;/artifactUrl&gt;\n                                    &lt;basePackage&gt;${openapi-generator.base-package}&lt;/basePackage&gt;\n                                    &lt;bigDecimalAsString&gt;true&lt;/bigDecimalAsString&gt;\n                                    &lt;booleanGetterPrefix&gt;is&lt;/booleanGetterPrefix&gt;\n                                    &lt;configPackage&gt;${openapi-generator.base-package}.configuration&lt;/configPackage&gt;\n                                    &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                                    &lt;developerEmail&gt;lhp.kin@gmail.com&lt;/developerEmail&gt;\n                                    &lt;developerName&gt;Luis Henrique Pereira&lt;/developerName&gt;\n                                    &lt;developerOrganization&gt;${project.organization.name}&lt;/developerOrganization&gt;\n                                    &lt;developerOrganizationUrl&gt;${project.organization.url}&lt;/developerOrganizationUrl&gt;\n                                    &lt;licenseName&gt;MIT License&lt;/licenseName&gt;\n                                    &lt;licenseUrl&gt;https://www.opensource.org/licenses/mit-license.php&lt;/licenseUrl&gt;\n                                    &lt;parentArtifactId&gt;moname-commons&lt;/parentArtifactId&gt;\n                                    &lt;parentGroupId&gt;${project.parent.groupId}&lt;/parentGroupId&gt;\n                                    &lt;parentVersion&gt;${revision}&lt;/parentVersion&gt;\n                                    &lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\n                                    &lt;scmConnection&gt;${project.scm.connection}&lt;/scmConnection&gt;\n                                    &lt;scmDeveloperConnection&gt;${project.scm.developerConnection}&lt;/scmDeveloperConnection&gt;\n                                    &lt;scmUrl&gt;${project.scm.url}&lt;/scmUrl&gt;\n                                    &lt;serializableModel&gt;true&lt;/serializableModel&gt;\n                                    &lt;title&gt;Project to money me with no name [commons-api-oas].&lt;/title&gt;\n                                    &lt;unhandledException&gt;true&lt;/unhandledException&gt;\n                                    &lt;useSpringBoot3&gt;true&lt;/useSpringBoot3&gt;\n                                    &lt;useSpringController&gt;true&lt;/useSpringController&gt;\n                                &lt;/configOptions&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>As result, the ignore behavior can be seen by the log:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./mvn --batch-mode --define skipTests --no-transfer-progress --threads 1C --update-snapshots clean package\n</code></pre>\n<pre><code>...\n[INFO] --- openapi-generator:6.6.0:generate (default-generate) @ moname-addressing-api ---\n[INFO] Generating with dryRun=false\n[INFO] OpenAPI Generator: spring (server)\n[INFO] Generator 'spring' is considered stable.\n[INFO] ----------------------------------\n[INFO] Environment variable JAVA_POST_PROCESS_FILE not defined so the Java code may not be properly formatted. To define it, try 'export JAVA_POST_PROCESS_FILE=&quot;/usr/local/bin/clang-format -i&quot;' (Linux/Mac)\n[INFO] NOTE: To enable file post-processing, 'enablePostProcessFile' must be set to `true` (--enable-post-process-file for CLI).\n[INFO] Processing operation getCountries\n...\n[INFO] Ignored /home/kin/projects/moname/moname-addressing/moname-addressing-api/target/generated-sources/openapi/src/test/java/com/kinlhp/moname/addressing/api/oas/OpenApiGeneratorApplicationTests.java (Ignored by rule in ignore file.)\n...\n################################################################################\n# Thanks for using OpenAPI Generator.                                          #\n# Please consider donation to help us maintain this project 🙏                 #\n# https://opencollective.com/openapi_generator/donate                          #\n################################################################################\n...\n</code></pre>\n<p>The complete code can be seen on this <a href=\"https://github.com/kinlhpsoftwareinc/moname/blob/develop/pom.xml\" rel=\"nofollow noreferrer\">repository</a>.</p>\n"}],"owner":{"account_id":9727666,"reputation":71,"user_id":7213979,"display_name":"kinlhp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2515,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1685579955,"creation_date":1685498153,"question_id":76369664,"body_markdown":"I want that openapi-generator-maven-plugin do not generates `${openapi-generator.base-package}/OpenApiGeneratorApplicationTests.java`.\r\n\r\nI&#39;m trying correctly use .openapi-generator-ignore feature.\r\n\r\nMy currently maven plugin configuration can be viewed on this [repository](https://github.com/kinlhpsoftwareinc/moname/blob/develop/pom.xml).","title":"How OpenAPI Generator .openapi-generator-ignore works on openapi-generator-maven-plugin?","body":"<p>I want that openapi-generator-maven-plugin do not generates <code>${openapi-generator.base-package}/OpenApiGeneratorApplicationTests.java</code>.</p>\n<p>I'm trying correctly use .openapi-generator-ignore feature.</p>\n<p>My currently maven plugin configuration can be viewed on this <a href=\"https://github.com/kinlhpsoftwareinc/moname/blob/develop/pom.xml\" rel=\"nofollow noreferrer\">repository</a>.</p>\n"},{"tags":["java","spring-boot","maven","openapi","openapi-generator"],"comments":[{"owner":{"account_id":8940505,"reputation":961,"user_id":6669735,"display_name":"Byron Lagrone"},"score":0,"creation_date":1661196363,"post_id":73450027,"comment_id":129710006,"body_markdown":"Are you working off of a sample? `OpenApiGeneratorApplicationTests` is present (not generated) in `src/test/java/org/openapitools/` in many of the samples.","body":"Are you working off of a sample? <code>OpenApiGeneratorApplicationTests</code> is present (not generated) in <code>src&#47;test&#47;java&#47;org&#47;openapitools&#47;</code> in many of the samples."},{"owner":{"account_id":16264201,"reputation":77,"user_id":13821253,"display_name":"M Hot"},"score":0,"creation_date":1661196524,"post_id":73450027,"comment_id":129710061,"body_markdown":"@ByronLagrone yes within the /target folder its under test/java/myproject.invoker/OpenApiGeneratorApplicationTests  ... how can I skip that?","body":"@ByronLagrone yes within the /target folder its under test/java/myproject.invoker/OpenApiGeneratorApplicationTests  ... how can I skip that?"},{"owner":{"account_id":8940505,"reputation":961,"user_id":6669735,"display_name":"Byron Lagrone"},"score":0,"creation_date":1661196605,"post_id":73450027,"comment_id":129710086,"body_markdown":"Double-check that you don&#39;t have the folder (relative to the root, not under the target directory) `src/test/java/org/openapitools/`; if it&#39;s there delete it. Then I would try a `mvn clean compile` and see if this persists","body":"Double-check that you don&#39;t have the folder (relative to the root, not under the target directory) <code>src&#47;test&#47;java&#47;org&#47;openapitools&#47;</code>; if it&#39;s there delete it. Then I would try a <code>mvn clean compile</code> and see if this persists"},{"owner":{"account_id":16264201,"reputation":77,"user_id":13821253,"display_name":"M Hot"},"score":0,"creation_date":1661196716,"post_id":73450027,"comment_id":129710112,"body_markdown":"@ByronLagrone it is not under the root. Its under the target folder that gets generated after a compile. Under the root I have currently just the &quot;out-of-the-box&quot; spring boot test for loading my application context..","body":"@ByronLagrone it is not under the root. Its under the target folder that gets generated after a compile. Under the root I have currently just the &quot;out-of-the-box&quot; spring boot test for loading my application context.."}],"answers":[{"tags":[],"owner":{"account_id":3344727,"reputation":2460,"user_id":2810099,"accept_rate":81,"display_name":"Marius Manastireanu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665586987,"creation_date":1665586987,"answer_id":74044087,"question_id":73450027,"body_markdown":"I&#39;ve encountered today the same issue. So long story short:\r\n\r\nBy default the generator maven plugin for Spring will generate the &#39;invoker&#39; - which by implementation is actually  a `@SpringBootApplication` starter class.\r\n```java\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = {&quot;com.mypackage.invoker&quot;, &quot;com.mypackage.api&quot; , &quot;org.openapitools.configuration&quot;})\r\npublic class OpenApiGeneratorApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(OpenApiGeneratorApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public Module jsonNullableModule() {\r\n        return new JsonNullableModule();\r\n    }\r\n\r\n}\r\n```\r\nand will also generate the associated test class `OpenApiGeneratorApplicationTests`\r\n```java\r\n@SpringBootTest\r\nclass OpenApiGeneratorApplicationTests {\r\n\r\n    @Test\r\n    void contextLoads() {\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe problem here is that the `src/test/com/mypackage/invoker/OpenApiGeneratorApplicationTests.java`, and actually the whole package under `test` is marked as source, not as test-source and in my case this will result in compile time errors (since the test-scoped dependencies are not found).\r\n\r\nI managed to get around it by configuring the maven plugin with\r\n```xml\r\n&lt;configOptions&gt;\r\n\t&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n    ...\r\n&lt;/configOptions&gt;\r\n```\r\nwhich will skip the generation of the SpringBootApplication and the associated Tests.\r\n\r\nI&#39;ve also submitted a [ticket][1] to the OpenApi Generator project&#39;s github for marking the \r\n\r\n\r\n  [1]: https://github.com/OpenAPITools/openapi-generator/issues/13677","title":"Java Maven OpenApi Specification (3.0) Codegen is generating unwanted test file, how to remove that?","body":"<p>I've encountered today the same issue. So long story short:</p>\n<p>By default the generator maven plugin for Spring will generate the 'invoker' - which by implementation is actually  a <code>@SpringBootApplication</code> starter class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@ComponentScan(basePackages = {&quot;com.mypackage.invoker&quot;, &quot;com.mypackage.api&quot; , &quot;org.openapitools.configuration&quot;})\npublic class OpenApiGeneratorApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(OpenApiGeneratorApplication.class, args);\n    }\n\n    @Bean\n    public Module jsonNullableModule() {\n        return new JsonNullableModule();\n    }\n\n}\n</code></pre>\n<p>and will also generate the associated test class <code>OpenApiGeneratorApplicationTests</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass OpenApiGeneratorApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n<p>The problem here is that the <code>src/test/com/mypackage/invoker/OpenApiGeneratorApplicationTests.java</code>, and actually the whole package under <code>test</code> is marked as source, not as test-source and in my case this will result in compile time errors (since the test-scoped dependencies are not found).</p>\n<p>I managed to get around it by configuring the maven plugin with</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configOptions&gt;\n    &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n    ...\n&lt;/configOptions&gt;\n</code></pre>\n<p>which will skip the generation of the SpringBootApplication and the associated Tests.</p>\n<p>I've also submitted a <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/13677\" rel=\"nofollow noreferrer\">ticket</a> to the OpenApi Generator project's github for marking the</p>\n"},{"tags":[],"owner":{"account_id":9727666,"reputation":71,"user_id":7213979,"display_name":"kinlhp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685579522,"creation_date":1685579218,"answer_id":76378004,"question_id":73450027,"body_markdown":"An detailed response can be seen [here](https://stackoverflow.com/a/76369775/7213979).\r\n\r\nBut, briefly example is:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.kinlhp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;moname-build&lt;/artifactId&gt;\r\n    &lt;version&gt;${revision}&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;name&gt;${project.artifactId}&lt;/name&gt;\r\n    &lt;description&gt;Project to money me with no name [build].&lt;/description&gt;\r\n    &lt;url&gt;https://moname.kinlhp.com&lt;/url&gt;\r\n    &lt;properties&gt;\r\n        &lt;main.basedir&gt;${basedir}&lt;/main.basedir&gt;\r\n        &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n        &lt;openapi-generator.base-package&gt;com.kinlhp.moname.commons.api.oas&lt;/openapi-generator.base-package&gt;\r\n        &lt;openapi-generator.input-spec&gt;${project.basedir}/src/main/resources/openapi/specification.yaml&lt;/openapi-generator.input-spec&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;${project.build.sourceEncoding}&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;!-- dependency versions --&gt;\r\n        &lt;revision&gt;1.0.0.BUILD-SNAPSHOT&lt;/revision&gt;\r\n        &lt;!-- # third party # --&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;openapi-generator-maven-plugin.version&gt;6.6.0&lt;/openapi-generator-maven-plugin.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- # third party # --&gt;\r\n                &lt;!-- openapitools --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${openapi-generator-maven-plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;openapi-generator&lt;/id&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;!-- README#openapi-generator-spring-metadata --&gt;\r\n                                &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                                &lt;!-- README#openapi-generator-spring-config-options --&gt;\r\n                                &lt;apiPackage&gt;${openapi-generator.base-package}.endpoint&lt;/apiPackage&gt;\r\n                                &lt;artifactId&gt;moname-commons-api-oas&lt;/artifactId&gt;\r\n                                &lt;artifactVersion&gt;${revision}&lt;/artifactVersion&gt;\r\n                                &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n                                &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n                                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n                                &lt;ignoreFileOverride&gt;.openapi-generator-ignore&lt;/ignoreFileOverride&gt;\r\n                                &lt;inputSpec&gt;${openapi-generator.input-spec}&lt;/inputSpec&gt;\r\n                                &lt;invokerPackage&gt;${openapi-generator.base-package}.invoker&lt;/invokerPackage&gt;\r\n                                &lt;modelNameSuffix&gt;DTO&lt;/modelNameSuffix&gt;\r\n                                &lt;modelPackage&gt;${openapi-generator.base-package}.payload&lt;/modelPackage&gt;\r\n                                &lt;configOptions&gt;\r\n                                    &lt;!-- README#openapi-generator-spring-metadata --&gt;\r\n                                    &lt;generatorLanguage&gt;Java&lt;/generatorLanguage&gt;\r\n                                    &lt;generatorType&gt;SERVER&lt;/generatorType&gt;\r\n                                    &lt;!-- README#openapi-generator-spring-config-options --&gt;\r\n                                    &lt;artifactDescription&gt;Project to money me with no name [commons-api-oas].&lt;/artifactDescription&gt;\r\n                                    &lt;artifactUrl&gt;${project.url}&lt;/artifactUrl&gt;\r\n                                    &lt;basePackage&gt;${openapi-generator.base-package}&lt;/basePackage&gt;\r\n                                    &lt;bigDecimalAsString&gt;true&lt;/bigDecimalAsString&gt;\r\n                                    &lt;booleanGetterPrefix&gt;is&lt;/booleanGetterPrefix&gt;\r\n                                    &lt;configPackage&gt;${openapi-generator.base-package}.configuration&lt;/configPackage&gt;\r\n                                    &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n                                    &lt;developerEmail&gt;lhp.kin@gmail.com&lt;/developerEmail&gt;\r\n                                    &lt;developerName&gt;Luis Henrique Pereira&lt;/developerName&gt;\r\n                                    &lt;developerOrganization&gt;${project.organization.name}&lt;/developerOrganization&gt;\r\n                                    &lt;developerOrganizationUrl&gt;${project.organization.url}&lt;/developerOrganizationUrl&gt;\r\n                                    &lt;licenseName&gt;MIT License&lt;/licenseName&gt;\r\n                                    &lt;licenseUrl&gt;https://www.opensource.org/licenses/mit-license.php&lt;/licenseUrl&gt;\r\n                                    &lt;parentArtifactId&gt;moname-commons&lt;/parentArtifactId&gt;\r\n                                    &lt;parentGroupId&gt;${project.parent.groupId}&lt;/parentGroupId&gt;\r\n                                    &lt;parentVersion&gt;${revision}&lt;/parentVersion&gt;\r\n                                    &lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\r\n                                    &lt;scmConnection&gt;${project.scm.connection}&lt;/scmConnection&gt;\r\n                                    &lt;scmDeveloperConnection&gt;${project.scm.developerConnection}&lt;/scmDeveloperConnection&gt;\r\n                                    &lt;scmUrl&gt;${project.scm.url}&lt;/scmUrl&gt;\r\n                                    &lt;serializableModel&gt;true&lt;/serializableModel&gt;\r\n                                    &lt;title&gt;Project to money me with no name [commons-api-oas].&lt;/title&gt;\r\n                                    &lt;unhandledException&gt;true&lt;/unhandledException&gt;\r\n                                    &lt;useSpringBoot3&gt;true&lt;/useSpringBoot3&gt;\r\n                                    &lt;useSpringController&gt;true&lt;/useSpringController&gt;\r\n                                &lt;/configOptions&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Java Maven OpenApi Specification (3.0) Codegen is generating unwanted test file, how to remove that?","body":"<p>An detailed response can be seen <a href=\"https://stackoverflow.com/a/76369775/7213979\">here</a>.</p>\n<p>But, briefly example is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.kinlhp&lt;/groupId&gt;\n    &lt;artifactId&gt;moname-build&lt;/artifactId&gt;\n    &lt;version&gt;${revision}&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;${project.artifactId}&lt;/name&gt;\n    &lt;description&gt;Project to money me with no name [build].&lt;/description&gt;\n    &lt;url&gt;https://moname.kinlhp.com&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;main.basedir&gt;${basedir}&lt;/main.basedir&gt;\n        &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;openapi-generator.base-package&gt;com.kinlhp.moname.commons.api.oas&lt;/openapi-generator.base-package&gt;\n        &lt;openapi-generator.input-spec&gt;${project.basedir}/src/main/resources/openapi/specification.yaml&lt;/openapi-generator.input-spec&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;${project.build.sourceEncoding}&lt;/project.reporting.outputEncoding&gt;\n        &lt;!-- dependency versions --&gt;\n        &lt;revision&gt;1.0.0.BUILD-SNAPSHOT&lt;/revision&gt;\n        &lt;!-- # third party # --&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;openapi-generator-maven-plugin.version&gt;6.6.0&lt;/openapi-generator-maven-plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;!-- # third party # --&gt;\n                &lt;!-- openapitools --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${openapi-generator-maven-plugin.version}&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;openapi-generator&lt;/id&gt;\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;generate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;!-- README#openapi-generator-spring-metadata --&gt;\n                                &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                                &lt;!-- README#openapi-generator-spring-config-options --&gt;\n                                &lt;apiPackage&gt;${openapi-generator.base-package}.endpoint&lt;/apiPackage&gt;\n                                &lt;artifactId&gt;moname-commons-api-oas&lt;/artifactId&gt;\n                                &lt;artifactVersion&gt;${revision}&lt;/artifactVersion&gt;\n                                &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                                &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                                &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n                                &lt;ignoreFileOverride&gt;.openapi-generator-ignore&lt;/ignoreFileOverride&gt;\n                                &lt;inputSpec&gt;${openapi-generator.input-spec}&lt;/inputSpec&gt;\n                                &lt;invokerPackage&gt;${openapi-generator.base-package}.invoker&lt;/invokerPackage&gt;\n                                &lt;modelNameSuffix&gt;DTO&lt;/modelNameSuffix&gt;\n                                &lt;modelPackage&gt;${openapi-generator.base-package}.payload&lt;/modelPackage&gt;\n                                &lt;configOptions&gt;\n                                    &lt;!-- README#openapi-generator-spring-metadata --&gt;\n                                    &lt;generatorLanguage&gt;Java&lt;/generatorLanguage&gt;\n                                    &lt;generatorType&gt;SERVER&lt;/generatorType&gt;\n                                    &lt;!-- README#openapi-generator-spring-config-options --&gt;\n                                    &lt;artifactDescription&gt;Project to money me with no name [commons-api-oas].&lt;/artifactDescription&gt;\n                                    &lt;artifactUrl&gt;${project.url}&lt;/artifactUrl&gt;\n                                    &lt;basePackage&gt;${openapi-generator.base-package}&lt;/basePackage&gt;\n                                    &lt;bigDecimalAsString&gt;true&lt;/bigDecimalAsString&gt;\n                                    &lt;booleanGetterPrefix&gt;is&lt;/booleanGetterPrefix&gt;\n                                    &lt;configPackage&gt;${openapi-generator.base-package}.configuration&lt;/configPackage&gt;\n                                    &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                                    &lt;developerEmail&gt;lhp.kin@gmail.com&lt;/developerEmail&gt;\n                                    &lt;developerName&gt;Luis Henrique Pereira&lt;/developerName&gt;\n                                    &lt;developerOrganization&gt;${project.organization.name}&lt;/developerOrganization&gt;\n                                    &lt;developerOrganizationUrl&gt;${project.organization.url}&lt;/developerOrganizationUrl&gt;\n                                    &lt;licenseName&gt;MIT License&lt;/licenseName&gt;\n                                    &lt;licenseUrl&gt;https://www.opensource.org/licenses/mit-license.php&lt;/licenseUrl&gt;\n                                    &lt;parentArtifactId&gt;moname-commons&lt;/parentArtifactId&gt;\n                                    &lt;parentGroupId&gt;${project.parent.groupId}&lt;/parentGroupId&gt;\n                                    &lt;parentVersion&gt;${revision}&lt;/parentVersion&gt;\n                                    &lt;performBeanValidation&gt;true&lt;/performBeanValidation&gt;\n                                    &lt;scmConnection&gt;${project.scm.connection}&lt;/scmConnection&gt;\n                                    &lt;scmDeveloperConnection&gt;${project.scm.developerConnection}&lt;/scmDeveloperConnection&gt;\n                                    &lt;scmUrl&gt;${project.scm.url}&lt;/scmUrl&gt;\n                                    &lt;serializableModel&gt;true&lt;/serializableModel&gt;\n                                    &lt;title&gt;Project to money me with no name [commons-api-oas].&lt;/title&gt;\n                                    &lt;unhandledException&gt;true&lt;/unhandledException&gt;\n                                    &lt;useSpringBoot3&gt;true&lt;/useSpringBoot3&gt;\n                                    &lt;useSpringController&gt;true&lt;/useSpringController&gt;\n                                &lt;/configOptions&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":16264201,"reputation":77,"user_id":13821253,"display_name":"M Hot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2339,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1685579522,"creation_date":1661195629,"question_id":73450027,"body_markdown":"I am using OpenApi Specification (3.0) for api definition and the *openapi-generator-maven-plugin* which generates files for me (api objects + endpoints).\r\n\r\nIts however generating a test file in the build folder that I do not want. Its called **&#39;OpenApiGeneratorApplicationTests&#39;**. It  always blocks my compilation bc in the &#39;target&#39; (=build) folder I do not have the right Spring Boot setup. \r\n\r\nHow can I avoid the generation of this test file?\r\n\r\nThis is my maven config:\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;6.0.1&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/resources/ApiDef.yaml&lt;/inputSpec&gt;\r\n\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n\t\t\t\t&lt;modelPackage&gt;${clientPackage}.model&lt;/modelPackage&gt;\r\n\t\t\t\t&lt;invokerPackage&gt;${clientPackage}.invoker&lt;/invokerPackage&gt;\r\n\t\t\t\t&lt;apiPackage&gt;${clientPackage}.api&lt;/apiPackage&gt;\r\n\t\t\t\t&lt;generateApis&gt;true&lt;/generateApis&gt;\r\n\t\t\t\t&lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n\t\t\t\t&lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n\t\t\t\t&lt;configOptions&gt;\r\n\t\t\t\t\t&lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n\t\t\t\t&lt;/configOptions&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Java Maven OpenApi Specification (3.0) Codegen is generating unwanted test file, how to remove that?","body":"<p>I am using OpenApi Specification (3.0) for api definition and the <em>openapi-generator-maven-plugin</em> which generates files for me (api objects + endpoints).</p>\n<p>Its however generating a test file in the build folder that I do not want. Its called <strong>'OpenApiGeneratorApplicationTests'</strong>. It  always blocks my compilation bc in the 'target' (=build) folder I do not have the right Spring Boot setup.</p>\n<p>How can I avoid the generation of this test file?</p>\n<p>This is my maven config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;6.0.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;inputSpec&gt;${project.basedir}/src/main/resources/ApiDef.yaml&lt;/inputSpec&gt;\n                &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                &lt;modelPackage&gt;${clientPackage}.model&lt;/modelPackage&gt;\n                &lt;invokerPackage&gt;${clientPackage}.invoker&lt;/invokerPackage&gt;\n                &lt;apiPackage&gt;${clientPackage}.api&lt;/apiPackage&gt;\n                &lt;generateApis&gt;true&lt;/generateApis&gt;\n                &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                &lt;configOptions&gt;\n                    &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                &lt;/configOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","android","random","android-emulator"],"answers":[{"tags":[],"owner":{"account_id":111374,"reputation":51666,"user_id":294248,"display_name":"fadden"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1458922405,"creation_date":1458922405,"answer_id":36223672,"question_id":36223174,"body_markdown":"I suspect your &quot;yes, I should move `new Random()` elsewhere&quot; remark is more accurate than you think.\r\n\r\nYou can find the source for Android&#39;s java.util.Random class; note the [kitkat][1] and [lollipop/marshmallow][2] versions are different.\r\n\r\nkitkat:\r\n\r\n    public Random() {\r\n        // Note: Using identityHashCode() to be hermetic wrt subclasses.\r\n        setSeed(System.currentTimeMillis() + System.identityHashCode(this));\r\n    }\r\n\r\nmarshmallow:\r\n\r\n    public Random() {\r\n        // Note: Don&#39;t use identityHashCode(this) since that causes the monitor to\r\n        // get inflated when we synchronize.\r\n        setSeed(System.nanoTime() + seedBase);\r\n        ++seedBase;\r\n    }\r\n\r\nNote the change from millisecond-granularity time to nanosecond-granularity time.  However, this change is only relevant if the emulated device actually has a clock that granular.  Some emulators may have very coarse clocks, which means that `System.nanoTime()` could be returning the same value on every iteration of a reasonably fast loop.\r\n\r\nYou&#39;re creating new random number generators each loop, seeding them with N, N+1, N+2, and so on.  Because the seeds are nearly identical, most of the bits in the first number output are identical.\r\n\r\nIf you pull the &quot;new Random&quot; out of the loop, not only will it be more efficient, it will allow the pseudo-random number generator to progress through its full sequence and give you better results.\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/libcore/+/kitkat-release/luni/src/main/java/java/util/Random.java\r\n  [2]: https://android.googlesource.com/platform/libcore/+/marshmallow-mr1-release/luni/src/main/java/java/util/Random.java","title":"Why is the emulator less random than my device?","body":"<p>I suspect your \"yes, I should move <code>new Random()</code> elsewhere\" remark is more accurate than you think.</p>\n\n<p>You can find the source for Android's java.util.Random class; note the <a href=\"https://android.googlesource.com/platform/libcore/+/kitkat-release/luni/src/main/java/java/util/Random.java\" rel=\"nofollow\">kitkat</a> and <a href=\"https://android.googlesource.com/platform/libcore/+/marshmallow-mr1-release/luni/src/main/java/java/util/Random.java\" rel=\"nofollow\">lollipop/marshmallow</a> versions are different.</p>\n\n<p>kitkat:</p>\n\n<pre><code>public Random() {\n    // Note: Using identityHashCode() to be hermetic wrt subclasses.\n    setSeed(System.currentTimeMillis() + System.identityHashCode(this));\n}\n</code></pre>\n\n<p>marshmallow:</p>\n\n<pre><code>public Random() {\n    // Note: Don't use identityHashCode(this) since that causes the monitor to\n    // get inflated when we synchronize.\n    setSeed(System.nanoTime() + seedBase);\n    ++seedBase;\n}\n</code></pre>\n\n<p>Note the change from millisecond-granularity time to nanosecond-granularity time.  However, this change is only relevant if the emulated device actually has a clock that granular.  Some emulators may have very coarse clocks, which means that <code>System.nanoTime()</code> could be returning the same value on every iteration of a reasonably fast loop.</p>\n\n<p>You're creating new random number generators each loop, seeding them with N, N+1, N+2, and so on.  Because the seeds are nearly identical, most of the bits in the first number output are identical.</p>\n\n<p>If you pull the \"new Random\" out of the loop, not only will it be more efficient, it will allow the pseudo-random number generator to progress through its full sequence and give you better results.</p>\n"}],"owner":{"account_id":7562599,"reputation":6043,"user_id":6083675,"accept_rate":29,"display_name":"Laurel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36223672,"answer_count":1,"score":2,"last_activity_date":1685578641,"creation_date":1458920804,"question_id":36223174,"body_markdown":"I created a small app (as a project, with no plans to release it). Part of the code generates a grid of random numbers and displays a grid using the sprite from a list with said number. It behaved as expected, at least on my Kindle Fire (and another device I tried it on).\r\n\r\nThe emulator, however, is a different story. I think the emulated device was a generic Samsung (4, maybe). The same code, when run on the emulator, fills about half the grid with one sprite, and half with a different sprite.\r\n\r\nThe grid might look like this on the emulator:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    11177\r\n    11177\r\n    11777\r\n    11777\r\n    11777\r\n\r\ninstead of this on real devices:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    64251\r\n    26253\r\n    87635\r\n    38415\r\n    28167\r\n\r\n\r\nThe relevant part of my code (yes, I _should_ move `new Random()` elsewhere):\r\n\r\n\r\n    import java.util.Random;\r\n\r\n    // ... ... ...\r\n\r\n    for (int i = 0; i &lt; GRID; i++) {\r\n          for (int j = 0; j &lt; GRID; j++) {\r\n                paint.setColor(Color.parseColor(&quot;#FBB117&quot;));\r\n                Random rand=new Random();\r\n                int num=rand.nextInt(8);\r\n                canvas.drawBitmap(bmp,frames[num],calcGridSpot(i,j),\r\n                        paint);\r\n\r\n     //... Eventually closing braces:\r\n          }\r\n     }\r\n\r\nI have had issues in the past, in Java, with `Random` deciding to be less random (I believe it might be due to optimizations).\r\n\r\nWhy is the emulator behaving less randomly? (And how do I fix it?)","title":"Why is the emulator less random than my device?","body":"<p>I created a small app (as a project, with no plans to release it). Part of the code generates a grid of random numbers and displays a grid using the sprite from a list with said number. It behaved as expected, at least on my Kindle Fire (and another device I tried it on).</p>\n<p>The emulator, however, is a different story. I think the emulated device was a generic Samsung (4, maybe). The same code, when run on the emulator, fills about half the grid with one sprite, and half with a different sprite.</p>\n<p>The grid might look like this on the emulator:</p>\n<pre class=\"lang-none prettyprint-override\"><code>11177\n11177\n11777\n11777\n11777\n</code></pre>\n<p>instead of this on real devices:</p>\n<pre class=\"lang-none prettyprint-override\"><code>64251\n26253\n87635\n38415\n28167\n</code></pre>\n<p>The relevant part of my code (yes, I <em>should</em> move <code>new Random()</code> elsewhere):</p>\n<pre><code>import java.util.Random;\n\n// ... ... ...\n\nfor (int i = 0; i &lt; GRID; i++) {\n      for (int j = 0; j &lt; GRID; j++) {\n            paint.setColor(Color.parseColor(&quot;#FBB117&quot;));\n            Random rand=new Random();\n            int num=rand.nextInt(8);\n            canvas.drawBitmap(bmp,frames[num],calcGridSpot(i,j),\n                    paint);\n\n //... Eventually closing braces:\n      }\n }\n</code></pre>\n<p>I have had issues in the past, in Java, with <code>Random</code> deciding to be less random (I believe it might be due to optimizations).</p>\n<p>Why is the emulator behaving less randomly? (And how do I fix it?)</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685577375,"creation_date":1525784559,"answer_id":50234306,"question_id":50193314,"body_markdown":"`com.fasterxml.jackson.core.JsonToken` enum contains `VALUE_NUMBER_INT` with below [documentation][1]:\r\n\r\n&gt; VALUE_NUMBER_INT is returned when an integer numeric token is\r\n&gt; encountered in value context: that is, a number that does not have\r\n&gt; floating point or exponent marker in it (consists only of an optional\r\n&gt; sign, followed by one or more digits)\r\n\r\nThere is also `VALUE_NUMBER_FLOAT` token used for floating-point numbers.\r\nAlso take a look on `com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer#_fromInt` method which you can find [here][2].\r\n\r\n    protected final JsonNode _fromInt(JsonParser p, DeserializationContext ctxt,\r\n            JsonNodeFactory nodeFactory) throws IOException\r\n    {\r\n        JsonParser.NumberType nt;\r\n        int feats = ctxt.getDeserializationFeatures();\r\n        if ((feats &amp; F_MASK_INT_COERCIONS) != 0) {\r\n            if (DeserializationFeature.USE_BIG_INTEGER_FOR_INTS.enabledIn(feats)) {\r\n                nt = JsonParser.NumberType.BIG_INTEGER;\r\n            } else if (DeserializationFeature.USE_LONG_FOR_INTS.enabledIn(feats)) {\r\n                nt = JsonParser.NumberType.LONG;\r\n            } else {\r\n                nt = p.getNumberType();\r\n            }\r\n        } else {\r\n            nt = p.getNumberType();\r\n        }\r\n        if (nt == JsonParser.NumberType.INT) {\r\n            return nodeFactory.numberNode(p.getIntValue());\r\n        }\r\n        if (nt == JsonParser.NumberType.LONG) {\r\n            return nodeFactory.numberNode(p.getLongValue());\r\n        }\r\n        return nodeFactory.numberNode(p.getBigIntegerValue());\r\n    }\r\n\r\nAlso you have to take a look on `com.fasterxml.jackson.core.base.ParserBase#_parseNumericValue` method which you can find [here][3]\r\n\r\n    /**\r\n     * Method that will parse actual numeric value out of a syntactically\r\n     * valid number value. Type it will parse into depends on whether\r\n     * it is a floating point number, as well as its magnitude: smallest\r\n     * legal type (of ones available) is used for efficiency.\r\n     *\r\n     * @param expType Numeric type that we will immediately need, if any;\r\n     *   mostly necessary to optimize handling of floating point numbers\r\n     */\r\n    protected void _parseNumericValue(int expType) throws IOException\r\n    {\r\n        // Int or float?\r\n        if (_currToken == JsonToken.VALUE_NUMBER_INT) {\r\n            int len = _intLength;\r\n            // First: optimization for simple int\r\n            if (len &lt;= 9) { \r\n                int i = _textBuffer.contentsAsInt(_numberNegative);\r\n                _numberInt = i;\r\n                _numTypesValid = NR_INT;\r\n                return;\r\n            }\r\n            if (len &lt;= 18) { // definitely fits AND is easy to parse using 2 int parse calls\r\n                long l = _textBuffer.contentsAsLong(_numberNegative);\r\n                // Might still fit in int, need to check\r\n                if (len == 10) {\r\n                    if (_numberNegative) {\r\n                        if (l &gt;= MIN_INT_L) {\r\n                            _numberInt = (int) l;\r\n                            _numTypesValid = NR_INT;\r\n                            return;\r\n                        }\r\n                    } else {\r\n                        if (l &lt;= MAX_INT_L) {\r\n                            _numberInt = (int) l;\r\n                            _numTypesValid = NR_INT;\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                _numberLong = l;\r\n                _numTypesValid = NR_LONG;\r\n                return;\r\n            }\r\n            _parseSlowInt(expType);\r\n            return;\r\n        }\r\n        if (_currToken == JsonToken.VALUE_NUMBER_FLOAT) {\r\n            _parseSlowFloat(expType);\r\n            return;\r\n        }\r\n        _reportError(&quot;Current token (%s) not numeric, can not use numeric value accessors&quot;, _currToken);\r\n    }\r\n\r\nAs you can see there is no `short` or `Short` types during deserialization. You should avoid creating logic on type of value which is created by external library. In that case is not possible to force use `Short`.\r\n\r\n**EDIT**  \r\nAnd of course this is not possible because `JSON` specification does not support this. Take a look on below links for more details:\r\n\r\n - [JSON][4]\r\n - [RFC 7159][5]\r\n\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/com.fasterxml.jackson.core/jackson-core/2.6.0/com/fasterxml/jackson/core/JsonToken.java#JsonToken.0VALUE_NUMBER_INT\r\n  [2]: https://github.com/FasterXML/jackson-databind/blob/f6ed9582ccf8a8889c0ae544db4ed8c3dc46ac91/src/main/java/com/fasterxml/jackson/databind/deser/std/JsonNodeDeserializer.java#L705\r\n  [3]: https://github.com/FasterXML/jackson-core/blob/2fdd89a53a135d1fe71ee45362db7b7716913eeb/src/main/java/com/fasterxml/jackson/core/base/ParserBase.java#L876\r\n  [4]: https://www.json.org/\r\n  [5]: https://www.rfc-editor.org/rfc/rfc7159#page-6","title":"In which case Jackson creates ShortNode when deserializing JSON with ObjectMapper.readTree?","body":"<p><code>com.fasterxml.jackson.core.JsonToken</code> enum contains <code>VALUE_NUMBER_INT</code> with below <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.fasterxml.jackson.core/jackson-core/2.6.0/com/fasterxml/jackson/core/JsonToken.java#JsonToken.0VALUE_NUMBER_INT\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>VALUE_NUMBER_INT is returned when an integer numeric token is\nencountered in value context: that is, a number that does not have\nfloating point or exponent marker in it (consists only of an optional\nsign, followed by one or more digits)</p>\n</blockquote>\n<p>There is also <code>VALUE_NUMBER_FLOAT</code> token used for floating-point numbers.\nAlso take a look on <code>com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer#_fromInt</code> method which you can find <a href=\"https://github.com/FasterXML/jackson-databind/blob/f6ed9582ccf8a8889c0ae544db4ed8c3dc46ac91/src/main/java/com/fasterxml/jackson/databind/deser/std/JsonNodeDeserializer.java#L705\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>protected final JsonNode _fromInt(JsonParser p, DeserializationContext ctxt,\n        JsonNodeFactory nodeFactory) throws IOException\n{\n    JsonParser.NumberType nt;\n    int feats = ctxt.getDeserializationFeatures();\n    if ((feats &amp; F_MASK_INT_COERCIONS) != 0) {\n        if (DeserializationFeature.USE_BIG_INTEGER_FOR_INTS.enabledIn(feats)) {\n            nt = JsonParser.NumberType.BIG_INTEGER;\n        } else if (DeserializationFeature.USE_LONG_FOR_INTS.enabledIn(feats)) {\n            nt = JsonParser.NumberType.LONG;\n        } else {\n            nt = p.getNumberType();\n        }\n    } else {\n        nt = p.getNumberType();\n    }\n    if (nt == JsonParser.NumberType.INT) {\n        return nodeFactory.numberNode(p.getIntValue());\n    }\n    if (nt == JsonParser.NumberType.LONG) {\n        return nodeFactory.numberNode(p.getLongValue());\n    }\n    return nodeFactory.numberNode(p.getBigIntegerValue());\n}\n</code></pre>\n<p>Also you have to take a look on <code>com.fasterxml.jackson.core.base.ParserBase#_parseNumericValue</code> method which you can find <a href=\"https://github.com/FasterXML/jackson-core/blob/2fdd89a53a135d1fe71ee45362db7b7716913eeb/src/main/java/com/fasterxml/jackson/core/base/ParserBase.java#L876\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>/**\n * Method that will parse actual numeric value out of a syntactically\n * valid number value. Type it will parse into depends on whether\n * it is a floating point number, as well as its magnitude: smallest\n * legal type (of ones available) is used for efficiency.\n *\n * @param expType Numeric type that we will immediately need, if any;\n *   mostly necessary to optimize handling of floating point numbers\n */\nprotected void _parseNumericValue(int expType) throws IOException\n{\n    // Int or float?\n    if (_currToken == JsonToken.VALUE_NUMBER_INT) {\n        int len = _intLength;\n        // First: optimization for simple int\n        if (len &lt;= 9) { \n            int i = _textBuffer.contentsAsInt(_numberNegative);\n            _numberInt = i;\n            _numTypesValid = NR_INT;\n            return;\n        }\n        if (len &lt;= 18) { // definitely fits AND is easy to parse using 2 int parse calls\n            long l = _textBuffer.contentsAsLong(_numberNegative);\n            // Might still fit in int, need to check\n            if (len == 10) {\n                if (_numberNegative) {\n                    if (l &gt;= MIN_INT_L) {\n                        _numberInt = (int) l;\n                        _numTypesValid = NR_INT;\n                        return;\n                    }\n                } else {\n                    if (l &lt;= MAX_INT_L) {\n                        _numberInt = (int) l;\n                        _numTypesValid = NR_INT;\n                        return;\n                    }\n                }\n            }\n            _numberLong = l;\n            _numTypesValid = NR_LONG;\n            return;\n        }\n        _parseSlowInt(expType);\n        return;\n    }\n    if (_currToken == JsonToken.VALUE_NUMBER_FLOAT) {\n        _parseSlowFloat(expType);\n        return;\n    }\n    _reportError(&quot;Current token (%s) not numeric, can not use numeric value accessors&quot;, _currToken);\n}\n</code></pre>\n<p>As you can see there is no <code>short</code> or <code>Short</code> types during deserialization. You should avoid creating logic on type of value which is created by external library. In that case is not possible to force use <code>Short</code>.</p>\n<p><strong>EDIT</strong><br />\nAnd of course this is not possible because <code>JSON</code> specification does not support this. Take a look on below links for more details:</p>\n<ul>\n<li><a href=\"https://www.json.org/\" rel=\"nofollow noreferrer\">JSON</a></li>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc7159#page-6\" rel=\"nofollow noreferrer\">RFC 7159</a></li>\n</ul>\n"}],"owner":{"account_id":1427397,"reputation":1308,"user_id":1350552,"accept_rate":24,"display_name":"Viktor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":50234306,"answer_count":1,"score":2,"last_activity_date":1685577375,"creation_date":1525548770,"question_id":50193314,"body_markdown":"I have some code which deserializes JSON from `InputStream` via Jackson&#39;s `ObjectMapper` (basically, just like `new ObjectMapper().readTree(...)`.\r\nI found out that it creates either `IntNode` or `LongNode` for integral numbers (depending of how big is the number), but I never saw `ShortNode`s. I need to know when they are created (if created at all), because I have some tricky logic relying on the `NumericNode.numberValue()` return type.\r\nI did&#39;t found anything in Jackson&#39;s documentation, and Jackson&#39;s code looks not very clear to me. ","title":"In which case Jackson creates ShortNode when deserializing JSON with ObjectMapper.readTree?","body":"<p>I have some code which deserializes JSON from <code>InputStream</code> via Jackson's <code>ObjectMapper</code> (basically, just like <code>new ObjectMapper().readTree(...)</code>.\nI found out that it creates either <code>IntNode</code> or <code>LongNode</code> for integral numbers (depending of how big is the number), but I never saw <code>ShortNode</code>s. I need to know when they are created (if created at all), because I have some tricky logic relying on the <code>NumericNode.numberValue()</code> return type.\nI did't found anything in Jackson's documentation, and Jackson's code looks not very clear to me. </p>\n"},{"tags":["java","sorting","collections","arraylist"],"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1389242413,"post_id":21011662,"comment_id":31580684,"body_markdown":"It will help to show how the list is currently being sorted.","body":"It will help to show how the list is currently being sorted."},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1389243675,"post_id":21011662,"comment_id":31581064,"body_markdown":"http://docs.oracle.com/javase/tutorial/collections/interfaces/order.html","body":"<a href=\"http://docs.oracle.com/javase/tutorial/collections/interfaces/order.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/collections/interfaces/&hellip;</a>"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":0,"creation_date":1389243959,"post_id":21011662,"comment_id":31581162,"body_markdown":"@Sinto, if you still read this: undelete your post. I very much liked your answer and was in the process of double checking it.","body":"@Sinto, if you still read this: undelete your post. I very much liked your answer and was in the process of double checking it."}],"answers":[{"tags":[],"owner":{"account_id":1421723,"reputation":7768,"user_id":1346207,"accept_rate":77,"display_name":"Markus Malkusch"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1389242275,"creation_date":1389242275,"answer_id":21011685,"question_id":21011662,"body_markdown":"Implement that rule in a [`Comparator`](http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html). You can get your list sorted with [`Collections.sort()`](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29)","title":"Sorting a list while keeping a few elements always at the top","body":"<p>Implement that rule in a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\" rel=\"nofollow\"><code>Comparator</code></a>. You can get your list sorted with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29\" rel=\"nofollow\"><code>Collections.sort()</code></a></p>\n"},{"tags":[],"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1389285989,"creation_date":1389242551,"answer_id":21011731,"question_id":21011662,"body_markdown":"Create your own [comparator][1] in combination with [`Collections.Sort(collection, Comparator)`][2]. The way this differs from a normal `Comparator` is that you have to explicitly give preference to the entries that you always want on top.\r\n\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew Main();\r\n    \t}\r\n    \r\n    \tpublic Main(){\r\n    \t\tList&lt;Country&gt; list = new ArrayList&lt;&gt;();\r\n    \t\tlist.add(new Country(&quot;Belgium&quot;));\r\n    \t\tlist.add(new Country(&quot;United Kingdom&quot;));\r\n    \t\tlist.add(new Country(&quot;Legoland&quot;));\r\n    \t\tlist.add(new Country(&quot;Bahrain&quot;));\r\n    \t\tlist.add(new Country(&quot;United States of America&quot;));\r\n    \t\tlist.add(new Country(&quot;Mexico&quot;));\r\n    \t\tlist.add(new Country(&quot;Finland&quot;));\r\n    \r\n    \r\n    \t\tCollections.sort(list, new MyComparator());\r\n    \r\n    \t\tfor(Country c : list){\r\n    \t\t\tSystem.out.println(c.countryName);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    class Country {\r\n    \tpublic Country(String name){\r\n    \t\tcountryName = name;\r\n    \t}\r\n    \t\r\n    \tint id;\r\n    \tString countryCode;\r\n    \tString countryName;\r\n    \r\n    }\r\n    \r\n    class MyComparator implements Comparator&lt;Country&gt; {\r\n    \tprivate static List&lt;String&gt; important = Arrays.asList(&quot;United Kingdom&quot;, &quot;United States of America&quot;);\r\n    \t\r\n    \t@Override\r\n    \tpublic int compare(Country arg0, Country arg1) {\r\n    \t\tif(important.contains(arg0.countryName)) { return -1; }\r\n    \t\tif(important.contains(arg1.countryName)) { return 1; }\r\n    \t\treturn arg0.countryName.compareTo(arg1.countryName);\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n&gt; United States of America   \r\n&gt; United Kingdom   \r\n&gt; Bahrain   \r\n&gt; Belgium  \r\n&gt; Finland    \r\n&gt; Legoland   \r\n&gt; Mexico\r\n\r\nI misread your question at first (or it was added as a ninja edit) so here&#39;s the updated version. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29","title":"Sorting a list while keeping a few elements always at the top","body":"<p>Create your own <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\" rel=\"noreferrer\">comparator</a> in combination with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29\" rel=\"noreferrer\"><code>Collections.Sort(collection, Comparator)</code></a>. The way this differs from a normal <code>Comparator</code> is that you have to explicitly give preference to the entries that you always want on top.</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main(){\n        List&lt;Country&gt; list = new ArrayList&lt;&gt;();\n        list.add(new Country(\"Belgium\"));\n        list.add(new Country(\"United Kingdom\"));\n        list.add(new Country(\"Legoland\"));\n        list.add(new Country(\"Bahrain\"));\n        list.add(new Country(\"United States of America\"));\n        list.add(new Country(\"Mexico\"));\n        list.add(new Country(\"Finland\"));\n\n\n        Collections.sort(list, new MyComparator());\n\n        for(Country c : list){\n            System.out.println(c.countryName);\n        }\n    }\n}\n\nclass Country {\n    public Country(String name){\n        countryName = name;\n    }\n\n    int id;\n    String countryCode;\n    String countryName;\n\n}\n\nclass MyComparator implements Comparator&lt;Country&gt; {\n    private static List&lt;String&gt; important = Arrays.asList(\"United Kingdom\", \"United States of America\");\n\n    @Override\n    public int compare(Country arg0, Country arg1) {\n        if(important.contains(arg0.countryName)) { return -1; }\n        if(important.contains(arg1.countryName)) { return 1; }\n        return arg0.countryName.compareTo(arg1.countryName);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>United States of America<br>\n  United Kingdom<br>\n  Bahrain<br>\n  Belgium<br>\n  Finland<br>\n  Legoland<br>\n  Mexico</p>\n</blockquote>\n\n<p>I misread your question at first (or it was added as a ninja edit) so here's the updated version. </p>\n"},{"tags":[],"owner":{"account_id":28030,"reputation":17744,"user_id":74449,"accept_rate":69,"display_name":"Myster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685576885,"creation_date":1685576885,"answer_id":76377905,"question_id":21011662,"body_markdown":"Something a bit terser:\r\n\r\n   \tvar result = countries\r\n\t\t.OrderByDescending(item =&gt; item.countryName == &quot;United States of America&quot;)\r\n\t\t.ThenByDescending(item =&gt; item.countryName == &quot;United Kingdom&quot;)\r\n\t\t.ThenBy(item =&gt; item.countryName );","title":"Sorting a list while keeping a few elements always at the top","body":"<p>Something a bit terser:</p>\n<pre><code>var result = countries\n    .OrderByDescending(item =&gt; item.countryName == &quot;United States of America&quot;)\n    .ThenByDescending(item =&gt; item.countryName == &quot;United Kingdom&quot;)\n    .ThenBy(item =&gt; item.countryName );\n</code></pre>\n"}],"owner":{"account_id":462722,"reputation":6359,"user_id":865188,"accept_rate":44,"display_name":"user2434"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3461,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1685576885,"creation_date":1389242170,"question_id":21011662,"body_markdown":"We have a `List&lt;Country&gt;` which holds the list of countries in alphabetical order sorted by the `countryName`.\r\n\r\n     class Country {\r\n       int id;\r\n       String countryCode;\r\n       String countryName;\r\n     }\r\n\r\n\r\n`Country` is an entity object and we don&#39;t have access to the source (it&#39;s in a jar file that is shared by many applications).\r\n\r\nNow I want to modify the list in such a way that country names &#39;United States of America&#39; and &#39;United Kingdom&#39; comes first and the rest of the list is in the same alphabetical order.\r\n\r\nWhat is the most efficient way to do this ?\r\n","title":"Sorting a list while keeping a few elements always at the top","body":"<p>We have a <code>List&lt;Country&gt;</code> which holds the list of countries in alphabetical order sorted by the <code>countryName</code>.</p>\n\n<pre><code> class Country {\n   int id;\n   String countryCode;\n   String countryName;\n }\n</code></pre>\n\n<p><code>Country</code> is an entity object and we don't have access to the source (it's in a jar file that is shared by many applications).</p>\n\n<p>Now I want to modify the list in such a way that country names 'United States of America' and 'United Kingdom' comes first and the rest of the list is in the same alphabetical order.</p>\n\n<p>What is the most efficient way to do this ?</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":4364459,"reputation":1043,"user_id":3560660,"display_name":"Zahid M"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1414501243,"creation_date":1398354097,"answer_id":23273634,"question_id":23273230,"body_markdown":"You are using mockito `anyString()` while calling the test method, it should be used only for verifying a mock object to ensure a certain method is called with any string parameter inside the test, but not to invoke the test itself. For your test use empty string `&quot;&quot;` instead to `anyString()`. ","title":"Misplaced argument matcher detected here. You cannot use argument matchers outside of verification or stubbing in Mockito","body":"<p>You are using mockito <code>anyString()</code> while calling the test method, it should be used only for verifying a mock object to ensure a certain method is called with any string parameter inside the test, but not to invoke the test itself. For your test use empty string <code>\"\"</code> instead to <code>anyString()</code>. </p>\n"},{"tags":[],"owner":{"account_id":8544053,"reputation":997,"user_id":6418029,"display_name":"Ashutosh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623434001,"creation_date":1564140034,"answer_id":57219008,"question_id":23273230,"body_markdown":"Ideally ```anyString()``` should not be used outside the mock or verify block. I was facing the same issue.Changing the ```anyString()``` to some string (&quot;xyz&quot;) value works fine.\r\n\r\n\r\n**Note :** Make a note that you might use ```anyString()``` to some other methods that leads in failure of some other method. It wasted my one hour to figure it out. My actual test method was getting passes individually but when i was trying to run that in a hole it was getting failed because of the reason that some other test case was using ```anyString()``` outside to mock or verify block.","title":"Misplaced argument matcher detected here. You cannot use argument matchers outside of verification or stubbing in Mockito","body":"<p>Ideally <code>anyString()</code> should not be used outside the mock or verify block. I was facing the same issue.Changing the <code>anyString()</code> to some string (&quot;xyz&quot;) value works fine.</p>\n<p><strong>Note :</strong> Make a note that you might use <code>anyString()</code> to some other methods that leads in failure of some other method. It wasted my one hour to figure it out. My actual test method was getting passes individually but when i was trying to run that in a hole it was getting failed because of the reason that some other test case was using <code>anyString()</code> outside to mock or verify block.</p>\n"},{"tags":[],"owner":{"account_id":11595890,"reputation":91,"user_id":8494664,"display_name":"Arun Kumar"},"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1623433984,"creation_date":1605610362,"answer_id":64873819,"question_id":23273230,"body_markdown":"Simple, Should use ```@Spy``` annotation with ```@InjectMocks``` annotation.","title":"Misplaced argument matcher detected here. You cannot use argument matchers outside of verification or stubbing in Mockito","body":"<p>Simple, Should use <code>@Spy</code> annotation with <code>@InjectMocks</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":2966148,"reputation":1313,"user_id":2519258,"display_name":"Saurabh Raoot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613085191,"creation_date":1613085191,"answer_id":66164348,"question_id":23273230,"body_markdown":"We need to add a text file to the project&#39;s src/test/resources/mockito-extensions directory named org.mockito.plugins.MockMaker and add a single line of text:\r\n\r\nmock-maker-inline\r\n\r\nplease refer article https://www.baeldung.com/mockito-final","title":"Misplaced argument matcher detected here. You cannot use argument matchers outside of verification or stubbing in Mockito","body":"<p>We need to add a text file to the project's src/test/resources/mockito-extensions directory named org.mockito.plugins.MockMaker and add a single line of text:</p>\n<p>mock-maker-inline</p>\n<p>please refer article <a href=\"https://www.baeldung.com/mockito-final\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-final</a></p>\n"},{"tags":[],"owner":{"account_id":9909197,"reputation":1228,"user_id":7336605,"accept_rate":0,"display_name":"takasoft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685576592,"creation_date":1685576592,"answer_id":76377887,"question_id":23273230,"body_markdown":"If you are using `@Mock` and getting this same error, it might be due to mocks not functioning properly. For me, adding `MockitoAnnotations.initMocks(this);` in `setup()` resolved the error. ","title":"Misplaced argument matcher detected here. You cannot use argument matchers outside of verification or stubbing in Mockito","body":"<p>If you are using <code>@Mock</code> and getting this same error, it might be due to mocks not functioning properly. For me, adding <code>MockitoAnnotations.initMocks(this);</code> in <code>setup()</code> resolved the error.</p>\n"}],"owner":{"account_id":40881,"reputation":1569,"user_id":118649,"accept_rate":57,"display_name":"mogli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157584,"favorite_count":0,"down_vote_count":1,"up_vote_count":46,"accepted_answer_id":23273634,"answer_count":5,"score":45,"last_activity_date":1685576592,"creation_date":1398353132,"question_id":23273230,"body_markdown":"Out of the following two test cases in **BundleProcessorTest.java**, i am getting below exception, although, my first test case passes successfully.\r\n\r\n&gt; org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\n&gt; Misplaced argument matcher detected here:\r\n&gt; \r\n&gt; -&gt; at bundle.test.BundleProcessorTest.bundlePluginShouldNotBeNull(BundleProcessorTest.java:22)\r\n&gt; \r\n&gt; You cannot use argument matchers outside of verification or stubbing.\r\n&gt; Examples of correct usage of argument matchers:\r\n&gt;     when(mock.get(anyInt())).thenReturn(null);\r\n&gt;     doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\r\n&gt;     verify(mock).someMethod(contains(&quot;foo&quot;))\r\n&gt; \r\n&gt; Also, this error might show up because you use argument matchers with\r\n&gt; methods that cannot be mocked. Following methods *cannot* be\r\n&gt; stubbed/verified: final/private/equals()/hashCode().\r\n&gt; \r\n&gt; \tat\r\n&gt; bundle.test.BundleProcessorTest.bundlePluginCollectionShouldNotBeNull(BundleProcessorTest.java:28)\r\n&gt; \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\r\nPlease find below simplified code listing :-\r\n\r\n**BundlePlugin.java** \r\n\r\n    package bundle;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class BundlePlugin {\r\n    \r\n    \tprivate final String pluginName ;\r\n    \tprivate final List&lt;String&gt; featureContent ;\r\n    \r\n    \tpublic BundlePlugin(String pluginName, List&lt;String&gt; featureContent) {\r\n    \t\tsuper();\r\n    \t\tthis.pluginName = pluginName;\r\n    \t\tthis.featureContent = featureContent;\r\n    \t}\r\n    \r\n    \tpublic String getPluginName() {\r\n    \t\treturn pluginName;\r\n    \t}\r\n    \r\n    \tpublic List&lt;String&gt; getFeatureContent() {\r\n    \t\treturn featureContent;\r\n    \t}\r\n    }\r\n\r\n**BundleProcessor.java**\r\n\r\n    package bundle;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    \r\n    public class BundleProcessor {\r\n    \r\n    \tpublic BundlePlugin getBundlePlugin(String pluginName, Iterator&lt;String&gt; artifactIterator) {\r\n    \r\n    \t\tList&lt;String&gt; featureContent = new ArrayList&lt;String&gt;() ;\r\n    \t\t\r\n    \t\treturn new BundlePlugin(pluginName, featureContent);\r\n    \t}\r\n    }\r\n\r\n**BundleProcessorTest.java**\r\n\r\n    package bundle.test;\r\n    \r\n    import static org.junit.Assert.assertNotNull;\r\n    import static org.mockito.Matchers.anyString;\r\n    import static org.mockito.Mockito.mock;\r\n    \r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    import bundle.BundleProcessor;\r\n    \r\n    public class BundleProcessorTest {\r\n    \r\n    \tBundleProcessor bundleProcessor = new BundleProcessor() ;\t\r\n    \t\r\n    \t@Test\r\n    \tpublic void bundlePluginShouldNotBeNull() {\r\n    \t\r\n    \t\tIterator&lt;String&gt; artifactIterator = mock(Iterator.class) ;\r\n    \t\tbundle.BundlePlugin bundlePlugin = bundleProcessor.getBundlePlugin(anyString(), artifactIterator) ;\r\n    \t\tassertNotNull( bundlePlugin );\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void bundlePluginContentShouldNotBeNull() {\r\n    \t\tIterator&lt;String&gt; artifactIterator = mock(Iterator.class) ;\r\n    \t\tbundle.BundlePlugin bundlePlugin = bundleProcessor.getBundlePlugin(anyString(), artifactIterator) ;\r\n    \t\t\r\n    \t\tList&lt;String&gt; featureContent = bundlePlugin.getFeatureContent() ;\r\n    \t\tassertNotNull( featureContent );\r\n    \t}\r\n    }\r\n\r\nHow to execute this test without problem.\r\n\r\n\r\n----------\r\n**Edit 1:**\r\n\r\nBut if i mark the **bundlePluginCollectionShouldNotBeNull** test with @Ignore annotation, then first test case passes without any exception.","title":"Misplaced argument matcher detected here. You cannot use argument matchers outside of verification or stubbing in Mockito","body":"<p>Out of the following two test cases in <strong>BundleProcessorTest.java</strong>, i am getting below exception, although, my first test case passes successfully.</p>\n\n<blockquote>\n  <p>org.mockito.exceptions.misusing.InvalidUseOfMatchersException: \n  Misplaced argument matcher detected here:</p>\n  \n  <p>-> at bundle.test.BundleProcessorTest.bundlePluginShouldNotBeNull(BundleProcessorTest.java:22)</p>\n  \n  <p>You cannot use argument matchers outside of verification or stubbing.\n  Examples of correct usage of argument matchers:\n      when(mock.get(anyInt())).thenReturn(null);\n      doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\n      verify(mock).someMethod(contains(\"foo\"))</p>\n  \n  <p>Also, this error might show up because you use argument matchers with\n  methods that cannot be mocked. Following methods <em>cannot</em> be\n  stubbed/verified: final/private/equals()/hashCode().</p>\n  \n  <p>at\n  bundle.test.BundleProcessorTest.bundlePluginCollectionShouldNotBeNull(BundleProcessorTest.java:28)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</p>\n</blockquote>\n\n<p>Please find below simplified code listing :-</p>\n\n<p><strong>BundlePlugin.java</strong> </p>\n\n<pre><code>package bundle;\n\nimport java.util.List;\n\npublic class BundlePlugin {\n\n    private final String pluginName ;\n    private final List&lt;String&gt; featureContent ;\n\n    public BundlePlugin(String pluginName, List&lt;String&gt; featureContent) {\n        super();\n        this.pluginName = pluginName;\n        this.featureContent = featureContent;\n    }\n\n    public String getPluginName() {\n        return pluginName;\n    }\n\n    public List&lt;String&gt; getFeatureContent() {\n        return featureContent;\n    }\n}\n</code></pre>\n\n<p><strong>BundleProcessor.java</strong></p>\n\n<pre><code>package bundle;\n\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\n\npublic class BundleProcessor {\n\n    public BundlePlugin getBundlePlugin(String pluginName, Iterator&lt;String&gt; artifactIterator) {\n\n        List&lt;String&gt; featureContent = new ArrayList&lt;String&gt;() ;\n\n        return new BundlePlugin(pluginName, featureContent);\n    }\n}\n</code></pre>\n\n<p><strong>BundleProcessorTest.java</strong></p>\n\n<pre><code>package bundle.test;\n\nimport static org.junit.Assert.assertNotNull;\nimport static org.mockito.Matchers.anyString;\nimport static org.mockito.Mockito.mock;\n\nimport java.util.Iterator;\nimport java.util.List;\n\nimport org.junit.Test;\n\nimport bundle.BundleProcessor;\n\npublic class BundleProcessorTest {\n\n    BundleProcessor bundleProcessor = new BundleProcessor() ;   \n\n    @Test\n    public void bundlePluginShouldNotBeNull() {\n\n        Iterator&lt;String&gt; artifactIterator = mock(Iterator.class) ;\n        bundle.BundlePlugin bundlePlugin = bundleProcessor.getBundlePlugin(anyString(), artifactIterator) ;\n        assertNotNull( bundlePlugin );\n    }\n\n    @Test\n    public void bundlePluginContentShouldNotBeNull() {\n        Iterator&lt;String&gt; artifactIterator = mock(Iterator.class) ;\n        bundle.BundlePlugin bundlePlugin = bundleProcessor.getBundlePlugin(anyString(), artifactIterator) ;\n\n        List&lt;String&gt; featureContent = bundlePlugin.getFeatureContent() ;\n        assertNotNull( featureContent );\n    }\n}\n</code></pre>\n\n<p>How to execute this test without problem.</p>\n\n<hr>\n\n<p><strong>Edit 1:</strong></p>\n\n<p>But if i mark the <strong>bundlePluginCollectionShouldNotBeNull</strong> test with @Ignore annotation, then first test case passes without any exception.</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"owner":{"account_id":23431811,"reputation":21,"user_id":17490521,"display_name":"Mohamed Lamine Kon&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685573494,"creation_date":1685573494,"question_id":76377740,"body_markdown":"In my `**JAVA SPRING BOOT**` application, I have two entities **AGENT** and **DIRECTION** and when I try to register an AGENT that is assigned to a direction I get this error: `**not-null property references a null or transient value : com.malla.assurancelafia.model.Agent.direction**`\r\n\r\n\r\nThe Agent entity: \r\n\r\n    public class Agent {\r\n    \r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id_agent;\r\n        private String nom_agent;\r\n        private String prenom_agent;\r\n        @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;id_fonction&quot;, nullable = false)\r\n        @JsonIgnore\r\n        private Fonction fonction;\r\n        @Column(unique = true)\r\n        private String login;\r\n        private String password;\r\n        @Enumerated(EnumType.STRING)\r\n        private Etat etat = Etat.ACTIF;\r\n        @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;id_direction&quot;, nullable = false)\r\n        @JsonIgnore\r\n        private Direction direction;\r\n    }\r\n\r\nThe Direction entity :\r\n\r\n\r\n    public class Direction {\r\n    \r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id_direction;\r\n        private String libelle_direction;\r\n        private String description_direction;\r\n        @OneToOne(mappedBy = &quot;direction&quot;, cascade = CascadeType.ALL)\r\n        private Responsable responsable;\r\n        @OneToMany(mappedBy = &quot;direction&quot;, fetch = FetchType.EAGER)\r\n        private List&lt;Agent&gt; agents;\r\n        @Enumerated(EnumType.STRING)\r\n        private Etat etat = Etat.ACTIF;\r\n    }\r\n\r\nTHe controller :\r\n\r\n \r\n\r\n    @PostMapping(&quot;saveAgent&quot;)\r\n        public Agent saveA(@RequestBody Agent a) {\r\n            return agentServiceImplement.saveAgent(a);\r\n        }\r\n\r\n","title":"I get this error : not-null property references a null or transient value : model.Agent.direction","body":"<p>In my <code>**JAVA SPRING BOOT**</code> application, I have two entities <strong>AGENT</strong> and <strong>DIRECTION</strong> and when I try to register an AGENT that is assigned to a direction I get this error: <code>**not-null property references a null or transient value : com.malla.assurancelafia.model.Agent.direction**</code></p>\n<p>The Agent entity:</p>\n<pre><code>public class Agent {\n\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id_agent;\n    private String nom_agent;\n    private String prenom_agent;\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;id_fonction&quot;, nullable = false)\n    @JsonIgnore\n    private Fonction fonction;\n    @Column(unique = true)\n    private String login;\n    private String password;\n    @Enumerated(EnumType.STRING)\n    private Etat etat = Etat.ACTIF;\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;id_direction&quot;, nullable = false)\n    @JsonIgnore\n    private Direction direction;\n}\n</code></pre>\n<p>The Direction entity :</p>\n<pre><code>public class Direction {\n\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id_direction;\n    private String libelle_direction;\n    private String description_direction;\n    @OneToOne(mappedBy = &quot;direction&quot;, cascade = CascadeType.ALL)\n    private Responsable responsable;\n    @OneToMany(mappedBy = &quot;direction&quot;, fetch = FetchType.EAGER)\n    private List&lt;Agent&gt; agents;\n    @Enumerated(EnumType.STRING)\n    private Etat etat = Etat.ACTIF;\n}\n</code></pre>\n<p>THe controller :</p>\n<pre><code>@PostMapping(&quot;saveAgent&quot;)\n    public Agent saveA(@RequestBody Agent a) {\n        return agentServiceImplement.saveAgent(a);\n    }\n</code></pre>\n"},{"tags":["java","java-security"],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685573493,"creation_date":1685573493,"question_id":76377739,"body_markdown":"My Spring Boot application runs using Java 8 and my JDK8 installation contains a list of security providers property values in the `java.security` file located in directory `...jdk1.8.0_372\\jre\\lib\\security`:\r\n\r\n\r\n    #\r\n    # List of providers and their preference orders (see above):\r\n    #\r\n    security.provider.1=sun.security.provider.Sun\r\n    security.provider.2=sun.security.rsa.SunRsaSign\r\n    security.provider.3=sun.security.ec.SunEC\r\n    security.provider.4=com.sun.net.ssl.internal.ssl.Provider\r\n    security.provider.5=com.sun.crypto.provider.SunJCE\r\n    security.provider.6=sun.security.jgss.SunProvider\r\n    security.provider.7=com.sun.security.sasl.Provider\r\n    security.provider.8=org.jcp.xml.dsig.internal.dom.XMLDSigRI\r\n    security.provider.9=sun.security.smartcardio.SunPCSC\r\n    security.provider.10=sun.security.mscapi.SunMSCAPI\r\n\r\nThat same `java.security` file also contains the following list of fips providers:\r\n\r\n    # Security providers used when FIPS mode support is active\r\n    #\r\n    fips.provider.1=sun.security.pkcs11.SunPKCS11 ${java.home}/lib/security/nss.fips.cfg\r\n    fips.provider.2=sun.security.provider.Sun\r\n    fips.provider.3=sun.security.ec.SunEC\r\n    fips.provider.4=com.sun.net.ssl.internal.ssl.Provider SunPKCS11-NSS-FIPS\r\n\r\nI want to show each of these in the logs upon application startup. I can do that with code such as the following. But it only shows the providers in the first list (security.provider.*), not the second list (fips.provider.*):\r\n\r\n    java.security.Provider[] providers = java.security.Security.getProviders();\r\n    for (java.security.Provider provider : providers) {\r\n        System.out.println(&quot;Provider: &quot; + provider.getName());\r\n    }\t\t\r\n\r\nHow do I show the ones in the second list?","title":"list fips providers in JDK java.security config file","body":"<p>My Spring Boot application runs using Java 8 and my JDK8 installation contains a list of security providers property values in the <code>java.security</code> file located in directory <code>...jdk1.8.0_372\\jre\\lib\\security</code>:</p>\n<pre><code>#\n# List of providers and their preference orders (see above):\n#\nsecurity.provider.1=sun.security.provider.Sun\nsecurity.provider.2=sun.security.rsa.SunRsaSign\nsecurity.provider.3=sun.security.ec.SunEC\nsecurity.provider.4=com.sun.net.ssl.internal.ssl.Provider\nsecurity.provider.5=com.sun.crypto.provider.SunJCE\nsecurity.provider.6=sun.security.jgss.SunProvider\nsecurity.provider.7=com.sun.security.sasl.Provider\nsecurity.provider.8=org.jcp.xml.dsig.internal.dom.XMLDSigRI\nsecurity.provider.9=sun.security.smartcardio.SunPCSC\nsecurity.provider.10=sun.security.mscapi.SunMSCAPI\n</code></pre>\n<p>That same <code>java.security</code> file also contains the following list of fips providers:</p>\n<pre><code># Security providers used when FIPS mode support is active\n#\nfips.provider.1=sun.security.pkcs11.SunPKCS11 ${java.home}/lib/security/nss.fips.cfg\nfips.provider.2=sun.security.provider.Sun\nfips.provider.3=sun.security.ec.SunEC\nfips.provider.4=com.sun.net.ssl.internal.ssl.Provider SunPKCS11-NSS-FIPS\n</code></pre>\n<p>I want to show each of these in the logs upon application startup. I can do that with code such as the following. But it only shows the providers in the first list (security.provider.<em>), not the second list (fips.provider.</em>):</p>\n<pre><code>java.security.Provider[] providers = java.security.Security.getProviders();\nfor (java.security.Provider provider : providers) {\n    System.out.println(&quot;Provider: &quot; + provider.getName());\n}       \n</code></pre>\n<p>How do I show the ones in the second list?</p>\n"},{"tags":["java","windows","gradle","intellij-idea"],"comments":[{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":2,"creation_date":1641421871,"post_id":70600315,"comment_id":124803999,"body_markdown":"Did you try changing the JRE location under &quot;Run Configuration&quot;? It says 1.8 now and you need it to be 11+","body":"Did you try changing the JRE location under &quot;Run Configuration&quot;? It says 1.8 now and you need it to be 11+"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641421953,"post_id":70600315,"comment_id":124804022,"body_markdown":"You should really uninstall the JRE8 since it is redundant with JDK8. And you should uninstall JDK8 because you don&#39;t really need it anymore","body":"You should really uninstall the JRE8 since it is redundant with JDK8. And you should uninstall JDK8 because you don&#39;t really need it anymore"},{"owner":{"account_id":20854541,"reputation":1009,"user_id":15318227,"display_name":"Gurkirat Singh Guliani"},"score":0,"creation_date":1641421954,"post_id":70600315,"comment_id":124804023,"body_markdown":"Does this answer your question? [Class has been compiled by a more recent version of the Java Environment](https://stackoverflow.com/questions/47457105/class-has-been-compiled-by-a-more-recent-version-of-the-java-environment)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47457105/class-has-been-compiled-by-a-more-recent-version-of-the-java-environment\">Class has been compiled by a more recent version of the Java Environment</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641422006,"post_id":70600315,"comment_id":124804030,"body_markdown":"Note: `JAVA_HOME` should not include the bin folder, and your PATH can use `%JAVA_HOME%\\bin`","body":"Note: <code>JAVA_HOME</code> should not include the bin folder, and your PATH can use <code>%JAVA_HOME%\\bin</code>"},{"owner":{"account_id":13649486,"reputation":2191,"user_id":10628282,"display_name":"user9847788"},"score":0,"creation_date":1641422028,"post_id":70600315,"comment_id":124804036,"body_markdown":"There is a JRE inside the Java 8 folder, but no JRE inside the 11 folder","body":"There is a JRE inside the Java 8 folder, but no JRE inside the 11 folder"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1641422083,"post_id":70600315,"comment_id":124804051,"body_markdown":"Sure. The distinction between them was removed after Java 8. You still don&#39;t need both. [_The JDK includes the JRE, so you do not have to download both separately_](https://docs.oracle.com/javase/9/install/overview-jdk-9-and-jre-9-installation.htm#JSJIG-GUID-8677A77F-231A-40F7-98B9-1FD0B48C346A)","body":"Sure. The distinction between them was removed after Java 8. You still don&#39;t need both. <a href=\"https://docs.oracle.com/javase/9/install/overview-jdk-9-and-jre-9-installation.htm#JSJIG-GUID-8677A77F-231A-40F7-98B9-1FD0B48C346A\" rel=\"nofollow noreferrer\"><i>The JDK includes the JRE, so you do not have to download both separately</i></a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1641422255,"post_id":70600315,"comment_id":124804094,"body_markdown":"Regardless, there is other information that is missing. Are you using Maven/Gradle? Is **that** compiling your code to Java11? Then IntelliJ&#39;s run config is set to Java8?","body":"Regardless, there is other information that is missing. Are you using Maven/Gradle? Is <b>that</b> compiling your code to Java11? Then IntelliJ&#39;s run config is set to Java8?"},{"owner":{"account_id":13649486,"reputation":2191,"user_id":10628282,"display_name":"user9847788"},"score":0,"creation_date":1641422264,"post_id":70600315,"comment_id":124804097,"body_markdown":"So if there&#39;s no JRE folder in version 11, what should I specify under JRE in the Run Config?","body":"So if there&#39;s no JRE folder in version 11, what should I specify under JRE in the Run Config?"},{"owner":{"account_id":13649486,"reputation":2191,"user_id":10628282,"display_name":"user9847788"},"score":1,"creation_date":1641422286,"post_id":70600315,"comment_id":124804103,"body_markdown":"It&#39;s using Gradle","body":"It&#39;s using Gradle"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1641422438,"post_id":70600315,"comment_id":124804135,"body_markdown":"Okay, and do you see a line that has something like `sourceCompatibility 11`? Or `targetCompatibility  11`? Can you change that to 8 and run it?","body":"Okay, and do you see a line that has something like <code>sourceCompatibility 11</code>? Or <code>targetCompatibility  11</code>? Can you change that to 8 and run it?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1641423006,"post_id":70600315,"comment_id":124804267,"body_markdown":"I forgot this issue with Maven POM about source and target compatibility. That could be it, but I think in the case of Maven, you will have a different error. I had a similar issue when I migrated from Java 8 to Java 14 about 3 years ago. But honestly, I don&#39;t remember what the error was. Of course, regardless of that, it is a great suggestion to check this and make sure the compatibility settings points to the same version as the JDK used to compile.","body":"I forgot this issue with Maven POM about source and target compatibility. That could be it, but I think in the case of Maven, you will have a different error. I had a similar issue when I migrated from Java 8 to Java 14 about 3 years ago. But honestly, I don&#39;t remember what the error was. Of course, regardless of that, it is a great suggestion to check this and make sure the compatibility settings points to the same version as the JDK used to compile."},{"owner":{"account_id":13649486,"reputation":2191,"user_id":10628282,"display_name":"user9847788"},"score":1,"creation_date":1641423308,"post_id":70600315,"comment_id":124804345,"body_markdown":"@OneCricketeer I updated `sourceCompatibility` from 11 to 8, but I still get the error. When I update this what am I to specify as the JRE under the Run Configuration?","body":"@OneCricketeer I updated <code>sourceCompatibility</code> from 11 to 8, but I still get the error. When I update this what am I to specify as the JRE under the Run Configuration?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641424850,"post_id":70600315,"comment_id":124804673,"body_markdown":"I think you need to update IntelliJ. Mine says &quot;JDK or JRE&quot; in Run Config panel.  And in &quot;Platform Settings &gt; SDK&quot;, it _only_ says &quot;JDK home path&quot;.  Like I (and documentation) says JDK **includes** the JRE, so they are the same paths.","body":"I think you need to update IntelliJ. Mine says &quot;JDK or JRE&quot; in Run Config panel.  And in &quot;Platform Settings &gt; SDK&quot;, it <i>only</i> says &quot;JDK home path&quot;.  Like I (and documentation) says JDK <b>includes</b> the JRE, so they are the same paths."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1641425001,"post_id":70600315,"comment_id":124804697,"body_markdown":"Also, the fastest solution to your problem would be running `gradle bootRun` instead of messing with OS or IDE variables","body":"Also, the fastest solution to your problem would be running <code>gradle bootRun</code> instead of messing with OS or IDE variables"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1685571880,"creation_date":1641422278,"answer_id":70600427,"question_id":70600315,"body_markdown":"If you are trying to execute the code outside your IDE...\r\n\r\nThe problem is Windows....\r\n--------------------------\r\n\r\nOpen your command prompt and type &quot;where java&quot;. When you do this, you will notice a &quot;weird&quot; path that looks something like this\r\n\r\n    C:\\Program Files\\Common Files\\Oracle\\Java\\javapath\\java.exe\r\n\r\nI can&#39;t recall what Windows version introduced this shortcut, but I want to say it was Windows 7. The problem is that this shortcut points to a Runtime Environment that is more recent (newer) than the Java version that was used to compile the code. In other words, Java is backwards compatible; not forward compatible. Compiled code cannot run in a newer Java version.\r\n\r\nHow do you fix this?\r\n--------------------\r\n\r\nOne way is to go to your SYSTEM Environment Variables and edit the Path system variable and add JAVA_HOME at the very beginning of the paths. It will be something like this\r\n\r\n    %JAVA_HOME%; {YOUR OTHER PATHS HERE}\r\n\r\n***If you are trying to execute within the IDE***, the problem is similar. POTENTIALLY, you can have a conflict between your PROJECT properties and your global IDE properties, where the Runtime Environment points to a newer version of Java than the JDK used to compile. That said...\r\n\r\nI had a very weird issue with an application I worked on years ago. It was a client/server application and a coworker of mine was having this issue because, unbeknownst to her, there was version of the server running in the background that was causing the conflict. So, if you have a similar type of application, check your processes using Task Manager and make sure you either 1) shutdown this application and try again, or 2) Uninstall that application and reinstall the new one. In her case, she tried rebooting her PC but that didn&#39;t work because the process would start automatically after each reboot.\r\n\r\n","title":"How to resolve Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0 error?","body":"<p>If you are trying to execute the code outside your IDE...</p>\n<h2>The problem is Windows....</h2>\n<p>Open your command prompt and type &quot;where java&quot;. When you do this, you will notice a &quot;weird&quot; path that looks something like this</p>\n<pre><code>C:\\Program Files\\Common Files\\Oracle\\Java\\javapath\\java.exe\n</code></pre>\n<p>I can't recall what Windows version introduced this shortcut, but I want to say it was Windows 7. The problem is that this shortcut points to a Runtime Environment that is more recent (newer) than the Java version that was used to compile the code. In other words, Java is backwards compatible; not forward compatible. Compiled code cannot run in a newer Java version.</p>\n<h2>How do you fix this?</h2>\n<p>One way is to go to your SYSTEM Environment Variables and edit the Path system variable and add JAVA_HOME at the very beginning of the paths. It will be something like this</p>\n<pre><code>%JAVA_HOME%; {YOUR OTHER PATHS HERE}\n</code></pre>\n<p><em><strong>If you are trying to execute within the IDE</strong></em>, the problem is similar. POTENTIALLY, you can have a conflict between your PROJECT properties and your global IDE properties, where the Runtime Environment points to a newer version of Java than the JDK used to compile. That said...</p>\n<p>I had a very weird issue with an application I worked on years ago. It was a client/server application and a coworker of mine was having this issue because, unbeknownst to her, there was version of the server running in the background that was causing the conflict. So, if you have a similar type of application, check your processes using Task Manager and make sure you either 1) shutdown this application and try again, or 2) Uninstall that application and reinstall the new one. In her case, she tried rebooting her PC but that didn't work because the process would start automatically after each reboot.</p>\n"},{"tags":[],"owner":{"account_id":23840073,"reputation":391,"user_id":17845249,"display_name":"Juan Berrospe"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1641424431,"creation_date":1641423385,"answer_id":70600571,"question_id":70600315,"body_markdown":"Open IntelliJ on your project and go to File &gt;&gt; Project Structure &gt;&gt; Project and on the option Project SDK Select java 11 and apply the changes.\r\n\r\n[Intellij Project structure][1]\r\n\r\n\r\nEdit--------\r\n\r\nThen try these options on File &gt;&gt; Settings.\r\n\r\n1.Set Gradle JVM Home\r\n[Gradle JVM][2]\r\n\r\n2.Set the JDK version in the Project module settings\r\n[JDK version in the Project module][3]\r\n\r\n3.Check the JDK version in the Modules\r\n[version in the Modules][4]\r\n\r\nClose IntelliJ and open it again. \r\n\r\n  [1]: https://i.stack.imgur.com/3CwpV.png\r\n  [2]: https://i.stack.imgur.com/hWD1a.png\r\n  [3]: https://i.stack.imgur.com/0ldvE.png\r\n  [4]: https://i.stack.imgur.com/jf1Xw.png","title":"How to resolve Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0 error?","body":"<p>Open IntelliJ on your project and go to File &gt;&gt; Project Structure &gt;&gt; Project and on the option Project SDK Select java 11 and apply the changes.</p>\n<p><a href=\"https://i.stack.imgur.com/3CwpV.png\" rel=\"noreferrer\">Intellij Project structure</a></p>\n<p>Edit--------</p>\n<p>Then try these options on File &gt;&gt; Settings.</p>\n<p>1.Set Gradle JVM Home\n<a href=\"https://i.stack.imgur.com/hWD1a.png\" rel=\"noreferrer\">Gradle JVM</a></p>\n<p>2.Set the JDK version in the Project module settings\n<a href=\"https://i.stack.imgur.com/0ldvE.png\" rel=\"noreferrer\">JDK version in the Project module</a></p>\n<p>3.Check the JDK version in the Modules\n<a href=\"https://i.stack.imgur.com/jf1Xw.png\" rel=\"noreferrer\">version in the Modules</a></p>\n<p>Close IntelliJ and open it again.</p>\n"}],"owner":{"account_id":13649486,"reputation":2191,"user_id":10628282,"display_name":"user9847788"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220020,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"closed_date":1641425378,"answer_count":2,"score":35,"last_activity_date":1685571880,"creation_date":1641421516,"question_id":70600315,"body_markdown":"I am trying to run a Spring  Boot app in IntelliJ.\r\n\r\nBut when I try to run I get the following error message:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError:\r\n&gt; myProject\r\n&gt; has been compiled by a more recent version of the Java Runtime (class\r\n&gt; file version 55.0), this version of the Java Runtime only recognizes\r\n&gt; class file versions up to 52.0\r\n\r\nHere is the JRE location under my Run Configuration:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have tried installing a couple of different Java versions here:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere are my current system / environment variables:\r\n\r\nEnvironment Variables:\r\n\r\n    JAVA_HOME: C:\\Program Files\\Java\\jdk-11.0.12\\bin\r\n\r\nSystem Variables:\r\n\r\n    Path: C:\\Program Files\\Java\\jdk-11.0.12\\bin ....\r\n\r\nI tried to find a JRE that matched the version, but haven&#39;t been able to find it.\r\n\r\nCan someone please tell me what changes I need to make so I can successfully run this application locally?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sjucQ.png\r\n  [2]: https://i.stack.imgur.com/LigNW.png","title":"How to resolve Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0 error?","body":"<p>I am trying to run a Spring  Boot app in IntelliJ.</p>\n<p>But when I try to run I get the following error message:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError:\nmyProject\nhas been compiled by a more recent version of the Java Runtime (class\nfile version 55.0), this version of the Java Runtime only recognizes\nclass file versions up to 52.0</p>\n</blockquote>\n<p>Here is the JRE location under my Run Configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/sjucQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sjucQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried installing a couple of different Java versions here:</p>\n<p><a href=\"https://i.stack.imgur.com/LigNW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LigNW.png\" alt=\"enter image description here\" /></a></p>\n<p>Here are my current system / environment variables:</p>\n<p>Environment Variables:</p>\n<pre><code>JAVA_HOME: C:\\Program Files\\Java\\jdk-11.0.12\\bin\n</code></pre>\n<p>System Variables:</p>\n<pre><code>Path: C:\\Program Files\\Java\\jdk-11.0.12\\bin ....\n</code></pre>\n<p>I tried to find a JRE that matched the version, but haven't been able to find it.</p>\n<p>Can someone please tell me what changes I need to make so I can successfully run this application locally?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":2,"creation_date":1685573777,"post_id":76377633,"comment_id":134680991,"body_markdown":"the link you share about [keyword](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.subject), says that `deleteBy` and `removeBy` will `Delete query method returning either no result (void) or the delete count.`. What does it mean it doesn&#39;t work? Are you getting an error at **compilation** time? during **runtime**? could you provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"the link you share about <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.subject\" rel=\"nofollow noreferrer\">keyword</a>, says that <code>deleteBy</code> and <code>removeBy</code> will <code>Delete query method returning either no result (void) or the delete count.</code>. What does it mean it doesn&#39;t work? Are you getting an error at <b>compilation</b> time? during <b>runtime</b>? could you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"owner":{"account_id":1744334,"reputation":379,"user_id":1594875,"accept_rate":88,"display_name":"MLmuchAmaze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685571498,"creation_date":1685571498,"question_id":76377633,"body_markdown":"The spring-data-jdbc:3.0.3 documentation states that in order to generated queries based on function names, one needs to provide a [keyword][1] and some [predicate modifiers][2].\r\n\r\nFor example `existsByIdAndOwner` will return true if there is a record for which the provided Id and Owner match. Also `deleteById` will delete a record based on the provided Id. But `deleteByIdAndOwner` doesn&#39;t seem to work. I tried the following combinations.\r\n\r\n\r\n    public interface EntityRepository extends CrudRepository&lt;Entity, Long&gt; {\r\n    \r\n        Entity findByIdAndOwner(Long id, String owner);       // works\r\n    \r\n        boolean existsByIdAndOwner(Long id, String owner);    // works\r\n\r\n        void deleteById(Long id);                             // work\r\n    \r\n        void deleteByIdAndOwner(Long id, String owner);       // doesn&#39;t work\r\n    \r\n        void deleteEntityByIdAndOwner(Long id, String owner); // doesn&#39;t work\r\n    \r\n        void removeByIdAndOwner(Long id, String owner);       // doesn&#39;t work\r\n    \r\n        void removeEntityByIdAndOwner(Long id, String owner); // doesn&#39;t work\r\n    }\r\n\r\nIs thera a way to generate a delete query based on function name, that take two predicates into account?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.subject\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.predicate","title":"Naming convention for delete in spring-data","body":"<p>The spring-data-jdbc:3.0.3 documentation states that in order to generated queries based on function names, one needs to provide a <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.subject\" rel=\"nofollow noreferrer\">keyword</a> and some <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.predicate\" rel=\"nofollow noreferrer\">predicate modifiers</a>.</p>\n<p>For example <code>existsByIdAndOwner</code> will return true if there is a record for which the provided Id and Owner match. Also <code>deleteById</code> will delete a record based on the provided Id. But <code>deleteByIdAndOwner</code> doesn't seem to work. I tried the following combinations.</p>\n<pre><code>public interface EntityRepository extends CrudRepository&lt;Entity, Long&gt; {\n\n    Entity findByIdAndOwner(Long id, String owner);       // works\n\n    boolean existsByIdAndOwner(Long id, String owner);    // works\n\n    void deleteById(Long id);                             // work\n\n    void deleteByIdAndOwner(Long id, String owner);       // doesn't work\n\n    void deleteEntityByIdAndOwner(Long id, String owner); // doesn't work\n\n    void removeByIdAndOwner(Long id, String owner);       // doesn't work\n\n    void removeEntityByIdAndOwner(Long id, String owner); // doesn't work\n}\n</code></pre>\n<p>Is thera a way to generate a delete query based on function name, that take two predicates into account?</p>\n"},{"tags":["java","apache-stringutils"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1685566224,"post_id":76377159,"comment_id":134680028,"body_markdown":"Why can&#39;t you use regex?","body":"Why can&#39;t you use regex?"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1685567581,"post_id":76377159,"comment_id":134680231,"body_markdown":"You can use `str = str.substring(0, str.substring(0, str.lastIndexOf(&#39;/&#39;)).lastIndexOf(&#39;/&#39;));`. By the way, I would prefer a regex solution (as already shown by shmosel.","body":"You can use <code>str = str.substring(0, str.substring(0, str.lastIndexOf(&#39;&#47;&#39;)).lastIndexOf(&#39;&#47;&#39;));</code>. By the way, I would prefer a regex solution (as already shown by shmosel."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685574441,"post_id":76377159,"comment_id":134681042,"body_markdown":"&quot;_trying to split by &quot;/&quot; ... but stuck in middle_&quot; - Can you show us your code and what happens when you run it? You may already be very close to a solution and it may be helpful to you, to see how to fix what you already have (assuming none of the existing answers already do that).","body":"&quot;<i>trying to split by &quot;/&quot; ... but stuck in middle</i>&quot; - Can you show us your code and what happens when you run it? You may already be very close to a solution and it may be helpful to you, to see how to fix what you already have (assuming none of the existing answers already do that)."}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685566540,"creation_date":1685566540,"answer_id":76377212,"question_id":76377159,"body_markdown":"You can use a simple regex to match any text between the slashes:\r\n\r\n    str = str.replaceAll(&quot;/[^/]+/[^/]+$&quot;, &quot;&quot;);\r\n\r\nOr you can split and rejoin like this:\r\n\r\n    String[] parts = str.split(&quot;/&quot;);\r\n    str = String.join(&quot;/&quot;, Arrays.asList(parts).subList(0, parts.length - 2));","title":"To remove last two words from a string","body":"<p>You can use a simple regex to match any text between the slashes:</p>\n<pre><code>str = str.replaceAll(&quot;/[^/]+/[^/]+$&quot;, &quot;&quot;);\n</code></pre>\n<p>Or you can split and rejoin like this:</p>\n<pre><code>String[] parts = str.split(&quot;/&quot;);\nstr = String.join(&quot;/&quot;, Arrays.asList(parts).subList(0, parts.length - 2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685566948,"creation_date":1685566948,"answer_id":76377247,"question_id":76377159,"body_markdown":"I would use [`String.lastIndexOf(String, int)`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#lastIndexOf-java.lang.String-int-) to search for the second to last `/` and then take the substring. Like\r\n\r\n\tString[] arr = {\r\n\t\t\t&quot;abc/def/ghi/test/yvw/syz&quot;, \r\n\t\t\t&quot;abc/fed/igh/test_123/wuvacv/zyxh&quot;\r\n\t};\r\n\tfor (String s : arr) {\r\n\t\tint p = s.lastIndexOf(&quot;/&quot;, s.lastIndexOf(&quot;/&quot;) - 1);\r\n\t\tSystem.out.println(s.substring(0, p));\r\n\t}\r\n\r\nOutputs (as requested)\r\n\r\n    abc/def/ghi/test\r\n    abc/fed/igh/test_123","title":"To remove last two words from a string","body":"<p>I would use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#lastIndexOf-java.lang.String-int-\" rel=\"nofollow noreferrer\"><code>String.lastIndexOf(String, int)</code></a> to search for the second to last <code>/</code> and then take the substring. Like</p>\n<pre><code>String[] arr = {\n        &quot;abc/def/ghi/test/yvw/syz&quot;, \n        &quot;abc/fed/igh/test_123/wuvacv/zyxh&quot;\n};\nfor (String s : arr) {\n    int p = s.lastIndexOf(&quot;/&quot;, s.lastIndexOf(&quot;/&quot;) - 1);\n    System.out.println(s.substring(0, p));\n}\n</code></pre>\n<p>Outputs (as requested)</p>\n<pre><code>abc/def/ghi/test\nabc/fed/igh/test_123\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685568425,"creation_date":1685568109,"answer_id":76377388,"question_id":76377159,"body_markdown":"```java\r\npublic static String removeLastTwoWords(String str) {\r\n    String[] words = StringUtils.split(str, &#39;/&#39;);\r\n    return String.join(&quot;/&quot;, ArrayUtils.subarray(words, 0, words.length - 2));\r\n}\r\n```\r\n\r\nIn case you do not want to split a string, you could use `lastIndexOf()`:\r\n\r\n```java\r\npublic static String removeLastTwoWords(String str) {\r\n    int last = str.lastIndexOf(&#39;/&#39;);\r\n    int preLast = str.lastIndexOf(&#39;/&#39;, last - 1);\r\n    return preLast &gt; 0 ? str.substring(0, preLast) : &quot;&quot;;\r\n}\r\n```","title":"To remove last two words from a string","body":"<pre class=\"lang-java prettyprint-override\"><code>public static String removeLastTwoWords(String str) {\n    String[] words = StringUtils.split(str, '/');\n    return String.join(&quot;/&quot;, ArrayUtils.subarray(words, 0, words.length - 2));\n}\n</code></pre>\n<p>In case you do not want to split a string, you could use <code>lastIndexOf()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String removeLastTwoWords(String str) {\n    int last = str.lastIndexOf('/');\n    int preLast = str.lastIndexOf('/', last - 1);\n    return preLast &gt; 0 ? str.substring(0, preLast) : &quot;&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685571049,"creation_date":1685571049,"answer_id":76377605,"question_id":76377159,"body_markdown":"There are a few approaches you can take.\r\n\r\nKeep in mind, the _[String#split](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String))_ parameter _is_ a regular expression pattern.\r\n\r\nTo create a loop that iterates on a _String#split_ you can use the following.  \r\nIt will stop iterating when it reaches the second to last element&amp;mdash;using a fixed condition of _strings.length - 2_.\r\n\r\n```java\r\nString parse(String string) {\r\n    StringBuilder parsed = new StringBuilder();\r\n    String[] strings = string.split(&quot;/&quot;);\r\n    for (int index = 0; index &lt; strings.length - 2; index++) {\r\n        if (index != 0) parsed.append(&quot;/&quot;);\r\n        parsed.append(strings[index]);\r\n    }\r\n    return parsed.toString();\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nabc/def/ghi/test\r\nabc/fed/igh/test_123\r\n```\r\n\r\nIf you would prefer to provide a starting and limiting index, you can implement additional method parameters.  \r\nThe _limit_ argument will be inclusive.\r\n\r\n```java\r\n/** @param limit inclusive */\r\nString parse(String string, int startIndex, int limit) {\r\n    StringBuilder parsed = new StringBuilder();\r\n    String[] strings = string.split(&quot;/&quot;);\r\n    for (int index = startIndex; index &lt;= limit; index++) {\r\n        if (index != 0) parsed.append(&quot;/&quot;);\r\n        parsed.append(strings[index]);\r\n    }\r\n    return parsed.toString();\r\n}\r\n```\r\n\r\nHere is an example input and output.\r\n\r\n```java\r\nString stringA = &quot;abc/def/ghi/test/yvw/syz&quot;;\r\nString stringB = &quot;abc/fed/igh/test_123/wuvacv/zyxh&quot;;\r\nSystem.out.println(parse(stringA, 0, 3));\r\nSystem.out.println(parse(stringB, 0, 3));\r\n```\r\n\r\n```none\r\nabc/def/ghi/test\r\nabc/fed/igh/test_123\r\n```\r\n\r\nFinally, if your _string_ value follows the same pattern, in which the contained value always starts at index 0, and ends on the first-to-last solidus character, you can utilize the _[String#substring](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#substring(int,int))_ and _[String#lastIndexOf](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#lastIndexOf(int,int))_ methods.\r\n\r\nThe second parameter of the _lastIndexOf_ call, here, is an _offset_ index.  \r\nSo, it is locating the last solidus character, and then using the returned index as an offset of another call.\r\n\r\n```java\r\nString string = &quot;abc/def/ghi/test/yvw/syz&quot;;\r\nint indexOf = string.lastIndexOf(&#39;/&#39;, string.lastIndexOf(&#39;/&#39;) - 1);\r\nstring = string.substring(0, indexOf);\r\n```\r\n\r\n```none\r\nabc/def/ghi/test\r\n```","title":"To remove last two words from a string","body":"<p>There are a few approaches you can take.</p>\n<p>Keep in mind, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String#split</a></em> parameter <em>is</em> a regular expression pattern.</p>\n<p>To create a loop that iterates on a <em>String#split</em> you can use the following.<br />\nIt will stop iterating when it reaches the second to last element—using a fixed condition of <em>strings.length - 2</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String parse(String string) {\n    StringBuilder parsed = new StringBuilder();\n    String[] strings = string.split(&quot;/&quot;);\n    for (int index = 0; index &lt; strings.length - 2; index++) {\n        if (index != 0) parsed.append(&quot;/&quot;);\n        parsed.append(strings[index]);\n    }\n    return parsed.toString();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>abc/def/ghi/test\nabc/fed/igh/test_123\n</code></pre>\n<p>If you would prefer to provide a starting and limiting index, you can implement additional method parameters.<br />\nThe <em>limit</em> argument will be inclusive.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** @param limit inclusive */\nString parse(String string, int startIndex, int limit) {\n    StringBuilder parsed = new StringBuilder();\n    String[] strings = string.split(&quot;/&quot;);\n    for (int index = startIndex; index &lt;= limit; index++) {\n        if (index != 0) parsed.append(&quot;/&quot;);\n        parsed.append(strings[index]);\n    }\n    return parsed.toString();\n}\n</code></pre>\n<p>Here is an example input and output.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String stringA = &quot;abc/def/ghi/test/yvw/syz&quot;;\nString stringB = &quot;abc/fed/igh/test_123/wuvacv/zyxh&quot;;\nSystem.out.println(parse(stringA, 0, 3));\nSystem.out.println(parse(stringB, 0, 3));\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>abc/def/ghi/test\nabc/fed/igh/test_123\n</code></pre>\n<p>Finally, if your <em>string</em> value follows the same pattern, in which the contained value always starts at index 0, and ends on the first-to-last solidus character, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#substring(int,int)\" rel=\"nofollow noreferrer\">String#substring</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#lastIndexOf(int,int)\" rel=\"nofollow noreferrer\">String#lastIndexOf</a></em> methods.</p>\n<p>The second parameter of the <em>lastIndexOf</em> call, here, is an <em>offset</em> index.<br />\nSo, it is locating the last solidus character, and then using the returned index as an offset of another call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;abc/def/ghi/test/yvw/syz&quot;;\nint indexOf = string.lastIndexOf('/', string.lastIndexOf('/') - 1);\nstring = string.substring(0, indexOf);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>abc/def/ghi/test\n</code></pre>\n"}],"owner":{"account_id":25712323,"reputation":9,"user_id":19470622,"display_name":"Saduni Jayalath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1685571049,"creation_date":1685566007,"question_id":76377159,"body_markdown":"I have sample strings like below,\r\n\r\n**abc/def/ghi/test/yvw/syz**\r\n\r\n**abc/fed/igh/test_123/wuvacv/zyxh**\r\n\r\nI want to get it like below\r\n\r\n**abc/def/ghi/test**\r\n\r\n**abc/fed/igh/test_123**\r\n\r\nSo what are the best way to follow for string manipulation \r\n\r\nThanks in advance. \r\n\r\nI&#39;m trying to split by &quot;/&quot; and put the words into an array and looping it.but stuck in middle. Here I cant use regex here cas last two words can be anything.","title":"To remove last two words from a string","body":"<p>I have sample strings like below,</p>\n<p><strong>abc/def/ghi/test/yvw/syz</strong></p>\n<p><strong>abc/fed/igh/test_123/wuvacv/zyxh</strong></p>\n<p>I want to get it like below</p>\n<p><strong>abc/def/ghi/test</strong></p>\n<p><strong>abc/fed/igh/test_123</strong></p>\n<p>So what are the best way to follow for string manipulation</p>\n<p>Thanks in advance.</p>\n<p>I'm trying to split by &quot;/&quot; and put the words into an array and looping it.but stuck in middle. Here I cant use regex here cas last two words can be anything.</p>\n"},{"tags":["java","spring","spring-boot","jackson","lombok"],"comments":[{"owner":{"account_id":260264,"reputation":4351,"user_id":543712,"accept_rate":78,"display_name":"Luis Aguilar"},"score":0,"creation_date":1516314390,"post_id":48330613,"comment_id":83648455,"body_markdown":"Just wondering, have you tried updating Jackson to the latest stable release 2.9.4? The changelog contains some specific fixes related map deserialization. https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.9.3","body":"Just wondering, have you tried updating Jackson to the latest stable release 2.9.4? The changelog contains some specific fixes related map deserialization. <a href=\"https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.9.3\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson/wiki/Jackson-Release-2.9.3</a>"},{"owner":{"account_id":6052716,"reputation":1842,"user_id":4859182,"accept_rate":92,"display_name":"solomkinmv"},"score":0,"creation_date":1516315482,"post_id":48330613,"comment_id":83648823,"body_markdown":"@LuisAguilar I&#39;ve tried newer version but nothing changed. I have different DTOs with a few strings which also failed to deserialize. I think it is somehow related to Spring&#39;s configuration of object mapper, but I couldn&#39;t find anything related to default constructors.","body":"@LuisAguilar I&#39;ve tried newer version but nothing changed. I have different DTOs with a few strings which also failed to deserialize. I think it is somehow related to Spring&#39;s configuration of object mapper, but I couldn&#39;t find anything related to default constructors."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1516316857,"post_id":48330613,"comment_id":83649265,"body_markdown":"What version of Lombok are you using in each case?","body":"What version of Lombok are you using in each case?"},{"owner":{"account_id":6052716,"reputation":1842,"user_id":4859182,"accept_rate":92,"display_name":"solomkinmv"},"score":0,"creation_date":1516355004,"post_id":48330613,"comment_id":83661290,"body_markdown":"@AndyWilkinson spring 1.4.3 – lombok 1.16.12, spring 2 - lombok 1.16.20","body":"@AndyWilkinson spring 1.4.3 – lombok 1.16.12, spring 2 - lombok 1.16.20"},{"owner":{"account_id":6052716,"reputation":1842,"user_id":4859182,"accept_rate":92,"display_name":"solomkinmv"},"score":1,"creation_date":1516357647,"post_id":48330613,"comment_id":83662999,"body_markdown":"@AndyWilkinson wow! I&#39;ve tried new lombok version for spring boot 1.4.3 and got the same exception. Does it mean that lombok 1.16.12 generated no-arg constructor with `@Value` annotation?","body":"@AndyWilkinson wow! I&#39;ve tried new lombok version for spring boot 1.4.3 and got the same exception. Does it mean that lombok 1.16.12 generated no-arg constructor with <code>@Value</code> annotation?"},{"owner":{"display_name":"user177800"},"score":1,"creation_date":1516379512,"post_id":48330613,"comment_id":83676756,"body_markdown":"*I&#39;ve tried to Google this problem but found only solutions with `@JsonCreator` or `@JsonProperty`*, well that is the answer. Jackson requires those annotations on a constructor to know how to map the values into it or it needs a `default no-args constructor` just as the error message clearly states, and you have neither, that is why it is not working.","body":"<i>I&#39;ve tried to Google this problem but found only solutions with <code>@JsonCreator</code> or <code>@JsonProperty</code></i>, well that is the answer. Jackson requires those annotations on a constructor to know how to map the values into it or it needs a <code>default no-args constructor</code> just as the error message clearly states, and you have neither, that is why it is not working."},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1516894584,"post_id":48330613,"comment_id":83885108,"body_markdown":"@solomkinmv, I couldn&#39;t reproduce your issue with Spring Boot 2.0.0.M7, Jackson 2.9.2, Lombok 1.16.12, but have found a comment in the place where this exception is thrown: *&quot;This is either a definition problem (if no applicable creator exists), or **input mismatch problem** (otherwise) since none of existing creators match with token.&quot;* are you sending the same JSON?","body":"@solomkinmv, I couldn&#39;t reproduce your issue with Spring Boot 2.0.0.M7, Jackson 2.9.2, Lombok 1.16.12, but have found a comment in the place where this exception is thrown: <i>&quot;This is either a definition problem (if no applicable creator exists), or <b>input mismatch problem</b> (otherwise) since none of existing creators match with token.&quot;</i> are you sending the same JSON?"},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1516894859,"post_id":48330613,"comment_id":83885345,"body_markdown":"@solomkinmv, neither version of `@Value generates a default constructor, I&#39;ve checked it out","body":"@solomkinmv, neither version of `@Value generates a default constructor, I&#39;ve checked it out"},{"owner":{"account_id":317530,"reputation":2420,"user_id":634265,"display_name":"Tobias"},"score":0,"creation_date":1517402248,"post_id":48330613,"comment_id":84079675,"body_markdown":"Spring Boot 2 + Lombok 1.16.12 works for me. Lombok 1.16.20 breaks it.","body":"Spring Boot 2 + Lombok 1.16.12 works for me. Lombok 1.16.20 breaks it."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1652881001,"post_id":48330613,"comment_id":127714003,"body_markdown":"this works for me - https://github.com/projectlombok/lombok/issues/1563#issuecomment-362615072","body":"this works for me - <a href=\"https://github.com/projectlombok/lombok/issues/1563#issuecomment-362615072\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/issues/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":317530,"reputation":2420,"user_id":634265,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":86,"is_accepted":true,"score":86,"last_activity_date":1565270293,"creation_date":1517406260,"answer_id":48543627,"question_id":48330613,"body_markdown":"Due to breaking changes in Lombok version 1.16.20 you need to set the following property in your `lombok.config` file (if you don&#39;t have this file you can create it in your project root):\r\n\r\n    lombok.anyConstructor.addConstructorProperties=true\r\n\r\nThis is described in the Lombok changelog: https://projectlombok.org/changelog.\r\n\r\nAfter that the @Value should be accepted again by Jackson.\r\n\r\nYou may be interested in following the related GitHub issue here, although it&#39;s about `@Data`: https://github.com/rzwitserloot/lombok/issues/1563","title":"ObjectMapper can&#39;t deserialize without default constructor after upgrade to Spring Boot 2","body":"<p>Due to breaking changes in Lombok version 1.16.20 you need to set the following property in your <code>lombok.config</code> file (if you don't have this file you can create it in your project root):</p>\n\n<pre><code>lombok.anyConstructor.addConstructorProperties=true\n</code></pre>\n\n<p>This is described in the Lombok changelog: <a href=\"https://projectlombok.org/changelog\" rel=\"noreferrer\">https://projectlombok.org/changelog</a>.</p>\n\n<p>After that the @Value should be accepted again by Jackson.</p>\n\n<p>You may be interested in following the related GitHub issue here, although it's about <code>@Data</code>: <a href=\"https://github.com/rzwitserloot/lombok/issues/1563\" rel=\"noreferrer\">https://github.com/rzwitserloot/lombok/issues/1563</a></p>\n"},{"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532437909,"creation_date":1532437909,"answer_id":51499521,"question_id":48330613,"body_markdown":"I have upgraded lombok version to : &#39;org.projectlombok:lombok:1.18.0&#39; and it worked for me.","title":"ObjectMapper can&#39;t deserialize without default constructor after upgrade to Spring Boot 2","body":"<p>I have upgraded lombok version to : 'org.projectlombok:lombok:1.18.0' and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":6052716,"reputation":1842,"user_id":4859182,"accept_rate":92,"display_name":"solomkinmv"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1534590418,"creation_date":1534590418,"answer_id":51907939,"question_id":48330613,"body_markdown":"One more way to solve this problem. Use Jackson [parameter names module][1], which is included in spring boot 2 by default. After this Jackson can deserialize objects. But it works only if you have more than 1 property in object. In case of single property I receive following error message:\n\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `SomeClassName` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n\nBecause of the following:\n\n &gt; Marker annotation that can be used to define constructors and factory methods as one to use for instantiating new instances of the associated class.\n &gt;\n &gt; NOTE: when annotating creator methods (constructors, factory methods), method must either be:\n &gt;\n &gt;  - Single-argument constructor/factory method without `JsonProperty` annotation for the argument: if so, this is so-called &quot;delegate creator&quot;, in which case Jackson first binds JSON into type of the argument, and then calls creator. This is often used in conjunction with `JsonValue` (used for serialization).\n &gt;  - Constructor/factory method where every **argument** is annotated with either `JsonProperty` or `JacksonInject`, to indicate name of property to bind to\n &gt;\n &gt; Also note that all `JsonProperty` annotations must specify actual name (NOT empty String for &quot;default&quot;) unless you use one of extension modules that can detect parameter name; this because default JDK versions before 8 have not been able to store and/or retrieve parameter names from bytecode. But with JDK 8 (or using helper libraries such as Paranamer, or other JVM languages like Scala or Kotlin), specifying name is optional. \n\nTo handle this case with Lombok I&#39;ve used following workaround:\n\n    @Value\n    @AllArgsConstructor(onConstructor = @__(@JsonCreator(mode = JsonCreator.Mode.PROPERTIES)))\n    class SomeClassName {...}\n\n\n  [1]: https://github.com/FasterXML/jackson-modules-java8/tree/master/parameter-names","title":"ObjectMapper can&#39;t deserialize without default constructor after upgrade to Spring Boot 2","body":"<p>One more way to solve this problem. Use Jackson <a href=\"https://github.com/FasterXML/jackson-modules-java8/tree/master/parameter-names\" rel=\"noreferrer\">parameter names module</a>, which is included in spring boot 2 by default. After this Jackson can deserialize objects. But it works only if you have more than 1 property in object. In case of single property I receive following error message:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `SomeClassName` (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n</code></pre>\n<p>Because of the following:</p>\n<blockquote>\n<p>Marker annotation that can be used to define constructors and factory methods as one to use for instantiating new instances of the associated class.</p>\n<p>NOTE: when annotating creator methods (constructors, factory methods), method must either be:</p>\n<ul>\n<li>Single-argument constructor/factory method without <code>JsonProperty</code> annotation for the argument: if so, this is so-called &quot;delegate creator&quot;, in which case Jackson first binds JSON into type of the argument, and then calls creator. This is often used in conjunction with <code>JsonValue</code> (used for serialization).</li>\n<li>Constructor/factory method where every <strong>argument</strong> is annotated with either <code>JsonProperty</code> or <code>JacksonInject</code>, to indicate name of property to bind to</li>\n</ul>\n<p>Also note that all <code>JsonProperty</code> annotations must specify actual name (NOT empty String for &quot;default&quot;) unless you use one of extension modules that can detect parameter name; this because default JDK versions before 8 have not been able to store and/or retrieve parameter names from bytecode. But with JDK 8 (or using helper libraries such as Paranamer, or other JVM languages like Scala or Kotlin), specifying name is optional.</p>\n</blockquote>\n<p>To handle this case with Lombok I've used following workaround:</p>\n<pre><code>@Value\n@AllArgsConstructor(onConstructor = @__(@JsonCreator(mode = JsonCreator.Mode.PROPERTIES)))\nclass SomeClassName {...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":459077,"reputation":1090,"user_id":859330,"display_name":"CanCoder"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1580340419,"creation_date":1580340419,"answer_id":59977068,"question_id":48330613,"body_markdown":"I had this issue and the solution that worked for me what creating a *default constructor without fields* and the problem disappeared. ","title":"ObjectMapper can&#39;t deserialize without default constructor after upgrade to Spring Boot 2","body":"<p>I had this issue and the solution that worked for me what creating a <em>default constructor without fields</em> and the problem disappeared. </p>\n"},{"tags":[],"owner":{"account_id":6369472,"reputation":517,"user_id":4942371,"display_name":"mareck_ste"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1595231501,"creation_date":1594225535,"answer_id":62799269,"question_id":48330613,"body_markdown":"***In case you have some final fields*** within your class and you would rather have Object creator to use specific constructor to deserialize your POJO along with `@Data` annotation, I suggest annotating the constructor with `@JsonCreator(mode = JsonCreator.Mode.PROPERTIES)` and concrete required constructor parameters with `@JsonProperty(&quot;&lt;field_name&gt;&quot;)`. The example can be seen below:\r\n\r\n    package test.model;\r\n\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import lombok.Data;\r\n    \r\n    import java.util.Date;\r\n    \r\n    @Data\r\n    public class KafkaEventPojo {\r\n        private final String executionId;\r\n        private final String folder;\r\n        private final Date created_at;\r\n\r\n        private Date updated_at;\r\n        // ... other params\r\n        \r\n        /**\r\n         * Instantiates a new Kafka event pojo.\r\n         *\r\n         * @param executionId the execution or flow id of the event lifecycle\r\n         * @param folder      the folder to be retrieved\r\n         */\r\n        @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\r\n        public KafkaEventPojo(@JsonProperty(&quot;executionId&quot;) String executionId, @JsonProperty(&quot;folder&quot;) String folder) {\r\n            this(executionId, folder, new Date(System.currentTimeMillis()));\r\n        }\r\n    \r\n        private KafkaEventPojo(String executionId, String folder, Date date) {\r\n            this.executionId = executionId;\r\n            this.folder = folder;\r\n    \r\n            this.created_at = date;\r\n            this.updated_at = date;\r\n        }\r\n        \r\n        // ... other logic\r\n    }\r\n\r\n","title":"ObjectMapper can&#39;t deserialize without default constructor after upgrade to Spring Boot 2","body":"<p><em><strong>In case you have some final fields</strong></em> within your class and you would rather have Object creator to use specific constructor to deserialize your POJO along with <code>@Data</code> annotation, I suggest annotating the constructor with <code>@JsonCreator(mode = JsonCreator.Mode.PROPERTIES)</code> and concrete required constructor parameters with <code>@JsonProperty(&quot;&lt;field_name&gt;&quot;)</code>. The example can be seen below:</p>\n<pre><code>package test.model;\n\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.Data;\n\nimport java.util.Date;\n\n@Data\npublic class KafkaEventPojo {\n    private final String executionId;\n    private final String folder;\n    private final Date created_at;\n\n    private Date updated_at;\n    // ... other params\n    \n    /**\n     * Instantiates a new Kafka event pojo.\n     *\n     * @param executionId the execution or flow id of the event lifecycle\n     * @param folder      the folder to be retrieved\n     */\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\n    public KafkaEventPojo(@JsonProperty(&quot;executionId&quot;) String executionId, @JsonProperty(&quot;folder&quot;) String folder) {\n        this(executionId, folder, new Date(System.currentTimeMillis()));\n    }\n\n    private KafkaEventPojo(String executionId, String folder, Date date) {\n        this.executionId = executionId;\n        this.folder = folder;\n\n        this.created_at = date;\n        this.updated_at = date;\n    }\n    \n    // ... other logic\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5421563,"reputation":5502,"user_id":4315049,"accept_rate":57,"display_name":"robjwilkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596721322,"creation_date":1596721322,"answer_id":63284906,"question_id":48330613,"body_markdown":"As others have said you need to add more the the `@Value` annotation to tell Lombok to write the `@JsonCreator` on the generated constructor\r\n\r\n    @AllArgsConstructor(onConstructor_={@JsonCreator(mode = JsonCreator.Mode.PROPERTIES)})\r\n\r\n**Note** a slightly different syntax from other answers here if you are using JDK8+ (this is mentioned in the javadoc)\r\n\r\nIf you are using the freefair gradle plugin you also need to configure it to add constructor properties in `build.gradle`:\r\n\r\n    lombok {\r\n        config[&#39;lombok.anyConstructor.addConstructorProperties&#39;] = &#39;true&#39;\r\n    }\r\n\r\n ","title":"ObjectMapper can&#39;t deserialize without default constructor after upgrade to Spring Boot 2","body":"<p>As others have said you need to add more the the <code>@Value</code> annotation to tell Lombok to write the <code>@JsonCreator</code> on the generated constructor</p>\n<pre><code>@AllArgsConstructor(onConstructor_={@JsonCreator(mode = JsonCreator.Mode.PROPERTIES)})\n</code></pre>\n<p><strong>Note</strong> a slightly different syntax from other answers here if you are using JDK8+ (this is mentioned in the javadoc)</p>\n<p>If you are using the freefair gradle plugin you also need to configure it to add constructor properties in <code>build.gradle</code>:</p>\n<pre><code>lombok {\n    config['lombok.anyConstructor.addConstructorProperties'] = 'true'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598746261,"creation_date":1598745955,"answer_id":63652865,"question_id":48330613,"body_markdown":"I faced this problem, but my solution did not involve adding this: `(mode = JsonCreator.Mode.PROPERTIES)`\r\n\r\nWhat really solved my problem was the `@JsonProperty` within the Constructor.\r\n\r\nMy final result was this:\r\n\r\n```\r\n@Value\r\npublic class ServerTimeResponse {\r\n\r\n    long serverTime;\r\n\r\n    @JsonCreator\r\n    public ServerTimeResponse(@JsonProperty(&quot;serverTime&quot;) long serverTime) {\r\n        this.serverTime = serverTime;\r\n    }\r\n\r\n}\r\n```","title":"ObjectMapper can&#39;t deserialize without default constructor after upgrade to Spring Boot 2","body":"<p>I faced this problem, but my solution did not involve adding this: <code>(mode = JsonCreator.Mode.PROPERTIES)</code></p>\n<p>What really solved my problem was the <code>@JsonProperty</code> within the Constructor.</p>\n<p>My final result was this:</p>\n<pre><code>@Value\npublic class ServerTimeResponse {\n\n    long serverTime;\n\n    @JsonCreator\n    public ServerTimeResponse(@JsonProperty(&quot;serverTime&quot;) long serverTime) {\n        this.serverTime = serverTime;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12340518,"reputation":444,"user_id":9003884,"display_name":"Chirag goyal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620644823,"creation_date":1620644823,"answer_id":67469344,"question_id":48330613,"body_markdown":"If you are running in native mode and getting the error is because of reflection to resolve the annotate your class with `@RegisterForReflection` and rebuild the application and run your error will be resolved \r\n\r\nfor information search on the [link][1]\r\n\r\n\r\n  [1]: https://quarkus.io/guides/writing-native-applications-tips#registering-for-reflection","title":"ObjectMapper can&#39;t deserialize without default constructor after upgrade to Spring Boot 2","body":"<p>If you are running in native mode and getting the error is because of reflection to resolve the annotate your class with <code>@RegisterForReflection</code> and rebuild the application and run your error will be resolved</p>\n<p>for information search on the <a href=\"https://quarkus.io/guides/writing-native-applications-tips#registering-for-reflection\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":19707499,"reputation":71,"user_id":14428809,"display_name":"PranasB"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685570661,"creation_date":1685570661,"answer_id":76377570,"question_id":48330613,"body_markdown":"Special annotation for `@Jacksonized` to the rescue - https://projectlombok.org/features/experimental/Jacksonized","title":"ObjectMapper can&#39;t deserialize without default constructor after upgrade to Spring Boot 2","body":"<p>Special annotation for <code>@Jacksonized</code> to the rescue - <a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/experimental/Jacksonized</a></p>\n"}],"owner":{"account_id":6052716,"reputation":1842,"user_id":4859182,"accept_rate":92,"display_name":"solomkinmv"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119492,"favorite_count":0,"down_vote_count":1,"up_vote_count":65,"accepted_answer_id":48543627,"answer_count":9,"score":64,"last_activity_date":1685570661,"creation_date":1516310966,"question_id":48330613,"body_markdown":"I have following DTOs:\r\n\r\n    @Value\r\n    public class PracticeResults {\r\n        @NotNull\r\n        Map&lt;Long, Boolean&gt; wordAnswers;\r\n    }\r\n\r\n    @Value\r\n    public class ProfileMetaDto {\r\n    \r\n        @NotEmpty\r\n        String name;\r\n        @Email\r\n        String email;\r\n        @Size(min = 5)\r\n        String password;\r\n    }\r\n\r\n`@Value` is a Lombok annotation which generates a constructor. Which means that this class doesn&#39;t have a no-arg constructor.\r\n\r\nI used Spring Boot 1.4.3.RELEASE and `ObjectMapper` bean was able to deserialize such object from JSON.\r\n\r\nAfter the upgrade to Spring Boot 2.0.0.M7 I receive following exception:\r\n\r\n`com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of PracticeResults (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)`\r\n\r\nJackson version used in Spring Boot 1.4.3 is `2.8.10` and for Spring Boot 2.0.0.M7 is `2.9.2`.\r\n\r\nI&#39;ve tried to Google this problem but found only solutions with `@JsonCreator` or `@JsonProperty`.\r\n\r\nSo, why does it work with Spring Boot 1.4.3 and fails with Spring Boot 2? Is it possible to configure bean to behave the same way as the older version?","title":"ObjectMapper can&#39;t deserialize without default constructor after upgrade to Spring Boot 2","body":"<p>I have following DTOs:</p>\n\n<pre><code>@Value\npublic class PracticeResults {\n    @NotNull\n    Map&lt;Long, Boolean&gt; wordAnswers;\n}\n\n@Value\npublic class ProfileMetaDto {\n\n    @NotEmpty\n    String name;\n    @Email\n    String email;\n    @Size(min = 5)\n    String password;\n}\n</code></pre>\n\n<p><code>@Value</code> is a Lombok annotation which generates a constructor. Which means that this class doesn't have a no-arg constructor.</p>\n\n<p>I used Spring Boot 1.4.3.RELEASE and <code>ObjectMapper</code> bean was able to deserialize such object from JSON.</p>\n\n<p>After the upgrade to Spring Boot 2.0.0.M7 I receive following exception:</p>\n\n<p><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of PracticeResults (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)</code></p>\n\n<p>Jackson version used in Spring Boot 1.4.3 is <code>2.8.10</code> and for Spring Boot 2.0.0.M7 is <code>2.9.2</code>.</p>\n\n<p>I've tried to Google this problem but found only solutions with <code>@JsonCreator</code> or <code>@JsonProperty</code>.</p>\n\n<p>So, why does it work with Spring Boot 1.4.3 and fails with Spring Boot 2? Is it possible to configure bean to behave the same way as the older version?</p>\n"},{"tags":["python","java","linux","compression"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685553247,"post_id":76375530,"comment_id":134677683,"body_markdown":"I don&#39;t know if I can be of any help, someone  might, but you would be much better off to paste the (Linux) output of `xxd foo.bin &gt;paste-me-as-code-formatted-txt.txt`","body":"I don&#39;t know if I can be of any help, someone  might, but you would be much better off to paste the (Linux) output of <code>xxd foo.bin &gt;paste-me-as-code-formatted-txt.txt</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685553590,"post_id":76375530,"comment_id":134677739,"body_markdown":"*so I believe the file is already compressed pretty well* that could well mean that the file format is not redundant in any way, rather than already being compressed","body":"<i>so I believe the file is already compressed pretty well</i> that could well mean that the file format is not redundant in any way, rather than already being compressed"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685557131,"post_id":76375530,"comment_id":134678413,"body_markdown":"Why are you trying to find the algorithm? It seems that you need something else instead.","body":"Why are you trying to find the algorithm? It seems that you need something else instead."},{"owner":{"account_id":5237130,"reputation":29,"user_id":4185367,"display_name":"peerfunk"},"score":0,"creation_date":1685559955,"post_id":76375530,"comment_id":134678963,"body_markdown":"@g00se it is a file larger than 26Mb containing multiple files.","body":"@g00se it is a file larger than 26Mb containing multiple files."},{"owner":{"account_id":5237130,"reputation":29,"user_id":4185367,"display_name":"peerfunk"},"score":0,"creation_date":1685559996,"post_id":76375530,"comment_id":134678967,"body_markdown":"@aled because I want to extract the files contained in the compressed part.","body":"@aled because I want to extract the files contained in the compressed part."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685563156,"post_id":76375530,"comment_id":134679432,"body_markdown":"but you don&#39;t actually know if it is compressed, right?","body":"but you don&#39;t actually know if it is compressed, right?"}],"answers":[{"tags":[],"owner":{"account_id":28707728,"reputation":21,"user_id":21983758,"display_name":"Cucumber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685569971,"creation_date":1685569971,"answer_id":76377532,"question_id":76375530,"body_markdown":"You can check &quot;binwalk -E&quot; command to check that file entropy is actually high. \r\n\r\nYou says: &quot;The firmware is pretty well guarded and not given out to anyone&quot;. This firmware can also encrypted (encryption key can be hardcoded in device bootloader and depends on hardware version, you should physically dump flash memory to get it).\r\n\r\nSometimes firmware vendors uses ECB mode for encryption. You can try to detect it by finding same repeating blocks in firmware file.\r\n\r\nIf it is not encryption but compression with no signature you can try to bruteforce it like this: https://gist.github.com/nstarke/f23b018c4e0fd4c8f8ca1cd67dc2b61c. ","title":"How to find out compression algorithm of unknown partly compressed custom filetype without magic numbers","body":"<p>You can check &quot;binwalk -E&quot; command to check that file entropy is actually high.</p>\n<p>You says: &quot;The firmware is pretty well guarded and not given out to anyone&quot;. This firmware can also encrypted (encryption key can be hardcoded in device bootloader and depends on hardware version, you should physically dump flash memory to get it).</p>\n<p>Sometimes firmware vendors uses ECB mode for encryption. You can try to detect it by finding same repeating blocks in firmware file.</p>\n<p>If it is not encryption but compression with no signature you can try to bruteforce it like this: <a href=\"https://gist.github.com/nstarke/f23b018c4e0fd4c8f8ca1cd67dc2b61c\" rel=\"nofollow noreferrer\">https://gist.github.com/nstarke/f23b018c4e0fd4c8f8ca1cd67dc2b61c</a>.</p>\n"}],"owner":{"account_id":5237130,"reputation":29,"user_id":4185367,"display_name":"peerfunk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685569971,"creation_date":1685549985,"question_id":76375530,"body_markdown":"I am trying to get files from a &#39;firmware&#39;-file of an embedded system.\r\nDo not have access to the hardware to the point that I can open it up and connect a serial shell.\r\nThe hardware is probably an ARM processor with ~500Mb of RAM and the software was written between 2020 and 2022. I have access to the web interface which uses one of the common JS-frontend frameworks and lighthttpd to host this website. It has a button to check for a new firmware. The firmware is pretty well guarded and not given out to anyone, so I cannot ask them to give it out. The update mechanism works by sending a HTTP get request to a webserver which returns the &#39;firmware&#39;-file. I know that the script that is downloading this file is written in Python and uses the requests library version 2.27.x. I have access to two versions of the firmware. This is the filename: firmware_00.03_01.02.14.tar.ogz - 00.03 is the hardware version and 01.02.14 the software version. I also have the 01.02.12 version of the file. If you look at the file with a hex editor you will see a header section and a data section.\r\n[![enter image description here](https://i.stack.imgur.com/CggJm.png)](https://i.stack.imgur.com/CggJm.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/jjKvB.png)](https://i.stack.imgur.com/jjKvB.png)\r\n\r\nThe Linux file command results in nothing, binwalk results in nothing as well.\r\nThe only interesting thing I could find out until now is that the header section contains the software version and when you try to compress the file it does not save any space, so I believe the file is already compressed pretty well. I tried adding bz2 and gz magic numbers and decompressing it but python throws an exception that it is not valid bz2 or gz compressed data.\r\nThe compressed data section does not contain any strings.\r\n\r\nCan anyone push me into the right direction here?\r\nIs it possible to determine the compression algorithm?\r\nI believe that the people who wrote this may have used java, Python or less likely but still - cpp. The main application running the software - other than the configuration-webinterface - is probably written in python because of what is is doing and library support.\r\nThank you!","title":"How to find out compression algorithm of unknown partly compressed custom filetype without magic numbers","body":"<p>I am trying to get files from a 'firmware'-file of an embedded system.\nDo not have access to the hardware to the point that I can open it up and connect a serial shell.\nThe hardware is probably an ARM processor with ~500Mb of RAM and the software was written between 2020 and 2022. I have access to the web interface which uses one of the common JS-frontend frameworks and lighthttpd to host this website. It has a button to check for a new firmware. The firmware is pretty well guarded and not given out to anyone, so I cannot ask them to give it out. The update mechanism works by sending a HTTP get request to a webserver which returns the 'firmware'-file. I know that the script that is downloading this file is written in Python and uses the requests library version 2.27.x. I have access to two versions of the firmware. This is the filename: firmware_00.03_01.02.14.tar.ogz - 00.03 is the hardware version and 01.02.14 the software version. I also have the 01.02.12 version of the file. If you look at the file with a hex editor you will see a header section and a data section.\n<a href=\"https://i.stack.imgur.com/CggJm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CggJm.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/jjKvB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jjKvB.png\" alt=\"enter image description here\" /></a></p>\n<p>The Linux file command results in nothing, binwalk results in nothing as well.\nThe only interesting thing I could find out until now is that the header section contains the software version and when you try to compress the file it does not save any space, so I believe the file is already compressed pretty well. I tried adding bz2 and gz magic numbers and decompressing it but python throws an exception that it is not valid bz2 or gz compressed data.\nThe compressed data section does not contain any strings.</p>\n<p>Can anyone push me into the right direction here?\nIs it possible to determine the compression algorithm?\nI believe that the people who wrote this may have used java, Python or less likely but still - cpp. The main application running the software - other than the configuration-webinterface - is probably written in python because of what is is doing and library support.\nThank you!</p>\n"},{"tags":["java","generics","compiler-errors"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685569063,"post_id":76377344,"comment_id":134680440,"body_markdown":"So, if _&quot;? extends InnerImpl&quot;_ is not within the bounds of _T_, then wouldn&#39;t _T_ have to encompass _InnerImpl_?","body":"So, if <i>&quot;? extends InnerImpl&quot;</i> is not within the bounds of <i>T</i>, then wouldn&#39;t <i>T</i> have to encompass <i>InnerImpl</i>?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1685569477,"post_id":76377344,"comment_id":134680492,"body_markdown":"[It doesn&#39;t compile on ideone](https://ideone.com/wHnHOa) with the order of the generics switched on MiddleImpl. (It uses Java 12, fwiw)","body":"<a href=\"https://ideone.com/wHnHOa\" rel=\"nofollow noreferrer\">It doesn&#39;t compile on ideone</a> with the order of the generics switched on MiddleImpl. (It uses Java 12, fwiw)"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1685571309,"post_id":76377344,"comment_id":134680721,"body_markdown":"Doesn&#39;t compile in Java 8 either. Did you also switch `extends` with `super`? It is odd that that compiles, but I&#39;m guessing the compiler can infer the bounds of `T` when `U` is specified first.","body":"Doesn&#39;t compile in Java 8 either. Did you also switch <code>extends</code> with <code>super</code>? It is odd that that compiles, but I&#39;m guessing the compiler can infer the bounds of <code>T</code> when <code>U</code> is specified first."},{"owner":{"account_id":3416886,"reputation":137,"user_id":2865528,"display_name":"manojgarimella"},"score":0,"creation_date":1685593190,"post_id":76377344,"comment_id":134682493,"body_markdown":"One of the main concerns here is that wildcard `?`. You would have better functionality using the actual type mentioned there instead of the wildcard.","body":"One of the main concerns here is that wildcard <code>?</code>. You would have better functionality using the actual type mentioned there instead of the wildcard."}],"owner":{"account_id":1856144,"reputation":9878,"user_id":1681681,"accept_rate":85,"display_name":"mchen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685569966,"creation_date":1685567576,"question_id":76377344,"body_markdown":"Does anyone know why the following MWE won&#39;t compile (though it shows as no errors in Intellij)?\r\n\r\n```\r\npublic class Test {\r\n    public interface Inner {\r\n    }\r\n\r\n    public interface Middle&lt;T&gt; {\r\n    }\r\n\r\n    public interface Outer&lt;T extends Middle&lt;?&gt;&gt; {\r\n    }\r\n\r\n    public static class InnerImpl implements Inner {\r\n    }\r\n\r\n    public static class MiddleImpl&lt;T extends U, U extends Inner&gt; implements Middle&lt;U&gt; {\r\n    }\r\n\r\n    public static class OuterImpl implements Outer&lt;MiddleImpl&lt;? extends InnerImpl, ? super InnerImpl&gt;&gt; {\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m getting the following under both Java 8 and 17 SDKs (so not a language level issue):\r\n```\r\njava: type argument ? extends Test.InnerImpl is not within bounds of type-variable T\r\n```\r\n\r\nThe funny thing is if I switch the order of the generics in `MiddleImpl` it works:\r\n\r\n```\r\npublic static class MiddleImpl&lt;U extends Inner, T extends U&gt; implements Middle&lt;U&gt; {\r\n```\r\nbut this isn&#39;t an option in reality since `MiddleImpl` comes from an existing library.","title":"Compiler error when one generic extends another","body":"<p>Does anyone know why the following MWE won't compile (though it shows as no errors in Intellij)?</p>\n<pre><code>public class Test {\n    public interface Inner {\n    }\n\n    public interface Middle&lt;T&gt; {\n    }\n\n    public interface Outer&lt;T extends Middle&lt;?&gt;&gt; {\n    }\n\n    public static class InnerImpl implements Inner {\n    }\n\n    public static class MiddleImpl&lt;T extends U, U extends Inner&gt; implements Middle&lt;U&gt; {\n    }\n\n    public static class OuterImpl implements Outer&lt;MiddleImpl&lt;? extends InnerImpl, ? super InnerImpl&gt;&gt; {\n    }\n}\n</code></pre>\n<p>I'm getting the following under both Java 8 and 17 SDKs (so not a language level issue):</p>\n<pre><code>java: type argument ? extends Test.InnerImpl is not within bounds of type-variable T\n</code></pre>\n<p>The funny thing is if I switch the order of the generics in <code>MiddleImpl</code> it works:</p>\n<pre><code>public static class MiddleImpl&lt;U extends Inner, T extends U&gt; implements Middle&lt;U&gt; {\n</code></pre>\n<p>but this isn't an option in reality since <code>MiddleImpl</code> comes from an existing library.</p>\n"},{"tags":["java","encoding","amr"],"answers":[{"tags":[],"owner":{"account_id":28637891,"reputation":196,"user_id":21927668,"display_name":"Almaz Shakirov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685482372,"creation_date":1685482372,"answer_id":76368800,"question_id":76368328,"body_markdown":"I didn&#39;t catch all logic of your code, but it looks like there are some mistakes:\r\n\r\nAre you sure that here indexes are correct? Because in your string &quot;[3G, 5740129922, 008E, TK,#!AMR&quot; substring &quot;TK,&quot; starts from 23 position. Also maybe its index not constant?\r\n\r\n    char T = (char) in.getByte(20);\r\n    char K = (char) in.getByte(21);\r\n    char coma = (char) in.getByte(22);\r\n\r\n\r\nIn this part you make right bound `in.capacity() - 22`, but you already skipped first 22 bytes (`int i = 23`)\r\n\r\n    for (int i = 23; i &lt; in.capacity() - 22; i++) {","title":"Why am I getting noise when trying to play AMR audio encoded in Java using ffmpeg?","body":"<p>I didn't catch all logic of your code, but it looks like there are some mistakes:</p>\n<p>Are you sure that here indexes are correct? Because in your string &quot;[3G, 5740129922, 008E, TK,#!AMR&quot; substring &quot;TK,&quot; starts from 23 position. Also maybe its index not constant?</p>\n<pre><code>char T = (char) in.getByte(20);\nchar K = (char) in.getByte(21);\nchar coma = (char) in.getByte(22);\n</code></pre>\n<p>In this part you make right bound <code>in.capacity() - 22</code>, but you already skipped first 22 bytes (<code>int i = 23</code>)</p>\n<pre><code>for (int i = 23; i &lt; in.capacity() - 22; i++) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14834753,"reputation":1,"user_id":10713219,"display_name":"Alejandro Ruvalcaba"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685569676,"creation_date":1685569676,"answer_id":76377513,"question_id":76368328,"body_markdown":"i solved it!\r\n\r\nresults i just had to replace the bytes i recieved in order to get this pattern:\r\n\r\n    0X7D 0X01 --&gt;  0X7D\r\n    0X7D 0X02 --&gt;  0X5B\r\n    0X7D 0X03 --&gt;  0X5D\r\n    0X7D 0X04 --&gt;  0X2C\r\n    0X7D 0X05 --&gt;  0X2A\r\n\r\nits a method called unescape","title":"Why am I getting noise when trying to play AMR audio encoded in Java using ffmpeg?","body":"<p>i solved it!</p>\n<p>results i just had to replace the bytes i recieved in order to get this pattern:</p>\n<pre><code>0X7D 0X01 --&gt;  0X7D\n0X7D 0X02 --&gt;  0X5B\n0X7D 0X03 --&gt;  0X5D\n0X7D 0X04 --&gt;  0X2C\n0X7D 0X05 --&gt;  0X2A\n</code></pre>\n<p>its a method called unescape</p>\n"}],"owner":{"account_id":14834753,"reputation":1,"user_id":10713219,"display_name":"Alejandro Ruvalcaba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1685569676,"creation_date":1685477635,"question_id":76368328,"body_markdown":"I am currently recieving audio from a netty channel, i get a ByteBuff object type, and then write a file, byte by byte first into a byte array and then in a file, to do that i have the following function (consider that the offset of the first 22 bytes it&#39;s because i need the to identify the type of message in my program you can ignore it\r\n\r\n```\r\npublic byte[] knowAMR (ByteBuf in){\r\n    byte[] bytes = null;\r\n    if(in.capacity() &gt; 22) {\r\n      // from 22 is where we must find &quot;TK,&quot;\r\n      char T = (char) in.getByte(20);\r\n      char K = (char) in.getByte(21);\r\n      char coma = (char) in.getByte(22);\r\n      if (T == &#39;T&#39; &amp;&amp; K == &#39;K&#39; &amp;&amp; coma == &#39;,&#39;) {\r\n        bytes = new byte[in.capacity() - 22];\r\n        for (int i = 23; i &lt; in.capacity() - 22; i++) {\r\n          bytes[i - 23] = in.getByte(i);\r\n        }\r\n        //We are at the start of a new audio, so we start over\r\n        try {\r\n          String fileName = &quot;/tmp/ranneke_audio/audio_&quot; + this.brace_id;//brace id is a String as a property of the object\r\n          Path path = Paths.get(fileName);\r\n          if (Files.exists(path) &amp;&amp; bytes != null) {\r\n            Files.delete(path);\r\n            log.info(&quot;Starting new audio file&quot;);\r\n          } \r\n          if (bytes != null) {\r\n            log.info(&quot;writing new audio file&quot;);\r\n            Files.write(path, bytes);\r\n          }\r\n\r\n\r\n        }\r\n        catch (IOException IOe){\r\n          IOe.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n   //In case that the audio message is too long we proceed to check every header to know if we need to append to the file\r\n    if ((char)in.getByte(0) != &#39;[&#39; &amp;&amp; (char)in.getByte(1) != &#39;3&#39; &amp;&amp; (char)in.getByte(2) != &#39;G&#39;)\r\n    {\r\n\r\n      //we continue our previus audio but this time there&#39;s no header, so we just buffer\r\n      bytes = new byte[in.capacity()];\r\n      for(int i=0; i&lt;in.capacity();i++)\r\n      {\r\n        bytes[i] = in.getByte(i);\r\n      }\r\n      try {\r\n       //if it already exists we buffer it\r\n        String fileName = &quot;/tmp/ranneke_audio/audio_&quot; + this.brace_id;\r\n        Path path = Paths.get(fileName);\r\n        if (Files.exists(path) &amp;&amp; bytes != null) {\r\n          log.info(&quot;Agregado datos al audio&quot;);\r\n          Files.write(path, bytes, StandardOpenOption.APPEND);\r\n        }\r\n      }\r\n      catch (IOException IOe){\r\n          IOe.printStackTrace();\r\n        }\r\n    }\r\n\r\n    return  bytes;\r\n  }\r\n```\r\n\r\nThis is written for springframework under java 11\r\n\r\nThe output of the log seems like this (Encoded under UTF-8):\r\n\r\n\r\n```\r\n[3G, 5740129922, 008E, TK,#!AMR\r\nMay 30 14:05:15 ranneke-01 java[2671176]: }#004��|\r\nMay 30 14:05:15 ranneke-01 java[2671176]: �#001���/P�&amp;/���`�R}#004��|\r\nMay 30 14:05:15 ranneke-01 java[2671176]: �#001���/P�&amp;/���`�R}#004��|\r\nMay 30 14:05:15 ranneke-01 java[2671176]: �#001���/P�&amp;/���`�R}#004��2#006�#001&lt;��zD�#031O��#021#014��}#004��j#026�\r\nMay 30 14:05:15 ranneke-01 java[2671176]: ���#020(�\\.�y^#014�p}#004��@=��kN�z���}#001#017K5m#015(]\r\n```\r\n\r\nAnd the binary file seems like this:\r\n\r\n```\r\n2321 414d 520a 7d04 9ec0 7c00 ff01 fcb9\r\na32f 508b 262f b3f5 8360 af52 7d04 9ec0\r\n7c00 ff01 fcb9 a32f 508b 262f b3f5 8360\r\naf52 7d04 9ec0 7c00 ff01 fcb9 a32f 508b\r\n262f b3f5 8360 af52 7d04 a6a3 3206 e001\r\n3c92 f77a 44ff 194f c9f4 110c d5ec 7d04\r\n85a9 6a16 8000 99ba f910 28f6 5c2e 8879\r\n5e0c 8d70 7d04 a294 403d 8ea0 6b4e cf7a\r\n81a8 f37d 010f 4b35 6d0d 285d 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000 0000 0000 0000\r\n0000 0000 0000 0000 0000\r\n```\r\n\r\nWhat am i doing wrong?\r\n\r\n\r\ni expect to play the audio correctly right now i can just hear noise, in the other hand, i have tested the microphone (it works well) and i tested encoding it in UTF-8 leave it as bytebuff and put it byte by byte in the file\r\n\r\nI&#39;m lost please help","title":"Why am I getting noise when trying to play AMR audio encoded in Java using ffmpeg?","body":"<p>I am currently recieving audio from a netty channel, i get a ByteBuff object type, and then write a file, byte by byte first into a byte array and then in a file, to do that i have the following function (consider that the offset of the first 22 bytes it's because i need the to identify the type of message in my program you can ignore it</p>\n<pre><code>public byte[] knowAMR (ByteBuf in){\n    byte[] bytes = null;\n    if(in.capacity() &gt; 22) {\n      // from 22 is where we must find &quot;TK,&quot;\n      char T = (char) in.getByte(20);\n      char K = (char) in.getByte(21);\n      char coma = (char) in.getByte(22);\n      if (T == 'T' &amp;&amp; K == 'K' &amp;&amp; coma == ',') {\n        bytes = new byte[in.capacity() - 22];\n        for (int i = 23; i &lt; in.capacity() - 22; i++) {\n          bytes[i - 23] = in.getByte(i);\n        }\n        //We are at the start of a new audio, so we start over\n        try {\n          String fileName = &quot;/tmp/ranneke_audio/audio_&quot; + this.brace_id;//brace id is a String as a property of the object\n          Path path = Paths.get(fileName);\n          if (Files.exists(path) &amp;&amp; bytes != null) {\n            Files.delete(path);\n            log.info(&quot;Starting new audio file&quot;);\n          } \n          if (bytes != null) {\n            log.info(&quot;writing new audio file&quot;);\n            Files.write(path, bytes);\n          }\n\n\n        }\n        catch (IOException IOe){\n          IOe.printStackTrace();\n        }\n      }\n    }\n\n\n\n   //In case that the audio message is too long we proceed to check every header to know if we need to append to the file\n    if ((char)in.getByte(0) != '[' &amp;&amp; (char)in.getByte(1) != '3' &amp;&amp; (char)in.getByte(2) != 'G')\n    {\n\n      //we continue our previus audio but this time there's no header, so we just buffer\n      bytes = new byte[in.capacity()];\n      for(int i=0; i&lt;in.capacity();i++)\n      {\n        bytes[i] = in.getByte(i);\n      }\n      try {\n       //if it already exists we buffer it\n        String fileName = &quot;/tmp/ranneke_audio/audio_&quot; + this.brace_id;\n        Path path = Paths.get(fileName);\n        if (Files.exists(path) &amp;&amp; bytes != null) {\n          log.info(&quot;Agregado datos al audio&quot;);\n          Files.write(path, bytes, StandardOpenOption.APPEND);\n        }\n      }\n      catch (IOException IOe){\n          IOe.printStackTrace();\n        }\n    }\n\n    return  bytes;\n  }\n</code></pre>\n<p>This is written for springframework under java 11</p>\n<p>The output of the log seems like this (Encoded under UTF-8):</p>\n<pre><code>[3G, 5740129922, 008E, TK,#!AMR\nMay 30 14:05:15 ranneke-01 java[2671176]: }#004��|\nMay 30 14:05:15 ranneke-01 java[2671176]: �#001���/P�&amp;/���`�R}#004��|\nMay 30 14:05:15 ranneke-01 java[2671176]: �#001���/P�&amp;/���`�R}#004��|\nMay 30 14:05:15 ranneke-01 java[2671176]: �#001���/P�&amp;/���`�R}#004��2#006�#001&lt;��zD�#031O��#021#014��}#004��j#026�\nMay 30 14:05:15 ranneke-01 java[2671176]: ���#020(�\\.�y^#014�p}#004��@=��kN�z���}#001#017K5m#015(]\n</code></pre>\n<p>And the binary file seems like this:</p>\n<pre><code>2321 414d 520a 7d04 9ec0 7c00 ff01 fcb9\na32f 508b 262f b3f5 8360 af52 7d04 9ec0\n7c00 ff01 fcb9 a32f 508b 262f b3f5 8360\naf52 7d04 9ec0 7c00 ff01 fcb9 a32f 508b\n262f b3f5 8360 af52 7d04 a6a3 3206 e001\n3c92 f77a 44ff 194f c9f4 110c d5ec 7d04\n85a9 6a16 8000 99ba f910 28f6 5c2e 8879\n5e0c 8d70 7d04 a294 403d 8ea0 6b4e cf7a\n81a8 f37d 010f 4b35 6d0d 285d 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000 0000 0000 0000\n0000 0000 0000 0000 0000\n</code></pre>\n<p>What am i doing wrong?</p>\n<p>i expect to play the audio correctly right now i can just hear noise, in the other hand, i have tested the microphone (it works well) and i tested encoding it in UTF-8 leave it as bytebuff and put it byte by byte in the file</p>\n<p>I'm lost please help</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1574516256,"post_id":59008045,"comment_id":104264689,"body_markdown":"The Spring Context will not even launch because those beans have same Type and same id.","body":"The Spring Context will not even launch because those beans have same Type and same id."},{"owner":{"account_id":5873206,"reputation":9996,"user_id":4624905,"accept_rate":95,"display_name":"Vitalii Vitrenko"},"score":0,"creation_date":1574516344,"post_id":59008045,"comment_id":104264714,"body_markdown":"In which packages `AppConfig`, `WeatherConfig` and class with `@SpringBootApplication` annotation?","body":"In which packages <code>AppConfig</code>, <code>WeatherConfig</code> and class with <code>@SpringBootApplication</code> annotation?"},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1574516514,"post_id":59008045,"comment_id":104264757,"body_markdown":"It seems that your `AppConfig` is not picked by Spring at all.","body":"It seems that your <code>AppConfig</code> is not picked by Spring at all."}],"answers":[{"tags":[],"owner":{"account_id":7654210,"reputation":88,"user_id":5801760,"display_name":"Raztyck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685560880,"creation_date":1574516727,"answer_id":59008297,"question_id":59008045,"body_markdown":"I assumed that you used the prop:\r\n\r\n    spring.main.allow-bean-definition-overriding=true\r\n\r\nto run this code. This [link][1] probably will clear your problem for you.\r\n\r\nIf you don&#39;t want to read the whole article:\r\n\r\nThe mechanism which caused you this problem is called bean overriding. It&#39;s almost impossible to predict which bean will override another with Java-based configs. When you use both (XML and Java based) configurations, then Java-based is always loaded first and XML configuration always latest, so it will override everything else. That&#39;s why your `@Component` class with `@Primary` is honored - because it is loaded after configuration.\r\n\r\n  [1]: https://brudenko.com/spring-bean-override#so-how-is-it-possible-answers","title":"@Primary bean in one @Configuration class does not override a bean defined and used in another such class","body":"<p>I assumed that you used the prop:</p>\n<pre><code>spring.main.allow-bean-definition-overriding=true\n</code></pre>\n<p>to run this code. This <a href=\"https://brudenko.com/spring-bean-override#so-how-is-it-possible-answers\" rel=\"nofollow noreferrer\">link</a> probably will clear your problem for you.</p>\n<p>If you don't want to read the whole article:</p>\n<p>The mechanism which caused you this problem is called bean overriding. It's almost impossible to predict which bean will override another with Java-based configs. When you use both (XML and Java based) configurations, then Java-based is always loaded first and XML configuration always latest, so it will override everything else. That's why your <code>@Component</code> class with <code>@Primary</code> is honored - because it is loaded after configuration.</p>\n"},{"tags":[],"owner":{"account_id":8306034,"reputation":5283,"user_id":6243024,"display_name":"ck1"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1574520565,"creation_date":1574520565,"answer_id":59008858,"question_id":59008045,"body_markdown":"You&#39;re defining two beans with the same name and type: only one will be created, and the other will be overridden.\r\n\r\nThe `@Primary` annotation is for when two or more beans of the same type exist.  It designates one of them as the primary bean used in dependency injection.\r\n\r\nYou can see how this works by making a small code change.\r\n\r\n```\r\n    @Bean\r\n    @Primary\r\n    public WeatherGauge weatherGauge2() {\r\n        return new WeatherGauge(&quot;40 F&quot;);\r\n    } \r\n\r\n    @Bean\r\n    public WeatherGauge weatherGauge() {\r\n        return new WeatherGauge(&quot;20 C&quot;);\r\n    }\r\n```\r\n\r\nNow two beans are defined, with one of them `weatherGauge2` being the primary.","title":"@Primary bean in one @Configuration class does not override a bean defined and used in another such class","body":"<p>You're defining two beans with the same name and type: only one will be created, and the other will be overridden.</p>\n\n<p>The <code>@Primary</code> annotation is for when two or more beans of the same type exist.  It designates one of them as the primary bean used in dependency injection.</p>\n\n<p>You can see how this works by making a small code change.</p>\n\n<pre><code>    @Bean\n    @Primary\n    public WeatherGauge weatherGauge2() {\n        return new WeatherGauge(\"40 F\");\n    } \n\n    @Bean\n    public WeatherGauge weatherGauge() {\n        return new WeatherGauge(\"20 C\");\n    }\n</code></pre>\n\n<p>Now two beans are defined, with one of them <code>weatherGauge2</code> being the primary.</p>\n"}],"owner":{"account_id":149798,"reputation":303,"user_id":3652241,"accept_rate":75,"display_name":"Programmer Trond"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1862,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":59008858,"answer_count":2,"score":4,"last_activity_date":1685569350,"creation_date":1574514951,"question_id":59008045,"body_markdown":"Here&#39;s the class with the primary bean:\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n        @Bean        \r\n        @Primary\r\n        public WeatherGauge weatherGauge() {\r\n            return () -&gt; &quot;40 F&quot;;\r\n        }\r\n    }\r\n\r\nand here&#39;s the class defining and using the competing bean:\r\n\r\n    @Configuration\r\n    public class WeatherConfig {   \r\n        @Bean\r\n        public WeatherGauge weatherGauge() {\r\n            return () -&gt; &quot;20 C&quot;;\r\n        }\r\n        @Bean\r\n        public StateReporter stateReporter(WeatherGauge weatherGauge) {\r\n            return new StateReporter(weatherGauge);\r\n        }\r\n    }\r\n    \r\nI&#39;m using `spring-boot-starter-parent:2.1.9.RELEASE`. If I use `StateReporter` and print the weather gauge, I get 20 C, which does not come from the primary bean. The `@Primary` is ignored. Is this by design or a flaw? Just the way `@Configuration` works? If I define the primary implementation as a `@Component` class, the `@Primary` is in fact honored.\r\n\r\nEdit: I forgot to say that `AppConfig` gets picked up if the other bean is not present. Everything is in the same package as the main class and I do use the `allow-override=true` property.","title":"@Primary bean in one @Configuration class does not override a bean defined and used in another such class","body":"<p>Here's the class with the primary bean:</p>\n<pre><code>@Configuration\npublic class AppConfig {\n    @Bean        \n    @Primary\n    public WeatherGauge weatherGauge() {\n        return () -&gt; &quot;40 F&quot;;\n    }\n}\n</code></pre>\n<p>and here's the class defining and using the competing bean:</p>\n<pre><code>@Configuration\npublic class WeatherConfig {   \n    @Bean\n    public WeatherGauge weatherGauge() {\n        return () -&gt; &quot;20 C&quot;;\n    }\n    @Bean\n    public StateReporter stateReporter(WeatherGauge weatherGauge) {\n        return new StateReporter(weatherGauge);\n    }\n}\n</code></pre>\n<p>I'm using <code>spring-boot-starter-parent:2.1.9.RELEASE</code>. If I use <code>StateReporter</code> and print the weather gauge, I get 20 C, which does not come from the primary bean. The <code>@Primary</code> is ignored. Is this by design or a flaw? Just the way <code>@Configuration</code> works? If I define the primary implementation as a <code>@Component</code> class, the <code>@Primary</code> is in fact honored.</p>\n<p>Edit: I forgot to say that <code>AppConfig</code> gets picked up if the other bean is not present. Everything is in the same package as the main class and I do use the <code>allow-override=true</code> property.</p>\n"},{"tags":["java","vert.x","vertx-redis-client"],"answers":[{"tags":[],"owner":{"account_id":2050693,"reputation":361,"user_id":1829787,"accept_rate":53,"display_name":"Trevor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684946386,"creation_date":1684946386,"answer_id":76325740,"question_id":76316944,"body_markdown":"After some research and reaching out to the Quarkus team the suggested solution was to :\r\n1. use the mutiny variant and use .await().atMost(…)\r\n\r\n2. Or use toCompletionStage().toCompletableFuture().join()","title":"How to enforce blocking for a vertx Redis stream write?","body":"<p>After some research and reaching out to the Quarkus team the suggested solution was to :</p>\n<ol>\n<li><p>use the mutiny variant and use .await().atMost(…)</p>\n</li>\n<li><p>Or use toCompletionStage().toCompletableFuture().join()</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":175525,"reputation":1174,"user_id":405613,"display_name":"Oliver Marienfeld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685569311,"creation_date":1685569311,"answer_id":76377481,"question_id":76316944,"body_markdown":"There is no need to block the event loop. Instead of `void`, the `writeToRedis` method should return e.g. `Future&lt;Void&gt;`:\r\n\r\n    public Future&lt;Void&gt; writeToRedis(String message) {\r\n        final Redis client = Redis.createClient(vertx, connectionString);\r\n\r\n        return client.connect()\r\n            .onSuccess(conn -&gt; \r\n                conn.send(Request.cmd(Command.XADD).arg(stream).arg(&quot;*&quot;).arg(&quot;payload&quot;).arg(message))\r\n                    .onSuccess(response -&gt; {\r\n                        logger.infof (&quot;Message successfully written&quot;);\r\n                        conn.close();\r\n                        client.close();})\r\n            .onFailure(e -&gt; logger.error(&quot;something bad happened&quot;,e));\r\n    }\r\n\r\nThen, you can make `doSomething()` act on that Future‘s completion:\r\n\r\n    public void doSomething(){\r\n        //stuff being done\r\n        ...\r\n        writeToRedis(message).onSuccess(v -&gt;\r\n            logger.infof(&quot;finished doing stuff&quot;));\r\n    }\r\n\r\nThat’s it, no need to block! By the way, you should not need the exception-handling code in the `writeToRedis` method.","title":"How to enforce blocking for a vertx Redis stream write?","body":"<p>There is no need to block the event loop. Instead of <code>void</code>, the <code>writeToRedis</code> method should return e.g. <code>Future&lt;Void&gt;</code>:</p>\n<pre><code>public Future&lt;Void&gt; writeToRedis(String message) {\n    final Redis client = Redis.createClient(vertx, connectionString);\n\n    return client.connect()\n        .onSuccess(conn -&gt; \n            conn.send(Request.cmd(Command.XADD).arg(stream).arg(&quot;*&quot;).arg(&quot;payload&quot;).arg(message))\n                .onSuccess(response -&gt; {\n                    logger.infof (&quot;Message successfully written&quot;);\n                    conn.close();\n                    client.close();})\n        .onFailure(e -&gt; logger.error(&quot;something bad happened&quot;,e));\n}\n</code></pre>\n<p>Then, you can make <code>doSomething()</code> act on that Future‘s completion:</p>\n<pre><code>public void doSomething(){\n    //stuff being done\n    ...\n    writeToRedis(message).onSuccess(v -&gt;\n        logger.infof(&quot;finished doing stuff&quot;));\n}\n</code></pre>\n<p>That’s it, no need to block! By the way, you should not need the exception-handling code in the <code>writeToRedis</code> method.</p>\n"}],"owner":{"account_id":2050693,"reputation":361,"user_id":1829787,"accept_rate":53,"display_name":"Trevor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76377481,"answer_count":2,"score":0,"last_activity_date":1685569311,"creation_date":1684859831,"question_id":76316944,"body_markdown":"I have two microservices. One microservice is responsible for writing to a redis stream and the other is reading from the redis stream. For some reasons outside of my control, I have to use the Redis Vertx client in order to write to the stream. The problem with this is that the microservice that is responsible for writing to redis is blocking up until the point where it does the write to redis. This causes some unexpected behavior because of course the vertx redis code is async and can occur at any time. For instance please see below. \r\n\r\nMicroservice B\r\n\r\n```java \r\npublic void doSomething(){\r\n   //stuff being done\r\n   ...\r\n   writeToRedis(message);\r\n   logger.infof(&quot;finished doing stuff&quot;);\r\n}\r\n\r\npublic void writeToRedis(String message){\r\n  final Redis client = Redis.createClient(vertx, connectionString);\r\n\r\n  try{\r\n     client.connect()\r\n     .onSuccess(conn -&gt; \r\n       conn.send(\r\n          Request.cmd(Command.XADD).arg(stream).arg(&quot;*&quot;).arg(&quot;payload&quot;).arg(message);\r\n       )\r\n       .onSuccess(\r\n          response -&gt; \r\n            logger.infof(&quot;Message successfully written&quot;);\r\n            conn.close();\r\n            client.close();\r\n       ).onFailure(e-&gt;logger.error(&quot;something bad happened&quot;,e)))\r\n  } catch(InterruptedException | ExecutionException e){\r\n     if(Thread.interrupted()){\r\n        Thread.currentThread().interrupt();\r\n        throw new CustomException(e);\r\n     } else{\r\n        throw new CustomException(e);\r\n     }\r\n  }\r\n}\r\n```\r\n\r\nFrom the above the `finished doing stuff` log message can be written before the message is written. I don&#39;t want this to happen. I know vertx does not want you to block the event loop but in this case I need to block until the message is written. Not sure how to get around this. ","title":"How to enforce blocking for a vertx Redis stream write?","body":"<p>I have two microservices. One microservice is responsible for writing to a redis stream and the other is reading from the redis stream. For some reasons outside of my control, I have to use the Redis Vertx client in order to write to the stream. The problem with this is that the microservice that is responsible for writing to redis is blocking up until the point where it does the write to redis. This causes some unexpected behavior because of course the vertx redis code is async and can occur at any time. For instance please see below.</p>\n<p>Microservice B</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void doSomething(){\n   //stuff being done\n   ...\n   writeToRedis(message);\n   logger.infof(&quot;finished doing stuff&quot;);\n}\n\npublic void writeToRedis(String message){\n  final Redis client = Redis.createClient(vertx, connectionString);\n\n  try{\n     client.connect()\n     .onSuccess(conn -&gt; \n       conn.send(\n          Request.cmd(Command.XADD).arg(stream).arg(&quot;*&quot;).arg(&quot;payload&quot;).arg(message);\n       )\n       .onSuccess(\n          response -&gt; \n            logger.infof(&quot;Message successfully written&quot;);\n            conn.close();\n            client.close();\n       ).onFailure(e-&gt;logger.error(&quot;something bad happened&quot;,e)))\n  } catch(InterruptedException | ExecutionException e){\n     if(Thread.interrupted()){\n        Thread.currentThread().interrupt();\n        throw new CustomException(e);\n     } else{\n        throw new CustomException(e);\n     }\n  }\n}\n</code></pre>\n<p>From the above the <code>finished doing stuff</code> log message can be written before the message is written. I don't want this to happen. I know vertx does not want you to block the event loop but in this case I need to block until the message is written. Not sure how to get around this.</p>\n"},{"tags":["java","javafx","pagination","renderer"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685569299,"creation_date":1685385839,"answer_id":76359691,"question_id":76359690,"body_markdown":"Profiling is the correct thing to do in this case, but optimizing the renderer&#39;s preparation is probably warranted. Like `ListView` and `TableView`, `Pagination` makes [_flyweight_][1] rendering easy:\r\n\r\n- Construct the minimal number of reusable display objects.\r\n\r\n- When called to render, _update_ existing objects to effect a change.\r\n\r\nIn the `RenderPane` below, `init()` establishes a single pane, chart and button, while the `fill()` method invoked by the page factory&#39;s callback prepares the renderer with details of a specific `Item` for each page. Note that a _single_ chart and data collection suffices; the listening chart will update itself in response to the change.\r\n\r\nAn _ad hoc_ constructor and factory invocation in comments may be used for comparison. The benefit is measurable, suggesting it should scale well.\r\n\r\nA related chart example is seen [here][2], and additional `Pagination` topics are addressed [here][3].\r\n\r\n**Caveats**: As noted in comments by @Slaw below, the [`PaginationSkin`][4] animates the transition from one page to the next. With just a single view component, the animation is serviceable but less appealing. Moreover, the animation may interfere with subsequent updates. Among possible accommodations that may be required:\r\n\r\n- Disable the component&#39;s animation, shown in the example below:\r\n\r\n        chart.setAnimated(false);\r\n\r\n- Schedule the the component&#39;s update to follow the animation.\r\n\r\n        public Pane fill(int i, Item item) {\r\n            Platform.runLater(() -&gt; {\r\n                …\r\n            });\r\n            return pane;\r\n\r\n[![Complex page][5]][5]\r\n\r\n`PaginationTest.java`\r\n```\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.chart.PieChart;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Pagination;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\nimport javafx.stage.Stage;\r\n\r\n/** @see https://stackoverflow.com/a/76359691/230513 */\r\npublic class PaginationTest extends Application {\r\n\r\n    private static final int N = 100;\r\n\r\n    private record Item(String name, Color color) {\r\n\r\n        private static final Random r = new Random();\r\n\r\n        public static Item ofRandom() {\r\n            var s = (char) (&#39;A&#39; + r.nextInt(26))\r\n                + String.valueOf(r.nextInt(900_000) + 100_000);\r\n            var c = Color.rgb(r.nextInt(255), r.nextInt(255), r.nextInt(255));\r\n            return new Item(s, c);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        stage.setTitle(&quot;PaginationTest&quot;);\r\n        List&lt;Item&gt; items = Stream.generate(Item::ofRandom)\r\n            .limit(N).collect(Collectors.toList());\r\n        var pagination = new Pagination(items.size(), 0);\r\n        var renderer = new RenderPane();\r\n        pagination.setPageFactory((i) -&gt; renderer.fill(items.get(i)));\r\n//        pagination.setPageFactory((i) -&gt; {\r\n//            var renderer = new RenderPane(items.get(i));\r\n//            return renderer.pane;\r\n//        });\r\n        stage.setScene(new Scene(pagination));\r\n        stage.show();\r\n        pagination.requestFocus();\r\n    }\r\n\r\n    private final static class RenderPane {\r\n\r\n        private final StackPane pane = new StackPane();\r\n        private final PieChart chart = new PieChart();\r\n        private final Circle circle = new Circle(10);\r\n        private final Button button = new Button(&quot;Details&quot;, circle);\r\n\r\n        public RenderPane() {\r\n            init();\r\n        }\r\n\r\n//        public RenderPane(Item item) {\r\n//            init();\r\n//            fill(item);\r\n//        }\r\n\r\n        private void init() {\r\n            pane.setPadding(new Insets(16));\r\n            StackPane.setAlignment(button, Pos.BOTTOM_RIGHT);\r\n            chart.setAnimated(false);\r\n            chart.getData().add(0, new PieChart.Data(&quot;Red&quot;, 0));\r\n            chart.getData().add(1, new PieChart.Data(&quot;Green&quot;, 0));\r\n            chart.getData().add(2, new PieChart.Data(&quot;Blue&quot;, 0));\r\n            chart.getStylesheets().add(&quot;PaginationTest.css&quot;);\r\n            button.setGraphic(circle);\r\n            pane.getChildren().addAll(chart, button);\r\n        }\r\n\r\n        public Pane fill(Item item) {\r\n            chart.setTitle(item.name);\r\n            chart.getData().get(0).setPieValue(item.color.getRed());\r\n            chart.getData().get(1).setPieValue(item.color.getGreen());\r\n            chart.getData().get(2).setPieValue(item.color.getBlue());\r\n            circle.setFill(item.color);\r\n            button.setOnAction((e) -&gt; {\r\n                System.out.println(item);\r\n            });\r\n            return pane;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n`PaginationTest.css`\r\n```\r\nPaginationTest.css \r\n.default-color0.chart-pie { -fx-pie-color: #FF0000; }\r\n.default-color1.chart-pie { -fx-pie-color: #00FF00; }\r\n.default-color2.chart-pie { -fx-pie-color: #0000FF; }\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Flyweight_pattern\r\n  [2]: https://stackoverflow.com/a/53579013/230513\r\n  [3]: https://stackoverflow.com/q/13872273/230513\r\n  [4]: https://github.com/openjdk/jfx/blob/f8c8a8a1f98902ab6c7923a9b0897106ea957ba8/modules/javafx.controls/src/main/java/javafx/scene/control/skin/PaginationSkin.java#L86\r\n  [5]: https://i.stack.imgur.com/sbQST.png","title":"Optimizing Pagination rendering","body":"<p>Profiling is the correct thing to do in this case, but optimizing the renderer's preparation is probably warranted. Like <code>ListView</code> and <code>TableView</code>, <code>Pagination</code> makes <a href=\"https://en.wikipedia.org/wiki/Flyweight_pattern\" rel=\"nofollow noreferrer\"><em>flyweight</em></a> rendering easy:</p>\n<ul>\n<li><p>Construct the minimal number of reusable display objects.</p>\n</li>\n<li><p>When called to render, <em>update</em> existing objects to effect a change.</p>\n</li>\n</ul>\n<p>In the <code>RenderPane</code> below, <code>init()</code> establishes a single pane, chart and button, while the <code>fill()</code> method invoked by the page factory's callback prepares the renderer with details of a specific <code>Item</code> for each page. Note that a <em>single</em> chart and data collection suffices; the listening chart will update itself in response to the change.</p>\n<p>An <em>ad hoc</em> constructor and factory invocation in comments may be used for comparison. The benefit is measurable, suggesting it should scale well.</p>\n<p>A related chart example is seen <a href=\"https://stackoverflow.com/a/53579013/230513\">here</a>, and additional <code>Pagination</code> topics are addressed <a href=\"https://stackoverflow.com/q/13872273/230513\">here</a>.</p>\n<p><strong>Caveats</strong>: As noted in comments by @Slaw below, the <a href=\"https://github.com/openjdk/jfx/blob/f8c8a8a1f98902ab6c7923a9b0897106ea957ba8/modules/javafx.controls/src/main/java/javafx/scene/control/skin/PaginationSkin.java#L86\" rel=\"nofollow noreferrer\"><code>PaginationSkin</code></a> animates the transition from one page to the next. With just a single view component, the animation is serviceable but less appealing. Moreover, the animation may interfere with subsequent updates. Among possible accommodations that may be required:</p>\n<ul>\n<li><p>Disable the component's animation, shown in the example below:</p>\n<pre><code>  chart.setAnimated(false);\n</code></pre>\n</li>\n<li><p>Schedule the the component's update to follow the animation.</p>\n<pre><code>  public Pane fill(int i, Item item) {\n      Platform.runLater(() -&gt; {\n          …\n      });\n      return pane;\n</code></pre>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/sbQST.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sbQST.png\" alt=\"Complex page\" /></a></p>\n<p><code>PaginationTest.java</code></p>\n<pre><code>import java.util.List;\nimport java.util.Random;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.chart.PieChart;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Pagination;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\n/** @see https://stackoverflow.com/a/76359691/230513 */\npublic class PaginationTest extends Application {\n\n    private static final int N = 100;\n\n    private record Item(String name, Color color) {\n\n        private static final Random r = new Random();\n\n        public static Item ofRandom() {\n            var s = (char) ('A' + r.nextInt(26))\n                + String.valueOf(r.nextInt(900_000) + 100_000);\n            var c = Color.rgb(r.nextInt(255), r.nextInt(255), r.nextInt(255));\n            return new Item(s, c);\n        }\n    }\n\n    @Override\n    public void start(Stage stage) {\n        stage.setTitle(&quot;PaginationTest&quot;);\n        List&lt;Item&gt; items = Stream.generate(Item::ofRandom)\n            .limit(N).collect(Collectors.toList());\n        var pagination = new Pagination(items.size(), 0);\n        var renderer = new RenderPane();\n        pagination.setPageFactory((i) -&gt; renderer.fill(items.get(i)));\n//        pagination.setPageFactory((i) -&gt; {\n//            var renderer = new RenderPane(items.get(i));\n//            return renderer.pane;\n//        });\n        stage.setScene(new Scene(pagination));\n        stage.show();\n        pagination.requestFocus();\n    }\n\n    private final static class RenderPane {\n\n        private final StackPane pane = new StackPane();\n        private final PieChart chart = new PieChart();\n        private final Circle circle = new Circle(10);\n        private final Button button = new Button(&quot;Details&quot;, circle);\n\n        public RenderPane() {\n            init();\n        }\n\n//        public RenderPane(Item item) {\n//            init();\n//            fill(item);\n//        }\n\n        private void init() {\n            pane.setPadding(new Insets(16));\n            StackPane.setAlignment(button, Pos.BOTTOM_RIGHT);\n            chart.setAnimated(false);\n            chart.getData().add(0, new PieChart.Data(&quot;Red&quot;, 0));\n            chart.getData().add(1, new PieChart.Data(&quot;Green&quot;, 0));\n            chart.getData().add(2, new PieChart.Data(&quot;Blue&quot;, 0));\n            chart.getStylesheets().add(&quot;PaginationTest.css&quot;);\n            button.setGraphic(circle);\n            pane.getChildren().addAll(chart, button);\n        }\n\n        public Pane fill(Item item) {\n            chart.setTitle(item.name);\n            chart.getData().get(0).setPieValue(item.color.getRed());\n            chart.getData().get(1).setPieValue(item.color.getGreen());\n            chart.getData().get(2).setPieValue(item.color.getBlue());\n            circle.setFill(item.color);\n            button.setOnAction((e) -&gt; {\n                System.out.println(item);\n            });\n            return pane;\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><code>PaginationTest.css</code></p>\n<pre><code>PaginationTest.css \n.default-color0.chart-pie { -fx-pie-color: #FF0000; }\n.default-color1.chart-pie { -fx-pie-color: #00FF00; }\n.default-color2.chart-pie { -fx-pie-color: #0000FF; }\n</code></pre>\n"}],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1685569299,"creation_date":1685385839,"question_id":76359690,"body_markdown":"While looking at [`Pagination`][1], the question of rendering complex pages arose. The [API][1] example, [_et al._][2], typically specify a `pageFactory` that simply constructs a new control each time it is called. Indeed, [profiling][3] the example below while paging showed minimal memory pressure, with a flurry of new instances that were promptly collected. What can I do if growing complexity changes the picture?\r\n\r\n[![simple page][4]][4]\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ContentDisplay;\r\nimport javafx.scene.control.Pagination;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n\r\n/** @see https://stackoverflow.com/q/76359690/230513 */\r\n\r\npublic class PaginationSample extends Application {\r\n\r\n    private static final int N = 100;\r\n\r\n    private record Item(String name, Color color) {\r\n\r\n        private static final Random r = new Random();\r\n\r\n        public static Item ofRandom() {\r\n            var s = (char) (&#39;A&#39; + r.nextInt(26))\r\n                + String.valueOf(r.nextInt(900_000) + 100_000);\r\n            var c = Color.rgb(r.nextInt(255), r.nextInt(255), r.nextInt(255));\r\n            return new Item(s, c);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        stage.setTitle(&quot;PaginationTStreamest&quot;);\r\n        List&lt;Item&gt; items = Stream.generate(Item::ofRandom)\r\n            .limit(N).collect(Collectors.toList());\r\n        var pagination = new Pagination(items.size(), 0);\r\n        pagination.setPageFactory((i) -&gt; createItemPane(items.get(i)));\r\n        stage.setScene(new Scene(pagination));\r\n        stage.show();\r\n        pagination.requestFocus();\r\n    }\r\n\r\n    private StackPane createItemPane(Item item) {\r\n        var pane = new StackPane();\r\n        pane.setPadding(new Insets(16));\r\n        var label = new Label(item.name, new Rectangle(320, 240, item.color));\r\n        label.setTextFill(item.color.invert());\r\n        label.setStyle(&quot;-fx-font-family: serif; -fx-font-size: 36;&quot;);\r\n        label.setContentDisplay(ContentDisplay.CENTER);\r\n        var button = new Button(&quot;Button&quot;);\r\n        StackPane.setAlignment(button, Pos.BOTTOM_RIGHT);\r\n        button.setOnAction((e) -&gt; {\r\n            System.out.println(item);\r\n        });\r\n        pane.getChildren().addAll(label, button);\r\n        return pane;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/Pagination.html\r\n  [2]: https://stackoverflow.com/search?tab=votes&amp;q=%5Bjavafx%5D%20javafx.scene.control.Pagination&amp;searchOn=3\r\n  [3]: https://stackoverflow.com/q/2064427/230513\r\n  [4]: https://i.stack.imgur.com/cSskH.png","title":"Optimizing Pagination rendering","body":"<p>While looking at <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/Pagination.html\" rel=\"nofollow noreferrer\"><code>Pagination</code></a>, the question of rendering complex pages arose. The <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/Pagination.html\" rel=\"nofollow noreferrer\">API</a> example, <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5Bjavafx%5D%20javafx.scene.control.Pagination&amp;searchOn=3\"><em>et al.</em></a>, typically specify a <code>pageFactory</code> that simply constructs a new control each time it is called. Indeed, <a href=\"https://stackoverflow.com/q/2064427/230513\">profiling</a> the example below while paging showed minimal memory pressure, with a flurry of new instances that were promptly collected. What can I do if growing complexity changes the picture?</p>\n<p><a href=\"https://i.stack.imgur.com/cSskH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cSskH.png\" alt=\"simple page\" /></a></p>\n<pre><code>import java.util.List;\nimport java.util.Random;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ContentDisplay;\nimport javafx.scene.control.Pagination;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\n/** @see https://stackoverflow.com/q/76359690/230513 */\n\npublic class PaginationSample extends Application {\n\n    private static final int N = 100;\n\n    private record Item(String name, Color color) {\n\n        private static final Random r = new Random();\n\n        public static Item ofRandom() {\n            var s = (char) ('A' + r.nextInt(26))\n                + String.valueOf(r.nextInt(900_000) + 100_000);\n            var c = Color.rgb(r.nextInt(255), r.nextInt(255), r.nextInt(255));\n            return new Item(s, c);\n        }\n    }\n\n    @Override\n    public void start(Stage stage) {\n        stage.setTitle(&quot;PaginationTStreamest&quot;);\n        List&lt;Item&gt; items = Stream.generate(Item::ofRandom)\n            .limit(N).collect(Collectors.toList());\n        var pagination = new Pagination(items.size(), 0);\n        pagination.setPageFactory((i) -&gt; createItemPane(items.get(i)));\n        stage.setScene(new Scene(pagination));\n        stage.show();\n        pagination.requestFocus();\n    }\n\n    private StackPane createItemPane(Item item) {\n        var pane = new StackPane();\n        pane.setPadding(new Insets(16));\n        var label = new Label(item.name, new Rectangle(320, 240, item.color));\n        label.setTextFill(item.color.invert());\n        label.setStyle(&quot;-fx-font-family: serif; -fx-font-size: 36;&quot;);\n        label.setContentDisplay(ContentDisplay.CENTER);\n        var button = new Button(&quot;Button&quot;);\n        StackPane.setAlignment(button, Pos.BOTTOM_RIGHT);\n        button.setOnAction((e) -&gt; {\n            System.out.println(item);\n        });\n        pane.getChildren().addAll(label, button);\n        return pane;\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tdd","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":12535187,"reputation":84,"user_id":9122044,"display_name":"nirfrea"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1522151890,"creation_date":1522151890,"answer_id":49512274,"question_id":49512239,"body_markdown":"Create import.sql file in test resources with the data you need. \r\n\r\n&gt; \r\nIn addition, a file named import.sql in the root of the classpath is executed on startup if Hibernate creates the schema from scratch (that is, if the ddl-auto property is set to create or create-drop). This can be useful for demos and for testing if you are careful but is probably not something you want to be on the classpath in production. It is a Hibernate feature (and has nothing to do with Spring).\r\n\r\nSource: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html","title":"How to load h2 data in spring boot test before component initialization","body":"<p>Create import.sql file in test resources with the data you need. </p>\n\n<blockquote>\n  <p>In addition, a file named import.sql in the root of the classpath is executed on startup if Hibernate creates the schema from scratch (that is, if the ddl-auto property is set to create or create-drop). This can be useful for demos and for testing if you are careful but is probably not something you want to be on the classpath in production. It is a Hibernate feature (and has nothing to do with Spring).</p>\n</blockquote>\n\n<p>Source: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html</a></p>\n"},{"tags":[],"owner":{"account_id":6951792,"reputation":51,"user_id":5334208,"display_name":"StraightOuttaProcesses"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685568511,"creation_date":1685568511,"answer_id":76377417,"question_id":49512239,"body_markdown":"I ran into this problem recently and was able to solve it by adding `initialDelayString` to the `@Scheduled` annotation.\r\n\r\n```java\r\n@Component\r\npublic class MyScheduler {\r\n\r\n    // ...\r\n\r\n    @Scheduled(fixedDelayString = &quot;${poll.interval:300}&quot;, initialDelayString = &quot;${poll.delay:60000}&quot;)\r\n    public void testXYZ() throws Exception {\r\n        dbService.fetchRecords();\r\n        // do blah blah\r\n    }\r\n}\r\n```","title":"How to load h2 data in spring boot test before component initialization","body":"<p>I ran into this problem recently and was able to solve it by adding <code>initialDelayString</code> to the <code>@Scheduled</code> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyScheduler {\n\n    // ...\n\n    @Scheduled(fixedDelayString = &quot;${poll.interval:300}&quot;, initialDelayString = &quot;${poll.delay:60000}&quot;)\n    public void testXYZ() throws Exception {\n        dbService.fetchRecords();\n        // do blah blah\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8286539,"reputation":303,"user_id":6229475,"display_name":"Ashish Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10456,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49512274,"answer_count":2,"score":2,"last_activity_date":1685568511,"creation_date":1522151749,"question_id":49512239,"body_markdown":"I have a @Component with @Scheduled method which runs every x mins (fixed delay)\r\nWhile running my integration @SpringBootTest, this component gets initialized with application context, and then executes my test methods\r\n\r\nThe scheduler polls DB periodically and executes some logic. So as soon as application-context is loaded, it requires data pre-loaded in h2 database\r\n\r\n    @Component\r\n    public class MyScheduler {\r\n       ...\r\n       ...\r\n        @Scheduled(fixedDelayString = &quot;${poll.interval:300}&quot;)\r\n        public void testXYZ() throws Exception {\r\n            dbService.fetchRecords();\r\n            //do blah blah\r\n        }\r\n    }\r\nHow can I pre-load initial data in h2 before @SpringBootTest application-context is loaded ?\r\n\r\n\r\nI want to perform data assertions based on few @Scheduled periodic runs once the service comes up in my integration test\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest\r\n    public class MyIntegrationTest{\r\n    \r\n        ...\r\n\r\n        @Test\r\n        @Sql(scripts={&quot;classpath:data/data.sql&quot;}, \r\n        config=@SqlConfig(transactionMode = TransactionMode.ISOLATED), \r\n        executionPhase = ExecutionPhase.BEFORE_TEST_METHOD)\r\n        testMySchedulerLogic() {\r\n            assertTrue(isProcessed(), true);\r\n        }\r\n    }","title":"How to load h2 data in spring boot test before component initialization","body":"<p>I have a @Component with @Scheduled method which runs every x mins (fixed delay)\nWhile running my integration @SpringBootTest, this component gets initialized with application context, and then executes my test methods</p>\n\n<p>The scheduler polls DB periodically and executes some logic. So as soon as application-context is loaded, it requires data pre-loaded in h2 database</p>\n\n<pre><code>@Component\npublic class MyScheduler {\n   ...\n   ...\n    @Scheduled(fixedDelayString = \"${poll.interval:300}\")\n    public void testXYZ() throws Exception {\n        dbService.fetchRecords();\n        //do blah blah\n    }\n}\n</code></pre>\n\n<p>How can I pre-load initial data in h2 before @SpringBootTest application-context is loaded ?</p>\n\n<p>I want to perform data assertions based on few @Scheduled periodic runs once the service comes up in my integration test</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest\npublic class MyIntegrationTest{\n\n    ...\n\n    @Test\n    @Sql(scripts={\"classpath:data/data.sql\"}, \n    config=@SqlConfig(transactionMode = TransactionMode.ISOLATED), \n    executionPhase = ExecutionPhase.BEFORE_TEST_METHOD)\n    testMySchedulerLogic() {\n        assertTrue(isProcessed(), true);\n    }\n}\n</code></pre>\n"},{"tags":["java","weblogic","cdi"],"answers":[{"tags":[],"owner":{"account_id":23930689,"reputation":1,"user_id":20712803,"display_name":"morozkin.vladislav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670831847,"creation_date":1670412598,"answer_id":74715933,"question_id":73398224,"body_markdown":"Try removing the `@javax.inject annotation.Named` annotation?\r\n\r\nWhat do you want to achieve by using these two annotations at once?\r\n\r\n`@javax.inject.Named`\r\n`@javax.enterprise.context.RequestScoped`\r\n\r\nAs far as I understand, `Named` is needed to embed a bean into other beans using its &quot;name&quot;. In order to have a link with the `xhtml` page, `RequestScoped` will be enough.\r\n","title":"Target Unreachable, identifier &#39;bean&#39; resolved to null","body":"<p>Try removing the <code>@javax.inject annotation.Named</code> annotation?</p>\n<p>What do you want to achieve by using these two annotations at once?</p>\n<p><code>@javax.inject.Named</code>\n<code>@javax.enterprise.context.RequestScoped</code></p>\n<p>As far as I understand, <code>Named</code> is needed to embed a bean into other beans using its &quot;name&quot;. In order to have a link with the <code>xhtml</code> page, <code>RequestScoped</code> will be enough.</p>\n"}],"owner":{"account_id":20010792,"reputation":1,"user_id":14667847,"display_name":"SomeOne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685568260,"creation_date":1660803161,"question_id":73398224,"body_markdown":"CDI is working good until &quot;bean-discovery-mode&quot; is changed from &quot;all&quot; to &quot;annotated&quot;. Here is the sample to reproduce PropertyNotFoundException, Please help to advise what do I miss?\r\n\r\n    javax.el.PropertyNotFoundException: //C:/Users/abc/JavaWebTest/src/main/webapp/cdi.xhtml @22,39 value=&quot;#{requestTestBean.input}&quot;: Target Unreachable, identifier &#39;requestTestBean&#39; resolved to null at com.sun.faces.facelets.el.TagValueExpression.getType(TagValueExpression.java:100)\r\n\r\n**html**\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html\r\n        xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n        xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\r\n        xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;\r\n        xmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;\r\n        xmlns:jsf=&quot;http://xmlns.jcp.org/jsf&quot;\r\n        xmlns:c=&quot;http://xmlns.jcp.org/jsp/jstl/core&quot;\r\n        xmlns:fn=&quot;http://xmlns.jcp.org/jsp/jstl/functions&quot;&gt;\r\n    &lt;h:head&gt;\r\n        &lt;meta charset=&quot;utf-8&quot; /&gt;\r\n        &lt;meta\r\n            name=&quot;viewport&quot;\r\n            content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;\r\n        &lt;title&gt;CDI Test&lt;/title&gt;\r\n    &lt;/h:head&gt;\r\n    &lt;h:body&gt;\r\n        &lt;ui:debug hotkey=&quot;x&quot; /&gt;\r\n        &lt;h:form id=&quot;form&quot;&gt;\r\n            Name: &lt;h:inputText\r\n                id=&quot;input&quot;\r\n                value=&quot;#{requestTestBean.input}&quot; /&gt;\r\n            &lt;h:commandButton\r\n                value=&quot;Submit&quot;\r\n                action=&quot;#{requestTestBean.submit()}&quot; /&gt;\r\n        &lt;/h:form&gt;\r\n        #{requestTestBean.output}\r\n    &lt;/h:body&gt;\r\n    &lt;/html&gt;\r\n\r\njava\r\n\r\n    package dev;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    \r\n    @javax.inject.Named\r\n    @javax.enterprise.context.RequestScoped\r\n    public class RequestTestBean implements java.io.Serializable {\r\n        static final long serialVersionUID = 1L;\r\n        static final Logger logger = LogManager.getLogger();\r\n    \r\n        String input;\r\n        String output;\r\n    \r\n        public RequestTestBean() {\r\n            logger.debug(this);\r\n        }\r\n    \r\n        @javax.annotation.PostConstruct\r\n        public void PostConstruct() {\r\n            logger.debug(this);\r\n        }\r\n    \r\n        @javax.annotation.PreDestroy\r\n        public void PreDestroy() {\r\n            logger.debug(this);\r\n        }\r\n    \r\n        public String submit() {\r\n            logger.debug(&quot;input: {}&quot;, this.input);\r\n            \r\n            this.output = &quot;Hello &quot; + this.input;\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public String getInput() {\r\n            return input;\r\n        }\r\n    \r\n        public void setInput(String input) {\r\n            this.input = input;\r\n        }\r\n    \r\n        public String getOutput() {\r\n            return output;\r\n        }\r\n    \r\n        public void setOutput(String output) {\r\n            this.output = output;\r\n        }\r\n    \r\n    }\r\n\r\nxml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \r\n                               http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\r\n        version=&quot;1.1&quot; bean-discovery-mode=&quot;annotated&quot;&gt;\r\n        &lt;scan&gt;\r\n            &lt;!-- Prevent CDI deployment failure due to java.lang.NoClassDefFoundError --&gt;\r\n            &lt;exclude name=&quot;org.apache.**&quot; /&gt;\r\n        &lt;/scan&gt;\r\n    &lt;/beans&gt;\r\n\r\nWeblogic 12.2 Java 8 Servlet 3.1 JSF 2.2 CDI 1.1 EJB 3.2\r\n\r\n\r\n\r\n","title":"Target Unreachable, identifier &#39;bean&#39; resolved to null","body":"<p>CDI is working good until &quot;bean-discovery-mode&quot; is changed from &quot;all&quot; to &quot;annotated&quot;. Here is the sample to reproduce PropertyNotFoundException, Please help to advise what do I miss?</p>\n<pre><code>javax.el.PropertyNotFoundException: //C:/Users/abc/JavaWebTest/src/main/webapp/cdi.xhtml @22,39 value=&quot;#{requestTestBean.input}&quot;: Target Unreachable, identifier 'requestTestBean' resolved to null at com.sun.faces.facelets.el.TagValueExpression.getType(TagValueExpression.java:100)\n</code></pre>\n<p><strong>html</strong></p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html\n    xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n    xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\n    xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;\n    xmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;\n    xmlns:jsf=&quot;http://xmlns.jcp.org/jsf&quot;\n    xmlns:c=&quot;http://xmlns.jcp.org/jsp/jstl/core&quot;\n    xmlns:fn=&quot;http://xmlns.jcp.org/jsp/jstl/functions&quot;&gt;\n&lt;h:head&gt;\n    &lt;meta charset=&quot;utf-8&quot; /&gt;\n    &lt;meta\n        name=&quot;viewport&quot;\n        content=&quot;width=device-width, initial-scale=1.0&quot; /&gt;\n    &lt;title&gt;CDI Test&lt;/title&gt;\n&lt;/h:head&gt;\n&lt;h:body&gt;\n    &lt;ui:debug hotkey=&quot;x&quot; /&gt;\n    &lt;h:form id=&quot;form&quot;&gt;\n        Name: &lt;h:inputText\n            id=&quot;input&quot;\n            value=&quot;#{requestTestBean.input}&quot; /&gt;\n        &lt;h:commandButton\n            value=&quot;Submit&quot;\n            action=&quot;#{requestTestBean.submit()}&quot; /&gt;\n    &lt;/h:form&gt;\n    #{requestTestBean.output}\n&lt;/h:body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>java</p>\n<pre><code>package dev;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\n@javax.inject.Named\n@javax.enterprise.context.RequestScoped\npublic class RequestTestBean implements java.io.Serializable {\n    static final long serialVersionUID = 1L;\n    static final Logger logger = LogManager.getLogger();\n\n    String input;\n    String output;\n\n    public RequestTestBean() {\n        logger.debug(this);\n    }\n\n    @javax.annotation.PostConstruct\n    public void PostConstruct() {\n        logger.debug(this);\n    }\n\n    @javax.annotation.PreDestroy\n    public void PreDestroy() {\n        logger.debug(this);\n    }\n\n    public String submit() {\n        logger.debug(&quot;input: {}&quot;, this.input);\n        \n        this.output = &quot;Hello &quot; + this.input;\n\n        return null;\n    }\n\n    public String getInput() {\n        return input;\n    }\n\n    public void setInput(String input) {\n        this.input = input;\n    }\n\n    public String getOutput() {\n        return output;\n    }\n\n    public void setOutput(String output) {\n        this.output = output;\n    }\n\n}\n</code></pre>\n<p>xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee \n                           http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd&quot;\n    version=&quot;1.1&quot; bean-discovery-mode=&quot;annotated&quot;&gt;\n    &lt;scan&gt;\n        &lt;!-- Prevent CDI deployment failure due to java.lang.NoClassDefFoundError --&gt;\n        &lt;exclude name=&quot;org.apache.**&quot; /&gt;\n    &lt;/scan&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>Weblogic 12.2 Java 8 Servlet 3.1 JSF 2.2 CDI 1.1 EJB 3.2</p>\n"},{"tags":["java","android","android-intent","android-activity","service"],"answers":[{"tags":[],"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650884313,"creation_date":1650883624,"answer_id":71998323,"question_id":71998322,"body_markdown":"See [this answer][1].\\\r\nThis answer suggests enabling `ScreeanOverlay` settings because as of Android 10 and later you can no longer open an activity from the background just by calling the lines I&#39;ve used.\\\r\nTo make it work, you&#39;d have to add this permission through your `Manifest.xml`:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\r\n\r\nAnd then the user would have to enable the `Display over other apps` setting.\\\r\nI searched for an option to get the user to this setting more easily and found [this answer][2].\\\r\nThis answer gives a code that redirects the user to the `Display over other apps` setting\r\n\r\n```\r\nif (!Settings.canDrawOverlays(this)) {\r\n    Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, Uri.parse(&quot;package:&quot; + getPackageName()));\r\n    startActivityForResult(intent, 0);\r\n}\r\n```\r\n\r\nand then I guide the user with the notification&#39;s content (text) on how to enable the setting.\\\r\nOnce the setting is enabled, The lines I&#39;ve used before work.\\\r\n\r\nSo, problem solved?\r\n\r\n\r\n## Not Completely Solved ##\r\nthis whole configuration described above works, but only if the app is not killed.\\\r\nIf the app was killed and I try the method listed above, the app joins the recent apps list, but won&#39;t open and show up.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59067224/8099601\r\n  [2]: https://stackoverflow.com/a/40355440/8099601","title":"Android: Start an Activity from a Service when app is killed","body":"<p>See <a href=\"https://stackoverflow.com/a/59067224/8099601\">this answer</a>.<br />\nThis answer suggests enabling <code>ScreeanOverlay</code> settings because as of Android 10 and later you can no longer open an activity from the background just by calling the lines I've used.<br />\nTo make it work, you'd have to add this permission through your <code>Manifest.xml</code>:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot;/&gt;\n</code></pre>\n<p>And then the user would have to enable the <code>Display over other apps</code> setting.<br />\nI searched for an option to get the user to this setting more easily and found <a href=\"https://stackoverflow.com/a/40355440/8099601\">this answer</a>.<br />\nThis answer gives a code that redirects the user to the <code>Display over other apps</code> setting</p>\n<pre><code>if (!Settings.canDrawOverlays(this)) {\n    Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION, Uri.parse(&quot;package:&quot; + getPackageName()));\n    startActivityForResult(intent, 0);\n}\n</code></pre>\n<p>and then I guide the user with the notification's content (text) on how to enable the setting.<br />\nOnce the setting is enabled, The lines I've used before work.\\</p>\n<p>So, problem solved?</p>\n<h2>Not Completely Solved</h2>\n<p>this whole configuration described above works, but only if the app is not killed.<br />\nIf the app was killed and I try the method listed above, the app joins the recent apps list, but won't open and show up.</p>\n"},{"tags":[],"owner":{"account_id":24274254,"reputation":11,"user_id":18221782,"display_name":"abdul muteen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650949444,"creation_date":1650949444,"answer_id":72008622,"question_id":71998322,"body_markdown":"You need to start service in FOREGROUND_SERVICE\r\nLike this\r\n\r\n      Intent intent = new Intent(this, AppService.class);\r\n            \r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            startForegroundService(intent);\r\n        }\r\n\r\nAnd Add This line in Main.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\r\n\r\n","title":"Android: Start an Activity from a Service when app is killed","body":"<p>You need to start service in FOREGROUND_SERVICE\nLike this</p>\n<pre><code>  Intent intent = new Intent(this, AppService.class);\n        \n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        startForegroundService(intent);\n    }\n</code></pre>\n<p>And Add This line in Main.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651292339,"creation_date":1651292339,"answer_id":72065677,"question_id":71998322,"body_markdown":"As `NitzanDaloomy` suggested in his answer [here](https://stackoverflow.com/a/71998323/17133283) we can use `SYSTEM_ALERT_WINDOW` but that won&#39;t open the app when it is killed but bring it in the recents list. Now, because our app is no longer closed(it is in background), we can use `startActivity(Intent intent)` and then, the app will open\r\n","title":"Android: Start an Activity from a Service when app is killed","body":"<p>As <code>NitzanDaloomy</code> suggested in his answer <a href=\"https://stackoverflow.com/a/71998323/17133283\">here</a> we can use <code>SYSTEM_ALERT_WINDOW</code> but that won't open the app when it is killed but bring it in the recents list. Now, because our app is no longer closed(it is in background), we can use <code>startActivity(Intent intent)</code> and then, the app will open</p>\n"},{"tags":[],"owner":{"account_id":11630802,"reputation":97,"user_id":8519058,"display_name":"Peter Akwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685566558,"creation_date":1685539522,"answer_id":76374008,"question_id":71998322,"body_markdown":"You need to request and enable overlay permission for your app to achieve that. Without that, your app cannot lunch any activity on the screen when it is in the foreground.\r\n\r\nI had the same issue and was able to resolve it after seeing the response from [this answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76111879/8519058","title":"Android: Start an Activity from a Service when app is killed","body":"<p>You need to request and enable overlay permission for your app to achieve that. Without that, your app cannot lunch any activity on the screen when it is in the foreground.</p>\n<p>I had the same issue and was able to resolve it after seeing the response from <a href=\"https://stackoverflow.com/a/76111879/8519058\">this answer</a></p>\n"}],"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1155,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1685566558,"creation_date":1650883624,"question_id":71998322,"body_markdown":"In my app, I have a `Service` running in the background (and foreground).\r\n\r\nIn this `Service`, there&#39;s a `CountdownTimer` and when it finishes I want to launch the app in a certain `Activity` and do some stuff in the `Activity` automatically, and I want this to work even if my app is killed or closed.\r\n\r\nI&#39;ve seen some answers, [this][1] is one of them, but it won&#39;t work for me. I&#39;ve found a better solution and posted it as an answer below, but still, it works only if the app is closed but not completely killed.\r\n\r\nHow can I launch an `Activity` from a background `Service` even when the app is closed or killed?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3607934/8099601","title":"Android: Start an Activity from a Service when app is killed","body":"<p>In my app, I have a <code>Service</code> running in the background (and foreground).</p>\n<p>In this <code>Service</code>, there's a <code>CountdownTimer</code> and when it finishes I want to launch the app in a certain <code>Activity</code> and do some stuff in the <code>Activity</code> automatically, and I want this to work even if my app is killed or closed.</p>\n<p>I've seen some answers, <a href=\"https://stackoverflow.com/a/3607934/8099601\">this</a> is one of them, but it won't work for me. I've found a better solution and posted it as an answer below, but still, it works only if the app is closed but not completely killed.</p>\n<p>How can I launch an <code>Activity</code> from a background <code>Service</code> even when the app is closed or killed?</p>\n"},{"tags":["java","java-15","java-text-blocks"],"comments":[{"owner":{"account_id":6001966,"reputation":19298,"user_id":8967612,"display_name":"41686d6564"},"score":16,"creation_date":1611543883,"post_id":65676448,"comment_id":116477383,"body_markdown":"[This question is being discussed on Meta](https://meta.stackoverflow.com/q/404681/8967612). (**Moderator Note:** If you have an opinion on its acceptability, do not post a comment here. Instead, post an *answer* to the linked Meta question. Meta-commentary here is subject to being deleted.)","body":"<a href=\"https://meta.stackoverflow.com/q/404681/8967612\">This question is being discussed on Meta</a>. (<b>Moderator Note:</b> If you have an opinion on its acceptability, do not post a comment here. Instead, post an <i>answer</i> to the linked Meta question. Meta-commentary here is subject to being deleted.)"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":9,"up_vote_count":55,"is_accepted":true,"score":46,"last_activity_date":1685566149,"creation_date":1610411505,"answer_id":65676449,"question_id":65676448,"body_markdown":"## What is a text block?\r\n\r\nA [text block][1] is a multi-line string literal and the feature offers a clean way to format the string in a predictable way, without using most of the escape sequences. It starts and ends with a `&quot;&quot;&quot;` (three double-quotes marks) e.g.\r\n\r\n\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString text = &quot;&quot;&quot;\r\n\t\t\t\t\t&lt;html&gt;\r\n\t\t\t\t\t\t&lt;head&gt;\r\n\t\t\t\t\t\t\t&lt;title&gt;Hello World&lt;/title&gt;\r\n\t\t\t\t\t\t&lt;/head&gt;\r\n\t\t\t\t\t\t&lt;body&gt;\r\n\t\t\t\t\t\t\tJava rocks!\r\n\t\t\t\t\t\t&lt;/body&gt;\r\n\t\t\t\t\t&lt;/html&gt;&quot;&quot;&quot;;\r\n\r\n\t\t\tSystem.out.println(text);\r\n\t\t}\r\n\t}\r\n\r\n**Output:**\r\n\r\n\t&lt;html&gt;\r\n\t\t&lt;head&gt;\r\n\t\t\t&lt;title&gt;Hello World&lt;/title&gt;\r\n\t\t&lt;/head&gt;\r\n\t\t&lt;body&gt;\r\n\t\t\tJava rocks!\r\n\t\t&lt;/body&gt;\r\n\t&lt;/html&gt;\r\n\r\n\r\nWith the traditional string representation, the code would look like\r\n\r\n\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString text = &quot;&lt;html&gt;\\n&quot;\r\n\t\t\t\t\t+ &quot;\t&lt;head&gt;\\n&quot;\r\n\t\t\t\t\t+ &quot;\t\t&lt;title&gt;Hello World&lt;/title&gt;\\n&quot;\r\n\t\t\t\t\t+ &quot;\t&lt;/head&gt;\\n&quot;\r\n\t\t\t\t\t+ &quot;\t&lt;body&gt;\\n&quot;\r\n\t\t\t\t\t+ &quot;\t\tJava rocks!\\n&quot;\r\n\t\t\t\t\t+ &quot;\t&lt;/body&gt;\\n&quot;\r\n\t\t\t\t\t+ &quot;&lt;/html&gt;&quot;;\r\n\r\n\t\t\tSystem.out.println(text);\r\n\t\t}\r\n\t}\r\n\r\nAnother ***key difference*** is that a text block begins with **three double-quote characters followed by a line terminator** which is not the case with the traditional string representation. It means\r\n\r\n 1. The text block can not be put on a single line.\r\n 2. The content of the text block can not follow the three opening double quotes on the same line.\r\n\r\n\r\n\t\tString str = &quot;Hello World!&quot;; // The traditional string\r\n\r\n\t\tString textBlock = &quot;&quot;&quot;\r\n\t\t\t\tHello World!\r\n\t\t\t\t&quot;&quot;&quot;; // The text block\r\n\r\n\t\tString notAllowed = &quot;&quot;&quot;Hello World!&quot;&quot;&quot;; // Error\r\n\r\n\t\t// The following code will fail compilation\r\n\t\tString notAllowed2 =&quot;&quot;&quot;Hello\r\n\t\t\t\t World!\r\n\t\t\t\t&quot;&quot;&quot;;\r\n\r\nThis was a much-needed feature in Java.\r\n\r\n**A note about how it compares with text block in Kotlin (a modern JVM-based language):**\r\n\r\n  - Kotlin does not have any of the two above-mentioned constraints. \r\n  - Kotlin does not require escaping a `\\` inside the text block which makes writing a RegEx expression easier e.g. the following is a valid text block in Kotlin but invalid in Java:\r\n\r\n```\r\n    var str = &quot;&quot;&quot;\r\n        \\d{2}-\\d{2}-\\d{4}\r\n        &quot;&quot;&quot;\r\n```\r\nIn Java, one will have to write it as\r\n\r\n    var str = &quot;&quot;&quot;\r\n        \\\\d{2}-\\\\d{2}-\\\\d{4}\r\n        &quot;&quot;&quot;;\r\n\r\n**A note about indentation:**\r\n\r\nThe compiler shifts the complete text block to the left and then retains the specified spacing.\r\n\r\n    String str1 = &quot;&quot;&quot;\r\n    \t\t   Hello\r\n    \t\t&quot;&quot;&quot;;\r\n    \t\t^^^&lt;-----The three whitespace characters before Hello will be retained\r\n\r\n**Demo:**\r\n\r\n\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t// Text block without a line break at the end\r\n\t\t\tString str1 = &quot;&quot;&quot;\r\n\t\t\t\t\tHello&quot;&quot;&quot;;\r\n\r\n\t\t\t// Text block with a line break at the end\r\n\t\t\tString str2 = &quot;&quot;&quot;\r\n\t\t\t\t\tHello\r\n\t\t\t\t\t&quot;&quot;&quot;;\r\n\r\n\t\t\t// Text block with three whitespaces in the beginning and a line break at the end\r\n\t\t\tString str3 = &quot;&quot;&quot;\r\n\t\t\t\t\t   World!\r\n\t\t\t\t\t&quot;&quot;&quot;;\r\n\t\t\tSystem.out.println(str1);\r\n\t\t\tSystem.out.println(str2);\r\n\t\t\tSystem.out.println(str3);\r\n\t\t\tSystem.out.println(&quot;Java rocks!&quot;);\r\n\t\t}\r\n\t}\r\n\r\n**Output:**\r\n\r\n\tHello\r\n\tHello\r\n\r\n\t   World!\r\n\r\n\tJava rocks!\r\n\r\n\r\n\r\n## Is it available only as a Preview Feature?\r\n\r\nIt remained available in Java SE 13 and Java SE 14 as a *Preview Feature* and has been standardised with Java SE 15. With Java SE 13 and 14, like any *Preview Feature*, it has to be compiled and executed with `--enable-preview` option e.g.\r\n\r\n**To compile:**\r\n\r\n\tjavac --enable-preview --release 13 Main.java\r\n\r\n**To execute:**\r\n\r\n\tjava --enable-preview Main\r\n\r\n## Are they stored in the String Pool?\r\n\r\nYes, they are. The *text blocks* are compiled to the same type as that of the traditional `String` value i.e. the byte code does not distinguish between a traditional `String` value and a *text block*. \r\n\r\n\r\n\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString str1 = &quot;Hello World!&quot;;\r\n\t\t\tString str2 = &quot;&quot;&quot;\r\n\t\t\t\t\tHello World!&quot;&quot;&quot;;\r\n\t\t\tSystem.out.println(str1 == str2);\r\n\t\t}\r\n\t}\r\n\r\n**Output:**\r\n\r\n\ttrue\r\n\r\n ## Can a *text block* be concatenated with another string?\r\n\r\n Yes, a text block can be concatenated to a traditional string value or another *text block* in the same way, the traditional `String` values are concatenated. As already described above, the byte code does not distinguish between a traditional `String` value and *text block*.\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str1 = &quot;Hello &quot;;\r\n    \t\tString str2 = &quot;&quot;&quot;\r\n    \t\t\t\tWorld!&quot;&quot;&quot;;\r\n    \t\tString str3 = &quot;&quot;&quot;\r\n    \t\t\t\t Java rocks!\r\n    \t\t\t\t&quot;&quot;&quot;;\r\n    \t\tSystem.out.println(str1 + str2);\r\n    \t\tSystem.out.println(str1 + (str2 + str3));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n\tHello World!\r\n\tHello World! Java rocks!\r\nNote that I have put whitespace after `Hello` in `str1` and another whitespace before `Java rocks!` in `str3`.\r\n\r\n## Does it support *Escape Sequences*?\r\n\r\nYes, the escape sequences will be evaluated in the traditional way e.g.\r\n\r\n\r\n\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString text = &quot;&quot;&quot;\r\n\t\t\t\t\t&lt;html&gt;\r\n\t\t\t\t\t\t&lt;head&gt;\r\n\t\t\t\t\t\t\t&lt;title&gt;Hello World&lt;/title&gt;\r\n\t\t\t\t\t\t&lt;/head&gt;\r\n\t\t\t\t\t\t&lt;body&gt;\r\n\t\t\t\t\t\t\tJava\\n\\t\\trocks!\r\n\t\t\t\t\t\t&lt;/body&gt;\r\n\t\t\t\t\t&lt;/html&gt;&quot;&quot;&quot;;\r\n\r\n\t\t\tSystem.out.println(text);\r\n\t\t}\r\n\t}\r\n**Output:**\r\n\r\n\t&lt;html&gt;\r\n\t\t&lt;head&gt;\r\n\t\t\t&lt;title&gt;Hello World&lt;/title&gt;\r\n\t\t&lt;/head&gt;\r\n\t\t&lt;body&gt;\r\n\t\t\tJava\r\n\t\t\trocks!\r\n\t\t&lt;/body&gt;\r\n\t&lt;/html&gt;\r\n\r\n## Does it support replaceable parameters?\r\n\r\nYes, you can replace a parameter in the text block using `%s` or `$&lt;&lt;replaceable-parameter&gt;&gt;` as shown below:\r\n\r\n\tpublic class Main {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString text = &quot;&quot;&quot;\r\n\t\t\t\t\tWhat is the distance between %s and %s?&quot;&quot;&quot;;\r\n\r\n\t\t\tSystem.out.println(String.format(text, &quot;earth&quot;, &quot;moon&quot;));\r\n\t\t\tSystem.out.println(String.format(text, &quot;earth&quot;, &quot;mercury&quot;));\r\n\r\n\t\t\t// Alternative-1\r\n\t\t\ttext = &quot;&quot;&quot;\r\n\t\t\t\t\tWhat is the distance between $celestial1 and $celestial2?&quot;&quot;&quot;;\r\n\r\n\t\t\tSystem.out.println(text.replace(&quot;$celestial1&quot;, &quot;earth&quot;).replace(&quot;$celestial2&quot;, &quot;moon&quot;));\r\n\r\n\t\t\t// Alternative-2 using the deprecated String#formatted\r\n\t\t\ttext = &quot;&quot;&quot;\r\n\t\t\t\t\tWhat is the distance between %s and %s?&quot;&quot;&quot;;\r\n\t\t\tSystem.out.println(text.formatted(&quot;earth&quot;, &quot;moon&quot;));\r\n\t\t}\r\n\t}\r\n\r\n**Output:**\r\n\r\n\tWhat is the distance between earth and moon?\r\n\tWhat is the distance between earth and mercury?\r\n\tWhat is the distance between earth and moon?\r\n\tWhat is the distance between earth and moon?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se15/html/jls-3.html#jls-3.10.6","title":"What is the Text Blocks (or Multiline Strings) feature in Java?","body":"<h2>What is a text block?</h2>\n<p>A <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-3.html#jls-3.10.6\" rel=\"noreferrer\">text block</a> is a multi-line string literal and the feature offers a clean way to format the string in a predictable way, without using most of the escape sequences. It starts and ends with a <code>&quot;&quot;&quot;</code> (three double-quotes marks) e.g.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String text = &quot;&quot;&quot;\n                &lt;html&gt;\n                    &lt;head&gt;\n                        &lt;title&gt;Hello World&lt;/title&gt;\n                    &lt;/head&gt;\n                    &lt;body&gt;\n                        Java rocks!\n                    &lt;/body&gt;\n                &lt;/html&gt;&quot;&quot;&quot;;\n\n        System.out.println(text);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Hello World&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        Java rocks!\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>With the traditional string representation, the code would look like</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String text = &quot;&lt;html&gt;\\n&quot;\n                + &quot; &lt;head&gt;\\n&quot;\n                + &quot;     &lt;title&gt;Hello World&lt;/title&gt;\\n&quot;\n                + &quot; &lt;/head&gt;\\n&quot;\n                + &quot; &lt;body&gt;\\n&quot;\n                + &quot;     Java rocks!\\n&quot;\n                + &quot; &lt;/body&gt;\\n&quot;\n                + &quot;&lt;/html&gt;&quot;;\n\n        System.out.println(text);\n    }\n}\n</code></pre>\n<p>Another <em><strong>key difference</strong></em> is that a text block begins with <strong>three double-quote characters followed by a line terminator</strong> which is not the case with the traditional string representation. It means</p>\n<ol>\n<li><p>The text block can not be put on a single line.</p>\n</li>\n<li><p>The content of the text block can not follow the three opening double quotes on the same line.</p>\n<pre><code>String str = &quot;Hello World!&quot;; // The traditional string\n\nString textBlock = &quot;&quot;&quot;\n        Hello World!\n        &quot;&quot;&quot;; // The text block\n\nString notAllowed = &quot;&quot;&quot;Hello World!&quot;&quot;&quot;; // Error\n\n// The following code will fail compilation\nString notAllowed2 =&quot;&quot;&quot;Hello\n         World!\n        &quot;&quot;&quot;;\n</code></pre>\n</li>\n</ol>\n<p>This was a much-needed feature in Java.</p>\n<p><strong>A note about how it compares with text block in Kotlin (a modern JVM-based language):</strong></p>\n<ul>\n<li>Kotlin does not have any of the two above-mentioned constraints.</li>\n<li>Kotlin does not require escaping a <code>\\</code> inside the text block which makes writing a RegEx expression easier e.g. the following is a valid text block in Kotlin but invalid in Java:</li>\n</ul>\n<pre><code>    var str = &quot;&quot;&quot;\n        \\d{2}-\\d{2}-\\d{4}\n        &quot;&quot;&quot;\n</code></pre>\n<p>In Java, one will have to write it as</p>\n<pre><code>var str = &quot;&quot;&quot;\n    \\\\d{2}-\\\\d{2}-\\\\d{4}\n    &quot;&quot;&quot;;\n</code></pre>\n<p><strong>A note about indentation:</strong></p>\n<p>The compiler shifts the complete text block to the left and then retains the specified spacing.</p>\n<pre><code>String str1 = &quot;&quot;&quot;\n           Hello\n        &quot;&quot;&quot;;\n        ^^^&lt;-----The three whitespace characters before Hello will be retained\n</code></pre>\n<p><strong>Demo:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        // Text block without a line break at the end\n        String str1 = &quot;&quot;&quot;\n                Hello&quot;&quot;&quot;;\n\n        // Text block with a line break at the end\n        String str2 = &quot;&quot;&quot;\n                Hello\n                &quot;&quot;&quot;;\n\n        // Text block with three whitespaces in the beginning and a line break at the end\n        String str3 = &quot;&quot;&quot;\n                   World!\n                &quot;&quot;&quot;;\n        System.out.println(str1);\n        System.out.println(str2);\n        System.out.println(str3);\n        System.out.println(&quot;Java rocks!&quot;);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Hello\nHello\n\n   World!\n\nJava rocks!\n</code></pre>\n<h2>Is it available only as a Preview Feature?</h2>\n<p>It remained available in Java SE 13 and Java SE 14 as a <em>Preview Feature</em> and has been standardised with Java SE 15. With Java SE 13 and 14, like any <em>Preview Feature</em>, it has to be compiled and executed with <code>--enable-preview</code> option e.g.</p>\n<p><strong>To compile:</strong></p>\n<pre><code>javac --enable-preview --release 13 Main.java\n</code></pre>\n<p><strong>To execute:</strong></p>\n<pre><code>java --enable-preview Main\n</code></pre>\n<h2>Are they stored in the String Pool?</h2>\n<p>Yes, they are. The <em>text blocks</em> are compiled to the same type as that of the traditional <code>String</code> value i.e. the byte code does not distinguish between a traditional <code>String</code> value and a <em>text block</em>.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String str1 = &quot;Hello World!&quot;;\n        String str2 = &quot;&quot;&quot;\n                Hello World!&quot;&quot;&quot;;\n        System.out.println(str1 == str2);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>true\n</code></pre>\n<h2>Can a <em>text block</em> be concatenated with another string?</h2>\n<p>Yes, a text block can be concatenated to a traditional string value or another <em>text block</em> in the same way, the traditional <code>String</code> values are concatenated. As already described above, the byte code does not distinguish between a traditional <code>String</code> value and <em>text block</em>.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String str1 = &quot;Hello &quot;;\n        String str2 = &quot;&quot;&quot;\n                World!&quot;&quot;&quot;;\n        String str3 = &quot;&quot;&quot;\n                 Java rocks!\n                &quot;&quot;&quot;;\n        System.out.println(str1 + str2);\n        System.out.println(str1 + (str2 + str3));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Hello World!\nHello World! Java rocks!\n</code></pre>\n<p>Note that I have put whitespace after <code>Hello</code> in <code>str1</code> and another whitespace before <code>Java rocks!</code> in <code>str3</code>.</p>\n<h2>Does it support <em>Escape Sequences</em>?</h2>\n<p>Yes, the escape sequences will be evaluated in the traditional way e.g.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String text = &quot;&quot;&quot;\n                &lt;html&gt;\n                    &lt;head&gt;\n                        &lt;title&gt;Hello World&lt;/title&gt;\n                    &lt;/head&gt;\n                    &lt;body&gt;\n                        Java\\n\\t\\trocks!\n                    &lt;/body&gt;\n                &lt;/html&gt;&quot;&quot;&quot;;\n\n        System.out.println(text);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Hello World&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        Java\n        rocks!\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h2>Does it support replaceable parameters?</h2>\n<p>Yes, you can replace a parameter in the text block using <code>%s</code> or <code>$&lt;&lt;replaceable-parameter&gt;&gt;</code> as shown below:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String text = &quot;&quot;&quot;\n                What is the distance between %s and %s?&quot;&quot;&quot;;\n\n        System.out.println(String.format(text, &quot;earth&quot;, &quot;moon&quot;));\n        System.out.println(String.format(text, &quot;earth&quot;, &quot;mercury&quot;));\n\n        // Alternative-1\n        text = &quot;&quot;&quot;\n                What is the distance between $celestial1 and $celestial2?&quot;&quot;&quot;;\n\n        System.out.println(text.replace(&quot;$celestial1&quot;, &quot;earth&quot;).replace(&quot;$celestial2&quot;, &quot;moon&quot;));\n\n        // Alternative-2 using the deprecated String#formatted\n        text = &quot;&quot;&quot;\n                What is the distance between %s and %s?&quot;&quot;&quot;;\n        System.out.println(text.formatted(&quot;earth&quot;, &quot;moon&quot;));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>What is the distance between earth and moon?\nWhat is the distance between earth and mercury?\nWhat is the distance between earth and moon?\nWhat is the distance between earth and moon?\n</code></pre>\n"}],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9699,"favorite_count":0,"down_vote_count":53,"up_vote_count":55,"accepted_answer_id":65676449,"answer_count":1,"score":2,"last_activity_date":1685566149,"creation_date":1610411505,"question_id":65676448,"body_markdown":"Java SE 13 introduced *[Text Blocks](https://docs.oracle.com/en/java/javase/13/text_blocks/index.html)* (or Multiline Strings) feature. What are its differences and the similarities with the existing string representation?","title":"What is the Text Blocks (or Multiline Strings) feature in Java?","body":"<p>Java SE 13 introduced <em><a href=\"https://docs.oracle.com/en/java/javase/13/text_blocks/index.html\" rel=\"nofollow noreferrer\">Text Blocks</a></em> (or Multiline Strings) feature. What are its differences and the similarities with the existing string representation?</p>\n"},{"tags":["java","azure","asynchronous","azure-eventhub"],"answers":[{"tags":[],"owner":{"account_id":1589952,"reputation":570,"user_id":1473510,"accept_rate":50,"display_name":"Anu Thomas Chandy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685566057,"creation_date":1675362695,"answer_id":75327507,"question_id":75326628,"body_markdown":"The invocation of &#39;onEvent&#39; is asynchronous, i.e., it won&#39;t block the main thread. \r\n\r\nAs shown below, there are four different (mutually exclusive) ways to register the callback to receive events. Each takes the callback to deliver events as the first parameter -\r\n\r\n\r\n    processEvent(Consumer&lt;EventContext&gt; onEvent);\r\n    processEvent(Consumer&lt;EventContext&gt; onEvent, Duration timeout);\r\n    processEvent(Consumer&lt;EventBatchContext&gt; onBatchOfEvents, int batchSize);\r\n    processEvent(Consumer&lt;EventBatchContext&gt; onBatchOfEvents, int batchSize, Duration timeout);\r\n\r\n\r\n&lt;br/&gt;\r\n\r\nOption 2 has the timeout as a second parameter, i.e., how long to wait for an event to be available. If no event arrives within the timeout, the library invokes the callback with an EventContext object, and invoking getEventData() on this context object returns null.\r\n\r\nOptions 3 and 4 allow the application to register a callback to handle a batch of events; the second parameter indicates the desired number of events in each batch. The callback will be invoked with a EventBatchContext object where the batch can be accessed from EventBatchContext::getEvents().\r\n\r\nAdditionally, Option 4 allows specifying how long to wait for a batch of size N (where N is the second parameter) to be delivered to the callback. Upon timeout timer expiration, if there are only M events (where M &lt; N), the batch with M elements will be delivered to the callback. If no events are available within the timeout, then the EventBatchContext object delivered to callback returns an empty list when its getEvents() is called.\r\n\r\nI think Option 3 or 4 are what you&#39;re looking for, which we recommend using because callback for each event has a slight overhead.","title":"Async processing of events in EventProcessorClient","body":"<p>The invocation of 'onEvent' is asynchronous, i.e., it won't block the main thread.</p>\n<p>As shown below, there are four different (mutually exclusive) ways to register the callback to receive events. Each takes the callback to deliver events as the first parameter -</p>\n<pre><code>processEvent(Consumer&lt;EventContext&gt; onEvent);\nprocessEvent(Consumer&lt;EventContext&gt; onEvent, Duration timeout);\nprocessEvent(Consumer&lt;EventBatchContext&gt; onBatchOfEvents, int batchSize);\nprocessEvent(Consumer&lt;EventBatchContext&gt; onBatchOfEvents, int batchSize, Duration timeout);\n</code></pre>\n<br/>\n<p>Option 2 has the timeout as a second parameter, i.e., how long to wait for an event to be available. If no event arrives within the timeout, the library invokes the callback with an EventContext object, and invoking getEventData() on this context object returns null.</p>\n<p>Options 3 and 4 allow the application to register a callback to handle a batch of events; the second parameter indicates the desired number of events in each batch. The callback will be invoked with a EventBatchContext object where the batch can be accessed from EventBatchContext::getEvents().</p>\n<p>Additionally, Option 4 allows specifying how long to wait for a batch of size N (where N is the second parameter) to be delivered to the callback. Upon timeout timer expiration, if there are only M events (where M &lt; N), the batch with M elements will be delivered to the callback. If no events are available within the timeout, then the EventBatchContext object delivered to callback returns an empty list when its getEvents() is called.</p>\n<p>I think Option 3 or 4 are what you're looking for, which we recommend using because callback for each event has a slight overhead.</p>\n"}],"owner":{"account_id":8451272,"reputation":125,"user_id":6340041,"display_name":"Allamanda Weitgereist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75327507,"answer_count":1,"score":0,"last_activity_date":1685566057,"creation_date":1675357686,"question_id":75326628,"body_markdown":"We are migrating from an old SDK-Version to version 4 SDK of Azure EventHub and we are wondering if we still need to implement asynchronous handling of events by our selves. We are implementing the `EventProcessorClient` with the `EventProcessorClientBuilder`. so my question: Is the `onEvent` method called asynchronous in this example or not?\r\n\r\n``` Java\r\nnew EventProcessorClientBuilder()\r\n        .connectionString(connectionString)\r\n\t\t.checkpointStore(new BlobCheckpointStore(blobContainer))\r\n\t\t.processEvent(this::onEvent)\r\n\t\t.buildEventProcessorClient();\r\n```\r\n\r\nI dug deep into the Library and found that in the `PartitionPumpManager` an `EventHubConsumerAsyncClient` is build. But Iam not 100% certain.\r\n\r\nIf it is asynchronous, is there any way to maximum number of tasks and/or a way to give a timeout for a single task?","title":"Async processing of events in EventProcessorClient","body":"<p>We are migrating from an old SDK-Version to version 4 SDK of Azure EventHub and we are wondering if we still need to implement asynchronous handling of events by our selves. We are implementing the <code>EventProcessorClient</code> with the <code>EventProcessorClientBuilder</code>. so my question: Is the <code>onEvent</code> method called asynchronous in this example or not?</p>\n<pre><code>new EventProcessorClientBuilder()\n        .connectionString(connectionString)\n        .checkpointStore(new BlobCheckpointStore(blobContainer))\n        .processEvent(this::onEvent)\n        .buildEventProcessorClient();\n</code></pre>\n<p>I dug deep into the Library and found that in the <code>PartitionPumpManager</code> an <code>EventHubConsumerAsyncClient</code> is build. But Iam not 100% certain.</p>\n<p>If it is asynchronous, is there any way to maximum number of tasks and/or a way to give a timeout for a single task?</p>\n"},{"tags":["java","spring","spring-boot","spring-boot-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676467971,"post_id":75459160,"comment_id":133142073,"body_markdown":"`@SpringBootTest` will detect your application and will load a full context for an integration test. Adding `@ComponentScan` to a test class is useless. Remove `@RunWith` (I assume you are on JUnit 5 with this), remove the `@ContextConfiguration` remove `locations` from `@TestPropertySource` and `spring.profile.active` (that is taken care of by the `@ActiveProfiles`. Don&#39;t try to load just a subset of beans, you end up with a lot of small tests which load each their own context (which is slow) instead load the context once and reuse (automatic with Spring Testing support).","body":"<code>@SpringBootTest</code> will detect your application and will load a full context for an integration test. Adding <code>@ComponentScan</code> to a test class is useless. Remove <code>@RunWith</code> (I assume you are on JUnit 5 with this), remove the <code>@ContextConfiguration</code> remove <code>locations</code> from <code>@TestPropertySource</code> and <code>spring.profile.active</code> (that is taken care of by the <code>@ActiveProfiles</code>. Don&#39;t try to load just a subset of beans, you end up with a lot of small tests which load each their own context (which is slow) instead load the context once and reuse (automatic with Spring Testing support)."},{"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"score":0,"creation_date":1676470677,"post_id":75459160,"comment_id":133143034,"body_markdown":"No but this is what I want to do. I have some configuration classes which connect to DB and Kafka. I want to mock them. That I do in `TestConfiguration`. Apart from this, I need to exclude some beans which are loaded from external dependency. How can I do that?","body":"No but this is what I want to do. I have some configuration classes which connect to DB and Kafka. I want to mock them. That I do in <code>TestConfiguration</code>. Apart from this, I need to exclude some beans which are loaded from external dependency. How can I do that?"},{"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"score":0,"creation_date":1676470752,"post_id":75459160,"comment_id":133143069,"body_markdown":"What I am taking integration test approach is, I can use multiple inputs and get full coverage by running handful of tests in a single test class. Except those config classes which I want to exclude. Otherwise I need to write too many Mockito based unit tests to cover each and every class.","body":"What I am taking integration test approach is, I can use multiple inputs and get full coverage by running handful of tests in a single test class. Except those config classes which I want to exclude. Otherwise I need to write too many Mockito based unit tests to cover each and every class."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676471005,"post_id":75459160,"comment_id":133143160,"body_markdown":"You can still add/load that additional configuration (not sure why but alas), also why would you need to exclude those other beans? You alredy use a profile, you can exclude hem from certain profiles or the config class.","body":"You can still add/load that additional configuration (not sure why but alas), also why would you need to exclude those other beans? You alredy use a profile, you can exclude hem from certain profiles or the config class."},{"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"score":0,"creation_date":1676471227,"post_id":75459160,"comment_id":133143236,"body_markdown":"You alredy use a profile, you can exclude them from certain profiles --&gt; how to do this? One way I know is to add @Profile annotation on those classes. But I cannot do that. As there&#39;s a dependency I use which has some spring beans. They are auto loaded.","body":"You alredy use a profile, you can exclude them from certain profiles --&gt; how to do this? One way I know is to add @Profile annotation on those classes. But I cannot do that. As there&#39;s a dependency I use which has some spring beans. They are auto loaded."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676471857,"post_id":75459160,"comment_id":133143491,"body_markdown":"So you don&#39;t want to load them but still load beans which have a dependency on them? That is weird. To me it all feels you are trying to shoehorn `@SpringBootTest` into something it shouldn&#39;t be used for in the first place.","body":"So you don&#39;t want to load them but still load beans which have a dependency on them? That is weird. To me it all feels you are trying to shoehorn <code>@SpringBootTest</code> into something it shouldn&#39;t be used for in the first place."}],"answers":[{"tags":[],"owner":{"account_id":1191179,"reputation":1,"user_id":1163931,"display_name":"jucosorin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685566038,"creation_date":1685566038,"answer_id":76377160,"question_id":75459160,"body_markdown":"Using the `@ContextConfiguration` annotation will not help when also using `@SpringBootTest`. `@SpringBootTest`&#39;s classpath scanning takes precedence and your custom `@ContextConfiguration` will not be processed. \r\n\r\nYou can use a `org.springframework.boot.test.context.filter.TypeExcludeFilter`. \r\n\r\nOn your `@SpringBootTest` annotated integration test add a `@TypeExcludeFilters(YourCustomTypeExcludeFilter.class)` annotation and it will use your implemented `TypeExcludeFilter` to filter out beans you don&#39;t want from the test&#39;s ApplicationContext. \r\n\r\n```lang-java\r\n\r\n@SpringBootTest\r\n@TypeExcludeFilters(YourCustomTypeExcludeFilter.class)\r\npublic class MyIntegraiontTest {\r\n\r\n    @Test\r\n    public void integrationTest() {\r\n        ...\r\n    }\r\n\r\n}\r\n```\r\n\r\nA simple `TypeExcludeFilter` that excludes beans by class name is the one below:\r\n\r\n```lang-java \r\npublic class YourCustomTypeExcludeFilter extends TypeExcludeFilter {\r\n\r\n  private static final List&lt;String&gt; beanNamesToExclude = List.of(\r\n      &quot;org.personal.MyRabbitMqListener&quot;);\r\n\r\n  @Override\r\n  public boolean equals(Object obj) {\r\n    return (obj != null) &amp;&amp; (getClass() == obj.getClass());\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return getClass().hashCode();\r\n  }\r\n\r\n  @Override\r\n  public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) {\r\n    return beanNamesToExclude.stream()\r\n        .anyMatch(beanName -&gt; metadataReader.getClassMetadata().getClassName().equals(beanName));\r\n  }\r\n}\r\n```\r\nSky&#39;s the limit on the logic you can use with the `match()` method. \r\nFor some more inspiration of what is possible just search for classes that extend `TypeExcludeFilter` in the Spring Boot source code (for instance look at `org.springframework.boot.test.context.filter.TestTypeExcludeFilter`, a filter that&#39;s used to exclude `@TestConfiguration` annotated classes)\r\n\r\n\r\n","title":"SpringBootTest loads unwanted beans which are not included in ContextConfiguration","body":"<p>Using the <code>@ContextConfiguration</code> annotation will not help when also using <code>@SpringBootTest</code>. <code>@SpringBootTest</code>'s classpath scanning takes precedence and your custom <code>@ContextConfiguration</code> will not be processed.</p>\n<p>You can use a <code>org.springframework.boot.test.context.filter.TypeExcludeFilter</code>.</p>\n<p>On your <code>@SpringBootTest</code> annotated integration test add a <code>@TypeExcludeFilters(YourCustomTypeExcludeFilter.class)</code> annotation and it will use your implemented <code>TypeExcludeFilter</code> to filter out beans you don't want from the test's ApplicationContext.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@SpringBootTest\n@TypeExcludeFilters(YourCustomTypeExcludeFilter.class)\npublic class MyIntegraiontTest {\n\n    @Test\n    public void integrationTest() {\n        ...\n    }\n\n}\n</code></pre>\n<p>A simple <code>TypeExcludeFilter</code> that excludes beans by class name is the one below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourCustomTypeExcludeFilter extends TypeExcludeFilter {\n\n  private static final List&lt;String&gt; beanNamesToExclude = List.of(\n      &quot;org.personal.MyRabbitMqListener&quot;);\n\n  @Override\n  public boolean equals(Object obj) {\n    return (obj != null) &amp;&amp; (getClass() == obj.getClass());\n  }\n\n  @Override\n  public int hashCode() {\n    return getClass().hashCode();\n  }\n\n  @Override\n  public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) {\n    return beanNamesToExclude.stream()\n        .anyMatch(beanName -&gt; metadataReader.getClassMetadata().getClassName().equals(beanName));\n  }\n}\n</code></pre>\n<p>Sky's the limit on the logic you can use with the <code>match()</code> method.\nFor some more inspiration of what is possible just search for classes that extend <code>TypeExcludeFilter</code> in the Spring Boot source code (for instance look at <code>org.springframework.boot.test.context.filter.TestTypeExcludeFilter</code>, a filter that's used to exclude <code>@TestConfiguration</code> annotated classes)</p>\n"}],"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685566038,"creation_date":1676460730,"question_id":75459160,"body_markdown":"I am writing a Spring Boot integration test. Here I want to exclude several beans. So I am trying to load only as many beans as are required for my tests. For that I am using `@COntextConfiguration` and specifying only those classes which I want. \r\n\r\nDespite of doing this I can see Spring Boot is still loading all other beans. Like for e.g it is loading `RetryTemplateConfig` which is present in a different package altogether. I used `@ComponentScan` to scan only current package and not the one in which RetryTemplateConfig lies. Still I get bean configuration errors. Below is my top section of my test class\r\n\r\n\r\n    @SpringBootTest\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @Import(BulkExceptionClosureTestConfig.class)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @TestPropertySource(locations = &quot;classpath:application-test.yml&quot;, properties = {&quot;INSTANCE_ID=1&quot;,&quot;spring.profiles.active=test&quot;,&quot;ENV=test&quot;})\r\n    @ContextConfiguration(classes = {BulkExceptionClosureApplication.class, ClosureRequestCsvFileProcessor.class,\r\n            MetadataFetcher.class, XmlProcessingService.class})\r\n    @ComponentScan(basePackages = &quot;com.barclays.exceptionclosure&quot;)\r\n    public class BulkExceptionClosureTest {\r\n\r\nAnd I get below error when starting this test.\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;retryTemplate&#39; defined in class path resource [com/xyz/validation/config/RetryTemplateConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException\r\n\r\nI have not included this class in my ContextConfiguration, still it gets loaded. Also `@ComponentScan` doesn&#39;t seem to work, as `RetryTemplateConfig` is in `com.xyz.validation` package. And my test class is in `com.xyz.exceptionclosure` package\r\n\r\nWhat can be done to definitely load only the required beans for my test? Please not I cannot add `@Profile(&quot;!test&quot;)` on classes which I don;t want in Spring Boot integration test. Those are from library I cannot modify.","title":"SpringBootTest loads unwanted beans which are not included in ContextConfiguration","body":"<p>I am writing a Spring Boot integration test. Here I want to exclude several beans. So I am trying to load only as many beans as are required for my tests. For that I am using <code>@COntextConfiguration</code> and specifying only those classes which I want.</p>\n<p>Despite of doing this I can see Spring Boot is still loading all other beans. Like for e.g it is loading <code>RetryTemplateConfig</code> which is present in a different package altogether. I used <code>@ComponentScan</code> to scan only current package and not the one in which RetryTemplateConfig lies. Still I get bean configuration errors. Below is my top section of my test class</p>\n<pre><code>@SpringBootTest\n@RunWith(SpringJUnit4ClassRunner.class)\n@Import(BulkExceptionClosureTestConfig.class)\n@ActiveProfiles(&quot;test&quot;)\n@TestPropertySource(locations = &quot;classpath:application-test.yml&quot;, properties = {&quot;INSTANCE_ID=1&quot;,&quot;spring.profiles.active=test&quot;,&quot;ENV=test&quot;})\n@ContextConfiguration(classes = {BulkExceptionClosureApplication.class, ClosureRequestCsvFileProcessor.class,\n        MetadataFetcher.class, XmlProcessingService.class})\n@ComponentScan(basePackages = &quot;com.barclays.exceptionclosure&quot;)\npublic class BulkExceptionClosureTest {\n</code></pre>\n<p>And I get below error when starting this test.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'retryTemplate' defined in class path resource [com/xyz/validation/config/RetryTemplateConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException\n</code></pre>\n<p>I have not included this class in my ContextConfiguration, still it gets loaded. Also <code>@ComponentScan</code> doesn't seem to work, as <code>RetryTemplateConfig</code> is in <code>com.xyz.validation</code> package. And my test class is in <code>com.xyz.exceptionclosure</code> package</p>\n<p>What can be done to definitely load only the required beans for my test? Please not I cannot add <code>@Profile(&quot;!test&quot;)</code> on classes which I don;t want in Spring Boot integration test. Those are from library I cannot modify.</p>\n"},{"tags":["java","eclipse","builder"],"comments":[{"owner":{"account_id":5700484,"reputation":402,"user_id":4505616,"accept_rate":79,"display_name":"Albert Pinto"},"score":1,"creation_date":1444344204,"post_id":33027081,"comment_id":53876560,"body_markdown":"Check your eclipse workspace folder you will be able to see .project file there","body":"Check your eclipse workspace folder you will be able to see .project file there"},{"owner":{"account_id":124545,"reputation":105,"user_id":2449206,"display_name":"sbarber2"},"score":1,"creation_date":1444344270,"post_id":33027081,"comment_id":53876586,"body_markdown":"You might want to clarify why you think you want to add a builder by editing the .project file. There&#39;s more to converting a project to a Java project than adding a builder, if that&#39;s what you are trying to do.","body":"You might want to clarify why you think you want to add a builder by editing the .project file. There&#39;s more to converting a project to a Java project than adding a builder, if that&#39;s what you are trying to do."}],"answers":[{"tags":[],"owner":{"account_id":124545,"reputation":105,"user_id":2449206,"display_name":"sbarber2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444344179,"creation_date":1444344179,"answer_id":33027137,"question_id":33027081,"body_markdown":"In Eclipse, the .project file is kept in the root directory of your project, which is in your workspace. It&#39;s easy to see if you do a directory listing in your underlying filesystem. If you want to find out where your workspace is, find it by looking at the project in the Package Explorer. right-click &gt; Properties &gt; Resource &gt; Location.\r\n\r\nIt might be better to use Eclipse itself to add a builder to your project, for example, using the Package Explorer - project right-click &gt; Properties &gt; Builders feature.\r\n","title":"Adding Java builder to .project file in Eclipse","body":"<p>In Eclipse, the .project file is kept in the root directory of your project, which is in your workspace. It's easy to see if you do a directory listing in your underlying filesystem. If you want to find out where your workspace is, find it by looking at the project in the Package Explorer. right-click > Properties > Resource > Location.</p>\n\n<p>It might be better to use Eclipse itself to add a builder to your project, for example, using the Package Explorer - project right-click > Properties > Builders feature.</p>\n"},{"tags":[],"owner":{"account_id":4435037,"reputation":985,"user_id":3611104,"display_name":"Ankit Marothi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544284052,"creation_date":1544284052,"answer_id":53684160,"question_id":33027081,"body_markdown":"Convert the project into a faceted project. This generally happens when you import a project from git and the project is not a java project. \r\n\r\nSteps: \r\n\r\n 1. Right Click -&gt; Properties -&gt; Project Facets \r\n 2. Click on convert project into a faceted project \r\n 3. Select the builder as java builder. ","title":"Adding Java builder to .project file in Eclipse","body":"<p>Convert the project into a faceted project. This generally happens when you import a project from git and the project is not a java project. </p>\n\n<p>Steps: </p>\n\n<ol>\n<li>Right Click -> Properties -> Project Facets </li>\n<li>Click on convert project into a faceted project </li>\n<li>Select the builder as java builder. </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28713681,"reputation":1,"user_id":21988718,"display_name":"Daniel Caffrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685565980,"creation_date":1685479039,"answer_id":76368458,"question_id":33027081,"body_markdown":"Ankit&#39;s instructions work for me. \r\n\r\nThe Menu name has changed from &#39;Project Facets&#39; to &#39;Project Natures&#39; and you now click &#39;Add&#39; -&gt;  &#39;Java builder&#39;. There are various warning about using this so called advanced operation that you need to acknowledge. \r\n\r\nOnce you have done the above, you will probably need to change the settings in Java Build Path so the &#39;src&#39; path and libraries are set correctly.","title":"Adding Java builder to .project file in Eclipse","body":"<p>Ankit's instructions work for me.</p>\n<p>The Menu name has changed from 'Project Facets' to 'Project Natures' and you now click 'Add' -&gt;  'Java builder'. There are various warning about using this so called advanced operation that you need to acknowledge.</p>\n<p>Once you have done the above, you will probably need to change the settings in Java Build Path so the 'src' path and libraries are set correctly.</p>\n"}],"owner":{"account_id":5778354,"reputation":23,"user_id":4559797,"display_name":"NQuant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1685565980,"creation_date":1444343837,"question_id":33027081,"body_markdown":"I need to add a Java builder to mt .project file in Eclipse. However, there is no such file in my project folder. I don&#39;t know where this file is, maybe you can help me out?","title":"Adding Java builder to .project file in Eclipse","body":"<p>I need to add a Java builder to mt .project file in Eclipse. However, there is no such file in my project folder. I don't know where this file is, maybe you can help me out?</p>\n"},{"tags":["java","c#"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685564549,"post_id":76376971,"comment_id":134679715,"body_markdown":"Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example) including building instructions.","body":"Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> including building instructions."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685564955,"post_id":76376971,"comment_id":134679786,"body_markdown":"And how do you build and execute it? I see IKVM mentioned in the stacktrace. How are you using it? Is the error happening at execution time or compile time?","body":"And how do you build and execute it? I see IKVM mentioned in the stacktrace. How are you using it? Is the error happening at execution time or compile time?"},{"owner":{"account_id":28683239,"reputation":3,"user_id":21963985,"display_name":"Circuit_Master"},"score":0,"creation_date":1685565131,"post_id":76376971,"comment_id":134679816,"body_markdown":"@aled the program will execute normally up until it is required to do any math with the ```BigDecimal``` I am relatively new at C# so forgive me for any ridiculous errors.","body":"@aled the program will execute normally up until it is required to do any math with the <code>BigDecimal</code> I am relatively new at C# so forgive me for any ridiculous errors."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685565852,"creation_date":1685565852,"answer_id":76377142,"question_id":76376971,"body_markdown":"Mixing languages is a bad idea if you are not proficient with both. You seem to be using IKVM to be able to use Java classes. Such an approach may work but also you may hit limitations. It is better to use a native library for your language. See this answer for suggestions of alternatives: https://stackoverflow.com/questions/2863388/what-is-the-equivalent-of-the-java-bigdecimal-class-in-c","title":"How do I prevent VS from throwing a plethora of errors and exceptions when using java.math.BigDecimal in C#?","body":"<p>Mixing languages is a bad idea if you are not proficient with both. You seem to be using IKVM to be able to use Java classes. Such an approach may work but also you may hit limitations. It is better to use a native library for your language. See this answer for suggestions of alternatives: <a href=\"https://stackoverflow.com/questions/2863388/what-is-the-equivalent-of-the-java-bigdecimal-class-in-c\">What is the equivalent of the Java BigDecimal class in C#?</a></p>\n"}],"owner":{"account_id":28683239,"reputation":3,"user_id":21963985,"display_name":"Circuit_Master"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685565852,"creation_date":1685564181,"question_id":76376971,"body_markdown":"Using java.math.BigDecimal in VS throws a plethora of errors and exceptions. here is the code:\r\n```\r\nusing java.math;\r\nusing System.Globalization;\r\nusing System.Numerics;\r\n\r\n\r\nnamespace single_num_fib_solver\r\n{\r\n    internal class Program\r\n    {\r\n        \r\n        static void Main(string[] args)\r\n        {\r\n            // getting the number they want to solve for.\r\n            Console.WriteLine(&quot;Please input the Fibanachi number you wat to solve for, then press enter.&quot;);\r\n            int.TryParse(Console.ReadLine(), out var solvenumber);\r\n            solvenumber--;\r\n            // using Binet’s Formula to solve for the number.\r\n            BigDecimal sqrt = new BigDecimal(Math.Sqrt(5));\r\n            BigDecimal TWO = new BigDecimal(2);\r\n            BigDecimal num1 = sqrt.add(BigDecimal.ONE).divide(TWO);\r\n            BigDecimal num2 = BigDecimal.ONE.subtract(sqrt).divide(TWO);\r\n            BigDecimal num3 = num1.pow(solvenumber);\r\n            BigDecimal num4 = num2.pow (solvenumber);\r\n            BigDecimal num5 = num3.subtract(num4).divide(sqrt); \r\n            // outputting the nuber that was solved for. \r\n            Console.WriteLine(num5);\r\n\r\n        }        \r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI have tried using BigIntegers and the code didn&#39;t throw all the exceptions, but the rounding of the numbers didn&#39;t allow for the acuity required for the formula. \r\n\r\nhere are the errors it outputs: \r\n\r\n```\r\nUnhandled exception. System.TypeInitializationException: The type initializer for &#39;java.math.BigDecimal&#39; threw an exception.\r\n ---&gt; System.TypeInitializationException: The type initializer for &#39;1&#39; threw an exception.\r\n ---&gt; System.TypeInitializationException: The type initializer for &#39;java.lang.ThreadLocal&#39; threw an exception.\r\n ---&gt; System.TypeInitializationException: The type initializer for &#39;java.util.concurrent.atomic.AtomicInteger&#39; threw an exception.\r\n ---&gt; System.TypeInitializationException: The type initializer for &#39;sun.misc.VM&#39; threw an exception.\r\n ---&gt; System.TypeInitializationException: The type initializer for &#39;java.nio.charset.Charset&#39; threw an exception.\r\n ---&gt; System.NullReferenceException: Object reference not set to an instance of an object.\r\n   at java.lang.ThreadLocal.nextHashCode()\r\n   at java.lang.ThreadLocal..ctor()\r\n   at ikvm.internal.IntrinsicThreadLocal..ctor()\r\n   at java.nio.charset.Charset.__&lt;tls&gt;_0..ctor()\r\n   at java.nio.charset.Charset..cctor()\r\n   --- End of inner exception stack trace ---\r\n   at java.nio.charset.Charset.forName(String charsetName)\r\n   at java.io.PrintStream.toCharset(String csn)\r\n   at java.io.PrintStream..ctor(OutputStream out, Boolean autoFlush, String encoding)\r\n   at java.lang.System.newPrintStream(FileOutputStream fos, String enc)\r\n   at java.lang.System.initializeSystemClass()\r\n   at __&lt;MethodAccessor&gt;__System__initializeSystemClass()\r\n   at IKVM.Runtime.Accessors.Java.Lang.SystemAccessor.InvokeInitializeSystemClass()\r\n   at IKVM.Runtime.JVM.EnsureInitialized()\r\n   at IKVM.Java.Externs.sun.misc.VM.initialize()\r\n   at sun.misc.VM.initialize()\r\n   at sun.misc.VM..cctor()\r\n   --- End of inner exception stack trace ---\r\n   at sun.misc.VM.isSystemDomainLoader(ClassLoader loader)\r\n   at sun.misc.Unsafe.getUnsafe(CallerID )\r\n   at java.util.concurrent.atomic.AtomicInteger..cctor()\r\n   --- End of inner exception stack trace ---\r\n   at java.util.concurrent.atomic.AtomicInteger..ctor()\r\n   at java.lang.ThreadLocal..cctor()\r\n   --- End of inner exception stack trace ---\r\n   at java.lang.ThreadLocal.__&lt;clinit&gt;()\r\n   at java.math.BigDecimal.1..cctor()\r\n   --- End of inner exception stack trace ---\r\n   at java.math.BigDecimal.1..ctor()\r\n   at java.math.BigDecimal..cctor()\r\n   --- End of inner exception stack trace ---\r\n   at java.math.BigDecimal..ctor(Double val)\r\n   at single_num_fib_solver.Program.Main(String[] args) in C:\\Users |hidden path| Program.cs:line 18\r\n```\r\n\r\nHere is the minimum code required to recreate the issue:\r\n```\r\nusing java.math;\r\nusing System.Globalization;\r\nusing System.Numerics;\r\n\r\n\r\nnamespace single_num_fib_solver\r\n{\r\n    internal class Program\r\n    {\r\n\r\n        static void Main(string[] args)\r\n        {\r\n            BigDecimal test = new BigDecimal(5);\r\n        }\r\n    }\r\n}\r\n```","title":"How do I prevent VS from throwing a plethora of errors and exceptions when using java.math.BigDecimal in C#?","body":"<p>Using java.math.BigDecimal in VS throws a plethora of errors and exceptions. here is the code:</p>\n<pre><code>using java.math;\nusing System.Globalization;\nusing System.Numerics;\n\n\nnamespace single_num_fib_solver\n{\n    internal class Program\n    {\n        \n        static void Main(string[] args)\n        {\n            // getting the number they want to solve for.\n            Console.WriteLine(&quot;Please input the Fibanachi number you wat to solve for, then press enter.&quot;);\n            int.TryParse(Console.ReadLine(), out var solvenumber);\n            solvenumber--;\n            // using Binet’s Formula to solve for the number.\n            BigDecimal sqrt = new BigDecimal(Math.Sqrt(5));\n            BigDecimal TWO = new BigDecimal(2);\n            BigDecimal num1 = sqrt.add(BigDecimal.ONE).divide(TWO);\n            BigDecimal num2 = BigDecimal.ONE.subtract(sqrt).divide(TWO);\n            BigDecimal num3 = num1.pow(solvenumber);\n            BigDecimal num4 = num2.pow (solvenumber);\n            BigDecimal num5 = num3.subtract(num4).divide(sqrt); \n            // outputting the nuber that was solved for. \n            Console.WriteLine(num5);\n\n        }        \n    }\n}\n</code></pre>\n<p>I have tried using BigIntegers and the code didn't throw all the exceptions, but the rounding of the numbers didn't allow for the acuity required for the formula.</p>\n<p>here are the errors it outputs:</p>\n<pre><code>Unhandled exception. System.TypeInitializationException: The type initializer for 'java.math.BigDecimal' threw an exception.\n ---&gt; System.TypeInitializationException: The type initializer for '1' threw an exception.\n ---&gt; System.TypeInitializationException: The type initializer for 'java.lang.ThreadLocal' threw an exception.\n ---&gt; System.TypeInitializationException: The type initializer for 'java.util.concurrent.atomic.AtomicInteger' threw an exception.\n ---&gt; System.TypeInitializationException: The type initializer for 'sun.misc.VM' threw an exception.\n ---&gt; System.TypeInitializationException: The type initializer for 'java.nio.charset.Charset' threw an exception.\n ---&gt; System.NullReferenceException: Object reference not set to an instance of an object.\n   at java.lang.ThreadLocal.nextHashCode()\n   at java.lang.ThreadLocal..ctor()\n   at ikvm.internal.IntrinsicThreadLocal..ctor()\n   at java.nio.charset.Charset.__&lt;tls&gt;_0..ctor()\n   at java.nio.charset.Charset..cctor()\n   --- End of inner exception stack trace ---\n   at java.nio.charset.Charset.forName(String charsetName)\n   at java.io.PrintStream.toCharset(String csn)\n   at java.io.PrintStream..ctor(OutputStream out, Boolean autoFlush, String encoding)\n   at java.lang.System.newPrintStream(FileOutputStream fos, String enc)\n   at java.lang.System.initializeSystemClass()\n   at __&lt;MethodAccessor&gt;__System__initializeSystemClass()\n   at IKVM.Runtime.Accessors.Java.Lang.SystemAccessor.InvokeInitializeSystemClass()\n   at IKVM.Runtime.JVM.EnsureInitialized()\n   at IKVM.Java.Externs.sun.misc.VM.initialize()\n   at sun.misc.VM.initialize()\n   at sun.misc.VM..cctor()\n   --- End of inner exception stack trace ---\n   at sun.misc.VM.isSystemDomainLoader(ClassLoader loader)\n   at sun.misc.Unsafe.getUnsafe(CallerID )\n   at java.util.concurrent.atomic.AtomicInteger..cctor()\n   --- End of inner exception stack trace ---\n   at java.util.concurrent.atomic.AtomicInteger..ctor()\n   at java.lang.ThreadLocal..cctor()\n   --- End of inner exception stack trace ---\n   at java.lang.ThreadLocal.__&lt;clinit&gt;()\n   at java.math.BigDecimal.1..cctor()\n   --- End of inner exception stack trace ---\n   at java.math.BigDecimal.1..ctor()\n   at java.math.BigDecimal..cctor()\n   --- End of inner exception stack trace ---\n   at java.math.BigDecimal..ctor(Double val)\n   at single_num_fib_solver.Program.Main(String[] args) in C:\\Users |hidden path| Program.cs:line 18\n</code></pre>\n<p>Here is the minimum code required to recreate the issue:</p>\n<pre><code>using java.math;\nusing System.Globalization;\nusing System.Numerics;\n\n\nnamespace single_num_fib_solver\n{\n    internal class Program\n    {\n\n        static void Main(string[] args)\n        {\n            BigDecimal test = new BigDecimal(5);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":19793538,"reputation":300,"user_id":14496012,"display_name":"centrumek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685565804,"creation_date":1685565463,"answer_id":76377105,"question_id":76372465,"body_markdown":"Spring Cloud AWS `2.x.` is incompatible with Spring Boot `3.x`. You have to also migrate AWS dependencies to `3.x` to make it work. Here is the information: https://github.com/awspring/spring-cloud-aws/releases/tag/v3.0.0\r\n\r\nCheck the migration guide: https://docs.awspring.io/spring-cloud-aws/docs/3.0.1/reference/html/index.html#migration-from-2-x-to-3-x","title":"SQS Listener not working after upgrading to java 17 &amp; spring 3.1.0","body":"<p>Spring Cloud AWS <code>2.x.</code> is incompatible with Spring Boot <code>3.x</code>. You have to also migrate AWS dependencies to <code>3.x</code> to make it work. Here is the information: <a href=\"https://github.com/awspring/spring-cloud-aws/releases/tag/v3.0.0\" rel=\"nofollow noreferrer\">https://github.com/awspring/spring-cloud-aws/releases/tag/v3.0.0</a></p>\n<p>Check the migration guide: <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.1/reference/html/index.html#migration-from-2-x-to-3-x\" rel=\"nofollow noreferrer\">https://docs.awspring.io/spring-cloud-aws/docs/3.0.1/reference/html/index.html#migration-from-2-x-to-3-x</a></p>\n"}],"owner":{"account_id":28718117,"reputation":11,"user_id":21992330,"display_name":"ps9557"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685565804,"creation_date":1685528447,"question_id":76372465,"body_markdown":"SQS Listener not working after upgrading to  java 17 &amp; spring 3.1.0. It was working fine with java 11 &amp; spring 2.5.2\r\n\r\n 1st error we encountered was: AmazonSQS bean was not found.\r\n   Error : Field amazonSQS in com.pchf.notification.accessors.SQSAccessor required a bean of type   &#39;com.amazonaws.services.sqs.AmazonSQS&#39; that could not be found.\r\n \r\n   Solution : We manually created Bean for Amazon SQS via Configuration (Earlier it was not required with java 11)\r\n \r\n   Conclusion : No Errors while running the service\r\n \r\n \r\n2. 2nd Error / Current Situation : We are able to send Messages in SQS queue but SQS Listener is not working.\r\n   i.e. Message is not received in SQS Listener.\r\n \r\n \r\nService starting logs for reference:\r\n\r\n```\r\n12:07:13.964 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final trace_id= span_id=\r\n12:07:14.052 [main] INFO  c.p.notification.NotificationService - Starting NotificationService using Java 17.0.7 with PID 71845 (/Users/abhishekchahar/IdeaProjects/latest/new10/notification-service/target/classes started by abhishekchahar in /Users/abhishekchahar/IdeaProjects/latest/new10/notification-service) trace_id= span_id=\r\n12:07:14.055 [main] INFO  c.p.notification.NotificationService - No active profile set, falling back to 1 default profile: &quot;default&quot; trace_id= span_id=\r\n12:07:16.854 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode trace_id= span_id=\r\n12:07:16.857 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode. trace_id= span_id=\r\n12:07:17.063 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 200 ms. Found 2 MongoDB repository interfaces. trace_id= span_id=\r\n12:07:17.104 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode trace_id= span_id=\r\n12:07:17.106 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode. trace_id= span_id=\r\n12:07:17.129 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.pchf.notification.repository.DLTTemplateRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository trace_id= span_id=\r\n12:07:17.129 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.pchf.notification.repository.SMSCommunicationRepo; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository trace_id= span_id=\r\n12:07:17.130 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces. trace_id= span_id=\r\n12:07:17.660 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=4ca4e4fd-d534-34a2-b950-b3840b82ecee trace_id= span_id=\r\n12:07:17.764 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean &#39;com.pchf.notification.clients.DocumentGenerationServiceClient&#39; of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) trace_id= span_id=\r\n12:07:17.767 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean &#39;com.pchf.client.fcs.client.FcsClient&#39; of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) trace_id= span_id=\r\n12:07:18.929 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8002 (http) trace_id= span_id=\r\n12:07:18.943 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler [&quot;http-nio-8002&quot;] trace_id= span_id=\r\n12:07:18.944 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] trace_id= span_id=\r\n12:07:18.945 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8] trace_id= span_id=\r\n12:07:19.107 [main] INFO  o.a.c.c.C.[.[.[/api/v1/notification] - Initializing Spring embedded WebApplicationContext trace_id= span_id=\r\n12:07:19.112 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4954 ms trace_id= span_id=\r\n12:07:21.425 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.9.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Darwin&quot;, &quot;name&quot;: &quot;Mac OS X&quot;, &quot;architecture&quot;: &quot;x86_64&quot;, &quot;version&quot;: &quot;13.3.1&quot;}, &quot;platform&quot;: &quot;Java/Amazon.com Inc./17.0.7+7-LTS&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName=&#39;prf_intengg_mongo_dev_common_user&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@67167f8f], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@1e5190bd, com.mongodb.Jep395RecordCodecProvider@733345f5]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=piramal-mongo-dev-cluster-pl-0.fh5op.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName=&#39;atlas-x30zfr-shard-0&#39;, serverSelector=&#39;null&#39;, clusterListeners=&#39;[]&#39;, serverSelectionTimeout=&#39;30000 ms&#39;, localThreshold=&#39;30000 ms&#39;}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@5add7380], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners=&#39;[]&#39;, serverMonitorListeners=&#39;[]&#39;}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName=&#39;null&#39;, compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null} trace_id= span_id=\r\n12:07:21.868 [main] INFO  org.mongodb.driver.cluster - Cluster description not yet available. Waiting for 30000 ms before timing out trace_id= span_id=\r\n12:07:22.500 [cluster-ClusterId{value=&#39;6476eb21570f6b2348e7b308&#39;, description=&#39;null&#39;}-srv-piramal-mongo-dev-cluster-pl-0.fh5op.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server pl-0-ap-south-1.fh5op.mongodb.net:1027 to client view of cluster trace_id= span_id=\r\n12:07:22.527 [cluster-ClusterId{value=&#39;6476eb21570f6b2348e7b308&#39;, description=&#39;null&#39;}-srv-piramal-mongo-dev-cluster-pl-0.fh5op.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server pl-0-ap-south-1.fh5op.mongodb.net:1029 to client view of cluster trace_id= span_id=\r\n12:07:22.532 [cluster-ClusterId{value=&#39;6476eb21570f6b2348e7b308&#39;, description=&#39;null&#39;}-srv-piramal-mongo-dev-cluster-pl-0.fh5op.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server pl-0-ap-south-1.fh5op.mongodb.net:1028 to client view of cluster trace_id= span_id=\r\n12:07:22.537 [main] INFO  org.mongodb.driver.cluster - No server chosen by com.mongodb.client.internal.MongoClientDelegate$$Lambda$1250/0x00000008017d5378@434a2a10 from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=pl-0-ap-south-1.fh5op.mongodb.net:1027, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=pl-0-ap-south-1.fh5op.mongodb.net:1029, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=pl-0-ap-south-1.fh5op.mongodb.net:1028, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out trace_id= span_id=\r\n12:07:23.465 [cluster-ClusterId{value=&#39;6476eb21570f6b2348e7b308&#39;, description=&#39;null&#39;}-pl-0-ap-south-1.fh5op.mongodb.net:1027] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=pl-0-ap-south-1.fh5op.mongodb.net:1027, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=800810041, setName=&#39;atlas-x30zfr-shard-0&#39;, canonicalAddress=pl-0-ap-south-1.fh5op.mongodb.net:1027, hosts=[pl-0-ap-south-1.fh5op.mongodb.net:1027, pl-0-ap-south-1.fh5op.mongodb.net:1028, pl-0-ap-south-1.fh5op.mongodb.net:1029], passives=[], arbiters=[], primary=&#39;pl-0-ap-south-1.fh5op.mongodb.net:1029&#39;, tagSet=TagSet{[Tag{name=&#39;nodeType&#39;, value=&#39;ELECTABLE&#39;}, Tag{name=&#39;provider&#39;, value=&#39;AWS&#39;}, Tag{name=&#39;region&#39;, value=&#39;AP_SOUTH_1&#39;}, Tag{name=&#39;workloadType&#39;, value=&#39;OPERATIONAL&#39;}]}, electionId=null, setVersion=4, topologyVersion=TopologyVersion{processId=6470caa678e15e46058920a2, counter=4}, lastWriteDate=Wed May 31 12:07:21 IST 2023, lastUpdateTimeNanos=304578047529375} trace_id= span_id=\r\n12:07:23.465 [cluster-ClusterId{value=&#39;6476eb21570f6b2348e7b308&#39;, description=&#39;null&#39;}-pl-0-ap-south-1.fh5op.mongodb.net:1028] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=pl-0-ap-south-1.fh5op.mongodb.net:1028, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=805697542, setName=&#39;atlas-x30zfr-shard-0&#39;, canonicalAddress=pl-0-ap-south-1.fh5op.mongodb.net:1028, hosts=[pl-0-ap-south-1.fh5op.mongodb.net:1027, pl-0-ap-south-1.fh5op.mongodb.net:1028, pl-0-ap-south-1.fh5op.mongodb.net:1029], passives=[], arbiters=[], primary=&#39;pl-0-ap-south-1.fh5op.mongodb.net:1029&#39;, tagSet=TagSet{[Tag{name=&#39;nodeType&#39;, value=&#39;ELECTABLE&#39;}, Tag{name=&#39;provider&#39;, value=&#39;AWS&#39;}, Tag{name=&#39;region&#39;, value=&#39;AP_SOUTH_1&#39;}, Tag{name=&#39;workloadType&#39;, value=&#39;OPERATIONAL&#39;}]}, electionId=null, setVersion=4, topologyVersion=TopologyVersion{processId=6470cbfbffbbb55d0f0378be, counter=3}, lastWriteDate=Wed May 31 12:07:21 IST 2023, lastUpdateTimeNanos=304578049978375} trace_id= span_id=\r\n12:07:23.465 [cluster-ClusterId{value=&#39;6476eb21570f6b2348e7b308&#39;, description=&#39;null&#39;}-pl-0-ap-south-1.fh5op.mongodb.net:1029] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=pl-0-ap-south-1.fh5op.mongodb.net:1029, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=803997750, setName=&#39;atlas-x30zfr-shard-0&#39;, canonicalAddress=pl-0-ap-south-1.fh5op.mongodb.net:1029, hosts=[pl-0-ap-south-1.fh5op.mongodb.net:1027, pl-0-ap-south-1.fh5op.mongodb.net:1028, pl-0-ap-south-1.fh5op.mongodb.net:1029], passives=[], arbiters=[], primary=&#39;pl-0-ap-south-1.fh5op.mongodb.net:1029&#39;, tagSet=TagSet{[Tag{name=&#39;nodeType&#39;, value=&#39;ELECTABLE&#39;}, Tag{name=&#39;provider&#39;, value=&#39;AWS&#39;}, Tag{name=&#39;region&#39;, value=&#39;AP_SOUTH_1&#39;}, Tag{name=&#39;workloadType&#39;, value=&#39;OPERATIONAL&#39;}]}, electionId=7fffffff00000000000000b5, setVersion=4, topologyVersion=TopologyVersion{processId=6470cb4278cd03cfafce95f8, counter=6}, lastWriteDate=Wed May 31 12:07:21 IST 2023, lastUpdateTimeNanos=304578050238209} trace_id= span_id=\r\n12:07:23.491 [cluster-ClusterId{value=&#39;6476eb21570f6b2348e7b308&#39;, description=&#39;null&#39;}-pl-0-ap-south-1.fh5op.mongodb.net:1029] INFO  org.mongodb.driver.cluster - Discovered replica set primary pl-0-ap-south-1.fh5op.mongodb.net:1029 with max election id 7fffffff00000000000000b5 and max set version 4 trace_id= span_id=\r\n12:07:25.132 [main] INFO  c.p.n.e.h.DefaultExceptionHandler - DefaultExceptionHandler created trace_id= span_id=\r\n12:07:25.194 [main] INFO  c.p.n.e.h.PinpointExceptionHandler - PinpointExceptionHandler created trace_id= span_id=\r\n12:07:25.198 [main] INFO  c.p.n.e.h.ServiceExceptionHandler - ServiceExceptionHandler created trace_id= span_id=\r\n12:07:26.458 [main] INFO  c.p.n.configs.JedisPoolConfiguration - redisHostName - redis-master-dev.pchf.in, redisPort - 6379 trace_id= span_id=\r\n12:07:27.236 [main] WARN  i.a.c.a.c.CredentialsProviderAutoConfiguration - Skipping creating `StsCredentialsProvider`. `software.amazon.awssdk:sts` is on the classpath, but neither `spring.cloud.aws.credentials.sts` properties are configured nor `AWS_WEB_IDENTITY_TOKEN_FILE` or the javaproperty `aws.webIdentityTokenFile` is set trace_id= span_id=\r\n12:07:28.362 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path &#39;/actuator&#39; trace_id= span_id=\r\n12:07:28.455 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [&quot;http-nio-8002&quot;] trace_id= span_id=\r\n12:07:28.467 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8002 (http) with context path &#39;/api/v1/notification&#39; trace_id= span_id=\r\n12:07:28.497 [main] INFO  c.p.notification.NotificationService - Started NotificationService in 15.393 seconds (process running for 16.25) trace_id= span_id=\r\n12:07:28.509 [main] INFO  c.p.notification.NotificationService - Notification Service Started!! trace_id= span_id=\r\n\r\n```\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sqs&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sts&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-aws-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-cloud-aws-starter-sqs&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-cloud-starter-aws-messaging&lt;/artifactId&gt;\r\n         &lt;version&gt;2.4.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;software.amazon.msk&lt;/groupId&gt;\r\n         &lt;artifactId&gt;aws-msk-iam-auth&lt;/artifactId&gt;\r\n         &lt;version&gt;1.1.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n         &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n         &lt;version&gt;2.20.74&lt;/version&gt;\r\n         &lt;type&gt;pom&lt;/type&gt;\r\n         &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n \r\nPlease help with any suggestions or debugging steps.","title":"SQS Listener not working after upgrading to java 17 &amp; spring 3.1.0","body":"<p>SQS Listener not working after upgrading to  java 17 &amp; spring 3.1.0. It was working fine with java 11 &amp; spring 2.5.2</p>\n<p>1st error we encountered was: AmazonSQS bean was not found.\nError : Field amazonSQS in com.pchf.notification.accessors.SQSAccessor required a bean of type   'com.amazonaws.services.sqs.AmazonSQS' that could not be found.</p>\n<p>Solution : We manually created Bean for Amazon SQS via Configuration (Earlier it was not required with java 11)</p>\n<p>Conclusion : No Errors while running the service</p>\n<ol start=\"2\">\n<li>2nd Error / Current Situation : We are able to send Messages in SQS queue but SQS Listener is not working.\ni.e. Message is not received in SQS Listener.</li>\n</ol>\n<p>Service starting logs for reference:</p>\n<pre><code>12:07:13.964 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final trace_id= span_id=\n12:07:14.052 [main] INFO  c.p.notification.NotificationService - Starting NotificationService using Java 17.0.7 with PID 71845 (/Users/abhishekchahar/IdeaProjects/latest/new10/notification-service/target/classes started by abhishekchahar in /Users/abhishekchahar/IdeaProjects/latest/new10/notification-service) trace_id= span_id=\n12:07:14.055 [main] INFO  c.p.notification.NotificationService - No active profile set, falling back to 1 default profile: &quot;default&quot; trace_id= span_id=\n12:07:16.854 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode trace_id= span_id=\n12:07:16.857 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode. trace_id= span_id=\n12:07:17.063 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 200 ms. Found 2 MongoDB repository interfaces. trace_id= span_id=\n12:07:17.104 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode trace_id= span_id=\n12:07:17.106 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode. trace_id= span_id=\n12:07:17.129 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.pchf.notification.repository.DLTTemplateRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository trace_id= span_id=\n12:07:17.129 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.pchf.notification.repository.SMSCommunicationRepo; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository trace_id= span_id=\n12:07:17.130 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces. trace_id= span_id=\n12:07:17.660 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=4ca4e4fd-d534-34a2-b950-b3840b82ecee trace_id= span_id=\n12:07:17.764 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.pchf.notification.clients.DocumentGenerationServiceClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) trace_id= span_id=\n12:07:17.767 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'com.pchf.client.fcs.client.FcsClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying) trace_id= span_id=\n12:07:18.929 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8002 (http) trace_id= span_id=\n12:07:18.943 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler [&quot;http-nio-8002&quot;] trace_id= span_id=\n12:07:18.944 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat] trace_id= span_id=\n12:07:18.945 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8] trace_id= span_id=\n12:07:19.107 [main] INFO  o.a.c.c.C.[.[.[/api/v1/notification] - Initializing Spring embedded WebApplicationContext trace_id= span_id=\n12:07:19.112 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4954 ms trace_id= span_id=\n12:07:21.425 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.9.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Darwin&quot;, &quot;name&quot;: &quot;Mac OS X&quot;, &quot;architecture&quot;: &quot;x86_64&quot;, &quot;version&quot;: &quot;13.3.1&quot;}, &quot;platform&quot;: &quot;Java/Amazon.com Inc./17.0.7+7-LTS&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='prf_intengg_mongo_dev_common_user', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@67167f8f], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@1e5190bd, com.mongodb.Jep395RecordCodecProvider@733345f5]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=piramal-mongo-dev-cluster-pl-0.fh5op.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-x30zfr-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@5add7380], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null} trace_id= span_id=\n12:07:21.868 [main] INFO  org.mongodb.driver.cluster - Cluster description not yet available. Waiting for 30000 ms before timing out trace_id= span_id=\n12:07:22.500 [cluster-ClusterId{value='6476eb21570f6b2348e7b308', description='null'}-srv-piramal-mongo-dev-cluster-pl-0.fh5op.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server pl-0-ap-south-1.fh5op.mongodb.net:1027 to client view of cluster trace_id= span_id=\n12:07:22.527 [cluster-ClusterId{value='6476eb21570f6b2348e7b308', description='null'}-srv-piramal-mongo-dev-cluster-pl-0.fh5op.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server pl-0-ap-south-1.fh5op.mongodb.net:1029 to client view of cluster trace_id= span_id=\n12:07:22.532 [cluster-ClusterId{value='6476eb21570f6b2348e7b308', description='null'}-srv-piramal-mongo-dev-cluster-pl-0.fh5op.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server pl-0-ap-south-1.fh5op.mongodb.net:1028 to client view of cluster trace_id= span_id=\n12:07:22.537 [main] INFO  org.mongodb.driver.cluster - No server chosen by com.mongodb.client.internal.MongoClientDelegate$$Lambda$1250/0x00000008017d5378@434a2a10 from cluster description ClusterDescription{type=REPLICA_SET, connectionMode=MULTIPLE, serverDescriptions=[ServerDescription{address=pl-0-ap-south-1.fh5op.mongodb.net:1027, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=pl-0-ap-south-1.fh5op.mongodb.net:1029, type=UNKNOWN, state=CONNECTING}, ServerDescription{address=pl-0-ap-south-1.fh5op.mongodb.net:1028, type=UNKNOWN, state=CONNECTING}]}. Waiting for 30000 ms before timing out trace_id= span_id=\n12:07:23.465 [cluster-ClusterId{value='6476eb21570f6b2348e7b308', description='null'}-pl-0-ap-south-1.fh5op.mongodb.net:1027] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=pl-0-ap-south-1.fh5op.mongodb.net:1027, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=800810041, setName='atlas-x30zfr-shard-0', canonicalAddress=pl-0-ap-south-1.fh5op.mongodb.net:1027, hosts=[pl-0-ap-south-1.fh5op.mongodb.net:1027, pl-0-ap-south-1.fh5op.mongodb.net:1028, pl-0-ap-south-1.fh5op.mongodb.net:1029], passives=[], arbiters=[], primary='pl-0-ap-south-1.fh5op.mongodb.net:1029', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=4, topologyVersion=TopologyVersion{processId=6470caa678e15e46058920a2, counter=4}, lastWriteDate=Wed May 31 12:07:21 IST 2023, lastUpdateTimeNanos=304578047529375} trace_id= span_id=\n12:07:23.465 [cluster-ClusterId{value='6476eb21570f6b2348e7b308', description='null'}-pl-0-ap-south-1.fh5op.mongodb.net:1028] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=pl-0-ap-south-1.fh5op.mongodb.net:1028, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=805697542, setName='atlas-x30zfr-shard-0', canonicalAddress=pl-0-ap-south-1.fh5op.mongodb.net:1028, hosts=[pl-0-ap-south-1.fh5op.mongodb.net:1027, pl-0-ap-south-1.fh5op.mongodb.net:1028, pl-0-ap-south-1.fh5op.mongodb.net:1029], passives=[], arbiters=[], primary='pl-0-ap-south-1.fh5op.mongodb.net:1029', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=4, topologyVersion=TopologyVersion{processId=6470cbfbffbbb55d0f0378be, counter=3}, lastWriteDate=Wed May 31 12:07:21 IST 2023, lastUpdateTimeNanos=304578049978375} trace_id= span_id=\n12:07:23.465 [cluster-ClusterId{value='6476eb21570f6b2348e7b308', description='null'}-pl-0-ap-south-1.fh5op.mongodb.net:1029] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=pl-0-ap-south-1.fh5op.mongodb.net:1029, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=803997750, setName='atlas-x30zfr-shard-0', canonicalAddress=pl-0-ap-south-1.fh5op.mongodb.net:1029, hosts=[pl-0-ap-south-1.fh5op.mongodb.net:1027, pl-0-ap-south-1.fh5op.mongodb.net:1028, pl-0-ap-south-1.fh5op.mongodb.net:1029], passives=[], arbiters=[], primary='pl-0-ap-south-1.fh5op.mongodb.net:1029', tagSet=TagSet{[Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_SOUTH_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff00000000000000b5, setVersion=4, topologyVersion=TopologyVersion{processId=6470cb4278cd03cfafce95f8, counter=6}, lastWriteDate=Wed May 31 12:07:21 IST 2023, lastUpdateTimeNanos=304578050238209} trace_id= span_id=\n12:07:23.491 [cluster-ClusterId{value='6476eb21570f6b2348e7b308', description='null'}-pl-0-ap-south-1.fh5op.mongodb.net:1029] INFO  org.mongodb.driver.cluster - Discovered replica set primary pl-0-ap-south-1.fh5op.mongodb.net:1029 with max election id 7fffffff00000000000000b5 and max set version 4 trace_id= span_id=\n12:07:25.132 [main] INFO  c.p.n.e.h.DefaultExceptionHandler - DefaultExceptionHandler created trace_id= span_id=\n12:07:25.194 [main] INFO  c.p.n.e.h.PinpointExceptionHandler - PinpointExceptionHandler created trace_id= span_id=\n12:07:25.198 [main] INFO  c.p.n.e.h.ServiceExceptionHandler - ServiceExceptionHandler created trace_id= span_id=\n12:07:26.458 [main] INFO  c.p.n.configs.JedisPoolConfiguration - redisHostName - redis-master-dev.pchf.in, redisPort - 6379 trace_id= span_id=\n12:07:27.236 [main] WARN  i.a.c.a.c.CredentialsProviderAutoConfiguration - Skipping creating `StsCredentialsProvider`. `software.amazon.awssdk:sts` is on the classpath, but neither `spring.cloud.aws.credentials.sts` properties are configured nor `AWS_WEB_IDENTITY_TOKEN_FILE` or the javaproperty `aws.webIdentityTokenFile` is set trace_id= span_id=\n12:07:28.362 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator' trace_id= span_id=\n12:07:28.455 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [&quot;http-nio-8002&quot;] trace_id= span_id=\n12:07:28.467 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8002 (http) with context path '/api/v1/notification' trace_id= span_id=\n12:07:28.497 [main] INFO  c.p.notification.NotificationService - Started NotificationService in 15.393 seconds (process running for 16.25) trace_id= span_id=\n12:07:28.509 [main] INFO  c.p.notification.NotificationService - Notification Service Started!! trace_id= span_id=\n\n</code></pre>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;sqs&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;sts&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-aws-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n     &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-cloud-aws-starter-sqs&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n     &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-cloud-starter-aws-messaging&lt;/artifactId&gt;\n     &lt;version&gt;2.4.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n&lt;dependency&gt;\n     &lt;groupId&gt;software.amazon.msk&lt;/groupId&gt;\n     &lt;artifactId&gt;aws-msk-iam-auth&lt;/artifactId&gt;\n     &lt;version&gt;1.1.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n     &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n     &lt;artifactId&gt;bom&lt;/artifactId&gt;\n     &lt;version&gt;2.20.74&lt;/version&gt;\n     &lt;type&gt;pom&lt;/type&gt;\n     &lt;scope&gt;import&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Please help with any suggestions or debugging steps.</p>\n"},{"tags":["java","android","android-studio","mobile"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685613725,"post_id":76376473,"comment_id":134685894,"body_markdown":"please attach image correctly","body":"please attach image correctly"}],"answers":[{"tags":[],"owner":{"account_id":19011507,"reputation":136,"user_id":13877337,"display_name":"Begmyrat Mammedov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685565783,"creation_date":1685565783,"answer_id":76377133,"question_id":76376473,"body_markdown":"it uses your primary color of the Theme as background of selected item.","title":"How do I change the color of the item in the menu after it is selected in android studio?","body":"<p>it uses your primary color of the Theme as background of selected item.</p>\n"}],"owner":{"account_id":28722155,"reputation":1,"user_id":21995726,"display_name":"Edu Mystic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685565783,"creation_date":1685558909,"question_id":76376473,"body_markdown":"I&#39;m creating a dashboard project but I can&#39;t find where I change the color after selecting the menu item\r\n[enter image description here](https://i.stack.imgur.com/NqpYK.jpg)\r\nThe XML of activity_main_drawer\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?\\&gt;\r\n\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    tools:showIn=&quot;navigation_view&quot;&gt;\r\n\r\n    &lt;group android:checkableBehavior=&quot;single&quot;&gt;\r\n            &lt;item\r\n                android:id=&quot;@+id/nav_home&quot;\r\n                android:icon=&quot;@drawable/dashboard&quot;\r\n                android:title=&quot;@string/menu_dashboard&quot; /&gt;\r\n            &lt;item\r\n                android:id=&quot;@+id/nav_gallery&quot;\r\n                android:icon=&quot;@drawable/items&quot;\r\n                android:title=&quot;@string/menu_items&quot; /&gt;\r\n            &lt;item\r\n                android:id=&quot;@+id/nav_slideshow&quot;\r\n                android:icon=&quot;@drawable/ic_menu_slideshow&quot;\r\n                android:title=&quot;@string/menu_shop&quot; /&gt;\r\n    &lt;/group&gt;\r\n&lt;/menu&gt;\r\n```\r\n\r\nI tried to change the colors via XML but it still doesn&#39;t change the color","title":"How do I change the color of the item in the menu after it is selected in android studio?","body":"<p>I'm creating a dashboard project but I can't find where I change the color after selecting the menu item\n<a href=\"https://i.stack.imgur.com/NqpYK.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nThe XML of activity_main_drawer</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?\\&gt;\n\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    tools:showIn=&quot;navigation_view&quot;&gt;\n\n    &lt;group android:checkableBehavior=&quot;single&quot;&gt;\n            &lt;item\n                android:id=&quot;@+id/nav_home&quot;\n                android:icon=&quot;@drawable/dashboard&quot;\n                android:title=&quot;@string/menu_dashboard&quot; /&gt;\n            &lt;item\n                android:id=&quot;@+id/nav_gallery&quot;\n                android:icon=&quot;@drawable/items&quot;\n                android:title=&quot;@string/menu_items&quot; /&gt;\n            &lt;item\n                android:id=&quot;@+id/nav_slideshow&quot;\n                android:icon=&quot;@drawable/ic_menu_slideshow&quot;\n                android:title=&quot;@string/menu_shop&quot; /&gt;\n    &lt;/group&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>I tried to change the colors via XML but it still doesn't change the color</p>\n"},{"tags":["java","spring-boot","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685563273,"creation_date":1685563273,"answer_id":76376868,"question_id":76371019,"body_markdown":"You cannot mock the class you want to test but need to actually create it. You would need to:\r\n\r\n - add a value for `chatGPT.max.request.per.second` in your test/resources/application.yml (or properties) then change your test to\r\n - `@Autowired` the filter class\r\n - `@Mock`the `ServletRequest`, `ServletResponse` and `FilterChain`\r\n - configure the request with `when(servletRequest)` as needed for the headers\r\n - change your test to call filter.doFilter 12 times\r\n - check the ServletResponse","title":"Unit testing, when intercepting requests using Filter in Spring Boot","body":"<p>You cannot mock the class you want to test but need to actually create it. You would need to:</p>\n<ul>\n<li>add a value for <code>chatGPT.max.request.per.second</code> in your test/resources/application.yml (or properties) then change your test to</li>\n<li><code>@Autowired</code> the filter class</li>\n<li><code>@Mock</code>the <code>ServletRequest</code>, <code>ServletResponse</code> and <code>FilterChain</code></li>\n<li>configure the request with <code>when(servletRequest)</code> as needed for the headers</li>\n<li>change your test to call filter.doFilter 12 times</li>\n<li>check the ServletResponse</li>\n</ul>\n"}],"owner":{"account_id":28716743,"reputation":11,"user_id":21991211,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685565203,"creation_date":1685517539,"question_id":76371019,"body_markdown":"I&#39;m tring to restrict the number of requests to our server. I&#39;m using Spring Boot and use Filter and doFilter but I&#39;m having difficulties writing unit tests. \r\n\r\n\r\n```\r\n@Component\r\npublic class RequestFilter implements Filter {\r\n\r\n  @Value(&quot;${chatGPT.max.request.per.second}&quot;)\r\n  private int MAX_REQUESTS_PER_SECOND;\r\n\r\n  private final LoadingCache&lt;String, Integer&gt; requestCountsPerIpAddress;\r\n\r\n  public RequestFilter() {\r\n    super();\r\n    requestCountsPerIpAddress = Caffeine.newBuilder().\r\n        expireAfterWrite(1, TimeUnit.SECONDS).build(key -&gt; 0);\r\n  }\r\n\r\n  @Override\r\n  public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\r\n      throws IOException, ServletException {\r\n    var httpServletResponse = (HttpServletResponse) servletResponse;\r\n    var clientIpAddress = getClientIP((HttpServletRequest) servletRequest);\r\n    if(isMaximumRequestsPerSecondExceeded(clientIpAddress)) {\r\n      httpServletResponse.setStatus(HttpStatus.TOO_MANY_REQUESTS.value());\r\n      httpServletResponse.getWriter().write(&quot;Too many requests&quot;);\r\n      return;\r\n    }\r\n\r\n    filterChain.doFilter(servletRequest, servletResponse);\r\n  }\r\n\r\n  // RequestFilterMaxRequestExceededTest\r\n  public boolean isMaximumRequestsPerSecondExceeded(String clientIpAddress){\r\n    boolean max_request_exceeded = true;\r\n    var requests = requestCountsPerIpAddress.get(clientIpAddress);\r\n    if(Objects.isNull(requests)) {\r\n      // if there are no requests tracked yet, requests to be initialized\r\n      requests = 0;\r\n    }\r\n    if(requests &gt; MAX_REQUESTS_PER_SECOND) {\r\n        return max_request_exceeded;\r\n    }\r\n    requests++;\r\n    requestCountsPerIpAddress.put(clientIpAddress, requests);\r\n    return !max_request_exceeded;\r\n  }\r\n\r\n  public String getClientIP(HttpServletRequest request) {\r\n    String xfHeader = request.getHeader(&quot;X-Forwarded-For&quot;);\r\n    if (xfHeader == null){\r\n      return request.getRemoteAddr();\r\n    }\r\n    return xfHeader.split(&quot;,&quot;)[0];\r\n  }\r\n\r\n}\r\n```\r\n\r\nI try to mock the call of this method\r\n\r\n```\r\n    var requests = requestCountsPerIpAddress.get(clientIpAddress);\r\n\r\n```\r\n\r\nAre there any ideas? And I tried all options already. \r\n\r\n\r\nI tryed to use @Mock, I tried to mock Filter class. \r\n\r\nI want this block to be true: \r\n\r\n```\r\n@DisplayName(&quot;---&quot;)\r\n  @Test\r\n  void requestFilterMaxRequestExceededTest() {\r\n    for (int i=1; i &lt; 12; i++) {\r\n      when(filter.requestCountsPerIpAddress.get(clientIpAddress)).thenReturn(i);\r\n      if (i&gt;9) {\r\n        assertThat(filter.isMaximumRequestsPerSecondExceeded(&quot;testIp&quot;))\r\n            .isTrue();\r\n      }\r\n    }\r\n  }\r\n```\r\n","title":"Unit testing, when intercepting requests using Filter in Spring Boot","body":"<p>I'm tring to restrict the number of requests to our server. I'm using Spring Boot and use Filter and doFilter but I'm having difficulties writing unit tests.</p>\n<pre><code>@Component\npublic class RequestFilter implements Filter {\n\n  @Value(&quot;${chatGPT.max.request.per.second}&quot;)\n  private int MAX_REQUESTS_PER_SECOND;\n\n  private final LoadingCache&lt;String, Integer&gt; requestCountsPerIpAddress;\n\n  public RequestFilter() {\n    super();\n    requestCountsPerIpAddress = Caffeine.newBuilder().\n        expireAfterWrite(1, TimeUnit.SECONDS).build(key -&gt; 0);\n  }\n\n  @Override\n  public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)\n      throws IOException, ServletException {\n    var httpServletResponse = (HttpServletResponse) servletResponse;\n    var clientIpAddress = getClientIP((HttpServletRequest) servletRequest);\n    if(isMaximumRequestsPerSecondExceeded(clientIpAddress)) {\n      httpServletResponse.setStatus(HttpStatus.TOO_MANY_REQUESTS.value());\n      httpServletResponse.getWriter().write(&quot;Too many requests&quot;);\n      return;\n    }\n\n    filterChain.doFilter(servletRequest, servletResponse);\n  }\n\n  // RequestFilterMaxRequestExceededTest\n  public boolean isMaximumRequestsPerSecondExceeded(String clientIpAddress){\n    boolean max_request_exceeded = true;\n    var requests = requestCountsPerIpAddress.get(clientIpAddress);\n    if(Objects.isNull(requests)) {\n      // if there are no requests tracked yet, requests to be initialized\n      requests = 0;\n    }\n    if(requests &gt; MAX_REQUESTS_PER_SECOND) {\n        return max_request_exceeded;\n    }\n    requests++;\n    requestCountsPerIpAddress.put(clientIpAddress, requests);\n    return !max_request_exceeded;\n  }\n\n  public String getClientIP(HttpServletRequest request) {\n    String xfHeader = request.getHeader(&quot;X-Forwarded-For&quot;);\n    if (xfHeader == null){\n      return request.getRemoteAddr();\n    }\n    return xfHeader.split(&quot;,&quot;)[0];\n  }\n\n}\n</code></pre>\n<p>I try to mock the call of this method</p>\n<pre><code>    var requests = requestCountsPerIpAddress.get(clientIpAddress);\n\n</code></pre>\n<p>Are there any ideas? And I tried all options already.</p>\n<p>I tryed to use @Mock, I tried to mock Filter class.</p>\n<p>I want this block to be true:</p>\n<pre><code>@DisplayName(&quot;---&quot;)\n  @Test\n  void requestFilterMaxRequestExceededTest() {\n    for (int i=1; i &lt; 12; i++) {\n      when(filter.requestCountsPerIpAddress.get(clientIpAddress)).thenReturn(i);\n      if (i&gt;9) {\n        assertThat(filter.isMaximumRequestsPerSecondExceeded(&quot;testIp&quot;))\n            .isTrue();\n      }\n    }\n  }\n</code></pre>\n"},{"tags":["java","validation","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1914082,"reputation":20095,"user_id":1727092,"accept_rate":100,"display_name":"Pragnani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456150456,"creation_date":1456150456,"answer_id":35555871,"question_id":35555824,"body_markdown":"You can use [BeanUtils.copyProperties(source, destination)][1] for more info [BeanUtils][2]\r\n\r\n\r\nCopy the property values of the given **source bean** into the **target bean.\r\n\r\n**Note:** The source and target classes do not have to match or even be derived from each other, as long as the properties match. Any bean properties that the source bean exposes but the target bean does not will silently be ignored.\r\n\r\nThis is just a convenience method. For more complex transfer needs, consider using a full BeanWrapper.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/2.5.x/api/org/springframework/beans/BeanUtils.html#copyProperties(java.lang.Object,%20java.lang.Object)\r\n  [2]: http://docs.spring.io/spring-framework/docs/2.5.x/api/org/springframework/beans/BeanUtils.html","title":"Java Convert one Class to another class","body":"<p>You can use <a href=\"http://docs.spring.io/spring-framework/docs/2.5.x/api/org/springframework/beans/BeanUtils.html#copyProperties(java.lang.Object,%20java.lang.Object)\" rel=\"nofollow\">BeanUtils.copyProperties(source, destination)</a> for more info <a href=\"http://docs.spring.io/spring-framework/docs/2.5.x/api/org/springframework/beans/BeanUtils.html\" rel=\"nofollow\">BeanUtils</a></p>\n\n<p>Copy the property values of the given <strong>source bean</strong> into the **target bean.</p>\n\n<p><strong>Note:</strong> The source and target classes do not have to match or even be derived from each other, as long as the properties match. Any bean properties that the source bean exposes but the target bean does not will silently be ignored.</p>\n\n<p>This is just a convenience method. For more complex transfer needs, consider using a full BeanWrapper.</p>\n"},{"tags":[],"owner":{"account_id":409109,"reputation":500,"user_id":780163,"display_name":"Crunch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456172651,"creation_date":1456172651,"answer_id":35563095,"question_id":35555824,"body_markdown":"BeanUtils.copyProperties, as suggested by @pragnani-kinnera, would work just fine.  I prefer to avoid using it, though. Under the covers, BeanUtils uses reflection, which is best avoided unless necessary. It is slow and prone to breakage during refactoring.\r\n\r\nFor such a simple conversion, the easiest approach is the most straightforward:\r\n\r\n       CustomerDomain customerDomain = new CustomerDomain();\r\n       customerDomain.setName(customerForm.getName());\r\n       customerDomain.setPassword(customerForm.getPassword());\r\n\r\n","title":"Java Convert one Class to another class","body":"<p>BeanUtils.copyProperties, as suggested by @pragnani-kinnera, would work just fine.  I prefer to avoid using it, though. Under the covers, BeanUtils uses reflection, which is best avoided unless necessary. It is slow and prone to breakage during refactoring.</p>\n\n<p>For such a simple conversion, the easiest approach is the most straightforward:</p>\n\n<pre><code>   CustomerDomain customerDomain = new CustomerDomain();\n   customerDomain.setName(customerForm.getName());\n   customerDomain.setPassword(customerForm.getPassword());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5531724,"reputation":2045,"user_id":4391517,"accept_rate":49,"display_name":"Harshita Sethi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1523607918,"creation_date":1523607918,"answer_id":49812483,"question_id":35555824,"body_markdown":"You can use **com.google.gson.Gson** for converting one class object to another.\r\n\r\nFirst convert class A&#39;s object to json String and then convert Json string to class B&#39;s object.\r\n\r\n    Gson gson = new Gson();\r\n    String jsonString = gson.toJson(customerFormObject);\r\n    \r\n    CustomerDomain customerDomainObject = gson.fromJson(jsonString, CustomerDomain.class);\r\n\r\n\r\n","title":"Java Convert one Class to another class","body":"<p>You can use <strong>com.google.gson.Gson</strong> for converting one class object to another.</p>\n\n<p>First convert class A's object to json String and then convert Json string to class B's object.</p>\n\n<pre><code>Gson gson = new Gson();\nString jsonString = gson.toJson(customerFormObject);\n\nCustomerDomain customerDomainObject = gson.fromJson(jsonString, CustomerDomain.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26314862,"reputation":41,"user_id":19977803,"display_name":"Heena Patidar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685565157,"creation_date":1685531680,"answer_id":76372895,"question_id":35555824,"body_markdown":"Using the parameterized constructor of `CustomerDomain` class we can do this:\r\n \r\nHere,\r\n`formToDomain()` returns the resulting object by passing the object we need to convert.\r\n\r\n```java\r\npublic CustomerDomain formToDomain(CustomerForm cutomerForm)\r\n{\r\n\tCustomerDomain cDomain = new CustomerDomain(\r\n    \tcutomerForm.getUname(), cutomerForm.getPassword()\r\n\t);\r\n\treturn cDomain;\t\t\r\n}\r\n```","title":"Java Convert one Class to another class","body":"<p>Using the parameterized constructor of <code>CustomerDomain</code> class we can do this:</p>\n<p>Here,\n<code>formToDomain()</code> returns the resulting object by passing the object we need to convert.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public CustomerDomain formToDomain(CustomerForm cutomerForm)\n{\n    CustomerDomain cDomain = new CustomerDomain(\n        cutomerForm.getUname(), cutomerForm.getPassword()\n    );\n    return cDomain;     \n}\n</code></pre>\n"}],"owner":{"account_id":2166260,"reputation":1863,"user_id":1919324,"accept_rate":43,"display_name":"Saiful Azad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12720,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1685565157,"creation_date":1456150328,"question_id":35555824,"body_markdown":"Suppose I have 2 classes one is CustomerForm with following attribute name, password. Another class CustomerDomain with following same attribute name, password. I want to convert CustomerForm object to CustomerDomain. What is the most popular and convenient way? \r\n\r\nActually I am using Spring Boot, FormValidation and save to DB.","title":"Java Convert one Class to another class","body":"<p>Suppose I have 2 classes one is CustomerForm with following attribute name, password. Another class CustomerDomain with following same attribute name, password. I want to convert CustomerForm object to CustomerDomain. What is the most popular and convenient way? </p>\n\n<p>Actually I am using Spring Boot, FormValidation and save to DB.</p>\n"},{"tags":["java","junit5"],"answers":[{"tags":[],"owner":{"account_id":142352,"reputation":6169,"user_id":350021,"display_name":"Imre L"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1550784680,"creation_date":1550784680,"answer_id":54816546,"question_id":54816406,"body_markdown":"You most likely want to use `@ResourceLock` annotation on tests\r\nhttps://junit.org/junit5/docs/snapshot/user-guide/#writing-tests-parallel-execution-synchronization","title":"Running JUnit5 Test in Parallel But Want To Leave Some Tests Sequential","body":"<p>You most likely want to use <code>@ResourceLock</code> annotation on tests\n<a href=\"https://junit.org/junit5/docs/snapshot/user-guide/#writing-tests-parallel-execution-synchronization\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/snapshot/user-guide/#writing-tests-parallel-execution-synchronization</a></p>\n"},{"tags":[],"owner":{"account_id":5954045,"reputation":3379,"user_id":4681265,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578592122,"creation_date":1578592122,"answer_id":59669585,"question_id":54816406,"body_markdown":"According to [Parallel Test Execution and Single Thread Execution][1]:\r\n\r\n&gt; Since of maven-surefire-plugin:2.18, you can apply the JCIP annotation\r\n&gt; @net.jcip.annotations.NotThreadSafe on the Java class of JUnit test\r\n&gt; (pure test class, Suite, Parameterized, etc.) in order to execute it\r\n&gt; in single Thread instance. The Thread has name\r\n&gt; maven-surefire-plugin@NotThreadSafe and it is executed at the end of\r\n&gt; the test run.\r\n\r\nSo you could annotate your test classes with `@NotThreadSafe` in order to get them executed on 1 same thread (named *maven-surefire-plugin@NotThreadSafe*).\r\n\r\n```xml\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.stephenc.jcip&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jcip-annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-1&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n```\r\n\r\n  [1]: http://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html","title":"Running JUnit5 Test in Parallel But Want To Leave Some Tests Sequential","body":"<p>According to <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html\" rel=\"nofollow noreferrer\">Parallel Test Execution and Single Thread Execution</a>:</p>\n\n<blockquote>\n  <p>Since of maven-surefire-plugin:2.18, you can apply the JCIP annotation\n  @net.jcip.annotations.NotThreadSafe on the Java class of JUnit test\n  (pure test class, Suite, Parameterized, etc.) in order to execute it\n  in single Thread instance. The Thread has name\n  maven-surefire-plugin@NotThreadSafe and it is executed at the end of\n  the test run.</p>\n</blockquote>\n\n<p>So you could annotate your test classes with <code>@NotThreadSafe</code> in order to get them executed on 1 same thread (named <em>maven-surefire-plugin@NotThreadSafe</em>).</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependency&gt;\n    &lt;groupId&gt;com.github.stephenc.jcip&lt;/groupId&gt;\n    &lt;artifactId&gt;jcip-annotations&lt;/artifactId&gt;\n    &lt;version&gt;1.0-1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22873714,"reputation":41,"user_id":17016352,"display_name":"Ilia Tadzhibaev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652427485,"creation_date":1646914074,"answer_id":71423911,"question_id":54816406,"body_markdown":"You might take a look at `@Isolated` annotation\r\nhttps://junit.org/junit5/docs/5.7.1/api/org.junit.jupiter.api/org/junit/jupiter/api/parallel/Isolated.html.\r\n\r\nIt guarantees that test-class won&#39;t run in parallel with other classes.","title":"Running JUnit5 Test in Parallel But Want To Leave Some Tests Sequential","body":"<p>You might take a look at <code>@Isolated</code> annotation\n<a href=\"https://junit.org/junit5/docs/5.7.1/api/org.junit.jupiter.api/org/junit/jupiter/api/parallel/Isolated.html\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/5.7.1/api/org.junit.jupiter.api/org/junit/jupiter/api/parallel/Isolated.html</a>.</p>\n<p>It guarantees that test-class won't run in parallel with other classes.</p>\n"}],"owner":{"account_id":4031228,"reputation":318,"user_id":3317245,"accept_rate":83,"display_name":"tucker19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7633,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54816546,"answer_count":3,"score":5,"last_activity_date":1685564983,"creation_date":1550784080,"question_id":54816406,"body_markdown":"I have a project that we have many Junit tests. We just did a large migration from JUnit4 to JUnit5. We would like to run most of the tests in parallel but have a couple that need to be ran sequentially. Is there any way to use JUnit5 and run tests both ways?\r\n\r\nThe reason I ask is that I have 4 tests that load a database into memory and I am loading data into this database. Then I run tests on that database. These are the four tests I need to run sequentially and cannot run in parallel.","title":"Running JUnit5 Test in Parallel But Want To Leave Some Tests Sequential","body":"<p>I have a project that we have many Junit tests. We just did a large migration from JUnit4 to JUnit5. We would like to run most of the tests in parallel but have a couple that need to be ran sequentially. Is there any way to use JUnit5 and run tests both ways?</p>\n\n<p>The reason I ask is that I have 4 tests that load a database into memory and I am loading data into this database. Then I run tests on that database. These are the four tests I need to run sequentially and cannot run in parallel.</p>\n"},{"tags":["java","android-studio","ontouchlistener"],"owner":{"account_id":11227481,"reputation":119,"user_id":8236700,"display_name":"Julian Docev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685564933,"creation_date":1685564402,"question_id":76376995,"body_markdown":"With this code I have an ImageView that I use as an anchor to resize a view by dragging the left side of that view. How ever when I do it it changes the coordinates on the right side too. I mean in stead of moving just the left side to left it moves also the right side to right. The thing I need is when I drag one side only this side to move and the other to stay on its places.\r\n\r\n    public class TopLeftAnchorTouchListener implements View.OnTouchListener {\r\n    private int _xDelta;\r\n    private int actualWidth;\r\n    private View viewToResize;\r\n\r\n\r\n\r\n    public TopLeftAnchorTouchListener(View viewToResize) {\r\n        this.viewToResize = viewToResize;\r\n\r\n    }\r\n\r\n\r\n    private int initialWidth;\r\n    private int initialX;\r\n\r\n\r\n\r\n    @Override\r\n    public boolean onTouch(View view, MotionEvent event) {\r\n        final int X = (int) event.getRawX();\r\n        RelativeLayout.LayoutParams lp = (RelativeLayout.LayoutParams) viewToResize.getLayoutParams();\r\n\r\n        switch (event.getAction() &amp; MotionEvent.ACTION_MASK) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                \r\n                // Capture initial conditions of the view to resize.\r\n                initialWidth = viewToResize.getWidth();\r\n                // Capture initial touch point.\r\n                initialX = X;\r\n\r\n                break;\r\n                \r\n            case MotionEvent.ACTION_MOVE:\r\n                // Compute how far we have moved in the X direction.\r\n                _xDelta = X - initialX;\r\n                // Adjust the size of the targeted view. Note that we don&#39;t have to position\r\n                // the resize handle since it will be positioned correctly due to the layout.\r\n                actualWidth = lp.width = initialWidth - _xDelta;\r\n                viewToResize.setLayoutParams(lp);\r\n\r\n                break;\r\n        }\r\n\r\n        return true;\r\n    }}\r\n\r\n","title":"How to resize a view by dragging just one side without moving any other","body":"<p>With this code I have an ImageView that I use as an anchor to resize a view by dragging the left side of that view. How ever when I do it it changes the coordinates on the right side too. I mean in stead of moving just the left side to left it moves also the right side to right. The thing I need is when I drag one side only this side to move and the other to stay on its places.</p>\n<pre><code>public class TopLeftAnchorTouchListener implements View.OnTouchListener {\nprivate int _xDelta;\nprivate int actualWidth;\nprivate View viewToResize;\n\n\n\npublic TopLeftAnchorTouchListener(View viewToResize) {\n    this.viewToResize = viewToResize;\n\n}\n\n\nprivate int initialWidth;\nprivate int initialX;\n\n\n\n@Override\npublic boolean onTouch(View view, MotionEvent event) {\n    final int X = (int) event.getRawX();\n    RelativeLayout.LayoutParams lp = (RelativeLayout.LayoutParams) viewToResize.getLayoutParams();\n\n    switch (event.getAction() &amp; MotionEvent.ACTION_MASK) {\n        case MotionEvent.ACTION_DOWN:\n            \n            // Capture initial conditions of the view to resize.\n            initialWidth = viewToResize.getWidth();\n            // Capture initial touch point.\n            initialX = X;\n\n            break;\n            \n        case MotionEvent.ACTION_MOVE:\n            // Compute how far we have moved in the X direction.\n            _xDelta = X - initialX;\n            // Adjust the size of the targeted view. Note that we don't have to position\n            // the resize handle since it will be positioned correctly due to the layout.\n            actualWidth = lp.width = initialWidth - _xDelta;\n            viewToResize.setLayoutParams(lp);\n\n            break;\n    }\n\n    return true;\n}}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit5","component-scan"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1615988971,"post_id":66674388,"comment_id":117862328,"body_markdown":"Then don&#39;t use `@SpringBootTest` as that is intended for a full integration test. If you want something else either use a slices test (`@WebMvcTest` for instance), write a proper unit test (using mocks) or use a regular Spring test with a dedicated Test context.","body":"Then don&#39;t use <code>@SpringBootTest</code> as that is intended for a full integration test. If you want something else either use a slices test (<code>@WebMvcTest</code> for instance), write a proper unit test (using mocks) or use a regular Spring test with a dedicated Test context."},{"owner":{"account_id":651706,"reputation":20806,"user_id":454103,"accept_rate":58,"display_name":"Gabriel Petrovay"},"score":0,"creation_date":1615989271,"post_id":66674388,"comment_id":117862482,"body_markdown":"I want to write a test that is concerned with everything but the Kafka, Rabbit, Rest inputs. I am still trying still to write integration tests that get different messages and throw them to the Services/Processors and then I want to see the expected results in the Oracle or the H2 DB. Some Repository queries require Oracle built-in JSON_QUERY querying feature, so I have to do integration tests for these features.","body":"I want to write a test that is concerned with everything but the Kafka, Rabbit, Rest inputs. I am still trying still to write integration tests that get different messages and throw them to the Services/Processors and then I want to see the expected results in the Oracle or the H2 DB. Some Repository queries require Oracle built-in JSON_QUERY querying feature, so I have to do integration tests for these features."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1615991686,"post_id":66674388,"comment_id":117863733,"body_markdown":"Remove the `@ComponentScan` stuff and instead define what classes should be managed by Spring via the `classes` attribute on the `@SpringBootTest` annotation, i.e. like this: `@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE, classes = { Config1.class, Config2.class, SomeAutoConfiguration.class, Component1.class, Service2.class})`. Some further information can be found [in this answer](https://stackoverflow.com/questions/42275732/spring-boot-apache-camel-routes-testing/51892629#51892629)","body":"Remove the <code>@ComponentScan</code> stuff and instead define what classes should be managed by Spring via the <code>classes</code> attribute on the <code>@SpringBootTest</code> annotation, i.e. like this: <code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE, classes = { Config1.class, Config2.class, SomeAutoConfiguration.class, Component1.class, Service2.class})</code>. Some further information can be found <a href=\"https://stackoverflow.com/questions/42275732/spring-boot-apache-camel-routes-testing/51892629#51892629\">in this answer</a>"},{"owner":{"account_id":651706,"reputation":20806,"user_id":454103,"accept_rate":58,"display_name":"Gabriel Petrovay"},"score":0,"creation_date":1615994771,"post_id":66674388,"comment_id":117865395,"body_markdown":"Having only NONE environment and 2 classes (the service in test and the repository behind it). The application fails to load: `expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}`. The error complains about not finding the repository class and hence not being able to autowire the service in the test class. But, as mentioned, both the service and the repository are provided in the classes annotation parameter. :(","body":"Having only NONE environment and 2 classes (the service in test and the repository behind it). The application fails to load: <code>expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(req&zwnj;&#8203;uired=true)}</code>. The error complains about not finding the repository class and hence not being able to autowire the service in the test class. But, as mentioned, both the service and the repository are provided in the classes annotation parameter. :("}],"answers":[{"tags":[],"owner":{"account_id":1191179,"reputation":1,"user_id":1163931,"display_name":"jucosorin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685564193,"creation_date":1685564193,"answer_id":76376973,"question_id":66674388,"body_markdown":"You can use a `org.springframework.boot.test.context.filter.TypeExcludeFilter`. \r\n\r\nOn your `@SpringBootTest` annotated integration test add a `@TypeExcludeFilters(YourCustomTypeExcludeFilter.class)` annotation and it will use your implemented `TypeExcludeFilter` to filter out beans you don&#39;t want from the test&#39;s ApplicationContext. \r\n\r\n```lang-java\r\n\r\n@SpringBootTest\r\n@TypeExcludeFilters(YourCustomTypeExcludeFilter.class)\r\npublic class MyTest {\r\n\r\n    @Autowired\r\n    private ApplicationContext context;\r\n\r\n    @Test\r\n    public void expectingLessRegisteredBeans() {\r\n        List&lt;String&gt; beans = Arrays.stream(context.getBeanDefinitionNames())\r\n               // ...\r\n               .collect(Collectors.toList());\r\n        assertEquals(beans.size(), ...);\r\n    }\r\n\r\n}\r\n```\r\n\r\nA simple `TypeExcludeFilter` that excludes beans by class name is the one below:\r\n\r\n```lang-java \r\npublic class YourCustomTypeExcludeFilter extends TypeExcludeFilter {\r\n\r\n  private static final List&lt;String&gt; beanNamesToExclude = List.of(\r\n      &quot;org.personal.MyRabbitMqListener&quot;);\r\n\r\n  @Override\r\n  public boolean equals(Object obj) {\r\n    return (obj != null) &amp;&amp; (getClass() == obj.getClass());\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return getClass().hashCode();\r\n  }\r\n\r\n  @Override\r\n  public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) {\r\n    return beanNamesToExclude.stream()\r\n        .anyMatch(beanName -&gt; metadataReader.getClassMetadata().getClassName().equals(beanName));\r\n  }\r\n}\r\n```\r\nSky&#39;s the limit on the logic you can use with the `match()` method. \r\nFor some more inspiration of what is possible just search for classes that extend `TypeExcludeFilter` in the Spring Boot source code (for instance look at `org.springframework.boot.test.context.filter.TestTypeExcludeFilter`, a filter that&#39;s used to exclude `@TestConfiguration` annotated classes)\r\n","title":"How can I override the Spring component scanning when running a JUnit 5 test?","body":"<p>You can use a <code>org.springframework.boot.test.context.filter.TypeExcludeFilter</code>.</p>\n<p>On your <code>@SpringBootTest</code> annotated integration test add a <code>@TypeExcludeFilters(YourCustomTypeExcludeFilter.class)</code> annotation and it will use your implemented <code>TypeExcludeFilter</code> to filter out beans you don't want from the test's ApplicationContext.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@SpringBootTest\n@TypeExcludeFilters(YourCustomTypeExcludeFilter.class)\npublic class MyTest {\n\n    @Autowired\n    private ApplicationContext context;\n\n    @Test\n    public void expectingLessRegisteredBeans() {\n        List&lt;String&gt; beans = Arrays.stream(context.getBeanDefinitionNames())\n               // ...\n               .collect(Collectors.toList());\n        assertEquals(beans.size(), ...);\n    }\n\n}\n</code></pre>\n<p>A simple <code>TypeExcludeFilter</code> that excludes beans by class name is the one below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourCustomTypeExcludeFilter extends TypeExcludeFilter {\n\n  private static final List&lt;String&gt; beanNamesToExclude = List.of(\n      &quot;org.personal.MyRabbitMqListener&quot;);\n\n  @Override\n  public boolean equals(Object obj) {\n    return (obj != null) &amp;&amp; (getClass() == obj.getClass());\n  }\n\n  @Override\n  public int hashCode() {\n    return getClass().hashCode();\n  }\n\n  @Override\n  public boolean match(MetadataReader metadataReader, MetadataReaderFactory metadataReaderFactory) {\n    return beanNamesToExclude.stream()\n        .anyMatch(beanName -&gt; metadataReader.getClassMetadata().getClassName().equals(beanName));\n  }\n}\n</code></pre>\n<p>Sky's the limit on the logic you can use with the <code>match()</code> method.\nFor some more inspiration of what is possible just search for classes that extend <code>TypeExcludeFilter</code> in the Spring Boot source code (for instance look at <code>org.springframework.boot.test.context.filter.TestTypeExcludeFilter</code>, a filter that's used to exclude <code>@TestConfiguration</code> annotated classes)</p>\n"}],"owner":{"account_id":651706,"reputation":20806,"user_id":454103,"accept_rate":58,"display_name":"Gabriel Petrovay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1231,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685564193,"creation_date":1615988704,"question_id":66674388,"body_markdown":"I have this JUnit 5 test:\r\n\r\n    @SpringBootTest\r\n    public class MyTest {\r\n       ...\r\n    }\r\n\r\nThe application default configuration loads many `@Component`&#39;s `@Service`&#39;s and `@Configuration`&#39;s.\r\n\r\nFor some tests, I would like to tell the Spring application running in this JUnit test context to **not** scan all the components and filter out some heavy loading or verbose/spammy components that might complain while running in a (mocked) environment where not all the requirements are met.\r\n\r\nI tried to provide the @ComponentScan annotation to `MyTest` class in the form below. I added on purpose multiple filters and multiple types being filtered with the hope that I see less beans being loaded/registered in the application context:\r\n\r\n    @ComponentScan(\r\n        useDefaultFilters = false,\r\n        excludeFilters = {\r\n            @Filter(type = FilterType.ANNOTATION, classes = {\r\n                org.springframework.context.annotation.Configuration.class,\r\n                org.springframework.stereotype.Service.class,\r\n                org.springframework.stereotype.Component.class\r\n            }),\r\n            @Filter(type = FilterType.ASSIGNABLE_TYPE, classes = {\r\n                MyRabbitMqListener.class\r\n            })\r\n        }\r\n    )\r\n    @SpringBootTest\r\n    public class MyTest {\r\n    \r\n        @Autowired\r\n        private ApplicationContext context;\r\n\r\n        @Test\r\n        public void expectingLessRegisteredBeans() {\r\n            List&lt;String&gt; beans = Arrays.stream(context.getBeanDefinitionNames())\r\n                   // ...\r\n                   .collect(Collectors.toList());\r\n            assertEquals(beans.size(), ...);\r\n        }\r\n\r\n    }\r\n\r\nRegardless what I provide to the `@CompoenntScan`, I don&#39;t manage to control the amount or what beans are being scanned/registered in the JUnit 5 Spring test context.\r\n\r\nBut I still want to use the `@SpringBootTest` in order to get most of my application&#39;s configuration but exclude some parts of it (because they are slow, or spammy in the logs, or just throwing errors). For example, an application that receives event from inputs like Kafka, RabbitMQ, or REST, processes them and saves them to the persistence layer. I want to test the processing and persistence integration. I throw a bunch of test events to the processor `@Service` and then expect to see the results in the DB via the `@Repository`.\r\n\r\nWhat would be my alternatives:\r\n\r\n* provide @SpringBootTest a whitelist of classes I want to load (not elegant, tedious)\r\n* define several Spring profiles, put condition annotations on component and activate/deactivate only the ones I need in the test code, also use different profile `application-*.properties` to mute some logging (the non-test code needs to be polluted with this test feature, and tedious creating multiple profiles)\r\n* other ways to build the application context from scratch (while I actually want is to use my application configuration, except some slices which are not relevant for certain tests)","title":"How can I override the Spring component scanning when running a JUnit 5 test?","body":"<p>I have this JUnit 5 test:</p>\n<pre><code>@SpringBootTest\npublic class MyTest {\n   ...\n}\n</code></pre>\n<p>The application default configuration loads many <code>@Component</code>'s <code>@Service</code>'s and <code>@Configuration</code>'s.</p>\n<p>For some tests, I would like to tell the Spring application running in this JUnit test context to <strong>not</strong> scan all the components and filter out some heavy loading or verbose/spammy components that might complain while running in a (mocked) environment where not all the requirements are met.</p>\n<p>I tried to provide the @ComponentScan annotation to <code>MyTest</code> class in the form below. I added on purpose multiple filters and multiple types being filtered with the hope that I see less beans being loaded/registered in the application context:</p>\n<pre><code>@ComponentScan(\n    useDefaultFilters = false,\n    excludeFilters = {\n        @Filter(type = FilterType.ANNOTATION, classes = {\n            org.springframework.context.annotation.Configuration.class,\n            org.springframework.stereotype.Service.class,\n            org.springframework.stereotype.Component.class\n        }),\n        @Filter(type = FilterType.ASSIGNABLE_TYPE, classes = {\n            MyRabbitMqListener.class\n        })\n    }\n)\n@SpringBootTest\npublic class MyTest {\n\n    @Autowired\n    private ApplicationContext context;\n\n    @Test\n    public void expectingLessRegisteredBeans() {\n        List&lt;String&gt; beans = Arrays.stream(context.getBeanDefinitionNames())\n               // ...\n               .collect(Collectors.toList());\n        assertEquals(beans.size(), ...);\n    }\n\n}\n</code></pre>\n<p>Regardless what I provide to the <code>@CompoenntScan</code>, I don't manage to control the amount or what beans are being scanned/registered in the JUnit 5 Spring test context.</p>\n<p>But I still want to use the <code>@SpringBootTest</code> in order to get most of my application's configuration but exclude some parts of it (because they are slow, or spammy in the logs, or just throwing errors). For example, an application that receives event from inputs like Kafka, RabbitMQ, or REST, processes them and saves them to the persistence layer. I want to test the processing and persistence integration. I throw a bunch of test events to the processor <code>@Service</code> and then expect to see the results in the DB via the <code>@Repository</code>.</p>\n<p>What would be my alternatives:</p>\n<ul>\n<li>provide @SpringBootTest a whitelist of classes I want to load (not elegant, tedious)</li>\n<li>define several Spring profiles, put condition annotations on component and activate/deactivate only the ones I need in the test code, also use different profile <code>application-*.properties</code> to mute some logging (the non-test code needs to be polluted with this test feature, and tedious creating multiple profiles)</li>\n<li>other ways to build the application context from scratch (while I actually want is to use my application configuration, except some slices which are not relevant for certain tests)</li>\n</ul>\n"},{"tags":["java","postgresql","multi-tenant","micronaut","micronaut-data"],"comments":[{"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"score":0,"creation_date":1681578411,"post_id":75969345,"comment_id":134080584,"body_markdown":"I&#39;m starting to think micronaut doesn&#39;t really have support for this and I need to look elsewhere. Annoying, it was probably the very last feature I was looking for from it.","body":"I&#39;m starting to think micronaut doesn&#39;t really have support for this and I need to look elsewhere. Annoying, it was probably the very last feature I was looking for from it."},{"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"score":0,"creation_date":1682615471,"post_id":75969345,"comment_id":134247657,"body_markdown":"What is your stack? There are some examples https://github.com/micronaut-projects/micronaut-data/tree/master/doc-examples/jdbc-multitenancy-schema-example-java","body":"What is your stack? There are some examples <a href=\"https://github.com/micronaut-projects/micronaut-data/tree/master/doc-examples/jdbc-multitenancy-schema-example-java\" rel=\"nofollow noreferrer\">github.com/micronaut-projects/micronaut-data/tree/master/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685564072,"creation_date":1685564072,"answer_id":76376961,"question_id":75969345,"body_markdown":"In case it helps anyone else, I had two issues:\r\n\r\n* Nginx was in front of micronaut and needed `proxy_set_header Host $host;` setting, else it was taking the subdomain from host.docker.internal which was always consistent and not from `abc.myhost.com` or `xyz.myhost.com` etc.\r\n* tenantresolver in `application.yml` should be under multitenancy which sits on the same level as data.","title":"How to implement schema based multitenancy with micronaut","body":"<p>In case it helps anyone else, I had two issues:</p>\n<ul>\n<li>Nginx was in front of micronaut and needed <code>proxy_set_header Host $host;</code> setting, else it was taking the subdomain from host.docker.internal which was always consistent and not from <code>abc.myhost.com</code> or <code>xyz.myhost.com</code> etc.</li>\n<li>tenantresolver in <code>application.yml</code> should be under multitenancy which sits on the same level as data.</li>\n</ul>\n"}],"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76376961,"answer_count":1,"score":1,"last_activity_date":1685564072,"creation_date":1681026312,"question_id":75969345,"body_markdown":"I&#39;m starting to build a new webapp, it currently has an `AuthenticationProvider` which checks a user and password match what&#39;s in a database table. Its session based.\r\n\r\nCurrently micronaut just seems to use the public schema (I&#39;m on postgres).\r\n\r\nI&#39;ve tried enabling a subdomain tenant resolver in my `application.yml`:\r\n\r\n      data:\r\n        multi-tenancy:\r\n          mode: SCHEMA\r\n          tenantresolver:\r\n            subdomain:\r\n              enabled: true\r\n\r\nBut I can&#39;t tell that it&#39;s doing anything. If I visit `subdomain.localhost` to test it a session cookie seems to appear tied to that subdomain, but any user from the public schema can authenticate against it. I assume my `AuthenticationProvider` needs to become tenant aware somehow?\r\n\r\nIf I then have another tenant sign up, who isn&#39;t authenticated at the point of registering, how would a schema get populated for them using micronaut data before they come to authenticate? Thanks.","title":"How to implement schema based multitenancy with micronaut","body":"<p>I'm starting to build a new webapp, it currently has an <code>AuthenticationProvider</code> which checks a user and password match what's in a database table. Its session based.</p>\n<p>Currently micronaut just seems to use the public schema (I'm on postgres).</p>\n<p>I've tried enabling a subdomain tenant resolver in my <code>application.yml</code>:</p>\n<pre><code>  data:\n    multi-tenancy:\n      mode: SCHEMA\n      tenantresolver:\n        subdomain:\n          enabled: true\n</code></pre>\n<p>But I can't tell that it's doing anything. If I visit <code>subdomain.localhost</code> to test it a session cookie seems to appear tied to that subdomain, but any user from the public schema can authenticate against it. I assume my <code>AuthenticationProvider</code> needs to become tenant aware somehow?</p>\n<p>If I then have another tenant sign up, who isn't authenticated at the point of registering, how would a schema get populated for them using micronaut data before they come to authenticate? Thanks.</p>\n"},{"tags":["java","hibernate","spring"],"answers":[{"tags":[],"owner":{"account_id":1108799,"reputation":10647,"user_id":1099643,"accept_rate":80,"display_name":"Kushan"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1433386794,"creation_date":1327317158,"answer_id":8970712,"question_id":8970642,"body_markdown":"delete using particular id,\r\n\r\n    public void delete(long id)\r\n    {\r\n        Session session ;\r\n        MyObject myObject ;\r\n        \r\n        session = sessionFactory.getCurrentSession();\r\n        myObject = (MyObject)session.load(MyObject.class,id);\r\n        session.delete(myObject);\r\n\r\n        //This makes the pending delete to be done\r\n        session.flush() ;\r\n\r\n    }\r\n\r\nAlso consider encapuslate this methods in try/catch/finally and log the error as needed","title":"Using Spring HibernateTemplate. How to delete by Id?","body":"<p>delete using particular id,</p>\n\n<pre><code>public void delete(long id)\n{\n    Session session ;\n    MyObject myObject ;\n\n    session = sessionFactory.getCurrentSession();\n    myObject = (MyObject)session.load(MyObject.class,id);\n    session.delete(myObject);\n\n    //This makes the pending delete to be done\n    session.flush() ;\n\n}\n</code></pre>\n\n<p>Also consider encapuslate this methods in try/catch/finally and log the error as needed</p>\n"},{"tags":[],"owner":{"account_id":6563,"reputation":5210,"user_id":11092,"accept_rate":100,"display_name":"Adisesha"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1327317368,"creation_date":1327317368,"answer_id":8970753,"question_id":8970642,"body_markdown":"As you mentioned, there s not such method in HibernateTemplate. You can do the following,\r\n\r\n    hibernateTemplate.delete(hibernateTemplate.get(Class,Id));\r\n\r\n","title":"Using Spring HibernateTemplate. How to delete by Id?","body":"<p>As you mentioned, there s not such method in HibernateTemplate. You can do the following,</p>\n\n<pre><code>hibernateTemplate.delete(hibernateTemplate.get(Class,Id));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3853472,"reputation":61,"user_id":3192974,"display_name":"Yoking Zhang"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1389683614,"creation_date":1389683614,"answer_id":21107837,"question_id":8970642,"body_markdown":"You can also use below method:\r\n\r\n    public void deleteById(Class clazz,Integer id) {\r\n        hibernateTemplate.bulkUpdate(&quot;delete from &quot;+clazz.getName()+&quot; where id=&quot;+id);\r\n    }","title":"Using Spring HibernateTemplate. How to delete by Id?","body":"<p>You can also use below method:</p>\n\n<pre><code>public void deleteById(Class clazz,Integer id) {\n    hibernateTemplate.bulkUpdate(\"delete from \"+clazz.getName()+\" where id=\"+id);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2091582,"reputation":2124,"user_id":1861292,"accept_rate":50,"display_name":"Gere"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1414524224,"creation_date":1414524224,"answer_id":26616809,"question_id":8970642,"body_markdown":"Another alternative is:\r\n\r\n    public void deleteById(Class clazz,Integer id) {\r\n        String hql = &quot;delete &quot; + clazz.getName() + &quot; where id = :id&quot;;\r\n        Query q = session.createQuery(hql).setParameter(&quot;id&quot;, id);\r\n        q.executeUpdate();\r\n    }","title":"Using Spring HibernateTemplate. How to delete by Id?","body":"<p>Another alternative is:</p>\n\n<pre><code>public void deleteById(Class clazz,Integer id) {\n    String hql = \"delete \" + clazz.getName() + \" where id = :id\";\n    Query q = session.createQuery(hql).setParameter(\"id\", id);\n    q.executeUpdate();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":274409,"reputation":455,"user_id":566629,"accept_rate":100,"display_name":"maborg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516485076,"creation_date":1475596363,"answer_id":39856768,"question_id":8970642,"body_markdown":"There is a simple solution by creating an object and setting only the ID:\r\n\r\n    Product product = new Product();\r\n    product.setId(37);\r\n    session.delete(product);\r\n\r\nThe drawback of this simple solution is that it doesn’t remove the associated instances.  \r\nIf you have some attribute (another entity related) of the product to be deleted, you will need to load the product before.\r\n\r\n     Serializable id = new Long(17); \r\n     Object persistentInstance = session.load(Product.class, id); \r\n     if (persistentInstance != null) \r\n     {\r\n       session.delete(persistentInstance); \r\n     }\r\n\r\nThis will issue (if you have an attribute table in cascade) a delete on the children attributes.\r\n\r\n","title":"Using Spring HibernateTemplate. How to delete by Id?","body":"<p>There is a simple solution by creating an object and setting only the ID:</p>\n\n<pre><code>Product product = new Product();\nproduct.setId(37);\nsession.delete(product);\n</code></pre>\n\n<p>The drawback of this simple solution is that it doesn’t remove the associated instances.<br>\nIf you have some attribute (another entity related) of the product to be deleted, you will need to load the product before.</p>\n\n<pre><code> Serializable id = new Long(17); \n Object persistentInstance = session.load(Product.class, id); \n if (persistentInstance != null) \n {\n   session.delete(persistentInstance); \n }\n</code></pre>\n\n<p>This will issue (if you have an attribute table in cascade) a delete on the children attributes.</p>\n"},{"tags":[],"owner":{"account_id":282664,"reputation":4652,"user_id":579697,"accept_rate":92,"display_name":"Mikael Engver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685564044,"creation_date":1685564044,"answer_id":76376957,"question_id":8970642,"body_markdown":"    public void Delete&lt;T&gt;(int id)\r\n    {\r\n        var entity = this.GetSession().Load&lt;T&gt;(id);\r\n        this.GetSession().Delete(entity);\r\n    }","title":"Using Spring HibernateTemplate. How to delete by Id?","body":"<pre><code>public void Delete&lt;T&gt;(int id)\n{\n    var entity = this.GetSession().Load&lt;T&gt;(id);\n    this.GetSession().Delete(entity);\n}\n</code></pre>\n"}],"owner":{"account_id":216022,"reputation":7171,"user_id":471011,"accept_rate":90,"display_name":"user471011"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61134,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":8970712,"answer_count":6,"score":14,"last_activity_date":1685564044,"creation_date":1327316847,"question_id":8970642,"body_markdown":"For work with database, my class extends `HibernateDaoSupport` class and inside the methods I&#39;m using Spring `HibernateTemplate`.\r\n\r\nSo, for delete a row in database I use this method:\r\n\r\n    public void delete(MyObject obj) {\r\n        getHibernateTemplate().delete(obj);\r\n    }\r\n\r\nall ok!\r\n\r\nBut, at this moment I&#39;m trying to implement a method that can delete a row based on id:\r\n\r\n    public void delete(final long id) {\r\n        // some code here\r\n    }\r\n\r\nAnd I can&#39;t find some `HibernateTemplate` method like this:  \r\n`getHibernateTemplate().remove(id)`\r\n\r\n\r\nWhat is a good solution for me in this case?","title":"Using Spring HibernateTemplate. How to delete by Id?","body":"<p>For work with database, my class extends <code>HibernateDaoSupport</code> class and inside the methods I'm using Spring <code>HibernateTemplate</code>.</p>\n\n<p>So, for delete a row in database I use this method:</p>\n\n<pre><code>public void delete(MyObject obj) {\n    getHibernateTemplate().delete(obj);\n}\n</code></pre>\n\n<p>all ok!</p>\n\n<p>But, at this moment I'm trying to implement a method that can delete a row based on id:</p>\n\n<pre><code>public void delete(final long id) {\n    // some code here\n}\n</code></pre>\n\n<p>And I can't find some <code>HibernateTemplate</code> method like this:<br>\n<code>getHibernateTemplate().remove(id)</code></p>\n\n<p>What is a good solution for me in this case?</p>\n"},{"tags":["java","spring-boot","rabbitmq"],"comments":[{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":0,"creation_date":1685489412,"post_id":76368955,"comment_id":134666591,"body_markdown":"Can you put an example of Json file when you want to invoke the consumer ?","body":"Can you put an example of Json file when you want to invoke the consumer ?"},{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":0,"creation_date":1685491062,"post_id":76368955,"comment_id":134666736,"body_markdown":"You can change you method like this : public void consumeFile(@Payload FileQueueDTO fileBody) and log the object without this block of code : FileQueueDTO fileQueueDTO = objectMapper.readValue(fileBody, FileQueueDTO.class);","body":"You can change you method like this : public void consumeFile(@Payload FileQueueDTO fileBody) and log the object without this block of code : FileQueueDTO fileQueueDTO = objectMapper.readValue(fileBody, FileQueueDTO.class);"},{"owner":{"account_id":11489221,"reputation":45,"user_id":8420784,"display_name":"ahdy kefi"},"score":0,"creation_date":1685522596,"post_id":76368955,"comment_id":134670523,"body_markdown":"@skillup still the same problem, even if I just want to log the value of the payload it returns the same error, I think the problem is wth the message converter, is there anyway to disable the message converter from only this method because as I mentionned I need the message converter in the producer","body":"@skillup still the same problem, even if I just want to log the value of the payload it returns the same error, I think the problem is wth the message converter, is there anyway to disable the message converter from only this method because as I mentionned I need the message converter in the producer"},{"owner":{"account_id":11489221,"reputation":45,"user_id":8420784,"display_name":"ahdy kefi"},"score":0,"creation_date":1685530954,"post_id":76368955,"comment_id":134672197,"body_markdown":"Solved: I removed the @Payload and changed the parameter type from (String fileBody) to (Message fieBody) now I have access to the raw message body and I can deserialize it using any JSON library.","body":"Solved: I removed the @Payload and changed the parameter type from (String fileBody) to (Message fieBody) now I have access to the raw message body and I can deserialize it using any JSON library."}],"answers":[{"tags":[],"owner":{"account_id":11489221,"reputation":45,"user_id":8420784,"display_name":"ahdy kefi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685563075,"creation_date":1685531006,"answer_id":76372811,"question_id":76368955,"body_markdown":"Solved: \r\n\r\nI removed the `@Payload` and changed the parameter type from `String fileBody` to `Message fileBody` now I have access to the raw message body and I can deserialize it using any JSON library.","title":"RabbitMQ consumer can&#39;t convert message from queue : Failed to convert message","body":"<p>Solved:</p>\n<p>I removed the <code>@Payload</code> and changed the parameter type from <code>String fileBody</code> to <code>Message fileBody</code> now I have access to the raw message body and I can deserialize it using any JSON library.</p>\n"}],"owner":{"account_id":11489221,"reputation":45,"user_id":8420784,"display_name":"ahdy kefi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685563075,"creation_date":1685484475,"question_id":76368955,"body_markdown":"I have a spring boot microservice that consume and produce messages to RabbitMQ at the same time, when I send (produce) messages to the exchange -&gt; queue it all works fine, but when I try to consume from different queue and different type of message I receive an error as you can see below, in order to fix the problem I have to remove the messageConverter bean from the rabbitMQ eventProducerConfig file, but with doing that I will not be able to send messages to the queue because the message that Im sending is an object did anyone had the same issue before :\r\n\r\n***the eventProducerConfig***\r\n```\r\n@Configuration\r\n@EnableRabbit\r\npublic class EventProducerConfig {\r\n\r\n\r\n    @Bean\r\n    public Queue notificationQueue() {\r\n        return new Queue(&quot;notification&quot;, true);\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    Binding notificationBinding(Queue notificationQueue, DirectExchange exchange) {\r\n        return BindingBuilder.bind(notificationQueue()).to(exchange).with(&quot;notification.*&quot;);\r\n    }\r\n    @Bean\r\n    public MessageConverter jsonMessageConverter() {\r\n        return new Jackson2JsonMessageConverter();\r\n    }\r\n\r\n    @Bean\r\n    public AmqpTemplate amqpRabbitTemplate(ConnectionFactory connectionFactory, MessageConverter messageConverter) {\r\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n        rabbitTemplate.setMessageConverter(messageConverter);\r\n        return rabbitTemplate;\r\n    }\r\n}\r\n```\r\n\r\n***ConsumerConfig***\r\n```\r\n@Configuration\r\n@EnableRabbit\r\npublic class EventConsumerConfig {\r\n    @Bean\r\n    public ConnectionFactory connectionFactory() {\r\n        CachingConnectionFactory connectionFactory = new CachingConnectionFactory(&quot;localhost&quot;);\r\n        connectionFactory.setUsername(&quot;guest&quot;);\r\n        connectionFactory.setPassword(&quot;guest&quot;);\r\n        return connectionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public Queue fileQueue() {\r\n        return new Queue(&quot;file&quot;, true);\r\n    }\r\n\r\n    @Bean\r\n    DirectExchange exchange() {\r\n        return new DirectExchange(&quot;AppExchange&quot;);\r\n    }\r\n\r\n    @Bean\r\n    Binding fileBinding(Queue fileQueue, DirectExchange exchange) {\r\n        return BindingBuilder.bind(fileQueue()).to(exchange).with(&quot;file.*&quot;);\r\n    }\r\n\r\n \r\n\r\n}\r\n```\r\n\r\n***Method that consume files***\r\n```\r\n @RabbitListener(queues = {&quot;file&quot;})\r\n    public void consumeFile(@Payload String fileBody){\r\n        try {\r\n            System.out.println(fileBody);\r\n            \r\n            FileQueueDTO fileQueueDTO = objectMapper.readValue(fileBody, FileQueueDTO.class);\r\n            }catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\n***Error message***\r\n```\r\norg.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to convert message\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:158) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1718) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1637) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1625) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1616) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1561) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1540) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:492) ~[micrometer-observation-1.10.4.jar:1.10.4]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1540) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1001) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:948) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1326) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1232) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:367) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:321) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:304) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.AbstractAdaptableMessageListener.extractMessage(AbstractAdaptableMessageListener.java:342) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter$MessagingMessageConverterAdapter.extractPayload(MessagingMessageListenerAdapter.java:371) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.support.converter.MessagingMessageConverter.fromMessage(MessagingMessageConverter.java:132) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.toMessagingMessage(MessagingMessageListenerAdapter.java:244) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\t... 13 common frames omitted\r\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\r\n at [Source: (String)&quot;{\r\n&quot;owner&quot;:&quot;email@gmail.com&quot;,\r\n&quot;file&quot;:&quot;C:\\\\Users\\\\&quot;\r\n}&quot;; line: 1, column: 1]\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1746) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1520) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1425) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.extractScalarFromObject(DeserializationContext.java:937) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.deser.std.StdDeserializer._parseString(StdDeserializer.java:1421) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:48) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:11) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertBytesToObject(AbstractJackson2MessageConverter.java:428) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertContent(AbstractJackson2MessageConverter.java:395) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:364) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\t... 20 common frames omitted\r\n\r\n2023-05-30T23:00:39.680+01:00  WARN 4244 --- [ntContainer#0-1] ingErrorHandler$DefaultExceptionStrategy : Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:&#39;[B@1b9db0e9(byte[54])&#39; MessageProperties [headers={}, contentLength=0, receivedDeliveryMode=NON_PERSISTENT, redelivered=false, receivedExchange=, receivedRoutingKey=file, deliveryTag=4, consumerTag=amq.ctag-uHKbO7tOLUzhG1lG6E4f8Q, consumerQueue=file])\r\n2023-05-30T23:00:39.680+01:00 ERROR 4244 --- [ntContainer#0-1] o.s.a.r.l.SimpleMessageListenerContainer : Execution of Rabbit message listener failed, and the error handler threw an exception\r\n\r\norg.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal\r\n\tat org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:146) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1509) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1806) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1582) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1540) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:492) ~[micrometer-observation-1.10.4.jar:1.10.4]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1540) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1001) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:948) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1326) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1232) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to convert message\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:158) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1718) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1637) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1625) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1616) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1561) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\t... 8 common frames omitted\r\nCaused by: org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:367) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:321) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:304) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.AbstractAdaptableMessageListener.extractMessage(AbstractAdaptableMessageListener.java:342) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter$MessagingMessageConverterAdapter.extractPayload(MessagingMessageListenerAdapter.java:371) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.support.converter.MessagingMessageConverter.fromMessage(MessagingMessageConverter.java:132) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.toMessagingMessage(MessagingMessageListenerAdapter.java:244) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148) ~[spring-rabbit-3.0.2.jar:3.0.2]\r\n\t... 13 common frames omitted\r\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\r\n at [Source: (String)&quot;{\r\n&quot;owner&quot;:&quot;email@gmail.com&quot;,\r\n&quot;file&quot;:&quot;C:\\\\Users\\\\&quot;\r\n}&quot;; line: 1, column: 1]\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1746) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1520) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1425) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.extractScalarFromObject(DeserializationContext.java:937) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.deser.std.StdDeserializer._parseString(StdDeserializer.java:1421) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:48) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:11) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertBytesToObject(AbstractJackson2MessageConverter.java:428) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertContent(AbstractJackson2MessageConverter.java:395) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\tat org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:364) ~[spring-amqp-3.0.2.jar:3.0.2]\r\n\t... 20 common frames omitted\r\n\r\n\r\n```","title":"RabbitMQ consumer can&#39;t convert message from queue : Failed to convert message","body":"<p>I have a spring boot microservice that consume and produce messages to RabbitMQ at the same time, when I send (produce) messages to the exchange -&gt; queue it all works fine, but when I try to consume from different queue and different type of message I receive an error as you can see below, in order to fix the problem I have to remove the messageConverter bean from the rabbitMQ eventProducerConfig file, but with doing that I will not be able to send messages to the queue because the message that Im sending is an object did anyone had the same issue before :</p>\n<p><em><strong>the eventProducerConfig</strong></em></p>\n<pre><code>@Configuration\n@EnableRabbit\npublic class EventProducerConfig {\n\n\n    @Bean\n    public Queue notificationQueue() {\n        return new Queue(&quot;notification&quot;, true);\n    }\n\n\n\n    @Bean\n    Binding notificationBinding(Queue notificationQueue, DirectExchange exchange) {\n        return BindingBuilder.bind(notificationQueue()).to(exchange).with(&quot;notification.*&quot;);\n    }\n    @Bean\n    public MessageConverter jsonMessageConverter() {\n        return new Jackson2JsonMessageConverter();\n    }\n\n    @Bean\n    public AmqpTemplate amqpRabbitTemplate(ConnectionFactory connectionFactory, MessageConverter messageConverter) {\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\n        rabbitTemplate.setMessageConverter(messageConverter);\n        return rabbitTemplate;\n    }\n}\n</code></pre>\n<p><em><strong>ConsumerConfig</strong></em></p>\n<pre><code>@Configuration\n@EnableRabbit\npublic class EventConsumerConfig {\n    @Bean\n    public ConnectionFactory connectionFactory() {\n        CachingConnectionFactory connectionFactory = new CachingConnectionFactory(&quot;localhost&quot;);\n        connectionFactory.setUsername(&quot;guest&quot;);\n        connectionFactory.setPassword(&quot;guest&quot;);\n        return connectionFactory;\n    }\n\n    @Bean\n    public Queue fileQueue() {\n        return new Queue(&quot;file&quot;, true);\n    }\n\n    @Bean\n    DirectExchange exchange() {\n        return new DirectExchange(&quot;AppExchange&quot;);\n    }\n\n    @Bean\n    Binding fileBinding(Queue fileQueue, DirectExchange exchange) {\n        return BindingBuilder.bind(fileQueue()).to(exchange).with(&quot;file.*&quot;);\n    }\n\n \n\n}\n</code></pre>\n<p><em><strong>Method that consume files</strong></em></p>\n<pre><code> @RabbitListener(queues = {&quot;file&quot;})\n    public void consumeFile(@Payload String fileBody){\n        try {\n            System.out.println(fileBody);\n            \n            FileQueueDTO fileQueueDTO = objectMapper.readValue(fileBody, FileQueueDTO.class);\n            }catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n</code></pre>\n<p><em><strong>Error message</strong></em></p>\n<pre><code>org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to convert message\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:158) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1718) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1637) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1625) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1616) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1561) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1540) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at io.micrometer.observation.Observation.observe(Observation.java:492) ~[micrometer-observation-1.10.4.jar:1.10.4]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1540) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1001) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:948) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1326) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1232) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:367) ~[spring-amqp-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:321) ~[spring-amqp-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:304) ~[spring-amqp-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.adapter.AbstractAdaptableMessageListener.extractMessage(AbstractAdaptableMessageListener.java:342) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter$MessagingMessageConverterAdapter.extractPayload(MessagingMessageListenerAdapter.java:371) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.support.converter.MessagingMessageConverter.fromMessage(MessagingMessageConverter.java:132) ~[spring-amqp-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.toMessagingMessage(MessagingMessageListenerAdapter.java:244) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    ... 13 common frames omitted\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: (String)&quot;{\n&quot;owner&quot;:&quot;email@gmail.com&quot;,\n&quot;file&quot;:&quot;C:\\\\Users\\\\&quot;\n}&quot;; line: 1, column: 1]\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1746) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1520) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1425) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.extractScalarFromObject(DeserializationContext.java:937) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.deser.std.StdDeserializer._parseString(StdDeserializer.java:1421) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:48) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:11) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertBytesToObject(AbstractJackson2MessageConverter.java:428) ~[spring-amqp-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertContent(AbstractJackson2MessageConverter.java:395) ~[spring-amqp-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:364) ~[spring-amqp-3.0.2.jar:3.0.2]\n    ... 20 common frames omitted\n\n2023-05-30T23:00:39.680+01:00  WARN 4244 --- [ntContainer#0-1] ingErrorHandler$DefaultExceptionStrategy : Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[B@1b9db0e9(byte[54])' MessageProperties [headers={}, contentLength=0, receivedDeliveryMode=NON_PERSISTENT, redelivered=false, receivedExchange=, receivedRoutingKey=file, deliveryTag=4, consumerTag=amq.ctag-uHKbO7tOLUzhG1lG6E4f8Q, consumerQueue=file])\n2023-05-30T23:00:39.680+01:00 ERROR 4244 --- [ntContainer#0-1] o.s.a.r.l.SimpleMessageListenerContainer : Execution of Rabbit message listener failed, and the error handler threw an exception\n\norg.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal\n    at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:146) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1509) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1806) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1582) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1540) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at io.micrometer.observation.Observation.observe(Observation.java:492) ~[micrometer-observation-1.10.4.jar:1.10.4]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1540) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1001) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:948) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1326) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1232) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Failed to convert message\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:158) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1718) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1637) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1625) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1616) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1561) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    ... 8 common frames omitted\nCaused by: org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:367) ~[spring-amqp-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:321) ~[spring-amqp-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.fromMessage(AbstractJackson2MessageConverter.java:304) ~[spring-amqp-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.adapter.AbstractAdaptableMessageListener.extractMessage(AbstractAdaptableMessageListener.java:342) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter$MessagingMessageConverterAdapter.extractPayload(MessagingMessageListenerAdapter.java:371) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.support.converter.MessagingMessageConverter.fromMessage(MessagingMessageConverter.java:132) ~[spring-amqp-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.toMessagingMessage(MessagingMessageListenerAdapter.java:244) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148) ~[spring-rabbit-3.0.2.jar:3.0.2]\n    ... 13 common frames omitted\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: (String)&quot;{\n&quot;owner&quot;:&quot;email@gmail.com&quot;,\n&quot;file&quot;:&quot;C:\\\\Users\\\\&quot;\n}&quot;; line: 1, column: 1]\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1746) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1520) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1425) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.DeserializationContext.extractScalarFromObject(DeserializationContext.java:937) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.deser.std.StdDeserializer._parseString(StdDeserializer.java:1421) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:48) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:11) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4730) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3677) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertBytesToObject(AbstractJackson2MessageConverter.java:428) ~[spring-amqp-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.convertContent(AbstractJackson2MessageConverter.java:395) ~[spring-amqp-3.0.2.jar:3.0.2]\n    at org.springframework.amqp.support.converter.AbstractJackson2MessageConverter.doFromMessage(AbstractJackson2MessageConverter.java:364) ~[spring-amqp-3.0.2.jar:3.0.2]\n    ... 20 common frames omitted\n\n\n</code></pre>\n"},{"tags":["java","jboss","java-ee-7"],"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685562932,"creation_date":1685562932,"question_id":76376842,"body_markdown":"I have at least 2 Servlets and try to share Statefull bean between them. But, unfortunatelly,  I can&#39;t because it inits for each Servlet.\r\n\r\n\r\n    @WebServlet(name = &quot;FirstServlet&quot;, urlPatterns = {&quot;/first/*&quot;})\r\n    public class FirstServlet extends BaseServlet {\r\n    \r\n        @EJB\r\n        private IUserSession userSession;\r\n\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n\r\n              userSession.setUserName(&quot;my name&quot;);\r\n             // todo something and put breakpoint here\r\n        }\r\n    }\r\n    \r\n    \r\n    @WebServlet(name = &quot;SecondServlet&quot;, urlPatterns = {&quot;/second/*&quot;})\r\n    public class SecondServletextends BaseServlet {\r\n    \r\n        @EJB\r\n        private IUserSession userSession;\r\n\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n              \r\n             // todo something and put breakpoint here\r\n        }\r\n    }\r\n    \r\n    \r\n    public interface IUserSession {\r\n    \r\n        void initItems();\r\n        void setUserName(String userName)\r\n    }\r\n\r\n    @Stateful(name = &quot;userSession&quot;)\r\n    public class UserSession implements IUserSession {\r\n\r\n        private String userName;\r\n\r\n        @PostConstruct\r\n        private void init() {\r\n            initItems();\r\n        }\r\n    \r\n        public void initItems(){\r\n          // todo something\r\n        }\r\n\r\n        public void setUserName(String userName){\r\n          this.userName = userName;\r\n        }\r\n    }\r\n\r\n\r\nSo, while I am debugging, I can see, that before call doGet `FirstServlet` we go in to `UserSession.init()` method because it is `PostConstruct`. After we go into `FirstServlet.doGet()`. When I do the second request in the same session via browser and go to the `SecondServlet` I again go into `UserSession.init()` and after that, of course `SecondServlet.userSession.userName` return null.\r\n\r\nHow to share `UserSession` inside Application? I want to construct some... SessionBean for user information.\r\nI know, that I can put it inside request like \r\n\r\n    request.getSession().setAttribute(USER_SESSION_KEY, userSession)\r\n\r\nbut I want to use Enterprise mechanism. I am sure that I lost something easy but important.","title":"Doesn&#39;t inject EJB in different servlets","body":"<p>I have at least 2 Servlets and try to share Statefull bean between them. But, unfortunatelly,  I can't because it inits for each Servlet.</p>\n<pre><code>@WebServlet(name = &quot;FirstServlet&quot;, urlPatterns = {&quot;/first/*&quot;})\npublic class FirstServlet extends BaseServlet {\n\n    @EJB\n    private IUserSession userSession;\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n\n          userSession.setUserName(&quot;my name&quot;);\n         // todo something and put breakpoint here\n    }\n}\n\n\n@WebServlet(name = &quot;SecondServlet&quot;, urlPatterns = {&quot;/second/*&quot;})\npublic class SecondServletextends BaseServlet {\n\n    @EJB\n    private IUserSession userSession;\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n          \n         // todo something and put breakpoint here\n    }\n}\n\n\npublic interface IUserSession {\n\n    void initItems();\n    void setUserName(String userName)\n}\n\n@Stateful(name = &quot;userSession&quot;)\npublic class UserSession implements IUserSession {\n\n    private String userName;\n\n    @PostConstruct\n    private void init() {\n        initItems();\n    }\n\n    public void initItems(){\n      // todo something\n    }\n\n    public void setUserName(String userName){\n      this.userName = userName;\n    }\n}\n</code></pre>\n<p>So, while I am debugging, I can see, that before call doGet <code>FirstServlet</code> we go in to <code>UserSession.init()</code> method because it is <code>PostConstruct</code>. After we go into <code>FirstServlet.doGet()</code>. When I do the second request in the same session via browser and go to the <code>SecondServlet</code> I again go into <code>UserSession.init()</code> and after that, of course <code>SecondServlet.userSession.userName</code> return null.</p>\n<p>How to share <code>UserSession</code> inside Application? I want to construct some... SessionBean for user information.\nI know, that I can put it inside request like</p>\n<pre><code>request.getSession().setAttribute(USER_SESSION_KEY, userSession)\n</code></pre>\n<p>but I want to use Enterprise mechanism. I am sure that I lost something easy but important.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685562806,"creation_date":1685562806,"answer_id":76376830,"question_id":76372712,"body_markdown":"&gt; I believe it is due to the fact that reader bean is created once and using it everytime.\r\n\r\nYes, the scope of the reader bean definition that you shared is singleton. Therefore, the same instance will be used for entire app lifetime and the file content will be the same.\r\n\r\nYou should make the reader step-scoped by adding `@StepScope` on its bean definition method to create a new instance on each run.","title":"Spring batch - java.lang.IllegalStateException: InputStream has already been read - do not use InputStreamResource","body":"<blockquote>\n<p>I believe it is due to the fact that reader bean is created once and using it everytime.</p>\n</blockquote>\n<p>Yes, the scope of the reader bean definition that you shared is singleton. Therefore, the same instance will be used for entire app lifetime and the file content will be the same.</p>\n<p>You should make the reader step-scoped by adding <code>@StepScope</code> on its bean definition method to create a new instance on each run.</p>\n"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76376830,"answer_count":1,"score":0,"last_activity_date":1685562806,"creation_date":1685530332,"question_id":76372712,"body_markdown":"I have the below definition for `FlatFileItemReader` in s simple spring batch job:\r\n\r\n```\r\n@Bean\r\n  public FlatFileItemReader&lt;BookingInfo&gt; bookingInfoReader() {\r\n    FlatFileItemReader&lt;BookingInfo&gt; itemReader = new FlatFileItemReader&lt;&gt;();\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    BlobClient blobClient =\r\n        blobContainerClient.getBlobClient(&quot;path/file.csv&quot;);\r\n    blobClient.downloadStream(outputStream);\r\n    final byte[] bytes = outputStream.toByteArray();\r\n    ByteArrayInputStream inputStream = new ByteArrayInputStream(bytes);\r\n    InputStreamResource resource = new InputStreamResource(inputStream);\r\n    itemReader.setResource(resource);\r\n    itemReader.setName(&quot;csvReader&quot;);\r\n    itemReader.setLinesToSkip(1);\r\n    itemReader.setLineMapper(lineMapper());\r\n    return itemReader;\r\n  }\r\n```\r\n\r\nBut I get the error:\r\n`java.lang.IllegalStateException: InputStream has already been read - do not use InputStreamResource if a stream needs to be read multiple times` \r\n\r\n\r\nNow, I changed the above code to use `ByteArrayResource` as shown below:\r\n```\r\n@Bean\r\n  public FlatFileItemReader&lt;BookingInfo&gt; bookingInfoReader {\r\n\r\n    FlatFileItemReader&lt;BookingInfo&gt; itemReader = new FlatFileItemReader&lt;&gt;();\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    BlobClient blobClient =\r\n        blobContainerClient.getBlobClient(&quot;path/file.csv&quot;);\r\n    blobClient.downloadStream(outputStream);\r\n    final byte[] bytes = outputStream.toByteArray();\r\n    ByteArrayInputStream inputStream = new ByteArrayInputStream(bytes);\r\n    \r\n    ByteArrayResource byteArrayResource = new ByteArrayResource(inputStream.readAllBytes());\r\n    itemReader.setResource(byteArrayResource); \r\n\r\n    itemReader.setName(&quot;csvReader&quot;);\r\n    itemReader.setLinesToSkip(1);\r\n    itemReader.setLineMapper(lineMapper());\r\n    return itemReader;\r\n  }\r\n```\r\n\r\nNow the mentioned error goes away. However, there is a strange issue. Even if I update the file content, it is not fetching dynamically when the job is triggered. Instead, it is using the same old content. It takes modified content only after pod restart.  I believe it is due to the fact that reader bean is created once and using it everytime. \r\n\r\nSo, I need to go back to `InputStreamResource` implementation by fixing the earlier mentioned issue. What is going wrong here? ","title":"Spring batch - java.lang.IllegalStateException: InputStream has already been read - do not use InputStreamResource","body":"<p>I have the below definition for <code>FlatFileItemReader</code> in s simple spring batch job:</p>\n<pre><code>@Bean\n  public FlatFileItemReader&lt;BookingInfo&gt; bookingInfoReader() {\n    FlatFileItemReader&lt;BookingInfo&gt; itemReader = new FlatFileItemReader&lt;&gt;();\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    BlobClient blobClient =\n        blobContainerClient.getBlobClient(&quot;path/file.csv&quot;);\n    blobClient.downloadStream(outputStream);\n    final byte[] bytes = outputStream.toByteArray();\n    ByteArrayInputStream inputStream = new ByteArrayInputStream(bytes);\n    InputStreamResource resource = new InputStreamResource(inputStream);\n    itemReader.setResource(resource);\n    itemReader.setName(&quot;csvReader&quot;);\n    itemReader.setLinesToSkip(1);\n    itemReader.setLineMapper(lineMapper());\n    return itemReader;\n  }\n</code></pre>\n<p>But I get the error:\n<code>java.lang.IllegalStateException: InputStream has already been read - do not use InputStreamResource if a stream needs to be read multiple times</code></p>\n<p>Now, I changed the above code to use <code>ByteArrayResource</code> as shown below:</p>\n<pre><code>@Bean\n  public FlatFileItemReader&lt;BookingInfo&gt; bookingInfoReader {\n\n    FlatFileItemReader&lt;BookingInfo&gt; itemReader = new FlatFileItemReader&lt;&gt;();\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    BlobClient blobClient =\n        blobContainerClient.getBlobClient(&quot;path/file.csv&quot;);\n    blobClient.downloadStream(outputStream);\n    final byte[] bytes = outputStream.toByteArray();\n    ByteArrayInputStream inputStream = new ByteArrayInputStream(bytes);\n    \n    ByteArrayResource byteArrayResource = new ByteArrayResource(inputStream.readAllBytes());\n    itemReader.setResource(byteArrayResource); \n\n    itemReader.setName(&quot;csvReader&quot;);\n    itemReader.setLinesToSkip(1);\n    itemReader.setLineMapper(lineMapper());\n    return itemReader;\n  }\n</code></pre>\n<p>Now the mentioned error goes away. However, there is a strange issue. Even if I update the file content, it is not fetching dynamically when the job is triggered. Instead, it is using the same old content. It takes modified content only after pod restart.  I believe it is due to the fact that reader bean is created once and using it everytime.</p>\n<p>So, I need to go back to <code>InputStreamResource</code> implementation by fixing the earlier mentioned issue. What is going wrong here?</p>\n"},{"tags":["java","rest","jetty","netty","reactive"],"answers":[{"tags":[],"owner":{"account_id":5962218,"reputation":91,"user_id":4687036,"display_name":"Ilker Ike kucuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685561496,"creation_date":1685561496,"answer_id":76376729,"question_id":76346115,"body_markdown":"Both Jetty and Netty asynchronously handle incoming requests. There are a lot of service frameworks that uses Netty for handling the Protocol (HTTP) layer, then hand the request to a thread pool thread, see Helidon, gRPC java ...etc. Jetty does the same thing. \r\n\r\nIn my experience, Netty outperforms Jetty in blocking request handling scenario as well. However, in order to give an authoritative answer, someone needs to perform an unbiased comparative performance test. \r\n","title":"Will Jetty outperform netty in a blocking/ non reactive REST application","body":"<p>Both Jetty and Netty asynchronously handle incoming requests. There are a lot of service frameworks that uses Netty for handling the Protocol (HTTP) layer, then hand the request to a thread pool thread, see Helidon, gRPC java ...etc. Jetty does the same thing.</p>\n<p>In my experience, Netty outperforms Jetty in blocking request handling scenario as well. However, in order to give an authoritative answer, someone needs to perform an unbiased comparative performance test.</p>\n"}],"owner":{"account_id":2330823,"reputation":9304,"user_id":2044302,"accept_rate":74,"display_name":"Alexander Petrov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685561496,"creation_date":1685177879,"question_id":76346115,"body_markdown":"I understand the case for NETTY in a reactive non blocking application. But I was wondering if Jetty will outperform Netty in the classic case when we have a regular REST application with blocking / synchrone API. My guess is yes, why ?","title":"Will Jetty outperform netty in a blocking/ non reactive REST application","body":"<p>I understand the case for NETTY in a reactive non blocking application. But I was wondering if Jetty will outperform Netty in the classic case when we have a regular REST application with blocking / synchrone API. My guess is yes, why ?</p>\n"},{"tags":["java","android","android-studio","reboot"],"answers":[{"tags":[],"owner":{"account_id":17917946,"reputation":266,"user_id":13018498,"display_name":"Binil George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685561456,"creation_date":1685561456,"answer_id":76376724,"question_id":76375362,"body_markdown":"With latest version of androids, I think this is not possible, unless you have root access or maybe even mark your app as a necessary service (some default apps are marked so by the company), i don&#39;t think it&#39;s possible normally\r\n","title":"Problem writing an app that can startup after reboot","body":"<p>With latest version of androids, I think this is not possible, unless you have root access or maybe even mark your app as a necessary service (some default apps are marked so by the company), i don't think it's possible normally</p>\n"}],"owner":{"account_id":25741536,"reputation":69,"user_id":19495441,"display_name":"henry Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76376724,"answer_count":1,"score":1,"last_activity_date":1685561456,"creation_date":1685548691,"question_id":76375362,"body_markdown":"I am trying to auto start an app after rebooting the phone. After looking into a few tutorials, none of the codes starts the app after rebooting the phone, and I have tested if ```StartActivityOnBootReceiver.java``` have received the action. This is my code\r\n\r\nAndroidManifest.xml\r\n```\r\n?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.helloworld&quot;\r\n    &gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.HelloWorld&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;receiver android:name=&quot;.StartActivityOnBootReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;\r\n            &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\nMainActivity.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n```\r\nStartActivityOnBoostReceiver.java\r\n```\r\npublic class StartActivityOnBootReceiver extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())) {\r\n            Intent i = new Intent(context, MainActivity.class);\r\n            i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            context.startActivity(i);\r\n            Log.d(&quot;Receiver&quot;, &quot;Received&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAt first, I thought it is due to StartActivityOnBootReceiver haven&#39;t gotten the action of ```Intent.ACTION_BOOT_COMPLETED```, so I added ```Log.d(&quot;Receiver&quot;, &quot;Received&quot;);```\r\n\r\n\r\nAnd this is the result of the logcat\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eXZ13.png\r\n\r\nSo, ```StartActivityOnBootReceiver``` have received the action, but it didn&#39;t turn on the app. Is there something I have done wrong?","title":"Problem writing an app that can startup after reboot","body":"<p>I am trying to auto start an app after rebooting the phone. After looking into a few tutorials, none of the codes starts the app after rebooting the phone, and I have tested if <code>StartActivityOnBootReceiver.java</code> have received the action. This is my code</p>\n<p>AndroidManifest.xml</p>\n<pre><code>?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.helloworld&quot;\n    &gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.HelloWorld&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;receiver android:name=&quot;.StartActivityOnBootReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;\n            android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;\n            &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n<p>StartActivityOnBoostReceiver.java</p>\n<pre><code>public class StartActivityOnBootReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())) {\n            Intent i = new Intent(context, MainActivity.class);\n            i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            context.startActivity(i);\n            Log.d(&quot;Receiver&quot;, &quot;Received&quot;);\n        }\n    }\n}\n</code></pre>\n<p>At first, I thought it is due to StartActivityOnBootReceiver haven't gotten the action of <code>Intent.ACTION_BOOT_COMPLETED</code>, so I added <code>Log.d(&quot;Receiver&quot;, &quot;Received&quot;);</code></p>\n<p>And this is the result of the logcat\n<a href=\"https://i.stack.imgur.com/eXZ13.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eXZ13.png\" alt=\"enter image description here\" /></a></p>\n<p>So, <code>StartActivityOnBootReceiver</code> have received the action, but it didn't turn on the app. Is there something I have done wrong?</p>\n"},{"tags":["java","oracle","maven","ojdbc","ucp"],"comments":[{"owner":{"account_id":240809,"reputation":3247,"user_id":511250,"accept_rate":57,"display_name":"Todd Sharp"},"score":0,"creation_date":1586894778,"post_id":60098095,"comment_id":108295990,"body_markdown":"Did you ever solve this issue?","body":"Did you ever solve this issue?"},{"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"score":1,"creation_date":1587040953,"post_id":60098095,"comment_id":108356255,"body_markdown":"Solving this would require Oracle to acknowledge this as a problem and make a new minor release of UCP jar with this corrected.","body":"Solving this would require Oracle to acknowledge this as a problem and make a new minor release of UCP jar with this corrected."}],"answers":[{"tags":[],"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587105231,"creation_date":1587039720,"answer_id":61250151,"question_id":60098095,"body_markdown":"This is interface incompatibility. `javax.sql.DataSource` defines a [method][1] \r\n\r\n    default ConnectionBuilder createConnectionBuilder() throws SQLException\r\n\r\nAnd as per the contract the return value requires to be of type ConnectionBuilder.\r\n\r\nIf you take a look at documentation of oracle.ucp.jdbc.PoolDataSourceImpl, it defines the method as \r\n\r\n    public UCPConnectionBuilder createConnectionBuilder()\r\n\r\nwhereas `oracle.ucp.jdbc.UCPConnectionBuilder` is not a subtype of `java.sql.ConnectionBuilder`. \r\n\r\nNow unless Oracle releases a never version of `oracle.ucp.jdbc.UCPConnectionBuilder` interface that extends `java.sql.ConnectionBuilder`, you will not be able to interchange UCP PoolDataSource with `javax.sql.DataSource`. \r\n\r\nThe latest release at this point appears to be UCP [19.3][2], which would still hit the same problem which is unfortunate since 19.3 is advertised as JDK11 compliant. Please raise a bug against Oracle UCP to make the maintainers aware of the new entrant createConnectionBuilder in the DataSource interface.\r\n\r\nIn the intrim, if it is feasible, you may fall back to using 11g release 2 of UCP (not 12, not 19) which does not have the method createConnectionBuilder on the PoolDataSource interface. Not an ideal situation, since you are giving up on a decade worth of improvements in UCP by going back to 11g. \r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/javax/sql/DataSource.html#createConnectionBuilder()\r\n  [2]: https://www.oracle.com/database/technologies/appdev/jdbc-ucp-19c-downloads.html","title":"Java 11 migration - createConnectionBuilder() from PoolDataSourceImpl clashes with createConnectionBuilder() from javax.sql.DataSource","body":"<p>This is interface incompatibility. <code>javax.sql.DataSource</code> defines a <a href=\"https://docs.oracle.com/javase/10/docs/api/javax/sql/DataSource.html#createConnectionBuilder()\" rel=\"nofollow noreferrer\">method</a> </p>\n\n<pre><code>default ConnectionBuilder createConnectionBuilder() throws SQLException\n</code></pre>\n\n<p>And as per the contract the return value requires to be of type ConnectionBuilder.</p>\n\n<p>If you take a look at documentation of oracle.ucp.jdbc.PoolDataSourceImpl, it defines the method as </p>\n\n<pre><code>public UCPConnectionBuilder createConnectionBuilder()\n</code></pre>\n\n<p>whereas <code>oracle.ucp.jdbc.UCPConnectionBuilder</code> is not a subtype of <code>java.sql.ConnectionBuilder</code>. </p>\n\n<p>Now unless Oracle releases a never version of <code>oracle.ucp.jdbc.UCPConnectionBuilder</code> interface that extends <code>java.sql.ConnectionBuilder</code>, you will not be able to interchange UCP PoolDataSource with <code>javax.sql.DataSource</code>. </p>\n\n<p>The latest release at this point appears to be UCP <a href=\"https://www.oracle.com/database/technologies/appdev/jdbc-ucp-19c-downloads.html\" rel=\"nofollow noreferrer\">19.3</a>, which would still hit the same problem which is unfortunate since 19.3 is advertised as JDK11 compliant. Please raise a bug against Oracle UCP to make the maintainers aware of the new entrant createConnectionBuilder in the DataSource interface.</p>\n\n<p>In the intrim, if it is feasible, you may fall back to using 11g release 2 of UCP (not 12, not 19) which does not have the method createConnectionBuilder on the PoolDataSource interface. Not an ideal situation, since you are giving up on a decade worth of improvements in UCP by going back to 11g. </p>\n"},{"tags":[],"owner":{"account_id":9757092,"reputation":304,"user_id":7233446,"display_name":"Kuassi Mensah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588102256,"creation_date":1587063336,"answer_id":61257928,"question_id":60098095,"body_markdown":"The problem is that you try to subclass PoolDataSourceImpl which is a vendor-specific class compiled with JDK8 and we do not support extending our classes unless we explicitly suggest to do so, as in [this blog][1]; and this is true for all software vendors.\r\nA part from this restriction, our drivers (ojdbc8.jar, ucp.jar) are forward compatible with newer JDK releases (i.e., work with JDK11) and database releases.\r\n\r\n\r\n  [1]: https://blogs.oracle.com/dev2dev/oracle-sharding-with-ucp-spring-hibernate-mybatis","title":"Java 11 migration - createConnectionBuilder() from PoolDataSourceImpl clashes with createConnectionBuilder() from javax.sql.DataSource","body":"<p>The problem is that you try to subclass PoolDataSourceImpl which is a vendor-specific class compiled with JDK8 and we do not support extending our classes unless we explicitly suggest to do so, as in <a href=\"https://blogs.oracle.com/dev2dev/oracle-sharding-with-ucp-spring-hibernate-mybatis\" rel=\"nofollow noreferrer\">this blog</a>; and this is true for all software vendors.\nA part from this restriction, our drivers (ojdbc8.jar, ucp.jar) are forward compatible with newer JDK releases (i.e., work with JDK11) and database releases.</p>\n"},{"tags":[],"owner":{"account_id":5683888,"reputation":21,"user_id":4494045,"display_name":"Lakshmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590124630,"creation_date":1590124630,"answer_id":61948314,"question_id":60098095,"body_markdown":"With this issue proxying with interface-based proxy on PoolDataSource will never work.\r\nA bug is logged on oracle ucp for the same. I even posted a forum query with no reply on this https://community.oracle.com/thread/4325841.","title":"Java 11 migration - createConnectionBuilder() from PoolDataSourceImpl clashes with createConnectionBuilder() from javax.sql.DataSource","body":"<p>With this issue proxying with interface-based proxy on PoolDataSource will never work.\nA bug is logged on oracle ucp for the same. I even posted a forum query with no reply on this <a href=\"https://community.oracle.com/thread/4325841\" rel=\"nofollow noreferrer\">https://community.oracle.com/thread/4325841</a>.</p>\n"},{"tags":[],"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635787024,"creation_date":1635787024,"answer_id":69800395,"question_id":60098095,"body_markdown":"This problem is resolved in 21.3 with ucp11.jar (a version of UCP compiled with JDK11). In this version UCP `oracle.ucp.jdbc.UCPConnectionBuilder` extends `java.sql.ConnectionBuilder`.\r\n\r\nhttps://repo1.maven.org/maven2/com/oracle/database/jdbc/ucp/21.3.0.0/ucp-21.3.0.0.jar","title":"Java 11 migration - createConnectionBuilder() from PoolDataSourceImpl clashes with createConnectionBuilder() from javax.sql.DataSource","body":"<p>This problem is resolved in 21.3 with ucp11.jar (a version of UCP compiled with JDK11). In this version UCP <code>oracle.ucp.jdbc.UCPConnectionBuilder</code> extends <code>java.sql.ConnectionBuilder</code>.</p>\n<p><a href=\"https://repo1.maven.org/maven2/com/oracle/database/jdbc/ucp/21.3.0.0/ucp-21.3.0.0.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/oracle/database/jdbc/ucp/21.3.0.0/ucp-21.3.0.0.jar</a></p>\n"},{"tags":[],"owner":{"account_id":8815738,"reputation":694,"user_id":6587216,"display_name":"Elias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685561426,"creation_date":1685561426,"answer_id":76376722,"question_id":60098095,"body_markdown":"In my case I was using Java 8 but still getting this exception and the root cause of the issue is Oracle Client was upgraded by DB Team and the ORACLE_HOME configuration has to change accordingly in your application server. \r\n**Example:** \r\n**Old:** Oracle client version 12.x.x \r\n**New:** Oracle client version 19.x.x","title":"Java 11 migration - createConnectionBuilder() from PoolDataSourceImpl clashes with createConnectionBuilder() from javax.sql.DataSource","body":"<p>In my case I was using Java 8 but still getting this exception and the root cause of the issue is Oracle Client was upgraded by DB Team and the ORACLE_HOME configuration has to change accordingly in your application server.\n<strong>Example:</strong>\n<strong>Old:</strong> Oracle client version 12.x.x\n<strong>New:</strong> Oracle client version 19.x.x</p>\n"}],"owner":{"account_id":6223543,"reputation":21,"user_id":4842537,"display_name":"Dragos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1685561426,"creation_date":1581001850,"question_id":60098095,"body_markdown":"I am trying to migrate a project from Java 8 to Java 11, which uses ojdbc. I am using a class which extends PoolDataSourceImpl, which implements PooLDataSource, which extends javax.sql.DataSource and while trying to built it with maven it gives this error:\r\n\r\n&gt; Compilation failure\r\n[ERROR] createConnectionBuilder() in oracle.ucp.jdbc.PoolDataSourceImpl cannot implement create\r\nConnectionBuilder() in javax.sql.DataSource\r\n[ERROR]   return type oracle.ucp.jdbc.UCPConnectionBuilder is not compatible with java.sql.ConnectionBuilder\r\n\r\nDoes anyone have any suggestions?","title":"Java 11 migration - createConnectionBuilder() from PoolDataSourceImpl clashes with createConnectionBuilder() from javax.sql.DataSource","body":"<p>I am trying to migrate a project from Java 8 to Java 11, which uses ojdbc. I am using a class which extends PoolDataSourceImpl, which implements PooLDataSource, which extends javax.sql.DataSource and while trying to built it with maven it gives this error:</p>\n\n<blockquote>\n  <p>Compilation failure\n  [ERROR] createConnectionBuilder() in oracle.ucp.jdbc.PoolDataSourceImpl cannot implement create\n  ConnectionBuilder() in javax.sql.DataSource\n  [ERROR]   return type oracle.ucp.jdbc.UCPConnectionBuilder is not compatible with java.sql.ConnectionBuilder</p>\n</blockquote>\n\n<p>Does anyone have any suggestions?</p>\n"},{"tags":["java","autocomplete","scenebuilder","controlsfx","javafx-11"],"answers":[{"tags":[],"owner":{"account_id":18781890,"reputation":53,"user_id":13696354,"display_name":"BalGu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606329385,"creation_date":1606329385,"answer_id":65010798,"question_id":64432454,"body_markdown":"Your issues is that `--add-exports=javafx.base/com.sun.javafx.event=ALL-UNNAMED` works only for JavaFX 9 or less.\r\n\r\nThis is the option you want to use in your VM options.\r\n\r\n`--add-exports=javafx.base/com.sun.javafx.event=org.controlsfx.controls`\r\n\r\n","title":"Autocomplete in Javafx11.0.2 not working shows error of javafx.base and controlsfx not exported","body":"<p>Your issues is that <code>--add-exports=javafx.base/com.sun.javafx.event=ALL-UNNAMED</code> works only for JavaFX 9 or less.</p>\n<p>This is the option you want to use in your VM options.</p>\n<p><code>--add-exports=javafx.base/com.sun.javafx.event=org.controlsfx.controls</code></p>\n"},{"tags":[],"owner":{"account_id":18605274,"reputation":11,"user_id":13559033,"display_name":"Rashid Makki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685561270,"creation_date":1685561270,"answer_id":76376705,"question_id":64432454,"body_markdown":"Please refer to the following link in order to solve this issue:\r\nhttps://dzone.com/articles/how-to-export-all-modules-to-all-modules-at-runtime-in-java\r\n\r\nAdd the dependency in your project :                                               \r\n\r\n\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.burningwave&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;12.62.7&lt;/version&gt;\r\n         &lt;/dependency&gt;\r\n\r\nAdd the following in module-info.java file:                 \r\n                                                                             \r\n     requires org.burningwave.core;\r\n\r\nExecute this method after adding the dependency: \r\n                                           \r\n     Modules.exportAllToAll();","title":"Autocomplete in Javafx11.0.2 not working shows error of javafx.base and controlsfx not exported","body":"<p>Please refer to the following link in order to solve this issue:\n<a href=\"https://dzone.com/articles/how-to-export-all-modules-to-all-modules-at-runtime-in-java\" rel=\"nofollow noreferrer\">https://dzone.com/articles/how-to-export-all-modules-to-all-modules-at-runtime-in-java</a></p>\n<p>Add the dependency in your project :</p>\n<pre><code>      &lt;dependency&gt;\n        &lt;groupId&gt;org.burningwave&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;12.62.7&lt;/version&gt;\n     &lt;/dependency&gt;\n</code></pre>\n<p>Add the following in module-info.java file:</p>\n<pre><code> requires org.burningwave.core;\n</code></pre>\n<p>Execute this method after adding the dependency:</p>\n<pre><code> Modules.exportAllToAll();\n</code></pre>\n"}],"owner":{"account_id":2101606,"reputation":51,"user_id":1869074,"accept_rate":40,"display_name":"J.Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685561270,"creation_date":1603128661,"question_id":64432454,"body_markdown":"I am using javafx-11.0.2 and trying to use autocomplete feature.The code is like this: \r\n\r\n    @FXML private TextField corporateName;\r\n        private Set&lt;String&gt; possibleSuggestion = new HashSet&lt;&gt;(Arrays.asList(_possibleSuggestion));\r\n    private String[] _possibleSuggestion ={&quot;Abc Corp&quot;, &quot;bbb corp&quot;, &quot;jags corp&quot;, &quot;test&quot;,&quot;xuz&quot;,&quot;hyatt&quot;,&quot;yak n yeti&quot;};\r\n        \r\n    \r\n    public void initialize(URL location, ResourceBundle resources) {\r\n           \r\n            TextFields.bindAutoCompletion(corporateName,possibleSuggestion);\r\n    }\r\nAnd the `VM options` is as follows: \r\n\r\n    --module-path /home/development/javafx-sdk-11.0.2/lib$Classpath$ \r\n    --add-modules javafx.controls,javafx.fxml,javafx.base\r\n    --add-exports=javafx.base/com.sun.javafx.event=ALL-UNNAMED\r\n\r\nbut everytime it is showing error like this :\r\n\r\n    Caused by: java.lang.IllegalAccessError: class org.controlsfx.control.textfield.AutoCompletionBinding (in module controlsfx) cannot access class com.sun.javafx.event.EventHandlerManager (in module javafx.base) because module javafx.base does not export com.sun.javafx.event to module controlsfx\r\n\r\nHow can I resolve this error ? Please suggest.","title":"Autocomplete in Javafx11.0.2 not working shows error of javafx.base and controlsfx not exported","body":"<p>I am using javafx-11.0.2 and trying to use autocomplete feature.The code is like this:</p>\n<pre><code>@FXML private TextField corporateName;\n    private Set&lt;String&gt; possibleSuggestion = new HashSet&lt;&gt;(Arrays.asList(_possibleSuggestion));\nprivate String[] _possibleSuggestion ={&quot;Abc Corp&quot;, &quot;bbb corp&quot;, &quot;jags corp&quot;, &quot;test&quot;,&quot;xuz&quot;,&quot;hyatt&quot;,&quot;yak n yeti&quot;};\n    \n\npublic void initialize(URL location, ResourceBundle resources) {\n       \n        TextFields.bindAutoCompletion(corporateName,possibleSuggestion);\n}\n</code></pre>\n<p>And the <code>VM options</code> is as follows:</p>\n<pre><code>--module-path /home/development/javafx-sdk-11.0.2/lib$Classpath$ \n--add-modules javafx.controls,javafx.fxml,javafx.base\n--add-exports=javafx.base/com.sun.javafx.event=ALL-UNNAMED\n</code></pre>\n<p>but everytime it is showing error like this :</p>\n<pre><code>Caused by: java.lang.IllegalAccessError: class org.controlsfx.control.textfield.AutoCompletionBinding (in module controlsfx) cannot access class com.sun.javafx.event.EventHandlerManager (in module javafx.base) because module javafx.base does not export com.sun.javafx.event to module controlsfx\n</code></pre>\n<p>How can I resolve this error ? Please suggest.</p>\n"},{"tags":["java","swing","jtabbedpane","grouplayout"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1685546680,"post_id":76374999,"comment_id":134676192,"body_markdown":"Don&#39;t know about GroupLayout, but to get the label background color use `gcea.setOpaque(true)` in addition to `gcea.setBackground(...)`.","body":"Don&#39;t know about GroupLayout, but to get the label background color use <code>gcea.setOpaque(true)</code> in addition to <code>gcea.setBackground(...)</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1685552624,"post_id":76374999,"comment_id":134677537,"body_markdown":"GroupLayout is one of the hardest layouts to work with.  If all of the components in the lighter gray area are going to be the same size, use GridLayout.  If not, you may be able to use a vertical BoxLayout.  If neither of those is sufficient, GridBagLayout is quite versatile, but its versatility means it’s harder to learn.","body":"GroupLayout is one of the hardest layouts to work with.  If all of the components in the lighter gray area are going to be the same size, use GridLayout.  If not, you may be able to use a vertical BoxLayout.  If neither of those is sufficient, GridBagLayout is quite versatile, but its versatility means it’s harder to learn."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1685557985,"post_id":76374999,"comment_id":134678567,"body_markdown":"I would use a `BorderLayout` and add the label to the `BorderLayout.PAGE_START`. The height will be respected and the width will fill the panel. Read the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) for more information and examples.","body":"I would use a <code>BorderLayout</code> and add the label to the <code>BorderLayout.PAGE_START</code>. The height will be respected and the width will fill the panel. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a> for more information and examples."}],"owner":{"account_id":25188076,"reputation":23,"user_id":19028647,"display_name":"GamingLegion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685561144,"creation_date":1685546044,"question_id":76374999,"body_markdown":"I&#39;m trying to insert a `JLabel` into a `JTabbedPane` and have it stretch from the left to the right ends. I can insert it and manipulate the width manually, but don&#39;t know how to do it automatically. Below is what it looks like now. The white border should ideally stretch to the right side.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/clvBV.png\r\nI&#39;m using a `GroupLayout` for this and I am very unfamiliar with it so that&#39;s why I&#39;m asking. Below is the code for the page.\r\n```\r\npublic class Gen1 extends JPanel {\r\n    private MaterialTabbed tabs;\r\n\tprivate JPanel red, blue, yellow;\r\n    \r\n\tpublic Gen1() {\r\n\t\tinitComponents();\r\n\t\tsetOpaque(false);\r\n\t\tinitRed();\r\n\t}\r\n\t\r\n\tprivate void initRed() {\r\n\t\tJLabel gcea = new JLabel();\r\n\t\tgcea.setText(&quot;Gotta Catch &#39;Em All&quot;);\r\n\t\tgcea.setBorder(new LineBorder(Color.WHITE, 5));\r\n\t\tgcea.setBackground(new Color(251, 188, 4));\r\n\t\t\r\n\t\tGroupLayout redLayout = new GroupLayout(red);\r\n\t        red.setLayout(redLayout);\r\n\t        redLayout.setHorizontalGroup(redLayout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n\t            .addGroup(redLayout.createSequentialGroup()\r\n\t                .addComponent(gcea, GroupLayout.DEFAULT_SIZE, tabs.getUI().getTabBounds(tabs, 0).width, Short.MAX_VALUE)\r\n\t                .addContainerGap(518, Short.MAX_VALUE))\r\n\t        );\r\n\t        redLayout.setVerticalGroup(redLayout.createParallelGroup(GroupLayout.Alignment.LEADING)\r\n\t            .addGroup(redLayout.createSequentialGroup()\r\n\t                .addComponent(gcea)\r\n\t                .addContainerGap(256, Short.MAX_VALUE))\r\n\t        );\r\n\t}\r\n\r\n\tprivate void initComponents() {\r\n\t\ttabs = new MaterialTabbed();\r\n\t\tred = new ChecklistPage(new BorderLayout());\r\n\t\tblue = new ChecklistPage(new BorderLayout());\r\n\t\tyellow = new ChecklistPage(new BorderLayout());\r\n\t\t\r\n\t\ttabs.setTabPlacement(JTabbedPane.RIGHT);\r\n\t\t\t\t\r\n        GroupLayout redLayout = new GroupLayout(red);\r\n        red.setLayout(redLayout);\r\n        redLayout.setHorizontalGroup(redLayout.createParallelGroup(GroupLayout.Alignment.LEADING).addGap(0, 655, Short.MAX_VALUE));\r\n        redLayout.setVerticalGroup(redLayout.createParallelGroup(GroupLayout.Alignment.LEADING).addGap(0, 332, Short.MAX_VALUE));\r\n        tabs.addTab(&quot;&quot;, ImageResize.resize(new ImageIcon(this.getClass().getResource(&quot;/gamecovers/red.png&quot;)), 100), red);\r\n\r\n        GroupLayout blueLayout = new GroupLayout(blue);\r\n        blue.setLayout(blueLayout);\r\n        blueLayout.setHorizontalGroup(blueLayout.createParallelGroup(GroupLayout.Alignment.LEADING).addGap(0, 655, Short.MAX_VALUE));\r\n        blueLayout.setVerticalGroup(blueLayout.createParallelGroup(GroupLayout.Alignment.LEADING).addGap(0, 332, Short.MAX_VALUE));\r\n        tabs.addTab(&quot;&quot;, ImageResize.resize(new ImageIcon(this.getClass().getResource(&quot;/gamecovers/blue.png&quot;)), 100), blue);\r\n        \r\n        GroupLayout yellowLayout = new GroupLayout(yellow);\r\n        yellow.setLayout(yellowLayout);\r\n        yellowLayout.setHorizontalGroup(yellowLayout.createParallelGroup(GroupLayout.Alignment.LEADING).addGap(0, 655, Short.MAX_VALUE));\r\n        yellowLayout.setVerticalGroup(yellowLayout.createParallelGroup(GroupLayout.Alignment.LEADING).addGap(0, 332, Short.MAX_VALUE));\r\n        tabs.addTab(&quot;&quot;, ImageResize.resize(new ImageIcon(this.getClass().getResource(&quot;/gamecovers/yellow.png&quot;)), 100), yellow);\r\n        \r\n\t\tGroupLayout layout = new GroupLayout(this);\r\n\t\tthis.setLayout(layout);\r\n\t\tlayout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addComponent(tabs, GroupLayout.DEFAULT_SIZE, 500, Short.MAX_VALUE).addContainerGap()));\r\n\t\tlayout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addComponent(tabs, GroupLayout.DEFAULT_SIZE, 288, Short.MAX_VALUE).addContainerGap()));\r\n\t}\r\n}\r\n```\r\n`MaterialTabbed` is just a custom `JTabbedPane` and `ChecklistPage` is a custom `JPanel`. Also the `setBackground` method isn&#39;t working either, if anyone has a fix for that as well.","title":"JLabel strech to end of container","body":"<p>I'm trying to insert a <code>JLabel</code> into a <code>JTabbedPane</code> and have it stretch from the left to the right ends. I can insert it and manipulate the width manually, but don't know how to do it automatically. Below is what it looks like now. The white border should ideally stretch to the right side.\n<a href=\"https://i.stack.imgur.com/clvBV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/clvBV.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using a <code>GroupLayout</code> for this and I am very unfamiliar with it so that's why I'm asking. Below is the code for the page.</p>\n<pre><code>public class Gen1 extends JPanel {\n    private MaterialTabbed tabs;\n    private JPanel red, blue, yellow;\n    \n    public Gen1() {\n        initComponents();\n        setOpaque(false);\n        initRed();\n    }\n    \n    private void initRed() {\n        JLabel gcea = new JLabel();\n        gcea.setText(&quot;Gotta Catch 'Em All&quot;);\n        gcea.setBorder(new LineBorder(Color.WHITE, 5));\n        gcea.setBackground(new Color(251, 188, 4));\n        \n        GroupLayout redLayout = new GroupLayout(red);\n            red.setLayout(redLayout);\n            redLayout.setHorizontalGroup(redLayout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                .addGroup(redLayout.createSequentialGroup()\n                    .addComponent(gcea, GroupLayout.DEFAULT_SIZE, tabs.getUI().getTabBounds(tabs, 0).width, Short.MAX_VALUE)\n                    .addContainerGap(518, Short.MAX_VALUE))\n            );\n            redLayout.setVerticalGroup(redLayout.createParallelGroup(GroupLayout.Alignment.LEADING)\n                .addGroup(redLayout.createSequentialGroup()\n                    .addComponent(gcea)\n                    .addContainerGap(256, Short.MAX_VALUE))\n            );\n    }\n\n    private void initComponents() {\n        tabs = new MaterialTabbed();\n        red = new ChecklistPage(new BorderLayout());\n        blue = new ChecklistPage(new BorderLayout());\n        yellow = new ChecklistPage(new BorderLayout());\n        \n        tabs.setTabPlacement(JTabbedPane.RIGHT);\n                \n        GroupLayout redLayout = new GroupLayout(red);\n        red.setLayout(redLayout);\n        redLayout.setHorizontalGroup(redLayout.createParallelGroup(GroupLayout.Alignment.LEADING).addGap(0, 655, Short.MAX_VALUE));\n        redLayout.setVerticalGroup(redLayout.createParallelGroup(GroupLayout.Alignment.LEADING).addGap(0, 332, Short.MAX_VALUE));\n        tabs.addTab(&quot;&quot;, ImageResize.resize(new ImageIcon(this.getClass().getResource(&quot;/gamecovers/red.png&quot;)), 100), red);\n\n        GroupLayout blueLayout = new GroupLayout(blue);\n        blue.setLayout(blueLayout);\n        blueLayout.setHorizontalGroup(blueLayout.createParallelGroup(GroupLayout.Alignment.LEADING).addGap(0, 655, Short.MAX_VALUE));\n        blueLayout.setVerticalGroup(blueLayout.createParallelGroup(GroupLayout.Alignment.LEADING).addGap(0, 332, Short.MAX_VALUE));\n        tabs.addTab(&quot;&quot;, ImageResize.resize(new ImageIcon(this.getClass().getResource(&quot;/gamecovers/blue.png&quot;)), 100), blue);\n        \n        GroupLayout yellowLayout = new GroupLayout(yellow);\n        yellow.setLayout(yellowLayout);\n        yellowLayout.setHorizontalGroup(yellowLayout.createParallelGroup(GroupLayout.Alignment.LEADING).addGap(0, 655, Short.MAX_VALUE));\n        yellowLayout.setVerticalGroup(yellowLayout.createParallelGroup(GroupLayout.Alignment.LEADING).addGap(0, 332, Short.MAX_VALUE));\n        tabs.addTab(&quot;&quot;, ImageResize.resize(new ImageIcon(this.getClass().getResource(&quot;/gamecovers/yellow.png&quot;)), 100), yellow);\n        \n        GroupLayout layout = new GroupLayout(this);\n        this.setLayout(layout);\n        layout.setHorizontalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addComponent(tabs, GroupLayout.DEFAULT_SIZE, 500, Short.MAX_VALUE).addContainerGap()));\n        layout.setVerticalGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING).addGroup(layout.createSequentialGroup().addContainerGap().addComponent(tabs, GroupLayout.DEFAULT_SIZE, 288, Short.MAX_VALUE).addContainerGap()));\n    }\n}\n</code></pre>\n<p><code>MaterialTabbed</code> is just a custom <code>JTabbedPane</code> and <code>ChecklistPage</code> is a custom <code>JPanel</code>. Also the <code>setBackground</code> method isn't working either, if anyone has a fix for that as well.</p>\n"},{"tags":["java","amazon-web-services","encryption","amazon-kms"],"owner":{"account_id":17228592,"reputation":11,"user_id":12473678,"display_name":"Rajat Dobriyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685561082,"creation_date":1685561082,"question_id":76376684,"body_markdown":"Get AWS KMS Asymmetric RSA_4096 private and public key in Java using SDK2.\r\n\r\nHere I need to get Asymmetric keys from KMS. I have written the java code but it&#39;s throwing some exception :\r\n\r\n```\r\npackage com.example;\r\n\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\r\nimport software.amazon.awssdk.auth.credentials.DefaultCredentialsProvider;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.kms.KmsClient;\r\nimport software.amazon.awssdk.services.kms.model.DataKeyPairSpec;\r\nimport software.amazon.awssdk.services.kms.model.DataKeySpec;\r\nimport software.amazon.awssdk.services.kms.model.DescribeKeyRequest;\r\nimport software.amazon.awssdk.services.kms.model.DescribeKeyResponse;\r\nimport software.amazon.awssdk.services.kms.model.GenerateDataKeyPairRequest;\r\nimport software.amazon.awssdk.services.kms.model.GenerateDataKeyPairResponse;\r\n\r\npublic class KmsKeys {\r\n\tpublic static void main(String[] args) {\r\n\t\tAwsCredentialsProvider awsCredentialsProvider = DefaultCredentialsProvider.builder().build();\r\n\t\tKmsClient kmsClient = KmsClient.builder().credentialsProvider(awsCredentialsProvider)\r\n\t\t\t\t.region(Region.CA_CENTRAL_1).build();\r\n\t\tGenerateDataKeyPairRequest dataKeyPairRequest = GenerateDataKeyPairRequest.builder()\r\n\t\t\t\t.keyPairSpec(DataKeyPairSpec.RSA_4096).keyId(&quot;xxx&quot;).build();\r\n\t\tDescribeKeyRequest describeKeyRequest = DescribeKeyRequest.builder()\r\n\t\t\t\t.keyId(&quot;xxx&quot;).build();\r\n\t\tDescribeKeyResponse describeKey = kmsClient.describeKey(describeKeyRequest);\r\n\t\tGenerateDataKeyPairResponse generateDataKeyPair = kmsClient.generateDataKeyPair(dataKeyPairRequest);\r\n\t\tString privateKey = generateDataKeyPair.privateKeyPlaintext().asUtf8String();\r\n\t\tString publicKey = generateDataKeyPair.publicKey().asUtf8String();\r\n\t\tSystem.out.println(&quot;privateKey : &quot; + privateKey);\r\n\t\tSystem.out.println(&quot;publicKey : &quot; + publicKey);\r\n\r\n\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nException I am getting : \r\n\r\n```\r\nException in thread &quot;main&quot; software.amazon.awssdk.services.kms.model.InvalidKeyUsageException: You cannot generate a data key pair with an asymmetric CMK (Service: Kms, Status Code: 400, Request ID: 95b51a17-f041-44ea-be67-7df73c98513d)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n\tat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n\tat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n\tat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\r\n\tat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n\tat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n\tat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n\tat software.amazon.awssdk.services.kms.DefaultKmsClient.generateDataKeyPair(DefaultKmsClient.java:4174)\r\n\tat com.example.KmsKeys.main(KmsKeys.java:21)\r\n\r\n```\r\nIs it possible to get Asymmetric keys from kms using aws sdk?\r\nIf yes why it&#39;s giving me exception here. Please help if someone has ever tried this.\r\n\r\n","title":"Fetch AWS KMS Asymmetric keys in java","body":"<p>Get AWS KMS Asymmetric RSA_4096 private and public key in Java using SDK2.</p>\n<p>Here I need to get Asymmetric keys from KMS. I have written the java code but it's throwing some exception :</p>\n<pre><code>package com.example;\n\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\nimport software.amazon.awssdk.auth.credentials.DefaultCredentialsProvider;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.kms.KmsClient;\nimport software.amazon.awssdk.services.kms.model.DataKeyPairSpec;\nimport software.amazon.awssdk.services.kms.model.DataKeySpec;\nimport software.amazon.awssdk.services.kms.model.DescribeKeyRequest;\nimport software.amazon.awssdk.services.kms.model.DescribeKeyResponse;\nimport software.amazon.awssdk.services.kms.model.GenerateDataKeyPairRequest;\nimport software.amazon.awssdk.services.kms.model.GenerateDataKeyPairResponse;\n\npublic class KmsKeys {\n    public static void main(String[] args) {\n        AwsCredentialsProvider awsCredentialsProvider = DefaultCredentialsProvider.builder().build();\n        KmsClient kmsClient = KmsClient.builder().credentialsProvider(awsCredentialsProvider)\n                .region(Region.CA_CENTRAL_1).build();\n        GenerateDataKeyPairRequest dataKeyPairRequest = GenerateDataKeyPairRequest.builder()\n                .keyPairSpec(DataKeyPairSpec.RSA_4096).keyId(&quot;xxx&quot;).build();\n        DescribeKeyRequest describeKeyRequest = DescribeKeyRequest.builder()\n                .keyId(&quot;xxx&quot;).build();\n        DescribeKeyResponse describeKey = kmsClient.describeKey(describeKeyRequest);\n        GenerateDataKeyPairResponse generateDataKeyPair = kmsClient.generateDataKeyPair(dataKeyPairRequest);\n        String privateKey = generateDataKeyPair.privateKeyPlaintext().asUtf8String();\n        String publicKey = generateDataKeyPair.publicKey().asUtf8String();\n        System.out.println(&quot;privateKey : &quot; + privateKey);\n        System.out.println(&quot;publicKey : &quot; + publicKey);\n\n\n    }\n\n}\n\n</code></pre>\n<p>Exception I am getting :</p>\n<pre><code>Exception in thread &quot;main&quot; software.amazon.awssdk.services.kms.model.InvalidKeyUsageException: You cannot generate a data key pair with an asymmetric CMK (Service: Kms, Status Code: 400, Request ID: 95b51a17-f041-44ea-be67-7df73c98513d)\n    at software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleErrorResponse(CombinedResponseHandler.java:125)\n    at software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handleResponse(CombinedResponseHandler.java:82)\n    at software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:60)\n    at software.amazon.awssdk.core.internal.http.CombinedResponseHandler.handle(CombinedResponseHandler.java:41)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\n    at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\n    at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\n    at software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:171)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:179)\n    at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\n    at software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\n    at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\n    at software.amazon.awssdk.services.kms.DefaultKmsClient.generateDataKeyPair(DefaultKmsClient.java:4174)\n    at com.example.KmsKeys.main(KmsKeys.java:21)\n\n</code></pre>\n<p>Is it possible to get Asymmetric keys from kms using aws sdk?\nIf yes why it's giving me exception here. Please help if someone has ever tried this.</p>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":7976924,"reputation":19,"user_id":6019776,"display_name":"East"},"score":0,"creation_date":1457213371,"post_id":35820092,"comment_id":59307645,"body_markdown":"no i need help with this","body":"no i need help with this"},{"owner":{"account_id":7976924,"reputation":19,"user_id":6019776,"display_name":"East"},"score":0,"creation_date":1457213677,"post_id":35820092,"comment_id":59307740,"body_markdown":"I dont need my app to just say &quot;Button was clicked&quot; I actually need it to open a new window","body":"I dont need my app to just say &quot;Button was clicked&quot; I actually need it to open a new window"},{"owner":{"account_id":1914082,"reputation":20095,"user_id":1727092,"accept_rate":100,"display_name":"Pragnani"},"score":0,"creation_date":1457213984,"post_id":35820092,"comment_id":59307817,"body_markdown":"please refer to the above question to achieve the same","body":"please refer to the above question to achieve the same"},{"owner":{"account_id":7976924,"reputation":19,"user_id":6019776,"display_name":"East"},"score":0,"creation_date":1457214114,"post_id":35820092,"comment_id":59307874,"body_markdown":"They are doing something completely different!","body":"They are doing something completely different!"},{"owner":{"account_id":5051067,"reputation":2055,"user_id":4055635,"accept_rate":86,"display_name":"gautamprajapati"},"score":0,"creation_date":1457214813,"post_id":35820092,"comment_id":59308091,"body_markdown":"I think we should not downvote the question, just helping and suggestions would be great. New users might get discouraged when they see lots downvotes. I think we all were at this stage at some point in time.","body":"I think we should not downvote the question, just helping and suggestions would be great. New users might get discouraged when they see lots downvotes. I think we all were at this stage at some point in time."},{"owner":{"account_id":7976924,"reputation":19,"user_id":6019776,"display_name":"East"},"score":0,"creation_date":1457216752,"post_id":35820092,"comment_id":59308716,"body_markdown":"I cant ask another question now for 2 days..","body":"I cant ask another question now for 2 days.."},{"owner":{"account_id":1483719,"reputation":6279,"user_id":1392423,"accept_rate":85,"display_name":"Tudor Luca"},"score":0,"creation_date":1457219787,"post_id":35820092,"comment_id":59309459,"body_markdown":"@East perfect! You&#39;ll have time to finish the android-dev (https://www.udacity.com/course/developing-android-apps--ud853) course.","body":"@East perfect! You&#39;ll have time to finish the android-dev (<a href=\"https://www.udacity.com/course/developing-android-apps--ud853\" rel=\"nofollow noreferrer\">udacity.com/course/developing-android-apps--ud853</a>) course."}],"answers":[{"tags":[],"owner":{"account_id":1483719,"reputation":6279,"user_id":1392423,"accept_rate":85,"display_name":"Tudor Luca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457214216,"creation_date":1457214216,"answer_id":35820276,"question_id":35820092,"body_markdown":"Your onClickListener does nothing, of course nothing happens.\r\nCreate a new Activity (let&#39;s say you name it `NewActivity`, add it to the `AndroidManifest.xml` and add the following code you your existing activity:\r\n\r\n    button.setOnClickListener(new View.OnClickListener() {    \r\n        public void onClick(View view) {\r\n            final Intent intent = new Intent(FifthActivity.this, NewActivity.class);\r\n            startActivity(intent);\r\n        }\r\n    });\r\n\r\nI have a very strong feeling you&#39;re kind of lost in Android Development. I strongly suggest you follow Udacity&#39;s Android Development [course][1].\r\n\r\n\r\n  [1]: https://www.udacity.com/course/developing-android-apps--ud853","title":"Opening New Activity in Second Activity","body":"<p>Your onClickListener does nothing, of course nothing happens.\nCreate a new Activity (let's say you name it <code>NewActivity</code>, add it to the <code>AndroidManifest.xml</code> and add the following code you your existing activity:</p>\n\n<pre><code>button.setOnClickListener(new View.OnClickListener() {    \n    public void onClick(View view) {\n        final Intent intent = new Intent(FifthActivity.this, NewActivity.class);\n        startActivity(intent);\n    }\n});\n</code></pre>\n\n<p>I have a very strong feeling you're kind of lost in Android Development. I strongly suggest you follow Udacity's Android Development <a href=\"https://www.udacity.com/course/developing-android-apps--ud853\" rel=\"nofollow\">course</a>.</p>\n"},{"tags":[],"owner":{"account_id":5013545,"reputation":23,"user_id":4029015,"display_name":"Floydasaurus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457214559,"creation_date":1457214559,"answer_id":35820335,"question_id":35820092,"body_markdown":"Alright, so you have the single activity with its layout, right?\r\n\r\nWhat your asking is &quot;how do I launch another activity with another layout?&quot;\r\n\r\nTo do this, we&#39;ll use an &quot;intent&quot; (think of an intent as how the activities talk to eachother, they get passed back and forth)\r\n\r\nTo create the intent and start, you&#39;ll need these couple lines:\r\n\r\n    Intent intent = new Intent(this, Target.class);\r\n    startActivity(intent);\r\n\r\nWhich should work within your onClick.\r\n\r\nIf you created the activity within Android Studio with File&gt;New&gt;Activity, this should have put the activity in your `AndroidManifest.xml` already, otherwise you&#39;ll need to add it yourself.","title":"Opening New Activity in Second Activity","body":"<p>Alright, so you have the single activity with its layout, right?</p>\n\n<p>What your asking is \"how do I launch another activity with another layout?\"</p>\n\n<p>To do this, we'll use an \"intent\" (think of an intent as how the activities talk to eachother, they get passed back and forth)</p>\n\n<p>To create the intent and start, you'll need these couple lines:</p>\n\n<pre><code>Intent intent = new Intent(this, Target.class);\nstartActivity(intent);\n</code></pre>\n\n<p>Which should work within your onClick.</p>\n\n<p>If you created the activity within Android Studio with File>New>Activity, this should have put the activity in your <code>AndroidManifest.xml</code> already, otherwise you'll need to add it yourself.</p>\n"},{"tags":[],"owner":{"account_id":5051067,"reputation":2055,"user_id":4055635,"accept_rate":86,"display_name":"gautamprajapati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1457214588,"creation_date":1457214588,"answer_id":35820342,"question_id":35820092,"body_markdown":"You have to use intent to open a new Activity. Assuming you want to open an activity called `SixthActivity` from your `FifthActivity`.\r\n\r\nYou should use this:\r\n\r\n   \r\n\r\n     public class FifthActivity extends Activity {\r\n        \r\n                Button button;\r\n                @Override\r\n                protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.fifth_layout);\r\n                Button button = (Button) findViewById(R.id.button10);\r\n                button.setOnClickListener(new View.OnClickListener() {\r\n                    public void onClick(View view) {\r\n                    Intent intent = new Intent(FifthActivity.this,SixthActivity.java);\r\n                    FifthActivity.this.startActivity(intent);\r\n                    }\r\n                });\r\n        \r\n            }\r\n        }\r\n\r\nHope this helps,\r\nRegards.","title":"Opening New Activity in Second Activity","body":"<p>You have to use intent to open a new Activity. Assuming you want to open an activity called <code>SixthActivity</code> from your <code>FifthActivity</code>.</p>\n\n<p>You should use this:</p>\n\n<pre><code> public class FifthActivity extends Activity {\n\n            Button button;\n            @Override\n            protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.fifth_layout);\n            Button button = (Button) findViewById(R.id.button10);\n            button.setOnClickListener(new View.OnClickListener() {\n                public void onClick(View view) {\n                Intent intent = new Intent(FifthActivity.this,SixthActivity.java);\n                FifthActivity.this.startActivity(intent);\n                }\n            });\n\n        }\n    }\n</code></pre>\n\n<p>Hope this helps,\nRegards.</p>\n"}],"owner":{"account_id":7976924,"reputation":19,"user_id":6019776,"display_name":"East"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2125,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1457215373,"accepted_answer_id":35820342,"answer_count":3,"score":-2,"last_activity_date":1685560976,"creation_date":1457213103,"question_id":35820092,"body_markdown":"So far from all the tutorials I&#39;ve looked at, most only get to the point of &quot;Button Was Clicked&quot;. I need my second activity button to open a new activity.\r\n\r\nI named this class, fifth_layout.xml:\r\n\r\n    &lt;Button\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;wrap_content&quot;\r\n      android:text=&quot;Amazon&quot;\r\n      android:drawableLeft=&quot;@drawable/amazon&quot;\r\n      android:drawableStart=&quot;@drawable/amazon&quot;\r\n      android:layout_weight=&quot;0.07&quot;\r\n      tools:ignore=&quot;HardcodedText&quot;\r\n      android:id=&quot;@+id/button10&quot;\r\n      android:textSize=&quot;35sp&quot; /&gt;\r\n\r\n\r\nAfter that in my FifthActivity.java I have:\r\n\r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Button;\r\n    \r\n    \r\n    public class FifthActivity extends Activity {\r\n    \r\n      Button button;\r\n      \r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.fifth_layout);\r\n        \r\n        Button button = (Button) findViewById(R.id.button10);\r\n       \r\n        button.setOnClickListener(new View.OnClickListener() {\r\n          public void onClick(View view) {}\r\n        });\r\n      }\r\n    }\r\n\r\nI just need the button to be able to open a new blank activity. But when I click the button nothing happens. I just need a new activity. I feel like the code is correct but I just need help on what I might be doing wrong.","title":"Opening New Activity in Second Activity","body":"<p>So far from all the tutorials I've looked at, most only get to the point of &quot;Button Was Clicked&quot;. I need my second activity button to open a new activity.</p>\n<p>I named this class, fifth_layout.xml:</p>\n<pre><code>&lt;Button\n  android:layout_width=&quot;match_parent&quot;\n  android:layout_height=&quot;wrap_content&quot;\n  android:text=&quot;Amazon&quot;\n  android:drawableLeft=&quot;@drawable/amazon&quot;\n  android:drawableStart=&quot;@drawable/amazon&quot;\n  android:layout_weight=&quot;0.07&quot;\n  tools:ignore=&quot;HardcodedText&quot;\n  android:id=&quot;@+id/button10&quot;\n  android:textSize=&quot;35sp&quot; /&gt;\n</code></pre>\n<p>After that in my FifthActivity.java I have:</p>\n<pre><code>import android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\n\n\npublic class FifthActivity extends Activity {\n\n  Button button;\n  \n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.fifth_layout);\n    \n    Button button = (Button) findViewById(R.id.button10);\n   \n    button.setOnClickListener(new View.OnClickListener() {\n      public void onClick(View view) {}\n    });\n  }\n}\n</code></pre>\n<p>I just need the button to be able to open a new blank activity. But when I click the button nothing happens. I just need a new activity. I feel like the code is correct but I just need help on what I might be doing wrong.</p>\n"},{"tags":["java","google-app-engine"],"answers":[{"tags":[],"owner":{"account_id":997775,"reputation":3063,"user_id":1013317,"accept_rate":32,"display_name":"Deviling Master"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375294323,"creation_date":1375294323,"answer_id":17977826,"question_id":17972867,"body_markdown":"I don&#39;t know DataNucleus, but you can connect GAE Datastore from local machines using [Remote API][1]\r\n\r\n&gt; you can use Remote API to **access a production datastore from an app\r\n&gt; running on your local machine**. You can also use Remote API to access\r\n&gt; the datastore of one App Engine app from a different App Engine app.\r\n\r\nWith this, you can code an app to synchronize the data\r\n\r\n\r\n  [1]: https://developers.google.com/appengine/docs/java/tools/remoteapi?hl=it","title":"Synchronizing Google App Engine DataStore with local instance via Datanucleus REST API or some other Java API","body":"<p>I don't know DataNucleus, but you can connect GAE Datastore from local machines using <a href=\"https://developers.google.com/appengine/docs/java/tools/remoteapi?hl=it\" rel=\"nofollow\">Remote API</a></p>\n\n<blockquote>\n  <p>you can use Remote API to <strong>access a production datastore from an app\n  running on your local machine</strong>. You can also use Remote API to access\n  the datastore of one App Engine app from a different App Engine app.</p>\n</blockquote>\n\n<p>With this, you can code an app to synchronize the data</p>\n"}],"owner":{"account_id":3117767,"reputation":1013,"user_id":2638180,"accept_rate":17,"display_name":"user2638180"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685560797,"creation_date":1375280094,"question_id":17972867,"body_markdown":"I&#39;d like to know if someone can guide me in this aspect, as everything I know is that Datanucleus REST API may help to make the contents of my local Google App Engine datastore and the online one the same. There might be also another way to do that which is easier, as I&#39;m having great difficulties understanding how it could be done via that API. The application has been done in Java so there&#39;s no point in trying to develop it into Python now, it&#39;s way too late for that now.\r\n\r\nEdit: Well I actually found some interesting tools here: http://www.appwrench.onpositive.com, but it would be better for my application if I could do it by code as it would need to be executed automatically once a day, so if you know of some not-too-hard way to achieve what I&#39;m telling I&#39;ll be grateful if you tell me so, if not I&#39;ll just stick with the tools.","title":"Synchronizing Google App Engine DataStore with local instance via Datanucleus REST API or some other Java API","body":"<p>I'd like to know if someone can guide me in this aspect, as everything I know is that Datanucleus REST API may help to make the contents of my local Google App Engine datastore and the online one the same. There might be also another way to do that which is easier, as I'm having great difficulties understanding how it could be done via that API. The application has been done in Java so there's no point in trying to develop it into Python now, it's way too late for that now.</p>\n<p>Edit: Well I actually found some interesting tools here: <a href=\"http://www.appwrench.onpositive.com\" rel=\"nofollow noreferrer\">http://www.appwrench.onpositive.com</a>, but it would be better for my application if I could do it by code as it would need to be executed automatically once a day, so if you know of some not-too-hard way to achieve what I'm telling I'll be grateful if you tell me so, if not I'll just stick with the tools.</p>\n"},{"tags":["java","sorting","arraylist","mergesort"],"comments":[{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1438768813,"post_id":31829093,"comment_id":51581117,"body_markdown":"First, only call that method if you already know both lists are sorted (separate problems to resolve ;)) Second, if you have the appropiated `equals()` and `compare()` you  could order the result list using `Collections.sort()`","body":"First, only call that method if you already know both lists are sorted (separate problems to resolve ;)) Second, if you have the appropiated <code>equals()</code> and <code>compare()</code> you  could order the result list using <code>Collections.sort()</code>"},{"owner":{"account_id":478081,"reputation":9703,"user_id":889941,"accept_rate":100,"display_name":"Vladimir"},"score":0,"creation_date":1438768916,"post_id":31829093,"comment_id":51581170,"body_markdown":"I suppose returning `null` implies that you should be creating new array list to store merged result, not modifying source array list.","body":"I suppose returning <code>null</code> implies that you should be creating new array list to store merged result, not modifying source array list."},{"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"score":0,"creation_date":1438768921,"post_id":31829093,"comment_id":51581175,"body_markdown":"`it should return null` First of all you are not returning anything i.e. void.","body":"<code>it should return null</code> First of all you are not returning anything i.e. void."},{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":0,"creation_date":1438768939,"post_id":31829093,"comment_id":51581185,"body_markdown":"If by &quot;sorted&quot; you mean numerical order, then you could simply create a `TreeSet` and insert the contents of both lists there. Using a `Set` merges the data for you so that duplicates are removed. Or do you want to keep duplicate entries?","body":"If by &quot;sorted&quot; you mean numerical order, then you could simply create a <code>TreeSet</code> and insert the contents of both lists there. Using a <code>Set</code> merges the data for you so that duplicates are removed. Or do you want to keep duplicate entries?"},{"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":0,"creation_date":1438769051,"post_id":31829093,"comment_id":51581256,"body_markdown":"Is that a homework task? I cannot image why someone want to return null in case the list is already sorted.","body":"Is that a homework task? I cannot image why someone want to return null in case the list is already sorted."},{"owner":{"account_id":1660708,"reputation":2573,"user_id":1529061,"display_name":"ttzn"},"score":1,"creation_date":1438769055,"post_id":31829093,"comment_id":51581258,"body_markdown":"@Mick I think this is an exercise in writing the &quot;merge&quot; part of the merge sort algorithm, which works on unsorted data structures.","body":"@Mick I think this is an exercise in writing the &quot;merge&quot; part of the merge sort algorithm, which works on unsorted data structures."}],"answers":[{"tags":[],"owner":{"account_id":3856986,"reputation":1185,"user_id":3195653,"accept_rate":100,"display_name":"FlasH from Ru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438770064,"creation_date":1438770064,"answer_id":31829702,"question_id":31829093,"body_markdown":"The generic way is something like this:\r\n\r\n    public class MergeSort {\r\n    \r\n    \tpublic static &lt;T extends Comparable&lt;? super T&gt;&gt; List&lt;T&gt; merge(List&lt;T&gt; a, List&lt;T&gt; b) {\r\n    \t\tif (!isSorted(a) || !isSorted(b)) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\t\r\n    \t\tfinal List&lt;T&gt; result = new ArrayList&lt;T&gt;(a.size() + b.size());\r\n    \t\tresult.addAll(a);\r\n    \t\tresult.addAll(b);\r\n    \t\t\r\n    \t\tCollections.sort(result);\r\n    \t\t\r\n    \t\treturn result;\r\n    \t}\r\n    \t\r\n    \tprivate static &lt;T extends Comparable&lt;? super T&gt;&gt; boolean isSorted(final List&lt;T&gt; list) {\r\n    \t\tT prevItem = null;\r\n    \t\tfor (T item : list) {\r\n    \t\t\t\r\n    \t\t\tif (prevItem != null &amp;&amp; item.compareTo(prevItem) &lt; 0) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tprevItem = item;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    }\r\n\r\nYou can easily replace all these generic Ts with Integer if you only need it for them...","title":"Merging two sorted Arraylists into one sorted Arraylist","body":"<p>The generic way is something like this:</p>\n\n<pre><code>public class MergeSort {\n\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; List&lt;T&gt; merge(List&lt;T&gt; a, List&lt;T&gt; b) {\n        if (!isSorted(a) || !isSorted(b)) {\n            return null;\n        }\n\n        final List&lt;T&gt; result = new ArrayList&lt;T&gt;(a.size() + b.size());\n        result.addAll(a);\n        result.addAll(b);\n\n        Collections.sort(result);\n\n        return result;\n    }\n\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; boolean isSorted(final List&lt;T&gt; list) {\n        T prevItem = null;\n        for (T item : list) {\n\n            if (prevItem != null &amp;&amp; item.compareTo(prevItem) &lt; 0) {\n                return false;\n            }\n\n            prevItem = item;\n        }\n\n        return true;\n    }\n\n}\n</code></pre>\n\n<p>You can easily replace all these generic Ts with Integer if you only need it for them...</p>\n"},{"tags":[],"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685560752,"creation_date":1438770430,"answer_id":31829842,"question_id":31829093,"body_markdown":" - Please refer to this link for comparing if the List implementation is equal. Please note that the `ArrayList` implementation of yours contains `List&lt;Integer&gt;` and thus the sorting takes place in the natural order. In case of equal return `true` or else `false`. You can change it as required to return any flag.\r\n\r\n[Sort and compare 2 lists if equal - List of String][1]\r\n\r\n\r\n - There are useful Apache Common library classes available, which can help you in merging the array lists that are sorted : This will give you what you are looking for. org.apache.commons.collections4 package.\r\n[Apache Common Lib version 4 - collate()][2]\r\n\r\neg., `List&lt;Integer&gt; mergedList = CollectionUtils.collate(list1, list2);`\r\n\r\n  [1]: https://stackoverflow.com/a/13501200/2931410\r\n  [2]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#collate-java.lang.Iterable-java.lang.Iterable-","title":"Merging two sorted Arraylists into one sorted Arraylist","body":"<ul>\n<li>Please refer to this link for comparing if the List implementation is equal. Please note that the <code>ArrayList</code> implementation of yours contains <code>List&lt;Integer&gt;</code> and thus the sorting takes place in the natural order. In case of equal return <code>true</code> or else <code>false</code>. You can change it as required to return any flag.</li>\n</ul>\n<p><a href=\"https://stackoverflow.com/a/13501200/2931410\">Sort and compare 2 lists if equal - List of String</a></p>\n<ul>\n<li>There are useful Apache Common library classes available, which can help you in merging the array lists that are sorted : This will give you what you are looking for. org.apache.commons.collections4 package.\n<a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/CollectionUtils.html#collate-java.lang.Iterable-java.lang.Iterable-\" rel=\"nofollow noreferrer\">Apache Common Lib version 4 - collate()</a></li>\n</ul>\n<p>eg., <code>List&lt;Integer&gt; mergedList = CollectionUtils.collate(list1, list2);</code></p>\n"},{"tags":[],"owner":{"account_id":1630942,"reputation":2451,"user_id":1505493,"accept_rate":43,"display_name":"Karan Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438770685,"creation_date":1438770685,"answer_id":31829963,"question_id":31829093,"body_markdown":"**Problem**\r\n\r\nCheck if the two lists are sorted, if they are then it will merge the two lists into a single sorted list, whereas if the lists are not sorted return null.\r\n \r\n**Code Solution:**\r\n\r\nTry the following code:\r\n  \r\n    public class MergeSorted {\r\n    public static List merge(List&lt;Integer&gt; aList, List&lt;Integer&gt; bList) {\r\n    \r\n        List mergeList = new ArrayList&lt;Integer&gt;();\r\n\r\n        //checking if list &#39;A&#39; is sorted\r\n        List temp = new ArrayList(aList);\r\n        Collections.sort(temp);\r\n        boolean aSorted = temp.equals(aList);\r\n\r\n        //checking if list &#39;B&#39; is sorted\r\n        temp = new ArrayList(bList);\r\n        Collections.sort(temp);\r\n        boolean bSorted = temp.equals(bList);\r\n         \r\n        //if both lists are sorted then merge them\r\n        if(true == aSorted &amp;&amp; true == bSorted) {\r\n            mergeList.addAll(aList);\r\n            mergeList.addAll(bList);\r\n            Collections.sort(mergeList);\r\n        }\r\n\r\n       return mergeList; \r\n        }\r\n      }","title":"Merging two sorted Arraylists into one sorted Arraylist","body":"<p><strong>Problem</strong></p>\n\n<p>Check if the two lists are sorted, if they are then it will merge the two lists into a single sorted list, whereas if the lists are not sorted return null.</p>\n\n<p><strong>Code Solution:</strong></p>\n\n<p>Try the following code:</p>\n\n<pre><code>public class MergeSorted {\npublic static List merge(List&lt;Integer&gt; aList, List&lt;Integer&gt; bList) {\n\n    List mergeList = new ArrayList&lt;Integer&gt;();\n\n    //checking if list 'A' is sorted\n    List temp = new ArrayList(aList);\n    Collections.sort(temp);\n    boolean aSorted = temp.equals(aList);\n\n    //checking if list 'B' is sorted\n    temp = new ArrayList(bList);\n    Collections.sort(temp);\n    boolean bSorted = temp.equals(bList);\n\n    //if both lists are sorted then merge them\n    if(true == aSorted &amp;&amp; true == bSorted) {\n        mergeList.addAll(aList);\n        mergeList.addAll(bList);\n        Collections.sort(mergeList);\n    }\n\n   return mergeList; \n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":6739710,"reputation":19,"user_id":5193314,"display_name":"Jonathon K"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3461,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1685560752,"creation_date":1438768426,"question_id":31829093,"body_markdown":"My code should merge two already sorted arraylists into one sorted arraylist and if one of the arraylists used is not sorted then it should return null.\r\n\r\n\r\n    public class MergeSorted {\r\n    public static void merge(ArrayList&lt;Integer&gt; a, ArrayList&lt;Integer&gt; b) {\r\n\r\n        for (int i = 0, j = 0; j &lt; b.size(); i++) {\r\n            if (i == a.size() || a.get(i) &gt; a.get(j)) {\r\n                a.add(i, b.get(j++));\r\n            }\r\n        }\r\n    }  \r\n    }\r\n\r\nThis is what I attempted but can&#39;t get the idea of returning null if they are not equal, Im new to java and this is my second week so please be patient with me. I know I should have an if statement checking if they are sorted and an else but what should I include inside the if?","title":"Merging two sorted Arraylists into one sorted Arraylist","body":"<p>My code should merge two already sorted arraylists into one sorted arraylist and if one of the arraylists used is not sorted then it should return null.</p>\n\n<pre><code>public class MergeSorted {\npublic static void merge(ArrayList&lt;Integer&gt; a, ArrayList&lt;Integer&gt; b) {\n\n    for (int i = 0, j = 0; j &lt; b.size(); i++) {\n        if (i == a.size() || a.get(i) &gt; a.get(j)) {\n            a.add(i, b.get(j++));\n        }\n    }\n}  \n}\n</code></pre>\n\n<p>This is what I attempted but can't get the idea of returning null if they are not equal, Im new to java and this is my second week so please be patient with me. I know I should have an if statement checking if they are sorted and an else but what should I include inside the if?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":10616670,"reputation":391,"user_id":8389728,"display_name":"Aniket"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1537859009,"creation_date":1537859009,"answer_id":52492406,"question_id":52492237,"body_markdown":"From here it is clear that you are binding view using private `List&lt;Upload&gt; mUploads;`\r\nAll you need to do is reverse this list by using this simple code :\r\n\r\n    ArrayList&lt;ModelNAme&gt; list = getList();\r\n    Collections.reverse(list);","title":"How to View RecyclerView Items Reverse Order Latest Item At Top","body":"<p>From here it is clear that you are binding view using private <code>List&lt;Upload&gt; mUploads;</code>\nAll you need to do is reverse this list by using this simple code :</p>\n\n<pre><code>ArrayList&lt;ModelNAme&gt; list = getList();\nCollections.reverse(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9295288,"reputation":454,"user_id":6902410,"display_name":"IsaiahJ"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537860581,"creation_date":1537860581,"answer_id":52492825,"question_id":52492237,"body_markdown":"When setting your RecyclerView&#39;s LayoutManager, tell it to setStackFromEnd(true);\r\n\r\n        LinearLayoutManager layoutManager = new LinearLayoutManager(mActivity);\r\n        layoutManager.setStackFromEnd(true);\r\n        mRecyclerView.setLayoutManager(layoutManager);\r\n ","title":"How to View RecyclerView Items Reverse Order Latest Item At Top","body":"<p>When setting your RecyclerView's LayoutManager, tell it to setStackFromEnd(true);</p>\n\n<pre><code>    LinearLayoutManager layoutManager = new LinearLayoutManager(mActivity);\n    layoutManager.setStackFromEnd(true);\n    mRecyclerView.setLayoutManager(layoutManager);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14058705,"reputation":103,"user_id":10155343,"display_name":"abjal mor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537862139,"creation_date":1537861817,"answer_id":52493165,"question_id":52492237,"body_markdown":"LinearLayoutManager LayoutManager =new LinearLayoutManager(getApplicationContext);\r\n\r\nLayoutManager.setReverseLayout(true);\r\n\r\nLayoutManager.setStackFromEnd(true);\r\n\r\n","title":"How to View RecyclerView Items Reverse Order Latest Item At Top","body":"<p>LinearLayoutManager LayoutManager =new LinearLayoutManager(getApplicationContext);</p>\n\n<p>LayoutManager.setReverseLayout(true);</p>\n\n<p>LayoutManager.setStackFromEnd(true);</p>\n"}],"owner":{"account_id":14305706,"reputation":23,"user_id":10333696,"display_name":"Purna Reddy tech news"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7799,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1537891133,"accepted_answer_id":52492406,"answer_count":3,"score":0,"last_activity_date":1685560437,"creation_date":1537858391,"question_id":52492237,"body_markdown":"How do I view the latest item at the top of the RecyclerView? Can you please tell me the code?\r\n\r\n**`ImagesActivity.java`**\r\n\r\nThis is my `ImagesActivity` Java code of my project. Can you please tell me how to view `RecyclerView` items in reverse order i.e latest item at top?\r\n\r\n    public class ImagesActivity extends AppCompatActivity {\r\n      private RecyclerView mRecyclerView;\r\n      private ImageAdapter mAdapter;\r\n      private ProgressBar mProgressCircle;\r\n      private DatabaseReference mDatabaseRef;\r\n      private List&lt;Upload&gt; mUploads;\r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_images);\r\n        mRecyclerView = findViewById(R.id.recycler_view);\r\n        mRecyclerView.setHasFixedSize(true);\r\n        mRecyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        mProgressCircle = findViewById(R.id.progress_circle);\r\n        mUploads = new ArrayList&lt;&gt;();\r\n        mDatabaseRef = FirebaseDatabase.getInstance().getReference(&quot;uploads&quot;);\r\n        mDatabaseRef.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot postSnapshot : dataSnapshot.getChildren()) {\r\n                    Upload upload = postSnapshot.getValue(Upload.class);\r\n                    mUploads.add(upload);\r\n                }\r\n                mAdapter = new ImageAdapter(ImagesActivity.this, mUploads);\r\n                mRecyclerView.setAdapter(mAdapter);\r\n                mProgressCircle.setVisibility(View.INVISIBLE);\r\n            }\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                Toast.makeText(ImagesActivity.this, databaseError.getMessage(), Toast.LENGTH_SHORT).show();\r\n                mProgressCircle.setVisibility(View.INVISIBLE);\r\n            }\r\n        });\r\n    }\r\n    }\r\n\r\n**`ImageAdapter.java`**\r\n\r\nThis is my Adapter Java class of my project.\r\n\r\n    public class ImageAdapter extends RecyclerView.Adapter&lt;ImageAdapter.ImageViewHolder&gt; {\r\n      private Context mContext;\r\n      private List&lt;Upload&gt; mUploads;\r\n    \r\n      public ImageAdapter(Context context, List&lt;Upload&gt; uploads) {\r\n        mContext = context;\r\n        mUploads = uploads;\r\n      }\r\n      @Override\r\n      public ImageViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(mContext).inflate(R.layout.image_item, parent, false);\r\n        return new ImageViewHolder(v);\r\n      }\r\n      @Override\r\n      public void onBindViewHolder(ImageViewHolder holder, int position) {\r\n        Upload uploadCurrent = mUploads.get(position);\r\n        holder.textViewName.setText(uploadCurrent.getName());\r\n        Picasso.with(mContext)\r\n                .load(uploadCurrent.getImageUrl())\r\n                .placeholder(R.mipmap.ic_launcher)\r\n                .fit()\r\n                .centerCrop()\r\n                .into(holder.imageView);\r\n      }\r\n      @Override\r\n      public int getItemCount() {\r\n        return mUploads.size();\r\n      }\r\n      public class ImageViewHolder extends RecyclerView.ViewHolder {\r\n        public TextView textViewName;\r\n        public ImageView imageView;\r\n        public ImageViewHolder(View itemView) {\r\n            super(itemView);\r\n            textViewName = itemView.findViewById(R.id.text_view_name);\r\n            imageView = itemView.findViewById(R.id.image_view_upload);\r\n        }\r\n      }\r\n    }","title":"How to View RecyclerView Items Reverse Order Latest Item At Top","body":"<p>How do I view the latest item at the top of the RecyclerView? Can you please tell me the code?</p>\n<p><strong><code>ImagesActivity.java</code></strong></p>\n<p>This is my <code>ImagesActivity</code> Java code of my project. Can you please tell me how to view <code>RecyclerView</code> items in reverse order i.e latest item at top?</p>\n<pre><code>public class ImagesActivity extends AppCompatActivity {\n  private RecyclerView mRecyclerView;\n  private ImageAdapter mAdapter;\n  private ProgressBar mProgressCircle;\n  private DatabaseReference mDatabaseRef;\n  private List&lt;Upload&gt; mUploads;\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_images);\n    mRecyclerView = findViewById(R.id.recycler_view);\n    mRecyclerView.setHasFixedSize(true);\n    mRecyclerView.setLayoutManager(new LinearLayoutManager(this));\n    mProgressCircle = findViewById(R.id.progress_circle);\n    mUploads = new ArrayList&lt;&gt;();\n    mDatabaseRef = FirebaseDatabase.getInstance().getReference(&quot;uploads&quot;);\n    mDatabaseRef.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            for (DataSnapshot postSnapshot : dataSnapshot.getChildren()) {\n                Upload upload = postSnapshot.getValue(Upload.class);\n                mUploads.add(upload);\n            }\n            mAdapter = new ImageAdapter(ImagesActivity.this, mUploads);\n            mRecyclerView.setAdapter(mAdapter);\n            mProgressCircle.setVisibility(View.INVISIBLE);\n        }\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n            Toast.makeText(ImagesActivity.this, databaseError.getMessage(), Toast.LENGTH_SHORT).show();\n            mProgressCircle.setVisibility(View.INVISIBLE);\n        }\n    });\n}\n}\n</code></pre>\n<p><strong><code>ImageAdapter.java</code></strong></p>\n<p>This is my Adapter Java class of my project.</p>\n<pre><code>public class ImageAdapter extends RecyclerView.Adapter&lt;ImageAdapter.ImageViewHolder&gt; {\n  private Context mContext;\n  private List&lt;Upload&gt; mUploads;\n\n  public ImageAdapter(Context context, List&lt;Upload&gt; uploads) {\n    mContext = context;\n    mUploads = uploads;\n  }\n  @Override\n  public ImageViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n    View v = LayoutInflater.from(mContext).inflate(R.layout.image_item, parent, false);\n    return new ImageViewHolder(v);\n  }\n  @Override\n  public void onBindViewHolder(ImageViewHolder holder, int position) {\n    Upload uploadCurrent = mUploads.get(position);\n    holder.textViewName.setText(uploadCurrent.getName());\n    Picasso.with(mContext)\n            .load(uploadCurrent.getImageUrl())\n            .placeholder(R.mipmap.ic_launcher)\n            .fit()\n            .centerCrop()\n            .into(holder.imageView);\n  }\n  @Override\n  public int getItemCount() {\n    return mUploads.size();\n  }\n  public class ImageViewHolder extends RecyclerView.ViewHolder {\n    public TextView textViewName;\n    public ImageView imageView;\n    public ImageViewHolder(View itemView) {\n        super(itemView);\n        textViewName = itemView.findViewById(R.id.text_view_name);\n        imageView = itemView.findViewById(R.id.image_view_upload);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","bots","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685549853,"creation_date":1685549853,"answer_id":76375509,"question_id":76374117,"body_markdown":"You should re-use the same manager to add multiple overrides in a single request:\r\n\r\n```java\r\nVoiceChannelManager manager = event.getMember().getVoiceState().getChannel().asVoiceChannel().getManager();\r\nEnumSet&lt;Permission&gt; denied = EnumSet.of(Permission.VOICE_CONNECT);\r\nfor (Member member : event.getMentions().getMembers()) {\r\n    manager.putPermissionOverride(member, null, denied);\r\n}\r\nmanager.queue();\r\n```","title":"Why is a discord bot using discord-jda and Java ignoring a request to update voice channel permissions?","body":"<p>You should re-use the same manager to add multiple overrides in a single request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>VoiceChannelManager manager = event.getMember().getVoiceState().getChannel().asVoiceChannel().getManager();\nEnumSet&lt;Permission&gt; denied = EnumSet.of(Permission.VOICE_CONNECT);\nfor (Member member : event.getMentions().getMembers()) {\n    manager.putPermissionOverride(member, null, denied);\n}\nmanager.queue();\n</code></pre>\n"}],"owner":{"account_id":27521195,"reputation":15,"user_id":21931651,"display_name":"Николай"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76375509,"answer_count":1,"score":0,"last_activity_date":1685559811,"creation_date":1685540138,"question_id":76374117,"body_markdown":"I must set denied the right to connect to a voice channel for two users selected in the EntitySelectMenu. For this, I am trying to use this code:\r\n\r\nIn EntitySelectInteraction:\r\n```\r\nfor (int i = 0; i &lt; 2; i++) {\r\n    event.getMember().getVoiceState().getChannel().asVoiceChannel().getManager()\r\n        .putMemberPermissionOverride(Long.parseLong(event.getMentions().getMembers().get(i).getId()), null, EnumSet\r\n        .of(Permission.VOICE_CONNECT)).complete();\r\n}\r\n```\r\nBut this code changes the rights in the channel only for the user who was selected second and simply ignores the first one. What could be causing this? How to avoid it? I would be grateful for any help.","title":"Why is a discord bot using discord-jda and Java ignoring a request to update voice channel permissions?","body":"<p>I must set denied the right to connect to a voice channel for two users selected in the EntitySelectMenu. For this, I am trying to use this code:</p>\n<p>In EntitySelectInteraction:</p>\n<pre><code>for (int i = 0; i &lt; 2; i++) {\n    event.getMember().getVoiceState().getChannel().asVoiceChannel().getManager()\n        .putMemberPermissionOverride(Long.parseLong(event.getMentions().getMembers().get(i).getId()), null, EnumSet\n        .of(Permission.VOICE_CONNECT)).complete();\n}\n</code></pre>\n<p>But this code changes the rights in the channel only for the user who was selected second and simply ignores the first one. What could be causing this? How to avoid it? I would be grateful for any help.</p>\n"},{"tags":["java","mysql","multithreading","hibernate","jpa"],"comments":[{"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685560323,"post_id":76376549,"comment_id":134679016,"body_markdown":"Multiple Threads try to insert or update the same rows in the **user_config** table at the same time. There is no quick fix for that. You need to try different approaches for InnoDB.","body":"Multiple Threads try to insert or update the same rows in the <b>user_config</b> table at the same time. There is no quick fix for that. You need to try different approaches for InnoDB."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1685560825,"post_id":76376549,"comment_id":134679109,"body_markdown":"You have two processes likely dealing with overlapping data, both trying to shove it all in as one transaction. Upsert is a problem here as your &#39;insert or update&#39; has to wait for the lock to release on the row even if it doesn&#39;t even need to really update it (your posts make it seem like a proof of concept, with the other just updating a &#39;updated on&#39; date). You can try ordering your data so that the locks are obtained deterministically which might help slightly,  reevaluating the logic and/or going with a pure Insert or do nothing approach, or expecting this to occur and retry when it does.","body":"You have two processes likely dealing with overlapping data, both trying to shove it all in as one transaction. Upsert is a problem here as your &#39;insert or update&#39; has to wait for the lock to release on the row even if it doesn&#39;t even need to really update it (your posts make it seem like a proof of concept, with the other just updating a &#39;updated on&#39; date). You can try ordering your data so that the locks are obtained deterministically which might help slightly,  reevaluating the logic and/or going with a pure Insert or do nothing approach, or expecting this to occur and retry when it does."},{"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"score":0,"creation_date":1685564317,"post_id":76376549,"comment_id":134679674,"body_markdown":"i think i have used ordered data only. plz observe that i am using sortedUsers.\n.","body":"i think i have used ordered data only. plz observe that i am using sortedUsers. ."},{"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"score":0,"creation_date":1685564818,"post_id":76376549,"comment_id":134679761,"body_markdown":"your posts make it seem like a proof of concept, with the other just updating a &#39;updated on&#39; date  -&gt; updated that question https://stackoverflow.com/questions/76376472/select-statement-returning-null-after-insert-on-duplicate-key-update-stateme","body":"your posts make it seem like a proof of concept, with the other just updating a &#39;updated on&#39; date  -&gt; updated that question <a href=\"https://stackoverflow.com/questions/76376472/select-statement-returning-null-after-insert-on-duplicate-key-update-stateme\" title=\"select statement returning null after insert on duplicate key update stateme\">stackoverflow.com/questions/76376472/&hellip;</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1685715715,"post_id":76376549,"comment_id":134704319,"body_markdown":"I&#39;m sure you can think of data sets and timing cases where sorting won&#39;t help. You will have to analyze what is being done exactly - maybe log the SQL issued and replay it to see how the overlap causes deadlocks and what your application might to about it. Something like limiting the size of your transactions, ordering slightly differently, or even the details of the indexes and what is being locked - what is index PRIMARY of table user_config? If that is your Pk column, do you really need that one?","body":"I&#39;m sure you can think of data sets and timing cases where sorting won&#39;t help. You will have to analyze what is being done exactly - maybe log the SQL issued and replay it to see how the overlap causes deadlocks and what your application might to about it. Something like limiting the size of your transactions, ordering slightly differently, or even the details of the indexes and what is being locked - what is index PRIMARY of table user_config? If that is your Pk column, do you really need that one?"}],"owner":{"account_id":3928362,"reputation":473,"user_id":3247895,"accept_rate":50,"display_name":"user3247895"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685559766,"creation_date":1685559766,"question_id":76376549,"body_markdown":"We are using JPA(hibernate) with mysql innodb with following code which is giving deadlock:\r\n\r\n    EntityManager em = threadContextProvider.currentThreadContext().getEm();\r\n            StringBuilder query = new StringBuilder(&quot;INSERT INTO user_config values &quot;);\r\n            for(int i = 0; i &lt; sortedUsers.size(); i++) {\r\n                query.append(i == 0 ? &quot;&quot; : &quot;,&quot;)\r\n                        .append(&quot;( null, :userId&quot;)\r\n                        .append(i)\r\n                        .append(&quot; , :appId , :devicePlatform&quot;)\r\n                        .append(i)\r\n                        .append(&quot;, :winningBalance, :payer, :ratedOnAppStore , :ratedOnPlayStore , :gamesEligibilityCount , now() , now() ) &quot;);\r\n            }\r\n            query.append(&quot;ON DUPLICATE KEY UPDATE games_eligibility_count = games_eligibility_count + :gamesEligibilityCount&quot;); //not updating platform\r\n    \r\n            Query q = em.createNativeQuery(query.toString())\r\n                    .setParameter(&quot;appId&quot;, updateDataList.getAppId())\r\n                    .setParameter(&quot;gamesEligibilityCount&quot;, 1)\r\n                    .setParameter(&quot;payer&quot;, 0)\r\n                    .setParameter(&quot;winningBalance&quot;, &quot;0.00&quot;)\r\n                    .setParameter(&quot;ratedOnAppStore&quot;, 0)\r\n                    .setParameter(&quot;ratedOnPlayStore&quot;, 0);\r\n            for(int i = 0; i &lt; sortedUsers.size(); i++) {\r\n                String platform = sortedUsers.get(i).getPlatform() == null ? null : sortedUsers.get(i).getPlatform().name();\r\n                q = q.setParameter(&quot;userId&quot; + i, sortedUsers.get(i).getUserId())\r\n                        .setParameter(&quot;devicePlatform&quot; + i, platform);\r\n            }\r\n            return q.executeUpdate();\r\n\r\n**We want to understand why deadlock is happening and how to prevent it?**\r\n\r\nDeadlock log from DB is:\r\n\r\n   \r\n\r\n&gt;  LATEST DETECTED DEADLOCK\r\n&gt;     ------------------------\r\n&gt;     2023-05-30 09:14:20 70395844200144\r\n&gt;     *** (1) TRANSACTION:\r\n&gt;     TRANSACTION 3986311343, ACTIVE 0 sec inserting\r\n&gt;     mysql tables in use 1, locked 1\r\n&gt;     LOCK WAIT 8 lock struct(s), heap size 1128, 5 row lock(s), undo log entries 1\r\n&gt;     MySQL thread id 2172920, OS thread handle 70396323890896, query id 707353290 10.0.44.95 root update\r\n&gt;     INSERT INTO user_config values ( null, &#39;12a0638f-10ae-43a6-9fad-9b3d9e419b22&#39; , &#39;onjoyridehpg.carrom&#39; ,\r\n&gt; &#39;Android&#39;, &#39;0.00&#39;, 0, 0 , 0 , 1 , now() , now() ) ,( null,\r\n&gt; &#39;749bd96f-b9d8-40fc-a100-a098a2b98e46&#39; , &#39;onjoyridehpg.carrom&#39; ,\r\n&gt; &#39;Android&#39;, &#39;0.00&#39;, 0, 0 , 0 , 1 , now() , now() ) ,( null,\r\n&gt; &#39;baa3e214-245a-4d3b-9b53-08e38073d3f0&#39; , &#39;onjoyridehpg.carrom&#39; ,\r\n&gt; &#39;Android&#39;, &#39;0.00&#39;, 0, 0 , 0 , 1 , now() , now() ) ON DUPLICATE KEY\r\n&gt; UPDATE games_eligibility_count = games_eligibility_count + 1\r\n&gt;     \r\n&gt;     *** (1) HOLDS THE LOCK(S):\r\n&gt;     RECORD LOCKS space id 440 page no 53761 n bits 88 index PRIMARY of table `unclassified_data_prod`.`user_config` trx id 3986311343\r\n&gt; lock_mode X\r\n&gt;     Record lock, heap no 1 PHYSICAL RECORD: n_fields 1; compact format; info bits 0\r\n&gt;      0: len 8; hex 73757072656d756d; asc supremum;;\r\n&gt;     \r\n&gt;     \r\n&gt;     *** (1) WAITING FOR THIS LOCK TO BE GRANTED:\r\n&gt;     RECORD LOCKS space id 440 page no 53761 n bits 88 index PRIMARY of table `unclassified_data_prod`.`user_config` trx id 3986311343\r\n&gt; lock_mode X insert intention waiting\r\n&gt;     Record lock, heap no 1 PHYSICAL RECORD: n_fields 1; compact format; info bits 0\r\n&gt;      0: len 8; hex 73757072656d756d; asc supremum;;\r\n&gt;     \r\n&gt;     \r\n&gt;     *** (2) TRANSACTION:\r\n&gt;     TRANSACTION 3986311346, ACTIVE 0 sec inserting\r\n&gt;     mysql tables in use 1, locked 1\r\n&gt;     LOCK WAIT 7 lock struct(s), heap size 1128, 5 row lock(s), undo log entries 1\r\n&gt;     MySQL thread id 2172921, OS thread handle 70396935145168, query id 707353300 10.0.44.95 root update\r\n&gt;     INSERT INTO user_config values ( null, &#39;6bf4574b-0e14-43c0-a1ed-61bbf42ba0a7&#39; , &#39;onjoyridehpg.carrom&#39; ,\r\n&gt; &#39;Android&#39;, &#39;0.00&#39;, 0, 0 , 0 , 1 , now() , now() ) ,( null,\r\n&gt; &#39;bf52c651-5c4e-4405-ae2f-b7b567bfc9d9&#39; , &#39;onjoyridehpg.carrom&#39; ,\r\n&gt; &#39;Android&#39;, &#39;0.00&#39;, 0, 0 , 0 , 1 , now() , now() ) ON DUPLICATE KEY\r\n&gt; UPDATE games_eligibility_count = games_eligibility_count + 1\r\n&gt;     \r\n&gt;     *** (2) HOLDS THE LOCK(S):\r\n&gt;     RECORD LOCKS space id 440 page no 53761 n bits 88 index PRIMARY of table `unclassified_data_prod`.`user_config` trx id 3986311346\r\n&gt; lock_mode X\r\n&gt;     Record lock, heap no 1 PHYSICAL RECORD: n_fields 1; compact format; info bits 0\r\n&gt;      0: len 8; hex 73757072656d756d; asc supremum;;\r\n&gt;     \r\n&gt;     \r\n&gt;     *** (2) WAITING FOR THIS LOCK TO BE GRANTED:\r\n&gt;     RECORD LOCKS space id 440 page no 53761 n bits 88 index PRIMARY of table `unclassified_data_prod`.`user_config` trx id 3986311346\r\n&gt; lock_mode X insert intention waiting\r\n&gt;     Record lock, heap no 1 PHYSICAL RECORD: n_fields 1; compact format; info bits 0\r\n&gt;      0: len 8; hex 73757072656d756d; asc supremum;;\r\n&gt;     \r\n&gt;     *** WE ROLL BACK TRANSACTION (2)\r\n&gt;     ------------\r\n&gt;     TRANSACTIONS\r\n&gt;     ------------\r\n&gt;     Trx id counter 3986637053\r\n&gt;     Purge done for trx&#39;s n:o &lt; 3986637047 undo n:o &lt; 0 state: running but idle\r\n&gt;     History list length 64\r\n&gt;     LIST OF TRANSACTIONS FOR EACH SESSION:\r\n\r\n","title":"Unable to find cause of deadlock","body":"<p>We are using JPA(hibernate) with mysql innodb with following code which is giving deadlock:</p>\n<pre><code>EntityManager em = threadContextProvider.currentThreadContext().getEm();\n        StringBuilder query = new StringBuilder(&quot;INSERT INTO user_config values &quot;);\n        for(int i = 0; i &lt; sortedUsers.size(); i++) {\n            query.append(i == 0 ? &quot;&quot; : &quot;,&quot;)\n                    .append(&quot;( null, :userId&quot;)\n                    .append(i)\n                    .append(&quot; , :appId , :devicePlatform&quot;)\n                    .append(i)\n                    .append(&quot;, :winningBalance, :payer, :ratedOnAppStore , :ratedOnPlayStore , :gamesEligibilityCount , now() , now() ) &quot;);\n        }\n        query.append(&quot;ON DUPLICATE KEY UPDATE games_eligibility_count = games_eligibility_count + :gamesEligibilityCount&quot;); //not updating platform\n\n        Query q = em.createNativeQuery(query.toString())\n                .setParameter(&quot;appId&quot;, updateDataList.getAppId())\n                .setParameter(&quot;gamesEligibilityCount&quot;, 1)\n                .setParameter(&quot;payer&quot;, 0)\n                .setParameter(&quot;winningBalance&quot;, &quot;0.00&quot;)\n                .setParameter(&quot;ratedOnAppStore&quot;, 0)\n                .setParameter(&quot;ratedOnPlayStore&quot;, 0);\n        for(int i = 0; i &lt; sortedUsers.size(); i++) {\n            String platform = sortedUsers.get(i).getPlatform() == null ? null : sortedUsers.get(i).getPlatform().name();\n            q = q.setParameter(&quot;userId&quot; + i, sortedUsers.get(i).getUserId())\n                    .setParameter(&quot;devicePlatform&quot; + i, platform);\n        }\n        return q.executeUpdate();\n</code></pre>\n<p><strong>We want to understand why deadlock is happening and how to prevent it?</strong></p>\n<p>Deadlock log from DB is:</p>\n<blockquote>\n<p>LATEST DETECTED DEADLOCK\n------------------------\n2023-05-30 09:14:20 70395844200144\n*** (1) TRANSACTION:\nTRANSACTION 3986311343, ACTIVE 0 sec inserting\nmysql tables in use 1, locked 1\nLOCK WAIT 8 lock struct(s), heap size 1128, 5 row lock(s), undo log entries 1\nMySQL thread id 2172920, OS thread handle 70396323890896, query id 707353290 10.0.44.95 root update\nINSERT INTO user_config values ( null, '12a0638f-10ae-43a6-9fad-9b3d9e419b22' , 'onjoyridehpg.carrom' ,\n'Android', '0.00', 0, 0 , 0 , 1 , now() , now() ) ,( null,\n'749bd96f-b9d8-40fc-a100-a098a2b98e46' , 'onjoyridehpg.carrom' ,\n'Android', '0.00', 0, 0 , 0 , 1 , now() , now() ) ,( null,\n'baa3e214-245a-4d3b-9b53-08e38073d3f0' , 'onjoyridehpg.carrom' ,\n'Android', '0.00', 0, 0 , 0 , 1 , now() , now() ) ON DUPLICATE KEY\nUPDATE games_eligibility_count = games_eligibility_count + 1</p>\n<pre><code>*** (1) HOLDS THE LOCK(S):\nRECORD LOCKS space id 440 page no 53761 n bits 88 index PRIMARY of table `unclassified_data_prod`.`user_config` trx id 3986311343\n</code></pre>\n<p>lock_mode X\nRecord lock, heap no 1 PHYSICAL RECORD: n_fields 1; compact format; info bits 0\n0: len 8; hex 73757072656d756d; asc supremum;;</p>\n<pre><code>*** (1) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 440 page no 53761 n bits 88 index PRIMARY of table `unclassified_data_prod`.`user_config` trx id 3986311343\n</code></pre>\n<p>lock_mode X insert intention waiting\nRecord lock, heap no 1 PHYSICAL RECORD: n_fields 1; compact format; info bits 0\n0: len 8; hex 73757072656d756d; asc supremum;;</p>\n<pre><code>*** (2) TRANSACTION:\nTRANSACTION 3986311346, ACTIVE 0 sec inserting\nmysql tables in use 1, locked 1\nLOCK WAIT 7 lock struct(s), heap size 1128, 5 row lock(s), undo log entries 1\nMySQL thread id 2172921, OS thread handle 70396935145168, query id 707353300 10.0.44.95 root update\nINSERT INTO user_config values ( null, '6bf4574b-0e14-43c0-a1ed-61bbf42ba0a7' , 'onjoyridehpg.carrom' ,\n</code></pre>\n<p>'Android', '0.00', 0, 0 , 0 , 1 , now() , now() ) ,( null,\n'bf52c651-5c4e-4405-ae2f-b7b567bfc9d9' , 'onjoyridehpg.carrom' ,\n'Android', '0.00', 0, 0 , 0 , 1 , now() , now() ) ON DUPLICATE KEY\nUPDATE games_eligibility_count = games_eligibility_count + 1</p>\n<pre><code>*** (2) HOLDS THE LOCK(S):\nRECORD LOCKS space id 440 page no 53761 n bits 88 index PRIMARY of table `unclassified_data_prod`.`user_config` trx id 3986311346\n</code></pre>\n<p>lock_mode X\nRecord lock, heap no 1 PHYSICAL RECORD: n_fields 1; compact format; info bits 0\n0: len 8; hex 73757072656d756d; asc supremum;;</p>\n<pre><code>*** (2) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 440 page no 53761 n bits 88 index PRIMARY of table `unclassified_data_prod`.`user_config` trx id 3986311346\n</code></pre>\n<p>lock_mode X insert intention waiting\nRecord lock, heap no 1 PHYSICAL RECORD: n_fields 1; compact format; info bits 0\n0: len 8; hex 73757072656d756d; asc supremum;;</p>\n<pre><code>*** WE ROLL BACK TRANSACTION (2)\n------------\nTRANSACTIONS\n------------\nTrx id counter 3986637053\nPurge done for trx's n:o &lt; 3986637047 undo n:o &lt; 0 state: running but idle\nHistory list length 64\nLIST OF TRANSACTIONS FOR EACH SESSION:\n</code></pre>\n</blockquote>\n"},{"tags":["java","gradle","jar","gitlab"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685557805,"post_id":76376343,"comment_id":134678544,"body_markdown":"Pulled to where exactly?","body":"Pulled to where exactly?"},{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1685558132,"post_id":76376343,"comment_id":134678596,"body_markdown":"@aled to the project where build.gradle is located","body":"@aled to the project where build.gradle is located"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685558269,"post_id":76376343,"comment_id":134678613,"body_markdown":"Does this answer your question? [How to download javadocs and sources for jar using Gradle 2.0?](https://stackoverflow.com/questions/28404149/how-to-download-javadocs-and-sources-for-jar-using-gradle-2-0)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28404149/how-to-download-javadocs-and-sources-for-jar-using-gradle-2-0\">How to download javadocs and sources for jar using Gradle 2.0?</a>"},{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1685558559,"post_id":76376343,"comment_id":134678686,"body_markdown":"@aled no, I&#39;ve seen these answers and the given solutions don&#39;t help. The problem is in gitlab, from other package registries, sources for jar are downloaded","body":"@aled no, I&#39;ve seen these answers and the given solutions don&#39;t help. The problem is in gitlab, from other package registries, sources for jar are downloaded"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685558644,"post_id":76376343,"comment_id":134678706,"body_markdown":"Why do you need to download the sources&amp;Javadoc of a dependency? I would understand for an IDE it is useful for reference when editing. Why outside the IDE?","body":"Why do you need to download the sources&amp;Javadoc of a dependency? I would understand for an IDE it is useful for reference when editing. Why outside the IDE?"},{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1685558952,"post_id":76376343,"comment_id":134678773,"body_markdown":"@aled this is necessary for the prompt in the IDE when editing the project and for other package registries it works out of the box","body":"@aled this is necessary for the prompt in the IDE when editing the project and for other package registries it works out of the box"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685559651,"post_id":76376343,"comment_id":134678902,"body_markdown":"Why the solution for that didn&#39;t work? https://stackoverflow.com/a/33653146/721855","body":"Why the solution for that didn&#39;t work? <a href=\"https://stackoverflow.com/a/33653146/721855\">stackoverflow.com/a/33653146/721855</a>"},{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1685560327,"post_id":76376343,"comment_id":134679018,"body_markdown":"@aled With the option in this question, the library resources are not pulled from the gitlab. They are not in the gradle cache. There is no way to use javadoc, since I am essentially working with source code that is recreated from a .class file using IntelliJ IDEA.","body":"@aled With the option in this question, the library resources are not pulled from the gitlab. They are not in the gradle cache. There is no way to use javadoc, since I am essentially working with source code that is recreated from a .class file using IntelliJ IDEA."}],"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685558877,"creation_date":1685557434,"question_id":76376343,"body_markdown":"There is a GitLab Community Edition 15.11.3 server in which the artifacts of our java libs are stored in the package registry (lib-name.jar, lib-name.sources.jar, lib-name.javadoc.jar)\r\nThere are projects that, through build.gradle, pull our libs from gitlab, everything is ok, everything works:\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;idea&#39;\r\n}\r\n\r\nrepositories {\r\n    maven {\r\n        url &quot;https://gitlab.server.com/api/v4/groups/maven/-/packages/maven&quot;\r\n        name &quot;GitLab&quot;\r\n        credentials(HttpHeaderCredentials) {\r\n            name = gradle.vcsAuthHeader\r\n            value = gradle.vcsAccessToken\r\n        }\r\n        authentication {\r\n            header(HttpHeaderAuthentication)\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.google.guava:guava:31.1-jre&#39;\r\n    implementation &#39;org.company.tool:lib-name:0.0.1&#39;\r\n}\r\n```\r\n\r\nBut lib-name.sources.jar and lib-name.javadoc.jar are not pulled up, but only lib-name.jar, while sources and javadoc are easily pulled up from any other sources.\r\nSources are pulled from the github, ours, if we put them in the nexus, any other libs from the maven repositories.\r\n\r\nFor example, when working with the guava library, I see both sources and javadocs in the gradle cache and, accordingly, intellij IDEA automatically pulls all this up for them, but not for our libs.\r\n\r\nTried different versions of Gradle, from old to latest, doesn&#39;t help.\r\n\r\nWhat could be the problem?\r\n\r\n**Updates:**\r\n\r\nWill add sources jar to my application&#39;s classpath. It&#39;s not what I would like:\r\n```\r\n    implementation &#39;org.company.tool:lib-name:0.0.1:sources&#39;\r\n```\r\n\r\n\r\nDoes not help:\r\n```\r\nidea {\r\n    module {\r\n        downloadJavadoc = true\r\n        downloadSources = true\r\n    }\r\n}\r\n```","title":"How can I get lib-name.sources.jar and lib-name.javadoc.jar to be pulled up along with lib-name.jar from my GitLab server?","body":"<p>There is a GitLab Community Edition 15.11.3 server in which the artifacts of our java libs are stored in the package registry (lib-name.jar, lib-name.sources.jar, lib-name.javadoc.jar)\nThere are projects that, through build.gradle, pull our libs from gitlab, everything is ok, everything works:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'idea'\n}\n\nrepositories {\n    maven {\n        url &quot;https://gitlab.server.com/api/v4/groups/maven/-/packages/maven&quot;\n        name &quot;GitLab&quot;\n        credentials(HttpHeaderCredentials) {\n            name = gradle.vcsAuthHeader\n            value = gradle.vcsAccessToken\n        }\n        authentication {\n            header(HttpHeaderAuthentication)\n        }\n    }\n}\n\ndependencies {\n    implementation 'com.google.guava:guava:31.1-jre'\n    implementation 'org.company.tool:lib-name:0.0.1'\n}\n</code></pre>\n<p>But lib-name.sources.jar and lib-name.javadoc.jar are not pulled up, but only lib-name.jar, while sources and javadoc are easily pulled up from any other sources.\nSources are pulled from the github, ours, if we put them in the nexus, any other libs from the maven repositories.</p>\n<p>For example, when working with the guava library, I see both sources and javadocs in the gradle cache and, accordingly, intellij IDEA automatically pulls all this up for them, but not for our libs.</p>\n<p>Tried different versions of Gradle, from old to latest, doesn't help.</p>\n<p>What could be the problem?</p>\n<p><strong>Updates:</strong></p>\n<p>Will add sources jar to my application's classpath. It's not what I would like:</p>\n<pre><code>    implementation 'org.company.tool:lib-name:0.0.1:sources'\n</code></pre>\n<p>Does not help:</p>\n<pre><code>idea {\n    module {\n        downloadJavadoc = true\n        downloadSources = true\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26593916,"reputation":291,"user_id":20228153,"display_name":"charlesz"},"score":0,"creation_date":1685558543,"post_id":76376429,"comment_id":134678681,"body_markdown":"You need to compile it into a class first, and load it using reflection.","body":"You need to compile it into a class first, and load it using reflection."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1685558556,"post_id":76376429,"comment_id":134678685,"body_markdown":"is there a reason why you need to dynamically generate code at runtime?","body":"is there a reason why you need to dynamically generate code at runtime?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685558569,"creation_date":1685558569,"answer_id":76376444,"question_id":76376429,"body_markdown":"You can not because Java is not an interpreted language. You have to compile first the source code into bytecode, then execute the bytecode with the Java runtime. If that works for you then you could do that programmatically, by using the [Java Compiler API][1] then loading the classes in a JAR file dynamically. You can search for that topic, there should be plenty of answers.\r\n\r\n\r\n  [1]: https://www.developer.com/design/an-introduction-to-the-java-compiler-api/","title":"How can I write and use a Java file in the same runtime","body":"<p>You can not because Java is not an interpreted language. You have to compile first the source code into bytecode, then execute the bytecode with the Java runtime. If that works for you then you could do that programmatically, by using the <a href=\"https://www.developer.com/design/an-introduction-to-the-java-compiler-api/\" rel=\"nofollow noreferrer\">Java Compiler API</a> then loading the classes in a JAR file dynamically. You can search for that topic, there should be plenty of answers.</p>\n"}],"owner":{"account_id":26731042,"reputation":1,"user_id":20333374,"display_name":"RYAN BINDEWALD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1685558621,"accepted_answer_id":76376444,"answer_count":1,"score":-1,"last_activity_date":1685558666,"creation_date":1685558372,"question_id":76376429,"body_markdown":"I am trying to make this program write the Ran.java file and us it in the same run time. But because the file is not made yet the java error checking is making it so I can not make a object of it in my code. Is there a way to make it so the file can be wrighten and used in the same run?\r\n\r\n```\r\nimport java.io.File;  \r\nimport java.io.IOException; \r\nimport java.io.FileWriter;\r\nclass Main {\r\n public static void main(String[] args) {\r\n    try {\r\n      File myObj = new File(&quot;Ran.java&quot;);\r\n      if (myObj.createNewFile()) {\r\n        System.out.println(&quot;File created: &quot; + myObj.getName());\r\n          FileWriter my = new FileWriter(&quot;Ran.java&quot;);\r\n        my.write(&quot;&quot;&quot; \r\nimport java.util.Random;\r\nclass Ran {\r\nRandom ran = new Random();\r\n  int makeRint(int N, int M){\r\nint a = ran.nextInt(M + N - 1) + N;\r\n    return a;\r\n  }\r\n} \r\n                 &quot;&quot;&quot;);\r\n        my.close();\r\n        run();\r\n      } \r\n      else {\r\n        run();\r\n      }\r\n    } catch (IOException e) {\r\n      System.out.println(&quot;An error occurred.&quot;);\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n\r\n  public static void run(){\r\nRan a = new Ran();\r\nSystem.out.println(a.makeRint(1, 35));\r\n    \r\n  }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nIf I take out the instantiation of the Ran object and the call to it&#39;s US method I am able to run the file and add it in after, but I don&#39;t want to edit the .java file manuely. Even if there is a way to run the Ran.java file on the secound run through without editing Main.java that would be great.","title":"How can I write and use a Java file in the same runtime","body":"<p>I am trying to make this program write the Ran.java file and us it in the same run time. But because the file is not made yet the java error checking is making it so I can not make a object of it in my code. Is there a way to make it so the file can be wrighten and used in the same run?</p>\n<pre><code>import java.io.File;  \nimport java.io.IOException; \nimport java.io.FileWriter;\nclass Main {\n public static void main(String[] args) {\n    try {\n      File myObj = new File(&quot;Ran.java&quot;);\n      if (myObj.createNewFile()) {\n        System.out.println(&quot;File created: &quot; + myObj.getName());\n          FileWriter my = new FileWriter(&quot;Ran.java&quot;);\n        my.write(&quot;&quot;&quot; \nimport java.util.Random;\nclass Ran {\nRandom ran = new Random();\n  int makeRint(int N, int M){\nint a = ran.nextInt(M + N - 1) + N;\n    return a;\n  }\n} \n                 &quot;&quot;&quot;);\n        my.close();\n        run();\n      } \n      else {\n        run();\n      }\n    } catch (IOException e) {\n      System.out.println(&quot;An error occurred.&quot;);\n      e.printStackTrace();\n    }\n  }\n\n  public static void run(){\nRan a = new Ran();\nSystem.out.println(a.makeRint(1, 35));\n    \n  }\n}\n\n\n</code></pre>\n<p>If I take out the instantiation of the Ran object and the call to it's US method I am able to run the file and add it in after, but I don't want to edit the .java file manuely. Even if there is a way to run the Ran.java file on the secound run through without editing Main.java that would be great.</p>\n"},{"tags":["java","scala","google-cloud-dataflow","data-pipeline"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1684768299,"post_id":76307098,"comment_id":134561328,"body_markdown":"You need to either increase the JVM memory or write to the file record per record, i.e. not reading the entire result into memory.","body":"You need to either increase the JVM memory or write to the file record per record, i.e. not reading the entire result into memory."}],"answers":[{"tags":[],"owner":{"account_id":25595958,"reputation":1,"user_id":19371728,"display_name":"Poala Astrid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685558502,"creation_date":1685557548,"answer_id":76376361,"question_id":76307098,"body_markdown":"The error `java.lang.OutOfMemoryError: Java heap space` is mainly caused by **very high memory load on your workers** since you are dealing with 30 million records of SQL query. One way to resolve this issue is to **increase the workers&#39; memory**. It is best to set the size of your worker to `n1-highmem-4 or above`. This parameter can be used in choosing your [machine type](https://cloud.google.com/compute/docs/general-purpose-machines#n1-high-memory): `--workerMachineType`.\r\n\r\nAnother workaround is you can also check through **heap dump** to determine the **out-of-memory (OOM)** errors when JVM runs out of memory. Re-run the jobs with flags `--dumpHeapOnOOM` to save the heap dump locally and `--saveHeapDumpsToGcsPath=gs://&lt;path_to_a_gcs_bucket&gt;` to save it on a specific bucket which you have **write permissions** on. But using heat dump is only recommended when debugging since it has another cost on top of your current service.","title":"Data Flow ERROR java.lang.OutOfMemoryError: Java heap space","body":"<p>The error <code>java.lang.OutOfMemoryError: Java heap space</code> is mainly caused by <strong>very high memory load on your workers</strong> since you are dealing with 30 million records of SQL query. One way to resolve this issue is to <strong>increase the workers' memory</strong>. It is best to set the size of your worker to <code>n1-highmem-4 or above</code>. This parameter can be used in choosing your <a href=\"https://cloud.google.com/compute/docs/general-purpose-machines#n1-high-memory\" rel=\"nofollow noreferrer\">machine type</a>: <code>--workerMachineType</code>.</p>\n<p>Another workaround is you can also check through <strong>heap dump</strong> to determine the <strong>out-of-memory (OOM)</strong> errors when JVM runs out of memory. Re-run the jobs with flags <code>--dumpHeapOnOOM</code> to save the heap dump locally and <code>--saveHeapDumpsToGcsPath=gs://&lt;path_to_a_gcs_bucket&gt;</code> to save it on a specific bucket which you have <strong>write permissions</strong> on. But using heat dump is only recommended when debugging since it has another cost on top of your current service.</p>\n"}],"owner":{"account_id":14230284,"reputation":9,"user_id":10279720,"display_name":"P.pp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685558502,"creation_date":1684764824,"question_id":76307098,"body_markdown":"I have to create the pipeline to transfer the data from BigQuery and save it as json file. But I got this error. The result from sql query is 30 million records. How to improve this code?\r\n\r\nError:\r\n\r\n&gt; [error] (run-main-0) java.lang.OutOfMemoryError: Java heap space\r\n[error] \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        object tmp {\r\n          private val logger = LoggerFactory.getLogger(this.getClass)\r\n          var date = &quot;2023-05-22&quot;\r\n\r\n          def main(cmdlineArgs: Array[String]){\r\n            val (sc, args) = ContextAndArgs(cmdlineArgs)\r\n            val file_path = &quot;src/main/scala/thunder/tmp.sql&quot;\r\n            val sql_content = Source.fromFile(file_path).mkString\r\n            val queryConfig = QueryJobConfiguration.newBuilder(sql_content).build()\r\n            val client = BigQueryOptions.getDefaultInstance().getService()\r\n            val queryResult = client.query(queryConfig)\r\n            var result = queryResult.iterateAll().iterator().asScala.map(_.asScala.map(_.getValue).toArray).toSeq\r\n            val json_result = result.map { row =&gt;\r\n              val pin_username = row(0).toString\r\n              val feature_name = row(1).toString\r\n              implicit val formats = DefaultFormats\r\n              write(Map((&quot;pin_username&quot;-&gt;pin_username),(&quot;feature_name&quot; -&gt; feature_name)))\r\n\r\n            }\r\n            sc.parallelize(json_result)\r\n              .saveAsTextFile(&quot;output&quot;, &quot;.json&quot;)\r\n\r\n            sc.close().waitUntilFinish()\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Data Flow ERROR java.lang.OutOfMemoryError: Java heap space","body":"<p>I have to create the pipeline to transfer the data from BigQuery and save it as json file. But I got this error. The result from sql query is 30 million records. How to improve this code?</p>\n<p>Error:</p>\n<blockquote>\n<p>[error] (run-main-0) java.lang.OutOfMemoryError: Java heap space\n[error]</p>\n</blockquote>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    object tmp {\n      private val logger = LoggerFactory.getLogger(this.getClass)\n      var date = \"2023-05-22\"\n\n      def main(cmdlineArgs: Array[String]){\n        val (sc, args) = ContextAndArgs(cmdlineArgs)\n        val file_path = \"src/main/scala/thunder/tmp.sql\"\n        val sql_content = Source.fromFile(file_path).mkString\n        val queryConfig = QueryJobConfiguration.newBuilder(sql_content).build()\n        val client = BigQueryOptions.getDefaultInstance().getService()\n        val queryResult = client.query(queryConfig)\n        var result = queryResult.iterateAll().iterator().asScala.map(_.asScala.map(_.getValue).toArray).toSeq\n        val json_result = result.map { row =&gt;\n          val pin_username = row(0).toString\n          val feature_name = row(1).toString\n          implicit val formats = DefaultFormats\n          write(Map((\"pin_username\"-&gt;pin_username),(\"feature_name\" -&gt; feature_name)))\n\n        }\n        sc.parallelize(json_result)\n          .saveAsTextFile(\"output\", \".json\")\n\n        sc.close().waitUntilFinish()\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1685542316,"post_id":76374156,"comment_id":134675030,"body_markdown":"What is the response status code? Look in your browser&#39;s dev tools.","body":"What is the response status code? Look in your browser&#39;s dev tools."},{"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"score":0,"creation_date":1685557981,"post_id":76374156,"comment_id":134678566,"body_markdown":"DevTools gives the following status: `(failed) net::ERR_CONNECTION_RESET`","body":"DevTools gives the following status: <code>(failed) net::ERR_CONNECTION_RESET</code>"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1685569185,"post_id":76374156,"comment_id":134680459,"body_markdown":"Did it give a status code number? 500 ? 200 ?","body":"Did it give a status code number? 500 ? 200 ?"},{"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"score":0,"creation_date":1685595986,"post_id":76374156,"comment_id":134682741,"body_markdown":"No, I am not getting 200,400,500 code. Instead I get the above message.","body":"No, I am not getting 200,400,500 code. Instead I get the above message."},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1685628474,"post_id":76374156,"comment_id":134689421,"body_markdown":"Did you try answer at  https://stackoverflow.com/questions/21573450/how-to-handle-maxuploadsizeexceededexception-maximum-upload-in-servlet    That answer put the response.sendError line inside the catch block.","body":"Did you try answer at  <a href=\"https://stackoverflow.com/questions/21573450/how-to-handle-maxuploadsizeexceededexception-maximum-upload-in-servlet\" title=\"how to handle maxuploadsizeexceededexception maximum upload in servlet\">stackoverflow.com/questions/21573450/&hellip;</a>    That answer put the response.sendError line inside the catch block."}],"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685558044,"creation_date":1685540436,"question_id":76374156,"body_markdown":"In my servlet (Apache Tomcat v9.0) I have added this annotation in order to limit the size of the uploaded file:\r\n\r\n    @MultipartConfig(location = &quot;/tmp&quot;, fileSizeThreshold = 1024 * 1024, maxFileSize = 1024 * 1024 * 50, maxRequestSize = 1024 * 1024 * 100)\r\n\r\nThis works but when I try to upload a large file, in the browser I see this error message:\r\n\r\n&gt; &quot;This site can’t be reached. The connection was reset.&quot;\r\n\r\nIn browser&#39;s devTools I am getting this status `(failed) net::ERR_CONNECTION_RESET`\r\n\r\nIn the `web.xml` file I have added:\r\n\r\n    &lt;error-page&gt;\r\n    \t&lt;error-code&gt;404&lt;/error-code&gt;\r\n    \t&lt;location&gt;/error404.jsp&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n    &lt;error-page&gt;\r\n    \t&lt;error-code&gt;500&lt;/error-code&gt;\r\n    \t&lt;location&gt;/error404.jsp&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\nand in the servlet I have put the statements inside `try-catch`\r\n\r\n    try{\r\n      //get files from the user\r\n    }catch (Exception e) {\r\n      System.err.println(e);\r\n    }\r\n    \r\n    response.sendRedirect(&quot;/mypage.jsp&quot;);\r\n\r\nand in the logs I am getting the following message:\r\n\r\n    java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field files exceeds its maximum permitted size of 52428800 bytes.\r\n\r\nWhat am I missing here? Why I am not see my jsp page (mypage.jsp or error404.jsp, error405.jsp) and I am getting this error in the browser?","title":"&quot;This site can’t be reached&quot; after FileSizeLimitExceededException error","body":"<p>In my servlet (Apache Tomcat v9.0) I have added this annotation in order to limit the size of the uploaded file:</p>\n<pre><code>@MultipartConfig(location = &quot;/tmp&quot;, fileSizeThreshold = 1024 * 1024, maxFileSize = 1024 * 1024 * 50, maxRequestSize = 1024 * 1024 * 100)\n</code></pre>\n<p>This works but when I try to upload a large file, in the browser I see this error message:</p>\n<blockquote>\n<p>&quot;This site can’t be reached. The connection was reset.&quot;</p>\n</blockquote>\n<p>In browser's devTools I am getting this status <code>(failed) net::ERR_CONNECTION_RESET</code></p>\n<p>In the <code>web.xml</code> file I have added:</p>\n<pre><code>&lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/error404.jsp&lt;/location&gt;\n&lt;/error-page&gt;\n&lt;error-page&gt;\n    &lt;error-code&gt;500&lt;/error-code&gt;\n    &lt;location&gt;/error404.jsp&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n<p>and in the servlet I have put the statements inside <code>try-catch</code></p>\n<pre><code>try{\n  //get files from the user\n}catch (Exception e) {\n  System.err.println(e);\n}\n\nresponse.sendRedirect(&quot;/mypage.jsp&quot;);\n</code></pre>\n<p>and in the logs I am getting the following message:</p>\n<pre><code>java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field files exceeds its maximum permitted size of 52428800 bytes.\n</code></pre>\n<p>What am I missing here? Why I am not see my jsp page (mypage.jsp or error404.jsp, error405.jsp) and I am getting this error in the browser?</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685557377,"creation_date":1685557377,"answer_id":76376340,"question_id":76373656,"body_markdown":"Ok.. I found it. Somehow classloading order has changed. I now included:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;xerces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n            &lt;version&gt;${xerces.xercesimpl.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```\r\n\r\nAnd a SPI definition:\r\n\r\n```\r\njavax.xml.datatype.DatatypeFactory\r\n```\r\nwith content\r\n```\r\norg.apache.xerces.jaxp.datatype.DatatypeFactoryImpl\r\n```\r\nforcing using this factory always (and not the java internal one). \r\n\r\nThis fixed it.\r\n\r\n\r\n","title":"Removing quarkus.package.type=legacy-jar leads to not finding DataTypeFactoryImpl","body":"<p>Ok.. I found it. Somehow classloading order has changed. I now included:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;xerces&lt;/groupId&gt;\n            &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n            &lt;version&gt;${xerces.xercesimpl.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>And a SPI definition:</p>\n<pre><code>javax.xml.datatype.DatatypeFactory\n</code></pre>\n<p>with content</p>\n<pre><code>org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl\n</code></pre>\n<p>forcing using this factory always (and not the java internal one).</p>\n<p>This fixed it.</p>\n"}],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685557377,"creation_date":1685537311,"question_id":76373656,"body_markdown":"We removed the `legacy-jar` option from the `application.properties`. However, when running the code in our openshift cluster I get the following class not found exception:\r\n\r\n```\r\n14:42:22 WARN  [nl.bro.mic.com.rs.pro.DefaultExceptionProvider] (executor-thread-12) javax.xml.datatype.DatatypeConfigurationException: Provider org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl not found: java.lang.RuntimeException: javax.xml.datatype.DatatypeConfigurationException: Provider org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl not found\r\n\tat nl.bro.microservices.rba.be.mapping.models.ModelXmlMapperImpl.&lt;init&gt;(ModelXmlMapperImpl.java:42\r\n\t...\r\nCaused by: java.lang.ClassNotFoundException: org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat io.quarkus.bootstrap.runner.RunnerClassLoader.loadClass(RunnerClassLoader.java:115)\r\n\tat io.quarkus.bootstrap.runner.RunnerClassLoader.loadClass(RunnerClassLoader.java:65)\r\n\tat javax.xml.datatype.FactoryFinder.newInstance(Unknown Source)\r\n\tat javax.xml.datatype.FactoryFinder.find(Unknown Source)\r\n\t... 70 more\r\n```\r\n\r\nThe docker file takes care on copying our jars to the target location:\r\n\r\n```\r\nCOPY --chown=185 target/quarkus-app/lib/ /deployments/lib/\r\nCOPY --chown=185 target/quarkus-app/*.jar /deployments/\r\nCOPY --chown=185 target/quarkus-app/app/ /deployments/app/\r\nCOPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/\r\n```\r\nThis is not happening in dev mode (locally). I tried a lot of things. Most prominent is adding the dependency: \r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-jaxb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n``` \r\n\r\nversion Quarkus: 2.16.6.Final, Java 11 (openjdk)\r\n\r\nWhat are we missing? I can see its looking for the class without the `com.sun` package prefix\r\n","title":"Removing quarkus.package.type=legacy-jar leads to not finding DataTypeFactoryImpl","body":"<p>We removed the <code>legacy-jar</code> option from the <code>application.properties</code>. However, when running the code in our openshift cluster I get the following class not found exception:</p>\n<pre><code>14:42:22 WARN  [nl.bro.mic.com.rs.pro.DefaultExceptionProvider] (executor-thread-12) javax.xml.datatype.DatatypeConfigurationException: Provider org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl not found: java.lang.RuntimeException: javax.xml.datatype.DatatypeConfigurationException: Provider org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl not found\n    at nl.bro.microservices.rba.be.mapping.models.ModelXmlMapperImpl.&lt;init&gt;(ModelXmlMapperImpl.java:42\n    ...\nCaused by: java.lang.ClassNotFoundException: org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at io.quarkus.bootstrap.runner.RunnerClassLoader.loadClass(RunnerClassLoader.java:115)\n    at io.quarkus.bootstrap.runner.RunnerClassLoader.loadClass(RunnerClassLoader.java:65)\n    at javax.xml.datatype.FactoryFinder.newInstance(Unknown Source)\n    at javax.xml.datatype.FactoryFinder.find(Unknown Source)\n    ... 70 more\n</code></pre>\n<p>The docker file takes care on copying our jars to the target location:</p>\n<pre><code>COPY --chown=185 target/quarkus-app/lib/ /deployments/lib/\nCOPY --chown=185 target/quarkus-app/*.jar /deployments/\nCOPY --chown=185 target/quarkus-app/app/ /deployments/app/\nCOPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/\n</code></pre>\n<p>This is not happening in dev mode (locally). I tried a lot of things. Most prominent is adding the dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-jaxb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>version Quarkus: 2.16.6.Final, Java 11 (openjdk)</p>\n<p>What are we missing? I can see its looking for the class without the <code>com.sun</code> package prefix</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1612434489,"post_id":66042946,"comment_id":116767964,"body_markdown":"You might get a  [Java 15 JDK from AdoptOpenJDK](https://adoptopenjdk.net/?variant=openjdk15) (https://jdk.java.net/15/ provides the source code, not an executable Java VM) and configure it in Eclipse in _Window &gt; Preferences: Java &gt; Installed JREs_.","body":"You might get a  <a href=\"https://adoptopenjdk.net/?variant=openjdk15\" rel=\"nofollow noreferrer\">Java 15 JDK from AdoptOpenJDK</a> (<a href=\"https://jdk.java.net/15/\" rel=\"nofollow noreferrer\">jdk.java.net/15</a> provides the source code, not an executable Java VM) and configure it in Eclipse in <i>Window &gt; Preferences: Java &gt; Installed JREs</i>."},{"owner":{"account_id":15920984,"reputation":49,"user_id":11488000,"display_name":"AlElM"},"score":1,"creation_date":1613242025,"post_id":66042946,"comment_id":117017597,"body_markdown":"Sorry for replying so late but thank you, it helped me. I got it to work. Thanks again.@howlger","body":"Sorry for replying so late but thank you, it helped me. I got it to work. Thanks again.@howlger"}],"answers":[{"tags":[],"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1624986444,"creation_date":1624986444,"answer_id":68182973,"question_id":66042946,"body_markdown":"I had this problem with an auto update.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHad to go to my project properties and change the JDK Compliance level.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z21UQ.png\r\n  [2]: https://i.stack.imgur.com/PJUW2.png","title":"BuildPath Errors in Eclipse","body":"<p>I had this problem with an auto update.</p>\n<p><a href=\"https://i.stack.imgur.com/z21UQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/z21UQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Had to go to my project properties and change the JDK Compliance level.</p>\n<p><a href=\"https://i.stack.imgur.com/PJUW2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PJUW2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25967210,"reputation":1,"user_id":19682997,"display_name":"Rishav Kalra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685557323,"creation_date":1685557323,"answer_id":76376330,"question_id":66042946,"body_markdown":"GO TO\r\nPreferences &gt; Java &gt; Installed JREs and Select the appropriate JRE (not jdk). \r\nThis helped me","title":"BuildPath Errors in Eclipse","body":"<p>GO TO\nPreferences &gt; Java &gt; Installed JREs and Select the appropriate JRE (not jdk).\nThis helped me</p>\n"}],"owner":{"account_id":15920984,"reputation":49,"user_id":11488000,"display_name":"AlElM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9089,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1685557323,"creation_date":1612431473,"question_id":66042946,"body_markdown":"I&#39;ve been using Eclipse IDE for... nearly a month now and one day all my projects had suddenly an error sign over them. I&#39;ve already tried to assign in the Library tab from Build Path the JDK I already have (the jdk.11.0.2, or at least that&#39;s the one it recognizes) and it still popped up 30 error messages. Mainly these two: The project cannot be built until build path errors are resolved and The project was not built due to &quot;release 15 is not found in the system&quot;. Fix the problem, then try refreshing this project and building it since it may be inconsistent.\r\n\r\nI&#39;m using the latest version of Eclipse IDE.\r\n \r\nI&#39;ve tried to clean it, it didn&#39;t work. I&#39;ve tried to search on Stack Overflow but I found answers I didn&#39;t understand. I&#39;ve downloaded a JDK package from here (https://jdk.java.net/15/), the Windows version if it matters, but I realized I do not actually know how to actually install it. If someone would be so kind to guide me a little I would be grateful. Thank you for considering my question.\r\n","title":"BuildPath Errors in Eclipse","body":"<p>I've been using Eclipse IDE for... nearly a month now and one day all my projects had suddenly an error sign over them. I've already tried to assign in the Library tab from Build Path the JDK I already have (the jdk.11.0.2, or at least that's the one it recognizes) and it still popped up 30 error messages. Mainly these two: The project cannot be built until build path errors are resolved and The project was not built due to &quot;release 15 is not found in the system&quot;. Fix the problem, then try refreshing this project and building it since it may be inconsistent.</p>\n<p>I'm using the latest version of Eclipse IDE.</p>\n<p>I've tried to clean it, it didn't work. I've tried to search on Stack Overflow but I found answers I didn't understand. I've downloaded a JDK package from here (<a href=\"https://jdk.java.net/15/\" rel=\"nofollow noreferrer\">https://jdk.java.net/15/</a>), the Windows version if it matters, but I realized I do not actually know how to actually install it. If someone would be so kind to guide me a little I would be grateful. Thank you for considering my question.</p>\n"},{"tags":["java","cryptography","rsa"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1484251374,"post_id":41526826,"comment_id":70445277,"body_markdown":"Hah, thought I was on Crypto due to the edit of e-sushi :P","body":"Hah, thought I was on Crypto due to the edit of e-sushi :P"}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1635975880,"creation_date":1484252865,"answer_id":41622373,"question_id":41526826,"body_markdown":"Generally if you want to store a file in base 64 you can simply encode the byte array. You can even put a Base64 stream in between the `ObjectOutputStream` and `FileOutputStream` (helpfully provided by the Base64 class within Java 8).\r\n\r\nHowever, public keys and private keys have default encodings which can be accessed using their `getEncoded` methods:\r\n\r\n    PublicKey publicKey = key.getPublic();\r\n    byte[] encodedPublicKey = publicKey.getEncoded();\r\n    String b64PublicKey = Base64.getEncoder().encodeToString(encodedPublicKey);\r\n    \r\n    try (OutputStreamWriter publicKeyWriter =\r\n            new OutputStreamWriter(\r\n                    new FileOutputStream(publicKeyFile),\r\n                    StandardCharsets.US_ASCII.newEncoder())) {\r\n        publicKeyWriter.write(b64PublicKey);\r\n    }\r\n\r\nThis saves the public key in `SubjectPublicKeyInfo` format, something that can be read and written by multiple types of software and cryptographic libraries.\r\n\r\nFor instance, you can [paste it in an online ASN.1 decoder](https://lapo.it/asn1js/#30820122300D06092A864886F70D01010105000382010F003082010A0282010100B8DFEE113DF2F011B282BF14A9DD9DAC99ACFF76531E74494571D8EF84E822281FEB6CE1443188EE65AC13AA9E46EF7DFC253A790E1933F5DA1C89DF328C220C9CFED5D31D2D9E75086CE979D11F65CA12301DBBCE8EA62B3550B698386E6530ABC7EF910240553AE9834A775E75ED95F47AC937DE0E28759CF21844D7191F2FF7BDD6E5F30A7CDF0A590A025E73A5EA3A264716365BBCE27A2CA2DE900B8603EFEC1181CA89DC1607FBF75D44322D2BE029CA24BDD972142E48EDD99BF37B2D70752F4193670C85CC7347FBD3617408A29F4BAB0004507E49837083D65A55576C65A5145A0F4ED0C10EECBCA6C096CC695FB96309F88E0E431AB8566D0827030203010001) (the online decoder will itself convert it to hex, but it will parse base 64 as well). The format of bytes are in so called ASN.1 / DER (which is a generic format, just like you can encode multiple types of files in XML).\r\n\r\n---\r\n\r\nIf you want to have the key in OpenSSL compatible format (with a &quot;PUBLIC KEY&quot; header and footer) you can use a library such as Bouncy Castle (e.g. [`org.bouncycastle.openssl.jcajce.JcaPEMWriter`](https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/openssl/jcajce/JcaPEMWriter.html#JcaPEMWriter-java.io.Writer-)).","title":"convert RSA Publickey to base64 and vice versa","body":"<p>Generally if you want to store a file in base 64 you can simply encode the byte array. You can even put a Base64 stream in between the <code>ObjectOutputStream</code> and <code>FileOutputStream</code> (helpfully provided by the Base64 class within Java 8).</p>\n<p>However, public keys and private keys have default encodings which can be accessed using their <code>getEncoded</code> methods:</p>\n<pre><code>PublicKey publicKey = key.getPublic();\nbyte[] encodedPublicKey = publicKey.getEncoded();\nString b64PublicKey = Base64.getEncoder().encodeToString(encodedPublicKey);\n\ntry (OutputStreamWriter publicKeyWriter =\n        new OutputStreamWriter(\n                new FileOutputStream(publicKeyFile),\n                StandardCharsets.US_ASCII.newEncoder())) {\n    publicKeyWriter.write(b64PublicKey);\n}\n</code></pre>\n<p>This saves the public key in <code>SubjectPublicKeyInfo</code> format, something that can be read and written by multiple types of software and cryptographic libraries.</p>\n<p>For instance, you can <a href=\"https://lapo.it/asn1js/#30820122300D06092A864886F70D01010105000382010F003082010A0282010100B8DFEE113DF2F011B282BF14A9DD9DAC99ACFF76531E74494571D8EF84E822281FEB6CE1443188EE65AC13AA9E46EF7DFC253A790E1933F5DA1C89DF328C220C9CFED5D31D2D9E75086CE979D11F65CA12301DBBCE8EA62B3550B698386E6530ABC7EF910240553AE9834A775E75ED95F47AC937DE0E28759CF21844D7191F2FF7BDD6E5F30A7CDF0A590A025E73A5EA3A264716365BBCE27A2CA2DE900B8603EFEC1181CA89DC1607FBF75D44322D2BE029CA24BDD972142E48EDD99BF37B2D70752F4193670C85CC7347FBD3617408A29F4BAB0004507E49837083D65A55576C65A5145A0F4ED0C10EECBCA6C096CC695FB96309F88E0E431AB8566D0827030203010001\" rel=\"nofollow noreferrer\">paste it in an online ASN.1 decoder</a> (the online decoder will itself convert it to hex, but it will parse base 64 as well). The format of bytes are in so called ASN.1 / DER (which is a generic format, just like you can encode multiple types of files in XML).</p>\n<hr />\n<p>If you want to have the key in OpenSSL compatible format (with a &quot;PUBLIC KEY&quot; header and footer) you can use a library such as Bouncy Castle (e.g. <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/openssl/jcajce/JcaPEMWriter.html#JcaPEMWriter-java.io.Writer-\" rel=\"nofollow noreferrer\"><code>org.bouncycastle.openssl.jcajce.JcaPEMWriter</code></a>).</p>\n"}],"owner":{"account_id":7556592,"reputation":152,"user_id":5735978,"accept_rate":60,"display_name":"android_guy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25226,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":41622373,"answer_count":1,"score":5,"last_activity_date":1685557292,"creation_date":1483824919,"question_id":41526826,"body_markdown":"I have a publicKey/privateKey pair generated from this function:\r\n\r\n    public static void generateKey() {\r\n            try {\r\n                final KeyPairGenerator keyGen = KeyPairGenerator.getInstance(ALGORITHM);\r\n                keyGen.initialize(2048);\r\n                final KeyPair key = keyGen.generateKeyPair();\r\n    \r\n                File privateKeyFile = new File(PRIVATE_KEY_FILE);\r\n                File publicKeyFile = new File(PUBLIC_KEY_FILE);\r\n    \r\n                // Create files to store public and private key\r\n                if (privateKeyFile.getParentFile() != null) {\r\n                    privateKeyFile.getParentFile().mkdirs();\r\n                }\r\n                privateKeyFile.createNewFile();\r\n    \r\n                if (publicKeyFile.getParentFile() != null) {\r\n                    publicKeyFile.getParentFile().mkdirs();\r\n                }\r\n                publicKeyFile.createNewFile();\r\n    \r\n                // Saving the Public key in a file\r\n                ObjectOutputStream publicKeyOS = new ObjectOutputStream(\r\n                        new FileOutputStream(publicKeyFile));\r\n                publicKeyOS.writeObject(key.getPublic());\r\n                publicKeyOS.close();\r\n    \r\n                // Saving the Private key in a file\r\n                ObjectOutputStream privateKeyOS = new ObjectOutputStream(\r\n                        new FileOutputStream(privateKeyFile));\r\n                privateKeyOS.writeObject(key.getPrivate());\r\n                privateKeyOS.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n\r\nNow I want to convert publicKey to `base64` while writing and use that base64 decode to get publicKey back ,how can that be done?","title":"convert RSA Publickey to base64 and vice versa","body":"<p>I have a publicKey/privateKey pair generated from this function:</p>\n\n<pre><code>public static void generateKey() {\n        try {\n            final KeyPairGenerator keyGen = KeyPairGenerator.getInstance(ALGORITHM);\n            keyGen.initialize(2048);\n            final KeyPair key = keyGen.generateKeyPair();\n\n            File privateKeyFile = new File(PRIVATE_KEY_FILE);\n            File publicKeyFile = new File(PUBLIC_KEY_FILE);\n\n            // Create files to store public and private key\n            if (privateKeyFile.getParentFile() != null) {\n                privateKeyFile.getParentFile().mkdirs();\n            }\n            privateKeyFile.createNewFile();\n\n            if (publicKeyFile.getParentFile() != null) {\n                publicKeyFile.getParentFile().mkdirs();\n            }\n            publicKeyFile.createNewFile();\n\n            // Saving the Public key in a file\n            ObjectOutputStream publicKeyOS = new ObjectOutputStream(\n                    new FileOutputStream(publicKeyFile));\n            publicKeyOS.writeObject(key.getPublic());\n            publicKeyOS.close();\n\n            // Saving the Private key in a file\n            ObjectOutputStream privateKeyOS = new ObjectOutputStream(\n                    new FileOutputStream(privateKeyFile));\n            privateKeyOS.writeObject(key.getPrivate());\n            privateKeyOS.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n\n<p>Now I want to convert publicKey to <code>base64</code> while writing and use that base64 decode to get publicKey back ,how can that be done?</p>\n"},{"tags":["java","excel","apache-poi"],"owner":{"account_id":17766532,"reputation":1,"user_id":21995347,"display_name":"jose nu&#241;ez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685556448,"creation_date":1685556169,"question_id":76376208,"body_markdown":"I have to make a report but the content is bigger than the cell space and I want to autofit the cell height using wrapText from Apache.Poi\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m experiencing an issue with applying the &#39;wrap text&#39; feature correctly when using the sheet.addMergedRegion method with a for loop for parameter passing. I have defined a headerCellStyle and set the wrapText property to true along with other formatting options. However, the text does not wrap as expected. Here&#39;s the relevant code:\r\n```\r\nCellStyle headerCellStyle = workbook.createCellStyle();\r\n            headerCellStyle.setFont(font);\r\n            headerCellStyle.setWrapText(true);\r\n            headerCellStyle.setAlignment(HorizontalAlignment.CENTER);\r\n            headerCellStyle.setBorderLeft(BorderStyle.MEDIUM);\r\n            headerCellStyle.setBorderRight(BorderStyle.MEDIUM);\r\n            headerCellStyle.setBorderTop(BorderStyle.MEDIUM);\r\n            headerCellStyle.setBorderBottom(BorderStyle.MEDIUM);\r\n\r\n            Row rowHeader = sheet.createRow(12);\r\n            Cell cellHeader=null;\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                cellHeader = rowHeader.createCell((i*10) + 1);\r\n                cellHeader.setCellValue(listaCabecera.get(i));\r\n                cellHeader.setCellStyle(headerCellStyle);\r\n                sheet.addMergedRegion(new CellRangeAddress(12, 12, (i*10)+1, (i*10)+10));\r\n            }\r\n```\r\nHowever, if I explicitly specify the range for each sheet.addMergedRegion call, the wrapText feature works correctly. For example:\r\n```\r\n            Row rowHeader = sheet.createRow(12);\r\n            Cell cellHeader=null;\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                cellHeader = rowHeader.createCell((i*10) + 1);\r\n                cellHeader.setCellValue(listaCabecera.get(i));\r\n                cellHeader.setCellStyle(headerCellStyle); // Aplica el estilo a cada celda creada\r\n                if(i==0) {\r\n                    sheet.addMergedRegion(new CellRangeAddress(12, 12, 1, 10));\r\n                }\r\n                if(i==1) {\r\n                    sheet.addMergedRegion(new CellRangeAddress(12, 12, 11, 20));\r\n                }\r\n                if(i==2) {\r\n                    sheet.addMergedRegion(new CellRangeAddress(12, 12, 21, 30));\r\n                }\r\n            }\r\n```\r\nWhy is the wrapText not working when using the sheet.addMergedRegion method within a for loop? Any suggestions on how to resolve this issue? Thank you!&quot;","title":"AutoSize height for rows In Apache.Poi 3.15","body":"<p>I have to make a report but the content is bigger than the cell space and I want to autofit the cell height using wrapText from Apache.Poi</p>\n<p>I'm experiencing an issue with applying the 'wrap text' feature correctly when using the sheet.addMergedRegion method with a for loop for parameter passing. I have defined a headerCellStyle and set the wrapText property to true along with other formatting options. However, the text does not wrap as expected. Here's the relevant code:</p>\n<pre><code>CellStyle headerCellStyle = workbook.createCellStyle();\n            headerCellStyle.setFont(font);\n            headerCellStyle.setWrapText(true);\n            headerCellStyle.setAlignment(HorizontalAlignment.CENTER);\n            headerCellStyle.setBorderLeft(BorderStyle.MEDIUM);\n            headerCellStyle.setBorderRight(BorderStyle.MEDIUM);\n            headerCellStyle.setBorderTop(BorderStyle.MEDIUM);\n            headerCellStyle.setBorderBottom(BorderStyle.MEDIUM);\n\n            Row rowHeader = sheet.createRow(12);\n            Cell cellHeader=null;\n            for (int i = 0; i &lt; 3; i++) {\n                cellHeader = rowHeader.createCell((i*10) + 1);\n                cellHeader.setCellValue(listaCabecera.get(i));\n                cellHeader.setCellStyle(headerCellStyle);\n                sheet.addMergedRegion(new CellRangeAddress(12, 12, (i*10)+1, (i*10)+10));\n            }\n</code></pre>\n<p>However, if I explicitly specify the range for each sheet.addMergedRegion call, the wrapText feature works correctly. For example:</p>\n<pre><code>            Row rowHeader = sheet.createRow(12);\n            Cell cellHeader=null;\n            for (int i = 0; i &lt; 3; i++) {\n                cellHeader = rowHeader.createCell((i*10) + 1);\n                cellHeader.setCellValue(listaCabecera.get(i));\n                cellHeader.setCellStyle(headerCellStyle); // Aplica el estilo a cada celda creada\n                if(i==0) {\n                    sheet.addMergedRegion(new CellRangeAddress(12, 12, 1, 10));\n                }\n                if(i==1) {\n                    sheet.addMergedRegion(new CellRangeAddress(12, 12, 11, 20));\n                }\n                if(i==2) {\n                    sheet.addMergedRegion(new CellRangeAddress(12, 12, 21, 30));\n                }\n            }\n</code></pre>\n<p>Why is the wrapText not working when using the sheet.addMergedRegion method within a for loop? Any suggestions on how to resolve this issue? Thank you!&quot;</p>\n"},{"tags":["java","hibernate","object","type-conversion"],"comments":[{"owner":{"account_id":2875465,"reputation":1957,"user_id":2467652,"display_name":"ajay.patel"},"score":0,"creation_date":1371544168,"post_id":17164014,"comment_id":24848958,"body_markdown":"Looks like getAttendanceList is returning you Long. Can you post the code for the same","body":"Looks like getAttendanceList is returning you Long. Can you post the code for the same"},{"owner":{"account_id":2895112,"reputation":297,"user_id":2483066,"display_name":"Matteo N."},"score":0,"creation_date":1371544311,"post_id":17164014,"comment_id":24852674,"body_markdown":"Are you sure you&#39;re returning an Integer? ClassCastException says that you&#39;re not returning an Integer...","body":"Are you sure you&#39;re returning an Integer? ClassCastException says that you&#39;re not returning an Integer..."},{"owner":{"account_id":2912362,"reputation":447,"user_id":2496295,"accept_rate":75,"display_name":"SWEE"},"score":0,"creation_date":1371544450,"post_id":17164014,"comment_id":24852675,"body_markdown":"Yes.. i want to store getAttendanceList() method return value into k. then only ClassCastException coming and now i&#39;m casting to (Integer) but again that exception come..","body":"Yes.. i want to store getAttendanceList() method return value into k. then only ClassCastException coming and now i&#39;m casting to (Integer) but again that exception come.."}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":1,"up_vote_count":72,"is_accepted":true,"score":71,"last_activity_date":1371544124,"creation_date":1371544124,"answer_id":17164042,"question_id":17164014,"body_markdown":"Use:\r\n\r\n    ((Long) userService.getAttendanceList(currentUser)).intValue();\r\n\r\ninstead.\r\n\r\nThe `.intValue()` method is defined in class [`Number`][1], which `Long` extends.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Number.html#intValue%28%29","title":"java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.Integer in java 1.6","body":"<p>Use:</p>\n\n<pre><code>((Long) userService.getAttendanceList(currentUser)).intValue();\n</code></pre>\n\n<p>instead.</p>\n\n<p>The <code>.intValue()</code> method is defined in class <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Number.html#intValue%28%29\"><code>Number</code></a>, which <code>Long</code> extends.</p>\n"},{"tags":[],"owner":{"account_id":1172694,"reputation":1409,"user_id":1466126,"accept_rate":62,"display_name":"Jeroen Kransen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1371544884,"creation_date":1371544884,"answer_id":17164308,"question_id":17164014,"body_markdown":"The number of results can (theoretically) be greater than the range of an integer. I would refactor the code and work with the returned long value instead.","title":"java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.Integer in java 1.6","body":"<p>The number of results can (theoretically) be greater than the range of an integer. I would refactor the code and work with the returned long value instead.</p>\n"},{"tags":[],"owner":{"account_id":13239720,"reputation":112,"user_id":9560693,"display_name":"Yehouda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652870692,"creation_date":1652870692,"answer_id":72287718,"question_id":17164014,"body_markdown":"You can do like that :\r\n \r\n\r\n    int k = Math.toIntExact((Long) userService.getAttendanceList(currentUser));","title":"java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.Integer in java 1.6","body":"<p>You can do like that :</p>\n<pre><code>int k = Math.toIntExact((Long) userService.getAttendanceList(currentUser));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26077378,"reputation":1,"user_id":19776138,"display_name":"Mr Etineh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685556036,"creation_date":1685556036,"answer_id":76376192,"question_id":17164014,"body_markdown":"Just change the ```long``` to ```Number```\r\nRemember your database is Number not int or long.","title":"java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.Integer in java 1.6","body":"<p>Just change the <code>long</code> to <code>Number</code>\nRemember your database is Number not int or long.</p>\n"}],"owner":{"account_id":2912362,"reputation":447,"user_id":2496295,"accept_rate":75,"display_name":"SWEE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138991,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":17164042,"answer_count":4,"score":30,"last_activity_date":1685556036,"creation_date":1371544035,"question_id":17164014,"body_markdown":"Even I&#39;m casting `Object` into int, but this exception occur...\r\n\r\nActually my Hibernate-JPA method was return `Object` then I&#39;m converting that `Object` into `int`...\r\n\r\nHere is my Hibernate code:\r\n\r\n    @Transactional\r\n\tpublic Object getAttendanceList(User user){\r\n\t\r\n\t\tQuery query = entityManager.createQuery(&quot;select Count(ad) from AttendanceDemo ad inner join ad.attendee at  where at.user=:user&quot;,\r\n\t\t\t\tLong.class);\r\n\t\tquery.setParameter(&quot;user&quot;, user);\r\n\t\treturn query.getSingleResult();\r\n\t}\r\n\r\n Now I&#39;m converting this `Object` as `int`:\r\n\r\n    int k = (Integer) userService.getAttendanceList(currentUser);\r\n\r\nI&#39;m converting `Object` to `Integer`.","title":"java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.Integer in java 1.6","body":"<p>Even I'm casting <code>Object</code> into int, but this exception occur...</p>\n\n<p>Actually my Hibernate-JPA method was return <code>Object</code> then I'm converting that <code>Object</code> into <code>int</code>...</p>\n\n<p>Here is my Hibernate code:</p>\n\n<pre><code>@Transactional\npublic Object getAttendanceList(User user){\n\n    Query query = entityManager.createQuery(\"select Count(ad) from AttendanceDemo ad inner join ad.attendee at  where at.user=:user\",\n            Long.class);\n    query.setParameter(\"user\", user);\n    return query.getSingleResult();\n}\n</code></pre>\n\n<p>Now I'm converting this <code>Object</code> as <code>int</code>:</p>\n\n<pre><code>int k = (Integer) userService.getAttendanceList(currentUser);\n</code></pre>\n\n<p>I'm converting <code>Object</code> to <code>Integer</code>.</p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":24525025,"reputation":21,"user_id":18437588,"display_name":"vanxa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648465420,"creation_date":1648465420,"answer_id":71646419,"question_id":71646010,"body_markdown":"What is the version of `org.springframework.boot:spring-boot-starter-test` that gets resolved when you compile your project?\r\n\r\nYou can also check the dependency graph by using the `project-report` plugin (https://docs.gradle.org/current/userguide/project_report_plugin.html) to verify what version of mockito is used (i.e. is it overridden?)\r\n\r\n`org.springframework.boot:spring-boot-starter-test` versions `2.x` use Mockito `2.x`, as you can see here: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test/2.0.0.RELEASE\r\n\r\nIf you want to override the Mockito version that is used, you can try excluding the dependency that comes along with `spring-boot-starter-test` by doing\r\n```\r\ntestImplementation(&#39;org.springframework.boot:spring-boot-starter-test:{your version here}&#39;) {\r\n            exclude group: &#39;org.mockito&#39;, module: &#39;mockito-core&#39;\r\n            force = true\r\n        }\r\n```\r\n\r\nBecause you are forcing a `major version downgrade` for a component, you can expect to have incompatibility issues during runtime, depending on how you use the test libraries. ","title":"java.lang.NoSuchMethodError: org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings eeror","body":"<p>What is the version of <code>org.springframework.boot:spring-boot-starter-test</code> that gets resolved when you compile your project?</p>\n<p>You can also check the dependency graph by using the <code>project-report</code> plugin (<a href=\"https://docs.gradle.org/current/userguide/project_report_plugin.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/project_report_plugin.html</a>) to verify what version of mockito is used (i.e. is it overridden?)</p>\n<p><code>org.springframework.boot:spring-boot-starter-test</code> versions <code>2.x</code> use Mockito <code>2.x</code>, as you can see here: <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test/2.0.0.RELEASE\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test/2.0.0.RELEASE</a></p>\n<p>If you want to override the Mockito version that is used, you can try excluding the dependency that comes along with <code>spring-boot-starter-test</code> by doing</p>\n<pre><code>testImplementation('org.springframework.boot:spring-boot-starter-test:{your version here}') {\n            exclude group: 'org.mockito', module: 'mockito-core'\n            force = true\n        }\n</code></pre>\n<p>Because you are forcing a <code>major version downgrade</code> for a component, you can expect to have incompatibility issues during runtime, depending on how you use the test libraries.</p>\n"},{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685555516,"creation_date":1685555516,"answer_id":76376135,"question_id":71646010,"body_markdown":"As mentioned in this thread: https://github.com/mockito/mockito/issues/1394 I excluded mockito-all dependency and solved my issue\r\n\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;","title":"java.lang.NoSuchMethodError: org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings eeror","body":"<p>As mentioned in this thread: <a href=\"https://github.com/mockito/mockito/issues/1394\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/issues/1394</a> I excluded mockito-all dependency and solved my issue</p>\n<pre><code>            &lt;exclusion&gt;\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n</code></pre>\n"}],"owner":{"account_id":12939619,"reputation":166,"user_id":9355842,"display_name":"Georgi Velev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685555516,"creation_date":1648463434,"question_id":71646010,"body_markdown":"I&#39;am upgrading a project (Spring 4 -&gt; Spring 5, Spring Boot 1 -&gt; Spring Boot 2). \r\nI have the following error  \r\n\r\n    org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings;\r\n    java.lang.NoSuchMethodError: org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings;\r\n    \tat org.springframework.boot.test.mock.mockito.MockReset.get(MockReset.java:107)\r\n    \tat org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener.resetMocks(ResetMocksTestExecutionListener.java:82)\r\n    \tat org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener.resetMocks(ResetMocksTestExecutionListener.java:70)\r\n    \tat org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener.beforeTestMethod(ResetMocksTestExecutionListener.java:57)\r\n    \tat org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:293)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nI am currently using \r\n\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    testImplementation &#39;org.mockito:mockito-core:1.10.19&#39;\r\n    testImplementation project(&quot;:test&quot;)\r\n\r\nAnd there was no such error in Spring 4. I have a new library `org.mockito:mockito-junit-jupiter:4.0.0` that I **did not have** in Spring 4 , I suppose this is the issue? But I don&#39;t know how to remove this ? Can somebody help ?\r\n\r\n**PLEASE NOTE** !  \r\n I **want** to keep using my current mockito version 1.10.19. Do not advice to remove this dependency and let spring-boot-starter to take care, because then I will need to re-write all the tests. I already try this and this is not a solution in my case. \r\n\r\n\r\n","title":"java.lang.NoSuchMethodError: org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings eeror","body":"<p>I'am upgrading a project (Spring 4 -&gt; Spring 5, Spring Boot 1 -&gt; Spring Boot 2).\nI have the following error</p>\n<pre><code>org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings;\njava.lang.NoSuchMethodError: org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings;\n    at org.springframework.boot.test.mock.mockito.MockReset.get(MockReset.java:107)\n    at org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener.resetMocks(ResetMocksTestExecutionListener.java:82)\n    at org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener.resetMocks(ResetMocksTestExecutionListener.java:70)\n    at org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener.beforeTestMethod(ResetMocksTestExecutionListener.java:57)\n    at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>I am currently using</p>\n<pre><code>testImplementation 'junit:junit:4.12'\ntestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\ntestImplementation 'org.mockito:mockito-core:1.10.19'\ntestImplementation project(&quot;:test&quot;)\n</code></pre>\n<p>And there was no such error in Spring 4. I have a new library <code>org.mockito:mockito-junit-jupiter:4.0.0</code> that I <strong>did not have</strong> in Spring 4 , I suppose this is the issue? But I don't know how to remove this ? Can somebody help ?</p>\n<p><strong>PLEASE NOTE</strong> !<br />\nI <strong>want</strong> to keep using my current mockito version 1.10.19. Do not advice to remove this dependency and let spring-boot-starter to take care, because then I will need to re-write all the tests. I already try this and this is not a solution in my case.</p>\n"},{"tags":["java","scala","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1685551178,"post_id":76375640,"comment_id":134677222,"body_markdown":"Try to delete `.idea` directory and [re-import the project](https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start). All the dependencies should be configured automatically. If the issue persists, [file a bug](https://youtrack.jetbrains.com/newIssue?project=IDEA) with the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) attached.","body":"Try to delete <code>.idea</code> directory and <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">re-import the project</a>. All the dependencies should be configured automatically. If the issue persists, <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">file a bug</a> with the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> attached."},{"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"score":0,"creation_date":1685555346,"post_id":76375640,"comment_id":134678080,"body_markdown":"@CrazyCoder, wow that fixed it! I normally try that. Do you want to make that an answer or should I just delete this thread?","body":"@CrazyCoder, wow that fixed it! I normally try that. Do you want to make that an answer or should I just delete this thread?"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685555403,"creation_date":1685555403,"answer_id":76376119,"question_id":76375640,"body_markdown":"The common workaround/fix for such problems is to delete `.idea` directory from the project root and [re-import the project](https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start) from the build file.","title":"IntelliJ `No &#39;scala-library*.jar&#39; in Scala compiler classpath in Scala SDK Maven: org.scala-lang:scala-library:2.12.7`","body":"<p>The common workaround/fix for such problems is to delete <code>.idea</code> directory from the project root and <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">re-import the project</a> from the build file.</p>\n"}],"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76376119,"answer_count":1,"score":1,"last_activity_date":1685555403,"creation_date":1685550909,"question_id":76375640,"body_markdown":"```\r\nscalac: No &#39;scala-library*.jar&#39; in Scala compiler classpath in Scala SDK Maven: org.scala-lang:scala-library:2.12.7\r\n```\r\n\r\nI&#39;m working on a large existing project that uses Java 8 + Scala 2.12.7 with Maven for build. I want to use the IntelliJ Ultimate IDE, version 2023.1.2 which is the current version as of this writing, to work on the project.\r\n\r\nThis project builds successfully with this command in a shell window:\r\n\r\n```\r\nmvn clean install -Dfast -DskipTests=true -Dscala-2.12\r\n```\r\n\r\nIn IntelliJ Project Structure -&gt; Platform Settings -&gt; Global Libraries, I&#39;ve downloaded scala-sdk-2.12.7. There are no other Global Libraries configured. \r\n\r\nI see related stackoverflow threads like this one (https://stackoverflow.com/questions/46827010/no-scala-library-jar-in-every-new-intellij-scala-project/46831548#46831548) but that is years ago and while it&#39;s the same error message, the answers aren&#39;t helpful and most aren&#39;t applicable. I&#39;m not using SBT. And I can&#39;t just upgrade to a newer Scala as this is a large legacy project.\r\n\r\nI&#39;ve also done &quot;Rebuild Project&quot; and &quot;Invalidate Caches...&quot; (with restart) several times.","title":"IntelliJ `No &#39;scala-library*.jar&#39; in Scala compiler classpath in Scala SDK Maven: org.scala-lang:scala-library:2.12.7`","body":"<pre><code>scalac: No 'scala-library*.jar' in Scala compiler classpath in Scala SDK Maven: org.scala-lang:scala-library:2.12.7\n</code></pre>\n<p>I'm working on a large existing project that uses Java 8 + Scala 2.12.7 with Maven for build. I want to use the IntelliJ Ultimate IDE, version 2023.1.2 which is the current version as of this writing, to work on the project.</p>\n<p>This project builds successfully with this command in a shell window:</p>\n<pre><code>mvn clean install -Dfast -DskipTests=true -Dscala-2.12\n</code></pre>\n<p>In IntelliJ Project Structure -&gt; Platform Settings -&gt; Global Libraries, I've downloaded scala-sdk-2.12.7. There are no other Global Libraries configured.</p>\n<p>I see related stackoverflow threads like this one (<a href=\"https://stackoverflow.com/questions/46827010/no-scala-library-jar-in-every-new-intellij-scala-project/46831548#46831548\">No &#39;scala-library*.jar&#39; in every new IntelliJ Scala Project</a>) but that is years ago and while it's the same error message, the answers aren't helpful and most aren't applicable. I'm not using SBT. And I can't just upgrade to a newer Scala as this is a large legacy project.</p>\n<p>I've also done &quot;Rebuild Project&quot; and &quot;Invalidate Caches...&quot; (with restart) several times.</p>\n"},{"tags":["java","json","jackson","deserialization"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1685524380,"post_id":76371794,"comment_id":134670886,"body_markdown":"Have you looked up &quot;Jackson custom deserializer&quot;? There should be a lot of results for that.","body":"Have you looked up &quot;Jackson custom deserializer&quot;? There should be a lot of results for that."}],"answers":[{"tags":[],"owner":{"account_id":24346889,"reputation":74,"user_id":18283306,"display_name":"Dylan LaMott"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685554447,"creation_date":1685554447,"answer_id":76376021,"question_id":76371794,"body_markdown":"If it were me I would create a POJO class to map the JSON response to the object. I would just use this: https://www.jsonschema2pojo.org/ to create the classes I need and then do: \r\n\r\n    Example object = new Gson().fromJson(json, Example.class);\r\n\r\nUsing the above link will save time and prevent the headache of mapping the JSON object. You could then refer in your code like:\r\n\r\n   \r\n\r\n    List&lt;String&gt; codeList =  object.getCodes();","title":"How to deserialize List&lt;String&gt; as comma separated String in Jackson","body":"<p>If it were me I would create a POJO class to map the JSON response to the object. I would just use this: <a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">https://www.jsonschema2pojo.org/</a> to create the classes I need and then do:</p>\n<pre><code>Example object = new Gson().fromJson(json, Example.class);\n</code></pre>\n<p>Using the above link will save time and prevent the headache of mapping the JSON object. You could then refer in your code like:</p>\n<pre><code>List&lt;String&gt; codeList =  object.getCodes();\n</code></pre>\n"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685554447,"creation_date":1685523641,"question_id":76371794,"body_markdown":"I want to deserialize the below JSON in `Map&lt;String,String&gt;` format, but with the `codes` param in List format. I needs to deserialize `codes` as a comma-separated string in a map value.\r\n\r\n```json\r\n{\r\n  &quot;frequency&quot;: &quot;Daily&quot;,\r\n  &quot;level&quot;: &quot;Standard&quot;,\r\n  &quot;id&quot;: &quot;1234&quot;,\r\n  &quot;name&quot;: &quot;test user&quot;,\r\n  &quot;codes&quot;: [\r\n    &quot;177&quot;,\r\n    &quot;989&quot;\r\n  ]\r\n}\r\n```\r\n\r\nI tried to change to a `Map&lt;String,Object&gt;` and was able to deserialize it. But I want to add a custom deserializer for it. Is any way to add a custom deserializer for it?","title":"How to deserialize List&lt;String&gt; as comma separated String in Jackson","body":"<p>I want to deserialize the below JSON in <code>Map&lt;String,String&gt;</code> format, but with the <code>codes</code> param in List format. I needs to deserialize <code>codes</code> as a comma-separated string in a map value.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;frequency&quot;: &quot;Daily&quot;,\n  &quot;level&quot;: &quot;Standard&quot;,\n  &quot;id&quot;: &quot;1234&quot;,\n  &quot;name&quot;: &quot;test user&quot;,\n  &quot;codes&quot;: [\n    &quot;177&quot;,\n    &quot;989&quot;\n  ]\n}\n</code></pre>\n<p>I tried to change to a <code>Map&lt;String,Object&gt;</code> and was able to deserialize it. But I want to add a custom deserializer for it. Is any way to add a custom deserializer for it?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685554357,"creation_date":1685554357,"answer_id":76376015,"question_id":76375739,"body_markdown":"JPA does not define any way to specify an alias for a persistent property, nor does Hibernate (since you mention HQL in particular) offer an extension for that purpose.  If you use field-based access, as in your example, then in your HQL queries, you must refer to entity attributes via their field names.  On the other hand, if you use property-based access then you must refer to entity attributes via names derived from the names of the annotated accessor methods.  There is no field-level analogue of the `name` attribute of the `@Entity` annotation.\r\n\r\n&gt; How to make possible selecting by **customized** column name in HQL\r\n\r\nOnly by naming the field on the Java side with whatever name you want to use to refer to it in your queries.  For example,\r\n```\r\n    @Column(name = &quot;example_field&quot;)\r\n    public String example_field;\r\n```\r\nIf you happen to be subject to Java coding conventions that disallow such field names then you&#39;re stuck. There is no way to satisfy such conventions and also refer to the fields by the names you prefer in your HQL queries.\r\n","title":"How to change column alias in entity definition, that is used in HQL queries in Hibernate?","body":"<p>JPA does not define any way to specify an alias for a persistent property, nor does Hibernate (since you mention HQL in particular) offer an extension for that purpose.  If you use field-based access, as in your example, then in your HQL queries, you must refer to entity attributes via their field names.  On the other hand, if you use property-based access then you must refer to entity attributes via names derived from the names of the annotated accessor methods.  There is no field-level analogue of the <code>name</code> attribute of the <code>@Entity</code> annotation.</p>\n<blockquote>\n<p>How to make possible selecting by <strong>customized</strong> column name in HQL</p>\n</blockquote>\n<p>Only by naming the field on the Java side with whatever name you want to use to refer to it in your queries.  For example,</p>\n<pre><code>    @Column(name = &quot;example_field&quot;)\n    public String example_field;\n</code></pre>\n<p>If you happen to be subject to Java coding conventions that disallow such field names then you're stuck. There is no way to satisfy such conventions and also refer to the fields by the names you prefer in your HQL queries.</p>\n"}],"owner":{"account_id":15769059,"reputation":1441,"user_id":11378599,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685554357,"creation_date":1685551744,"question_id":76375739,"body_markdown":"I&#39;m trying to figure out how to change column name alias used in HQL, like we can change entity name alias with `@Entity(name = &quot;example&quot;)` annotation.\r\n\r\nSay for example we have such entity class:\r\n\r\n```\r\n\r\n@Entity(name = &quot;example&quot;)\r\n@Table(name = &quot;example&quot;)\r\npublic class Example {\r\n    public Example(String exampleField) {\r\n        this.exampleField = exampleField;\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    public Long id;\r\n\r\n    @Column(name = &quot;example_field&quot;)\r\n    public String exampleField;\r\n}\r\n\r\n```\r\n\r\nSelecting by field name in *HQL* works:\r\n\r\n```\r\n    entityManager.createQuery(&quot;select e.exampleField from example e&quot;)\r\n```\r\n\r\nHow to make possible selecting by **customized** column name in *HQL*, like this?\r\n\r\n```\r\n    entityManager.createQuery(&quot;select e.example_field from example e&quot;)\r\n```\r\n\r\nNotice, the second (not working, but preferred) example has `example_field` instead of `exampleField`","title":"How to change column alias in entity definition, that is used in HQL queries in Hibernate?","body":"<p>I'm trying to figure out how to change column name alias used in HQL, like we can change entity name alias with <code>@Entity(name = &quot;example&quot;)</code> annotation.</p>\n<p>Say for example we have such entity class:</p>\n<pre><code>\n@Entity(name = &quot;example&quot;)\n@Table(name = &quot;example&quot;)\npublic class Example {\n    public Example(String exampleField) {\n        this.exampleField = exampleField;\n    }\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    public Long id;\n\n    @Column(name = &quot;example_field&quot;)\n    public String exampleField;\n}\n\n</code></pre>\n<p>Selecting by field name in <em>HQL</em> works:</p>\n<pre><code>    entityManager.createQuery(&quot;select e.exampleField from example e&quot;)\n</code></pre>\n<p>How to make possible selecting by <strong>customized</strong> column name in <em>HQL</em>, like this?</p>\n<pre><code>    entityManager.createQuery(&quot;select e.example_field from example e&quot;)\n</code></pre>\n<p>Notice, the second (not working, but preferred) example has <code>example_field</code> instead of <code>exampleField</code></p>\n"},{"tags":["java","amazon-web-services","aws-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":390441,"reputation":32048,"user_id":750510,"accept_rate":98,"display_name":"madhead"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644598744,"creation_date":1644598744,"answer_id":71083799,"question_id":70989658,"body_markdown":"They are still there, in the AWS SDK:\r\n\r\nhttps://github.com/aws/aws-sdk-java-v2/tree/master/test/test-utils/src/main/java/software/amazon/awssdk/core/auth/policy\r\n\r\nBut they are probably test classes (look at the full path). So, they may never meant to be a part of the public API. The Javadocs were &quot;fixed&quot; between [`2.1.3`][1] and [`2.1.4`][2].\r\n\r\nIf you are looking for those classes, they reside in [this articact][3]. Add it to your project, and you&#39;ll get them.\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/2.1.3/software/amazon/awssdk/core/auth/policy/package-summary.html\r\n  [2]: https://sdk.amazonaws.com/java/api/2.1.4/software/amazon/awssdk/core/auth/policy/package-summary.html\r\n  [3]: https://search.maven.org/artifact/software.amazon.awssdk/test-utils","title":"Where did the package software.amazon.awssdk.core.auth.policy go in the AWS Java SDK V2?","body":"<p>They are still there, in the AWS SDK:</p>\n<p><a href=\"https://github.com/aws/aws-sdk-java-v2/tree/master/test/test-utils/src/main/java/software/amazon/awssdk/core/auth/policy\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java-v2/tree/master/test/test-utils/src/main/java/software/amazon/awssdk/core/auth/policy</a></p>\n<p>But they are probably test classes (look at the full path). So, they may never meant to be a part of the public API. The Javadocs were &quot;fixed&quot; between <a href=\"https://sdk.amazonaws.com/java/api/2.1.3/software/amazon/awssdk/core/auth/policy/package-summary.html\" rel=\"nofollow noreferrer\"><code>2.1.3</code></a> and <a href=\"https://sdk.amazonaws.com/java/api/2.1.4/software/amazon/awssdk/core/auth/policy/package-summary.html\" rel=\"nofollow noreferrer\"><code>2.1.4</code></a>.</p>\n<p>If you are looking for those classes, they reside in <a href=\"https://search.maven.org/artifact/software.amazon.awssdk/test-utils\" rel=\"nofollow noreferrer\">this articact</a>. Add it to your project, and you'll get them.</p>\n"},{"tags":[],"owner":{"account_id":1433507,"reputation":31,"user_id":9120812,"display_name":"cenedhryn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646272388,"creation_date":1646272388,"answer_id":71331240,"question_id":70989658,"body_markdown":"The Github repo for the V2 AWS Java SDK has a feature request for official support: https://github.com/aws/aws-sdk-java-v2/issues/39\r\n\r\nPlease +1 and/or comment if you are missing this feature!","title":"Where did the package software.amazon.awssdk.core.auth.policy go in the AWS Java SDK V2?","body":"<p>The Github repo for the V2 AWS Java SDK has a feature request for official support: <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/39\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java-v2/issues/39</a></p>\n<p>Please +1 and/or comment if you are missing this feature!</p>\n"},{"tags":[],"owner":{"account_id":1635072,"reputation":81,"user_id":1508792,"display_name":"AlexP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685554268,"creation_date":1685554268,"answer_id":76376007,"question_id":70989658,"body_markdown":"It is in maven, but with &quot;test&quot; scope.\r\n\r\nhttps://mvnrepository.com/artifact/software.amazon.awssdk/test-utils","title":"Where did the package software.amazon.awssdk.core.auth.policy go in the AWS Java SDK V2?","body":"<p>It is in maven, but with &quot;test&quot; scope.</p>\n<p><a href=\"https://mvnrepository.com/artifact/software.amazon.awssdk/test-utils\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/software.amazon.awssdk/test-utils</a></p>\n"}],"owner":{"account_id":16963135,"reputation":389,"user_id":12269777,"display_name":"Anonymous Beaver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71083799,"answer_count":3,"score":1,"last_activity_date":1685554268,"creation_date":1643991892,"question_id":70989658,"body_markdown":"I found this piece of documentation for a way to build policies for accessing S3 Buckets (among other things) programmatically, but I can&#39;t find seem to find it. (Based on the file path, I would&#39;ve guessed that it would be in either auth or sdk-core).\r\n\r\nHas this been deprecated and moved somewhere else? There seems to be a similar (possibly equivalent) version in the V1 version of the SDK but would rather use V2 if possible.\r\n\r\nLink to documentation: https://sdk.amazonaws.com/java/api/2.0.0/software/amazon/awssdk/core/auth/policy/package-summary.html","title":"Where did the package software.amazon.awssdk.core.auth.policy go in the AWS Java SDK V2?","body":"<p>I found this piece of documentation for a way to build policies for accessing S3 Buckets (among other things) programmatically, but I can't find seem to find it. (Based on the file path, I would've guessed that it would be in either auth or sdk-core).</p>\n<p>Has this been deprecated and moved somewhere else? There seems to be a similar (possibly equivalent) version in the V1 version of the SDK but would rather use V2 if possible.</p>\n<p>Link to documentation: <a href=\"https://sdk.amazonaws.com/java/api/2.0.0/software/amazon/awssdk/core/auth/policy/package-summary.html\" rel=\"nofollow noreferrer\">https://sdk.amazonaws.com/java/api/2.0.0/software/amazon/awssdk/core/auth/policy/package-summary.html</a></p>\n"},{"tags":["java","android","jar","dagger-2","lib"],"comments":[{"owner":{"account_id":8339437,"reputation":591,"user_id":6265187,"display_name":"Shubham Anand"},"score":0,"creation_date":1593617085,"post_id":53156315,"comment_id":110845284,"body_markdown":"can you tell the solution?","body":"can you tell the solution?"}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685554213,"creation_date":1685554213,"answer_id":76375999,"question_id":53156315,"body_markdown":"Shading is a part of packaging the library dependency: you&#39;d use a rewriting tool repackage that library to include the `dagger.internal` from Dagger 2.13 under a new name (say `librarynamehere.shaded.dagger.internal`) that changes all references inside the library to use the new name. This would allow the two versions of `dagger.internal` to coexist in your library, but you should only try this if you can&#39;t upgrade your versions of Dagger to match in the library and in your application.\r\n\r\n---\r\n\r\nAs in [this answer](https://stackoverflow.com/q/50533476/1426891), a refactor in Dagger 2.14 [removed the method MembersInjector.injectMembers](https://github.com/google/dagger/commit/d61f198f1a9429e560b6e4758971978cbd58df09#diff-19f275685a69d9f838380ddb260c2df3). Code generated with 2.14 and beyond shouldn&#39;t call into this method.\r\n\r\nWhat&#39;s happening here is that the library you&#39;re consuming has packaged up Dagger-generated code that assumes the presence of `MembersInjector.injectMembers` as it was prior to 2.14. With the upgrade to 2.19, the method is absent, so the generated code is broken.\r\n\r\nThis is particularly tricky because the removal of this method is arguably a [semantic versioning](https://semver.org/) breaking change, but has a minor version increase that package management libraries might assume is non-breaking. In fairness to Dagger, the [intent](https://github.com/google/dagger/pull/950#issuecomment-439026362) is that libraries do not ship generated code, but instead document their usage or allow the consuming application to generate code with matching libraries:\r\n\r\n&gt; There&#39;s no guarantee that the generated code (i.e. factories) work well with each other across versions. We don&#39;t have any way of testing that. It&#39;s a generally good idea that any libraries that are intended to use Dagger in tandem are using the same version of Dagger.\r\n&gt; \r\n&gt; If a library _you don&#39;t own_ is passing along Dagger codegen to you and isn&#39;t documenting it, that&#39;s a bad idea on the library owners part.\r\n\r\nIf you have the option to upgrade or recompile the library with a newer version of Dagger, ideally one that matches the outer version of Dagger you&#39;re using, that would solve the problem. Likewise, if you were to keep your outer version of Dagger to match the version in the dependency. Those would be more ideal than shading.\r\n\r\nAs in the Software Engineering SE question [What is a &quot;shaded&quot; Java dependency?](https://softwareengineering.stackexchange.com/questions/297276/what-is-a-shaded-java-dependency), shading refers to repackaging and/or renaming a Java resource using a tool like [jarjar](https://github.com/shevek/jarjar). The idea here is to package a copy of the 2.13 `dagger.internal` library with the dependency, rewriting the bytecode in the library to consume the repackaged version of Dagger rather than the new one.\r\n\r\nHowever, the cheapest (but most fragile) solution is &quot;shadowing&quot;: adding a file in your source directory for `dagger/internal/MembersInjectors.java` matching [the version of Dagger you&#39;re using](https://github.com/google/dagger/blob/master/java/dagger/internal/MembersInjectors.java) but readding [the missing `injectMembers` method](https://github.com/google/dagger/blob/c6db7c532f4517a2a2efa813899038ea3705bfa9/java/dagger/internal/MembersInjectors.java#L31-L39). Assuming that your build system prefers local files over dependencies when setting up the classpath, your local file will be found before the Dagger-provided equivalent. This might work, but could then become a merge hazard later, and might cause weird errors if MembersInjectors changes in yet-newer versions of Dagger: I&#39;d try this only for very temporary code.\r\n\r\nSee also: [Java Class Shadowing and Shading](https://medium.com/@akhaku/java-class-shadowing-and-shading-9439b0eacb13) by Ammar Khaku on Medium","title":"Can&#39;t find referenced method &#39;java.lang.Object injectMembers(dagger.MembersInjector,java.lang.Object)","body":"<p>Shading is a part of packaging the library dependency: you'd use a rewriting tool repackage that library to include the <code>dagger.internal</code> from Dagger 2.13 under a new name (say <code>librarynamehere.shaded.dagger.internal</code>) that changes all references inside the library to use the new name. This would allow the two versions of <code>dagger.internal</code> to coexist in your library, but you should only try this if you can't upgrade your versions of Dagger to match in the library and in your application.</p>\n<hr />\n<p>As in <a href=\"https://stackoverflow.com/q/50533476/1426891\">this answer</a>, a refactor in Dagger 2.14 <a href=\"https://github.com/google/dagger/commit/d61f198f1a9429e560b6e4758971978cbd58df09#diff-19f275685a69d9f838380ddb260c2df3\" rel=\"nofollow noreferrer\">removed the method MembersInjector.injectMembers</a>. Code generated with 2.14 and beyond shouldn't call into this method.</p>\n<p>What's happening here is that the library you're consuming has packaged up Dagger-generated code that assumes the presence of <code>MembersInjector.injectMembers</code> as it was prior to 2.14. With the upgrade to 2.19, the method is absent, so the generated code is broken.</p>\n<p>This is particularly tricky because the removal of this method is arguably a <a href=\"https://semver.org/\" rel=\"nofollow noreferrer\">semantic versioning</a> breaking change, but has a minor version increase that package management libraries might assume is non-breaking. In fairness to Dagger, the <a href=\"https://github.com/google/dagger/pull/950#issuecomment-439026362\" rel=\"nofollow noreferrer\">intent</a> is that libraries do not ship generated code, but instead document their usage or allow the consuming application to generate code with matching libraries:</p>\n<blockquote>\n<p>There's no guarantee that the generated code (i.e. factories) work well with each other across versions. We don't have any way of testing that. It's a generally good idea that any libraries that are intended to use Dagger in tandem are using the same version of Dagger.</p>\n<p>If a library <em>you don't own</em> is passing along Dagger codegen to you and isn't documenting it, that's a bad idea on the library owners part.</p>\n</blockquote>\n<p>If you have the option to upgrade or recompile the library with a newer version of Dagger, ideally one that matches the outer version of Dagger you're using, that would solve the problem. Likewise, if you were to keep your outer version of Dagger to match the version in the dependency. Those would be more ideal than shading.</p>\n<p>As in the Software Engineering SE question <a href=\"https://softwareengineering.stackexchange.com/questions/297276/what-is-a-shaded-java-dependency\">What is a &quot;shaded&quot; Java dependency?</a>, shading refers to repackaging and/or renaming a Java resource using a tool like <a href=\"https://github.com/shevek/jarjar\" rel=\"nofollow noreferrer\">jarjar</a>. The idea here is to package a copy of the 2.13 <code>dagger.internal</code> library with the dependency, rewriting the bytecode in the library to consume the repackaged version of Dagger rather than the new one.</p>\n<p>However, the cheapest (but most fragile) solution is &quot;shadowing&quot;: adding a file in your source directory for <code>dagger/internal/MembersInjectors.java</code> matching <a href=\"https://github.com/google/dagger/blob/master/java/dagger/internal/MembersInjectors.java\" rel=\"nofollow noreferrer\">the version of Dagger you're using</a> but readding <a href=\"https://github.com/google/dagger/blob/c6db7c532f4517a2a2efa813899038ea3705bfa9/java/dagger/internal/MembersInjectors.java#L31-L39\" rel=\"nofollow noreferrer\">the missing <code>injectMembers</code> method</a>. Assuming that your build system prefers local files over dependencies when setting up the classpath, your local file will be found before the Dagger-provided equivalent. This might work, but could then become a merge hazard later, and might cause weird errors if MembersInjectors changes in yet-newer versions of Dagger: I'd try this only for very temporary code.</p>\n<p>See also: <a href=\"https://medium.com/@akhaku/java-class-shadowing-and-shading-9439b0eacb13\" rel=\"nofollow noreferrer\">Java Class Shadowing and Shading</a> by Ammar Khaku on Medium</p>\n"}],"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":919,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1685554213,"creation_date":1541427936,"question_id":53156315,"body_markdown":"Recently I upgrade Dagger 2.13 to 2.19, I have the below compile error at Proguard stage of this warning.\r\n\r\n    Warning: com.mypackage.MyClass_Factory: can&#39;t find referenced method &#39;java.lang.Object injectMembers(dagger.MembersInjector,java.lang.Object)&#39; in program class dagger.internal.MembersInjectors\r\n\r\nThis also happens from Dagger 2.14.1 onwards. This happens only to `MyClass` which is in a library I include.\r\n\r\nIf I use\r\n\r\n    -dontwarn com.mypackage.MyClass_Factory\r\n\r\nThen it will crash on runtime\r\n\r\n    java.lang.NoSuchMethodError: No static method injectMembers(Ldagger/MembersInjector;Ljava/lang/Object;)Ljava/lang/Object; in class Ldagger/internal/MembersInjectors; or its super classes (declaration of &#39;dagger.internal.MembersInjectors&#39; appears in MyClass\r\n\r\nWhich means the warning from Proguard is a legit warning I should take care.\r\n\r\nI search and found the issue is reported in https://github.com/google/dagger/pull/950#issuecomment-353223029\r\n\r\nThe solution by @ronshapiro is \r\n\r\n**You should shade the `dagger.internal` from one (or both) of the libraries. The old one is probably easiest**\r\n\r\nWhat does `shade the dagger.internal` means? How to solve my problem?","title":"Can&#39;t find referenced method &#39;java.lang.Object injectMembers(dagger.MembersInjector,java.lang.Object)","body":"<p>Recently I upgrade Dagger 2.13 to 2.19, I have the below compile error at Proguard stage of this warning.</p>\n\n<pre><code>Warning: com.mypackage.MyClass_Factory: can't find referenced method 'java.lang.Object injectMembers(dagger.MembersInjector,java.lang.Object)' in program class dagger.internal.MembersInjectors\n</code></pre>\n\n<p>This also happens from Dagger 2.14.1 onwards. This happens only to <code>MyClass</code> which is in a library I include.</p>\n\n<p>If I use</p>\n\n<pre><code>-dontwarn com.mypackage.MyClass_Factory\n</code></pre>\n\n<p>Then it will crash on runtime</p>\n\n<pre><code>java.lang.NoSuchMethodError: No static method injectMembers(Ldagger/MembersInjector;Ljava/lang/Object;)Ljava/lang/Object; in class Ldagger/internal/MembersInjectors; or its super classes (declaration of 'dagger.internal.MembersInjectors' appears in MyClass\n</code></pre>\n\n<p>Which means the warning from Proguard is a legit warning I should take care.</p>\n\n<p>I search and found the issue is reported in <a href=\"https://github.com/google/dagger/pull/950#issuecomment-353223029\" rel=\"noreferrer\">https://github.com/google/dagger/pull/950#issuecomment-353223029</a></p>\n\n<p>The solution by @ronshapiro is </p>\n\n<p><strong>You should shade the <code>dagger.internal</code> from one (or both) of the libraries. The old one is probably easiest</strong></p>\n\n<p>What does <code>shade the dagger.internal</code> means? How to solve my problem?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9594,"page":398,"page_size":100}
