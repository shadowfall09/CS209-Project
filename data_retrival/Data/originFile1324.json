{"items":[{"tags":["java","post","oauth","httpclient"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":2,"creation_date":1653122302,"post_id":72327927,"comment_id":127777872,"body_markdown":"What have you tried and what problem are you having? There exist a number of HTTP clients for Java","body":"What have you tried and what problem are you having? There exist a number of HTTP clients for Java"},{"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"score":0,"creation_date":1653125571,"post_id":72327927,"comment_id":127778441,"body_markdown":"Please refer to this:\n[Java HttpRequest JSON &amp; Response Handling](https://stackoverflow.com/questions/22816335/java-httprequest-json-response-handling)","body":"Please refer to this: <a href=\"https://stackoverflow.com/questions/22816335/java-httprequest-json-response-handling\">Java HttpRequest JSON &amp; Response Handling</a>"},{"owner":{"account_id":18368066,"reputation":17,"user_id":13378699,"display_name":"rupesh raj"},"score":0,"creation_date":1653307780,"post_id":72327927,"comment_id":127812121,"body_markdown":"I updated my question with the sample that till now I implemented.","body":"I updated my question with the sample that till now I implemented."}],"answers":[{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653125795,"creation_date":1653124948,"answer_id":72328243,"question_id":72327927,"body_markdown":"You have multiple options.\r\n\r\n 1. You can start with **Java HTTP Client** - [Refer][1]\r\n\r\n&gt; The HTTP Client was added in Java 11. It can be used to request HTTP\r\n&gt; resources over the network. It supports HTTP/1.1 and HTTP/2, both\r\n&gt; synchronous and asynchronous programming models, handles request and\r\n&gt; response bodies as reactive-streams, and follows the familiar builder\r\n&gt; pattern.\r\n \r\n 2. **Apache HttpClient** - [Refer][2]\r\n\r\n 3. **RestTemplate** - [Refer][3]\r\n\r\n 4. **JAX-RS Client** - [Example][4]\r\n\r\n 5. **Spring 5 WebClient** - [Example][5]\r\n\r\n 6. **OkHttpClient** - [Example][6]\r\n\r\n&gt;[Comparison][7]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-9-http-client\r\n  [2]: https://www.baeldung.com/httpclient-post-http-request\r\n  [3]: https://www.baeldung.com/rest-template\r\n  [4]: https://www.baeldung.com/jersey-jax-rs-client\r\n  [5]: https://www.baeldung.com/spring-5-webclient\r\n  [6]: https://www.baeldung.com/okhttp-post\r\n  [7]: https://reflectoring.io/comparison-of-java-http-clients/","title":"How to post request in java to get the response in JSON","body":"<p>You have multiple options.</p>\n<ol>\n<li>You can start with <strong>Java HTTP Client</strong> - <a href=\"https://www.baeldung.com/java-9-http-client\" rel=\"nofollow noreferrer\">Refer</a></li>\n</ol>\n<blockquote>\n<p>The HTTP Client was added in Java 11. It can be used to request HTTP\nresources over the network. It supports HTTP/1.1 and HTTP/2, both\nsynchronous and asynchronous programming models, handles request and\nresponse bodies as reactive-streams, and follows the familiar builder\npattern.</p>\n</blockquote>\n<ol start=\"2\">\n<li><p><strong>Apache HttpClient</strong> - <a href=\"https://www.baeldung.com/httpclient-post-http-request\" rel=\"nofollow noreferrer\">Refer</a></p>\n</li>\n<li><p><strong>RestTemplate</strong> - <a href=\"https://www.baeldung.com/rest-template\" rel=\"nofollow noreferrer\">Refer</a></p>\n</li>\n<li><p><strong>JAX-RS Client</strong> - <a href=\"https://www.baeldung.com/jersey-jax-rs-client\" rel=\"nofollow noreferrer\">Example</a></p>\n</li>\n<li><p><strong>Spring 5 WebClient</strong> - <a href=\"https://www.baeldung.com/spring-5-webclient\" rel=\"nofollow noreferrer\">Example</a></p>\n</li>\n<li><p><strong>OkHttpClient</strong> - <a href=\"https://www.baeldung.com/okhttp-post\" rel=\"nofollow noreferrer\">Example</a></p>\n</li>\n</ol>\n<blockquote>\n<p><a href=\"https://reflectoring.io/comparison-of-java-http-clients/\" rel=\"nofollow noreferrer\">Comparison</a></p>\n</blockquote>\n"}],"owner":{"account_id":18368066,"reputation":17,"user_id":13378699,"display_name":"rupesh raj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653307672,"creation_date":1653122105,"question_id":72327927,"body_markdown":"I want to post the request in same formate.\r\n    \r\n        POST /mga/sps/oauth/oauth20/token HTTP/1.1\r\n        Host: example.com\r\n        Content-Type: application/x-www-form-urlencoded\r\n        Authorization: Basic aaabbbCCCdddeeefffGGG\r\n        client_id=xxx&amp;client_secret=yyy&amp;grant_type=authorization_code\r\n        &amp;code=3v6MJzt9vKtRkxpTFnkJG3IyspWC2k\r\n        &amp;redirect_uri=xyz%2Ffolder\r\n    \r\nI have Implemented but getting bad request and unable to print the post content what I am sending I also want to get the json response after sending this request.\r\n    \r\n    String urlParameters  = &quot;grant_type=authorization_code&quot;+&quot;&amp;redirect_uri=&quot;+session.getAttribute(&quot;redirect_uri&quot;)+&quot;&amp;code_verifier=&quot;+session.getAttribute(&quot;codeVerifier&quot;)+&quot;&amp;code=&quot;+session.getAttribute(&quot;code&quot;)+&quot;&amp;state=&quot;+session.getAttribute(&quot;state&quot;);\r\n    \t    byte[] postData = urlParameters.getBytes( StandardCharsets.UTF_8 );\r\n    \t    int postDataLength = postData.length;\r\n    \t    URL url = new URL( &quot;https://example/oauth20/token&quot; );\r\n    \t    HttpURLConnection conn= (HttpURLConnection) url.openConnection();           \r\n    \t    conn.setDoOutput(true);\r\n    \t    conn.setInstanceFollowRedirects(false);\r\n    \t    conn.setRequestMethod(&quot;POST&quot;);\r\n    \t \r\n    \t    conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;); \r\n    \t    conn.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\r\n    \t    conn.setRequestProperty(&quot;Content-Length&quot;, \r\n           Integer.toString(postDataLength ));\r\n    \t    conn.setRequestProperty(&quot;Host&quot;,&quot;example.com&quot;);\r\n    \t    conn.setRequestProperty(&quot;Authorization&quot;,&quot;clientID=xyz&quot;);\r\n    \t    conn.setUseCaches(false);\r\n    \t    DataOutputStream wr = new \r\n           DataOutputStream(conn.getOutputStream());\r\n    \t    wr.write(postData);\r\n    \t    System.out.println(conn.getResponseCode());\r\n    \t    System.out.println(conn.getResponseMessage());\r\n    \t    conn.disconnect();\r\n    \r\n     \r\n\r\n\r\n","title":"How to post request in java to get the response in JSON","body":"<p>I want to post the request in same formate.</p>\n<pre><code>    POST /mga/sps/oauth/oauth20/token HTTP/1.1\n    Host: example.com\n    Content-Type: application/x-www-form-urlencoded\n    Authorization: Basic aaabbbCCCdddeeefffGGG\n    client_id=xxx&amp;client_secret=yyy&amp;grant_type=authorization_code\n    &amp;code=3v6MJzt9vKtRkxpTFnkJG3IyspWC2k\n    &amp;redirect_uri=xyz%2Ffolder\n</code></pre>\n<p>I have Implemented but getting bad request and unable to print the post content what I am sending I also want to get the json response after sending this request.</p>\n<pre><code>String urlParameters  = &quot;grant_type=authorization_code&quot;+&quot;&amp;redirect_uri=&quot;+session.getAttribute(&quot;redirect_uri&quot;)+&quot;&amp;code_verifier=&quot;+session.getAttribute(&quot;codeVerifier&quot;)+&quot;&amp;code=&quot;+session.getAttribute(&quot;code&quot;)+&quot;&amp;state=&quot;+session.getAttribute(&quot;state&quot;);\n        byte[] postData = urlParameters.getBytes( StandardCharsets.UTF_8 );\n        int postDataLength = postData.length;\n        URL url = new URL( &quot;https://example/oauth20/token&quot; );\n        HttpURLConnection conn= (HttpURLConnection) url.openConnection();           \n        conn.setDoOutput(true);\n        conn.setInstanceFollowRedirects(false);\n        conn.setRequestMethod(&quot;POST&quot;);\n     \n        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;); \n        conn.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\n        conn.setRequestProperty(&quot;Content-Length&quot;, \n       Integer.toString(postDataLength ));\n        conn.setRequestProperty(&quot;Host&quot;,&quot;example.com&quot;);\n        conn.setRequestProperty(&quot;Authorization&quot;,&quot;clientID=xyz&quot;);\n        conn.setUseCaches(false);\n        DataOutputStream wr = new \n       DataOutputStream(conn.getOutputStream());\n        wr.write(postData);\n        System.out.println(conn.getResponseCode());\n        System.out.println(conn.getResponseMessage());\n        conn.disconnect();\n\n \n</code></pre>\n"},{"tags":["java","date","java-11","localdate"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1653305618,"post_id":72347528,"comment_id":127811314,"body_markdown":"Where did you get that `Date dto` from? It might be whatever has produced that `dto` that has a problem.","body":"Where did you get that <code>Date dto</code> from? It might be whatever has produced that <code>dto</code> that has a problem."},{"owner":{"account_id":10120710,"reputation":103,"user_id":8416169,"display_name":"KikeSP"},"score":0,"creation_date":1653305999,"post_id":72347528,"comment_id":127811450,"body_markdown":"@Sweeper It is a variable that retrieves the date of a query. But the method only gets the Date dto variable.","body":"@Sweeper It is a variable that retrieves the date of a query. But the method only gets the Date dto variable."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1653306288,"post_id":72347528,"comment_id":127811557,"body_markdown":"What does `ZoneId.systemDefault()` yield? Possibly you should use `ZoneId.of(&quot;Europe/Madrid&quot;)` instead so that things agree.","body":"What does <code>ZoneId.systemDefault()</code> yield? Possibly you should use <code>ZoneId.of(&quot;Europe&#47;Madrid&quot;)</code> instead so that things agree."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1653306310,"post_id":72347528,"comment_id":127811569,"body_markdown":"What do you mean &quot;date of a query&quot;? I&#39;m pretty sure there are no computers in 1700... Do you mean that the date is a column of a database table? If so, what kind of database is it? How about directly storing `LocalDate`s and stop using `Date`s, which are *very* bad?","body":"What do you mean &quot;date of a query&quot;? I&#39;m pretty sure there are no computers in 1700... Do you mean that the date is a column of a database table? If so, what kind of database is it? How about directly storing <code>LocalDate</code>s and stop using <code>Date</code>s, which are <i>very</i> bad?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1653306582,"post_id":72347528,"comment_id":127811672,"body_markdown":"My Java believes that Madrid was at offset -00:14:44 from GMT back then. So `1700-12-13T23:00:00Z` (UTC) corresponds to `1700-12-13T22:45:16-00:14:44[Europe/Madrid]`, which explains why you got `1700-12-13` as `LocalDate`.","body":"My Java believes that Madrid was at offset -00:14:44 from GMT back then. So <code>1700-12-13T23:00:00Z</code> (UTC) corresponds to <code>1700-12-13T22:45:16-00:14:44[Europe&#47;Madrid]</code>, which explains why you got <code>1700-12-13</code> as <code>LocalDate</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1653307039,"post_id":72347528,"comment_id":127811834,"body_markdown":"And it’s very credible that a `Date` that was supposed to hold 14 December 1700 has an incorrect instant in it so that the `Instant` objects gets wrong. `Date` is buggy when it comes to dates before year 1900. As @Sweeper said, if there is any way you can get rid of it, do.","body":"And it’s very credible that a <code>Date</code> that was supposed to hold 14 December 1700 has an incorrect instant in it so that the <code>Instant</code> objects gets wrong. <code>Date</code> is buggy when it comes to dates before year 1900. As @Sweeper said, if there is any way you can get rid of it, do."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653307635,"creation_date":1653307318,"answer_id":72348205,"question_id":72347528,"body_markdown":"This is because whoever produced that `Date` and `ZoneId.systemDefault()` have different opinions on what Madrid&#39;s offset is from UTC, back in 1700.\r\n\r\nWhoever produced that `Date` mistakenly thinks that Madrid is UTC+1 back in 1700-12-14, so it produced a `Date` that represents the midnight of 1700-12-14 in the zone UTC+1 (&quot;CET&quot;):\r\n\r\n    Tue Dec 14 00:00:00 CET 1700\r\n\r\nThis has a corresponding `Instant`, because we can pinpoint a certain point in time using this information. This is what `toInstant` gives you. `Instant.toString` always displays in UTC (more specifically ISO 8601), so you see:\r\n\r\n    1700-12-13T23:00:00Z\r\n\r\n1700-12-14T00:00:00+01:00 is indeed the same point in time as 1700-12-13T23:00:00Z.\r\n\r\nWhen you do `LocalDate.ofInstant`, you use `ZoneId.systemDefault()`. `ZoneId.systemDefault()` thinks that Madrid had the offset of UTC-0:14:44. This is because Madrid had been observing [Local Mean Time][1], and [did not standardise timezones until the 1900s][2].\r\n\r\nTherefore, `LocalDate.ofInstant` subtracts 14 minutes and 44 seconds from 1700-12-13T23:00:00 to compute what the date would be at offset -0:14:44, and lo and behold, it is still 1700-12-13.\r\n\r\nI would recommend that you not to use `Date` if possible. If what you are doing is related to time at all, you should work with `LocalDate`s directly.\r\n\r\n\r\n\r\n\r\n  [1]: https://www.timeanddate.com/time/local-mean-time.html\r\n  [2]: https://en.wikipedia.org/wiki/Time_in_Spain#Standard_time_adoption","title":"Unable to convert dates - LocalDate minus one day","body":"<p>This is because whoever produced that <code>Date</code> and <code>ZoneId.systemDefault()</code> have different opinions on what Madrid's offset is from UTC, back in 1700.</p>\n<p>Whoever produced that <code>Date</code> mistakenly thinks that Madrid is UTC+1 back in 1700-12-14, so it produced a <code>Date</code> that represents the midnight of 1700-12-14 in the zone UTC+1 (&quot;CET&quot;):</p>\n<pre><code>Tue Dec 14 00:00:00 CET 1700\n</code></pre>\n<p>This has a corresponding <code>Instant</code>, because we can pinpoint a certain point in time using this information. This is what <code>toInstant</code> gives you. <code>Instant.toString</code> always displays in UTC (more specifically ISO 8601), so you see:</p>\n<pre><code>1700-12-13T23:00:00Z\n</code></pre>\n<p>1700-12-14T00:00:00+01:00 is indeed the same point in time as 1700-12-13T23:00:00Z.</p>\n<p>When you do <code>LocalDate.ofInstant</code>, you use <code>ZoneId.systemDefault()</code>. <code>ZoneId.systemDefault()</code> thinks that Madrid had the offset of UTC-0:14:44. This is because Madrid had been observing <a href=\"https://www.timeanddate.com/time/local-mean-time.html\" rel=\"nofollow noreferrer\">Local Mean Time</a>, and <a href=\"https://en.wikipedia.org/wiki/Time_in_Spain#Standard_time_adoption\" rel=\"nofollow noreferrer\">did not standardise timezones until the 1900s</a>.</p>\n<p>Therefore, <code>LocalDate.ofInstant</code> subtracts 14 minutes and 44 seconds from 1700-12-13T23:00:00 to compute what the date would be at offset -0:14:44, and lo and behold, it is still 1700-12-13.</p>\n<p>I would recommend that you not to use <code>Date</code> if possible. If what you are doing is related to time at all, you should work with <code>LocalDate</code>s directly.</p>\n"}],"owner":{"account_id":10120710,"reputation":103,"user_id":8416169,"display_name":"KikeSP"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1653307635,"creation_date":1653304058,"question_id":72347528,"body_markdown":"I have a problem with the dates and their passage from Date to LocalDate, mainly the error is with the dates that have the year 1700.\r\nI have tried two different dates and whenever the year is 1700, it puts me one day less.\r\n\r\n\tDate dto = ...;\r\n\tInstant inst = dto.toInstant();\t\t\t\r\n\tLocalDate localDate = LocalDate.ofInstant(inst, ZoneId.systemDefault());\r\n\r\nDate dto It is a variable that retrieves the date of a query. But the method only gets dto variable as input parameter.\r\n\r\n\tTue Dec 14 00:00:00 CET 1700 -&gt; Date\r\n\t1700-12-13T23:00:00Z -&gt; Instant\r\n\t1700-12-13 -&gt; LocalDate\r\n\r\n\tSat Jan 01 00:00:00 CET 1994 -&gt; Date\r\n\t1993-12-31T23:00:00Z -&gt; Instant\r\n\t1994-01-01 -&gt; LocalDate\r\n\r\nI use:\r\n\r\n\tjackson.time-zone: ${TZ:Europe/Madrid}\r\n\r\nWhat is the problem with this year?","title":"Unable to convert dates - LocalDate minus one day","body":"<p>I have a problem with the dates and their passage from Date to LocalDate, mainly the error is with the dates that have the year 1700.\nI have tried two different dates and whenever the year is 1700, it puts me one day less.</p>\n<pre><code>Date dto = ...;\nInstant inst = dto.toInstant();         \nLocalDate localDate = LocalDate.ofInstant(inst, ZoneId.systemDefault());\n</code></pre>\n<p>Date dto It is a variable that retrieves the date of a query. But the method only gets dto variable as input parameter.</p>\n<pre><code>Tue Dec 14 00:00:00 CET 1700 -&gt; Date\n1700-12-13T23:00:00Z -&gt; Instant\n1700-12-13 -&gt; LocalDate\n\nSat Jan 01 00:00:00 CET 1994 -&gt; Date\n1993-12-31T23:00:00Z -&gt; Instant\n1994-01-01 -&gt; LocalDate\n</code></pre>\n<p>I use:</p>\n<pre><code>jackson.time-zone: ${TZ:Europe/Madrid}\n</code></pre>\n<p>What is the problem with this year?</p>\n"},{"tags":["java","unicode"],"comments":[{"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"score":2,"creation_date":1476104254,"post_id":8115522,"comment_id":67197187,"body_markdown":"http://www.geeksforgeeks.org/few-tricky-programs-in-java/   :)","body":"<a href=\"http://www.geeksforgeeks.org/few-tricky-programs-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/few-tricky-programs-in-java</a>   :)"}],"answers":[{"tags":[],"owner":{"account_id":15988,"reputation":872878,"user_id":34397,"accept_rate":87,"display_name":"SLaks"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1321225907,"creation_date":1321225907,"answer_id":8115535,"question_id":8115522,"body_markdown":"Java parses character escape codes in source code, not just strings.  \r\nThis allows you to use Unicode identifiers without a Unicode encoding.\r\n\r\nTherefore, the `\\u000d` in the comment is parsed as a newline, ending the comment and beginning an instance initializer.","title":"A unicode newline character(\\u000d) in Java","body":"<p>Java parses character escape codes in source code, not just strings.<br>\nThis allows you to use Unicode identifiers without a Unicode encoding.</p>\n\n<p>Therefore, the <code>\\u000d</code> in the comment is parsed as a newline, ending the comment and beginning an instance initializer.</p>\n"}],"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56852,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":8115535,"answer_count":1,"score":54,"last_activity_date":1653307587,"creation_date":1321225789,"question_id":8115522,"body_markdown":"Let&#39;s see the following code snippet in Java.\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // new Character(&#39; \\u000d System.out.println(&quot;Hello&quot;);\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\nIn the above code, although the only line in the `main()` method is commented out, it displays the output `Hello` on the console, even though it looks like that this commented line contains some syntax errors. If this line is uncommented, it will not work at all, causing a compile-time error.\r\n\r\nWhy does it output &quot;Hello&quot; here?\r\n\r\n\r\n","title":"A unicode newline character(\\u000d) in Java","body":"<p>Let's see the following code snippet in Java.</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        // new Character(' \\u000d System.out.println(\"Hello\");\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>In the above code, although the only line in the <code>main()</code> method is commented out, it displays the output <code>Hello</code> on the console, even though it looks like that this commented line contains some syntax errors. If this line is uncommented, it will not work at all, causing a compile-time error.</p>\n\n<p>Why does it output \"Hello\" here?</p>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653306530,"creation_date":1653306530,"answer_id":72348056,"question_id":72347728,"body_markdown":"There are pending feature requests like this one:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/13299\r\n\r\nThe problem is that this area is poorly specified both by the SQL standard and JDBC, and even worse implemented by RDBMS and drivers. While it would obviously be very nice to *programmatically know* what objects had caused a particular exception, a lot of these error messages aren&#39;t designed for processing by a machine, but rather by a human - so, parsing the text is the way to go here.\r\n\r\nOf course, you don&#39;t have to repeat yourself. You can write a utility that takes care of your logic, e.g. (just one option):\r\n\r\n```java\r\nvoid checkConstraintViolation(\r\n    Runnable runnable,\r\n    Consumer&lt;String&gt; perTableHandling\r\n) {\r\n    try {\r\n        runnable.run();\r\n    }\r\n    catch (DataAccessException ex) {\r\n        if(SQLStateClass.C23_INTEGRITY_CONSTRAINT_VIOLATION == ex.sqlStateClass()\r\n             &amp;&amp; ex.getCause() instanceof PSQLException psqlException)\r\n            perTableHandling.accept(psqlException.getServerErrorMessage().getConstraint());\r\n        else\r\n            throw ex;\r\n    }\r\n}\r\n```","title":"jOOQ - Get constraint violation","body":"<p>There are pending feature requests like this one:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/13299\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/13299</a></li>\n</ul>\n<p>The problem is that this area is poorly specified both by the SQL standard and JDBC, and even worse implemented by RDBMS and drivers. While it would obviously be very nice to <em>programmatically know</em> what objects had caused a particular exception, a lot of these error messages aren't designed for processing by a machine, but rather by a human - so, parsing the text is the way to go here.</p>\n<p>Of course, you don't have to repeat yourself. You can write a utility that takes care of your logic, e.g. (just one option):</p>\n<pre class=\"lang-java prettyprint-override\"><code>void checkConstraintViolation(\n    Runnable runnable,\n    Consumer&lt;String&gt; perTableHandling\n) {\n    try {\n        runnable.run();\n    }\n    catch (DataAccessException ex) {\n        if(SQLStateClass.C23_INTEGRITY_CONSTRAINT_VIOLATION == ex.sqlStateClass()\n             &amp;&amp; ex.getCause() instanceof PSQLException psqlException)\n            perTableHandling.accept(psqlException.getServerErrorMessage().getConstraint());\n        else\n            throw ex;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653306530,"creation_date":1653305088,"question_id":72347728,"body_markdown":"I have a method call that may throw a constraint violation exception and if so I would like to perform a specific flow.\r\n\r\nSo far what I&#39;m doing is the following:\r\n\r\n    try {\r\n        accountService.save(account);\r\n    } catch (DataAccessException ex) {\r\n        if(SQLStateClass.C23_INTEGRITY_CONSTRAINT_VIOLATION == ex.sqlStateClass()\r\n           &amp;&amp; ex.getCause() instanceof PSQLException psqlException\r\n           &amp;&amp; psqlException.getServerErrorMessage().getConstraint().contains( &quot;account_name&quot; ) {\r\n            ...\r\n        }\r\n    }\r\n\r\nIs there a way to avoid that horrendous if?","title":"jOOQ - Get constraint violation","body":"<p>I have a method call that may throw a constraint violation exception and if so I would like to perform a specific flow.</p>\n<p>So far what I'm doing is the following:</p>\n<pre><code>try {\n    accountService.save(account);\n} catch (DataAccessException ex) {\n    if(SQLStateClass.C23_INTEGRITY_CONSTRAINT_VIOLATION == ex.sqlStateClass()\n       &amp;&amp; ex.getCause() instanceof PSQLException psqlException\n       &amp;&amp; psqlException.getServerErrorMessage().getConstraint().contains( &quot;account_name&quot; ) {\n        ...\n    }\n}\n</code></pre>\n<p>Is there a way to avoid that horrendous if?</p>\n"},{"tags":["java","hibernate","jpa","hibernate-onetomany"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1653332169,"post_id":72348016,"comment_id":127821749,"body_markdown":"I would assume this Is this occurring when inserting a new TableBEntity. Since the mapping is &#39;owned&#39; and the foreign keys entirely controlled by the TableAEntity references, JPA providers can and many will perform the B insert and then later on come back an update the foreign key values when processing the TableAEntity entity mappings - forcing a separate statement. If this is the case, it will insert TableB, update/insert  TableA, then update TableB&#39;s foreign keys. You can have it operate as you might expect using a bidirectional mapping, so that the FKs are owned and controlled from TableB","body":"I would assume this Is this occurring when inserting a new TableBEntity. Since the mapping is &#39;owned&#39; and the foreign keys entirely controlled by the TableAEntity references, JPA providers can and many will perform the B insert and then later on come back an update the foreign key values when processing the TableAEntity entity mappings - forcing a separate statement. If this is the case, it will insert TableB, update/insert  TableA, then update TableB&#39;s foreign keys. You can have it operate as you might expect using a bidirectional mapping, so that the FKs are owned and controlled from TableB"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1653332383,"post_id":72348016,"comment_id":127821815,"body_markdown":"Your mappings are very wrong though, as you have multiple mappings for tableB&#39;s &#39;a_id&#39; and &#39;x_id&#39; column. So how do you want this setup - why do you have aId and xId mapped in your TableBEntity? You have to set the values in the TableBEntity instance or they will be null - worse, JPA will set them again based on the TableAEntity.bEntities references and not set the xId/aId java properties for you.","body":"Your mappings are very wrong though, as you have multiple mappings for tableB&#39;s &#39;a_id&#39; and &#39;x_id&#39; column. So how do you want this setup - why do you have aId and xId mapped in your TableBEntity? You have to set the values in the TableBEntity instance or they will be null - worse, JPA will set them again based on the TableAEntity.bEntities references and not set the xId/aId java properties for you."}],"owner":{"account_id":154218,"reputation":730,"user_id":369989,"accept_rate":100,"display_name":"DM_Morpheus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653306359,"creation_date":1653306359,"question_id":72348016,"body_markdown":"I&#39;m facing an issue where I&#39;m trying to update TableA entity and Hibernate is executing updates on referenced table alongside. It tries to set `null` for the columns referenced in `JoinColumn`\r\n\r\nI thought this was due to Cascading. But Disabling `Cascade.ALL` - does not work.\r\n\r\nWhen I set `updatable = false` for both of the `JoinColumn`s - it works.\r\n\r\nMy question is - why is it trying to do this in the first place?\r\n\r\nMy tables:\r\n\r\n    TableA: a_id, x_id, some_data\r\n    TableB: b_id, a_id, x_id, some_other_data\r\n\r\nOwner Entity\r\n\r\n    class TableAEntity {\r\n      @Id\r\n      @Column(name = &quot;a_id&quot;, nullable=false)\r\n      private int aId;\r\n\r\n      @Column(name = &quot;x_id&quot;, nullable=false)\r\n      private int xId;\r\n\r\n      @Column(name = &quot;some_data&quot;, nullable=false)\r\n      private String someData;\r\n      \r\n      @OneToMany(cascade = CascadeType.ALL)\r\n      @JoinColumns({\r\n        @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;a_id&quot;),\r\n        @JoinColumn(name = &quot;x_id&quot;, referencedColumnName = &quot;x_id&quot;)\r\n      })\r\n      private List&lt;TableBEntity&gt; bEntities;\r\n    }\r\n\r\nThe other entity\r\n\r\n    class TableBEntity {\r\n      @Id\r\n      @Column(name = &quot;b_id&quot;, nullable=false)\r\n      private int bId;\r\n      \r\n      @Column(name = &quot;a_id&quot;, nullable=false)\r\n      private int aId;\r\n\r\n      @Column(name = &quot;x_id&quot;, nullable=false)\r\n      private int xId;\r\n\r\n      @Column(name = &quot;some_other_data&quot;, nullable=false)\r\n      private String someOtherData;\r\n    }","title":"Hibernate update setting JoinColumns as null in referenced table for OneToMany","body":"<p>I'm facing an issue where I'm trying to update TableA entity and Hibernate is executing updates on referenced table alongside. It tries to set <code>null</code> for the columns referenced in <code>JoinColumn</code></p>\n<p>I thought this was due to Cascading. But Disabling <code>Cascade.ALL</code> - does not work.</p>\n<p>When I set <code>updatable = false</code> for both of the <code>JoinColumn</code>s - it works.</p>\n<p>My question is - why is it trying to do this in the first place?</p>\n<p>My tables:</p>\n<pre><code>TableA: a_id, x_id, some_data\nTableB: b_id, a_id, x_id, some_other_data\n</code></pre>\n<p>Owner Entity</p>\n<pre><code>class TableAEntity {\n  @Id\n  @Column(name = &quot;a_id&quot;, nullable=false)\n  private int aId;\n\n  @Column(name = &quot;x_id&quot;, nullable=false)\n  private int xId;\n\n  @Column(name = &quot;some_data&quot;, nullable=false)\n  private String someData;\n  \n  @OneToMany(cascade = CascadeType.ALL)\n  @JoinColumns({\n    @JoinColumn(name = &quot;a_id&quot;, referencedColumnName = &quot;a_id&quot;),\n    @JoinColumn(name = &quot;x_id&quot;, referencedColumnName = &quot;x_id&quot;)\n  })\n  private List&lt;TableBEntity&gt; bEntities;\n}\n</code></pre>\n<p>The other entity</p>\n<pre><code>class TableBEntity {\n  @Id\n  @Column(name = &quot;b_id&quot;, nullable=false)\n  private int bId;\n  \n  @Column(name = &quot;a_id&quot;, nullable=false)\n  private int aId;\n\n  @Column(name = &quot;x_id&quot;, nullable=false)\n  private int xId;\n\n  @Column(name = &quot;some_other_data&quot;, nullable=false)\n  private String someOtherData;\n}\n</code></pre>\n"},{"tags":["java","serialization","static","singleton","deserialization"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1652263507,"post_id":72197109,"comment_id":127562271,"body_markdown":"&quot;When a static object can&#39;t be serialized&quot;: there is no such thing as a &#39;static object&#39;. There are static *members* of classes, which are not serialized, and this one isn&#39;t either. It is getting serialized because something else you are serializing has a reference to it.","body":"&quot;When a static object can&#39;t be serialized&quot;: there is no such thing as a &#39;static object&#39;. There are static <i>members</i> of classes, which are not serialized, and this one isn&#39;t either. It is getting serialized because something else you are serializing has a reference to it."},{"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"score":0,"creation_date":1652359996,"post_id":72197109,"comment_id":127590678,"body_markdown":"@user207421  - Can you elaborate more - It is getting serialized because something else you are serializing has a reference to it\nI didn&#39;t get this line.","body":"@user207421  - Can you elaborate more - It is getting serialized because something else you are serializing has a reference to it I didn&#39;t get this line."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1652401515,"post_id":72197109,"comment_id":127603684,"body_markdown":"You are directly or indirectly serializing an object that contains a member variable whose value is a reference to this singleton.","body":"You are directly or indirectly serializing an object that contains a member variable whose value is a reference to this singleton."}],"answers":[{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1652793620,"creation_date":1652793620,"answer_id":72274808,"question_id":72197109,"body_markdown":"Serialization bypasses a lot of things in the language and even does some stuff that is not even possible with ordinary reflection.\r\n\r\nWhen an object is serialized, it&#39;s class name and all instance fields (that are not `transient`) are written to the stream. \r\n\r\nThe magic happens when deserializing an object.\r\n\r\n* First, a new instance of the class is allocated.  \r\n  To do that, the no-argument constructor of the first non-serializable superclass is called. The constructor of the serializable class (and serializable superclasses) are skipped. How? [*Magic*](https://github.com/openjdk/jdk/blob/e68024c2d28d634ebfde7f2fdcc35f5d7b07d704/src/java.base/share/classes/jdk/internal/reflect/ReflectionFactory.java#L381-L415).\r\n* Then all instance fields of the serializable classes are set.  \r\n  (This step can be customized using a `private void readObject(ObjectInputStream)` method)\r\n* Lastly, a `readResolve()` method is called - if such a method exists. It&#39;s result is used as the result of deserializing the object.\r\n\r\n(This does not apply to `record`s, instances of `java.lang.Class`, `java.lang.String`, `java.lang.Enum`...)\r\n\r\n----\r\n\r\nIn your example, this means that a new instance of your `SerializableSingleton` is created - bypassing your private constructor and instead calling `java.lang.Object.&lt;init&gt;()` - so you won&#39;t see the `&quot;Constructor is being called&quot;` output.\r\n\r\nNow you have two instances of an &quot;Singleton&quot;. To restore the original singleton semantics (there only ever exists one single instance of that class), we replace the just-deserialized-instance with the canonical instance:\r\n\r\n    private Object readResolve() {\r\n        return getInstance();\r\n    }\r\n\r\n---\r\n\r\n**tl;dr**: Java&#39;s serialization is complicated and sometimes indistinguishable to black magic. Using java&#39;s serialization opens the door to some *surprising* behaviors.","title":"Singleton Class Serialization","body":"<p>Serialization bypasses a lot of things in the language and even does some stuff that is not even possible with ordinary reflection.</p>\n<p>When an object is serialized, it's class name and all instance fields (that are not <code>transient</code>) are written to the stream.</p>\n<p>The magic happens when deserializing an object.</p>\n<ul>\n<li>First, a new instance of the class is allocated.<br />\nTo do that, the no-argument constructor of the first non-serializable superclass is called. The constructor of the serializable class (and serializable superclasses) are skipped. How? <a href=\"https://github.com/openjdk/jdk/blob/e68024c2d28d634ebfde7f2fdcc35f5d7b07d704/src/java.base/share/classes/jdk/internal/reflect/ReflectionFactory.java#L381-L415\" rel=\"noreferrer\"><em>Magic</em></a>.</li>\n<li>Then all instance fields of the serializable classes are set.<br />\n(This step can be customized using a <code>private void readObject(ObjectInputStream)</code> method)</li>\n<li>Lastly, a <code>readResolve()</code> method is called - if such a method exists. It's result is used as the result of deserializing the object.</li>\n</ul>\n<p>(This does not apply to <code>record</code>s, instances of <code>java.lang.Class</code>, <code>java.lang.String</code>, <code>java.lang.Enum</code>...)</p>\n<hr />\n<p>In your example, this means that a new instance of your <code>SerializableSingleton</code> is created - bypassing your private constructor and instead calling <code>java.lang.Object.&lt;init&gt;()</code> - so you won't see the <code>&quot;Constructor is being called&quot;</code> output.</p>\n<p>Now you have two instances of an &quot;Singleton&quot;. To restore the original singleton semantics (there only ever exists one single instance of that class), we replace the just-deserialized-instance with the canonical instance:</p>\n<pre><code>private Object readResolve() {\n    return getInstance();\n}\n</code></pre>\n<hr />\n<p><strong>tl;dr</strong>: Java's serialization is complicated and sometimes indistinguishable to black magic. Using java's serialization opens the door to some <em>surprising</em> behaviors.</p>\n"},{"tags":[],"owner":{"account_id":3852548,"reputation":365,"user_id":3192295,"display_name":"user3192295"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653306329,"creation_date":1653306329,"answer_id":72348014,"question_id":72197109,"body_markdown":"As the docs say:\r\n&gt; By implementing the readResolve method, a class **can directly control\r\n&gt; the types and instances of its own instances being deserialized**. The\r\n&gt; method is defined as follows:\r\n&gt; \r\n&gt; `ANY-ACCESS-MODIFIER Object readResolve()\r\n&gt;             throws ObjectStreamException;`\r\n\r\nAnd:\r\n&gt; ... For example, a Symbol class could be created for which only a\r\n&gt; single instance of each symbol binding existed within a virtual\r\n&gt; machine. **The readResolve method would be implemented to determine if\r\n&gt; that symbol was already defined and substitute the preexisting\r\n&gt; equivalent Symbol object to maintain the identity constraint**. In this\r\n&gt; way the uniqueness of Symbol objects can be maintained across\r\n&gt; serialization.\r\n\r\nAnd:\r\n&gt;  - A writeObject method to control what information is saved ...\r\n&gt;  - A readObject method [..] to read the information written ...\r\n&gt;  - A writeReplace method to allow a class to nominate a replacement    object to be written to the stream\r\n&gt;  - A readResolve method to allow a class to **designate a replacement    object for the object just read from the stream**\r\n\r\nTo get full control of Serialization (also to serialize static and transient fields) you have to implement the `Externalization` interface: \r\n&gt; The `writeExternal` and `readExternal` methods of the `Externalizable`\r\n&gt; interface are implemented by a class to give the class complete\r\n&gt; control over the format and contents of the stream for an object and\r\n&gt; its supertypes.\r\n\r\nSo `writeReplace` and `readResolve` methods give you some more control than the ordinary (and automated) serialization mechanism, that is, replace the object before/after serialization. and it is not urgently linked to Singleton serialization, but to **fulfill the proxy pattern for serialization**. But as you mentioned, this mechanism is also used to implement serialization of a Singleton.","title":"Singleton Class Serialization","body":"<p>As the docs say:</p>\n<blockquote>\n<p>By implementing the readResolve method, a class <strong>can directly control\nthe types and instances of its own instances being deserialized</strong>. The\nmethod is defined as follows:</p>\n<p><code>ANY-ACCESS-MODIFIER Object readResolve() throws ObjectStreamException;</code></p>\n</blockquote>\n<p>And:</p>\n<blockquote>\n<p>... For example, a Symbol class could be created for which only a\nsingle instance of each symbol binding existed within a virtual\nmachine. <strong>The readResolve method would be implemented to determine if\nthat symbol was already defined and substitute the preexisting\nequivalent Symbol object to maintain the identity constraint</strong>. In this\nway the uniqueness of Symbol objects can be maintained across\nserialization.</p>\n</blockquote>\n<p>And:</p>\n<blockquote>\n<ul>\n<li>A writeObject method to control what information is saved ...</li>\n<li>A readObject method [..] to read the information written ...</li>\n<li>A writeReplace method to allow a class to nominate a replacement    object to be written to the stream</li>\n<li>A readResolve method to allow a class to <strong>designate a replacement    object for the object just read from the stream</strong></li>\n</ul>\n</blockquote>\n<p>To get full control of Serialization (also to serialize static and transient fields) you have to implement the <code>Externalization</code> interface:</p>\n<blockquote>\n<p>The <code>writeExternal</code> and <code>readExternal</code> methods of the <code>Externalizable</code>\ninterface are implemented by a class to give the class complete\ncontrol over the format and contents of the stream for an object and\nits supertypes.</p>\n</blockquote>\n<p>So <code>writeReplace</code> and <code>readResolve</code> methods give you some more control than the ordinary (and automated) serialization mechanism, that is, replace the object before/after serialization. and it is not urgently linked to Singleton serialization, but to <strong>fulfill the proxy pattern for serialization</strong>. But as you mentioned, this mechanism is also used to implement serialization of a Singleton.</p>\n"}],"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1653306329,"creation_date":1652254503,"question_id":72197109,"body_markdown":"My singleton class be like this:\r\n\r\n    public class SerializableSingleton implements Serializable {\r\n \r\n        private static SerializableSingleton instance = new SerializableSingleton();\r\n \r\n        private SerializableSingleton() {\r\n            System.out.println(&quot;Constructor is being called&quot;);\r\n        }\r\n \r\n        public static SerializableSingleton getInstance() {\r\n            return instance;\r\n        }\r\n    }\r\n\r\nNow it&#39;s written on the web that when we deserialize this singleton object, it will give a new instance back and not the previous one, and in order to fix this, use the `readResolve()` method.\r\n\r\nBut my question is - How is it even possible? When a static class member can&#39;t be serialized, how does the question of deserializing it comes at all? and it is all over the net?\r\n\r\nSince the singleton object is static:\r\n\r\n    private static SerializableSingleton instance = new SerializableSingleton();\r\n\r\n***How is an instance getting serialized in the first place?***","title":"Singleton Class Serialization","body":"<p>My singleton class be like this:</p>\n<pre><code>public class SerializableSingleton implements Serializable {\n\n    private static SerializableSingleton instance = new SerializableSingleton();\n\n    private SerializableSingleton() {\n        System.out.println(&quot;Constructor is being called&quot;);\n    }\n\n    public static SerializableSingleton getInstance() {\n        return instance;\n    }\n}\n</code></pre>\n<p>Now it's written on the web that when we deserialize this singleton object, it will give a new instance back and not the previous one, and in order to fix this, use the <code>readResolve()</code> method.</p>\n<p>But my question is - How is it even possible? When a static class member can't be serialized, how does the question of deserializing it comes at all? and it is all over the net?</p>\n<p>Since the singleton object is static:</p>\n<pre><code>private static SerializableSingleton instance = new SerializableSingleton();\n</code></pre>\n<p><em><strong>How is an instance getting serialized in the first place?</strong></em></p>\n"},{"tags":["java","eclipse","spring-boot","maven"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653307737,"post_id":72347559,"comment_id":127812103,"body_markdown":"You probably haven&#39;t built a jar which includes dependencies.","body":"You probably haven&#39;t built a jar which includes dependencies."}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653306292,"creation_date":1653306292,"answer_id":72347999,"question_id":72347559,"body_markdown":"My guess is that (B) is not on the classpath when you run your project. On the CLI you would need to add `-cp &lt;path to (B) jar&gt;`","title":"Issue in Maven dependency when calling external jar","body":"<p>My guess is that (B) is not on the classpath when you run your project. On the CLI you would need to add <code>-cp &lt;path to (B) jar&gt;</code></p>\n"}],"owner":{"account_id":13766165,"reputation":1,"user_id":9934691,"display_name":"Peko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653306292,"creation_date":1653304225,"question_id":72347559,"body_markdown":"I am facing an issue with the Maven packaging  my project is \r\n 1. Maven project called (A) that has two threads one will run Spring\r\n    Boot App and one will run Normal java project \r\n 2. Maven project\r\n    called (B) with Normal java  Code will have Pojo and Models classes\r\n    used in all project  \r\n 3. Maven project called (C) with Normal java \r\n    Code  \r\n 4. Maven Project Called (E) with Normal java code \r\n\r\nTo summarize the use of them \r\n\r\n 1. (A),(C),(E) will use Models/Pojo Classes from (B), (B) is added as Dependency in their POM\r\n 2. (A) will use Method from (C), (C) is added as Dependency in (A) POM\r\n 3. (C) will Load class from (E) using Classloader and use a method\r\n\r\n**The issue here:**\r\n\r\nwhen the (C) project Load a class in (E) and try to use a method with Parameter class from (B) {RestConnection beans} throw \r\n```\r\nException in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: B/beans/RestConnections\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n\tat java.lang.Class.getDeclaredMethods(Class.java:1975)\r\n\tat com.eska.module.execution.model.bo.ExecutionBo.openANDLoadAllJarsDest(ExecutionBo.java:468)\r\n\tat com.eska.module.execution.model.bo.ExecutionBo.getDestModelJarData(ExecutionBo.java:372)\r\n\tat com.eska.module.execution.model.service.impl.ExecutionServiceImpl.start(ExecutionServiceImpl.java:45)\r\n\tat com.eska.module.execution.MainExecution.MainExecution.main(MainExecution.java:94)\r\n\tat com.eska.med.provman.module.generation.model.bo.StartupThreadingPhases$InterruptableTask.run(StartupThreadingPhases.java:97)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.ClassNotFoundException: B/beans/RestConnections\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 9 more\r\n```\r\n\r\n**Note:**\r\nThe Project works fine if I run it from eclipse, but when I try to use the Maven jars this issue happened \r\n\r\nI tried to export Runnable jar from the eclipse (the Project is added in the build path), this issue didn&#39;t happen but the spring boot will not work.\r\n\r\n**Can anyone Help please?**","title":"Issue in Maven dependency when calling external jar","body":"<p>I am facing an issue with the Maven packaging  my project is</p>\n<ol>\n<li>Maven project called (A) that has two threads one will run Spring\nBoot App and one will run Normal java project</li>\n<li>Maven project\ncalled (B) with Normal java  Code will have Pojo and Models classes\nused in all project</li>\n<li>Maven project called (C) with Normal java\nCode</li>\n<li>Maven Project Called (E) with Normal java code</li>\n</ol>\n<p>To summarize the use of them</p>\n<ol>\n<li>(A),(C),(E) will use Models/Pojo Classes from (B), (B) is added as Dependency in their POM</li>\n<li>(A) will use Method from (C), (C) is added as Dependency in (A) POM</li>\n<li>(C) will Load class from (E) using Classloader and use a method</li>\n</ol>\n<p><strong>The issue here:</strong></p>\n<p>when the (C) project Load a class in (E) and try to use a method with Parameter class from (B) {RestConnection beans} throw</p>\n<pre><code>Exception in thread &quot;Thread-9&quot; java.lang.NoClassDefFoundError: B/beans/RestConnections\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.getDeclaredMethods(Class.java:1975)\n    at com.eska.module.execution.model.bo.ExecutionBo.openANDLoadAllJarsDest(ExecutionBo.java:468)\n    at com.eska.module.execution.model.bo.ExecutionBo.getDestModelJarData(ExecutionBo.java:372)\n    at com.eska.module.execution.model.service.impl.ExecutionServiceImpl.start(ExecutionServiceImpl.java:45)\n    at com.eska.module.execution.MainExecution.MainExecution.main(MainExecution.java:94)\n    at com.eska.med.provman.module.generation.model.bo.StartupThreadingPhases$InterruptableTask.run(StartupThreadingPhases.java:97)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: B/beans/RestConnections\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 9 more\n</code></pre>\n<p><strong>Note:</strong>\nThe Project works fine if I run it from eclipse, but when I try to use the Maven jars this issue happened</p>\n<p>I tried to export Runnable jar from the eclipse (the Project is added in the build path), this issue didn't happen but the spring boot will not work.</p>\n<p><strong>Can anyone Help please?</strong></p>\n"},{"tags":["java","apache-kafka","deserialization","avro","ksqldb"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653308875,"post_id":72346783,"comment_id":127812606,"body_markdown":"If you want Avro objects, just use a Kafka consumer rather than a ksql client. Ksql already is deserializing the data, so it&#39;s no longer Avro at that point","body":"If you want Avro objects, just use a Kafka consumer rather than a ksql client. Ksql already is deserializing the data, so it&#39;s no longer Avro at that point"},{"owner":{"account_id":25364540,"reputation":11,"user_id":19179314,"display_name":"50k0n"},"score":0,"creation_date":1653320714,"post_id":72346783,"comment_id":127817744,"body_markdown":"So there is no chance to get it as avro object if using ksql?","body":"So there is no chance to get it as avro object if using ksql?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653323553,"post_id":72346783,"comment_id":127818777,"body_markdown":"As mentioned, the data is already deserialized, so no. You&#39;re just re-serializing it by pulling the fields into an Avro POJO type. Why not use a direct Kafka consumer?","body":"As mentioned, the data is already deserialized, so no. You&#39;re just re-serializing it by pulling the fields into an Avro POJO type. Why not use a direct Kafka consumer?"},{"owner":{"account_id":25364540,"reputation":11,"user_id":19179314,"display_name":"50k0n"},"score":0,"creation_date":1653325293,"post_id":72346783,"comment_id":127819375,"body_markdown":"Thanks for your answer.\nWe do not use the kafka consumer directly because in our application the select statements are much more complicate as shown in the example above. Furthermore our application does not persist the data which is already available in the topic, therefore it is not so easy to implement a query with &#39;standard&#39; consumers (at least as far as I know).","body":"Thanks for your answer. We do not use the kafka consumer directly because in our application the select statements are much more complicate as shown in the example above. Furthermore our application does not persist the data which is already available in the topic, therefore it is not so easy to implement a query with &#39;standard&#39; consumers (at least as far as I know)."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1653401086,"post_id":72346783,"comment_id":127840098,"body_markdown":"Without seeing your actual query, it&#39;s hard to know what you mean, but ksql is built over Kafka Streams API and Kafka Streams can do more that ksql can. And Kafka Consumer can do even more... I said nothing about persisting data elsewhere only that you don&#39;t really need Avro POJOs, but you will need to parse the Row objects to some other model if you continue to use ksql.","body":"Without seeing your actual query, it&#39;s hard to know what you mean, but ksql is built over Kafka Streams API and Kafka Streams can do more that ksql can. And Kafka Consumer can do even more... I said nothing about persisting data elsewhere only that you don&#39;t really need Avro POJOs, but you will need to parse the Row objects to some other model if you continue to use ksql."}],"owner":{"account_id":25364540,"reputation":11,"user_id":19179314,"display_name":"50k0n"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653305994,"creation_date":1653300643,"question_id":72346783,"body_markdown":"I&#39;m new to ksqlDB and wondering if the following is possible (java client):\r\n\r\nMy current situation is the following, I&#39;ve:\r\n - a working kafka infrastructure including the ksqlDB server and the (avro) schema registry\r\n - some topics with already existing messages (using avro for serialization of values and String for keys)\r\n - a ksqlDB stream which is created on top of an existing topic with *value_format=&#39;AVRO&#39;*\r\n - a SELECT query which already returns the correct data\r\n - the *SHOW STREAMS;* command (in ksqlDB CLI) shows, that the stream is correctly configured and the value format is *AVRO*\r\n - the avro schema is stored correctly in the schema registry\r\n - the java classes of the avro objects are available on the classpath\r\n\r\nMy problem is, that the *SELECT* query returns a list of objects of type *Row* which contains *KsqlObjects* for each column and this objects also contain *KsqlObjects*, *KsqlArrays*, and *JsonArrays* for their attributes.\r\n\r\n**Now I want to deserialize the content of one column directly to my (avro) object type.**\r\n\r\nIs there either\r\n- a deserializer for KsqlObject -&gt; avro object?\r\n- or any other why to execute the SELECT statement with returns the already deserialized avro objects?\r\n\r\nCreating of my ksqlDB stream\r\n```\r\nCREATE STREAM cars WITH (kafka_topic=&#39;topic_cars&#39;, value_format=&#39;AVRO&#39;);\r\n```\r\n\r\nExecution of my SELECT statement (java client):\r\n```\r\nClient client = Client.create(options);\r\nBatchedQueryResult batchedQueryResult = client.executeQuery(client, &quot;SELECT * FROM CARS&quot;);\r\nList&lt;Row&gt; resultRows = batchedQueryResult.get();\r\n```\r\n\r\nCurrent conversion to avro object - which is not very nice:\r\n```\r\nRow row = resultRows.get(0)\r\nKsqlObject carColumn = row.getKsqlObject(&quot;CAR&quot;);\r\nCar car = new Car();\r\ncar.setColor(row.getString(&quot;COLOR));\r\ncar.setType(row.getString(&quot;TYPE));\r\n... (all other attributes, including complex data types)\r\n```\r\n\r\nI would like to have something like this:\r\n```\r\nClient client = Client.create(options);\r\nAvroDeserializer deserializer = ...;\r\nBatchedQueryResult batchedQueryResult = client.executeQuery(client, &quot;SELECT * FROM CARS&quot;);\r\nList&lt;Row&gt; resultRows = batchedQueryResult.get();\r\nRow row = resultRows.get(0);\r\nCar car = deserializer.deserialize(row.getColumn(&quot;CAR));\r\n```\r\n\r\nIs this possible?\r\nIf yes, how would the code look like?","title":"ksqlDB Java Client: Is it possible to deserialze the result of a ksqlDB query directly to a list of avro objects?","body":"<p>I'm new to ksqlDB and wondering if the following is possible (java client):</p>\n<p>My current situation is the following, I've:</p>\n<ul>\n<li>a working kafka infrastructure including the ksqlDB server and the (avro) schema registry</li>\n<li>some topics with already existing messages (using avro for serialization of values and String for keys)</li>\n<li>a ksqlDB stream which is created on top of an existing topic with <em>value_format='AVRO'</em></li>\n<li>a SELECT query which already returns the correct data</li>\n<li>the <em>SHOW STREAMS;</em> command (in ksqlDB CLI) shows, that the stream is correctly configured and the value format is <em>AVRO</em></li>\n<li>the avro schema is stored correctly in the schema registry</li>\n<li>the java classes of the avro objects are available on the classpath</li>\n</ul>\n<p>My problem is, that the <em>SELECT</em> query returns a list of objects of type <em>Row</em> which contains <em>KsqlObjects</em> for each column and this objects also contain <em>KsqlObjects</em>, <em>KsqlArrays</em>, and <em>JsonArrays</em> for their attributes.</p>\n<p><strong>Now I want to deserialize the content of one column directly to my (avro) object type.</strong></p>\n<p>Is there either</p>\n<ul>\n<li>a deserializer for KsqlObject -&gt; avro object?</li>\n<li>or any other why to execute the SELECT statement with returns the already deserialized avro objects?</li>\n</ul>\n<p>Creating of my ksqlDB stream</p>\n<pre><code>CREATE STREAM cars WITH (kafka_topic='topic_cars', value_format='AVRO');\n</code></pre>\n<p>Execution of my SELECT statement (java client):</p>\n<pre><code>Client client = Client.create(options);\nBatchedQueryResult batchedQueryResult = client.executeQuery(client, &quot;SELECT * FROM CARS&quot;);\nList&lt;Row&gt; resultRows = batchedQueryResult.get();\n</code></pre>\n<p>Current conversion to avro object - which is not very nice:</p>\n<pre><code>Row row = resultRows.get(0)\nKsqlObject carColumn = row.getKsqlObject(&quot;CAR&quot;);\nCar car = new Car();\ncar.setColor(row.getString(&quot;COLOR));\ncar.setType(row.getString(&quot;TYPE));\n... (all other attributes, including complex data types)\n</code></pre>\n<p>I would like to have something like this:</p>\n<pre><code>Client client = Client.create(options);\nAvroDeserializer deserializer = ...;\nBatchedQueryResult batchedQueryResult = client.executeQuery(client, &quot;SELECT * FROM CARS&quot;);\nList&lt;Row&gt; resultRows = batchedQueryResult.get();\nRow row = resultRows.get(0);\nCar car = deserializer.deserialize(row.getColumn(&quot;CAR));\n</code></pre>\n<p>Is this possible?\nIf yes, how would the code look like?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653298518,"creation_date":1653298518,"answer_id":72346294,"question_id":72345714,"body_markdown":"An alternative that you can use is `java.security.*` which is compatible with `java-11`, the [KeyFactory][1] and [PublicKey][2] classes could be helpful.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    ...\r\n\r\n    PublicKey key = KeyFactory\r\n      .getInstance(&quot;RSA&quot;)\r\n      .generatePublic(new RSAPublicKeySpec(modulus, exponent))\r\n      \r\n    ...\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/security/KeyFactory.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/security/PublicKey.html","title":"How to use ECPublicKeyImpl in Java 11","body":"<p>An alternative that you can use is <code>java.security.*</code> which is compatible with <code>java-11</code>, the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/KeyFactory.html\" rel=\"nofollow noreferrer\">KeyFactory</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/PublicKey.html\" rel=\"nofollow noreferrer\">PublicKey</a> classes could be helpful.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>...\n\nPublicKey key = KeyFactory\n  .getInstance(&quot;RSA&quot;)\n  .generatePublic(new RSAPublicKeySpec(modulus, exponent))\n  \n...\n</code></pre>\n"}],"owner":{"account_id":4019090,"reputation":1412,"user_id":3310115,"accept_rate":35,"display_name":"user3310115"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653305606,"creation_date":1653295830,"question_id":72345714,"body_markdown":"We are migrating to `Java 11` from `Java 8` but `ECPublicKeyImpl` doesn&#39;t seem to work. How can we use it in `Java 11` as it is a `Sun` class. \r\n\r\nThe ECPublicKeyImpl used an encoding that came from `ECUtil`. However in `Jdk11` since this class is not available the encoding seems to be different. We need to use the `EC` algorithm for encoding. Is there an alternative?","title":"How to use ECPublicKeyImpl in Java 11","body":"<p>We are migrating to <code>Java 11</code> from <code>Java 8</code> but <code>ECPublicKeyImpl</code> doesn't seem to work. How can we use it in <code>Java 11</code> as it is a <code>Sun</code> class.</p>\n<p>The ECPublicKeyImpl used an encoding that came from <code>ECUtil</code>. However in <code>Jdk11</code> since this class is not available the encoding seems to be different. We need to use the <code>EC</code> algorithm for encoding. Is there an alternative?</p>\n"},{"tags":["java","spring-boot","exception","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":164287,"reputation":5058,"user_id":386946,"accept_rate":78,"display_name":"Stole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653304970,"creation_date":1653304970,"answer_id":72347700,"question_id":72300863,"body_markdown":"I went with the following solution:\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; listenerContainerFactory(\r\n        final ConsumerFactory&lt;String, String&gt; consumerFactory\r\n    ) {\r\n        final ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory\r\n            = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory);\r\n        factory.setCommonErrorHandler(new CommonContainerStoppingErrorHandler() {\r\n            final DefaultErrorHandler defaultErrorHandler = new DefaultErrorHandler();\r\n\r\n            @Override\r\n            public void handleRemaining(\r\n                final Exception thrownException,\r\n                final List&lt;ConsumerRecord&lt;?, ?&gt;&gt; records,\r\n                final Consumer&lt;?, ?&gt; consumer,\r\n                final MessageListenerContainer container\r\n            ) {\r\n                if (thrownException.getCause() instanceof UnknownHostException) {\r\n                    log.error(&quot;UnknownHostException has occurred and will stop the container to prevent log flooding.&quot;);\r\n                    super.handleOtherException(thrownException, consumer, container, false);\r\n                }\r\n                else {\r\n                    this.defaultErrorHandler.handleOtherException(thrownException, consumer, container, false);\r\n                }\r\n            }\r\n        });\r\n        return factory;\r\n    }","title":"How to handle UnknownHostException when using @KafkaListener","body":"<p>I went with the following solution:</p>\n<pre><code>@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; listenerContainerFactory(\n    final ConsumerFactory&lt;String, String&gt; consumerFactory\n) {\n    final ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory\n        = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory);\n    factory.setCommonErrorHandler(new CommonContainerStoppingErrorHandler() {\n        final DefaultErrorHandler defaultErrorHandler = new DefaultErrorHandler();\n\n        @Override\n        public void handleRemaining(\n            final Exception thrownException,\n            final List&lt;ConsumerRecord&lt;?, ?&gt;&gt; records,\n            final Consumer&lt;?, ?&gt; consumer,\n            final MessageListenerContainer container\n        ) {\n            if (thrownException.getCause() instanceof UnknownHostException) {\n                log.error(&quot;UnknownHostException has occurred and will stop the container to prevent log flooding.&quot;);\n                super.handleOtherException(thrownException, consumer, container, false);\n            }\n            else {\n                this.defaultErrorHandler.handleOtherException(thrownException, consumer, container, false);\n            }\n        }\n    });\n    return factory;\n}\n</code></pre>\n"}],"owner":{"account_id":164287,"reputation":5058,"user_id":386946,"accept_rate":78,"display_name":"Stole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72347700,"answer_count":1,"score":0,"last_activity_date":1653304970,"creation_date":1652947713,"question_id":72300863,"body_markdown":"During a network outage, the following WARN was logged over and over (until if filled up all the HD space):\r\n\r\n    [WARN ] 2022-05-18 12:58:02.984 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] NetworkClient - [Consumer clientId=consumer-Test-1, groupId=Test] Error connecting to node kafka-broker.ew2.aws.dev:9092 (id: 3 rack: sample-az2)\r\n    java.net.UnknownHostException: node kafka-broker.ew2.aws.dev\r\n            at java.net.InetAddress$CachedAddresses.get(InetAddress.java:797) ~[?:?]\r\n            at java.net.InetAddress.getAllByName0(InetAddress.java:1509) ~[?:?]\r\n            at java.net.InetAddress.getAllByName(InetAddress.java:1368) ~[?:?]\r\n            at java.net.InetAddress.getAllByName(InetAddress.java:1302) ~[?:?]\r\n            at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:979) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:483) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211) ~[kafka-clients-3.0.1.jar!/:?]\r\n            at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1521) ~[spring-kafka-2.8.5.jar!/:2.8.5]\r\n            at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1511) ~[spring-kafka-2.8.5.jar!/:2.8.5]\r\n            at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1339) ~[spring-kafka-2.8.5.jar!/:2.8.5]\r\n            at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1251) ~[spring-kafka-2.8.5.jar!/:2.8.5]\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\r\n            at java.lang.Thread.run(Thread.java:829) ~[?:?]\r\n\r\nHow and where do I catch this exception?","title":"How to handle UnknownHostException when using @KafkaListener","body":"<p>During a network outage, the following WARN was logged over and over (until if filled up all the HD space):</p>\n<pre><code>[WARN ] 2022-05-18 12:58:02.984 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] NetworkClient - [Consumer clientId=consumer-Test-1, groupId=Test] Error connecting to node kafka-broker.ew2.aws.dev:9092 (id: 3 rack: sample-az2)\njava.net.UnknownHostException: node kafka-broker.ew2.aws.dev\n        at java.net.InetAddress$CachedAddresses.get(InetAddress.java:797) ~[?:?]\n        at java.net.InetAddress.getAllByName0(InetAddress.java:1509) ~[?:?]\n        at java.net.InetAddress.getAllByName(InetAddress.java:1368) ~[?:?]\n        at java.net.InetAddress.getAllByName(InetAddress.java:1302) ~[?:?]\n        at org.apache.kafka.clients.DefaultHostResolver.resolve(DefaultHostResolver.java:27) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.ClientUtils.resolve(ClientUtils.java:110) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.currentAddress(ClusterConnectionStates.java:511) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.ClusterConnectionStates$NodeConnectionState.access$200(ClusterConnectionStates.java:468) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.ClusterConnectionStates.currentAddress(ClusterConnectionStates.java:173) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.NetworkClient.initiateConnect(NetworkClient.java:979) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.NetworkClient.ready(NetworkClient.java:301) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.trySend(ConsumerNetworkClient.java:498) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:255) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:246) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:483) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1262) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1231) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211) ~[kafka-clients-3.0.1.jar!/:?]\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1521) ~[spring-kafka-2.8.5.jar!/:2.8.5]\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1511) ~[spring-kafka-2.8.5.jar!/:2.8.5]\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1339) ~[spring-kafka-2.8.5.jar!/:2.8.5]\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1251) ~[spring-kafka-2.8.5.jar!/:2.8.5]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]\n        at java.lang.Thread.run(Thread.java:829) ~[?:?]\n</code></pre>\n<p>How and where do I catch this exception?</p>\n"},{"tags":["java","list","arraylist","hashmap"],"comments":[{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1653300004,"post_id":72346496,"comment_id":127809310,"body_markdown":"Based on what do you wanna compare the maps? on the id?","body":"Based on what do you wanna compare the maps? on the id?"},{"owner":{"account_id":23313844,"reputation":27,"user_id":17392706,"display_name":"Bin"},"score":0,"creation_date":1653359168,"post_id":72346496,"comment_id":127827189,"body_markdown":"Hi, I want to compare all the &lt;key,value&gt; in the &#39;expectedMap&#39;, even if it doesn&#39;t contain an id. Maybe the list contains the duplicated results,  I only want to check it whether contains the result.","body":"Hi, I want to compare all the &lt;key,value&gt; in the &#39;expectedMap&#39;, even if it doesn&#39;t contain an id. Maybe the list contains the duplicated results,  I only want to check it whether contains the result."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653302385,"creation_date":1653300679,"answer_id":72346792,"question_id":72346496,"body_markdown":"&gt; But I don&#39;t know if there is a more efficient way to do the same\r\n&gt; thing?\r\n\r\nIn order to find out whether a single map in a list matches the given criteria you don&#39;t need to check every element, instead you need to find the first match and break the iteration.\r\n\r\nTo achieve that in place of `forEach` and `AtomicBoolean`, which act much slower than a simple `boolean` flag, you can use a plain `for` loop with a `break` statement inside it.\r\n\r\nOr you can make use of the Java 8 streams with `anyMatch()` as terminal operation. `anyMatch()` - is a so-called short circuit operation, it&#39;ll break when the first element matching the given predicate will be found.\r\n\r\n```\r\nreturn contentList.stream()\r\n    .anyMatch(map -&gt; map.navigableKeySet().containsAll(expectedMap.navigableKeySet()));\r\n```\r\n\r\n&gt; How to make this method case-insensitive for &quot;expectedMap&quot; keys?\r\n\r\nIt&#39;s not possible to achieve using hash-based collections.\r\n\r\nBut you can utilize in place of the `Map` the `NavigableMap` interface, and it&#39;s implementation `TreeMap` by providing a case-insensitive `Comparator`. And there&#39;s a predefined case-insensitive comparator strings provided by the `String` class as its static field.\r\n\r\n```\r\nList&lt;NavigableMap&lt;String, Object&gt;&gt; contentList = new ArrayList&lt;&gt;();\r\nNavigableMap&lt;String,Object&gt; objectMap = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\r\n...\r\n```\r\n\r\nNote, that maintaining an ordered collection has a cost. Contrary to `HashMap` which allows to add and retrieve entries in constant time **O(1)**, methods like `get()`, `put()`, `containsKey()` will perform in **O(log n)** with `TreeMap`. \r\n\r\n*You can play around with* [*this Online Demo*](https://www.jdoodle.com/ia/rdl)","title":"How to check if all Keys of the given Map are present in a one of the Maps contained within a List&lt;Map&lt;String, Object&gt;&gt; in Java efficiently?","body":"<blockquote>\n<p>But I don't know if there is a more efficient way to do the same\nthing?</p>\n</blockquote>\n<p>In order to find out whether a single map in a list matches the given criteria you don't need to check every element, instead you need to find the first match and break the iteration.</p>\n<p>To achieve that in place of <code>forEach</code> and <code>AtomicBoolean</code>, which act much slower than a simple <code>boolean</code> flag, you can use a plain <code>for</code> loop with a <code>break</code> statement inside it.</p>\n<p>Or you can make use of the Java 8 streams with <code>anyMatch()</code> as terminal operation. <code>anyMatch()</code> - is a so-called short circuit operation, it'll break when the first element matching the given predicate will be found.</p>\n<pre><code>return contentList.stream()\n    .anyMatch(map -&gt; map.navigableKeySet().containsAll(expectedMap.navigableKeySet()));\n</code></pre>\n<blockquote>\n<p>How to make this method case-insensitive for &quot;expectedMap&quot; keys?</p>\n</blockquote>\n<p>It's not possible to achieve using hash-based collections.</p>\n<p>But you can utilize in place of the <code>Map</code> the <code>NavigableMap</code> interface, and it's implementation <code>TreeMap</code> by providing a case-insensitive <code>Comparator</code>. And there's a predefined case-insensitive comparator strings provided by the <code>String</code> class as its static field.</p>\n<pre><code>List&lt;NavigableMap&lt;String, Object&gt;&gt; contentList = new ArrayList&lt;&gt;();\nNavigableMap&lt;String,Object&gt; objectMap = new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\n...\n</code></pre>\n<p>Note, that maintaining an ordered collection has a cost. Contrary to <code>HashMap</code> which allows to add and retrieve entries in constant time <strong>O(1)</strong>, methods like <code>get()</code>, <code>put()</code>, <code>containsKey()</code> will perform in <strong>O(log n)</strong> with <code>TreeMap</code>.</p>\n<p><em>You can play around with</em> <a href=\"https://www.jdoodle.com/ia/rdl\" rel=\"nofollow noreferrer\"><em>this Online Demo</em></a></p>\n"},{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653301456,"creation_date":1653301456,"answer_id":72346965,"question_id":72346496,"body_markdown":"In order to compare keys in case-insensitive manner, a simple solution would be to generate a string of each map and then simply compare strings. Of course, this would be inefficient for large maps.\r\n\r\nFor example:\r\n```java\r\n// A simple method to concatenate entries of map as key=value pairs (in sorted key order)\r\nprivate static String toKVString(Map&lt;String,?&gt; map, String delimiter) {\r\n   return map.entrySet().stream()\r\n     .sorted(Comparator.comparing(Map.Entry::getKey))\r\n     .map(e -&gt; String.format(&quot;%s=%s&quot;, e.getKey().toLowerCase(), e.getValue()))\r\n     .collect(Collectors.joining(delimiter));\r\n}\r\n```\r\n\r\nThen, we can use simple string equality:\r\n```java\r\nfinal String delim = &quot;/&quot;; // choose something not found in keys or values\r\nfinal String expectedMapAsString = toKVString(expectedMap, delim);\r\nboolean found = contentList.stream()\r\n    .anyMatch(map -&gt; expectedMapAsString.equals(toKVString(map, delim)));\r\n```\r\n\r\n ","title":"How to check if all Keys of the given Map are present in a one of the Maps contained within a List&lt;Map&lt;String, Object&gt;&gt; in Java efficiently?","body":"<p>In order to compare keys in case-insensitive manner, a simple solution would be to generate a string of each map and then simply compare strings. Of course, this would be inefficient for large maps.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// A simple method to concatenate entries of map as key=value pairs (in sorted key order)\nprivate static String toKVString(Map&lt;String,?&gt; map, String delimiter) {\n   return map.entrySet().stream()\n     .sorted(Comparator.comparing(Map.Entry::getKey))\n     .map(e -&gt; String.format(&quot;%s=%s&quot;, e.getKey().toLowerCase(), e.getValue()))\n     .collect(Collectors.joining(delimiter));\n}\n</code></pre>\n<p>Then, we can use simple string equality:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String delim = &quot;/&quot;; // choose something not found in keys or values\nfinal String expectedMapAsString = toKVString(expectedMap, delim);\nboolean found = contentList.stream()\n    .anyMatch(map -&gt; expectedMapAsString.equals(toKVString(map, delim)));\n</code></pre>\n"}],"owner":{"account_id":23313844,"reputation":27,"user_id":17392706,"display_name":"Bin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72346792,"answer_count":2,"score":1,"last_activity_date":1653304662,"creation_date":1653299325,"question_id":72346496,"body_markdown":"I have a list of maps `List&lt;Map&lt;String, Object&gt;&gt;`.\r\n\r\nNow I need to check whether a *map* exists in this *list* or not.\r\n\r\nThe *list* looks like:\r\n```\r\nList&lt;Map&lt;String, Object&gt;&gt; contentList = new ArrayList&lt;&gt;();\r\nMap&lt;String,Object&gt; objectMap = new HashMap&lt;&gt;();\r\nobjectMap.put(&quot;id&quot;, &quot;1&quot;);\r\nobjectMap.put(&quot;name&quot;, &quot;name1&quot;);\r\nobjectMap.put(&quot;desc&quot;, &quot;desc1&quot;);\r\nobjectMap.put(&quot;str&quot;, &quot;str1&quot;);\r\ncontentList.add(objectMap);\r\n\r\nMap&lt;String,Object&gt; objectMap2 = new HashMap&lt;&gt;();\r\nobjectMap2.put(&quot;id&quot;, &quot;2&quot;);\r\nobjectMap2.put(&quot;name&quot;, &quot;name2&quot;);\r\nobjectMap2.put(&quot;desc&quot;, &quot;desc2&quot;);\r\nobjectMap2.put(&quot;str&quot;, &quot;str2&quot;);\r\ncontentList.add(objectMap2);\r\n```\r\n\r\nnow I have a map like:\r\n\r\n```\r\nMap&lt;String,Object&gt; expectedMap = new HashMap&lt;&gt;();\r\nexpectedMap.put(&quot;id&quot;, &quot;2&quot;);\r\nexpectedMap.put(&quot;name&quot;, &quot;name2&quot;);\r\nexpectedMap.put(&quot;desc&quot;, &quot;desc2&quot;);\r\n```\r\n\r\nI need to check whether `expectedMap` exists in the *list* or not.\r\n\r\nI use this method to check it now. But I don&#39;t know if there is a more efficient way to do the same thing?\r\n\r\n```\r\nAtomicBoolean found = new AtomicBoolean(false);\r\ncontentList.forEach( m -&gt;{\r\n    if (m.entrySet().containsAll(expectedMap.entrySet())){\r\n        found.set(true);\r\n    }\r\n});\r\nreturn found.get();\r\n```\r\n\r\nAnd is there any way to make this method case-insensitive for `expectedMap` keys?\r\n\r\nFor example, I expect it also works for map:\r\n\r\n```\r\nMap&lt;String,Object&gt; expectedMap = new HashMap&lt;&gt;();\r\nexpectedMap.put(&quot;Id&quot;, &quot;2&quot;);\r\nexpectedMap.put(&quot;Name&quot;, &quot;name2&quot;);\r\nexpectedMap.put(&quot;Desc&quot;, &quot;desc2&quot;);\r\n```","title":"How to check if all Keys of the given Map are present in a one of the Maps contained within a List&lt;Map&lt;String, Object&gt;&gt; in Java efficiently?","body":"<p>I have a list of maps <code>List&lt;Map&lt;String, Object&gt;&gt;</code>.</p>\n<p>Now I need to check whether a <em>map</em> exists in this <em>list</em> or not.</p>\n<p>The <em>list</em> looks like:</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; contentList = new ArrayList&lt;&gt;();\nMap&lt;String,Object&gt; objectMap = new HashMap&lt;&gt;();\nobjectMap.put(&quot;id&quot;, &quot;1&quot;);\nobjectMap.put(&quot;name&quot;, &quot;name1&quot;);\nobjectMap.put(&quot;desc&quot;, &quot;desc1&quot;);\nobjectMap.put(&quot;str&quot;, &quot;str1&quot;);\ncontentList.add(objectMap);\n\nMap&lt;String,Object&gt; objectMap2 = new HashMap&lt;&gt;();\nobjectMap2.put(&quot;id&quot;, &quot;2&quot;);\nobjectMap2.put(&quot;name&quot;, &quot;name2&quot;);\nobjectMap2.put(&quot;desc&quot;, &quot;desc2&quot;);\nobjectMap2.put(&quot;str&quot;, &quot;str2&quot;);\ncontentList.add(objectMap2);\n</code></pre>\n<p>now I have a map like:</p>\n<pre><code>Map&lt;String,Object&gt; expectedMap = new HashMap&lt;&gt;();\nexpectedMap.put(&quot;id&quot;, &quot;2&quot;);\nexpectedMap.put(&quot;name&quot;, &quot;name2&quot;);\nexpectedMap.put(&quot;desc&quot;, &quot;desc2&quot;);\n</code></pre>\n<p>I need to check whether <code>expectedMap</code> exists in the <em>list</em> or not.</p>\n<p>I use this method to check it now. But I don't know if there is a more efficient way to do the same thing?</p>\n<pre><code>AtomicBoolean found = new AtomicBoolean(false);\ncontentList.forEach( m -&gt;{\n    if (m.entrySet().containsAll(expectedMap.entrySet())){\n        found.set(true);\n    }\n});\nreturn found.get();\n</code></pre>\n<p>And is there any way to make this method case-insensitive for <code>expectedMap</code> keys?</p>\n<p>For example, I expect it also works for map:</p>\n<pre><code>Map&lt;String,Object&gt; expectedMap = new HashMap&lt;&gt;();\nexpectedMap.put(&quot;Id&quot;, &quot;2&quot;);\nexpectedMap.put(&quot;Name&quot;, &quot;name2&quot;);\nexpectedMap.put(&quot;Desc&quot;, &quot;desc2&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","inversion-of-control"],"comments":[{"owner":{"account_id":9906957,"reputation":184,"user_id":7335176,"display_name":"halil ibrahim binol"},"score":0,"creation_date":1653303127,"post_id":72347189,"comment_id":127810421,"body_markdown":"In your `InterfaceAConfig` or `InterfaceBConfig`, shouldn&#39;t it be define `SharedInterface` beans, not `InterfaceA` or `InterfaceB`?","body":"In your <code>InterfaceAConfig</code> or <code>InterfaceBConfig</code>, shouldn&#39;t it be define <code>SharedInterface</code> beans, not <code>InterfaceA</code> or <code>InterfaceB</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653304533,"creation_date":1653304533,"answer_id":72347614,"question_id":72347189,"body_markdown":"The problem is your configuration. \r\n\r\n```java\r\n@Bean\r\npublic InterfaceA registerInterfaceA1(){\r\n    return new ImplementA1();\r\n}\r\n```\r\n\r\nThe problem with this is that Spring will use the return type of the method to see if it fullfils injection points (in this case your list). As `InterfaceA` isn&#39;t a `SharedInterface` eventually it will fail as there are no beans that implement the `SharedInterface` according to your configuration!. \r\n\r\nWhat you should do with your own beans is to be as specific as possible in the return type. So instead of `InterfaceA` make it return the actual class `ImplementA1` and `ImplementA2`. That way Spring, at configuration time, can determine that those implement `SharedInterface` and use those to fill the list. \r\n\r\n```java\r\n@Bean\r\npublic ImplementA1 registerInterfaceA1(){\r\n    return new ImplementA1();\r\n}\r\n```","title":"How to get all beans of specified interface which also implements other interfaces","body":"<p>The problem is your configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic InterfaceA registerInterfaceA1(){\n    return new ImplementA1();\n}\n</code></pre>\n<p>The problem with this is that Spring will use the return type of the method to see if it fullfils injection points (in this case your list). As <code>InterfaceA</code> isn't a <code>SharedInterface</code> eventually it will fail as there are no beans that implement the <code>SharedInterface</code> according to your configuration!.</p>\n<p>What you should do with your own beans is to be as specific as possible in the return type. So instead of <code>InterfaceA</code> make it return the actual class <code>ImplementA1</code> and <code>ImplementA2</code>. That way Spring, at configuration time, can determine that those implement <code>SharedInterface</code> and use those to fill the list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ImplementA1 registerInterfaceA1(){\n    return new ImplementA1();\n}\n</code></pre>\n"}],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72347614,"answer_count":1,"score":1,"last_activity_date":1653304533,"creation_date":1653302515,"question_id":72347189,"body_markdown":"Here I have 3 Interfaces: `InterfaceA` and `InterfaceB` and `SharedInterface`\r\n```\r\npublic interface InterfaceA {\r\n    /**\r\n     * print some message\r\n     */\r\n    void printMsg();\r\n}\r\n```\r\n```\r\npublic interface InterfaceB {\r\n    /**\r\n     * print some message\r\n     */\r\n    void printMsg();\r\n}\r\n```\r\n```\r\npublic interface SharedInterface {\r\n    /**\r\n     * print some message\r\n     */\r\n    void printSharedMsg();\r\n}\r\n```\r\nand there are 3 implementations of these interfaces:\r\n```\r\npublic class ImplementA1 implements InterfaceA, SharedInterface {\r\n    @Override\r\n    public void printMsg() {\r\n        System.out.println(&quot;this is message of interfaceA1&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void printSharedMsg() {\r\n        System.out.println(&quot;this is shared message from ImplementA1&quot;);\r\n    }\r\n}\r\n```\r\n```\r\npublic class ImplementA2 implements InterfaceA, SharedInterface {\r\n    @Override\r\n    public void printMsg() {\r\n        System.out.println(&quot;this is message of interfaceA2&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void printSharedMsg() {\r\n        System.out.println(&quot;this is shared message from ImplementA2&quot;);\r\n    }\r\n}\r\n```\r\n```\r\npublic class ImplementB implements InterfaceB, SharedInterface {\r\n    @Override\r\n    public void printMsg() {\r\n        System.out.println(&quot;this is message of interfaceB&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void printSharedMsg() {\r\n        System.out.println(&quot;this is shared message from ImplementB&quot;);\r\n    }\r\n}\r\n```\r\n`ImplementA1` and `ImplementA2` are the same type of operation, `ImplementB` is another type of operation. So I decided to develop 2 config class to register ImplementA1,ImplementA2 and ImplementB which is showing below.\r\n```\r\n@Configuration\r\npublic class InterfaceAConfig {\r\n    @Bean\r\n    public InterfaceA registerInterfaceA1(){\r\n        return new ImplementA1();\r\n    }\r\n\r\n    @Bean\r\n    public InterfaceA registerInterfaceA2(){\r\n        return new ImplementA2();\r\n    }\r\n}\r\n```\r\n```\r\n@Configuration\r\npublic class InterfaceBConfig {\r\n    @Bean\r\n    public InterfaceB registerInterfaceB(){\r\n        return new ImplementB();\r\n    }\r\n}\r\n```\r\nNow I want to let all beans which implement `SharedInterface` print their message in a component. And it works well,here is the code:\r\n```\r\n@Component\r\n@AutoConfigureAfter(value = {\r\n    InterfaceAConfig.class,\r\n    InterfaceBConfig.class})\r\npublic class SharedInterfaceComponent implements ApplicationListener&lt;ContextRefreshedEvent&gt;, ApplicationContextAware {\r\n    private ApplicationContext applicationContext;\r\n\r\n    //print shared message after IOC container refreshed\r\n    @Override\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        usingContextGetBean();\r\n    }\r\n\r\n    private void usingContextGetBean() {\r\n        Map&lt;String, SharedInterface&gt; beans = this.applicationContext.getBeansOfType(SharedInterface.class);\r\n        System.out.println(beans.size());\r\n        for (SharedInterface bean : beans.values()) {\r\n            bean.printSharedMsg();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n}\r\n```\r\nBut I found another way of inject beans to component, using \r\n```\r\n@Autowired\r\nList&lt;TargetType&gt; myListName\r\n```\r\nSo I decided to change my `SharedInterfaceComponent` to this for test, and it worked:\r\n```\r\n@Component\r\n@AutoConfigureAfter(value = {\r\n    InterfaceAConfig.class,\r\n    InterfaceBConfig.class})\r\npublic class SharedInterfaceComponent  implements ApplicationListener&lt;ContextRefreshedEvent&gt;, ApplicationContextAware {\r\n    private ApplicationContext applicationContext;\r\n\r\n    //todo why do spring failed due to this autowire?\r\n    @Autowired\r\n    private List&lt;InterfaceA&gt; autowiredList;\r\n\r\n    //print shared message after IOC container refreshed\r\n    @Override\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        usingAutowiredGerBean();\r\n        //usingContextGetBean();\r\n    }\r\n\r\n    private void usingAutowiredGerBean() {\r\n        for (InterfaceA interfaceA : autowiredList) {\r\n            if (SharedInterface.class.isAssignableFrom(interfaceA.getClass())){\r\n                ((SharedInterface) interfaceA).printSharedMsg();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void usingContextGetBean() {\r\n        Map&lt;String, SharedInterface&gt; beans = this.applicationContext.getBeansOfType(SharedInterface.class);\r\n        System.out.println(beans.size());\r\n        for (SharedInterface bean : beans.values()) {\r\n            bean.printSharedMsg();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n        this.applicationContext=applicationContext;\r\n    }\r\n}\r\n```\r\nBut when I tried to use `SharedInterface` instead of `InerfaceA` to get beans from IOC , it goes wrong. The code is showing below:\r\n```\r\n@Component\r\n@AutoConfigureAfter(value = {\r\n    InterfaceAConfig.class,\r\n    InterfaceBConfig.class})\r\npublic class SharedInterfaceComponent  implements ApplicationListener&lt;ContextRefreshedEvent&gt;, ApplicationContextAware {\r\n    private ApplicationContext applicationContext;\r\n\r\n    //todo why do spring failed due to this autowire?\r\n    @Autowired\r\n    private List&lt;SharedInterface&gt; autowiredList;\r\n\r\n    //print shared message after IOC container refreshed\r\n    @Override\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        usingAutowiredGerBean();\r\n        //usingContextGetBean();\r\n    }\r\n\r\n    private void usingAutowiredGerBean() {\r\n        for (SharedInterface sharedInterface : autowiredList) {\r\n            if (SharedInterface.class.isAssignableFrom(sharedInterface.getClass())){\r\n                ((SharedInterface) sharedInterface).printSharedMsg();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void usingContextGetBean() {\r\n        Map&lt;String, SharedInterface&gt; beans = this.applicationContext.getBeansOfType(SharedInterface.class);\r\n        System.out.println(beans.size());\r\n        for (SharedInterface bean : beans.values()) {\r\n            bean.printSharedMsg();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n        this.applicationContext=applicationContext;\r\n    }\r\n}\r\n```\r\nIn this Demo the application will fail and showing\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField autowiredList in com.wwstation.test.config.SharedInterfaceComponent required a bean of type &#39;java.util.List&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;java.util.List&#39; in your configuration.\r\n\r\n\r\n```\r\nBut in my other projects, the same situation will not lead to a crush, I can get `SharedInterface` by using `@Autowired` but there I can only get beans implement `InterfaceA` or `InterfaceB` but never all of them. I thought, the not crushing case may be caused by some of my dependencies in other projects.\r\nCan anyone help me about how to get all the `SharedInterface` more graceful? Thanks alot!","title":"How to get all beans of specified interface which also implements other interfaces","body":"<p>Here I have 3 Interfaces: <code>InterfaceA</code> and <code>InterfaceB</code> and <code>SharedInterface</code></p>\n<pre><code>public interface InterfaceA {\n    /**\n     * print some message\n     */\n    void printMsg();\n}\n</code></pre>\n<pre><code>public interface InterfaceB {\n    /**\n     * print some message\n     */\n    void printMsg();\n}\n</code></pre>\n<pre><code>public interface SharedInterface {\n    /**\n     * print some message\n     */\n    void printSharedMsg();\n}\n</code></pre>\n<p>and there are 3 implementations of these interfaces:</p>\n<pre><code>public class ImplementA1 implements InterfaceA, SharedInterface {\n    @Override\n    public void printMsg() {\n        System.out.println(&quot;this is message of interfaceA1&quot;);\n    }\n\n    @Override\n    public void printSharedMsg() {\n        System.out.println(&quot;this is shared message from ImplementA1&quot;);\n    }\n}\n</code></pre>\n<pre><code>public class ImplementA2 implements InterfaceA, SharedInterface {\n    @Override\n    public void printMsg() {\n        System.out.println(&quot;this is message of interfaceA2&quot;);\n    }\n\n    @Override\n    public void printSharedMsg() {\n        System.out.println(&quot;this is shared message from ImplementA2&quot;);\n    }\n}\n</code></pre>\n<pre><code>public class ImplementB implements InterfaceB, SharedInterface {\n    @Override\n    public void printMsg() {\n        System.out.println(&quot;this is message of interfaceB&quot;);\n    }\n\n    @Override\n    public void printSharedMsg() {\n        System.out.println(&quot;this is shared message from ImplementB&quot;);\n    }\n}\n</code></pre>\n<p><code>ImplementA1</code> and <code>ImplementA2</code> are the same type of operation, <code>ImplementB</code> is another type of operation. So I decided to develop 2 config class to register ImplementA1,ImplementA2 and ImplementB which is showing below.</p>\n<pre><code>@Configuration\npublic class InterfaceAConfig {\n    @Bean\n    public InterfaceA registerInterfaceA1(){\n        return new ImplementA1();\n    }\n\n    @Bean\n    public InterfaceA registerInterfaceA2(){\n        return new ImplementA2();\n    }\n}\n</code></pre>\n<pre><code>@Configuration\npublic class InterfaceBConfig {\n    @Bean\n    public InterfaceB registerInterfaceB(){\n        return new ImplementB();\n    }\n}\n</code></pre>\n<p>Now I want to let all beans which implement <code>SharedInterface</code> print their message in a component. And it works well,here is the code:</p>\n<pre><code>@Component\n@AutoConfigureAfter(value = {\n    InterfaceAConfig.class,\n    InterfaceBConfig.class})\npublic class SharedInterfaceComponent implements ApplicationListener&lt;ContextRefreshedEvent&gt;, ApplicationContextAware {\n    private ApplicationContext applicationContext;\n\n    //print shared message after IOC container refreshed\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        usingContextGetBean();\n    }\n\n    private void usingContextGetBean() {\n        Map&lt;String, SharedInterface&gt; beans = this.applicationContext.getBeansOfType(SharedInterface.class);\n        System.out.println(beans.size());\n        for (SharedInterface bean : beans.values()) {\n            bean.printSharedMsg();\n        }\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext = applicationContext;\n    }\n}\n</code></pre>\n<p>But I found another way of inject beans to component, using</p>\n<pre><code>@Autowired\nList&lt;TargetType&gt; myListName\n</code></pre>\n<p>So I decided to change my <code>SharedInterfaceComponent</code> to this for test, and it worked:</p>\n<pre><code>@Component\n@AutoConfigureAfter(value = {\n    InterfaceAConfig.class,\n    InterfaceBConfig.class})\npublic class SharedInterfaceComponent  implements ApplicationListener&lt;ContextRefreshedEvent&gt;, ApplicationContextAware {\n    private ApplicationContext applicationContext;\n\n    //todo why do spring failed due to this autowire?\n    @Autowired\n    private List&lt;InterfaceA&gt; autowiredList;\n\n    //print shared message after IOC container refreshed\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        usingAutowiredGerBean();\n        //usingContextGetBean();\n    }\n\n    private void usingAutowiredGerBean() {\n        for (InterfaceA interfaceA : autowiredList) {\n            if (SharedInterface.class.isAssignableFrom(interfaceA.getClass())){\n                ((SharedInterface) interfaceA).printSharedMsg();\n            }\n        }\n    }\n\n    private void usingContextGetBean() {\n        Map&lt;String, SharedInterface&gt; beans = this.applicationContext.getBeansOfType(SharedInterface.class);\n        System.out.println(beans.size());\n        for (SharedInterface bean : beans.values()) {\n            bean.printSharedMsg();\n        }\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext=applicationContext;\n    }\n}\n</code></pre>\n<p>But when I tried to use <code>SharedInterface</code> instead of <code>InerfaceA</code> to get beans from IOC , it goes wrong. The code is showing below:</p>\n<pre><code>@Component\n@AutoConfigureAfter(value = {\n    InterfaceAConfig.class,\n    InterfaceBConfig.class})\npublic class SharedInterfaceComponent  implements ApplicationListener&lt;ContextRefreshedEvent&gt;, ApplicationContextAware {\n    private ApplicationContext applicationContext;\n\n    //todo why do spring failed due to this autowire?\n    @Autowired\n    private List&lt;SharedInterface&gt; autowiredList;\n\n    //print shared message after IOC container refreshed\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        usingAutowiredGerBean();\n        //usingContextGetBean();\n    }\n\n    private void usingAutowiredGerBean() {\n        for (SharedInterface sharedInterface : autowiredList) {\n            if (SharedInterface.class.isAssignableFrom(sharedInterface.getClass())){\n                ((SharedInterface) sharedInterface).printSharedMsg();\n            }\n        }\n    }\n\n    private void usingContextGetBean() {\n        Map&lt;String, SharedInterface&gt; beans = this.applicationContext.getBeansOfType(SharedInterface.class);\n        System.out.println(beans.size());\n        for (SharedInterface bean : beans.values()) {\n            bean.printSharedMsg();\n        }\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.applicationContext=applicationContext;\n    }\n}\n</code></pre>\n<p>In this Demo the application will fail and showing</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField autowiredList in com.wwstation.test.config.SharedInterfaceComponent required a bean of type 'java.util.List' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'java.util.List' in your configuration.\n\n\n</code></pre>\n<p>But in my other projects, the same situation will not lead to a crush, I can get <code>SharedInterface</code> by using <code>@Autowired</code> but there I can only get beans implement <code>InterfaceA</code> or <code>InterfaceB</code> but never all of them. I thought, the not crushing case may be caused by some of my dependencies in other projects.\nCan anyone help me about how to get all the <code>SharedInterface</code> more graceful? Thanks alot!</p>\n"},{"tags":["java","swing","xor"],"comments":[{"owner":{"account_id":2055869,"reputation":3471,"user_id":1833653,"accept_rate":85,"display_name":"Extreme Coders"},"score":1,"creation_date":1360995122,"post_id":14907535,"comment_id":20911775,"body_markdown":"You are calling `add()` inside `paintComponent()` in class `Background`. You need to do it in the constructor.","body":"You are calling <code>add()</code> inside <code>paintComponent()</code> in class <code>Background</code>. You need to do it in the constructor."},{"owner":{"account_id":2134591,"reputation":24672,"user_id":1894684,"accept_rate":80,"display_name":"An SO User"},"score":0,"creation_date":1360995233,"post_id":14907535,"comment_id":20911795,"body_markdown":"tried calling add in constructor, no luck!","body":"tried calling add in constructor, no luck!"},{"owner":{"account_id":2055869,"reputation":3471,"user_id":1833653,"accept_rate":85,"display_name":"Extreme Coders"},"score":0,"creation_date":1360995277,"post_id":14907535,"comment_id":20911804,"body_markdown":"Declare the `Background` class constructor and then call `add(b)` in that.","body":"Declare the <code>Background</code> class constructor and then call <code>add(b)</code> in that."},{"owner":{"account_id":2134591,"reputation":24672,"user_id":1894684,"accept_rate":80,"display_name":"An SO User"},"score":0,"creation_date":1360995321,"post_id":14907535,"comment_id":20911810,"body_markdown":"Tried, there is a small square , very tiny , that gets drawn in the center. Will upload a pic --- hang on","body":"Tried, there is a small square , very tiny , that gets drawn in the center. Will upload a pic --- hang on"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1360995323,"post_id":14907535,"comment_id":20911812,"body_markdown":"Show the new code below the old code. How can we help &quot;no luck&quot; if we don&#39;t see it? And of course @ExtremeCoders is correct. You should *never* add or remove components or try to do program logic inside of `paintComponent(...)`. It is a very bad idea.","body":"Show the new code below the old code. How can we help &quot;no luck&quot; if we don&#39;t see it? And of course @ExtremeCoders is correct. You should <i>never</i> add or remove components or try to do program logic inside of <code>paintComponent(...)</code>. It is a very bad idea."},{"owner":{"account_id":2055869,"reputation":3471,"user_id":1833653,"accept_rate":85,"display_name":"Extreme Coders"},"score":2,"creation_date":1360995690,"post_id":14907535,"comment_id":20911880,"body_markdown":"Don&#39;t call `repaint()` in the constructor. Repaints should be left to be handled by the system unless it is an animation.","body":"Don&#39;t call <code>repaint()</code> in the constructor. Repaints should be left to be handled by the system unless it is an animation."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1361019786,"post_id":14907535,"comment_id":20916652,"body_markdown":"+1 for [sscce](http://sscce.org/).","body":"+1 for <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">sscce</a>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1653304526,"creation_date":1360995383,"answer_id":14907589,"question_id":14907535,"body_markdown":"The major problem is here...\r\n\r\n        public void paintComponent(Graphics g){\r\n            super.paintComponent(g);\r\n            Color c = Color.cyan;\r\n            g.setColor(c);\r\n            g.fillRect(0, 0,getWidth(), getHeight());\r\n            add(b);\r\n            repaint();\r\n        }\r\n\r\nNot only are adding components to your container within you paint method, you&#39;re also calling repaint, all this is going to conspire against you.\r\n\r\nPaint is called by the repaint manager when ever your component needs to be updated, for all sorts of reasons. You should never call any methods that might invalidate it otherwise require the component to repainted, doing so will send you down slippery slope of CPU burn out.\r\n\r\nInstead.\r\n\r\n 1. Add your `Bubble` component inside the constructor of the `Background` component\r\n 2. Override the `getPreferredSize` methods of both these components and provide useful hints so the layout managers have some idea of how much space the components might actually like to use\r\n\r\nThe major problem you are facing (other then the bad painting) is that the components are reporting themselves as requiring no height or width, meaning when the layout managers come to lay them out, they are effectively invisible\r\n\r\n**Update**\r\n\r\nI would recommend that you have a look at\r\n\r\n - [Creating a GUI with Swing](http://docs.oracle.com/javase/tutorial/uiswing/), paying special attention to the section on layout managers\r\n - [Custom painting](http://docs.oracle.com/javase/tutorial/uiswing/)\r\n - [Painting in AWT and Swing](http://www.oracle.com/technetwork/java/painting-140037.html)\r\n\r\n**Easter Egg**\r\n\r\nFor taking advice and making an effort, let me give you a little help...\r\n\r\n![enter image description here][1]\r\n\r\nWhat I suggest you do is read through the code, go back to the Java Docs and tutorials and try and figure out what is going on ;)\r\n\r\n    public class CircleControl {\r\n\r\n        public static void main(String[] args) {\r\n            new CircleControl();\r\n        }\r\n\r\n        public CircleControl() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n\r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLayout(new BorderLayout());\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                add(new Bubble());\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 300);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n\r\n                Color startColor = brighten(Color.CYAN, 0.75f);\r\n                Color endColor = brighten(Color.CYAN, 0.5f);\r\n\r\n                LinearGradientPaint lgp = new LinearGradientPaint(\r\n                                new Point(0, 0),\r\n                                new Point(0, getHeight()),\r\n                                new float[]{0f, 1f},\r\n                                new Color[]{startColor, endColor});\r\n\r\n                g2d.setPaint(lgp);\r\n                g2d.fill(new Rectangle(getWidth(), getHeight()));\r\n                g2d.dispose();\r\n\r\n            }\r\n        }\r\n\r\n        public class Bubble extends JPanel {\r\n\r\n            public Bubble() {\r\n                Font font = UIManager.getFont(&quot;Label.font&quot;);\r\n                setFont(font.deriveFont(Font.BOLD, 48));\r\n                setForeground(Color.WHITE);\r\n                setBackground(darken(Color.CYAN, 0.3f));\r\n                setOpaque(false);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(150, 150);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\r\n                g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n                g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n                g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n                g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\r\n                g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n                \r\n                int x = (getWidth() - 150) / 2;\r\n                int y = (getHeight() - 150) / 2;\r\n\r\n                Color startColor = brighten(getBackground(), 0.05f);\r\n                Color endColor = getBackground();\r\n\r\n                LinearGradientPaint lgp = new LinearGradientPaint(\r\n                                new Point(x, y),\r\n                                new Point(x, y + 150),\r\n                                new float[]{0f, 1f},\r\n                                new Color[]{startColor, endColor});\r\n                g2d.setPaint(lgp);\r\n                g2d.fill(new Ellipse2D.Double(x, y, 150, 150));\r\n                \r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                x = x + ((150 - fm.stringWidth(&quot;22&quot;)) / 2);\r\n                y = y + ((150 / 2) + fm.getAscent());\r\n                g2d.setColor(getForeground());\r\n                g2d.drawString(&quot;22&quot;, x, y);\r\n\r\n            }\r\n        }\r\n\r\n        public static Color brighten(Color color, double fraction) {\r\n            int red = (int) Math.round(Math.min(255, color.getRed() + 255 * fraction));\r\n            int green = (int) Math.round(Math.min(255, color.getGreen() + 255 * fraction));\r\n            int blue = (int) Math.round(Math.min(255, color.getBlue() + 255 * fraction));\r\n            int alpha = color.getAlpha();\r\n            return new Color(red, green, blue, alpha);\r\n        }\r\n\r\n        public static Color darken(Color color, double fraction) {\r\n            int red = (int) Math.round(Math.max(0, color.getRed() - 255 * fraction));\r\n            int green = (int) Math.round(Math.max(0, color.getGreen() - 255 * fraction));\r\n            int blue = (int) Math.round(Math.max(0, color.getBlue() - 255 * fraction));\r\n            int alpha = color.getAlpha();\r\n            return new Color(red, green, blue, alpha);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/u1LoV.png","title":"Adding JPanel inside a JPanel - the nested JPanel won&#39;t display","body":"<p>The major problem is here...</p>\n<pre><code>    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n        Color c = Color.cyan;\n        g.setColor(c);\n        g.fillRect(0, 0,getWidth(), getHeight());\n        add(b);\n        repaint();\n    }\n</code></pre>\n<p>Not only are adding components to your container within you paint method, you're also calling repaint, all this is going to conspire against you.</p>\n<p>Paint is called by the repaint manager when ever your component needs to be updated, for all sorts of reasons. You should never call any methods that might invalidate it otherwise require the component to repainted, doing so will send you down slippery slope of CPU burn out.</p>\n<p>Instead.</p>\n<ol>\n<li>Add your <code>Bubble</code> component inside the constructor of the <code>Background</code> component</li>\n<li>Override the <code>getPreferredSize</code> methods of both these components and provide useful hints so the layout managers have some idea of how much space the components might actually like to use</li>\n</ol>\n<p>The major problem you are facing (other then the bad painting) is that the components are reporting themselves as requiring no height or width, meaning when the layout managers come to lay them out, they are effectively invisible</p>\n<p><strong>Update</strong></p>\n<p>I would recommend that you have a look at</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Creating a GUI with Swing</a>, paying special attention to the section on layout managers</li>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Custom painting</a></li>\n<li><a href=\"http://www.oracle.com/technetwork/java/painting-140037.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a></li>\n</ul>\n<p><strong>Easter Egg</strong></p>\n<p>For taking advice and making an effort, let me give you a little help...</p>\n<p><img src=\"https://i.stack.imgur.com/u1LoV.png\" alt=\"enter image description here\" /></p>\n<p>What I suggest you do is read through the code, go back to the Java Docs and tutorials and try and figure out what is going on ;)</p>\n<pre><code>public class CircleControl {\n\n    public static void main(String[] args) {\n        new CircleControl();\n    }\n\n    public CircleControl() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n\n                JFrame frame = new JFrame(&quot;Testing&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            add(new Bubble());\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 300);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n\n            Graphics2D g2d = (Graphics2D) g.create();\n\n            Color startColor = brighten(Color.CYAN, 0.75f);\n            Color endColor = brighten(Color.CYAN, 0.5f);\n\n            LinearGradientPaint lgp = new LinearGradientPaint(\n                            new Point(0, 0),\n                            new Point(0, getHeight()),\n                            new float[]{0f, 1f},\n                            new Color[]{startColor, endColor});\n\n            g2d.setPaint(lgp);\n            g2d.fill(new Rectangle(getWidth(), getHeight()));\n            g2d.dispose();\n\n        }\n    }\n\n    public class Bubble extends JPanel {\n\n        public Bubble() {\n            Font font = UIManager.getFont(&quot;Label.font&quot;);\n            setFont(font.deriveFont(Font.BOLD, 48));\n            setForeground(Color.WHITE);\n            setBackground(darken(Color.CYAN, 0.3f));\n            setOpaque(false);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(150, 150);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.setRenderingHint(RenderingHints.KEY_ALPHA_INTERPOLATION, RenderingHints.VALUE_ALPHA_INTERPOLATION_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_COLOR_RENDERING, RenderingHints.VALUE_COLOR_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_DITHERING, RenderingHints.VALUE_DITHER_ENABLE);\n            g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n            g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n            g2d.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n            g2d.setRenderingHint(RenderingHints.KEY_STROKE_CONTROL, RenderingHints.VALUE_STROKE_PURE);\n            g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n            \n            int x = (getWidth() - 150) / 2;\n            int y = (getHeight() - 150) / 2;\n\n            Color startColor = brighten(getBackground(), 0.05f);\n            Color endColor = getBackground();\n\n            LinearGradientPaint lgp = new LinearGradientPaint(\n                            new Point(x, y),\n                            new Point(x, y + 150),\n                            new float[]{0f, 1f},\n                            new Color[]{startColor, endColor});\n            g2d.setPaint(lgp);\n            g2d.fill(new Ellipse2D.Double(x, y, 150, 150));\n            \n            FontMetrics fm = g2d.getFontMetrics();\n            x = x + ((150 - fm.stringWidth(&quot;22&quot;)) / 2);\n            y = y + ((150 / 2) + fm.getAscent());\n            g2d.setColor(getForeground());\n            g2d.drawString(&quot;22&quot;, x, y);\n\n        }\n    }\n\n    public static Color brighten(Color color, double fraction) {\n        int red = (int) Math.round(Math.min(255, color.getRed() + 255 * fraction));\n        int green = (int) Math.round(Math.min(255, color.getGreen() + 255 * fraction));\n        int blue = (int) Math.round(Math.min(255, color.getBlue() + 255 * fraction));\n        int alpha = color.getAlpha();\n        return new Color(red, green, blue, alpha);\n    }\n\n    public static Color darken(Color color, double fraction) {\n        int red = (int) Math.round(Math.max(0, color.getRed() - 255 * fraction));\n        int green = (int) Math.round(Math.max(0, color.getGreen() - 255 * fraction));\n        int blue = (int) Math.round(Math.max(0, color.getBlue() - 255 * fraction));\n        int alpha = color.getAlpha();\n        return new Color(red, green, blue, alpha);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2055869,"reputation":3471,"user_id":1833653,"accept_rate":85,"display_name":"Extreme Coders"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360996842,"creation_date":1360996842,"answer_id":14907732,"question_id":14907535,"body_markdown":"I have run your code and made the changes.Here is it.However your program does not handle window closing. You have to write that.\r\n\r\n    package test;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class TestWindow extends JFrame\r\n    {\r\n        //------------------------------------------------------------------------------\r\n        public static void main(String[] args) {\r\n            new TestWindow();\r\n        }\r\n        //------------------------------------------------------------------------------\r\n        public TestWindow(){\r\n            setSize(300,310);\r\n            this.setUndecorated(true);\r\n            add(new Background());\r\n            setVisible(true);\r\n        }\r\n    //------------------------------------------------------------------------------\r\n    \r\n        private class Background extends JPanel{\r\n            public Background(){\r\n                Bubble b = new Bubble();\r\n                add(b);\r\n            }\r\n            //------------------------------------------------------------------------------    \r\n    \r\n            @Override public Dimension getPreferredSize()\r\n            {\r\n                return new Dimension(300,300);\r\n            }\r\n    \r\n            @Override\r\n            public void paintComponent(Graphics g){\r\n                super.paintComponent(g);\r\n                Color c = Color.cyan;\r\n                g.setColor(c);\r\n                g.fillRect(0, 0,getWidth(), getHeight());\r\n            }\r\n            //------------------------------------------------------------------------------\r\n            private class Bubble extends JPanel{\r\n    \r\n                Bubble()\r\n                {\r\n                    setOpaque(false);\r\n                }\r\n    \r\n                @Override\r\n                public void paintComponent(Graphics g){\r\n                    super.paintComponent(g);\r\n                    g.setColor(Color.green);\r\n                    g.fillOval(0, 0, getWidth(), getHeight());\r\n                }\r\n    \r\n                @Override public Dimension getPreferredSize()\r\n                {\r\n                    return new Dimension(300,300);\r\n                }\r\n            }\r\n    //------------------------------------------------------------------------------\r\n        }\r\n    }  ","title":"Adding JPanel inside a JPanel - the nested JPanel won&#39;t display","body":"<p>I have run your code and made the changes.Here is it.However your program does not handle window closing. You have to write that.</p>\n\n<pre><code>package test;\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class TestWindow extends JFrame\n{\n    //------------------------------------------------------------------------------\n    public static void main(String[] args) {\n        new TestWindow();\n    }\n    //------------------------------------------------------------------------------\n    public TestWindow(){\n        setSize(300,310);\n        this.setUndecorated(true);\n        add(new Background());\n        setVisible(true);\n    }\n//------------------------------------------------------------------------------\n\n    private class Background extends JPanel{\n        public Background(){\n            Bubble b = new Bubble();\n            add(b);\n        }\n        //------------------------------------------------------------------------------    \n\n        @Override public Dimension getPreferredSize()\n        {\n            return new Dimension(300,300);\n        }\n\n        @Override\n        public void paintComponent(Graphics g){\n            super.paintComponent(g);\n            Color c = Color.cyan;\n            g.setColor(c);\n            g.fillRect(0, 0,getWidth(), getHeight());\n        }\n        //------------------------------------------------------------------------------\n        private class Bubble extends JPanel{\n\n            Bubble()\n            {\n                setOpaque(false);\n            }\n\n            @Override\n            public void paintComponent(Graphics g){\n                super.paintComponent(g);\n                g.setColor(Color.green);\n                g.fillOval(0, 0, getWidth(), getHeight());\n            }\n\n            @Override public Dimension getPreferredSize()\n            {\n                return new Dimension(300,300);\n            }\n        }\n//------------------------------------------------------------------------------\n    }\n}  \n</code></pre>\n"}],"owner":{"account_id":2134591,"reputation":24672,"user_id":1894684,"accept_rate":80,"display_name":"An SO User"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5730,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14907589,"answer_count":2,"score":3,"last_activity_date":1653304526,"creation_date":1360994934,"question_id":14907535,"body_markdown":"&lt;h2&gt; New Code &lt;/h2&gt;  \r\n    package test;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    \r\n    public class TestWindow extends JFrame{\r\n    //------------------------------------------------------------------------------\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew TestWindow();\r\n    \t}\r\n    //------------------------------------------------------------------------------\r\n    \tpublic TestWindow(){\r\n    \t\tsetSize(300,300);\r\n    \t\tthis.setUndecorated(true);\r\n    \t\tadd(new Background());\r\n    \t\tsetVisible(true);\r\n    \t}\r\n    //------------------------------------------------------------------------------\r\n    \t\r\n    \tprivate class Background extends JPanel{\r\n    \t\tpublic Background(){\r\n    \t\t\tadd(b);\r\n    \t\t\trepaint();\r\n    \t\t}\r\n    //------------------------------------------------------------------------------\t\r\n    \t\tBubble b = new Bubble();\r\n    \t\t@Override\r\n    \t\tpublic void paintComponent(Graphics g){\r\n    \t\t\tsuper.paintComponent(g);\r\n    \t\t\tColor c = Color.cyan;\r\n    \t\t\tg.setColor(c);\r\n    \t\t\tg.fillRect(0, 0,getWidth(), getHeight());\r\n    \t\t}\r\n    //------------------------------------------------------------------------------\r\n    \t\tprivate class Bubble extends JPanel{\r\n    \t\t\t@Override\r\n    \t\t\tpublic void paintComponent(Graphics g){\r\n    \t\t\t\tsuper.paintComponent(g);\r\n    \t\t\t\tg.setColor(Color.green);\r\n    \t\t\t\tg.drawOval(0, 0, Background.this.getWidth(), Background.this.getHeight());\r\n    \t\t\t}\r\n    \t\t}\r\n    //------------------------------------------------------------------------------\r\n    \t}\r\n    }  \r\n&lt;h2&gt; Output &lt;/h2&gt;  \r\n![enter image description here][1]\r\n&lt;h2&gt; Problem &lt;/h2&gt;  \r\nThe aim is to draw a cyan window with a green circle on it. Later I will add components to the green circle so it will look like there is a window with a cyan background and a green circle with components in it.  \r\nThe output however is only the cyan background. No circle.  \r\n\r\nI tried setting XOR mode to cyan but that did not work either. Am I nesting the classes wrong?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/EnRII.png","title":"Adding JPanel inside a JPanel - the nested JPanel won&#39;t display","body":"<h2> New Code </h2>  \n\n<pre><code>package test;\n\nimport javax.swing.*;\nimport java.awt.*;\n\n\npublic class TestWindow extends JFrame{\n//------------------------------------------------------------------------------\n    public static void main(String[] args) {\n        new TestWindow();\n    }\n//------------------------------------------------------------------------------\n    public TestWindow(){\n        setSize(300,300);\n        this.setUndecorated(true);\n        add(new Background());\n        setVisible(true);\n    }\n//------------------------------------------------------------------------------\n\n    private class Background extends JPanel{\n        public Background(){\n            add(b);\n            repaint();\n        }\n//------------------------------------------------------------------------------    \n        Bubble b = new Bubble();\n        @Override\n        public void paintComponent(Graphics g){\n            super.paintComponent(g);\n            Color c = Color.cyan;\n            g.setColor(c);\n            g.fillRect(0, 0,getWidth(), getHeight());\n        }\n//------------------------------------------------------------------------------\n        private class Bubble extends JPanel{\n            @Override\n            public void paintComponent(Graphics g){\n                super.paintComponent(g);\n                g.setColor(Color.green);\n                g.drawOval(0, 0, Background.this.getWidth(), Background.this.getHeight());\n            }\n        }\n//------------------------------------------------------------------------------\n    }\n}  \n</code></pre>\n\n<h2> Output </h2>  \n\n<p><img src=\"https://i.stack.imgur.com/EnRII.png\" alt=\"enter image description here\"></p>\n\n<h2> Problem </h2>  \n\n<p>The aim is to draw a cyan window with a green circle on it. Later I will add components to the green circle so it will look like there is a window with a cyan background and a green circle with components in it.<br>\nThe output however is only the cyan background. No circle.  </p>\n\n<p>I tried setting XOR mode to cyan but that did not work either. Am I nesting the classes wrong?</p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":52621,"reputation":3251,"user_id":3222727,"accept_rate":20,"display_name":"kinshuk4"},"score":0,"creation_date":1446441786,"post_id":33470881,"comment_id":54727967,"body_markdown":"Please give more details, like what you were trying to do, and what happened.","body":"Please give more details, like what you were trying to do, and what happened."}],"answers":[{"tags":[],"owner":{"account_id":1315082,"reputation":220,"user_id":1262157,"accept_rate":40,"display_name":"Rishi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1446439963,"creation_date":1446439963,"answer_id":33470988,"question_id":33470881,"body_markdown":"I guess the error log says it all. You have more than one servlet deployed on tomcat with the same URL pattern mapped in their web.xml [/*]\r\n`The servlets named [Project-1] and [com.example.project_1.Project_1UI$Servlet] are both mapped to the url-pattern [/*] which is not permitted at org.apache.catalina.deploy.WebXml.addServletMapping`\r\n\r\nThis is confusing since the container will not know which servlet to invoke whenever you hit the URL `localhost:[yourPort]/[AppName-Maybe]/`. Try going through the web.xml and fixing this or you can post the same here and get additional help.","title":"SEVERE: A child container failed during start","body":"<p>I guess the error log says it all. You have more than one servlet deployed on tomcat with the same URL pattern mapped in their web.xml [/*]\n<code>The servlets named [Project-1] and [com.example.project_1.Project_1UI$Servlet] are both mapped to the url-pattern [/*] which is not permitted at org.apache.catalina.deploy.WebXml.addServletMapping</code></p>\n\n<p>This is confusing since the container will not know which servlet to invoke whenever you hit the URL <code>localhost:[yourPort]/[AppName-Maybe]/</code>. Try going through the web.xml and fixing this or you can post the same here and get additional help.</p>\n"},{"tags":[],"owner":{"account_id":23467189,"reputation":1,"user_id":17521162,"display_name":"user17521162"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637984240,"creation_date":1637984240,"answer_id":70131864,"question_id":33470881,"body_markdown":"Yes as said, that both are mapped to the url-pattern which is not permitted, try to add two url-pattern in the mapping section. You can add same url-pattern if you want or can add two different url-patterns, I had the same problem... like below\r\n\r\n    &lt;servlet&gt;\r\n    &lt;servlet-name&gt;Test&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;com.example.project1.Project1Servlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    \r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;Test&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/Project1Servlet&lt;/url-pattern&gt;\r\n    &lt;url-pattern&gt;/Project1Servlet&lt;/url-pattern&gt;\r\n    &lt;!-- Adding two url-pattern helped me get through that problem. Try it, this might work for you, also I was using apache tomcat 9.0.55 version --&gt;\r\n    &lt;/servlet-mapping&gt;","title":"SEVERE: A child container failed during start","body":"<p>Yes as said, that both are mapped to the url-pattern which is not permitted, try to add two url-pattern in the mapping section. You can add same url-pattern if you want or can add two different url-patterns, I had the same problem... like below</p>\n<pre><code>&lt;servlet&gt;\n&lt;servlet-name&gt;Test&lt;/servlet-name&gt;\n&lt;servlet-class&gt;com.example.project1.Project1Servlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;Test&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/Project1Servlet&lt;/url-pattern&gt;\n&lt;url-pattern&gt;/Project1Servlet&lt;/url-pattern&gt;\n&lt;!-- Adding two url-pattern helped me get through that problem. Try it, this might work for you, also I was using apache tomcat 9.0.55 version --&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15403988,"reputation":1,"user_id":11112588,"display_name":"Mahesh Shivaji Mane."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653303142,"creation_date":1653303142,"answer_id":72347328,"question_id":33470881,"body_markdown":"I was facing same issue. I created new workspace and added server in it. It worked for me !! \r\n\r\nPlease change workspace and try adding server to fresh WS.","title":"SEVERE: A child container failed during start","body":"<p>I was facing same issue. I created new workspace and added server in it. It worked for me !!</p>\n<p>Please change workspace and try adding server to fresh WS.</p>\n"}],"owner":{"account_id":7225850,"reputation":27,"user_id":5514428,"display_name":"G2K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7825,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":33470988,"answer_count":3,"score":-1,"last_activity_date":1653303142,"creation_date":1446439260,"question_id":33470881,"body_markdown":"Previously my tomcat server was working fine.\r\n\r\nBut suddenly getting following error.\r\n\r\nPlease help on this\r\n\r\n&gt; SEVERE: A child container failed during start\r\n&gt; java.util.concurrent.ExecutionException:\r\n&gt; org.apache.catalina.LifecycleException: Failed to start component\r\n&gt; [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Project-1]]\r\n&gt; \tat java.util.concurrent.FutureTask.report(Unknown Source) \tat\r\n&gt; java.util.concurrent.FutureTask.get(Unknown Source) \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n&gt; \tat java.util.concurrent.FutureTask.run(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) \tat\r\n&gt; java.lang.Thread.run(Unknown Source) Caused by:\r\n&gt; org.apache.catalina.LifecycleException: Failed to start component\r\n&gt; [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Project-1]]\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n&gt; \t... 6 more Caused by: java.lang.IllegalArgumentException: The\r\n&gt; servlets named [Project-1] and\r\n&gt; [com.example.project_1.Project_1UI$Servlet] are both mapped to the\r\n&gt; url-pattern [/*] which is not permitted \tat\r\n&gt; org.apache.catalina.deploy.WebXml.addServletMapping(WebXml.java:335)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.processAnnotationWebServlet(ContextConfig.java:2466)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.processAnnotationsStream(ContextConfig.java:2148)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2109)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2102)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2102)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2102)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1293)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:878)\r\n&gt; \tat\r\n&gt; org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:376)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5322)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \t... 6 more\r\n&gt; \r\n&gt; Nov 02, 2015 9:50:09 AM org.apache.catalina.core.ApplicationContext\r\n&gt; log INFO: No Spring WebApplicationInitializer types detected on\r\n&gt; classpath Nov 02, 2015 9:50:09 AM\r\n&gt; org.apache.catalina.core.ApplicationContext log INFO: Set web app root\r\n&gt; system property: &#39;webapp.root&#39; =\r\n&gt; [C:\\Users\\syed\\Documents\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\LorryHub\\]\r\n&gt; Nov 02, 2015 9:50:09 AM org.apache.catalina.core.ApplicationContext\r\n&gt; log INFO: Initializing log4j from\r\n&gt; [C:\\Users\\syed\\Documents\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\LorryHub\\WEB-INF\\log4j.lorryhub.properties]\r\n&gt; log4j:ERROR setFile(null,true) call failed.\r\n&gt; java.io.FileNotFoundException: C:\\Users\\LorryHub\\lorryhub.log (The\r\n&gt; system cannot find the path specified) \tat\r\n&gt; java.io.FileOutputStream.open(Native Method) \tat\r\n&gt; java.io.FileOutputStream.&lt;init&gt;(Unknown Source) \tat\r\n&gt; java.io.FileOutputStream.&lt;init&gt;(Unknown Source) \tat\r\n&gt; org.apache.log4j.FileAppender.setFile(FileAppender.java:294) \tat\r\n&gt; org.apache.log4j.RollingFileAppender.setFile(RollingFileAppender.java:207)\r\n&gt; \tat\r\n&gt; org.apache.log4j.FileAppender.activateOptions(FileAppender.java:165)\r\n&gt; \tat\r\n&gt; org.apache.log4j.config.PropertySetter.activate(PropertySetter.java:307)\r\n&gt; \tat\r\n&gt; org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:172)\r\n&gt; \tat\r\n&gt; org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:104)\r\n&gt; \tat\r\n&gt; org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:842)\r\n&gt; \tat\r\n&gt; org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:768)\r\n&gt; \tat\r\n&gt; org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:648)\r\n&gt; \tat\r\n&gt; org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:514)\r\n&gt; \tat\r\n&gt; org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:580)\r\n&gt; \tat\r\n&gt; org.apache.log4j.PropertyConfigurator.configure(PropertyConfigurator.java:415)\r\n&gt; \tat\r\n&gt; org.springframework.util.Log4jConfigurer.initLogging(Log4jConfigurer.java:72)\r\n&gt; \tat\r\n&gt; org.springframework.web.util.Log4jWebConfigurer.initLogging(Log4jWebConfigurer.java:152)\r\n&gt; \tat\r\n&gt; org.springframework.web.util.Log4jConfigListener.contextInitialized(Log4jConfigListener.java:45)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n&gt; \tat java.util.concurrent.FutureTask.run(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) \tat\r\n&gt; java.lang.Thread.run(Unknown Source) Nov 02, 2015 9:50:10 AM\r\n&gt; org.apache.catalina.core.ApplicationContext log INFO: Initializing\r\n&gt; Spring FrameworkServlet &#39;MainWeb&#39; Nov 02, 2015 9:50:18 AM\r\n&gt; org.apache.catalina.core.ContainerBase startInternal SEVERE: A child\r\n&gt; container failed during start java.util.concurrent.ExecutionException:\r\n&gt; org.apache.catalina.LifecycleException: Failed to start component\r\n&gt; [StandardEngine[Catalina].StandardHost[localhost]] \tat\r\n&gt; java.util.concurrent.FutureTask.report(Unknown Source) \tat\r\n&gt; java.util.concurrent.FutureTask.get(Unknown Source) \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \tat org.apache.catalina.startup.Catalina.start(Catalina.java:691) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \tat\r\n&gt; java.lang.reflect.Method.invoke(Unknown Source) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456) Caused\r\n&gt; by: org.apache.catalina.LifecycleException: Failed to start component\r\n&gt; [StandardEngine[Catalina].StandardHost[localhost]] \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n&gt; \tat java.util.concurrent.FutureTask.run(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) \tat\r\n&gt; java.lang.Thread.run(Unknown Source) Caused by:\r\n&gt; org.apache.catalina.LifecycleException: A child container failed\r\n&gt; during start \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\r\n&gt; \tat  \r\n\r\n\r\n&gt; org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \t... 6 more\r\n&gt; \r\n&gt; Nov 02, 2015 9:50:18 AM org.apache.catalina.startup.Catalina start\r\n&gt; SEVERE: The required Server component failed to start so Tomcat is\r\n&gt; unable to start. org.apache.catalina.LifecycleException: Failed to\r\n&gt; start component [StandardServer[8005]] \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n&gt; \tat org.apache.catalina.startup.Catalina.start(Catalina.java:691) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) \tat\r\n&gt; java.lang.reflect.Method.invoke(Unknown Source) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322) \tat\r\n&gt; org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456) Caused\r\n&gt; by: org.apache.catalina.LifecycleException: Failed to start component\r\n&gt; [StandardService[Catalina]] \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \t... 7 more Caused by: org.apache.catalina.LifecycleException: Failed\r\n&gt; to start component [StandardEngine[Catalina]] \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \t... 9 more Caused by: org.apache.catalina.LifecycleException: A child\r\n&gt; container failed during start \tat\r\n&gt; org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\r\n&gt; \tat\r\n&gt; org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\r\n&gt; \tat\r\n&gt; org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n&gt; \t... 11 more\r\n\r\nThanks","title":"SEVERE: A child container failed during start","body":"<p>Previously my tomcat server was working fine.</p>\n\n<p>But suddenly getting following error.</p>\n\n<p>Please help on this</p>\n\n<blockquote>\n  <p>SEVERE: A child container failed during start\n  java.util.concurrent.ExecutionException:\n  org.apache.catalina.LifecycleException: Failed to start component\n  [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Project-1]]\n    at java.util.concurrent.FutureTask.report(Unknown Source)   at\n  java.util.concurrent.FutureTask.get(Unknown Source)   at\n  org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\n    at\n  org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(Unknown Source)  at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)     at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)    at\n  java.lang.Thread.run(Unknown Source) Caused by:\n  org.apache.catalina.LifecycleException: Failed to start component\n  [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/Project-1]]\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    ... 6 more Caused by: java.lang.IllegalArgumentException: The\n  servlets named [Project-1] and\n  [com.example.project_1.Project_1UI$Servlet] are both mapped to the\n  url-pattern [/*] which is not permitted   at\n  org.apache.catalina.deploy.WebXml.addServletMapping(WebXml.java:335)\n    at\n  org.apache.catalina.startup.ContextConfig.processAnnotationWebServlet(ContextConfig.java:2466)\n    at\n  org.apache.catalina.startup.ContextConfig.processAnnotationsStream(ContextConfig.java:2148)\n    at\n  org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2109)\n    at\n  org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2102)\n    at\n  org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2102)\n    at\n  org.apache.catalina.startup.ContextConfig.processAnnotationsFile(ContextConfig.java:2102)\n    at\n  org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1293)\n    at\n  org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:878)\n    at\n  org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:376)\n    at\n  org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n    at\n  org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n    at\n  org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5322)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more</p>\n  \n  <p>Nov 02, 2015 9:50:09 AM org.apache.catalina.core.ApplicationContext\n  log INFO: No Spring WebApplicationInitializer types detected on\n  classpath Nov 02, 2015 9:50:09 AM\n  org.apache.catalina.core.ApplicationContext log INFO: Set web app root\n  system property: 'webapp.root' =\n  [C:\\Users\\syed\\Documents.metadata.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\LorryHub]\n  Nov 02, 2015 9:50:09 AM org.apache.catalina.core.ApplicationContext\n  log INFO: Initializing log4j from\n  [C:\\Users\\syed\\Documents.metadata.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\LorryHub\\WEB-INF\\log4j.lorryhub.properties]\n  log4j:ERROR setFile(null,true) call failed.\n  java.io.FileNotFoundException: C:\\Users\\LorryHub\\lorryhub.log (The\n  system cannot find the path specified)    at\n  java.io.FileOutputStream.open(Native Method)  at\n  java.io.FileOutputStream.(Unknown Source)   at\n  java.io.FileOutputStream.(Unknown Source)   at\n  org.apache.log4j.FileAppender.setFile(FileAppender.java:294)  at\n  org.apache.log4j.RollingFileAppender.setFile(RollingFileAppender.java:207)\n    at\n  org.apache.log4j.FileAppender.activateOptions(FileAppender.java:165)\n    at\n  org.apache.log4j.config.PropertySetter.activate(PropertySetter.java:307)\n    at\n  org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:172)\n    at\n  org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:104)\n    at\n  org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:842)\n    at\n  org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:768)\n    at\n  org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:648)\n    at\n  org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:514)\n    at\n  org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:580)\n    at\n  org.apache.log4j.PropertyConfigurator.configure(PropertyConfigurator.java:415)\n    at\n  org.springframework.util.Log4jConfigurer.initLogging(Log4jConfigurer.java:72)\n    at\n  org.springframework.web.util.Log4jWebConfigurer.initLogging(Log4jWebConfigurer.java:152)\n    at\n  org.springframework.web.util.Log4jConfigListener.contextInitialized(Log4jConfigListener.java:45)\n    at\n  org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4939)\n    at\n  org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5434)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(Unknown Source)  at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)     at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)    at\n  java.lang.Thread.run(Unknown Source) Nov 02, 2015 9:50:10 AM\n  org.apache.catalina.core.ApplicationContext log INFO: Initializing\n  Spring FrameworkServlet 'MainWeb' Nov 02, 2015 9:50:18 AM\n  org.apache.catalina.core.ContainerBase startInternal SEVERE: A child\n  container failed during start java.util.concurrent.ExecutionException:\n  org.apache.catalina.LifecycleException: Failed to start component\n  [StandardEngine[Catalina].StandardHost[localhost]]    at\n  java.util.concurrent.FutureTask.report(Unknown Source)    at\n  java.util.concurrent.FutureTask.get(Unknown Source)   at\n  org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\n    at\n  org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at\n  org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at\n  org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:691)    at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)   at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)   at\n  java.lang.reflect.Method.invoke(Unknown Source)   at\n  org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)   at\n  org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456) Caused\n  by: org.apache.catalina.LifecycleException: Failed to start component\n  [StandardEngine[Catalina].StandardHost[localhost]]    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at\n  org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(Unknown Source)  at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)     at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)    at\n  java.lang.Thread.run(Unknown Source) Caused by:\n  org.apache.catalina.LifecycleException: A child container failed\n  during start  at\n  org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\n    at  </p>\n  \n  <p>org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more</p>\n  \n  <p>Nov 02, 2015 9:50:18 AM org.apache.catalina.startup.Catalina start\n  SEVERE: The required Server component failed to start so Tomcat is\n  unable to start. org.apache.catalina.LifecycleException: Failed to\n  start component [StandardServer[8005]]    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:691)    at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)   at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)   at\n  java.lang.reflect.Method.invoke(Unknown Source)   at\n  org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)   at\n  org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456) Caused\n  by: org.apache.catalina.LifecycleException: Failed to start component\n  [StandardService[Catalina]]   at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at\n  org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 7 more Caused by: org.apache.catalina.LifecycleException: Failed\n  to start component [StandardEngine[Catalina]]     at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at\n  org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 9 more Caused by: org.apache.catalina.LifecycleException: A child\n  container failed during start     at\n  org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\n    at\n  org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\n    at\n  org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 11 more</p>\n</blockquote>\n\n<p>Thanks</p>\n"},{"tags":["java","random","duplicates","subset"],"comments":[{"owner":{"account_id":15638210,"reputation":4538,"user_id":11282404,"display_name":"jpmarinier"},"score":1,"creation_date":1653302787,"post_id":72347015,"comment_id":127810289,"body_markdown":"If the goal is efficiency, did you consider selecting your N random integers by running the [Fisher-Yates algorithm](https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle) for just N steps ?","body":"If the goal is efficiency, did you consider selecting your N random integers by running the <a href=\"https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\" rel=\"nofollow noreferrer\">Fisher-Yates algorithm</a> for just N steps ?"}],"answers":[{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653302985,"creation_date":1653302556,"answer_id":72347196,"question_id":72347015,"body_markdown":"You can use `Collections.shuffle` which is exactly for these purposes.\r\n\r\nFor example:\r\n```java\r\nString[] strings = new String[] {\r\n     &quot;foo&quot;, &quot;bar&quot;, &quot;toto&quot;, &quot;fox&quot;, &quot;koukou&quot;, &quot;bar&quot;, &quot;Bar&quot; \r\n} ;\r\n\r\n// Filter-out duplicates, then shuffle\r\nfinal List&lt;String&gt; stringsList = Arrays.stream(strings)\r\n    .distinct().collect(Collectors.toList());\r\nCollections.shuffle(stringsList);\r\n// Take a sample\r\nfinal int k = 3; // the sample size\r\nList&lt;String&gt; sample = stringsList.subList(0, k); // this is a view, not another list\r\nSystem.err.println(sample);\r\n```\r\n\r\nIf we did not care about duplicates, things would be a bit simpler and shuffling could be performed on the original array (then, we could just pick first k elements):\r\n```java\r\nCollections.shuffle(Arrays.asList(strings));\r\n```","title":"Java best way to select random subset from an array of strings with no duplicates","body":"<p>You can use <code>Collections.shuffle</code> which is exactly for these purposes.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] strings = new String[] {\n     &quot;foo&quot;, &quot;bar&quot;, &quot;toto&quot;, &quot;fox&quot;, &quot;koukou&quot;, &quot;bar&quot;, &quot;Bar&quot; \n} ;\n\n// Filter-out duplicates, then shuffle\nfinal List&lt;String&gt; stringsList = Arrays.stream(strings)\n    .distinct().collect(Collectors.toList());\nCollections.shuffle(stringsList);\n// Take a sample\nfinal int k = 3; // the sample size\nList&lt;String&gt; sample = stringsList.subList(0, k); // this is a view, not another list\nSystem.err.println(sample);\n</code></pre>\n<p>If we did not care about duplicates, things would be a bit simpler and shuffling could be performed on the original array (then, we could just pick first k elements):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.shuffle(Arrays.asList(strings));\n</code></pre>\n"}],"owner":{"account_id":23179033,"reputation":37,"user_id":17277109,"display_name":"searchbruh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72347196,"answer_count":1,"score":0,"last_activity_date":1653302985,"creation_date":1653301704,"question_id":72347015,"body_markdown":"Looking for a more efficient way to select a random subset of elements (no duplicates) from an array of strings. \r\n\r\n``` \r\npublic static String randomReturnArray(String inputArray[]) {\r\n\r\n    String[] tmpInputArr = Arrays.copyOf(inputArray, inputArray.length);\r\n\r\n    Random r = new Random();\r\n    int inMin = 0;\r\n    int inMax = inputArray.length;\r\n    int numOfMarkings = r.nextInt((inMax - inMin) + 1) + inMin;\r\n    int[] arrOfInputIndexes = new int[numOfMarkings];\r\n\r\n    for (int d = 0; d &lt; numOfMarkings; d++) {\r\n        Random f = new Random();\r\n        int index = f.nextInt(inputArray.length);\r\n        arrOfInputIndexes[d] = index;\r\n    }\r\n\r\n    for (int i = 0; i &lt; arrOfInputIndexes.length - 1; i++) {\r\n        for (int j = i + 1; j &lt; arrOfInputIndexes.length; j++) {\r\n            if (arrOfInputIndexes[i] == arrOfInputIndexes[j]) {\r\n                arrOfInputIndexes = ArrayUtils.remove(arrOfInputIndexes, j);\r\n            }\r\n        }\r\n    }\r\n\r\n    String[] finalArray = new String[arrOfInputIndexes.length];\r\n    for (int l = 0; l &lt; arrOfInputIndexes.length; l++) {\r\n        int temp = arrOfInputIndexes[l];\r\n        finalArray[l] = tmpInputArr[temp];\r\n    }\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n    for (String marking : finalArray) {\r\n        builder.append(marking);\r\n        builder.append(&quot; &quot;);\r\n    }\r\n    String finalArray = builder.toString();\r\n\r\n    return finalArray;\r\n} \r\n```\r\n\r\nHere the thought process: \r\n1. Create supporting vars - a new array of random length (less than input.length)\r\n2. fill array with random integers\r\n3. remove duplicates\r\n4. grab the values from the input array at the index of the random integers\r\n5. build string and return\r\n\r\n\r\nMuch appreciated.","title":"Java best way to select random subset from an array of strings with no duplicates","body":"<p>Looking for a more efficient way to select a random subset of elements (no duplicates) from an array of strings.</p>\n<pre><code>public static String randomReturnArray(String inputArray[]) {\n\n    String[] tmpInputArr = Arrays.copyOf(inputArray, inputArray.length);\n\n    Random r = new Random();\n    int inMin = 0;\n    int inMax = inputArray.length;\n    int numOfMarkings = r.nextInt((inMax - inMin) + 1) + inMin;\n    int[] arrOfInputIndexes = new int[numOfMarkings];\n\n    for (int d = 0; d &lt; numOfMarkings; d++) {\n        Random f = new Random();\n        int index = f.nextInt(inputArray.length);\n        arrOfInputIndexes[d] = index;\n    }\n\n    for (int i = 0; i &lt; arrOfInputIndexes.length - 1; i++) {\n        for (int j = i + 1; j &lt; arrOfInputIndexes.length; j++) {\n            if (arrOfInputIndexes[i] == arrOfInputIndexes[j]) {\n                arrOfInputIndexes = ArrayUtils.remove(arrOfInputIndexes, j);\n            }\n        }\n    }\n\n    String[] finalArray = new String[arrOfInputIndexes.length];\n    for (int l = 0; l &lt; arrOfInputIndexes.length; l++) {\n        int temp = arrOfInputIndexes[l];\n        finalArray[l] = tmpInputArr[temp];\n    }\n\n    StringBuilder builder = new StringBuilder();\n    for (String marking : finalArray) {\n        builder.append(marking);\n        builder.append(&quot; &quot;);\n    }\n    String finalArray = builder.toString();\n\n    return finalArray;\n} \n</code></pre>\n<p>Here the thought process:</p>\n<ol>\n<li>Create supporting vars - a new array of random length (less than input.length)</li>\n<li>fill array with random integers</li>\n<li>remove duplicates</li>\n<li>grab the values from the input array at the index of the random integers</li>\n<li>build string and return</li>\n</ol>\n<p>Much appreciated.</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1456084808,"post_id":35540765,"comment_id":58771109,"body_markdown":"The support is correct: it is unrelated to the certificate. Instead it depends on the ciphers and protocol versions configured at client and server which themselves might depend on the version and configuration of Java or whatever your client uses etc. The information you provide are not sufficient to know where the problem really is, but it is not the certificate.","body":"The support is correct: it is unrelated to the certificate. Instead it depends on the ciphers and protocol versions configured at client and server which themselves might depend on the version and configuration of Java or whatever your client uses etc. The information you provide are not sufficient to know where the problem really is, but it is not the certificate."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1456101097,"post_id":35540765,"comment_id":58776781,"body_markdown":"You put your key in `shemo_wildcard` and then the cert in `shemo_wildCard.jks` which is different. You need to use **exactly the same keystore (file) AND alias** for the key and cert. Also your Connector is configured to use `cacerts.jks` in the JRE directory, which is different again; it should be the **same single file**.","body":"You put your key in <code>shemo_wildcard</code> and then the cert in <code>shemo_wildCard.jks</code> which is different. You need to use <b>exactly the same keystore (file) AND alias</b> for the key and cert. Also your Connector is configured to use <code>cacerts.jks</code> in the JRE directory, which is different again; it should be the <b>same single file</b>."}],"answers":[{"tags":[],"owner":{"account_id":169201,"reputation":3016,"user_id":395148,"accept_rate":100,"display_name":"Nappy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1456172409,"creation_date":1456170493,"answer_id":35562514,"question_id":35540765,"body_markdown":"Let me try to give a general explanation for this issue:\r\n\r\nA server usually supports different SSL protocol versions (SSLv3, TLS1.0, TLS1.1, TLS1.2), and a bunch of different ciphers.\r\n\r\nDuring the handshake client and server negotiate one protocol version and one cipher to be used.\r\n\r\nIf there is a mismatch, that means your server is configured to only support TLS1.2, but your client is only capable of TLS1.0 for example, or that the client and server have not a single cipher that both support.\r\n\r\nI never used Tomcat, but a quick look at https://tomcat.apache.org/tomcat-8.0-doc/security-howto.html tells me that the `sslEnabledProtocols` and `ciphers` arguments might be of interest to you:\r\n\r\n    \r\n\r\n&gt; The **sslEnabledProtocols** attribute determines which versions of the SSL/TLS protocol are used. Since the POODLE attack in 2014, all SSL protocols are considered unsafe and a secure setting for this attribute in a standalone Tomcat setup might be sslEnabledProtocols=&quot;TLSv1,TLSv1.1,TLSv1.2&quot;\r\n\r\n&gt; The **ciphers** attribute controls the ciphers used for SSL connections. By default, the default ciphers for the JVM will be used. This usually means that the weak export grade ciphers will be included in the list of available ciphers. Secure environments will normally want to configure a more limited set of ciphers. This attribute accepts the OpenSSL syntax for including/excluding cipher suites. As of 2014-11-19, with standalone Tomcat 8 and Java 8, Forward Secrecy can be achieved by specifying only TLS protocols using the sslEnabledProtocols attribute (above) and excluding non-DH ciphers, and weak/broken ciphers. The Qualys SSL/TLS test is a useful tool for configuring these settings.\r\n\r\nBut since by default it already uses very conservative/compatible settings, I cannot really tell where the source of your issue is, maybe you have some global setting override somewhere. Also you have not mentioned which client you used to get that specific error code. Maybe just remove `sslProtocol=&quot;TLS&quot;`, assuming your client only supports SSLv3.","title":"Tomcat 8 ERR_SSL_VERSION_OR_CIPHER_MISMATCH","body":"<p>Let me try to give a general explanation for this issue:</p>\n\n<p>A server usually supports different SSL protocol versions (SSLv3, TLS1.0, TLS1.1, TLS1.2), and a bunch of different ciphers.</p>\n\n<p>During the handshake client and server negotiate one protocol version and one cipher to be used.</p>\n\n<p>If there is a mismatch, that means your server is configured to only support TLS1.2, but your client is only capable of TLS1.0 for example, or that the client and server have not a single cipher that both support.</p>\n\n<p>I never used Tomcat, but a quick look at <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/security-howto.html\" rel=\"noreferrer\">https://tomcat.apache.org/tomcat-8.0-doc/security-howto.html</a> tells me that the <code>sslEnabledProtocols</code> and <code>ciphers</code> arguments might be of interest to you:</p>\n\n<blockquote>\n  <p>The <strong>sslEnabledProtocols</strong> attribute determines which versions of the SSL/TLS protocol are used. Since the POODLE attack in 2014, all SSL protocols are considered unsafe and a secure setting for this attribute in a standalone Tomcat setup might be sslEnabledProtocols=\"TLSv1,TLSv1.1,TLSv1.2\"</p>\n  \n  <p>The <strong>ciphers</strong> attribute controls the ciphers used for SSL connections. By default, the default ciphers for the JVM will be used. This usually means that the weak export grade ciphers will be included in the list of available ciphers. Secure environments will normally want to configure a more limited set of ciphers. This attribute accepts the OpenSSL syntax for including/excluding cipher suites. As of 2014-11-19, with standalone Tomcat 8 and Java 8, Forward Secrecy can be achieved by specifying only TLS protocols using the sslEnabledProtocols attribute (above) and excluding non-DH ciphers, and weak/broken ciphers. The Qualys SSL/TLS test is a useful tool for configuring these settings.</p>\n</blockquote>\n\n<p>But since by default it already uses very conservative/compatible settings, I cannot really tell where the source of your issue is, maybe you have some global setting override somewhere. Also you have not mentioned which client you used to get that specific error code. Maybe just remove <code>sslProtocol=\"TLS\"</code>, assuming your client only supports SSLv3.</p>\n"},{"tags":[],"owner":{"account_id":12863159,"reputation":1223,"user_id":9304296,"display_name":"Bernard Moeskops"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547195264,"creation_date":1547195264,"answer_id":54142807,"question_id":35540765,"body_markdown":"The answer @Nappy gave is correct and very useful. However it did not solve my problem, I got the same error message and in my case it was due to the private key not being loaded to my keystore. Because I always have a hard time installing SSL certificates to Tomcat on Windows, I found a solution for myself which might help others.\r\n\r\nBecause I have a wildcard certificate with the private key included (*.pfx). You can just install that certificate, add the path to that certificate in the server.xml and add the corresponding password to the file. Also add a line to declare the type of keystore between File and Pass:\r\n\r\n    keystoreFile=&quot;C:\\Users\\Your\\Certificate.pfx&quot;\r\n    keystoreType=&quot;pkcs12&quot;\r\n    keystorePass=&quot;Password123&quot; sslProtocol = &quot;TLS&quot;  \r\n\r\nTo me this is way easier than installing everything to the Tomcat keystore with the keytool. \r\n\r\nHope this helps!\r\n\r\n","title":"Tomcat 8 ERR_SSL_VERSION_OR_CIPHER_MISMATCH","body":"<p>The answer @Nappy gave is correct and very useful. However it did not solve my problem, I got the same error message and in my case it was due to the private key not being loaded to my keystore. Because I always have a hard time installing SSL certificates to Tomcat on Windows, I found a solution for myself which might help others.</p>\n\n<p>Because I have a wildcard certificate with the private key included (*.pfx). You can just install that certificate, add the path to that certificate in the server.xml and add the corresponding password to the file. Also add a line to declare the type of keystore between File and Pass:</p>\n\n<pre><code>keystoreFile=\"C:\\Users\\Your\\Certificate.pfx\"\nkeystoreType=\"pkcs12\"\nkeystorePass=\"Password123\" sslProtocol = \"TLS\"  \n</code></pre>\n\n<p>To me this is way easier than installing everything to the Tomcat keystore with the keytool. </p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":16362450,"reputation":93,"user_id":11817684,"display_name":"Adam H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653302697,"creation_date":1653302697,"answer_id":72347234,"question_id":35540765,"body_markdown":"I had this problem recently, here is another possible solution.\r\n\r\nMy problem was in fact due to 2 things:\r\n\r\n1. Update Java 6, which doesn&#39;t support TLS 1.2, to Java 8 (1.8.0_333)\r\n2. Modified the server.xml of my Tomcat to force TLSv1.2\r\n   - Before: clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;\r\n   - After:  clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; sslEnabledProtocols=&quot;TLSv1.2&quot;\r\n\r\nHope this might help someone that is having a similar problem resolve it quicker than I did .\r\n\r\nCheers. ","title":"Tomcat 8 ERR_SSL_VERSION_OR_CIPHER_MISMATCH","body":"<p>I had this problem recently, here is another possible solution.</p>\n<p>My problem was in fact due to 2 things:</p>\n<ol>\n<li>Update Java 6, which doesn't support TLS 1.2, to Java 8 (1.8.0_333)</li>\n<li>Modified the server.xml of my Tomcat to force TLSv1.2\n<ul>\n<li>Before: clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot;</li>\n<li>After:  clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; sslEnabledProtocols=&quot;TLSv1.2&quot;</li>\n</ul>\n</li>\n</ol>\n<p>Hope this might help someone that is having a similar problem resolve it quicker than I did .</p>\n<p>Cheers.</p>\n"}],"owner":{"account_id":5203431,"reputation":973,"user_id":4162134,"accept_rate":57,"display_name":"Irakli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14940,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1653302697,"creation_date":1456082271,"question_id":35540765,"body_markdown":"I have bought wildcard SSL from ssl2buy. installed it on my Tomcat 8  - server 2012 server, there I run my Java applications. After I insttaled the certificate I receive such error message : ERR_SSL_VERSION_OR_CIPHER_MISMATCH\r\n\r\nsupport tolled me: \r\n\r\n&quot;Cipher and protocol issue is not related to SSL certificate, its about protocol and cipher settings. You should update the correct cipher security settings.&quot;\r\n\r\nafter telling me this support go offline and my ticket that I opened is not answered :D So maybe someone here will be able to help me.\r\n\r\n\r\nthis steps I used to create jks file:\r\n\r\n    keytool -genkey -alias ge.shemo -keyalg RSA -keystore shemo_wildcard\r\n\r\n    keytool -certreq -keyalg RSA -alias ge.shemo -file irakli.csr -keystore shemo_wildcard\r\n\r\n    keytool -importcert -file shemo_Wildcart.cer -keystore shemo_wildCard.jks -alias &quot;ge.shemo&quot;\r\n\r\n\r\nCan someone please tell me what I have done wrong? or what I need to change?\r\n\r\n\r\n\r\n**UPDATED**\r\n\r\nI started everything from the begining:\r\n\r\nHere are the steps I followed.\r\n\r\n1. bought certificate from ssl2buy.com\r\n\r\n2. generated csr :\r\n\r\n        keytool -keysize 3096 -genkey -alias *.shemo.ge -keyalg RSA -keystore tomcat8.keystore\r\n\r\npass: TesT123\r\n\r\n    keytool -certreq -keyalg RSA -alias *.shemo.ge -file tomcat8.csr -keystore tomcat8.keystore\r\n\r\nGenerated csr:\r\n\r\n    -----BEGIN NEW CERTIFICATE REQUEST-----\r\n    MIID4TCCAkYCAQAwZjELMAkGA1UEBhMCR0UxEDAOBgNVBAgTB3RiaWxpc2kxEDAOBgNVBAcTB3Ri\r\n    aWxpc2kxDjAMBgNVBAoTBXNoZW1vMQ4wDAYDVQQLEwVzaGVtbzETMBEGA1UEAwwKKi5zaGVtby5n\r\n    ZTCCAaUwDQYJKoZIhvcNAQEBBQADggGSADCCAY0CggGEAODEEKcJJ7AccanmeIIpAAG2ES6hCAIM\r\n    eiFe7WfJtFydDvGAUS9DhKpwW1CtYT3i0vhmbYZxxGc5FK9bHYtHwPtV/Yhptqi+xzk1eFkZxcvo\r\n    7dLNQGo73PfqPE1ikHrlyTffYB+/JEbBglxsem3tfjPpnb+SoiJ4sq5RFNB/Zm45etnlpdEnsRxC\r\n    dAEIUXzCaCnfR6nB5547BMOqmqTJxwB/BRoYLDmZoloJ/PsPTMIruKo7SzMQAkCLZ0J+S24Ihfei\r\n    95Y7n5XRxYdWOKBS5LUWJXpWEkiGmfP0ombV0l7YW2Fb/nJEjASLSNSliTE2yXRV4P8lT2BZbVL6\r\n    8O5UMCexD6Xa33n4HMn94ZsfnQuZSHF0YWYK9No6Cs2Tc9F0OR3dQlOj1Xht9Q5vmg/6B/ooRaJB\r\n    XmyJRPAxOe1WGzsr2ElbGu7CS9XMVY7VU+5fi3ojRbU1m0d7gLG6QEmuaR7Ti+wT28LUL44ezVtY\r\n    bOGW3peXxgw/SKm18D4ue+ArWTgwFQIDAQABoDAwLgYJKoZIhvcNAQkOMSEwHzAdBgNVHQ4EFgQU\r\n    BDAEJE34muDqTKxiUm30R+ZJW8cwDQYJKoZIhvcNAQELBQADggGEAHmu5dxjHgyh2BwDuqTN7l5t\r\n    oa+lQBQxDZBtZpduAulm3a2Dt8qELy3VF3IZLa2bWrG/91zoZWJCgCLva9uq7Yq9aUtJau0CebnJ\r\n    eWZ2XjiwJ/6ZvO12Y9Nc9oISFF9mswdXLOm7EHAXVfttRG4itgsNnTVziX2nynQPwN/1k9F4MysD\r\n    dVeBRyoY1QctWW1rj3cuZdz+vs4x9uWd+Wew4+GPzicq4hkGBLhvARP1WP0yUoU9+s60l6oqqFPY\r\n    prY/245XcXCEbiqtlMrnKFJ0quokpIgmb03ak1AyqDNTy6L1z1mKl3suQd0VR8TzLDEYp8j+lq3t\r\n    usOhT4SDMp4fPRcBCfFlmjpvGZ2lWZ3ewadldxifbG/xC4mAyLHHj9Px+/sU44gQ6qOk2rhYGI16\r\n    nsaHTADSYUfKOCzcZB7kPbG6rZojVLL8dpRNCfJdZWZXPRjMHBQWkdGaU6MbG2LUOKp5oB540QKX\r\n    3I/QR6g8fgN4JCuzAjxxbxlG42y4N5hsWhnt2Q==\r\n    -----END NEW CERTIFICATE REQUEST-----\r\n\r\n\r\n\r\nReceived certificate via Email. Created file called it tomcat8.cer with fllowing code\r\n\r\nReceived certificate:\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    MIIFSzCCBDOgAwIBAgISESHnxxQ9Z9905TDRC/T5a1nPMA0GCSqGSIb3DQEBCwUA\r\n    MEwxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWduIG52LXNhMSIwIAYD\r\n    VQQDExlBbHBoYVNTTCBDQSAtIFNIQTI1NiAtIEcyMB4XDTE2MDIyMjE1NDIwNVoX\r\n    DTE3MDIyMDA3MzcyNFowODEhMB8GA1UECxMYRG9tYWluIENvbnRyb2wgVmFsaWRh\r\n    dGVkMRMwEQYDVQQDDAoqLnNoZW1vLmdlMIIBpTANBgkqhkiG9w0BAQEFAAOCAZIA\r\n    MIIBjQKCAYQA4MQQpwknsBxxqeZ4gikAAbYRLqEIAgx6IV7tZ8m0XJ0O8YBRL0OE\r\n    qnBbUK1hPeLS+GZthnHEZzkUr1sdi0fA+1X9iGm2qL7HOTV4WRnFy+jt0s1Aajvc\r\n    9+o8TWKQeuXJN99gH78kRsGCXGx6be1+M+mdv5KiIniyrlEU0H9mbjl62eWl0Sex\r\n    HEJ0AQhRfMJoKd9HqcHnnjsEw6qapMnHAH8FGhgsOZmiWgn8+w9Mwiu4qjtLMxAC\r\n    QItnQn5LbgiF96L3ljufldHFh1Y4oFLktRYlelYSSIaZ8/SiZtXSXthbYVv+ckSM\r\n    BItI1KWJMTbJdFXg/yVPYFltUvrw7lQwJ7EPpdrfefgcyf3hmx+dC5lIcXRhZgr0\r\n    2joKzZNz0XQ5Hd1CU6PVeG31Dm+aD/oH+ihFokFebIlE8DE57VYbOyvYSVsa7sJL\r\n    1cxVjtVT7l+LeiNFtTWbR3uAsbpASa5pHtOL7BPbwtQvjh7NW1hs4Zbel5fGDD9I\r\n    qbXwPi574CtZODAVAgMBAAGjggG2MIIBsjAOBgNVHQ8BAf8EBAMCBaAwSQYDVR0g\r\n    BEIwQDA+BgZngQwBAgEwNDAyBggrBgEFBQcCARYmaHR0cHM6Ly93d3cuZ2xvYmFs\r\n    c2lnbi5jb20vcmVwb3NpdG9yeS8wHwYDVR0RBBgwFoIKKi5zaGVtby5nZYIIc2hl\r\n    bW8uZ2UwCQYDVR0TBAIwADAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIw\r\n    PgYDVR0fBDcwNTAzoDGgL4YtaHR0cDovL2NybDIuYWxwaGFzc2wuY29tL2dzL2dz\r\n    YWxwaGFzaGEyZzIuY3JsMIGJBggrBgEFBQcBAQR9MHswQgYIKwYBBQUHMAKGNmh0\r\n    dHA6Ly9zZWN1cmUyLmFscGhhc3NsLmNvbS9jYWNlcnQvZ3NhbHBoYXNoYTJnMnIx\r\n    LmNydDA1BggrBgEFBQcwAYYpaHR0cDovL29jc3AyLmdsb2JhbHNpZ24uY29tL2dz\r\n    YWxwaGFzaGEyZzIwHQYDVR0OBBYEFAQwBCRN+Jrg6kysYlJt9EfmSVvHMB8GA1Ud\r\n    IwQYMBaAFPXN1TwIUPlqTzq3l9pWg+Zp0mj3MA0GCSqGSIb3DQEBCwUAA4IBAQB6\r\n    stii/rEwoUTd2dIqnwmYB6k6hH9Nn8VAsd1sLYNmK+LctDGLqc+uYyWcFbsDcWYA\r\n    aVd8OtxFLZWjubvj/RH+qQAonPNj2Q7zdk5KW05EaMtezGLPiPq1KT2Zw83xj20y\r\n    +lHRa+aZL7VoTgO0Ud86rpzKnVNHwG90k5HR9LtnsWNc56xzXOul/ws1d6gSGWi2\r\n    YOkMrPaDwJst84+hxPOv9ZHXJNos6QmX8eJXlQfIeRcFwc5/A3ghCvMO0Z3NdYdu\r\n    f7Lk92M/kPBz0aDgBSD9fH0lR1PcuPBDe972FwVieN7ynup2RVKPrpW13t1F2RmI\r\n    Xyk5F2qTpY588dTiMihC\r\n    -----END CERTIFICATE-----\r\n\r\nThen did following :\r\n\r\n    keytool -import -alias root -keystore tomcat8.keystore -trustcacerts -file tomcat8.cer\r\n\r\n    keytool -import -alias intermed -keystore tomcat8.keystore -trustcacerts -file tomcat8.cer\r\n\r\n    keytool -importcert -file tomcat8.cer -keystore twix.jks -alias *.shemo.ge\r\n\r\n\r\nHere is my connector:\r\n\r\n     Connector port=&quot;443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n               clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; keystoreFile =&quot;C:\\Program Files (x86)\\Java\\jdk1.7.0_79\\bin\\twix.jks&quot;  keystorePass=&quot;TesT123&quot;/&gt;\r\n\r\n\r\n\r\nAfter all I restarted the server and still receive this eror:\r\n\r\n    ERR_SSL_VERSION_OR_CIPHER_MISMATCH","title":"Tomcat 8 ERR_SSL_VERSION_OR_CIPHER_MISMATCH","body":"<p>I have bought wildcard SSL from ssl2buy. installed it on my Tomcat 8  - server 2012 server, there I run my Java applications. After I insttaled the certificate I receive such error message : ERR_SSL_VERSION_OR_CIPHER_MISMATCH</p>\n\n<p>support tolled me: </p>\n\n<p>\"Cipher and protocol issue is not related to SSL certificate, its about protocol and cipher settings. You should update the correct cipher security settings.\"</p>\n\n<p>after telling me this support go offline and my ticket that I opened is not answered :D So maybe someone here will be able to help me.</p>\n\n<p>this steps I used to create jks file:</p>\n\n<pre><code>keytool -genkey -alias ge.shemo -keyalg RSA -keystore shemo_wildcard\n\nkeytool -certreq -keyalg RSA -alias ge.shemo -file irakli.csr -keystore shemo_wildcard\n\nkeytool -importcert -file shemo_Wildcart.cer -keystore shemo_wildCard.jks -alias \"ge.shemo\"\n</code></pre>\n\n<p>Can someone please tell me what I have done wrong? or what I need to change?</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>I started everything from the begining:</p>\n\n<p>Here are the steps I followed.</p>\n\n<ol>\n<li><p>bought certificate from ssl2buy.com</p></li>\n<li><p>generated csr :</p>\n\n<pre><code>keytool -keysize 3096 -genkey -alias *.shemo.ge -keyalg RSA -keystore tomcat8.keystore\n</code></pre></li>\n</ol>\n\n<p>pass: TesT123</p>\n\n<pre><code>keytool -certreq -keyalg RSA -alias *.shemo.ge -file tomcat8.csr -keystore tomcat8.keystore\n</code></pre>\n\n<p>Generated csr:</p>\n\n<pre><code>-----BEGIN NEW CERTIFICATE REQUEST-----\nMIID4TCCAkYCAQAwZjELMAkGA1UEBhMCR0UxEDAOBgNVBAgTB3RiaWxpc2kxEDAOBgNVBAcTB3Ri\naWxpc2kxDjAMBgNVBAoTBXNoZW1vMQ4wDAYDVQQLEwVzaGVtbzETMBEGA1UEAwwKKi5zaGVtby5n\nZTCCAaUwDQYJKoZIhvcNAQEBBQADggGSADCCAY0CggGEAODEEKcJJ7AccanmeIIpAAG2ES6hCAIM\neiFe7WfJtFydDvGAUS9DhKpwW1CtYT3i0vhmbYZxxGc5FK9bHYtHwPtV/Yhptqi+xzk1eFkZxcvo\n7dLNQGo73PfqPE1ikHrlyTffYB+/JEbBglxsem3tfjPpnb+SoiJ4sq5RFNB/Zm45etnlpdEnsRxC\ndAEIUXzCaCnfR6nB5547BMOqmqTJxwB/BRoYLDmZoloJ/PsPTMIruKo7SzMQAkCLZ0J+S24Ihfei\n95Y7n5XRxYdWOKBS5LUWJXpWEkiGmfP0ombV0l7YW2Fb/nJEjASLSNSliTE2yXRV4P8lT2BZbVL6\n8O5UMCexD6Xa33n4HMn94ZsfnQuZSHF0YWYK9No6Cs2Tc9F0OR3dQlOj1Xht9Q5vmg/6B/ooRaJB\nXmyJRPAxOe1WGzsr2ElbGu7CS9XMVY7VU+5fi3ojRbU1m0d7gLG6QEmuaR7Ti+wT28LUL44ezVtY\nbOGW3peXxgw/SKm18D4ue+ArWTgwFQIDAQABoDAwLgYJKoZIhvcNAQkOMSEwHzAdBgNVHQ4EFgQU\nBDAEJE34muDqTKxiUm30R+ZJW8cwDQYJKoZIhvcNAQELBQADggGEAHmu5dxjHgyh2BwDuqTN7l5t\noa+lQBQxDZBtZpduAulm3a2Dt8qELy3VF3IZLa2bWrG/91zoZWJCgCLva9uq7Yq9aUtJau0CebnJ\neWZ2XjiwJ/6ZvO12Y9Nc9oISFF9mswdXLOm7EHAXVfttRG4itgsNnTVziX2nynQPwN/1k9F4MysD\ndVeBRyoY1QctWW1rj3cuZdz+vs4x9uWd+Wew4+GPzicq4hkGBLhvARP1WP0yUoU9+s60l6oqqFPY\nprY/245XcXCEbiqtlMrnKFJ0quokpIgmb03ak1AyqDNTy6L1z1mKl3suQd0VR8TzLDEYp8j+lq3t\nusOhT4SDMp4fPRcBCfFlmjpvGZ2lWZ3ewadldxifbG/xC4mAyLHHj9Px+/sU44gQ6qOk2rhYGI16\nnsaHTADSYUfKOCzcZB7kPbG6rZojVLL8dpRNCfJdZWZXPRjMHBQWkdGaU6MbG2LUOKp5oB540QKX\n3I/QR6g8fgN4JCuzAjxxbxlG42y4N5hsWhnt2Q==\n-----END NEW CERTIFICATE REQUEST-----\n</code></pre>\n\n<p>Received certificate via Email. Created file called it tomcat8.cer with fllowing code</p>\n\n<p>Received certificate:</p>\n\n<pre><code>-----BEGIN CERTIFICATE-----\nMIIFSzCCBDOgAwIBAgISESHnxxQ9Z9905TDRC/T5a1nPMA0GCSqGSIb3DQEBCwUA\nMEwxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWduIG52LXNhMSIwIAYD\nVQQDExlBbHBoYVNTTCBDQSAtIFNIQTI1NiAtIEcyMB4XDTE2MDIyMjE1NDIwNVoX\nDTE3MDIyMDA3MzcyNFowODEhMB8GA1UECxMYRG9tYWluIENvbnRyb2wgVmFsaWRh\ndGVkMRMwEQYDVQQDDAoqLnNoZW1vLmdlMIIBpTANBgkqhkiG9w0BAQEFAAOCAZIA\nMIIBjQKCAYQA4MQQpwknsBxxqeZ4gikAAbYRLqEIAgx6IV7tZ8m0XJ0O8YBRL0OE\nqnBbUK1hPeLS+GZthnHEZzkUr1sdi0fA+1X9iGm2qL7HOTV4WRnFy+jt0s1Aajvc\n9+o8TWKQeuXJN99gH78kRsGCXGx6be1+M+mdv5KiIniyrlEU0H9mbjl62eWl0Sex\nHEJ0AQhRfMJoKd9HqcHnnjsEw6qapMnHAH8FGhgsOZmiWgn8+w9Mwiu4qjtLMxAC\nQItnQn5LbgiF96L3ljufldHFh1Y4oFLktRYlelYSSIaZ8/SiZtXSXthbYVv+ckSM\nBItI1KWJMTbJdFXg/yVPYFltUvrw7lQwJ7EPpdrfefgcyf3hmx+dC5lIcXRhZgr0\n2joKzZNz0XQ5Hd1CU6PVeG31Dm+aD/oH+ihFokFebIlE8DE57VYbOyvYSVsa7sJL\n1cxVjtVT7l+LeiNFtTWbR3uAsbpASa5pHtOL7BPbwtQvjh7NW1hs4Zbel5fGDD9I\nqbXwPi574CtZODAVAgMBAAGjggG2MIIBsjAOBgNVHQ8BAf8EBAMCBaAwSQYDVR0g\nBEIwQDA+BgZngQwBAgEwNDAyBggrBgEFBQcCARYmaHR0cHM6Ly93d3cuZ2xvYmFs\nc2lnbi5jb20vcmVwb3NpdG9yeS8wHwYDVR0RBBgwFoIKKi5zaGVtby5nZYIIc2hl\nbW8uZ2UwCQYDVR0TBAIwADAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIw\nPgYDVR0fBDcwNTAzoDGgL4YtaHR0cDovL2NybDIuYWxwaGFzc2wuY29tL2dzL2dz\nYWxwaGFzaGEyZzIuY3JsMIGJBggrBgEFBQcBAQR9MHswQgYIKwYBBQUHMAKGNmh0\ndHA6Ly9zZWN1cmUyLmFscGhhc3NsLmNvbS9jYWNlcnQvZ3NhbHBoYXNoYTJnMnIx\nLmNydDA1BggrBgEFBQcwAYYpaHR0cDovL29jc3AyLmdsb2JhbHNpZ24uY29tL2dz\nYWxwaGFzaGEyZzIwHQYDVR0OBBYEFAQwBCRN+Jrg6kysYlJt9EfmSVvHMB8GA1Ud\nIwQYMBaAFPXN1TwIUPlqTzq3l9pWg+Zp0mj3MA0GCSqGSIb3DQEBCwUAA4IBAQB6\nstii/rEwoUTd2dIqnwmYB6k6hH9Nn8VAsd1sLYNmK+LctDGLqc+uYyWcFbsDcWYA\naVd8OtxFLZWjubvj/RH+qQAonPNj2Q7zdk5KW05EaMtezGLPiPq1KT2Zw83xj20y\n+lHRa+aZL7VoTgO0Ud86rpzKnVNHwG90k5HR9LtnsWNc56xzXOul/ws1d6gSGWi2\nYOkMrPaDwJst84+hxPOv9ZHXJNos6QmX8eJXlQfIeRcFwc5/A3ghCvMO0Z3NdYdu\nf7Lk92M/kPBz0aDgBSD9fH0lR1PcuPBDe972FwVieN7ynup2RVKPrpW13t1F2RmI\nXyk5F2qTpY588dTiMihC\n-----END CERTIFICATE-----\n</code></pre>\n\n<p>Then did following :</p>\n\n<pre><code>keytool -import -alias root -keystore tomcat8.keystore -trustcacerts -file tomcat8.cer\n\nkeytool -import -alias intermed -keystore tomcat8.keystore -trustcacerts -file tomcat8.cer\n\nkeytool -importcert -file tomcat8.cer -keystore twix.jks -alias *.shemo.ge\n</code></pre>\n\n<p>Here is my connector:</p>\n\n<pre><code> Connector port=\"443\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\"\n           maxThreads=\"150\" SSLEnabled=\"true\" scheme=\"https\" secure=\"true\"\n           clientAuth=\"false\" sslProtocol=\"TLS\" keystoreFile =\"C:\\Program Files (x86)\\Java\\jdk1.7.0_79\\bin\\twix.jks\"  keystorePass=\"TesT123\"/&gt;\n</code></pre>\n\n<p>After all I restarted the server and still receive this eror:</p>\n\n<pre><code>ERR_SSL_VERSION_OR_CIPHER_MISMATCH\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1653298364,"post_id":72343157,"comment_id":127808786,"body_markdown":"You are starting a thread which calls another method (please name the methods a bit different instead of changing the case) and ... what do you want to know? Are you facing any kind of issues, any reason to suppose there are concurrency issues?","body":"You are starting a thread which calls another method (please name the methods a bit different instead of changing the case) and ... what do you want to know? Are you facing any kind of issues, any reason to suppose there are concurrency issues?"},{"owner":{"account_id":1069438,"reputation":1413,"user_id":1069073,"accept_rate":96,"display_name":"Count"},"score":0,"creation_date":1653302613,"post_id":72343157,"comment_id":127810223,"body_markdown":"Yes ,Some of the messages are getting missed randomly","body":"Yes ,Some of the messages are getting missed randomly"},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":1,"creation_date":1653306085,"post_id":72343157,"comment_id":127811478,"body_markdown":"@Count -- that&#39;s not likely, and this is not the way to handle this. You should have another process in the same consumer group if you want concurrency. What you&#39;re doing is likely to get things processed out of order (unless that doesn&#39;t matter at all, in which case, fill your boots).","body":"@Count -- that&#39;s not likely, and this is not the way to handle this. You should have another process in the same consumer group if you want concurrency. What you&#39;re doing is likely to get things processed out of order (unless that doesn&#39;t matter at all, in which case, fill your boots)."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1653397258,"post_id":72343157,"comment_id":127838299,"body_markdown":"@Count from your abstract code, messages should not be skipped. Can you update your question with more specific code, and with description on where you have proof of skipped elements? Then we can dig deeper and explain why","body":"@Count from your abstract code, messages should not be skipped. Can you update your question with more specific code, and with description on where you have proof of skipped elements? Then we can dig deeper and explain why"}],"owner":{"account_id":1069438,"reputation":1413,"user_id":1069073,"accept_rate":96,"display_name":"Count"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653302485,"creation_date":1653278656,"question_id":72343157,"body_markdown":"In order to improve the performance of my Kafka listener I want to start a new thread inside my listener code \r\n\r\n    @KafkaListener(\r\n      topics = {&quot;#{&#39;${my-topic}&#39;.split(&#39;,&#39;)}&quot;},\r\n      groupId = &quot;${my-group}&quot;,\r\n      containerFactory = &quot;kafkaListenerContainerFactory1&quot;,\r\n      errorHandler = &quot;kafkaPaasErrorHandler&quot;)\r\n\r\n      public void processmessage(ConsumerRecord&lt;String, MyMessage&gt; consumerRecord){\r\n           new Thread(()-&gt;{\r\n               processMessage(consumerRecord)\r\n            }).start();\r\n       }\r\n\r\n        private void process(ConsumerRecord&lt;String, MyMessage&gt; consumerRecord) {\r\n        // business logic here\r\n        }\r\n\r\n Some of the messages are getting missed randomly, Is there a concurrency issue that is being overlooked here?\r\n","title":"Starting a new thread in each kafka Poll","body":"<p>In order to improve the performance of my Kafka listener I want to start a new thread inside my listener code</p>\n<pre><code>@KafkaListener(\n  topics = {&quot;#{'${my-topic}'.split(',')}&quot;},\n  groupId = &quot;${my-group}&quot;,\n  containerFactory = &quot;kafkaListenerContainerFactory1&quot;,\n  errorHandler = &quot;kafkaPaasErrorHandler&quot;)\n\n  public void processmessage(ConsumerRecord&lt;String, MyMessage&gt; consumerRecord){\n       new Thread(()-&gt;{\n           processMessage(consumerRecord)\n        }).start();\n   }\n\n    private void process(ConsumerRecord&lt;String, MyMessage&gt; consumerRecord) {\n    // business logic here\n    }\n</code></pre>\n<p>Some of the messages are getting missed randomly, Is there a concurrency issue that is being overlooked here?</p>\n"},{"tags":["java","reactjs","redux","enums"],"answers":[{"tags":[],"owner":{"account_id":16618417,"reputation":1,"user_id":12009434,"display_name":"safwan mansuri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653302210,"creation_date":1653302210,"answer_id":72347134,"question_id":72346999,"body_markdown":"The steps that you mentioned is somehow standard, where things get updated in the backend database and before mounting your round component new data will be rendered. you can have a `variable` for round and when round changes you can use useEffect for this to fetch the new details.\r\n\r\nexample:\r\n\r\n```\r\nuseEffect(() =&gt; {\r\n  if (round) {\r\n   fetchRoundDetails(round); \r\n  }\r\n\r\n}, [round]);\r\n```\r\n\r\n","title":"How to handle changing valid values for UI and REST server","body":"<p>The steps that you mentioned is somehow standard, where things get updated in the backend database and before mounting your round component new data will be rendered. you can have a <code>variable</code> for round and when round changes you can use useEffect for this to fetch the new details.</p>\n<p>example:</p>\n<pre><code>useEffect(() =&gt; {\n  if (round) {\n   fetchRoundDetails(round); \n  }\n\n}, [round]);\n</code></pre>\n"}],"owner":{"account_id":8213792,"reputation":2663,"user_id":6357916,"accept_rate":33,"display_name":"MsA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653302210,"creation_date":1653301618,"question_id":72346999,"body_markdown":"I have a UI developed in react, redux and mui for new version of our app. This UI is used for some process made up of several rounds. A round goes for 6 months. Every round might involve some changes in dropdown values, checkboxes etc shown in UI. Consequently, the valid values stored in database can also change from round to round. In each round, the valid values are stored in the existing database of old version of app. In new version of app, we somehow need to read these values to decide how to render UI (drop down values, checkboxes etc). We are planning to write a REST end point, which we can run anytime (say at the beginning of each round). This REST end point will read from the existing database and create a single json capturing all information about the round and then store this JSON in the database. Before loading any component, react can fetch this JSON from database using another REST end point and then decide how to render the UI.\r\n \r\n**Q1.** Does this approach sounds OK? Or there any other standard / preferred approach to handle such scenarios?  \r\n\r\n**Q2.** We have written REST endpoints in spring boot. We used `Enums` for valid drop down list values (like for nationality, valid values can be Indian, Ukranian, Nepali etc.). But in above case, where valid values can change from round to round, how to define valid values at server side?","title":"How to handle changing valid values for UI and REST server","body":"<p>I have a UI developed in react, redux and mui for new version of our app. This UI is used for some process made up of several rounds. A round goes for 6 months. Every round might involve some changes in dropdown values, checkboxes etc shown in UI. Consequently, the valid values stored in database can also change from round to round. In each round, the valid values are stored in the existing database of old version of app. In new version of app, we somehow need to read these values to decide how to render UI (drop down values, checkboxes etc). We are planning to write a REST end point, which we can run anytime (say at the beginning of each round). This REST end point will read from the existing database and create a single json capturing all information about the round and then store this JSON in the database. Before loading any component, react can fetch this JSON from database using another REST end point and then decide how to render the UI.</p>\n<p><strong>Q1.</strong> Does this approach sounds OK? Or there any other standard / preferred approach to handle such scenarios?</p>\n<p><strong>Q2.</strong> We have written REST endpoints in spring boot. We used <code>Enums</code> for valid drop down list values (like for nationality, valid values can be Indian, Ukranian, Nepali etc.). But in above case, where valid values can change from round to round, how to define valid values at server side?</p>\n"},{"tags":["java","object","oop","inheritance","polymorphism"],"comments":[{"owner":{"account_id":22263134,"reputation":589,"user_id":16494303,"display_name":"Anton"},"score":0,"creation_date":1653119277,"post_id":72327619,"comment_id":127777380,"body_markdown":"maybe you should define if the Strings are public or private. you should also give MySub an constructor and inside of the constructor call the super method","body":"maybe you should define if the Strings are public or private. you should also give MySub an constructor and inside of the constructor call the super method"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1653119324,"post_id":72327619,"comment_id":127777393,"body_markdown":"Does this answer your question? [Java Constructor and Field Initialization Order](https://stackoverflow.com/questions/10589828/java-constructor-and-field-initialization-order)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10589828/java-constructor-and-field-initialization-order\">Java Constructor and Field Initialization Order</a>"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653302139,"creation_date":1653119434,"answer_id":72327678,"question_id":72327619,"body_markdown":"The implicit constructor used by `MySub` looks like this:\r\n\r\n```lang-java\r\nclass MySub extends MySuper {\r\n\r\n  String str2;\r\n\r\n  MySub() {\r\n    super();\r\n    str2 = &quot;y&quot;;\r\n  }\r\n\r\n  // rest omitted for brevity\r\n}\r\n```\r\n\r\nWhile inline field initialization is technically moved into the constructor, that&#39;s not necessarily important to know in and of itself. The important part is that the super constructor is invoked **before** the subclass&#39;s fields are initialized. So, when the super constructor invokes the `myMethod()` method, which is overridden by the subclass, the `str2` field has not yet been assigned a non-default value. This results in your code printing out `null`.\r\n\r\nAnd this is why you should avoid invoking overridable methods in a constructor.","title":"What will be the output of this code and how?","body":"<p>The implicit constructor used by <code>MySub</code> looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MySub extends MySuper {\n\n  String str2;\n\n  MySub() {\n    super();\n    str2 = &quot;y&quot;;\n  }\n\n  // rest omitted for brevity\n}\n</code></pre>\n<p>While inline field initialization is technically moved into the constructor, that's not necessarily important to know in and of itself. The important part is that the super constructor is invoked <strong>before</strong> the subclass's fields are initialized. So, when the super constructor invokes the <code>myMethod()</code> method, which is overridden by the subclass, the <code>str2</code> field has not yet been assigned a non-default value. This results in your code printing out <code>null</code>.</p>\n<p>And this is why you should avoid invoking overridable methods in a constructor.</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653122314,"creation_date":1653120874,"answer_id":72327798,"question_id":72327619,"body_markdown":"This is due to Java dynamic method dispatch. \r\n\r\nIn your example. when you&#39;re instancing with the default constructor a `MySub` instance, this implicitly performs a call to the superclass&#39; constructor. Within the superclass&#39; constructor there is a call to `myMethod()` which is declared in `MySuper` and overridden in `MySub`. \r\n\r\nNow, even if `myMethod` is being called from the superclass&#39; constructor, which could fool us into thinking that the superclass&#39; version of `myMethod` is being called, this is not what is actually happening. \r\n\r\nThe instance that is performing all these calls is still a `MySub` instance; therefore the `myMethod` implementation that is being invoked by Java is the closest implementation to `MySub`, i.e. the `myMethod` overridden by `MySub`.\r\n\r\nSo, if in this case the `myMethod` version that is being invoked in the superclass&#39; constructor is the one overridden by `MySub`, why it&#39;s not printing `str2` value? This is because, although method calls are dynamically dispatched, fields are statically dispatched. In Java, only methods can override their base class&#39; methods. Child class&#39; fields can only shadow base class&#39; fields (with the same name). So Java already knows at compile time which fields are being used and &lt;b&gt;only&lt;/b&gt; at run time which method implementations are being invoked. This means that when you&#39;re using a field in a child class, you can be sure that the one you&#39;re using is always the one you&#39;re referring to.\r\n\r\nGetting back to your example, since `myMethod` is being invoked from the superclass&#39; constructor, at this point we&#39;re still initializing the parent object, the child class&#39; fields have not been initialized yet, they still contain their default values (the default value for references is null). So, in your dynamically dispatched `myMethod` we are printing the value of the statically dispatched `str2` which is still at null because the child class initialization has not happened yet. ","title":"What will be the output of this code and how?","body":"<p>This is due to Java dynamic method dispatch.</p>\n<p>In your example. when you're instancing with the default constructor a <code>MySub</code> instance, this implicitly performs a call to the superclass' constructor. Within the superclass' constructor there is a call to <code>myMethod()</code> which is declared in <code>MySuper</code> and overridden in <code>MySub</code>.</p>\n<p>Now, even if <code>myMethod</code> is being called from the superclass' constructor, which could fool us into thinking that the superclass' version of <code>myMethod</code> is being called, this is not what is actually happening.</p>\n<p>The instance that is performing all these calls is still a <code>MySub</code> instance; therefore the <code>myMethod</code> implementation that is being invoked by Java is the closest implementation to <code>MySub</code>, i.e. the <code>myMethod</code> overridden by <code>MySub</code>.</p>\n<p>So, if in this case the <code>myMethod</code> version that is being invoked in the superclass' constructor is the one overridden by <code>MySub</code>, why it's not printing <code>str2</code> value? This is because, although method calls are dynamically dispatched, fields are statically dispatched. In Java, only methods can override their base class' methods. Child class' fields can only shadow base class' fields (with the same name). So Java already knows at compile time which fields are being used and <b>only</b> at run time which method implementations are being invoked. This means that when you're using a field in a child class, you can be sure that the one you're using is always the one you're referring to.</p>\n<p>Getting back to your example, since <code>myMethod</code> is being invoked from the superclass' constructor, at this point we're still initializing the parent object, the child class' fields have not been initialized yet, they still contain their default values (the default value for references is null). So, in your dynamically dispatched <code>myMethod</code> we are printing the value of the statically dispatched <code>str2</code> which is still at null because the child class initialization has not happened yet.</p>\n"},{"tags":[],"owner":{"account_id":22227241,"reputation":107,"user_id":16589374,"display_name":"Raushan Kumar"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1653143961,"creation_date":1653142765,"answer_id":72330399,"question_id":72327619,"body_markdown":"**Minor Mistakes:**\r\n\r\n 1. *null* output is coming because of extending the *MySuper* class and extending *MySuper* class is not required because the default class object can be created anywhere in a package without extending that.\r\n 2. You have not called the method *myMethod()* after creating the object *mySub*.That&#39;s why it is not printing the output as *y*.\r\n \r\n**Solution**: \r\nTry the code below, it is working smoothly.\r\n\r\n   \r\n\r\n     class MySuper {\r\n            String strl = &quot;x&quot;;\r\n            public MySuper() {\r\n                myMethod();\r\n            }\r\n            void myMethod() {\r\n                System.out.print(strl);\r\n            }\r\n        }\r\n        // class MySub extends MySuper {\r\n            class MySub {\r\n            String str2 = &quot;y&quot;;\r\n            void myMethod() {\r\n                System.out.print(str2);\r\n            }\r\n            public static void main(String[] args) {\r\n                MySub mySub = new MySub();\r\n               // extra line added\r\n                mySub.myMethod();\r\n                MySuper ms=new MySuper();\r\n            }\r\n        }   \r\n\r\n","title":"What will be the output of this code and how?","body":"<p><strong>Minor Mistakes:</strong></p>\n<ol>\n<li><em>null</em> output is coming because of extending the <em>MySuper</em> class and extending <em>MySuper</em> class is not required because the default class object can be created anywhere in a package without extending that.</li>\n<li>You have not called the method <em>myMethod()</em> after creating the object <em>mySub</em>.That's why it is not printing the output as <em>y</em>.</li>\n</ol>\n<p><strong>Solution</strong>:\nTry the code below, it is working smoothly.</p>\n<pre><code> class MySuper {\n        String strl = &quot;x&quot;;\n        public MySuper() {\n            myMethod();\n        }\n        void myMethod() {\n            System.out.print(strl);\n        }\n    }\n    // class MySub extends MySuper {\n        class MySub {\n        String str2 = &quot;y&quot;;\n        void myMethod() {\n            System.out.print(str2);\n        }\n        public static void main(String[] args) {\n            MySub mySub = new MySub();\n           // extra line added\n            mySub.myMethod();\n            MySuper ms=new MySuper();\n        }\n    }   \n</code></pre>\n"}],"owner":{"account_id":25349091,"reputation":31,"user_id":19166226,"display_name":"Saurabh Patil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1653302139,"creation_date":1653118896,"question_id":72327619,"body_markdown":"  **Java code-MySuper class is the parent class and is extended by MySub class.I am creating the object  MySub mySub = new MySub().I thought the output would be &quot;y&quot; but when I tried to run the code it was showing *null* as an output **\r\n\r\n```java\r\nclass MySuper {\r\n    String strl = &quot;x&quot;;\r\n\r\n    public MySuper() {\r\n        myMethod();\r\n    }\r\n\r\n    void myMethod() {\r\n        System.out.print(strl);\r\n    }\r\n}\r\n\r\nclass MySub extends MySuper {\r\n    String str2 = &quot;y&quot;;\r\n\r\n    void myMethod() {\r\n        System.out.print(str2);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        MySub mySub = new MySub();\r\n    }\r\n}   \r\n```","title":"What will be the output of this code and how?","body":"<p>**Java code-MySuper class is the parent class and is extended by MySub class.I am creating the object  MySub mySub = new MySub().I thought the output would be &quot;y&quot; but when I tried to run the code it was showing <em>null</em> as an output **</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MySuper {\n    String strl = &quot;x&quot;;\n\n    public MySuper() {\n        myMethod();\n    }\n\n    void myMethod() {\n        System.out.print(strl);\n    }\n}\n\nclass MySub extends MySuper {\n    String str2 = &quot;y&quot;;\n\n    void myMethod() {\n        System.out.print(str2);\n    }\n\n    public static void main(String[] args) {\n\n        MySub mySub = new MySub();\n    }\n}   \n</code></pre>\n"},{"tags":["java","collections","sum"],"comments":[{"owner":{"account_id":12182703,"reputation":65,"user_id":8893685,"display_name":"bkomo"},"score":2,"creation_date":1652862279,"post_id":72284687,"comment_id":127706555,"body_markdown":"Can you please show what you already have? Also please explain what do you mean by &quot;Amount of each group&quot;? What exactly is the group? You also mentioned collections, but I don&#39;t see any in you example.","body":"Can you please show what you already have? Also please explain what do you mean by &quot;Amount of each group&quot;? What exactly is the group? You also mentioned collections, but I don&#39;t see any in you example."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652862655,"creation_date":1652862655,"answer_id":72285709,"question_id":72284687,"body_markdown":"Supposing that your instances are contained within a `List` and that within your class there is a method to return the chained names, you could use the collection stream and group by your instances with the terminal operation `collect(Collectors.toMap())`.\r\n\r\nThe chained value can be used as the key, the `BigDecimal` value as the value corresponding to the key and finally the collision cases can be handled by summing the `BigDecimal` values.\r\n\r\nSince you didn&#39;t provide the code of the class you&#39;re referring to, I declared a class named `MyClass` containing the 3 `String` fields and the `BigDecimal`. Here is a snippet of the code:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;MyClass&gt; list = new ArrayList&lt;&gt;(List.of(\r\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(5.33)),\r\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(2.75)),\r\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(3.56)),\r\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(7.12)),\r\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;John&quot;, BigDecimal.valueOf(1.11))\r\n        ));\r\n\r\n        Map&lt;String, BigDecimal&gt; mapRes = list.stream()\r\n                .collect(Collectors.toMap(mc -&gt; mc.chainNames(), mc -&gt; mc.getAmount(), (decimal1, decimal2) -&gt; decimal1.add(decimal2)));\r\n\r\n        System.out.println(mapRes);\r\n    }\r\n}\r\n```\r\n\r\nTest class implementation (`MyClass`):\r\n\r\n```\r\nclass MyClass {\r\n    private String name1;\r\n    private String name2;\r\n    private String name3;\r\n    private BigDecimal amount;\r\n\r\n    public MyClass(String name1, String name2, String name3, BigDecimal amount) {\r\n        this.name1 = name1;\r\n        this.name2 = name2;\r\n        this.name3 = name3;\r\n        this.amount = amount;\r\n    }\r\n\r\n    /* ... your implementation ...*/\r\n\r\n    public BigDecimal getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public String chainNames() {\r\n        StringBuilder strBld = new StringBuilder(name1);\r\n        strBld.append(name2);\r\n        strBld.append(name3);\r\n        return strBld.toString();\r\n    }\r\n}\r\n```\r\n\r\nHere there is also a link to test the code:\r\n\r\nhttps://ideone.com/IL1ZQ8","title":"Concat multiple fields into one string, then group by it using collection to find sum of each group","body":"<p>Supposing that your instances are contained within a <code>List</code> and that within your class there is a method to return the chained names, you could use the collection stream and group by your instances with the terminal operation <code>collect(Collectors.toMap())</code>.</p>\n<p>The chained value can be used as the key, the <code>BigDecimal</code> value as the value corresponding to the key and finally the collision cases can be handled by summing the <code>BigDecimal</code> values.</p>\n<p>Since you didn't provide the code of the class you're referring to, I declared a class named <code>MyClass</code> containing the 3 <code>String</code> fields and the <code>BigDecimal</code>. Here is a snippet of the code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;MyClass&gt; list = new ArrayList&lt;&gt;(List.of(\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(5.33)),\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(2.75)),\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(3.56)),\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(7.12)),\n                new MyClass(&quot;I&quot;, &quot;am&quot;, &quot;John&quot;, BigDecimal.valueOf(1.11))\n        ));\n\n        Map&lt;String, BigDecimal&gt; mapRes = list.stream()\n                .collect(Collectors.toMap(mc -&gt; mc.chainNames(), mc -&gt; mc.getAmount(), (decimal1, decimal2) -&gt; decimal1.add(decimal2)));\n\n        System.out.println(mapRes);\n    }\n}\n</code></pre>\n<p>Test class implementation (<code>MyClass</code>):</p>\n<pre><code>class MyClass {\n    private String name1;\n    private String name2;\n    private String name3;\n    private BigDecimal amount;\n\n    public MyClass(String name1, String name2, String name3, BigDecimal amount) {\n        this.name1 = name1;\n        this.name2 = name2;\n        this.name3 = name3;\n        this.amount = amount;\n    }\n\n    /* ... your implementation ...*/\n\n    public BigDecimal getAmount() {\n        return amount;\n    }\n\n    public String chainNames() {\n        StringBuilder strBld = new StringBuilder(name1);\n        strBld.append(name2);\n        strBld.append(name3);\n        return strBld.toString();\n    }\n}\n</code></pre>\n<p>Here there is also a link to test the code:</p>\n<p><a href=\"https://ideone.com/IL1ZQ8\" rel=\"nofollow noreferrer\">https://ideone.com/IL1ZQ8</a></p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653301929,"creation_date":1653301929,"answer_id":72347069,"question_id":72284687,"body_markdown":"1. To concatenate multiple strings, there is method [`String::join`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)), the first argument is a delimiter which can be an empty string `String.join(&quot;&quot;, name1, name2, name3)`\r\n2. To group by some values in a list and summarize a certain value, Stream API should be used with `Collectors.groupingBy` + [`Collectors.reducing`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#reducing-U-java.util.function.Function-java.util.function.BinaryOperator-)\r\n\r\nAssuming that the given class is implemented as a [record](https://docs.oracle.com/en/java/javase/14/language/records.html) provided since Java 14, the following implementation is offered:\r\n```java\r\npublic static void main(String[] args) {\r\n    record MyObj(String name1, String name2, String name3, BigDecimal amount) {\r\n        public String fullName() {\r\n            return String.join(&quot;&quot;, name1, name2, name3);\r\n        }\r\n    };\r\n    \r\n    List&lt;MyObj&gt; list = List.of(\r\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(5.33)),\r\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(2.75)),\r\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(3.56)),\r\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(7.12)),\r\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;John&quot;,  BigDecimal.valueOf(1.11))\r\n    );\r\n\r\n    Map&lt;String, BigDecimal&gt; mapRes = list.stream()\r\n            .collect(Collectors.groupingBy(\r\n                MyObj::fullName, \r\n                Collectors.reducing(BigDecimal.ZERO, MyObj::amount, BigDecimal::add)\r\n            ));\r\n\r\n    System.out.println(mapRes);\r\n}\r\n```\r\nOutput:\r\n```java\r\n{IamJohn=1.11, IamSarah=8.89, IamFrank=9.87}\r\n```","title":"Concat multiple fields into one string, then group by it using collection to find sum of each group","body":"<ol>\n<li>To concatenate multiple strings, there is method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)\" rel=\"nofollow noreferrer\"><code>String::join</code></a>, the first argument is a delimiter which can be an empty string <code>String.join(&quot;&quot;, name1, name2, name3)</code></li>\n<li>To group by some values in a list and summarize a certain value, Stream API should be used with <code>Collectors.groupingBy</code> + <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#reducing-U-java.util.function.Function-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>Collectors.reducing</code></a></li>\n</ol>\n<p>Assuming that the given class is implemented as a <a href=\"https://docs.oracle.com/en/java/javase/14/language/records.html\" rel=\"nofollow noreferrer\">record</a> provided since Java 14, the following implementation is offered:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    record MyObj(String name1, String name2, String name3, BigDecimal amount) {\n        public String fullName() {\n            return String.join(&quot;&quot;, name1, name2, name3);\n        }\n    };\n    \n    List&lt;MyObj&gt; list = List.of(\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(5.33)),\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(2.75)),\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Sarah&quot;, BigDecimal.valueOf(3.56)),\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;Frank&quot;, BigDecimal.valueOf(7.12)),\n            new MyObj(&quot;I&quot;, &quot;am&quot;, &quot;John&quot;,  BigDecimal.valueOf(1.11))\n    );\n\n    Map&lt;String, BigDecimal&gt; mapRes = list.stream()\n            .collect(Collectors.groupingBy(\n                MyObj::fullName, \n                Collectors.reducing(BigDecimal.ZERO, MyObj::amount, BigDecimal::add)\n            ));\n\n    System.out.println(mapRes);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{IamJohn=1.11, IamSarah=8.89, IamFrank=9.87}\n</code></pre>\n"}],"owner":{"account_id":25321421,"reputation":21,"user_id":19142637,"display_name":"aoisayuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72285709,"answer_count":2,"score":0,"last_activity_date":1653301929,"creation_date":1652858171,"question_id":72284687,"body_markdown":"Imagine I have the following fields:\r\n\r\n    &gt;  String name1\r\n    &gt;  String name2\r\n    &gt;  String name3\r\n    &gt;  BigDecimal amount\r\n\r\nI want to group them by using one `String` which is the concatenation of name1, name2 and name3.\r\n\r\nFor example:\r\n\r\n    name1 = hi\r\n    name2 = am\r\n    name3 = sarah\r\n\r\n    String newString = hiamsarah\r\n\r\nThen, after I manage to group the objects by the chained `String`, I want to get the overall sum of the `amount` field for each group.\r\n\r\nIs this possible?\r\n\r\nI&#39;ve tried any possible way, but I just can&#39;t get through it. Also, I&#39;m kind of new to collections.","title":"Concat multiple fields into one string, then group by it using collection to find sum of each group","body":"<p>Imagine I have the following fields:</p>\n<pre><code>&gt;  String name1\n&gt;  String name2\n&gt;  String name3\n&gt;  BigDecimal amount\n</code></pre>\n<p>I want to group them by using one <code>String</code> which is the concatenation of name1, name2 and name3.</p>\n<p>For example:</p>\n<pre><code>name1 = hi\nname2 = am\nname3 = sarah\n\nString newString = hiamsarah\n</code></pre>\n<p>Then, after I manage to group the objects by the chained <code>String</code>, I want to get the overall sum of the <code>amount</code> field for each group.</p>\n<p>Is this possible?</p>\n<p>I've tried any possible way, but I just can't get through it. Also, I'm kind of new to collections.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1653301424,"post_id":72346915,"comment_id":127809800,"body_markdown":"Volatile gives you a *guarantee* but lack of a guarantee doesn&#39;t mean it won&#39;t happen. Absence of evidence is not evidence of absence.","body":"Volatile gives you a <i>guarantee</i> but lack of a guarantee doesn&#39;t mean it won&#39;t happen. Absence of evidence is not evidence of absence."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1653301703,"post_id":72346915,"comment_id":127809894,"body_markdown":"@Michael without `volatile` then it for sure wont happen.","body":"@Michael without <code>volatile</code> then it for sure wont happen."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1653301888,"post_id":72346915,"comment_id":127809961,"body_markdown":"No. Lack of volatile doesn&#39;t mean anything will happen &quot;for sure&quot;. It may work or may not.","body":"No. Lack of volatile doesn&#39;t mean anything will happen &quot;for sure&quot;. It may work or may not."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1653302197,"post_id":72346915,"comment_id":127810076,"body_markdown":"writing code needs a bit more than *may work or may not*, like write volatile sync and flush, read volatile reload.","body":"writing code needs a bit more than <i>may work or may not</i>, like write volatile sync and flush, read volatile reload."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1653302998,"post_id":72346915,"comment_id":127810366,"body_markdown":"@Michael *I never said...*, by reading your comment, I don&#39;t know what should I think. I still don&#39;t understand why with and without volatile that code have difference.","body":"@Michael <i>I never said...</i>, by reading your comment, I don&#39;t know what should I think. I still don&#39;t understand why with and without volatile that code have difference."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1653304073,"post_id":72346915,"comment_id":127810777,"body_markdown":"Volatile -&gt; guaranteed visibility of writes between threads. No volatile -&gt; **no guarantee** of visibility. Writes *may still be visible anyway*. Your question was &quot;*what makes reader thread read value change in list*&quot;? My explanation should answer that.","body":"Volatile -&gt; guaranteed visibility of writes between threads. No volatile -&gt; <b>no guarantee</b> of visibility. Writes <i>may still be visible anyway</i>. Your question was &quot;<i>what makes reader thread read value change in list</i>&quot;? My explanation should answer that."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1653328313,"post_id":72346915,"comment_id":127820415,"body_markdown":"Re, &quot;without volatile then it for sure wont happen.&quot; The Java Language Specification, does not say that thread B will never see what thread A wrote if there is no synchronization between them. It only says that there is no guarantee _if or when_ thread B will see it.","body":"Re, &quot;without volatile then it for sure wont happen.&quot; The Java Language Specification, does not say that thread B will never see what thread A wrote if there is no synchronization between them. It only says that there is no guarantee <i>if or when</i> thread B will see it."}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653301552,"creation_date":1653301490,"answer_id":72346972,"question_id":72346915,"body_markdown":"Publishing to main memory is a [fallacy][1]. This is not how modern CPU&#39;s work and hence a broken mental model. \r\n\r\nEven with the flag being volatile, you do not have a happens-before edge between writing the list and reading the list and hence your code has a data race and is officially broken.\r\n\r\n\r\n  [1]: https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#myth-reorderings-and-commit","title":"Java basics what thread 1 writes can be read in thread 2 without writing a volatile variable and why","body":"<p>Publishing to main memory is a <a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#myth-reorderings-and-commit\" rel=\"nofollow noreferrer\">fallacy</a>. This is not how modern CPU's work and hence a broken mental model.</p>\n<p>Even with the flag being volatile, you do not have a happens-before edge between writing the list and reading the list and hence your code has a data race and is officially broken.</p>\n"}],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653301552,"creation_date":1653301270,"question_id":72346915,"body_markdown":"The following code, in writer thread, there is no `volatile` variable write operation, like `flag = `, but reader thread reads `list.set(0, 1)`. In my mind, writer thread make variable `list` seeable in the other thread, only if it is written to main memory, for example, by using a `volatile` write operation. While in the following code, there is no such operation in writer thread, what makes reader thread read value change in list? JDK 8.\r\n\r\nMoreover, I found that `System.out.print` also makes `list` change seeable in reader threat. If `volatile` removed from variable `flag` or no `System.out.print`, then reader threat could not see `list` change. (It seems to be this)\r\n\r\n```\r\n    private static List&lt;Integer&gt; list;\r\n    private static volatile boolean flag;\r\n    static {\r\n        list = new ArrayList&lt;Integer&gt;(20);\r\n        list.add(0);\r\n    }\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        CountDownLatch latch = new CountDownLatch(1);\r\n        new Thread(()-&gt;{ // writer thread\r\n            try {\r\n                Thread.sleep(200);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            list.set(0,1);\r\n\r\n            System.out.println(&quot;set 1&quot;);\r\n        }).start();\r\n        new Thread(()-&gt;{ // reader thread\r\n\r\n            while (list.get(0) == 0){\r\n                // System.out.println(&quot;&quot;);\r\n                boolean v = flag;\r\n            }\r\n            System.out.println(&quot;end&quot;);\r\n            latch.countDown();\r\n\r\n        }).start();\r\n        latch.await();\r\n    }\r\n```","title":"Java basics what thread 1 writes can be read in thread 2 without writing a volatile variable and why","body":"<p>The following code, in writer thread, there is no <code>volatile</code> variable write operation, like <code>flag = </code>, but reader thread reads <code>list.set(0, 1)</code>. In my mind, writer thread make variable <code>list</code> seeable in the other thread, only if it is written to main memory, for example, by using a <code>volatile</code> write operation. While in the following code, there is no such operation in writer thread, what makes reader thread read value change in list? JDK 8.</p>\n<p>Moreover, I found that <code>System.out.print</code> also makes <code>list</code> change seeable in reader threat. If <code>volatile</code> removed from variable <code>flag</code> or no <code>System.out.print</code>, then reader threat could not see <code>list</code> change. (It seems to be this)</p>\n<pre><code>    private static List&lt;Integer&gt; list;\n    private static volatile boolean flag;\n    static {\n        list = new ArrayList&lt;Integer&gt;(20);\n        list.add(0);\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        CountDownLatch latch = new CountDownLatch(1);\n        new Thread(()-&gt;{ // writer thread\n            try {\n                Thread.sleep(200);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            list.set(0,1);\n\n            System.out.println(&quot;set 1&quot;);\n        }).start();\n        new Thread(()-&gt;{ // reader thread\n\n            while (list.get(0) == 0){\n                // System.out.println(&quot;&quot;);\n                boolean v = flag;\n            }\n            System.out.println(&quot;end&quot;);\n            latch.countDown();\n\n        }).start();\n        latch.await();\n    }\n</code></pre>\n"},{"tags":["java","variables","global-variables"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1653299106,"post_id":72346414,"comment_id":127809028,"body_markdown":"You can&#39;t. A local variable cannot be accessed out of its scope. See [What is &#39;scope&#39; in Java?](https://stackoverflow.com/questions/38177140/what-is-scope-in-java)","body":"You can&#39;t. A local variable cannot be accessed out of its scope. See <a href=\"https://stackoverflow.com/questions/38177140/what-is-scope-in-java\">What is &#39;scope&#39; in Java?</a>"},{"owner":{"account_id":6388911,"reputation":315,"user_id":4955812,"display_name":"Vishal choudhary"},"score":2,"creation_date":1653299106,"post_id":72346414,"comment_id":127809029,"body_markdown":"you can&#39;t access a local variable outside the scope.","body":"you can&#39;t access a local variable outside the scope."},{"owner":{"account_id":25353261,"reputation":13,"user_id":19169791,"display_name":"mcz"},"score":0,"creation_date":1653299507,"post_id":72346414,"comment_id":127809152,"body_markdown":"Thank you guys.I understood .What can I do for this problem ? Should I define method or something.\nIf we are not in the scope, we do not use it right ? So how can  I solve this problem ?","body":"Thank you guys.I understood .What can I do for this problem ? Should I define method or something. If we are not in the scope, we do not use it right ? So how can  I solve this problem ?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1653299555,"post_id":72346414,"comment_id":127809173,"body_markdown":"if you are not in the same scope, the variable doesn&#39;t exist. declare a class level variable, or something similar","body":"if you are not in the same scope, the variable doesn&#39;t exist. declare a class level variable, or something similar"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653300478,"creation_date":1653300078,"answer_id":72346653,"question_id":72346414,"body_markdown":"Design-wise, global variables (static fields in Java) are usually not a great idea because it causes a tight coupling between classes, making it harder to make changes to the system later on.\r\n\r\nThat said, to do what you describe you would do this:\r\n\r\n    public class YourClass {\r\n\r\n        // class field\r\n        public static boolean checkWord;\r\n\r\n        // instance (object) field\r\n        private TextField textField = new TextField(&quot;Your text field&quot;);\r\n\r\n        public void yourMethod() {            \r\n            textField.setOnAction(event -&gt; {      \r\n                // ...      \r\n                checkWord = true;\r\n                // ...\r\n            });\r\n            System.out.println(checkWord);\r\n        }\r\n\r\n        public static void iDoNotKnowAboutInstances() {\r\n            // OK\r\n            System.out.println(checkWord);\r\n            // Compile error - cannot refer to instance field in static context\r\n            System.out.println(textField);\r\n        }        \r\n    }\r\n\r\nMeanwhile, in another class:\r\n\r\n    public class YourOtherClass {\r\n\r\n        public void yourOtherMethod() {\r\n            System.out.println(YourClass.checkWord);\r\n        }\r\n    }\r\n\r\nA static field exists at class level. It is initialized when the class is loaded by the class loader for the first time, in this case it will be initialized as false (the default for booleans). Then, when `yourMethod` is executed and an event is handled, the field `checkWord` is set to `true`. It can be referred to directly from within the same class. From another class it can be referred to by prefixing the class name, as shown in `YourOtherClass`.\r\n\r\nEDIT: Not that you can refer to static fields from anywhere (as long as their visibility qualifier allows it) but you only refer to instance field via an actual instance. So for example from the static method `iDoNotKnowAboutInstances` you cannot refer to instance field `textField`. You often run into this when you create a simple java application with the entry method `public static void main(String[] args)`. If you then add instance fields to the class you will first need to create an instance of the class using `YourClass instance = new YourClass()` to be able to read and write those fields.","title":"How can I access local variable in main code block?","body":"<p>Design-wise, global variables (static fields in Java) are usually not a great idea because it causes a tight coupling between classes, making it harder to make changes to the system later on.</p>\n<p>That said, to do what you describe you would do this:</p>\n<pre><code>public class YourClass {\n\n    // class field\n    public static boolean checkWord;\n\n    // instance (object) field\n    private TextField textField = new TextField(&quot;Your text field&quot;);\n\n    public void yourMethod() {            \n        textField.setOnAction(event -&gt; {      \n            // ...      \n            checkWord = true;\n            // ...\n        });\n        System.out.println(checkWord);\n    }\n\n    public static void iDoNotKnowAboutInstances() {\n        // OK\n        System.out.println(checkWord);\n        // Compile error - cannot refer to instance field in static context\n        System.out.println(textField);\n    }        \n}\n</code></pre>\n<p>Meanwhile, in another class:</p>\n<pre><code>public class YourOtherClass {\n\n    public void yourOtherMethod() {\n        System.out.println(YourClass.checkWord);\n    }\n}\n</code></pre>\n<p>A static field exists at class level. It is initialized when the class is loaded by the class loader for the first time, in this case it will be initialized as false (the default for booleans). Then, when <code>yourMethod</code> is executed and an event is handled, the field <code>checkWord</code> is set to <code>true</code>. It can be referred to directly from within the same class. From another class it can be referred to by prefixing the class name, as shown in <code>YourOtherClass</code>.</p>\n<p>EDIT: Not that you can refer to static fields from anywhere (as long as their visibility qualifier allows it) but you only refer to instance field via an actual instance. So for example from the static method <code>iDoNotKnowAboutInstances</code> you cannot refer to instance field <code>textField</code>. You often run into this when you create a simple java application with the entry method <code>public static void main(String[] args)</code>. If you then add instance fields to the class you will first need to create an instance of the class using <code>YourClass instance = new YourClass()</code> to be able to read and write those fields.</p>\n"}],"owner":{"account_id":25353261,"reputation":13,"user_id":19169791,"display_name":"mcz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72346653,"answer_count":1,"score":0,"last_activity_date":1653301347,"creation_date":1653298979,"question_id":72346414,"body_markdown":"I want to access the **checkWord** variable in the main code block. I don&#39;t know how to access it globally. How can I access a local variable in main in Java?\r\n\r\n&gt; This is example code blocks.\r\n\r\n```\r\ntextField.setOnAction(event -&gt; {\r\n            try{\r\n                ArrayList&lt;String&gt; wordList = wordListReader();\r\n                boolean checkWord = false;\r\n                for(String word:wordList){\r\n                    if(word.equals(textField.getText())){\r\n                        checkWord = true;\r\n\r\n                    }\r\n\r\n                }\r\n                System.out.println(checkWord);\r\n            }catch (FileNotFoundException ex){\r\n                ex.printStackTrace();\r\n            }\r\n        });\r\n// Error\r\nSystem.out.println(checkWord);\r\n```","title":"How can I access local variable in main code block?","body":"<p>I want to access the <strong>checkWord</strong> variable in the main code block. I don't know how to access it globally. How can I access a local variable in main in Java?</p>\n<blockquote>\n<p>This is example code blocks.</p>\n</blockquote>\n<pre><code>textField.setOnAction(event -&gt; {\n            try{\n                ArrayList&lt;String&gt; wordList = wordListReader();\n                boolean checkWord = false;\n                for(String word:wordList){\n                    if(word.equals(textField.getText())){\n                        checkWord = true;\n\n                    }\n\n                }\n                System.out.println(checkWord);\n            }catch (FileNotFoundException ex){\n                ex.printStackTrace();\n            }\n        });\n// Error\nSystem.out.println(checkWord);\n</code></pre>\n"},{"tags":["java","arrays","object"],"answers":[{"tags":[],"owner":{"account_id":6362842,"reputation":97,"user_id":4937792,"display_name":"Anas Altarazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653301300,"creation_date":1653301300,"answer_id":72346928,"question_id":72346840,"body_markdown":"you wrote \r\n\r\n    int SATotalOne = 0;\r\n    for(i = 0; i &lt; 1777; i++) {\r\n    SATotalOne = += SASortedArray.cumulativePositive\r\n    }\r\n    System.out.println(&quot;SATotalOne)\r\n\r\nwhen I think it should be \r\n\r\n        int SATotalOne = 0;\r\n    for(i = 0; i &lt; 1777; i++) {\r\n    SATotalOne += SASortedArray[i].cumulativePositive;  \r\n    }\r\n    System.out.println(&quot;SATotalOne);\r\n\r\n","title":"How to carry objects through different arrays","body":"<p>you wrote</p>\n<pre><code>int SATotalOne = 0;\nfor(i = 0; i &lt; 1777; i++) {\nSATotalOne = += SASortedArray.cumulativePositive\n}\nSystem.out.println(&quot;SATotalOne)\n</code></pre>\n<p>when I think it should be</p>\n<pre><code>    int SATotalOne = 0;\nfor(i = 0; i &lt; 1777; i++) {\nSATotalOne += SASortedArray[i].cumulativePositive;  \n}\nSystem.out.println(&quot;SATotalOne);\n</code></pre>\n"}],"owner":{"account_id":25361808,"reputation":11,"user_id":19176930,"display_name":"Clamont04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653301300,"creation_date":1653300916,"question_id":72346840,"body_markdown":"I have this issue where I have an array of objects called covidrecordArray[], and I need to select certain objects from this array. Here is my object:\r\n\r\n`Public Class CovidRecord`\r\n\r\n    public Country(String pIso3, String pContinent, String pCountryName, String Nuts, Double pLatitude, Double pLongitude)\r\n\r\nI also have my constructors and my setters and getters already done.\r\nI have 1777 objects, with some of these being under SA. This is my selector \r\n\r\n`public class Main`\r\n    \r\n    public static void Main(String[] args)\r\n\r\n    {\r\n\r\n    String target = &quot;SA&quot;;\r\n    String[] SASortedArray = new String[107]    // this 107 is the manually found number of objects with SA\r\n    for(int j = 0; j &lt; SASortedArray.length; j++){\r\n         for(int i = 0; i &lt; 1777; i ++) {    // 1777 is length of my array of objects\r\n              if (covidrecordArray[i].Country.continent == target) {\r\n                     SASortedArray[j] = String.valueOf(covidrecordArray[i]);\r\n                     return;\r\n              }\r\n          }\r\n    }\r\n\r\n When I try to access SASortedArray at a specific object point, it goes red and does not work\r\n\r\n    int SATotalOne = 0;\r\n    for(i = 0; i &lt; 1777; i++) {\r\n        SATotalOne = += SASortedArray.cumulativePositive // the .cumulativePositive goes red\r\n    }\r\n    System.out.println(&quot;SATotalOne)\r\n\r\nThe .cumulativePositive goes red and I don&#39;t know why. Am I doing something wrong?\r\n","title":"How to carry objects through different arrays","body":"<p>I have this issue where I have an array of objects called covidrecordArray[], and I need to select certain objects from this array. Here is my object:</p>\n<p><code>Public Class CovidRecord</code></p>\n<pre><code>public Country(String pIso3, String pContinent, String pCountryName, String Nuts, Double pLatitude, Double pLongitude)\n</code></pre>\n<p>I also have my constructors and my setters and getters already done.\nI have 1777 objects, with some of these being under SA. This is my selector</p>\n<p><code>public class Main</code></p>\n<pre><code>public static void Main(String[] args)\n\n{\n\nString target = &quot;SA&quot;;\nString[] SASortedArray = new String[107]    // this 107 is the manually found number of objects with SA\nfor(int j = 0; j &lt; SASortedArray.length; j++){\n     for(int i = 0; i &lt; 1777; i ++) {    // 1777 is length of my array of objects\n          if (covidrecordArray[i].Country.continent == target) {\n                 SASortedArray[j] = String.valueOf(covidrecordArray[i]);\n                 return;\n          }\n      }\n}\n</code></pre>\n<p>When I try to access SASortedArray at a specific object point, it goes red and does not work</p>\n<pre><code>int SATotalOne = 0;\nfor(i = 0; i &lt; 1777; i++) {\n    SATotalOne = += SASortedArray.cumulativePositive // the .cumulativePositive goes red\n}\nSystem.out.println(&quot;SATotalOne)\n</code></pre>\n<p>The .cumulativePositive goes red and I don't know why. Am I doing something wrong?</p>\n"},{"tags":["java","elasticsearch","keystore"],"comments":[{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1601734364,"post_id":64184941,"comment_id":113500602,"body_markdown":"As far as I know, `Keystore` is read only at startup &amp; the values are cleared from memory after getting processed, except for few values ( Like : Passwords for external services which are retained in memory by the components which leverages them), but the `elasticsearch core` does not retain them at all.","body":"As far as I know, <code>Keystore</code> is read only at startup &amp; the values are cleared from memory after getting processed, except for few values ( Like : Passwords for external services which are retained in memory by the components which leverages them), but the <code>elasticsearch core</code> does not retain them at all."}],"answers":[{"tags":[],"owner":{"account_id":10377124,"reputation":1597,"user_id":7653022,"accept_rate":75,"display_name":"froblesmartin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653300933,"creation_date":1653300933,"answer_id":72346846,"question_id":64184941,"body_markdown":"As of https://github.com/elastic/elasticsearch/pull/76693, which was included in versions 7.16.0 and 8.0.0-beta1, the elasticsearch-keystore CLI now includes the command `show` which displays the value of a single secure setting from the keystore.","title":"Can&#39;t read value with elasticsearch-keystore command","body":"<p>As of <a href=\"https://github.com/elastic/elasticsearch/pull/76693\" rel=\"nofollow noreferrer\">https://github.com/elastic/elasticsearch/pull/76693</a>, which was included in versions 7.16.0 and 8.0.0-beta1, the elasticsearch-keystore CLI now includes the command <code>show</code> which displays the value of a single secure setting from the keystore.</p>\n"}],"owner":{"account_id":305047,"reputation":22750,"user_id":614944,"accept_rate":73,"display_name":"daisy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3484,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653300933,"creation_date":1601732728,"question_id":64184941,"body_markdown":"I have a elasticsearch.keystore file, which is not password-protected. Now I&#39;m trying to read its contents, but [according to this document](https://www.elastic.co/guide/en/elasticsearch/reference/current/elasticsearch-keystore.html) it only support listing the keys:\r\n\r\n```\r\n./bin/elasticsearch-keystore list\r\n```\r\n\r\nThere&#39;s no `get` operation for the key printed, what should I do to print the value?","title":"Can&#39;t read value with elasticsearch-keystore command","body":"<p>I have a elasticsearch.keystore file, which is not password-protected. Now I'm trying to read its contents, but <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/elasticsearch-keystore.html\" rel=\"nofollow noreferrer\">according to this document</a> it only support listing the keys:</p>\n<pre><code>./bin/elasticsearch-keystore list\n</code></pre>\n<p>There's no <code>get</code> operation for the key printed, what should I do to print the value?</p>\n"},{"tags":["java","android","dagger-2","dagger-hilt"],"comments":[{"owner":{"account_id":148507,"reputation":1161,"user_id":360327,"accept_rate":67,"display_name":"Udayaditya Barua"},"score":0,"creation_date":1652419070,"post_id":72224270,"comment_id":127606049,"body_markdown":"Are you using `Proguard`? Usually crashes which are not reproduced in the dev builds and show up in production are usually proguard issues. Create a prod minified build, enable debug logging (disable debugging), and run the app on your phone. You should see the crash reproduce.","body":"Are you using <code>Proguard</code>? Usually crashes which are not reproduced in the dev builds and show up in production are usually proguard issues. Create a prod minified build, enable debug logging (disable debugging), and run the app on your phone. You should see the crash reproduce."},{"owner":{"account_id":25278497,"reputation":41,"user_id":19106695,"display_name":"meor9zcu12"},"score":0,"creation_date":1652428454,"post_id":72224270,"comment_id":127608438,"body_markdown":"@UdayadityaBarua Yes, I used `Proguard` in my project, but I didn&#39;t add any extra `Proguard` config when I started to use hilt.","body":"@UdayadityaBarua Yes, I used <code>Proguard</code> in my project, but I didn&#39;t add any extra <code>Proguard</code> config when I started to use hilt."},{"owner":{"account_id":25278497,"reputation":41,"user_id":19106695,"display_name":"meor9zcu12"},"score":0,"creation_date":1652428867,"post_id":72224270,"comment_id":127608577,"body_markdown":"Also, I tested both prod and dev builds, none of them can reproduce the case on my side.\nIn my Google Play Console&#39;s statistics, this crash occupies 2% of total crash. It seems not happen for everyone, and currently only happen for Android 9 to Android 12 users.","body":"Also, I tested both prod and dev builds, none of them can reproduce the case on my side. In my Google Play Console&#39;s statistics, this crash occupies 2% of total crash. It seems not happen for everyone, and currently only happen for Android 9 to Android 12 users."},{"owner":{"account_id":6617866,"reputation":2097,"user_id":5110536,"accept_rate":11,"display_name":"Usman Rana"},"score":0,"creation_date":1662124904,"post_id":72224270,"comment_id":129939958,"body_markdown":"facing exactly same issue in FirebaseMessagingService. Not reproducible but can see rare case reports at playstore.","body":"facing exactly same issue in FirebaseMessagingService. Not reproducible but can see rare case reports at playstore."}],"answers":[{"tags":[],"owner":{"account_id":11347613,"reputation":679,"user_id":8319640,"display_name":"Kishan Mevada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652416765,"creation_date":1652416765,"answer_id":72224524,"question_id":72224270,"body_markdown":"You also need to declare ```@AndroidEntryPoint``` in your parent activity of your ```FirstEntryPage``` Fragment Activity.","title":"Android Hilt throw IllegalStateException even stated Custom Application in Manifest.xml","body":"<p>You also need to declare <code>@AndroidEntryPoint</code> in your parent activity of your <code>FirstEntryPage</code> Fragment Activity.</p>\n"},{"tags":[],"owner":{"account_id":25278497,"reputation":41,"user_id":19106695,"display_name":"meor9zcu12"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1653300252,"creation_date":1653300252,"answer_id":72346694,"question_id":72224270,"body_markdown":"After searching answer in the Internet, I found the answer in the dagger Github https://github.com/google/dagger/issues/2798. I also tested by myself and there is no more such crash report in my Google Play Console after related code changes.\r\n\r\nHere is the short answer:  \r\nWhen using hilt, you cannot use **Android Auto Backup** (`android:allowBackup=&quot;true&quot;` without `android:backupAgent`), otherwise your app will crash.\r\n\r\nIf your app needs backup, with hilt, you must use **Key/Value Backup (Android Backup Service)** instead of **Android Auto Backup**.  \r\n\r\nThat is, add these (and with your implementation of MyBackupAgent) in your AndroidManifest.xml\r\n+ `android:allowBackup=&quot;true&quot;` \r\n+ `android:backupAgent=&quot;MyBackupAgent&quot;` \r\n+ `android:fullBackupOnly=&quot;false&quot;`\r\n\r\nIf you app does not need backup, with hilt, just set `android:allowBackup=&quot;false&quot;` in your AndroidManifest.xml\r\n\r\n\r\n","title":"Android Hilt throw IllegalStateException even stated Custom Application in Manifest.xml","body":"<p>After searching answer in the Internet, I found the answer in the dagger Github <a href=\"https://github.com/google/dagger/issues/2798\" rel=\"nofollow noreferrer\">https://github.com/google/dagger/issues/2798</a>. I also tested by myself and there is no more such crash report in my Google Play Console after related code changes.</p>\n<p>Here is the short answer:<br />\nWhen using hilt, you cannot use <strong>Android Auto Backup</strong> (<code>android:allowBackup=&quot;true&quot;</code> without <code>android:backupAgent</code>), otherwise your app will crash.</p>\n<p>If your app needs backup, with hilt, you must use <strong>Key/Value Backup (Android Backup Service)</strong> instead of <strong>Android Auto Backup</strong>.</p>\n<p>That is, add these (and with your implementation of MyBackupAgent) in your AndroidManifest.xml</p>\n<ul>\n<li><code>android:allowBackup=&quot;true&quot;</code></li>\n<li><code>android:backupAgent=&quot;MyBackupAgent&quot;</code></li>\n<li><code>android:fullBackupOnly=&quot;false&quot;</code></li>\n</ul>\n<p>If you app does not need backup, with hilt, just set <code>android:allowBackup=&quot;false&quot;</code> in your AndroidManifest.xml</p>\n"}],"owner":{"account_id":25278497,"reputation":41,"user_id":19106695,"display_name":"meor9zcu12"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653300252,"creation_date":1652414156,"question_id":72224270,"body_markdown":"I have a few real devices and also tested with Android studio&#39;s emulator and did not find any similar crash.  \r\n\r\nMy problem is that I published the app and received crash reports from real users.\r\n\r\nGoogle Play Console Crash Report\r\n&gt; Type\r\njava.lang.RuntimeException  \r\n&gt; ...  \r\n&gt; Caused by: java.lang.IllegalStateException:   \r\n&gt;  at dagger.hilt.android.internal.managers.ActivityComponentManager.createComponent (ActivityComponentManager.java:76)  \r\n&gt;  at dagger.hilt.android.internal.managers.ActivityComponentManager.generatedComponent (ActivityComponentManager.java:66)  \r\n&gt;  at MyApp.Hilt_FirstEntryPage.generatedComponent (Hilt_FirstEntryPage.java:45)  \r\n&gt;  at MyApp.Hilt_FirstEntryPage.inject (Hilt_FirstEntryPage.java:67)  \r\n&gt;  at MyApp.Hilt_FirstEntryPage$1.onContextAvailable (Hilt_FirstEntryPage.java:38)  \r\n&gt;  at androidx.activity.contextaware.ContextAwareHelper.dispatchOnContextAvailable (ContextAwareHelper.java:99)  \r\n&gt;  at androidx.activity.ComponentActivity.onCreate (ComponentActivity.java:322)  \r\n&gt;  at androidx.fragment.app.FragmentActivity.onCreate (FragmentActivity.java:249)  \r\n&gt;  at MyApp.FirstEntryPage.onCreate (FirstPage.java:68)  \r\n&gt;  at android.app.Activity.performCreate (Activity.java:8207)  \r\n&gt; ...  \r\n\r\n\r\nActivityComponentManager.java:76\r\n\r\n    Hilt Activity must be attached to an @HiltAndroidApp Application. Did you forget to specify your Application&#39;s class name in your  \r\n     manifest&#39;s &lt;application /&gt;&#39;s android:name attribute?\r\n\r\nI did check other stack overflow questions, I already did add my custom application into Manifest and run successfully in my testing devices.\r\n\r\nMy app has only one module and only one application, and also some several **ContentProvider**, **BroadcastReceiver**, **AppWidgetProvider**, **WorkManager**, **JobIntentService**, not sure they could affect the normal initialization of application to lead the crash.\r\n\r\nFor the FirstEntryPage activity, I did not inject any things. It is very simple activity page just like Hello World example. Therefore there could not be any component conflict. In addition, FirstEntryPage activity can be opened by **PendingIntent** from **BroadcastReceiver** and also notification.\r\n\r\nThe previous version did not apply hilt, and this version is the first time to bring hilt to real users.\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;application\r\n        android:name=&quot;.MyApplication&quot;\r\n\r\nMyApplication.java\r\n\r\n    @HiltAndroidApp\r\n    public final class MyApplication extends MultiDexApplication implements Configuration.Provider\r\n\r\nFirstEntryPage.java\r\n\r\n    @AndroidEntryPoint\r\n    public final class FirstEntryPage extends FragmentActivity implements OnClickListener, DialogInterface.OnClickListener\r\n\r\nbuild.gradle\r\n\r\n    dependencies {\r\n       classpath &#39;com.google.dagger:hilt-android-gradle-plugin:2.40.1&#39;\r\n    }\r\n\r\n    apply plugin: &#39;dagger.hilt.android.plugin&#39;  \r\n\r\n    dependencies {\r\n       implementation &#39;androidx.hilt:hilt-work:1.0.0&#39;\r\n       implementation &#39;com.google.dagger:hilt-android:2.38.1&#39;\r\n       kapt &#39;androidx.hilt:hilt-compiler:1.0.0&#39;\r\n       kapt &#39;com.google.dagger:hilt-compiler:2.38.1&#39;\r\n    }\r\n","title":"Android Hilt throw IllegalStateException even stated Custom Application in Manifest.xml","body":"<p>I have a few real devices and also tested with Android studio's emulator and did not find any similar crash.</p>\n<p>My problem is that I published the app and received crash reports from real users.</p>\n<p>Google Play Console Crash Report</p>\n<blockquote>\n<p>Type\njava.lang.RuntimeException<br />\n...<br />\nCaused by: java.lang.IllegalStateException:<br />\nat dagger.hilt.android.internal.managers.ActivityComponentManager.createComponent (ActivityComponentManager.java:76)<br />\nat dagger.hilt.android.internal.managers.ActivityComponentManager.generatedComponent (ActivityComponentManager.java:66)<br />\nat MyApp.Hilt_FirstEntryPage.generatedComponent (Hilt_FirstEntryPage.java:45)<br />\nat MyApp.Hilt_FirstEntryPage.inject (Hilt_FirstEntryPage.java:67)<br />\nat MyApp.Hilt_FirstEntryPage$1.onContextAvailable (Hilt_FirstEntryPage.java:38)<br />\nat androidx.activity.contextaware.ContextAwareHelper.dispatchOnContextAvailable (ContextAwareHelper.java:99)<br />\nat androidx.activity.ComponentActivity.onCreate (ComponentActivity.java:322)<br />\nat androidx.fragment.app.FragmentActivity.onCreate (FragmentActivity.java:249)<br />\nat MyApp.FirstEntryPage.onCreate (FirstPage.java:68)<br />\nat android.app.Activity.performCreate (Activity.java:8207)<br />\n...</p>\n</blockquote>\n<p>ActivityComponentManager.java:76</p>\n<pre><code>Hilt Activity must be attached to an @HiltAndroidApp Application. Did you forget to specify your Application's class name in your  \n manifest's &lt;application /&gt;'s android:name attribute?\n</code></pre>\n<p>I did check other stack overflow questions, I already did add my custom application into Manifest and run successfully in my testing devices.</p>\n<p>My app has only one module and only one application, and also some several <strong>ContentProvider</strong>, <strong>BroadcastReceiver</strong>, <strong>AppWidgetProvider</strong>, <strong>WorkManager</strong>, <strong>JobIntentService</strong>, not sure they could affect the normal initialization of application to lead the crash.</p>\n<p>For the FirstEntryPage activity, I did not inject any things. It is very simple activity page just like Hello World example. Therefore there could not be any component conflict. In addition, FirstEntryPage activity can be opened by <strong>PendingIntent</strong> from <strong>BroadcastReceiver</strong> and also notification.</p>\n<p>The previous version did not apply hilt, and this version is the first time to bring hilt to real users.</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;application\n    android:name=&quot;.MyApplication&quot;\n</code></pre>\n<p>MyApplication.java</p>\n<pre><code>@HiltAndroidApp\npublic final class MyApplication extends MultiDexApplication implements Configuration.Provider\n</code></pre>\n<p>FirstEntryPage.java</p>\n<pre><code>@AndroidEntryPoint\npublic final class FirstEntryPage extends FragmentActivity implements OnClickListener, DialogInterface.OnClickListener\n</code></pre>\n<p>build.gradle</p>\n<pre><code>dependencies {\n   classpath 'com.google.dagger:hilt-android-gradle-plugin:2.40.1'\n}\n\napply plugin: 'dagger.hilt.android.plugin'  \n\ndependencies {\n   implementation 'androidx.hilt:hilt-work:1.0.0'\n   implementation 'com.google.dagger:hilt-android:2.38.1'\n   kapt 'androidx.hilt:hilt-compiler:1.0.0'\n   kapt 'com.google.dagger:hilt-compiler:2.38.1'\n}\n</code></pre>\n"},{"tags":["java","synchronization","parallelstream"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1653297886,"post_id":72345155,"comment_id":127808574,"body_markdown":"I&#39;m not sure what you&#39;re after here. The synchronization is unnecessary. The parallel stream you have will _not_ result in multiple threads calling `functionA` on the same `Attribute` _instance_ at the same time. Each `functionA` call happens in its own thread.","body":"I&#39;m not sure what you&#39;re after here. The synchronization is unnecessary. The parallel stream you have will <i>not</i> result in multiple threads calling <code>functionA</code> on the same <code>Attribute</code> <i>instance</i> at the same time. Each <code>functionA</code> call happens in its own thread."},{"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"score":0,"creation_date":1653298830,"post_id":72345155,"comment_id":127808923,"body_markdown":"@Slaw In my truly code, functionB is send data to client using socket, so when different Attribute call functionB, it will upset my data sequence in socket.","body":"@Slaw In my truly code, functionB is send data to client using socket, so when different Attribute call functionB, it will upset my data sequence in socket."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1653299741,"post_id":72345155,"comment_id":127809232,"body_markdown":"If you have to send data serially, then why execute the code in parallel?","body":"If you have to send data serially, then why execute the code in parallel?"},{"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"score":0,"creation_date":1653302472,"post_id":72345155,"comment_id":127810173,"body_markdown":"@Slaw I think it can speedup my code except functionB.","body":"@Slaw I think it can speedup my code except functionB."}],"answers":[{"tags":[],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653300087,"creation_date":1653300087,"answer_id":72346658,"question_id":72345155,"body_markdown":"Can you use ExecutorService like below. \r\n\r\n```\r\nExecutorService executorService = Executors.newFixedThreadPool(10);\r\n\r\n    public void functionA() {\r\n        synchronized (this) {\r\n            functionB();\r\n        }\r\n        executorService.submit(this::functionC);\r\n        executorService.submit(this::functionD);\r\n    }\r\n```\r\nNot exactly elegant, but it will interleave between C and D after B is completed.","title":"How to synchronized one method when parallelStream call in Java?","body":"<p>Can you use ExecutorService like below.</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n    public void functionA() {\n        synchronized (this) {\n            functionB();\n        }\n        executorService.submit(this::functionC);\n        executorService.submit(this::functionD);\n    }\n</code></pre>\n<p>Not exactly elegant, but it will interleave between C and D after B is completed.</p>\n"}],"owner":{"account_id":21625271,"reputation":169,"user_id":15949695,"display_name":"hua"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653300087,"creation_date":1653293120,"question_id":72345155,"body_markdown":"I want to Synchronize functionB. I mean, when some Attriute object call functionA, there are always just run one of object&#39;s functionB in the same time. But functionC and functionD in each object can do it after functionB finished by themselves.\r\n\r\nI tried to add synchronized in function B, but it seems like not work.\r\n\r\nThis is Attribute class:\r\n\r\n    public class Attribute {\r\n        private String name;\r\n\r\n        Attribute(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public void functionA() {\r\n            synchronized (this) {\r\n                functionB();\r\n            }\r\n            functionC();\r\n            functionD();\r\n        }\r\n\r\n        private void functionB() {\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                System.out.println(name + &quot; &quot; + i + &quot; time functionB.&quot;);\r\n            }\r\n        }\r\n\r\n        private void functionC() {\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                System.out.println(name + &quot; &quot; + i + &quot; time functionC.&quot;);\r\n            }\r\n        }\r\n\r\n        private void functionD() {\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                System.out.println(name + &quot; &quot; + i + &quot; time functionD.&quot;);\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) throws IOException {    \r\n            ArrayList&lt;Attribute&gt; attributes = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                 attributes.add(new Attribute(&quot;No.&quot; + i));\r\n            }\r\n            attributes.parallelStream().forEach(Attribute::functionA);\r\n        }\r\n    }\r\n\r\n    \r\n\r\nAfter execute above code, the console show:\r\n\r\n    No.3 0 time functionB.\r\n    No.4 0 time functionB.\r\n    No.2 0 time functionB.\r\n    No.2 1 time functionB.\r\n    No.2 2 time functionB.\r\n    No.1 0 time functionB.\r\n    No.1 1 time functionB.\r\n    ...\r\n\r\nBut I expect it:\r\n\r\n    No.3 0 time functionB.\r\n    No.3 1 time functionB.\r\n    No.3 2 time functionB.\r\n    No.3 3 time functionB.\r\n    No.3 4 time functionB.\r\n    No.1 0 time functionB.\r\n    No.1 1 time functionB.\r\n    No.1 2 time functionB.\r\n    No.1 3 time functionB.\r\n    No.1 4 time functionB.\r\n    No.4 0 time functionB.\r\n    No.4 1 time functionB.\r\n    ...\r\n    No.1 1 time functionD.\r\n    No.3 3 time functionC.\r\n    No.2 3 time functionD.\r\n    No.1 2 time functionD.\r\n    No.4 2 time functionC.","title":"How to synchronized one method when parallelStream call in Java?","body":"<p>I want to Synchronize functionB. I mean, when some Attriute object call functionA, there are always just run one of object's functionB in the same time. But functionC and functionD in each object can do it after functionB finished by themselves.</p>\n<p>I tried to add synchronized in function B, but it seems like not work.</p>\n<p>This is Attribute class:</p>\n<pre><code>public class Attribute {\n    private String name;\n\n    Attribute(String name) {\n        this.name = name;\n    }\n\n    public void functionA() {\n        synchronized (this) {\n            functionB();\n        }\n        functionC();\n        functionD();\n    }\n\n    private void functionB() {\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(name + &quot; &quot; + i + &quot; time functionB.&quot;);\n        }\n    }\n\n    private void functionC() {\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(name + &quot; &quot; + i + &quot; time functionC.&quot;);\n        }\n    }\n\n    private void functionD() {\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(name + &quot; &quot; + i + &quot; time functionD.&quot;);\n        }\n    }\n    \n    public static void main(String[] args) throws IOException {    \n        ArrayList&lt;Attribute&gt; attributes = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 5; i++) {\n             attributes.add(new Attribute(&quot;No.&quot; + i));\n        }\n        attributes.parallelStream().forEach(Attribute::functionA);\n    }\n}\n</code></pre>\n<p>After execute above code, the console show:</p>\n<pre><code>No.3 0 time functionB.\nNo.4 0 time functionB.\nNo.2 0 time functionB.\nNo.2 1 time functionB.\nNo.2 2 time functionB.\nNo.1 0 time functionB.\nNo.1 1 time functionB.\n...\n</code></pre>\n<p>But I expect it:</p>\n<pre><code>No.3 0 time functionB.\nNo.3 1 time functionB.\nNo.3 2 time functionB.\nNo.3 3 time functionB.\nNo.3 4 time functionB.\nNo.1 0 time functionB.\nNo.1 1 time functionB.\nNo.1 2 time functionB.\nNo.1 3 time functionB.\nNo.1 4 time functionB.\nNo.4 0 time functionB.\nNo.4 1 time functionB.\n...\nNo.1 1 time functionD.\nNo.3 3 time functionC.\nNo.2 3 time functionD.\nNo.1 2 time functionD.\nNo.4 2 time functionC.\n</code></pre>\n"},{"tags":["java","android","arrays","bufferedreader"],"answers":[{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653300026,"creation_date":1653293951,"answer_id":72345320,"question_id":72345169,"body_markdown":"Use a `RandomAccessFile` in order to seek to the offset to start copying from.\r\n\r\nFor example:\r\n```java\r\nfinal int bufSize = 1024; // the buffer size for copying\r\nbyte[] buf = new byte[bufSize];\r\n\r\nfinal long start = 10000L; // start offset at source\r\nfinal long end = 15000L;   // end (non-inclusive) offset at source\r\ntry (\r\n    RandomAccessFile in = new RandomAccessFile(&quot;input.bin&quot;, &quot;r&quot;);\r\n    OutputStream out = new FileOutputStream(&quot;output.bin&quot;)) \r\n{\r\n      in.seek(start);\r\n      long remaining = end - start;\r\n      do {\r\n         int n = (remaining &lt; bufSize)? ((int) remaining) : bufSize;\r\n         int nread = in.read(buf, 0, n);\r\n         if (nread &lt; 0)\r\n             break; // EOF\r\n         remaining -= nread;\r\n         out.write(buf, 0, nread);\r\n      } while (remaining &gt; 0);\r\n}\r\n```","title":"read a File in hex byteArray and write part of that array to another File - java android","body":"<p>Use a <code>RandomAccessFile</code> in order to seek to the offset to start copying from.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int bufSize = 1024; // the buffer size for copying\nbyte[] buf = new byte[bufSize];\n\nfinal long start = 10000L; // start offset at source\nfinal long end = 15000L;   // end (non-inclusive) offset at source\ntry (\n    RandomAccessFile in = new RandomAccessFile(&quot;input.bin&quot;, &quot;r&quot;);\n    OutputStream out = new FileOutputStream(&quot;output.bin&quot;)) \n{\n      in.seek(start);\n      long remaining = end - start;\n      do {\n         int n = (remaining &lt; bufSize)? ((int) remaining) : bufSize;\n         int nread = in.read(buf, 0, n);\n         if (nread &lt; 0)\n             break; // EOF\n         remaining -= nread;\n         out.write(buf, 0, nread);\n      } while (remaining &gt; 0);\n}\n</code></pre>\n"}],"owner":{"account_id":18435778,"reputation":49,"user_id":13429664,"display_name":"Hamid Habibi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72345320,"answer_count":1,"score":-1,"last_activity_date":1653300026,"creation_date":1653293183,"question_id":72345169,"body_markdown":"I have a 200kb file and I have to read it in bytes, and then write part of this byteArray (from index 90000 to 165000) to another file. How can I accomplish this.&lt;br&gt;\r\n\r\n``` \r\nFile file1 = new File(getExternalStorageDirectory(), &quot;file1.raw&quot;); //the 200kb file\r\ntry {\r\n         File.createTempFile(&quot;file2&quot;, &quot;mp3&quot;, getCacheDir()); //empty file that needs to get filled with part of the byte array from file1\r\n        } catch (IOException ignored) {}\r\n\r\n```","title":"read a File in hex byteArray and write part of that array to another File - java android","body":"<p>I have a 200kb file and I have to read it in bytes, and then write part of this byteArray (from index 90000 to 165000) to another file. How can I accomplish this.<br></p>\n<pre><code>File file1 = new File(getExternalStorageDirectory(), &quot;file1.raw&quot;); //the 200kb file\ntry {\n         File.createTempFile(&quot;file2&quot;, &quot;mp3&quot;, getCacheDir()); //empty file that needs to get filled with part of the byte array from file1\n        } catch (IOException ignored) {}\n\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"score":0,"creation_date":1653307542,"post_id":72346627,"comment_id":127812020,"body_markdown":"Where did you call &quot;item.getName&quot; in your page 2 ?\nyour error appeared cause this line right ? &quot;Toast.makeText(getContext(), item.getName(), Toast.LENGTH_SHORT).show();&quot;","body":"Where did you call &quot;item.getName&quot; in your page 2 ? your error appeared cause this line right ? &quot;Toast.makeText(getContext(), item.getName(), Toast.LENGTH_SHORT).show();&quot;"},{"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"score":0,"creation_date":1653310994,"post_id":72346627,"comment_id":127813475,"body_markdown":"Hi @LouisChabert, thanks for your response,\nI don&#39;t have any Toast on my second page, but I can guarantee you that when I use it, it shows the toast with no problem.\nNow on page 1, whenever I try to invoke item.getName() on a Toast, or anywhere for that matter, it will give me this NullPointerException.","body":"Hi @LouisChabert, thanks for your response, I don&#39;t have any Toast on my second page, but I can guarantee you that when I use it, it shows the toast with no problem. Now on page 1, whenever I try to invoke item.getName() on a Toast, or anywhere for that matter, it will give me this NullPointerException."},{"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"score":0,"creation_date":1653311266,"post_id":72346627,"comment_id":127813601,"body_markdown":"Ok well, item is an element of view right ? does it have an ID ?","body":"Ok well, item is an element of view right ? does it have an ID ?"},{"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"score":0,"creation_date":1653311504,"post_id":72346627,"comment_id":127813698,"body_markdown":"Excuse my ignorance, I don&#39;t quite understand what you mean by element, but I can tell you that, item is an object of the class ExerciseItemFinal, which is made of 3 atributes: Name, Weight, Reps. all the items are declared outside the OnCreateView or OnCreate methods, but inicialized within the previous code blocks I showed you. Edit: Apart from the last activity, where I declare and inicialize the variable immediately.","body":"Excuse my ignorance, I don&#39;t quite understand what you mean by element, but I can tell you that, item is an object of the class ExerciseItemFinal, which is made of 3 atributes: Name, Weight, Reps. all the items are declared outside the OnCreateView or OnCreate methods, but inicialized within the previous code blocks I showed you. Edit: Apart from the last activity, where I declare and inicialize the variable immediately."},{"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"score":0,"creation_date":1653312044,"post_id":72346627,"comment_id":127813960,"body_markdown":"It&#39;s my fault I didn&#39;t really understand what &quot;item&quot; meant, unfortunately I&#39;m not sure I can help you, I upvoted, I hope someone else can help you","body":"It&#39;s my fault I didn&#39;t really understand what &quot;item&quot; meant, unfortunately I&#39;m not sure I can help you, I upvoted, I hope someone else can help you"},{"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"score":0,"creation_date":1653312078,"post_id":72346627,"comment_id":127813976,"body_markdown":"I appreciate it!","body":"I appreciate it!"}],"owner":{"account_id":18923067,"reputation":39,"user_id":13806749,"display_name":"KingSwoozie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653299930,"creation_date":1653299930,"question_id":72346627,"body_markdown":"Good morning lads,\r\nGot myself quite the confusing problem, atleast for myself:\r\n\r\nI have a fragment (page 1) which contains a button that opens an activity (page 2) using activityLauncher so it returns a result, and within that same activity, a button for the exact same purposes (page 3). \r\n\r\n**profile_fragment.java** (page 1) + including the intent launch\r\n-\r\n```\r\n    ActivityResultLauncher&lt;Intent&gt; activityLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n\r\n                    if (result.getResultCode() == 111) {\r\n                        Intent intent = result.getData();\r\n\r\n                        if (intent != null) {\r\n                            item = (ExerciseItemFinal) intent.getSerializableExtra(&quot;siu&quot;);\r\n                            Toast.makeText(getContext(), item.getName(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    );\r\n```\r\n```\r\n        addButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getActivity(), ExerciseCategoryChooser.class);\r\n                activityLauncher.launch(intent);\r\n            }\r\n        });\r\n```\r\n**ExerciseCategoryChooser.java** (page 2) including the intent launch\r\n-\r\n```\r\n        ActivityResultLauncher&lt;Intent&gt; activityLauncher2 = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n\r\n                    if (result.getResultCode() == 011) {\r\n                        Intent intent = result.getData();\r\n\r\n                        if (intent != null) {\r\n                            item = (ExerciseItemFinal) intent.getSerializableExtra(&quot;code123&quot;);\r\n                            Intent i = new Intent();\r\n                            i.putExtra(&quot;siu&quot;, item);\r\n                            setResult(111, intent);\r\n                            finish();\r\n\r\n\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    );\r\n```\r\n```\r\n    @Override\r\n    public void onItemClick(int position) {\r\n\r\n        Intent intent = new Intent(ExerciseCategoryChooser.this, ConfirmAdditionExercise.class);\r\n\r\n        activityLauncher2.launch(intent);\r\n\r\n    }\r\n```\r\n**ConfirmAdditionExercise.java** (page 3) \r\n-\r\n```\r\n        bSave.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                ExerciseItemFinal item = new ExerciseItemFinal(&quot;Siuu&quot;, &quot;10.5&quot;, &quot;5&quot;);\r\n\r\n                Intent intent = new Intent();\r\n                intent.putExtra(&quot;code123&quot;, item);\r\n                setResult(011, intent);\r\n                finish();\r\n\r\n            }\r\n        });\r\n```\r\n\r\nThe problem with my code is that I am able to return the result of page 3 to page 2, so inside of page 2 I can use the object to do whatever I need, but returning the same object from page 2 to page 1, just won&#39;t work for some reason, whenever I try to use &quot;item.getName()&quot; it gives me a NullPointerException (which doesn&#39;t happen on the 2nd page):\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.poop123, PID: 23789\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.example.poop123.ExerciseItemFinal.getName()&#39; on a null object reference\r\n        at com.example.poop123.profile_fragment$1.onActivityResult(profile_fragment.java:66)\r\n        at com.example.poop123.profile_fragment$1.onActivityResult(profile_fragment.java:57)\r\n        at androidx.activity.result.ActivityResultRegistry$1.onStateChanged(ActivityResultRegistry.java:148)\r\n        at androidx.lifecycle.LifecycleRegistry$ObserverWithState.dispatchEvent(LifecycleRegistry.java:354)\r\n        at androidx.lifecycle.LifecycleRegistry.forwardPass(LifecycleRegistry.java:265)\r\n        at androidx.lifecycle.LifecycleRegistry.sync(LifecycleRegistry.java:307)\r\n        at androidx.lifecycle.LifecycleRegistry.moveToState(LifecycleRegistry.java:148)\r\n        at androidx.lifecycle.LifecycleRegistry.handleLifecycleEvent(LifecycleRegistry.java:134)\r\n        at androidx.fragment.app.Fragment.performStart(Fragment.java:3026)\r\n        at androidx.fragment.app.FragmentStateManager.start(FragmentStateManager.java:589)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:300)\r\n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:112)\r\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1647)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3128)\r\n        at androidx.fragment.app.FragmentManager.dispatchStart(FragmentManager.java:3079)\r\n        at androidx.fragment.app.FragmentController.dispatchStart(FragmentController.java:262)\r\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:510)\r\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1433)\r\n        at android.app.Activity.performStart(Activity.java:7923)\r\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3332)\r\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\r\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\r\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2044)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:224)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7562)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\r\n```\r\n\r\nI have all classes using ```Implements Serializable``` even if they don&#39;t require, and most confusing of all, I have a separate process for a different fragment which is basically the same thing, the only thing changing is the type of object being passed, but working.\r\n\r\nI would be very embarressed if the solution is simple and obvious...","title":"Returning activityLauncher result from activity to activity to fragment in Android Studio","body":"<p>Good morning lads,\nGot myself quite the confusing problem, atleast for myself:</p>\n<p>I have a fragment (page 1) which contains a button that opens an activity (page 2) using activityLauncher so it returns a result, and within that same activity, a button for the exact same purposes (page 3).</p>\n<h2><strong>profile_fragment.java</strong> (page 1) + including the intent launch</h2>\n<pre><code>    ActivityResultLauncher&lt;Intent&gt; activityLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n\n                    if (result.getResultCode() == 111) {\n                        Intent intent = result.getData();\n\n                        if (intent != null) {\n                            item = (ExerciseItemFinal) intent.getSerializableExtra(&quot;siu&quot;);\n                            Toast.makeText(getContext(), item.getName(), Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                }\n            }\n    );\n</code></pre>\n<pre><code>        addButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(getActivity(), ExerciseCategoryChooser.class);\n                activityLauncher.launch(intent);\n            }\n        });\n</code></pre>\n<h2><strong>ExerciseCategoryChooser.java</strong> (page 2) including the intent launch</h2>\n<pre><code>        ActivityResultLauncher&lt;Intent&gt; activityLauncher2 = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n\n                    if (result.getResultCode() == 011) {\n                        Intent intent = result.getData();\n\n                        if (intent != null) {\n                            item = (ExerciseItemFinal) intent.getSerializableExtra(&quot;code123&quot;);\n                            Intent i = new Intent();\n                            i.putExtra(&quot;siu&quot;, item);\n                            setResult(111, intent);\n                            finish();\n\n\n                        }\n                    }\n                }\n            }\n    );\n</code></pre>\n<pre><code>    @Override\n    public void onItemClick(int position) {\n\n        Intent intent = new Intent(ExerciseCategoryChooser.this, ConfirmAdditionExercise.class);\n\n        activityLauncher2.launch(intent);\n\n    }\n</code></pre>\n<h2><strong>ConfirmAdditionExercise.java</strong> (page 3)</h2>\n<pre><code>        bSave.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                ExerciseItemFinal item = new ExerciseItemFinal(&quot;Siuu&quot;, &quot;10.5&quot;, &quot;5&quot;);\n\n                Intent intent = new Intent();\n                intent.putExtra(&quot;code123&quot;, item);\n                setResult(011, intent);\n                finish();\n\n            }\n        });\n</code></pre>\n<p>The problem with my code is that I am able to return the result of page 3 to page 2, so inside of page 2 I can use the object to do whatever I need, but returning the same object from page 2 to page 1, just won't work for some reason, whenever I try to use &quot;item.getName()&quot; it gives me a NullPointerException (which doesn't happen on the 2nd page):</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.poop123, PID: 23789\n    java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.example.poop123.ExerciseItemFinal.getName()' on a null object reference\n        at com.example.poop123.profile_fragment$1.onActivityResult(profile_fragment.java:66)\n        at com.example.poop123.profile_fragment$1.onActivityResult(profile_fragment.java:57)\n        at androidx.activity.result.ActivityResultRegistry$1.onStateChanged(ActivityResultRegistry.java:148)\n        at androidx.lifecycle.LifecycleRegistry$ObserverWithState.dispatchEvent(LifecycleRegistry.java:354)\n        at androidx.lifecycle.LifecycleRegistry.forwardPass(LifecycleRegistry.java:265)\n        at androidx.lifecycle.LifecycleRegistry.sync(LifecycleRegistry.java:307)\n        at androidx.lifecycle.LifecycleRegistry.moveToState(LifecycleRegistry.java:148)\n        at androidx.lifecycle.LifecycleRegistry.handleLifecycleEvent(LifecycleRegistry.java:134)\n        at androidx.fragment.app.Fragment.performStart(Fragment.java:3026)\n        at androidx.fragment.app.FragmentStateManager.start(FragmentStateManager.java:589)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:300)\n        at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:112)\n        at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1647)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3128)\n        at androidx.fragment.app.FragmentManager.dispatchStart(FragmentManager.java:3079)\n        at androidx.fragment.app.FragmentController.dispatchStart(FragmentController.java:262)\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:510)\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1433)\n        at android.app.Activity.performStart(Activity.java:7923)\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:3332)\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2044)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:224)\n        at android.app.ActivityThread.main(ActivityThread.java:7562)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\n</code></pre>\n<p>I have all classes using <code>Implements Serializable</code> even if they don't require, and most confusing of all, I have a separate process for a different fragment which is basically the same thing, the only thing changing is the type of object being passed, but working.</p>\n<p>I would be very embarressed if the solution is simple and obvious...</p>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1653299441,"post_id":72346358,"comment_id":127809130,"body_markdown":"Could you give us more information about the laser meter?","body":"Could you give us more information about the laser meter?"},{"owner":{"account_id":23147519,"reputation":77,"user_id":17250074,"display_name":"Symtox"},"score":0,"creation_date":1653299538,"post_id":72346358,"comment_id":127809163,"body_markdown":"sure, it&#39;s a DISTO D2 from Leica using Bluetooth Smart","body":"sure, it&#39;s a DISTO D2 from Leica using Bluetooth Smart"}],"answers":[{"tags":[],"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653299867,"creation_date":1653299867,"answer_id":72346615,"question_id":72346358,"body_markdown":"Looking at the [user manual](https://shop.leica-geosystems.com/sites/default/files/2021-11/Leica_DistoD2_UM_en.pdf) for the Leica DISTO D2 it states the device uses Bluetooth Smart, also known as Bluetooth Low Energy (BLE). You won&#39;t be able to connect to it using Bluetooth Sockets (Bluetooth Classic).\r\n\r\nPlease follow the [Android documentation](https://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview) on BLE to develop your app. To debug the connection beforehand, please install a generic BLE scanner such as [nRF Connect](https://www.nordicsemi.com/Products/Development-tools/nrf-connect-for-mobile) and investigate the services and characteristics the device offers.","title":"BluetoothDevice.getUuids() returns null","body":"<p>Looking at the <a href=\"https://shop.leica-geosystems.com/sites/default/files/2021-11/Leica_DistoD2_UM_en.pdf\" rel=\"nofollow noreferrer\">user manual</a> for the Leica DISTO D2 it states the device uses Bluetooth Smart, also known as Bluetooth Low Energy (BLE). You won't be able to connect to it using Bluetooth Sockets (Bluetooth Classic).</p>\n<p>Please follow the <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/ble-overview\" rel=\"nofollow noreferrer\">Android documentation</a> on BLE to develop your app. To debug the connection beforehand, please install a generic BLE scanner such as <a href=\"https://www.nordicsemi.com/Products/Development-tools/nrf-connect-for-mobile\" rel=\"nofollow noreferrer\">nRF Connect</a> and investigate the services and characteristics the device offers.</p>\n"}],"owner":{"account_id":23147519,"reputation":77,"user_id":17250074,"display_name":"Symtox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653299867,"creation_date":1653298743,"question_id":72346358,"body_markdown":"I am currently working on an app which requires a Bluetooth laser meter. So i tried a few lines of code and went through a loads of failures. The last error I get is an NPE because i try to access the array returned by getUuids().\r\nI also tried to connect the app to my airPods and everything worked well.\r\nI am at minSdk 27 and targetSdk 31\r\nAll bluetooth permissions (bluetooth, bluetooth_admin) are granted. \r\n\r\nthe fact is, the laser thing requires an app to work and i wonder if the constructor could have blocked some functionalities. if so, i&#39;ll look to buy another one from another brand, if someone could provide me a link to buy a device working for my app.\r\nHere&#39;s my bluetooth connect code (pretty generic I guess)\r\n\r\nI also tried the static UUID suggested in [this post][1] but i now get this socket error which (i think) mean the uuid&#39;s not working either:\r\n\r\n\r\n```\r\n    BluetoothAdapter blueAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    if (blueAdapter != null) {\r\n        if (blueAdapter.isEnabled()) {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH) != PackageManager.PERMISSION_GRANTED) {\r\n                Const.requestAllAppPermissions(this);\r\n                return;\r\n            }\r\n\r\n            Set&lt;BluetoothDevice&gt; bondedDevices = blueAdapter.getBondedDevices();\r\n            if (bondedDevices.size() &gt; 0) {\r\n                Object[] devices = bondedDevices.toArray();\r\n                BluetoothDevice device = (BluetoothDevice) devices[0];\r\n                System.out.println(device.getName());\r\n\r\n                if (device.fetchUuidsWithSdp()) {\r\n                    ParcelUuid[] uuids = device.getUuids();\r\n                    BluetoothSocket socket = null;\r\n                    try {\r\n           //socket = device.createRfcommSocketToServiceRecord(uuids[0].getUuid());\r\n                        socket = device.createRfcommSocketToServiceRecord(\r\nUUID.fromString(&quot;00001101-0000-1000-8000-00805f9b54fb&quot;));\r\n\r\n                        socket.connect();\r\n\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n                //outputStream = socket.getOutputStream();\r\n                //  inStream = socket.getInputStream();\r\n            } else {\r\n\r\n            }\r\n\r\n        } else {\r\n            System.out.println(&quot;bluetooth disabled&quot;);\r\n        }\r\n    } else {\r\n        System.out.println(&quot;No bluetooth built-in&quot;);\r\n    }\r\n```\r\n\r\nhere&#39;s the static UUID stacktrace:\r\n```\r\nW/BluetoothAdapter: getBluetoothService() called with no BluetoothManagerCallback\r\nW/System.err: java.io.IOException: read failed, socket might closed or timeout, read ret: -1\r\nW/System.err:     at android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:920)\r\nW/System.err:     at android.bluetooth.BluetoothSocket.readInt(BluetoothSocket.java:934)\r\nW/System.err:     at android.bluetooth.BluetoothSocket.connect(BluetoothSocket.java:494)\r\nW/System.err:     at com.adici.activities.PlanActivity.lambda$defButton$13$com-adici-activities-PlanActivity(PlanActivity.java:409)\r\nW/System.err:     at com.adici.activities.PlanActivity$$ExternalSyntheticLambda10.onClick(Unknown Source:2)\r\nW/System.err:     at android.view.View.performClick(View.java:7346)\r\nW/System.err:     at android.view.View.performClickInternal(View.java:7312)\r\nW/System.err:     at android.view.View.access$3200(View.java:846)\r\nW/System.err:     at android.view.View$PerformClick.run(View.java:27794)\r\nW/System.err:     at android.os.Handler.handleCallback(Handler.java:873)\r\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\r\nW/System.err:     at android.os.Looper.loop(Looper.java:214)\r\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:7100)\r\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\r\nW/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\r\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\r\n```\r\n\r\n\r\nI&#39;m open to any suggestion\r\n\r\n  [1]: https://stackoverflow.com/a/11622794/17250074","title":"BluetoothDevice.getUuids() returns null","body":"<p>I am currently working on an app which requires a Bluetooth laser meter. So i tried a few lines of code and went through a loads of failures. The last error I get is an NPE because i try to access the array returned by getUuids().\nI also tried to connect the app to my airPods and everything worked well.\nI am at minSdk 27 and targetSdk 31\nAll bluetooth permissions (bluetooth, bluetooth_admin) are granted.</p>\n<p>the fact is, the laser thing requires an app to work and i wonder if the constructor could have blocked some functionalities. if so, i'll look to buy another one from another brand, if someone could provide me a link to buy a device working for my app.\nHere's my bluetooth connect code (pretty generic I guess)</p>\n<p>I also tried the static UUID suggested in <a href=\"https://stackoverflow.com/a/11622794/17250074\">this post</a> but i now get this socket error which (i think) mean the uuid's not working either:</p>\n<pre><code>    BluetoothAdapter blueAdapter = BluetoothAdapter.getDefaultAdapter();\n    if (blueAdapter != null) {\n        if (blueAdapter.isEnabled()) {\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH) != PackageManager.PERMISSION_GRANTED) {\n                Const.requestAllAppPermissions(this);\n                return;\n            }\n\n            Set&lt;BluetoothDevice&gt; bondedDevices = blueAdapter.getBondedDevices();\n            if (bondedDevices.size() &gt; 0) {\n                Object[] devices = bondedDevices.toArray();\n                BluetoothDevice device = (BluetoothDevice) devices[0];\n                System.out.println(device.getName());\n\n                if (device.fetchUuidsWithSdp()) {\n                    ParcelUuid[] uuids = device.getUuids();\n                    BluetoothSocket socket = null;\n                    try {\n           //socket = device.createRfcommSocketToServiceRecord(uuids[0].getUuid());\n                        socket = device.createRfcommSocketToServiceRecord(\nUUID.fromString(&quot;00001101-0000-1000-8000-00805f9b54fb&quot;));\n\n                        socket.connect();\n\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                //outputStream = socket.getOutputStream();\n                //  inStream = socket.getInputStream();\n            } else {\n\n            }\n\n        } else {\n            System.out.println(&quot;bluetooth disabled&quot;);\n        }\n    } else {\n        System.out.println(&quot;No bluetooth built-in&quot;);\n    }\n</code></pre>\n<p>here's the static UUID stacktrace:</p>\n<pre><code>W/BluetoothAdapter: getBluetoothService() called with no BluetoothManagerCallback\nW/System.err: java.io.IOException: read failed, socket might closed or timeout, read ret: -1\nW/System.err:     at android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:920)\nW/System.err:     at android.bluetooth.BluetoothSocket.readInt(BluetoothSocket.java:934)\nW/System.err:     at android.bluetooth.BluetoothSocket.connect(BluetoothSocket.java:494)\nW/System.err:     at com.adici.activities.PlanActivity.lambda$defButton$13$com-adici-activities-PlanActivity(PlanActivity.java:409)\nW/System.err:     at com.adici.activities.PlanActivity$$ExternalSyntheticLambda10.onClick(Unknown Source:2)\nW/System.err:     at android.view.View.performClick(View.java:7346)\nW/System.err:     at android.view.View.performClickInternal(View.java:7312)\nW/System.err:     at android.view.View.access$3200(View.java:846)\nW/System.err:     at android.view.View$PerformClick.run(View.java:27794)\nW/System.err:     at android.os.Handler.handleCallback(Handler.java:873)\nW/System.err:     at android.os.Handler.dispatchMessage(Handler.java:99)\nW/System.err:     at android.os.Looper.loop(Looper.java:214)\nW/System.err:     at android.app.ActivityThread.main(ActivityThread.java:7100)\nW/System.err:     at java.lang.reflect.Method.invoke(Native Method)\nW/System.err:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\nW/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:964)\n</code></pre>\n<p>I'm open to any suggestion</p>\n"},{"tags":["java","xml","bpmn","camunda","camunda-modeler"],"answers":[{"tags":[],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1544025186,"creation_date":1544024791,"answer_id":53635941,"question_id":53634916,"body_markdown":"I finally got it working by switching to the fluent model builder API, following this [https://blog.camunda.com/post/2014/02/the-new-camunda-bpmn-model-api/][1]\r\n\r\n\r\n  [1]: https://blog.camunda.com/post/2014/02/the-new-camunda-bpmn-model-api/\r\n\r\nThis is my updated test calss:\r\n\r\n    import org.camunda.bpm.model.bpmn.Bpmn;\r\n    import org.camunda.bpm.model.bpmn.BpmnModelInstance;\r\n    import org.camunda.bpm.model.bpmn.GatewayDirection;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws IOException {\r\n            BpmnModelInstance modelInstance = Bpmn.createProcess()\r\n                .name(&quot;BPMN API Invoice Process&quot;)\r\n                .executable()\r\n                .startEvent()\r\n                .name(&quot;Invoice received&quot;)\r\n                .camundaFormKey(&quot;embedded:app:forms/start-form.html&quot;)\r\n                .userTask()\r\n                .name(&quot;Assign Approver&quot;)\r\n                .camundaFormKey(&quot;embedded:app:forms/assign-approver.html&quot;)\r\n                .camundaAssignee(&quot;demo&quot;)\r\n                .userTask()\r\n                .id(&quot;approveInvoice&quot;)\r\n                .name(&quot;Approve Invoice&quot;)\r\n                .camundaFormKey(&quot;embedded:app:forms/approve-invoice.html&quot;)\r\n                .camundaAssignee(&quot;${approver}&quot;)\r\n                .exclusiveGateway()\r\n                .name(&quot;Invoice approved?&quot;)\r\n                .gatewayDirection(GatewayDirection.Diverging)\r\n                .condition(&quot;yes&quot;, &quot;${approved}&quot;)\r\n                .userTask()\r\n                .name(&quot;Prepare Bank Transfer&quot;)\r\n                .camundaFormKey(&quot;embedded:app:forms/prepare-bank-transfer.html&quot;)\r\n                .camundaCandidateGroups(&quot;accounting&quot;)\r\n                .serviceTask()\r\n                .name(&quot;Archive Invoice&quot;)\r\n                .endEvent()\r\n                .name(&quot;Invoice processed&quot;)\r\n                .moveToLastGateway()\r\n                .condition(&quot;no&quot;, &quot;${!approved}&quot;)\r\n                .userTask()\r\n                .name(&quot;Review Invoice&quot;)\r\n                .camundaFormKey(&quot;embedded:app:forms/review-invoice.html&quot;)\r\n                .camundaAssignee(&quot;demo&quot;)\r\n                .exclusiveGateway()\r\n                .name(&quot;Review successful?&quot;)\r\n                .gatewayDirection(GatewayDirection.Diverging)\r\n                .condition(&quot;no&quot;, &quot;${!clarified}&quot;)\r\n                .endEvent()\r\n                .name(&quot;Invoice not processed&quot;)\r\n                .moveToLastGateway()\r\n                .condition(&quot;yes&quot;, &quot;${clarified}&quot;)\r\n                .connectTo(&quot;approveInvoice&quot;)\r\n                .done();\r\n    \r\n            // validate and write model to file\r\n            Bpmn.validateModel(modelInstance);\r\n            File file = new File(&quot;bpmn-model.bpmn.xml&quot;);\r\n            file.createNewFile();\r\n    \r\n            String bpmnString = Bpmn.convertToString(modelInstance);\r\n            System.out.println(&quot;bpmnString&quot;);\r\n            System.out.println(bpmnString);\r\n    \r\n            Bpmn.writeModelToFile(file, modelInstance);\r\n        }\r\n    }\r\n\r\nand this is the generated xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;definitions xmlns:bpmndi=&quot;http://www.omg.org/spec/BPMN/20100524/DI&quot; xmlns:camunda=&quot;http://camunda.org/schema/1.0/bpmn&quot; xmlns:dc=&quot;http://www.omg.org/spec/DD/20100524/DC&quot; xmlns:di=&quot;http://www.omg.org/spec/DD/20100524/DI&quot; id=&quot;definitions_3bd3e094-3e53-4644-af0c-1a048653920c&quot; targetNamespace=&quot;http://www.omg.org/spec/BPMN/20100524/MODEL&quot; xmlns=&quot;http://www.omg.org/spec/BPMN/20100524/MODEL&quot;&gt;\r\n      &lt;process id=&quot;process_e14ca74e-6095-4a2b-bced-debcb3b37954&quot; isExecutable=&quot;true&quot; name=&quot;BPMN API Invoice Process&quot;&gt;\r\n        &lt;startEvent camunda:formKey=&quot;embedded:app:forms/start-form.html&quot; id=&quot;startEvent_e8daa33a-af99-4b7a-87ee-200b0e7bedcd&quot; name=&quot;Invoice received&quot;&gt;\r\n          &lt;outgoing&gt;sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3&lt;/outgoing&gt;\r\n        &lt;/startEvent&gt;\r\n        &lt;userTask camunda:assignee=&quot;demo&quot; camunda:formKey=&quot;embedded:app:forms/assign-approver.html&quot; id=&quot;userTask_029f48b9-de24-4292-af49-845e81fdcc4b&quot; name=&quot;Assign Approver&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d&lt;/outgoing&gt;\r\n        &lt;/userTask&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3&quot; sourceRef=&quot;startEvent_e8daa33a-af99-4b7a-87ee-200b0e7bedcd&quot; targetRef=&quot;userTask_029f48b9-de24-4292-af49-845e81fdcc4b&quot;/&gt;\r\n        &lt;userTask camunda:assignee=&quot;${approver}&quot; camunda:formKey=&quot;embedded:app:forms/approve-invoice.html&quot; id=&quot;approveInvoice&quot; name=&quot;Approve Invoice&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d&lt;/incoming&gt;\r\n          &lt;incoming&gt;sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5&lt;/outgoing&gt;\r\n        &lt;/userTask&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d&quot; sourceRef=&quot;userTask_029f48b9-de24-4292-af49-845e81fdcc4b&quot; targetRef=&quot;approveInvoice&quot;/&gt;\r\n        &lt;exclusiveGateway gatewayDirection=&quot;Diverging&quot; id=&quot;exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b&quot; name=&quot;Invoice approved?&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4&lt;/outgoing&gt;\r\n          &lt;outgoing&gt;sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946&lt;/outgoing&gt;\r\n        &lt;/exclusiveGateway&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5&quot; sourceRef=&quot;approveInvoice&quot; targetRef=&quot;exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4&quot; name=&quot;yes&quot; sourceRef=&quot;exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b&quot; targetRef=&quot;userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5&quot;&gt;\r\n          &lt;conditionExpression id=&quot;conditionExpression_13d7607b-d7e7-4fa4-a364-aeabff28a0f1&quot;&gt;${approved}&lt;/conditionExpression&gt;\r\n        &lt;/sequenceFlow&gt;\r\n        &lt;userTask camunda:candidateGroups=&quot;accounting&quot; camunda:formKey=&quot;embedded:app:forms/prepare-bank-transfer.html&quot; id=&quot;userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5&quot; name=&quot;Prepare Bank Transfer&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990&lt;/outgoing&gt;\r\n        &lt;/userTask&gt;\r\n        &lt;serviceTask id=&quot;serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4&quot; name=&quot;Archive Invoice&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba&lt;/outgoing&gt;\r\n        &lt;/serviceTask&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990&quot; sourceRef=&quot;userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5&quot; targetRef=&quot;serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4&quot;/&gt;\r\n        &lt;endEvent id=&quot;endEvent_affc9949-819a-4b79-98bd-0f2fd844d014&quot; name=&quot;Invoice processed&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba&lt;/incoming&gt;\r\n        &lt;/endEvent&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba&quot; sourceRef=&quot;serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4&quot; targetRef=&quot;endEvent_affc9949-819a-4b79-98bd-0f2fd844d014&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946&quot; name=&quot;no&quot; sourceRef=&quot;exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b&quot; targetRef=&quot;userTask_7b955191-5741-44df-b7ba-d154ddfbe616&quot;&gt;\r\n          &lt;conditionExpression id=&quot;conditionExpression_ce06d35f-8638-4699-802b-7f1b94732f46&quot;&gt;${!approved}&lt;/conditionExpression&gt;\r\n        &lt;/sequenceFlow&gt;\r\n        &lt;userTask camunda:assignee=&quot;demo&quot; camunda:formKey=&quot;embedded:app:forms/review-invoice.html&quot; id=&quot;userTask_7b955191-5741-44df-b7ba-d154ddfbe616&quot; name=&quot;Review Invoice&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4&lt;/outgoing&gt;\r\n        &lt;/userTask&gt;\r\n        &lt;exclusiveGateway gatewayDirection=&quot;Diverging&quot; id=&quot;exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1&quot; name=&quot;Review successful?&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4&lt;/incoming&gt;\r\n          &lt;outgoing&gt;sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989&lt;/outgoing&gt;\r\n          &lt;outgoing&gt;sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d&lt;/outgoing&gt;\r\n        &lt;/exclusiveGateway&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4&quot; sourceRef=&quot;userTask_7b955191-5741-44df-b7ba-d154ddfbe616&quot; targetRef=&quot;exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989&quot; name=&quot;no&quot; sourceRef=&quot;exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1&quot; targetRef=&quot;endEvent_68057c88-fa46-43cc-a93c-774b26be7b50&quot;&gt;\r\n          &lt;conditionExpression id=&quot;conditionExpression_8bb43e50-dd2f-40ba-9cc9-91a69813a835&quot;&gt;${!clarified}&lt;/conditionExpression&gt;\r\n        &lt;/sequenceFlow&gt;\r\n        &lt;endEvent id=&quot;endEvent_68057c88-fa46-43cc-a93c-774b26be7b50&quot; name=&quot;Invoice not processed&quot;&gt;\r\n          &lt;incoming&gt;sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989&lt;/incoming&gt;\r\n        &lt;/endEvent&gt;\r\n        &lt;sequenceFlow id=&quot;sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d&quot; name=&quot;yes&quot; sourceRef=&quot;exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1&quot; targetRef=&quot;approveInvoice&quot;&gt;\r\n          &lt;conditionExpression id=&quot;conditionExpression_c3fb4bcf-905a-47dd-84cf-6cfe1980ca2e&quot;&gt;${clarified}&lt;/conditionExpression&gt;\r\n        &lt;/sequenceFlow&gt;\r\n      &lt;/process&gt;\r\n      &lt;bpmndi:BPMNDiagram id=&quot;BPMNDiagram_946186ab-976d-40e2-9ed2-4672566340a2&quot;&gt;\r\n        &lt;bpmndi:BPMNPlane bpmnElement=&quot;process_e14ca74e-6095-4a2b-bced-debcb3b37954&quot; id=&quot;BPMNPlane_78d2c2b7-e5e7-414f-abae-0dcddaefbdfd&quot;&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;startEvent_e8daa33a-af99-4b7a-87ee-200b0e7bedcd&quot; id=&quot;BPMNShape_2da46013-859f-418a-8612-25bd57aabb52&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;36.0&quot; width=&quot;36.0&quot; x=&quot;100.0&quot; y=&quot;100.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;userTask_029f48b9-de24-4292-af49-845e81fdcc4b&quot; id=&quot;BPMNShape_79fd4553-cfb0-4740-b4fe-093d1c96474b&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;80.0&quot; width=&quot;100.0&quot; x=&quot;186.0&quot; y=&quot;78.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3&quot; id=&quot;BPMNEdge_77315869-b425-4daf-85b6-6121867d91bc&quot;&gt;\r\n            &lt;di:waypoint x=&quot;136.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;186.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;approveInvoice&quot; id=&quot;BPMNShape_b54e1244-b4fb-4e70-8c0d-4b76eb2798b0&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;80.0&quot; width=&quot;100.0&quot; x=&quot;336.0&quot; y=&quot;78.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d&quot; id=&quot;BPMNEdge_dfa41f0e-273b-4d62-b8b8-ef9286b24f7d&quot;&gt;\r\n            &lt;di:waypoint x=&quot;286.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;336.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b&quot; id=&quot;BPMNShape_bc1af4c3-ef1f-4c26-a42c-b1c2982bf35c&quot; isMarkerVisible=&quot;true&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;50.0&quot; width=&quot;50.0&quot; x=&quot;486.0&quot; y=&quot;93.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5&quot; id=&quot;BPMNEdge_9e81a730-2822-4c70-8061-9bbecf05022d&quot;&gt;\r\n            &lt;di:waypoint x=&quot;436.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;486.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5&quot; id=&quot;BPMNShape_8c455164-1097-43ca-814f-6d601735b27a&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;80.0&quot; width=&quot;100.0&quot; x=&quot;586.0&quot; y=&quot;78.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4&quot; id=&quot;BPMNEdge_47ba6c2b-fd10-4faf-8ee9-cbe019282080&quot;&gt;\r\n            &lt;di:waypoint x=&quot;536.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;586.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4&quot; id=&quot;BPMNShape_d2e257f4-4c63-44e6-a8ab-d3179a83682c&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;80.0&quot; width=&quot;100.0&quot; x=&quot;736.0&quot; y=&quot;78.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990&quot; id=&quot;BPMNEdge_e5727f31-71a0-4f03-8a9d-7aca2cd9999a&quot;&gt;\r\n            &lt;di:waypoint x=&quot;686.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;736.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;endEvent_affc9949-819a-4b79-98bd-0f2fd844d014&quot; id=&quot;BPMNShape_4a1b2f6f-6929-4fd7-b6cf-9f49410242d7&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;36.0&quot; width=&quot;36.0&quot; x=&quot;886.0&quot; y=&quot;100.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba&quot; id=&quot;BPMNEdge_28346c07-6da9-41d2-bcf2-76a9583ea933&quot;&gt;\r\n            &lt;di:waypoint x=&quot;836.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;886.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;userTask_7b955191-5741-44df-b7ba-d154ddfbe616&quot; id=&quot;BPMNShape_1c62b32d-2c17-48b0-bbc7-ac0074c97e62&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;80.0&quot; width=&quot;100.0&quot; x=&quot;586.0&quot; y=&quot;208.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946&quot; id=&quot;BPMNEdge_40c826c8-638d-4cd2-b9a1-ccdfa9a5ee6e&quot;&gt;\r\n            &lt;di:waypoint x=&quot;511.0&quot; y=&quot;143.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;511.0&quot; y=&quot;248.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;586.0&quot; y=&quot;248.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1&quot; id=&quot;BPMNShape_36d66f18-3b46-4fde-9342-3ccd8d0f838d&quot; isMarkerVisible=&quot;true&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;50.0&quot; width=&quot;50.0&quot; x=&quot;736.0&quot; y=&quot;223.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4&quot; id=&quot;BPMNEdge_257a94d2-a5f6-4a88-9503-f5b9fd65cc7e&quot;&gt;\r\n            &lt;di:waypoint x=&quot;686.0&quot; y=&quot;248.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;736.0&quot; y=&quot;248.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNShape bpmnElement=&quot;endEvent_68057c88-fa46-43cc-a93c-774b26be7b50&quot; id=&quot;BPMNShape_2dff264a-5f15-44d9-ba38-b962be76ea74&quot;&gt;\r\n            &lt;dc:Bounds height=&quot;36.0&quot; width=&quot;36.0&quot; x=&quot;836.0&quot; y=&quot;230.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNShape&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989&quot; id=&quot;BPMNEdge_0a149725-d17c-4b6f-b7db-7854d0a27b00&quot;&gt;\r\n            &lt;di:waypoint x=&quot;786.0&quot; y=&quot;248.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;836.0&quot; y=&quot;248.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n          &lt;bpmndi:BPMNEdge bpmnElement=&quot;sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d&quot; id=&quot;BPMNEdge_8b25f14c-9653-42ab-a57f-48fc07bd7ee8&quot;&gt;\r\n            &lt;di:waypoint x=&quot;761.0&quot; y=&quot;273.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;761.0&quot; y=&quot;118.0&quot;/&gt;\r\n            &lt;di:waypoint x=&quot;336.0&quot; y=&quot;118.0&quot;/&gt;\r\n          &lt;/bpmndi:BPMNEdge&gt;\r\n        &lt;/bpmndi:BPMNPlane&gt;\r\n      &lt;/bpmndi:BPMNDiagram&gt;\r\n    &lt;/definitions&gt;\r\n\r\nBy comparing it to the above xml, I notice a few new `&lt;bpmndi ...&gt;` elements not present before.","title":"Java - Camunda BPMN model API: how to save valid xml?","body":"<p>I finally got it working by switching to the fluent model builder API, following this <a href=\"https://blog.camunda.com/post/2014/02/the-new-camunda-bpmn-model-api/\" rel=\"nofollow noreferrer\">https://blog.camunda.com/post/2014/02/the-new-camunda-bpmn-model-api/</a></p>\n\n<p>This is my updated test calss:</p>\n\n<pre><code>import org.camunda.bpm.model.bpmn.Bpmn;\nimport org.camunda.bpm.model.bpmn.BpmnModelInstance;\nimport org.camunda.bpm.model.bpmn.GatewayDirection;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Test {\n    public static void main(String[] args) throws IOException {\n        BpmnModelInstance modelInstance = Bpmn.createProcess()\n            .name(\"BPMN API Invoice Process\")\n            .executable()\n            .startEvent()\n            .name(\"Invoice received\")\n            .camundaFormKey(\"embedded:app:forms/start-form.html\")\n            .userTask()\n            .name(\"Assign Approver\")\n            .camundaFormKey(\"embedded:app:forms/assign-approver.html\")\n            .camundaAssignee(\"demo\")\n            .userTask()\n            .id(\"approveInvoice\")\n            .name(\"Approve Invoice\")\n            .camundaFormKey(\"embedded:app:forms/approve-invoice.html\")\n            .camundaAssignee(\"${approver}\")\n            .exclusiveGateway()\n            .name(\"Invoice approved?\")\n            .gatewayDirection(GatewayDirection.Diverging)\n            .condition(\"yes\", \"${approved}\")\n            .userTask()\n            .name(\"Prepare Bank Transfer\")\n            .camundaFormKey(\"embedded:app:forms/prepare-bank-transfer.html\")\n            .camundaCandidateGroups(\"accounting\")\n            .serviceTask()\n            .name(\"Archive Invoice\")\n            .endEvent()\n            .name(\"Invoice processed\")\n            .moveToLastGateway()\n            .condition(\"no\", \"${!approved}\")\n            .userTask()\n            .name(\"Review Invoice\")\n            .camundaFormKey(\"embedded:app:forms/review-invoice.html\")\n            .camundaAssignee(\"demo\")\n            .exclusiveGateway()\n            .name(\"Review successful?\")\n            .gatewayDirection(GatewayDirection.Diverging)\n            .condition(\"no\", \"${!clarified}\")\n            .endEvent()\n            .name(\"Invoice not processed\")\n            .moveToLastGateway()\n            .condition(\"yes\", \"${clarified}\")\n            .connectTo(\"approveInvoice\")\n            .done();\n\n        // validate and write model to file\n        Bpmn.validateModel(modelInstance);\n        File file = new File(\"bpmn-model.bpmn.xml\");\n        file.createNewFile();\n\n        String bpmnString = Bpmn.convertToString(modelInstance);\n        System.out.println(\"bpmnString\");\n        System.out.println(bpmnString);\n\n        Bpmn.writeModelToFile(file, modelInstance);\n    }\n}\n</code></pre>\n\n<p>and this is the generated xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;definitions xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" id=\"definitions_3bd3e094-3e53-4644-af0c-1a048653920c\" targetNamespace=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\"&gt;\n  &lt;process id=\"process_e14ca74e-6095-4a2b-bced-debcb3b37954\" isExecutable=\"true\" name=\"BPMN API Invoice Process\"&gt;\n    &lt;startEvent camunda:formKey=\"embedded:app:forms/start-form.html\" id=\"startEvent_e8daa33a-af99-4b7a-87ee-200b0e7bedcd\" name=\"Invoice received\"&gt;\n      &lt;outgoing&gt;sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3&lt;/outgoing&gt;\n    &lt;/startEvent&gt;\n    &lt;userTask camunda:assignee=\"demo\" camunda:formKey=\"embedded:app:forms/assign-approver.html\" id=\"userTask_029f48b9-de24-4292-af49-845e81fdcc4b\" name=\"Assign Approver\"&gt;\n      &lt;incoming&gt;sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d&lt;/outgoing&gt;\n    &lt;/userTask&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3\" sourceRef=\"startEvent_e8daa33a-af99-4b7a-87ee-200b0e7bedcd\" targetRef=\"userTask_029f48b9-de24-4292-af49-845e81fdcc4b\"/&gt;\n    &lt;userTask camunda:assignee=\"${approver}\" camunda:formKey=\"embedded:app:forms/approve-invoice.html\" id=\"approveInvoice\" name=\"Approve Invoice\"&gt;\n      &lt;incoming&gt;sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d&lt;/incoming&gt;\n      &lt;incoming&gt;sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5&lt;/outgoing&gt;\n    &lt;/userTask&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d\" sourceRef=\"userTask_029f48b9-de24-4292-af49-845e81fdcc4b\" targetRef=\"approveInvoice\"/&gt;\n    &lt;exclusiveGateway gatewayDirection=\"Diverging\" id=\"exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b\" name=\"Invoice approved?\"&gt;\n      &lt;incoming&gt;sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4&lt;/outgoing&gt;\n      &lt;outgoing&gt;sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946&lt;/outgoing&gt;\n    &lt;/exclusiveGateway&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5\" sourceRef=\"approveInvoice\" targetRef=\"exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b\"/&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4\" name=\"yes\" sourceRef=\"exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b\" targetRef=\"userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5\"&gt;\n      &lt;conditionExpression id=\"conditionExpression_13d7607b-d7e7-4fa4-a364-aeabff28a0f1\"&gt;${approved}&lt;/conditionExpression&gt;\n    &lt;/sequenceFlow&gt;\n    &lt;userTask camunda:candidateGroups=\"accounting\" camunda:formKey=\"embedded:app:forms/prepare-bank-transfer.html\" id=\"userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5\" name=\"Prepare Bank Transfer\"&gt;\n      &lt;incoming&gt;sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990&lt;/outgoing&gt;\n    &lt;/userTask&gt;\n    &lt;serviceTask id=\"serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4\" name=\"Archive Invoice\"&gt;\n      &lt;incoming&gt;sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba&lt;/outgoing&gt;\n    &lt;/serviceTask&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990\" sourceRef=\"userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5\" targetRef=\"serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4\"/&gt;\n    &lt;endEvent id=\"endEvent_affc9949-819a-4b79-98bd-0f2fd844d014\" name=\"Invoice processed\"&gt;\n      &lt;incoming&gt;sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba&lt;/incoming&gt;\n    &lt;/endEvent&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba\" sourceRef=\"serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4\" targetRef=\"endEvent_affc9949-819a-4b79-98bd-0f2fd844d014\"/&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946\" name=\"no\" sourceRef=\"exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b\" targetRef=\"userTask_7b955191-5741-44df-b7ba-d154ddfbe616\"&gt;\n      &lt;conditionExpression id=\"conditionExpression_ce06d35f-8638-4699-802b-7f1b94732f46\"&gt;${!approved}&lt;/conditionExpression&gt;\n    &lt;/sequenceFlow&gt;\n    &lt;userTask camunda:assignee=\"demo\" camunda:formKey=\"embedded:app:forms/review-invoice.html\" id=\"userTask_7b955191-5741-44df-b7ba-d154ddfbe616\" name=\"Review Invoice\"&gt;\n      &lt;incoming&gt;sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4&lt;/outgoing&gt;\n    &lt;/userTask&gt;\n    &lt;exclusiveGateway gatewayDirection=\"Diverging\" id=\"exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1\" name=\"Review successful?\"&gt;\n      &lt;incoming&gt;sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4&lt;/incoming&gt;\n      &lt;outgoing&gt;sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989&lt;/outgoing&gt;\n      &lt;outgoing&gt;sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d&lt;/outgoing&gt;\n    &lt;/exclusiveGateway&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4\" sourceRef=\"userTask_7b955191-5741-44df-b7ba-d154ddfbe616\" targetRef=\"exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1\"/&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989\" name=\"no\" sourceRef=\"exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1\" targetRef=\"endEvent_68057c88-fa46-43cc-a93c-774b26be7b50\"&gt;\n      &lt;conditionExpression id=\"conditionExpression_8bb43e50-dd2f-40ba-9cc9-91a69813a835\"&gt;${!clarified}&lt;/conditionExpression&gt;\n    &lt;/sequenceFlow&gt;\n    &lt;endEvent id=\"endEvent_68057c88-fa46-43cc-a93c-774b26be7b50\" name=\"Invoice not processed\"&gt;\n      &lt;incoming&gt;sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989&lt;/incoming&gt;\n    &lt;/endEvent&gt;\n    &lt;sequenceFlow id=\"sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d\" name=\"yes\" sourceRef=\"exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1\" targetRef=\"approveInvoice\"&gt;\n      &lt;conditionExpression id=\"conditionExpression_c3fb4bcf-905a-47dd-84cf-6cfe1980ca2e\"&gt;${clarified}&lt;/conditionExpression&gt;\n    &lt;/sequenceFlow&gt;\n  &lt;/process&gt;\n  &lt;bpmndi:BPMNDiagram id=\"BPMNDiagram_946186ab-976d-40e2-9ed2-4672566340a2\"&gt;\n    &lt;bpmndi:BPMNPlane bpmnElement=\"process_e14ca74e-6095-4a2b-bced-debcb3b37954\" id=\"BPMNPlane_78d2c2b7-e5e7-414f-abae-0dcddaefbdfd\"&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"startEvent_e8daa33a-af99-4b7a-87ee-200b0e7bedcd\" id=\"BPMNShape_2da46013-859f-418a-8612-25bd57aabb52\"&gt;\n        &lt;dc:Bounds height=\"36.0\" width=\"36.0\" x=\"100.0\" y=\"100.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"userTask_029f48b9-de24-4292-af49-845e81fdcc4b\" id=\"BPMNShape_79fd4553-cfb0-4740-b4fe-093d1c96474b\"&gt;\n        &lt;dc:Bounds height=\"80.0\" width=\"100.0\" x=\"186.0\" y=\"78.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_cb28e7e5-ebc0-4f27-b8b2-24403ab87ce3\" id=\"BPMNEdge_77315869-b425-4daf-85b6-6121867d91bc\"&gt;\n        &lt;di:waypoint x=\"136.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"186.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"approveInvoice\" id=\"BPMNShape_b54e1244-b4fb-4e70-8c0d-4b76eb2798b0\"&gt;\n        &lt;dc:Bounds height=\"80.0\" width=\"100.0\" x=\"336.0\" y=\"78.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_57a81fcd-fb35-42cd-afca-7c4c7914936d\" id=\"BPMNEdge_dfa41f0e-273b-4d62-b8b8-ef9286b24f7d\"&gt;\n        &lt;di:waypoint x=\"286.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"336.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"exclusiveGateway_b66a0444-2889-4cae-ac78-c1f65405ba0b\" id=\"BPMNShape_bc1af4c3-ef1f-4c26-a42c-b1c2982bf35c\" isMarkerVisible=\"true\"&gt;\n        &lt;dc:Bounds height=\"50.0\" width=\"50.0\" x=\"486.0\" y=\"93.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_1fe15a36-427e-4000-8fc7-50b8925ea1e5\" id=\"BPMNEdge_9e81a730-2822-4c70-8061-9bbecf05022d\"&gt;\n        &lt;di:waypoint x=\"436.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"486.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"userTask_79a63b4f-96a7-43d7-aab3-e8e0e83769e5\" id=\"BPMNShape_8c455164-1097-43ca-814f-6d601735b27a\"&gt;\n        &lt;dc:Bounds height=\"80.0\" width=\"100.0\" x=\"586.0\" y=\"78.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_9156c1d4-f756-447b-a384-e3bf17c43ff4\" id=\"BPMNEdge_47ba6c2b-fd10-4faf-8ee9-cbe019282080\"&gt;\n        &lt;di:waypoint x=\"536.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"586.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"serviceTask_9d976f99-f8fb-4705-ae6d-a606758111f4\" id=\"BPMNShape_d2e257f4-4c63-44e6-a8ab-d3179a83682c\"&gt;\n        &lt;dc:Bounds height=\"80.0\" width=\"100.0\" x=\"736.0\" y=\"78.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_b82e04ab-a0cc-4969-989a-1ec64d74d990\" id=\"BPMNEdge_e5727f31-71a0-4f03-8a9d-7aca2cd9999a\"&gt;\n        &lt;di:waypoint x=\"686.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"736.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"endEvent_affc9949-819a-4b79-98bd-0f2fd844d014\" id=\"BPMNShape_4a1b2f6f-6929-4fd7-b6cf-9f49410242d7\"&gt;\n        &lt;dc:Bounds height=\"36.0\" width=\"36.0\" x=\"886.0\" y=\"100.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_f0f99688-25b1-417e-9a5d-0d17503cb3ba\" id=\"BPMNEdge_28346c07-6da9-41d2-bcf2-76a9583ea933\"&gt;\n        &lt;di:waypoint x=\"836.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"886.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"userTask_7b955191-5741-44df-b7ba-d154ddfbe616\" id=\"BPMNShape_1c62b32d-2c17-48b0-bbc7-ac0074c97e62\"&gt;\n        &lt;dc:Bounds height=\"80.0\" width=\"100.0\" x=\"586.0\" y=\"208.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_29bab2ba-6108-4731-94c3-93a6955d1946\" id=\"BPMNEdge_40c826c8-638d-4cd2-b9a1-ccdfa9a5ee6e\"&gt;\n        &lt;di:waypoint x=\"511.0\" y=\"143.0\"/&gt;\n        &lt;di:waypoint x=\"511.0\" y=\"248.0\"/&gt;\n        &lt;di:waypoint x=\"586.0\" y=\"248.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"exclusiveGateway_5aa645c5-a5e7-4453-8498-8462092b85b1\" id=\"BPMNShape_36d66f18-3b46-4fde-9342-3ccd8d0f838d\" isMarkerVisible=\"true\"&gt;\n        &lt;dc:Bounds height=\"50.0\" width=\"50.0\" x=\"736.0\" y=\"223.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_74d95e16-7907-4000-9ffb-cdba8c3ddde4\" id=\"BPMNEdge_257a94d2-a5f6-4a88-9503-f5b9fd65cc7e\"&gt;\n        &lt;di:waypoint x=\"686.0\" y=\"248.0\"/&gt;\n        &lt;di:waypoint x=\"736.0\" y=\"248.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNShape bpmnElement=\"endEvent_68057c88-fa46-43cc-a93c-774b26be7b50\" id=\"BPMNShape_2dff264a-5f15-44d9-ba38-b962be76ea74\"&gt;\n        &lt;dc:Bounds height=\"36.0\" width=\"36.0\" x=\"836.0\" y=\"230.0\"/&gt;\n      &lt;/bpmndi:BPMNShape&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_3bf21b37-c534-4541-b84f-03d3fe05c989\" id=\"BPMNEdge_0a149725-d17c-4b6f-b7db-7854d0a27b00\"&gt;\n        &lt;di:waypoint x=\"786.0\" y=\"248.0\"/&gt;\n        &lt;di:waypoint x=\"836.0\" y=\"248.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n      &lt;bpmndi:BPMNEdge bpmnElement=\"sequenceFlow_6987bcb8-5f6a-467b-9b25-e21b90dd0d4d\" id=\"BPMNEdge_8b25f14c-9653-42ab-a57f-48fc07bd7ee8\"&gt;\n        &lt;di:waypoint x=\"761.0\" y=\"273.0\"/&gt;\n        &lt;di:waypoint x=\"761.0\" y=\"118.0\"/&gt;\n        &lt;di:waypoint x=\"336.0\" y=\"118.0\"/&gt;\n      &lt;/bpmndi:BPMNEdge&gt;\n    &lt;/bpmndi:BPMNPlane&gt;\n  &lt;/bpmndi:BPMNDiagram&gt;\n&lt;/definitions&gt;\n</code></pre>\n\n<p>By comparing it to the above xml, I notice a few new <code>&lt;bpmndi ...&gt;</code> elements not present before.</p>\n"},{"tags":[],"owner":{"account_id":25364487,"reputation":21,"user_id":19179268,"display_name":"casca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653298764,"creation_date":1653298764,"answer_id":72346362,"question_id":53634916,"body_markdown":"Missing isExecutable parameter in process\r\n```\r\n// create a process\r\nProcess process = modelInstance.newInstance(Process.class);\r\nprocess.setExecutable(true);\r\n```\r\n","title":"Java - Camunda BPMN model API: how to save valid xml?","body":"<p>Missing isExecutable parameter in process</p>\n<pre><code>// create a process\nProcess process = modelInstance.newInstance(Process.class);\nprocess.setExecutable(true);\n</code></pre>\n"}],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3465,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":53635941,"answer_count":2,"score":4,"last_activity_date":1653298764,"creation_date":1544021380,"question_id":53634916,"body_markdown":"I&#39;m building some test BPMN 2.0 models and saving them to xml files, in a Java project, by following the examples provided by the official [doc][1], in this case the example 2.\r\n\r\nI imported the lib in my pom like below:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.camunda.bpm.model/camunda-bpmn-model --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.camunda.bpm.model&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camunda-bpmn-model&lt;/artifactId&gt;\r\n        &lt;version&gt;7.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\nand this is my test class, following the example 2:\r\n\r\n    import org.camunda.bpm.model.bpmn.Bpmn;\r\n    import org.camunda.bpm.model.bpmn.BpmnModelInstance;\r\n    import org.camunda.bpm.model.bpmn.instance.*;\r\n    import org.camunda.bpm.model.bpmn.instance.Process;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Test {\r\n        protected static &lt;T extends BpmnModelElementInstance&gt; T createElement(BpmnModelInstance modelInstance, BpmnModelElementInstance parentElement, String id, Class&lt;T&gt; elementClass) {\r\n            T element = modelInstance.newInstance(elementClass);\r\n            element.setAttributeValue(&quot;id&quot;, id, true);\r\n            parentElement.addChildElement(element);\r\n            return element;\r\n        }\r\n    \r\n        public static SequenceFlow createSequenceFlow(BpmnModelInstance modelInstance, Process process, FlowNode from, FlowNode to) {\r\n            String identifier = from.getId() + &quot;-&quot; + to.getId();\r\n            SequenceFlow sequenceFlow = createElement(modelInstance, process, identifier, SequenceFlow.class);\r\n            process.addChildElement(sequenceFlow);\r\n            sequenceFlow.setSource(from);\r\n            from.getOutgoing().add(sequenceFlow);\r\n            sequenceFlow.setTarget(to);\r\n            to.getIncoming().add(sequenceFlow);\r\n            return sequenceFlow;\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            // create an empty model\r\n            BpmnModelInstance modelInstance = Bpmn.createEmptyModel();\r\n            Definitions definitions = modelInstance.newInstance(Definitions.class);\r\n            definitions.setTargetNamespace(&quot;http://camunda.org/examples&quot;);\r\n            modelInstance.setDefinitions(definitions);\r\n    \r\n            // create a process\r\n            Process process = modelInstance.newInstance(Process.class);\r\n            process.setId(&quot;process&quot;);\r\n            definitions.addChildElement(process);\r\n    \r\n            // create elements\r\n            StartEvent startEvent = createElement(modelInstance, process, &quot;start&quot;, StartEvent.class);\r\n            ParallelGateway fork = createElement(modelInstance, process, &quot;fork&quot;, ParallelGateway.class);\r\n            ServiceTask task1 = createElement(modelInstance, process, &quot;task1&quot;, ServiceTask.class);\r\n            task1.setName(&quot;Service Task&quot;);\r\n            UserTask task2 = createElement(modelInstance, process, &quot;task2&quot;, UserTask.class);\r\n            task2.setName(&quot;User Task&quot;);\r\n            ParallelGateway join = createElement(modelInstance, process, &quot;join&quot;, ParallelGateway.class);\r\n            EndEvent endEvent = createElement(modelInstance, process, &quot;end&quot;, EndEvent.class);\r\n    \r\n            // create flows\r\n            createSequenceFlow(modelInstance, process, startEvent, fork);\r\n            createSequenceFlow(modelInstance, process, fork, task1);\r\n            createSequenceFlow(modelInstance, process, fork, task2);\r\n            createSequenceFlow(modelInstance, process, task1, join);\r\n            createSequenceFlow(modelInstance, process, task2, join);\r\n            createSequenceFlow(modelInstance, process, join, endEvent);\r\n    \r\n            // validate and write model to file\r\n            Bpmn.validateModel(modelInstance);\r\n            File file = new File(&quot;bpmn-model.bpmn.xml&quot;);\r\n            file.createNewFile();\r\n            Bpmn.writeModelToFile(file, modelInstance);\r\n        }\r\n    }\r\n\r\nHere the generated BPMN 2.0 xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;definitions id=&quot;definitions_7b2df680-1d9c-4897-ba8b-a83548ab937f&quot; targetNamespace=&quot;http://camunda.org/examples&quot; xmlns=&quot;http://www.omg.org/spec/BPMN/20100524/MODEL&quot;&gt;\r\n      &lt;process id=&quot;process&quot;&gt;\r\n        &lt;startEvent id=&quot;start&quot;&gt;\r\n          &lt;outgoing&gt;start-fork&lt;/outgoing&gt;\r\n        &lt;/startEvent&gt;\r\n        &lt;parallelGateway id=&quot;fork&quot;&gt;\r\n          &lt;incoming&gt;start-fork&lt;/incoming&gt;\r\n          &lt;outgoing&gt;fork-task1&lt;/outgoing&gt;\r\n          &lt;outgoing&gt;fork-task2&lt;/outgoing&gt;\r\n        &lt;/parallelGateway&gt;\r\n        &lt;serviceTask id=&quot;task1&quot; name=&quot;Service Task&quot;&gt;\r\n          &lt;incoming&gt;fork-task1&lt;/incoming&gt;\r\n          &lt;outgoing&gt;task1-join&lt;/outgoing&gt;\r\n        &lt;/serviceTask&gt;\r\n        &lt;userTask id=&quot;task2&quot; name=&quot;User Task&quot;&gt;\r\n          &lt;incoming&gt;fork-task2&lt;/incoming&gt;\r\n          &lt;outgoing&gt;task2-join&lt;/outgoing&gt;\r\n        &lt;/userTask&gt;\r\n        &lt;parallelGateway id=&quot;join&quot;&gt;\r\n          &lt;incoming&gt;task1-join&lt;/incoming&gt;\r\n          &lt;incoming&gt;task2-join&lt;/incoming&gt;\r\n          &lt;outgoing&gt;join-end&lt;/outgoing&gt;\r\n        &lt;/parallelGateway&gt;\r\n        &lt;endEvent id=&quot;end&quot;&gt;\r\n          &lt;incoming&gt;join-end&lt;/incoming&gt;\r\n        &lt;/endEvent&gt;\r\n        &lt;sequenceFlow id=&quot;start-fork&quot; sourceRef=&quot;start&quot; targetRef=&quot;fork&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;fork-task1&quot; sourceRef=&quot;fork&quot; targetRef=&quot;task1&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;fork-task2&quot; sourceRef=&quot;fork&quot; targetRef=&quot;task2&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;task1-join&quot; sourceRef=&quot;task1&quot; targetRef=&quot;join&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;task2-join&quot; sourceRef=&quot;task2&quot; targetRef=&quot;join&quot;/&gt;\r\n        &lt;sequenceFlow id=&quot;join-end&quot; sourceRef=&quot;join&quot; targetRef=&quot;end&quot;/&gt;\r\n      &lt;/process&gt;\r\n    &lt;/definitions&gt;\r\n\r\nAltough the validation method, the generated xml appears to be invalid when trying to display the BPMN using both the Camunda Modeler app and [bpmn.io][2].\r\n\r\nWhat is wrong with this example, hence with my code?\r\nHow can I make the generated xml to be valid? Since bpmn 2.0 is a standard, I&#39;m also a bit surprised of this problem. \r\n\r\n\r\n  [1]: https://docs.camunda.org/manual/7.10/user-guide/model-api/bpmn-model-api/create-a-model/#example-2-create-a-simple-process-with-two-parallel-tasks\r\n  [2]: https://demo.bpmn.io/","title":"Java - Camunda BPMN model API: how to save valid xml?","body":"<p>I'm building some test BPMN 2.0 models and saving them to xml files, in a Java project, by following the examples provided by the official <a href=\"https://docs.camunda.org/manual/7.10/user-guide/model-api/bpmn-model-api/create-a-model/#example-2-create-a-simple-process-with-two-parallel-tasks\" rel=\"nofollow noreferrer\">doc</a>, in this case the example 2.</p>\n\n<p>I imported the lib in my pom like below:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.camunda.bpm.model/camunda-bpmn-model --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.camunda.bpm.model&lt;/groupId&gt;\n    &lt;artifactId&gt;camunda-bpmn-model&lt;/artifactId&gt;\n    &lt;version&gt;7.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p></p>\n\n<p>and this is my test class, following the example 2:</p>\n\n<pre><code>import org.camunda.bpm.model.bpmn.Bpmn;\nimport org.camunda.bpm.model.bpmn.BpmnModelInstance;\nimport org.camunda.bpm.model.bpmn.instance.*;\nimport org.camunda.bpm.model.bpmn.instance.Process;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Test {\n    protected static &lt;T extends BpmnModelElementInstance&gt; T createElement(BpmnModelInstance modelInstance, BpmnModelElementInstance parentElement, String id, Class&lt;T&gt; elementClass) {\n        T element = modelInstance.newInstance(elementClass);\n        element.setAttributeValue(\"id\", id, true);\n        parentElement.addChildElement(element);\n        return element;\n    }\n\n    public static SequenceFlow createSequenceFlow(BpmnModelInstance modelInstance, Process process, FlowNode from, FlowNode to) {\n        String identifier = from.getId() + \"-\" + to.getId();\n        SequenceFlow sequenceFlow = createElement(modelInstance, process, identifier, SequenceFlow.class);\n        process.addChildElement(sequenceFlow);\n        sequenceFlow.setSource(from);\n        from.getOutgoing().add(sequenceFlow);\n        sequenceFlow.setTarget(to);\n        to.getIncoming().add(sequenceFlow);\n        return sequenceFlow;\n    }\n\n    public static void main(String[] args) throws IOException {\n        // create an empty model\n        BpmnModelInstance modelInstance = Bpmn.createEmptyModel();\n        Definitions definitions = modelInstance.newInstance(Definitions.class);\n        definitions.setTargetNamespace(\"http://camunda.org/examples\");\n        modelInstance.setDefinitions(definitions);\n\n        // create a process\n        Process process = modelInstance.newInstance(Process.class);\n        process.setId(\"process\");\n        definitions.addChildElement(process);\n\n        // create elements\n        StartEvent startEvent = createElement(modelInstance, process, \"start\", StartEvent.class);\n        ParallelGateway fork = createElement(modelInstance, process, \"fork\", ParallelGateway.class);\n        ServiceTask task1 = createElement(modelInstance, process, \"task1\", ServiceTask.class);\n        task1.setName(\"Service Task\");\n        UserTask task2 = createElement(modelInstance, process, \"task2\", UserTask.class);\n        task2.setName(\"User Task\");\n        ParallelGateway join = createElement(modelInstance, process, \"join\", ParallelGateway.class);\n        EndEvent endEvent = createElement(modelInstance, process, \"end\", EndEvent.class);\n\n        // create flows\n        createSequenceFlow(modelInstance, process, startEvent, fork);\n        createSequenceFlow(modelInstance, process, fork, task1);\n        createSequenceFlow(modelInstance, process, fork, task2);\n        createSequenceFlow(modelInstance, process, task1, join);\n        createSequenceFlow(modelInstance, process, task2, join);\n        createSequenceFlow(modelInstance, process, join, endEvent);\n\n        // validate and write model to file\n        Bpmn.validateModel(modelInstance);\n        File file = new File(\"bpmn-model.bpmn.xml\");\n        file.createNewFile();\n        Bpmn.writeModelToFile(file, modelInstance);\n    }\n}\n</code></pre>\n\n<p>Here the generated BPMN 2.0 xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;definitions id=\"definitions_7b2df680-1d9c-4897-ba8b-a83548ab937f\" targetNamespace=\"http://camunda.org/examples\" xmlns=\"http://www.omg.org/spec/BPMN/20100524/MODEL\"&gt;\n  &lt;process id=\"process\"&gt;\n    &lt;startEvent id=\"start\"&gt;\n      &lt;outgoing&gt;start-fork&lt;/outgoing&gt;\n    &lt;/startEvent&gt;\n    &lt;parallelGateway id=\"fork\"&gt;\n      &lt;incoming&gt;start-fork&lt;/incoming&gt;\n      &lt;outgoing&gt;fork-task1&lt;/outgoing&gt;\n      &lt;outgoing&gt;fork-task2&lt;/outgoing&gt;\n    &lt;/parallelGateway&gt;\n    &lt;serviceTask id=\"task1\" name=\"Service Task\"&gt;\n      &lt;incoming&gt;fork-task1&lt;/incoming&gt;\n      &lt;outgoing&gt;task1-join&lt;/outgoing&gt;\n    &lt;/serviceTask&gt;\n    &lt;userTask id=\"task2\" name=\"User Task\"&gt;\n      &lt;incoming&gt;fork-task2&lt;/incoming&gt;\n      &lt;outgoing&gt;task2-join&lt;/outgoing&gt;\n    &lt;/userTask&gt;\n    &lt;parallelGateway id=\"join\"&gt;\n      &lt;incoming&gt;task1-join&lt;/incoming&gt;\n      &lt;incoming&gt;task2-join&lt;/incoming&gt;\n      &lt;outgoing&gt;join-end&lt;/outgoing&gt;\n    &lt;/parallelGateway&gt;\n    &lt;endEvent id=\"end\"&gt;\n      &lt;incoming&gt;join-end&lt;/incoming&gt;\n    &lt;/endEvent&gt;\n    &lt;sequenceFlow id=\"start-fork\" sourceRef=\"start\" targetRef=\"fork\"/&gt;\n    &lt;sequenceFlow id=\"fork-task1\" sourceRef=\"fork\" targetRef=\"task1\"/&gt;\n    &lt;sequenceFlow id=\"fork-task2\" sourceRef=\"fork\" targetRef=\"task2\"/&gt;\n    &lt;sequenceFlow id=\"task1-join\" sourceRef=\"task1\" targetRef=\"join\"/&gt;\n    &lt;sequenceFlow id=\"task2-join\" sourceRef=\"task2\" targetRef=\"join\"/&gt;\n    &lt;sequenceFlow id=\"join-end\" sourceRef=\"join\" targetRef=\"end\"/&gt;\n  &lt;/process&gt;\n&lt;/definitions&gt;\n</code></pre>\n\n<p>Altough the validation method, the generated xml appears to be invalid when trying to display the BPMN using both the Camunda Modeler app and <a href=\"https://demo.bpmn.io/\" rel=\"nofollow noreferrer\">bpmn.io</a>.</p>\n\n<p>What is wrong with this example, hence with my code?\nHow can I make the generated xml to be valid? Since bpmn 2.0 is a standard, I'm also a bit surprised of this problem. </p>\n"},{"tags":["java","junit","properties"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1653303172,"post_id":72346308,"comment_id":127810437,"body_markdown":"Err, sorry, but which part of the code that you are showing is supposed to write something back into the file? And when you want the test code to MODIFY the file content anyway, why don&#39;t you just put the changed content in there from the beginning?","body":"Err, sorry, but which part of the code that you are showing is supposed to write something back into the file? And when you want the test code to MODIFY the file content anyway, why don&#39;t you just put the changed content in there from the beginning?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1653303201,"post_id":72346308,"comment_id":127810447,"body_markdown":"Also note that there is no point in duplicating that code, and calling System.exit() isn&#39;t something you should be doing in your testcode?!","body":"Also note that there is no point in duplicating that code, and calling System.exit() isn&#39;t something you should be doing in your testcode?!"},{"owner":{"account_id":25364455,"reputation":1,"user_id":19179244,"display_name":"Zufido"},"score":0,"creation_date":1653304753,"post_id":72346308,"comment_id":127811021,"body_markdown":"I thought `config.setProperty(&quot;theKey&quot;,true);` would change the content. The first code block is in my unit under test. The lower code part is in my @Test. What do you mean by putting it there from the beginning? I do not want to change the config file by hand. I want one @Test to run the unit with the property set to true and one @Test to run the unit with property set to false. I just do not have enough experience in unit testing (barely any) to make this work. The property changes the execution behaviour and I need to test both behaviours. So I need a way to feed true and false to the unit","body":"I thought <code>config.setProperty(&quot;theKey&quot;,true);</code> would change the content. The first code block is in my unit under test. The lower code part is in my @Test. What do you mean by putting it there from the beginning? I do not want to change the config file by hand. I want one @Test to run the unit with the property set to true and one @Test to run the unit with property set to false. I just do not have enough experience in unit testing (barely any) to make this work. The property changes the execution behaviour and I need to test both behaviours. So I need a way to feed true and false to the unit"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1653308210,"post_id":72346308,"comment_id":127812308,"body_markdown":"Then the real answer is: your production code should have a way to **inject** such a configuration object. Meaning: A) write one method that pulls a Config object from the file ... and all your other code only works with that object B) now, in your test setup, you make it possible that the production code doesn&#39;t read the Config object itself, but just receives a Config object ... that your test code prepared. \nIt is a REALLY bad idea to have your unit test write a file that the production code is using.","body":"Then the real answer is: your production code should have a way to <b>inject</b> such a configuration object. Meaning: A) write one method that pulls a Config object from the file ... and all your other code only works with that object B) now, in your test setup, you make it possible that the production code doesn&#39;t read the Config object itself, but just receives a Config object ... that your test code prepared.  It is a REALLY bad idea to have your unit test write a file that the production code is using."}],"owner":{"account_id":25364455,"reputation":1,"user_id":19179244,"display_name":"Zufido"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653298644,"creation_date":1653298578,"question_id":72346308,"body_markdown":"in my project I load an attribute via a properties file like this (Using `org.apache.commons.configuration2`)\r\n\r\n    Configurations configs = new Configurations();\r\n        try {\r\n            config = configs.properties(new File(&quot;config.properties&quot;));\r\n        } catch (ConfigurationException cex) {\r\n            LOGGER.error(&quot;Could not load properties file: {}&quot;,cex.getLocalizedMessage());\r\n            System.exit(1);\r\n        }\r\n\r\n    config.getString(&quot;theKey&quot;,INVALID);\r\n\r\n\r\nWhen writing the unit test for that module I would like to switch between the config values, so that both values for &quot;theKey&quot; are tested (true and false).\r\n\r\nI copied the config.properties file into my test/ressources directory and it seems that this file is correctly being used but when I try to overwrite the property it never actually gets written into the file so the unit under test always loads the hardcoded value from the properties file.\r\n\r\nI am trying to overwrite it like this (within my JUnit test):\r\n\r\n    Configurations configs = new Configurations();\r\n    try {\r\n        config = configs.properties(new File(&quot;config.properties&quot;));\r\n    } catch (ConfigurationException cex) {\r\n        LOGGER.error(&quot;Could not load properties file: {}&quot;,cex.getLocalizedMessage());\r\n        System.exit(1);\r\n    }\r\n    config.setProperty(&quot;theKey&quot;,true);\r\n\r\n\r\nHow can I overwrite properties so that my module sees the updated values?","title":"Overwriting a properties file in JUnit test does not work","body":"<p>in my project I load an attribute via a properties file like this (Using <code>org.apache.commons.configuration2</code>)</p>\n<pre><code>Configurations configs = new Configurations();\n    try {\n        config = configs.properties(new File(&quot;config.properties&quot;));\n    } catch (ConfigurationException cex) {\n        LOGGER.error(&quot;Could not load properties file: {}&quot;,cex.getLocalizedMessage());\n        System.exit(1);\n    }\n\nconfig.getString(&quot;theKey&quot;,INVALID);\n</code></pre>\n<p>When writing the unit test for that module I would like to switch between the config values, so that both values for &quot;theKey&quot; are tested (true and false).</p>\n<p>I copied the config.properties file into my test/ressources directory and it seems that this file is correctly being used but when I try to overwrite the property it never actually gets written into the file so the unit under test always loads the hardcoded value from the properties file.</p>\n<p>I am trying to overwrite it like this (within my JUnit test):</p>\n<pre><code>Configurations configs = new Configurations();\ntry {\n    config = configs.properties(new File(&quot;config.properties&quot;));\n} catch (ConfigurationException cex) {\n    LOGGER.error(&quot;Could not load properties file: {}&quot;,cex.getLocalizedMessage());\n    System.exit(1);\n}\nconfig.setProperty(&quot;theKey&quot;,true);\n</code></pre>\n<p>How can I overwrite properties so that my module sees the updated values?</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1652916800,"post_id":72296596,"comment_id":127726199,"body_markdown":"How do you know those are the actual input numbers? Making 5398449 out of 48 does not appear possible here. The python code reads LE, the javacode writes BE, so that&#39;s a problem, but you&#39;d get 805306368, not 5398449.","body":"How do you know those are the actual input numbers? Making 5398449 out of 48 does not appear possible here. The python code reads LE, the javacode writes BE, so that&#39;s a problem, but you&#39;d get 805306368, not 5398449."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1652917414,"post_id":72296596,"comment_id":127726314,"body_markdown":"Why the `ByteArrayOutputStream`? Just wrap the `DataOutputStream` around the `FileOutputStrream` and write directly to the file. If you need it quicker, put a `BufferedOutputStream` in between them.","body":"Why the <code>ByteArrayOutputStream</code>? Just wrap the <code>DataOutputStream</code> around the <code>FileOutputStrream</code> and write directly to the file. If you need it quicker, put a <code>BufferedOutputStream</code> in between them."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1652917660,"post_id":72296596,"comment_id":127726359,"body_markdown":"@rzwitserloot I make it 11624274. OP needs to provide a hex dump of the file.","body":"@rzwitserloot I make it 11624274. OP needs to provide a hex dump of the file."},{"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"score":0,"creation_date":1652950283,"post_id":72296596,"comment_id":127733411,"body_markdown":"yes, the problem was the different behaviour between javacode and python code for endian management","body":"yes, the problem was the different behaviour between javacode and python code for endian management"},{"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"score":0,"creation_date":1652950765,"post_id":72296596,"comment_id":127733579,"body_markdown":"@rzwitserloot :I wrote a wrong sample. Sorry for that","body":"@rzwitserloot :I wrote a wrong sample. Sorry for that"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1653005736,"post_id":72296596,"comment_id":127751422,"body_markdown":"So what is the *correct* sample? You can&#39;t expect a solution if you don&#39;t provide all the relevant data.","body":"So what is the <i>correct</i> sample? You can&#39;t expect a solution if you don&#39;t provide all the relevant data."},{"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"score":0,"creation_date":1653298338,"post_id":72296596,"comment_id":127808776,"body_markdown":"@user207421 : I apologize for that, I just put the right sample in my question.","body":"@user207421 : I apologize for that, I just put the right sample in my question."}],"answers":[{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652913786,"creation_date":1652913211,"answer_id":72296708,"question_id":72296596,"body_markdown":"Probably your numbers are Big-Endian (BE) and you try to decode as Little-Endian (LE).\r\n\r\nTry: `struct.unpack(&#39;&gt;i&#39;, chunk)` to force reading as BE.\r\n\r\nSee also the [docs for struct module on alignment and endianess](https://docs.python.org/3/library/struct.html#byte-order-size-and-alignment).\r\n\r\nFYI, `DataOutputStream` always writes in BE as stated in the [official javadoc](https://docs.oracle.com/javase/7/docs/api/java/io/DataOutputStream.html#writeInt(int)).\r\n","title":"Cannot read integer values saved into binary file with Java","body":"<p>Probably your numbers are Big-Endian (BE) and you try to decode as Little-Endian (LE).</p>\n<p>Try: <code>struct.unpack('&gt;i', chunk)</code> to force reading as BE.</p>\n<p>See also the <a href=\"https://docs.python.org/3/library/struct.html#byte-order-size-and-alignment\" rel=\"nofollow noreferrer\">docs for struct module on alignment and endianess</a>.</p>\n<p>FYI, <code>DataOutputStream</code> always writes in BE as stated in the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/DataOutputStream.html#writeInt(int)\" rel=\"nofollow noreferrer\">official javadoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652950481,"creation_date":1652950481,"answer_id":72301503,"question_id":72296596,"body_markdown":"Ok, the problem was the different behaviour in bit reading order between python, that uses LE, and java.\r\n\r\nI need to create a binary file that follows ISOBUS standards and I have to write it using LE.\r\n\r\nSo I change my code in this way:\r\n\r\n    FileOutputStream fout = new FileOutputStream(&quot;myfileout.bin&quot;);\r\n    \r\n                DataOutputStream out = new DataOutputStream(fout);\r\n    \r\n    \r\n                while (tdb.next()) {\r\n                    //convert byte endian behaviour for ISOBUS software compatibility\r\n                    ByteBuffer bb = ByteBuffer.allocate(4);\r\n                    bb.order(ByteOrder.LITTLE_ENDIAN);\r\n                    bb.putInt(tdb.getInteger(1));\r\n                    //invert significant byte\r\n                    bb.flip();\r\n    \r\n                    out.write(bb.array());\r\n                }\r\n    \r\n                fout.close();\r\n                out.close();\r\n\r\n","title":"Cannot read integer values saved into binary file with Java","body":"<p>Ok, the problem was the different behaviour in bit reading order between python, that uses LE, and java.</p>\n<p>I need to create a binary file that follows ISOBUS standards and I have to write it using LE.</p>\n<p>So I change my code in this way:</p>\n<pre><code>FileOutputStream fout = new FileOutputStream(&quot;myfileout.bin&quot;);\n\n            DataOutputStream out = new DataOutputStream(fout);\n\n\n            while (tdb.next()) {\n                //convert byte endian behaviour for ISOBUS software compatibility\n                ByteBuffer bb = ByteBuffer.allocate(4);\n                bb.order(ByteOrder.LITTLE_ENDIAN);\n                bb.putInt(tdb.getInteger(1));\n                //invert significant byte\n                bb.flip();\n\n                out.write(bb.array());\n            }\n\n            fout.close();\n            out.close();\n</code></pre>\n"}],"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1653298290,"creation_date":1652912141,"question_id":72296596,"body_markdown":"I implemented a procedure for saving 32bit signed integer values, retrieved from PostgreSQL, into a binary file.\r\n\r\nI used ByteArrayOutputStream and DataOutputStream\r\n\r\n    //..\r\n    \r\n    \r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    DataOutputStream out = new DataOutputStream(baos);\r\n    \r\n    //this cycle over my retrieved recordset\r\n    while (tdb.next()) {\r\n    \r\n       out.writeInt((tdb.getInteger(1)));  //getInteger method extract integer value from recordset\r\n    \r\n    }\r\n    \r\n    //convert into byte array\r\n    byte[] bytes = baos.toByteArray();\r\n    \r\n    //create file for output\r\n    File fileout = new File(&quot;./myfilebin.bin&quot;);\r\n    //write data\r\n    Files.write(fileout.toPath(), bytes);\r\n    \r\n    //...\r\n\r\n\r\nMy input data sample contains these values:\r\n\r\n&gt; 0, 0, 42812, 42822, 41483, 0, 0, ...\r\n\r\nWhen I try to read my binary file, I will get these:\r\n\r\n&gt; 0, 0, 1017577472, 1185349632, 195166208, 0, 0, ...\r\n\r\nFor reading file I wrote a simple python script:\r\n\r\n    import struct\r\n\r\n    with open(&quot;./myfilebin.bin&quot;, &quot;rb&quot;) as f:\r\n    \r\n         for chunk in iter(lambda: f.read(4), &#39;&#39;):\r\n            integer_value = struct.unpack(&#39;i&#39;, chunk)[0]\r\n            print(integer_value)\r\n\r\n\r\nAny idea?\r\n\r\n","title":"Cannot read integer values saved into binary file with Java","body":"<p>I implemented a procedure for saving 32bit signed integer values, retrieved from PostgreSQL, into a binary file.</p>\n<p>I used ByteArrayOutputStream and DataOutputStream</p>\n<pre><code>//..\n\n\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nDataOutputStream out = new DataOutputStream(baos);\n\n//this cycle over my retrieved recordset\nwhile (tdb.next()) {\n\n   out.writeInt((tdb.getInteger(1)));  //getInteger method extract integer value from recordset\n\n}\n\n//convert into byte array\nbyte[] bytes = baos.toByteArray();\n\n//create file for output\nFile fileout = new File(&quot;./myfilebin.bin&quot;);\n//write data\nFiles.write(fileout.toPath(), bytes);\n\n//...\n</code></pre>\n<p>My input data sample contains these values:</p>\n<blockquote>\n<p>0, 0, 42812, 42822, 41483, 0, 0, ...</p>\n</blockquote>\n<p>When I try to read my binary file, I will get these:</p>\n<blockquote>\n<p>0, 0, 1017577472, 1185349632, 195166208, 0, 0, ...</p>\n</blockquote>\n<p>For reading file I wrote a simple python script:</p>\n<pre><code>import struct\n\nwith open(&quot;./myfilebin.bin&quot;, &quot;rb&quot;) as f:\n\n     for chunk in iter(lambda: f.read(4), ''):\n        integer_value = struct.unpack('i', chunk)[0]\n        print(integer_value)\n</code></pre>\n<p>Any idea?</p>\n"},{"tags":["java","apache-spark","spark-java"],"answers":[{"tags":[],"owner":{"account_id":18194919,"reputation":68,"user_id":13240160,"display_name":"Mayuri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653298270,"creation_date":1653298270,"answer_id":72346244,"question_id":72321208,"body_markdown":"For java this solution worked for me,\r\n - remove the one attribute from list(non dynamic one) \r\n - convert the remaining list to Scala Sequence using JavaConverters.\r\n - when creating nested column , in struct use one attribute(as string) and your converted Scala Seq.\r\n\r\n        import scala.collection.JavaConverters; \r\n    \r\n        List bowlingParams = new ArrayList(Arrays.asList(&quot;bowlingSR&quot;, &quot;wickets&quot;));\r\n    \r\n    \r\n       playerDF = playerDF.withColumn(&quot;bowlingStats&quot;, functions.struct(&quot;bowlingAvg&quot;,JavaConverters.asScalaIteratorConverter(bowlingParams.iterator()).asScala().toSeq()));\r\n    \r\n            \r\n\r\n","title":"How to create a struct column from a list of column names in Spark with Java?","body":"<p>For java this solution worked for me,</p>\n<ul>\n<li><p>remove the one attribute from list(non dynamic one)</p>\n</li>\n<li><p>convert the remaining list to Scala Sequence using JavaConverters.</p>\n</li>\n<li><p>when creating nested column , in struct use one attribute(as string) and your converted Scala Seq.</p>\n<pre><code> import scala.collection.JavaConverters; \n\n List bowlingParams = new ArrayList(Arrays.asList(&quot;bowlingSR&quot;, &quot;wickets&quot;));\n\n\nplayerDF = playerDF.withColumn(&quot;bowlingStats&quot;, functions.struct(&quot;bowlingAvg&quot;,JavaConverters.asScalaIteratorConverter(bowlingParams.iterator()).asScala().toSeq()));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":16690578,"reputation":45,"user_id":12063299,"display_name":"kvj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72346244,"answer_count":1,"score":0,"last_activity_date":1653298270,"creation_date":1653059468,"question_id":72321208,"body_markdown":"I have a DataFrame with multiple columns, e.g.\r\n```\r\nroot\r\n |-- playerName\r\n |-- country\r\n |-- bowlingAvg\r\n |-- bowlingSR\r\n |-- wickets\r\n |-- battingAvg\r\n |-- battingSR\r\n |-- runs\r\n```\r\nI also have a list of the column names which corresponds to bowling stats:\r\n\r\nList&lt;String&gt; bowlingParams = new ArrayList&lt;String&gt;(Arrays.asList(&quot;bowlingAvg&quot;, &quot;bowlingSR&quot;, &quot;wickets&quot;));\r\n\r\nExpected Schema:\r\n```\r\nroot\r\n |-- playerName\r\n |-- country\r\n |-- bowlingAvg\r\n |-- bowlingSR\r\n |-- wickets\r\n |-- battingAvg\r\n |-- battingSR\r\n |-- runs\r\n |-- bowlingStats \r\n       |-- bowlingAvg\r\n       |-- bowlingSR\r\n       |-- wickets\r\n```\r\n\r\nI can do it like this\r\n```\r\nplayerDF = playerDF.withColumn(&quot;bowlingStats&quot;, functions.struct(&quot;bowlingAvg&quot;, &quot;bowlingSR&quot;, &quot;wickets&quot;))\r\n```\r\nHowever, I want to use the list to dynamically select the column for struct.\r\n\r\nI know we can do it like this in Scala\r\n```\r\nplayerDF = playerDF.select(struct(bowlingParams.map(col): _*))\r\n```\r\nand, I have also found a reference on [how to do this in Python][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66022293/how-to-dynamically-create-a-struct-column-from-a-list-of-column-names#\r\n\r\nIs there a way we can do this in Java with Spark? ","title":"How to create a struct column from a list of column names in Spark with Java?","body":"<p>I have a DataFrame with multiple columns, e.g.</p>\n<pre><code>root\n |-- playerName\n |-- country\n |-- bowlingAvg\n |-- bowlingSR\n |-- wickets\n |-- battingAvg\n |-- battingSR\n |-- runs\n</code></pre>\n<p>I also have a list of the column names which corresponds to bowling stats:</p>\n<p>List bowlingParams = new ArrayList(Arrays.asList(&quot;bowlingAvg&quot;, &quot;bowlingSR&quot;, &quot;wickets&quot;));</p>\n<p>Expected Schema:</p>\n<pre><code>root\n |-- playerName\n |-- country\n |-- bowlingAvg\n |-- bowlingSR\n |-- wickets\n |-- battingAvg\n |-- battingSR\n |-- runs\n |-- bowlingStats \n       |-- bowlingAvg\n       |-- bowlingSR\n       |-- wickets\n</code></pre>\n<p>I can do it like this</p>\n<pre><code>playerDF = playerDF.withColumn(&quot;bowlingStats&quot;, functions.struct(&quot;bowlingAvg&quot;, &quot;bowlingSR&quot;, &quot;wickets&quot;))\n</code></pre>\n<p>However, I want to use the list to dynamically select the column for struct.</p>\n<p>I know we can do it like this in Scala</p>\n<pre><code>playerDF = playerDF.select(struct(bowlingParams.map(col): _*))\n</code></pre>\n<p>and, I have also found a reference on <a href=\"https://stackoverflow.com/questions/66022293/how-to-dynamically-create-a-struct-column-from-a-list-of-column-names#\">how to do this in Python</a></p>\n<p>Is there a way we can do this in Java with Spark?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1653299334,"post_id":72345598,"comment_id":127809099,"body_markdown":"Does this answer your question? [JSON dynamic deserialization in java](https://stackoverflow.com/questions/26214508/json-dynamic-deserialization-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26214508/json-dynamic-deserialization-in-java\">JSON dynamic deserialization in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":8964938,"reputation":749,"user_id":6686007,"display_name":"Roberto Petrilli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653295928,"creation_date":1653295928,"answer_id":72345734,"question_id":72345598,"body_markdown":"You may parse manually th e Json. If you use jackson library (com.fasterxml.jackson.databind) for example you could\r\n    \r\n    var objectMapper = new ObjectMapper();\r\n    JsonNode jsonRoot = objectMapper.readTree(jsonStr);\r\n\r\nthen you can dig into the structure\r\n\r\n    jsonRoot.path(&quot;items&quot;).path(&quot;1c68b853-2a07-4409-ad61-8650212f3260&quot;).asText()\r\n\r\nyou can also enumerate the members of an individuals node. Other libraries  i.e. Gson have the same functionalities\r\n\r\n ","title":"Parse JSON file with dynamic fields by java","body":"<p>You may parse manually th e Json. If you use jackson library (com.fasterxml.jackson.databind) for example you could</p>\n<pre><code>var objectMapper = new ObjectMapper();\nJsonNode jsonRoot = objectMapper.readTree(jsonStr);\n</code></pre>\n<p>then you can dig into the structure</p>\n<pre><code>jsonRoot.path(&quot;items&quot;).path(&quot;1c68b853-2a07-4409-ad61-8650212f3260&quot;).asText()\n</code></pre>\n<p>you can also enumerate the members of an individuals node. Other libraries  i.e. Gson have the same functionalities</p>\n"},{"tags":[],"owner":{"account_id":236964,"reputation":1214,"user_id":504807,"accept_rate":79,"display_name":"yoni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653298261,"creation_date":1653297890,"answer_id":72346158,"question_id":72345598,"body_markdown":"You can easily use the `Map` interface, to store the dynamic parts:\r\n\r\nRoot.java:\r\n\r\n    package com.example.trial.dto;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.UUID;\r\n\r\n    public class Root {\r\n        public String id;\r\n        public String code;\r\n        public String name;\r\n        public Map&lt;UUID, Map&lt;String, Item&gt;&gt; items = new HashMap&lt;&gt;();\r\n    }\r\n\r\nItem.java:\r\n\r\n    package com.example.trial.dto;\r\n\r\n    import java.util.UUID;\r\n    \r\n    public class Item {\r\n        public UUID id;\r\n        public String value;\r\n        public String translation;\r\n    }\r\n\r\nMappingTest.java:\r\n\r\n    package com.example.trial.services;\r\n\r\n    import com.example.trial.dto.Root;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    import java.io.IOException;\r\n    \r\n    public class MappingTest {\r\n    \r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        @Test\r\n        public void convert() throws IOException {\r\n            Root root = objectMapper.readValue(&quot;{\\n&quot; +\r\n                &quot;    \\&quot;id\\&quot;: \\&quot;3c49a7aa-77e0-43cf-956c-a1ff970d7db2\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;code\\&quot;: \\&quot;citizenship_country\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;name\\&quot;: \\&quot;Гражданство\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;items\\&quot;: {\\n&quot; +\r\n                &quot;        \\&quot;1c68b853-2a07-4409-ad61-8650212f3260\\&quot;: {\\n&quot; +\r\n                &quot;            \\&quot;name\\&quot;: {\\n&quot; +\r\n                &quot;                \\&quot;id\\&quot;: \\&quot;1c68b853-2a07-4409-ad61-8650212f3260\\&quot;,\\n&quot; +\r\n                &quot;                \\&quot;value\\&quot;: \\&quot;ДЖЕРСИ\\&quot;,\\n&quot; +\r\n                &quot;                \\&quot;translation\\&quot;: \\&quot;ДЖЕРСИ\\&quot;\\n&quot; +\r\n                &quot;            },\\n&quot; +\r\n                &quot;            \\&quot;modifiedDate\\&quot;: {\\n&quot; +\r\n                &quot;                \\&quot;id\\&quot;: \\&quot;1c68b853-2a07-4409-ad61-8650212f3260\\&quot;,\\n&quot; +\r\n                &quot;                \\&quot;value\\&quot;: \\&quot;мая 28, 2015\\&quot;,\\n&quot; +\r\n                &quot;                \\&quot;translation\\&quot;: null\\n&quot; +\r\n                &quot;            },\\n&quot; +\r\n                &quot;            \\&quot;id\\&quot;: {\\n&quot; +\r\n                &quot;                \\&quot;id\\&quot;: \\&quot;1c68b853-2a07-4409-ad61-8650212f3260\\&quot;,\\n&quot; +\r\n                &quot;                \\&quot;value\\&quot;: \\&quot;237\\&quot;,\\n&quot; +\r\n                &quot;                \\&quot;translation\\&quot;: null\\n&quot; +\r\n                &quot;            }\\n&quot; +\r\n                &quot;        },\\n&quot; +\r\n                &quot;        \\&quot;dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7\\&quot;: {\\n&quot; +\r\n                &quot;            \\&quot;name\\&quot;: {\\n&quot; +\r\n                &quot;                \\&quot;id\\&quot;: \\&quot;dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7\\&quot;,\\n&quot; +\r\n                &quot;                \\&quot;value\\&quot;: \\&quot;РОССИЯ\\&quot;,\\n&quot; +\r\n                &quot;                \\&quot;translation\\&quot;: \\&quot;РОССИЯ\\&quot;\\n&quot; +\r\n                &quot;            },\\n&quot; +\r\n                &quot;            \\&quot;modifiedDate\\&quot;: {\\n&quot; +\r\n                &quot;                \\&quot;id\\&quot;: \\&quot;dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7\\&quot;,\\n&quot; +\r\n                &quot;                \\&quot;value\\&quot;: \\&quot;мая 28, 2015\\&quot;,\\n&quot; +\r\n                &quot;                \\&quot;translation\\&quot;: null\\n&quot; +\r\n                &quot;            },\\n&quot; +\r\n                &quot;            \\&quot;id\\&quot;: {\\n&quot; +\r\n                &quot;                \\&quot;id\\&quot;: \\&quot;dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7\\&quot;,\\n&quot; +\r\n                &quot;                \\&quot;value\\&quot;: \\&quot;185\\&quot;,\\n&quot; +\r\n                &quot;                \\&quot;translation\\&quot;: null\\n&quot; +\r\n                &quot;            }\\n&quot; +\r\n                &quot;        }\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;}&quot;, Root.class);\r\n            objectMapper.writeValue(System.out, root);\r\n        }\r\n    }\r\n\r\nYou can also, as well, create three different classes for `name`, `modifiedDate`, `id`, but this is enough to show the main idea of the answer. ","title":"Parse JSON file with dynamic fields by java","body":"<p>You can easily use the <code>Map</code> interface, to store the dynamic parts:</p>\n<p>Root.java:</p>\n<pre><code>package com.example.trial.dto;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.UUID;\n\npublic class Root {\n    public String id;\n    public String code;\n    public String name;\n    public Map&lt;UUID, Map&lt;String, Item&gt;&gt; items = new HashMap&lt;&gt;();\n}\n</code></pre>\n<p>Item.java:</p>\n<pre><code>package com.example.trial.dto;\n\nimport java.util.UUID;\n\npublic class Item {\n    public UUID id;\n    public String value;\n    public String translation;\n}\n</code></pre>\n<p>MappingTest.java:</p>\n<pre><code>package com.example.trial.services;\n\nimport com.example.trial.dto.Root;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.IOException;\n\npublic class MappingTest {\n\n    ObjectMapper objectMapper = new ObjectMapper();\n\n    @Test\n    public void convert() throws IOException {\n        Root root = objectMapper.readValue(&quot;{\\n&quot; +\n            &quot;    \\&quot;id\\&quot;: \\&quot;3c49a7aa-77e0-43cf-956c-a1ff970d7db2\\&quot;,\\n&quot; +\n            &quot;    \\&quot;code\\&quot;: \\&quot;citizenship_country\\&quot;,\\n&quot; +\n            &quot;    \\&quot;name\\&quot;: \\&quot;Гражданство\\&quot;,\\n&quot; +\n            &quot;    \\&quot;items\\&quot;: {\\n&quot; +\n            &quot;        \\&quot;1c68b853-2a07-4409-ad61-8650212f3260\\&quot;: {\\n&quot; +\n            &quot;            \\&quot;name\\&quot;: {\\n&quot; +\n            &quot;                \\&quot;id\\&quot;: \\&quot;1c68b853-2a07-4409-ad61-8650212f3260\\&quot;,\\n&quot; +\n            &quot;                \\&quot;value\\&quot;: \\&quot;ДЖЕРСИ\\&quot;,\\n&quot; +\n            &quot;                \\&quot;translation\\&quot;: \\&quot;ДЖЕРСИ\\&quot;\\n&quot; +\n            &quot;            },\\n&quot; +\n            &quot;            \\&quot;modifiedDate\\&quot;: {\\n&quot; +\n            &quot;                \\&quot;id\\&quot;: \\&quot;1c68b853-2a07-4409-ad61-8650212f3260\\&quot;,\\n&quot; +\n            &quot;                \\&quot;value\\&quot;: \\&quot;мая 28, 2015\\&quot;,\\n&quot; +\n            &quot;                \\&quot;translation\\&quot;: null\\n&quot; +\n            &quot;            },\\n&quot; +\n            &quot;            \\&quot;id\\&quot;: {\\n&quot; +\n            &quot;                \\&quot;id\\&quot;: \\&quot;1c68b853-2a07-4409-ad61-8650212f3260\\&quot;,\\n&quot; +\n            &quot;                \\&quot;value\\&quot;: \\&quot;237\\&quot;,\\n&quot; +\n            &quot;                \\&quot;translation\\&quot;: null\\n&quot; +\n            &quot;            }\\n&quot; +\n            &quot;        },\\n&quot; +\n            &quot;        \\&quot;dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7\\&quot;: {\\n&quot; +\n            &quot;            \\&quot;name\\&quot;: {\\n&quot; +\n            &quot;                \\&quot;id\\&quot;: \\&quot;dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7\\&quot;,\\n&quot; +\n            &quot;                \\&quot;value\\&quot;: \\&quot;РОССИЯ\\&quot;,\\n&quot; +\n            &quot;                \\&quot;translation\\&quot;: \\&quot;РОССИЯ\\&quot;\\n&quot; +\n            &quot;            },\\n&quot; +\n            &quot;            \\&quot;modifiedDate\\&quot;: {\\n&quot; +\n            &quot;                \\&quot;id\\&quot;: \\&quot;dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7\\&quot;,\\n&quot; +\n            &quot;                \\&quot;value\\&quot;: \\&quot;мая 28, 2015\\&quot;,\\n&quot; +\n            &quot;                \\&quot;translation\\&quot;: null\\n&quot; +\n            &quot;            },\\n&quot; +\n            &quot;            \\&quot;id\\&quot;: {\\n&quot; +\n            &quot;                \\&quot;id\\&quot;: \\&quot;dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7\\&quot;,\\n&quot; +\n            &quot;                \\&quot;value\\&quot;: \\&quot;185\\&quot;,\\n&quot; +\n            &quot;                \\&quot;translation\\&quot;: null\\n&quot; +\n            &quot;            }\\n&quot; +\n            &quot;        }\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;}&quot;, Root.class);\n        objectMapper.writeValue(System.out, root);\n    }\n}\n</code></pre>\n<p>You can also, as well, create three different classes for <code>name</code>, <code>modifiedDate</code>, <code>id</code>, but this is enough to show the main idea of the answer.</p>\n"}],"owner":{"account_id":20398153,"reputation":13,"user_id":14964481,"display_name":"Ануар Аймагамбетов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72346158,"answer_count":2,"score":0,"last_activity_date":1653298261,"creation_date":1653295286,"question_id":72345598,"body_markdown":"How to parse JSON file with the object, which contains dynamic fields.\r\nAs an example here: Here is &quot;items&quot;, which has objects with name(&quot;1c68b853-2a07-4409-ad61-8650212f3260&quot;) and body. And it&#39;s more then 2 items.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    {\r\n        &quot;id&quot;: &quot;3c49a7aa-77e0-43cf-956c-a1ff970d7db2&quot;,\r\n        &quot;code&quot;: &quot;citizenship_country&quot;,\r\n        &quot;name&quot;: &quot;Гражданство&quot;,\r\n        &quot;items&quot;: {\r\n            &quot;1c68b853-2a07-4409-ad61-8650212f3260&quot;: {\r\n                &quot;name&quot;: {\r\n                    &quot;id&quot;: &quot;1c68b853-2a07-4409-ad61-8650212f3260&quot;,\r\n                    &quot;value&quot;: &quot;ДЖЕРСИ&quot;,\r\n                    &quot;translation&quot;: &quot;ДЖЕРСИ&quot;\r\n                },\r\n                &quot;modifiedDate&quot;: {\r\n                    &quot;id&quot;: &quot;1c68b853-2a07-4409-ad61-8650212f3260&quot;,\r\n                    &quot;value&quot;: &quot;мая 28, 2015&quot;,\r\n                    &quot;translation&quot;: null\r\n                },\r\n                &quot;id&quot;: {\r\n                    &quot;id&quot;: &quot;1c68b853-2a07-4409-ad61-8650212f3260&quot;,\r\n                    &quot;value&quot;: &quot;237&quot;,\r\n                    &quot;translation&quot;: null\r\n                }\r\n            },\r\n            &quot;dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7&quot;: {\r\n                &quot;name&quot;: {\r\n                    &quot;id&quot;: &quot;dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7&quot;,\r\n                    &quot;value&quot;: &quot;РОССИЯ&quot;,\r\n                    &quot;translation&quot;: &quot;РОССИЯ&quot;\r\n                },\r\n                &quot;modifiedDate&quot;: {\r\n                    &quot;id&quot;: &quot;dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7&quot;,\r\n                    &quot;value&quot;: &quot;мая 28, 2015&quot;,\r\n                    &quot;translation&quot;: null\r\n                },\r\n                &quot;id&quot;: {\r\n                    &quot;id&quot;: &quot;dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7&quot;,\r\n                    &quot;value&quot;: &quot;185&quot;,\r\n                    &quot;translation&quot;: null\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;","title":"Parse JSON file with dynamic fields by java","body":"<p>How to parse JSON file with the object, which contains dynamic fields.\nAs an example here: Here is &quot;items&quot;, which has objects with name(&quot;1c68b853-2a07-4409-ad61-8650212f3260&quot;) and body. And it's more then 2 items.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\n    \"id\": \"3c49a7aa-77e0-43cf-956c-a1ff970d7db2\",\n    \"code\": \"citizenship_country\",\n    \"name\": \"Гражданство\",\n    \"items\": {\n        \"1c68b853-2a07-4409-ad61-8650212f3260\": {\n            \"name\": {\n                \"id\": \"1c68b853-2a07-4409-ad61-8650212f3260\",\n                \"value\": \"ДЖЕРСИ\",\n                \"translation\": \"ДЖЕРСИ\"\n            },\n            \"modifiedDate\": {\n                \"id\": \"1c68b853-2a07-4409-ad61-8650212f3260\",\n                \"value\": \"мая 28, 2015\",\n                \"translation\": null\n            },\n            \"id\": {\n                \"id\": \"1c68b853-2a07-4409-ad61-8650212f3260\",\n                \"value\": \"237\",\n                \"translation\": null\n            }\n        },\n        \"dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7\": {\n            \"name\": {\n                \"id\": \"dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7\",\n                \"value\": \"РОССИЯ\",\n                \"translation\": \"РОССИЯ\"\n            },\n            \"modifiedDate\": {\n                \"id\": \"dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7\",\n                \"value\": \"мая 28, 2015\",\n                \"translation\": null\n            },\n            \"id\": {\n                \"id\": \"dfd37aec-4ae7-4d8b-8e92-3a25fab57dd7\",\n                \"value\": \"185\",\n                \"translation\": null\n            }\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","ignite","ipv6","ipv4"],"answers":[{"tags":[],"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653298095,"creation_date":1653298095,"answer_id":72346210,"question_id":72324186,"body_markdown":"The problem is that in many networks, IPv6 is _enabled_ but not _configured_, meaning that Ignite can see the address and tries to use it, but no data is routed.\r\n\r\nIf your IPv6 network is correctly configured and all the nodes can &quot;see&quot; each other, then it should work.","title":"Ignite Communication SPI support for IPv6","body":"<p>The problem is that in many networks, IPv6 is <em>enabled</em> but not <em>configured</em>, meaning that Ignite can see the address and tries to use it, but no data is routed.</p>\n<p>If your IPv6 network is correctly configured and all the nodes can &quot;see&quot; each other, then it should work.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72346210,"answer_count":1,"score":1,"last_activity_date":1653298095,"creation_date":1653076387,"question_id":72324186,"body_markdown":"I have read in multiple locations about Ignite having potential issues with IPv6 and we have been seeing similar communication issues within our Kubernetes setup with Ignite, where the communications spi seems to randomly fail.  \r\n\r\nThe Ignite [docs][1] state that &quot;Ignite tries to support IPv4 and IPv6 but this can sometimes lead to issues where the cluster becomes detached.&quot;\r\n\r\nWhile point 4 of this [source][2] states &quot;It can’t be said that Ignite doesn’t support the IPv6 protocol, but at this moment, there are a few specific problems.&quot;\r\n\r\nI have two questions: \r\n\r\n1. Both of the above sources are very vague, is there any other documentation that describes in detail the issues with IPv6 communication and how to resolve them (apart from using IPv4)?  \r\n2.  From a practical standpoint, can Ignite function in a purely IPv6 environment? Again any documentation/sources to back this answer up would be appreciated.   \r\n\r\n  [1]: https://ignite.apache.org/docs/latest/clustering/network-configuration#ipv4-vs-ipv6\r\n  [2]: https://dzone.com/articles/a-simple-checklist-for-apache-ignite-beginners","title":"Ignite Communication SPI support for IPv6","body":"<p>I have read in multiple locations about Ignite having potential issues with IPv6 and we have been seeing similar communication issues within our Kubernetes setup with Ignite, where the communications spi seems to randomly fail.</p>\n<p>The Ignite <a href=\"https://ignite.apache.org/docs/latest/clustering/network-configuration#ipv4-vs-ipv6\" rel=\"nofollow noreferrer\">docs</a> state that &quot;Ignite tries to support IPv4 and IPv6 but this can sometimes lead to issues where the cluster becomes detached.&quot;</p>\n<p>While point 4 of this <a href=\"https://dzone.com/articles/a-simple-checklist-for-apache-ignite-beginners\" rel=\"nofollow noreferrer\">source</a> states &quot;It can’t be said that Ignite doesn’t support the IPv6 protocol, but at this moment, there are a few specific problems.&quot;</p>\n<p>I have two questions:</p>\n<ol>\n<li>Both of the above sources are very vague, is there any other documentation that describes in detail the issues with IPv6 communication and how to resolve them (apart from using IPv4)?</li>\n<li>From a practical standpoint, can Ignite function in a purely IPv6 environment? Again any documentation/sources to back this answer up would be appreciated.</li>\n</ol>\n"},{"tags":["java","intellij-idea","ant"],"answers":[{"tags":[],"owner":{"account_id":349332,"reputation":1234,"user_id":684562,"accept_rate":85,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461074631,"creation_date":1461074631,"answer_id":36720742,"question_id":36720269,"body_markdown":"Ant can do what you want, but personally I prefer Gradle or Maven to build my projects. You can use them even to deploy your app into test servers. [Here&#39;s a simple tutorial][1] for you to start learning gradle (my favorite one at the moment)\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/tutorial_java_projects.html","title":"How to build artifacts from IntelliJ via command line","body":"<p>Ant can do what you want, but personally I prefer Gradle or Maven to build my projects. You can use them even to deploy your app into test servers. <a href=\"https://docs.gradle.org/current/userguide/tutorial_java_projects.html\" rel=\"nofollow\">Here's a simple tutorial</a> for you to start learning gradle (my favorite one at the moment)</p>\n"},{"tags":[],"owner":{"account_id":4298220,"reputation":83,"user_id":5692429,"display_name":"tmpg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461075030,"creation_date":1461074648,"answer_id":36720748,"question_id":36720269,"body_markdown":"Usually what I do is have my run/debug also build my artifacts. On the bottom of &quot;Run/Debug Configurations&quot; in Intellij you can add &quot;Build Artifact&quot; to &quot;Before launch: Make, Activate tool window&quot;. \r\n\r\nYou can probably build the artifact with ant by generating build.xml through Menu --&gt; Generate Ant Build but would have to keep it updated. Maven or Gradle is a better option in this regard.\r\n\r\nIdeally though, you would want a CI tool like Jenkins (there are others) to deploy your code to your environments. So when you push (with your VCS) or trigger it, everything is built by Jenkins and sent to where it needs to be for the QA team.\r\n\r\nhttp://codurance.com/2014/10/03/guide-to-deploying-artifacts-with-jenkins/","title":"How to build artifacts from IntelliJ via command line","body":"<p>Usually what I do is have my run/debug also build my artifacts. On the bottom of \"Run/Debug Configurations\" in Intellij you can add \"Build Artifact\" to \"Before launch: Make, Activate tool window\". </p>\n\n<p>You can probably build the artifact with ant by generating build.xml through Menu --> Generate Ant Build but would have to keep it updated. Maven or Gradle is a better option in this regard.</p>\n\n<p>Ideally though, you would want a CI tool like Jenkins (there are others) to deploy your code to your environments. So when you push (with your VCS) or trigger it, everything is built by Jenkins and sent to where it needs to be for the QA team.</p>\n\n<p><a href=\"http://codurance.com/2014/10/03/guide-to-deploying-artifacts-with-jenkins/\" rel=\"nofollow\">http://codurance.com/2014/10/03/guide-to-deploying-artifacts-with-jenkins/</a></p>\n"},{"tags":[],"owner":{"account_id":5752656,"reputation":64,"user_id":4541788,"display_name":"Andrea Fini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653050991,"creation_date":1653050991,"answer_id":72319220,"question_id":36720269,"body_markdown":"To build Artifact from command line I used Ant.\r\nThese are the steps:\r\n\r\n 1. Install Idea Ant Generator Plugin \r\nhttps://plugins.jetbrains.com/plugin/14169-ant-build-generation\r\n\r\n[![ant build generator menu][1]][1]\r\n\r\nand use *&quot;generate ant build ...&quot;* to create an ant xml file of your project (and modules).\r\n\r\n[![ant generate window][2]][2]\r\n\r\n2. Open Ant tool window and add the file generated.\r\n\r\n[![menu to ant view][3]][3]\r\n\r\n3. Click *build.all.artifact* to test the build\r\n\r\n[![ant build file preview][4]][4]\r\n\r\n4. Now download Ant from Apache repository https://downloads.apache.org/ant/binaries/\r\n\r\n5. Unzip and add the folder to your **SYSTEM PATH**.\r\n\r\nNow from command line:\r\n\r\n    ant -buildfile myfileant.xml build.all.artifacts\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iZXEz.png\r\n  [2]: https://i.stack.imgur.com/Rt7dW.png\r\n  [3]: https://i.stack.imgur.com/vJ8di.png\r\n  [4]: https://i.stack.imgur.com/cnOYA.png","title":"How to build artifacts from IntelliJ via command line","body":"<p>To build Artifact from command line I used Ant.\nThese are the steps:</p>\n<ol>\n<li>Install Idea Ant Generator Plugin\n<a href=\"https://plugins.jetbrains.com/plugin/14169-ant-build-generation\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/14169-ant-build-generation</a></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/iZXEz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iZXEz.png\" alt=\"ant build generator menu\" /></a></p>\n<p>and use <em>&quot;generate ant build ...&quot;</em> to create an ant xml file of your project (and modules).</p>\n<p><a href=\"https://i.stack.imgur.com/Rt7dW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rt7dW.png\" alt=\"ant generate window\" /></a></p>\n<ol start=\"2\">\n<li>Open Ant tool window and add the file generated.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/vJ8di.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vJ8di.png\" alt=\"menu to ant view\" /></a></p>\n<ol start=\"3\">\n<li>Click <em>build.all.artifact</em> to test the build</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/cnOYA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cnOYA.png\" alt=\"ant build file preview\" /></a></p>\n<ol start=\"4\">\n<li><p>Now download Ant from Apache repository <a href=\"https://downloads.apache.org/ant/binaries/\" rel=\"nofollow noreferrer\">https://downloads.apache.org/ant/binaries/</a></p>\n</li>\n<li><p>Unzip and add the folder to your <strong>SYSTEM PATH</strong>.</p>\n</li>\n</ol>\n<p>Now from command line:</p>\n<pre><code>ant -buildfile myfileant.xml build.all.artifacts\n</code></pre>\n"}],"owner":{"account_id":253120,"reputation":3093,"user_id":531608,"accept_rate":41,"display_name":"Emre801"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4010,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1653297904,"creation_date":1461073386,"question_id":36720269,"body_markdown":"I am looking to make my development life a little easier. Currently I have to go through multiple steps to deploy my code base to a test environment to allow for QA to do their work. These steps are not difficult just that I want to automate it so that it can auto run twice a day.\r\n\r\nOne thing that I am having trouble figuring out what to do is to automate my build artifacts phase in IntelliJ. I have two modules in my IntelliJ projects and I build artifacts for one of them. \r\n\r\nThe steps I go to build the artifacts are \r\nBuild --&gt; Build artifacts --&gt; Select Artifact to build\r\n\r\nI was wondering if something like Ant would be able to do the job? I am not familiar with Ant, so I thought I was ask people opinions on it first.","title":"How to build artifacts from IntelliJ via command line","body":"<p>I am looking to make my development life a little easier. Currently I have to go through multiple steps to deploy my code base to a test environment to allow for QA to do their work. These steps are not difficult just that I want to automate it so that it can auto run twice a day.</p>\n\n<p>One thing that I am having trouble figuring out what to do is to automate my build artifacts phase in IntelliJ. I have two modules in my IntelliJ projects and I build artifacts for one of them. </p>\n\n<p>The steps I go to build the artifacts are \nBuild --> Build artifacts --> Select Artifact to build</p>\n\n<p>I was wondering if something like Ant would be able to do the job? I am not familiar with Ant, so I thought I was ask people opinions on it first.</p>\n"},{"tags":["java","mysql","visual-studio-code","jdbc","popsql"],"comments":[{"owner":{"account_id":6742878,"reputation":848,"user_id":5195494,"display_name":"Mostafa"},"score":0,"creation_date":1653237830,"post_id":72330209,"comment_id":127797066,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":25277936,"reputation":1,"user_id":19106227,"display_name":"xizixuejie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653142234,"creation_date":1653142234,"answer_id":72330328,"question_id":72330209,"body_markdown":"user chanage to &#39;root&#39;\r\n```java\r\nString user=&quot;root&quot;;\r\n```","title":"Cannot connect to mysql database from popsql with my vscode","body":"<p>user chanage to 'root'</p>\n<pre class=\"lang-java prettyprint-override\"><code>String user=&quot;root&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653297728,"creation_date":1653292733,"answer_id":72345081,"question_id":72330209,"body_markdown":"First of all, please confirm whether you have correctly imported the java connection database driver package in VS Code. You can click the plus sign after **Referenced Libraries** in **JAVA PROJECTS** to import.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn addition, `String user=&quot;root@localhost&quot;` in the code can be modified to `String user=&quot;root&quot;`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KYW8M.png","title":"Cannot connect to mysql database from popsql with my vscode","body":"<p>First of all, please confirm whether you have correctly imported the java connection database driver package in VS Code. You can click the plus sign after <strong>Referenced Libraries</strong> in <strong>JAVA PROJECTS</strong> to import.</p>\n<p><a href=\"https://i.stack.imgur.com/KYW8M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KYW8M.png\" alt=\"enter image description here\" /></a></p>\n<p>In addition, <code>String user=&quot;root@localhost&quot;</code> in the code can be modified to <code>String user=&quot;root&quot;</code>.</p>\n"}],"owner":{"account_id":24401077,"reputation":1,"user_id":18329820,"display_name":"kushagra upadhyay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653297728,"creation_date":1653141383,"question_id":72330209,"body_markdown":"**#java code for connection with jdbc**\r\n\r\nimport java.sql.*;\r\npublic class abc {\r\n\r\n    public static void main(String args[])throws Exception{\r\n\r\n\r\n**# my driver which i am using**\r\n\r\n        String url = &quot;jdbc:mysql://localhost:3306//kushagra&quot;;\r\n\r\n        String user=&quot;root@localhost&quot;;\r\n\r\n        String password=&quot;kushagra&quot;;\r\n\r\n**#query written in popsql this a mysql query**\r\n\r\n        String query = &quot;Select student_name From students where student_id =1&quot;;\r\n\r\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\n\r\n\r\n        Connection con =  DriverManager.getConnection(url, user, password);\r\n\r\n        Statement st = con.createStatement();\r\n\r\n        ResultSet rs = st.executeQuery(query);\r\n\r\n        rs.next();\r\n\r\n        String name = rs.getString(&quot;student_name&quot;);\r\n\r\n        System.out.println(name);\r\n\r\n        st.close();\r\n        con.close();\r\n\r\n\r\n\r\n    }\r\n}","title":"Cannot connect to mysql database from popsql with my vscode","body":"<p><strong>#java code for connection with jdbc</strong></p>\n<p>import java.sql.*;\npublic class abc {</p>\n<pre><code>public static void main(String args[])throws Exception{\n</code></pre>\n<p><strong># my driver which i am using</strong></p>\n<pre><code>    String url = &quot;jdbc:mysql://localhost:3306//kushagra&quot;;\n\n    String user=&quot;root@localhost&quot;;\n\n    String password=&quot;kushagra&quot;;\n</code></pre>\n<p><strong>#query written in popsql this a mysql query</strong></p>\n<pre><code>    String query = &quot;Select student_name From students where student_id =1&quot;;\n\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n\n\n\n    Connection con =  DriverManager.getConnection(url, user, password);\n\n    Statement st = con.createStatement();\n\n    ResultSet rs = st.executeQuery(query);\n\n    rs.next();\n\n    String name = rs.getString(&quot;student_name&quot;);\n\n    System.out.println(name);\n\n    st.close();\n    con.close();\n\n\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":25348800,"reputation":1,"user_id":19165983,"display_name":"user19165983"},"score":0,"creation_date":1653121323,"post_id":72327651,"comment_id":127777688,"body_markdown":"It does not seem to work correctly to me. My understanding is that this array should have five elements each of which I can fill with a String I input through the console. Because every other element is filled with nothing I can only make three inputs from the console.","body":"It does not seem to work correctly to me. My understanding is that this array should have five elements each of which I can fill with a String I input through the console. Because every other element is filled with nothing I can only make three inputs from the console."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1653122110,"post_id":72327651,"comment_id":127777837,"body_markdown":"this looks to be similar to your situation. I m not sure why, but on my IDE your code works fine. https://stackoverflow.com/a/72327845/16034206","body":"this looks to be similar to your situation. I m not sure why, but on my IDE your code works fine. <a href=\"https://stackoverflow.com/a/72327845/16034206\">stackoverflow.com/a/72327845/16034206</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653132825,"post_id":72327651,"comment_id":127779766,"body_markdown":"Run it at the console of your OS instead. Let us know what happens","body":"Run it at the console of your OS instead. Let us know what happens"},{"owner":{"account_id":25348800,"reputation":1,"user_id":19165983,"display_name":"user19165983"},"score":0,"creation_date":1653160189,"post_id":72327651,"comment_id":127785247,"body_markdown":"I ran it using the Command Prompt on Windows. It worked perfectly fine.  Strange. It does seem to be a problem with IntelliJ IDEA","body":"I ran it using the Command Prompt on Windows. It worked perfectly fine.  Strange. It does seem to be a problem with IntelliJ IDEA"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1653210600,"post_id":72327651,"comment_id":127791612,"body_markdown":"@user19165983 I recently updated my IntelliJ IDEA and your error started occurring on my device too. Definitely the error is with IntelliJ and version dependant as well.","body":"@user19165983 I recently updated my IntelliJ IDEA and your error started occurring on my device too. Definitely the error is with IntelliJ and version dependant as well."}],"answers":[{"tags":[],"owner":{"account_id":25290614,"reputation":81,"user_id":19116804,"display_name":"Sowaiba9801"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653200037,"creation_date":1653148691,"answer_id":72331165,"question_id":72327651,"body_markdown":"See there might be a problem with your debugger because your code is absolutely correct. I have run the code on eclipse IDE and it is showing the desired input.\r\nOutput: [enter image description here][1]\r\n\r\n\r\nHowever, if you want the array to be printed within square brackets add this line of code,\r\n\r\n```\r\nSystem.out.print(&#39;[&#39;);\r\nfor(int i = list.length - 1; i &gt;=0; i--) {\r\n   System.out.print(list[i]+&quot; &quot;);\r\n}\r\nSystem.out.print(&#39;]&#39;);\r\n```\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EF9f2.png\r\n  [2]: https://i.stack.imgur.com/umLnP.png","title":"Attempting to fill an array with console input, but every other element is assigned a blank value","body":"<p>See there might be a problem with your debugger because your code is absolutely correct. I have run the code on eclipse IDE and it is showing the desired input.\nOutput: <a href=\"https://i.stack.imgur.com/EF9f2.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>However, if you want the array to be printed within square brackets add this line of code,</p>\n<pre><code>System.out.print('[');\nfor(int i = list.length - 1; i &gt;=0; i--) {\n   System.out.print(list[i]+&quot; &quot;);\n}\nSystem.out.print(']');\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/umLnP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":25348800,"reputation":1,"user_id":19165983,"display_name":"user19165983"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653297366,"creation_date":1653119160,"question_id":72327651,"body_markdown":"I am trying to create an array and fill it with input from the console that is then output in reverse order, however it keeps assigning blank values to every other element. This is causing fewer lines from the console to be read than I would like. Additionally, this is causing lines to be &quot;skipped&quot; during output. The values in the array look like [&quot;a&quot;, &quot;&quot;, &quot;b&quot;, &quot;&quot;, &quot;c&quot;] when I would like them to look like [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;].\r\n \r\nTo clarify I want to input values for five Strings through the console and output them on consecutive lines. Currently, I can only input three because two of the elements are filled with &quot;&quot; . Additionally,  this is causing spacing problems in the output.\r\n\r\nHere is my code:\r\n\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        String[] list = new String[5];\r\n\r\n        for(int i = 0; i &lt; list.length; i++) {\r\n            list[i] = reader.readLine();\r\n        } for(int i = list.length - 1; i &gt;=0; i--) {\r\n            System.out.println(list[i]);\r\n        }\r\n    \r\n[Here is an image of my code partially running through a debugger.][1] I am using IntelliJ IDEA Community Edition.\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7jMQg.png","title":"Attempting to fill an array with console input, but every other element is assigned a blank value","body":"<p>I am trying to create an array and fill it with input from the console that is then output in reverse order, however it keeps assigning blank values to every other element. This is causing fewer lines from the console to be read than I would like. Additionally, this is causing lines to be &quot;skipped&quot; during output. The values in the array look like [&quot;a&quot;, &quot;&quot;, &quot;b&quot;, &quot;&quot;, &quot;c&quot;] when I would like them to look like [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;].</p>\n<p>To clarify I want to input values for five Strings through the console and output them on consecutive lines. Currently, I can only input three because two of the elements are filled with &quot;&quot; . Additionally,  this is causing spacing problems in the output.</p>\n<p>Here is my code:</p>\n<pre><code>    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n    String[] list = new String[5];\n\n    for(int i = 0; i &lt; list.length; i++) {\n        list[i] = reader.readLine();\n    } for(int i = list.length - 1; i &gt;=0; i--) {\n        System.out.println(list[i]);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7jMQg.png\" rel=\"nofollow noreferrer\">Here is an image of my code partially running through a debugger.</a> I am using IntelliJ IDEA Community Edition.</p>\n"},{"tags":["java","database","desktop-application","objectbox-java"],"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":2,"creation_date":1653217248,"post_id":72336451,"comment_id":127792749,"body_markdown":"How shall anybody be able to help you if provide close to nothing of information? How do you configure, initialize, use the db? Maybe you are using an in-memory db. How shall we know?","body":"How shall anybody be able to help you if provide close to nothing of information? How do you configure, initialize, use the db? Maybe you are using an in-memory db. How shall we know?"},{"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"score":0,"creation_date":1653222383,"post_id":72336451,"comment_id":127793703,"body_markdown":"i have edited the question with sample code @mipa .","body":"i have edited the question with sample code @mipa ."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1653232834,"post_id":72336451,"comment_id":127795928,"body_markdown":"hmm ... how is this related to javafx?","body":"hmm ... how is this related to javafx?"},{"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"score":0,"creation_date":1653233513,"post_id":72336451,"comment_id":127796079,"body_markdown":"this is a class that i will use anywhere in any other java app , in this case, I am using this with JavaFX","body":"this is a class that i will use anywhere in any other java app , in this case, I am using this with JavaFX"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1653297079,"post_id":72336451,"comment_id":127808272,"body_markdown":"using problematic code in _whatever_ context doesn&#39;t make it related to _whatever_ ;)","body":"using problematic code in <i>whatever</i> context doesn&#39;t make it related to <i>whatever</i> ;)"}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653297066,"creation_date":1653233956,"answer_id":72339013,"question_id":72336451,"body_markdown":"You are creating a new temporary file each time when you execute your application. I guess that explains your problem.\r\n\r\nFrom the docs:\r\n\r\n&gt; creates a new empty file in the specified directory. deleteOnExit()\r\n&gt; method is called to delete the file created by this method.","title":"Objectio dB database for Java desktop persistance","body":"<p>You are creating a new temporary file each time when you execute your application. I guess that explains your problem.</p>\n<p>From the docs:</p>\n<blockquote>\n<p>creates a new empty file in the specified directory. deleteOnExit()\nmethod is called to delete the file created by this method.</p>\n</blockquote>\n"}],"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72339013,"answer_count":1,"score":0,"last_activity_date":1653297066,"creation_date":1653213082,"question_id":72336451,"body_markdown":"I have been trying out object ox io for Java. It has been working well on Android hence I decided to go with it on Java desktop implementation.\r\n\r\nThe problem I am facing is that I can save my data at run time but when I restart the app or desktop app the data is gone, is forgotten, which is very strange. I have tried to look for an explanation but haven&#39;t found anything on this. Can anyone help or have an idea why this is? In the mean time I have reverted to using SQLite. The app is intended to be very big and have a lot of multi-threads.\r\n\r\nhere is a sample\r\n```java \r\n\r\nimport io.objectbox.BoxStore;\r\nimport io.objectbox.DebugFlags;\r\nimport lombok.SneakyThrows;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class DBObjectManager {\r\n\r\n    public static DBObjectManager  objectIOAccessInstance ;\r\n    private BoxStore store;\r\n\r\n\r\n    private DBObjectManager() {\r\n        File tempFile = null;\r\n        try {\r\n            tempFile = File.createTempFile(&quot;objectdb&quot;, &quot;&quot;);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        tempFile.delete();\r\n         store = MyObjectBox.builder()\r\n                .directory(tempFile)              \r\n                .debugFlags(DebugFlags.LOG_QUERIES | DebugFlags.LOG_QUERY_PARAMETERS)\r\n                .build();\r\n    }\r\n\r\n    public static DBObjectManager getinstance() {\r\n        if (objectIOAccessInstance == null) {\r\n            objectIOAccessInstance = new DBObjectManager();\r\n        }\r\n        return objectIOAccessInstance;\r\n    }\r\n\r\n    public BoxStore getStore() {\r\n        return store;\r\n    }\r\n}\r\n\r\n```\r\n","title":"Objectio dB database for Java desktop persistance","body":"<p>I have been trying out object ox io for Java. It has been working well on Android hence I decided to go with it on Java desktop implementation.</p>\n<p>The problem I am facing is that I can save my data at run time but when I restart the app or desktop app the data is gone, is forgotten, which is very strange. I have tried to look for an explanation but haven't found anything on this. Can anyone help or have an idea why this is? In the mean time I have reverted to using SQLite. The app is intended to be very big and have a lot of multi-threads.</p>\n<p>here is a sample</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport io.objectbox.BoxStore;\nimport io.objectbox.DebugFlags;\nimport lombok.SneakyThrows;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class DBObjectManager {\n\n    public static DBObjectManager  objectIOAccessInstance ;\n    private BoxStore store;\n\n\n    private DBObjectManager() {\n        File tempFile = null;\n        try {\n            tempFile = File.createTempFile(&quot;objectdb&quot;, &quot;&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        tempFile.delete();\n         store = MyObjectBox.builder()\n                .directory(tempFile)              \n                .debugFlags(DebugFlags.LOG_QUERIES | DebugFlags.LOG_QUERY_PARAMETERS)\n                .build();\n    }\n\n    public static DBObjectManager getinstance() {\n        if (objectIOAccessInstance == null) {\n            objectIOAccessInstance = new DBObjectManager();\n        }\n        return objectIOAccessInstance;\n    }\n\n    public BoxStore getStore() {\n        return store;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","kubernetes","jvm","kubernetes-pod","k8s-cronjobber"],"comments":[{"owner":{"account_id":10799165,"reputation":95,"user_id":7943791,"display_name":"Ahmed Zidan"},"score":0,"creation_date":1667739404,"post_id":72345855,"comment_id":131233845,"body_markdown":"note that Xmx affects only the heap, while JVM uses memory outside the heap for other purposes as well (metaspace, code cache, etc.) so we always recommend setting xmx and xms to be not more than 50% of your requests memory.\nso if your memory requests are 10Gi your xmx and xms should be 5G","body":"note that Xmx affects only the heap, while JVM uses memory outside the heap for other purposes as well (metaspace, code cache, etc.) so we always recommend setting xmx and xms to be not more than 50% of your requests memory. so if your memory requests are 10Gi your xmx and xms should be 5G"}],"owner":{"account_id":4790455,"reputation":302,"user_id":3869786,"display_name":"Nishant Middha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1751,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653302390,"answer_count":0,"score":0,"last_activity_date":1653297027,"creation_date":1653296511,"question_id":72345855,"body_markdown":"Kubernetes pod getting terminated and marked as OOMKilled. Below is my cronjob yaml file:\r\n\r\n  ```apiVersion: batch/v1beta1\r\nkind: CronJob\r\nmetadata:\r\n  name: test-cron\r\nspec:\r\n  schedule: &quot;30 2 1 * *&quot;\r\n  concurrencyPolicy: Forbid\r\n  jobTemplate:\r\n    spec:\r\n      backoffLimit: 1\r\n      template:\r\n        spec:\r\n          containers:\r\n            - name: test-container\r\n              image: &lt;image&gt;\r\n              resources:\r\n                limits:\r\n                  memory: 10240Mi\r\n                  cpu: 4000m\r\n                  ephemeral-storage: 2Gi\r\n                requests:\r\n                  memory: 10240Mi\r\n                  cpu: 4000m\r\n                  ephemeral-storage: 2Gi\r\n              args:\r\n                - java\r\n                - -cp\r\n                - /jars/*\r\n                - -Xmx9g\r\n                - -Xms9g\r\n                - -XX:+UnlockCommercialFeatures\r\n                - -XX:+FlightRecorder\r\n                - -Dcom.sun.management.jmxremote\r\n                - -Dcom.sun.management.jmxremote.port=9002\r\n                - -Dcom.sun.management.jmxremote.authenticate=false\r\n                - -Dcom.sun.management.jmxremote.ssl=false\r\n                - com.test.app.TestApplication\r\n          restartPolicy: Never\r\n```\r\n\r\nI am not getting OutOfMemoryError in my java application. One of the reasons can be pod is using high memory than the limit mentioned in the yaml. But how&#39;s that possible because Xmx set is 9GB and if heap usage tries to go above 9GB then my application should throw OOM error.\r\n\r\nOne thing I tried doing was increasing the pod memory request and limit to 15GB basically now there is big difference between Xmx and pod memory request/limit. This time my pod ran successfully. Why did it work?","title":"Kubernetes pod marked as OOMKilled","body":"<p>Kubernetes pod getting terminated and marked as OOMKilled. Below is my cronjob yaml file:</p>\n<pre><code>kind: CronJob\nmetadata:\nname: test-cron\nspec:\nschedule: &quot;30 2 1 * *&quot;\nconcurrencyPolicy: Forbid\njobTemplate:\n  spec:\n    backoffLimit: 1\n    template:\n      spec:\n        containers:\n          - name: test-container\n            image: &lt;image&gt;\n            resources:\n              limits:\n                memory: 10240Mi\n                cpu: 4000m\n                ephemeral-storage: 2Gi\n              requests:\n                memory: 10240Mi\n                cpu: 4000m\n                ephemeral-storage: 2Gi\n            args:\n              - java\n              - -cp\n              - /jars/*\n              - -Xmx9g\n              - -Xms9g\n              - -XX:+UnlockCommercialFeatures\n              - -XX:+FlightRecorder\n              - -Dcom.sun.management.jmxremote\n              - -Dcom.sun.management.jmxremote.port=9002\n              - -Dcom.sun.management.jmxremote.authenticate=false\n              - -Dcom.sun.management.jmxremote.ssl=false\n              - com.test.app.TestApplication\n        restartPolicy: Never\n</code></pre>\n<p>I am not getting OutOfMemoryError in my java application. One of the reasons can be pod is using high memory than the limit mentioned in the yaml. But how's that possible because Xmx set is 9GB and if heap usage tries to go above 9GB then my application should throw OOM error.</p>\n<p>One thing I tried doing was increasing the pod memory request and limit to 15GB basically now there is big difference between Xmx and pod memory request/limit. This time my pod ran successfully. Why did it work?</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1653301303,"post_id":72336446,"comment_id":127809744,"body_markdown":"Just making sure : you are using the new client (that replaces the previous High Level Rest Client) ?","body":"Just making sure : you are using the new client (that replaces the previous High Level Rest Client) ?"},{"owner":{"account_id":20290918,"reputation":66,"user_id":14882594,"display_name":"Ander"},"score":0,"creation_date":1653471782,"post_id":72336446,"comment_id":127858643,"body_markdown":"I am sure.  The search method in the new client can recieve a lambda function or SearchRequest object. Because the search request is so complicated that I choose to pass a SearchRequest object to it. But I found no way to generate the DSL by it.  @GPI","body":"I am sure.  The search method in the new client can recieve a lambda function or SearchRequest object. Because the search request is so complicated that I choose to pass a SearchRequest object to it. But I found no way to generate the DSL by it.  @GPI"},{"owner":{"account_id":20290918,"reputation":66,"user_id":14882594,"display_name":"Ander"},"score":0,"creation_date":1653472111,"post_id":72336446,"comment_id":127858785,"body_markdown":"Someone tell me to use a thirdparty library bboss.","body":"Someone tell me to use a thirdparty library bboss."}],"owner":{"account_id":20290918,"reputation":66,"user_id":14882594,"display_name":"Ander"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653296963,"creation_date":1653213029,"question_id":72336446,"body_markdown":"I build a query request by SearchRequestBuilder. \r\n\r\nBut now I want to get the equivalent json type DSL. \r\n\r\nIt is possible to get it from a SearchRequestBuilder or SearchRequest object?\r\n\r\nMy ElasticSearch Version : 8.2.0\r\n\r\nIt seems that there is no any way to get it from the SearchRequest object.\r\n\r\nI found another combersome way: Use wireshark/tshark to capture the http package and then the dsl json is in the body.\r\n","title":"How to get ElasticSearch DSL from a SearchRequest object in Java？","body":"<p>I build a query request by SearchRequestBuilder.</p>\n<p>But now I want to get the equivalent json type DSL.</p>\n<p>It is possible to get it from a SearchRequestBuilder or SearchRequest object?</p>\n<p>My ElasticSearch Version : 8.2.0</p>\n<p>It seems that there is no any way to get it from the SearchRequest object.</p>\n<p>I found another combersome way: Use wireshark/tshark to capture the http package and then the dsl json is in the body.</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":2384588,"reputation":399,"user_id":2085819,"display_name":"Shaun Parker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644002902,"creation_date":1644002600,"answer_id":70991833,"question_id":70675940,"body_markdown":"I experienced this same issue. I resolved it by downgrading Elastic Search and dependencies from `7.16` to `7.15`.\r\n\r\nThe current [documentation][1] shows that `7.15.2` is the highest version currently support (or tested for release).\r\n\r\n  [1]: https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.requirements","title":"spring boot elasticsearch java.lang.NoSuchFieldError: INDEX_CONTENT_TYPE error","body":"<p>I experienced this same issue. I resolved it by downgrading Elastic Search and dependencies from <code>7.16</code> to <code>7.15</code>.</p>\n<p>The current <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#preface.requirements\" rel=\"nofollow noreferrer\">documentation</a> shows that <code>7.15.2</code> is the highest version currently support (or tested for release).</p>\n"},{"tags":[],"owner":{"account_id":3107900,"reputation":3965,"user_id":2630326,"accept_rate":80,"display_name":"Wojciech Wirzbicki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653296906,"creation_date":1653296906,"answer_id":72345938,"question_id":70675940,"body_markdown":"The problem you faced has been fixed in version 4.4.0 which supports elasticsearch 7.17.3. \r\n\r\nCheck https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#new-features.4-4-0\r\n\r\n&gt; 1.1. New in Spring Data Elasticsearch 4.4\r\n&gt; * ...\r\n&gt; * Upgrade to Elasticsearch 7.17.3.\r\n\r\n","title":"spring boot elasticsearch java.lang.NoSuchFieldError: INDEX_CONTENT_TYPE error","body":"<p>The problem you faced has been fixed in version 4.4.0 which supports elasticsearch 7.17.3.</p>\n<p>Check <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#new-features.4-4-0\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#new-features.4-4-0</a></p>\n<blockquote>\n<p>1.1. New in Spring Data Elasticsearch 4.4</p>\n<ul>\n<li>...</li>\n<li>Upgrade to Elasticsearch 7.17.3.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":22686459,"reputation":31,"user_id":16855984,"display_name":"vane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653296906,"creation_date":1641957745,"question_id":70675940,"body_markdown":"java.lang.NoSuchFieldError: INDEX_CONTENT_TYPE error\r\n\r\nElasticsearch Version : 7.16.2\r\n\r\n```java\r\n    // elasticsearch\r\n    implementation &#39;org.springframework.data:spring-data-elasticsearch:4.3.0&#39;\r\n    implementation &#39;org.elasticsearch:elasticsearch:7.16.2&#39;\r\n    implementation &#39;org.elasticsearch.client:elasticsearch-rest-high-level-client:7.16.2&#39;\r\n\r\n    // jackson-core\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-core:2.13.1&#39;\r\n```\r\n\r\n```java\r\npublic &lt;T&gt; void bulk(String indexName, List&lt;T&gt; documents, Class&lt;T&gt; tClass) {\r\n        elasticsearchIndex.setIndexName(indexName);\r\n        List&lt;IndexQuery&gt; queries = new ArrayList&lt;&gt;();\r\n        for (T document : documents) {\r\n            IndexQuery query = new IndexQueryBuilder()\r\n                    .withObject(document)\r\n                    .build();\r\n            queries.add(query);\r\n        }\r\n        IndexOperations indexOps = elasticsearchTemplate.indexOps(tClass);\r\n        if (!indexOps.exists()) {\r\n            indexOps.create();\r\n            indexOps.putMapping(indexOps.createMapping());\r\n        }\r\n        elasticsearchTemplate.bulkIndex(queries, tClass); // error\r\n    }\r\n```\r\n\r\n```java\r\n@Getter @Setter @ToString\r\n@Document(indexName = &quot;#{@elasticsearchIndex.getIndexName()}&quot;)\r\n```\r\n\r\njava.lang.NoSuchFieldError: INDEX_CONTENT_TYPE","title":"spring boot elasticsearch java.lang.NoSuchFieldError: INDEX_CONTENT_TYPE error","body":"<p>java.lang.NoSuchFieldError: INDEX_CONTENT_TYPE error</p>\n<p>Elasticsearch Version : 7.16.2</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // elasticsearch\n    implementation 'org.springframework.data:spring-data-elasticsearch:4.3.0'\n    implementation 'org.elasticsearch:elasticsearch:7.16.2'\n    implementation 'org.elasticsearch.client:elasticsearch-rest-high-level-client:7.16.2'\n\n    // jackson-core\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.13.1'\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; void bulk(String indexName, List&lt;T&gt; documents, Class&lt;T&gt; tClass) {\n        elasticsearchIndex.setIndexName(indexName);\n        List&lt;IndexQuery&gt; queries = new ArrayList&lt;&gt;();\n        for (T document : documents) {\n            IndexQuery query = new IndexQueryBuilder()\n                    .withObject(document)\n                    .build();\n            queries.add(query);\n        }\n        IndexOperations indexOps = elasticsearchTemplate.indexOps(tClass);\n        if (!indexOps.exists()) {\n            indexOps.create();\n            indexOps.putMapping(indexOps.createMapping());\n        }\n        elasticsearchTemplate.bulkIndex(queries, tClass); // error\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter @ToString\n@Document(indexName = &quot;#{@elasticsearchIndex.getIndexName()}&quot;)\n</code></pre>\n<p>java.lang.NoSuchFieldError: INDEX_CONTENT_TYPE</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5742767,"reputation":9235,"user_id":4534923,"display_name":"Paulo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653288874,"creation_date":1653288874,"answer_id":72344326,"question_id":72344005,"body_markdown":"# Tldr;\r\n\r\nI am afraid it is [not supported][1]. The closest you will get is `double`.\r\n\r\n# To test\r\n\r\nIn this quick test, I create 4 documents (that goes from bigger to smaller sorted on the `_id`)\r\n\r\n```\r\nPOST /_bulk/\r\n{&quot;index&quot;:{&quot;_index&quot;:&quot;72344005&quot;,&quot;_id&quot;:&quot;2&quot;}}\r\n{&quot;data&quot;:123456789.123456789}\r\n{&quot;index&quot;:{&quot;_index&quot;:&quot;72344005&quot;,&quot;_id&quot;:&quot;3&quot;}}\r\n{&quot;data&quot;:-123456789.123456789}\r\n{&quot;index&quot;:{&quot;_index&quot;:&quot;72344005&quot;,&quot;_id&quot;:&quot;1&quot;}}\r\n{&quot;data&quot;:223456789.123456789}\r\n{&quot;index&quot;:{&quot;_index&quot;:&quot;72344005&quot;,&quot;_id&quot;:&quot;0&quot;}}\r\n{&quot;data&quot;:223456789.123456889}\r\n\r\nGET /72344005/_search\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;match_all&quot;: {}\r\n  },\r\n  &quot;sort&quot;: [\r\n    {\r\n      &quot;data&quot;: {\r\n        &quot;order&quot;: &quot;desc&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\nThe query give back documents sort like so `1, 0, 2, 3`. Supporting the claim that we loose some precision. during the indexation.\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/number.html","title":"How to store BigDecimal type data in Elastic Search and sort by that value?","body":"<h1>Tldr;</h1>\n<p>I am afraid it is <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/number.html\" rel=\"nofollow noreferrer\">not supported</a>. The closest you will get is <code>double</code>.</p>\n<h1>To test</h1>\n<p>In this quick test, I create 4 documents (that goes from bigger to smaller sorted on the <code>_id</code>)</p>\n<pre><code>POST /_bulk/\n{&quot;index&quot;:{&quot;_index&quot;:&quot;72344005&quot;,&quot;_id&quot;:&quot;2&quot;}}\n{&quot;data&quot;:123456789.123456789}\n{&quot;index&quot;:{&quot;_index&quot;:&quot;72344005&quot;,&quot;_id&quot;:&quot;3&quot;}}\n{&quot;data&quot;:-123456789.123456789}\n{&quot;index&quot;:{&quot;_index&quot;:&quot;72344005&quot;,&quot;_id&quot;:&quot;1&quot;}}\n{&quot;data&quot;:223456789.123456789}\n{&quot;index&quot;:{&quot;_index&quot;:&quot;72344005&quot;,&quot;_id&quot;:&quot;0&quot;}}\n{&quot;data&quot;:223456789.123456889}\n\nGET /72344005/_search\n{\n  &quot;query&quot;: {\n    &quot;match_all&quot;: {}\n  },\n  &quot;sort&quot;: [\n    {\n      &quot;data&quot;: {\n        &quot;order&quot;: &quot;desc&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>The query give back documents sort like so <code>1, 0, 2, 3</code>. Supporting the claim that we loose some precision. during the indexation.</p>\n"}],"owner":{"account_id":25193981,"reputation":11,"user_id":19033807,"display_name":"marton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":985,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653296877,"creation_date":1653286604,"question_id":72344005,"body_markdown":"How do I store BigDecimal type data in Elastic Search and sort by that value?","title":"How to store BigDecimal type data in Elastic Search and sort by that value?","body":"<p>How do I store BigDecimal type data in Elastic Search and sort by that value?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1653287688,"post_id":72344092,"comment_id":127805151,"body_markdown":"Try giving it the full path of the `perl` executable","body":"Try giving it the full path of the <code>perl</code> executable"},{"owner":{"account_id":2392155,"reputation":2372,"user_id":2091803,"accept_rate":86,"display_name":"Abdullah Leghari"},"score":2,"creation_date":1653287908,"post_id":72344092,"comment_id":127805211,"body_markdown":"Does this answer your question? [CreateProcess error = 2, the system cannot find the file specified error](https://stackoverflow.com/questions/48043878/createprocess-error-2-the-system-cannot-find-the-file-specified-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48043878/createprocess-error-2-the-system-cannot-find-the-file-specified-error\">CreateProcess error = 2, the system cannot find the file specified error</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1653300024,"post_id":72344092,"comment_id":127809314,"body_markdown":"And use `ProcessBuilder`. It gives you simpler control of stdout and stderr, which you should be processing, but aren&#39;t","body":"And use <code>ProcessBuilder</code>. It gives you simpler control of stdout and stderr, which you should be processing, but aren&#39;t"}],"owner":{"account_id":25363042,"reputation":1,"user_id":19177984,"display_name":"Chhavi Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653296825,"creation_date":1653287354,"question_id":72344092,"body_markdown":"    package checkpl;\r\n\r\n    public class runpl {\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\t\t \r\n\t\t\tProcess process;\r\n\t\t\t \r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tprocess = Runtime.getRuntime().exec(&quot;perl C:\\\\result\\\\ptrrefresh.pl&quot;);\r\n\t            process.waitFor();\r\n\t            if(process.exitValue() == 0)\r\n\t                {\r\n\t                    System.out.println(&quot;Command Successful&quot;);\r\n\t                    System.out.println(process);\r\n\t                }\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\tSystem.out.println(&quot;Command Failure&quot;);\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch(Exception e)\r\n\t\t\t{\r\n\t\t\tSystem.out.println(&quot;Exception: &quot;+ e.toString());\r\n\t\t\t}\r\n\t\t\t}\r\n    }\r\n\r\nI have the perl script file in `C:/result folder`. I have written the above program to run the Perl script in Java but it is giving the exception below:\r\n\r\n**`Exception: java.io.IOException: Cannot run program &quot;perl&quot;: CreateProcess error=2, The system cannot find the file specified`** \r\n\r\nWhat have I done wrong?","title":"Not able to run the perl script in java","body":"<pre><code>package checkpl;\n\npublic class runpl {\n\npublic static void main(String args[]) {\n         \n        Process process;\n         \n        try\n        {\n            process = Runtime.getRuntime().exec(&quot;perl C:\\\\result\\\\ptrrefresh.pl&quot;);\n            process.waitFor();\n            if(process.exitValue() == 0)\n                {\n                    System.out.println(&quot;Command Successful&quot;);\n                    System.out.println(process);\n                }\n        else\n        {\n        System.out.println(&quot;Command Failure&quot;);\n        }\n        }\n        catch(Exception e)\n        {\n        System.out.println(&quot;Exception: &quot;+ e.toString());\n        }\n        }\n}\n</code></pre>\n<p>I have the perl script file in <code>C:/result folder</code>. I have written the above program to run the Perl script in Java but it is giving the exception below:</p>\n<p><strong><code>Exception: java.io.IOException: Cannot run program &quot;perl&quot;: CreateProcess error=2, The system cannot find the file specified</code></strong></p>\n<p>What have I done wrong?</p>\n"},{"tags":["java","azure","simpledateformat","azure-data-factory"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1588785579,"post_id":61641233,"comment_id":109035531,"body_markdown":"`System.out.println(new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH-mm-ss&quot;).format(new Date()));`","body":"<code>System.out.println(new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH-mm-ss&quot;).format(new Date()));</code>"},{"owner":{"account_id":9930695,"reputation":3628,"user_id":7350788,"display_name":"Mark Kromer MSFT"},"score":0,"creation_date":1588791043,"post_id":61641233,"comment_id":109038462,"body_markdown":"are you doing this in a data flow?","body":"are you doing this in a data flow?"},{"owner":{"account_id":5928144,"reputation":23,"user_id":4663465,"display_name":"WibbleWobble"},"score":0,"creation_date":1588864299,"post_id":61641233,"comment_id":109069944,"body_markdown":"@MarkKromer Yep!","body":"@MarkKromer Yep!"},{"owner":{"account_id":9930695,"reputation":3628,"user_id":7350788,"display_name":"Mark Kromer MSFT"},"score":0,"creation_date":1588909961,"post_id":61641233,"comment_id":109087876,"body_markdown":"Something like this?\n\ntoString(toTimestamp(&#39;2016-01-13T00:12:00&#39;, &#39;yyyy-MM-dd\\&#39;T\\&#39;HH:mm:ss&#39;),&#39;yyyy-MM-dd\\&#39;T\\&#39;HH:mm:ss&#39;)\n\nOr you can keep the dashes ... I wasn&#39;t sure if you wanted dashes or colons based on the way your question was worded.","body":"Something like this?  toString(toTimestamp(&#39;2016-01-13T00:12:00&#39;, &#39;yyyy-MM-dd\\&#39;T\\&#39;HH:mm:ss&#39;),&#39;yyyy-MM-dd\\&#39;T\\&#39;HH:mm:ss&#39;)  Or you can keep the dashes ... I wasn&#39;t sure if you wanted dashes or colons based on the way your question was worded."}],"answers":[{"tags":[],"owner":{"account_id":11172301,"reputation":23265,"user_id":8198946,"display_name":"Jay Gong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1589115182,"creation_date":1589115182,"answer_id":61712330,"question_id":61641233,"body_markdown":"Based on the ADF built-in [Date Functions][1] , your requirement can&#39;t be implemented so far.\r\n\r\nHowever, you could use [formatDateTime][2] to convert your `datetime` into `String`.Then you could use [substring][3] to assemble your desired format.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/data-factory/control-flow-expression-language-functions#date-functions\r\n  [2]: https://learn.microsoft.com/en-us/azure/data-factory/control-flow-expression-language-functions#formatdatetime\r\n  [3]: https://learn.microsoft.com/en-us/azure/data-factory/control-flow-expression-language-functions#string-functions","title":"Formatting Time without colon in Azure Data Factory (Java SimpleDateFormat)","body":"<p>Based on the ADF built-in <a href=\"https://learn.microsoft.com/en-us/azure/data-factory/control-flow-expression-language-functions#date-functions\" rel=\"nofollow noreferrer\">Date Functions</a> , your requirement can't be implemented so far.</p>\n\n<p>However, you could use <a href=\"https://learn.microsoft.com/en-us/azure/data-factory/control-flow-expression-language-functions#formatdatetime\" rel=\"nofollow noreferrer\">formatDateTime</a> to convert your <code>datetime</code> into <code>String</code>.Then you could use <a href=\"https://learn.microsoft.com/en-us/azure/data-factory/control-flow-expression-language-functions#string-functions\" rel=\"nofollow noreferrer\">substring</a> to assemble your desired format.</p>\n"},{"tags":[],"owner":{"account_id":25364280,"reputation":1,"user_id":19179084,"display_name":"Joyto Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653296783,"creation_date":1653296755,"answer_id":72345908,"question_id":61641233,"body_markdown":"In Azure DataFlow, for individual items of time/date, use as follows :\r\n\r\n    year(currentDate())\r\n    month(currentDate())\r\n    dayOfMonth(currentDate())\r\n    hour(currentUTC())\r\n    minute(currentUTC())\r\n    second(currentUTC())\r\n\r\nConcat and use as required.","title":"Formatting Time without colon in Azure Data Factory (Java SimpleDateFormat)","body":"<p>In Azure DataFlow, for individual items of time/date, use as follows :</p>\n<pre><code>year(currentDate())\nmonth(currentDate())\ndayOfMonth(currentDate())\nhour(currentUTC())\nminute(currentUTC())\nsecond(currentUTC())\n</code></pre>\n<p>Concat and use as required.</p>\n"}],"owner":{"account_id":5928144,"reputation":23,"user_id":4663465,"display_name":"WibbleWobble"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61712330,"answer_count":2,"score":1,"last_activity_date":1653296783,"creation_date":1588785502,"question_id":61641233,"body_markdown":"I&#39;d like to format a timestamp like yyyy-MM-dd&#39;T&#39;HH-mm-ss as using colons causes issues when reading through ADF.\r\n\r\nI&#39;m writing it in ADF which uses Java SimpleDateFormat - can&#39;t seem to find anywhere in docs about writing a timestamp like this.\r\n\r\nIs it possible and if so, how?","title":"Formatting Time without colon in Azure Data Factory (Java SimpleDateFormat)","body":"<p>I'd like to format a timestamp like yyyy-MM-dd'T'HH-mm-ss as using colons causes issues when reading through ADF.</p>\n\n<p>I'm writing it in ADF which uses Java SimpleDateFormat - can't seem to find anywhere in docs about writing a timestamp like this.</p>\n\n<p>Is it possible and if so, how?</p>\n"},{"tags":["java","image","path","javafx"],"comments":[{"owner":{"account_id":381513,"reputation":1884,"user_id":978567,"display_name":"edharned"},"score":0,"creation_date":1418397389,"post_id":27446360,"comment_id":43332100,"body_markdown":"Construct a URL. Save it with url.toString(). Then use new Image(String).","body":"Construct a URL. Save it with url.toString(). Then use new Image(String)."},{"owner":{"account_id":5473516,"reputation":567,"user_id":4352170,"accept_rate":40,"display_name":"Zorobay"},"score":0,"creation_date":1418401101,"post_id":27446360,"comment_id":43334309,"body_markdown":"I&#39;m not sure what you mean, why would that make any difference? It will still result in a string with the same text as in my case.","body":"I&#39;m not sure what you mean, why would that make any difference? It will still result in a string with the same text as in my case."},{"owner":{"account_id":381513,"reputation":1884,"user_id":978567,"display_name":"edharned"},"score":0,"creation_date":1418413663,"post_id":27446360,"comment_id":43340597,"body_markdown":"Use a File file = new File(&quot;portal.png&quot;); if (file.exists()) String tdir = afile.getAbsolutePath(); or you can use file.toURI() or whatever you need. Is that helpful?","body":"Use a File file = new File(&quot;portal.png&quot;); if (file.exists()) String tdir = afile.getAbsolutePath(); or you can use file.toURI() or whatever you need. Is that helpful?"},{"owner":{"account_id":5473516,"reputation":567,"user_id":4352170,"accept_rate":40,"display_name":"Zorobay"},"score":0,"creation_date":1418433096,"post_id":27446360,"comment_id":43346970,"body_markdown":"Well it doesn&#39;t work :(. file.exists() is false. It can&#39;t find my file. There must surely be a simple way to set relative paths that are outside your src folder! I mean, it worked in slick! Thanks for your help though...","body":"Well it doesn&#39;t work :(. file.exists() is false. It can&#39;t find my file. There must surely be a simple way to set relative paths that are outside your src folder! I mean, it worked in slick! Thanks for your help though..."},{"owner":{"account_id":381513,"reputation":1884,"user_id":978567,"display_name":"edharned"},"score":0,"creation_date":1418485420,"post_id":27446360,"comment_id":43357561,"body_markdown":"That you cannot find the file is your task. Read the JavaDoc on java.io.File. You&#39;re only looking in the current directory. You need to walk through the file system to find the root directory, or whatever is pertinent to your environment. You may be able to search here or google for file-walking, etc. to get some idea of how to do it. If the file is in your file system then you can find it.","body":"That you cannot find the file is your task. Read the JavaDoc on java.io.File. You&#39;re only looking in the current directory. You need to walk through the file system to find the root directory, or whatever is pertinent to your environment. You may be able to search here or google for file-walking, etc. to get some idea of how to do it. If the file is in your file system then you can find it."}],"answers":[{"tags":[],"owner":{"account_id":2022466,"reputation":418,"user_id":1808303,"display_name":"EricF"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1418398080,"creation_date":1418398080,"answer_id":27446834,"question_id":27446360,"body_markdown":"I think you are running into issues because the Images folder is outside of the scope of your project. You could consider changing the structure of your project.\r\n\r\nEx:\r\n\r\n    -&gt;src\r\n    |--&gt;main\r\n        |---&gt;java\r\n              |--&gt;(default package)\r\n        |---&gt;resources\r\n              |--&gt;images\r\n\r\nThen you should be able to access your image  with the path ./src/main/resources/images/portal.png","title":"Define a relative path of image in Java FX","body":"<p>I think you are running into issues because the Images folder is outside of the scope of your project. You could consider changing the structure of your project.</p>\n\n<p>Ex:</p>\n\n<pre><code>-&gt;src\n|--&gt;main\n    |---&gt;java\n          |--&gt;(default package)\n    |---&gt;resources\n          |--&gt;images\n</code></pre>\n\n<p>Then you should be able to access your image  with the path ./src/main/resources/images/portal.png</p>\n"},{"tags":[],"owner":{"account_id":5473516,"reputation":567,"user_id":4352170,"accept_rate":40,"display_name":"Zorobay"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1425084461,"creation_date":1418662373,"answer_id":27489048,"question_id":27446360,"body_markdown":"I&#39;m going to answer my own question as I actually found a solution to this! My solution is to use the &quot;file:&quot; prefix when specifying a path. So:\r\n\r\n    Image img = new Image(&quot;file:images/portal.png&quot;);\r\n\r\nWorks perfectly when the image file is outside of my **src** folder!","title":"Define a relative path of image in Java FX","body":"<p>I'm going to answer my own question as I actually found a solution to this! My solution is to use the \"file:\" prefix when specifying a path. So:</p>\n\n<pre><code>Image img = new Image(\"file:images/portal.png\");\n</code></pre>\n\n<p>Works perfectly when the image file is outside of my <strong>src</strong> folder!</p>\n"},{"tags":[],"owner":{"account_id":8405479,"reputation":8659,"user_id":7098524,"accept_rate":0,"display_name":"eli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541489279,"creation_date":1500474252,"answer_id":45193493,"question_id":27446360,"body_markdown":"Let me try to put it in this way;\r\nIf you want to use the image found in the different directory it is better to specify its relative path. Example if i was looking for the portal image on my ImageFile. I&#39;ll do as follows:\r\n\r\n    Image img = new Image(&quot;file:images/portal.png&quot;);\r\n\r\n","title":"Define a relative path of image in Java FX","body":"<p>Let me try to put it in this way;\nIf you want to use the image found in the different directory it is better to specify its relative path. Example if i was looking for the portal image on my ImageFile. I'll do as follows:</p>\n\n<pre><code>Image img = new Image(\"file:images/portal.png\");\n</code></pre>\n"}],"owner":{"account_id":5473516,"reputation":567,"user_id":4352170,"accept_rate":40,"display_name":"Zorobay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21593,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":27489048,"answer_count":3,"score":8,"last_activity_date":1653296635,"creation_date":1418396459,"question_id":27446360,"body_markdown":"I know this has been asked many times and I have searched far and wide for a solution to this probably simple problem. I&#39;m trying to follow the simple javaFX component tutorials on Oracle&#39;s website. I can define an image this way:\r\n\r\n    Image img = new Image(&quot;images/portal.png&quot;, 50, 50, true, true);\r\n\r\nThis works when the image is in a folder inside the &quot;src&quot; folder, but I&#39;m trying to get it to find the image when I have the image folder outside of the &quot;src&quot; folder, like this: \r\n\r\n```\r\nproject_root/\r\n |---src/\r\n      |---Main.java\r\n |---images/\r\n      |---portal.png    \r\n```\r\n\r\nHow can I make this work? All I get is errors saying &quot;Invalid URL or resource not found&quot;. I&#39;ve tried to use the absolute path, tried putting &quot;..&quot; infront of it, tried &quot;HS-Graph/images/portal.png&quot; and everything inbetween :( Thank you!","title":"Define a relative path of image in Java FX","body":"<p>I know this has been asked many times and I have searched far and wide for a solution to this probably simple problem. I'm trying to follow the simple javaFX component tutorials on Oracle's website. I can define an image this way:</p>\n\n<pre><code>Image img = new Image(\"images/portal.png\", 50, 50, true, true);\n</code></pre>\n\n<p>This works when the image is in a folder inside the \"src\" folder, but I'm trying to get it to find the image when I have the image folder outside of the \"src\" folder, like this: </p>\n\n<pre><code>project_root/\n |---src/\n      |---Main.java\n |---images/\n      |---portal.png    \n</code></pre>\n\n<p>How can I make this work? All I get is errors saying \"Invalid URL or resource not found\". I've tried to use the absolute path, tried putting \"..\" infront of it, tried \"HS-Graph/images/portal.png\" and everything inbetween :( Thank you!</p>\n"},{"tags":["java","bytecode","java-bytecode-asm"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1653279410,"post_id":72343105,"comment_id":127803687,"body_markdown":"1. The document you quoted says &#39;the corresponding events&#39;, which presumably means all the events handled by a `MethodVisitor`. 2. The document you quoted says that this is what happens, so clearly it can.","body":"1. The document you quoted says &#39;the corresponding events&#39;, which presumably means all the events handled by a <code>MethodVisitor</code>. 2. The document you quoted says that this is what happens, so clearly it can."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653290808,"creation_date":1653290808,"answer_id":72344708,"question_id":72343105,"body_markdown":"If you pass the ClassReader, the ClassWriter can detect that a MethodVisitor is directly issued from the corresponding ClassReader. In this case, ASM does not deserialize and serialize a method but simply copied the entire methods representation from the class file.\r\n\r\nOnce you wrap a visitor, it goes back to deserializing and serializing.","title":"Doubts about the ClassReader and the accept method","body":"<p>If you pass the ClassReader, the ClassWriter can detect that a MethodVisitor is directly issued from the corresponding ClassReader. In this case, ASM does not deserialize and serialize a method but simply copied the entire methods representation from the class file.</p>\n<p>Once you wrap a visitor, it goes back to deserializing and serializing.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653296366,"creation_date":1653296366,"answer_id":72345834,"question_id":72343105,"body_markdown":"&gt; 1. What events does the `ClassReader` not generate when the `MethodVisitor` is retrieving from a `ClassWriter` and this is detected by the accept method?\r\n\r\nWe are talking about all visit… methods of the [`MethodVisitor`] which the class reader normally invokes.\r\n\r\n&gt; 2. Theoretically the `ClassReader` is just an event producer. Can the accept method really &quot;copy&quot; the content of a method to the `ClassWriter` of a `ClassVisitor` that was passed as a parameter or make any other type of modification?\r\n\r\nTo enable this optimization, the constant pool of the target class must be compatible with the source class. To ensure this, you have to pass the `ClassReader` to [the `ClassWriter`’s constructor]. This is what you should do if you know that the resulting class will have enough in common to make this worthwhile. In contrast, when you have a lot of significant changes, this could leave a lot of unused artifacts in the resulting class file.\r\n\r\nThe optimization for a method applies if you pass the `MethodVisitor` from the `ClassWriter` directly to the reader, so you will not make any modification to this particular method. This is useful for all scenarios, where you only modify some of the methods or don’t modify any method and, e.g. only add new methods.\r\n\r\n&gt; 3. Is the `MethodVisitor` returned by the `visitMethod` method really useful for anything? If yes, for what? I have this doubt because even returning `null` in this method, my modifications occur normally without any kind of error.\r\n\r\nHow do you apply your modifications? The only way to produce executable code or methods with attributes, is by using the `MethodVisitor` returned by the `ClassWriter`’s `visitMethod`, directly or indirectly. When you don’t return any `MethodVisitor` but `null` to the reader, it will not invoke any methods on it, hence, not reproduce any of the original artifacts. This might be useful if you remove or replace the entire method, but not if you want to keep the attributes and the code, to only inject some new attributes or code. And, as the entire discussion is all about, when you pass the writer’s `MethodVisitor` directly to the reader, you will reproduce the original method in the resulting class file, whether this is done optimized or not.\r\n\r\n[`MethodVisitor`]: https://asm.ow2.io/javadoc/org/objectweb/asm/MethodVisitor.html\r\n[the `ClassWriter`’s constructor]: https://asm.ow2.io/javadoc/org/objectweb/asm/ClassWriter.html#%3Cinit%3E(org.objectweb.asm.ClassReader,int)\r\n","title":"Doubts about the ClassReader and the accept method","body":"<blockquote>\n<ol>\n<li>What events does the <code>ClassReader</code> not generate when the <code>MethodVisitor</code> is retrieving from a <code>ClassWriter</code> and this is detected by the accept method?</li>\n</ol>\n</blockquote>\n<p>We are talking about all visit… methods of the <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/MethodVisitor.html\" rel=\"nofollow noreferrer\"><code>MethodVisitor</code></a> which the class reader normally invokes.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Theoretically the <code>ClassReader</code> is just an event producer. Can the accept method really &quot;copy&quot; the content of a method to the <code>ClassWriter</code> of a <code>ClassVisitor</code> that was passed as a parameter or make any other type of modification?</li>\n</ol>\n</blockquote>\n<p>To enable this optimization, the constant pool of the target class must be compatible with the source class. To ensure this, you have to pass the <code>ClassReader</code> to <a href=\"https://asm.ow2.io/javadoc/org/objectweb/asm/ClassWriter.html#%3Cinit%3E(org.objectweb.asm.ClassReader,int)\" rel=\"nofollow noreferrer\">the <code>ClassWriter</code>’s constructor</a>. This is what you should do if you know that the resulting class will have enough in common to make this worthwhile. In contrast, when you have a lot of significant changes, this could leave a lot of unused artifacts in the resulting class file.</p>\n<p>The optimization for a method applies if you pass the <code>MethodVisitor</code> from the <code>ClassWriter</code> directly to the reader, so you will not make any modification to this particular method. This is useful for all scenarios, where you only modify some of the methods or don’t modify any method and, e.g. only add new methods.</p>\n<blockquote>\n<ol start=\"3\">\n<li>Is the <code>MethodVisitor</code> returned by the <code>visitMethod</code> method really useful for anything? If yes, for what? I have this doubt because even returning <code>null</code> in this method, my modifications occur normally without any kind of error.</li>\n</ol>\n</blockquote>\n<p>How do you apply your modifications? The only way to produce executable code or methods with attributes, is by using the <code>MethodVisitor</code> returned by the <code>ClassWriter</code>’s <code>visitMethod</code>, directly or indirectly. When you don’t return any <code>MethodVisitor</code> but <code>null</code> to the reader, it will not invoke any methods on it, hence, not reproduce any of the original artifacts. This might be useful if you remove or replace the entire method, but not if you want to keep the attributes and the code, to only inject some new attributes or code. And, as the entire discussion is all about, when you pass the writer’s <code>MethodVisitor</code> directly to the reader, you will reproduce the original method in the resulting class file, whether this is done optimized or not.</p>\n"}],"owner":{"account_id":20934693,"reputation":27,"user_id":15380136,"display_name":"strendey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72345834,"answer_count":2,"score":0,"last_activity_date":1653296366,"creation_date":1653278177,"question_id":72343105,"body_markdown":"I would like to know how the &quot;optimization&quot; described in the ASM user manual works.\r\n\r\nI took a small snippet from the manual:\r\n&gt; If a ClassReader component detects that a MethodVisitor returned by\r\nthe ClassVisitor passed as argument to its accept method comes from\r\na ClassWriter, this means that the content of this method will not be\r\ntransformed, and will in fact not even be seen by the application.\r\nIn this case the ClassReader component does not parse the content of\r\nthis method, does not generate the corresponding events, and just copies the byte array representation of this method in the ClassWriter.\r\n\r\n\r\nMore precisely, I would like to know: \r\n\r\n1. What events does the `ClassReader` not generate when the `MethodVisitor` is retrieving from a `ClassWriter` and this is detected by the accept method? \r\n\r\n2. Theoretically the `ClassReader` is just an event producer. Can the accept method really &quot;copy&quot; the content of a method to the `ClassWriter` of a `ClassVisitor` that was passed as a parameter or make any other type of modification? \r\n\r\n3. Is the `MethodVisitor` returned by the `visitMethod` method really useful for anything? If yes, for what? I have this doubt because even returning `null` in this method, my modifications occur normally without any kind of error.\r\n","title":"Doubts about the ClassReader and the accept method","body":"<p>I would like to know how the &quot;optimization&quot; described in the ASM user manual works.</p>\n<p>I took a small snippet from the manual:</p>\n<blockquote>\n<p>If a ClassReader component detects that a MethodVisitor returned by\nthe ClassVisitor passed as argument to its accept method comes from\na ClassWriter, this means that the content of this method will not be\ntransformed, and will in fact not even be seen by the application.\nIn this case the ClassReader component does not parse the content of\nthis method, does not generate the corresponding events, and just copies the byte array representation of this method in the ClassWriter.</p>\n</blockquote>\n<p>More precisely, I would like to know:</p>\n<ol>\n<li><p>What events does the <code>ClassReader</code> not generate when the <code>MethodVisitor</code> is retrieving from a <code>ClassWriter</code> and this is detected by the accept method?</p>\n</li>\n<li><p>Theoretically the <code>ClassReader</code> is just an event producer. Can the accept method really &quot;copy&quot; the content of a method to the <code>ClassWriter</code> of a <code>ClassVisitor</code> that was passed as a parameter or make any other type of modification?</p>\n</li>\n<li><p>Is the <code>MethodVisitor</code> returned by the <code>visitMethod</code> method really useful for anything? If yes, for what? I have this doubt because even returning <code>null</code> in this method, my modifications occur normally without any kind of error.</p>\n</li>\n</ol>\n"},{"tags":["java","collections","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652723024,"creation_date":1652723024,"answer_id":72263455,"question_id":72263163,"body_markdown":"`m1.equals(m2)` should work.\r\n\r\nBtw. you can try to use `m1.toString().equals(m2.toString())` it will convert your `MultiValuedMap` to `String` objects and make equals operation on them. But be careful with `toString()` as it will depends on map objects order.","title":"Apache Commons - What is the most optimized way to compare two MultiValuedMaps?","body":"<p><code>m1.equals(m2)</code> should work.</p>\n<p>Btw. you can try to use <code>m1.toString().equals(m2.toString())</code> it will convert your <code>MultiValuedMap</code> to <code>String</code> objects and make equals operation on them. But be careful with <code>toString()</code> as it will depends on map objects order.</p>\n"},{"tags":[],"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652725301,"creation_date":1652725301,"answer_id":72263883,"question_id":72263163,"body_markdown":"If the values in your map are an arrays, it will be more complicated, you should wrote your own method, which will look like this (be aware of map values sorting): \r\n\r\n    private static boolean areEqual(MultiValuedMap&lt;String, String[]&gt; first, MultiValuedMap&lt;String, String[]&gt; second) {\r\n        if (first.size() != second.size() &amp;&amp; !first.keySet().containsAll(second.keySet())) {\r\n            return false;\r\n        }\r\n        List&lt;String[]&gt; firstValues = new ArrayList&lt;&gt;(first.values());\r\n        List&lt;String[]&gt; secondValues = new ArrayList&lt;&gt;(second.values());\r\n        if (firstValues.size() != secondValues.size()) {\r\n            return false;\r\n        }\r\n        for (int i = 0; i &lt; firstValues.size(); i++) {\r\n            String[] firstArr = firstValues.get(i);\r\n            String[] secondArr = secondValues.get(i);\r\n            Arrays.sort(firstArr);\r\n            Arrays.sort(secondArr);\r\n            if (!Arrays.equals(firstArr, secondArr)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"Apache Commons - What is the most optimized way to compare two MultiValuedMaps?","body":"<p>If the values in your map are an arrays, it will be more complicated, you should wrote your own method, which will look like this (be aware of map values sorting):</p>\n<pre><code>private static boolean areEqual(MultiValuedMap&lt;String, String[]&gt; first, MultiValuedMap&lt;String, String[]&gt; second) {\n    if (first.size() != second.size() &amp;&amp; !first.keySet().containsAll(second.keySet())) {\n        return false;\n    }\n    List&lt;String[]&gt; firstValues = new ArrayList&lt;&gt;(first.values());\n    List&lt;String[]&gt; secondValues = new ArrayList&lt;&gt;(second.values());\n    if (firstValues.size() != secondValues.size()) {\n        return false;\n    }\n    for (int i = 0; i &lt; firstValues.size(); i++) {\n        String[] firstArr = firstValues.get(i);\n        String[] secondArr = secondValues.get(i);\n        Arrays.sort(firstArr);\n        Arrays.sort(secondArr);\n        if (!Arrays.equals(firstArr, secondArr)) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653296340,"creation_date":1653296340,"answer_id":72345828,"question_id":72263163,"body_markdown":"If the values are stored as array ,then there should be indicator to compare values against keys are matching or not.\r\n\r\n    public boolean equalsIgnoreMultivaluedMap(MultivaluedMap&lt;String, T&gt; otherMap) {\r\n        if (this == otherMap) {\r\n            return true;\r\n        }\r\n        Set&lt;String&gt; myKeys = keySet();\r\n        Set&lt;String&gt; otherKeys = otherMap.keySet();\r\n        if (!myKeys.equals(otherKeys)) {\r\n            return false;\r\n        }\r\n        for (Entry&lt;String, List&lt;T&gt;&gt; e : entrySet()) {\r\n            List&lt;T&gt; myValues = e.getValue();\r\n            List&lt;T&gt; otherValues = otherMap.get(e.getKey());\r\n            if (myValues != null || otherValues != null) {\r\n                if (myValues != null) {\r\n                    if (myValues.size() != otherValues.size()) {\r\n                        return false;\r\n                    }\r\n                    for (T value : myValues) {\r\n                        if (!otherValues.contains(value)) {\r\n                            return false;\r\n                        }\r\n                    }\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"Apache Commons - What is the most optimized way to compare two MultiValuedMaps?","body":"<p>If the values are stored as array ,then there should be indicator to compare values against keys are matching or not.</p>\n<pre><code>public boolean equalsIgnoreMultivaluedMap(MultivaluedMap&lt;String, T&gt; otherMap) {\n    if (this == otherMap) {\n        return true;\n    }\n    Set&lt;String&gt; myKeys = keySet();\n    Set&lt;String&gt; otherKeys = otherMap.keySet();\n    if (!myKeys.equals(otherKeys)) {\n        return false;\n    }\n    for (Entry&lt;String, List&lt;T&gt;&gt; e : entrySet()) {\n        List&lt;T&gt; myValues = e.getValue();\n        List&lt;T&gt; otherValues = otherMap.get(e.getKey());\n        if (myValues != null || otherValues != null) {\n            if (myValues != null) {\n                if (myValues.size() != otherValues.size()) {\n                    return false;\n                }\n                for (T value : myValues) {\n                    if (!otherValues.contains(value)) {\n                        return false;\n                    }\n                }\n            } else {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":3989726,"reputation":45,"user_id":3289086,"display_name":"Bhanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1653296340,"creation_date":1652721498,"question_id":72263163,"body_markdown":"I&#39;m using MultiValuedMaps from apache common i.e. org.apache.commons.collections4.MultiValuedMap;\r\n\r\nI have two MultiValuedMaps as follows:\r\n\r\n    MultiValuedMap&lt;String, Integer&gt; m1 = new ArrayListValuedHashMap&lt;&gt;();\r\n    m1.put(&quot;a&quot;,23);\r\n    m1.put(&quot;a&quot;,24);\r\n    \r\n    MultiValuedMap&lt;String, Integer&gt; m2 = new ArrayListValuedHashMap&lt;&gt;();\r\n    m2.put(&quot;a&quot;,24);\r\n    m2.put(&quot;a&quot;,23);\r\n\r\n**What is the most efficient way to compare both the keys and values?**\r\n\r\nI tried m1.equals(m2), but it doesn&#39;t work.\r\n","title":"Apache Commons - What is the most optimized way to compare two MultiValuedMaps?","body":"<p>I'm using MultiValuedMaps from apache common i.e. org.apache.commons.collections4.MultiValuedMap;</p>\n<p>I have two MultiValuedMaps as follows:</p>\n<pre><code>MultiValuedMap&lt;String, Integer&gt; m1 = new ArrayListValuedHashMap&lt;&gt;();\nm1.put(&quot;a&quot;,23);\nm1.put(&quot;a&quot;,24);\n\nMultiValuedMap&lt;String, Integer&gt; m2 = new ArrayListValuedHashMap&lt;&gt;();\nm2.put(&quot;a&quot;,24);\nm2.put(&quot;a&quot;,23);\n</code></pre>\n<p><strong>What is the most efficient way to compare both the keys and values?</strong></p>\n<p>I tried m1.equals(m2), but it doesn't work.</p>\n"},{"tags":["java","date","datetime-format","date-conversion","julian-date"],"comments":[{"owner":{"account_id":19942283,"reputation":381,"user_id":14613787,"display_name":"Deepanshu Rathi"},"score":2,"creation_date":1636741569,"post_id":69947482,"comment_id":123646380,"body_markdown":"https://github.com/MenoData/Time4J See if this can help","body":"<a href=\"https://github.com/MenoData/Time4J\" rel=\"nofollow noreferrer\">github.com/MenoData/Time4J</a> See if this can help"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1636741815,"post_id":69947482,"comment_id":123646459,"body_markdown":"How exactly does the desired result look like? Say you parse `7 Jan 2010 23:00:00.000`, how should the result be formatted?","body":"How exactly does the desired result look like? Say you parse <code>7 Jan 2010 23:00:00.000</code>, how should the result be formatted?"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637008844,"creation_date":1636744105,"answer_id":69947941,"question_id":69947482,"body_markdown":"## java.time\r\n\r\nSure, Java has got a parser for date and time built-in, the `DateTimeFormatter` class (named so because it can also format date and time back to strings). And a number of classes that can utilize it for producing objects of themselves. In your case you need the `LocalDateTime` class. A `LocalDateTime` is a date and time of day without time zone or offset from UTC, so appropriate for holding the data from your string.\r\n\r\nThis formatter s good for your string:\r\n\r\n\tprivate static final DateTimeFormatter FORMATTER\r\n\t\t\t= DateTimeFormatter.ofPattern(&quot;d MMM uuuu HH:mm:ss.SSS&quot;, Locale.ENGLISH);\r\n\r\n**Edit**: You wrote in a comment:\r\n\r\n&gt; Plugging in Jan 7 2010 hour 23 into this calculator:\r\n&gt; [aavso.org/jd-calculator](https://www.aavso.org/jd-calculator) gives\r\n&gt; back 2455204.45833. Would this be the exact Julian Date? I believe\r\n&gt; your solution was giving the Day instead of Date decimal value\r\n\r\nYes, that’s exactly true. The modified code to get the julian date including the fraction is:\r\n\r\n\t\tString source = &quot;7 Jan 2010 23:00:00.000&quot;;\r\n\t    \r\n\t    LocalDateTime ldt = LocalDateTime.parse(source, FORMATTER);\r\n\t    // Subtract half a day to compensate for the\r\n\t    // fact that the Julian day begins at noon\r\n\t    LocalDateTime dateToUseForJulianDay = ldt.minusHours(12);\r\n\t    long julianDayNumber = dateToUseForJulianDay.getLong(JulianFields.JULIAN_DAY);\r\n\t    double juianDateFraction = (double) dateToUseForJulianDay.getLong(ChronoField.NANO_OF_DAY)\r\n\t    \t\t/ (double) Duration.ofDays(1).toNanos();\r\n\t    double julianDate = julianDayNumber + juianDateFraction;\r\n\t    \r\n\t    System.out.println(&quot;Julian date: &quot; + julianDate);\r\n\r\nAnd the output is in this example:\r\n\r\n&gt; Julian date: 2455204.4583333335\r\n\r\nIt agrees very nicely with thee result you quote from the online calculator.\r\n\r\nThe Julian day number is the day number since January 1, 4713 BC. The Julian day starts at noon, which Java does not take into account, so as a hack I have subtracted 12 hours to compensate and get the correct day for all times of day. Since the `getLong()` method only gets the Julian day number as a whole number, I need to find the fraction separately. It’s a matter of dividing the nanosecond of the day by the total number of nanoseconds in a day. From the original date and time we would have needed the number of nanos since 12 noon; but since I have already subtracted 12 hours, the nanosecond of the day, since 0:00 midnight, is the number we need.\r\n\r\nFurther link: [Julian day](https://en.wikipedia.org/wiki/Julian_day) on Wikipedia\r\n","title":"How to convert a D M Y HH:MM:SS string in Java to Julian Date?","body":"<h2>java.time</h2>\n<p>Sure, Java has got a parser for date and time built-in, the <code>DateTimeFormatter</code> class (named so because it can also format date and time back to strings). And a number of classes that can utilize it for producing objects of themselves. In your case you need the <code>LocalDateTime</code> class. A <code>LocalDateTime</code> is a date and time of day without time zone or offset from UTC, so appropriate for holding the data from your string.</p>\n<p>This formatter s good for your string:</p>\n<pre><code>private static final DateTimeFormatter FORMATTER\n        = DateTimeFormatter.ofPattern(&quot;d MMM uuuu HH:mm:ss.SSS&quot;, Locale.ENGLISH);\n</code></pre>\n<p><strong>Edit</strong>: You wrote in a comment:</p>\n<blockquote>\n<p>Plugging in Jan 7 2010 hour 23 into this calculator:\n<a href=\"https://www.aavso.org/jd-calculator\" rel=\"nofollow noreferrer\">aavso.org/jd-calculator</a> gives\nback 2455204.45833. Would this be the exact Julian Date? I believe\nyour solution was giving the Day instead of Date decimal value</p>\n</blockquote>\n<p>Yes, that’s exactly true. The modified code to get the julian date including the fraction is:</p>\n<pre><code>    String source = &quot;7 Jan 2010 23:00:00.000&quot;;\n    \n    LocalDateTime ldt = LocalDateTime.parse(source, FORMATTER);\n    // Subtract half a day to compensate for the\n    // fact that the Julian day begins at noon\n    LocalDateTime dateToUseForJulianDay = ldt.minusHours(12);\n    long julianDayNumber = dateToUseForJulianDay.getLong(JulianFields.JULIAN_DAY);\n    double juianDateFraction = (double) dateToUseForJulianDay.getLong(ChronoField.NANO_OF_DAY)\n            / (double) Duration.ofDays(1).toNanos();\n    double julianDate = julianDayNumber + juianDateFraction;\n    \n    System.out.println(&quot;Julian date: &quot; + julianDate);\n</code></pre>\n<p>And the output is in this example:</p>\n<blockquote>\n<p>Julian date: 2455204.4583333335</p>\n</blockquote>\n<p>It agrees very nicely with thee result you quote from the online calculator.</p>\n<p>The Julian day number is the day number since January 1, 4713 BC. The Julian day starts at noon, which Java does not take into account, so as a hack I have subtracted 12 hours to compensate and get the correct day for all times of day. Since the <code>getLong()</code> method only gets the Julian day number as a whole number, I need to find the fraction separately. It’s a matter of dividing the nanosecond of the day by the total number of nanoseconds in a day. From the original date and time we would have needed the number of nanos since 12 noon; but since I have already subtracted 12 hours, the nanosecond of the day, since 0:00 midnight, is the number we need.</p>\n<p>Further link: <a href=\"https://en.wikipedia.org/wiki/Julian_day\" rel=\"nofollow noreferrer\">Julian day</a> on Wikipedia</p>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653296263,"creation_date":1653296263,"answer_id":72345812,"question_id":69947482,"body_markdown":"My library [Time4J][1] supports [Julian Dates][2] out of the box.\r\n\r\n        ChronoFormatter&lt;PlainTimestamp&gt; f =\r\n            ChronoFormatter.ofTimestampPattern(\r\n                &quot;d MMM uuuu HH:mm:ss.SSS&quot;, PatternType.CLDR, Locale.ENGLISH);\r\n        Moment j2000 = f.parse(&quot;7 Jan 2010 23:00:00.000&quot;).atUTC(); // are your timestamps really UTC?\r\n        // eventually also: &quot;.in(Timezone.ofSystem());&quot;\r\n\r\n        System.out.println(JulianDay.ofSimplifiedTime(j2000)); // programmer&#39;s standard\r\n        // JD(POSIX)2455204.4583333335\r\n        System.out.println(JulianDay.ofEphemerisTime(j2000)); // astronomical definition\r\n        // JD(TT)2455204.459099352\r\n\r\nAdvantages:\r\n\r\n- No complex calculation of your owns.\r\n- Support for the astronomical definition on the time scale TT.\r\n- Explicit display of time zone dependencies (whatever you choose).\r\n\r\n  [1]: https://github.com/MenoData/Time4J\r\n  [2]: http://time4j.net/javadoc-en/net/time4j/calendar/astro/JulianDay.html","title":"How to convert a D M Y HH:MM:SS string in Java to Julian Date?","body":"<p>My library <a href=\"https://github.com/MenoData/Time4J\" rel=\"nofollow noreferrer\">Time4J</a> supports <a href=\"http://time4j.net/javadoc-en/net/time4j/calendar/astro/JulianDay.html\" rel=\"nofollow noreferrer\">Julian Dates</a> out of the box.</p>\n<pre><code>    ChronoFormatter&lt;PlainTimestamp&gt; f =\n        ChronoFormatter.ofTimestampPattern(\n            &quot;d MMM uuuu HH:mm:ss.SSS&quot;, PatternType.CLDR, Locale.ENGLISH);\n    Moment j2000 = f.parse(&quot;7 Jan 2010 23:00:00.000&quot;).atUTC(); // are your timestamps really UTC?\n    // eventually also: &quot;.in(Timezone.ofSystem());&quot;\n\n    System.out.println(JulianDay.ofSimplifiedTime(j2000)); // programmer's standard\n    // JD(POSIX)2455204.4583333335\n    System.out.println(JulianDay.ofEphemerisTime(j2000)); // astronomical definition\n    // JD(TT)2455204.459099352\n</code></pre>\n<p>Advantages:</p>\n<ul>\n<li>No complex calculation of your owns.</li>\n<li>Support for the astronomical definition on the time scale TT.</li>\n<li>Explicit display of time zone dependencies (whatever you choose).</li>\n</ul>\n"}],"owner":{"account_id":23319861,"reputation":21,"user_id":17397954,"display_name":"jkwilliams375"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69947941,"answer_count":2,"score":1,"last_activity_date":1653296263,"creation_date":1636741295,"question_id":69947482,"body_markdown":"I have some strings in Java that come in the format: Day Month Year Hour:Minute:Second\r\n\r\n    7 Jan 2010 23:00:00.000\r\n    4 Feb 2010 17:40:00.000\r\n\r\nWhat is the easiest way to parse this string and convert the values to their resulting Julian Dates? I am reading in these strings from Excel so they are not objects with any sort of conversion/formatting utilities (just raw strings). Is there an easy library or function to call to convert these, or would I have to manually write a parser? Thanks","title":"How to convert a D M Y HH:MM:SS string in Java to Julian Date?","body":"<p>I have some strings in Java that come in the format: Day Month Year Hour:Minute:Second</p>\n<pre><code>7 Jan 2010 23:00:00.000\n4 Feb 2010 17:40:00.000\n</code></pre>\n<p>What is the easiest way to parse this string and convert the values to their resulting Julian Dates? I am reading in these strings from Excel so they are not objects with any sort of conversion/formatting utilities (just raw strings). Is there an easy library or function to call to convert these, or would I have to manually write a parser? Thanks</p>\n"},{"tags":["java","android","exoplayer","exoplayer2.x"],"answers":[{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653296215,"creation_date":1653296215,"answer_id":72345801,"question_id":72265189,"body_markdown":"The ExoPlayer documentation discusses this:\r\n\r\n&gt; In ExoPlayer every piece of media is represented by a MediaItem. However internally, the player needs MediaSource instances to play the content. The player creates these from media items using a MediaSource.Factory.\r\n\r\n(https://exoplayer.dev/media-sources.html)\r\n\r\nand:\r\n\r\n&gt; The playlist API is based on MediaItems, which can be conveniently built using MediaItem.Builder. Inside the player, media items are converted into playable MediaSources by a MediaSource.Factory\r\n\r\nIf all you want is to play a media item or create a playlist then you probably only need to use MediaItem - there are some good examples in the latest CodeLabs: https://developer.android.com/codelabs/exoplayer-intro#0\r\n\r\n","title":"Different between Media Item and Media Source in exoplayer?","body":"<p>The ExoPlayer documentation discusses this:</p>\n<blockquote>\n<p>In ExoPlayer every piece of media is represented by a MediaItem. However internally, the player needs MediaSource instances to play the content. The player creates these from media items using a MediaSource.Factory.</p>\n</blockquote>\n<p>(<a href=\"https://exoplayer.dev/media-sources.html\" rel=\"nofollow noreferrer\">https://exoplayer.dev/media-sources.html</a>)</p>\n<p>and:</p>\n<blockquote>\n<p>The playlist API is based on MediaItems, which can be conveniently built using MediaItem.Builder. Inside the player, media items are converted into playable MediaSources by a MediaSource.Factory</p>\n</blockquote>\n<p>If all you want is to play a media item or create a playlist then you probably only need to use MediaItem - there are some good examples in the latest CodeLabs: <a href=\"https://developer.android.com/codelabs/exoplayer-intro#0\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/exoplayer-intro#0</a></p>\n"}],"owner":{"account_id":25240868,"reputation":23,"user_id":19074762,"display_name":"منصاتي APP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72345801,"answer_count":1,"score":0,"last_activity_date":1653296215,"creation_date":1652732634,"question_id":72265189,"body_markdown":"Whats different between `MediaItem` and `MediaSource` in exoplayer and how i can use MediaSource in in the latest version of exoplayer library (2.17.1) ?\r\n\r\n\r\nThis is simple project how use MediaSource instead of MediaItem ?\r\n\r\n\r\n\r\n    package com.agono.exoplayer;\r\n    \r\n    import ...\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \t\r\n    \tprivate Context ctx;\r\n    \tprivate StyledPlayerView playerView;\r\n    \tprivate Button button1;\r\n    \tprivate boolean isShowingTrackSelectionDialog;\r\n    \tprivate DefaultTrackSelector trackSelector;\r\n    \t\r\n    \t@Override\r\n    \tprotected void onCreate(Bundle savedInstanceState) {\r\n    \t\tsuper.onCreate(savedInstanceState);\r\n    \t\tsetContentView(R.layout.activity_main);\r\n    \t\tString videoUri=getIntent().getStringExtra(&quot;url&quot;);\r\n    \t\t\r\n    \t\ttrackSelector = new DefaultTrackSelector(/* context= */ this);\r\n    \t\tplayerView = findViewById(R.id.test);\r\n    \t\tbutton1= findViewById(R.id.button1);\r\n    \t\tExoPlayer player = new ExoPlayer.Builder(this)\r\n    \t\t.setTrackSelector(trackSelector)\r\n    \t\t.build();\r\n    \t\tMediaItem mediaItem = MediaItem.fromUri(videoUri);\r\n    \t\t// Attach player to the view.\r\n    \t\tplayerView.setPlayer(player);\r\n    \t\t// Set the media item to be played.\r\n    \t\tplayer.setMediaItem(mediaItem);\r\n    \t\t// Prepare the player.\r\n    \t\tplayer.prepare();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n\r\n","title":"Different between Media Item and Media Source in exoplayer?","body":"<p>Whats different between <code>MediaItem</code> and <code>MediaSource</code> in exoplayer and how i can use MediaSource in in the latest version of exoplayer library (2.17.1) ?</p>\n<p>This is simple project how use MediaSource instead of MediaItem ?</p>\n<pre><code>package com.agono.exoplayer;\n\nimport ...\n\n\npublic class MainActivity extends AppCompatActivity {\n    \n    private Context ctx;\n    private StyledPlayerView playerView;\n    private Button button1;\n    private boolean isShowingTrackSelectionDialog;\n    private DefaultTrackSelector trackSelector;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        String videoUri=getIntent().getStringExtra(&quot;url&quot;);\n        \n        trackSelector = new DefaultTrackSelector(/* context= */ this);\n        playerView = findViewById(R.id.test);\n        button1= findViewById(R.id.button1);\n        ExoPlayer player = new ExoPlayer.Builder(this)\n        .setTrackSelector(trackSelector)\n        .build();\n        MediaItem mediaItem = MediaItem.fromUri(videoUri);\n        // Attach player to the view.\n        playerView.setPlayer(player);\n        // Set the media item to be played.\n        player.setMediaItem(mediaItem);\n        // Prepare the player.\n        player.prepare();\n        \n    }\n    \n    \n    \n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-recyclerview"],"comments":[{"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"score":0,"creation_date":1653259529,"post_id":72340332,"comment_id":127801282,"body_markdown":"Did you follow the instruction guide on the library website: https://github.com/ImaginativeShohag/Why-Not-Image-Carousel#usage ? Can you show the code?","body":"Did you follow the instruction guide on the library website: <a href=\"https://github.com/ImaginativeShohag/Why-Not-Image-Carousel#usage\" rel=\"nofollow noreferrer\">github.com/ImaginativeShohag/Why-Not-Image-Carousel#usage</a> ? Can you show the code?"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1653284177,"post_id":72340332,"comment_id":127804342,"body_markdown":"brother as i am new i am not getting any idea how can i acheive carousel though i m able to do it with imageview(single image) but no idea how to get carousel images","body":"brother as i am new i am not getting any idea how can i acheive carousel though i m able to do it with imageview(single image) but no idea how to get carousel images"},{"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"score":0,"creation_date":1653341183,"post_id":72340332,"comment_id":127824226,"body_markdown":"Ok, let&#39;s start from the data. Your carousel is just a `String`. Is it the url to an image or multiple images or ...?","body":"Ok, let&#39;s start from the data. Your carousel is just a <code>String</code>. Is it the url to an image or multiple images or ...?"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1653372296,"post_id":72340332,"comment_id":127829182,"body_markdown":"actually it is for single imageview brother","body":"actually it is for single imageview brother"},{"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"score":0,"creation_date":1653374123,"post_id":72340332,"comment_id":127829687,"body_markdown":"Then I do not understand how you want to show a carousel view if you only have one picture. First your `Rooms` model must contain multiple images to be displayed inside your `ViewHolder`","body":"Then I do not understand how you want to show a carousel view if you only have one picture. First your <code>Rooms</code> model must contain multiple images to be displayed inside your <code>ViewHolder</code>"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1653412222,"post_id":72340332,"comment_id":127844722,"body_markdown":"ok brother i try to make you understand \nActually i m trying to make a carousel of images for my products with recyclerview like shown in the above photo but i m trying to make it with why not image carousel library now how can i perform it","body":"ok brother i try to make you understand  Actually i m trying to make a carousel of images for my products with recyclerview like shown in the above photo but i m trying to make it with why not image carousel library now how can i perform it"},{"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"score":0,"creation_date":1653427368,"post_id":72340332,"comment_id":127849487,"body_markdown":"Follow the WhyNotImageCarousel instructions? I could also just copy past them ... https://github.com/ImaginativeShohag/Why-Not-Image-Carousel#usage . They show you how to use their library and replace your recycler view.","body":"Follow the WhyNotImageCarousel instructions? I could also just copy past them ... <a href=\"https://github.com/ImaginativeShohag/Why-Not-Image-Carousel#usage\" rel=\"nofollow noreferrer\">github.com/ImaginativeShohag/Why-Not-Image-Carousel#usage</a> . They show you how to use their library and replace your recycler view."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1653490824,"post_id":72340332,"comment_id":127866429,"body_markdown":"brother sorry to say actually i m dumb literally, I just went through the instructions but I still have no idea what to do brother","body":"brother sorry to say actually i m dumb literally, I just went through the instructions but I still have no idea what to do brother"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1653490871,"post_id":72340332,"comment_id":127866458,"body_markdown":"actually, i m facing problem in getting them due to my naiveness","body":"actually, i m facing problem in getting them due to my naiveness"},{"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"score":0,"creation_date":1653516449,"post_id":72340332,"comment_id":127874963,"body_markdown":"Ok, let&#39;s do it together. As I see it you first change your carousel from containing a single url as a `String` to a `List&lt;String&gt;` representing multiple pictures.","body":"Ok, let&#39;s do it together. As I see it you first change your carousel from containing a single url as a <code>String</code> to a <code>List&lt;String&gt;</code> representing multiple pictures."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1653546137,"post_id":72340332,"comment_id":127879428,"body_markdown":"done brother, next what i have to do","body":"done brother, next what i have to do"},{"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"score":0,"creation_date":1653546753,"post_id":72340332,"comment_id":127879568,"body_markdown":"1) find the carousel: ImageCarousel carousel = findViewById(R.id.carousel);\n2) register lifecycle: carousel.registerLifecycle(getLifecycle());\n3) create the list: List&lt;CarouselItem&gt; list = new ArrayList&lt;&gt;();\n4) fill the list with urls: list.add(new CarouselItem(url));\n5) set list to carousel: carousel.setData(list);","body":"1) find the carousel: ImageCarousel carousel = findViewById(R.id.carousel); 2) register lifecycle: carousel.registerLifecycle(getLifecycle()); 3) create the list: List&lt;CarouselItem&gt; list = new ArrayList&lt;&gt;(); 4) fill the list with urls: list.add(new CarouselItem(url)); 5) set list to carousel: carousel.setData(list);"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1653548762,"post_id":72340332,"comment_id":127880081,"body_markdown":"brother actually i have added the  List&lt;CarouselItem&gt; in my Rooms Model class and i need to bind it in my recycler view how can i do it","body":"brother actually i have added the  List&lt;CarouselItem&gt; in my Rooms Model class and i need to bind it in my recycler view how can i do it"},{"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"score":0,"creation_date":1653563653,"post_id":72340332,"comment_id":127884628,"body_markdown":"in your `onBindViewHolder` you have your `Room`. Cannot you just get the carousel with `holder.carousel`, generate the `List&lt;CarouselItem&gt;` based on the urls in the `Room` object and set the list.","body":"in your <code>onBindViewHolder</code> you have your <code>Room</code>. Cannot you just get the carousel with <code>holder.carousel</code>, generate the <code>List&lt;CarouselItem&gt;</code> based on the urls in the <code>Room</code> object and set the list."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1653585027,"post_id":72340332,"comment_id":127892484,"body_markdown":"brother ok i got it and it is working now but there is only one problem in it","body":"brother ok i got it and it is working now but there is only one problem in it"}],"answers":[{"tags":[],"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653296128,"creation_date":1653296128,"answer_id":72345772,"question_id":72340332,"body_markdown":"Here is Sample Code with carousel View by using **WHY NOT IMAGE CAROUSEL** library. Check this [code][1]\r\n\r\n\r\n  [1]: https://github.com/PM1509/Mycarousel/blob/main/app/src/main/java/com/pmsa/mycarousel/MainActivity.java","title":"why my images are not showing in image slider with recyclerview?","body":"<p>Here is Sample Code with carousel View by using <strong>WHY NOT IMAGE CAROUSEL</strong> library. Check this <a href=\"https://github.com/PM1509/Mycarousel/blob/main/app/src/main/java/com/pmsa/mycarousel/MainActivity.java\" rel=\"nofollow noreferrer\">code</a></p>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653296128,"creation_date":1653244559,"question_id":72340332,"body_markdown":"Actually I m new to android development and i m trying to implement my product images like a carousel with a library called &quot;why not&quot; using glide with recyclerview. but I m not able to see the photos like this. I am not getting how to implement a carousel like this, What i m doing wrong please help me . Please guide me someone please\r\n\r\nI am trying to make it like this\r\n[![enter image description here][1]][1]\r\n\r\nMY Design xml\r\n\r\n       &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;5dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginEnd=&quot;5dp&quot;\r\n        app:cardCornerRadius=&quot;8dp&quot;\r\n        app:cardElevation=&quot;10dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;org.imaginativeworld.whynotimagecarousel.ImageCarousel\r\n                android:id=&quot;@+id/carousel&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;200dp&quot;\r\n                android:scaleType=&quot;centerCrop&quot;&gt;\r\n\r\n            &lt;/org.imaginativeworld.whynotimagecarousel.ImageCarousel&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/roomName&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:text=&quot;Room with kitchen&quot;\r\n                android:textColor=&quot;#232222&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/roomRent&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;5dp&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:layout_marginBottom=&quot;5dp&quot;\r\n                android:text=&quot;Rent 4500/- month&quot;\r\n                android:textColor=&quot;#232222&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\nModel Class\r\n\r\n    public class Rooms {\r\n\r\n    public Rooms(String carousel, String title, int rent) {\r\n        this.carousel = carousel;\r\n        this.title = title;\r\n        this.rent = rent;\r\n    }\r\n\r\n    private String carousel,title;\r\n    private int rent;\r\n\r\n    public String getCarousel() {\r\n        return carousel;\r\n    }\r\n\r\n    public void setCarousel(String carousel) {\r\n        this.carousel = carousel;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public int getRent() {\r\n        return rent;\r\n    }\r\n\r\n    public void setRent(int rent) {\r\n        this.rent = rent;\r\n    }\r\n}\r\n\r\nMy Adapter class\r\n\r\n    public class RoomsAdapter extends RecyclerView.Adapter&lt;RoomsAdapter.RoomsViewHolder&gt;{\r\n\r\n    Context context;\r\n    ArrayList&lt;Rooms&gt; rooms;\r\n\r\n    public RoomsAdapter(Context context, ArrayList&lt;Rooms&gt; rooms) {\r\n        this.context = context;\r\n        this.rooms = rooms;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RoomsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        return new RoomsViewHolder(LayoutInflater.from(context).inflate(R.layout.room_design_layout, parent, false));\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RoomsViewHolder holder, int position) {\r\n        Rooms room =  rooms.get(position);\r\n        Glide.with(context)\r\n                .load(room.getCarousel())\r\n                .into(holder.carousel);\r\n        holder.roomtitle.setText(room.getTitle());\r\n        holder.roomrent.setText(String.valueOf(room.getRent()));\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return rooms.size();\r\n    }\r\n\r\n    public class RoomsViewHolder extends RecyclerView.ViewHolder{\r\n\r\n\r\n        ImageView carousel;\r\n        TextView roomtitle, roomrent;\r\n\r\n        public RoomsViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            carousel = itemView.findViewById(R.id.carousel);\r\n            roomtitle = itemView.findViewById(R.id.roomName);\r\n            roomrent = itemView.findViewById(R.id.roomRent);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pNA6B.jpg","title":"why my images are not showing in image slider with recyclerview?","body":"<p>Actually I m new to android development and i m trying to implement my product images like a carousel with a library called &quot;why not&quot; using glide with recyclerview. but I m not able to see the photos like this. I am not getting how to implement a carousel like this, What i m doing wrong please help me . Please guide me someone please</p>\n<p>I am trying to make it like this\n<a href=\"https://i.stack.imgur.com/pNA6B.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pNA6B.jpg\" alt=\"enter image description here\" /></a></p>\n<p>MY Design xml</p>\n<pre><code>   &lt;androidx.cardview.widget.CardView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;5dp&quot;\n    android:layout_marginTop=&quot;10dp&quot;\n    android:layout_marginEnd=&quot;5dp&quot;\n    app:cardCornerRadius=&quot;8dp&quot;\n    app:cardElevation=&quot;10dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;org.imaginativeworld.whynotimagecarousel.ImageCarousel\n            android:id=&quot;@+id/carousel&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;200dp&quot;\n            android:scaleType=&quot;centerCrop&quot;&gt;\n\n        &lt;/org.imaginativeworld.whynotimagecarousel.ImageCarousel&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/roomName&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:text=&quot;Room with kitchen&quot;\n            android:textColor=&quot;#232222&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/roomRent&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginLeft=&quot;5dp&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:layout_marginBottom=&quot;5dp&quot;\n            android:text=&quot;Rent 4500/- month&quot;\n            android:textColor=&quot;#232222&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n<p>Model Class</p>\n<pre><code>public class Rooms {\n\npublic Rooms(String carousel, String title, int rent) {\n    this.carousel = carousel;\n    this.title = title;\n    this.rent = rent;\n}\n\nprivate String carousel,title;\nprivate int rent;\n\npublic String getCarousel() {\n    return carousel;\n}\n\npublic void setCarousel(String carousel) {\n    this.carousel = carousel;\n}\n\npublic String getTitle() {\n    return title;\n}\n\npublic void setTitle(String title) {\n    this.title = title;\n}\n\npublic int getRent() {\n    return rent;\n}\n\npublic void setRent(int rent) {\n    this.rent = rent;\n}\n</code></pre>\n<p>}</p>\n<p>My Adapter class</p>\n<pre><code>public class RoomsAdapter extends RecyclerView.Adapter&lt;RoomsAdapter.RoomsViewHolder&gt;{\n\nContext context;\nArrayList&lt;Rooms&gt; rooms;\n\npublic RoomsAdapter(Context context, ArrayList&lt;Rooms&gt; rooms) {\n    this.context = context;\n    this.rooms = rooms;\n}\n\n@NonNull\n@Override\npublic RoomsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    return new RoomsViewHolder(LayoutInflater.from(context).inflate(R.layout.room_design_layout, parent, false));\n\n}\n\n@Override\npublic void onBindViewHolder(@NonNull RoomsViewHolder holder, int position) {\n    Rooms room =  rooms.get(position);\n    Glide.with(context)\n            .load(room.getCarousel())\n            .into(holder.carousel);\n    holder.roomtitle.setText(room.getTitle());\n    holder.roomrent.setText(String.valueOf(room.getRent()));\n\n\n}\n\n@Override\npublic int getItemCount() {\n    return rooms.size();\n}\n\npublic class RoomsViewHolder extends RecyclerView.ViewHolder{\n\n\n    ImageView carousel;\n    TextView roomtitle, roomrent;\n\n    public RoomsViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        carousel = itemView.findViewById(R.id.carousel);\n        roomtitle = itemView.findViewById(R.id.roomName);\n        roomrent = itemView.findViewById(R.id.roomRent);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","gradle","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1653297089,"post_id":72345751,"comment_id":127808276,"body_markdown":"Modules and fat JARs do not mix. Java only supports one module per JAR file out-of-the-box. This also means JavaFX will be put on the class-path, which is not a supported configuration. Take a look at packaging options by looking at the &quot;Packaging&quot; section of [the JavaFX tag info](https://stackoverflow.com/tags/javafx/info). As an aside, if you&#39;re using Gradle to create a fat JAR then I recommend using the [Shadow Plugin](https://github.com/johnrengelman/shadow).","body":"Modules and fat JARs do not mix. Java only supports one module per JAR file out-of-the-box. This also means JavaFX will be put on the class-path, which is not a supported configuration. Take a look at packaging options by looking at the &quot;Packaging&quot; section of <a href=\"https://stackoverflow.com/tags/javafx/info\">the JavaFX tag info</a>. As an aside, if you&#39;re using Gradle to create a fat JAR then I recommend using the <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">Shadow Plugin</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1653300648,"post_id":72345751,"comment_id":127809524,"body_markdown":"There is absolutely no point in defining a module info if you have a fat jar as fat jars are not modular.","body":"There is absolutely no point in defining a module info if you have a fat jar as fat jars are not modular."},{"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"score":0,"creation_date":1653300881,"post_id":72345751,"comment_id":127809596,"body_markdown":"@jewelsea you mean the `module-info.java`?","body":"@jewelsea you mean the <code>module-info.java</code>?"},{"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"score":0,"creation_date":1653300957,"post_id":72345751,"comment_id":127809614,"body_markdown":"@Slaw Took a look on the link you sent me, but unfortunately all of the things shown there are making me do what I&#39;ve already described above","body":"@Slaw Took a look on the link you sent me, but unfortunately all of the things shown there are making me do what I&#39;ve already described above"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1653301348,"post_id":72345751,"comment_id":127809766,"body_markdown":"They are definitely not _all_ telling you to do what you&#39;re already doing, as some of the links deal with `jlink` / `jpackage`, others deal with Gradle plugins for the same, another is for JPackageScriptFX, while another links to jdeploy (don&#39;t know that one myself). Yet other links point to Stack Overflow Q&amp;As dealing with alternatives to fat JARs.","body":"They are definitely not <i>all</i> telling you to do what you&#39;re already doing, as some of the links deal with <code>jlink</code> / <code>jpackage</code>, others deal with Gradle plugins for the same, another is for JPackageScriptFX, while another links to jdeploy (don&#39;t know that one myself). Yet other links point to Stack Overflow Q&amp;As dealing with alternatives to fat JARs."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1653301594,"post_id":72345751,"comment_id":127809854,"body_markdown":"As for creating the fat JAR, I would filter out any `module-info.class` files. The Shadow Plugin should make that easy. And then your main class _cannot be a subclass of `Application`_. You&#39;ll have to make a _separate_ main class that simply launches JavaFX.","body":"As for creating the fat JAR, I would filter out any <code>module-info.class</code> files. The Shadow Plugin should make that easy. And then your main class <i>cannot be a subclass of <code>Application</code></i>. You&#39;ll have to make a <i>separate</i> main class that simply launches JavaFX."},{"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"score":0,"creation_date":1653303132,"post_id":72345751,"comment_id":127810423,"body_markdown":"@Slaw Shadow seems to have done the job. It didn&#39;t work at first, but I&#39;ve created another class called `Launcher` which actually calls my `Main.main()`. Also mentioned inside `build.gradle`: `application { ... mainClass = &#39;com.example.yuber.Launcher&#39; }`","body":"@Slaw Shadow seems to have done the job. It didn&#39;t work at first, but I&#39;ve created another class called <code>Launcher</code> which actually calls my <code>Main.main()</code>. Also mentioned inside <code>build.gradle</code>: <code>application { ... mainClass = &#39;com.example.yuber.Launcher&#39; }</code>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1653303336,"post_id":72345751,"comment_id":127810499,"body_markdown":"Found an old answer of mine that basically goes over what I said in these comments, but it&#39;s easier to read: https://stackoverflow.com/questions/70175403/how-to-generate-javafx-jar-from-gradle-including-all-dependencies/70175935#70175935","body":"Found an old answer of mine that basically goes over what I said in these comments, but it&#39;s easier to read: <a href=\"https://stackoverflow.com/questions/70175403/how-to-generate-javafx-jar-from-gradle-including-all-dependencies/70175935#70175935\" title=\"how to generate javafx jar from gradle including all dependencies\">stackoverflow.com/questions/70175403/&hellip;</a>"},{"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"score":0,"creation_date":1653304210,"post_id":72345751,"comment_id":127810822,"body_markdown":"@Slaw Thanks for your advice. You actually saved my life! Not literally ;)","body":"@Slaw Thanks for your advice. You actually saved my life! Not literally ;)"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1653342281,"post_id":72345751,"comment_id":127824478,"body_markdown":"&quot;you mean the module-info.java?&quot; -&gt; yes.  With the current version of the Java module system, there can be only one module-info created per jar file and packages cannot be split across modules. Placing statements in a module-info that require modules containing packages that are inside your fat jar file makes no sense as you cannot place those modules in your fat jar file.  The only solution is to make the application non-modular and run the code in the fat jar from the classpath (which is what you did). For JavaFX modules this is an unsupported runtime configuration (though it works).","body":"&quot;you mean the module-info.java?&quot; -&gt; yes.  With the current version of the Java module system, there can be only one module-info created per jar file and packages cannot be split across modules. Placing statements in a module-info that require modules containing packages that are inside your fat jar file makes no sense as you cannot place those modules in your fat jar file.  The only solution is to make the application non-modular and run the code in the fat jar from the classpath (which is what you did). For JavaFX modules this is an unsupported runtime configuration (though it works)."}],"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653342483,"answer_count":0,"score":0,"last_activity_date":1653295998,"creation_date":1653295998,"question_id":72345751,"body_markdown":"I&#39;m working on an application on JavaFX using IntelliJ and Gradle.\r\n\r\nEverything seems to work fine while I&#39;m running the app with Gradle&#39;s `build`. I&#39;m planning to actually export it as a fat jar, in order for it to be used without the actual `gradle build`.\r\n\r\nI also don&#39;t want to create an artifact using IntelliJ&#39;s wizard, because, as far as I know, it just creates it without any dependencies (didn&#39;t inform myself too well for that - but that&#39;s what I understood from their answers on the forums).\r\n\r\nGetting back to building the fat jar with Gradle, this is how my project structure looks like:\r\n[![enter image description here][1]][1]\r\n\r\nMy `module-info.java` looks like this:\r\n```\r\nmodule com.example.yuber {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javafx.web;\r\n\r\n    requires org.controlsfx.controls;\r\n    requires com.dlsc.formsfx;\r\n    requires validatorfx;\r\n    requires org.kordamp.ikonli.javafx;\r\n    requires org.kordamp.bootstrapfx.core;\r\n    requires eu.hansolo.tilesfx;\r\n    requires org.json;\r\n    requires com.fasterxml.jackson.core;\r\n    requires com.fasterxml.jackson.databind;\r\n    requires com.fasterxml.jackson.annotation;\r\n\r\n    exports com.example.yuber;\r\n    exports com.example.yuber.controllers;\r\n    exports com.example.yuber.models;\r\n    opens com.example.yuber to javafx.fxml;\r\n    opens com.example.yuber.controllers to javafx.fxml;\r\n}\r\n```\r\n(I needed to include all of these. Couldn&#39;t even use Jackson Databind after adding it as a Gradle dependency, before doing this step).\r\n\r\nAlso, the `jar` task from `build.gradle` looks like this:\r\n```\r\njar {\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;com.example.yuber.Main&#39;\r\n    }\r\n    from {\r\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n    }\r\n}\r\n```\r\n\r\nBut everytime I run the `jar` task from Gradle, I receive the following error:\r\n```\r\nEntry module-info.class is a duplicate but no duplicate handling strategy has been set.\r\n```\r\n\r\nAs found in [this][2] question, a solution would have been to just include `duplicatesStrategy = DuplicatesStrategy.EXCLUDE` in my `jar` task. Doing so indeed builds my jar file, although I can&#39;t running, and trying to `gradle run` my app doesn&#39;t do anything but display the error:\r\n```\r\nProcess &#39;command &#39;C:\\Users\\matea\\.jdks\\corretto-11.0.15\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n```\r\nAlso, running the created jar file with `java -jar ...` results in another error:\r\n[![enter image description here][3]][3]\r\n\r\nWhat I also found on [this][4] question was to actually mention the name of the modules inside the **Add VM options** setting in my **Project Structure**, like that:\r\n```\r\n--module-path &quot;C:\\Users\\matea\\.jdks\\corretto-11.0.15\\lib&quot; --add-modules=javafx.controls,javafx.xml\r\n```\r\n\r\nHowever, this also didn&#39;t seem to work.\r\nThis is my project info:\r\n[![enter image description here][5]][5]\r\n\r\nDoes anyone have any idea on why I can&#39;t create such a fat jar? Also, am I right by telling that a you can run such a fat jar using `java -jar`, without having JavaFX and the other modules separately installed?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R0O8X.png\r\n  [2]: https://stackoverflow.com/questions/67265308/gradle-entry-classpath-is-a-duplicate-but-no-duplicate-handling-strategy-has-b\r\n  [3]: https://i.stack.imgur.com/zahm9.png\r\n  [4]: https://stackoverflow.com/questions/51478675/error-javafx-runtime-components-are-missing-and-are-required-to-run-this-appli\r\n  [5]: https://i.stack.imgur.com/7f0SK.png","title":"Problem while building JavaFX fat jar in IntelliJ","body":"<p>I'm working on an application on JavaFX using IntelliJ and Gradle.</p>\n<p>Everything seems to work fine while I'm running the app with Gradle's <code>build</code>. I'm planning to actually export it as a fat jar, in order for it to be used without the actual <code>gradle build</code>.</p>\n<p>I also don't want to create an artifact using IntelliJ's wizard, because, as far as I know, it just creates it without any dependencies (didn't inform myself too well for that - but that's what I understood from their answers on the forums).</p>\n<p>Getting back to building the fat jar with Gradle, this is how my project structure looks like:\n<a href=\"https://i.stack.imgur.com/R0O8X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R0O8X.png\" alt=\"enter image description here\" /></a></p>\n<p>My <code>module-info.java</code> looks like this:</p>\n<pre><code>module com.example.yuber {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.web;\n\n    requires org.controlsfx.controls;\n    requires com.dlsc.formsfx;\n    requires validatorfx;\n    requires org.kordamp.ikonli.javafx;\n    requires org.kordamp.bootstrapfx.core;\n    requires eu.hansolo.tilesfx;\n    requires org.json;\n    requires com.fasterxml.jackson.core;\n    requires com.fasterxml.jackson.databind;\n    requires com.fasterxml.jackson.annotation;\n\n    exports com.example.yuber;\n    exports com.example.yuber.controllers;\n    exports com.example.yuber.models;\n    opens com.example.yuber to javafx.fxml;\n    opens com.example.yuber.controllers to javafx.fxml;\n}\n</code></pre>\n<p>(I needed to include all of these. Couldn't even use Jackson Databind after adding it as a Gradle dependency, before doing this step).</p>\n<p>Also, the <code>jar</code> task from <code>build.gradle</code> looks like this:</p>\n<pre><code>jar {\n    manifest {\n        attributes 'Main-Class': 'com.example.yuber.Main'\n    }\n    from {\n        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n<p>But everytime I run the <code>jar</code> task from Gradle, I receive the following error:</p>\n<pre><code>Entry module-info.class is a duplicate but no duplicate handling strategy has been set.\n</code></pre>\n<p>As found in <a href=\"https://stackoverflow.com/questions/67265308/gradle-entry-classpath-is-a-duplicate-but-no-duplicate-handling-strategy-has-b\">this</a> question, a solution would have been to just include <code>duplicatesStrategy = DuplicatesStrategy.EXCLUDE</code> in my <code>jar</code> task. Doing so indeed builds my jar file, although I can't running, and trying to <code>gradle run</code> my app doesn't do anything but display the error:</p>\n<pre><code>Process 'command 'C:\\Users\\matea\\.jdks\\corretto-11.0.15\\bin\\java.exe'' finished with non-zero exit value 1\n</code></pre>\n<p>Also, running the created jar file with <code>java -jar ...</code> results in another error:\n<a href=\"https://i.stack.imgur.com/zahm9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zahm9.png\" alt=\"enter image description here\" /></a></p>\n<p>What I also found on <a href=\"https://stackoverflow.com/questions/51478675/error-javafx-runtime-components-are-missing-and-are-required-to-run-this-appli\">this</a> question was to actually mention the name of the modules inside the <strong>Add VM options</strong> setting in my <strong>Project Structure</strong>, like that:</p>\n<pre><code>--module-path &quot;C:\\Users\\matea\\.jdks\\corretto-11.0.15\\lib&quot; --add-modules=javafx.controls,javafx.xml\n</code></pre>\n<p>However, this also didn't seem to work.\nThis is my project info:\n<a href=\"https://i.stack.imgur.com/7f0SK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7f0SK.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone have any idea on why I can't create such a fat jar? Also, am I right by telling that a you can run such a fat jar using <code>java -jar</code>, without having JavaFX and the other modules separately installed?</p>\n"},{"tags":["java","jakarta-ee","jboss","wildfly","keycloak"],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652906501,"creation_date":1652906501,"answer_id":72295734,"question_id":72280865,"body_markdown":"The `org.jboss.as.server` should not have a dependency on the RESTEasy module. You need your deployment to have a dependency on it. This should happen by default if the `jaxrs` subsystem is defined.\r\n\r\nIf the jaxrs subsystem is not present, you can add the dependencies to your deployment with either a `jboss-deployment-structure.xml` or with a manifest entry. For the manifest entry simply add `Dependencies: org.jboss.resteasy.resteasy-client services` to your `META-INF/MANIFEST.MF` in your JAR. Note these are comma separated entries so if you need something like the JSON provider you&#39;d need something like:\r\n\r\n    Dependencies: org.jboss.resteasy.resteasy-client services, org.jboss.resteasy.resteasy-json-p-provider services\r\n\r\nThe &quot;services&quot; part just imports the services. This may not be required in some cases.","title":"Keycloak and RESTEasy client: ClassNotFoundException: org.jboss.resteasy.client.jaxrs.internal.proxy.ProxyBuilderImpl","body":"<p>The <code>org.jboss.as.server</code> should not have a dependency on the RESTEasy module. You need your deployment to have a dependency on it. This should happen by default if the <code>jaxrs</code> subsystem is defined.</p>\n<p>If the jaxrs subsystem is not present, you can add the dependencies to your deployment with either a <code>jboss-deployment-structure.xml</code> or with a manifest entry. For the manifest entry simply add <code>Dependencies: org.jboss.resteasy.resteasy-client services</code> to your <code>META-INF/MANIFEST.MF</code> in your JAR. Note these are comma separated entries so if you need something like the JSON provider you'd need something like:</p>\n<pre><code>Dependencies: org.jboss.resteasy.resteasy-client services, org.jboss.resteasy.resteasy-json-p-provider services\n</code></pre>\n<p>The &quot;services&quot; part just imports the services. This may not be required in some cases.</p>\n"}],"owner":{"account_id":4538133,"reputation":6340,"user_id":3686755,"accept_rate":88,"display_name":"neshkeev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3002,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653295829,"creation_date":1652822937,"question_id":72280865,"body_markdown":"I need to add a `RESTEasy` client to `keycloak` (`WildFly` based distribution).\r\n\r\n1. I create a new class by extending `org.keycloak.broker.provider.AbstractIdentityProviderMapper`\r\n2. I define the following code in its constructor\r\n```java\r\nClient client = ClientBuilder.newBuilder().build();\r\nClientWebTarget target = (ClientWebTarget) client.target(UriBuilder.fromPath(URL_PATH));\r\nCustomFetcher fetcher = target.proxy(CustomFetcher.class);\r\n```\r\n3. I add the class to `src/main/resources/META-INF/services/org.keycloak.broker.provider.IdentityProviderMapper`\r\n\r\nWhen I copy the jar to `keycloak`&#39;s `standalone/deployments` directory I get\r\n```java\r\n20:55:01,522 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;keycloak-user-mapper-0.0.1-SNAPSHOT.jar&quot;.POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;keycloak-user-mapper-0.0.1-SNAPSHOT.jar&quot;.POST_MODULE: WFLYSRV0153: Failed to process phase POST_MODULE of deployment &quot;keycloak-user-mapper-0.0.1-SNAPSHOT.jar&quot;\r\n        at org.jboss.as.server@18.0.4.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\r\n        at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\r\n        at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\r\n        at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.util.ServiceConfigurationError: org.keycloak.broker.provider.IdentityProviderMapper: Provider org.myorg.UserAttributeMapper could not be instantiated\r\n        at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:582)\r\n        at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:804)\r\n        at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\r\n        at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1395)\r\n        at org.keycloak.keycloak-services@17.0.0//org.keycloak.provider.DefaultProviderLoader.load(DefaultProviderLoader.java:60)\r\n        at org.keycloak.keycloak-services@17.0.0//org.keycloak.provider.ProviderManager.load(ProviderManager.java:94)\r\n        at org.keycloak.keycloak-services@17.0.0//org.keycloak.services.DefaultKeycloakSessionFactory.loadFactories(DefaultKeycloakSessionFactory.java:294)\r\n        at org.keycloak.keycloak-services@17.0.0//org.keycloak.services.DefaultKeycloakSessionFactory.deploy(DefaultKeycloakSessionFactory.java:154)\r\n        at org.keycloak.keycloak-services@17.0.0//org.keycloak.provider.ProviderManagerRegistry.deploy(ProviderManagerRegistry.java:42)\r\n        at org.keycloak.keycloak-wildfly-server-subsystem@17.0.0//org.keycloak.subsystem.server.extension.KeycloakProviderDeploymentProcessor.deploy(KeycloakProviderDeploymentProcessor.java:58)\r\n        at org.jboss.as.server@18.0.4.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\r\n        ... 8 more\r\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: org.jboss.resteasy.client.jaxrs.internal.proxy.ProxyBuilderImpl from [Module &quot;org.jboss.as.server&quot; version 18.0.4.Final from local module loader @66c92293 (finder: local module finder @332796d3 (roots: /opt/jboss/keycloak/modules,/opt/jboss/keycloak/modules/system/layers/keycloak,/opt/jboss/keycloak/modules/system/layers/base))]\r\n        at org.jboss.resteasy.resteasy-client-api@4.7.4.Final//org.jboss.resteasy.client.jaxrs.ProxyBuilder.builder(ProxyBuilder.java:41)\r\n        at org.jboss.resteasy.resteasy-client@4.7.4.Final//org.jboss.resteasy.client.jaxrs.internal.ClientWebTarget.createProxyBuilder(ClientWebTarget.java:107)\r\n        at org.jboss.resteasy.resteasy-client@4.7.4.Final//org.jboss.resteasy.client.jaxrs.internal.ClientWebTarget.proxy(ClientWebTarget.java:94)\r\n        at deployment.keycloak-user-mapper-0.0.1-SNAPSHOT.jar//org.myorg.UserAttributeMapper.&lt;init&gt;(UserAttributeMapper.java:55)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n        at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\r\n        ... 17 more\r\nCaused by: java.lang.ClassNotFoundException: org.jboss.resteasy.client.jaxrs.internal.proxy.ProxyBuilderImpl from [Module &quot;org.jboss.as.server&quot; version 18.0.4.Final from local module loader @66c92293 (finder: local module finder @332796d3 (roots: /opt/jboss/keycloak/modules,/opt/jboss/keycloak/modules/system/layers/keycloak,/opt/jboss/keycloak/modules/system/layers/base))]\r\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:200)\r\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\r\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\r\n        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\r\n        at org.jboss.resteasy.resteasy-client-api@4.7.4.Final//org.jboss.resteasy.client.jaxrs.ProxyBuilder.builder(ProxyBuilder.java:35)\r\n        ... 25 more\r\n```\r\n\r\nApparently `Wildfly`&#39;s own `org.jboss.as.server` module is not configured properly, so it doesn&#39;t have `org.jboss.resteasy.client.jaxrs.internal.proxy.ProxyBuilderImpl` on its `CLASSPATH`, but it exists on the my jar&#39;s `CLASSPATH`, because I can successfully execute \r\n\r\n```java\r\nClass.forName(&quot;org.jboss.resteasy.client.jaxrs.internal.proxy.ProxyBuilderImpl&quot;)\r\n```\r\n\r\nin the constructor of my class.\r\n\r\n**WORKAROUND** I added `&lt;module name=&quot;org.jboss.resteasy.resteasy-client&quot;/&gt;` to `modules/system/layers/base/org/jboss/as/server/main/module.xml` and it works now, but it doesn&#39;t seem like a good solution, how do I approach this configuration?\r\n\r\n**UPDATE**\r\nI suspect the problem might be with hot redeploy, if I copy the `jar` to `keycloak` first and after it I start `keycloak`, no problems with the `CLASSPATH` exist. But if I copy the `jar` into `standalone/deployments` when `keycloak` is running, then `ClassNotFoundException` is thrown. I have tried `keycloak-17.0.0.zip`, `keycloak-17.0.1.zip`, `keycloak-18.0.0.zip` (`WildFly` based)\r\n\r\nHere is a script to reproduce the issue. Invoke it with:\r\n\r\n    bash script.sh [17.0.0 | 17.0.1 | 18.0.0]\r\n\r\nto deploy the `jar` to local `keycloak` (the script will download `keycloak`&#39;s `zip` archive automatically if it hasn&#39;t been downloaded previously).\r\n\r\n(*) Parameters in square brackets are optional, default version is `18.0.0`\r\n\r\n```bash script.sh\r\n#! /bin/bash\r\n\r\nset -x\r\n\r\nmkdir -p so72280865 &amp;&amp; cd so72280865 || {\r\n\techo &quot;Unable to create a working directory&quot;\r\n\texit 1\r\n}\r\n\r\ncat &lt;&lt;EOF &gt; pom.xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.myorg&lt;/groupId&gt;\r\n    &lt;artifactId&gt;keycloak-so-demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;17.0.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-server-spi-private&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-services&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\nEOF\r\n\r\nmkdir -p src/main/java/org/myorg/\r\n\r\ncat &lt;&lt;EOF &gt; src/main/java/org/myorg/App.java\r\npackage org.myorg;\r\n\r\nimport org.jboss.resteasy.client.jaxrs.internal.ClientWebTarget;\r\nimport org.keycloak.broker.provider.AbstractIdentityProviderMapper;\r\nimport org.keycloak.provider.ProviderConfigProperty;\r\n\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Path;\r\n\r\nimport javax.ws.rs.client.Client;\r\nimport javax.ws.rs.client.ClientBuilder;\r\nimport javax.ws.rs.core.UriBuilder;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class App extends AbstractIdentityProviderMapper {\r\n\r\n    private static final String URL_PATH = &quot;https://api.myip.com&quot;;\r\n    private final CustomFetcher fetcher;\r\n\r\n    public static final String[] COMPATIBLE_PROVIDERS = {ANY_PROVIDER};\r\n\r\n    protected static final List&lt;ProviderConfigProperty&gt; configProperties = Collections.emptyList();\r\n\r\n    public App() {\r\n        final Client client = ClientBuilder.newBuilder()\r\n                .register(new org.jboss.resteasy.plugins.providers.jackson.ResteasyJackson2Provider())\r\n                .build();\r\n        ClientWebTarget target = (ClientWebTarget) client.target(UriBuilder.fromPath(URL_PATH));\r\n        fetcher = target.proxy(CustomFetcher.class);\r\n\tSystem.out.println(fetcher.get().toString());\r\n    }\r\n\r\n    @Path(&quot;/&quot;)\r\n    public interface CustomFetcher {\r\n        @GET String get();\r\n    }\r\n\r\n    @Override\r\n    public String[] getCompatibleProviders() {\r\n        return COMPATIBLE_PROVIDERS;\r\n    }\r\n\r\n    @Override\r\n    public String getDisplayCategory() {\r\n        return &quot;Attribute Importer&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String getDisplayType() {\r\n        return &quot;Custom Fetcher&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String getHelpText() {\r\n        return &quot;Custom Fetcher&quot;;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;ProviderConfigProperty&gt; getConfigProperties() {\r\n        return configProperties;\r\n    }\r\n\r\n    @Override\r\n    public String getId() {\r\n        return &quot;custom-fetcher-idp-mapper&quot;;\r\n    }\r\n}\r\nEOF\r\n\r\nmkdir -p src/main/resources/META-INF/services\r\ncat &lt;&lt;EOF &gt; src/main/resources/META-INF/services/org.keycloak.broker.provider.IdentityProviderMapper\r\norg.myorg.App\r\nEOF\r\n\r\nmvn package\r\n\r\nif [ &quot;$?&quot; -ne &quot;0&quot; ] ; then\r\n\texit 1\r\nfi\r\n\r\n\r\n\r\nKEYCLOAK_VERSION=${1:-18.0.0}\r\n[ -f &quot;keycloak-legacy-${KEYCLOAK_VERSION}.zip&quot; ] || {\r\n\tcurl -LO &quot;https://github.com/keycloak/keycloak/releases/download/${KEYCLOAK_VERSION}/keycloak-legacy-${KEYCLOAK_VERSION}.zip&quot;\r\n}\r\n\r\n[ -d &quot;keycloak-${KEYCLOAK_VERSION}&quot; ] || {\r\n\tunzip &quot;keycloak-legacy-${KEYCLOAK_VERSION}.zip&quot;\r\n} &amp;&amp; cp target/keycloak-so-demo-0.0.1-SNAPSHOT.jar &quot;keycloak-${KEYCLOAK_VERSION}&quot;/standalone/deployments &amp;&amp;\r\n\t./&quot;keycloak-${KEYCLOAK_VERSION}&quot;/bin/standalone.sh &amp;\r\n\r\ntrap &quot;./keycloak-${KEYCLOAK_VERSION}/bin/jboss-cli.sh --connect --command=:shutdown&quot; EXIT\r\n\r\nTIMEOUT=180\r\nwhile true ; do\r\n\tstarted=$(ss -lt | grep 9990 | wc -l)\r\n\t[ &quot;$started&quot; -eq &quot;1&quot; ] &amp;&amp; break\r\n\r\n\t[ &quot;$TIMEOUT&quot; -le &quot;0&quot; ] &amp;&amp; {\r\n\t\techo &quot;Timeout reached starting keycloak&quot;\r\n\t\texit 1\r\n\t}\r\n\tTIMEOUT=$((TIMEOUT - 10))\r\n\tsleep 10\r\ndone\r\n\r\ncp target/keycloak-so-demo-0.0.1-SNAPSHOT.jar &quot;keycloak-${KEYCLOAK_VERSION}&quot;/standalone/deployments \r\nsleep 10\r\n```","title":"Keycloak and RESTEasy client: ClassNotFoundException: org.jboss.resteasy.client.jaxrs.internal.proxy.ProxyBuilderImpl","body":"<p>I need to add a <code>RESTEasy</code> client to <code>keycloak</code> (<code>WildFly</code> based distribution).</p>\n<ol>\n<li>I create a new class by extending <code>org.keycloak.broker.provider.AbstractIdentityProviderMapper</code></li>\n<li>I define the following code in its constructor</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>Client client = ClientBuilder.newBuilder().build();\nClientWebTarget target = (ClientWebTarget) client.target(UriBuilder.fromPath(URL_PATH));\nCustomFetcher fetcher = target.proxy(CustomFetcher.class);\n</code></pre>\n<ol start=\"3\">\n<li>I add the class to <code>src/main/resources/META-INF/services/org.keycloak.broker.provider.IdentityProviderMapper</code></li>\n</ol>\n<p>When I copy the jar to <code>keycloak</code>'s <code>standalone/deployments</code> directory I get</p>\n<pre class=\"lang-java prettyprint-override\"><code>20:55:01,522 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit.&quot;keycloak-user-mapper-0.0.1-SNAPSHOT.jar&quot;.POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;keycloak-user-mapper-0.0.1-SNAPSHOT.jar&quot;.POST_MODULE: WFLYSRV0153: Failed to process phase POST_MODULE of deployment &quot;keycloak-user-mapper-0.0.1-SNAPSHOT.jar&quot;\n        at org.jboss.as.server@18.0.4.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:189)\n        at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1739)\n        at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$StartTask.execute(ServiceControllerImpl.java:1701)\n        at org.jboss.msc@1.4.13.Final//org.jboss.msc.service.ServiceControllerImpl$ControllerTask.run(ServiceControllerImpl.java:1559)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.util.ServiceConfigurationError: org.keycloak.broker.provider.IdentityProviderMapper: Provider org.myorg.UserAttributeMapper could not be instantiated\n        at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:582)\n        at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:804)\n        at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\n        at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1395)\n        at org.keycloak.keycloak-services@17.0.0//org.keycloak.provider.DefaultProviderLoader.load(DefaultProviderLoader.java:60)\n        at org.keycloak.keycloak-services@17.0.0//org.keycloak.provider.ProviderManager.load(ProviderManager.java:94)\n        at org.keycloak.keycloak-services@17.0.0//org.keycloak.services.DefaultKeycloakSessionFactory.loadFactories(DefaultKeycloakSessionFactory.java:294)\n        at org.keycloak.keycloak-services@17.0.0//org.keycloak.services.DefaultKeycloakSessionFactory.deploy(DefaultKeycloakSessionFactory.java:154)\n        at org.keycloak.keycloak-services@17.0.0//org.keycloak.provider.ProviderManagerRegistry.deploy(ProviderManagerRegistry.java:42)\n        at org.keycloak.keycloak-wildfly-server-subsystem@17.0.0//org.keycloak.subsystem.server.extension.KeycloakProviderDeploymentProcessor.deploy(KeycloakProviderDeploymentProcessor.java:58)\n        at org.jboss.as.server@18.0.4.Final//org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:182)\n        ... 8 more\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: org.jboss.resteasy.client.jaxrs.internal.proxy.ProxyBuilderImpl from [Module &quot;org.jboss.as.server&quot; version 18.0.4.Final from local module loader @66c92293 (finder: local module finder @332796d3 (roots: /opt/jboss/keycloak/modules,/opt/jboss/keycloak/modules/system/layers/keycloak,/opt/jboss/keycloak/modules/system/layers/base))]\n        at org.jboss.resteasy.resteasy-client-api@4.7.4.Final//org.jboss.resteasy.client.jaxrs.ProxyBuilder.builder(ProxyBuilder.java:41)\n        at org.jboss.resteasy.resteasy-client@4.7.4.Final//org.jboss.resteasy.client.jaxrs.internal.ClientWebTarget.createProxyBuilder(ClientWebTarget.java:107)\n        at org.jboss.resteasy.resteasy-client@4.7.4.Final//org.jboss.resteasy.client.jaxrs.internal.ClientWebTarget.proxy(ClientWebTarget.java:94)\n        at deployment.keycloak-user-mapper-0.0.1-SNAPSHOT.jar//org.myorg.UserAttributeMapper.&lt;init&gt;(UserAttributeMapper.java:55)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\n        ... 17 more\nCaused by: java.lang.ClassNotFoundException: org.jboss.resteasy.client.jaxrs.internal.proxy.ProxyBuilderImpl from [Module &quot;org.jboss.as.server&quot; version 18.0.4.Final from local module loader @66c92293 (finder: local module finder @332796d3 (roots: /opt/jboss/keycloak/modules,/opt/jboss/keycloak/modules/system/layers/keycloak,/opt/jboss/keycloak/modules/system/layers/base))]\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:200)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\n        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\n        at org.jboss.resteasy.resteasy-client-api@4.7.4.Final//org.jboss.resteasy.client.jaxrs.ProxyBuilder.builder(ProxyBuilder.java:35)\n        ... 25 more\n</code></pre>\n<p>Apparently <code>Wildfly</code>'s own <code>org.jboss.as.server</code> module is not configured properly, so it doesn't have <code>org.jboss.resteasy.client.jaxrs.internal.proxy.ProxyBuilderImpl</code> on its <code>CLASSPATH</code>, but it exists on the my jar's <code>CLASSPATH</code>, because I can successfully execute</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class.forName(&quot;org.jboss.resteasy.client.jaxrs.internal.proxy.ProxyBuilderImpl&quot;)\n</code></pre>\n<p>in the constructor of my class.</p>\n<p><strong>WORKAROUND</strong> I added <code>&lt;module name=&quot;org.jboss.resteasy.resteasy-client&quot;/&gt;</code> to <code>modules/system/layers/base/org/jboss/as/server/main/module.xml</code> and it works now, but it doesn't seem like a good solution, how do I approach this configuration?</p>\n<p><strong>UPDATE</strong>\nI suspect the problem might be with hot redeploy, if I copy the <code>jar</code> to <code>keycloak</code> first and after it I start <code>keycloak</code>, no problems with the <code>CLASSPATH</code> exist. But if I copy the <code>jar</code> into <code>standalone/deployments</code> when <code>keycloak</code> is running, then <code>ClassNotFoundException</code> is thrown. I have tried <code>keycloak-17.0.0.zip</code>, <code>keycloak-17.0.1.zip</code>, <code>keycloak-18.0.0.zip</code> (<code>WildFly</code> based)</p>\n<p>Here is a script to reproduce the issue. Invoke it with:</p>\n<pre><code>bash script.sh [17.0.0 | 17.0.1 | 18.0.0]\n</code></pre>\n<p>to deploy the <code>jar</code> to local <code>keycloak</code> (the script will download <code>keycloak</code>'s <code>zip</code> archive automatically if it hasn't been downloaded previously).</p>\n<p>(*) Parameters in square brackets are optional, default version is <code>18.0.0</code></p>\n<pre class=\"lang-sh prettyprint-override\"><code>#! /bin/bash\n\nset -x\n\nmkdir -p so72280865 &amp;&amp; cd so72280865 || {\n    echo &quot;Unable to create a working directory&quot;\n    exit 1\n}\n\ncat &lt;&lt;EOF &gt; pom.xml\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.myorg&lt;/groupId&gt;\n    &lt;artifactId&gt;keycloak-so-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n                &lt;artifactId&gt;keycloak-parent&lt;/artifactId&gt;\n                &lt;version&gt;17.0.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-server-spi-private&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-services&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-jaxrs&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-jackson2-provider&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\nEOF\n\nmkdir -p src/main/java/org/myorg/\n\ncat &lt;&lt;EOF &gt; src/main/java/org/myorg/App.java\npackage org.myorg;\n\nimport org.jboss.resteasy.client.jaxrs.internal.ClientWebTarget;\nimport org.keycloak.broker.provider.AbstractIdentityProviderMapper;\nimport org.keycloak.provider.ProviderConfigProperty;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\n\nimport javax.ws.rs.client.Client;\nimport javax.ws.rs.client.ClientBuilder;\nimport javax.ws.rs.core.UriBuilder;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class App extends AbstractIdentityProviderMapper {\n\n    private static final String URL_PATH = &quot;https://api.myip.com&quot;;\n    private final CustomFetcher fetcher;\n\n    public static final String[] COMPATIBLE_PROVIDERS = {ANY_PROVIDER};\n\n    protected static final List&lt;ProviderConfigProperty&gt; configProperties = Collections.emptyList();\n\n    public App() {\n        final Client client = ClientBuilder.newBuilder()\n                .register(new org.jboss.resteasy.plugins.providers.jackson.ResteasyJackson2Provider())\n                .build();\n        ClientWebTarget target = (ClientWebTarget) client.target(UriBuilder.fromPath(URL_PATH));\n        fetcher = target.proxy(CustomFetcher.class);\n    System.out.println(fetcher.get().toString());\n    }\n\n    @Path(&quot;/&quot;)\n    public interface CustomFetcher {\n        @GET String get();\n    }\n\n    @Override\n    public String[] getCompatibleProviders() {\n        return COMPATIBLE_PROVIDERS;\n    }\n\n    @Override\n    public String getDisplayCategory() {\n        return &quot;Attribute Importer&quot;;\n    }\n\n    @Override\n    public String getDisplayType() {\n        return &quot;Custom Fetcher&quot;;\n    }\n\n    @Override\n    public String getHelpText() {\n        return &quot;Custom Fetcher&quot;;\n    }\n\n    @Override\n    public List&lt;ProviderConfigProperty&gt; getConfigProperties() {\n        return configProperties;\n    }\n\n    @Override\n    public String getId() {\n        return &quot;custom-fetcher-idp-mapper&quot;;\n    }\n}\nEOF\n\nmkdir -p src/main/resources/META-INF/services\ncat &lt;&lt;EOF &gt; src/main/resources/META-INF/services/org.keycloak.broker.provider.IdentityProviderMapper\norg.myorg.App\nEOF\n\nmvn package\n\nif [ &quot;$?&quot; -ne &quot;0&quot; ] ; then\n    exit 1\nfi\n\n\n\nKEYCLOAK_VERSION=${1:-18.0.0}\n[ -f &quot;keycloak-legacy-${KEYCLOAK_VERSION}.zip&quot; ] || {\n    curl -LO &quot;https://github.com/keycloak/keycloak/releases/download/${KEYCLOAK_VERSION}/keycloak-legacy-${KEYCLOAK_VERSION}.zip&quot;\n}\n\n[ -d &quot;keycloak-${KEYCLOAK_VERSION}&quot; ] || {\n    unzip &quot;keycloak-legacy-${KEYCLOAK_VERSION}.zip&quot;\n} &amp;&amp; cp target/keycloak-so-demo-0.0.1-SNAPSHOT.jar &quot;keycloak-${KEYCLOAK_VERSION}&quot;/standalone/deployments &amp;&amp;\n    ./&quot;keycloak-${KEYCLOAK_VERSION}&quot;/bin/standalone.sh &amp;\n\ntrap &quot;./keycloak-${KEYCLOAK_VERSION}/bin/jboss-cli.sh --connect --command=:shutdown&quot; EXIT\n\nTIMEOUT=180\nwhile true ; do\n    started=$(ss -lt | grep 9990 | wc -l)\n    [ &quot;$started&quot; -eq &quot;1&quot; ] &amp;&amp; break\n\n    [ &quot;$TIMEOUT&quot; -le &quot;0&quot; ] &amp;&amp; {\n        echo &quot;Timeout reached starting keycloak&quot;\n        exit 1\n    }\n    TIMEOUT=$((TIMEOUT - 10))\n    sleep 10\ndone\n\ncp target/keycloak-so-demo-0.0.1-SNAPSHOT.jar &quot;keycloak-${KEYCLOAK_VERSION}&quot;/standalone/deployments \nsleep 10\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":3417936,"reputation":1904,"user_id":2866298,"accept_rate":63,"display_name":"osama yaccoub"},"score":0,"creation_date":1522340178,"post_id":49557883,"comment_id":86129439,"body_markdown":"is your access type field or propertry?","body":"is your access type field or propertry?"}],"answers":[{"tags":[],"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522335064,"creation_date":1522335064,"answer_id":49559145,"question_id":49557883,"body_markdown":"You should use `java.sql.Time` instead. Are there a specific reason you are using `LocalDateTime`? Example with `LocalTime`:\r\n\r\n\t@Converter\r\n\tpublic class MyConverter implements AttributeConverter&lt;LocalTime, Time&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic Time convertToDatabaseColumn(LocalTime localTime) {\r\n\t\t\tif(localTime == null){\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t// convert LocalTime to java.sql.Time\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic LocalTime convertToEntityAttribute(Time time) {\r\n\t\t\tif(time == null){\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t// convert java.sql.Time to LocalTime\r\n\t\t}\r\n\t}","title":"How to map postgres&#39;s &quot;time without time zone&quot; to JPA/Hibernate entity?","body":"<p>You should use <code>java.sql.Time</code> instead. Are there a specific reason you are using <code>LocalDateTime</code>? Example with <code>LocalTime</code>:</p>\n\n<pre><code>@Converter\npublic class MyConverter implements AttributeConverter&lt;LocalTime, Time&gt; {\n\n    @Override\n    public Time convertToDatabaseColumn(LocalTime localTime) {\n        if(localTime == null){\n            return null;\n        }\n\n        // convert LocalTime to java.sql.Time\n    }\n\n    @Override\n    public LocalTime convertToEntityAttribute(Time time) {\n        if(time == null){\n            return null;\n        }\n\n        // convert java.sql.Time to LocalTime\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":972643,"reputation":2039,"user_id":994851,"accept_rate":59,"display_name":"Coen Damen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653295595,"creation_date":1653295595,"answer_id":72345669,"question_id":49557883,"body_markdown":"You do not need a converter. You can use annotations (as per JPA 2.2). This works with Postgres.\r\n\r\n     @Column(nullable = false, columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\r\n     private OffsetDateTime createdOn;\r\n\r\nInstantiation can be done as per:\r\n\r\n    @PrePersist\r\n    private void prePersist() {\r\n        this.createdOn = OffsetDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\n    }\r\n\r\nThe example here uses OffsetDateTime but for LocalDateTime you can use \r\n\r\n    @Column(nullable = false, columnDefinition = &quot;TIMESTAMP WITHOUT TIME ZONE&quot;)\r\n    private LocalDateTime createdOn;\r\n","title":"How to map postgres&#39;s &quot;time without time zone&quot; to JPA/Hibernate entity?","body":"<p>You do not need a converter. You can use annotations (as per JPA 2.2). This works with Postgres.</p>\n<pre><code> @Column(nullable = false, columnDefinition = &quot;TIMESTAMP WITH TIME ZONE&quot;)\n private OffsetDateTime createdOn;\n</code></pre>\n<p>Instantiation can be done as per:</p>\n<pre><code>@PrePersist\nprivate void prePersist() {\n    this.createdOn = OffsetDateTime.now(ZoneId.of(&quot;UTC&quot;));\n}\n</code></pre>\n<p>The example here uses OffsetDateTime but for LocalDateTime you can use</p>\n<pre><code>@Column(nullable = false, columnDefinition = &quot;TIMESTAMP WITHOUT TIME ZONE&quot;)\nprivate LocalDateTime createdOn;\n</code></pre>\n"}],"owner":{"account_id":1110538,"reputation":13397,"user_id":1101083,"accept_rate":70,"display_name":"Himanshu Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653295595,"creation_date":1522331487,"question_id":49557883,"body_markdown":"Current implementation:\r\n\r\n    @Getter(AccessLevel.NONE)\r\n    \t@Setter(AccessLevel.NONE)\r\n    \t@Column(name = &quot;send_time&quot;, columnDefinition = &quot;timestamp without time zone not null&quot;)\r\n    \tprivate LocalTime sendTime;\r\n    \t\r\n    \t@Convert(converter=LocalTimeConverter.class)\r\n    \tpublic LocalTime getSendTime() {\r\n    \t\treturn sendTime;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Convert(converter=LocalTimeConverter.class)\r\n    \tpublic void setLocalTime(LocalTime time) {\r\n    \t\tthis.sendTime = time;\r\n    \t}\r\n\r\n    @Converter(autoApply = true)\r\n    public class LocalTimeConverter implements AttributeConverter&lt;LocalDateTime, Timestamp&gt;{\r\n    \r\n    \t@Override\r\n    \tpublic Timestamp convertToDatabaseColumn(LocalDateTime zonedDateTime) {\r\n    \t\tif(zonedDateTime == null) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn Timestamp.valueOf(zonedDateTime);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic LocalDateTime convertToEntityAttribute(Timestamp sqlTime) {\r\n    \t\tif(sqlTime == null) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn sqlTime.toLocalDateTime();\r\n    \t}\r\n    \r\n    }\r\n\r\n    object.setSendTime(LocalTime.of(11, 00, 00));\r\n\r\nThe error I get all the time:\r\n\r\n    ERROR: column &quot;send_time&quot; is of type time without time zone but expression is of type bytea\r\n      Hint: You will need to rewrite or cast the expression.","title":"How to map postgres&#39;s &quot;time without time zone&quot; to JPA/Hibernate entity?","body":"<p>Current implementation:</p>\n\n<pre><code>@Getter(AccessLevel.NONE)\n    @Setter(AccessLevel.NONE)\n    @Column(name = \"send_time\", columnDefinition = \"timestamp without time zone not null\")\n    private LocalTime sendTime;\n\n    @Convert(converter=LocalTimeConverter.class)\n    public LocalTime getSendTime() {\n        return sendTime;\n    }\n\n\n    @Convert(converter=LocalTimeConverter.class)\n    public void setLocalTime(LocalTime time) {\n        this.sendTime = time;\n    }\n\n@Converter(autoApply = true)\npublic class LocalTimeConverter implements AttributeConverter&lt;LocalDateTime, Timestamp&gt;{\n\n    @Override\n    public Timestamp convertToDatabaseColumn(LocalDateTime zonedDateTime) {\n        if(zonedDateTime == null) {\n            return null;\n        }\n        return Timestamp.valueOf(zonedDateTime);\n    }\n\n    @Override\n    public LocalDateTime convertToEntityAttribute(Timestamp sqlTime) {\n        if(sqlTime == null) {\n            return null;\n        }\n        return sqlTime.toLocalDateTime();\n    }\n\n}\n\nobject.setSendTime(LocalTime.of(11, 00, 00));\n</code></pre>\n\n<p>The error I get all the time:</p>\n\n<pre><code>ERROR: column \"send_time\" is of type time without time zone but expression is of type bytea\n  Hint: You will need to rewrite or cast the expression.\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":9587188,"reputation":31,"user_id":7119502,"display_name":"Lorenzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653295096,"creation_date":1653295096,"answer_id":72345558,"question_id":72287845,"body_markdown":"After around two days of intensive research and many attempts I think I have found a decent solution.\r\n\r\nI can give the functions a name and by doing so they sort of work like they have a specific scope.\r\nThe mapper interface becomes:\r\n```JAVA\r\npublic interface IBaseMapper&lt;T extends BaseEntity&lt;K&gt;, D extends IBaseDTO&lt;K&gt;, K extends Serializable&gt; {\r\n    @BeanMapping(qualifiedByName = &quot;EntityToDTO&quot;)\r\n    D entityToDto(T entity);\r\n\r\n    @Named(&quot;EntityToDTOList&quot;)\r\n    public abstract D entityToDTOListEntity(T entity);\r\n\r\n    @IterableMapping(qualifiedByName = &quot;EntityToDTOList&quot;)\r\n    List&lt;D&gt; entityToDtoList(List&lt;T&gt; entity);\r\n\r\n    T dtoToEntity(D dto);\r\n}\r\n```\r\nSo that I can group toghether all the functions I need.\r\n\r\nThe mapper abstract class:\r\n```JAVA\r\n    @Mapping(target = &quot;groupId&quot;, source = &quot;group.id&quot;)\r\n    public abstract WorkShiftEntity dtoToEntity(WorkShiftDTO workShiftDTO);\r\n\r\n    @AfterMapping\r\n    @Named(&quot;EntityToDTO&quot;)\r\n    public void afterEntityToDto(final WorkShiftEntity workShiftEntity, @MappingTarget final WorkShiftDTO workShiftDTO) {\r\n        if (workShiftEntity == null) {\r\n            return;\r\n        }\r\n        GroupDTO groupDTO = EcofinderUtils.getGroupDTO(restTemplate, workShiftEntity.getGroupId());\r\n\r\n        try {\r\n            GenericUtils.enhanceDTOForAttributeWithDTO(workShiftDTO, groupDTO, &quot;group&quot;);\r\n        } catch (InvocationTargetException | NoSuchMethodException | IllegalAccessException e) {\r\n            getLogger().error(e.getMessage());\r\n        }\r\n    }\r\n\r\n    @AfterMapping\r\n    @Named(&quot;EntityToDTOList&quot;)\r\n    public void afterEntityToDtoList(final List&lt;WorkShiftEntity&gt; workShiftEntity, @MappingTarget final List&lt;WorkShiftDTO&gt; workShiftDTO) {\r\n        if (workShiftEntity == null || workShiftEntity.size() == 0) {\r\n            return;\r\n        }\r\n\r\n        List&lt;GroupDTO&gt; groups = EcofinderUtils.getAllGroupDTOById(restTemplate, workShiftEntity.stream().map(WorkShiftEntity::getGroupId).distinct().toList());\r\n\r\n        try {\r\n            //Compile the resulting DTOs with the data got from the registry\r\n            //Group\r\n            GenericUtils.enhanceDTOListWithDataFromDTOJoiningEntities(workShiftDTO, groups, workShiftEntity, &quot;group&quot;, &quot;groupId&quot;);\r\n        } catch (AppException | InvocationTargetException | NoSuchMethodException | IllegalAccessException e) {\r\n            getLogger().error(e.getMessage());\r\n        }\r\n    }\r\n```\r\nBy doing so, the generated Impl class is:\r\n```JAVA\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2022-05-20T15:08:38+0200&quot;,\r\n    comments = &quot;version: 1.4.2.Final, compiler: javac, environment: Java 17.0.1 (Oracle Corporation)&quot;\r\n)\r\n@Component\r\npublic class WorkShiftMapperImpl extends WorkShiftMapper {\r\n\r\n    @Autowired\r\n    private LocalTimeMapper localTimeMapper;\r\n\r\n    @Override\r\n    public WorkShiftDTO entityToDto(WorkShiftEntity entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n\r\n        WorkShiftDTO workShiftDTO = new WorkShiftDTO();\r\n\r\n        workShiftDTO.setId( entity.getId() );\r\n        workShiftDTO.setDescription( entity.getDescription() );\r\n        workShiftDTO.setStartTime( localTimeMapper.map( entity.getStartTime() ) );\r\n        workShiftDTO.setEndTime( localTimeMapper.map( entity.getEndTime() ) );\r\n        workShiftDTO.setWorkShift( entity.getWorkShift() );\r\n\r\n        afterEntityToDto( entity, workShiftDTO );\r\n\r\n        return workShiftDTO;\r\n    }\r\n\r\n    @Override\r\n    public WorkShiftDTO entityToDTOListEntity(WorkShiftEntity entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n\r\n        WorkShiftDTO workShiftDTO = new WorkShiftDTO();\r\n\r\n        workShiftDTO.setId( entity.getId() );\r\n        workShiftDTO.setDescription( entity.getDescription() );\r\n        workShiftDTO.setStartTime( localTimeMapper.map( entity.getStartTime() ) );\r\n        workShiftDTO.setEndTime( localTimeMapper.map( entity.getEndTime() ) );\r\n        workShiftDTO.setWorkShift( entity.getWorkShift() );\r\n\r\n        return workShiftDTO;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;WorkShiftDTO&gt; entityToDtoList(List&lt;WorkShiftEntity&gt; entity) {\r\n        if ( entity == null ) {\r\n            return null;\r\n        }\r\n\r\n        List&lt;WorkShiftDTO&gt; list = new ArrayList&lt;WorkShiftDTO&gt;( entity.size() );\r\n        for ( WorkShiftEntity workShiftEntity : entity ) {\r\n            list.add( entityToDTOListEntity( workShiftEntity ) );\r\n        }\r\n\r\n        afterEntityToDtoList( entity, list );\r\n\r\n        return list;\r\n    }\r\n\r\n    @Override\r\n    public WorkShiftEntity dtoToEntity(WorkShiftDTO workShiftDTO) {\r\n        if ( workShiftDTO == null ) {\r\n            return null;\r\n        }\r\n\r\n        WorkShiftEntity workShiftEntity = new WorkShiftEntity();\r\n\r\n        workShiftEntity.setGroupId( workShiftDTOGroupId( workShiftDTO ) );\r\n        workShiftEntity.setId( workShiftDTO.getId() );\r\n        workShiftEntity.setDescription( workShiftDTO.getDescription() );\r\n        workShiftEntity.setStartTime( localTimeMapper.map( workShiftDTO.getStartTime() ) );\r\n        workShiftEntity.setEndTime( localTimeMapper.map( workShiftDTO.getEndTime() ) );\r\n        workShiftEntity.setWorkShift( workShiftDTO.getWorkShift() );\r\n\r\n        return workShiftEntity;\r\n    }\r\n\r\n    private Long workShiftDTOGroupId(WorkShiftDTO workShiftDTO) {\r\n        if ( workShiftDTO == null ) {\r\n            return null;\r\n        }\r\n        GroupDTO group = workShiftDTO.getGroup();\r\n        if ( group == null ) {\r\n            return null;\r\n        }\r\n        Long id = group.getId();\r\n        if ( id == null ) {\r\n            return null;\r\n        }\r\n        return id;\r\n    }\r\n}\r\n```\r\nWhich is exaclty what I was looking for.\r\n","title":"Prevent mapstruct from using the single object mapping function in list of object mapping function","body":"<p>After around two days of intensive research and many attempts I think I have found a decent solution.</p>\n<p>I can give the functions a name and by doing so they sort of work like they have a specific scope.\nThe mapper interface becomes:</p>\n<pre><code>public interface IBaseMapper&lt;T extends BaseEntity&lt;K&gt;, D extends IBaseDTO&lt;K&gt;, K extends Serializable&gt; {\n    @BeanMapping(qualifiedByName = &quot;EntityToDTO&quot;)\n    D entityToDto(T entity);\n\n    @Named(&quot;EntityToDTOList&quot;)\n    public abstract D entityToDTOListEntity(T entity);\n\n    @IterableMapping(qualifiedByName = &quot;EntityToDTOList&quot;)\n    List&lt;D&gt; entityToDtoList(List&lt;T&gt; entity);\n\n    T dtoToEntity(D dto);\n}\n</code></pre>\n<p>So that I can group toghether all the functions I need.</p>\n<p>The mapper abstract class:</p>\n<pre><code>    @Mapping(target = &quot;groupId&quot;, source = &quot;group.id&quot;)\n    public abstract WorkShiftEntity dtoToEntity(WorkShiftDTO workShiftDTO);\n\n    @AfterMapping\n    @Named(&quot;EntityToDTO&quot;)\n    public void afterEntityToDto(final WorkShiftEntity workShiftEntity, @MappingTarget final WorkShiftDTO workShiftDTO) {\n        if (workShiftEntity == null) {\n            return;\n        }\n        GroupDTO groupDTO = EcofinderUtils.getGroupDTO(restTemplate, workShiftEntity.getGroupId());\n\n        try {\n            GenericUtils.enhanceDTOForAttributeWithDTO(workShiftDTO, groupDTO, &quot;group&quot;);\n        } catch (InvocationTargetException | NoSuchMethodException | IllegalAccessException e) {\n            getLogger().error(e.getMessage());\n        }\n    }\n\n    @AfterMapping\n    @Named(&quot;EntityToDTOList&quot;)\n    public void afterEntityToDtoList(final List&lt;WorkShiftEntity&gt; workShiftEntity, @MappingTarget final List&lt;WorkShiftDTO&gt; workShiftDTO) {\n        if (workShiftEntity == null || workShiftEntity.size() == 0) {\n            return;\n        }\n\n        List&lt;GroupDTO&gt; groups = EcofinderUtils.getAllGroupDTOById(restTemplate, workShiftEntity.stream().map(WorkShiftEntity::getGroupId).distinct().toList());\n\n        try {\n            //Compile the resulting DTOs with the data got from the registry\n            //Group\n            GenericUtils.enhanceDTOListWithDataFromDTOJoiningEntities(workShiftDTO, groups, workShiftEntity, &quot;group&quot;, &quot;groupId&quot;);\n        } catch (AppException | InvocationTargetException | NoSuchMethodException | IllegalAccessException e) {\n            getLogger().error(e.getMessage());\n        }\n    }\n</code></pre>\n<p>By doing so, the generated Impl class is:</p>\n<pre><code>@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2022-05-20T15:08:38+0200&quot;,\n    comments = &quot;version: 1.4.2.Final, compiler: javac, environment: Java 17.0.1 (Oracle Corporation)&quot;\n)\n@Component\npublic class WorkShiftMapperImpl extends WorkShiftMapper {\n\n    @Autowired\n    private LocalTimeMapper localTimeMapper;\n\n    @Override\n    public WorkShiftDTO entityToDto(WorkShiftEntity entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        WorkShiftDTO workShiftDTO = new WorkShiftDTO();\n\n        workShiftDTO.setId( entity.getId() );\n        workShiftDTO.setDescription( entity.getDescription() );\n        workShiftDTO.setStartTime( localTimeMapper.map( entity.getStartTime() ) );\n        workShiftDTO.setEndTime( localTimeMapper.map( entity.getEndTime() ) );\n        workShiftDTO.setWorkShift( entity.getWorkShift() );\n\n        afterEntityToDto( entity, workShiftDTO );\n\n        return workShiftDTO;\n    }\n\n    @Override\n    public WorkShiftDTO entityToDTOListEntity(WorkShiftEntity entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        WorkShiftDTO workShiftDTO = new WorkShiftDTO();\n\n        workShiftDTO.setId( entity.getId() );\n        workShiftDTO.setDescription( entity.getDescription() );\n        workShiftDTO.setStartTime( localTimeMapper.map( entity.getStartTime() ) );\n        workShiftDTO.setEndTime( localTimeMapper.map( entity.getEndTime() ) );\n        workShiftDTO.setWorkShift( entity.getWorkShift() );\n\n        return workShiftDTO;\n    }\n\n    @Override\n    public List&lt;WorkShiftDTO&gt; entityToDtoList(List&lt;WorkShiftEntity&gt; entity) {\n        if ( entity == null ) {\n            return null;\n        }\n\n        List&lt;WorkShiftDTO&gt; list = new ArrayList&lt;WorkShiftDTO&gt;( entity.size() );\n        for ( WorkShiftEntity workShiftEntity : entity ) {\n            list.add( entityToDTOListEntity( workShiftEntity ) );\n        }\n\n        afterEntityToDtoList( entity, list );\n\n        return list;\n    }\n\n    @Override\n    public WorkShiftEntity dtoToEntity(WorkShiftDTO workShiftDTO) {\n        if ( workShiftDTO == null ) {\n            return null;\n        }\n\n        WorkShiftEntity workShiftEntity = new WorkShiftEntity();\n\n        workShiftEntity.setGroupId( workShiftDTOGroupId( workShiftDTO ) );\n        workShiftEntity.setId( workShiftDTO.getId() );\n        workShiftEntity.setDescription( workShiftDTO.getDescription() );\n        workShiftEntity.setStartTime( localTimeMapper.map( workShiftDTO.getStartTime() ) );\n        workShiftEntity.setEndTime( localTimeMapper.map( workShiftDTO.getEndTime() ) );\n        workShiftEntity.setWorkShift( workShiftDTO.getWorkShift() );\n\n        return workShiftEntity;\n    }\n\n    private Long workShiftDTOGroupId(WorkShiftDTO workShiftDTO) {\n        if ( workShiftDTO == null ) {\n            return null;\n        }\n        GroupDTO group = workShiftDTO.getGroup();\n        if ( group == null ) {\n            return null;\n        }\n        Long id = group.getId();\n        if ( id == null ) {\n            return null;\n        }\n        return id;\n    }\n}\n</code></pre>\n<p>Which is exaclty what I was looking for.</p>\n"}],"owner":{"account_id":9587188,"reputation":31,"user_id":7119502,"display_name":"Lorenzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72345558,"answer_count":1,"score":1,"last_activity_date":1653295096,"creation_date":1652871181,"question_id":72287845,"body_markdown":"I have 2 micro-services: let&#39;s call them A and B.\r\n\r\nThe entities handled by B in which there is a reference to an entity of A are implemented as a simple Long id (eg. the groupId)\r\n\r\n```JAVA\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;WorkShifts&quot;)\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\npublic class WorkShiftEntity extends BaseEntitySerial {\r\n    @Column(name = &quot;group_id&quot;)\r\n    private Long groupId;\r\n    private String description;\r\n    @Column(name = &quot;start_time&quot;)\r\n    private Time startTime;\r\n    @Column(name = &quot;end_time&quot;)\r\n    private Time endTime;\r\n    @Column(name = &quot;work_shift&quot;)\r\n    private Integer workShift;\r\n}\r\n```\r\n\r\nWhat I want to achieve is to populate the missing group data of B (held by A) using mapstruct.\r\nSo far I tryed to use an @AfterMapping function to request the missing data from A. My mapper is:\r\n```JAVA\r\n@Mapper(componentModel = &quot;spring&quot;, uses = LocalTimeMapper.class, builder = @Builder(disableBuilder = true), config = CommonMapperConfig.class)\r\npublic abstract class WorkShiftMapper extends BaseMapper implements IBaseMapper&lt;WorkShiftEntity, WorkShiftDTO, Long&gt;, LogSupport {\r\n    @Autowired\r\n    RestTemplate restTemplate;\r\n\r\n    @Mapping(target = &quot;groupId&quot;, source = &quot;group.id&quot;)\r\n    public abstract WorkShiftEntity dtoToEntity(WorkShiftDTO workShiftDTO);\r\n\r\n    @AfterMapping\r\n    public void afterEntityToDto(final WorkShiftEntity workShiftEntity, @MappingTarget final WorkShiftDTO workShiftDTO) {\r\n        if (workShiftEntity == null) {\r\n            return;\r\n        }\r\n        GroupDTO groupDTO = EcofinderUtils.getGroupDTO(restTemplate, workShiftEntity.getGroupId());\r\n\r\n        try {\r\n            GenericUtils.enhanceDTOForAttributeWithDTO(workShiftDTO, groupDTO, &quot;group&quot;);\r\n        } catch (InvocationTargetException | NoSuchMethodException | IllegalAccessException e) {\r\n            getLogger().error(e.getMessage());\r\n        }\r\n    }\r\n\r\n    @AfterMapping\r\n    public void afterEntityToDtoList(final List&lt;WorkShiftEntity&gt; workShiftEntity, @MappingTarget final List&lt;WorkShiftDTO&gt; workShiftDTO) {\r\n        if (workShiftEntity == null || workShiftEntity.size() == 0) {\r\n            return;\r\n        }\r\n\r\n        List&lt;GroupDTO&gt; groups = EcofinderUtils.getAllGroupDTOById(restTemplate, workShiftEntity.stream().map(WorkShiftEntity::getGroupId).distinct().toList());\r\n\r\n        try {\r\n            //Compile the resulting DTOs with the data got from the registry\r\n            //Group\r\n            GenericUtils.enhanceDTOListWithDataFromDTOJoiningEntities(workShiftDTO, groups, workShiftEntity, &quot;group&quot;, &quot;groupId&quot;);\r\n        } catch (AppException | InvocationTargetException | NoSuchMethodException | IllegalAccessException e) {\r\n            getLogger().error(e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\nThe implemented interface which gives me the mapping functions is:\r\n```JAVA\r\npublic interface IBaseMapper&lt;T extends BaseEntity&lt;K&gt;, D extends IBaseDTO&lt;K&gt;, K extends Serializable&gt; {\r\n    D entityToDto(T entity);\r\n\r\n    List&lt;D&gt; entityToDtoList(List&lt;T&gt; entity);\r\n\r\n    T dtoToEntity(D dto);\r\n}\r\n```\r\nThe problem with the generated code is that the function that maps a list of entities to a list of DTOs uses the entityToDto for every entity, resulting in n requests to A. After that , the other @AfterMapping function is called (the one that collects all the ids and pulls all the data in only one request, which is the ONLY one that should be used while mapping a list).\r\n```JAVA\r\n    //GENERATED CODE BY MAPSTRUCT\r\n    @Override\r\n    public WorkShiftDTO entityToDto(WorkShiftEntity workShiftEntity) {\r\n        if ( workShiftEntity == null ) {\r\n            return null;\r\n        }\r\n\r\n        WorkShiftDTO workShiftDTO = new WorkShiftDTO();\r\n\r\n        workShiftDTO.setId( workShiftEntity.getId() );\r\n        workShiftDTO.setDescription( workShiftEntity.getDescription() );\r\n        workShiftDTO.setStartTime( localTimeMapper.map( workShiftEntity.getStartTime() ) );\r\n        workShiftDTO.setEndTime( localTimeMapper.map( workShiftEntity.getEndTime() ) );\r\n        workShiftDTO.setWorkShift( workShiftEntity.getWorkShift() );\r\n\r\n        afterEntityToDto( workShiftEntity, workShiftDTO );\r\n\r\n        return workShiftDTO;\r\n    }\r\n    @Override\r\n    public List&lt;WorkShiftDTO&gt; entityToDtoList(List&lt;WorkShiftEntity&gt; entity) {\r\n        //more code...\r\n        List&lt;WorkShiftDTO&gt; list = new ArrayList&lt;WorkShiftDTO&gt;( entity.size() );\r\n        for ( WorkShiftEntity workShiftEntity : entity ) {\r\n            list.add( entityToDto( workShiftEntity ) );\r\n        }\r\n\r\n        afterEntityToDtoList( entity, list );\r\n\r\n        return list;\r\n    }\r\n```\r\nIs there a way to make mapstruct implement the entityToDto function twice where one version uses the @AfterMapping function and the other doesn&#39;t in order to make the entityToDtoList function use the version without the @AfterMapping call?\r\n\r\nSomething like:\r\n```JAVA\r\n    @Override\r\n    public WorkShiftDTO entityToDto(WorkShiftEntity workShiftEntity) {\r\n        if ( workShiftEntity == null ) {\r\n            return null;\r\n        }\r\n\r\n        WorkShiftDTO workShiftDTO = new WorkShiftDTO();\r\n\r\n        workShiftDTO.setId( workShiftEntity.getId() );\r\n        workShiftDTO.setDescription( workShiftEntity.getDescription() );\r\n        workShiftDTO.setStartTime( localTimeMapper.map( workShiftEntity.getStartTime() ) );\r\n        workShiftDTO.setEndTime( localTimeMapper.map( workShiftEntity.getEndTime() ) );\r\n        workShiftDTO.setWorkShift( workShiftEntity.getWorkShift() );\r\n\r\n        afterEntityToDto( workShiftEntity, workShiftDTO );\r\n\r\n        return workShiftDTO;\r\n    }\r\n    public WorkShiftDTO entityToDtoNoAfter(WorkShiftEntity workShiftEntity) {\r\n        if ( workShiftEntity == null ) {\r\n            return null;\r\n        }\r\n\r\n        WorkShiftDTO workShiftDTO = new WorkShiftDTO();\r\n\r\n        workShiftDTO.setId( workShiftEntity.getId() );\r\n        workShiftDTO.setDescription( workShiftEntity.getDescription() );\r\n        workShiftDTO.setStartTime( localTimeMapper.map( workShiftEntity.getStartTime() ) );\r\n        workShiftDTO.setEndTime( localTimeMapper.map( workShiftEntity.getEndTime() ) );\r\n        workShiftDTO.setWorkShift( workShiftEntity.getWorkShift() );\r\n\r\n        return workShiftDTO;\r\n    }\r\n    @Override\r\n    public List&lt;WorkShiftDTO&gt; entityToDtoList(List&lt;WorkShiftEntity&gt; entity) {\r\n        //more code...\r\n        List&lt;WorkShiftDTO&gt; list = new ArrayList&lt;WorkShiftDTO&gt;( entity.size() );\r\n        for ( WorkShiftEntity workShiftEntity : entity ) {\r\n            list.add( entityToDtoNoAfter( workShiftEntity ) );\r\n        }\r\n\r\n        afterEntityToDtoList( entity, list );\r\n\r\n        return list;\r\n    }\r\n```\r\nOther approaches are welcome, this one only feels the more natural to me.\r\n\r\nThanks in advance!","title":"Prevent mapstruct from using the single object mapping function in list of object mapping function","body":"<p>I have 2 micro-services: let's call them A and B.</p>\n<p>The entities handled by B in which there is a reference to an entity of A are implemented as a simple Long id (eg. the groupId)</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;WorkShifts&quot;)\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class WorkShiftEntity extends BaseEntitySerial {\n    @Column(name = &quot;group_id&quot;)\n    private Long groupId;\n    private String description;\n    @Column(name = &quot;start_time&quot;)\n    private Time startTime;\n    @Column(name = &quot;end_time&quot;)\n    private Time endTime;\n    @Column(name = &quot;work_shift&quot;)\n    private Integer workShift;\n}\n</code></pre>\n<p>What I want to achieve is to populate the missing group data of B (held by A) using mapstruct.\nSo far I tryed to use an @AfterMapping function to request the missing data from A. My mapper is:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = LocalTimeMapper.class, builder = @Builder(disableBuilder = true), config = CommonMapperConfig.class)\npublic abstract class WorkShiftMapper extends BaseMapper implements IBaseMapper&lt;WorkShiftEntity, WorkShiftDTO, Long&gt;, LogSupport {\n    @Autowired\n    RestTemplate restTemplate;\n\n    @Mapping(target = &quot;groupId&quot;, source = &quot;group.id&quot;)\n    public abstract WorkShiftEntity dtoToEntity(WorkShiftDTO workShiftDTO);\n\n    @AfterMapping\n    public void afterEntityToDto(final WorkShiftEntity workShiftEntity, @MappingTarget final WorkShiftDTO workShiftDTO) {\n        if (workShiftEntity == null) {\n            return;\n        }\n        GroupDTO groupDTO = EcofinderUtils.getGroupDTO(restTemplate, workShiftEntity.getGroupId());\n\n        try {\n            GenericUtils.enhanceDTOForAttributeWithDTO(workShiftDTO, groupDTO, &quot;group&quot;);\n        } catch (InvocationTargetException | NoSuchMethodException | IllegalAccessException e) {\n            getLogger().error(e.getMessage());\n        }\n    }\n\n    @AfterMapping\n    public void afterEntityToDtoList(final List&lt;WorkShiftEntity&gt; workShiftEntity, @MappingTarget final List&lt;WorkShiftDTO&gt; workShiftDTO) {\n        if (workShiftEntity == null || workShiftEntity.size() == 0) {\n            return;\n        }\n\n        List&lt;GroupDTO&gt; groups = EcofinderUtils.getAllGroupDTOById(restTemplate, workShiftEntity.stream().map(WorkShiftEntity::getGroupId).distinct().toList());\n\n        try {\n            //Compile the resulting DTOs with the data got from the registry\n            //Group\n            GenericUtils.enhanceDTOListWithDataFromDTOJoiningEntities(workShiftDTO, groups, workShiftEntity, &quot;group&quot;, &quot;groupId&quot;);\n        } catch (AppException | InvocationTargetException | NoSuchMethodException | IllegalAccessException e) {\n            getLogger().error(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>The implemented interface which gives me the mapping functions is:</p>\n<pre><code>public interface IBaseMapper&lt;T extends BaseEntity&lt;K&gt;, D extends IBaseDTO&lt;K&gt;, K extends Serializable&gt; {\n    D entityToDto(T entity);\n\n    List&lt;D&gt; entityToDtoList(List&lt;T&gt; entity);\n\n    T dtoToEntity(D dto);\n}\n</code></pre>\n<p>The problem with the generated code is that the function that maps a list of entities to a list of DTOs uses the entityToDto for every entity, resulting in n requests to A. After that , the other @AfterMapping function is called (the one that collects all the ids and pulls all the data in only one request, which is the ONLY one that should be used while mapping a list).</p>\n<pre><code>    //GENERATED CODE BY MAPSTRUCT\n    @Override\n    public WorkShiftDTO entityToDto(WorkShiftEntity workShiftEntity) {\n        if ( workShiftEntity == null ) {\n            return null;\n        }\n\n        WorkShiftDTO workShiftDTO = new WorkShiftDTO();\n\n        workShiftDTO.setId( workShiftEntity.getId() );\n        workShiftDTO.setDescription( workShiftEntity.getDescription() );\n        workShiftDTO.setStartTime( localTimeMapper.map( workShiftEntity.getStartTime() ) );\n        workShiftDTO.setEndTime( localTimeMapper.map( workShiftEntity.getEndTime() ) );\n        workShiftDTO.setWorkShift( workShiftEntity.getWorkShift() );\n\n        afterEntityToDto( workShiftEntity, workShiftDTO );\n\n        return workShiftDTO;\n    }\n    @Override\n    public List&lt;WorkShiftDTO&gt; entityToDtoList(List&lt;WorkShiftEntity&gt; entity) {\n        //more code...\n        List&lt;WorkShiftDTO&gt; list = new ArrayList&lt;WorkShiftDTO&gt;( entity.size() );\n        for ( WorkShiftEntity workShiftEntity : entity ) {\n            list.add( entityToDto( workShiftEntity ) );\n        }\n\n        afterEntityToDtoList( entity, list );\n\n        return list;\n    }\n</code></pre>\n<p>Is there a way to make mapstruct implement the entityToDto function twice where one version uses the @AfterMapping function and the other doesn't in order to make the entityToDtoList function use the version without the @AfterMapping call?</p>\n<p>Something like:</p>\n<pre><code>    @Override\n    public WorkShiftDTO entityToDto(WorkShiftEntity workShiftEntity) {\n        if ( workShiftEntity == null ) {\n            return null;\n        }\n\n        WorkShiftDTO workShiftDTO = new WorkShiftDTO();\n\n        workShiftDTO.setId( workShiftEntity.getId() );\n        workShiftDTO.setDescription( workShiftEntity.getDescription() );\n        workShiftDTO.setStartTime( localTimeMapper.map( workShiftEntity.getStartTime() ) );\n        workShiftDTO.setEndTime( localTimeMapper.map( workShiftEntity.getEndTime() ) );\n        workShiftDTO.setWorkShift( workShiftEntity.getWorkShift() );\n\n        afterEntityToDto( workShiftEntity, workShiftDTO );\n\n        return workShiftDTO;\n    }\n    public WorkShiftDTO entityToDtoNoAfter(WorkShiftEntity workShiftEntity) {\n        if ( workShiftEntity == null ) {\n            return null;\n        }\n\n        WorkShiftDTO workShiftDTO = new WorkShiftDTO();\n\n        workShiftDTO.setId( workShiftEntity.getId() );\n        workShiftDTO.setDescription( workShiftEntity.getDescription() );\n        workShiftDTO.setStartTime( localTimeMapper.map( workShiftEntity.getStartTime() ) );\n        workShiftDTO.setEndTime( localTimeMapper.map( workShiftEntity.getEndTime() ) );\n        workShiftDTO.setWorkShift( workShiftEntity.getWorkShift() );\n\n        return workShiftDTO;\n    }\n    @Override\n    public List&lt;WorkShiftDTO&gt; entityToDtoList(List&lt;WorkShiftEntity&gt; entity) {\n        //more code...\n        List&lt;WorkShiftDTO&gt; list = new ArrayList&lt;WorkShiftDTO&gt;( entity.size() );\n        for ( WorkShiftEntity workShiftEntity : entity ) {\n            list.add( entityToDtoNoAfter( workShiftEntity ) );\n        }\n\n        afterEntityToDtoList( entity, list );\n\n        return list;\n    }\n</code></pre>\n<p>Other approaches are welcome, this one only feels the more natural to me.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","spring-rabbit"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653286061,"post_id":72343421,"comment_id":127804736,"body_markdown":"Your code doesn&#39;t make sense, you are sending a `UserResponse` to the listener (according to what I see), but the listener receives a `UserReplyMessage`. For the sender you should be getting a `UserReplyMessage` and not a `UserResponse`. Your code hence doesn&#39;t make sense. You are also using Spring Boot so why all the manual configuration instead of using the Spring Boot configured instances.","body":"Your code doesn&#39;t make sense, you are sending a <code>UserResponse</code> to the listener (according to what I see), but the listener receives a <code>UserReplyMessage</code>. For the sender you should be getting a <code>UserReplyMessage</code> and not a <code>UserResponse</code>. Your code hence doesn&#39;t make sense. You are also using Spring Boot so why all the manual configuration instead of using the Spring Boot configured instances."},{"owner":{"account_id":12166101,"reputation":101,"user_id":8899648,"display_name":"Mitya"},"score":0,"creation_date":1653287242,"post_id":72343421,"comment_id":127805044,"body_markdown":"@M.Deinum I can&#39;t use UserReplyMessage in the Sender because it&#39;s in another application (module). That is the problem of appearing the error.","body":"@M.Deinum I can&#39;t use UserReplyMessage in the Sender because it&#39;s in another application (module). That is the problem of appearing the error."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653288206,"post_id":72343421,"comment_id":127805301,"body_markdown":"Please read... Your code simply doesn&#39;t make sense, you are sending a `UserReplyMessage` and expect a `UserResponse`. If you wnat something else you need to properly configure your `Jackson2JsonMessageConverter` to tell it what to use for a certain type header `__TypeID__` and you need to specify (on your client) what you want to use as a mapping. By default the value will be used as is to instantiate a class. The same actually applies to the server side unless that has the different class.","body":"Please read... Your code simply doesn&#39;t make sense, you are sending a <code>UserReplyMessage</code> and expect a <code>UserResponse</code>. If you wnat something else you need to properly configure your <code>Jackson2JsonMessageConverter</code> to tell it what to use for a certain type header <code>__TypeID__</code> and you need to specify (on your client) what you want to use as a mapping. By default the value will be used as is to instantiate a class. The same actually applies to the server side unless that has the different class."},{"owner":{"account_id":12166101,"reputation":101,"user_id":8899648,"display_name":"Mitya"},"score":0,"creation_date":1653302057,"post_id":72343421,"comment_id":127810021,"body_markdown":"Described solution there: https://ru.stackoverflow.com/questions/1412644/spring-boot-rabbitmq-how-to-convert-received-object-using-convertsendandrecei/1412904#1412904","body":"Described solution there: <a href=\"https://ru.stackoverflow.com/questions/1412644/spring-boot-rabbitmq-how-to-convert-received-object-using-convertsendandrecei/1412904#1412904\" title=\"spring boot rabbitmq how to convert received object using convertsendandrecei\">ru.stackoverflow.com/questions/1412644/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25164947,"reputation":71,"user_id":19008623,"display_name":"mbehram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653286379,"creation_date":1653286379,"answer_id":72343971,"question_id":72343421,"body_markdown":"inside your `replyContainer` I couldn&#39;t see your `messageConverter` bean. In default it uses java objects to send and receive messages without converting them into human readable json. \r\n\r\n```java\r\n@Bean\r\n public SimpleRabbitListenerContainerFactory customListenerContainerFactory(ConnectionFactory connectionFactory,\r\n                                                                               MessageConverter jsonMessageConverter) {\r\n   SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n   factory.setConnectionFactory(connectionFactory);\r\n   factory.setMessageConverter(jsonMessageConverter);\r\n   return factory;\r\n}\r\n```\r\n\r\nfor your consumer;\r\n```java\r\n@RabbitListener(queues = RabbitConstants.YOUR_QUEUE_NAME, containerFactory = &quot;customListenerContainerFactory&quot;)\r\npublic void onMessage(@Valid YourEvent YourEvent){\r\n //your code\r\n}\r\n```","title":"Spring Boot + RabbitMQ: how to convert received object using convertSendAndReceive() method?","body":"<p>inside your <code>replyContainer</code> I couldn't see your <code>messageConverter</code> bean. In default it uses java objects to send and receive messages without converting them into human readable json.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n public SimpleRabbitListenerContainerFactory customListenerContainerFactory(ConnectionFactory connectionFactory,\n                                                                               MessageConverter jsonMessageConverter) {\n   SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n   factory.setConnectionFactory(connectionFactory);\n   factory.setMessageConverter(jsonMessageConverter);\n   return factory;\n}\n</code></pre>\n<p>for your consumer;</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RabbitListener(queues = RabbitConstants.YOUR_QUEUE_NAME, containerFactory = &quot;customListenerContainerFactory&quot;)\npublic void onMessage(@Valid YourEvent YourEvent){\n //your code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1844841,"reputation":82,"user_id":1673422,"display_name":"Emad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653286530,"creation_date":1653286530,"answer_id":72343996,"question_id":72343421,"body_markdown":"by default, the producer set the `_TypeID_` header as the class name used for the serialization of the object \r\n\r\nthen consumer uses `_TypeID_` header to know the class that should use to convert the JSON to java instance\r\n\r\nyou use two different classes to serialize and deserialize the object and you have to configure the converter","title":"Spring Boot + RabbitMQ: how to convert received object using convertSendAndReceive() method?","body":"<p>by default, the producer set the <code>_TypeID_</code> header as the class name used for the serialization of the object</p>\n<p>then consumer uses <code>_TypeID_</code> header to know the class that should use to convert the JSON to java instance</p>\n<p>you use two different classes to serialize and deserialize the object and you have to configure the converter</p>\n"},{"tags":[],"owner":{"account_id":19089953,"reputation":1,"user_id":13940419,"display_name":"Arzu S&#252;leymanova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653295045,"creation_date":1653295045,"answer_id":72345548,"question_id":72343421,"body_markdown":"Inside the Listener class, you need to add this line to bind your message converter\r\n\r\n        @Bean\r\n    public SimpleRabbitListenerContainerFactory jsaFactory(ConnectionFactory connectionFactory,\r\n    \t\t\t\t\t\t\t  SimpleRabbitListenerContainerFactoryConfigurer configurer) {\r\n    \t\tSimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n    \t\tconfigurer.configure(factory, connectionFactory);\r\n    \t\tfactory.setMessageConverter(jsonMessageConverter());\r\n    \t\treturn factory;\r\n    }\r\n\r\nAlso, in the TestListener class, you should replace this line\r\n\r\n    @RabbitListener(queues = RabbitMQConfig.RECEIVE_QUEUE) \r\nwith this one\r\n\r\n    @RabbitListener(queues = RabbitMQConfig.RECEIVE_QUEUE,containerFactory=&quot;jsaFactory&quot;)","title":"Spring Boot + RabbitMQ: how to convert received object using convertSendAndReceive() method?","body":"<p>Inside the Listener class, you need to add this line to bind your message converter</p>\n<pre><code>    @Bean\npublic SimpleRabbitListenerContainerFactory jsaFactory(ConnectionFactory connectionFactory,\n                              SimpleRabbitListenerContainerFactoryConfigurer configurer) {\n        SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n        configurer.configure(factory, connectionFactory);\n        factory.setMessageConverter(jsonMessageConverter());\n        return factory;\n}\n</code></pre>\n<p>Also, in the TestListener class, you should replace this line</p>\n<pre><code>@RabbitListener(queues = RabbitMQConfig.RECEIVE_QUEUE) \n</code></pre>\n<p>with this one</p>\n<pre><code>@RabbitListener(queues = RabbitMQConfig.RECEIVE_QUEUE,containerFactory=&quot;jsaFactory&quot;)\n</code></pre>\n"}],"owner":{"account_id":12166101,"reputation":101,"user_id":8899648,"display_name":"Mitya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1653295045,"creation_date":1653281880,"question_id":72343421,"body_markdown":"How can I deserialize a message using convertSendAndReceive() method? It gives me `NullPointerException` due to not being able to find the required class for deserialization in another package. Packages are marked in the code.\r\n\r\n**Listener receives and sends messages normally**\r\n\r\n    package org.dneversky.user;\r\n\r\n    @EnableRabbit\r\n    @Component\r\n    public class TestListener {\r\n\r\n      private static final Logger logger = LoggerFactory.getLogger(TestListener.class);\r\n\r\n      @Autowired\r\n      private RabbitTemplate rabbitTemplate;\r\n\r\n      @RabbitListener(queues = RabbitMQConfig.RECEIVE_QUEUE)\r\n      public void doGet(UserReplyMessage message) {\r\n        logger.info(&quot;Received message: {}&quot;, message);\r\n        UserReplyMessage response = new UserReplyMessage();\r\n        logger.info(&quot;Sending message: {}&quot;, response);\r\n        rabbitTemplate.convertSendAndReceive(RabbitMQConfig.RPC_EXCHANGE, \r\n    RabbitMQConfig.REPLY_QUEUE, response);\r\n      }\r\n    }\r\n\r\n**Configuration of the listener**\r\n\r\n    package org.dneversky.user.config;\r\n\r\n    @Configuration\r\n    public class RabbitMQConfig {\r\n\r\n      public static final String RECEIVE_QUEUE = &quot;rpc_queue&quot;;\r\n      public static final String REPLY_QUEUE = &quot;reply_queue&quot;;\r\n      public static final String RPC_EXCHANGE = &quot;rpc_exchange&quot;;\r\n\r\n      @Bean\r\n      public TopicExchange rpcExchange() {\r\n        return new TopicExchange(RPC_EXCHANGE);\r\n      }\r\n\r\n      @Bean\r\n      public Queue receiveQueue() {\r\n        return new Queue(RECEIVE_QUEUE);\r\n      }\r\n\r\n      @Bean\r\n      public Queue replyQueue() {\r\n        return new Queue(REPLY_QUEUE);\r\n      }\r\n\r\n      @Bean\r\n      public Binding receiveBinding() {\r\n        return BindingBuilder.bind(receiveQueue()).to(rpcExchange()).with(RECEIVE_QUEUE);\r\n      }\r\n\r\n      @Bean\r\n      public MessageConverter jsonMessageConverter() {\r\n        return new Jackson2JsonMessageConverter();\r\n      }\r\n    }\r\n\r\n**Sender sends a message normally, but it can&#39;t to deserialize returning message**\r\n\r\n    package org.dneversky.gateway.servie.impl;\r\n\r\n    @Service\r\n    public class UserServiceImpl {\r\n\r\n      private static final Logger logger = LoggerFactory.getLogger(UserServiceImpl.class);\r\n\r\n      @Autowired\r\n      private RabbitTemplate rabbitTemplate;\r\n\r\n      public UserPrincipal getUserByUsername(String username) {\r\n        UserResponse message = new UserResponse(username);\r\n        logger.info(&quot;Sending created message: {}&quot;, message);\r\n        UserResponse result = (UserResponse)     rabbitTemplate.convertSendAndReceive(RabbitMQConfig.RPC_EXCHANGE, RabbitMQConfig.RPC_QUEUE, message);\r\n        logger.info(&quot;Getting response: {}&quot;, result);\r\n\r\n        return null;\r\n      }\r\n    }\r\n\r\n**Configuration of the Sender**\r\n\r\n    package org.dneversky.gateway.config;\r\n\r\n    @Configuration\r\n    public class RabbitMQConfig {\r\n\r\n      public static final String RPC_QUEUE = &quot;rpc_queue&quot;;\r\n      public static final String REPLY_QUEUE = &quot;reply_queue&quot;;\r\n      public static final String RPC_EXCHANGE = &quot;rpc_exchange&quot;;\r\n\r\n      @Bean\r\n      public Queue rpcQueue() {\r\n        return new Queue(RPC_QUEUE);\r\n      }\r\n\r\n      @Bean\r\n      public Queue replyQueue() {\r\n        return new Queue(REPLY_QUEUE);\r\n      }\r\n\r\n      @Bean\r\n      public TopicExchange rpcExchange() {\r\n        return new TopicExchange(RPC_EXCHANGE);\r\n      }\r\n\r\n      @Bean\r\n      public Binding binding() {\r\n        return BindingBuilder.bind(replyQueue()).to(rpcExchange()).with(REPLY_QUEUE);\r\n      }\r\n\r\n      @Bean\r\n      public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\r\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n        rabbitTemplate.setExchange(RPC_EXCHANGE);\r\n        rabbitTemplate.setReplyAddress(REPLY_QUEUE);\r\n        rabbitTemplate.setReplyTimeout(6000);\r\n        rabbitTemplate.setMessageConverter(messageConverter());\r\n\r\n        return rabbitTemplate;\r\n      }\r\n\r\n      @Bean\r\n      public MessageConverter messageConverter() {\r\n        return new Jackson2JsonMessageConverter();\r\n      }\r\n\r\n      @Bean\r\n      public SimpleMessageListenerContainer replyContainer(ConnectionFactory connectionFactory) {\r\n        SimpleMessageListenerContainer container = new SimpleMessageListenerContainer();\r\n        container.setConnectionFactory(connectionFactory);\r\n        container.setQueueNames(REPLY_QUEUE);\r\n        container.setMessageListener(rabbitTemplate(connectionFactory));\r\n        return container;\r\n      }\r\n    }\r\n\r\n**Error log**\r\n\r\n&gt; 2022-05-22 17:12:31.344 ERROR 16920 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet] : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.amqp.support.converter.MessageConversionException: failed to resolve class name. Class not found [org.dneversky.user.model.UserReplyMessage]] with root cause\r\n\r\n    java.lang.ClassNotFoundException: org.dneversky.user.model.UserReplyMessage","title":"Spring Boot + RabbitMQ: how to convert received object using convertSendAndReceive() method?","body":"<p>How can I deserialize a message using convertSendAndReceive() method? It gives me <code>NullPointerException</code> due to not being able to find the required class for deserialization in another package. Packages are marked in the code.</p>\n<p><strong>Listener receives and sends messages normally</strong></p>\n<pre><code>package org.dneversky.user;\n\n@EnableRabbit\n@Component\npublic class TestListener {\n\n  private static final Logger logger = LoggerFactory.getLogger(TestListener.class);\n\n  @Autowired\n  private RabbitTemplate rabbitTemplate;\n\n  @RabbitListener(queues = RabbitMQConfig.RECEIVE_QUEUE)\n  public void doGet(UserReplyMessage message) {\n    logger.info(&quot;Received message: {}&quot;, message);\n    UserReplyMessage response = new UserReplyMessage();\n    logger.info(&quot;Sending message: {}&quot;, response);\n    rabbitTemplate.convertSendAndReceive(RabbitMQConfig.RPC_EXCHANGE, \nRabbitMQConfig.REPLY_QUEUE, response);\n  }\n}\n</code></pre>\n<p><strong>Configuration of the listener</strong></p>\n<pre><code>package org.dneversky.user.config;\n\n@Configuration\npublic class RabbitMQConfig {\n\n  public static final String RECEIVE_QUEUE = &quot;rpc_queue&quot;;\n  public static final String REPLY_QUEUE = &quot;reply_queue&quot;;\n  public static final String RPC_EXCHANGE = &quot;rpc_exchange&quot;;\n\n  @Bean\n  public TopicExchange rpcExchange() {\n    return new TopicExchange(RPC_EXCHANGE);\n  }\n\n  @Bean\n  public Queue receiveQueue() {\n    return new Queue(RECEIVE_QUEUE);\n  }\n\n  @Bean\n  public Queue replyQueue() {\n    return new Queue(REPLY_QUEUE);\n  }\n\n  @Bean\n  public Binding receiveBinding() {\n    return BindingBuilder.bind(receiveQueue()).to(rpcExchange()).with(RECEIVE_QUEUE);\n  }\n\n  @Bean\n  public MessageConverter jsonMessageConverter() {\n    return new Jackson2JsonMessageConverter();\n  }\n}\n</code></pre>\n<p><strong>Sender sends a message normally, but it can't to deserialize returning message</strong></p>\n<pre><code>package org.dneversky.gateway.servie.impl;\n\n@Service\npublic class UserServiceImpl {\n\n  private static final Logger logger = LoggerFactory.getLogger(UserServiceImpl.class);\n\n  @Autowired\n  private RabbitTemplate rabbitTemplate;\n\n  public UserPrincipal getUserByUsername(String username) {\n    UserResponse message = new UserResponse(username);\n    logger.info(&quot;Sending created message: {}&quot;, message);\n    UserResponse result = (UserResponse)     rabbitTemplate.convertSendAndReceive(RabbitMQConfig.RPC_EXCHANGE, RabbitMQConfig.RPC_QUEUE, message);\n    logger.info(&quot;Getting response: {}&quot;, result);\n\n    return null;\n  }\n}\n</code></pre>\n<p><strong>Configuration of the Sender</strong></p>\n<pre><code>package org.dneversky.gateway.config;\n\n@Configuration\npublic class RabbitMQConfig {\n\n  public static final String RPC_QUEUE = &quot;rpc_queue&quot;;\n  public static final String REPLY_QUEUE = &quot;reply_queue&quot;;\n  public static final String RPC_EXCHANGE = &quot;rpc_exchange&quot;;\n\n  @Bean\n  public Queue rpcQueue() {\n    return new Queue(RPC_QUEUE);\n  }\n\n  @Bean\n  public Queue replyQueue() {\n    return new Queue(REPLY_QUEUE);\n  }\n\n  @Bean\n  public TopicExchange rpcExchange() {\n    return new TopicExchange(RPC_EXCHANGE);\n  }\n\n  @Bean\n  public Binding binding() {\n    return BindingBuilder.bind(replyQueue()).to(rpcExchange()).with(REPLY_QUEUE);\n  }\n\n  @Bean\n  public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\n    RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\n    rabbitTemplate.setExchange(RPC_EXCHANGE);\n    rabbitTemplate.setReplyAddress(REPLY_QUEUE);\n    rabbitTemplate.setReplyTimeout(6000);\n    rabbitTemplate.setMessageConverter(messageConverter());\n\n    return rabbitTemplate;\n  }\n\n  @Bean\n  public MessageConverter messageConverter() {\n    return new Jackson2JsonMessageConverter();\n  }\n\n  @Bean\n  public SimpleMessageListenerContainer replyContainer(ConnectionFactory connectionFactory) {\n    SimpleMessageListenerContainer container = new SimpleMessageListenerContainer();\n    container.setConnectionFactory(connectionFactory);\n    container.setQueueNames(REPLY_QUEUE);\n    container.setMessageListener(rabbitTemplate(connectionFactory));\n    return container;\n  }\n}\n</code></pre>\n<p><strong>Error log</strong></p>\n<blockquote>\n<p>2022-05-22 17:12:31.344 ERROR 16920 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet] : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.amqp.support.converter.MessageConversionException: failed to resolve class name. Class not found [org.dneversky.user.model.UserReplyMessage]] with root cause</p>\n</blockquote>\n<pre><code>java.lang.ClassNotFoundException: org.dneversky.user.model.UserReplyMessage\n</code></pre>\n"},{"tags":["java","graphql","marshalling"],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653294827,"creation_date":1653049701,"answer_id":72318950,"question_id":72306037,"body_markdown":"I finally found the solution:\r\n\r\n```java\r\nLinkedHashMap&lt;String, Object&gt; dataMap      = executionResult.getData();\r\nString                        dataKey      = dataMap.keySet().toArray()[0].toString();\r\nHashMap&lt;String, Object&gt;       dataValue    = (HashMap&lt;String, Object&gt;)dataMap.get(dataKey);\r\n\r\nfixTypeId(\r\n    dataContext.getClass(),\r\n    dataValue\r\n);\r\n\r\nObjectMapper             objectMapper = new ObjectMapper();\r\n\r\nobjectMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);            objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\nobjectMapper.registerModule(new JavaTimeModule());\r\nobjectMapper.registerModule(new JaxbAnnotationModule());\r\nobjectMapper.setDateFormat(new StdDateFormat().withColonInTimeZone(true));           objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n\r\nString dataJSON = objectMapper.writeValueAsString(dataValue);\r\n\r\nResponseDTO responseDTO = objectMapper.readValue(\r\n    dataJSON,\r\n    ResponseDTO.class\r\n);\r\n```\r\n\r\nWhere `fixTypeId` is:\r\n\r\n```java\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nprivate void fixTypeId(Class&lt;?&gt; refClass, Map&lt;String, Object&gt; dataMap) {\r\n    JsonTypeInfo typeInfoAnnotation = refClass.getDeclaredAnnotation(JsonTypeInfo.class);\r\n    JsonTypeName typeNameAnnotation = refClass.getDeclaredAnnotation(JsonTypeName.class);\r\n\r\n    if ((null != typeInfoAnnotation) &amp;&amp; (null != typeNameAnnotation)) {\r\n        String typeInfo = typeInfoAnnotation.property();\r\n        String typeName = typeNameAnnotation.value();\r\n\r\n        log.trace(\r\n            &quot;Adding \\&quot;{} = {}\\&quot; type identifier.&quot;,\r\n            typeInfo,\r\n            typeName\r\n        );\r\n\r\n        dataMap.put(typeInfo, typeName);\r\n    }\r\n\r\n    dataMap\r\n        .entrySet()\r\n        .stream()\r\n        .filter(entry -&gt; (entry.getValue() instanceof Map))\r\n        .forEach(entry -&gt; {\r\n            Field field = null;\r\n\r\n            try {\r\n                field = refClass.getDeclaredField(entry.getKey());\r\n            } catch (NoSuchFieldException exception) {\r\n                log.error(exception.getMessage(), exception);\r\n                throw new RuntimeException(exception);\r\n            }\r\n\r\n            fixTypeId(\r\n                field.getType(),\r\n                (Map&lt;String, Object&gt;)entry.getValue()\r\n            );\r\n        });\r\n}\r\n```","title":"Marshal GraphQL execution results to java object","body":"<p>I finally found the solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedHashMap&lt;String, Object&gt; dataMap      = executionResult.getData();\nString                        dataKey      = dataMap.keySet().toArray()[0].toString();\nHashMap&lt;String, Object&gt;       dataValue    = (HashMap&lt;String, Object&gt;)dataMap.get(dataKey);\n\nfixTypeId(\n    dataContext.getClass(),\n    dataValue\n);\n\nObjectMapper             objectMapper = new ObjectMapper();\n\nobjectMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);            objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\nobjectMapper.registerModule(new JavaTimeModule());\nobjectMapper.registerModule(new JaxbAnnotationModule());\nobjectMapper.setDateFormat(new StdDateFormat().withColonInTimeZone(true));           objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n\nString dataJSON = objectMapper.writeValueAsString(dataValue);\n\nResponseDTO responseDTO = objectMapper.readValue(\n    dataJSON,\n    ResponseDTO.class\n);\n</code></pre>\n<p>Where <code>fixTypeId</code> is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressWarnings(&quot;unchecked&quot;)\nprivate void fixTypeId(Class&lt;?&gt; refClass, Map&lt;String, Object&gt; dataMap) {\n    JsonTypeInfo typeInfoAnnotation = refClass.getDeclaredAnnotation(JsonTypeInfo.class);\n    JsonTypeName typeNameAnnotation = refClass.getDeclaredAnnotation(JsonTypeName.class);\n\n    if ((null != typeInfoAnnotation) &amp;&amp; (null != typeNameAnnotation)) {\n        String typeInfo = typeInfoAnnotation.property();\n        String typeName = typeNameAnnotation.value();\n\n        log.trace(\n            &quot;Adding \\&quot;{} = {}\\&quot; type identifier.&quot;,\n            typeInfo,\n            typeName\n        );\n\n        dataMap.put(typeInfo, typeName);\n    }\n\n    dataMap\n        .entrySet()\n        .stream()\n        .filter(entry -&gt; (entry.getValue() instanceof Map))\n        .forEach(entry -&gt; {\n            Field field = null;\n\n            try {\n                field = refClass.getDeclaredField(entry.getKey());\n            } catch (NoSuchFieldException exception) {\n                log.error(exception.getMessage(), exception);\n                throw new RuntimeException(exception);\n            }\n\n            fixTypeId(\n                field.getType(),\n                (Map&lt;String, Object&gt;)entry.getValue()\n            );\n        });\n}\n</code></pre>\n"}],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72318950,"answer_count":1,"score":0,"last_activity_date":1653294827,"creation_date":1652969143,"question_id":72306037,"body_markdown":"I searched a lot into SO, but unfortunately any of the proposed solutions fits to me.\r\n\r\nI am going to describe the key points:\r\n\r\n 1. My REST project is built upon OpenAPI and the **OpenAPI maven generator plugin**.\r\n 2. By the `jaxrs-spec` generator I produce the application DTOs.\r\n 3. By the `graphql-nodejs-express-server` generator I produce the GraphQL schema files.\r\n 4. The REST web service accepts, as optional, a GraphQL query in order to filter/reduce the verbosity of the answer.\r\n\r\nThe GraphQL `ExecutionResult.getData()` method returns an instance of a `LinkedHashMap`.\r\n\r\nThe question is: **How can I marshall the above `LinkedHashMap` to the corresponding `DTO`?**\r\n\r\nThank you so much in advance!\r\n\r\n**----\r\nEdit\r\n----**\r\n\r\nI wish to improve and simplify my question.\r\n\r\nI have a DTO such the following one:\r\n\r\n```java\r\npublic class ResponseDTO {\r\n    private Integer id;\r\n    private String description;\r\n}\r\n```\r\n\r\nI filter it by GraphQL:\r\n\r\n```java\r\nGraphQLSchema graphQLSchema = getGraphQLSchema();\r\nString        graphqlQuery  = &quot;{ ResponseDTO { id } }&quot;;\r\n\r\nExecutionInput builder = ExecutionInput\r\n    .newExecutionInput()\r\n    .query(graphqlQuery)\r\n    .build();\r\n\r\nExecutionResult executionResult = GraphQL\r\n    .newGraphQL(graphQLSchema)\r\n    .build()\r\n    .execute(builder);\r\n    \r\nLinkedHashMap graphQLData = executionResult.getData();\r\n\r\n//TODO How can I convert &#39;graphQLData&#39; to a `ResponseDTO` instance?\r\n\r\nResponseDTO responseDTO = ???;\r\n```","title":"Marshal GraphQL execution results to java object","body":"<p>I searched a lot into SO, but unfortunately any of the proposed solutions fits to me.</p>\n<p>I am going to describe the key points:</p>\n<ol>\n<li>My REST project is built upon OpenAPI and the <strong>OpenAPI maven generator plugin</strong>.</li>\n<li>By the <code>jaxrs-spec</code> generator I produce the application DTOs.</li>\n<li>By the <code>graphql-nodejs-express-server</code> generator I produce the GraphQL schema files.</li>\n<li>The REST web service accepts, as optional, a GraphQL query in order to filter/reduce the verbosity of the answer.</li>\n</ol>\n<p>The GraphQL <code>ExecutionResult.getData()</code> method returns an instance of a <code>LinkedHashMap</code>.</p>\n<p>The question is: <strong>How can I marshall the above <code>LinkedHashMap</code> to the corresponding <code>DTO</code>?</strong></p>\n<p>Thank you so much in advance!</p>\n<p><strong>----\nEdit\n----</strong></p>\n<p>I wish to improve and simplify my question.</p>\n<p>I have a DTO such the following one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ResponseDTO {\n    private Integer id;\n    private String description;\n}\n</code></pre>\n<p>I filter it by GraphQL:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GraphQLSchema graphQLSchema = getGraphQLSchema();\nString        graphqlQuery  = &quot;{ ResponseDTO { id } }&quot;;\n\nExecutionInput builder = ExecutionInput\n    .newExecutionInput()\n    .query(graphqlQuery)\n    .build();\n\nExecutionResult executionResult = GraphQL\n    .newGraphQL(graphQLSchema)\n    .build()\n    .execute(builder);\n    \nLinkedHashMap graphQLData = executionResult.getData();\n\n//TODO How can I convert 'graphQLData' to a `ResponseDTO` instance?\n\nResponseDTO responseDTO = ???;\n</code></pre>\n"},{"tags":["java","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653294333,"creation_date":1653294333,"answer_id":72345404,"question_id":72345034,"body_markdown":"Assume this is not supported by Karate. You are welcome to file an issue and make a case for and submit a PR (contribute code).\r\n\r\nFor a similar discussion, refer this thread: https://github.com/karatelabs/karate/issues/1980","title":"How can I get the karate json report in the specific format shown as below","body":"<p>Assume this is not supported by Karate. You are welcome to file an issue and make a case for and submit a PR (contribute code).</p>\n<p>For a similar discussion, refer this thread: <a href=\"https://github.com/karatelabs/karate/issues/1980\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate/issues/1980</a></p>\n"}],"owner":{"account_id":25362476,"reputation":11,"user_id":19177494,"display_name":"Hemanth B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1653378550,"answer_count":1,"score":1,"last_activity_date":1653294333,"creation_date":1653292534,"question_id":72345034,"body_markdown":"I am trying to get the Karate json report for the sample feature file in the specific format mentioned below.\r\n\r\n    [\r\n      {\r\n        &quot;line&quot;: 3,\r\n        &quot;elements&quot;: [\r\n          {\r\n            &quot;start_timestamp&quot;: &quot;2022-04-05T17:17:20.811Z&quot;,\r\n            &quot;before&quot;: [\r\n              {\r\n                &quot;result&quot;: {\r\n                  &quot;duration&quot;: 19702884258,\r\n                  &quot;status&quot;: &quot;passed&quot;\r\n                },\r\n                &quot;match&quot;: {\r\n                  &quot;location&quot;: &quot;Hooks.before(Scenario)&quot;\r\n                }\r\n              }\r\n            ],\r\n            &quot;line&quot;: 7,\r\n            &quot;name&quot;: &quot;Guided Member Welcome Login - SCAL_ACTIVE_NEW_SMOKE_EN&quot;,\r\n            &quot;description&quot;: &quot;&quot;,\r\n            &quot;id&quot;: &quot;smoke-feature;guided-member-welcome-login---scal-active-new-smoke-en&quot;,\r\n            &quot;after&quot;: [\r\n              {\r\n                &quot;result&quot;: {\r\n                  &quot;duration&quot;: 1245339916,\r\n                  &quot;status&quot;: &quot;passed&quot;\r\n                },\r\n                &quot;match&quot;: {\r\n                  &quot;location&quot;: &quot;Hooks.after(Scenario)&quot;\r\n                }\r\n              }\r\n            ],\r\n            &quot;type&quot;: &quot;scenario&quot;,\r\n            &quot;keyword&quot;: &quot;Scenario&quot;,\r\n            &quot;steps&quot;: [\r\n              {\r\n                &quot;result&quot;: {\r\n                  &quot;duration&quot;: 150247948961,\r\n                  &quot;status&quot;: &quot;passed&quot;\r\n                },\r\n                &quot;line&quot;: 8,\r\n                &quot;name&quot;: &quot;Iamloggedintokp.orgas\\&quot;SCAL_ACTIVE_NEW_SMOKE\\&quot;\\&quot;English\\&quot;&quot;,\r\n                &quot;match&quot;: {\r\n                  &quot;arguments&quot;: [\r\n                    {\r\n                      &quot;val&quot;: &quot;\\&quot;SCAL_ACTIVE_NEW_SMOKE\\&quot;&quot;,\r\n                      &quot;offset&quot;: 28\r\n                    },\r\n                    {\r\n                      &quot;val&quot;: &quot;\\&quot;English\\&quot;&quot;,\r\n                      &quot;offset&quot;: 51\r\n                    }\r\n                  ],\r\n                  &quot;location&quot;: &quot;GMWHub.iAmLoggedInToKpOrgAs(String,String)&quot;\r\n                },\r\n                &quot;keyword&quot;: &quot;Given &quot;\r\n              },\r\n              {\r\n                &quot;result&quot;: {\r\n                  &quot;duration&quot;: 15987954340,\r\n                  &quot;status&quot;: &quot;passed&quot;\r\n                },\r\n                &quot;line&quot;: 9,\r\n                &quot;name&quot;: &quot;IamnavigatedtoGuidedMemberWelcomehubpage&quot;,\r\n                &quot;match&quot;: {\r\n                  &quot;location&quot;: &quot;GMWHub.iNavigateToGuidedMemberWelcomeHubPage()&quot;\r\n                },\r\n                &quot;keyword&quot;: &quot;When&quot;\r\n              }\r\n            ],\r\n            &quot;tags&quot;: [\r\n              {\r\n                &quot;name&quot;: &quot;@smoke&quot;\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;@regression&quot;\r\n              }\r\n            ]\r\n          }\r\n        ],\r\n        &quot;name&quot;: &quot;Smoke Feature&quot;,\r\n        &quot;description&quot;: &quot;&quot;,\r\n        &quot;id&quot;: &quot;smoke-feature&quot;,\r\n        &quot;keyword&quot;: &quot;Feature&quot;,\r\n        &quot;uri&quot;: &quot;file:target/parallel/features/Smoke_scenario001_run001_IT.feature&quot;,\r\n        &quot;tags&quot;: []\r\n      }\r\n    ]\r\n\r\n\r\n\r\nHowever I am getting the report without the **before** and **after** keys as shown below.\r\n\r\n\r\n\r\n\r\n    [\r\n      {\r\n        &quot;line&quot;: 1,\r\n        &quot;elements&quot;: [\r\n          {\r\n            &quot;start_timestamp&quot;: &quot;2022-05-23T07:27:32.501Z&quot;,\r\n            &quot;line&quot;: 3,\r\n            &quot;name&quot;: &quot;GET Request&quot;,\r\n            &quot;description&quot;: &quot;&quot;,\r\n            &quot;id&quot;: &quot;get-request&quot;,\r\n            &quot;type&quot;: &quot;scenario&quot;,\r\n            &quot;keyword&quot;: &quot;Scenario&quot;,\r\n            &quot;steps&quot;: [\r\n              {\r\n                &quot;name&quot;: &quot;url &#39;https://reqres.in/api/users/2&#39;&quot;,\r\n                &quot;result&quot;: {\r\n                  &quot;duration&quot;: 1949100,\r\n                  &quot;status&quot;: &quot;passed&quot;\r\n                },\r\n                &quot;match&quot;: {\r\n                  &quot;location&quot;: &quot;karate&quot;,\r\n                  &quot;arguments&quot;: []\r\n                },\r\n                &quot;keyword&quot;: &quot;Given&quot;,\r\n                &quot;line&quot;: 4\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;method GET&quot;,\r\n                &quot;result&quot;: {\r\n                  &quot;duration&quot;: 1208456200,\r\n                  &quot;status&quot;: &quot;passed&quot;\r\n                },\r\n                &quot;match&quot;: {\r\n                  &quot;location&quot;: &quot;karate&quot;,\r\n                  &quot;arguments&quot;: []\r\n                },\r\n                &quot;keyword&quot;: &quot;When&quot;,\r\n                &quot;line&quot;: 5\r\n              },\r\n              {\r\n                &quot;name&quot;: &quot;status 200&quot;,\r\n                &quot;result&quot;: {\r\n                  &quot;duration&quot;: 16100,\r\n                  &quot;status&quot;: &quot;passed&quot;\r\n                },\r\n                &quot;match&quot;: {\r\n                  &quot;location&quot;: &quot;karate&quot;,\r\n                  &quot;arguments&quot;: []\r\n                },\r\n                &quot;keyword&quot;: &quot;Then&quot;,\r\n                &quot;line&quot;: 6\r\n              }\r\n            ],\r\n            &quot;tags&quot;: []\r\n          }\r\n        ],\r\n        &quot;name&quot;: &quot;feature/main.feature&quot;,\r\n        &quot;description&quot;: &quot;Testing GET API&quot;,\r\n        &quot;id&quot;: &quot;testing-get-api&quot;,\r\n        &quot;keyword&quot;: &quot;Feature&quot;,\r\n        &quot;uri&quot;: &quot;feature/main.feature&quot;\r\n      }\r\n    ]\r\n\r\nThe TestRunner Class:\r\n\r\n```\r\npublic class TestRunner {\r\n\r\n@Test\r\nvoid testParallel() {\r\n\r\n ArrayList list = new ArrayList();\r\n Results results = Runner.path(&quot;classpath:features/sample.feature&quot;).parallel(5);\r\n Stream&lt;FeatureResult&gt; res = results.getFeatureResults();\r\n \r\n res.forEach(action -&gt; {\r\n\r\n      JSONObject jsonObj = new JSONObject(action.toCucumberJson());\r\n       System.out.println(jsonObj);\r\n    }\r\n  }\r\n} \r\n```\r\n\r\nSample Feature file:\r\n```\r\nFeature: Testing GET API\r\nScenario: GET Request\r\nGiven url &#39;https://reqres.in/api/users/2&#39;\r\nWhen method GET\r\nThen status 200 \r\n```\r\n\r\nIs there a way to get the json report as expected with the before and after keywords?","title":"How can I get the karate json report in the specific format shown as below","body":"<p>I am trying to get the Karate json report for the sample feature file in the specific format mentioned below.</p>\n<pre><code>[\n  {\n    &quot;line&quot;: 3,\n    &quot;elements&quot;: [\n      {\n        &quot;start_timestamp&quot;: &quot;2022-04-05T17:17:20.811Z&quot;,\n        &quot;before&quot;: [\n          {\n            &quot;result&quot;: {\n              &quot;duration&quot;: 19702884258,\n              &quot;status&quot;: &quot;passed&quot;\n            },\n            &quot;match&quot;: {\n              &quot;location&quot;: &quot;Hooks.before(Scenario)&quot;\n            }\n          }\n        ],\n        &quot;line&quot;: 7,\n        &quot;name&quot;: &quot;Guided Member Welcome Login - SCAL_ACTIVE_NEW_SMOKE_EN&quot;,\n        &quot;description&quot;: &quot;&quot;,\n        &quot;id&quot;: &quot;smoke-feature;guided-member-welcome-login---scal-active-new-smoke-en&quot;,\n        &quot;after&quot;: [\n          {\n            &quot;result&quot;: {\n              &quot;duration&quot;: 1245339916,\n              &quot;status&quot;: &quot;passed&quot;\n            },\n            &quot;match&quot;: {\n              &quot;location&quot;: &quot;Hooks.after(Scenario)&quot;\n            }\n          }\n        ],\n        &quot;type&quot;: &quot;scenario&quot;,\n        &quot;keyword&quot;: &quot;Scenario&quot;,\n        &quot;steps&quot;: [\n          {\n            &quot;result&quot;: {\n              &quot;duration&quot;: 150247948961,\n              &quot;status&quot;: &quot;passed&quot;\n            },\n            &quot;line&quot;: 8,\n            &quot;name&quot;: &quot;Iamloggedintokp.orgas\\&quot;SCAL_ACTIVE_NEW_SMOKE\\&quot;\\&quot;English\\&quot;&quot;,\n            &quot;match&quot;: {\n              &quot;arguments&quot;: [\n                {\n                  &quot;val&quot;: &quot;\\&quot;SCAL_ACTIVE_NEW_SMOKE\\&quot;&quot;,\n                  &quot;offset&quot;: 28\n                },\n                {\n                  &quot;val&quot;: &quot;\\&quot;English\\&quot;&quot;,\n                  &quot;offset&quot;: 51\n                }\n              ],\n              &quot;location&quot;: &quot;GMWHub.iAmLoggedInToKpOrgAs(String,String)&quot;\n            },\n            &quot;keyword&quot;: &quot;Given &quot;\n          },\n          {\n            &quot;result&quot;: {\n              &quot;duration&quot;: 15987954340,\n              &quot;status&quot;: &quot;passed&quot;\n            },\n            &quot;line&quot;: 9,\n            &quot;name&quot;: &quot;IamnavigatedtoGuidedMemberWelcomehubpage&quot;,\n            &quot;match&quot;: {\n              &quot;location&quot;: &quot;GMWHub.iNavigateToGuidedMemberWelcomeHubPage()&quot;\n            },\n            &quot;keyword&quot;: &quot;When&quot;\n          }\n        ],\n        &quot;tags&quot;: [\n          {\n            &quot;name&quot;: &quot;@smoke&quot;\n          },\n          {\n            &quot;name&quot;: &quot;@regression&quot;\n          }\n        ]\n      }\n    ],\n    &quot;name&quot;: &quot;Smoke Feature&quot;,\n    &quot;description&quot;: &quot;&quot;,\n    &quot;id&quot;: &quot;smoke-feature&quot;,\n    &quot;keyword&quot;: &quot;Feature&quot;,\n    &quot;uri&quot;: &quot;file:target/parallel/features/Smoke_scenario001_run001_IT.feature&quot;,\n    &quot;tags&quot;: []\n  }\n]\n</code></pre>\n<p>However I am getting the report without the <strong>before</strong> and <strong>after</strong> keys as shown below.</p>\n<pre><code>[\n  {\n    &quot;line&quot;: 1,\n    &quot;elements&quot;: [\n      {\n        &quot;start_timestamp&quot;: &quot;2022-05-23T07:27:32.501Z&quot;,\n        &quot;line&quot;: 3,\n        &quot;name&quot;: &quot;GET Request&quot;,\n        &quot;description&quot;: &quot;&quot;,\n        &quot;id&quot;: &quot;get-request&quot;,\n        &quot;type&quot;: &quot;scenario&quot;,\n        &quot;keyword&quot;: &quot;Scenario&quot;,\n        &quot;steps&quot;: [\n          {\n            &quot;name&quot;: &quot;url 'https://reqres.in/api/users/2'&quot;,\n            &quot;result&quot;: {\n              &quot;duration&quot;: 1949100,\n              &quot;status&quot;: &quot;passed&quot;\n            },\n            &quot;match&quot;: {\n              &quot;location&quot;: &quot;karate&quot;,\n              &quot;arguments&quot;: []\n            },\n            &quot;keyword&quot;: &quot;Given&quot;,\n            &quot;line&quot;: 4\n          },\n          {\n            &quot;name&quot;: &quot;method GET&quot;,\n            &quot;result&quot;: {\n              &quot;duration&quot;: 1208456200,\n              &quot;status&quot;: &quot;passed&quot;\n            },\n            &quot;match&quot;: {\n              &quot;location&quot;: &quot;karate&quot;,\n              &quot;arguments&quot;: []\n            },\n            &quot;keyword&quot;: &quot;When&quot;,\n            &quot;line&quot;: 5\n          },\n          {\n            &quot;name&quot;: &quot;status 200&quot;,\n            &quot;result&quot;: {\n              &quot;duration&quot;: 16100,\n              &quot;status&quot;: &quot;passed&quot;\n            },\n            &quot;match&quot;: {\n              &quot;location&quot;: &quot;karate&quot;,\n              &quot;arguments&quot;: []\n            },\n            &quot;keyword&quot;: &quot;Then&quot;,\n            &quot;line&quot;: 6\n          }\n        ],\n        &quot;tags&quot;: []\n      }\n    ],\n    &quot;name&quot;: &quot;feature/main.feature&quot;,\n    &quot;description&quot;: &quot;Testing GET API&quot;,\n    &quot;id&quot;: &quot;testing-get-api&quot;,\n    &quot;keyword&quot;: &quot;Feature&quot;,\n    &quot;uri&quot;: &quot;feature/main.feature&quot;\n  }\n]\n</code></pre>\n<p>The TestRunner Class:</p>\n<pre><code>public class TestRunner {\n\n@Test\nvoid testParallel() {\n\n ArrayList list = new ArrayList();\n Results results = Runner.path(&quot;classpath:features/sample.feature&quot;).parallel(5);\n Stream&lt;FeatureResult&gt; res = results.getFeatureResults();\n \n res.forEach(action -&gt; {\n\n      JSONObject jsonObj = new JSONObject(action.toCucumberJson());\n       System.out.println(jsonObj);\n    }\n  }\n} \n</code></pre>\n<p>Sample Feature file:</p>\n<pre><code>Feature: Testing GET API\nScenario: GET Request\nGiven url 'https://reqres.in/api/users/2'\nWhen method GET\nThen status 200 \n</code></pre>\n<p>Is there a way to get the json report as expected with the before and after keywords?</p>\n"},{"tags":["java","interpreter"],"answers":[{"tags":[],"owner":{"account_id":166126,"reputation":6262,"user_id":390054,"accept_rate":43,"display_name":"Jake Dempsey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1306295802,"creation_date":1306295802,"answer_id":6119365,"question_id":6119348,"body_markdown":"In the past I used beanshell.  It was really light and got the job done. http://www.beanshell.org/","title":"Interactive interpreter for Java","body":"<p>In the past I used beanshell.  It was really light and got the job done. <a href=\"http://www.beanshell.org/\" rel=\"nofollow\">http://www.beanshell.org/</a></p>\n"},{"tags":[],"owner":{"account_id":225277,"reputation":8866,"user_id":485676,"accept_rate":88,"display_name":"Nemoden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306295856,"creation_date":1306295856,"answer_id":6119371,"question_id":6119348,"body_markdown":"You can use [Dr. Java](http://www.drjava.org/). It has an `interactions` window that acts like an interpreter. I don&#39;t know how they developed it though, so, you better use it cautiously. E.g. if you have a class with a `private` method, `Dr. Java`&#39;s `interactions` will let you use this method by instance.","title":"Interactive interpreter for Java","body":"<p>You can use <a href=\"http://www.drjava.org/\" rel=\"nofollow\">Dr. Java</a>. It has an <code>interactions</code> window that acts like an interpreter. I don't know how they developed it though, so, you better use it cautiously. E.g. if you have a class with a <code>private</code> method, <code>Dr. Java</code>'s <code>interactions</code> will let you use this method by instance.</p>\n"},{"tags":[],"owner":{"account_id":243192,"reputation":6619,"user_id":515205,"accept_rate":83,"display_name":"spaaarky21"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306297895,"creation_date":1306297591,"answer_id":6119541,"question_id":6119348,"body_markdown":"I used BlueJ a bit in college.  It was started as a teaching tool, it&#39;s perfect for tinkering with code and the project is (was?) supported by Sun so I guess that&#39;s a feather in its cap too.  It&#39;s been a while since I&#39;ve used it but the nice thing I remember about it is that you can tinker with the code you write without writing a main() class.  You can write a class, create an instance, call methods (it will prompt you for parameters) and so on.  There&#39;s also a visual aspect to it as well, somewhat comparable to the inspector in Eclipse.\r\n\r\nhttp://www.bluej.org/about/what.html","title":"Interactive interpreter for Java","body":"<p>I used BlueJ a bit in college.  It was started as a teaching tool, it's perfect for tinkering with code and the project is (was?) supported by Sun so I guess that's a feather in its cap too.  It's been a while since I've used it but the nice thing I remember about it is that you can tinker with the code you write without writing a main() class.  You can write a class, create an instance, call methods (it will prompt you for parameters) and so on.  There's also a visual aspect to it as well, somewhat comparable to the inspector in Eclipse.</p>\n\n<p><a href=\"http://www.bluej.org/about/what.html\" rel=\"nofollow\">http://www.bluej.org/about/what.html</a></p>\n"},{"tags":[],"owner":{"account_id":1861522,"reputation":451,"user_id":1686040,"accept_rate":60,"display_name":"Robert F"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380198962,"creation_date":1380198962,"answer_id":19028480,"question_id":6119348,"body_markdown":"Since Scala runs on a JVM, why not the Scala interpreter? \r\nThat&#39;s what I do when I need to test a few Java-snippets.\r\n\r\nIt&#39;s nice to have tab completion that works.\r\n\r\n    scala&gt; System.getPropert\r\n    getProperties   getProperty\r\n    scala&gt; System.getProperty(&quot;user.home&quot;)\r\n    res0: String = c:\\Users\\robert\r\n\r\nOk, you have to know a bit about Scala syntax when you do stuff like:\r\n\r\n    \r\n    scala&gt; val testMap = new java.util.HashMap[String, java.util.List[String]]\r\n    testMap: java.util.HashMap[String,java.util.List[String]] = {}\r\n    \r\n    scala&gt; testMap.put(&quot;planets&quot;, java.util.Arrays.asList(&quot;Mars&quot;, &quot;Jupiter&quot;, &quot;Pluto&quot;\r\n    ))\r\n    res0: java.util.List[String] = null\r\n    \r\n    scala&gt; testMap.get(&quot;planets&quot;)\r\n    res1: java.util.List[String] = [Mars, Jupiter, Pluto]","title":"Interactive interpreter for Java","body":"<p>Since Scala runs on a JVM, why not the Scala interpreter? \nThat's what I do when I need to test a few Java-snippets.</p>\n\n<p>It's nice to have tab completion that works.</p>\n\n<pre><code>scala&gt; System.getPropert\ngetProperties   getProperty\nscala&gt; System.getProperty(\"user.home\")\nres0: String = c:\\Users\\robert\n</code></pre>\n\n<p>Ok, you have to know a bit about Scala syntax when you do stuff like:</p>\n\n<pre><code>scala&gt; val testMap = new java.util.HashMap[String, java.util.List[String]]\ntestMap: java.util.HashMap[String,java.util.List[String]] = {}\n\nscala&gt; testMap.put(\"planets\", java.util.Arrays.asList(\"Mars\", \"Jupiter\", \"Pluto\"\n))\nres0: java.util.List[String] = null\n\nscala&gt; testMap.get(\"planets\")\nres1: java.util.List[String] = [Mars, Jupiter, Pluto]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5352573,"reputation":673,"user_id":4266296,"display_name":"fap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653294311,"creation_date":1653294311,"answer_id":72345399,"question_id":6119348,"body_markdown":"Since Java 9 the JDK comes with it&#39;s own REPL, the [jshell][1].\r\nIf the `java/bin` directory is on the `PATH` you should be able to start it from the command line.\r\n\r\n    $ jshell\r\n    |  Welcome to JShell -- Version 11.0.14\r\n    |  For an introduction type: /help intro\r\n    \r\n    jshell&gt; /imports\r\n    |    import java.io.*\r\n    |    import java.math.*\r\n    |    import java.net.*\r\n    |    import java.nio.file.*\r\n    |    import java.util.*\r\n    |    import java.util.concurrent.*\r\n    |    import java.util.function.*\r\n    |    import java.util.prefs.*\r\n    |    import java.util.regex.*\r\n    |    import java.util.stream.*\r\n    \r\n    jshell&gt; 1 + 1\r\n    $1 ==&gt; 2\r\n    \r\n    jshell&gt; int foo(int x) {\r\n       ...&gt; return x + 1;\r\n       ...&gt; }\r\n    |  created method foo(int)\r\n    \r\n    jshell&gt; foo(5)\r\n    $3 ==&gt; 6\r\n\r\nYou can see the current imports by calling `/imports`.\r\nJshell starts with default imports but you can always import more classes as long as they are on the classpath.\r\n\r\nYou can start the jshell and provide a classpath argument:\r\n\r\n    $ jshell --class-path /opt/libs/guava-19.0.jar:/opt/libs/commons-lang3-3.4.jar\r\n\r\nSee more regarding classpath options in [this answer][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/jshell/introduction-jshell.htm\r\n  [2]: https://stackoverflow.com/a/43112866/4266296","title":"Interactive interpreter for Java","body":"<p>Since Java 9 the JDK comes with it's own REPL, the <a href=\"https://docs.oracle.com/javase/9/jshell/introduction-jshell.htm\" rel=\"nofollow noreferrer\">jshell</a>.\nIf the <code>java/bin</code> directory is on the <code>PATH</code> you should be able to start it from the command line.</p>\n<pre><code>$ jshell\n|  Welcome to JShell -- Version 11.0.14\n|  For an introduction type: /help intro\n\njshell&gt; /imports\n|    import java.io.*\n|    import java.math.*\n|    import java.net.*\n|    import java.nio.file.*\n|    import java.util.*\n|    import java.util.concurrent.*\n|    import java.util.function.*\n|    import java.util.prefs.*\n|    import java.util.regex.*\n|    import java.util.stream.*\n\njshell&gt; 1 + 1\n$1 ==&gt; 2\n\njshell&gt; int foo(int x) {\n   ...&gt; return x + 1;\n   ...&gt; }\n|  created method foo(int)\n\njshell&gt; foo(5)\n$3 ==&gt; 6\n</code></pre>\n<p>You can see the current imports by calling <code>/imports</code>.\nJshell starts with default imports but you can always import more classes as long as they are on the classpath.</p>\n<p>You can start the jshell and provide a classpath argument:</p>\n<pre><code>$ jshell --class-path /opt/libs/guava-19.0.jar:/opt/libs/commons-lang3-3.4.jar\n</code></pre>\n<p>See more regarding classpath options in <a href=\"https://stackoverflow.com/a/43112866/4266296\">this answer</a>.</p>\n"}],"owner":{"account_id":397191,"reputation":6887,"user_id":761180,"accept_rate":97,"display_name":"astay13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1786,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":6119365,"answer_count":5,"score":6,"last_activity_date":1653294311,"creation_date":1306295645,"question_id":6119348,"body_markdown":"Is there a good interactive interpreter for Java, similar to Scala&#39;s?  When programming, I like to try small pieces of code to see if they work like I expect before plugging them in to my main program.  I would prefer an interpreter that is not based online since I often work offline.\r\n\r\nThanks in advance!","title":"Interactive interpreter for Java","body":"<p>Is there a good interactive interpreter for Java, similar to Scala's?  When programming, I like to try small pieces of code to see if they work like I expect before plugging them in to my main program.  I would prefer an interpreter that is not based online since I often work offline.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","azure","maven","apache-kafka","jackson"],"comments":[{"owner":{"account_id":13466609,"reputation":57,"user_id":9716632,"display_name":"Dev"},"score":0,"creation_date":1652353807,"post_id":72214447,"comment_id":127588347,"body_markdown":"Above dependencies i have added explicitly in pom.xml","body":"Above dependencies i have added explicitly in pom.xml"}],"answers":[{"tags":[],"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652355488,"creation_date":1652355488,"answer_id":72214849,"question_id":72214447,"body_markdown":"Dependencies with scope &quot;runtime&quot; are not used for compilation, but only for execution. A dependency with this scope is not put on the compile classpath, so you could remove the runtime scope.\r\n\r\nHowever a better way to overwrite transitive dependency versions that you don&#39;t use yourself is to use depependency management like this:\r\n\r\n```xml\r\n&lt;project&gt;\r\n  [...]\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;group-a&lt;/groupId&gt;\r\n        &lt;artifactId&gt;artifact-a&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    [...]\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n&lt;/project&gt;\r\n```","title":"ERROR JacksonVersion - Version &#39;2.9.4&#39; of package &#39;jackson-databind&#39; is not supported","body":"<p>Dependencies with scope &quot;runtime&quot; are not used for compilation, but only for execution. A dependency with this scope is not put on the compile classpath, so you could remove the runtime scope.</p>\n<p>However a better way to overwrite transitive dependency versions that you don't use yourself is to use depependency management like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  [...]\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;group-a&lt;/groupId&gt;\n        &lt;artifactId&gt;artifact-a&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n      &lt;/dependency&gt;\n    [...]\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652697523,"creation_date":1652697523,"answer_id":72257900,"question_id":72214447,"body_markdown":"This is a challenge with Azure-SDK (here is a similar [issue][1]). Azure-SDK has a dependency on Jackson. The specific version of Jackson depends on the azure-sdk version you are using.\r\n\r\nThe latest release [supports][2] Jackson 2.10-2.13. What it means is you may have other dependencies on Jackson, and the SDK will still work. Provided Jackson version fetched is from 2.10-2.13. Azure-SDK is compatible with all these versions.\r\n\r\nIf you wish to use Jackson 2.9 (or if that&#39;s coming as a dependency from other dependency), then there is no way around it. **You would necessarily need to upgrade your dependencies so that it fetches jackson 2.10 and above**. \r\n\r\nIn your case, there would be some dependency that is fetching 2.9.x series.\r\n\r\nThis is what I would do:\r\n\r\n1. Based on all non-azure-sdk dependencies. Decide which jackson version to hold on to. Explicitly add this jackson dependency in the pom.xml\r\n2. Use azure-sdk [BOM][3]\r\n3. You dont have to specify exclusion. Specifying a version in pom [overrides][4] other dependency versions\r\n\r\n\r\n  [1]: https://github.com/Azure/azure-sdk-for-java/issues/25734\r\n  [2]: https://learn.microsoft.com/en-us/azure/developer/java/sdk/troubleshooting-dependency-version-conflict#support-for-multiple-jackson-versions\r\n  [3]: https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/azure-sdk-bom/README.md\r\n  [4]: https://stackoverflow.com/questions/3937195/maven-how-to-override-the-dependency-added-by-a-library","title":"ERROR JacksonVersion - Version &#39;2.9.4&#39; of package &#39;jackson-databind&#39; is not supported","body":"<p>This is a challenge with Azure-SDK (here is a similar <a href=\"https://github.com/Azure/azure-sdk-for-java/issues/25734\" rel=\"nofollow noreferrer\">issue</a>). Azure-SDK has a dependency on Jackson. The specific version of Jackson depends on the azure-sdk version you are using.</p>\n<p>The latest release <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/sdk/troubleshooting-dependency-version-conflict#support-for-multiple-jackson-versions\" rel=\"nofollow noreferrer\">supports</a> Jackson 2.10-2.13. What it means is you may have other dependencies on Jackson, and the SDK will still work. Provided Jackson version fetched is from 2.10-2.13. Azure-SDK is compatible with all these versions.</p>\n<p>If you wish to use Jackson 2.9 (or if that's coming as a dependency from other dependency), then there is no way around it. <strong>You would necessarily need to upgrade your dependencies so that it fetches jackson 2.10 and above</strong>.</p>\n<p>In your case, there would be some dependency that is fetching 2.9.x series.</p>\n<p>This is what I would do:</p>\n<ol>\n<li>Based on all non-azure-sdk dependencies. Decide which jackson version to hold on to. Explicitly add this jackson dependency in the pom.xml</li>\n<li>Use azure-sdk <a href=\"https://github.com/Azure/azure-sdk-for-java/blob/main/sdk/boms/azure-sdk-bom/README.md\" rel=\"nofollow noreferrer\">BOM</a></li>\n<li>You dont have to specify exclusion. Specifying a version in pom <a href=\"https://stackoverflow.com/questions/3937195/maven-how-to-override-the-dependency-added-by-a-library\">overrides</a> other dependency versions</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13466609,"reputation":57,"user_id":9716632,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653294271,"creation_date":1653294271,"answer_id":72345388,"question_id":72214447,"body_markdown":"Hosting environment had those 2.9.4 versioned jackson jars which were loading at run time and causing the issues, i replaced those with newer version jars , its working all fine now.\r\n(we had installed kafka client on the host, which internally had those jars inside kafka/libs)\r\n\r\ngot the ans from - https://github.com/Azure/azure-sdk-for-java/issues/28902","title":"ERROR JacksonVersion - Version &#39;2.9.4&#39; of package &#39;jackson-databind&#39; is not supported","body":"<p>Hosting environment had those 2.9.4 versioned jackson jars which were loading at run time and causing the issues, i replaced those with newer version jars , its working all fine now.\n(we had installed kafka client on the host, which internally had those jars inside kafka/libs)</p>\n<p>got the ans from - <a href=\"https://github.com/Azure/azure-sdk-for-java/issues/28902\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-sdk-for-java/issues/28902</a></p>\n"}],"owner":{"account_id":13466609,"reputation":57,"user_id":9716632,"display_name":"Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72345388,"answer_count":3,"score":0,"last_activity_date":1653294271,"creation_date":1652353618,"question_id":72214447,"body_markdown":"i am using azure sdk(azure-storage-file-datalake, azure-core, azure-identity) for writing the avro data to azure datalake gen 2 from kafka(using connectors), but i am getting very weird errors as below\r\n\r\n2022-05-12 10:46:10 ERROR JacksonVersion:506 - Version &#39;2.9.4&#39; of package &#39;jackson-annotations&#39; is not supported (older than earliest supported version - 2.10.0), please upgrade.\r\n\r\n2022-05-12 10:46:10 ERROR JacksonVersion:506 - Version &#39;2.9.4&#39; of package &#39;jackson-core&#39; is not supported (older than earliest supported version - 2.10.0), please upgrade.\r\n\r\n2022-05-12 10:46:10 ERROR JacksonVersion:506 - Version &#39;2.9.4&#39; of package &#39;jackson-databind&#39; is not supported (older than earliest supported version - 2.10.0), please upgrade.\r\n\r\n java.lang.LinkageError: Package versions: jackson-annotations=2.9.4, jackson-core=2.9.4, jackson-databind=2.9.4, jackson-dataformat-xml=unknown, jackson-datatype-jsr310=unknown, azure-core=1.28.0, Troubleshooting version conflicts: https://aka.ms/azsdk/java/dependency/troubleshoot\\n\\tat com.azure.core.implementation\r\n\r\n\r\n\r\n\r\nI have tried excluding the jackson dependencies and tried adding explicitly, still i am getting the errors.\r\n\r\n\r\nplease some one help on this\r\n\r\n\r\n&lt;dependencyManagement&gt;\r\n&lt;dependencies&gt;\r\n\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.13.2&lt;/version&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.13.2&lt;/version&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.13.2&lt;/version&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.13.2&lt;/version&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.13.2&lt;/version&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t\t&lt;dependencies&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;connect-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.17&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Apache avro dependency --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.8.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Newer versions of the storage account jar is not working. --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;azure-storage-file-datalake&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;12.9.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.azure/azure-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.28.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;!-- Collision with Kafka Jackson dependencies --&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.1&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;msal4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.linguafranca.pwdb&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;KeePassJava2&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;msal4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.1&lt;/version&gt; &lt;!-- {x-version-update;com.microsoft.azure:msal4j;external_dependency} --&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Schema registry dependency --&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-connect-avro-converter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.21.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t&lt;/dependencies&gt;","title":"ERROR JacksonVersion - Version &#39;2.9.4&#39; of package &#39;jackson-databind&#39; is not supported","body":"<p>i am using azure sdk(azure-storage-file-datalake, azure-core, azure-identity) for writing the avro data to azure datalake gen 2 from kafka(using connectors), but i am getting very weird errors as below</p>\n<p>2022-05-12 10:46:10 ERROR JacksonVersion:506 - Version '2.9.4' of package 'jackson-annotations' is not supported (older than earliest supported version - 2.10.0), please upgrade.</p>\n<p>2022-05-12 10:46:10 ERROR JacksonVersion:506 - Version '2.9.4' of package 'jackson-core' is not supported (older than earliest supported version - 2.10.0), please upgrade.</p>\n<p>2022-05-12 10:46:10 ERROR JacksonVersion:506 - Version '2.9.4' of package 'jackson-databind' is not supported (older than earliest supported version - 2.10.0), please upgrade.</p>\n<p>java.lang.LinkageError: Package versions: jackson-annotations=2.9.4, jackson-core=2.9.4, jackson-databind=2.9.4, jackson-dataformat-xml=unknown, jackson-datatype-jsr310=unknown, azure-core=1.28.0, Troubleshooting version conflicts: <a href=\"https://aka.ms/azsdk/java/dependency/troubleshoot%5Cn%5Ctat\" rel=\"nofollow noreferrer\">https://aka.ms/azsdk/java/dependency/troubleshoot\\n\\tat</a> com.azure.core.implementation</p>\n<p>I have tried excluding the jackson dependencies and tried adding explicitly, still i am getting the errors.</p>\n<p>please some one help on this</p>\n\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;2.13.2&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.13.2&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.13.2&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.13.2&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.13.2&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n    \n<pre><code>    &lt;dependencies&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;connect-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Apache avro dependency --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n        &lt;artifactId&gt;avro&lt;/artifactId&gt;\n        &lt;version&gt;1.8.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Newer versions of the storage account jar is not working. --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-storage-file-datalake&lt;/artifactId&gt;\n        &lt;version&gt;12.9.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\n                &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.azure/azure-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;!-- Collision with Kafka Jackson dependencies --&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\n                &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n                &lt;artifactId&gt;msal4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.linguafranca.pwdb&lt;/groupId&gt;\n                &lt;artifactId&gt;KeePassJava2&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;msal4j&lt;/artifactId&gt;\n        &lt;version&gt;1.9.1&lt;/version&gt; &lt;!-- {x-version-update;com.microsoft.azure:msal4j;external_dependency} --&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Schema registry dependency --&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-connect-avro-converter&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-schema-registry-client&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n        &lt;version&gt;2.21.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n\n\n\n\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","dependency-injection"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653299345,"post_id":72345291,"comment_id":127809104,"body_markdown":"First is it neccessary to use a particular version? For example spring boot is brining new versions every 6 months.. No update possible? If so something is wrong? You must be able to upgrade... You could create a bom file which contains the suggested versions and release newer versions of your bom and communicate to the teams to upgrade them on a regular basis... And there is no real way to prevent people from using different versions of deps...","body":"First is it neccessary to use a particular version? For example spring boot is brining new versions every 6 months.. No update possible? If so something is wrong? You must be able to upgrade... You could create a bom file which contains the suggested versions and release newer versions of your bom and communicate to the teams to upgrade them on a regular basis... And there is no real way to prevent people from using different versions of deps..."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1653370829,"post_id":72345291,"comment_id":127828828,"body_markdown":"A library enforcing versions? Are you sure this is a library and not something else?","body":"A library enforcing versions? Are you sure this is a library and not something else?"},{"owner":{"account_id":2883998,"reputation":95,"user_id":2474283,"accept_rate":50,"display_name":"martin552"},"score":0,"creation_date":1653480623,"post_id":72345291,"comment_id":127861870,"body_markdown":"@Thorbj&#248;rnRavnAndersen Planning to enforce a common spring boot version, some other common versions across the different services of the team. Is there any other better approach?","body":"@Thorbj&#248;rnRavnAndersen Planning to enforce a common spring boot version, some other common versions across the different services of the team. Is there any other better approach?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1653480947,"post_id":72345291,"comment_id":127861985,"body_markdown":"@martin552 Enforcing things should have a very good user story, because you are basically limiting your developers arbitrarily.   You are aware that Spring Boot has the BOM for this?  https://docs.spring.io/spring-boot/docs/1.3.8.RELEASE/reference/html/using-boot-build-systems.html   Would that be enough for you or do you need more?","body":"@martin552 Enforcing things should have a very good user story, because you are basically limiting your developers arbitrarily.   You are aware that Spring Boot has the BOM for this?  <a href=\"https://docs.spring.io/spring-boot/docs/1.3.8.RELEASE/reference/html/using-boot-build-systems.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.3.8.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a>   Would that be enough for you or do you need more?"}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653294097,"creation_date":1653294097,"answer_id":72345356,"question_id":72345291,"body_markdown":"You cannot stop your team from defining their own version in their project. However, you can add a `&lt;dependencyManagement&gt;`tag in your project which will define the versions you wish them to use so they won&#39;t have to decide.\r\nBut, again, nothing to stop them to override these.","title":"How to make specific maven dependency versions mandatory","body":"<p>You cannot stop your team from defining their own version in their project. However, you can add a <code>&lt;dependencyManagement&gt;</code>tag in your project which will define the versions you wish them to use so they won't have to decide.\nBut, again, nothing to stop them to override these.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653294166,"creation_date":1653294166,"answer_id":72345373,"question_id":72345291,"body_markdown":"You can create a parent pom that you want and put in `&lt;dependencyManagement&gt;` the dependencies that you want to be used by applications that use this parent pom.\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;group-a&lt;/groupId&gt;\r\n            &lt;artifactId&gt;artifact-a&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nso if another application uses as parent pom the one you have declared above and uses as dependency\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;group-a&lt;/groupId&gt;\r\n        &lt;artifactId&gt;artifact-a&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n(It does not contain any specific version), it would retrieve by default the version which was delcared in parent pom of `1.0`\r\n\r\nBut the child pom application would always be free to declare their own version if they want, and use that instead, effectively overriding what was declared in parent pom\r\n\r\n      &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;group-a&lt;/groupId&gt;\r\n            &lt;artifactId&gt;artifact-a&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n[More about Dependency management in Maven][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html","title":"How to make specific maven dependency versions mandatory","body":"<p>You can create a parent pom that you want and put in <code>&lt;dependencyManagement&gt;</code> the dependencies that you want to be used by applications that use this parent pom.</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;group-a&lt;/groupId&gt;\n        &lt;artifactId&gt;artifact-a&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>so if another application uses as parent pom the one you have declared above and uses as dependency</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;group-a&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact-a&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>(It does not contain any specific version), it would retrieve by default the version which was delcared in parent pom of <code>1.0</code></p>\n<p>But the child pom application would always be free to declare their own version if they want, and use that instead, effectively overriding what was declared in parent pom</p>\n<pre><code>  &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;group-a&lt;/groupId&gt;\n        &lt;artifactId&gt;artifact-a&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p><a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow noreferrer\">More about Dependency management in Maven</a></p>\n"}],"owner":{"account_id":2883998,"reputation":95,"user_id":2474283,"accept_rate":50,"display_name":"martin552"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653294166,"creation_date":1653293847,"question_id":72345291,"body_markdown":"I am working on creating a common library for my team which can be used by different micro-services of our team. Common library will be service-starter which includes : specific spring boot, spring version and other compatible versions and dependencies. Is it possible to guardrail using maven such that our whole team must be on specific **MUST versions** of some maven dependencies like spring boot version should be common across team (We will also have other maven dependencies which can be overridden in respective micro-service pom if needed.)","title":"How to make specific maven dependency versions mandatory","body":"<p>I am working on creating a common library for my team which can be used by different micro-services of our team. Common library will be service-starter which includes : specific spring boot, spring version and other compatible versions and dependencies. Is it possible to guardrail using maven such that our whole team must be on specific <strong>MUST versions</strong> of some maven dependencies like spring boot version should be common across team (We will also have other maven dependencies which can be overridden in respective micro-service pom if needed.)</p>\n"},{"tags":["java","testing","apache-kafka","spring-cloud-contract","embedded-kafka"],"comments":[{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1653294640,"post_id":72345370,"comment_id":127807432,"body_markdown":"You have a messaging contract from my understanding - why would you like it to be running an http server? -1 means that there is no http server running cause there were no http contracts","body":"You have a messaging contract from my understanding - why would you like it to be running an http server? -1 means that there is no http server running cause there were no http contracts"},{"owner":{"account_id":6625523,"reputation":11,"user_id":5115877,"display_name":"Ivanna"},"score":0,"creation_date":1653295143,"post_id":72345370,"comment_id":127807620,"body_markdown":"right, thank you for the answer. Any ideas where to look at why Producer is not up?","body":"right, thank you for the answer. Any ideas where to look at why Producer is not up?"},{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1653295853,"post_id":72345370,"comment_id":127807872,"body_markdown":"You can check this sample https://github.com/spring-cloud-samples/spring-cloud-contract-samples/tree/main/producer_kafka and preferably this one https://github.com/spring-cloud-samples/spring-cloud-contract-samples/tree/main/producer_kafka_middleware . The latter uses testcontainers and is the suggested approach instead of the one using kafka test","body":"You can check this sample <a href=\"https://github.com/spring-cloud-samples/spring-cloud-contract-samples/tree/main/producer_kafka\" rel=\"nofollow noreferrer\">github.com/spring-cloud-samples/spring-cloud-contract-sample&zwnj;&#8203;s/&hellip;</a> and preferably this one <a href=\"https://github.com/spring-cloud-samples/spring-cloud-contract-samples/tree/main/producer_kafka_middleware\" rel=\"nofollow noreferrer\">github.com/spring-cloud-samples/spring-cloud-contract-sample&zwnj;&#8203;s/&hellip;</a> . The latter uses testcontainers and is the suggested approach instead of the one using kafka test"},{"owner":{"account_id":6625523,"reputation":11,"user_id":5115877,"display_name":"Ivanna"},"score":0,"creation_date":1653296702,"post_id":72345370,"comment_id":127808139,"body_markdown":"Thank you, I&#39;d love to do this with TestContainers as already used them in other types of tests but have this issue. https://stackoverflow.com/questions/72317642/spring-contract-kafka-test-containers-contractverifiermessaging-receive-is","body":"Thank you, I&#39;d love to do this with TestContainers as already used them in other types of tests but have this issue. <a href=\"https://stackoverflow.com/questions/72317642/spring-contract-kafka-test-containers-contractverifiermessaging-receive-is\" title=\"spring contract kafka test containers contractverifiermessaging receive is\">stackoverflow.com/questions/72317642/&hellip;</a>"},{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1653297674,"post_id":72345370,"comment_id":127808478,"body_markdown":"I&#39;ve replied there too, please check the provided sample cause it should work (famous last words ;) )","body":"I&#39;ve replied there too, please check the provided sample cause it should work (famous last words ;) )"}],"owner":{"account_id":6625523,"reputation":11,"user_id":5115877,"display_name":"Ivanna"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653294149,"creation_date":1653294149,"question_id":72345370,"body_markdown":"I have the Consumer test set up with Embedded Kafka and local Maven stubs. Test props set either via application.properties file or @DynamicPropertySource. \r\n\r\n\r\n    @SpringBootTest(\r\n            webEnvironment = SpringBootTest.WebEnvironment.NONE)\r\n    @AutoConfigureStubRunner(\r\n            stubsMode = StubRunnerProperties.StubsMode.LOCAL,\r\n            ids = &quot;com.example:service:+:stubs:8468&quot;)\r\n    @EmbeddedKafka(topics = &quot;topic&quot;)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class ConsumerTests\r\n\r\n\r\nThe test fails with:\r\n\r\n\r\n    18:07:26.818 [Test worker] INFO  org.springframework.cloud.contract.stubrunner.AetherStubDownloader - Unpacking stub from JAR [URI: file:/Users/me/.m2/repository/com/example/service/2021.0.0/service-2021.0.0-stubs.jar]\r\n    18:07:26.823 [Test worker] INFO  org.springframework.cloud.contract.stubrunner.AetherStubDownloader - Unpacked file to [/var/folders/_n/kc_mgwps6255wyp6z6wsw88m0000gn/T/contracts-1653059246818-0]\r\n    18:07:28.287 [Test worker] INFO  org.springframework.cloud.contract.stubrunner.StubServer - Started stub server for project [com.example:service:2021.0.0:stubs] on port -1 with [0] mappings\r\n    18:07:28.287 [Test worker] INFO  org.springframework.cloud.contract.stubrunner.StubRunnerExecutor - All stubs are now running RunningStubs [namesAndPorts={com.example:service:2021.0.0:stubs=-1}]\r\n    18:07:28.289 [Test worker] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean &#39;batchStubRunner&#39; of type [org.springframework.cloud.contract.stubrunner.BatchStubRunner] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n.\r\n\r\n    org.apache.kafka.common.KafkaException: Failed to construct kafka producer\r\n    at org.springframework.cloud.contract.verifier.messaging.kafka.KafkaStubMessages.send(KafkaStubMessages.java:72)\r\n    \tat org.springframework.cloud.contract.verifier.messaging.kafka.KafkaStubMessages.send(KafkaStubMessages.java:92)\r\n    \tat org.springframework.cloud.contract.stubrunner.spring.LazyMessageVerifier.send(StubRunnerConfiguration.java:198)\r\n    \tat org.springframework.cloud.contract.stubrunner.StubRunnerExecutor.sendMessage(StubRunnerExecutor.java:252)\r\n    \tat org.springframework.cloud.contract.stubrunner.StubRunnerExecutor.triggerForDsls(StubRunnerExecutor.java:205)\r\n    \tat org.springframework.cloud.contract.stubrunner.StubRunnerExecutor.trigger(StubRunnerExecutor.java:191)\r\n    \tat org.springframework.cloud.contract.stubrunner.StubRunner.trigger(StubRunner.java:152).....\r\n    No resolvable bootstrap urls given in bootstrap.servers\r\n\r\n\r\nWhile Kafka consumer port looks good in logs, I see no port for producer: \r\norg.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: \r\n\tbootstrap.servers = []\r\n\r\n\r\nI suspect it could be related to stubs running on port -1 (not running in reality?). \r\nAnother suspect: no mappings generated as stubs by Producer, I have only contracts in stubs folder. Should there be mappings generated by Producer for Kafka messaging not rest-apis?\r\n\r\nIs there a way to check if the stubs are truly accessible? \r\n","title":"Spring Contracts: Stubs are runnning on port -1 + Failed to construct kafka producer","body":"<p>I have the Consumer test set up with Embedded Kafka and local Maven stubs. Test props set either via application.properties file or @DynamicPropertySource.</p>\n<pre><code>@SpringBootTest(\n        webEnvironment = SpringBootTest.WebEnvironment.NONE)\n@AutoConfigureStubRunner(\n        stubsMode = StubRunnerProperties.StubsMode.LOCAL,\n        ids = &quot;com.example:service:+:stubs:8468&quot;)\n@EmbeddedKafka(topics = &quot;topic&quot;)\n@ActiveProfiles(&quot;test&quot;)\npublic class ConsumerTests\n</code></pre>\n<p>The test fails with:</p>\n<pre><code>18:07:26.818 [Test worker] INFO  org.springframework.cloud.contract.stubrunner.AetherStubDownloader - Unpacking stub from JAR [URI: file:/Users/me/.m2/repository/com/example/service/2021.0.0/service-2021.0.0-stubs.jar]\n18:07:26.823 [Test worker] INFO  org.springframework.cloud.contract.stubrunner.AetherStubDownloader - Unpacked file to [/var/folders/_n/kc_mgwps6255wyp6z6wsw88m0000gn/T/contracts-1653059246818-0]\n18:07:28.287 [Test worker] INFO  org.springframework.cloud.contract.stubrunner.StubServer - Started stub server for project [com.example:service:2021.0.0:stubs] on port -1 with [0] mappings\n18:07:28.287 [Test worker] INFO  org.springframework.cloud.contract.stubrunner.StubRunnerExecutor - All stubs are now running RunningStubs [namesAndPorts={com.example:service:2021.0.0:stubs=-1}]\n18:07:28.289 [Test worker] INFO  org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'batchStubRunner' of type [org.springframework.cloud.contract.stubrunner.BatchStubRunner] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n</code></pre>\n<p>.</p>\n<pre><code>org.apache.kafka.common.KafkaException: Failed to construct kafka producer\nat org.springframework.cloud.contract.verifier.messaging.kafka.KafkaStubMessages.send(KafkaStubMessages.java:72)\n    at org.springframework.cloud.contract.verifier.messaging.kafka.KafkaStubMessages.send(KafkaStubMessages.java:92)\n    at org.springframework.cloud.contract.stubrunner.spring.LazyMessageVerifier.send(StubRunnerConfiguration.java:198)\n    at org.springframework.cloud.contract.stubrunner.StubRunnerExecutor.sendMessage(StubRunnerExecutor.java:252)\n    at org.springframework.cloud.contract.stubrunner.StubRunnerExecutor.triggerForDsls(StubRunnerExecutor.java:205)\n    at org.springframework.cloud.contract.stubrunner.StubRunnerExecutor.trigger(StubRunnerExecutor.java:191)\n    at org.springframework.cloud.contract.stubrunner.StubRunner.trigger(StubRunner.java:152).....\nNo resolvable bootstrap urls given in bootstrap.servers\n</code></pre>\n<p>While Kafka consumer port looks good in logs, I see no port for producer:\norg.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values:\nbootstrap.servers = []</p>\n<p>I suspect it could be related to stubs running on port -1 (not running in reality?).\nAnother suspect: no mappings generated as stubs by Producer, I have only contracts in stubs folder. Should there be mappings generated by Producer for Kafka messaging not rest-apis?</p>\n<p>Is there a way to check if the stubs are truly accessible?</p>\n"},{"tags":["java","list","collections","immutability"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1626904750,"post_id":68476883,"comment_id":121019682,"body_markdown":"Why do you want to add additional elements into an immutable list?  Seems like this is the thorny point moreso than copying things around.","body":"Why do you want to add additional elements into an immutable list?  Seems like this is the thorny point moreso than copying things around."},{"owner":{"account_id":9520796,"reputation":393,"user_id":7075733,"display_name":"Danitechnik"},"score":2,"creation_date":1626905516,"post_id":68476883,"comment_id":121019882,"body_markdown":"There are a lot of reasons to make certain objects immutable. If you want to add a single element then you get this issue. _.NET_ even has it&#39;s own collections for this purpose in `System.Collections.Immutable`.","body":"There are a lot of reasons to make certain objects immutable. If you want to add a single element then you get this issue. <i>.NET</i> even has it&#39;s own collections for this purpose in <code>System.Collections.Immutable</code>."},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1626905572,"post_id":68476883,"comment_id":121019896,"body_markdown":"_&quot;given that List.of() stores data in a field-based or array-based data structure.&quot;_ — that is an implementation detail that you can&#39;t depend on, not part of the spec. The &quot;Immutable List Static Factory Methods&quot; documentation says &quot;Factories are free to create new instances or reuse existing ones&quot; so it can&#39;t even necessarily use contiguous memory.","body":"<i>&quot;given that List.of() stores data in a field-based or array-based data structure.&quot;</i> — that is an implementation detail that you can&#39;t depend on, not part of the spec. The &quot;Immutable List Static Factory Methods&quot; documentation says &quot;Factories are free to create new instances or reuse existing ones&quot; so it can&#39;t even necessarily use contiguous memory."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1626908095,"post_id":68476883,"comment_id":121020387,"body_markdown":"@Danitechnik:  That&#39;s all good and dandy, but if you&#39;re adding elements to an *immutable* collection, then I don&#39;t know if what you *require* is an immutable collection.  Adding things to a collection that you can&#39;t add to to begin with is awkward without further articulation.","body":"@Danitechnik:  That&#39;s all good and dandy, but if you&#39;re adding elements to an <i>immutable</i> collection, then I don&#39;t know if what you <i>require</i> is an immutable collection.  Adding things to a collection that you can&#39;t add to to begin with is awkward without further articulation."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1626910790,"post_id":68476883,"comment_id":121020854,"body_markdown":"@Makoto It is entirely reasonable to want to add to an immutable collection. Any collection being returned by service or library should generally be immutable. After obtaining such an immutable collection, the calling method may justifiably want to modify that collection before proceeding.","body":"@Makoto It is entirely reasonable to want to add to an immutable collection. Any collection being returned by service or library should generally be immutable. After obtaining such an immutable collection, the calling method may justifiably want to modify that collection before proceeding."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1626910591,"creation_date":1626904801,"answer_id":68476945,"question_id":68476883,"body_markdown":"I would create a new `ArrayList` append the element and then return that as an unmodifiable list. Something like,\r\n\r\n\tprivate static &lt;T&gt; List&lt;T&gt; appendOne(List&lt;T&gt; al, T t) {\r\n\t\tList&lt;T&gt; bl = new ArrayList&lt;&gt;(al);\r\n\t\tbl.add(t);\r\n\t\treturn Collections.unmodifiableList(bl);\r\n\t}\r\n\r\nAnd to test it\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; al = appendOne(new ArrayList&lt;&gt;(), &quot;1&quot;);\r\n\t\tList&lt;String&gt; bl = appendOne(al, &quot;2&quot;);\r\n\t\tSystem.out.println(bl);\t\r\n\t}\r\n\r\nI get (unsurprisingly):\r\n\r\n&gt;[1, 2]\r\n\r\nSee this [code run at IdeOne.com][1].\r\n\r\n\r\n  [1]: https://ideone.com/6AjHIS","title":"Java - Add one element to an immutable list","body":"<p>I would create a new <code>ArrayList</code> append the element and then return that as an unmodifiable list. Something like,</p>\n<pre><code>private static &lt;T&gt; List&lt;T&gt; appendOne(List&lt;T&gt; al, T t) {\n    List&lt;T&gt; bl = new ArrayList&lt;&gt;(al);\n    bl.add(t);\n    return Collections.unmodifiableList(bl);\n}\n</code></pre>\n<p>And to test it</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; al = appendOne(new ArrayList&lt;&gt;(), &quot;1&quot;);\n    List&lt;String&gt; bl = appendOne(al, &quot;2&quot;);\n    System.out.println(bl); \n}\n</code></pre>\n<p>I get (unsurprisingly):</p>\n<blockquote>\n<p>[1, 2]</p>\n</blockquote>\n<p>See this <a href=\"https://ideone.com/6AjHIS\" rel=\"noreferrer\">code run at IdeOne.com</a>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1626911610,"creation_date":1626911610,"answer_id":68477694,"question_id":68476883,"body_markdown":"The [Answer by Frisch][1] is correct, and should be accepted. One further note…\r\n\r\nCalling [`Collections.unmodifiableList`][2] produces a collection that is a [*view* onto the original mutable list][3]. So a modification to the original list will &quot;bleed through&quot; to the not-so-immutable second list.\r\n\r\nThis issue does not apply to the correct code shown in that Answer, because the new `ArrayList` object deliberately goes out-of-scope. Therefore that new list cannot be accessed for modification. But in other coding scenarios, this issue could be a concern. \r\n\r\n# `List.copyOf`\r\n\r\nIf you want an independent and truly immutable second list, use [`List.copyOf`][4] in [Java 10][5]+. This returns an [unmodifiable list][6].\r\n\r\n    return List.copyOf( bl ) ;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/68476945/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#unmodifiableList(java.util.List)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#unmodview\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)\r\n  [5]: https://en.wikipedia.org/wiki/Java_version_history#Java_10\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#unmodifiable","title":"Java - Add one element to an immutable list","body":"<p>The <a href=\"https://stackoverflow.com/a/68476945/642706\">Answer by Frisch</a> is correct, and should be accepted. One further note…</p>\n<p>Calling <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#unmodifiableList(java.util.List)\" rel=\"noreferrer\"><code>Collections.unmodifiableList</code></a> produces a collection that is a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#unmodview\" rel=\"noreferrer\"><em>view</em> onto the original mutable list</a>. So a modification to the original list will &quot;bleed through&quot; to the not-so-immutable second list.</p>\n<p>This issue does not apply to the correct code shown in that Answer, because the new <code>ArrayList</code> object deliberately goes out-of-scope. Therefore that new list cannot be accessed for modification. But in other coding scenarios, this issue could be a concern.</p>\n<h1 id=\"list.copyof-wair\"><code>List.copyOf</code></h1>\n<p>If you want an independent and truly immutable second list, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#copyOf(java.util.Collection)\" rel=\"noreferrer\"><code>List.copyOf</code></a> in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_10\" rel=\"noreferrer\">Java 10</a>+. This returns an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"noreferrer\">unmodifiable list</a>.</p>\n<pre><code>return List.copyOf( bl ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653294092,"creation_date":1653294092,"answer_id":72345353,"question_id":68476883,"body_markdown":"Both answers are great, I would create a bit more generic solution:\r\n\r\n    private static &lt;T&gt; List&lt;T&gt; append(final List&lt;T&gt; al, final T... ts) {\r\n        final List&lt;T&gt; bl = new ArrayList&lt;&gt;(al);\r\n        for (final T t : ts) {\r\n            bl.add(t);\r\n        }\r\n        return List.copyOf(bl);\r\n    }\r\n\r\nIt can be used exactly like previous answer:\r\n\r\n        List&lt;String&gt; al = append(new ArrayList&lt;&gt;(), &quot;1&quot;);\r\n        List&lt;String&gt; bl = append(al, &quot;2&quot;);\r\n        System.out.println(bl); \r\n\r\nBut also slightly more efficient:\r\n\r\n        List&lt;String&gt; bl = append(new ArrayList&lt;&gt;(), &quot;1&quot;, &quot;2&quot;);\r\n        System.out.println(bl); \r\n","title":"Java - Add one element to an immutable list","body":"<p>Both answers are great, I would create a bit more generic solution:</p>\n<pre><code>private static &lt;T&gt; List&lt;T&gt; append(final List&lt;T&gt; al, final T... ts) {\n    final List&lt;T&gt; bl = new ArrayList&lt;&gt;(al);\n    for (final T t : ts) {\n        bl.add(t);\n    }\n    return List.copyOf(bl);\n}\n</code></pre>\n<p>It can be used exactly like previous answer:</p>\n<pre><code>    List&lt;String&gt; al = append(new ArrayList&lt;&gt;(), &quot;1&quot;);\n    List&lt;String&gt; bl = append(al, &quot;2&quot;);\n    System.out.println(bl); \n</code></pre>\n<p>But also slightly more efficient:</p>\n<pre><code>    List&lt;String&gt; bl = append(new ArrayList&lt;&gt;(), &quot;1&quot;, &quot;2&quot;);\n    System.out.println(bl); \n</code></pre>\n"}],"owner":{"account_id":9520796,"reputation":393,"user_id":7075733,"display_name":"Danitechnik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11192,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":68476945,"answer_count":3,"score":5,"last_activity_date":1653294092,"creation_date":1626904386,"question_id":68476883,"body_markdown":"I need an immutable list where I can get derive a second immutable list preserving all elements of the previous list plus an additional element in Java (without additional libraries).\r\n\r\n&gt; Note: This question is similar to https://stackoverflow.com/q/10354286/7075733 but I need a list and don&#39;t have Guava.\r\n\r\nWhat I have tried so far:\r\n\r\n```\r\nvar list = List.of(someArrayOfInitialElements);\r\nvar newList = Stream.concat(list.stream(), Stream.of(elementToAppend))\r\n        .collect(CollectorsCollectors.toUnmodifiableList());\r\n```\r\n\r\nThat would work but creating a stream and copying elements one by one seems inefficient to me. You could basically bulk copy memory given that `List.of()` stores data in a field-based or array-based data structure.\r\n\r\nIs there a more efficient solution than using streams? A better data structure in the Java standard library that I am missing?","title":"Java - Add one element to an immutable list","body":"<p>I need an immutable list where I can get derive a second immutable list preserving all elements of the previous list plus an additional element in Java (without additional libraries).</p>\n<blockquote>\n<p>Note: This question is similar to <a href=\"https://stackoverflow.com/q/10354286/7075733\">What is an efficient and elegant way to add a single element to an immutable set?</a> but I need a list and don't have Guava.</p>\n</blockquote>\n<p>What I have tried so far:</p>\n<pre><code>var list = List.of(someArrayOfInitialElements);\nvar newList = Stream.concat(list.stream(), Stream.of(elementToAppend))\n        .collect(CollectorsCollectors.toUnmodifiableList());\n</code></pre>\n<p>That would work but creating a stream and copying elements one by one seems inefficient to me. You could basically bulk copy memory given that <code>List.of()</code> stores data in a field-based or array-based data structure.</p>\n<p>Is there a more efficient solution than using streams? A better data structure in the Java standard library that I am missing?</p>\n"},{"tags":["java","querydsl","predicatebuilder"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653294003,"creation_date":1653294003,"answer_id":72345332,"question_id":72343632,"body_markdown":"You can use \r\n\r\n&gt; containsIgnoreCase\r\n\r\nhttp://querydsl.com/static/querydsl/4.1.3/apidocs/com/querydsl/core/types/dsl/StringExpression.html#containsIgnoreCase-java.lang.String-\r\n\r\n    public BooleanExpression containsIgnoreCase(String str)\r\n    \r\n    Create a this.containsIgnoreCase(str) expression\r\n    \r\n    Returns true if the given String is contained, compare case insensitively\r\n    \r\n    Parameters:\r\n        str - string\r\n    Returns:\r\n        this.containsIgnoreCase(str) \r\n\r\n\r\n**Example:**\r\n\r\n\r\n`QObject.column.containsIgnoreCase(yourString)`","title":"Querydsl Contains Column value in a String","body":"<p>You can use</p>\n<blockquote>\n<p>containsIgnoreCase</p>\n</blockquote>\n<p><a href=\"http://querydsl.com/static/querydsl/4.1.3/apidocs/com/querydsl/core/types/dsl/StringExpression.html#containsIgnoreCase-java.lang.String-\" rel=\"nofollow noreferrer\">http://querydsl.com/static/querydsl/4.1.3/apidocs/com/querydsl/core/types/dsl/StringExpression.html#containsIgnoreCase-java.lang.String-</a></p>\n<pre><code>public BooleanExpression containsIgnoreCase(String str)\n\nCreate a this.containsIgnoreCase(str) expression\n\nReturns true if the given String is contained, compare case insensitively\n\nParameters:\n    str - string\nReturns:\n    this.containsIgnoreCase(str) \n</code></pre>\n<p><strong>Example:</strong></p>\n<p><code>QObject.column.containsIgnoreCase(yourString)</code></p>\n"}],"owner":{"account_id":3628479,"reputation":23,"user_id":3025404,"display_name":"user3025404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":761,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653294003,"creation_date":1653283919,"question_id":72343632,"body_markdown":"Generally we can use QObject.column.in(String[])  to find rows that specific column value in a string list. But how can we filter if column value exists in a large string?\r\n\r\nSomething like QObject.column.in(String)","title":"Querydsl Contains Column value in a String","body":"<p>Generally we can use QObject.column.in(String[])  to find rows that specific column value in a string list. But how can we filter if column value exists in a large string?</p>\n<p>Something like QObject.column.in(String)</p>\n"},{"tags":["java","maven","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653293918,"creation_date":1653290996,"answer_id":72344750,"question_id":72343953,"body_markdown":"Inserting footers is possible using [XWPFDocument.createFooter](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFDocument.html#createFooter-org.apache.poi.wp.usermodel.HeaderFooterType-). The `XWPFFooter`then has it&#39;s own body containng `XWPFParagraph`s and `XWPFRun`s.\r\n\r\nTo use dynamic content as time and page numbers one would insert fields into the paragraphs. This is not yet supported by `apache poi` in the `XWPF` classes. But if one knows what XML needs to be inserted, one could use the low level `org.openxmlformats.schemas.wordprocessingml.x2006.main.*` classes. \r\n\r\nBut how to know how the XML must look like?\r\n\r\nA `*.docx` file, as well as all other `Offiche Open XML` files, is simply a ZIP archive. So one can unzip a `*.docx` file and have a look into. So create a `*.docx` file having what you need using the Word GUI. Then unzip that `*.docx` file and have a look into. The footers you will  find in `/word/footer*.xml` files. There you find something like that for fields:\r\n\r\n&lt;!-- language: xml --&gt;\r\n    ...\r\n    &lt;w:r&gt;\r\n     &lt;w:t xml:space=&quot;preserve&quot;&gt;Time: &lt;/w:t&gt;\r\n    &lt;/w:r&gt;\r\n    &lt;w:fldSimple w:instr=&quot;TIME \\@ &quot;dd.MM.yyyy HH:mm:ss&quot; \\* MERGEFORMAT&quot;/&gt;\r\n    &lt;w:r&gt;\r\n     &lt;w:tab/&gt;\r\n    &lt;/w:r&gt;\r\n    &lt;w:r&gt;\r\n     &lt;w:t xml:space=&quot;preserve&quot;&gt;Page &lt;/w:t&gt;\r\n    &lt;/w:r&gt;\r\n    &lt;w:fldSimple w:instr=&quot;PAGE \\* MERGEFORMAT&quot;/&gt;\r\n    &lt;w:r&gt;\r\n     &lt;w:t xml:space=&quot;preserve&quot;&gt; of &lt;/w:t&gt;\r\n    &lt;/w:r&gt;\r\n    &lt;w:fldSimple w:instr=&quot;NUMPAGES \\* MERGEFORMAT&quot;/&gt;\r\n    ...\r\n\r\nNow the need is to create that using the `org.openxmlformats.schemas.wordprocessingml.x2006.main.*` classes.\r\n\r\nUnfortunately there is no API documentation for the `org.openxmlformats.schemas.wordprocessingml.x2006.main.*` classes public available. So one would need getting the sources of `ooxml-schemas` or `poi-ooxml-full` to create the API documentation using `javadoc`.\r\n\r\nComplete example which creates footers containg thme and page numbers:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.apache.poi.wp.usermodel.HeaderFooterType;\r\n    \r\n    public class CreateWordFooterTimestampPagenumbers {\r\n    \t\r\n     private static void addTabStop(XWPFParagraph paragraph, String type, double posInches) {\r\n      int twipsPerInch = 1440; //measurement unit for tab stop pos is twips (twentieth of an inch point)\r\n      long pos = Math.round(posInches * twipsPerInch);\r\n      \r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTP cTP = paragraph.getCTP();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPPr cTPPr = cTP.getPPr();\r\n      if (cTPPr == null) cTPPr = cTP.addNewPPr();\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTTabs cTTabs = cTPPr.getTabs();\r\n      if (cTTabs == null) cTTabs = cTPPr.addNewTabs();\r\n      \r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTTabStop\tcTTabStop = cTTabs.addNewTab();\r\n      cTTabStop.setPos​(pos);\r\n      \r\n      switch(type) {\r\n       case &quot;LEFT&quot;: \r\n        cTTabStop.setVal(org.openxmlformats.schemas.wordprocessingml.x2006.main.STTabJc.LEFT);\r\n    \tbreak;\r\n       case &quot;CENTER&quot;: \r\n    \tcTTabStop.setVal(org.openxmlformats.schemas.wordprocessingml.x2006.main.STTabJc.CENTER);\r\n    \tbreak;\r\n       case &quot;RIGHT&quot;: \r\n        cTTabStop.setVal(org.openxmlformats.schemas.wordprocessingml.x2006.main.STTabJc.RIGHT);\r\n    \tbreak;\r\n       case &quot;DECIMAL&quot;: \r\n        cTTabStop.setVal(org.openxmlformats.schemas.wordprocessingml.x2006.main.STTabJc.DECIMAL);\r\n    \tbreak;\r\n       case &quot;BAR&quot;: \r\n        cTTabStop.setVal(org.openxmlformats.schemas.wordprocessingml.x2006.main.STTabJc.BAR);\r\n    \tbreak;\r\n       default:\r\n        // simply do nothing\r\n      }\r\n      \r\n     }\r\n     \r\n     private static void createDocFooter(XWPFDocument document) {\r\n    \r\n      XWPFFooter footer = document.createFooter(HeaderFooterType.DEFAULT);\r\n    \r\n      XWPFParagraph paragraph = footer.getParagraphArray(0);\r\n      if (paragraph == null) paragraph = footer.createParagraph();\r\n      paragraph.setAlignment(ParagraphAlignment.LEFT);\r\n      addTabStop(paragraph, &quot;CENTER&quot;, 3.25);\r\n      \r\n      XWPFRun run = paragraph.createRun();  \r\n      run.setText(&quot;Time: &quot;);\r\n      paragraph.getCTP().addNewFldSimple().setInstr(&quot;TIME \\\\@ \\&quot;dd.MM.yyyy HH:mm:ss\\&quot; \\\\* MERGEFORMAT&quot;);\r\n      \r\n      run = paragraph.createRun();  \r\n      run.addTab();\r\n      \r\n      run = paragraph.createRun();  \r\n      run.setText(&quot;Page &quot;);\r\n      paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE \\\\* MERGEFORMAT&quot;);\r\n      run = paragraph.createRun();  \r\n      run.setText(&quot; of &quot;);\r\n      paragraph.getCTP().addNewFldSimple().setInstr(&quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\r\n      \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument document = new XWPFDocument();\r\n    \r\n      // the body content\r\n      XWPFParagraph paragraph = document.createParagraph();\r\n      XWPFRun run=paragraph.createRun();  \r\n      run.setText(&quot;The Body:&quot;);\r\n    \r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;Lorem ipsum.... page 1&quot;);\r\n    \r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();\r\n      run.addBreak(BreakType.PAGE); \r\n      run.setText(&quot;Lorem ipsum.... page 2&quot;);\r\n    \r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();\r\n      run.addBreak(BreakType.PAGE); \r\n      run.setText(&quot;Lorem ipsum.... page 3&quot;);\r\n    \r\n      createDocFooter(document);\r\n      \r\n      FileOutputStream out = new FileOutputStream(&quot;./CreateWordFooterTimestampPagenumbers.docx&quot;);\r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n    \r\n     }\r\n    }\r\n\r\nThis is tested and works using current `apache poi 5.2.2` and having `poi-ooxml-full-5.2.2.jar` in class-path.","title":"Add dynamic footer in MS Word using Apache POI - Java","body":"<p>Inserting footers is possible using <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFDocument.html#createFooter-org.apache.poi.wp.usermodel.HeaderFooterType-\" rel=\"nofollow noreferrer\">XWPFDocument.createFooter</a>. The <code>XWPFFooter</code>then has it's own body containng <code>XWPFParagraph</code>s and <code>XWPFRun</code>s.</p>\n<p>To use dynamic content as time and page numbers one would insert fields into the paragraphs. This is not yet supported by <code>apache poi</code> in the <code>XWPF</code> classes. But if one knows what XML needs to be inserted, one could use the low level <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.*</code> classes.</p>\n<p>But how to know how the XML must look like?</p>\n<p>A <code>*.docx</code> file, as well as all other <code>Offiche Open XML</code> files, is simply a ZIP archive. So one can unzip a <code>*.docx</code> file and have a look into. So create a <code>*.docx</code> file having what you need using the Word GUI. Then unzip that <code>*.docx</code> file and have a look into. The footers you will  find in <code>/word/footer*.xml</code> files. There you find something like that for fields:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;w:r&gt;\n &lt;w:t xml:space=&quot;preserve&quot;&gt;Time: &lt;/w:t&gt;\n&lt;/w:r&gt;\n&lt;w:fldSimple w:instr=&quot;TIME \\@ &quot;dd.MM.yyyy HH:mm:ss&quot; \\* MERGEFORMAT&quot;/&gt;\n&lt;w:r&gt;\n &lt;w:tab/&gt;\n&lt;/w:r&gt;\n&lt;w:r&gt;\n &lt;w:t xml:space=&quot;preserve&quot;&gt;Page &lt;/w:t&gt;\n&lt;/w:r&gt;\n&lt;w:fldSimple w:instr=&quot;PAGE \\* MERGEFORMAT&quot;/&gt;\n&lt;w:r&gt;\n &lt;w:t xml:space=&quot;preserve&quot;&gt; of &lt;/w:t&gt;\n&lt;/w:r&gt;\n&lt;w:fldSimple w:instr=&quot;NUMPAGES \\* MERGEFORMAT&quot;/&gt;\n...\n</code></pre>\n<p>Now the need is to create that using the <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.*</code> classes.</p>\n<p>Unfortunately there is no API documentation for the <code>org.openxmlformats.schemas.wordprocessingml.x2006.main.*</code> classes public available. So one would need getting the sources of <code>ooxml-schemas</code> or <code>poi-ooxml-full</code> to create the API documentation using <code>javadoc</code>.</p>\n<p>Complete example which creates footers containg thme and page numbers:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.apache.poi.wp.usermodel.HeaderFooterType;\n\npublic class CreateWordFooterTimestampPagenumbers {\n    \n private static void addTabStop(XWPFParagraph paragraph, String type, double posInches) {\n  int twipsPerInch = 1440; //measurement unit for tab stop pos is twips (twentieth of an inch point)\n  long pos = Math.round(posInches * twipsPerInch);\n  \n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTP cTP = paragraph.getCTP();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPPr cTPPr = cTP.getPPr();\n  if (cTPPr == null) cTPPr = cTP.addNewPPr();\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTTabs cTTabs = cTPPr.getTabs();\n  if (cTTabs == null) cTTabs = cTPPr.addNewTabs();\n  \n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTTabStop  cTTabStop = cTTabs.addNewTab();\n  cTTabStop.setPos​(pos);\n  \n  switch(type) {\n   case &quot;LEFT&quot;: \n    cTTabStop.setVal(org.openxmlformats.schemas.wordprocessingml.x2006.main.STTabJc.LEFT);\n    break;\n   case &quot;CENTER&quot;: \n    cTTabStop.setVal(org.openxmlformats.schemas.wordprocessingml.x2006.main.STTabJc.CENTER);\n    break;\n   case &quot;RIGHT&quot;: \n    cTTabStop.setVal(org.openxmlformats.schemas.wordprocessingml.x2006.main.STTabJc.RIGHT);\n    break;\n   case &quot;DECIMAL&quot;: \n    cTTabStop.setVal(org.openxmlformats.schemas.wordprocessingml.x2006.main.STTabJc.DECIMAL);\n    break;\n   case &quot;BAR&quot;: \n    cTTabStop.setVal(org.openxmlformats.schemas.wordprocessingml.x2006.main.STTabJc.BAR);\n    break;\n   default:\n    // simply do nothing\n  }\n  \n }\n \n private static void createDocFooter(XWPFDocument document) {\n\n  XWPFFooter footer = document.createFooter(HeaderFooterType.DEFAULT);\n\n  XWPFParagraph paragraph = footer.getParagraphArray(0);\n  if (paragraph == null) paragraph = footer.createParagraph();\n  paragraph.setAlignment(ParagraphAlignment.LEFT);\n  addTabStop(paragraph, &quot;CENTER&quot;, 3.25);\n  \n  XWPFRun run = paragraph.createRun();  \n  run.setText(&quot;Time: &quot;);\n  paragraph.getCTP().addNewFldSimple().setInstr(&quot;TIME \\\\@ \\&quot;dd.MM.yyyy HH:mm:ss\\&quot; \\\\* MERGEFORMAT&quot;);\n  \n  run = paragraph.createRun();  \n  run.addTab();\n  \n  run = paragraph.createRun();  \n  run.setText(&quot;Page &quot;);\n  paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE \\\\* MERGEFORMAT&quot;);\n  run = paragraph.createRun();  \n  run.setText(&quot; of &quot;);\n  paragraph.getCTP().addNewFldSimple().setInstr(&quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\n  \n }\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument document = new XWPFDocument();\n\n  // the body content\n  XWPFParagraph paragraph = document.createParagraph();\n  XWPFRun run=paragraph.createRun();  \n  run.setText(&quot;The Body:&quot;);\n\n  paragraph = document.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;Lorem ipsum.... page 1&quot;);\n\n  paragraph = document.createParagraph();\n  run=paragraph.createRun();\n  run.addBreak(BreakType.PAGE); \n  run.setText(&quot;Lorem ipsum.... page 2&quot;);\n\n  paragraph = document.createParagraph();\n  run=paragraph.createRun();\n  run.addBreak(BreakType.PAGE); \n  run.setText(&quot;Lorem ipsum.... page 3&quot;);\n\n  createDocFooter(document);\n  \n  FileOutputStream out = new FileOutputStream(&quot;./CreateWordFooterTimestampPagenumbers.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n\n }\n}\n</code></pre>\n<p>This is tested and works using current <code>apache poi 5.2.2</code> and having <code>poi-ooxml-full-5.2.2.jar</code> in class-path.</p>\n"}],"owner":{"account_id":20442312,"reputation":11,"user_id":14998898,"display_name":"Jeffy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1653293918,"creation_date":1653286251,"question_id":72343953,"body_markdown":"Could someone please explain how to insert dynamic footer in each page using Apache poi API -  e.g. timestamp &amp; Page Number","title":"Add dynamic footer in MS Word using Apache POI - Java","body":"<p>Could someone please explain how to insert dynamic footer in each page using Apache poi API -  e.g. timestamp &amp; Page Number</p>\n"},{"tags":["java","freemarker"],"comments":[{"owner":{"account_id":2742245,"reputation":10850,"user_id":2363517,"display_name":"mszalbach"},"score":1,"creation_date":1653061121,"post_id":72321404,"comment_id":127766874,"body_markdown":"Check the documentation about include and import. Include allows to include an template in the current one. With Import you are writing functions which can be used to output simmilar things.","body":"Check the documentation about include and import. Include allows to include an template in the current one. With Import you are writing functions which can be used to output simmilar things."}],"answers":[{"tags":[],"owner":{"account_id":9144090,"reputation":178,"user_id":6800988,"display_name":"vanya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653293594,"creation_date":1653293594,"answer_id":72345247,"question_id":72321404,"body_markdown":"FreeMarker supports [*import*][1] and [*include*][2]. \r\n\r\nBut:\r\n\r\n&gt; Using include directive is almost always a bad practice, and you should  consider using the import directive instead!\r\n\r\nI went on using *import*, more about when to use *import* [here][3]. \r\n\r\n## Build components in FreeMarker with *import*\r\n\r\nIf you want to f.e. import a header component you would create a components.ftl file and create a [macro][4] inside.\r\n\r\ncomponents.ftl:\r\n\r\n    &lt;#macro header&gt;\r\n    &lt;header&gt;\r\n        &lt;p&gt;My first FreeMarker macro component header&lt;/p&gt;\r\n    &lt;/header&gt;\r\n    &lt;/#macro&gt;\r\n\r\nYou can now import the header macro to your FreeMarker template:\r\n\r\n\r\ntemplate.ftl\r\n\r\n    &lt;#import &quot;template-components/components.ftl&quot; as components&gt;\r\n    \r\n    ...\r\n    \r\n    &lt;@components.header/&gt;\r\n\r\nYour header component should now display when loading the template.\r\n\r\n*Macros* also support variables and lots more. I recommend visiting the links mentioned.\r\n\r\n \r\n\r\n  [1]: https://freemarker.apache.org/docs/ref_directive_import.html\r\n  [2]: https://freemarker.apache.org/docs/ref_directive_include.html\r\n  [3]: https://freemarker.apache.org/docs/ref_directive_include.html#topic.import_vs_include\r\n  [4]: https://freemarker.apache.org/docs/ref_directive_macro.html","title":"Is it possible to use components in FreeMarker as f.e. in Angular?","body":"<p>FreeMarker supports <a href=\"https://freemarker.apache.org/docs/ref_directive_import.html\" rel=\"nofollow noreferrer\"><em>import</em></a> and <a href=\"https://freemarker.apache.org/docs/ref_directive_include.html\" rel=\"nofollow noreferrer\"><em>include</em></a>.</p>\n<p>But:</p>\n<blockquote>\n<p>Using include directive is almost always a bad practice, and you should  consider using the import directive instead!</p>\n</blockquote>\n<p>I went on using <em>import</em>, more about when to use <em>import</em> <a href=\"https://freemarker.apache.org/docs/ref_directive_include.html#topic.import_vs_include\" rel=\"nofollow noreferrer\">here</a>.</p>\n<h2>Build components in FreeMarker with <em>import</em></h2>\n<p>If you want to f.e. import a header component you would create a components.ftl file and create a <a href=\"https://freemarker.apache.org/docs/ref_directive_macro.html\" rel=\"nofollow noreferrer\">macro</a> inside.</p>\n<p>components.ftl:</p>\n<pre><code>&lt;#macro header&gt;\n&lt;header&gt;\n    &lt;p&gt;My first FreeMarker macro component header&lt;/p&gt;\n&lt;/header&gt;\n&lt;/#macro&gt;\n</code></pre>\n<p>You can now import the header macro to your FreeMarker template:</p>\n<p>template.ftl</p>\n<pre><code>&lt;#import &quot;template-components/components.ftl&quot; as components&gt;\n\n...\n\n&lt;@components.header/&gt;\n</code></pre>\n<p>Your header component should now display when loading the template.</p>\n<p><em>Macros</em> also support variables and lots more. I recommend visiting the links mentioned.</p>\n"}],"owner":{"account_id":9144090,"reputation":178,"user_id":6800988,"display_name":"vanya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72345247,"answer_count":1,"score":0,"last_activity_date":1653293594,"creation_date":1653060416,"question_id":72321404,"body_markdown":"I have a lot of different FreeMarker templates inside my Java Spring Boot application and all of them share certain elements as for example a header and footer. Is it possible to build reusable components as one would in Angular or React?\r\n\r\nI thought about creating elements as objects in Java and then importing them to FreeMarker as one would import text, but I thought there may be a more elegant solution.","title":"Is it possible to use components in FreeMarker as f.e. in Angular?","body":"<p>I have a lot of different FreeMarker templates inside my Java Spring Boot application and all of them share certain elements as for example a header and footer. Is it possible to build reusable components as one would in Angular or React?</p>\n<p>I thought about creating elements as objects in Java and then importing them to FreeMarker as one would import text, but I thought there may be a more elegant solution.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1653258347,"post_id":72341638,"comment_id":127801088,"body_markdown":"@Einliterflasche for `System.in` `scan.hasNext()` will always be `true` as long as the stream remains open","body":"@Einliterflasche for <code>System.in</code> <code>scan.hasNext()</code> will always be <code>true</code> as long as the stream remains open"},{"owner":{"account_id":21862402,"reputation":49,"user_id":16153050,"display_name":"serendipity0217"},"score":0,"creation_date":1653258823,"post_id":72341638,"comment_id":127801159,"body_markdown":"Do I close the stream then? @QBrute","body":"Do I close the stream then? @QBrute"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1653260710,"post_id":72341638,"comment_id":127801456,"body_markdown":"No.  The user would have to do that.  A better way is to use `scan.nextLine()` to read one line, and then open a second `Scanner`  taking that line as input.  Read until the end of &quot;stream&quot; on the second `Scanner` ... which will happen when your program has consumed everything on the line.","body":"No.  The user would have to do that.  A better way is to use <code>scan.nextLine()</code> to read one line, and then open a second <code>Scanner</code>  taking that line as input.  Read until the end of &quot;stream&quot; on the second <code>Scanner</code> ... which will happen when your program has consumed everything on the line."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653293553,"creation_date":1653293553,"answer_id":72345239,"question_id":72341638,"body_markdown":"If I understand your question correctly, you are looking for `scanner.hasNext()`:\r\n\r\n    \r\n\r\n    Scanner scanner=new Scanner(System.in);\r\n    String input = scanner.next();\r\n    System.out.println(input); \r\n     while(scanner.hasNext())\r\n    \tSystem.out.println(scanner.next());\r\n\r\nSo here you are checking if there is next token available for scanner to process. If `Scanner.hasNext()` returns false means it has read all input token.","title":"How do I know that scanner has read all the inputs?","body":"<p>If I understand your question correctly, you are looking for <code>scanner.hasNext()</code>:</p>\n<pre><code>Scanner scanner=new Scanner(System.in);\nString input = scanner.next();\nSystem.out.println(input); \n while(scanner.hasNext())\n    System.out.println(scanner.next());\n</code></pre>\n<p>So here you are checking if there is next token available for scanner to process. If <code>Scanner.hasNext()</code> returns false means it has read all input token.</p>\n"}],"owner":{"account_id":21862402,"reputation":49,"user_id":16153050,"display_name":"serendipity0217"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653293553,"creation_date":1653257626,"question_id":72341638,"body_markdown":"If I allow the user to input numbers separated by spaces on a same line, \r\n\r\n    Scanner scan = new Scanner(System.in);\r\n    String input = scan.next();\r\n\r\nFor example, if the user enters &quot;1 2 3 4&quot;, it reads 1, 2, 3, and 4 one at a time. Is there any way that I can know when scanner has read all of them? It&#39;s crucial for the program I&#39;m implementing. ","title":"How do I know that scanner has read all the inputs?","body":"<p>If I allow the user to input numbers separated by spaces on a same line,</p>\n<pre><code>Scanner scan = new Scanner(System.in);\nString input = scan.next();\n</code></pre>\n<p>For example, if the user enters &quot;1 2 3 4&quot;, it reads 1, 2, 3, and 4 one at a time. Is there any way that I can know when scanner has read all of them? It's crucial for the program I'm implementing.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653293033,"creation_date":1653293033,"answer_id":72345146,"question_id":72337917,"body_markdown":"When you&#39;re using the following line of code:\r\n\r\n    gameRef.setValue(g);\r\n\r\nThe data you&#39;re trying to write into the database may succeed or fail, but you&#39;ll never know that since you aren&#39;t attaching a listener to check that. So solve this, you have to attach a listener as in the following lines of code:\r\n\r\n    gameRef.setValue(g).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                Log.d(&quot;TAG&quot;, &quot;The operation is complete.&quot;);\r\n                showkey.setText(g.key);\r\n            } else {\r\n                Log.d(&quot;TAG&quot;, task.getException().getMessage());\r\n            }\r\n        }\r\n    });\r\n\r\nIf the operation fails, most likely the Firebase servers rejected your operation. So make sure you have the proper rules. Otherwise, set the key to the TextView. Remember that all Firebase APIs are asynchronous. This includes the write and the read operations. If you need later to read the data, I recommend you check the following article:\r\n\r\n* [How to read data from Firebase Realtime Database using get()?][1]\r\n\r\n\r\n  [1]: https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5","title":"I don&#39;t see any data in my Realtime Database in Firebase&#39;s console","body":"<p>When you're using the following line of code:</p>\n<pre><code>gameRef.setValue(g);\n</code></pre>\n<p>The data you're trying to write into the database may succeed or fail, but you'll never know that since you aren't attaching a listener to check that. So solve this, you have to attach a listener as in the following lines of code:</p>\n<pre><code>gameRef.setValue(g).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n        if (task.isSuccessful()) {\n            Log.d(&quot;TAG&quot;, &quot;The operation is complete.&quot;);\n            showkey.setText(g.key);\n        } else {\n            Log.d(&quot;TAG&quot;, task.getException().getMessage());\n        }\n    }\n});\n</code></pre>\n<p>If the operation fails, most likely the Firebase servers rejected your operation. So make sure you have the proper rules. Otherwise, set the key to the TextView. Remember that all Firebase APIs are asynchronous. This includes the write and the read operations. If you need later to read the data, I recommend you check the following article:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">How to read data from Firebase Realtime Database using get()?</a></li>\n</ul>\n"}],"owner":{"account_id":22989018,"reputation":35,"user_id":17114802,"display_name":"Aviv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72345146,"answer_count":1,"score":0,"last_activity_date":1653293197,"creation_date":1653225555,"question_id":72337917,"body_markdown":"I&#39;m trying to figure out how to use Firebase properly, so I made this simple code, saving a &quot;game&quot; object with code and password. I also made it show the game&#39;s key on the screen. running the code, it works and shows what looks like a key on the screen, but I can&#39;t find any of the data anywhere on my Firebase Console. Here&#39;s the code:\r\n\r\n```\r\npublic class testthing extends AppCompatActivity implements View.OnClickListener {\r\n    EditText pass;\r\n    TextView showkey;\r\n    EditText code;\r\n    Button create;\r\n    String codestr;\r\n    String passstr;\r\n    FirebaseDatabase firebaseDatabase;\r\n    DatabaseReference gameRef;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_testthing);\r\n        pass = findViewById(R.id.pass);\r\n        code = findViewById(R.id.code);\r\n        create = findViewById(R.id.create);\r\n        showkey = findViewById(R.id.showthingy);\r\n        firebaseDatabase = FirebaseDatabase.getInstance();\r\n        create.setOnClickListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        if(view==create){\r\n            codestr=code.getText().toString();\r\n            passstr=pass.getText().toString();\r\n\r\n            Game g = new Game(codestr,passstr,&quot;&quot;);\r\n            gameRef = firebaseDatabase.getReference(&quot;gameRooms&quot;).push();\r\n            g.key = gameRef.getKey();\r\n            gameRef.setValue(g);\r\n            showkey.setText(g.key);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nwith the &quot;game&quot; class being:\r\n```\r\n@IgnoreExtraProperties\r\npublic class Game {\r\n    public String key;\r\n    public String code;\r\n    public String password;\r\n    public Game(){\r\n    }\r\n    public Game(String code, String password,String key){\r\n\r\n        this.code = code;\r\n        this.password = password;\r\n        this.key = key;\r\n    }\r\n\r\n}\r\n```\r\n","title":"I don&#39;t see any data in my Realtime Database in Firebase&#39;s console","body":"<p>I'm trying to figure out how to use Firebase properly, so I made this simple code, saving a &quot;game&quot; object with code and password. I also made it show the game's key on the screen. running the code, it works and shows what looks like a key on the screen, but I can't find any of the data anywhere on my Firebase Console. Here's the code:</p>\n<pre><code>public class testthing extends AppCompatActivity implements View.OnClickListener {\n    EditText pass;\n    TextView showkey;\n    EditText code;\n    Button create;\n    String codestr;\n    String passstr;\n    FirebaseDatabase firebaseDatabase;\n    DatabaseReference gameRef;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_testthing);\n        pass = findViewById(R.id.pass);\n        code = findViewById(R.id.code);\n        create = findViewById(R.id.create);\n        showkey = findViewById(R.id.showthingy);\n        firebaseDatabase = FirebaseDatabase.getInstance();\n        create.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n        if(view==create){\n            codestr=code.getText().toString();\n            passstr=pass.getText().toString();\n\n            Game g = new Game(codestr,passstr,&quot;&quot;);\n            gameRef = firebaseDatabase.getReference(&quot;gameRooms&quot;).push();\n            g.key = gameRef.getKey();\n            gameRef.setValue(g);\n            showkey.setText(g.key);\n\n        }\n    }\n}\n</code></pre>\n<p>with the &quot;game&quot; class being:</p>\n<pre><code>@IgnoreExtraProperties\npublic class Game {\n    public String key;\n    public String code;\n    public String password;\n    public Game(){\n    }\n    public Game(String code, String password,String key){\n\n        this.code = code;\n        this.password = password;\n        this.key = key;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":9432262,"reputation":79450,"user_id":7015400,"accept_rate":38,"display_name":"Peter Haddad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577996864,"creation_date":1577996864,"answer_id":59569603,"question_id":59569425,"body_markdown":"Change the security rules to the following :\r\n\r\n```\r\n{\r\n  // Allow read/write access to all users under any conditions\r\n  // Warning: **NEVER** use this ruleset in production; it allows\r\n  // anyone to overwrite your entire database.\r\n\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: true\r\n    &quot;.write&quot;: true\r\n  }\r\n}\r\n    \r\n```","title":"Android App won&#39;t write to Firebase Realtime Database","body":"<p>Change the security rules to the following :</p>\n\n<pre><code>{\n  // Allow read/write access to all users under any conditions\n  // Warning: **NEVER** use this ruleset in production; it allows\n  // anyone to overwrite your entire database.\n\n  \"rules\": {\n    \".read\": true\n    \".write\": true\n  }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578353167,"creation_date":1578020826,"answer_id":59572705,"question_id":59569425,"body_markdown":"Once you finished creating the account by using `mAuth`, you should store the data location, etc in the Firebase.\r\n\r\n    //Code taken from https://firebase.google.com/docs/auth/android/start on 10/11/2019\r\n    mAuth.createUserWithEmailAndPassword(email, password)\r\n        .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n            if (task.isSuccessful()) {\r\n    \t\t\t// Sign in success, update UI with the signed-in user&#39;s information\r\n    \t\t\t\r\n\t\t\t// Here we will get the user information, ex userUid (optional)\r\n\t\t\tFirebaseUser user = mAuth.getCurrentUser();\r\n\t\t\t\r\n\t\t\t//After that store the data before intent to next activity\r\n\t\t\tinsertDataDB();\r\n\r\n\t\t\t//Then proceed to next activity\r\n            Intent intent_signup = new Intent(register.this, home.class);\r\n            startActivity(intent_signup);\r\n            finish();\r\n           \r\n            Toast.makeText(register.this, &quot;Authentication Successful!&quot;, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            // If sign in fails, display a message to the user.\r\n            Toast.makeText(register.this, &quot;Authentication failed.&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        // ...\r\n    }\r\n    });\r\n\r\nUPDATED:\r\nStore method.\r\n\r\n     public void insertDataDB()\r\n     {\r\n            String username = usernameReg.getText().toString();\r\n            String office = officeReg.getText().toString();\r\n            String job = roleReg.getText().toString();\r\n            String email = emailReg.getText().toString();\r\n            String id = databaseUsers.push().getKey();\r\n    \r\n            Users user1 = new Users(username, office, job, email);\r\n            databaseUsers.child(id).setValue(user1).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                if (task.isSuccessful()){\r\n                    //Success store data in database.\r\n                    Toast.makeText(getApplicationContext(),&quot;Success&quot;,Toast.LENGTH_LONG).show();\r\n                }else {\r\n                    //Something happened\r\n                    Toast.makeText(getApplicationContext(),&quot;Error: &quot; + task.getException().getMessage(),Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        });\r\n    }\r\n","title":"Android App won&#39;t write to Firebase Realtime Database","body":"<p>Once you finished creating the account by using <code>mAuth</code>, you should store the data location, etc in the Firebase.</p>\n\n<pre><code>//Code taken from https://firebase.google.com/docs/auth/android/start on 10/11/2019\nmAuth.createUserWithEmailAndPassword(email, password)\n    .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n        if (task.isSuccessful()) {\n            // Sign in success, update UI with the signed-in user's information\n\n        // Here we will get the user information, ex userUid (optional)\n        FirebaseUser user = mAuth.getCurrentUser();\n\n        //After that store the data before intent to next activity\n        insertDataDB();\n\n        //Then proceed to next activity\n        Intent intent_signup = new Intent(register.this, home.class);\n        startActivity(intent_signup);\n        finish();\n\n        Toast.makeText(register.this, \"Authentication Successful!\", Toast.LENGTH_SHORT).show();\n    } else {\n        // If sign in fails, display a message to the user.\n        Toast.makeText(register.this, \"Authentication failed.\", Toast.LENGTH_SHORT).show();\n    }\n\n    // ...\n}\n});\n</code></pre>\n\n<p>UPDATED:\nStore method.</p>\n\n<pre><code> public void insertDataDB()\n {\n        String username = usernameReg.getText().toString();\n        String office = officeReg.getText().toString();\n        String job = roleReg.getText().toString();\n        String email = emailReg.getText().toString();\n        String id = databaseUsers.push().getKey();\n\n        Users user1 = new Users(username, office, job, email);\n        databaseUsers.child(id).setValue(user1).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n            if (task.isSuccessful()){\n                //Success store data in database.\n                Toast.makeText(getApplicationContext(),\"Success\",Toast.LENGTH_LONG).show();\n            }else {\n                //Something happened\n                Toast.makeText(getApplicationContext(),\"Error: \" + task.getException().getMessage(),Toast.LENGTH_LONG).show();\n            }\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":17339933,"reputation":95,"user_id":12560868,"display_name":"Chloe Hamilton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653293147,"creation_date":1577995853,"question_id":59569425,"body_markdown":"I&#39;m using Firebase and Android Studio to build an app. I have a register screen that asks the user for things such as username and location etc. When the register button is clicked, the users&#39; email and password work and show up in the authentication tab in the Firebase Console. However, I cannot get the users details such as username and location, to store in the Firebase Realtime Database. \r\n\r\n    package com.example.securityapp;\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n\r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.AuthResult;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    import com.google.firebase.auth.FirebaseUser;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n\r\n    public class register extends AppCompatActivity {\r\n\r\n        private FirebaseAuth mAuth;\r\n        EditText emailReg, passwordReg, password2, roleReg, officeReg;\r\n        Button regButton;\r\n        DatabaseReference databaseUsers;\r\n        EditText usernameReg;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_register);\r\n\r\n            emailReg = (EditText) findViewById(R.id.regEmail);\r\n            usernameReg = (EditText) findViewById(R.id.regUsername);\r\n            passwordReg = (EditText) findViewById(R.id.regPassword);\r\n            regButton = (Button) findViewById(R.id.register_Button);\r\n            password2 = (EditText) findViewById(R.id.confirm_password);\r\n            roleReg = (EditText) findViewById(R.id.regRole);\r\n            officeReg = (EditText) findViewById(R.id.regOffice);\r\n            databaseUsers = FirebaseDatabase.getInstance().getReference();\r\n            mAuth = FirebaseAuth.getInstance();\r\n        }\r\n        \r\n        public void registerUser() {\r\n            final String email = emailReg.getText().toString();\r\n            final String password = passwordReg.getText().toString();\r\n            String pass2 = password2.getText().toString();\r\n            if(!pass2.equals(password))\r\n            {\r\n                Toast.makeText(register.this, &quot;Passwords Do Not Match&quot;,\r\n                        Toast.LENGTH_SHORT).show();\r\n                        return;\r\n            }\r\n            //Code taken from https://firebase.google.com/docs/auth/android/start on 10/11/2019\r\n            mAuth.createUserWithEmailAndPassword(email, password)\r\n                    .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                // Sign in success, update UI with the signed-in user&#39;s information\r\n\r\n                                Intent intent_signup = new Intent(register.this, home.class);\r\n                                startActivity(intent_signup);\r\n                                finish();\r\n                                FirebaseUser user = mAuth.getCurrentUser();\r\n                                Toast.makeText(register.this, &quot;Authentication Successful!&quot;,\r\n                                        Toast.LENGTH_SHORT).show();\r\n                            } else {\r\n                                // If sign in fails, display a message to the user.\r\n                                Toast.makeText(register.this, &quot;Authentication failed.&quot;,\r\n                                        Toast.LENGTH_SHORT).show();\r\n                            }\r\n\r\n                            // ...\r\n                        }\r\n                    });\r\n\r\n        }\r\n\r\n\r\n        public void registerOnClick(View view)\r\n        {\r\n            regButton.setOnClickListener(new View.OnClickListener()\r\n            {\r\n                @Override\r\n                public void onClick(View v)\r\n                {\r\n\r\n                    registerUser();\r\n                    insertDataDB();\r\n\r\n                }\r\n            });\r\n\r\n\r\n        }\r\n\r\n        public void insertDataDB()\r\n        {\r\n             String username = usernameReg.getText().toString();\r\n             String office = officeReg.getText().toString();\r\n             String job = roleReg.getText().toString();\r\n             String email = emailReg.getText().toString();\r\n\r\n\r\n            String id = databaseUsers.push().getKey();\r\n\r\n            Users user1 = new Users(username, office, job, email);\r\n            databaseUsers.child(id).setValue(user1);\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\nUsers.java\r\n\r\n\r\n    package com.example.securityapp;\r\n\r\n    public class Users {\r\n\r\n         String username;\r\n         String job;\r\n         String email;\r\n         String office;\r\n\r\n         public Users()\r\n        {\r\n\r\n        }\r\n\r\n        public Users(String username, String job, String email, String office)\r\n        {\r\n            this.username = username;\r\n            this.job = job;\r\n            this.email = email;\r\n            this.office = office;\r\n        }\r\n\r\n        public String getUsername()\r\n        {\r\n            return username;\r\n        }\r\n\r\n        public String getJob() { return job; }\r\n\r\n        public String getEmail()\r\n        {\r\n            return email;\r\n        }\r\n\r\n        public String getOffice()\r\n        {\r\n            return office;\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n---\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WISOB.png\r\n\r\nThis is the notification I am receiving but I am not using Cloud Firestore, I am trying to use Realtime database","title":"Android App won&#39;t write to Firebase Realtime Database","body":"<p>I'm using Firebase and Android Studio to build an app. I have a register screen that asks the user for things such as username and location etc. When the register button is clicked, the users' email and password work and show up in the authentication tab in the Firebase Console. However, I cannot get the users details such as username and location, to store in the Firebase Realtime Database.</p>\n<pre><code>package com.example.securityapp;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\npublic class register extends AppCompatActivity {\n\n    private FirebaseAuth mAuth;\n    EditText emailReg, passwordReg, password2, roleReg, officeReg;\n    Button regButton;\n    DatabaseReference databaseUsers;\n    EditText usernameReg;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n        emailReg = (EditText) findViewById(R.id.regEmail);\n        usernameReg = (EditText) findViewById(R.id.regUsername);\n        passwordReg = (EditText) findViewById(R.id.regPassword);\n        regButton = (Button) findViewById(R.id.register_Button);\n        password2 = (EditText) findViewById(R.id.confirm_password);\n        roleReg = (EditText) findViewById(R.id.regRole);\n        officeReg = (EditText) findViewById(R.id.regOffice);\n        databaseUsers = FirebaseDatabase.getInstance().getReference();\n        mAuth = FirebaseAuth.getInstance();\n    }\n    \n    public void registerUser() {\n        final String email = emailReg.getText().toString();\n        final String password = passwordReg.getText().toString();\n        String pass2 = password2.getText().toString();\n        if(!pass2.equals(password))\n        {\n            Toast.makeText(register.this, &quot;Passwords Do Not Match&quot;,\n                    Toast.LENGTH_SHORT).show();\n                    return;\n        }\n        //Code taken from https://firebase.google.com/docs/auth/android/start on 10/11/2019\n        mAuth.createUserWithEmailAndPassword(email, password)\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                            // Sign in success, update UI with the signed-in user's information\n\n                            Intent intent_signup = new Intent(register.this, home.class);\n                            startActivity(intent_signup);\n                            finish();\n                            FirebaseUser user = mAuth.getCurrentUser();\n                            Toast.makeText(register.this, &quot;Authentication Successful!&quot;,\n                                    Toast.LENGTH_SHORT).show();\n                        } else {\n                            // If sign in fails, display a message to the user.\n                            Toast.makeText(register.this, &quot;Authentication failed.&quot;,\n                                    Toast.LENGTH_SHORT).show();\n                        }\n\n                        // ...\n                    }\n                });\n\n    }\n\n\n    public void registerOnClick(View view)\n    {\n        regButton.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View v)\n            {\n\n                registerUser();\n                insertDataDB();\n\n            }\n        });\n\n\n    }\n\n    public void insertDataDB()\n    {\n         String username = usernameReg.getText().toString();\n         String office = officeReg.getText().toString();\n         String job = roleReg.getText().toString();\n         String email = emailReg.getText().toString();\n\n\n        String id = databaseUsers.push().getKey();\n\n        Users user1 = new Users(username, office, job, email);\n        databaseUsers.child(id).setValue(user1);\n\n\n    }\n\n}\n</code></pre>\n<p>Users.java</p>\n<pre><code>package com.example.securityapp;\n\npublic class Users {\n\n     String username;\n     String job;\n     String email;\n     String office;\n\n     public Users()\n    {\n\n    }\n\n    public Users(String username, String job, String email, String office)\n    {\n        this.username = username;\n        this.job = job;\n        this.email = email;\n        this.office = office;\n    }\n\n    public String getUsername()\n    {\n        return username;\n    }\n\n    public String getJob() { return job; }\n\n    public String getEmail()\n    {\n        return email;\n    }\n\n    public String getOffice()\n    {\n        return office;\n    }\n\n\n\n}\n</code></pre>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/WISOB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WISOB.png\" alt=\"\" /></a></p>\n<p>This is the notification I am receiving but I am not using Cloud Firestore, I am trying to use Realtime database</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1653287919,"post_id":72344114,"comment_id":127805213,"body_markdown":"The first 2 are warnings related to your log4j configuration and very likely not the reason your tables aren&#39;t updated. The others are info messages and also very likely not a real issue. The logging issue might be preventing you from seeing the actual issue but without more information we can&#39;t help. Please fix the logging issue or ask another question about it first then post any messages and code related to updating your tables. Oh and btw: please read [ask] _first_.","body":"The first 2 are warnings related to your log4j configuration and very likely not the reason your tables aren&#39;t updated. The others are info messages and also very likely not a real issue. The logging issue might be preventing you from seeing the actual issue but without more information we can&#39;t help. Please fix the logging issue or ask another question about it first then post any messages and code related to updating your tables. Oh and btw: please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> <i>first</i>."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1653288863,"post_id":72344114,"comment_id":127805467,"body_markdown":"If you believe the inability to delete temp files is the reason, have you checked the paths mentioned in the logs? Do the files exist? Who is the owner? What are the permissions?","body":"If you believe the inability to delete temp files is the reason, have you checked the paths mentioned in the logs? Do the files exist? Who is the owner? What are the permissions?"}],"owner":{"account_id":19834119,"reputation":1,"user_id":14528095,"display_name":"Kajal Gujar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653292829,"creation_date":1653287506,"question_id":72344114,"body_markdown":"I am receiving below error in my program because of which my table is not getting updated. can anyone help me with it :-\r\n\r\n    log4j:WARN No appenders could be found for logger (org.apache.axis2.description.AxisService).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    May 22, 2022 10:22:18 PM org.apache.axis2.deployment.util.TempFileManager &lt;clinit&gt;\r\n    INFO: TempFileManager::unable to delete /tmp/axis2-tmp-7142968763938811683.tmp\r\n    May 22, 2022 10:22:18 PM org.apache.axis2.deployment.util.TempFileManager &lt;clinit&gt;\r\n    INFO: TempFileManager::unable to delete /tmp/axis2-tmp-1931726811019904379.tmp\r\n    May 22, 2022 10:22:18 PM org.apache.axis2.deployment.util.TempFileManager &lt;clinit&gt;\r\n    INFO: TempFileManager::unable to delete /tmp/axis2-tmp-804075563315894510.tmp","title":"Issue in updating table","body":"<p>I am receiving below error in my program because of which my table is not getting updated. can anyone help me with it :-</p>\n<pre><code>log4j:WARN No appenders could be found for logger (org.apache.axis2.description.AxisService).\nlog4j:WARN Please initialize the log4j system properly.\nMay 22, 2022 10:22:18 PM org.apache.axis2.deployment.util.TempFileManager &lt;clinit&gt;\nINFO: TempFileManager::unable to delete /tmp/axis2-tmp-7142968763938811683.tmp\nMay 22, 2022 10:22:18 PM org.apache.axis2.deployment.util.TempFileManager &lt;clinit&gt;\nINFO: TempFileManager::unable to delete /tmp/axis2-tmp-1931726811019904379.tmp\nMay 22, 2022 10:22:18 PM org.apache.axis2.deployment.util.TempFileManager &lt;clinit&gt;\nINFO: TempFileManager::unable to delete /tmp/axis2-tmp-804075563315894510.tmp\n</code></pre>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1652102860,"post_id":72172713,"comment_id":127517776,"body_markdown":"How do you initialize your variables?","body":"How do you initialize your variables?"},{"owner":{"account_id":22970615,"reputation":83,"user_id":17099045,"display_name":"santocielo99"},"score":0,"creation_date":1652103278,"post_id":72172713,"comment_id":127517958,"body_markdown":"the first is from an object gotten from an http request, the second one is declared as a string and initialized to null, if the mont value from the same object as the year is less than 10 then I give it the value of &quot;0&quot;+the month the if was based on,if not it&#39;s just String.valueOf the month, the third one is fetched from the repository.","body":"the first is from an object gotten from an http request, the second one is declared as a string and initialized to null, if the mont value from the same object as the year is less than 10 then I give it the value of &quot;0&quot;+the month the if was based on,if not it&#39;s just String.valueOf the month, the third one is fetched from the repository."}],"answers":[{"tags":[],"owner":{"account_id":22970615,"reputation":83,"user_id":17099045,"display_name":"santocielo99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653292007,"creation_date":1653292007,"answer_id":72344937,"question_id":72172713,"body_markdown":"in the query I had to cast the month into a char so that the expected type becomes string.","title":"parameter value does not match expected type, except yes it does","body":"<p>in the query I had to cast the month into a char so that the expected type becomes string.</p>\n"}],"owner":{"account_id":22970615,"reputation":83,"user_id":17099045,"display_name":"santocielo99"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653292007,"creation_date":1652102685,"question_id":72172713,"body_markdown":"im getting IllegalArgumentException but I don&#39;t think I should, here&#39;s the method:\r\n\r\n    public List&lt;TimbratureOfDay&gt; getTimbratureOfMonth(int year,String month,Long idEmployee);\r\nand here&#39;s where I use it:\r\n\r\n    List&lt;TimbratureOfDay&gt; timbratureOfMonth = timbratureDAO.getTimbratureOfMonth(timeSheetInsertDTO.getAnno(), mese, idEmp);\r\nit expects the second argument to be an integer for some reason, I don&#39;t know what to do","title":"parameter value does not match expected type, except yes it does","body":"<p>im getting IllegalArgumentException but I don't think I should, here's the method:</p>\n<pre><code>public List&lt;TimbratureOfDay&gt; getTimbratureOfMonth(int year,String month,Long idEmployee);\n</code></pre>\n<p>and here's where I use it:</p>\n<pre><code>List&lt;TimbratureOfDay&gt; timbratureOfMonth = timbratureDAO.getTimbratureOfMonth(timeSheetInsertDTO.getAnno(), mese, idEmp);\n</code></pre>\n<p>it expects the second argument to be an integer for some reason, I don't know what to do</p>\n"},{"tags":["java","tomcat","webserver","java-11","tomcat9"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1653282919,"post_id":72343103,"comment_id":127804127,"body_markdown":"I can see that you have replaced all the jar files inside lib folder. But could you run this command from lib folder and confirm `java -cp &quot;catalina.jar&quot; org.apache.catalina.util.ServerInfo`","body":"I can see that you have replaced all the jar files inside lib folder. But could you run this command from lib folder and confirm <code>java -cp &quot;catalina.jar&quot; org.apache.catalina.util.ServerInfo</code>"},{"owner":{"account_id":14383014,"reputation":21,"user_id":10389702,"display_name":"anonymous"},"score":0,"creation_date":1653292026,"post_id":72343103,"comment_id":127806541,"body_markdown":"Hi Chetan, added a screenshot in the main description above, it also shows 9.0.62. Do you see any other discrepency?","body":"Hi Chetan, added a screenshot in the main description above, it also shows 9.0.62. Do you see any other discrepency?"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1653294924,"post_id":72343103,"comment_id":127807546,"body_markdown":"Which VAPT tool are you using?","body":"Which VAPT tool are you using?"},{"owner":{"account_id":14383014,"reputation":21,"user_id":10389702,"display_name":"anonymous"},"score":0,"creation_date":1653296290,"post_id":72343103,"comment_id":127808013,"body_markdown":"Rapid7 is the VAPT I am currently using","body":"Rapid7 is the VAPT I am currently using"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1653297125,"post_id":72343103,"comment_id":127808286,"body_markdown":"Could this be the issue?\nhttps://github.com/rapid7/metasploitable3/issues/460","body":"Could this be the issue? <a href=\"https://github.com/rapid7/metasploitable3/issues/460\" rel=\"nofollow noreferrer\">github.com/rapid7/metasploitable3/issues/460</a>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1653392088,"post_id":72343103,"comment_id":127836077,"body_markdown":"A good VAPT tool should give you the details on what base (e.g. file) it has detected the version.","body":"A good VAPT tool should give you the details on what base (e.g. file) it has detected the version."}],"owner":{"account_id":14383014,"reputation":21,"user_id":10389702,"display_name":"anonymous"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653291969,"creation_date":1653278153,"question_id":72343103,"body_markdown":"I was using Apache tomcat 9.0.44 earlier and due to some security vulnerabilities I&#39;ve upgraded it to 9.0.62 now. \r\n\r\n/bin/Version.bat shows correct version now 9.0.62\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso checked registry keys and it also shows correct version\r\n\r\n[![enter image description here][2]][2]\r\n\r\nStill on security dashboard we are getting &quot;Vulnerable version of Apache Tomcat is installed 9.0.44&quot;\r\nAll the applications are working fine. \r\n\r\nI am not sure if during upgrade I&#39;ve missed anything.\r\nDuring upgrade from 9.0.44 to 9.0.62 these were the steps that I&#39;d followed:-\r\n\r\n1.  From this URL https://tomcat.apache.org/migration-9.html#Upgrading_9.0.x checked the configuration file changes from Apache tomcat 9.0.44 to apache tomcat 9.0.62 and perform these changes in the configuration files as applicable.\r\n2. Replaced all jar files from \r\nDownloads\\apache-tomcat-9.0.62-windows-x64\\apache-tomcat-9.0.62\\lib to \r\nTomcat9/lib directory\r\n3. Updated Bootstrap.jar , Tomcat-juli jar , Tomcat9.exe , Tomcat9w.exe files from \r\nDownloads\\apache-tomcat-9.0.62-windows-x64\\apache-tomcat-9.0.62\\bin to \r\nTomcat9/bin\r\n\r\nAlso java -cp &quot;catalina.jar&quot; org.apache.catalina.util.ServerInfo shows :- \r\n\r\n[![enter image description here][3]][3]\r\ncould anyone please suggest what is incorrect in this case?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sWRpP.png\r\n  [2]: https://i.stack.imgur.com/1RZyx.png\r\n  [3]: https://i.stack.imgur.com/qgP2b.png","title":"Apache Tomcat showing incorrect version after upgrade","body":"<p>I was using Apache tomcat 9.0.44 earlier and due to some security vulnerabilities I've upgraded it to 9.0.62 now.</p>\n<p>/bin/Version.bat shows correct version now 9.0.62</p>\n<p><a href=\"https://i.stack.imgur.com/sWRpP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sWRpP.png\" alt=\"enter image description here\" /></a></p>\n<p>Also checked registry keys and it also shows correct version</p>\n<p><a href=\"https://i.stack.imgur.com/1RZyx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1RZyx.png\" alt=\"enter image description here\" /></a></p>\n<p>Still on security dashboard we are getting &quot;Vulnerable version of Apache Tomcat is installed 9.0.44&quot;\nAll the applications are working fine.</p>\n<p>I am not sure if during upgrade I've missed anything.\nDuring upgrade from 9.0.44 to 9.0.62 these were the steps that I'd followed:-</p>\n<ol>\n<li>From this URL <a href=\"https://tomcat.apache.org/migration-9.html#Upgrading_9.0.x\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/migration-9.html#Upgrading_9.0.x</a> checked the configuration file changes from Apache tomcat 9.0.44 to apache tomcat 9.0.62 and perform these changes in the configuration files as applicable.</li>\n<li>Replaced all jar files from\nDownloads\\apache-tomcat-9.0.62-windows-x64\\apache-tomcat-9.0.62\\lib to\nTomcat9/lib directory</li>\n<li>Updated Bootstrap.jar , Tomcat-juli jar , Tomcat9.exe , Tomcat9w.exe files from\nDownloads\\apache-tomcat-9.0.62-windows-x64\\apache-tomcat-9.0.62\\bin to\nTomcat9/bin</li>\n</ol>\n<p>Also java -cp &quot;catalina.jar&quot; org.apache.catalina.util.ServerInfo shows :-</p>\n<p><a href=\"https://i.stack.imgur.com/qgP2b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qgP2b.png\" alt=\"enter image description here\" /></a>\ncould anyone please suggest what is incorrect in this case?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-eks","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653291857,"creation_date":1653291857,"answer_id":72344914,"question_id":72344685,"body_markdown":"**STS is (Security Token Service)**, and that is what it is using in order to allow you access to S3 from the POD.\r\n\r\nOnce you removed the `awssdk:sts` dependency, you essentially removed all logic communicating with this service to authenticate S3AsyncClient.\r\n\r\n\r\nAccording to this, https://docs.aws.amazon.com/eks/latest/userguide/iam-roles-for-service-accounts.html  it is best to provide a Role (Which has access to S3) to your EKS Service Account.\r\n\r\n\r\n\r\nOtherwise, credentials can be provided to the S3 Client directly, but this is not the recommended way to do it:\r\n\r\n\r\n     AwsCredentialsProvider creds = StaticCredentialsProvider.create(AwsBasicCredentials.create(&quot;accessKey&quot;,&quot;secretKey&quot;));\r\n    \r\n    \r\n    S3AsyncClient.builder().credentialsProvider(creds)\r\n                        .region(Region.US_WEST_1)\r\n                        .build();\r\n","title":"Is there a way to access S3 while relying only on software.amazon.awssdk:s3:2.17.173?","body":"<p><strong>STS is (Security Token Service)</strong>, and that is what it is using in order to allow you access to S3 from the POD.</p>\n<p>Once you removed the <code>awssdk:sts</code> dependency, you essentially removed all logic communicating with this service to authenticate S3AsyncClient.</p>\n<p>According to this, <a href=\"https://docs.aws.amazon.com/eks/latest/userguide/iam-roles-for-service-accounts.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/eks/latest/userguide/iam-roles-for-service-accounts.html</a>  it is best to provide a Role (Which has access to S3) to your EKS Service Account.</p>\n<p>Otherwise, credentials can be provided to the S3 Client directly, but this is not the recommended way to do it:</p>\n<pre><code> AwsCredentialsProvider creds = StaticCredentialsProvider.create(AwsBasicCredentials.create(&quot;accessKey&quot;,&quot;secretKey&quot;));\n\n\nS3AsyncClient.builder().credentialsProvider(creds)\n                    .region(Region.US_WEST_1)\n                    .build();\n</code></pre>\n"}],"owner":{"account_id":25363352,"reputation":13,"user_id":19178258,"display_name":"Connor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72344914,"answer_count":1,"score":0,"last_activity_date":1653291857,"creation_date":1653290704,"question_id":72344685,"body_markdown":"I use S3AsyncClient to access my bucket. S3AsyncClient is created as follows:\r\n```\r\nS3AsyncClient s3Client = S3AsyncClient.builder().region(Region.of(region)).build();\r\n```\r\nThen I read S3Object using async as follows:\r\n```\r\nGetObjectRequest objectRequest = GetObjectRequest.builder().bucket(bucket).key(key).range(range).build();\r\n        asyncClient.getObject(objectRequest, AsyncResponseTransformer.toBytes()).whenComplete((res, error) -&gt; {\r\n            doResponse(res, error);\r\n        });\r\n```\r\nMy code is deployed in EKS. The POD it&#39;s in has access to the same bucket location on S3 via aws cli. The response of using aws sts get-caller-identity on this POD and using stsClient in the code is only different in the userId part, and the account and role are the same.\r\n\r\nThe weird thing is when I remove the dependency software.amazon.awssdk:sts from the program, it won&#39;t be able to access S3 in POD. The response code is 403 and the message is Access Denied.\r\n\r\nI didn&#39;t see in the Developer guide - AWS SDK for Java 2.x that accessing S3 must depend on sts. So, does anyone know what is the reason for this?\r\n","title":"Is there a way to access S3 while relying only on software.amazon.awssdk:s3:2.17.173?","body":"<p>I use S3AsyncClient to access my bucket. S3AsyncClient is created as follows:</p>\n<pre><code>S3AsyncClient s3Client = S3AsyncClient.builder().region(Region.of(region)).build();\n</code></pre>\n<p>Then I read S3Object using async as follows:</p>\n<pre><code>GetObjectRequest objectRequest = GetObjectRequest.builder().bucket(bucket).key(key).range(range).build();\n        asyncClient.getObject(objectRequest, AsyncResponseTransformer.toBytes()).whenComplete((res, error) -&gt; {\n            doResponse(res, error);\n        });\n</code></pre>\n<p>My code is deployed in EKS. The POD it's in has access to the same bucket location on S3 via aws cli. The response of using aws sts get-caller-identity on this POD and using stsClient in the code is only different in the userId part, and the account and role are the same.</p>\n<p>The weird thing is when I remove the dependency software.amazon.awssdk:sts from the program, it won't be able to access S3 in POD. The response code is 403 and the message is Access Denied.</p>\n<p>I didn't see in the Developer guide - AWS SDK for Java 2.x that accessing S3 must depend on sts. So, does anyone know what is the reason for this?</p>\n"},{"tags":["java","uml"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1487782517,"post_id":42397555,"comment_id":71942315,"body_markdown":"It&#39;s not `1 : 1` unless every country has exactly one airport. It&#39;s `1` country to `*` airports. I would guess that the diamond should be on the `Airport` side of the relationship (but wouldn&#39;t swear to it).","body":"It&#39;s not <code>1 : 1</code> unless every country has exactly one airport. It&#39;s <code>1</code> country to <code>*</code> airports. I would guess that the diamond should be on the <code>Airport</code> side of the relationship (but wouldn&#39;t swear to it)."},{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":1,"creation_date":1487805678,"post_id":42397555,"comment_id":71955144,"body_markdown":"An `&lt;&lt;enumeration&gt;&gt;` is a DataType, not a stereotyped class (though they look identical). In that sense you can not compose a class of an `&lt;&lt;enumeration&gt;&gt;`. This means that both diagrams are wrong. Where the 2nd is even &quot;wronger&quot; than the 1st.","body":"An <code>&lt;&lt;enumeration&gt;&gt;</code> is a DataType, not a stereotyped class (though they look identical). In that sense you can not compose a class of an <code>&lt;&lt;enumeration&gt;&gt;</code>. This means that both diagrams are wrong. Where the 2nd is even &quot;wronger&quot; than the 1st."}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487782606,"creation_date":1487782606,"answer_id":42397712,"question_id":42397555,"body_markdown":"This would depend on the ultimate model you&#39;re trying to build.  \r\n\r\nIf your model includes countries as first-class objects or entities then clearly a country contains airports.  If Country is an attribute of an airport (more properly an attribute of the airport&#39;s location), then model it as such.\r\n\r\nUnless you have a good reason to model countries as entities I&#39;d go with the attribute, since borders can shift and airports can change countries.\r\n\r\nIn other words, this question doesn&#39;t have a definite answer, either can work depending on your ultimate goals.","title":"Composition in UML","body":"<p>This would depend on the ultimate model you're trying to build.  </p>\n\n<p>If your model includes countries as first-class objects or entities then clearly a country contains airports.  If Country is an attribute of an airport (more properly an attribute of the airport's location), then model it as such.</p>\n\n<p>Unless you have a good reason to model countries as entities I'd go with the attribute, since borders can shift and airports can change countries.</p>\n\n<p>In other words, this question doesn't have a definite answer, either can work depending on your ultimate goals.</p>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1653291695,"creation_date":1487782614,"answer_id":42397720,"question_id":42397555,"body_markdown":"I think that this is **not** a composition in the strong &quot;UML sense&quot; of that word.\r\n\r\nFrom [wikipedia][1]:\r\n\r\n*The relationship between the composite and the component is a strong “has a” relationship, as the composite object takes ownership of the component. This means the composite is responsible for the creation and destruction of the component parts.*\r\n\r\nAn Airport does not *create* countries (and in IT sense, a &quot;country&quot; object is also not responsible for providing/creating &quot;airport&quot; objects).\r\n\r\nIn that sense, you are looking towards an association here; and I think the first one fits better (talking in &quot;general&quot;). But the core aspect is: *your* model has to *express* the specific requirements of *your* domain. In other words: both solutions are valid; it very much depends on the context which one to choose. So, pick the one that helps you solving your problem!\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Object_composition","title":"Composition in UML","body":"<p>I think that this is <strong>not</strong> a composition in the strong &quot;UML sense&quot; of that word.</p>\n<p>From <a href=\"https://en.wikipedia.org/wiki/Object_composition\" rel=\"nofollow noreferrer\">wikipedia</a>:</p>\n<p><em>The relationship between the composite and the component is a strong “has a” relationship, as the composite object takes ownership of the component. This means the composite is responsible for the creation and destruction of the component parts.</em></p>\n<p>An Airport does not <em>create</em> countries (and in IT sense, a &quot;country&quot; object is also not responsible for providing/creating &quot;airport&quot; objects).</p>\n<p>In that sense, you are looking towards an association here; and I think the first one fits better (talking in &quot;general&quot;). But the core aspect is: <em>your</em> model has to <em>express</em> the specific requirements of <em>your</em> domain. In other words: both solutions are valid; it very much depends on the context which one to choose. So, pick the one that helps you solving your problem!</p>\n"},{"tags":[],"owner":{"account_id":7539560,"reputation":1749,"user_id":5724677,"accept_rate":64,"display_name":"granier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487782838,"creation_date":1487782838,"answer_id":42397790,"question_id":42397555,"body_markdown":"If I can suggest :\r\ncf. Section 9.5.3 of UML specification (march 2015) :\r\n\r\nComposite : Indicates that the Property is aggregated compositely, i.e., the composite object has responsibility for the existence and storage of the composed objects (see the definition of parts in 11.2.3).\r\n\r\nand \r\n\r\nComposite aggregation is a strong form of aggregation that requires a part object be included in at most one composite\r\nobject at a time. If a composite object is deleted, all of its part instances that are objects are deleted with it.\r\n\r\nFor me, the question of implementation and logical is more a question about db model. But maybe I am wrong.\r\n\r\nAnd If I have to do a choice I will design the implementation case only.","title":"Composition in UML","body":"<p>If I can suggest :\ncf. Section 9.5.3 of UML specification (march 2015) :</p>\n\n<p>Composite : Indicates that the Property is aggregated compositely, i.e., the composite object has responsibility for the existence and storage of the composed objects (see the definition of parts in 11.2.3).</p>\n\n<p>and </p>\n\n<p>Composite aggregation is a strong form of aggregation that requires a part object be included in at most one composite\nobject at a time. If a composite object is deleted, all of its part instances that are objects are deleted with it.</p>\n\n<p>For me, the question of implementation and logical is more a question about db model. But maybe I am wrong.</p>\n\n<p>And If I have to do a choice I will design the implementation case only.</p>\n"},{"tags":[],"owner":{"account_id":8452563,"reputation":6033,"user_id":6340948,"display_name":"Ister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487788441,"creation_date":1487788441,"answer_id":42399580,"question_id":42397555,"body_markdown":"You can say that airport is a part of a country or in other words is responsible for it. So from business perspective the second approach is correct. To indicate the &quot;knowledge&quot; about the country from airport perspective you can add an open arrow pointing in the country direction just before the diamond.\r\n\r\nRegardless of the approach what exactly you want to model the first diagram is incorrect. With this diagram each airport will be responsible for one country so each airport will be in a different country.","title":"Composition in UML","body":"<p>You can say that airport is a part of a country or in other words is responsible for it. So from business perspective the second approach is correct. To indicate the \"knowledge\" about the country from airport perspective you can add an open arrow pointing in the country direction just before the diamond.</p>\n\n<p>Regardless of the approach what exactly you want to model the first diagram is incorrect. With this diagram each airport will be responsible for one country so each airport will be in a different country.</p>\n"}],"owner":{"account_id":7876574,"reputation":353,"user_id":5952159,"accept_rate":88,"display_name":"Dennis Grinch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4598,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":42397720,"answer_count":4,"score":4,"last_activity_date":1653291695,"creation_date":1487782213,"question_id":42397555,"body_markdown":"In UML diagrams when considering composition. Should we use it in logical or implementation sense. Examples for both terms: \r\n\r\n* Implementation - An airport will contain a reference to the country. In other words, a country is part of the Airport. \r\n* Logical - A country can have zero or many airports. In other words, an airport is part of the country.\r\n\r\n[![UML example diagram][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/n60US.png\r\n\r\nFrom diagram above, which case shows correct usage of composition?\r\nNOTE: if neither of these cases are good, please suggest other ways to show relationship between country and airport.\r\n\r\n\r\n","title":"Composition in UML","body":"<p>In UML diagrams when considering composition. Should we use it in logical or implementation sense. Examples for both terms: </p>\n\n<ul>\n<li>Implementation - An airport will contain a reference to the country. In other words, a country is part of the Airport. </li>\n<li>Logical - A country can have zero or many airports. In other words, an airport is part of the country.</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/n60US.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n60US.png\" alt=\"UML example diagram\"></a></p>\n\n<p>From diagram above, which case shows correct usage of composition?\nNOTE: if neither of these cases are good, please suggest other ways to show relationship between country and airport.</p>\n"},{"tags":["java","git","maven","github","maven-release-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1653055658,"post_id":72319149,"comment_id":127764599,"body_markdown":"Do you mean github on internet or corporate GitHub?","body":"Do you mean github on internet or corporate GitHub?"},{"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"score":0,"creation_date":1653058474,"post_id":72319149,"comment_id":127765744,"body_markdown":"I mean github.com","body":"I mean github.com"},{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":0,"creation_date":1653060042,"post_id":72319149,"comment_id":127766401,"body_markdown":"What does the `git status` command return in terminal?","body":"What does the <code>git status</code> command return in terminal?"},{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1653082537,"post_id":72319149,"comment_id":127773092,"body_markdown":"The `main -&gt; main (non-fast-forward)` error is pretty basic and well-covered in existing SO questions; the real question seems to be why maven is causing the situation (which isn&#39;t really a *Git* question, nor java nor github).","body":"The <code>main -&gt; main (non-fast-forward)</code> error is pretty basic and well-covered in existing SO questions; the real question seems to be why maven is causing the situation (which isn&#39;t really a <i>Git</i> question, nor java nor github)."},{"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"score":0,"creation_date":1653307948,"post_id":72319149,"comment_id":127812209,"body_markdown":"@Boris It says that everything is up-to-date.","body":"@Boris It says that everything is up-to-date."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653291691,"creation_date":1653291691,"answer_id":72344877,"question_id":72319149,"body_markdown":"A `mvn -X` prepare should show you which commit is checked out from your `git:ssh://git@github.com/mycompany/myproject.git`\r\n\r\nCompare it with the latest commit on GitHub to understand the difference.\r\n\r\nTrying to use an `exec` goal to do a [`git pull` before `mvn release`][1] is possible, but it is better to identify first why there is a remote commit that you do not have locally.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10147826/6309","title":"Push to github rejected with maven-release-plugin","body":"<p>A <code>mvn -X</code> prepare should show you which commit is checked out from your <code>git:ssh://git@github.com/mycompany/myproject.git</code></p>\n<p>Compare it with the latest commit on GitHub to understand the difference.</p>\n<p>Trying to use an <code>exec</code> goal to do a <a href=\"https://stackoverflow.com/a/10147826/6309\"><code>git pull</code> before <code>mvn release</code></a> is possible, but it is better to identify first why there is a remote commit that you do not have locally.</p>\n"}],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653291691,"creation_date":1653050670,"question_id":72319149,"body_markdown":"I&#39;ve spent hours trying to release a project to github with Maven. This is usually not a problem but for some reason it is for this project and I don&#39;t understand why. I&#39;m using Maven 3.8.5 with Java 1.8.0_312 and git 2.36.1. Here&#39;s the pom.xml file:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;se.company.myproject&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;myproject-base&lt;/name&gt;\r\n    &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;slf4j.version&gt;1.7.36&lt;/slf4j.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;module1&lt;/module&gt;\r\n        &lt;module&gt;module2&lt;/module&gt;\r\n        &lt;module&gt;module3&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;scm&gt;\r\n        &lt;connection&gt;scm:git:ssh://git@github.com/mycompany/myproject.git&lt;/connection&gt;\r\n        &lt;developerConnection&gt;scm:git:ssh://git@github.com/mycompany/myproject.git&lt;/developerConnection&gt;\r\n        &lt;url&gt;https://github.com/mycompany/myproject.git&lt;/url&gt;\r\n        &lt;tag&gt;4.0.0&lt;/tag&gt;\r\n    &lt;/scm&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;se.company.myproject&lt;/groupId&gt;\r\n                &lt;artifactId&gt;some-internal-dependency&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Test dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;tagNameFormat&gt;@{project.version}&lt;/tagNameFormat&gt;\r\n                    &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;company-releases&lt;/id&gt;\r\n            &lt;name&gt;Internal Releases&lt;/name&gt;\r\n            &lt;url&gt;https://company.se/company-maven-releases/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;company-snapshots&lt;/id&gt;\r\n            &lt;name&gt;Internal Snapshots&lt;/name&gt;\r\n            &lt;url&gt;https://company.se/company-maven-snapshots/&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;company-releases&lt;/id&gt;\r\n            &lt;url&gt;https://company.se/company-maven-releases/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nWhen I run `maven release:prepare` I get this:\r\n\r\n```\r\n[INFO] [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ myproject-module3 ---\r\n[INFO] [INFO] Building jar: /Users/me/code/module3/target/myproject-module3-4.0.0.jar\r\n[INFO] [INFO] ------------------------------------------------------------------------\r\n[INFO] [INFO] Reactor Summary for myproject-base 4.0.0:\r\n[INFO] [INFO] \r\n[INFO] [INFO] myproject-base ..................................... SUCCESS [  0.059 s]\r\n[INFO] [INFO] module1............................................. SUCCESS [  1.097 s]\r\n[INFO] [INFO] module2 ............................................ SUCCESS [  0.603 s]\r\n[INFO] [INFO] module3 ............................................ SUCCESS [  0.046 s]\r\n[INFO] [INFO] ------------------------------------------------------------------------\r\n[INFO] [INFO] BUILD SUCCESS\r\n[INFO] [INFO] ------------------------------------------------------------------------\r\n[INFO] [INFO] Total time:  1.878 s\r\n[INFO] [INFO] Finished at: 2022-05-20T14:29:16+02:00\r\n[INFO] [INFO] ------------------------------------------------------------------------\r\n[INFO] [prepare] 11/17 scm-commit-release\r\n[INFO] Checking in modified POMs...\r\n[INFO] Executing: /bin/sh -c cd &#39;/Users/me/code/myproject&#39; &amp;&amp; &#39;git&#39; &#39;add&#39; &#39;--&#39; &#39;pom.xml&#39; &#39;module1/pom.xml&#39; &#39;module2/pom.xml&#39; &#39;module3/pom.xml&#39;\r\n[INFO] Working directory: /Users/me/code/myproject\r\n[INFO] Executing: /bin/sh -c cd &#39;/Users/me/code/myproject&#39; &amp;&amp; &#39;git&#39; &#39;rev-parse&#39; &#39;--show-prefix&#39;\r\n[INFO] Working directory: /Users/me/code/myproject\r\n[INFO] Executing: /bin/sh -c cd &#39;/Users/me/code/myproject&#39; &amp;&amp; &#39;git&#39; &#39;status&#39; &#39;--porcelain&#39; &#39;.&#39;\r\n[INFO] Working directory: /Users/me/code/myproject\r\n[WARNING] Ignoring unrecognized line: ?? module1/pom.xml.releaseBackup\r\n[WARNING] Ignoring unrecognized line: ?? module2/pom.xml.releaseBackup\r\n[WARNING] Ignoring unrecognized line: ?? pom.xml.releaseBackup\r\n[WARNING] Ignoring unrecognized line: ?? release.properties\r\n[WARNING] Ignoring unrecognized line: ?? module3/pom.xml.releaseBackup\r\n[INFO] Executing: /bin/sh -c cd &#39;/Users/me/code/myproject&#39; &amp;&amp; &#39;git&#39; &#39;commit&#39; &#39;--verbose&#39; &#39;-F&#39; &#39;/var/folders/xb/pl4xth9n5qbgksbyy2fy5lm80000gn/T/maven-scm-1737591658.commit&#39;\r\n[INFO] Working directory: /Users/me/code/myproject\r\n[INFO] Executing: /bin/sh -c cd &#39;/Users/me/code/myproject&#39; &amp;&amp; &#39;git&#39; &#39;symbolic-ref&#39; &#39;HEAD&#39;\r\n[INFO] Working directory: /Users/me/code/myproject\r\n[INFO] Executing: /bin/sh -c cd &#39;/Users/me/code/myproject&#39; &amp;&amp; &#39;git&#39; &#39;push&#39; &#39;ssh:********@github.com/company/myproject.git&#39; &#39;refs/heads/main:refs/heads/main&#39;\r\n[INFO] Working directory: /Users/me/code/myproject\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for myproject-base 3.0.1-SNAPSHOT:\r\n[INFO] \r\n[INFO] myproject-base ........................................ FAILURE [  8.100 s]\r\n[INFO] module1 ............................................... SKIPPED\r\n[INFO] module2 ............................................... SKIPPED\r\n[INFO] module3 ............................................... SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  8.207 s\r\n[INFO] Finished at: 2022-05-20T14:29:18+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.0-M5:prepare (default-cli) on project myproject: Unable to commit files\r\n[ERROR] Provider message:\r\n[ERROR] The git-push command failed.\r\n[ERROR] Command output:\r\n[ERROR] To ssh://github.com/company/myproject.git\r\n[ERROR]  ! [rejected]        main -&gt; main (non-fast-forward)\r\n[ERROR] error: failed to push some refs to &#39;ssh://github.com/company/myproject.git&#39;\r\n[ERROR] hint: Updates were rejected because the tip of your current branch is behind\r\n[ERROR] hint: its remote counterpart. Integrate the remote changes (e.g.\r\n[ERROR] hint: &#39;git pull ...&#39;) before pushing again.\r\n[ERROR] hint: See the &#39;Note about fast-forwards&#39; in &#39;git push --help&#39; for details.\r\n[ERROR] \r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```\r\n\r\nI can push (and pull) just fine from the command line by using the `git` command. I&#39;ve tried different versions of the `maven-release-plugin` to no avail. I&#39;ve even deleted the entire GitHub repository and pushed it again from my local machine but still, I get the same error. What could be causing this?\r\n","title":"Push to github rejected with maven-release-plugin","body":"<p>I've spent hours trying to release a project to github with Maven. This is usually not a problem but for some reason it is for this project and I don't understand why. I'm using Maven 3.8.5 with Java 1.8.0_312 and git 2.36.1. Here's the pom.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;se.company.myproject&lt;/groupId&gt;\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;name&gt;myproject-base&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;slf4j.version&gt;1.7.36&lt;/slf4j.version&gt;\n    &lt;/properties&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;module1&lt;/module&gt;\n        &lt;module&gt;module2&lt;/module&gt;\n        &lt;module&gt;module3&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;scm&gt;\n        &lt;connection&gt;scm:git:ssh://git@github.com/mycompany/myproject.git&lt;/connection&gt;\n        &lt;developerConnection&gt;scm:git:ssh://git@github.com/mycompany/myproject.git&lt;/developerConnection&gt;\n        &lt;url&gt;https://github.com/mycompany/myproject.git&lt;/url&gt;\n        &lt;tag&gt;4.0.0&lt;/tag&gt;\n    &lt;/scm&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;version&gt;${slf4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;se.company.myproject&lt;/groupId&gt;\n                &lt;artifactId&gt;some-internal-dependency&lt;/artifactId&gt;\n                &lt;version&gt;5.0.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Test dependencies --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n                &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n                &lt;version&gt;3.9.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;version&gt;${slf4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;tagNameFormat&gt;@{project.version}&lt;/tagNameFormat&gt;\n                    &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;company-releases&lt;/id&gt;\n            &lt;name&gt;Internal Releases&lt;/name&gt;\n            &lt;url&gt;https://company.se/company-maven-releases/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;company-snapshots&lt;/id&gt;\n            &lt;name&gt;Internal Snapshots&lt;/name&gt;\n            &lt;url&gt;https://company.se/company-maven-snapshots/&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;company-releases&lt;/id&gt;\n            &lt;url&gt;https://company.se/company-maven-releases/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n&lt;/project&gt;\n</code></pre>\n<p>When I run <code>maven release:prepare</code> I get this:</p>\n<pre><code>[INFO] [INFO] --- maven-jar-plugin:2.4:jar (default-jar) @ myproject-module3 ---\n[INFO] [INFO] Building jar: /Users/me/code/module3/target/myproject-module3-4.0.0.jar\n[INFO] [INFO] ------------------------------------------------------------------------\n[INFO] [INFO] Reactor Summary for myproject-base 4.0.0:\n[INFO] [INFO] \n[INFO] [INFO] myproject-base ..................................... SUCCESS [  0.059 s]\n[INFO] [INFO] module1............................................. SUCCESS [  1.097 s]\n[INFO] [INFO] module2 ............................................ SUCCESS [  0.603 s]\n[INFO] [INFO] module3 ............................................ SUCCESS [  0.046 s]\n[INFO] [INFO] ------------------------------------------------------------------------\n[INFO] [INFO] BUILD SUCCESS\n[INFO] [INFO] ------------------------------------------------------------------------\n[INFO] [INFO] Total time:  1.878 s\n[INFO] [INFO] Finished at: 2022-05-20T14:29:16+02:00\n[INFO] [INFO] ------------------------------------------------------------------------\n[INFO] [prepare] 11/17 scm-commit-release\n[INFO] Checking in modified POMs...\n[INFO] Executing: /bin/sh -c cd '/Users/me/code/myproject' &amp;&amp; 'git' 'add' '--' 'pom.xml' 'module1/pom.xml' 'module2/pom.xml' 'module3/pom.xml'\n[INFO] Working directory: /Users/me/code/myproject\n[INFO] Executing: /bin/sh -c cd '/Users/me/code/myproject' &amp;&amp; 'git' 'rev-parse' '--show-prefix'\n[INFO] Working directory: /Users/me/code/myproject\n[INFO] Executing: /bin/sh -c cd '/Users/me/code/myproject' &amp;&amp; 'git' 'status' '--porcelain' '.'\n[INFO] Working directory: /Users/me/code/myproject\n[WARNING] Ignoring unrecognized line: ?? module1/pom.xml.releaseBackup\n[WARNING] Ignoring unrecognized line: ?? module2/pom.xml.releaseBackup\n[WARNING] Ignoring unrecognized line: ?? pom.xml.releaseBackup\n[WARNING] Ignoring unrecognized line: ?? release.properties\n[WARNING] Ignoring unrecognized line: ?? module3/pom.xml.releaseBackup\n[INFO] Executing: /bin/sh -c cd '/Users/me/code/myproject' &amp;&amp; 'git' 'commit' '--verbose' '-F' '/var/folders/xb/pl4xth9n5qbgksbyy2fy5lm80000gn/T/maven-scm-1737591658.commit'\n[INFO] Working directory: /Users/me/code/myproject\n[INFO] Executing: /bin/sh -c cd '/Users/me/code/myproject' &amp;&amp; 'git' 'symbolic-ref' 'HEAD'\n[INFO] Working directory: /Users/me/code/myproject\n[INFO] Executing: /bin/sh -c cd '/Users/me/code/myproject' &amp;&amp; 'git' 'push' 'ssh:********@github.com/company/myproject.git' 'refs/heads/main:refs/heads/main'\n[INFO] Working directory: /Users/me/code/myproject\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for myproject-base 3.0.1-SNAPSHOT:\n[INFO] \n[INFO] myproject-base ........................................ FAILURE [  8.100 s]\n[INFO] module1 ............................................... SKIPPED\n[INFO] module2 ............................................... SKIPPED\n[INFO] module3 ............................................... SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  8.207 s\n[INFO] Finished at: 2022-05-20T14:29:18+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-release-plugin:3.0.0-M5:prepare (default-cli) on project myproject: Unable to commit files\n[ERROR] Provider message:\n[ERROR] The git-push command failed.\n[ERROR] Command output:\n[ERROR] To ssh://github.com/company/myproject.git\n[ERROR]  ! [rejected]        main -&gt; main (non-fast-forward)\n[ERROR] error: failed to push some refs to 'ssh://github.com/company/myproject.git'\n[ERROR] hint: Updates were rejected because the tip of your current branch is behind\n[ERROR] hint: its remote counterpart. Integrate the remote changes (e.g.\n[ERROR] hint: 'git pull ...') before pushing again.\n[ERROR] hint: See the 'Note about fast-forwards' in 'git push --help' for details.\n[ERROR] \n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>I can push (and pull) just fine from the command line by using the <code>git</code> command. I've tried different versions of the <code>maven-release-plugin</code> to no avail. I've even deleted the entire GitHub repository and pushed it again from my local machine but still, I get the same error. What could be causing this?</p>\n"},{"tags":["java","spring-boot","asynchronous","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653291686,"creation_date":1653291686,"answer_id":72344876,"question_id":72343767,"body_markdown":"`onErrorResume` operator will not help you to resume the stream.  \r\nIf you want to get all response, you need to process error.  \r\nYou can write `doOnError` to process exceptions. Code may be below:  \r\n`doOnError(e -&gt; urlMap.put(uri.getKey(), &quot;defaultString&quot;))`\r\n","title":"get all the responses from the flux","body":"<p><code>onErrorResume</code> operator will not help you to resume the stream.<br />\nIf you want to get all response, you need to process error.<br />\nYou can write <code>doOnError</code> to process exceptions. Code may be below:<br />\n<code>doOnError(e -&gt; urlMap.put(uri.getKey(), &quot;defaultString&quot;))</code></p>\n"}],"owner":{"account_id":25203397,"reputation":1,"user_id":19042049,"display_name":"Ajay D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1653291686,"creation_date":1653285027,"question_id":72343767,"body_markdown":"I am trying to get all the responses from flux but sometimes I&#39;m getting all the response and sometimes I&#39;m not getting only few responses. Can anyone please help me on this. I have attached the picture for reference. I don&#39;t want to subscribe to that flux. I want those data&#39;s for manipulation.\r\n\r\nurls i have key as name and url as value.\r\n\r\n        public LinkedHashMap&lt;String String&gt; getDummyHealthData (Map&lt;String Strings urls) {\r\n            LinkedHashMap&lt;String, String&gt; urlMap=new LinkedHashMap&lt;&gt;();\r\n    Mono.when(Flux. fromStreamCurls.entryset().stream().log().flatmap(url-&gt;webclientBuilder.build().get().uri(url.getValue()).retrieve().bodyToMono (string.class). onSuccessorError((res,err)-&gt;{ urlMap.put(uri.getKey(),res);    )}\r\n            ).OnErrorResume (e-&gt;Mono.empty)).block(); System.out.println(urlMap) \r\n     return urlMap;\r\n    }","title":"get all the responses from the flux","body":"<p>I am trying to get all the responses from flux but sometimes I'm getting all the response and sometimes I'm not getting only few responses. Can anyone please help me on this. I have attached the picture for reference. I don't want to subscribe to that flux. I want those data's for manipulation.</p>\n<p>urls i have key as name and url as value.</p>\n<pre><code>    public LinkedHashMap&lt;String String&gt; getDummyHealthData (Map&lt;String Strings urls) {\n        LinkedHashMap&lt;String, String&gt; urlMap=new LinkedHashMap&lt;&gt;();\nMono.when(Flux. fromStreamCurls.entryset().stream().log().flatmap(url-&gt;webclientBuilder.build().get().uri(url.getValue()).retrieve().bodyToMono (string.class). onSuccessorError((res,err)-&gt;{ urlMap.put(uri.getKey(),res);    )}\n        ).OnErrorResume (e-&gt;Mono.empty)).block(); System.out.println(urlMap) \n return urlMap;\n}\n</code></pre>\n"},{"tags":["java","report","rest-assured","serenity-bdd"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1653294393,"post_id":72343218,"comment_id":127807348,"body_markdown":"`it doesn&#39;t open the latest report` --&gt; what does it mean?","body":"<code>it doesn&#39;t open the latest report</code> --&gt; what does it mean?"},{"owner":{"account_id":25295530,"reputation":41,"user_id":19120754,"display_name":"Charlotte Ryerr"},"score":0,"creation_date":1653308050,"post_id":72343218,"comment_id":127812245,"body_markdown":"Its not providing me the current or updated test run report","body":"Its not providing me the current or updated test run report"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1653352228,"post_id":72343218,"comment_id":127826181,"body_markdown":"How do you run the test?","body":"How do you run the test?"},{"owner":{"account_id":25295530,"reputation":41,"user_id":19120754,"display_name":"Charlotte Ryerr"},"score":0,"creation_date":1653361947,"post_id":72343218,"comment_id":127827544,"body_markdown":"mvn clean install - we use this command","body":"mvn clean install - we use this command"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":1,"creation_date":1653367739,"post_id":72343218,"comment_id":127828320,"body_markdown":"I don&#39;t think you can get what you want. From my understanding, `AfterClass` will be run in `integration-test` phase. And report is in `post-integration-test` phase. Therefore, never get the latest version of report","body":"I don&#39;t think you can get what you want. From my understanding, <code>AfterClass</code> will be run in <code>integration-test</code> phase. And report is in <code>post-integration-test</code> phase. Therefore, never get the latest version of report"}],"owner":{"account_id":25295530,"reputation":41,"user_id":19120754,"display_name":"Charlotte Ryerr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653291543,"creation_date":1653279437,"question_id":72343218,"body_markdown":"I am using Serenity BDD with Rest Assured and want to open the latest index.html report automatically.\r\n\r\nUsing below code but it doesn&#39;t open the latest report.\r\nwhat changes needs to be done to get the latest report?\r\n\r\n```\r\n@AfterClass\r\npublic static void getReportAutomatically() {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/main/resources/drivers/chromedriver.exe&quot;);\r\n        // WebDriver driver = new ChromeDriver();\r\n\r\n        WebDriver driver = Serenity.getDriver();\r\n        driver.get(&quot;C:/Users/name/Desktop/My-Den/IntelliJ Projects/Restassured-Serenity\r\n\r\n}\r\n\r\n```","title":"How to open the index.html after every test automatically","body":"<p>I am using Serenity BDD with Rest Assured and want to open the latest index.html report automatically.</p>\n<p>Using below code but it doesn't open the latest report.\nwhat changes needs to be done to get the latest report?</p>\n<pre><code>@AfterClass\npublic static void getReportAutomatically() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/main/resources/drivers/chromedriver.exe&quot;);\n        // WebDriver driver = new ChromeDriver();\n\n        WebDriver driver = Serenity.getDriver();\n        driver.get(&quot;C:/Users/name/Desktop/My-Den/IntelliJ Projects/Restassured-Serenity\n\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","web"],"comments":[{"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"score":0,"creation_date":1653253957,"post_id":72339709,"comment_id":127800431,"body_markdown":"read this authentication and authorization spring boot https://www.marcobehler.com/guides/spring-security","body":"read this authentication and authorization spring boot <a href=\"https://www.marcobehler.com/guides/spring-security\" rel=\"nofollow noreferrer\">marcobehler.com/guides/spring-security</a>"},{"owner":{"account_id":23990345,"reputation":1212,"user_id":17976599,"display_name":"Sumit Sharma"},"score":0,"creation_date":1653289760,"post_id":72339709,"comment_id":127805778,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":19393232,"reputation":25,"user_id":14181427,"display_name":"mateusz-tbh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653291412,"creation_date":1653242440,"answer_id":72340087,"question_id":72339709,"body_markdown":"I&#39;m also working on that kind of application and I&#39;ve done this by adding as argument`@AuthenticationPrincipal CustomUserDetails userDetails` to method where you want to get `userId`. Then you can call: `Integer userId = userDetails.getUserId();`\r\n\r\nSo for example something like this:\r\n\r\n    @GetMapping(&quot;/demo&quot;)\r\n    public String showTemplate(@AuthenticationPrincipal CustomUserDetails userDetails) {\r\n        Integer userId = userDetails.getUserId();\r\n        return &quot;index&quot;;\r\n    }\r\n\r\nAnd  then you can do with this `userId` whatever you want. For example, create method in repository `findByUserId`","title":"How to filter data by user in spring boot applcation","body":"<p>I'm also working on that kind of application and I've done this by adding as argument<code>@AuthenticationPrincipal CustomUserDetails userDetails</code> to method where you want to get <code>userId</code>. Then you can call: <code>Integer userId = userDetails.getUserId();</code></p>\n<p>So for example something like this:</p>\n<pre><code>@GetMapping(&quot;/demo&quot;)\npublic String showTemplate(@AuthenticationPrincipal CustomUserDetails userDetails) {\n    Integer userId = userDetails.getUserId();\n    return &quot;index&quot;;\n}\n</code></pre>\n<p>And  then you can do with this <code>userId</code> whatever you want. For example, create method in repository <code>findByUserId</code></p>\n"}],"owner":{"account_id":25359530,"reputation":1,"user_id":19175070,"display_name":"UnknownBrain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653291412,"creation_date":1653239400,"question_id":72339709,"body_markdown":"I&#39;m making a simple spring boot application and I want to incorporate filtering data by logged-in user or user session. But I don&#39;t know what is the best way to set up the application in a way that every user can access data specific to him. I have made the authentification and authorization part of the app.","title":"How to filter data by user in spring boot applcation","body":"<p>I'm making a simple spring boot application and I want to incorporate filtering data by logged-in user or user session. But I don't know what is the best way to set up the application in a way that every user can access data specific to him. I have made the authentification and authorization part of the app.</p>\n"},{"tags":["java","csv","jmeter"],"comments":[{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1653145344,"post_id":72322406,"comment_id":127782199,"body_markdown":"Can you paste the whole scipt including all the import .... statement? \nI assume that you didn&#39;t add the CSV related classes properly.","body":"Can you paste the whole scipt including all the import .... statement?  I assume that you didn&#39;t add the CSV related classes properly."},{"owner":{"account_id":17209976,"reputation":31,"user_id":12459596,"display_name":"Kat Wallence"},"score":0,"creation_date":1653283081,"post_id":72322406,"comment_id":127804154,"body_markdown":"hey Sean, thanks for your response, here are the imports of Apache Commons CSV\nimport java.io.*;\nimport java.util.*;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Arrays;\n\nMy OpenCSV code is working fine but the issue is it adds title after the execution of every sample, &amp; with apache common csv, the script is throwing an error I mentioned","body":"hey Sean, thanks for your response, here are the imports of Apache Commons CSV import java.io.*; import java.util.*; import java.nio.file.Files; import java.nio.file.Path; import java.nio.file.Paths; import java.util.Arrays;  My OpenCSV code is working fine but the issue is it adds title after the execution of every sample, &amp; with apache common csv, the script is throwing an error I mentioned"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653291362,"creation_date":1653291362,"answer_id":72344811,"question_id":72322406,"body_markdown":" 1. &quot;Your&quot; code won&#39;t work because it doesn&#39;t have proper syntax for the [try block][1], correct one would be something like:\r\n\r\n        try {\r\n            BufferedWriter writer = Files.newBufferedWriter(Paths.get(&quot;sample.csv&quot;));\r\n    \r\n            CSVPrinter csvPrinter = new CSVPrinter(writer, CSVFormat.DEFAULT\r\n                    .withHeader(&quot;NO&quot;));\r\n            csvPrinter.printRecord(&quot;${myNo}&quot;);\r\n            csvPrinter.flush();\r\n        }\r\n        catch (Exception ex) {\r\n            log.error(&quot;Failure in script: &quot;, ex)\r\n        }\r\n 2. If you want the header to be written only once - either do something like:\r\n\r\n        if (ctx.getThreadNum() == 0) {\r\n            list.add(header);\r\n        }\r\n    or even better write the header somewhere in [setUp Thread Group][2] as I don&#39;t know how many users you have and what are the ramp-up settings\r\n 3. [Since JMeter 3.1 it&#39;s recommended to use JSR223 Test Elements and Groovy language for scripting][3] so it&#39;s a good idea to consider migrating.     \r\n 4. In case of concurrent users your approach will stop working, due to [race conditions][4] multiple users will be writing into the same file at the same time resulting in data corruption or loss, it&#39;s better to use [Flexbile File Writer][5] \r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/try.html\r\n  [2]: https://www.blazemeter.com/blog/how-use-setup-thread-group-jmeter-when-preparing-load-test\r\n  [3]: https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\r\n  [4]: https://en.wikipedia.org/wiki/Race_condition\r\n  [5]: https://jmeter-plugins.org/wiki/FlexibleFileWriter/","title":"How to write header only once in the CSV file per execution in jmeter","body":"<ol>\n<li><p>&quot;Your&quot; code won't work because it doesn't have proper syntax for the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/try.html\" rel=\"nofollow noreferrer\">try block</a>, correct one would be something like:</p>\n<pre><code>try {\n    BufferedWriter writer = Files.newBufferedWriter(Paths.get(&quot;sample.csv&quot;));\n\n    CSVPrinter csvPrinter = new CSVPrinter(writer, CSVFormat.DEFAULT\n            .withHeader(&quot;NO&quot;));\n    csvPrinter.printRecord(&quot;${myNo}&quot;);\n    csvPrinter.flush();\n}\ncatch (Exception ex) {\n    log.error(&quot;Failure in script: &quot;, ex)\n}\n</code></pre>\n</li>\n<li><p>If you want the header to be written only once - either do something like:</p>\n<pre><code>if (ctx.getThreadNum() == 0) {\n    list.add(header);\n}\n</code></pre>\n<p>or even better write the header somewhere in <a href=\"https://www.blazemeter.com/blog/how-use-setup-thread-group-jmeter-when-preparing-load-test\" rel=\"nofollow noreferrer\">setUp Thread Group</a> as I don't know how many users you have and what are the ramp-up settings</p>\n</li>\n<li><p><a href=\"https://jmeter.apache.org/usermanual/best-practices.html#bsh_scripting\" rel=\"nofollow noreferrer\">Since JMeter 3.1 it's recommended to use JSR223 Test Elements and Groovy language for scripting</a> so it's a good idea to consider migrating.</p>\n</li>\n<li><p>In case of concurrent users your approach will stop working, due to <a href=\"https://en.wikipedia.org/wiki/Race_condition\" rel=\"nofollow noreferrer\">race conditions</a> multiple users will be writing into the same file at the same time resulting in data corruption or loss, it's better to use <a href=\"https://jmeter-plugins.org/wiki/FlexibleFileWriter/\" rel=\"nofollow noreferrer\">Flexbile File Writer</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":17209976,"reputation":31,"user_id":12459596,"display_name":"Kat Wallence"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653291362,"creation_date":1653065871,"question_id":72322406,"body_markdown":"I am preparing one BeanShell PostProcessor script to write data into CSV file in Jmeter.\r\n\r\nHere is my Code\r\n\r\n    \r\n\ttry {\r\n\t\tFile file = new File(&quot;samplefile.csv&quot;);\r\n\t\tFileWriter outputfile = new FileWriter(file, true);\r\n\t\tCSVWriter writer = new CSVWriter(outputfile);\r\n\t\tBufferedReader csvReader = new BufferedReader(new FileReader(file));\r\n   \r\n         List list = new ArrayList();\r\n         String[] header={&quot;no&quot;};\r\n\t\t String[] id = {&quot;${myNo}&quot;};\r\n\t\t list.add(header);\r\n\t\t list.add(id);\r\n\t\t writer.writeAll(list);         \t\t        \t\r\n\t\t writer.close();\r\n\t}\r\n\tcatch (IOException e) {\r\n\t\te.printStackTrace();\r\n}\r\n\r\n\r\nHere, I want to write header into the file only once in the top row of my csv file. But every time, I execute the script, header gets entered per sample user. here, I am using openCSV jars to read/write data\r\n\r\n\r\n\r\nI also tried with apache commons csv jars, but I was not able to execute the code, I got an error\r\nhere is the code of appache common csv\r\n\r\n     try (\r\n            BufferedWriter writer = Files.newBufferedWriter(Paths.get(&quot;sample.csv&quot;));\r\n\r\n            CSVPrinter csvPrinter = new CSVPrinter(writer, CSVFormat.DEFAULT\r\n                    .withHeader(&quot;NO&quot;);\r\n        ) {\r\n            csvPrinter.printRecord(&quot;${myNo}&quot;);\r\n            csvPrinter.flush();            \r\n        }\r\n\r\n\r\n&gt; ERROR o.a.j.u.BeanShellInterpreter: Error invoking bsh method: eval\tIn file: inline evaluation of: ``import java.io.*; import java.util.*; import java.nio.file.Files; import java.ni . . . &#39;&#39; Encountered &quot;(&quot; at line 8, column 10.\r\n\r\n\r\n&gt; WARN o.a.j.e.BeanShellPostProcessor: Problem in BeanShell script: org.apache.jorphan.util.JMeterException: Error invoking bsh method: eval\tIn file: inline evaluation of: ``import java.io.*; import java.util.*; import java.nio.file.Files; import java.ni . . . &#39;&#39; Encountered &quot;(&quot; at line 8, column 10.\r\n\r\n&gt; ERROR o.a.j.u.BeanShellInterpreter: Error invoking bsh method: eval\tIn file: inline evaluation of: ``import java.io.*; import java.util.*; import java.nio.file.Files; import java.ni . . . &#39;&#39; Encountered &quot;(&quot; at line 8, column 10.\r\n\r\n&gt; WARN o.a.j.e.BeanShellPostProcessor: Problem in BeanShell script: org.apache.jorphan.util.JMeterException: Error invoking bsh method: eval\tIn file: inline evaluation of: ``import java.io.*; import java.util.*; import java.nio.file.Files; import java.ni . . . &#39;&#39; Encountered &quot;(&quot; at line 8, column 10.\r\n\r\n\r\nI would appreciate any help or suggestion. \r\n\r\nThanks","title":"How to write header only once in the CSV file per execution in jmeter","body":"<p>I am preparing one BeanShell PostProcessor script to write data into CSV file in Jmeter.</p>\n<p>Here is my Code</p>\n<pre><code>try {\n    File file = new File(&quot;samplefile.csv&quot;);\n    FileWriter outputfile = new FileWriter(file, true);\n    CSVWriter writer = new CSVWriter(outputfile);\n    BufferedReader csvReader = new BufferedReader(new FileReader(file));\n\n     List list = new ArrayList();\n     String[] header={&quot;no&quot;};\n     String[] id = {&quot;${myNo}&quot;};\n     list.add(header);\n     list.add(id);\n     writer.writeAll(list);                             \n     writer.close();\n}\ncatch (IOException e) {\n    e.printStackTrace();\n</code></pre>\n<p>}</p>\n<p>Here, I want to write header into the file only once in the top row of my csv file. But every time, I execute the script, header gets entered per sample user. here, I am using openCSV jars to read/write data</p>\n<p>I also tried with apache commons csv jars, but I was not able to execute the code, I got an error\nhere is the code of appache common csv</p>\n<pre><code> try (\n        BufferedWriter writer = Files.newBufferedWriter(Paths.get(&quot;sample.csv&quot;));\n\n        CSVPrinter csvPrinter = new CSVPrinter(writer, CSVFormat.DEFAULT\n                .withHeader(&quot;NO&quot;);\n    ) {\n        csvPrinter.printRecord(&quot;${myNo}&quot;);\n        csvPrinter.flush();            \n    }\n</code></pre>\n<blockquote>\n<p>ERROR o.a.j.u.BeanShellInterpreter: Error invoking bsh method: eval   In file: inline evaluation of: ``import java.io.<em>; import java.util.</em>; import java.nio.file.Files; import java.ni . . . '' Encountered &quot;(&quot; at line 8, column 10.</p>\n</blockquote>\n<blockquote>\n<p>WARN o.a.j.e.BeanShellPostProcessor: Problem in BeanShell script: org.apache.jorphan.util.JMeterException: Error invoking bsh method: eval    In file: inline evaluation of: ``import java.io.<em>; import java.util.</em>; import java.nio.file.Files; import java.ni . . . '' Encountered &quot;(&quot; at line 8, column 10.</p>\n</blockquote>\n<blockquote>\n<p>ERROR o.a.j.u.BeanShellInterpreter: Error invoking bsh method: eval   In file: inline evaluation of: ``import java.io.<em>; import java.util.</em>; import java.nio.file.Files; import java.ni . . . '' Encountered &quot;(&quot; at line 8, column 10.</p>\n</blockquote>\n<blockquote>\n<p>WARN o.a.j.e.BeanShellPostProcessor: Problem in BeanShell script: org.apache.jorphan.util.JMeterException: Error invoking bsh method: eval    In file: inline evaluation of: ``import java.io.<em>; import java.util.</em>; import java.nio.file.Files; import java.ni . . . '' Encountered &quot;(&quot; at line 8, column 10.</p>\n</blockquote>\n<p>I would appreciate any help or suggestion.</p>\n<p>Thanks</p>\n"},{"tags":["java","jcifs","smbj"],"owner":{"account_id":25343160,"reputation":11,"user_id":19161280,"display_name":"MDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653291252,"creation_date":1653050272,"question_id":72319065,"body_markdown":"\r\n\r\nWhen I&#39;m trying to connect to an SmbFile using following code:\r\n\r\n``` lang-java\r\n    final Properties props = new Properties();\r\n    props.setProperty(&quot;jcifs.smb.client.disablePlainTextPasswords&quot;, &quot;false&quot;);\r\n    final PropertyConfiguration propertyConfig = new PropertyConfiguration(props);\r\n\r\n    CIFSContext fCIFSContext = new BaseContext(propertyConfig);\r\n    fCIFSContext = fCIFSContext.withCredentials(new NtlmPasswordAuthenticator(&quot;xxx&quot;, &quot;xxx&quot;, \r\n    &quot;xxx&quot;));\r\n    String directory = &quot;xxx&quot;;\r\n            \r\n\r\n    final SmbFile path = new SmbFile(directory, fCIFSContext);\r\n\r\n    path.connect();\r\n```\r\nI get following error.\r\n\r\n```\r\n    Caused by: jcifsng.smb.SmbException: TreeID is invalid\r\n    at jcifsng.smb.SmbTreeImpl.treeConnected(SmbTreeImpl.java:658)\r\n    at jcifsng.smb.SmbTreeImpl.treeConnect(SmbTreeImpl.java:628)\r\n    at jcifsng.smb.SmbTreeConnection.connectTree(SmbTreeConnection.java:614)\r\n    at jcifsng.smb.SmbTreeConnection.connectHost(SmbTreeConnection.java:568)\r\n    at jcifsng.smb.SmbTreeConnection.connectHost(SmbTreeConnection.java:489)\r\n    at jcifsng.smb.SmbTreeConnection.connect(SmbTreeConnection.java:465)\r\n    at jcifsng.smb.SmbTreeConnection.connectWrapException(SmbTreeConnection.java:426)\r\n    at jcifsng.smb.SmbFile.ensureTreeConnected(SmbFile.java:559)\r\n    at jcifsng.smb.SmbFile.connect(SmbFile.java:518)\r\n```\r\n\r\nWhen debugging the source code it looks like the TreeID is 0 (which is invalid according to Smb2TreeConnectResponse.class)\r\nI&#39;m using the latest dependency\r\n\r\n``` lang-xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;eu.agno3.jcifs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jcifs-ng&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nWhen connection to the smb using smbclient this works fine and everything seems in place.\r\n\r\nI have very little knowledge about smb.\r\nWhat can be the reason that the TreeID is set to 0 and not valid?\r\n\r\n**UPDATE**\r\nIssue is fixed:\r\nhttps://github.com/AgNO3/jcifs-ng/issues/303","title":"SMB TreeID is invalid","body":"<p>When I'm trying to connect to an SmbFile using following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final Properties props = new Properties();\n    props.setProperty(&quot;jcifs.smb.client.disablePlainTextPasswords&quot;, &quot;false&quot;);\n    final PropertyConfiguration propertyConfig = new PropertyConfiguration(props);\n\n    CIFSContext fCIFSContext = new BaseContext(propertyConfig);\n    fCIFSContext = fCIFSContext.withCredentials(new NtlmPasswordAuthenticator(&quot;xxx&quot;, &quot;xxx&quot;, \n    &quot;xxx&quot;));\n    String directory = &quot;xxx&quot;;\n            \n\n    final SmbFile path = new SmbFile(directory, fCIFSContext);\n\n    path.connect();\n</code></pre>\n<p>I get following error.</p>\n<pre><code>    Caused by: jcifsng.smb.SmbException: TreeID is invalid\n    at jcifsng.smb.SmbTreeImpl.treeConnected(SmbTreeImpl.java:658)\n    at jcifsng.smb.SmbTreeImpl.treeConnect(SmbTreeImpl.java:628)\n    at jcifsng.smb.SmbTreeConnection.connectTree(SmbTreeConnection.java:614)\n    at jcifsng.smb.SmbTreeConnection.connectHost(SmbTreeConnection.java:568)\n    at jcifsng.smb.SmbTreeConnection.connectHost(SmbTreeConnection.java:489)\n    at jcifsng.smb.SmbTreeConnection.connect(SmbTreeConnection.java:465)\n    at jcifsng.smb.SmbTreeConnection.connectWrapException(SmbTreeConnection.java:426)\n    at jcifsng.smb.SmbFile.ensureTreeConnected(SmbFile.java:559)\n    at jcifsng.smb.SmbFile.connect(SmbFile.java:518)\n</code></pre>\n<p>When debugging the source code it looks like the TreeID is 0 (which is invalid according to Smb2TreeConnectResponse.class)\nI'm using the latest dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;eu.agno3.jcifs&lt;/groupId&gt;\n      &lt;artifactId&gt;jcifs-ng&lt;/artifactId&gt;\n      &lt;version&gt;2.1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When connection to the smb using smbclient this works fine and everything seems in place.</p>\n<p>I have very little knowledge about smb.\nWhat can be the reason that the TreeID is set to 0 and not valid?</p>\n<p><strong>UPDATE</strong>\nIssue is fixed:\n<a href=\"https://github.com/AgNO3/jcifs-ng/issues/303\" rel=\"nofollow noreferrer\">https://github.com/AgNO3/jcifs-ng/issues/303</a></p>\n"},{"tags":["java","string","console","readline"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1653121300,"post_id":72327807,"comment_id":127777685,"body_markdown":"I cannot reproduce. I got `s1gg s2false s3s1`.","body":"I cannot reproduce. I got <code>s1gg s2false s3s1</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1653121432,"post_id":72327807,"comment_id":127777715,"body_markdown":"Is that your full code? Someting similar may happen sometimes if you interleave different calls to a `Scanner`. Please see [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Is that your full code? Someting similar may happen sometimes if you interleave different calls to a <code>Scanner</code>. Please see <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":21350484,"reputation":9,"user_id":15720030,"display_name":"Laura"},"score":0,"creation_date":1653121715,"post_id":72327807,"comment_id":127777769,"body_markdown":"really?did you press the enter key after each word?","body":"really?did you press the enter key after each word?"},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1653121874,"post_id":72327807,"comment_id":127777797,"body_markdown":"@Laura I&#39;ve updated my answer. This has more to do with the fact that the enter corresponds to two white space characters (\\n, \\r) rather than one. That link brings to a Scanner question while she is using a BufferedReader. The Scanner object is not even used.","body":"@Laura I&#39;ve updated my answer. This has more to do with the fact that the enter corresponds to two white space characters (\\n, \\r) rather than one. That link brings to a Scanner question while she is using a BufferedReader. The Scanner object is not even used."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1653122452,"post_id":72327807,"comment_id":127777897,"body_markdown":"@Laura I made sure to press the return key on my Mac after each line.","body":"@Laura I made sure to press the return key on my Mac after each line."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1653123850,"post_id":72327807,"comment_id":127778148,"body_markdown":"On which operating system are you running your code and typing your input?","body":"On which operating system are you running your code and typing your input?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1653133228,"post_id":72327807,"comment_id":127779828,"body_markdown":"@Laura What happens if you run your program from the command prompt (Terminal on Mac, “DOS prompt” on Windows) rather than in IntelliJ IDEA or other IDE?","body":"@Laura What happens if you run your program from the command prompt (Terminal on Mac, “DOS prompt” on Windows) rather than in IntelliJ IDEA or other IDE?"}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653290808,"creation_date":1653121355,"answer_id":72327845,"question_id":72327807,"body_markdown":"After further investigations, it seems like that the odd behavior you&#39;re describing happens only when multiple read lines are stacked one after the other and executed via Intellij IDEA. Apparently, even regardless of the operating system being used, since you&#39;re experiencing this issue on a Mac whereas in my case it occurs on a Windows machine.\r\n\r\nI&#39;ve tested your exact same code on other IDEs too, like Netbeans and Visual Studio Code, ultimately also manually compiled it with javac and executed it via cmd, and none of these cases have shown the same behavior happening on Intellij IDEA.\r\n\r\n&lt;h4&gt;EDIT&lt;/h4&gt;\r\n\r\nApparently, as it has been pointed out in the comments, this is indeed an issue of Intellij IDEA version 2022.1.1. The link below also says that it will be fixed with the version 2022.1.2.\r\n\r\nhttps://youtrack.jetbrains.com/issue/IDEA-293951/Console-readLine-skips-input-in-2022-1-1\r\n\r\nSo, to answer your question this is not a problem with the code you&#39;ve written but rather an issue with the IDE you&#39;re using.","title":"Why is the second string returned from readLine() an empty string?","body":"<p>After further investigations, it seems like that the odd behavior you're describing happens only when multiple read lines are stacked one after the other and executed via Intellij IDEA. Apparently, even regardless of the operating system being used, since you're experiencing this issue on a Mac whereas in my case it occurs on a Windows machine.</p>\n<p>I've tested your exact same code on other IDEs too, like Netbeans and Visual Studio Code, ultimately also manually compiled it with javac and executed it via cmd, and none of these cases have shown the same behavior happening on Intellij IDEA.</p>\n<h4>EDIT</h4>\n<p>Apparently, as it has been pointed out in the comments, this is indeed an issue of Intellij IDEA version 2022.1.1. The link below also says that it will be fixed with the version 2022.1.2.</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-293951/Console-readLine-skips-input-in-2022-1-1\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-293951/Console-readLine-skips-input-in-2022-1-1</a></p>\n<p>So, to answer your question this is not a problem with the code you've written but rather an issue with the IDE you're using.</p>\n"},{"tags":[],"owner":{"account_id":6519964,"reputation":107,"user_id":5044508,"display_name":"Yuvaraj R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653245364,"creation_date":1653245308,"answer_id":72340420,"question_id":72327807,"body_markdown":"It is indeed a bug in Intellij IDEA console as mentioned in Dan&#39;s answer.\r\nThis was already reported and fixed as per their tracker. Fix should be available in 2022.1.2 version.\r\n\r\n&lt;https://youtrack.jetbrains.com/issue/IDEA-293951/Console-readLine-skips-input-in-2022-1-1&gt;\r\n\r\nUntil then you can try to use any command line terminal to test the program which is working perfectly fine as expected.\r\n\r\n[enter image description here][1] - Test result with Build #IC-221.5591.52\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l3Mz0.png","title":"Why is the second string returned from readLine() an empty string?","body":"<p>It is indeed a bug in Intellij IDEA console as mentioned in Dan's answer.\nThis was already reported and fixed as per their tracker. Fix should be available in 2022.1.2 version.</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-293951/Console-readLine-skips-input-in-2022-1-1\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-293951/Console-readLine-skips-input-in-2022-1-1</a></p>\n<p>Until then you can try to use any command line terminal to test the program which is working perfectly fine as expected.</p>\n<p><a href=\"https://i.stack.imgur.com/l3Mz0.png\" rel=\"nofollow noreferrer\">enter image description here</a> - Test result with Build #IC-221.5591.52</p>\n"}],"owner":{"account_id":21350484,"reputation":9,"user_id":15720030,"display_name":"Laura"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1653290808,"creation_date":1653120951,"question_id":72327807,"body_markdown":"This is the code I used:\r\n```java\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(System.in) );\r\nString s1 = reader.readLine();\r\nString s2 = reader.readLine();\r\nString s3 = reader.readLine();\r\nSystem.out.format(&quot;s1%s s2%b s3%s&quot;,s1,s2.equals(&quot;&quot;),s3);\r\n```\r\n\r\nWhen I input the following text in the console, the second result is an empty string.\r\n```\r\ngg\r\nss\r\ns1gg s2true s3ss\r\n```\r\nAnyone knows why this happens?\r\n\r\nI tested the program in the IDEA on Mac.","title":"Why is the second string returned from readLine() an empty string?","body":"<p>This is the code I used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedReader reader = new BufferedReader(new InputStreamReader(System.in) );\nString s1 = reader.readLine();\nString s2 = reader.readLine();\nString s3 = reader.readLine();\nSystem.out.format(&quot;s1%s s2%b s3%s&quot;,s1,s2.equals(&quot;&quot;),s3);\n</code></pre>\n<p>When I input the following text in the console, the second result is an empty string.</p>\n<pre><code>gg\nss\ns1gg s2true s3ss\n</code></pre>\n<p>Anyone knows why this happens?</p>\n<p>I tested the program in the IDEA on Mac.</p>\n"},{"tags":["java","spring-boot","ssl","resttemplate"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1653044169,"post_id":72314882,"comment_id":127760202,"body_markdown":"I have posted my answer, you can have a look","body":"I have posted my answer, you can have a look"}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653044145,"creation_date":1653044145,"answer_id":72317764,"question_id":72314882,"body_markdown":"\r\nReturning `RestTemplate` with SSL disabled can be achieved via below(You can add other properties as your requirements.) :\r\n\t\t\r\n\r\n    CloseableHttpClient client = HttpClients.custom().setSSLHostnameVerifier(new HostnameVerifier() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean verify(String hostname, SSLSession session) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}).setSSLHostnameVerifier(new HostnameVerifier() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean verify(String hostname, SSLSession session) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}).build();\r\n    \t\tHttpComponentsClientHttpRequestFactory req = new HttpComponentsClientHttpRequestFactory(client);\r\n    \t\tRestTemplate template = new RestTemplate(req);","title":"How to disable SSL for given url or for restTemplateBuilder?","body":"<p>Returning <code>RestTemplate</code> with SSL disabled can be achieved via below(You can add other properties as your requirements.) :</p>\n<pre><code>CloseableHttpClient client = HttpClients.custom().setSSLHostnameVerifier(new HostnameVerifier() {\n\n            @Override\n            public boolean verify(String hostname, SSLSession session) {\n                return true;\n            }\n        }).setSSLHostnameVerifier(new HostnameVerifier() {\n\n            @Override\n            public boolean verify(String hostname, SSLSession session) {\n                return true;\n            }\n        }).build();\n        HttpComponentsClientHttpRequestFactory req = new HttpComponentsClientHttpRequestFactory(client);\n        RestTemplate template = new RestTemplate(req);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22304440,"reputation":132,"user_id":16529288,"display_name":"MEF"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653290315,"creation_date":1653290315,"answer_id":72344607,"question_id":72314882,"body_markdown":"I solved this with the following code down below. here is the link to the source https://stackoverflow.com/a/42689331/16529288\r\n\r\n```\r\nTrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n\r\nSSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\r\n        .loadTrustMaterial(null, acceptingTrustStrategy)\r\n        .build();\r\n\r\nSSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\r\n\r\nCloseableHttpClient httpClient = HttpClients.custom()\r\n        .setSSLSocketFactory(csf)\r\n        .build();\r\n\r\nHttpComponentsClientHttpRequestFactory requestFactory =\r\n        new HttpComponentsClientHttpRequestFactory();\r\n\r\nrequestFactory.setHttpClient(httpClient);\r\n\r\nRestTemplate restTemplate = new RestTemplate(requestFactory);\r\n```","title":"How to disable SSL for given url or for restTemplateBuilder?","body":"<p>I solved this with the following code down below. here is the link to the source <a href=\"https://stackoverflow.com/a/42689331/16529288\">https://stackoverflow.com/a/42689331/16529288</a></p>\n<pre><code>TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n\nSSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\n        .loadTrustMaterial(null, acceptingTrustStrategy)\n        .build();\n\nSSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext);\n\nCloseableHttpClient httpClient = HttpClients.custom()\n        .setSSLSocketFactory(csf)\n        .build();\n\nHttpComponentsClientHttpRequestFactory requestFactory =\n        new HttpComponentsClientHttpRequestFactory();\n\nrequestFactory.setHttpClient(httpClient);\n\nRestTemplate restTemplate = new RestTemplate(requestFactory);\n</code></pre>\n"}],"owner":{"account_id":22304440,"reputation":132,"user_id":16529288,"display_name":"MEF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4904,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72344607,"answer_count":2,"score":0,"last_activity_date":1653290315,"creation_date":1653030464,"question_id":72314882,"body_markdown":"I need to disable the SSL for a given url or for the restTemplate right know i can disable all the SSL&#39;s with the code bellow. How can i make this code for given URL only. Or how to disable it for the restTemplate.\r\n\r\n```\r\n public class SSLTool {\r\n\r\n            public static void disableCertificateValidation() {\r\n                // Create a trust manager that does not validate certificate chains\r\n                        TrustManager[] trustAllCerts = new TrustManager[] {\r\n                                new X509TrustManager() {\r\n                    public X509Certificate[] getAcceptedIssuers() {\r\n                                                return new X509Certificate[0];\r\n                                            }\r\n                    public void checkClientTrusted(X509Certificate[] certs, String authType) {}\r\n                    public void checkServerTrusted(X509Certificate[] certs, String authType) {}\r\n                }};\r\n        \r\n                        // Ignore differences between given hostname and certificate hostname\r\n                                HostnameVerifier hv = new HostnameVerifier() {\r\n            public boolean verify(String hostname, SSLSession session) { return true; }\r\n        };\r\n        \r\n                        // Install the all-trusting trust manager\r\n                                try {\r\n                        SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n                        sc.init(null, trustAllCerts, new SecureRandom());\r\n                        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n                        HttpsURLConnection.setDefaultHostnameVerifier(hv);\r\n                    } catch (Exception e) {/* intentionally left blank */}\r\n            }\r\n}\r\n``` ","title":"How to disable SSL for given url or for restTemplateBuilder?","body":"<p>I need to disable the SSL for a given url or for the restTemplate right know i can disable all the SSL's with the code bellow. How can i make this code for given URL only. Or how to disable it for the restTemplate.</p>\n<pre><code> public class SSLTool {\n\n            public static void disableCertificateValidation() {\n                // Create a trust manager that does not validate certificate chains\n                        TrustManager[] trustAllCerts = new TrustManager[] {\n                                new X509TrustManager() {\n                    public X509Certificate[] getAcceptedIssuers() {\n                                                return new X509Certificate[0];\n                                            }\n                    public void checkClientTrusted(X509Certificate[] certs, String authType) {}\n                    public void checkServerTrusted(X509Certificate[] certs, String authType) {}\n                }};\n        \n                        // Ignore differences between given hostname and certificate hostname\n                                HostnameVerifier hv = new HostnameVerifier() {\n            public boolean verify(String hostname, SSLSession session) { return true; }\n        };\n        \n                        // Install the all-trusting trust manager\n                                try {\n                        SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\n                        sc.init(null, trustAllCerts, new SecureRandom());\n                        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n                        HttpsURLConnection.setDefaultHostnameVerifier(hv);\n                    } catch (Exception e) {/* intentionally left blank */}\n            }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1653290381,"post_id":72344553,"comment_id":127805988,"body_markdown":"Measure. Use a profiler against both versions, find the hotspots and compare. Just guessing isn&#39;t going to help.","body":"Measure. Use a profiler against both versions, find the hotspots and compare. Just guessing isn&#39;t going to help."}],"owner":{"account_id":16726360,"reputation":31,"user_id":12089881,"display_name":"Rishi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653290069,"creation_date":1653290069,"question_id":72344553,"body_markdown":"Recently I upgraded to spring boot v2.5.12 from 2.3.3.release due to vulnerability issues. But I am seeing increase in response time in v2.5.12 by a factor of 2x+ when I make a cassandra db call. If we look into [changes][1] that went in v2.5.12 release, I feel it might be due to spring boot&#39;s dependency upgrade to Jackson Bom 2.12.6.20220326 but can&#39;t say for sure\r\n\r\nCan you pls help me in isolating cause of increase in response time after spring boot version upgrade? After we reverted version upgrade changes, response time came back to normal  \r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/releases/tag/v2.5.12","title":"Increase in response time on upgrading to spring boot v2.5.12","body":"<p>Recently I upgraded to spring boot v2.5.12 from 2.3.3.release due to vulnerability issues. But I am seeing increase in response time in v2.5.12 by a factor of 2x+ when I make a cassandra db call. If we look into <a href=\"https://github.com/spring-projects/spring-boot/releases/tag/v2.5.12\" rel=\"nofollow noreferrer\">changes</a> that went in v2.5.12 release, I feel it might be due to spring boot's dependency upgrade to Jackson Bom 2.12.6.20220326 but can't say for sure</p>\n<p>Can you pls help me in isolating cause of increase in response time after spring boot version upgrade? After we reverted version upgrade changes, response time came back to normal</p>\n"},{"tags":["java","angular","typescript","leaflet","geojson"],"answers":[{"tags":[],"owner":{"account_id":16208801,"reputation":2153,"user_id":11703367,"display_name":"Zerotwelve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653286111,"creation_date":1653046831,"answer_id":72318358,"question_id":72317985,"body_markdown":"if you use angular you should use Observables and not Promises, also avoid to post images of code, now I can&#39;t copy/paste you code.\r\n\r\nwhat you want to do is return an observable in getAll(), something like this:\r\n```typescript\r\n// in component\r\n  this.powerPlantService.getAll$().subscribe(\r\n      res =&gt; this.featureCollection = res,\r\n      err =&gt; console.log(err)\r\n    );\r\n// in service\r\n getAll$(): Observable&lt;any[]&gt; {\r\n    return this.http.get(baseUrl).pipe(\r\n      map(data =&gt; {\r\n        // transform your data here, or remove this pipe if you don&#39;t need it\r\n        return data;\r\n      })\r\n    );\r\n }\r\n```\r\n\r\n\r\nyou can transform your features in a flat object like this:\r\n```typescript\r\nreturn this.http.get(baseUrl).pipe(\r\n      map(features =&gt; {\r\n          return features.map(f =&gt; {\r\n            const pointGeometry: any = {\r\n                ...f.geometry,\r\n                ...f.properties\r\n            };\r\n            return pointGeometry;\r\n        });\r\n      })\r\n    );\r\n      \r\n\r\n\r\n```","title":"Parse String API response containing GeoJson FeatureCollection to Angular and add them as pins with pop-up info on leaflet map","body":"<p>if you use angular you should use Observables and not Promises, also avoid to post images of code, now I can't copy/paste you code.</p>\n<p>what you want to do is return an observable in getAll(), something like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// in component\n  this.powerPlantService.getAll$().subscribe(\n      res =&gt; this.featureCollection = res,\n      err =&gt; console.log(err)\n    );\n// in service\n getAll$(): Observable&lt;any[]&gt; {\n    return this.http.get(baseUrl).pipe(\n      map(data =&gt; {\n        // transform your data here, or remove this pipe if you don't need it\n        return data;\n      })\n    );\n }\n</code></pre>\n<p>you can transform your features in a flat object like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>return this.http.get(baseUrl).pipe(\n      map(features =&gt; {\n          return features.map(f =&gt; {\n            const pointGeometry: any = {\n                ...f.geometry,\n                ...f.properties\n            };\n            return pointGeometry;\n        });\n      })\n    );\n      \n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19442387,"reputation":39,"user_id":14220554,"display_name":"Art"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653289772,"creation_date":1653289772,"answer_id":72344495,"question_id":72317985,"body_markdown":" If you want to know how the back end formats and sends the response, please check in the body of the question.\r\n\r\nBelow is the service method that performs a GET request to the back end.\r\n```\r\nexport class PowerPlantService {\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getAll() {\r\n    return this.http.get(baseUrl);\r\n  }\r\n```\r\n\r\nBelow is the component method that subscribes to the answer and adds the elements to the map.\r\n\r\n```\r\n@Component({\r\n  selector: &#39;app-home&#39;,\r\n  templateUrl: &#39;./home.component.html&#39;,\r\n  styleUrls: [&#39;./home.component.css&#39;]\r\n})\r\nexport class HomeComponent implements OnInit {\r\n\r\n  private latitude: number = 45.6427;\r\n  private longitude: number = 25.5887;\r\n   \r\n  private map!: L.Map;\r\n  private centroid: L.LatLngExpression = [this.latitude, this.longitude];\r\n\r\n  ngOnInit(): void {\r\n    this.initMap();\r\n  }\r\n  \r\n  constructor(private powerPlantService: PowerPlantService) { \r\n  }\r\n\r\n  private initMap(): void {\r\n    this.map = L.map(&#39;map&#39;, {\r\n      center: this.centroid,\r\n      zoom: 2.8\r\n    });\r\n\r\n    const tiles = L.tileLayer(&#39;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&#39;, \r\n    {\r\n      minZoom: 2.8,\r\n      attribution: &#39;&amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;&#39;\r\n    });\r\n\r\n    tiles.addTo(this.map);\r\n    \r\n    this.powerPlantService.getAll().subscribe((data: any)=&gt;{\r\n      console.log(data);\r\n      L.geoJSON(data).addTo(this.map) \r\n    }) \r\n```","title":"Parse String API response containing GeoJson FeatureCollection to Angular and add them as pins with pop-up info on leaflet map","body":"<p>If you want to know how the back end formats and sends the response, please check in the body of the question.</p>\n<p>Below is the service method that performs a GET request to the back end.</p>\n<pre><code>export class PowerPlantService {\n  constructor(private http: HttpClient) { }\n\n  getAll() {\n    return this.http.get(baseUrl);\n  }\n</code></pre>\n<p>Below is the component method that subscribes to the answer and adds the elements to the map.</p>\n<pre><code>@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\n  private latitude: number = 45.6427;\n  private longitude: number = 25.5887;\n   \n  private map!: L.Map;\n  private centroid: L.LatLngExpression = [this.latitude, this.longitude];\n\n  ngOnInit(): void {\n    this.initMap();\n  }\n  \n  constructor(private powerPlantService: PowerPlantService) { \n  }\n\n  private initMap(): void {\n    this.map = L.map('map', {\n      center: this.centroid,\n      zoom: 2.8\n    });\n\n    const tiles = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', \n    {\n      minZoom: 2.8,\n      attribution: '&amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;'\n    });\n\n    tiles.addTo(this.map);\n    \n    this.powerPlantService.getAll().subscribe((data: any)=&gt;{\n      console.log(data);\n      L.geoJSON(data).addTo(this.map) \n    }) \n</code></pre>\n"}],"owner":{"account_id":19442387,"reputation":39,"user_id":14220554,"display_name":"Art"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72344495,"answer_count":2,"score":0,"last_activity_date":1653289772,"creation_date":1653045046,"question_id":72317985,"body_markdown":"Below is the service method (JsonObjectBuilderService) that converts an object (FeatureCollectionForGeoJson) to a jsonStr. This service method is used in the Get RequestMapping to send a response to the front-end.\r\n\r\nThe FeatureCollectionForGeoJson object is a class mapped for GeoJson FeatureCollection. \r\n\r\nThe GeometryForGeoJson is another class that contains the string type with &quot;Point&quot; value and the array that contains the latitude and longitude for the point.\r\n\r\nThe PropertyForGeoJson  class contains information/properties about that pin that will be displayed in the pop-up when the pin is clicked on on the map.\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class FeatureForGeoJson {\r\n\r\n    private final String type = &quot;Feature&quot;;\r\n    private GeometryForGeoJson geometry;\r\n    private PropertyForGeoJson properties;\r\n\r\n}\r\n```\r\n```\r\n@Service\r\npublic class JsonObjectBuilderService {\r\n\r\n    public String transformObjectToGeoJson(FeatureCollectionForGeoJson featureCollectionForGeoJson){\r\n        ObjectMapper Obj = new ObjectMapper();\r\n        String jsonStr = null;\r\n        try {\r\n           jsonStr = Obj.writeValueAsString(featureCollectionForGeoJson);\r\n\r\n        } catch (JsonProcessingException e) {\r\n            e.printStackTrace();\r\n        } //catch (IOException e) {\r\n\r\n        return jsonStr;\r\n    }\r\n}\r\n```\r\n\r\nThis is the GetMapping that sends the response to Angular\r\n```\r\n  @GetMapping(&quot;/power-plants&quot;)\r\n    public ResponseEntity&lt;String&gt; getAllPowerPlants() {\r\n        try {\r\n            FeatureCollectionForGeoJson powerPlantsToFeatureCollectionForGeoJson ;\r\n            //jpa query for the database to return the information\r\n            List&lt;PowerPlant&gt; powerPlantList = powerPlantJpaService.findAll();\r\n            \r\n            if (powerPlantList.isEmpty()) {\r\n                logger.info(&quot;The power plant list is empty.&quot;);\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n            }\r\n            logger.info(&quot;The power plant list is populated and has been returned successfully.&quot;);\r\n\r\n            powerPlantsToFeatureCollectionForGeoJson = transformPowerPlantsToFeaturesCollection.transformPowerPlantToGeoJsonElements(powerPlantList);\r\n\r\n            String objectToGeoJson = jsonObjectBuilderService.transformObjectToGeoJson(powerPlantsToFeatureCollectionForGeoJson);\r\n            logger.info(objectToGeoJson);\r\n\r\n            return new ResponseEntity&lt;&gt;(objectToGeoJson, HttpStatus.OK);\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n```\r\n\r\nThis is how the response looks like in the browser\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is the Angular method that fetches the response.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThis is the Angular component where I call the service method that fetches the response and where I want to add the pins to the map with the pop-ups. \r\n\r\n[![enter image description here][3]][3]\r\n\r\n***How do I take that response from the API (line 27 from Home.component.ts -right above- or the getAll() method from the PowerPlantService) and process it to extract the Point Geometry, to create a pin with it and extract the properties to add to a pop-up to the pin?***\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wgl6g.png\r\n  [2]: https://i.stack.imgur.com/VBKkN.png\r\n  [3]: https://i.stack.imgur.com/XQrsY.png\r\n  [4]: https://i.stack.imgur.com/kM30p.png","title":"Parse String API response containing GeoJson FeatureCollection to Angular and add them as pins with pop-up info on leaflet map","body":"<p>Below is the service method (JsonObjectBuilderService) that converts an object (FeatureCollectionForGeoJson) to a jsonStr. This service method is used in the Get RequestMapping to send a response to the front-end.</p>\n<p>The FeatureCollectionForGeoJson object is a class mapped for GeoJson FeatureCollection.</p>\n<p>The GeometryForGeoJson is another class that contains the string type with &quot;Point&quot; value and the array that contains the latitude and longitude for the point.</p>\n<p>The PropertyForGeoJson  class contains information/properties about that pin that will be displayed in the pop-up when the pin is clicked on on the map.</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\npublic class FeatureForGeoJson {\n\n    private final String type = &quot;Feature&quot;;\n    private GeometryForGeoJson geometry;\n    private PropertyForGeoJson properties;\n\n}\n</code></pre>\n<pre><code>@Service\npublic class JsonObjectBuilderService {\n\n    public String transformObjectToGeoJson(FeatureCollectionForGeoJson featureCollectionForGeoJson){\n        ObjectMapper Obj = new ObjectMapper();\n        String jsonStr = null;\n        try {\n           jsonStr = Obj.writeValueAsString(featureCollectionForGeoJson);\n\n        } catch (JsonProcessingException e) {\n            e.printStackTrace();\n        } //catch (IOException e) {\n\n        return jsonStr;\n    }\n}\n</code></pre>\n<p>This is the GetMapping that sends the response to Angular</p>\n<pre><code>  @GetMapping(&quot;/power-plants&quot;)\n    public ResponseEntity&lt;String&gt; getAllPowerPlants() {\n        try {\n            FeatureCollectionForGeoJson powerPlantsToFeatureCollectionForGeoJson ;\n            //jpa query for the database to return the information\n            List&lt;PowerPlant&gt; powerPlantList = powerPlantJpaService.findAll();\n            \n            if (powerPlantList.isEmpty()) {\n                logger.info(&quot;The power plant list is empty.&quot;);\n                return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n            }\n            logger.info(&quot;The power plant list is populated and has been returned successfully.&quot;);\n\n            powerPlantsToFeatureCollectionForGeoJson = transformPowerPlantsToFeaturesCollection.transformPowerPlantToGeoJsonElements(powerPlantList);\n\n            String objectToGeoJson = jsonObjectBuilderService.transformObjectToGeoJson(powerPlantsToFeatureCollectionForGeoJson);\n            logger.info(objectToGeoJson);\n\n            return new ResponseEntity&lt;&gt;(objectToGeoJson, HttpStatus.OK);\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n</code></pre>\n<p>This is how the response looks like in the browser</p>\n<p><a href=\"https://i.stack.imgur.com/Wgl6g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wgl6g.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the Angular method that fetches the response.</p>\n<p><a href=\"https://i.stack.imgur.com/VBKkN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VBKkN.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the Angular component where I call the service method that fetches the response and where I want to add the pins to the map with the pop-ups.</p>\n<p><a href=\"https://i.stack.imgur.com/XQrsY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XQrsY.png\" alt=\"enter image description here\" /></a></p>\n<p><em><strong>How do I take that response from the API (line 27 from Home.component.ts -right above- or the getAll() method from the PowerPlantService) and process it to extract the Point Geometry, to create a pin with it and extract the properties to add to a pop-up to the pin?</strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/kM30p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kM30p.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","web-applications","jmeter","load-testing","blazemeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653289564,"creation_date":1653289564,"answer_id":72344451,"question_id":72340278,"body_markdown":" 1. If JMeter &quot;hangs&quot; for 10 minutes retrieving an embedded resource there is a problem with this specific resource, you can see the response times for each resource using i.e. [View Results Tree][1] listener and either raise a bug for this particular &quot;slow&quot; component or exclude it from the scope using [HTTP Request Defaults][2]. There you can also specify the timeout, if the request won&#39;t return the response within the given timeframe - it will be marked as failed so you won&#39;t have to wait for 10 minutes:\r\n\r\n    [![enter image description here][3]][3]\r\n 2. Your way of increasing the heap is correct, it looks like 4Gb is not sufficient you will either have to provide more or consider switching to [distributed testing][4]\r\n 3. Make sure to follow [JMeter Best Practices][5] in any case. If your &quot;computer fan goes nuts&quot; it means that CPU usage is very high therefore JMeter most probably won&#39;t be able to send requests fast enough so you will get false-negative results. \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#View_Results_Tree\r\n  [2]: https://www.blazemeter.com/blog/why-its-so-important-use-jmeters-http-request-defaults\r\n  [3]: https://i.stack.imgur.com/TsF7o.png\r\n  [4]: https://jmeter.apache.org/usermanual/remote-test.html\r\n  [5]: https://jmeter.apache.org/usermanual/best-practices.html","title":"JMeter slow with &quot;Retrieve all embedded resources&quot; - how do I scale?","body":"<ol>\n<li><p>If JMeter &quot;hangs&quot; for 10 minutes retrieving an embedded resource there is a problem with this specific resource, you can see the response times for each resource using i.e. <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#View_Results_Tree\" rel=\"nofollow noreferrer\">View Results Tree</a> listener and either raise a bug for this particular &quot;slow&quot; component or exclude it from the scope using <a href=\"https://www.blazemeter.com/blog/why-its-so-important-use-jmeters-http-request-defaults\" rel=\"nofollow noreferrer\">HTTP Request Defaults</a>. There you can also specify the timeout, if the request won't return the response within the given timeframe - it will be marked as failed so you won't have to wait for 10 minutes:</p>\n<p><a href=\"https://i.stack.imgur.com/TsF7o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TsF7o.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Your way of increasing the heap is correct, it looks like 4Gb is not sufficient you will either have to provide more or consider switching to <a href=\"https://jmeter.apache.org/usermanual/remote-test.html\" rel=\"nofollow noreferrer\">distributed testing</a></p>\n</li>\n<li><p>Make sure to follow <a href=\"https://jmeter.apache.org/usermanual/best-practices.html\" rel=\"nofollow noreferrer\">JMeter Best Practices</a> in any case. If your &quot;computer fan goes nuts&quot; it means that CPU usage is very high therefore JMeter most probably won't be able to send requests fast enough so you will get false-negative results.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":3377095,"reputation":194,"user_id":2835035,"display_name":"mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72344451,"answer_count":1,"score":0,"last_activity_date":1653289564,"creation_date":1653244041,"question_id":72340278,"body_markdown":"**TLDR:**\r\n- JMeter crawls with just 1 test user if I select &quot;Retrieve all embedded resources&quot;. \r\n- JMeter throws `Uncaught Exception java.lang.OutOfMemoryError: Java heap space in thread Thread` if I test with 100 users\r\n- How to eventually scale to test with thousands of users?\r\n\r\n**More details:**\r\n\r\nI&#39;m recording the jmx script using the BlazeMeter Chrome extension. The user logs in, and completes a course and a test. There are many ajax requests being made along the way. Around 350 - 400 steps for the script. Mostly ajax POST request that have a json response.\r\n\r\nWhen I click through manually in Chrome, the site loads quickly. Maybe a page load takes 2 seconds tops.\r\n\r\nBut when I import that script into JMeter with the &quot;Retrieve all embedded resources&quot; and &quot;Parallel downloads&quot; set to 6, and run it (in the GUI initially with just 1 user), it will get through, say, 7 steps quickly, and then just hang, sometimes for 10+ minutes before advancing to the next step. This doesn&#39;t happen if I uncheck &quot;Retrieve all embedded resources&quot;, but I don&#39;t want to do that since that wouldn&#39;t be a realistic test.\r\n\r\nIf I take that same test and run it with 100 users (from the command line using `JVM_ARGS=&#39;-Xms4096m -Xmx4096m&#39; sh jmeter -n -t myfolder/mytest.jmx -l myfolder/testresults.jtl`), I get `Uncaught Exception java.lang.OutOfMemoryError: Java heap space in thread Thread` and my computer fan goes nuts.\r\n\r\nI have an HTTP Cache Manager configured with only &quot;Use Cache-Control/Expires header when processing GET requests&quot; checked and I&#39;ve lowered the &quot;Max Number of elements in cache down to 10 since that&#39;s the only way I can get the test running at all.\r\n\r\nIdeally, I&#39;d like to test thousands of users at once, but if I can&#39;t reliably get 100 users tested, I don&#39;t understand how I&#39;m supposed to scale to thousands.\r\n\r\nI see that there are other cloud-based testing options, and I&#39;ve tried a few out now, however I always come to a halt when it comes to configuring how to test logged in users. Seems like most solutions don&#39;t support this.\r\n\r\nFeels like the kind of thing that lots of people should have come across in the past, but I find almost no one having these issues. What&#39;s the right way to load test thousands of logged-in users on a web application?","title":"JMeter slow with &quot;Retrieve all embedded resources&quot; - how do I scale?","body":"<p><strong>TLDR:</strong></p>\n<ul>\n<li>JMeter crawls with just 1 test user if I select &quot;Retrieve all embedded resources&quot;.</li>\n<li>JMeter throws <code>Uncaught Exception java.lang.OutOfMemoryError: Java heap space in thread Thread</code> if I test with 100 users</li>\n<li>How to eventually scale to test with thousands of users?</li>\n</ul>\n<p><strong>More details:</strong></p>\n<p>I'm recording the jmx script using the BlazeMeter Chrome extension. The user logs in, and completes a course and a test. There are many ajax requests being made along the way. Around 350 - 400 steps for the script. Mostly ajax POST request that have a json response.</p>\n<p>When I click through manually in Chrome, the site loads quickly. Maybe a page load takes 2 seconds tops.</p>\n<p>But when I import that script into JMeter with the &quot;Retrieve all embedded resources&quot; and &quot;Parallel downloads&quot; set to 6, and run it (in the GUI initially with just 1 user), it will get through, say, 7 steps quickly, and then just hang, sometimes for 10+ minutes before advancing to the next step. This doesn't happen if I uncheck &quot;Retrieve all embedded resources&quot;, but I don't want to do that since that wouldn't be a realistic test.</p>\n<p>If I take that same test and run it with 100 users (from the command line using <code>JVM_ARGS='-Xms4096m -Xmx4096m' sh jmeter -n -t myfolder/mytest.jmx -l myfolder/testresults.jtl</code>), I get <code>Uncaught Exception java.lang.OutOfMemoryError: Java heap space in thread Thread</code> and my computer fan goes nuts.</p>\n<p>I have an HTTP Cache Manager configured with only &quot;Use Cache-Control/Expires header when processing GET requests&quot; checked and I've lowered the &quot;Max Number of elements in cache down to 10 since that's the only way I can get the test running at all.</p>\n<p>Ideally, I'd like to test thousands of users at once, but if I can't reliably get 100 users tested, I don't understand how I'm supposed to scale to thousands.</p>\n<p>I see that there are other cloud-based testing options, and I've tried a few out now, however I always come to a halt when it comes to configuring how to test logged in users. Seems like most solutions don't support this.</p>\n<p>Feels like the kind of thing that lots of people should have come across in the past, but I find almost no one having these issues. What's the right way to load test thousands of logged-in users on a web application?</p>\n"},{"tags":["java","arrays","parsing","numberformatexception"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1653272904,"post_id":72342667,"comment_id":127802866,"body_markdown":"This does not look right.  You do `while (line != null)` then without any processing you overwrite `line` with `line = bufRdr.readLine();`","body":"This does not look right.  You do <code>while (line != null)</code> then without any processing you overwrite <code>line</code> with <code>line = bufRdr.readLine();</code>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1653272978,"post_id":72342667,"comment_id":127802880,"body_markdown":"Also I recommend that you use a proper csv library","body":"Also I recommend that you use a proper csv library"},{"owner":{"account_id":25361808,"reputation":11,"user_id":19176930,"display_name":"Clamont04"},"score":0,"creation_date":1653275010,"post_id":72342667,"comment_id":127803139,"body_markdown":"I have removed the repeated bufRdr.readLine(); but I now get a NumberFormatException for my CumulativePositive entry (one of my objects parameters) saying there is still an error with my parsing. Any clue why?","body":"I have removed the repeated bufRdr.readLine(); but I now get a NumberFormatException for my CumulativePositive entry (one of my objects parameters) saying there is still an error with my parsing. Any clue why?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1653278472,"post_id":72342667,"comment_id":127803572,"body_markdown":"For a start change to `String[] Values = line.split(&quot;,&quot;);` - next inspect the values (maybe a blank line) and also check that that the length of the `Values` is is as expected.","body":"For a start change to <code>String[] Values = line.split(&quot;,&quot;);</code> - next inspect the values (maybe a blank line) and also check that that the length of the <code>Values</code> is is as expected."}],"answers":[{"tags":[],"owner":{"account_id":16698477,"reputation":75,"user_id":12068921,"display_name":"GAURAV KUMAR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653273601,"creation_date":1653273601,"answer_id":72342747,"question_id":72342667,"body_markdown":"\r\nyou can create one generic method for null check and check if it&#39;s null then return empty string or any thing else based on your needs\r\n    \r\n\r\n      int hosp = Integer.parseInt(checkForNull(Values[10]));\r\n       \r\n    \r\n        public static String checkForNull(String val) {\r\n    \r\n            return (val == null ? &quot; &quot; : val);\r\n        }","title":"How to deal with NumberFormatException when reading from a csv file","body":"<p>you can create one generic method for null check and check if it's null then return empty string or any thing else based on your needs</p>\n<pre><code>  int hosp = Integer.parseInt(checkForNull(Values[10]));\n   \n\n    public static String checkForNull(String val) {\n\n        return (val == null ? &quot; &quot; : val);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653289557,"creation_date":1653289557,"answer_id":72344448,"question_id":72342667,"body_markdown":"As already suggested, use a proper CSV Parser if you can but if for some unknown reason you can&#39;t, this could be one way you can do it. Be sure to read the comments in code:\r\n\r\n    fileStream = new FileInputStream(pFileName);\r\n    rdr = new InputStreamReader(fileStream);\r\n    bufRdr = new BufferedReader(rdr);\r\n\r\n    // Remove the following line if there is no Header line in the CSV file.\r\n    String line = bufRdr.readLine();\r\n        \r\n    String csvFileDataDelimiter = &quot;,&quot;;\r\n    List&lt;CovidRecord&gt; recordsList = new ArrayList&lt;&gt;();\r\n        \r\n    // True value calculated later in code (read comments).\r\n    int expectedNumberOfElements = 0;  // 0 is default\r\n        \r\n    while ((line = bufRdr.readLine()) != null) {\r\n        line = line.trim();\r\n        // If for some crazy reason a blank line is encountered...skip it.\r\n        if (line.isEmpty()) {\r\n            continue;\r\n        }\r\n\r\n        /* Get the expected number of elements within each CSV File Data Line.\r\n           This is based off of the number of actual delimiters within a file \r\n           data line plus 1. This is only calculated from the very first data \r\n           line.                                                            */\r\n        if (expectedNumberOfElements == 0) {\r\n             expectedNumberOfElements = line.replaceAll(&quot;[^\\\\&quot; + csvFileDataDelimiter + &quot;]&quot;, &quot;&quot;).length() + 1;\r\n        }\r\n            \r\n        /* Create and fill (with Null String) an array to be the expected \r\n           size of a CSV data line. This is done because if a data line \r\n           contains nothing for the last data element on that line then \r\n           when the line is split, the srray that is created will be short \r\n           by one element. This will ensure that there will alsways be a \r\n           Null String (&quot;&quot;) present within the array when there is nothing \r\n           in the CSV data line. This null string is used in data validations\r\n           so as to provide a default value (like 0) if an Array Element\r\n           contains an actual Null String (&quot;&quot;).                           */\r\n        String[] csvLineElements = new String[expectedNumberOfElements];\r\n        Arrays.fill(csvLineElements, &quot;&quot;);\r\n        \r\n        /* Take the array from the split (values) and place the data into\r\n           the csvLineElements[] array.             */\r\n        String[] values = line.split(&quot;\\\\s*,\\\\s*&quot;); // Takes care of any comma/whitespace combinations (if any).\r\n        for (int i = 0; i &lt; values.length; i++) {\r\n            csvLineElements[i] = values[i];\r\n        }\r\n            \r\n        /* Is the csvLineElements[] element a String representation of a signed\r\n           or unsigned integer data type value (&quot;-?\\\\d+&quot;). If so, convert the \r\n           String array element into an Integer value. If not, provide a default \r\n           value of 0.                                                       */\r\n        int cumulPos = Integer.parseInt(csvLineElements[6].matches(&quot;-?\\\\d+&quot;) ? csvLineElements[6] : &quot;0&quot;);\r\n        int cumulDec = Integer.parseInt(csvLineElements[7].matches(&quot;-?\\\\d+&quot;) ? csvLineElements[7] : &quot;0&quot;);\r\n        int cumuRec = Integer.parseInt(csvLineElements[8].matches(&quot;-?\\\\d+&quot;) ? csvLineElements[8] : &quot;0&quot;);\r\n        int curPos = Integer.parseInt(csvLineElements[9].matches(&quot;-?\\\\d+&quot;) ? csvLineElements[9] : &quot;0&quot;);\r\n        int hosp = Integer.parseInt(csvLineElements[10].matches(&quot;-?\\\\d+&quot;) ? csvLineElements[10] : &quot;0&quot;);\r\n        int intenCar = Integer.parseInt(csvLineElements[11].matches(&quot;-?\\\\d+&quot;) ? csvLineElements[11] : &quot;0&quot;);\r\n        /* Is the csvLineElements[] element a String representation of a signed\r\n           or unsigned integer or floating point value (&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;). \r\n           If so, convert the String array element into an Double data type value. \r\n           If not, provide a default value of 0.0                             */\r\n        double latitude = Double.parseDouble(csvLineElements[4]\r\n                          .matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;) ? csvLineElements[4] : &quot;0.0d&quot;);\r\n        double longitude = Double.parseDouble(csvLineElements[5]\r\n                          .matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;) ? csvLineElements[5] : &quot;0.0d&quot;);\r\n            \r\n        /* Create an instance of Country to pass into the constructor of  \r\n           CovidRecord below.           */\r\n        Country country = new Country(csvLineElements[1], csvLineElements[2], \r\n                                      csvLineElements[3], csvLineElements[13], \r\n                                      latitude, longitude);\r\n            \r\n        // Create an add an instance of CovidRecord to the recordsList List.\r\n        recordsList.add(new CovidRecord(csvLineElements[0], cumulPos, cumulDec, \r\n                                        cumuRec, curPos, hosp, intenCar, country));\r\n            \r\n        // Do what you want with the recordList List.... \r\n    }\r\n\r\nFor obvious reasons, the code above was not tested. If you have any problems with it then let me know. \r\n\r\nYou will also notice the instead of the `covidrecordArray[]` CovidRecord Array I opted to use a List Interface named `recordsList`. This List can grow dynamically whereas the array is fixed meaning you need to determine the number of data lines within the file when initializing the array. This is not required with the List. ","title":"How to deal with NumberFormatException when reading from a csv file","body":"<p>As already suggested, use a proper CSV Parser if you can but if for some unknown reason you can't, this could be one way you can do it. Be sure to read the comments in code:</p>\n<pre><code>fileStream = new FileInputStream(pFileName);\nrdr = new InputStreamReader(fileStream);\nbufRdr = new BufferedReader(rdr);\n\n// Remove the following line if there is no Header line in the CSV file.\nString line = bufRdr.readLine();\n    \nString csvFileDataDelimiter = &quot;,&quot;;\nList&lt;CovidRecord&gt; recordsList = new ArrayList&lt;&gt;();\n    \n// True value calculated later in code (read comments).\nint expectedNumberOfElements = 0;  // 0 is default\n    \nwhile ((line = bufRdr.readLine()) != null) {\n    line = line.trim();\n    // If for some crazy reason a blank line is encountered...skip it.\n    if (line.isEmpty()) {\n        continue;\n    }\n\n    /* Get the expected number of elements within each CSV File Data Line.\n       This is based off of the number of actual delimiters within a file \n       data line plus 1. This is only calculated from the very first data \n       line.                                                            */\n    if (expectedNumberOfElements == 0) {\n         expectedNumberOfElements = line.replaceAll(&quot;[^\\\\&quot; + csvFileDataDelimiter + &quot;]&quot;, &quot;&quot;).length() + 1;\n    }\n        \n    /* Create and fill (with Null String) an array to be the expected \n       size of a CSV data line. This is done because if a data line \n       contains nothing for the last data element on that line then \n       when the line is split, the srray that is created will be short \n       by one element. This will ensure that there will alsways be a \n       Null String (&quot;&quot;) present within the array when there is nothing \n       in the CSV data line. This null string is used in data validations\n       so as to provide a default value (like 0) if an Array Element\n       contains an actual Null String (&quot;&quot;).                           */\n    String[] csvLineElements = new String[expectedNumberOfElements];\n    Arrays.fill(csvLineElements, &quot;&quot;);\n    \n    /* Take the array from the split (values) and place the data into\n       the csvLineElements[] array.             */\n    String[] values = line.split(&quot;\\\\s*,\\\\s*&quot;); // Takes care of any comma/whitespace combinations (if any).\n    for (int i = 0; i &lt; values.length; i++) {\n        csvLineElements[i] = values[i];\n    }\n        \n    /* Is the csvLineElements[] element a String representation of a signed\n       or unsigned integer data type value (&quot;-?\\\\d+&quot;). If so, convert the \n       String array element into an Integer value. If not, provide a default \n       value of 0.                                                       */\n    int cumulPos = Integer.parseInt(csvLineElements[6].matches(&quot;-?\\\\d+&quot;) ? csvLineElements[6] : &quot;0&quot;);\n    int cumulDec = Integer.parseInt(csvLineElements[7].matches(&quot;-?\\\\d+&quot;) ? csvLineElements[7] : &quot;0&quot;);\n    int cumuRec = Integer.parseInt(csvLineElements[8].matches(&quot;-?\\\\d+&quot;) ? csvLineElements[8] : &quot;0&quot;);\n    int curPos = Integer.parseInt(csvLineElements[9].matches(&quot;-?\\\\d+&quot;) ? csvLineElements[9] : &quot;0&quot;);\n    int hosp = Integer.parseInt(csvLineElements[10].matches(&quot;-?\\\\d+&quot;) ? csvLineElements[10] : &quot;0&quot;);\n    int intenCar = Integer.parseInt(csvLineElements[11].matches(&quot;-?\\\\d+&quot;) ? csvLineElements[11] : &quot;0&quot;);\n    /* Is the csvLineElements[] element a String representation of a signed\n       or unsigned integer or floating point value (&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;). \n       If so, convert the String array element into an Double data type value. \n       If not, provide a default value of 0.0                             */\n    double latitude = Double.parseDouble(csvLineElements[4]\n                      .matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;) ? csvLineElements[4] : &quot;0.0d&quot;);\n    double longitude = Double.parseDouble(csvLineElements[5]\n                      .matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;) ? csvLineElements[5] : &quot;0.0d&quot;);\n        \n    /* Create an instance of Country to pass into the constructor of  \n       CovidRecord below.           */\n    Country country = new Country(csvLineElements[1], csvLineElements[2], \n                                  csvLineElements[3], csvLineElements[13], \n                                  latitude, longitude);\n        \n    // Create an add an instance of CovidRecord to the recordsList List.\n    recordsList.add(new CovidRecord(csvLineElements[0], cumulPos, cumulDec, \n                                    cumuRec, curPos, hosp, intenCar, country));\n        \n    // Do what you want with the recordList List.... \n}\n</code></pre>\n<p>For obvious reasons, the code above was not tested. If you have any problems with it then let me know.</p>\n<p>You will also notice the instead of the <code>covidrecordArray[]</code> CovidRecord Array I opted to use a List Interface named <code>recordsList</code>. This List can grow dynamically whereas the array is fixed meaning you need to determine the number of data lines within the file when initializing the array. This is not required with the List.</p>\n"}],"owner":{"account_id":25361808,"reputation":11,"user_id":19176930,"display_name":"Clamont04"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1653319854,"answer_count":2,"score":1,"last_activity_date":1653289557,"creation_date":1653272646,"question_id":72342667,"body_markdown":"My task is to read values from a csv file, and import each line of information from this file into an object array. I think my issue is the blank data elements in my csv file which doesn&#39;t work for my parsing from string to int, but I have found no way to deal with this. Here is my code:\r\n\r\n    `fileStream = new FileInputStream(pFileName);\r\n            rdr = new InputStreamReader(fileStream);\r\n            bufRdr = new BufferedReader(rdr);\r\n            lineNum = 0;`    \r\n\r\n            while (line != null) {\r\n                lineNum++;\r\n                String[] Values = new String[13];\r\n                Values = line.split(&quot;,&quot;);\r\n                \r\n                \r\n                int cumulPos = Integer.parseInt(Values[6]);\r\n                int cumulDec = Integer.parseInt(Values[7]);\r\n                int cumuRec = Integer.parseInt(Values[8]);\r\n                int curPos = Integer.parseInt(Values[9]);\r\n                int hosp = Integer.parseInt(Values[10]);\r\n                int intenCar = Integer.parseInt(Values[11]);\r\n                double latitude = Double.parseDouble(Values[4]);\r\n                double longitude = Double.parseDouble(Values[5]);\r\n\r\n                covidrecordArray[lineNum] = new CovidRecord(Values[0], cumulPos, cumulDec, cumuRec, curPos, hosp,\r\n                        intenCar, new Country(Values[1], Values[2], Values[3], Values[13], latitude, longitude));\r\n\r\n\r\n\r\n\r\nIf anyone could help it would be greatly appreciated.","title":"How to deal with NumberFormatException when reading from a csv file","body":"<p>My task is to read values from a csv file, and import each line of information from this file into an object array. I think my issue is the blank data elements in my csv file which doesn't work for my parsing from string to int, but I have found no way to deal with this. Here is my code:</p>\n<pre><code>`fileStream = new FileInputStream(pFileName);\n        rdr = new InputStreamReader(fileStream);\n        bufRdr = new BufferedReader(rdr);\n        lineNum = 0;`    \n\n        while (line != null) {\n            lineNum++;\n            String[] Values = new String[13];\n            Values = line.split(&quot;,&quot;);\n            \n            \n            int cumulPos = Integer.parseInt(Values[6]);\n            int cumulDec = Integer.parseInt(Values[7]);\n            int cumuRec = Integer.parseInt(Values[8]);\n            int curPos = Integer.parseInt(Values[9]);\n            int hosp = Integer.parseInt(Values[10]);\n            int intenCar = Integer.parseInt(Values[11]);\n            double latitude = Double.parseDouble(Values[4]);\n            double longitude = Double.parseDouble(Values[5]);\n\n            covidrecordArray[lineNum] = new CovidRecord(Values[0], cumulPos, cumulDec, cumuRec, curPos, hosp,\n                    intenCar, new Country(Values[1], Values[2], Values[3], Values[13], latitude, longitude));\n</code></pre>\n<p>If anyone could help it would be greatly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19044164,"reputation":7735,"user_id":13903626,"display_name":"Vito Liu"},"score":0,"creation_date":1653289229,"post_id":72344375,"comment_id":127805592,"body_markdown":"I search some doc and see websocket, but I do not know hwo to change my code...","body":"I search some doc and see websocket, but I do not know hwo to change my code..."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1653292723,"post_id":72344375,"comment_id":127806786,"body_markdown":"You might need to do Async calls instead.   Your code working synchronously does not seem to work, and simply increasing the timeout is not a viable solution.  Showing your code might allow others to understand how to help you better.","body":"You might need to do Async calls instead.   Your code working synchronously does not seem to work, and simply increasing the timeout is not a viable solution.  Showing your code might allow others to understand how to help you better."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1653298512,"post_id":72344375,"comment_id":127808827,"body_markdown":"Could you please explain your use case, it is not clear  enough to provide an answer/direction. Please post any code (sample) that you might have, it shall be helpful.","body":"Could you please explain your use case, it is not clear  enough to provide an answer/direction. Please post any code (sample) that you might have, it shall be helpful."}],"owner":{"account_id":19044164,"reputation":7735,"user_id":13903626,"display_name":"Vito Liu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653289178,"creation_date":1653289178,"question_id":72344375,"body_markdown":"I am uploading a file and parsing the file data in the background and saving it to the database, If the background parsing time is too long, the page will report an error connection timeout, and the backend will print `java.io.IOException: Broken pipe` on the console, But the data will continue to be written, I know that the timeout can be adjusted to avoid this problem, I have adjusted it to 20s, but the backend write time may be longer, I can&#39;t add the timeout time again","title":"When the backend parses the file, the frontend reports an error and access timeout","body":"<p>I am uploading a file and parsing the file data in the background and saving it to the database, If the background parsing time is too long, the page will report an error connection timeout, and the backend will print <code>java.io.IOException: Broken pipe</code> on the console, But the data will continue to be written, I know that the timeout can be adjusted to avoid this problem, I have adjusted it to 20s, but the backend write time may be longer, I can't add the timeout time again</p>\n"},{"tags":["java","spring-boot","rest","spring-restcontroller","get-mapping"],"comments":[{"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"score":0,"creation_date":1653243438,"post_id":72340009,"comment_id":127798356,"body_markdown":"What package is `MySpringBootAppApplication` in?","body":"What package is <code>MySpringBootAppApplication</code> in?"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1653244990,"post_id":72340009,"comment_id":127798689,"body_markdown":"Pls specify package structure","body":"Pls specify package structure"},{"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"score":0,"creation_date":1653245165,"post_id":72340009,"comment_id":127798721,"body_markdown":"It&#39;s in the default package created by spring initialize - package com.xenon.myspringbootapp;","body":"It&#39;s in the default package created by spring initialize - package com.xenon.myspringbootapp;"}],"answers":[{"tags":[],"owner":{"account_id":25306013,"reputation":216,"user_id":19129532,"display_name":"zzzzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653242502,"creation_date":1653242502,"answer_id":72340094,"question_id":72340009,"body_markdown":"Reason 1: Default Spring&#39;s component scanning can&#39;t fount your `@RestController` component, so you can try to do `@ComponentScan` directly.\r\n\r\nReason 2: You need to specify an endpoint for your `@GetMapping` by using `@RequestMapping`/`@GetMapping(&quot;url&quot;)` or both of them.","title":"Rest Controller works just for Application class","body":"<p>Reason 1: Default Spring's component scanning can't fount your <code>@RestController</code> component, so you can try to do <code>@ComponentScan</code> directly.</p>\n<p>Reason 2: You need to specify an endpoint for your <code>@GetMapping</code> by using <code>@RequestMapping</code>/<code>@GetMapping(&quot;url&quot;)</code> or both of them.</p>\n"},{"tags":[],"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653246968,"creation_date":1653246968,"answer_id":72340614,"question_id":72340009,"body_markdown":"The issue is that your package structure prevents `BookController` from being component scanned.\r\n\r\nWhen you have your `@SpringBootApplication` defined in package `com.xenon.myspringbootapp`, anything in that package and in nested packages is eligible for component scanning, which will register a bean out of `@(Rest)Controller` and other stereotypes.\r\n\r\nBecause `BookController` is defined in `book`, it is outside of the component scanned packages and will therefore not be component scanned by your `@SpringBootApplication` annotation.\r\n\r\nSee [the reference docs][1] for more best practices on package structure with Spring Boot applications.\r\n\r\nTo resolve this, there are two choices to get your class component scanned.\r\n\r\nThe first (and the way I would recommend) is just to restructure your packages so that the `@SpringBootApplication` class is at the &quot;base&quot; of your application packages. For example, you could move `book.BookController` to be at `com.xenon.myspringbootapp.book.BookController`.\r\n\r\nThe second is to change the component scanning configuration to include your `book` package. You can do this either on the `@SpringBootApplication` annotation itself:\r\n```java\r\n@SpringBootApplication(scanBasePackages = {\r\n        &quot;com.xenon.myspringbootapp&quot;,\r\n        &quot;book&quot;\r\n})\r\n```\r\n\r\nOr, define a different `@ComponentScan`. Note that the configuration class annotated with `@ComponentScan` must still be component scanned itself.\r\n```java\r\n@SpringBootApplication\r\npublic class MySpringBootAppApplication {\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;book&quot;)\r\n    public static class MyBookComponentScanConfiguration {}\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MySpringBootAppApplication.class);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html","title":"Rest Controller works just for Application class","body":"<p>The issue is that your package structure prevents <code>BookController</code> from being component scanned.</p>\n<p>When you have your <code>@SpringBootApplication</code> defined in package <code>com.xenon.myspringbootapp</code>, anything in that package and in nested packages is eligible for component scanning, which will register a bean out of <code>@(Rest)Controller</code> and other stereotypes.</p>\n<p>Because <code>BookController</code> is defined in <code>book</code>, it is outside of the component scanned packages and will therefore not be component scanned by your <code>@SpringBootApplication</code> annotation.</p>\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\">the reference docs</a> for more best practices on package structure with Spring Boot applications.</p>\n<p>To resolve this, there are two choices to get your class component scanned.</p>\n<p>The first (and the way I would recommend) is just to restructure your packages so that the <code>@SpringBootApplication</code> class is at the &quot;base&quot; of your application packages. For example, you could move <code>book.BookController</code> to be at <code>com.xenon.myspringbootapp.book.BookController</code>.</p>\n<p>The second is to change the component scanning configuration to include your <code>book</code> package. You can do this either on the <code>@SpringBootApplication</code> annotation itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(scanBasePackages = {\n        &quot;com.xenon.myspringbootapp&quot;,\n        &quot;book&quot;\n})\n</code></pre>\n<p>Or, define a different <code>@ComponentScan</code>. Note that the configuration class annotated with <code>@ComponentScan</code> must still be component scanned itself.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class MySpringBootAppApplication {\n\n    @Configuration\n    @ComponentScan(&quot;book&quot;)\n    public static class MyBookComponentScanConfiguration {}\n\n    public static void main(String[] args) {\n        SpringApplication.run(MySpringBootAppApplication.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72340614,"answer_count":2,"score":0,"last_activity_date":1653289068,"creation_date":1653241853,"question_id":72340009,"body_markdown":"I&#39;m trying to do a getmapping method using rest-api which will return as a JSON on localhost: 8080. When I do this from the default Application class it works great but when I move this functionality to another class nothing happens. Could someone help me with this, please?\r\n\r\n![Application Class][1]\r\n\r\n![BookController Class][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LGkLZ.png\r\n  [2]: https://i.stack.imgur.com/2myaH.png","title":"Rest Controller works just for Application class","body":"<p>I'm trying to do a getmapping method using rest-api which will return as a JSON on localhost: 8080. When I do this from the default Application class it works great but when I move this functionality to another class nothing happens. Could someone help me with this, please?</p>\n<p><img src=\"https://i.stack.imgur.com/LGkLZ.png\" alt=\"Application Class\" /></p>\n<p><img src=\"https://i.stack.imgur.com/2myaH.png\" alt=\"BookController Class\" /></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1653253745,"post_id":72341093,"comment_id":127800393,"body_markdown":"I can use GHObject (and the other classes) without a problems. The issue arises when I want to extend one. And no, when I tried adding the annotations to my class it did not work. Will give that a try...","body":"I can use GHObject (and the other classes) without a problems. The issue arises when I want to extend one. And no, when I tried adding the annotations to my class it did not work. Will give that a try..."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1653253797,"post_id":72341093,"comment_id":127800401,"body_markdown":"Somehow I believe the Netbeans Cache is not important. After all it is a Gradle build, and running `./gradlew clean build`on command line produces the same error.","body":"Somehow I believe the Netbeans Cache is not important. After all it is a Gradle build, and running <code>.&#47;gradlew clean build</code>on command line produces the same error."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1653255338,"post_id":72341093,"comment_id":127800655,"body_markdown":"Yeah, annotations are not the issue. I&#39;ve looked at some of the concrete classes in the github repository that extend the abstract class of interest, and they are all without annotations. They don&#39;t look different from your code, other than overriding many of the non-abstract methods. But of course, that shouldn&#39;t matter to the compiler.","body":"Yeah, annotations are not the issue. I&#39;ve looked at some of the concrete classes in the github repository that extend the abstract class of interest, and they are all without annotations. They don&#39;t look different from your code, other than overriding many of the non-abstract methods. But of course, that shouldn&#39;t matter to the compiler."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1653255653,"post_id":72341093,"comment_id":127800697,"body_markdown":"I think that it&#39;s likely a NetBeans hiccough","body":"I think that it&#39;s likely a NetBeans hiccough"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1653288460,"post_id":72341093,"comment_id":127805368,"body_markdown":"Meanwhile I exited from Netbeans and am just on vi and gradle, and I switched to OpenJDK 19-ea. The error is still the same.","body":"Meanwhile I exited from Netbeans and am just on vi and gradle, and I switched to OpenJDK 19-ea. The error is still the same."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1653299004,"post_id":72341093,"comment_id":127808991,"body_markdown":"I could not find the root cause or an otherwise satisfactory answer to the question. \nMeanwhile I implemented a workaround that no longer requires subclassing GHObject.","body":"I could not find the root cause or an otherwise satisfactory answer to the question.  Meanwhile I implemented a workaround that no longer requires subclassing GHObject."}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1653289007,"creation_date":1653251472,"question_id":72341093,"body_markdown":"This question has been asked many times, and usually I know how to handle it. This time OpenJDK 16, Netbeans 13 and Gradle are puzzling me. Although I am convinced I am overriding the necessary method the compiler insists that I am not.\r\n\r\nI am trying to extend [GHObject][1], even writing the method manually, although usually I use Netbeans&#39; hints to implement the missing methods. Also removing the @override does not help.\r\n\r\nThis is what I came up with as a minimum example:\r\n\r\n    package settlers.installer.model;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import org.kohsuke.github.GHObject;\r\n    \r\n    public class MyGHObject extends GHObject {\r\n    \r\n        @Override\r\n        public URL getHtmlUrl() throws IOException {\r\n            return null;\r\n        }\r\n        \r\n    }\r\n\r\nand the compiler emits\r\n\r\n    error: MyGHObject is not abstract and does not override abstract method getHtmlUrl() in GHObject\r\n    public class MyGHObject extends GHObject {\r\n           ^\r\n\r\nTo rule out problems in Netbeans and OpenJDK 16 I switched to running command-line Gradle and openJDK 19. No change.\r\n\r\nWhat could be missing?\r\n\r\n\r\n  [1]: https://github-api.kohsuke.org/apidocs/org/kohsuke/github/GHObject.html","title":"Puzzling Class is not abstract and does not override abstract method","body":"<p>This question has been asked many times, and usually I know how to handle it. This time OpenJDK 16, Netbeans 13 and Gradle are puzzling me. Although I am convinced I am overriding the necessary method the compiler insists that I am not.</p>\n<p>I am trying to extend <a href=\"https://github-api.kohsuke.org/apidocs/org/kohsuke/github/GHObject.html\" rel=\"nofollow noreferrer\">GHObject</a>, even writing the method manually, although usually I use Netbeans' hints to implement the missing methods. Also removing the @override does not help.</p>\n<p>This is what I came up with as a minimum example:</p>\n<pre><code>package settlers.installer.model;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport org.kohsuke.github.GHObject;\n\npublic class MyGHObject extends GHObject {\n\n    @Override\n    public URL getHtmlUrl() throws IOException {\n        return null;\n    }\n    \n}\n</code></pre>\n<p>and the compiler emits</p>\n<pre><code>error: MyGHObject is not abstract and does not override abstract method getHtmlUrl() in GHObject\npublic class MyGHObject extends GHObject {\n       ^\n</code></pre>\n<p>To rule out problems in Netbeans and OpenJDK 16 I switched to running command-line Gradle and openJDK 19. No change.</p>\n<p>What could be missing?</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":148846,"reputation":3004,"user_id":360913,"display_name":"Marichyasana"},"score":0,"creation_date":1429612065,"post_id":29768889,"comment_id":47669708,"body_markdown":"The indexOf method is used to locate a character or string within another string. indexOf returns an integer whose value is the location in the string where your substring starts. It **returns -1 if the substring is not found**. So if  you are looking for &quot;abc&quot; and a node contains &quot;xabc&quot; you get a match. If a node contains &quot;yaleabcistheone&quot; you also get a match. I believe you stated that you wanted the string to match exactly so you want to use &quot;.equals&quot; instead of indexOf**","body":"The indexOf method is used to locate a character or string within another string. indexOf returns an integer whose value is the location in the string where your substring starts. It <b>returns -1 if the substring is not found</b>. So if  you are looking for &quot;abc&quot; and a node contains &quot;xabc&quot; you get a match. If a node contains &quot;yaleabcistheone&quot; you also get a match. I believe you stated that you wanted the string to match exactly so you want to use &quot;.equals&quot; instead of indexOf**"},{"owner":{"account_id":2773978,"reputation":360,"user_id":2387957,"accept_rate":24,"display_name":"Junaid Shirwani"},"score":0,"creation_date":1429612212,"post_id":29768889,"comment_id":47669809,"body_markdown":"this is not the problem . the problem is i am sending an string value to the indexof method . it is unable to compare a string with a Node.either i send a Node instead of the string value or i need some mechanism for camparing a Node with a string value.","body":"this is not the problem . the problem is i am sending an string value to the indexof method . it is unable to compare a string with a Node.either i send a Node instead of the string value or i need some mechanism for camparing a Node with a string value."}],"answers":[{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429610520,"creation_date":1429610520,"answer_id":29768986,"question_id":29768889,"body_markdown":"In your node you need to implement equals method as indexOf method of LinkedList uses equals method internally to compare the Node that you passed with other existing nodes in List like:\r\n\r\n    public boolean equals(Node otherNode) {\r\n        //... compare node values\r\n    }\r\n\r\nYou need method as:\r\n\r\n     public Node getNode(Node value)//or create node internally with string that you get as input parameter\r\n                         ^^^^^\r\n     ","title":"Get the index of the Node in a LinkedList which contains the given value in java","body":"<p>In your node you need to implement equals method as indexOf method of LinkedList uses equals method internally to compare the Node that you passed with other existing nodes in List like:</p>\n\n<pre><code>public boolean equals(Node otherNode) {\n    //... compare node values\n}\n</code></pre>\n\n<p>You need method as:</p>\n\n<pre><code> public Node getNode(Node value)//or create node internally with string that you get as input parameter\n                     ^^^^^\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429611869,"creation_date":1429610581,"answer_id":29769007,"question_id":29768889,"body_markdown":"As per the [JavaDocs][1], the `indexOf` method internally makes use of the `equals` method, which you do not seem to be overloading. Thus, you are trying to compare a `String` with a `Node` object.\r\n\r\nTo fix this, you will need to override the `equals(Object obj)` method in your `Node` class.\r\n\r\nSomething like so:\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if(obj instanceof Node) {\r\n            Node comp = (Node)obj;\r\n            return comp.value.equals(this.value);\r\n        }\r\n\r\n        else if(obj instance of String) { \r\n            String comp = (String)obj;\r\n            return comp.equals(this.value)\r\n        }\r\n    \r\n        return false;\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html#indexOf-java.lang.Object-\r\n","title":"Get the index of the Node in a LinkedList which contains the given value in java","body":"<p>As per the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html#indexOf-java.lang.Object-\" rel=\"nofollow\">JavaDocs</a>, the <code>indexOf</code> method internally makes use of the <code>equals</code> method, which you do not seem to be overloading. Thus, you are trying to compare a <code>String</code> with a <code>Node</code> object.</p>\n\n<p>To fix this, you will need to override the <code>equals(Object obj)</code> method in your <code>Node</code> class.</p>\n\n<p>Something like so:</p>\n\n<pre><code>@Override\npublic boolean equals(Object obj) {\n    if(obj instanceof Node) {\n        Node comp = (Node)obj;\n        return comp.value.equals(this.value);\n    }\n\n    else if(obj instance of String) { \n        String comp = (String)obj;\n        return comp.equals(this.value)\n    }\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25361183,"reputation":1,"user_id":19176413,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653288792,"creation_date":1653262170,"answer_id":72341952,"question_id":29768889,"body_markdown":"```\r\n private Node getNode(int index) {\r\n        if (index &lt; 0 || size &lt;= index) {\r\n            throw new IndexOutOfBoundsException(&quot;index = &quot; + index + &quot; and should be between 0 and size: &quot; + size);\r\n        }\r\n        if (index == 0) {\r\n            return head;\r\n        }\r\n        Node node = head.next;\r\n        int i = 1;\r\n        while (i &lt; index) {\r\n            node = node.next;\r\n            ++i;\r\n        }\r\n        return node;\r\n    }\r\n```","title":"Get the index of the Node in a LinkedList which contains the given value in java","body":"<pre><code> private Node getNode(int index) {\n        if (index &lt; 0 || size &lt;= index) {\n            throw new IndexOutOfBoundsException(&quot;index = &quot; + index + &quot; and should be between 0 and size: &quot; + size);\n        }\n        if (index == 0) {\n            return head;\n        }\n        Node node = head.next;\n        int i = 1;\n        while (i &lt; index) {\n            node = node.next;\n            ++i;\n        }\n        return node;\n    }\n</code></pre>\n"}],"owner":{"account_id":2773978,"reputation":360,"user_id":2387957,"accept_rate":24,"display_name":"Junaid Shirwani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1653288792,"creation_date":1429610303,"question_id":29768889,"body_markdown":"I have a LinkedList \r\n\r\n    private LinkedList&lt;Node&gt; vertices;\r\n\r\nHere is the class Node\r\n\r\n    public class Node \r\n    {\r\n    \tString value;\r\n    \tlinkedList edges ;\r\n    \tpublic Node()\r\n    \t{\r\n    \t\tvalue=null;\r\n    \t\tedges=new linkedList();\r\n    \t}\r\n    }\r\n\r\nNow the LinkedList i mentioned above contains the nodes in my graph.What i want to do is pass a string value to a method .This method should check if the nodes in the LinkedList contains a Node which has a value equal to the value i passed .If so it should return the index of the Node.\r\n\r\nHere is what i tried to do\r\n\r\n    public Node getNode(String value)\r\n    \t{\r\n    \t    int index=vertices.indexOf(value);//this is where the problem is.\r\n            //index is getting assigned a value -1 \r\n    \t\treturn vertices.get(index);\r\n    \t}\r\n\r\nand called the method this way\r\n\r\n    temp2=getNode(header[dest]);\r\n\r\nBut the call to the method `vertices.indexOf(value)` is returning -1 (-1 shows it does not have it . although it has a node which has a value equal to the value i passed) . how do i check for the nodes which matches the value with the value i pass .\r\nVertices is of type node and i am passing a string value.\r\n\r\n","title":"Get the index of the Node in a LinkedList which contains the given value in java","body":"<p>I have a LinkedList </p>\n\n<pre><code>private LinkedList&lt;Node&gt; vertices;\n</code></pre>\n\n<p>Here is the class Node</p>\n\n<pre><code>public class Node \n{\n    String value;\n    linkedList edges ;\n    public Node()\n    {\n        value=null;\n        edges=new linkedList();\n    }\n}\n</code></pre>\n\n<p>Now the LinkedList i mentioned above contains the nodes in my graph.What i want to do is pass a string value to a method .This method should check if the nodes in the LinkedList contains a Node which has a value equal to the value i passed .If so it should return the index of the Node.</p>\n\n<p>Here is what i tried to do</p>\n\n<pre><code>public Node getNode(String value)\n    {\n        int index=vertices.indexOf(value);//this is where the problem is.\n        //index is getting assigned a value -1 \n        return vertices.get(index);\n    }\n</code></pre>\n\n<p>and called the method this way</p>\n\n<pre><code>temp2=getNode(header[dest]);\n</code></pre>\n\n<p>But the call to the method <code>vertices.indexOf(value)</code> is returning -1 (-1 shows it does not have it . although it has a node which has a value equal to the value i passed) . how do i check for the nodes which matches the value with the value i pass .\nVertices is of type node and i am passing a string value.</p>\n"},{"tags":["java","sql","oracle","jdbc"],"comments":[{"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"score":1,"creation_date":1521841783,"post_id":49458197,"comment_id":85920385,"body_markdown":"What library are you using to execute your SQL? Its very odd to see something like PreparedStatementCreator.  I suspect you may not have the issue you think you have. The error message specifically refers to a string literal being too long. I think you should print the sql you are trying to execute and run it manually.  Something to keep in mind is batching updates can substantially speed up insert times.  Whether you use jdbc batching or just concatenating insert strings.  If its a data load its not a terrible plan.","body":"What library are you using to execute your SQL? Its very odd to see something like PreparedStatementCreator.  I suspect you may not have the issue you think you have. The error message specifically refers to a string literal being too long. I think you should print the sql you are trying to execute and run it manually.  Something to keep in mind is batching updates can substantially speed up insert times.  Whether you use jdbc batching or just concatenating insert strings.  If its a data load its not a terrible plan."},{"owner":{"account_id":12106,"reputation":14795,"user_id":23669,"accept_rate":67,"display_name":"eaolson"},"score":1,"creation_date":1521863807,"post_id":49458197,"comment_id":85925004,"body_markdown":"How long is &quot;long&quot;? You need to be precise.","body":"How long is &quot;long&quot;? You need to be precise."},{"owner":{"account_id":3809738,"reputation":673,"user_id":3161062,"accept_rate":50,"display_name":"jojo_Berlin"},"score":0,"creation_date":1521927962,"post_id":49458197,"comment_id":85942987,"body_markdown":"you can not use a string that is longer than 4000 characters otherwise you have to bind variables in a prepared statement.","body":"you can not use a string that is longer than 4000 characters otherwise you have to bind variables in a prepared statement."},{"owner":{"account_id":3227289,"reputation":197,"user_id":2723347,"display_name":"Lucas"},"score":0,"creation_date":1522162646,"post_id":49458197,"comment_id":86037629,"body_markdown":"@Deadron I&#39;m using org.springframework.jdbc.core but I don&#39;t see why it&#39;s odd (you might find it unusual but that&#39;s absolutely not the issue). What do you mean by printing the SQL and running it manually? As already mentioned, I did try to execute the script using SQL Developer and it works fine, which gives me the impression that JDBC may have restrictions nonexistent in Oracle&#39;s SQL IDE. I didn&#39;t think this could be the issue because since Oracle is the developer of everything here mentioned, one may expect a decent integration among these systems.","body":"@Deadron I&#39;m using org.springframework.jdbc.core but I don&#39;t see why it&#39;s odd (you might find it unusual but that&#39;s absolutely not the issue). What do you mean by printing the SQL and running it manually? As already mentioned, I did try to execute the script using SQL Developer and it works fine, which gives me the impression that JDBC may have restrictions nonexistent in Oracle&#39;s SQL IDE. I didn&#39;t think this could be the issue because since Oracle is the developer of everything here mentioned, one may expect a decent integration among these systems."},{"owner":{"account_id":3227289,"reputation":197,"user_id":2723347,"display_name":"Lucas"},"score":0,"creation_date":1522162770,"post_id":49458197,"comment_id":86037719,"body_markdown":"@eaolson edited, thank you!","body":"@eaolson edited, thank you!"},{"owner":{"account_id":3227289,"reputation":197,"user_id":2723347,"display_name":"Lucas"},"score":0,"creation_date":1522162854,"post_id":49458197,"comment_id":86037786,"body_markdown":"@jojo_Berlin so you&#39;re saying that there is absolutely no way of running a plain SQL script using JDBC (no matter the size of the string)? I found a couple of libraries that promise to do so, but I&#39;m trying to avoid bloating my project with more database connectivity features.","body":"@jojo_Berlin so you&#39;re saying that there is absolutely no way of running a plain SQL script using JDBC (no matter the size of the string)? I found a couple of libraries that promise to do so, but I&#39;m trying to avoid bloating my project with more database connectivity features."},{"owner":{"account_id":3809738,"reputation":673,"user_id":3161062,"accept_rate":50,"display_name":"jojo_Berlin"},"score":1,"creation_date":1522182788,"post_id":49458197,"comment_id":86049756,"body_markdown":"@Lucas at least it seems like it. It could be possible that the liberies use prepared statements under the hood.","body":"@Lucas at least it seems like it. It could be possible that the liberies use prepared statements under the hood."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653288061,"creation_date":1522164062,"answer_id":49516763,"question_id":49458197,"body_markdown":"Here comes the hackatron:\r\n\r\n    public void executeSqlStatement(String sqlStatement) throws Exception {\r\n    \r\n        PreparedStatementCreator statement = new PreparedStatementCreator() {\r\n            @Override\r\n            public PreparedStatement createPreparedStatement(Connection connection)\r\n                        throws SQLException {\r\n                List&lt;String&gt; params = new ArrayList&lt;&gt;();\r\n                if (sqlStatement.length() &gt;= 4000) {\r\n                    Pattern pattern = Pattern.compile(&quot;&#39;(([^&#39;\\n]|&#39;&#39;)+)&#39;&quot;);\r\n                    Matcher m = pattern.matcher(sqlStatement);\r\n                    StringBuffer sb = new StringBuffer();\r\n                    while (m.find()) {\r\n                        params.add(m.group(1).replace(&quot;&#39;&#39;&quot;, &quot;&#39;&quot;));\r\n                        m.appendReplacement(sb, &quot;?&quot;);\r\n                    }\r\n                    m.appendTail(sb);\r\n                    sqlStatement = sb.toString();\r\n                }\r\n                PreparedStatement statement = connection.prepareStatement(sqlStatement);\r\n                for (int i = 0; i &lt; params.size(); ++i) {\r\n                    statement.setString(1 + i, params.get(i));\r\n                }\r\n                return statement;\r\n            }\r\n        };\r\n        getJdbcTemplate().update(statement);\r\n    }\r\n\r\nAs you can see: it attempts to shrink larger SQLs by extracting the string literals.","title":"Executing a long insert statement through JDBC","body":"<p>Here comes the hackatron:</p>\n<pre><code>public void executeSqlStatement(String sqlStatement) throws Exception {\n\n    PreparedStatementCreator statement = new PreparedStatementCreator() {\n        @Override\n        public PreparedStatement createPreparedStatement(Connection connection)\n                    throws SQLException {\n            List&lt;String&gt; params = new ArrayList&lt;&gt;();\n            if (sqlStatement.length() &gt;= 4000) {\n                Pattern pattern = Pattern.compile(&quot;'(([^'\\n]|'')+)'&quot;);\n                Matcher m = pattern.matcher(sqlStatement);\n                StringBuffer sb = new StringBuffer();\n                while (m.find()) {\n                    params.add(m.group(1).replace(&quot;''&quot;, &quot;'&quot;));\n                    m.appendReplacement(sb, &quot;?&quot;);\n                }\n                m.appendTail(sb);\n                sqlStatement = sb.toString();\n            }\n            PreparedStatement statement = connection.prepareStatement(sqlStatement);\n            for (int i = 0; i &lt; params.size(); ++i) {\n                statement.setString(1 + i, params.get(i));\n            }\n            return statement;\n        }\n    };\n    getJdbcTemplate().update(statement);\n}\n</code></pre>\n<p>As you can see: it attempts to shrink larger SQLs by extracting the string literals.</p>\n"}],"owner":{"account_id":3227289,"reputation":197,"user_id":2723347,"display_name":"Lucas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49516763,"answer_count":1,"score":1,"last_activity_date":1653288061,"creation_date":1521838632,"question_id":49458197,"body_markdown":"I have a backup file structured as INSERT statements. My approach was writing a method to load theses statements from the file and use JDBC template to execute them.\r\n\r\n    public void restoreFile(File f) throws Exception {\r\n    \tLineIterator it = FileUtils.lineIterator(f, &quot;UTF-8&quot;);\r\n    \ttry {\r\n    \t\twhile (it.hasNext()) {\r\n    \t\t\tString insertStatement = it.nextLine();\r\n    \t\t\tif (!insertStatement.startsWith(&quot;--&quot;) &amp;&amp; !insertStatement.isEmpty()) {\r\n    \t\t\t\tinsertStatement = insertStatement.replace(&quot;;&quot;, &quot;&quot;);\r\n    \t\t\t\texecuteSqlStatement(insertStatement);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t} finally {\r\n    \t\tit.close();\r\n    \t}\r\n    }\r\n\r\n\tpublic void executeSqlStatement(String sqlStatement) throws Exception {\r\n\r\n    \tPreparedStatementCreator statement = new PreparedStatementCreator() {\r\n    \t\t@Override\r\n    \t\tpublic PreparedStatement createPreparedStatement(Connection connection) throws SQLException {\r\n    \t\t\tPreparedStatement statement = connection.prepareStatement(sqlStatement);\r\n    \t\t\treturn statement;\r\n    \t\t}\r\n    \t};\r\n    \tgetJdbcTemplate().update(statement);\r\n    }\r\n\r\n\r\nThis seemed to work fine in a few cases. However, some of the values I&#39;m inserting are giant XML strings (some XMLs being above 10K characters).\r\n\r\nWhen I run the update function, I get the following error with several files:\r\n\r\n    org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: ORA-01704: string literal too long\r\n\r\nOn the other hand, if I run the same script in SQL Developer, this error doesn&#39;t happen.\r\n\r\nI&#39;m aware that I should be using the prepared statement with bind vars but since the demand was having the file stored as inserts, I&#39;d rather not having to parse the entire file. I want to simply execute each line as it is.\r\n\r\nIs there a workaround for this?\r\n\r\nEDIT: Also, how does SQL Developer deal with these long string literals?","title":"Executing a long insert statement through JDBC","body":"<p>I have a backup file structured as INSERT statements. My approach was writing a method to load theses statements from the file and use JDBC template to execute them.</p>\n\n<pre><code>public void restoreFile(File f) throws Exception {\n    LineIterator it = FileUtils.lineIterator(f, \"UTF-8\");\n    try {\n        while (it.hasNext()) {\n            String insertStatement = it.nextLine();\n            if (!insertStatement.startsWith(\"--\") &amp;&amp; !insertStatement.isEmpty()) {\n                insertStatement = insertStatement.replace(\";\", \"\");\n                executeSqlStatement(insertStatement);\n            }\n        }\n    } finally {\n        it.close();\n    }\n}\n\npublic void executeSqlStatement(String sqlStatement) throws Exception {\n\n    PreparedStatementCreator statement = new PreparedStatementCreator() {\n        @Override\n        public PreparedStatement createPreparedStatement(Connection connection) throws SQLException {\n            PreparedStatement statement = connection.prepareStatement(sqlStatement);\n            return statement;\n        }\n    };\n    getJdbcTemplate().update(statement);\n}\n</code></pre>\n\n<p>This seemed to work fine in a few cases. However, some of the values I'm inserting are giant XML strings (some XMLs being above 10K characters).</p>\n\n<p>When I run the update function, I get the following error with several files:</p>\n\n<pre><code>org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: ORA-01704: string literal too long\n</code></pre>\n\n<p>On the other hand, if I run the same script in SQL Developer, this error doesn't happen.</p>\n\n<p>I'm aware that I should be using the prepared statement with bind vars but since the demand was having the file stored as inserts, I'd rather not having to parse the entire file. I want to simply execute each line as it is.</p>\n\n<p>Is there a workaround for this?</p>\n\n<p>EDIT: Also, how does SQL Developer deal with these long string literals?</p>\n"},{"tags":["java","graphics","awt","game-development"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1653234608,"post_id":72339008,"comment_id":127796310,"body_markdown":"Here&#39;s a [lengthy explanation](https://stackoverflow.com/questions/70701646/snake-game-in-java-but-my-restart-button-does-not-work/70711365#70711365) about another snake game.","body":"Here&#39;s a <a href=\"https://stackoverflow.com/questions/70701646/snake-game-in-java-but-my-restart-button-does-not-work/70711365#70711365\">lengthy explanation</a> about another snake game."},{"owner":{"display_name":"user18616999"},"score":0,"creation_date":1653269990,"post_id":72339008,"comment_id":127802534,"body_markdown":"Thank you so much but I found it myself as I thought this was a problem of visuals I noticed that I mistyped appleX in the fillOval function as y parameter so that&#39;s why but thank you for the help &lt;3","body":"Thank you so much but I found it myself as I thought this was a problem of visuals I noticed that I mistyped appleX in the fillOval function as y parameter so that&#39;s why but thank you for the help &lt;3"}],"owner":{"display_name":"user18616999"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653287691,"creation_date":1653233925,"question_id":72339008,"body_markdown":"        public void checkScore() {\r\n                if(xAxis[0] == appleX &amp;&amp; yAxis[0] == appleY) {\r\n                    newApple();\r\n                    score++;\r\n                    bodyParts++;\r\n                }\r\n        }\r\nI&#39;m making my very own snake game with java and I have this problem where my snake doesn&#39;t secure the score even when it&#39;s touching it but somehow it takes the score from somewhere else when there is nothing for it to collide I tried debugging my code and realized that the positions are correct the condition is correct but there is some sort of problem with the visuals(what I mean by that is the snake and score point are not exactly located in their coordinates) even though my draw function is completely right\r\ndraw function:\r\n\r\n        public void draw(Graphics g) {\r\n                if(isRunning) {\r\n                    for (int i = 0; i &lt; SCREEN_HEIGHT / UNIT_SIZE; i++) {\r\n                        g.drawLine(i * UNIT_SIZE, 0, i * UNIT_SIZE, SCREEN_HEIGHT);\r\n                        g.drawLine(0, i * UNIT_SIZE, SCREEN_WIDTH, i * UNIT_SIZE);\r\n                    } \r\n                    g.setColor(Color.ORANGE);\r\n                    g.fillOval(appleX, appleX, UNIT_SIZE, UNIT_SIZE);\r\n                    for(int i = 0; i &lt; bodyParts; i++) {\r\n                        if(i == 0) {\r\n                            g.setColor(new Color(138,43,226).darker());\r\n                            g.fillRect(xAxis[i], yAxis[i], UNIT_SIZE, UNIT_SIZE);\r\n                        } else {\r\n                            g.setColor(new Color(138,43,226));\r\n                            g.fillRect(xAxis[i], yAxis[i], UNIT_SIZE, UNIT_SIZE);\r\n                       }\r\n                    }\r\n                    g.setColor(Color.RED);\r\n                    g.setFont(new Font(&quot;Consolas&quot;, Font.BOLD, 25));\r\n                    FontMetrics metrics = getFontMetrics(g.getFont());\r\n                    g.drawString(&quot;Score = &quot; + score, (SCREEN_WIDTH - \r\n        metrics.stringWidth(&quot;Score = &quot;  + score)) / 2, g.getFont().getSize()); \r\n                } else {\r\n                    gameOver(g);\r\n               }\r\n        \r\n            }","title":"My snake doesn&#39;t get the score from the right location","body":"<pre><code>    public void checkScore() {\n            if(xAxis[0] == appleX &amp;&amp; yAxis[0] == appleY) {\n                newApple();\n                score++;\n                bodyParts++;\n            }\n    }\n</code></pre>\n<p>I'm making my very own snake game with java and I have this problem where my snake doesn't secure the score even when it's touching it but somehow it takes the score from somewhere else when there is nothing for it to collide I tried debugging my code and realized that the positions are correct the condition is correct but there is some sort of problem with the visuals(what I mean by that is the snake and score point are not exactly located in their coordinates) even though my draw function is completely right\ndraw function:</p>\n<pre><code>    public void draw(Graphics g) {\n            if(isRunning) {\n                for (int i = 0; i &lt; SCREEN_HEIGHT / UNIT_SIZE; i++) {\n                    g.drawLine(i * UNIT_SIZE, 0, i * UNIT_SIZE, SCREEN_HEIGHT);\n                    g.drawLine(0, i * UNIT_SIZE, SCREEN_WIDTH, i * UNIT_SIZE);\n                } \n                g.setColor(Color.ORANGE);\n                g.fillOval(appleX, appleX, UNIT_SIZE, UNIT_SIZE);\n                for(int i = 0; i &lt; bodyParts; i++) {\n                    if(i == 0) {\n                        g.setColor(new Color(138,43,226).darker());\n                        g.fillRect(xAxis[i], yAxis[i], UNIT_SIZE, UNIT_SIZE);\n                    } else {\n                        g.setColor(new Color(138,43,226));\n                        g.fillRect(xAxis[i], yAxis[i], UNIT_SIZE, UNIT_SIZE);\n                   }\n                }\n                g.setColor(Color.RED);\n                g.setFont(new Font(&quot;Consolas&quot;, Font.BOLD, 25));\n                FontMetrics metrics = getFontMetrics(g.getFont());\n                g.drawString(&quot;Score = &quot; + score, (SCREEN_WIDTH - \n    metrics.stringWidth(&quot;Score = &quot;  + score)) / 2, g.getFont().getSize()); \n            } else {\n                gameOver(g);\n           }\n    \n        }\n</code></pre>\n"},{"tags":["java","bytecode"],"answers":[{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1288797132,"creation_date":1288797132,"answer_id":4088535,"question_id":4088495,"body_markdown":"Kind of a guess, but I&#39;d say you have the same named class loaded by two different ClassLoaders.  Those are actually considered two separate classes and one cannot be cast to the other.\r\n\r\nOne is loaded before the line\r\n\r\n     MyProg p =  (MyProg) instance;\r\n\r\nis executed.  The other is loaded through your call to `loadClass`.\r\n\r\nTo fix this you would probably need the class that performs the line of code above to be *loaded* by the **same** ClassLoader that loads the altered instance of MyProg.  Then it should work.","title":"ClassCast Exception is thrown after I&#39;ve used ASM Toolkit to replace the body of a static method","body":"<p>Kind of a guess, but I'd say you have the same named class loaded by two different ClassLoaders.  Those are actually considered two separate classes and one cannot be cast to the other.</p>\n\n<p>One is loaded before the line</p>\n\n<pre><code> MyProg p =  (MyProg) instance;\n</code></pre>\n\n<p>is executed.  The other is loaded through your call to <code>loadClass</code>.</p>\n\n<p>To fix this you would probably need the class that performs the line of code above to be <em>loaded</em> by the <strong>same</strong> ClassLoader that loads the altered instance of MyProg.  Then it should work.</p>\n"},{"tags":[],"owner":{"account_id":5952929,"reputation":8862,"user_id":4680436,"accept_rate":50,"display_name":"aristotll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653287519,"creation_date":1653287519,"answer_id":72344116,"question_id":4088495,"body_markdown":"If you use spring boot dev tool, you can try exclude it from the project","title":"ClassCast Exception is thrown after I&#39;ve used ASM Toolkit to replace the body of a static method","body":"<p>If you use spring boot dev tool, you can try exclude it from the project</p>\n"}],"owner":{"account_id":231706,"reputation":21,"user_id":496076,"display_name":"Daniel S&#246;dling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1653287519,"creation_date":1288796972,"question_id":4088495,"body_markdown":"I&#39;ve been trying to use the ASM bytecode toolkit to replace the body of a public and static method in a class. The actual body replacement seems to work fine and I do get the expected behavior if execute the following once the transformation has completed:\r\n\r\n    Class cls = loadClass(&quot;ext.hm.cmd.MyProg&quot;);\r\n    cls.getMethod(&quot;hello&quot;).invoke(instance);\r\n\r\nHowever if I try to cast the new instance to MyProg like so\r\n\r\n    MyProg p =  (MyProg) instance;\r\n    p.hello();\r\n\r\nI get the error message:  \r\njava.lang.ClassCastException: ext.hm.cmd.MyProg cannot be cast to ext.hm.cmd.MyProg\r\n\r\nAs I&#39;m not adding or deleting any methods in the class I can&#39;t really understand why I get this error. Has anyone seen this before and if so, what is the cause of it and how can I solve it?\r\n\r\nThanks  \r\nDaniel Martinsson\r\n\r\n ","title":"ClassCast Exception is thrown after I&#39;ve used ASM Toolkit to replace the body of a static method","body":"<p>I've been trying to use the ASM bytecode toolkit to replace the body of a public and static method in a class. The actual body replacement seems to work fine and I do get the expected behavior if execute the following once the transformation has completed:</p>\n\n<pre><code>Class cls = loadClass(\"ext.hm.cmd.MyProg\");\ncls.getMethod(\"hello\").invoke(instance);\n</code></pre>\n\n<p>However if I try to cast the new instance to MyProg like so</p>\n\n<pre><code>MyProg p =  (MyProg) instance;\np.hello();\n</code></pre>\n\n<p>I get the error message:<br>\njava.lang.ClassCastException: ext.hm.cmd.MyProg cannot be cast to ext.hm.cmd.MyProg</p>\n\n<p>As I'm not adding or deleting any methods in the class I can't really understand why I get this error. Has anyone seen this before and if so, what is the cause of it and how can I solve it?</p>\n\n<p>Thanks<br>\nDaniel Martinsson</p>\n"},{"tags":["java","string","netbeans","output"],"comments":[{"owner":{"account_id":1843368,"reputation":12162,"user_id":1789384,"accept_rate":82,"display_name":"Drux"},"score":1,"creation_date":1425675347,"post_id":28907119,"comment_id":46074341,"body_markdown":"Are you sure this is not just the IDE breaking a very long line into two? Try to copy-paste into another editor and check how it looks there.","body":"Are you sure this is not just the IDE breaking a very long line into two? Try to copy-paste into another editor and check how it looks there."},{"owner":{"account_id":5897758,"reputation":3,"user_id":4642365,"display_name":"Adit"},"score":0,"creation_date":1425688977,"post_id":28907119,"comment_id":46079161,"body_markdown":"@Drux No, it&#39;s not. It is possible to enable word wrapping and enable the IDE to do that to the output but no, in this case, the IDE is just giving 2 **exactly similar** outputs.","body":"@Drux No, it&#39;s not. It is possible to enable word wrapping and enable the IDE to do that to the output but no, in this case, the IDE is just giving 2 <b>exactly similar</b> outputs."},{"owner":{"account_id":1843368,"reputation":12162,"user_id":1789384,"accept_rate":82,"display_name":"Drux"},"score":0,"creation_date":1425709165,"post_id":28907119,"comment_id":46082699,"body_markdown":"The accepted answer says just that, so ...","body":"The accepted answer says just that, so ..."}],"answers":[{"tags":[],"owner":{"account_id":5380961,"reputation":3620,"user_id":4286177,"accept_rate":89,"display_name":"Anthony Dito"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1425674434,"creation_date":1425674434,"answer_id":28907270,"question_id":28907119,"body_markdown":"The console can only have so many characters in one line. According to another post mac can have 2047 (I don&#39;t know what it is on netbeans). Therefore, I think your console is just moving to the next line because it is so long. I would suggest just outputting to a file.","title":"I am getting 2 outputs for extremely long strings","body":"<p>The console can only have so many characters in one line. According to another post mac can have 2047 (I don't know what it is on netbeans). Therefore, I think your console is just moving to the next line because it is so long. I would suggest just outputting to a file.</p>\n"},{"tags":[],"owner":{"account_id":3108600,"reputation":640,"user_id":2630890,"accept_rate":48,"display_name":"Gibbo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425674761,"creation_date":1425674761,"answer_id":28907343,"question_id":28907119,"body_markdown":"Is this not the kind of data you want to output to an external log file to keep on record? Like the above user said, format your data and save it to a nice file for readability.","title":"I am getting 2 outputs for extremely long strings","body":"<p>Is this not the kind of data you want to output to an external log file to keep on record? Like the above user said, format your data and save it to a nice file for readability.</p>\n"}],"owner":{"account_id":5897758,"reputation":3,"user_id":4642365,"display_name":"Adit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":28907270,"answer_count":2,"score":-1,"last_activity_date":1653287160,"creation_date":1425673787,"question_id":28907119,"body_markdown":"I have a program that involves parsing strings that represent nucleotides.\r\n\r\nWhen I use a small nucleotide string (basically, a small DNA strand) i.e. &#39;input&#39; is small enough, I get one output: \r\n\r\nHowever, when I use a loooooooooooooooong string. e.g. 10000 nucleotides long (which I actually use) , I end up with 2 outputs :O\r\n\r\nhttps://i.stack.imgur.com/A39um.png\r\nhttps://i.stack.imgur.com/JnNcG.png\r\n\r\nSource code: I only added the functions that I was actually using in the main class.\r\n\r\n\r\n\r\n    public static void main (String args[])\r\n    {\r\n        String input = &quot;Blah Blah&quot;;\r\n        System.out.println(translate(input));\r\n    }\r\n\r\n    public static String codon (String codon_input)\r\n    /* Returns the amino acid alphabet corresponding to entered codon \r\n       (3 nucleotide string) in String format. */        \r\n    {\r\n        if (codon_input.substring(0,2).equals(&quot;GC&quot;))\r\n        {\r\n            return &quot;A&quot;;\r\n        }\r\n        else if (codon_input.equals(&quot;UGU&quot;) || codon_input.equals(&quot;UGC&quot;))\r\n        {\r\n            return &quot;C&quot;;\r\n        }\r\n        else if (codon_input.equals(&quot;GAU&quot;) || codon_input.equals(&quot;GAC&quot;))\r\n        {\r\n            return &quot;D&quot;;\r\n        }\r\n        else if (codon_input.equals(&quot;GAA&quot;) || codon_input.equals(&quot;GAG&quot;))\r\n        {\r\n            return &quot;E&quot;;\r\n        }\r\n        else if (codon_input.equals(&quot;UUU&quot;) || codon_input.equals(&quot;UUC&quot;))\r\n        {\r\n            return &quot;F&quot;;\r\n        }\r\n        else if (codon_input.substring(0,2).equals(&quot;GG&quot;))\r\n        {\r\n            return &quot;G&quot;;\r\n        }\r\n        else if (codon_input.equals(&quot;CAU&quot;) || codon_input.equals(&quot;CAC&quot;))\r\n        {\r\n            return &quot;H&quot;;\r\n        }\r\n        else if (codon_input.substring(0,2).equals(&quot;AU&quot;) &amp;&amp; !codon_input.equals(&quot;AUG&quot;))\r\n        {\r\n            return &quot;I&quot;;\r\n        }\r\n        else if (codon_input.equals(&quot;AAA&quot;) || codon_input.equals(&quot;AAG&quot;))\r\n        {\r\n            return &quot;K&quot;;\r\n        }\r\n        else if (codon_input.substring(0,2).equals(&quot;CU&quot;) || codon_input.equals(&quot;UUA&quot;) || codon_input.equals(&quot;UUG&quot;))\r\n        {\r\n            return &quot;L&quot;;\r\n        }\r\n        else if (codon_input.equals(&quot;AUG&quot;))\r\n        {\r\n            return &quot;M&quot;;\r\n        }\r\n        else if (codon_input.equals(&quot;AAU&quot;) || codon_input.equals(&quot;AAC&quot;))\r\n        {\r\n            return &quot;N&quot;;\r\n        }\r\n        else if (codon_input.substring(0,2).equals(&quot;CC&quot;))\r\n        {\r\n            return &quot;P&quot;;\r\n        }\r\n        else if (codon_input.equals(&quot;CAA&quot;) || codon_input.equals(&quot;CAG&quot;))\r\n        {\r\n            return &quot;Q&quot;;\r\n        }\r\n        else if (codon_input.substring(0,2).equals(&quot;CG&quot;) || codon_input.equals(&quot;AGA&quot;) || codon_input.equals(&quot;AGG&quot;))\r\n        {\r\n            return &quot;R&quot;;\r\n        }\r\n        else if (codon_input.substring(0,2).equals(&quot;UC&quot;) || codon_input.equals(&quot;AGU&quot;) || codon_input.equals(&quot;AGC&quot;))\r\n        {\r\n            return &quot;S&quot;;\r\n        }\r\n        else if (codon_input.substring(0,2).equals(&quot;AC&quot;))\r\n        {\r\n            return &quot;T&quot;;\r\n        }\r\n        else if (codon_input.substring(0,2).equals(&quot;GU&quot;))\r\n        {\r\n            return &quot;V&quot;;\r\n        }\r\n        else if (codon_input.equals(&quot;UGG&quot;))\r\n        {\r\n            return &quot;W&quot;;\r\n        }\r\n        else if (codon_input.equals(&quot;UAU&quot;) || codon_input.equals(&quot;UAC&quot;))\r\n        {\r\n            return &quot;Y&quot;;\r\n        }\r\n        else if (codon_input.equals(&quot;UAA&quot;) || codon_input.equals(&quot;UAG&quot;) || codon_input.equals(&quot;UGA&quot;))\r\n        {\r\n            return &quot;Stop&quot;;\r\n        }\r\n        return &quot;-&quot;;\r\n    }\r\n\r\n    public static String translate (String tran_input)\r\n    /* Converts an RNA strand into an amino acid strand using codon() */\r\n    {\r\n        String tran_output = &quot;&quot;;\r\n        int tran_length = tran_input.length();\r\n        int tran_cursor = 0;\r\n        while (tran_cursor &lt; tran_length - 2)\r\n        {\r\n            if (codon(tran_input.substring(tran_cursor, tran_cursor + 3)).equals(&quot;Stop&quot;))\r\n            {\r\n                return tran_output;\r\n            }\r\n            else\r\n            {\r\n                tran_output = tran_output + codon(tran_input.substring(tran_cursor, tran_cursor + 3));\r\n            }\r\n            tran_cursor = tran_cursor + 3;\r\n        }\r\n        return tran_output;\r\n    }","title":"I am getting 2 outputs for extremely long strings","body":"<p>I have a program that involves parsing strings that represent nucleotides.</p>\n<p>When I use a small nucleotide string (basically, a small DNA strand) i.e. 'input' is small enough, I get one output:</p>\n<p>However, when I use a loooooooooooooooong string. e.g. 10000 nucleotides long (which I actually use) , I end up with 2 outputs :O</p>\n<p><a href=\"https://i.stack.imgur.com/A39um.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/A39um.png</a>\n<a href=\"https://i.stack.imgur.com/JnNcG.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JnNcG.png</a></p>\n<p>Source code: I only added the functions that I was actually using in the main class.</p>\n<pre><code>public static void main (String args[])\n{\n    String input = &quot;Blah Blah&quot;;\n    System.out.println(translate(input));\n}\n\npublic static String codon (String codon_input)\n/* Returns the amino acid alphabet corresponding to entered codon \n   (3 nucleotide string) in String format. */        \n{\n    if (codon_input.substring(0,2).equals(&quot;GC&quot;))\n    {\n        return &quot;A&quot;;\n    }\n    else if (codon_input.equals(&quot;UGU&quot;) || codon_input.equals(&quot;UGC&quot;))\n    {\n        return &quot;C&quot;;\n    }\n    else if (codon_input.equals(&quot;GAU&quot;) || codon_input.equals(&quot;GAC&quot;))\n    {\n        return &quot;D&quot;;\n    }\n    else if (codon_input.equals(&quot;GAA&quot;) || codon_input.equals(&quot;GAG&quot;))\n    {\n        return &quot;E&quot;;\n    }\n    else if (codon_input.equals(&quot;UUU&quot;) || codon_input.equals(&quot;UUC&quot;))\n    {\n        return &quot;F&quot;;\n    }\n    else if (codon_input.substring(0,2).equals(&quot;GG&quot;))\n    {\n        return &quot;G&quot;;\n    }\n    else if (codon_input.equals(&quot;CAU&quot;) || codon_input.equals(&quot;CAC&quot;))\n    {\n        return &quot;H&quot;;\n    }\n    else if (codon_input.substring(0,2).equals(&quot;AU&quot;) &amp;&amp; !codon_input.equals(&quot;AUG&quot;))\n    {\n        return &quot;I&quot;;\n    }\n    else if (codon_input.equals(&quot;AAA&quot;) || codon_input.equals(&quot;AAG&quot;))\n    {\n        return &quot;K&quot;;\n    }\n    else if (codon_input.substring(0,2).equals(&quot;CU&quot;) || codon_input.equals(&quot;UUA&quot;) || codon_input.equals(&quot;UUG&quot;))\n    {\n        return &quot;L&quot;;\n    }\n    else if (codon_input.equals(&quot;AUG&quot;))\n    {\n        return &quot;M&quot;;\n    }\n    else if (codon_input.equals(&quot;AAU&quot;) || codon_input.equals(&quot;AAC&quot;))\n    {\n        return &quot;N&quot;;\n    }\n    else if (codon_input.substring(0,2).equals(&quot;CC&quot;))\n    {\n        return &quot;P&quot;;\n    }\n    else if (codon_input.equals(&quot;CAA&quot;) || codon_input.equals(&quot;CAG&quot;))\n    {\n        return &quot;Q&quot;;\n    }\n    else if (codon_input.substring(0,2).equals(&quot;CG&quot;) || codon_input.equals(&quot;AGA&quot;) || codon_input.equals(&quot;AGG&quot;))\n    {\n        return &quot;R&quot;;\n    }\n    else if (codon_input.substring(0,2).equals(&quot;UC&quot;) || codon_input.equals(&quot;AGU&quot;) || codon_input.equals(&quot;AGC&quot;))\n    {\n        return &quot;S&quot;;\n    }\n    else if (codon_input.substring(0,2).equals(&quot;AC&quot;))\n    {\n        return &quot;T&quot;;\n    }\n    else if (codon_input.substring(0,2).equals(&quot;GU&quot;))\n    {\n        return &quot;V&quot;;\n    }\n    else if (codon_input.equals(&quot;UGG&quot;))\n    {\n        return &quot;W&quot;;\n    }\n    else if (codon_input.equals(&quot;UAU&quot;) || codon_input.equals(&quot;UAC&quot;))\n    {\n        return &quot;Y&quot;;\n    }\n    else if (codon_input.equals(&quot;UAA&quot;) || codon_input.equals(&quot;UAG&quot;) || codon_input.equals(&quot;UGA&quot;))\n    {\n        return &quot;Stop&quot;;\n    }\n    return &quot;-&quot;;\n}\n\npublic static String translate (String tran_input)\n/* Converts an RNA strand into an amino acid strand using codon() */\n{\n    String tran_output = &quot;&quot;;\n    int tran_length = tran_input.length();\n    int tran_cursor = 0;\n    while (tran_cursor &lt; tran_length - 2)\n    {\n        if (codon(tran_input.substring(tran_cursor, tran_cursor + 3)).equals(&quot;Stop&quot;))\n        {\n            return tran_output;\n        }\n        else\n        {\n            tran_output = tran_output + codon(tran_input.substring(tran_cursor, tran_cursor + 3));\n        }\n        tran_cursor = tran_cursor + 3;\n    }\n    return tran_output;\n}\n</code></pre>\n"},{"tags":["java","priority-queue"],"comments":[{"owner":{"account_id":21454914,"reputation":728,"user_id":15806697,"display_name":"Uttam"},"score":0,"creation_date":1653286687,"post_id":72343970,"comment_id":127804899,"body_markdown":"nopes @tgdavies","body":"nopes @tgdavies"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1653287109,"post_id":72343970,"comment_id":127805009,"body_markdown":"What part of your question did that not answer?","body":"What part of your question did that not answer?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1653288967,"post_id":72343970,"comment_id":127805497,"body_markdown":"@tgdavies While I am no thought reader, a guess would be that it’s not so much that that question seems to be about `int`, not `long` (not even explicit) but more that that question is asking about transferring numbers from an *array*, which isn’t the issue here at all. While you and I make the necessary abstractions easily, we should not expect the same from everyone here.","body":"@tgdavies While I am no thought reader, a guess would be that it’s not so much that that question seems to be about <code>int</code>, not <code>long</code> (not even explicit) but more that that question is asking about transferring numbers from an <i>array</i>, which isn’t the issue here at all. While you and I make the necessary abstractions easily, we should not expect the same from everyone here."}],"answers":[{"tags":[],"owner":{"account_id":6519964,"reputation":107,"user_id":5044508,"display_name":"Yuvaraj R"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1653286857,"creation_date":1653286857,"answer_id":72344032,"question_id":72343970,"body_markdown":"Java doesn&#39;t allow primitive types in generics. You must use wrapper class like below.\r\n\r\n```\r\nPriorityQueue&lt;Long&gt; pQueue = new PriorityQueue&lt;&gt;();\r\n```","title":"How to insert long datatype in Priority Queue Java","body":"<p>Java doesn't allow primitive types in generics. You must use wrapper class like below.</p>\n<pre><code>PriorityQueue&lt;Long&gt; pQueue = new PriorityQueue&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":21454914,"reputation":728,"user_id":15806697,"display_name":"Uttam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":573,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653335379,"accepted_answer_id":72344032,"answer_count":1,"score":0,"last_activity_date":1653286857,"creation_date":1653286371,"question_id":72343970,"body_markdown":"I want to store all `long` type integer to a priority queue, and I want to intialize the queue something like this \r\n```java\r\nPriorityQueue&lt;long&gt; pQueue = new PriorityQueue&lt;&gt;();\r\n```\r\nIs there an alternative available in java collections to achieve something like this?\r\n","title":"How to insert long datatype in Priority Queue Java","body":"<p>I want to store all <code>long</code> type integer to a priority queue, and I want to intialize the queue something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>PriorityQueue&lt;long&gt; pQueue = new PriorityQueue&lt;&gt;();\n</code></pre>\n<p>Is there an alternative available in java collections to achieve something like this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":0,"creation_date":1653285571,"post_id":72343791,"comment_id":127804626,"body_markdown":"Does is work with other options of `choice1`? Which data type has `choice1`? What says the debugger at this point?","body":"Does is work with other options of <code>choice1</code>? Which data type has <code>choice1</code>? What says the debugger at this point?"},{"owner":{"account_id":25287141,"reputation":61,"user_id":19113888,"display_name":"Francois200212"},"score":0,"creation_date":1653285705,"post_id":72343791,"comment_id":127804664,"body_markdown":"choice1 is an int and wrks fine but choice2 with is a String does not work","body":"choice1 is an int and wrks fine but choice2 with is a String does not work"},{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":0,"creation_date":1653285771,"post_id":72343791,"comment_id":127804678,"body_markdown":"I copied your snippet and it works fine... Do you see the text output?","body":"I copied your snippet and it works fine... Do you see the text output?"},{"owner":{"account_id":25287141,"reputation":61,"user_id":19113888,"display_name":"Francois200212"},"score":0,"creation_date":1653285994,"post_id":72343791,"comment_id":127804718,"body_markdown":"i see the text output, but it doesnt give me a chance to provide a string input, instead it reprints my options for choice1 riht after the text output","body":"i see the text output, but it doesnt give me a chance to provide a string input, instead it reprints my options for choice1 riht after the text output"},{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1653286141,"post_id":72343791,"comment_id":127804760,"body_markdown":"Before this you obviously have sc.nextInt(). It doesn&#39;t consume the end of line character after the integer, so it is consumed by the next nextLine(), which gets an empty string. Add sc.nextLine() after your nextInt() to fix this.","body":"Before this you obviously have sc.nextInt(). It doesn&#39;t consume the end of line character after the integer, so it is consumed by the next nextLine(), which gets an empty string. Add sc.nextLine() after your nextInt() to fix this."},{"owner":{"account_id":25287141,"reputation":61,"user_id":19113888,"display_name":"Francois200212"},"score":0,"creation_date":1653286404,"post_id":72343791,"comment_id":127804825,"body_markdown":"im not sure i get how that would look, it is possible for you to show me how you would implement that in code?","body":"im not sure i get how that would look, it is possible for you to show me how you would implement that in code?"},{"owner":{"account_id":25287141,"reputation":61,"user_id":19113888,"display_name":"Francois200212"},"score":0,"creation_date":1653286593,"post_id":72343791,"comment_id":127804873,"body_markdown":"like this? ```choice1 = sc.nextInt()nextLine();```","body":"like this? <code>choice1 = sc.nextInt()nextLine();</code>"},{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":0,"creation_date":1653289926,"post_id":72343791,"comment_id":127805839,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"}],"answers":[{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653286652,"creation_date":1653286652,"answer_id":72344011,"question_id":72343791,"body_markdown":"You need to consume the end of line character:\r\n```\r\nchoice1 = sc.nextInt();\r\nsc.nextLine();  // consume the end of line\r\n// Now your program continues as before.\r\n// Probably you have an &#39;if&#39; here, I don&#39;t know, you\r\n// haven&#39;t shown it\r\n```","title":"Im looking to ask for user input, but instead, my code returns me back to the beginning without giving the chance to enter input","body":"<p>You need to consume the end of line character:</p>\n<pre><code>choice1 = sc.nextInt();\nsc.nextLine();  // consume the end of line\n// Now your program continues as before.\n// Probably you have an 'if' here, I don't know, you\n// haven't shown it\n</code></pre>\n"}],"owner":{"account_id":25287141,"reputation":61,"user_id":19113888,"display_name":"Francois200212"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72344011,"answer_count":1,"score":-1,"last_activity_date":1653286652,"creation_date":1653285198,"question_id":72343791,"body_markdown":"so, i am looking to write code which firstly asks for user input in order to run the desired operation, this element of my code is working fine, but after selecting one of the options from the first menu i am asking the user for a second string input which i would like to turn to both lower and uppercase, but instead of letting me enter an input, the program just goes back to the original screen showing all options.\r\n\r\nthis is my code asking for a string input that isnt working:\r\n```\r\nelse if(choice1==1)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;=================================&quot;+&quot;\\n&quot;+&quot;You have chosen to convert a given string to upper case and lowercase, please enter your string: &quot;+&quot;\\n&quot;);\r\n\t\t\t\tchoice2 = sc.nextLine();\r\n\t\t\t\tSystem.out.println(&quot;Your lowercase string: &quot;+choice2.toLowerCase()+&quot;\\n&quot;+&quot;Your uppercase string: &quot;+choice2.toUpperCase);\r\n            }\r\n```\r\nCheers for the help guys!!","title":"Im looking to ask for user input, but instead, my code returns me back to the beginning without giving the chance to enter input","body":"<p>so, i am looking to write code which firstly asks for user input in order to run the desired operation, this element of my code is working fine, but after selecting one of the options from the first menu i am asking the user for a second string input which i would like to turn to both lower and uppercase, but instead of letting me enter an input, the program just goes back to the original screen showing all options.</p>\n<p>this is my code asking for a string input that isnt working:</p>\n<pre><code>else if(choice1==1)\n            {\n                System.out.println(&quot;=================================&quot;+&quot;\\n&quot;+&quot;You have chosen to convert a given string to upper case and lowercase, please enter your string: &quot;+&quot;\\n&quot;);\n                choice2 = sc.nextLine();\n                System.out.println(&quot;Your lowercase string: &quot;+choice2.toLowerCase()+&quot;\\n&quot;+&quot;Your uppercase string: &quot;+choice2.toUpperCase);\n            }\n</code></pre>\n<p>Cheers for the help guys!!</p>\n"},{"tags":["java","arrays","java-stream"],"comments":[{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":2,"creation_date":1653207327,"post_id":72335848,"comment_id":127791072,"body_markdown":"The array has a fixed size. We cannot increase or decrease the size of the array at runtime.","body":"The array has a fixed size. We cannot increase or decrease the size of the array at runtime."},{"owner":{"display_name":"user18952345"},"score":0,"creation_date":1653207404,"post_id":72335848,"comment_id":127791086,"body_markdown":"What about copy and transform to another array?","body":"What about copy and transform to another array?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":5,"creation_date":1653207587,"post_id":72335848,"comment_id":127791120,"body_markdown":"I find your example confusing. You say you want to add the same elements to the array, but some elements of initial array(0, 6, 7) are missing from result, and result has additional elements(3).","body":"I find your example confusing. You say you want to add the same elements to the array, but some elements of initial array(0, 6, 7) are missing from result, and result has additional elements(3)."},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":4,"creation_date":1653207615,"post_id":72335848,"comment_id":127791125,"body_markdown":"I don&#39;t understand the correlation between the first array shown and the second. Do you want to add the elements of the first array into a new one? Basically @Chaosfire wrote the exact same thing when I was typing my comment. I&#39;m having his same issue in understanding your code.","body":"I don&#39;t understand the correlation between the first array shown and the second. Do you want to add the elements of the first array into a new one? Basically @Chaosfire wrote the exact same thing when I was typing my comment. I&#39;m having his same issue in understanding your code."},{"owner":{"display_name":"user18952345"},"score":0,"creation_date":1653286006,"post_id":72335848,"comment_id":127804722,"body_markdown":"I apologize all of you who try to help. I fixed but anyhow it could not be saved and the elements in the array was still wrong. Now I fixed and thanks all of you for helps.","body":"I apologize all of you who try to help. I fixed but anyhow it could not be saved and the elements in the array was still wrong. Now I fixed and thanks all of you for helps."}],"answers":[{"tags":[],"owner":{"account_id":25174873,"reputation":57,"user_id":19017210,"display_name":"YaziD"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1653207834,"creation_date":1653207834,"answer_id":72335897,"question_id":72335848,"body_markdown":"use Arrays.asList(your array) to convert your array to list\r\n\r\n    List&lt;Integer&gt; numList = Arrays.asList(nums);\r\n\r\n","title":"How to clone an array using Java stream?","body":"<p>use Arrays.asList(your array) to convert your array to list</p>\n<pre><code>List&lt;Integer&gt; numList = Arrays.asList(nums);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653210058,"creation_date":1653209075,"answer_id":72336032,"question_id":72335848,"body_markdown":"Basing on the output you&#39;ve shown `int nums[] = new int[]{1,2,3,4,5,1,2,3,4,5};` and your statement\r\n\r\n&gt; I want to add the same elements to the array\r\n\r\nI think what you were trying to ask was how to re-add the elements of an array to the same array, although your first snippet showed `int nums[] = new int[]{4,5,6,7,0,1,2};` while the output was totally unrelated to the first array (might have been a small blunder). \r\n\r\nHowever, in Java it is not possible to update the size of an array. Once an array has been instantiated its size is fixed. What you can do is to declare another array with double the size of the original array you want to copy from.\r\n\r\nAs it has been pointed out in the comments by @Ole V.V. you could achieve this with `IntStream`, which is a better approach than the one I&#39;ve used since it doesn&#39;t force you to change your working type from `int[]` to `Integer[]`. In fact, the `Stream` class works with generic types, so the only argument types it works with are references; therefore you could only retrieve an array of `Integer[]` rather than `int[]`. \r\n\r\n&lt;h4&gt;Solution with IntStream&lt;/h4&gt;\r\n\r\n```\r\nint nums[] = new int[]{1, 2, 3, 4, 5};\r\n\r\nint[] res = IntStream.concat(IntStream.of(nums), IntStream.of(nums)).toArray();\r\n\r\nSystem.out.println(Arrays.toString(res));\r\n```\r\n\r\n&lt;h4&gt;Solution with Stream&lt;/h4&gt;\r\n\r\n```\r\nint nums[] = new int[]{1, 2, 3, 4, 5};\r\n\r\nInteger[] res = new Integer[0];\r\nres = Stream.concat(Arrays.stream(nums).boxed(), Arrays.stream(nums).boxed())\r\n        .collect(Collectors.toList())\r\n        .toArray(res);\r\n\r\nSystem.out.println(Arrays.toString(res));\r\n```","title":"How to clone an array using Java stream?","body":"<p>Basing on the output you've shown <code>int nums[] = new int[]{1,2,3,4,5,1,2,3,4,5};</code> and your statement</p>\n<blockquote>\n<p>I want to add the same elements to the array</p>\n</blockquote>\n<p>I think what you were trying to ask was how to re-add the elements of an array to the same array, although your first snippet showed <code>int nums[] = new int[]{4,5,6,7,0,1,2};</code> while the output was totally unrelated to the first array (might have been a small blunder).</p>\n<p>However, in Java it is not possible to update the size of an array. Once an array has been instantiated its size is fixed. What you can do is to declare another array with double the size of the original array you want to copy from.</p>\n<p>As it has been pointed out in the comments by @Ole V.V. you could achieve this with <code>IntStream</code>, which is a better approach than the one I've used since it doesn't force you to change your working type from <code>int[]</code> to <code>Integer[]</code>. In fact, the <code>Stream</code> class works with generic types, so the only argument types it works with are references; therefore you could only retrieve an array of <code>Integer[]</code> rather than <code>int[]</code>.</p>\n<h4>Solution with IntStream</h4>\n<pre><code>int nums[] = new int[]{1, 2, 3, 4, 5};\n\nint[] res = IntStream.concat(IntStream.of(nums), IntStream.of(nums)).toArray();\n\nSystem.out.println(Arrays.toString(res));\n</code></pre>\n<h4>Solution with Stream</h4>\n<pre><code>int nums[] = new int[]{1, 2, 3, 4, 5};\n\nInteger[] res = new Integer[0];\nres = Stream.concat(Arrays.stream(nums).boxed(), Arrays.stream(nums).boxed())\n        .collect(Collectors.toList())\n        .toArray(res);\n\nSystem.out.println(Arrays.toString(res));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653209696,"creation_date":1653209511,"answer_id":72336069,"question_id":72335848,"body_markdown":"how about using `Arrays.copyOf(arg, arg)`?\r\n\r\n````\r\npublic static void main(String[] args) {\r\n int[] nums = new int[]{1, 2, 3, 4, 5, 1, 2, 3, 4, 5};\r\n int[] copiedArray = Arrays.copyOf(nums, nums.length);\r\n}\r\n  ````\r\n\r\nIf you really want to use Stream,\r\n\r\n````\r\npublic static void main(String[] args) {\r\n int[] nums = new int[]{1, 2, 3, 4, 5, 1, 2, 3, 4, 5};\r\n int[] copiedArray = Arrays.stream(nums).toArray();\r\n}\r\n````\r\n\r\n","title":"How to clone an array using Java stream?","body":"<p>how about using <code>Arrays.copyOf(arg, arg)</code>?</p>\n<pre><code>public static void main(String[] args) {\n int[] nums = new int[]{1, 2, 3, 4, 5, 1, 2, 3, 4, 5};\n int[] copiedArray = Arrays.copyOf(nums, nums.length);\n}\n</code></pre>\n<p>If you really want to use Stream,</p>\n<pre><code>public static void main(String[] args) {\n int[] nums = new int[]{1, 2, 3, 4, 5, 1, 2, 3, 4, 5};\n int[] copiedArray = Arrays.stream(nums).toArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653213427,"creation_date":1653210482,"answer_id":72336172,"question_id":72335848,"body_markdown":"Based desired output, i&#39;ll make a guess that initial array is:\r\n```\r\nint[] nums = new int[]{1, 2, 3, 4, 5};\r\n```\r\nYou can&#39;t change the size of an array, once created, so you need to declare a new one. @Dan has already offered a [solution][1] with streams, so i&#39;ll give one with loops for completeness sake.\r\n```\r\npublic class Temp {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        int[] nums = new int[]{1, 2, 3, 4, 5};\r\n        System.out.println(&quot;Initial array&quot;);\r\n        System.out.println(Arrays.toString(nums));\r\n\r\n        int[] result = new int[nums.length * 2];\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            result[i] = nums[i];\r\n            result[i + nums.length] = nums[i];\r\n        }\r\n\r\n        System.out.println(&quot;Result array&quot;);\r\n        System.out.println(Arrays.toString(result));\r\n    }\r\n}\r\n```\r\nThe upside is the single iteration used to fill result array.\r\n\r\n**Edit:** As per suggestion from @OleV.V. a solution using [System.arraycopy()][2] would look like this:\r\n```\r\npublic class Temp {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        int[] nums = new int[]{1, 2, 3, 4, 5};\r\n\r\n        int[] result = new int[nums.length * 2];\r\n        System.arraycopy(nums, 0, result, 0, nums.length);\r\n        System.arraycopy(nums, 0, result, nums.length, nums.length);\r\n        \r\n        System.out.println(Arrays.toString(result));\r\n    }\r\n}\r\n```\r\nThe upside is that `System.arraycopy()` is highly optimised and efficient.\r\n\r\n  [1]: https://stackoverflow.com/a/72336032/17795888\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)","title":"How to clone an array using Java stream?","body":"<p>Based desired output, i'll make a guess that initial array is:</p>\n<pre><code>int[] nums = new int[]{1, 2, 3, 4, 5};\n</code></pre>\n<p>You can't change the size of an array, once created, so you need to declare a new one. @Dan has already offered a <a href=\"https://stackoverflow.com/a/72336032/17795888\">solution</a> with streams, so i'll give one with loops for completeness sake.</p>\n<pre><code>public class Temp {\n\n    public static void main(String[] args) throws Exception {\n        int[] nums = new int[]{1, 2, 3, 4, 5};\n        System.out.println(&quot;Initial array&quot;);\n        System.out.println(Arrays.toString(nums));\n\n        int[] result = new int[nums.length * 2];\n        for (int i = 0; i &lt; nums.length; i++) {\n            result[i] = nums[i];\n            result[i + nums.length] = nums[i];\n        }\n\n        System.out.println(&quot;Result array&quot;);\n        System.out.println(Arrays.toString(result));\n    }\n}\n</code></pre>\n<p>The upside is the single iteration used to fill result array.</p>\n<p><strong>Edit:</strong> As per suggestion from @OleV.V. a solution using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)\" rel=\"nofollow noreferrer\">System.arraycopy()</a> would look like this:</p>\n<pre><code>public class Temp {\n\n    public static void main(String[] args) throws Exception {\n        int[] nums = new int[]{1, 2, 3, 4, 5};\n\n        int[] result = new int[nums.length * 2];\n        System.arraycopy(nums, 0, result, 0, nums.length);\n        System.arraycopy(nums, 0, result, nums.length, nums.length);\n        \n        System.out.println(Arrays.toString(result));\n    }\n}\n</code></pre>\n<p>The upside is that <code>System.arraycopy()</code> is highly optimised and efficient.</p>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653212435,"creation_date":1653212052,"answer_id":72336333,"question_id":72335848,"body_markdown":"Iterative or stream based solutions are unnecessarily complicated and slow. Just use `System.arraycopy`:\r\n```java\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n\r\n        int[] a = {1,2,3,4,5};\r\n        int[] b = {6,7,8,9,10};\r\n\r\n        int[] aAndB = new int[a.length + b.length];\r\n        System.arraycopy(a, 0, aAndB, 0, a.length);\r\n        System.arraycopy(b, 0, aAndB, a.length, b.length);\r\n\r\n        System.out.println(Arrays.toString(aAndB));\r\n    }\r\n}\r\n```\r\n\r\n`System.arraycopy` is highly optimised: https://stackoverflow.com/questions/2772152/why-is-system-arraycopy-native-in-java","title":"How to clone an array using Java stream?","body":"<p>Iterative or stream based solutions are unnecessarily complicated and slow. Just use <code>System.arraycopy</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n    public static void main(String[] args) {\n\n        int[] a = {1,2,3,4,5};\n        int[] b = {6,7,8,9,10};\n\n        int[] aAndB = new int[a.length + b.length];\n        System.arraycopy(a, 0, aAndB, 0, a.length);\n        System.arraycopy(b, 0, aAndB, a.length, b.length);\n\n        System.out.println(Arrays.toString(aAndB));\n    }\n}\n</code></pre>\n<p><code>System.arraycopy</code> is highly optimised: <a href=\"https://stackoverflow.com/questions/2772152/why-is-system-arraycopy-native-in-java\">Why is System.arraycopy native in Java?</a></p>\n"}],"owner":{"display_name":"user18952345"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72336172,"answer_count":5,"score":-1,"last_activity_date":1653285931,"creation_date":1653207106,"question_id":72335848,"body_markdown":"I have the following array:\r\n\r\n```\r\nint nums[] = new int[]{1,2,3,4,5};\r\n```\r\n\r\nI want to add the same elements to the array using stream or another proper way if it is better using stream. There is `addAll()` method for `List`, but I could not use it for array and I am not sure if there is a proper way for array. So, how can I convert this list to:\r\n\r\n```\r\nint nums[] = new int[]{1,2,3,4,5,1,2,3,4,5};\r\n```\r\n\r\n\r\n","title":"How to clone an array using Java stream?","body":"<p>I have the following array:</p>\n<pre><code>int nums[] = new int[]{1,2,3,4,5};\n</code></pre>\n<p>I want to add the same elements to the array using stream or another proper way if it is better using stream. There is <code>addAll()</code> method for <code>List</code>, but I could not use it for array and I am not sure if there is a proper way for array. So, how can I convert this list to:</p>\n<pre><code>int nums[] = new int[]{1,2,3,4,5,1,2,3,4,5};\n</code></pre>\n"},{"tags":["java","enums","inner-classes"],"comments":[{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":0,"creation_date":1653284006,"post_id":72343597,"comment_id":127804301,"body_markdown":"Does this answer your question? [What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?](https://stackoverflow.com/questions/9560600/what-causes-error-no-enclosing-instance-of-type-foo-is-accessible-and-how-do-i)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9560600/what-causes-error-no-enclosing-instance-of-type-foo-is-accessible-and-how-do-i\">What causes error &quot;No enclosing instance of type Foo is accessible&quot; and how do I fix it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":16208985,"reputation":918,"user_id":11703509,"display_name":"psybrg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653285516,"creation_date":1653285516,"answer_id":72343849,"question_id":72343597,"body_markdown":"First use **Outer class** constructor for initialising the object of **Inner class**. Also enums should be in the static class. \r\n   \r\n    public class CarDemo {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tCarDemo.Car car1 = new CarDemo().new Car(2014, Model.model.CONVERTABLE, Color.color.BLACK);\r\n\t\t\tcar1.display();\r\n\t\t}\r\n\r\n\t\tclass Car {\r\n\t\t\tprivate int year;\r\n\t\t\tprivate CarDemo.Model.model model;\r\n\t\t\tprivate CarDemo.Color.color color;\r\n\r\n\t\t\tpublic Car(int yr, CarDemo.Model.model m, CarDemo.Color.color c) {\r\n\t\t\t\tyear = yr;\r\n\t\t\t\tmodel = m;\r\n\t\t\t\tcolor = c;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void display() {\r\n\t\t\t\tSystem.out.println(year);\r\n\t\t\t\tSystem.out.println(model);\r\n\t\t\t\tSystem.out.println(color);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tstatic class Model {\r\n\t\t\tenum model {\r\n\t\t\t\tSEDAN, SUV, CONVERTABLE, HATCHBACK;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tstatic class Color {\r\n\t\t\tenum color {\r\n\t\t\t\tRED, BLUE, VIOLET, PINK, BLACK, WHITE;\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"cannot be resolved or is not a field, and No enclosing instance of type CarDemo is accessible","body":"<p>First use <strong>Outer class</strong> constructor for initialising the object of <strong>Inner class</strong>. Also enums should be in the static class.</p>\n<pre><code>public class CarDemo {\n\n    public static void main(String[] args) {\n        CarDemo.Car car1 = new CarDemo().new Car(2014, Model.model.CONVERTABLE, Color.color.BLACK);\n        car1.display();\n    }\n\n    class Car {\n        private int year;\n        private CarDemo.Model.model model;\n        private CarDemo.Color.color color;\n\n        public Car(int yr, CarDemo.Model.model m, CarDemo.Color.color c) {\n            year = yr;\n            model = m;\n            color = c;\n        }\n\n        public void display() {\n            System.out.println(year);\n            System.out.println(model);\n            System.out.println(color);\n        }\n    }\n\n    static class Model {\n        enum model {\n            SEDAN, SUV, CONVERTABLE, HATCHBACK;\n        }\n    }\n\n    static class Color {\n        enum color {\n            RED, BLUE, VIOLET, PINK, BLACK, WHITE;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24936914,"reputation":1,"user_id":18803371,"display_name":"vromm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1653285516,"creation_date":1653283642,"question_id":72343597,"body_markdown":"I was following our teachers instructions but even still the program runs into a problem where it says that both CONVERTABLE and BLACK cannot be resolved or is not a field.\r\n\r\n    public class CarDemo {\r\n\r\n    public static void main(String[] args) {\r\n        Car car1 = new Car(2014, Model.CONVERTABLE, Color.BLACK);\r\n        \r\n    }\r\n    class Car{\r\n        private int year;\r\n        private Model model;\r\n        private Color color;\r\n        public Car(int yr, Model model, Color color){\r\n            year = yr;\r\n            this.model = model;\r\n            this.color = color;   \r\n        }\r\n        public void display(){\r\n            System.out.println(year);\r\n            System.out.println(model);\r\n            System.out.println(color);\r\n        }\r\n    }\r\n    class Model{\r\n        enum model {SEDAN, SUV, CONVERTABLE, HATCHBACK;}\r\n    }\r\n    class Color{\r\n        enum color {RED, BLUE, VIOLET, PINK, BLACK, WHITE;}\r\n}\r\n}\r\n\r\nAnother version of the code when trying to fix the code was this \r\n\r\n    public class CarDemo {\r\n\r\n    public static void main(String[] args) {\r\n        Car car1 = new Car(2014, Model.model.CONVERTABLE, Color.color.BLACK);\r\n        \r\n    }\r\n    class Car{\r\n        private int year;\r\n        private CarDemo.Model.model model;\r\n        private CarDemo.Color.color color;\r\n        public Car(int yr, CarDemo.Model.model m, CarDemo.Color.color c){\r\n            year = yr;\r\n            model = m;\r\n            color = c;   \r\n        }\r\n        public void display(){\r\n            System.out.println(year);\r\n            System.out.println(model);\r\n            System.out.println(color);\r\n        }\r\n    }\r\n    class Model{\r\n        enum model {SEDAN, SUV, CONVERTABLE, HATCHBACK;}\r\n    }\r\n    class Color{\r\n        enum color {RED, BLUE, VIOLET, PINK, BLACK, WHITE;}\r\n}\r\n} \r\n\r\nbut still didn&#39;t work and a new error came out it said No enclosing instance of type CarDemo is accessible","title":"cannot be resolved or is not a field, and No enclosing instance of type CarDemo is accessible","body":"<p>I was following our teachers instructions but even still the program runs into a problem where it says that both CONVERTABLE and BLACK cannot be resolved or is not a field.</p>\n<pre><code>public class CarDemo {\n\npublic static void main(String[] args) {\n    Car car1 = new Car(2014, Model.CONVERTABLE, Color.BLACK);\n    \n}\nclass Car{\n    private int year;\n    private Model model;\n    private Color color;\n    public Car(int yr, Model model, Color color){\n        year = yr;\n        this.model = model;\n        this.color = color;   \n    }\n    public void display(){\n        System.out.println(year);\n        System.out.println(model);\n        System.out.println(color);\n    }\n}\nclass Model{\n    enum model {SEDAN, SUV, CONVERTABLE, HATCHBACK;}\n}\nclass Color{\n    enum color {RED, BLUE, VIOLET, PINK, BLACK, WHITE;}\n</code></pre>\n<p>}\n}</p>\n<p>Another version of the code when trying to fix the code was this</p>\n<pre><code>public class CarDemo {\n\npublic static void main(String[] args) {\n    Car car1 = new Car(2014, Model.model.CONVERTABLE, Color.color.BLACK);\n    \n}\nclass Car{\n    private int year;\n    private CarDemo.Model.model model;\n    private CarDemo.Color.color color;\n    public Car(int yr, CarDemo.Model.model m, CarDemo.Color.color c){\n        year = yr;\n        model = m;\n        color = c;   \n    }\n    public void display(){\n        System.out.println(year);\n        System.out.println(model);\n        System.out.println(color);\n    }\n}\nclass Model{\n    enum model {SEDAN, SUV, CONVERTABLE, HATCHBACK;}\n}\nclass Color{\n    enum color {RED, BLUE, VIOLET, PINK, BLACK, WHITE;}\n</code></pre>\n<p>}\n}</p>\n<p>but still didn't work and a new error came out it said No enclosing instance of type CarDemo is accessible</p>\n"},{"tags":["java","maven","jpa","repository"],"comments":[{"owner":{"account_id":5289696,"reputation":1172,"user_id":4222629,"display_name":"sagarr"},"score":0,"creation_date":1509211592,"post_id":46992424,"comment_id":80931521,"body_markdown":"[Spring JPA CrudRepsoitory class already have save method](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#save-S-), why are defning your own with same signature?","body":"<a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#save-S-\" rel=\"nofollow noreferrer\">Spring JPA CrudRepsoitory class already have save method</a>, why are defning your own with same signature?"},{"owner":{"account_id":5072090,"reputation":957,"user_id":4070597,"accept_rate":40,"display_name":"hubbabubba"},"score":1,"creation_date":1509211924,"post_id":46992424,"comment_id":80931591,"body_markdown":"@Sagar Rohankar To override the default method because I need to do certain things before saving the entity to the database. I don&#39;t want to name the method differently and have to remember that for certain entities I need to call a custom method with a name other than save.","body":"@Sagar Rohankar To override the default method because I need to do certain things before saving the entity to the database. I don&#39;t want to name the method differently and have to remember that for certain entities I need to call a custom method with a name other than save."},{"owner":{"account_id":5289696,"reputation":1172,"user_id":4222629,"display_name":"sagarr"},"score":0,"creation_date":1509212078,"post_id":46992424,"comment_id":80931640,"body_markdown":"then don&#39;t extend `ReportRepositoryCustom` in `ReportRepository` interface.","body":"then don&#39;t extend <code>ReportRepositoryCustom</code> in <code>ReportRepository</code> interface."},{"owner":{"account_id":5072090,"reputation":957,"user_id":4070597,"accept_rate":40,"display_name":"hubbabubba"},"score":1,"creation_date":1509212826,"post_id":46992424,"comment_id":80931825,"body_markdown":"The reason it is done so is that when reportRepository is autowired it has methods from default JpaRepository implementation, like delete, and my custom methods. Both are needed. But Mavens compiler gets confused by two methods with same signatures and I dont know if there is any way around this.","body":"The reason it is done so is that when reportRepository is autowired it has methods from default JpaRepository implementation, like delete, and my custom methods. Both are needed. But Mavens compiler gets confused by two methods with same signatures and I dont know if there is any way around this."},{"owner":{"account_id":5289696,"reputation":1172,"user_id":4222629,"display_name":"sagarr"},"score":0,"creation_date":1509213090,"post_id":46992424,"comment_id":80931896,"body_markdown":"may be this help then: https://stackoverflow.com/questions/13036159/spring-data-override-save-method","body":"may be this help then: <a href=\"https://stackoverflow.com/questions/13036159/spring-data-override-save-method\" title=\"spring data override save method\">stackoverflow.com/questions/13036159/&hellip;</a>"},{"owner":{"account_id":5072090,"reputation":957,"user_id":4070597,"accept_rate":40,"display_name":"hubbabubba"},"score":0,"creation_date":1509216949,"post_id":46992424,"comment_id":80933099,"body_markdown":"I believe in that question the answer by Mauro Molinari is precisely what I&#39;m trying to do, but in comments to that answer someone is saying he&#39;s getting an ambiguous reference error just like I am. The suggestion by Balamaci Serban is way too complicated. So I think I&#39;m just going to rename my overriding methods to something other than save or delete etc. It&#39;s not particularly elegant and there is the risk of forgetting to use the custom method instead of the default one but oh well...","body":"I believe in that question the answer by Mauro Molinari is precisely what I&#39;m trying to do, but in comments to that answer someone is saying he&#39;s getting an ambiguous reference error just like I am. The suggestion by Balamaci Serban is way too complicated. So I think I&#39;m just going to rename my overriding methods to something other than save or delete etc. It&#39;s not particularly elegant and there is the risk of forgetting to use the custom method instead of the default one but oh well..."}],"answers":[{"tags":[],"owner":{"account_id":5072090,"reputation":957,"user_id":4070597,"accept_rate":40,"display_name":"hubbabubba"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509534634,"creation_date":1509267736,"answer_id":46998460,"question_id":46992424,"body_markdown":"So after a lot of googling and so on, it doesn&#39;t seem possible to define for Maven&#39;s compiler which of the save methods is primary, the one in JpaRepository or the one in my custom repository. I don&#39;t know how the compiler used by Eclipse does it but clearly Maven doesn&#39;t follow the same logic here. That&#39;s a shame, because this way of coding custom methods and overrriding some JpaRepository methods would be the cleanest and nicest way. There is a @Primary annotation for determining which bean is primary for autowiring if several candidates exist, but there doesn&#39;t seem to be an equivalent solution for interface implementation methods. I haven&#39;t found any other way of doing this where I would not have to write any extra code. Extending SimpleJpaRepository class seems like a somewhat ugly solution since I would then have to make sure that implementation is used as a JpaRepository implementation. \r\n\r\nSo I&#39;ve decided to solve this in a straight forward way:\r\n\r\n    public interface ReportRepository {\r\n    \tpublic List&lt;Report&gt; findAll();\r\n    \r\n    \tpublic Report findOne(Long id);\r\n    \r\n    \tpublic void delete(Report report);\r\n    \r\n    \tpublic Report save(Report report) throws OptimisticLockException;\r\n    \r\n    \tpublic Long getReportCountForImporter(Long importerId);\r\n    \r\n        .... [other custom methods]\r\n    \r\n    }\r\n    \r\n    public interface ReportRepositoryDefaultMethods extends JpaRepository&lt;Report, Long&gt; {\r\n    \r\n    }\r\n    \r\n    public class ReportRepositoryImpl implements ReportRepository {\r\n    \r\n    \t@PersistenceContext()\r\n    \tEntityManager entityManager;\r\n    \r\n    \t@Autowired\r\n    \tReportRepositoryDefaultMethods reportRepositoryDefaultMethods;\r\n    \r\n    \tpublic List&lt;Report&gt; findAll() {\r\n    \t\treturn reportRepositoryDefaultMethods.findAll();\r\n    \t}\r\n    \r\n    \tpublic Report findOne(Long id) {\r\n    \t\treturn reportRepositoryDefaultMethods.findOne(id);\r\n    \t}\r\n    \r\n    \tpublic void delete(Report report) {\r\n    \t\treportRepositoryDefaultMethods.delete(report);\r\n    \t}\r\n    \r\n    \t@Transactional\r\n    \tpublic Report save(Report report) throws OptimisticLockException {\r\n    \t\t[custom implementation using entityManager methods]\r\n    \r\n    \t}\r\n        .... [other custom methods]\r\n    }\r\n\r\nIt&#39;s not a neat solution since I have to include the default methods I use in my interface and its implementation, with just calls to the standard JpaRepository methods. But it works and the use of my ReportRepository interface is clean in that I don&#39;t have custom names for custom methods like customSave(), but the details of the implementation are hidden in the implementing class.\r\n\r\nIf anyone has a better solution, one with only minimal amount of code, I&#39;d be interested to hear about it.","title":"Maven ambiguous reference between interface methods","body":"<p>So after a lot of googling and so on, it doesn't seem possible to define for Maven's compiler which of the save methods is primary, the one in JpaRepository or the one in my custom repository. I don't know how the compiler used by Eclipse does it but clearly Maven doesn't follow the same logic here. That's a shame, because this way of coding custom methods and overrriding some JpaRepository methods would be the cleanest and nicest way. There is a @Primary annotation for determining which bean is primary for autowiring if several candidates exist, but there doesn't seem to be an equivalent solution for interface implementation methods. I haven't found any other way of doing this where I would not have to write any extra code. Extending SimpleJpaRepository class seems like a somewhat ugly solution since I would then have to make sure that implementation is used as a JpaRepository implementation. </p>\n\n<p>So I've decided to solve this in a straight forward way:</p>\n\n<pre><code>public interface ReportRepository {\n    public List&lt;Report&gt; findAll();\n\n    public Report findOne(Long id);\n\n    public void delete(Report report);\n\n    public Report save(Report report) throws OptimisticLockException;\n\n    public Long getReportCountForImporter(Long importerId);\n\n    .... [other custom methods]\n\n}\n\npublic interface ReportRepositoryDefaultMethods extends JpaRepository&lt;Report, Long&gt; {\n\n}\n\npublic class ReportRepositoryImpl implements ReportRepository {\n\n    @PersistenceContext()\n    EntityManager entityManager;\n\n    @Autowired\n    ReportRepositoryDefaultMethods reportRepositoryDefaultMethods;\n\n    public List&lt;Report&gt; findAll() {\n        return reportRepositoryDefaultMethods.findAll();\n    }\n\n    public Report findOne(Long id) {\n        return reportRepositoryDefaultMethods.findOne(id);\n    }\n\n    public void delete(Report report) {\n        reportRepositoryDefaultMethods.delete(report);\n    }\n\n    @Transactional\n    public Report save(Report report) throws OptimisticLockException {\n        [custom implementation using entityManager methods]\n\n    }\n    .... [other custom methods]\n}\n</code></pre>\n\n<p>It's not a neat solution since I have to include the default methods I use in my interface and its implementation, with just calls to the standard JpaRepository methods. But it works and the use of my ReportRepository interface is clean in that I don't have custom names for custom methods like customSave(), but the details of the implementation are hidden in the implementing class.</p>\n\n<p>If anyone has a better solution, one with only minimal amount of code, I'd be interested to hear about it.</p>\n"},{"tags":[],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653285501,"creation_date":1653285501,"answer_id":72343846,"question_id":46992424,"body_markdown":"In my case, I had a need to `@PreAuthorize` save method. I had to change it \r\nfrom\r\n\r\n    @Repository\r\n    public interface UserScoreRepo extends JpaRepository&lt;UserScore, Long&gt;, UserScoreRepoFrag {\r\n    \t@PreAuthorize(value = &quot;@roleValidatorService.UserScoreSave(#entity)&quot;)\r\n    \tpublic &lt;S extends UserScore&gt; S save(UserScore entity);\r\n    }\r\n\r\nto\r\n\r\n    @Repository\r\n    public interface UserScoreRepo extends JpaRepository&lt;UserScore, Long&gt;, UserScoreRepoFrag {\r\n    \t@PreAuthorize(value = &quot;@roleValidatorService.UserScoreSave(#entity)&quot;)\r\n    \tpublic &lt;S extends UserScore&gt; S save(S entity);\r\n    }\r\n\r\n\r\n**HINT:** notice the argument of `save` method.","title":"Maven ambiguous reference between interface methods","body":"<p>In my case, I had a need to <code>@PreAuthorize</code> save method. I had to change it\nfrom</p>\n<pre><code>@Repository\npublic interface UserScoreRepo extends JpaRepository&lt;UserScore, Long&gt;, UserScoreRepoFrag {\n    @PreAuthorize(value = &quot;@roleValidatorService.UserScoreSave(#entity)&quot;)\n    public &lt;S extends UserScore&gt; S save(UserScore entity);\n}\n</code></pre>\n<p>to</p>\n<pre><code>@Repository\npublic interface UserScoreRepo extends JpaRepository&lt;UserScore, Long&gt;, UserScoreRepoFrag {\n    @PreAuthorize(value = &quot;@roleValidatorService.UserScoreSave(#entity)&quot;)\n    public &lt;S extends UserScore&gt; S save(S entity);\n}\n</code></pre>\n<p><strong>HINT:</strong> notice the argument of <code>save</code> method.</p>\n"}],"owner":{"account_id":5072090,"reputation":957,"user_id":4070597,"accept_rate":40,"display_name":"hubbabubba"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2633,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1653285501,"creation_date":1509211060,"question_id":46992424,"body_markdown":"I have a Java Spring project with JPA persistence using EclipseLink. I want to use JpaRepository interfaces for my entities and the default implementations for most cases but I also need to define a few of my own methods and I need to sometimes override the default methods like save.\r\n\r\nMy code works when compiled in Eclipse, but I keep getting an ambiguous reference error when compiling with Maven.\r\n\r\nWhat I have done is this (for example to override save because I need to do certain things to the entity to be saved):\r\n\r\n    public interface ReportRepository extends JpaRepository&lt;Report, Long&gt;, ReportRepositoryCustom {\r\n    \r\n    }\r\n    public interface ReportRepositoryCustom {\r\n    \r\n    \tpublic Report save(Report report);\r\n        public int getReportCountForImporter(Long importerId);\r\n        ...\r\n    \r\n    }\r\n    public class ReportRepositoryCustomImplementation implements ReportRepositoryCustom {\r\n         public Report save(Report report)  { ... }\r\n         public int getReportCountForImporter(Long importerId) { ... }\r\n    }\r\n    \r\n    public class ReportService {\r\n        @Autowired\r\n    \tprivate ReportRepository reportRepository;\r\n    }\r\n\r\nThis works fine in Eclipse when I compile it to run on Tomcat. The object ReportRepository reportRepository has methods from JPA repository implementation and my custom methods and the custom save method is called when I call reportRepository.save(...). However, when I do Maven Install, the compiler complains about an ambiguous reference:\r\n\r\n&gt; [ERROR]\r\n&gt; /C:/Users/Jarno/git/Korjaamotestiraportointi/src/main/java/fi/testcenter/service/ReportService.java:[40,40]\r\n&gt; reference to save is ambiguous   both method\r\n&gt; save(fi.testcenter.domain.report.Report) in\r\n&gt; fi.testcenter.repository.ReportRepositoryCustom and method &lt;S&gt;save(S)\r\n&gt; in org.springframework.data.repository.CrudRepository match\r\n\r\nI&#39;ve found coding my repositories a bit complicated. I would like to use the ready-made implementations for JPA repositories and not have to code anything extra. My code keeps everything nice and clean. The repository interface to be used as reference in services is named the same way for every entity and methods are also named the same and any custom methods or overrides are done through custom interfaces and implementations. I don&#39;t need to write any unnecessary code anywhere. But then I ran into my problem with Maven.\r\n\r\nI have managed to compile my code with Maven by first running it in Eclipse Tomcat server. But if I do Maven Clean and then Maven Install, I get a bunch of errors. And obviously I&#39;d like to not have to resort to any kind of a hack in compiling with Maven.\r\n\r\nSo is there a fix that would allow to do this with Maven? Or is there another way of coding what I want to do here?","title":"Maven ambiguous reference between interface methods","body":"<p>I have a Java Spring project with JPA persistence using EclipseLink. I want to use JpaRepository interfaces for my entities and the default implementations for most cases but I also need to define a few of my own methods and I need to sometimes override the default methods like save.</p>\n\n<p>My code works when compiled in Eclipse, but I keep getting an ambiguous reference error when compiling with Maven.</p>\n\n<p>What I have done is this (for example to override save because I need to do certain things to the entity to be saved):</p>\n\n<pre><code>public interface ReportRepository extends JpaRepository&lt;Report, Long&gt;, ReportRepositoryCustom {\n\n}\npublic interface ReportRepositoryCustom {\n\n    public Report save(Report report);\n    public int getReportCountForImporter(Long importerId);\n    ...\n\n}\npublic class ReportRepositoryCustomImplementation implements ReportRepositoryCustom {\n     public Report save(Report report)  { ... }\n     public int getReportCountForImporter(Long importerId) { ... }\n}\n\npublic class ReportService {\n    @Autowired\n    private ReportRepository reportRepository;\n}\n</code></pre>\n\n<p>This works fine in Eclipse when I compile it to run on Tomcat. The object ReportRepository reportRepository has methods from JPA repository implementation and my custom methods and the custom save method is called when I call reportRepository.save(...). However, when I do Maven Install, the compiler complains about an ambiguous reference:</p>\n\n<blockquote>\n  <p>[ERROR]\n  /C:/Users/Jarno/git/Korjaamotestiraportointi/src/main/java/fi/testcenter/service/ReportService.java:[40,40]\n  reference to save is ambiguous   both method\n  save(fi.testcenter.domain.report.Report) in\n  fi.testcenter.repository.ReportRepositoryCustom and method save(S)\n  in org.springframework.data.repository.CrudRepository match</p>\n</blockquote>\n\n<p>I've found coding my repositories a bit complicated. I would like to use the ready-made implementations for JPA repositories and not have to code anything extra. My code keeps everything nice and clean. The repository interface to be used as reference in services is named the same way for every entity and methods are also named the same and any custom methods or overrides are done through custom interfaces and implementations. I don't need to write any unnecessary code anywhere. But then I ran into my problem with Maven.</p>\n\n<p>I have managed to compile my code with Maven by first running it in Eclipse Tomcat server. But if I do Maven Clean and then Maven Install, I get a bunch of errors. And obviously I'd like to not have to resort to any kind of a hack in compiling with Maven.</p>\n\n<p>So is there a fix that would allow to do this with Maven? Or is there another way of coding what I want to do here?</p>\n"},{"tags":["java","swing","user-interface","timer","jbutton"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653285472,"creation_date":1653285472,"answer_id":72343841,"question_id":72343574,"body_markdown":"Start by separating your concerns.\r\n\r\nYou have a mechanism which needs to keep track of when the button was trigged and the amount of time it should be counting down from AND you have some mechanism which updates the UI.\r\n\r\nThe first part is pretty simple and you can simply take advantage of the `java.time` API, for example...\r\n\r\n    public class CountdownTimer {\r\n        private Instant startedAt;\r\n        private Duration duration;\r\n\r\n        public CountdownTimer(Duration duration) {\r\n            this.duration = duration.plusSeconds(1);\r\n        }\r\n\r\n        public boolean isRunning() {\r\n            return startedAt != null;\r\n        }\r\n\r\n        public void start() {\r\n            if (startedAt != null) {\r\n                return;\r\n            }\r\n            startedAt = Instant.now();\r\n        }\r\n\r\n        public void stop() {\r\n            startedAt = null;\r\n        }\r\n        \r\n        public Duration getTimeRemaining() {\r\n            return duration.minus(getRunTime());\r\n        }\r\n\r\n        public Duration getRunTime() {\r\n            if (startedAt == null) {\r\n                return null;\r\n            }\r\n            return Duration.between(startedAt, Instant.now());\r\n        }\r\n    }\r\n\r\nSo, based on a &quot;anchor&quot; time, you can calculate the &quot;run time&quot; from which you can then calculate the &quot;remaining time&quot;, simple.  Now, to reset it, you just call `stop` and `start` again.\r\n\r\nNext, we need some way to update the UI.  Swing is single threaded AND is not thread safe, this means you can&#39;t run long running or blocking operations from within the context of the Event Dispatching Thread and you shouldn&#39;t update the UI, or any state the UI relies on, from out side of the Event Dispatching Thread.\r\n\r\nThe best option is to make use of [Swing `Timer`](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html), for example...\r\n\r\n    public class CountdownPane extends JPanel {\r\n\r\n        private CountdownTimer countdownTimer;\r\n        private Timer timer;\r\n\r\n        public CountdownPane() {\r\n            countdownTimer = new CountdownTimer(Duration.ofSeconds(5));\r\n            JButton btn = new JButton(&quot;Destory the world&quot;);\r\n            timer = new Timer(500, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Duration duration = countdownTimer.getTimeRemaining();\r\n                    long seconds = duration.toSecondsPart();\r\n                    if (seconds &lt;= 0) {\r\n                        countdownTimer.stop();\r\n                        timer.stop();\r\n                        btn.setText(&quot;Boom&quot;);\r\n                    } else {\r\n                        btn.setText(format(duration));\r\n                    }\r\n                }\r\n            });\r\n            timer.setInitialDelay(0);\r\n            setLayout(new GridBagLayout());\r\n            setBorder(new EmptyBorder(36, 36, 36, 36));\r\n            btn.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    if (countdownTimer.isRunning()) {\r\n                        countdownTimer.stop();\r\n                        timer.stop();\r\n                        btn.setText(&quot;Destory the world&quot;);\r\n                    } else {\r\n                        countdownTimer.start();\r\n                        timer.start();\r\n                    }\r\n                }\r\n            });\r\n            add(btn);\r\n        }\r\n\r\n        protected String format(Duration duration) {\r\n            long seconds = duration.toSecondsPart();\r\n            return String.format(&quot;%02d seconds&quot;, seconds);\r\n        }\r\n    }\r\n\r\n# Runnable example...\r\n\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new CountdownPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class CountdownPane extends JPanel {\r\n\r\n            private CountdownTimer countdownTimer;\r\n            private Timer timer;\r\n\r\n            public CountdownPane() {\r\n                countdownTimer = new CountdownTimer(Duration.ofSeconds(5));\r\n                JButton btn = new JButton(&quot;Destory the world&quot;);\r\n                timer = new Timer(500, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        Duration duration = countdownTimer.getTimeRemaining();\r\n                        long seconds = duration.toSecondsPart();\r\n                        if (seconds &lt;= 0) {\r\n                            countdownTimer.stop();\r\n                            timer.stop();\r\n                            btn.setText(&quot;Boom&quot;);\r\n                        } else {\r\n                            btn.setText(format(duration));\r\n                        }\r\n                    }\r\n                });\r\n                timer.setInitialDelay(0);\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(36, 36, 36, 36));\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (countdownTimer.isRunning()) {\r\n                            countdownTimer.stop();\r\n                            timer.stop();\r\n                            btn.setText(&quot;Destory the world&quot;);\r\n                        } else {\r\n                            countdownTimer.start();\r\n                            timer.start();\r\n                        }\r\n                    }\r\n                });\r\n                add(btn);\r\n            }\r\n\r\n            protected String format(Duration duration) {\r\n                long seconds = duration.toSecondsPart();\r\n                return String.format(&quot;%02d seconds&quot;, seconds);\r\n            }\r\n        }\r\n\r\n        public class CountdownTimer {\r\n            private Instant startedAt;\r\n            private Duration duration;\r\n\r\n            public CountdownTimer(Duration duration) {\r\n                this.duration = duration.plusSeconds(1);\r\n            }\r\n\r\n            public boolean isRunning() {\r\n                return startedAt != null;\r\n            }\r\n\r\n            public void start() {\r\n                if (startedAt != null) {\r\n                    return;\r\n                }\r\n                startedAt = Instant.now();\r\n            }\r\n\r\n            public void stop() {\r\n                startedAt = null;\r\n            }\r\n\r\n            public Duration getTimeRemaining() {\r\n                return duration.minus(getRunTime());\r\n            }\r\n\r\n            public Duration getRunTime() {\r\n                if (startedAt == null) {\r\n                    return null;\r\n                }\r\n                return Duration.between(startedAt, Instant.now());\r\n            }\r\n        }\r\n    }\r\n","title":"How to reset a countdown timer when the same button is pressed","body":"<p>Start by separating your concerns.</p>\n<p>You have a mechanism which needs to keep track of when the button was trigged and the amount of time it should be counting down from AND you have some mechanism which updates the UI.</p>\n<p>The first part is pretty simple and you can simply take advantage of the <code>java.time</code> API, for example...</p>\n<pre><code>public class CountdownTimer {\n    private Instant startedAt;\n    private Duration duration;\n\n    public CountdownTimer(Duration duration) {\n        this.duration = duration.plusSeconds(1);\n    }\n\n    public boolean isRunning() {\n        return startedAt != null;\n    }\n\n    public void start() {\n        if (startedAt != null) {\n            return;\n        }\n        startedAt = Instant.now();\n    }\n\n    public void stop() {\n        startedAt = null;\n    }\n    \n    public Duration getTimeRemaining() {\n        return duration.minus(getRunTime());\n    }\n\n    public Duration getRunTime() {\n        if (startedAt == null) {\n            return null;\n        }\n        return Duration.between(startedAt, Instant.now());\n    }\n}\n</code></pre>\n<p>So, based on a &quot;anchor&quot; time, you can calculate the &quot;run time&quot; from which you can then calculate the &quot;remaining time&quot;, simple.  Now, to reset it, you just call <code>stop</code> and <code>start</code> again.</p>\n<p>Next, we need some way to update the UI.  Swing is single threaded AND is not thread safe, this means you can't run long running or blocking operations from within the context of the Event Dispatching Thread and you shouldn't update the UI, or any state the UI relies on, from out side of the Event Dispatching Thread.</p>\n<p>The best option is to make use of <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">Swing <code>Timer</code></a>, for example...</p>\n<pre><code>public class CountdownPane extends JPanel {\n\n    private CountdownTimer countdownTimer;\n    private Timer timer;\n\n    public CountdownPane() {\n        countdownTimer = new CountdownTimer(Duration.ofSeconds(5));\n        JButton btn = new JButton(&quot;Destory the world&quot;);\n        timer = new Timer(500, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                Duration duration = countdownTimer.getTimeRemaining();\n                long seconds = duration.toSecondsPart();\n                if (seconds &lt;= 0) {\n                    countdownTimer.stop();\n                    timer.stop();\n                    btn.setText(&quot;Boom&quot;);\n                } else {\n                    btn.setText(format(duration));\n                }\n            }\n        });\n        timer.setInitialDelay(0);\n        setLayout(new GridBagLayout());\n        setBorder(new EmptyBorder(36, 36, 36, 36));\n        btn.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (countdownTimer.isRunning()) {\n                    countdownTimer.stop();\n                    timer.stop();\n                    btn.setText(&quot;Destory the world&quot;);\n                } else {\n                    countdownTimer.start();\n                    timer.start();\n                }\n            }\n        });\n        add(btn);\n    }\n\n    protected String format(Duration duration) {\n        long seconds = duration.toSecondsPart();\n        return String.format(&quot;%02d seconds&quot;, seconds);\n    }\n}\n</code></pre>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.time.Duration;\nimport java.time.Instant;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new CountdownPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class CountdownPane extends JPanel {\n\n        private CountdownTimer countdownTimer;\n        private Timer timer;\n\n        public CountdownPane() {\n            countdownTimer = new CountdownTimer(Duration.ofSeconds(5));\n            JButton btn = new JButton(&quot;Destory the world&quot;);\n            timer = new Timer(500, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    Duration duration = countdownTimer.getTimeRemaining();\n                    long seconds = duration.toSecondsPart();\n                    if (seconds &lt;= 0) {\n                        countdownTimer.stop();\n                        timer.stop();\n                        btn.setText(&quot;Boom&quot;);\n                    } else {\n                        btn.setText(format(duration));\n                    }\n                }\n            });\n            timer.setInitialDelay(0);\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(36, 36, 36, 36));\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (countdownTimer.isRunning()) {\n                        countdownTimer.stop();\n                        timer.stop();\n                        btn.setText(&quot;Destory the world&quot;);\n                    } else {\n                        countdownTimer.start();\n                        timer.start();\n                    }\n                }\n            });\n            add(btn);\n        }\n\n        protected String format(Duration duration) {\n            long seconds = duration.toSecondsPart();\n            return String.format(&quot;%02d seconds&quot;, seconds);\n        }\n    }\n\n    public class CountdownTimer {\n        private Instant startedAt;\n        private Duration duration;\n\n        public CountdownTimer(Duration duration) {\n            this.duration = duration.plusSeconds(1);\n        }\n\n        public boolean isRunning() {\n            return startedAt != null;\n        }\n\n        public void start() {\n            if (startedAt != null) {\n                return;\n            }\n            startedAt = Instant.now();\n        }\n\n        public void stop() {\n            startedAt = null;\n        }\n\n        public Duration getTimeRemaining() {\n            return duration.minus(getRunTime());\n        }\n\n        public Duration getRunTime() {\n            if (startedAt == null) {\n                return null;\n            }\n            return Duration.between(startedAt, Instant.now());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19811765,"reputation":17,"user_id":14510390,"display_name":"Scarlet Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72343841,"answer_count":1,"score":0,"last_activity_date":1653285472,"creation_date":1653283502,"question_id":72343574,"body_markdown":"So I&#39;m making this game which gives the player 30 seconds to choose an answer. If they choose an option, the timer resets back to the 30 seconds. \r\n\r\n\r\n\r\n    @Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\r\n        //the idea is that when this button is clicked, the timer starts.\r\n\t\tif(e.getSource() == button) {\r\n\r\n\t\t\t//random gui stuff which i won&#39;t include\r\n\r\n\r\n\r\n            //calls the method for timer\r\n            runner(); \r\n\r\n\t\t\t\r\n\r\n\t\t\t}\r\n\r\n\r\nThis is my runner() method: \r\n\r\n\r\n\r\n    public void runner() {\r\n\r\n        final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n\r\n        final Runnable runnable = new Runnable() {\r\n\t\t\t\r\n            int countdownStarter = 30;\r\n\r\n            public void run() {\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\t//this is my JLabel that prints out the timer\r\n\t\t\t\tlabel.setText(&quot;&quot; + countdownStarter);\r\n\t\t\t\t\r\n                countdownStarter--;\r\n\r\n                if (countdownStarter &lt; 0) {\r\n\r\n\r\n                    label.setText(&quot;&quot;);\r\n\r\n\t\t\t\t\t/*Random GUI stuff here I won&#39;t show*/ \r\n\r\n                    scheduler.shutdown();\r\n                }\r\n            }\r\n\r\n\r\nMy problem is, the timer does run when the button is clicked however it creates a new &quot;timer&quot; so on my GUI it just flickers between the two different times. For example if the already existing timer is at 5 seconds (left) and I click the button, \r\nthe JLabel text flickers between 5/30, 4/29, 3/28, 2/27 .. ect but in reality I just want it to stop the existing timer. \r\n\r\nNot sure what I can do and I could really appreciate any help since i&#39;m very new to swing and gui stuff. \r\n\r\nThanks!","title":"How to reset a countdown timer when the same button is pressed","body":"<p>So I'm making this game which gives the player 30 seconds to choose an answer. If they choose an option, the timer resets back to the 30 seconds.</p>\n<pre><code>@Override\npublic void actionPerformed(ActionEvent e) {\n\n    //the idea is that when this button is clicked, the timer starts.\n    if(e.getSource() == button) {\n\n        //random gui stuff which i won't include\n\n\n\n        //calls the method for timer\n        runner(); \n\n        \n\n        }\n</code></pre>\n<p>This is my runner() method:</p>\n<pre><code>public void runner() {\n\n    final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n\n    final Runnable runnable = new Runnable() {\n        \n        int countdownStarter = 30;\n\n        public void run() {\n\n            \n\n            //this is my JLabel that prints out the timer\n            label.setText(&quot;&quot; + countdownStarter);\n            \n            countdownStarter--;\n\n            if (countdownStarter &lt; 0) {\n\n\n                label.setText(&quot;&quot;);\n\n                /*Random GUI stuff here I won't show*/ \n\n                scheduler.shutdown();\n            }\n        }\n</code></pre>\n<p>My problem is, the timer does run when the button is clicked however it creates a new &quot;timer&quot; so on my GUI it just flickers between the two different times. For example if the already existing timer is at 5 seconds (left) and I click the button,\nthe JLabel text flickers between 5/30, 4/29, 3/28, 2/27 .. ect but in reality I just want it to stop the existing timer.</p>\n<p>Not sure what I can do and I could really appreciate any help since i'm very new to swing and gui stuff.</p>\n<p>Thanks!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8668,"page":1324,"page_size":100}
