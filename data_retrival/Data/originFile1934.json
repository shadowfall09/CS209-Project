{"items":[{"tags":["java","variables","instances"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":4,"creation_date":1425920142,"post_id":28947571,"comment_id":46149109,"body_markdown":"Look into `static` (i.e. class-scoped) fields.","body":"Look into <code>static</code> (i.e. class-scoped) fields."},{"owner":{"account_id":2737229,"reputation":6889,"user_id":2359643,"accept_rate":77,"display_name":"JNYRanger"},"score":1,"creation_date":1425920252,"post_id":28947571,"comment_id":46149177,"body_markdown":"That subclass Variable doesn&#39;t actually do anything.  It sounds like you are looking for a data structure to track the instances of your class.  This would be something that would be outside of your class such as java&#39;s [collection objects](http://www.tutorialspoint.com/java/java_collections.htm).  Static class variables can also be used for this purpose.","body":"That subclass Variable doesn&#39;t actually do anything.  It sounds like you are looking for a data structure to track the instances of your class.  This would be something that would be outside of your class such as java&#39;s <a href=\"http://www.tutorialspoint.com/java/java_collections.htm\" rel=\"nofollow noreferrer\">collection objects</a>.  Static class variables can also be used for this purpose."}],"answers":[{"tags":[],"owner":{"account_id":5503993,"reputation":831,"user_id":4372428,"display_name":"Matteo Rubini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1425920198,"creation_date":1425920198,"answer_id":28947620,"question_id":28947571,"body_markdown":"why not using a static counter?\r\n\r\n    public class Bicycle {\r\n    \r\n        private static int instanceCounter = 0;\r\n    \r\n        //instance variables\r\n        public int gear, speed, seatHeight;\r\n        public String color;\r\n    \r\n        //constructor\r\n        public Bicycle(int gear, int speed, int seatHeight, String color) {\r\n            gear = 0;\r\n            speed = 0;\r\n            seatHeight = 0;\r\n            color =&quot;Unknown&quot;;      \r\n    instanceCounter++;\r\n        }\r\n    \r\n        public int countInstances(){\r\n            return instanceCounter;\r\n        }\r\n    \r\n    ........","title":"How to Count Number of Instances of a Class","body":"<p>why not using a static counter?</p>\n\n<pre><code>public class Bicycle {\n\n    private static int instanceCounter = 0;\n\n    //instance variables\n    public int gear, speed, seatHeight;\n    public String color;\n\n    //constructor\n    public Bicycle(int gear, int speed, int seatHeight, String color) {\n        gear = 0;\n        speed = 0;\n        seatHeight = 0;\n        color =\"Unknown\";      \ninstanceCounter++;\n    }\n\n    public int countInstances(){\n        return instanceCounter;\n    }\n\n........\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1634578621,"creation_date":1425920220,"answer_id":28947625,"question_id":28947571,"body_markdown":"Since `static` variables are initialized only once, and they&#39;re shared between all instances, you can:\r\n\r\n    class MyClass {\r\n\r\n        private static int counter;\r\n    \r\n        public MyClass() {\r\n            //...\r\n            counter++;\r\n        }\r\n    \r\n        public static int getNumOfInstances() {\r\n            return counter;\r\n        }\r\n    }\r\nand to access the static field `counter` you can use `MyClass.getNumOfInstances()`\r\n\r\nRead more about `static` fields in the [JLS - 8.3.1.1. **static Fields**][1]:\r\n\r\n&gt; If a field is declared `static`, **there exists exactly one incarnation of the field, no matter how many instances (possibly zero) of the class may eventually be created**. A `static` field, sometimes called a class variable, is incarnated when the class is initialized (&#167;12.4).\r\n\r\n&lt;sup&gt; Note that `counter` is implicitly set to zero&lt;/sup&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.1.1","title":"How to Count Number of Instances of a Class","body":"<p>Since <code>static</code> variables are initialized only once, and they're shared between all instances, you can:</p>\n<pre><code>class MyClass {\n\n    private static int counter;\n\n    public MyClass() {\n        //...\n        counter++;\n    }\n\n    public static int getNumOfInstances() {\n        return counter;\n    }\n}\n</code></pre>\n<p>and to access the static field <code>counter</code> you can use <code>MyClass.getNumOfInstances()</code></p>\n<p>Read more about <code>static</code> fields in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.1.1\" rel=\"noreferrer\">JLS - 8.3.1.1. <strong>static Fields</strong></a>:</p>\n<blockquote>\n<p>If a field is declared <code>static</code>, <strong>there exists exactly one incarnation of the field, no matter how many instances (possibly zero) of the class may eventually be created</strong>. A <code>static</code> field, sometimes called a class variable, is incarnated when the class is initialized (§12.4).</p>\n</blockquote>\n<p><sup> Note that <code>counter</code> is implicitly set to zero</sup></p>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425920270,"creation_date":1425920270,"answer_id":28947637,"question_id":28947571,"body_markdown":"One basic approach is to declare a static numeric member field thats incremented each time the constructor is invoked.\r\n\r\n\r\n    public class Bicycle {\r\n    \r\n        //instance variables\r\n        public int gear, speed, seatHeight;\r\n        public String color;\r\n        public static int bicycleCount = 0;\r\n    \r\n        //constructor\r\n        public Bicycle(int gear, int speed, int seatHeight, String color) {\r\n            gear = 0;\r\n            speed = 0;\r\n            seatHeight = 0;\r\n            color =&quot;Unknown&quot;;\r\n            bicycleCount++;      \r\n        }\r\n        ...\r\n      }","title":"How to Count Number of Instances of a Class","body":"<p>One basic approach is to declare a static numeric member field thats incremented each time the constructor is invoked.</p>\n\n<pre><code>public class Bicycle {\n\n    //instance variables\n    public int gear, speed, seatHeight;\n    public String color;\n    public static int bicycleCount = 0;\n\n    //constructor\n    public Bicycle(int gear, int speed, int seatHeight, String color) {\n        gear = 0;\n        speed = 0;\n        seatHeight = 0;\n        color =\"Unknown\";\n        bicycleCount++;      \n    }\n    ...\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5309320,"reputation":1226,"user_id":4236207,"display_name":"hemant1900"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426079897,"creation_date":1425920530,"answer_id":28947722,"question_id":28947571,"body_markdown":"You just need static counter in class.\r\n\r\n    public class Bicycle {\r\n        private static volatile int instanceCounter;\r\n        \r\n        public Bicycle() {\r\n            instanceConter++; \r\n        }\r\n\r\n        public static int getNumOfInstances() {\r\n            return instanceCounter;\r\n        }\r\n\r\n        protected void finalize() {\r\n            instanceCounter--;\r\n        }\r\n    }\r\n\r\nAs mentioned in many comments `finalize()` is not recommended to use so there could be another approach to count the Bicycle instances - \r\n\r\n    public class Bicycle {\r\n    \r\n        private static final List&lt;PhantomReference&lt;Bicycle&gt;&gt; phantomReferences = new LinkedList&lt;PhantomReference&lt;Bicycle&gt;&gt;();\r\n        private static final ReferenceQueue&lt;Bicycle&gt; referenceQueue = new ReferenceQueue&lt;Bicycle&gt;();\r\n        private static final Object lock = new Object();\r\n        private static volatile int counter;\r\n        private static final Runnable referenceCleaner = new Runnable() {\r\n            public void run() {\r\n                while (true) {\r\n                    try {\r\n                        cleanReferences();\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    \r\n        static {\r\n            Thread t = new Thread(referenceCleaner);\r\n            t.setDaemon(true);\r\n            t.start();\r\n        }\r\n    \r\n        private Bicycle() {\r\n        }\r\n    \r\n        public static Bicycle getNewBicycle() {\r\n            Bicycle bicycle = new Bicycle();\r\n            counter++;\r\n            synchronized (lock) {\r\n                phantomReferences.add(new PhantomReference&lt;Bicycle&gt;(new Bicycle(), referenceQueue));\r\n            }\r\n            System.out.println(&quot;Bicycle added to heap, count: &quot; + counter);\r\n            return bicycle;\r\n        }\r\n    \r\n        private static void cleanReferences() {\r\n            try {\r\n                PhantomReference reference = (PhantomReference) referenceQueue.remove();\r\n                counter--;\r\n                synchronized (lock) {\r\n                    phantomReferences.remove(reference);\r\n                }\r\n                System.out.println(&quot;Bicycle removed from heap, count: &quot; + counter);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static int getNumOfBicycles() {\r\n            return counter;\r\n        }\r\n    }\r\n\r\n    public class BicycleTest {\r\n    \r\n        public static void main(String[] args) {\r\n            int i = 0;\r\n            while (i++ &lt; 1000) {\r\n                Bicycle.getNewBicycle();\r\n            }\r\n            while (Bicycle.getNumOfBicycles() &gt; 0) {\r\n                try {\r\n                    Thread.sleep(1000);\r\n                    System.gc(); // just a request\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to Count Number of Instances of a Class","body":"<p>You just need static counter in class.</p>\n\n<pre><code>public class Bicycle {\n    private static volatile int instanceCounter;\n\n    public Bicycle() {\n        instanceConter++; \n    }\n\n    public static int getNumOfInstances() {\n        return instanceCounter;\n    }\n\n    protected void finalize() {\n        instanceCounter--;\n    }\n}\n</code></pre>\n\n<p>As mentioned in many comments <code>finalize()</code> is not recommended to use so there could be another approach to count the Bicycle instances - </p>\n\n<pre><code>public class Bicycle {\n\n    private static final List&lt;PhantomReference&lt;Bicycle&gt;&gt; phantomReferences = new LinkedList&lt;PhantomReference&lt;Bicycle&gt;&gt;();\n    private static final ReferenceQueue&lt;Bicycle&gt; referenceQueue = new ReferenceQueue&lt;Bicycle&gt;();\n    private static final Object lock = new Object();\n    private static volatile int counter;\n    private static final Runnable referenceCleaner = new Runnable() {\n        public void run() {\n            while (true) {\n                try {\n                    cleanReferences();\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    };\n\n    static {\n        Thread t = new Thread(referenceCleaner);\n        t.setDaemon(true);\n        t.start();\n    }\n\n    private Bicycle() {\n    }\n\n    public static Bicycle getNewBicycle() {\n        Bicycle bicycle = new Bicycle();\n        counter++;\n        synchronized (lock) {\n            phantomReferences.add(new PhantomReference&lt;Bicycle&gt;(new Bicycle(), referenceQueue));\n        }\n        System.out.println(\"Bicycle added to heap, count: \" + counter);\n        return bicycle;\n    }\n\n    private static void cleanReferences() {\n        try {\n            PhantomReference reference = (PhantomReference) referenceQueue.remove();\n            counter--;\n            synchronized (lock) {\n                phantomReferences.remove(reference);\n            }\n            System.out.println(\"Bicycle removed from heap, count: \" + counter);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static int getNumOfBicycles() {\n        return counter;\n    }\n}\n\npublic class BicycleTest {\n\n    public static void main(String[] args) {\n        int i = 0;\n        while (i++ &lt; 1000) {\n            Bicycle.getNewBicycle();\n        }\n        while (Bicycle.getNumOfBicycles() &gt; 0) {\n            try {\n                Thread.sleep(1000);\n                System.gc(); // just a request\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3930836,"reputation":572,"user_id":4219136,"display_name":"Danilo Gomes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484249023,"creation_date":1425920549,"answer_id":28947729,"question_id":28947571,"body_markdown":"In addition, you should override finalize method to decrement the counter\r\n\r\n    public class Bicycle {\r\n    ...\r\n        public static int instances = 0;\r\n\r\n        {\r\n            ++instances; //separate counting from constructor\r\n        }\r\n    ...\r\n        public Bicycle(int gear, int speed, int seatHeight, String color) {\r\n            gear = 0;\r\n            speed = 0;\r\n            seatHeight = 0;\r\n            color =&quot;Unknown&quot;;\r\n        }\r\n    \r\n        @Override\r\n        protected void finalize() {\r\n            super.finalize();\r\n            --instances;\r\n        }\r\n    \r\n    }\r\n\r\nYou should have in mind that static variables are CLASS scoped (there is no one for each instance, only one per class)\r\n\r\nThen, you could demonstrate instance decrement with:\r\n\r\n    ...\r\n    System.out.println(&quot;Count:&quot; + Bicycle.getNumOfInstances()); // 2\r\n    bicycle1 = null;\r\n    bicycle2 = null;\r\n    System.gc(); // not guaranteed to collect but it will in this case\r\n\tThread.sleep(2000); // you expect to check again after some time\r\n    System.out.println(&quot;Count again:&quot; + Bicycle.getNumOfInstances()); // 0","title":"How to Count Number of Instances of a Class","body":"<p>In addition, you should override finalize method to decrement the counter</p>\n\n<pre><code>public class Bicycle {\n...\n    public static int instances = 0;\n\n    {\n        ++instances; //separate counting from constructor\n    }\n...\n    public Bicycle(int gear, int speed, int seatHeight, String color) {\n        gear = 0;\n        speed = 0;\n        seatHeight = 0;\n        color =\"Unknown\";\n    }\n\n    @Override\n    protected void finalize() {\n        super.finalize();\n        --instances;\n    }\n\n}\n</code></pre>\n\n<p>You should have in mind that static variables are CLASS scoped (there is no one for each instance, only one per class)</p>\n\n<p>Then, you could demonstrate instance decrement with:</p>\n\n<pre><code>...\nSystem.out.println(\"Count:\" + Bicycle.getNumOfInstances()); // 2\nbicycle1 = null;\nbicycle2 = null;\nSystem.gc(); // not guaranteed to collect but it will in this case\nThread.sleep(2000); // you expect to check again after some time\nSystem.out.println(\"Count again:\" + Bicycle.getNumOfInstances()); // 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3788600,"reputation":321,"user_id":3145784,"display_name":"Lee Tuấn"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1507824862,"creation_date":1507824862,"answer_id":46714366,"question_id":28947571,"body_markdown":"Pleae try the tool of java \r\n\r\n    jmap -histo &lt;PDID&gt;\r\n\r\nOut put \r\n\r\n         num     #instances         #bytes  class name\r\n    ----------------------------------------------\r\n       1:       1105141       97252408  java.lang.reflect.Method\r\n       2:       3603562       86485488  java.lang.Double\r\n       3:       1191098       28586352  java.lang.String\r\n       4:        191694       27035744  [C\r\n\r\n\r\n","title":"How to Count Number of Instances of a Class","body":"<p>Pleae try the tool of java </p>\n\n<pre><code>jmap -histo &lt;PDID&gt;\n</code></pre>\n\n<p>Out put </p>\n\n<pre><code>     num     #instances         #bytes  class name\n----------------------------------------------\n   1:       1105141       97252408  java.lang.reflect.Method\n   2:       3603562       86485488  java.lang.Double\n   3:       1191098       28586352  java.lang.String\n   4:        191694       27035744  [C\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9144213,"reputation":11,"user_id":6801068,"display_name":"Alexandros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606384789,"creation_date":1527979028,"answer_id":50661747,"question_id":28947571,"body_markdown":"Alternatively, you can create a counter with an [initializer block](https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html)  and a static variable.\r\n\r\n    class SomeClass\r\n    {\r\n        private static int instanceCounter;\r\n        {\r\n             instanceCounter++;\r\n        }\r\n    }\r\nInitializer blocks get copied by the compiler into every constructor, so, you will have to write it once no matter how many constructors you will need (As referred into the above link). The block in {} runs every time you create a new object of the class and increases the variable counter by one.\r\nAnd of course get the counter by something like:\r\n\r\n    public static int getInstanceCounter()\r\n    {\r\n        return instanceCounter;\r\n    }\r\n\r\nor directly\r\n\r\n    int numOfInstances = SomeClass.instanceCounter;\r\n If you do not make numOfInstances private\r\n\r\n","title":"How to Count Number of Instances of a Class","body":"<p>Alternatively, you can create a counter with an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">initializer block</a>  and a static variable.</p>\n<pre><code>class SomeClass\n{\n    private static int instanceCounter;\n    {\n         instanceCounter++;\n    }\n}\n</code></pre>\n<p>Initializer blocks get copied by the compiler into every constructor, so, you will have to write it once no matter how many constructors you will need (As referred into the above link). The block in {} runs every time you create a new object of the class and increases the variable counter by one.\nAnd of course get the counter by something like:</p>\n<pre><code>public static int getInstanceCounter()\n{\n    return instanceCounter;\n}\n</code></pre>\n<p>or directly</p>\n<pre><code>int numOfInstances = SomeClass.instanceCounter;\n</code></pre>\n<p>If you do not make numOfInstances private</p>\n"},{"tags":[],"owner":{"account_id":14430537,"reputation":1,"user_id":10424029,"display_name":"user10424029"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1538056118,"creation_date":1538049347,"answer_id":52536452,"question_id":28947571,"body_markdown":"    public class Number_Objects {\r\n    \t\r\n    \tstatic int count=0;\r\n    \tNumber_Objects(){\r\n    \t\tcount++;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tNumber_Objects ob1=new Number_Objects();\r\n    \t\tNumber_Objects ob2=new Number_Objects();\r\n    \t\tNumber_Objects obj3=new Number_Objects();\r\n    \t\tSystem.out.print(&quot;Number of objects created :&quot;+count);\r\n    \t}\r\n    \r\n    }","title":"How to Count Number of Instances of a Class","body":"<pre><code>public class Number_Objects {\n\n    static int count=0;\n    Number_Objects(){\n        count++;\n    }\n\n    public static void main(String[] args) {\n\n        Number_Objects ob1=new Number_Objects();\n        Number_Objects ob2=new Number_Objects();\n        Number_Objects obj3=new Number_Objects();\n        System.out.print(\"Number of objects created :\"+count);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":717890,"reputation":3568,"user_id":648608,"accept_rate":82,"display_name":"karto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600648195,"creation_date":1600648195,"answer_id":63984859,"question_id":28947571,"body_markdown":"If you want to count and test instances based on the number of objects created, you can use a loop to see what really is happening. Create a constructor and use a static counter\r\n\r\n    public class CountInstances {\r\n\tpublic static int count;\r\n\tpublic CountInstances() {\r\n\t\tcount++;\r\n\t}\r\n\tpublic int getInstaces() {\r\n\t\treturn count;\r\n\t}\r\n\tpublic static void main(String []args) {\r\n\t\tfor(int i= 0; i&lt;10; i++) {\t\r\n\t\t\tnew CountInstances();\r\n\t\t}\t\t\r\n\t\tSystem.out.println(CountInstances.count);\r\n\t  }\t\r\n    }","title":"How to Count Number of Instances of a Class","body":"<p>If you want to count and test instances based on the number of objects created, you can use a loop to see what really is happening. Create a constructor and use a static counter</p>\n<pre><code>public class CountInstances {\npublic static int count;\npublic CountInstances() {\n    count++;\n}\npublic int getInstaces() {\n    return count;\n}\npublic static void main(String []args) {\n    for(int i= 0; i&lt;10; i++) {  \n        new CountInstances();\n    }       \n    System.out.println(CountInstances.count);\n  } \n}\n</code></pre>\n"}],"owner":{"account_id":5230714,"reputation":213,"user_id":4181145,"accept_rate":75,"display_name":"RifferRaffers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76868,"favorite_count":0,"down_vote_count":2,"up_vote_count":15,"accepted_answer_id":28947625,"answer_count":9,"score":13,"last_activity_date":1634578621,"creation_date":1425920026,"question_id":28947571,"body_markdown":"Can anyone tell me how to count the number of instances of a class?\r\n\r\nHere&#39;s my code \r\n\r\n    public class Bicycle {\r\n        \r\n        //instance variables\r\n        public int gear, speed, seatHeight;\r\n        public String color;\r\n    \r\n        //constructor\r\n        public Bicycle(int gear, int speed, int seatHeight, String color) {\r\n    \t    gear = 0;\r\n            speed = 0;\r\n            seatHeight = 0;\r\n            color =&quot;Unknown&quot;;      \r\n        }\r\n\r\n\t    //getters and setters\r\n        public int getGear() {\r\n            return gear;\r\n        }\r\n        public void setGear(int Gear) {\r\n            this.gear = Gear;\r\n        }\r\n    \r\n        public int getSpeed() {\r\n            return speed;\r\n        }\r\n        public void setSpeed(int Speed){\r\n    \t    this.speed = Speed;\r\n        }\r\n    \r\n        public int getSeatHeight() {\r\n            return seatHeight;\r\n        }\r\n        public void setSeatHeight(int SeatHeight) {\r\n            this.seatHeight = SeatHeight;\r\n        }\r\n    \r\n        public String getColor() {\r\n            return color;\r\n        }\r\n        public void setColor(String Color) {\r\n            this.color = Color;\r\n        }\r\n  \t\r\n     }//end class\r\n\r\n\r\n\r\n    public class Variable extends Bicycle {\r\n\r\n\t    public Variable(int gear, int speed, int seatHeight, String color) {\r\n\t\t    super(gear, speed, seatHeight, color);\r\n\t\t\r\n\t    }\r\n\r\n    }//end class\r\n\r\n\r\n    public class Tester {\r\n\t\r\n        public static void main(String args[]){\r\n    \t\r\n           \r\n           Bicycle bicycle1 = new Bicycle(0, 0, 0, null);\r\n           bicycle1.setColor(&quot;red&quot;);\r\n           System.out.println(&quot;Color: &quot;+bicycle1.getColor());\r\n           bicycle1.setSeatHeight(4);\r\n           System.out.println(&quot;Seat Height: &quot;+bicycle1.getSeatHeight());\r\n           bicycle1.setSpeed(10);\r\n           System.out.println(&quot;Speed: &quot;+bicycle1.getSpeed());\r\n           bicycle1.setGear(6);\r\n           System.out.println(&quot;Gear: &quot;+bicycle1.getGear());\r\n       \r\n           System.out.println(&quot;&quot;);//space\r\n       \r\n           Bicycle bicycle2 = new Bicycle(0, 0, 0, null);\r\n           bicycle2.setColor(&quot;black&quot;);\r\n           System.out.println(&quot;Color: &quot;+bicycle2.getColor());\r\n           bicycle2.setSeatHeight(6);\r\n           System.out.println(&quot;Seat Height: &quot;+bicycle2.getSeatHeight());\r\n           bicycle2.setSpeed(12);\r\n           System.out.println(&quot;Speed: &quot;+bicycle2.getSpeed());\r\n           bicycle2.setGear(6);\r\n           System.out.println(&quot;Gear: &quot;+bicycle2.getGear());\r\n       \r\n           System.out.println(&quot;&quot;);//space\r\n\r\n        }//end method\r\n     }//end class\r\n\r\nThe class variable is to be used to keep count of the number of instances of the Bicycle class created and the tester class creates a number of instances of the Bicycle class and demonstrates the workings of the Bicycle class and the class variable. I&#39;ve looked all over the internet and I can&#39;t seem to find anything, could someone show me how to do it please, thanks in advance :)","title":"How to Count Number of Instances of a Class","body":"<p>Can anyone tell me how to count the number of instances of a class?</p>\n\n<p>Here's my code </p>\n\n<pre><code>public class Bicycle {\n\n    //instance variables\n    public int gear, speed, seatHeight;\n    public String color;\n\n    //constructor\n    public Bicycle(int gear, int speed, int seatHeight, String color) {\n        gear = 0;\n        speed = 0;\n        seatHeight = 0;\n        color =\"Unknown\";      \n    }\n\n    //getters and setters\n    public int getGear() {\n        return gear;\n    }\n    public void setGear(int Gear) {\n        this.gear = Gear;\n    }\n\n    public int getSpeed() {\n        return speed;\n    }\n    public void setSpeed(int Speed){\n        this.speed = Speed;\n    }\n\n    public int getSeatHeight() {\n        return seatHeight;\n    }\n    public void setSeatHeight(int SeatHeight) {\n        this.seatHeight = SeatHeight;\n    }\n\n    public String getColor() {\n        return color;\n    }\n    public void setColor(String Color) {\n        this.color = Color;\n    }\n\n }//end class\n\n\n\npublic class Variable extends Bicycle {\n\n    public Variable(int gear, int speed, int seatHeight, String color) {\n        super(gear, speed, seatHeight, color);\n\n    }\n\n}//end class\n\n\npublic class Tester {\n\n    public static void main(String args[]){\n\n\n       Bicycle bicycle1 = new Bicycle(0, 0, 0, null);\n       bicycle1.setColor(\"red\");\n       System.out.println(\"Color: \"+bicycle1.getColor());\n       bicycle1.setSeatHeight(4);\n       System.out.println(\"Seat Height: \"+bicycle1.getSeatHeight());\n       bicycle1.setSpeed(10);\n       System.out.println(\"Speed: \"+bicycle1.getSpeed());\n       bicycle1.setGear(6);\n       System.out.println(\"Gear: \"+bicycle1.getGear());\n\n       System.out.println(\"\");//space\n\n       Bicycle bicycle2 = new Bicycle(0, 0, 0, null);\n       bicycle2.setColor(\"black\");\n       System.out.println(\"Color: \"+bicycle2.getColor());\n       bicycle2.setSeatHeight(6);\n       System.out.println(\"Seat Height: \"+bicycle2.getSeatHeight());\n       bicycle2.setSpeed(12);\n       System.out.println(\"Speed: \"+bicycle2.getSpeed());\n       bicycle2.setGear(6);\n       System.out.println(\"Gear: \"+bicycle2.getGear());\n\n       System.out.println(\"\");//space\n\n    }//end method\n }//end class\n</code></pre>\n\n<p>The class variable is to be used to keep count of the number of instances of the Bicycle class created and the tester class creates a number of instances of the Bicycle class and demonstrates the workings of the Bicycle class and the class variable. I've looked all over the internet and I can't seem to find anything, could someone show me how to do it please, thanks in advance :)</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":11953108,"reputation":1423,"user_id":8746228,"display_name":"adarsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634578390,"creation_date":1634578390,"answer_id":69620239,"question_id":69620063,"body_markdown":"You can use below construct to check if value of at least one element in `res` is greater than 0:\r\n```java\r\nIntStream.range(0, res.length).filter(i -&gt; res[i] &gt; 0).findAny().isPresent();\r\n```","title":"Unable to return the value in lambda expression using break condition","body":"<p>You can use below construct to check if value of at least one element in <code>res</code> is greater than 0:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.range(0, res.length).filter(i -&gt; res[i] &gt; 0).findAny().isPresent();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16355149,"reputation":1659,"user_id":11812518,"display_name":"Petar Bivolarski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634578451,"creation_date":1634578451,"answer_id":69620249,"question_id":69620063,"body_markdown":"Try using [anyMatch()][1], which returns `true` on the first result that matches the condition - or `false` if none:\r\n\r\n     boolean match = IntStream.range(0, res.length).anyMatch(i -&gt; res[i] &gt; 0);\r\n     flag[0] = match;\r\n     return flag[0];\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-","title":"Unable to return the value in lambda expression using break condition","body":"<p>Try using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">anyMatch()</a>, which returns <code>true</code> on the first result that matches the condition - or <code>false</code> if none:</p>\n<pre><code> boolean match = IntStream.range(0, res.length).anyMatch(i -&gt; res[i] &gt; 0);\n flag[0] = match;\n return flag[0];\n</code></pre>\n"}],"owner":{"account_id":22913948,"reputation":72,"user_id":17050817,"display_name":"man123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1634578502,"creation_date":1634577455,"question_id":69620063,"body_markdown":"I am trying to write a coding problem using java8 lambda expression. but when it coming to break from the loop, i am stuck.\r\n**Note: i am aware that break can&#39;t be used inside the lambda expression. I tried to use \r\n```findAny()``` but didn&#39;t exactly know how to use that in my case here.**\r\n     \r\n\r\n ```\r\n         final boolean []flag = {true};\r\n        IntStream.range(0,res.length).filter((i)-&gt;{\r\n            if(res[i]&gt;0){\r\n                flag[0]=false;\r\n                 break;\r\n            }\r\n            else{\r\n                flag[0]=true;\r\n            }\r\n        });\r\n        return flag[0];\r\n    }\r\n```\r\n\r\n","title":"Unable to return the value in lambda expression using break condition","body":"<p>I am trying to write a coding problem using java8 lambda expression. but when it coming to break from the loop, i am stuck.\n<strong>Note: i am aware that break can't be used inside the lambda expression. I tried to use\n<code>findAny()</code> but didn't exactly know how to use that in my case here.</strong></p>\n<pre><code>        final boolean []flag = {true};\n       IntStream.range(0,res.length).filter((i)-&gt;{\n           if(res[i]&gt;0){\n               flag[0]=false;\n                break;\n           }\n           else{\n               flag[0]=true;\n           }\n       });\n       return flag[0];\n   }\n</code></pre>\n"},{"tags":["java","tensorflow","kotlin"],"answers":[{"tags":[],"owner":{"account_id":15738329,"reputation":129,"user_id":11356588,"display_name":"Rufan Khokhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634578345,"creation_date":1634578345,"answer_id":69620231,"question_id":69486473,"body_markdown":"After a lot of research, I have found the solution but it&#39;s not optimal but it works.\r\n\r\n**Add these dependencies**\r\n\r\n      // to run yamnet.tflite model\r\n     implementation &#39;org.tensorflow:tensorflow-lite-task-audio:0.2.0&#39;\r\n      // prepare input file for model\r\n     implementation(&quot;com.google.guava:guava:31.0.1-android&quot;)\r\n     implementation &#39;com.arthenica:ffmpeg-kit-full:4.5&#39;\r\n\r\n**Run this code for preparing and processing input .wav or .amr file**\r\n\r\n\r\n    val srcFile =File(&quot;src_file_path&quot;)\r\n    // load and prepare model\r\n    val classifier = AudioClassifier.createFromFile(this, MODEL_FILE)\r\n    val audioTensor = classifier.createInputTensorAudio()\r\n    // temp file\r\n    val tempFile = File.createTempFile(System.currentTimeMillis().toString(),&quot;.wav&quot;)\r\n\r\n      if (!tempFile.exists()) {\r\n          tempFile.createNewFile()\r\n                }\r\n\r\n    // make input file required input for model model\r\n    FFmpegKit.execute(&quot;-i $srcFile -ar 16000 -ac 1 -y ${tempFile.absolutePath}&quot;)\r\n\r\n     val musicList = ArrayList&lt;Short&gt;()\r\n        val dis = LittleEndianDataInputStream(FileInputStream(tempFile))\r\n        while (true) {\r\n            try {\r\n                val d = dis.readShort()\r\n                musicList.add(d)\r\n            } catch (e: EOFException) {\r\n                break\r\n            }\r\n        }\r\n        // The input must be normalized to floats between -1 and 1.\r\n        // To normalize it, we just need to divide all the values by 2**16 or in our \r\n       //code, MAX_ABS_INT16 = 32768\r\n        val floatsForInference = FloatArray(musicList.size)\r\n        for ((index, value) in musicList.withIndex()) {\r\n            floatsForInference[index] = (value / 32768F)\r\n        }\r\n    \r\n       audioTensor.load(floatsForInference)\r\n       val output = classifier.classify(audioTensor)\r\n\r\n\r\nThat&#39;s it\r\n        \r\n    \r\n    \r\n\r\n","title":"how to prepare .amr or .wav file for yamnet.tflite model in kotlin or java","body":"<p>After a lot of research, I have found the solution but it's not optimal but it works.</p>\n<p><strong>Add these dependencies</strong></p>\n<pre><code>  // to run yamnet.tflite model\n implementation 'org.tensorflow:tensorflow-lite-task-audio:0.2.0'\n  // prepare input file for model\n implementation(&quot;com.google.guava:guava:31.0.1-android&quot;)\n implementation 'com.arthenica:ffmpeg-kit-full:4.5'\n</code></pre>\n<p><strong>Run this code for preparing and processing input .wav or .amr file</strong></p>\n<pre><code>val srcFile =File(&quot;src_file_path&quot;)\n// load and prepare model\nval classifier = AudioClassifier.createFromFile(this, MODEL_FILE)\nval audioTensor = classifier.createInputTensorAudio()\n// temp file\nval tempFile = File.createTempFile(System.currentTimeMillis().toString(),&quot;.wav&quot;)\n\n  if (!tempFile.exists()) {\n      tempFile.createNewFile()\n            }\n\n// make input file required input for model model\nFFmpegKit.execute(&quot;-i $srcFile -ar 16000 -ac 1 -y ${tempFile.absolutePath}&quot;)\n\n val musicList = ArrayList&lt;Short&gt;()\n    val dis = LittleEndianDataInputStream(FileInputStream(tempFile))\n    while (true) {\n        try {\n            val d = dis.readShort()\n            musicList.add(d)\n        } catch (e: EOFException) {\n            break\n        }\n    }\n    // The input must be normalized to floats between -1 and 1.\n    // To normalize it, we just need to divide all the values by 2**16 or in our \n   //code, MAX_ABS_INT16 = 32768\n    val floatsForInference = FloatArray(musicList.size)\n    for ((index, value) in musicList.withIndex()) {\n        floatsForInference[index] = (value / 32768F)\n    }\n\n   audioTensor.load(floatsForInference)\n   val output = classifier.classify(audioTensor)\n</code></pre>\n<p>That's it</p>\n"}],"owner":{"account_id":15738329,"reputation":129,"user_id":11356588,"display_name":"Rufan Khokhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634578345,"creation_date":1633633079,"question_id":69486473,"body_markdown":"I&#39;m trying to prepare the input for yamnet.tflite model by using this code.\r\nI used this code from GitHub.\r\n\r\n``` \r\nimport java.io.BufferedInputStream\r\nimport java.io.DataInputStream\r\nimport java.io.File\r\nimport java.io.FileInputStream\r\nimport java.nio.ByteBuffer\r\nimport java.nio.ByteOrder\r\n\r\n\r\nobject AudioConverter {\r\n    fun readAudioSimple(path: File): FloatArray {\r\n        val input =\r\n            BufferedInputStream(FileInputStream(path))\r\n        val buff = ByteArray(path.length().toInt())\r\n        val dis = DataInputStream(input)\r\n        dis.readFully(buff)\r\n        // remove wav header at first 44 bytes\r\n        return floatMe(shortMe(buff.sliceArray(44 until buff.size)) ?: ShortArray(0)) ?: FloatArray(\r\n            0\r\n        )\r\n    }\r\n\r\n    fun FloatArray.sliceTo(step: Int): List&lt;FloatArray&gt; {\r\n        val slicedAudio = arrayListOf&lt;FloatArray&gt;()\r\n        var startAt = 0\r\n        var endAt = 15600\r\n        val stepSize = if (step != 0) (15600 * (1f / (2 * step))).toInt() else 0\r\n        while ((startAt + 15600) &lt; this.size) {\r\n            if (startAt != 0) {\r\n                startAt = endAt - stepSize\r\n                endAt = startAt + 15600\r\n            }\r\n            slicedAudio.add(this.copyOfRange(startAt, endAt))\r\n            startAt = endAt\r\n        }\r\n        return slicedAudio\r\n    }\r\n\r\n    private fun shortMe(bytes: ByteArray): ShortArray {\r\n        val out = ShortArray(bytes.size / 2)\r\n        ByteBuffer.wrap(bytes).order(ByteOrder.LITTLE_ENDIAN).asShortBuffer().get(out)\r\n        return out\r\n    }\r\n\r\n    private fun floatMe(pcms: ShortArray): FloatArray {\r\n        val floats = FloatArray(pcms.size)\r\n        pcms.forEachIndexed { index, sh -&gt;\r\n            // float to -1,+1\r\n            floats[index] = sh.toFloat() / 32768.0f\r\n            // floats[index] = sh.toFloat() / 16000.0f\r\n        }\r\n        return floats\r\n    }\r\n\r\n\r\n}\r\n ```\r\n**And use this class**\r\n\r\n```\r\n//input wav file\r\n AudioConverter.readAudioSimple(file).sliceTo(0)\r\n                    .forEach { \r\n                        audioTensor.load(it)\r\n                        classifier.classify(audioTensor)\r\n                    }\r\n ```\r\n\r\nBut the model generates the wrong results. Please let me know how to prepare the .wav file in the right way.\r\n\r\nplease help me, thanks in advance\r\n\r\n\r\n","title":"how to prepare .amr or .wav file for yamnet.tflite model in kotlin or java","body":"<p>I'm trying to prepare the input for yamnet.tflite model by using this code.\nI used this code from GitHub.</p>\n<pre><code>import java.io.BufferedInputStream\nimport java.io.DataInputStream\nimport java.io.File\nimport java.io.FileInputStream\nimport java.nio.ByteBuffer\nimport java.nio.ByteOrder\n\n\nobject AudioConverter {\n    fun readAudioSimple(path: File): FloatArray {\n        val input =\n            BufferedInputStream(FileInputStream(path))\n        val buff = ByteArray(path.length().toInt())\n        val dis = DataInputStream(input)\n        dis.readFully(buff)\n        // remove wav header at first 44 bytes\n        return floatMe(shortMe(buff.sliceArray(44 until buff.size)) ?: ShortArray(0)) ?: FloatArray(\n            0\n        )\n    }\n\n    fun FloatArray.sliceTo(step: Int): List&lt;FloatArray&gt; {\n        val slicedAudio = arrayListOf&lt;FloatArray&gt;()\n        var startAt = 0\n        var endAt = 15600\n        val stepSize = if (step != 0) (15600 * (1f / (2 * step))).toInt() else 0\n        while ((startAt + 15600) &lt; this.size) {\n            if (startAt != 0) {\n                startAt = endAt - stepSize\n                endAt = startAt + 15600\n            }\n            slicedAudio.add(this.copyOfRange(startAt, endAt))\n            startAt = endAt\n        }\n        return slicedAudio\n    }\n\n    private fun shortMe(bytes: ByteArray): ShortArray {\n        val out = ShortArray(bytes.size / 2)\n        ByteBuffer.wrap(bytes).order(ByteOrder.LITTLE_ENDIAN).asShortBuffer().get(out)\n        return out\n    }\n\n    private fun floatMe(pcms: ShortArray): FloatArray {\n        val floats = FloatArray(pcms.size)\n        pcms.forEachIndexed { index, sh -&gt;\n            // float to -1,+1\n            floats[index] = sh.toFloat() / 32768.0f\n            // floats[index] = sh.toFloat() / 16000.0f\n        }\n        return floats\n    }\n\n\n}\n</code></pre>\n<p><strong>And use this class</strong></p>\n<pre><code>//input wav file\n AudioConverter.readAudioSimple(file).sliceTo(0)\n                    .forEach { \n                        audioTensor.load(it)\n                        classifier.classify(audioTensor)\n                    }\n</code></pre>\n<p>But the model generates the wrong results. Please let me know how to prepare the .wav file in the right way.</p>\n<p>please help me, thanks in advance</p>\n"},{"tags":["java","json","parsing"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1493667943,"post_id":43724937,"comment_id":74494537,"body_markdown":"JsonProperty: http://www.baeldung.com/jackson-annotations#highlighter_520754","body":"JsonProperty: <a href=\"http://www.baeldung.com/jackson-annotations#highlighter_520754\" rel=\"nofollow noreferrer\">baeldung.com/jackson-annotations#highlighter_520754</a>"},{"owner":{"account_id":442905,"reputation":790,"user_id":3191094,"display_name":"yogidilip"},"score":0,"creation_date":1493670442,"post_id":43724937,"comment_id":74495707,"body_markdown":"You wanna just parse certain fields out of the JSON or convert the whole JSON to mirror Java hierarchy objects?","body":"You wanna just parse certain fields out of the JSON or convert the whole JSON to mirror Java hierarchy objects?"},{"owner":{"account_id":7830507,"reputation":2154,"user_id":7220869,"accept_rate":62,"display_name":"JayC"},"score":0,"creation_date":1493670529,"post_id":43724937,"comment_id":74495750,"body_markdown":"@yogidilip I personally just want certain fields out of the json. I&#39;ve been attempting, and following guides. I just want the values inside &quot;Credentials&quot;","body":"@yogidilip I personally just want certain fields out of the json. I&#39;ve been attempting, and following guides. I just want the values inside &quot;Credentials&quot;"},{"owner":{"account_id":442905,"reputation":790,"user_id":3191094,"display_name":"yogidilip"},"score":0,"creation_date":1493670809,"post_id":43724937,"comment_id":74495871,"body_markdown":"In that case your POJO doesn&#39;t have to follow a certain hierarchy/structure. You can parse JSON manually and set only the fields you are interested in. Follow this example to parse https://examples.javacodegeeks.com/core-java/json/java-json-parser-example/","body":"In that case your POJO doesn&#39;t have to follow a certain hierarchy/structure. You can parse JSON manually and set only the fields you are interested in. Follow this example to parse <a href=\"https://examples.javacodegeeks.com/core-java/json/java-json-parser-example/\" rel=\"nofollow noreferrer\">examples.javacodegeeks.com/core-java/json/&hellip;</a>"},{"owner":{"account_id":7830507,"reputation":2154,"user_id":7220869,"accept_rate":62,"display_name":"JayC"},"score":0,"creation_date":1493670938,"post_id":43724937,"comment_id":74495922,"body_markdown":"Thank you! The heirarchy was very confusing. Another question. if i add another service I would have two field named &quot;credentials&quot; how would that work? Updated post.","body":"Thank you! The heirarchy was very confusing. Another question. if i add another service I would have two field named &quot;credentials&quot; how would that work? Updated post."},{"owner":{"account_id":442905,"reputation":790,"user_id":3191094,"display_name":"yogidilip"},"score":0,"creation_date":1493673600,"post_id":43724937,"comment_id":74497077,"body_markdown":"You can always loop through `JSONArray` credentials and extract whatever you want.","body":"You can always loop through <code>JSONArray</code> credentials and extract whatever you want."}],"answers":[{"tags":[],"owner":{"account_id":442905,"reputation":790,"user_id":3191094,"display_name":"yogidilip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1493674384,"creation_date":1493674384,"answer_id":43726856,"question_id":43724937,"body_markdown":"Check below solution and see if it fulfills your need. You can build on to it if you need to parse more fields.\r\n\r\n\r\n    import java.util.Iterator;\r\n    \r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n    \r\n    public class JsonParser {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tString VCAP_Services = &quot;{\\&quot;userProvided\\&quot;: [{\\&quot;credentials\\&quot;: {\\&quot;accessTokenUri\\&quot;: \\&quot;tokenurl\\&quot;,\\&quot;apiUrl\\&quot;: \\&quot;apiurl\\&quot;,\\&quot;clientId\\&quot;: \\&quot;typeofID\\&quot;,\\&quot;clientSecret\\&quot;: \\&quot;secretAf\\&quot;,\\&quot;scope\\&quot;: \\&quot;none\\&quot;},\\&quot;syslog_drain_url\\&quot;: \\&quot;\\&quot;,\\&quot;volume_mounts\\&quot;: [],\\&quot;label\\&quot;: \\&quot;user-provided\\&quot;,\\&quot;name\\&quot;: \\&quot;OAuth2\\&quot;,\\&quot;tags\\&quot;: []},{\\&quot;credentials\\&quot;: {\\&quot;jdbcUrl\\&quot;: \\&quot;jdbc:oracle:connection[host]:[port]/service\\&quot;,\\&quot;spring.datasource.driver-class-name\\&quot;: \\&quot;oracle.jdbc.OracleDriver\\&quot;,\\&quot;spring.datasource.initialize\\&quot;: \\&quot;false\\&quot;},\\&quot;syslog_drain_url\\&quot;: \\&quot;\\&quot;,\\&quot;volume_mounts\\&quot;: [],\\&quot;label\\&quot;: \\&quot;user-provided\\&quot;,\\&quot;name\\&quot;: \\&quot;Database\\&quot;,\\&quot;tags\\&quot;: [] } ] } &quot;;\r\n    \t\t\r\n    \t\tCupsProperties properties=null;\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tJSONParser jsonParser = new JSONParser();\r\n    \t\t\tJSONObject vcapServiceJSONObject = (JSONObject) jsonParser.parse(VCAP_Services);\r\n    \t\t\t\r\n    \t\t\tfor(Object key: vcapServiceJSONObject.keySet()){\r\n    \t\t\t\tString keyStr = (String) key;\r\n    \t\t\t\tJSONArray userProvidedList = (JSONArray) vcapServiceJSONObject.get(keyStr);\r\n    \t\t        \r\n    \t\t\t\tIterator i = userProvidedList.iterator();\r\n    \t\t\t\twhile (i.hasNext()) {\r\n    \t\t\t\t\tJSONObject innerObj = (JSONObject) i.next();\r\n    \t\t\t\t\tJSONObject credentialsObject = (JSONObject) innerObj.get(&quot;credentials&quot;);\r\n    \t\t\t\t\tif(credentialsObject.containsKey(&quot;jdbcUrl&quot;)){\r\n    \t\t\t\t\t\t//set to your pojo objects\r\n    \t\t\t\t\t\tSystem.out.println(&quot;JDBC url:&quot; + credentialsObject.get(&quot;jdbcUrl&quot;));\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif(credentialsObject.containsKey(&quot;accessTokenUri&quot;)){\r\n    \t\t\t\t\t\t//set to your pojo objects\r\n    \t\t\t\t\t\tSystem.out.println(&quot;Access token URI:&quot; + credentialsObject.get(&quot;accessTokenUri&quot;));\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nOutput\r\n\r\n    Access token URI:tokenurl\r\n    JDBC url:jdbc:oracle:connection[host]:[port]/service\r\n\r\n\r\n","title":"How to parse JSON String to java object with jackson?","body":"<p>Check below solution and see if it fulfills your need. You can build on to it if you need to parse more fields.</p>\n\n<pre><code>import java.util.Iterator;\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\npublic class JsonParser {\n\n    public static void main(String[] args) {\n\n        String VCAP_Services = \"{\\\"userProvided\\\": [{\\\"credentials\\\": {\\\"accessTokenUri\\\": \\\"tokenurl\\\",\\\"apiUrl\\\": \\\"apiurl\\\",\\\"clientId\\\": \\\"typeofID\\\",\\\"clientSecret\\\": \\\"secretAf\\\",\\\"scope\\\": \\\"none\\\"},\\\"syslog_drain_url\\\": \\\"\\\",\\\"volume_mounts\\\": [],\\\"label\\\": \\\"user-provided\\\",\\\"name\\\": \\\"OAuth2\\\",\\\"tags\\\": []},{\\\"credentials\\\": {\\\"jdbcUrl\\\": \\\"jdbc:oracle:connection[host]:[port]/service\\\",\\\"spring.datasource.driver-class-name\\\": \\\"oracle.jdbc.OracleDriver\\\",\\\"spring.datasource.initialize\\\": \\\"false\\\"},\\\"syslog_drain_url\\\": \\\"\\\",\\\"volume_mounts\\\": [],\\\"label\\\": \\\"user-provided\\\",\\\"name\\\": \\\"Database\\\",\\\"tags\\\": [] } ] } \";\n\n        CupsProperties properties=null;\n        try {\n\n            JSONParser jsonParser = new JSONParser();\n            JSONObject vcapServiceJSONObject = (JSONObject) jsonParser.parse(VCAP_Services);\n\n            for(Object key: vcapServiceJSONObject.keySet()){\n                String keyStr = (String) key;\n                JSONArray userProvidedList = (JSONArray) vcapServiceJSONObject.get(keyStr);\n\n                Iterator i = userProvidedList.iterator();\n                while (i.hasNext()) {\n                    JSONObject innerObj = (JSONObject) i.next();\n                    JSONObject credentialsObject = (JSONObject) innerObj.get(\"credentials\");\n                    if(credentialsObject.containsKey(\"jdbcUrl\")){\n                        //set to your pojo objects\n                        System.out.println(\"JDBC url:\" + credentialsObject.get(\"jdbcUrl\"));\n                    }\n\n                    if(credentialsObject.containsKey(\"accessTokenUri\")){\n                        //set to your pojo objects\n                        System.out.println(\"Access token URI:\" + credentialsObject.get(\"accessTokenUri\"));\n                    }\n                }\n            }\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>Access token URI:tokenurl\nJDBC url:jdbc:oracle:connection[host]:[port]/service\n</code></pre>\n"}],"owner":{"account_id":7830507,"reputation":2154,"user_id":7220869,"accept_rate":62,"display_name":"JayC"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1985,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43726856,"answer_count":1,"score":0,"last_activity_date":1634577792,"creation_date":1493665756,"question_id":43724937,"body_markdown":"I am currently having trouble trying to parse this VCAP_SERVICES to java objects. I do not quite understand how to structure the POJO to allow it to map the values from the json string. Can someone please help me structure my pojo so that it is aligns with the json string?\r\n\r\nI want to create objects for both of the credentials: accessToken... jdbcurl.\r\n\r\n**VCAP_SERVICES**\r\n\r\n       &quot;VCAP_SERVICES&quot;: {\r\n          &quot;user-provided&quot;: [\r\n            {\r\n              &quot;credentials&quot;: {\r\n                &quot;accessTokenUri&quot;: &quot;tokenurl&quot;,\r\n                &quot;apiUrl&quot;: &quot;apiurl&quot;,\r\n                &quot;clientId&quot;: &quot;typeofID&quot;,\r\n                &quot;clientSecret&quot;: &quot;secretAf&quot;,\r\n                &quot;scope&quot;: &quot;none&quot;\r\n              },\r\n              &quot;syslog_drain_url&quot;: &quot;&quot;,\r\n              &quot;volume_mounts&quot;: [],\r\n              &quot;label&quot;: &quot;user-provided&quot;,\r\n              &quot;name&quot;: &quot;OAuth2&quot;,\r\n              &quot;tags&quot;: []\r\n            },\r\n            {\r\n              &quot;credentials&quot;: {\r\n                &quot;jdbcUrl&quot;: &quot;jdbc:oracle:connection[host]:[port]/service&quot;,\r\n                &quot;spring.datasource.driver-class-name&quot;: &quot;oracle.jdbc.OracleDriver&quot;,\r\n                &quot;spring.datasource.initialize&quot;: &quot;false&quot;\r\n              },\r\n              &quot;syslog_drain_url&quot;: &quot;&quot;,\r\n              &quot;volume_mounts&quot;: [],\r\n              &quot;label&quot;: &quot;user-provided&quot;,\r\n              &quot;name&quot;: &quot;Database&quot;,\r\n              &quot;tags&quot;: []\r\n            }\r\n          ]\r\n\r\n\r\n**Java Class**\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    \t    //json String to Object\r\n    \r\n    CupsProperties properties = mapper.readValue(VCAP_Services, CupsProperties.class);\r\n    \t    \r\n    System.out.println(properties.getJdbcUrl() + &quot;!!!!!!!!!!!!!!!!!!!&quot;);\r\n\r\n\r\n**POJOS**\r\n\r\n    public class UserProviderWrapper {\r\n    \t\r\n    \t@JsonProperty(&quot;user-provided&quot;)\r\n    \tpublic List&lt;CupsProperties&gt; cupsProperties;\r\n    \t@JsonProperty(&quot;syslog_drain_url&quot;)\r\n    \tpublic String syslog_drain_url;\r\n    \t@JsonProperty(&quot;volume_mounts&quot;)\r\n    \tpublic List&lt;String&gt; volume_mounts;\r\n    \t@JsonProperty(&quot;label&quot;)\r\n    \tpublic String label;\r\n    \t@JsonProperty(&quot;name&quot;)\r\n    \tpublic String name;\r\n    \t@JsonProperty(&quot;tags&quot;)\r\n    \tpublic List&lt;String&gt; tags;\r\n          //getters and setters\r\n\r\n\r\n    public class CupsProperties {\r\n    \t\r\n    \t@JsonProperty(&quot;jdbcUrl&quot;)\r\n    \tpublic String jdbcUrl;\r\n    \t@JsonProperty(&quot;spring.datasource.driver-class-name&quot;)\r\n    \tpublic String driver;\r\n    \t@JsonProperty(&quot;spring.datasource.initialize&quot;)\r\n    \tpublic String initialize;\r\n       //getters and setters\r\n\r\n\r\n\r\n\r\n**Error**\r\n\r\n&gt; Unrecognized field &quot;user-provided&quot; (class rest.springframework.model.CupsProperties), not marked as ignorable (2 known properties: &quot;jdbcUrl&quot;, &quot;dataSource&quot;])\r\nat [Source: {&quot;user-provided&quot;:[{ &quot;credentials&quot;: { &quot;jdbcUrl&quot;: &quot;jdbc:oracle:thin:user/pass//host:port/service&quot;, &quot;spring.datasource.driver-class-name&quot;: &quot;oracle.jdbc.OracleDriver&quot;, &quot;spring.datasource.initialize&quot;: &quot;false&quot; }, &quot;syslog_drain_url&quot;: &quot;&quot;, &quot;volume_mounts&quot;: [ ], &quot;label&quot;: &quot;user-provided&quot;, &quot;name&quot;: &quot;Oracle&quot;, &quot;tags&quot;: [ ] }]}; line: 1, column: 19] (through reference chain: rest.springframework.model.CupsProperties[&quot;user-provided&quot;])\r\n\r\n\r\n     \r\n","title":"How to parse JSON String to java object with jackson?","body":"<p>I am currently having trouble trying to parse this VCAP_SERVICES to java objects. I do not quite understand how to structure the POJO to allow it to map the values from the json string. Can someone please help me structure my pojo so that it is aligns with the json string?</p>\n<p>I want to create objects for both of the credentials: accessToken... jdbcurl.</p>\n<p><strong>VCAP_SERVICES</strong></p>\n<pre><code>   &quot;VCAP_SERVICES&quot;: {\n      &quot;user-provided&quot;: [\n        {\n          &quot;credentials&quot;: {\n            &quot;accessTokenUri&quot;: &quot;tokenurl&quot;,\n            &quot;apiUrl&quot;: &quot;apiurl&quot;,\n            &quot;clientId&quot;: &quot;typeofID&quot;,\n            &quot;clientSecret&quot;: &quot;secretAf&quot;,\n            &quot;scope&quot;: &quot;none&quot;\n          },\n          &quot;syslog_drain_url&quot;: &quot;&quot;,\n          &quot;volume_mounts&quot;: [],\n          &quot;label&quot;: &quot;user-provided&quot;,\n          &quot;name&quot;: &quot;OAuth2&quot;,\n          &quot;tags&quot;: []\n        },\n        {\n          &quot;credentials&quot;: {\n            &quot;jdbcUrl&quot;: &quot;jdbc:oracle:connection[host]:[port]/service&quot;,\n            &quot;spring.datasource.driver-class-name&quot;: &quot;oracle.jdbc.OracleDriver&quot;,\n            &quot;spring.datasource.initialize&quot;: &quot;false&quot;\n          },\n          &quot;syslog_drain_url&quot;: &quot;&quot;,\n          &quot;volume_mounts&quot;: [],\n          &quot;label&quot;: &quot;user-provided&quot;,\n          &quot;name&quot;: &quot;Database&quot;,\n          &quot;tags&quot;: []\n        }\n      ]\n</code></pre>\n<p><strong>Java Class</strong></p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n        //json String to Object\n\nCupsProperties properties = mapper.readValue(VCAP_Services, CupsProperties.class);\n        \nSystem.out.println(properties.getJdbcUrl() + &quot;!!!!!!!!!!!!!!!!!!!&quot;);\n</code></pre>\n<p><strong>POJOS</strong></p>\n<pre><code>public class UserProviderWrapper {\n    \n    @JsonProperty(&quot;user-provided&quot;)\n    public List&lt;CupsProperties&gt; cupsProperties;\n    @JsonProperty(&quot;syslog_drain_url&quot;)\n    public String syslog_drain_url;\n    @JsonProperty(&quot;volume_mounts&quot;)\n    public List&lt;String&gt; volume_mounts;\n    @JsonProperty(&quot;label&quot;)\n    public String label;\n    @JsonProperty(&quot;name&quot;)\n    public String name;\n    @JsonProperty(&quot;tags&quot;)\n    public List&lt;String&gt; tags;\n      //getters and setters\n\n\npublic class CupsProperties {\n    \n    @JsonProperty(&quot;jdbcUrl&quot;)\n    public String jdbcUrl;\n    @JsonProperty(&quot;spring.datasource.driver-class-name&quot;)\n    public String driver;\n    @JsonProperty(&quot;spring.datasource.initialize&quot;)\n    public String initialize;\n   //getters and setters\n</code></pre>\n<p><strong>Error</strong></p>\n<blockquote>\n<p>Unrecognized field &quot;user-provided&quot; (class rest.springframework.model.CupsProperties), not marked as ignorable (2 known properties: &quot;jdbcUrl&quot;, &quot;dataSource&quot;])\nat [Source: {&quot;user-provided&quot;:[{ &quot;credentials&quot;: { &quot;jdbcUrl&quot;: &quot;jdbc:oracle:thin:user/pass//host:port/service&quot;, &quot;spring.datasource.driver-class-name&quot;: &quot;oracle.jdbc.OracleDriver&quot;, &quot;spring.datasource.initialize&quot;: &quot;false&quot; }, &quot;syslog_drain_url&quot;: &quot;&quot;, &quot;volume_mounts&quot;: [ ], &quot;label&quot;: &quot;user-provided&quot;, &quot;name&quot;: &quot;Oracle&quot;, &quot;tags&quot;: [ ] }]}; line: 1, column: 19] (through reference chain: rest.springframework.model.CupsProperties[&quot;user-provided&quot;])</p>\n</blockquote>\n"},{"tags":["javascript","java","selenium","selenium-webdriver","ui-automation"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1634573792,"post_id":69618888,"comment_id":123055926,"body_markdown":"How are you uploading the image ?","body":"How are you uploading the image ?"},{"owner":{"account_id":2180853,"reputation":73,"user_id":1930388,"display_name":"Raghvendra Gupta"},"score":1,"creation_date":1634574048,"post_id":69618888,"comment_id":123056031,"body_markdown":"Using sendkeys with input your file as images button is of input your file. So I am able to pass the whole file path to input.... driver.findElement(By.xpath(&quot;//input[@type=&#39;file&#39;]&quot;).sendKeys(&quot;&lt;image file path&gt;&quot;)","body":"Using sendkeys with input your file as images button is of input your file. So I am able to pass the whole file path to input.... driver.findElement(By.xpath(&quot;//input[@type=&#39;file&#39;]&quot;).sendKey&zwnj;&#8203;s(&quot;&lt;image file path&gt;&quot;)"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1634574186,"post_id":69618888,"comment_id":123056078,"body_markdown":"okay, Please see below !","body":"okay, Please see below !"}],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634577640,"creation_date":1634574151,"answer_id":69619446,"question_id":69618888,"body_markdown":"You do not need JavaScript executor for this case.\r\n\r\nUsing the below xpath \r\n\r\n    //div[text()=&#39;Center:&#39;]//following-sibling::div\r\n\r\nYou can locate all the web elements related to div fields for center, width and Hight.\r\n\r\nNow to locate the first element I am using xpath indexing :\r\n\r\n    (//div[text()=&#39;Center:&#39;]//following-sibling::div)[1]\r\n\r\nThis will target the first the center field. \r\n\r\nAlso, we will have to clear the default value which is already present in that div, for that we have the loop. \r\n\r\n\r\n\r\n\r\n\r\n\r\n**Code :**\r\n\r\n\r\n\t\tdriver.manage().window().maximize();\r\n\t\tWebDriverWait wait = new WebDriverWait(driver, 30);\r\n\t\t//driver.manage().timeouts().implicitlyWait(60, TimeUnit.SECONDS);\r\n\t\tdriver.get(&quot;https://www.desmos.com/calculator/lzidy3m70r&quot;);\r\n\t\tActions action = new Actions(driver);\r\n\t\tWebElement centerWebElement = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;(//div[text()=&#39;Center:&#39;]//following-sibling::div)[1]&quot;)));\r\n\t\tcenterWebElement.click();\r\n\t\tfor (int i = 0; i&lt;=10 ; i++) {\r\n\t\t\taction.moveToElement(centerWebElement).sendKeys(Keys.BACK_SPACE).build().perform();\r\n\t\t\tThread.sleep(100);\r\n\t\t\tSystem.out.println(&quot;Clicked on delete for &quot;+ i + &quot; time&quot;);\r\n\t\t}\r\n\t\tnew Actions(driver).moveToElement(centerWebElement).pause(2).sendKeys(&quot;2021, 2021&quot;).build().perform();\r\n\r\n\r\nSame way, for first width \r\n\r\n    (//div[text()=&#39;Center:&#39;]//following-sibling::div)[3]\r\n\r\nand for first height \r\n\r\n    (//div[text()=&#39;Center:&#39;]//following-sibling::div)[7]\r\n\r\nshould help you past the issue. \r\n","title":"sendKeys not working on textarea with area-label and getting element not interactable exception","body":"<p>You do not need JavaScript executor for this case.</p>\n<p>Using the below xpath</p>\n<pre><code>//div[text()='Center:']//following-sibling::div\n</code></pre>\n<p>You can locate all the web elements related to div fields for center, width and Hight.</p>\n<p>Now to locate the first element I am using xpath indexing :</p>\n<pre><code>(//div[text()='Center:']//following-sibling::div)[1]\n</code></pre>\n<p>This will target the first the center field.</p>\n<p>Also, we will have to clear the default value which is already present in that div, for that we have the loop.</p>\n<p><strong>Code :</strong></p>\n<pre><code>    driver.manage().window().maximize();\n    WebDriverWait wait = new WebDriverWait(driver, 30);\n    //driver.manage().timeouts().implicitlyWait(60, TimeUnit.SECONDS);\n    driver.get(&quot;https://www.desmos.com/calculator/lzidy3m70r&quot;);\n    Actions action = new Actions(driver);\n    WebElement centerWebElement = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;(//div[text()='Center:']//following-sibling::div)[1]&quot;)));\n    centerWebElement.click();\n    for (int i = 0; i&lt;=10 ; i++) {\n        action.moveToElement(centerWebElement).sendKeys(Keys.BACK_SPACE).build().perform();\n        Thread.sleep(100);\n        System.out.println(&quot;Clicked on delete for &quot;+ i + &quot; time&quot;);\n    }\n    new Actions(driver).moveToElement(centerWebElement).pause(2).sendKeys(&quot;2021, 2021&quot;).build().perform();\n</code></pre>\n<p>Same way, for first width</p>\n<pre><code>(//div[text()='Center:']//following-sibling::div)[3]\n</code></pre>\n<p>and for first height</p>\n<pre><code>(//div[text()='Center:']//following-sibling::div)[7]\n</code></pre>\n<p>should help you past the issue.</p>\n"}],"owner":{"account_id":2180853,"reputation":73,"user_id":1930388,"display_name":"Raghvendra Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69619446,"answer_count":1,"score":1,"last_activity_date":1634577640,"creation_date":1634571632,"question_id":69618888,"body_markdown":"Firstly apologies for such a bad title, kindly suggest a good title.\r\n\r\nHere are the details on my issue that I am facing:\r\n\r\nWebsite: \r\n```https://www.desmos.com/calculator/lzidy3m70r```\r\n\r\nSteps:\r\n1) Click on + button on top left\r\n2) Select images and upload any image\r\n3) update values in fields center, width and height\r\n\r\nIssue: Not able to interact with any of the text areas of center, width and height. Keep getting element to interactable exception\r\n\r\nHere is the html\r\n[![As you can see there is no input tag for width field only 2 span shows 15 separately and textarea is also not interactable][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zDfkV.jpg\r\nAs you can see there is no input tag for width field only 2 span shows 15 separately and textarea is also not interactable\r\n\r\nHere is my xpath to identify textarea or span:\r\n```\r\n//textarea[contains(@class,&#39;dcg-smart-textarea&#39;) and text()=&#39;&quot;+imageName+&quot;&#39;]/parent::div/parent::div/following-sibling::div//span[@class=&#39;dcg-mq-textarea&#39;]/textarea\r\n\r\n//textarea[contains(@class,&#39;dcg-smart-textarea&#39;)]/parent::div/parent::div/following-sibling::div//span[@class=&#39;dcg-mq-root-block dcg-mq-editing-overflow-right&#39;]/span\r\n```\r\n\r\nI have tried a lot of ways like first clicking on the div and once cursor is available then trying to type or first click, then clear and then type but after click is successful the next step fails with exception element not interactable.\r\n\r\nI am thinking javascriptexecutor is required to somehow handle this case but I am not very well aware with javascript and ways to handle such fields.\r\n\r\nCan someone please help me solve this issue and be able to successfully enter values for center, width and height fields?\r\n","title":"sendKeys not working on textarea with area-label and getting element not interactable exception","body":"<p>Firstly apologies for such a bad title, kindly suggest a good title.</p>\n<p>Here are the details on my issue that I am facing:</p>\n<p>Website:\n<code>https://www.desmos.com/calculator/lzidy3m70r</code></p>\n<p>Steps:</p>\n<ol>\n<li>Click on + button on top left</li>\n<li>Select images and upload any image</li>\n<li>update values in fields center, width and height</li>\n</ol>\n<p>Issue: Not able to interact with any of the text areas of center, width and height. Keep getting element to interactable exception</p>\n<p>Here is the html\n<a href=\"https://i.stack.imgur.com/zDfkV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zDfkV.jpg\" alt=\"As you can see there is no input tag for width field only 2 span shows 15 separately and textarea is also not interactable\" /></a></p>\n<p>As you can see there is no input tag for width field only 2 span shows 15 separately and textarea is also not interactable</p>\n<p>Here is my xpath to identify textarea or span:</p>\n<pre><code>//textarea[contains(@class,'dcg-smart-textarea') and text()='&quot;+imageName+&quot;']/parent::div/parent::div/following-sibling::div//span[@class='dcg-mq-textarea']/textarea\n\n//textarea[contains(@class,'dcg-smart-textarea')]/parent::div/parent::div/following-sibling::div//span[@class='dcg-mq-root-block dcg-mq-editing-overflow-right']/span\n</code></pre>\n<p>I have tried a lot of ways like first clicking on the div and once cursor is available then trying to type or first click, then clear and then type but after click is successful the next step fails with exception element not interactable.</p>\n<p>I am thinking javascriptexecutor is required to somehow handle this case but I am not very well aware with javascript and ways to handle such fields.</p>\n<p>Can someone please help me solve this issue and be able to successfully enter values for center, width and height fields?</p>\n"},{"tags":["java","mysql","oracle","sql-injection"],"comments":[{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":1,"creation_date":1634585964,"post_id":69619422,"comment_id":123060061,"body_markdown":"Use [`preparedStatement`](https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html) and then `setString`. It will pass the data, not the SQL text with injection","body":"Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\"><code>preparedStatement</code></a> and then <code>setString</code>. It will pass the data, not the SQL text with injection"},{"owner":{"account_id":14847021,"reputation":301,"user_id":10722088,"display_name":"Simone Lungarella"},"score":0,"creation_date":1634628149,"post_id":69619422,"comment_id":123068762,"body_markdown":"There is a way to do it with EntityManager? Creating the Query object I can only set parameters, there&#39;s no way to set the String.","body":"There is a way to do it with EntityManager? Creating the Query object I can only set parameters, there&#39;s no way to set the String."},{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1634636255,"post_id":69619422,"comment_id":123072096,"body_markdown":"I do not know java, and cannot tell you how to do this with EntityManager. But the basic principle is the same for any language and any RDBMS: prepare a call (that is SQL parsing and building the query plan), bind variables (that is passing the data as input/output parameters for the call) and then execute (perform the actual execution)","body":"I do not know java, and cannot tell you how to do this with EntityManager. But the basic principle is the same for any language and any RDBMS: prepare a call (that is SQL parsing and building the query plan), bind variables (that is passing the data as input/output parameters for the call) and then execute (perform the actual execution)"}],"owner":{"account_id":14847021,"reputation":301,"user_id":10722088,"display_name":"Simone Lungarella"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1634577581,"creation_date":1634574031,"question_id":69619422,"body_markdown":"Is a SQL Injection still possible if a parameter is parsed so as to remove all single quotes contained and then it&#39;s surrounded by single quotes? I know how this is bad looking and generally talking is much better to use a Prepared Statement but, for the sake of curiousness, I would like to know if there&#39;s a way or even better an example on how to deal damage to a database if the parameters are treaded as following:\r\n\r\n    String nativeQuery = &quot;INSERT INTO USER (NAME) VALUES (&#39; &quot; + username.replace(&quot;&#39;&quot;, &quot;&quot;) + &quot;&#39;)&quot;;\r\n    EntityManager em = getEm();\r\n    Query query = em.createNativeQuery(nativeQuery);\r\n\tquery.executeUpdate();\r\nI did not found any resource online that explains this specific case, seems to be impossible to execute any command from within a String, can someone confirm that? An answer is appreciated even the used dialect is not present in tags at bottom.\r\n","title":"Is it possible to execute a SQL Injection if a parameter contains no single quotes and is then sorrounded by single quotes?","body":"<p>Is a SQL Injection still possible if a parameter is parsed so as to remove all single quotes contained and then it's surrounded by single quotes? I know how this is bad looking and generally talking is much better to use a Prepared Statement but, for the sake of curiousness, I would like to know if there's a way or even better an example on how to deal damage to a database if the parameters are treaded as following:</p>\n<pre><code>String nativeQuery = &quot;INSERT INTO USER (NAME) VALUES (' &quot; + username.replace(&quot;'&quot;, &quot;&quot;) + &quot;')&quot;;\nEntityManager em = getEm();\nQuery query = em.createNativeQuery(nativeQuery);\nquery.executeUpdate();\n</code></pre>\n<p>I did not found any resource online that explains this specific case, seems to be impossible to execute any command from within a String, can someone confirm that? An answer is appreciated even the used dialect is not present in tags at bottom.</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":0,"creation_date":1634577393,"post_id":69619822,"comment_id":123057140,"body_markdown":"You are correct that java.util.LinkedList does not support your use case. If it were me, I would first check that I really need O(logn) removals, and just use an ArrayList if not. If you do really need it, you can implement it using a `PriorityQueue&lt;Node&lt;E&gt;&gt;` where you define your own Node class to make a linked list.","body":"You are correct that java.util.LinkedList does not support your use case. If it were me, I would first check that I really need O(logn) removals, and just use an ArrayList if not. If you do really need it, you can implement it using a <code>PriorityQueue&lt;Node&lt;E&gt;&gt;</code> where you define your own Node class to make a linked list."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1634577699,"post_id":69619822,"comment_id":123057251,"body_markdown":"&quot;So as far as for question one: whether we can get a hold of the node: looks like I already know the answer to since Node class is private.&quot; - FYI... The fact that `Node` is `private` doesn&#39;t have anything to do with whether or not you have access to instances of that class.  The `private`-ness would prevent you from doing things like easily creating an instance yourself, but the JVM does allow a non-private method to return an instance of a private class that might only visible inside the class that defines that method, for example.","body":"&quot;So as far as for question one: whether we can get a hold of the node: looks like I already know the answer to since Node class is private.&quot; - FYI... The fact that <code>Node</code> is <code>private</code> doesn&#39;t have anything to do with whether or not you have access to instances of that class.  The <code>private</code>-ness would prevent you from doing things like easily creating an instance yourself, but the JVM does allow a non-private method to return an instance of a private class that might only visible inside the class that defines that method, for example."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":1,"creation_date":1634580312,"post_id":69619822,"comment_id":123058185,"body_markdown":"The nodes in java.util.LinkedList are part of the private implementation details of an encapsulated class. The class provides a public API that promises the performance you would expect of a LinkedList. If you want a class that gives you features of both a linkedlist and a heap with O(log n) deletion, you might have to build it yourself.","body":"The nodes in java.util.LinkedList are part of the private implementation details of an encapsulated class. The class provides a public API that promises the performance you would expect of a LinkedList. If you want a class that gives you features of both a linkedlist and a heap with O(log n) deletion, you might have to build it yourself."},{"owner":{"account_id":4742401,"reputation":864,"user_id":7858768,"display_name":"user7858768"},"score":0,"creation_date":1634643489,"post_id":69619822,"comment_id":123074984,"body_markdown":"@AndyThomas I would expect to be able to delete an element from the middle of LinkedList in O(1) while with current implementation its O(n).","body":"@AndyThomas I would expect to be able to delete an element from the middle of LinkedList in O(1) while with current implementation its O(n)."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1634656710,"post_id":69619822,"comment_id":123081355,"body_markdown":"@user7858768 - A linked list lets you remove a node in the middle of a linked list in O(1). However, *finding* that node can be O(n) -- unless you&#39;ve got a data structure that&#39;s more than a linked list.","body":"@user7858768 - A linked list lets you remove a node in the middle of a linked list in O(1). However, <i>finding</i> that node can be O(n) -- unless you&#39;ve got a data structure that&#39;s more than a linked list."}],"owner":{"account_id":4742401,"reputation":864,"user_id":7858768,"display_name":"user7858768"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634577424,"creation_date":1634576170,"question_id":69619822,"body_markdown":"Use case: I want to keep a maxHeap of elements within the list to be able to have quick access to max value. Also want to be able to keep the order of the last element that were inserted. Essentially want to build MaxStack. \r\n\r\nI am looking over the API of LinkedList and there doesn&#39;t seem to be any APIs exposing the Node of the list, for me to be able to hold the actual node and then ask the list to delete the node instead of having to iterate over the list each time I want to delete the element. \r\n\r\nWith MaxHeap and exact node the deletion would be O(log n) due to MaxHeap while with iteration over the list the deletion would be O(n). \r\n\r\nSo as far as for question one: whether we can get a hold of the node: looks like I already know the answer to since Node class is private... \r\n\r\n```\r\nprivate static class Node&lt;E&gt; {\r\n    E item;\r\n    Node&lt;E&gt; next;\r\n    Node&lt;E&gt; prev;\r\n\r\n    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) {\r\n        this.item = element;\r\n        this.next = next;\r\n        this.prev = prev;\r\n    }\r\n}\r\n```\r\n\r\nSo it looks like standard implementation doesn&#39;t actually allows us to take advantage of LinkedList properties, which is quite surprising (unless I am hopefully missing something here, I guess one way is using reflection to get a hold of the Node but that doesn&#39;t sound tidy at all).\r\n\r\nNow onto the follow-up question: is there sub-standard library to use then for LinkedList implementation that actually allows us to get a hold of the `Node` to be able to do deletions from the list in O(1) (if we know the node reference). ","title":"Is there really no proper way to get a hold of Node class of LinkedList?","body":"<p>Use case: I want to keep a maxHeap of elements within the list to be able to have quick access to max value. Also want to be able to keep the order of the last element that were inserted. Essentially want to build MaxStack.</p>\n<p>I am looking over the API of LinkedList and there doesn't seem to be any APIs exposing the Node of the list, for me to be able to hold the actual node and then ask the list to delete the node instead of having to iterate over the list each time I want to delete the element.</p>\n<p>With MaxHeap and exact node the deletion would be O(log n) due to MaxHeap while with iteration over the list the deletion would be O(n).</p>\n<p>So as far as for question one: whether we can get a hold of the node: looks like I already know the answer to since Node class is private...</p>\n<pre><code>private static class Node&lt;E&gt; {\n    E item;\n    Node&lt;E&gt; next;\n    Node&lt;E&gt; prev;\n\n    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) {\n        this.item = element;\n        this.next = next;\n        this.prev = prev;\n    }\n}\n</code></pre>\n<p>So it looks like standard implementation doesn't actually allows us to take advantage of LinkedList properties, which is quite surprising (unless I am hopefully missing something here, I guess one way is using reflection to get a hold of the Node but that doesn't sound tidy at all).</p>\n<p>Now onto the follow-up question: is there sub-standard library to use then for LinkedList implementation that actually allows us to get a hold of the <code>Node</code> to be able to do deletions from the list in O(1) (if we know the node reference).</p>\n"},{"tags":["java","reactive-programming","project-reactor","iterable"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1634551461,"post_id":69613556,"comment_id":123046306,"body_markdown":"I&#39;ve removed your side-question. Questions on SO should focus on one thing.","body":"I&#39;ve removed your side-question. Questions on SO should focus on one thing."},{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":0,"creation_date":1634568409,"post_id":69613556,"comment_id":123053655,"body_markdown":"Edit your answer including the implementation of `processRow(itr)`.","body":"Edit your answer including the implementation of <code>processRow(itr)</code>."},{"owner":{"account_id":4068985,"reputation":1,"user_id":3342825,"display_name":"user3342825"},"score":0,"creation_date":1634572352,"post_id":69613556,"comment_id":123055385,"body_markdown":"Added relevant implementation of processRow","body":"Added relevant implementation of processRow"},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1634648026,"post_id":69613556,"comment_id":123077133,"body_markdown":"Are you absolutely sure you&#39;ve understood your instructor correctly? Using iterable in this case makes no sense, especially if you&#39;re trying to return a publisher (which you definitely shouldn&#39;t do when it&#39;s trying to wrap blocking code.)","body":"Are you absolutely sure you&#39;ve understood your instructor correctly? Using iterable in this case makes no sense, especially if you&#39;re trying to return a publisher (which you definitely shouldn&#39;t do when it&#39;s trying to wrap blocking code.)"},{"owner":{"account_id":4068985,"reputation":1,"user_id":3342825,"display_name":"user3342825"},"score":0,"creation_date":1634721590,"post_id":69613556,"comment_id":123098834,"body_markdown":"Yes, that&#39;s what the instructor asked. I checked with him again today.","body":"Yes, that&#39;s what the instructor asked. I checked with him again today."},{"owner":{"account_id":4068985,"reputation":1,"user_id":3342825,"display_name":"user3342825"},"score":0,"creation_date":1634721622,"post_id":69613556,"comment_id":123098850,"body_markdown":"I think maybe there is some sort of back pressure configuration I can set?","body":"I think maybe there is some sort of back pressure configuration I can set?"}],"owner":{"account_id":4068985,"reputation":1,"user_id":3342825,"display_name":"user3342825"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634577210,"creation_date":1634548469,"question_id":69613556,"body_markdown":"I&#39;m working on a school project using Reactor and am running into some issues with `Flux`.\r\n\r\nOn the upstream, I have a `Flux` that is reading from database and generating rows for the downstream processor to use. For example:\r\n```\r\npublic Flux&lt;Row&gt; emitRow(...) \r\n{ \r\n  return Flux.create(cursor -&gt; {\r\n     ... logic to read and check db ...\r\n     emitRow(cursor, row);\r\n     cursor.complete()\r\n  });\r\n}\r\n```\r\n\r\nReading everything into memory is not ideal since our sandbox environment has a limited amount of memory. So, what I have setup is every time we read a row, we process it before getting the next row.\r\n\r\nInitially, I have something like this setup and it seems to work, however, my instructor said we need to use `toIterable()` instead.\r\n\r\n```\r\npublic Mono&lt;Outcome&gt; process(Flux&lt;Row&gt; data)\r\n{\r\n    return data\r\n        .flatMap(row -&gt; processRow(row), SINGLE_THREAD, SINGLE_THREAD)\r\n        .map(results -&gt; new Outcome(results));\r\n}\r\n```\r\n\r\nSo right now, I&#39;m trying to make it work with `toIterable()` but having trouble. That is what I have in mind, but it is not behaving as stated in the JavaDoc. It looks like with this, there are 2 queues involved. First one is the iterable iterator&#39;s blocking queue and the second is from the original `Flux.create`. And the second queue (from `Flux.create`) seems to be buffering everything into memory causing out of memory exception in my application.\r\n\r\n```\r\npublic Mono&lt;Outcome&gt; process(Flux&lt;Row&gt; data)\r\n{\r\n    Iterator&lt;Row&gt; itr = data.toIterable(1).iterator();\r\n    return Mono.fromCallable(() -&gt; processRow(itr))\r\n            .map(results -&gt; new Outcome(results));\r\n}\r\n\r\npublic Results processRow(Iterator&lt;Row&gt; itr) \r\n{\r\n   while(itr.hasNext())  &lt;--- This is suppose to be blocking\r\n   {\r\n      Row r = itr.next();\r\n      dbContentBuilder.handle(r);\r\n   }\r\n   return new Results(dbContentBuilder.build());\r\n}\r\n```\r\n\r\nAny idea why or how to make it work with iterable so that Flux.create does not try to buffer everything into the sync, and instead iterator.next() will ask for the next chunk.\r\nThe documentation seems to suggest that this is a lazy queue and will block when ask for the `.next()`. Doc: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#toIterable-int-\r\n\r\n\r\n","title":"Flux toIterable not lazy as it stated in the doc","body":"<p>I'm working on a school project using Reactor and am running into some issues with <code>Flux</code>.</p>\n<p>On the upstream, I have a <code>Flux</code> that is reading from database and generating rows for the downstream processor to use. For example:</p>\n<pre><code>public Flux&lt;Row&gt; emitRow(...) \n{ \n  return Flux.create(cursor -&gt; {\n     ... logic to read and check db ...\n     emitRow(cursor, row);\n     cursor.complete()\n  });\n}\n</code></pre>\n<p>Reading everything into memory is not ideal since our sandbox environment has a limited amount of memory. So, what I have setup is every time we read a row, we process it before getting the next row.</p>\n<p>Initially, I have something like this setup and it seems to work, however, my instructor said we need to use <code>toIterable()</code> instead.</p>\n<pre><code>public Mono&lt;Outcome&gt; process(Flux&lt;Row&gt; data)\n{\n    return data\n        .flatMap(row -&gt; processRow(row), SINGLE_THREAD, SINGLE_THREAD)\n        .map(results -&gt; new Outcome(results));\n}\n</code></pre>\n<p>So right now, I'm trying to make it work with <code>toIterable()</code> but having trouble. That is what I have in mind, but it is not behaving as stated in the JavaDoc. It looks like with this, there are 2 queues involved. First one is the iterable iterator's blocking queue and the second is from the original <code>Flux.create</code>. And the second queue (from <code>Flux.create</code>) seems to be buffering everything into memory causing out of memory exception in my application.</p>\n<pre><code>public Mono&lt;Outcome&gt; process(Flux&lt;Row&gt; data)\n{\n    Iterator&lt;Row&gt; itr = data.toIterable(1).iterator();\n    return Mono.fromCallable(() -&gt; processRow(itr))\n            .map(results -&gt; new Outcome(results));\n}\n\npublic Results processRow(Iterator&lt;Row&gt; itr) \n{\n   while(itr.hasNext())  &lt;--- This is suppose to be blocking\n   {\n      Row r = itr.next();\n      dbContentBuilder.handle(r);\n   }\n   return new Results(dbContentBuilder.build());\n}\n</code></pre>\n<p>Any idea why or how to make it work with iterable so that Flux.create does not try to buffer everything into the sync, and instead iterator.next() will ask for the next chunk.\nThe documentation seems to suggest that this is a lazy queue and will block when ask for the <code>.next()</code>. Doc: <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#toIterable-int-\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#toIterable-int-</a></p>\n"},{"tags":["java","maven","jenkins-pipeline"],"comments":[{"owner":{"account_id":3330925,"reputation":25960,"user_id":5343387,"accept_rate":86,"display_name":"Matthew Schuchard"},"score":0,"creation_date":1634220823,"post_id":69572122,"comment_id":122971429,"body_markdown":"It appears you have a typo in your `&quot;mvn clean test-compile exec:java -Dexec.mainClass=&quot;com.test.mainClass&quot; ...` and forgot to escape your inner `&quot;`. If you escape those characters, does that fix your issue?","body":"It appears you have a typo in your <code>&quot;mvn clean test-compile exec:java -Dexec.mainClass=&quot;com.test.mainClass&quot; ...</code> and forgot to escape your inner <code>&quot;</code>. If you escape those characters, does that fix your issue?"},{"owner":{"account_id":7687582,"reputation":381,"user_id":5824795,"accept_rate":71,"display_name":"SacTan"},"score":0,"creation_date":1634221011,"post_id":69572122,"comment_id":122971512,"body_markdown":"Yes Matt, I tried to put like bat &quot;mvn clean test-compile exec:java -Dexec.mainClass=&#39;com.test.mainClass&#39; -Dexec.args=&#39;${params.ENVIRONMENT} ${params.SUITE}&#39; -Dexec.classpathScope=test&quot;  but still had the same issue.","body":"Yes Matt, I tried to put like bat &quot;mvn clean test-compile exec:java -Dexec.mainClass=&#39;com.test.mainClass&#39; -Dexec.args=&#39;${params.ENVIRONMENT} ${params.SUITE}&#39; -Dexec.classpathScope=test&quot;  but still had the same issue."},{"owner":{"account_id":3330925,"reputation":25960,"user_id":5343387,"accept_rate":86,"display_name":"Matthew Schuchard"},"score":0,"creation_date":1634221067,"post_id":69572122,"comment_id":122971538,"body_markdown":"Ok please update your question to reflect that you have fixed the typo and the same error results.","body":"Ok please update your question to reflect that you have fixed the typo and the same error results."},{"owner":{"account_id":7687582,"reputation":381,"user_id":5824795,"accept_rate":71,"display_name":"SacTan"},"score":0,"creation_date":1634221298,"post_id":69572122,"comment_id":122971635,"body_markdown":"Updated.. Thanks","body":"Updated.. Thanks"},{"owner":{"account_id":7687582,"reputation":381,"user_id":5824795,"accept_rate":71,"display_name":"SacTan"},"score":0,"creation_date":1634579292,"post_id":69572122,"comment_id":123057828,"body_markdown":"Is there any alternate way to make it work..? Thank you in advance.","body":"Is there any alternate way to make it work..? Thank you in advance."}],"owner":{"account_id":7687582,"reputation":381,"user_id":5824795,"accept_rate":71,"display_name":"SacTan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634577007,"creation_date":1634220250,"question_id":69572122,"body_markdown":"I have an issue while running my job through the Jenkins file, whatever parameters I gave its updated in the place where I called it, but when it runs with bat mvn command it tool goal as that of the parameter itself. Suppose I Specified the parameter name is QA from my Jenkins build with parameter and run it ..it complete all the steps except the last one where i have build, bat mvn, it tried to run taking goal and lifecycle as QA instead of clean test-compile.\r\n\r\nI have attached the Jenkinfile herewith. \r\n\r\n    pipeline {\r\n    agent { label &#39;TESTING&#39; }\r\n    \r\n    tools {\r\n        maven &#39;maven&#39;\r\n    }\r\n     parameters{\r\n        choice(name: &#39;ENVIRONMENT&#39; , choices: [&#39;QA&#39; , &#39;UAT&#39; , &#39;PREPROD&#39;] , description: &#39;&#39;)\r\n        choice(name: &#39;SUITE&#39; , choices: [&#39;Regression&#39; , &#39;Smoke&#39;] , description: &#39;&#39;)\r\n                      }\r\n\r\n    stages {\r\n\r\n    stage(&#39;Clone&#39;) { \r\n\r\n        steps {\r\n                git branch: &#39;master&#39; , credentialsId: &#39;xyzabc&#39; , url: &quot;https://git.xyz.com/project/automation.git&quot;\r\n            }  \r\n           \r\n        }\r\n    stage(&#39;Git Checkout&#39;) {\r\n        steps {\r\n            git(branch: &#39;development&#39;,\r\n                credentialsId: &#39;xyzabc&#39;,\r\n                url: &quot;https://git.xyz.com/project/automation.git&quot;)\r\n        }\r\n    }\r\n\r\n        stage(&#39;Build&#39;) {\r\n            \r\n            steps {\r\n            echo &quot;parameter name from jenkinsfile Environment is  ${params.ENVIRONMENT}&quot;\r\n            echo &quot;parameter name from jenkinsfile SUITE is ${params.SUITE}&quot;\r\n            bat &quot;mvn clean test-compile exec:java -Dexec.mainClass=&#39;com.test.mainClass&#39; -Dexec.args=&#39;${params.ENVIRONMENT} ${params.SUITE}&#39; -Dexec.classpathScope=test&quot;\r\n                \r\n            }\r\n        }\r\n     }\r\n\r\n}\r\n\r\nERROR MESSAGE IN JENKINS RUN, \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FvbRL.jpg","title":"Jenkinsfile Parameters Issue : Issue while running with multiple parameters to bat maven","body":"<p>I have an issue while running my job through the Jenkins file, whatever parameters I gave its updated in the place where I called it, but when it runs with bat mvn command it tool goal as that of the parameter itself. Suppose I Specified the parameter name is QA from my Jenkins build with parameter and run it ..it complete all the steps except the last one where i have build, bat mvn, it tried to run taking goal and lifecycle as QA instead of clean test-compile.</p>\n<p>I have attached the Jenkinfile herewith.</p>\n<pre><code>pipeline {\nagent { label 'TESTING' }\n\ntools {\n    maven 'maven'\n}\n parameters{\n    choice(name: 'ENVIRONMENT' , choices: ['QA' , 'UAT' , 'PREPROD'] , description: '')\n    choice(name: 'SUITE' , choices: ['Regression' , 'Smoke'] , description: '')\n                  }\n\nstages {\n\nstage('Clone') { \n\n    steps {\n            git branch: 'master' , credentialsId: 'xyzabc' , url: &quot;https://git.xyz.com/project/automation.git&quot;\n        }  \n       \n    }\nstage('Git Checkout') {\n    steps {\n        git(branch: 'development',\n            credentialsId: 'xyzabc',\n            url: &quot;https://git.xyz.com/project/automation.git&quot;)\n    }\n}\n\n    stage('Build') {\n        \n        steps {\n        echo &quot;parameter name from jenkinsfile Environment is  ${params.ENVIRONMENT}&quot;\n        echo &quot;parameter name from jenkinsfile SUITE is ${params.SUITE}&quot;\n        bat &quot;mvn clean test-compile exec:java -Dexec.mainClass='com.test.mainClass' -Dexec.args='${params.ENVIRONMENT} ${params.SUITE}' -Dexec.classpathScope=test&quot;\n            \n        }\n    }\n }\n</code></pre>\n<p>}</p>\n<p>ERROR MESSAGE IN JENKINS RUN,</p>\n<p><a href=\"https://i.stack.imgur.com/FvbRL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FvbRL.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","react-native","kotlin"],"comments":[{"owner":{"account_id":19125636,"reputation":7406,"user_id":13968673,"display_name":"Михаил Нафталь"},"score":0,"creation_date":1621856242,"post_id":67670617,"comment_id":119612004,"body_markdown":"Will it work if you change `catch (e: Exception)` with `catch (e: Throwable)`?","body":"Will it work if you change <code>catch (e: Exception)</code> with <code>catch (e: Throwable)</code>?"},{"owner":{"account_id":6655259,"reputation":115,"user_id":5136049,"accept_rate":100,"display_name":"pap"},"score":0,"creation_date":1621856780,"post_id":67670617,"comment_id":119612192,"body_markdown":"@МихаилНафталь no same result. :(","body":"@МихаилНафталь no same result. :("}],"answers":[{"tags":[],"owner":{"account_id":14641017,"reputation":81,"user_id":10573602,"display_name":"Bogdan Khrystov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634576437,"creation_date":1634576437,"answer_id":69619882,"question_id":67670617,"body_markdown":"For me resolve a `WritableArray` solve problem:\r\n\r\n        @ReactMethod\r\n    fun blahblah(promise: Promise) {\r\n        val array = Arguments.createArray()\r\n        array.pushString(&quot;str1&quot;)\r\n        array.pushString(&quot;str2&quot;)\r\n        promise.resolve(array)\r\n    }","title":"Unhandled promise rejection [Error: Cannot convert argument of type class [Ljava.lang.String;]","body":"<p>For me resolve a <code>WritableArray</code> solve problem:</p>\n<pre><code>    @ReactMethod\nfun blahblah(promise: Promise) {\n    val array = Arguments.createArray()\n    array.pushString(&quot;str1&quot;)\n    array.pushString(&quot;str2&quot;)\n    promise.resolve(array)\n}\n</code></pre>\n"}],"owner":{"account_id":6655259,"reputation":115,"user_id":5136049,"accept_rate":100,"display_name":"pap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":910,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634576437,"creation_date":1621852721,"question_id":67670617,"body_markdown":"I am making a React Native module and I am using kotlin for Android. \r\nI have a method in my native module like so: \r\n\r\n```\r\n@ReactMethod\r\n    fun blahblah(promise: Promise) {\r\n      try {\r\n        // This returns a Set&lt;String&gt; so I have to convert it to a typed array\r\n\r\n        val data = myMethod.toTypedArray()\r\n        promise.resolve(data)\r\n      } catch (e: Exception) {\r\n        promise.reject(e)\r\n      }\r\n    }\r\n```\r\nwhen I call it in my code I am getting this error: \r\n``` Unhandled promise rejection [Error: Cannot convert argument of type class [Ljava.lang.String;]```\r\n\r\nIs this a problem with bridge? Am I missing something? Thank you in advance.","title":"Unhandled promise rejection [Error: Cannot convert argument of type class [Ljava.lang.String;]","body":"<p>I am making a React Native module and I am using kotlin for Android.\nI have a method in my native module like so:</p>\n<pre><code>@ReactMethod\n    fun blahblah(promise: Promise) {\n      try {\n        // This returns a Set&lt;String&gt; so I have to convert it to a typed array\n\n        val data = myMethod.toTypedArray()\n        promise.resolve(data)\n      } catch (e: Exception) {\n        promise.reject(e)\n      }\n    }\n</code></pre>\n<p>when I call it in my code I am getting this error:\n<code> Unhandled promise rejection [Error: Cannot convert argument of type class [Ljava.lang.String;]</code></p>\n<p>Is this a problem with bridge? Am I missing something? Thank you in advance.</p>\n"},{"tags":["java","android","view","ondraw"],"comments":[{"owner":{"account_id":16582962,"reputation":3261,"user_id":11983124,"display_name":"Praveen"},"score":0,"creation_date":1634587041,"post_id":69619787,"comment_id":123060406,"body_markdown":"have you tried using `invalidate`,  not `onDraw`?","body":"have you tried using <code>invalidate</code>,  not <code>onDraw</code>?"},{"owner":{"account_id":22772189,"reputation":21,"user_id":16929421,"display_name":"Elvin Mammadov"},"score":0,"creation_date":1634638179,"post_id":69619787,"comment_id":123072935,"body_markdown":"I found my mistake, I just called customView class like this  customView = new TheCustomView(this,null);, but have not initilized it as   customView = findViewById(R.id.customView); like this. After second one, it works as I want. Thanks for attention.","body":"I found my mistake, I just called customView class like this  customView = new TheCustomView(this,null);, but have not initilized it as   customView = findViewById(R.id.customView); like this. After second one, it works as I want. Thanks for attention."}],"owner":{"account_id":22772189,"reputation":21,"user_id":16929421,"display_name":"Elvin Mammadov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634575987,"creation_date":1634575987,"question_id":69619787,"body_markdown":"I would like to change position of bitmap inside Canvas from Activity class. My solution from below only draws first value of x (left) as zero, later on does not change x value. But my Logcat shows that x value changes everytime when I call it from Activity. I would like to know where is my mistake ? onDraw method does not change position of bitmap. \r\n\r\nCustome view:\r\n\r\n```\r\npublic class TheCustomView extends View {\r\n    Bitmap scaledRollerBottom;\r\n    Bitmap backgroundMask;\r\n    Bitmap rollerBottom;\r\n    Bitmap overlayBitmap;\r\n    float x;\r\n\r\n\r\n    public TheCustomView(Context context) {\r\n        super(context);\r\n\r\n    }\r\n    \r\n    public TheCustomView(Context context, AttributeSet attr) {\r\n        super(context, attr);\r\n\r\n        BitmapFactory.Options options = new BitmapFactory.Options();\r\n        options.inPreferredConfig = Bitmap.Config.ARGB_8888;\r\n        backgroundMask = BitmapFactory.decodeResource(getResources(), R.drawable.background_new, options);\r\n        rollerBottom = BitmapFactory.decodeResource(getResources(), R.drawable.roller_bottom, options);\r\n\r\n        Bitmap scaledBackgroundMask = Bitmap.createScaledBitmap(backgroundMask, 1000, 1000, true);\r\n        scaledRollerBottom = Bitmap.createScaledBitmap(rollerBottom, 120, 31, false);\r\n//        int bitmap1Width = scaledBackgroundMask.getWidth();\r\n//        int bitmap1Height = scaledBackgroundMask.getHeight();\r\n//        overlayBitmap = Bitmap.createBitmap(bitmap1Width, bitmap1Height, scaledBackgroundMask.getConfig());\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n\r\n        Log.v(&quot;X  &quot;, &quot;is &quot; + x);\r\n        canvas.drawBitmap(scaledRollerBottom, (float) x, (float) 915, new Paint());\r\n\r\n        super.onDraw(canvas);\r\n\r\n    }\r\n}\r\n\r\n```\r\nCalling from activity class\r\n```\r\n            if (callback2 &gt; 0 &amp;&amp; callback2 &lt;= 0.1) {\r\n                customView.x = 468;\r\n                customView.draw(canvas);\r\n              //  customView.invalidate();\r\n            } else if (callback2 &lt; 0) {\r\n                customView.x = 650;\r\n                customView.draw(canvas);\r\n               // customView.invalidate();\r\n\r\n            } else if (callback2 &gt; 0.1) {\r\n                customView.x = 270;\r\n                customView.draw(canvas);\r\n                //customView.invalidate();\r\n\r\n            }\r\n```\r\n","title":"onDraw method does not change bitmap position inside canvas","body":"<p>I would like to change position of bitmap inside Canvas from Activity class. My solution from below only draws first value of x (left) as zero, later on does not change x value. But my Logcat shows that x value changes everytime when I call it from Activity. I would like to know where is my mistake ? onDraw method does not change position of bitmap.</p>\n<p>Custome view:</p>\n<pre><code>public class TheCustomView extends View {\n    Bitmap scaledRollerBottom;\n    Bitmap backgroundMask;\n    Bitmap rollerBottom;\n    Bitmap overlayBitmap;\n    float x;\n\n\n    public TheCustomView(Context context) {\n        super(context);\n\n    }\n    \n    public TheCustomView(Context context, AttributeSet attr) {\n        super(context, attr);\n\n        BitmapFactory.Options options = new BitmapFactory.Options();\n        options.inPreferredConfig = Bitmap.Config.ARGB_8888;\n        backgroundMask = BitmapFactory.decodeResource(getResources(), R.drawable.background_new, options);\n        rollerBottom = BitmapFactory.decodeResource(getResources(), R.drawable.roller_bottom, options);\n\n        Bitmap scaledBackgroundMask = Bitmap.createScaledBitmap(backgroundMask, 1000, 1000, true);\n        scaledRollerBottom = Bitmap.createScaledBitmap(rollerBottom, 120, 31, false);\n//        int bitmap1Width = scaledBackgroundMask.getWidth();\n//        int bitmap1Height = scaledBackgroundMask.getHeight();\n//        overlayBitmap = Bitmap.createBitmap(bitmap1Width, bitmap1Height, scaledBackgroundMask.getConfig());\n\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n\n        Log.v(&quot;X  &quot;, &quot;is &quot; + x);\n        canvas.drawBitmap(scaledRollerBottom, (float) x, (float) 915, new Paint());\n\n        super.onDraw(canvas);\n\n    }\n}\n\n</code></pre>\n<p>Calling from activity class</p>\n<pre><code>            if (callback2 &gt; 0 &amp;&amp; callback2 &lt;= 0.1) {\n                customView.x = 468;\n                customView.draw(canvas);\n              //  customView.invalidate();\n            } else if (callback2 &lt; 0) {\n                customView.x = 650;\n                customView.draw(canvas);\n               // customView.invalidate();\n\n            } else if (callback2 &gt; 0.1) {\n                customView.x = 270;\n                customView.draw(canvas);\n                //customView.invalidate();\n\n            }\n</code></pre>\n"},{"tags":["java","android","json","api","rest"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1634578452,"post_id":69619174,"comment_id":123057526,"body_markdown":"&quot;Here is how my localhost looks&quot; is funny (since nobody else can see it).","body":"&quot;Here is how my localhost looks&quot; is funny (since nobody else can see it)."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634574447,"creation_date":1634574447,"answer_id":69619503,"question_id":69619174,"body_markdown":"By localhost do you mean the PC you&#39;re programming on, or the android device itself?\r\n\r\nIn the case you mean the Android device itself-  you would never use a RESTful service here.  You&#39;d just make direct DB calls.\r\n\r\nIn the case you meant your PC-  that isn&#39;t localhost.  Not to the device.  You need to use the actual IP of the device.  Even if you&#39;re using an emulator, the emulator thinks its a separate machine and has its own IP address-  localhost would only go to the emulator.  And if its an actual device and not an emulator, you need to have your WIFI set up to allow traffic to that port (assuming your PC is on the same wifi network as your device.  If not, its even more complicated).","title":"How to get JSON data from localhost in Android Studio (RESTful API)","body":"<p>By localhost do you mean the PC you're programming on, or the android device itself?</p>\n<p>In the case you mean the Android device itself-  you would never use a RESTful service here.  You'd just make direct DB calls.</p>\n<p>In the case you meant your PC-  that isn't localhost.  Not to the device.  You need to use the actual IP of the device.  Even if you're using an emulator, the emulator thinks its a separate machine and has its own IP address-  localhost would only go to the emulator.  And if its an actual device and not an emulator, you need to have your WIFI set up to allow traffic to that port (assuming your PC is on the same wifi network as your device.  If not, its even more complicated).</p>\n"}],"owner":{"account_id":22035408,"reputation":15,"user_id":16302012,"display_name":"22eragon22"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634575797,"creation_date":1634572963,"question_id":69619174,"body_markdown":"So i&#39;ve followed some tutorial on YT on how to get JSON object and JSON array of objects from website using URL and it worked. The code is below. Now, i&#39;ve tried doing the exact same thing with URL of my localhost database, but it didn&#39;t work. I didn&#39;t get any errors or anything, and i have no idea what is the problem. I&#39;m trying to do some RESTful API, in which the code in java is creating table with data in database, and it works perfectly, it&#39;s just that i cannot connect android app to it.\r\n\r\n```\r\npackage com.example.motto_app;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonArrayRequest;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\nimport java.net.URL;\r\n\r\nimport javax.net.ssl.HttpsURLConnection;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    RadioGroup RG;\r\n    RadioButton bA, bB, bC, bD;\r\n    TextView tA, tB, tC, tD, tQ;\r\n    Button bN;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        //assigning variables to objects in layout\r\n        RG = findViewById(R.id.radioGroup);\r\n\r\n        bA = findViewById(R.id.answerAButton);\r\n        bB = findViewById(R.id.answerBButton);\r\n        bC = findViewById(R.id.answerCButton);\r\n        bD = findViewById(R.id.answerDButton);\r\n\r\n        tA = findViewById(R.id.answerAText);\r\n        tB = findViewById(R.id.answerBText);\r\n        tC = findViewById(R.id.answerCText);\r\n        tD = findViewById(R.id.answerDText);\r\n\r\n        tQ = findViewById(R.id.textQuestion);\r\n\r\n        bN = findViewById(R.id.NextButton);\r\n\r\n\r\n\r\n        //on-click listeners\r\n        bN.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\r\n                String url =&quot;http://localhost:8080/quiz&quot;;\r\n\r\n\r\n                JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONArray&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONArray response) {\r\n                        String question = &quot;&quot;;\r\n\r\n                        try {\r\n                            JSONObject cityInfo = response.getJSONObject(0);\r\n                            question = cityInfo.getString(&quot;question&quot;);\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;Question: &quot; + question, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        Toast.makeText(MainActivity.this, &quot;Something wrong&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n\r\n                queue.add(request);\r\n            }\r\n        });\r\n\r\n        bA.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(MainActivity.this, &quot;AAA&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        bB.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(MainActivity.this, &quot;BBB&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        bC.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(MainActivity.this, &quot;CCC&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n        bD.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(MainActivity.this, &quot;DDD&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n}\r\n``` \r\n\r\n\r\n\r\nNow i just want to add that the only thing that i&#39;ve changed from the original code from YT is URL and variable names. The code worked perfectly with standard URL. Here is how my localhost looks: [http://localhost:8080/quiz][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2SELO.png","title":"How to get JSON data from localhost in Android Studio (RESTful API)","body":"<p>So i've followed some tutorial on YT on how to get JSON object and JSON array of objects from website using URL and it worked. The code is below. Now, i've tried doing the exact same thing with URL of my localhost database, but it didn't work. I didn't get any errors or anything, and i have no idea what is the problem. I'm trying to do some RESTful API, in which the code in java is creating table with data in database, and it works perfectly, it's just that i cannot connect android app to it.</p>\n<pre><code>package com.example.motto_app;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.JsonArrayRequest;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\nimport javax.net.ssl.HttpsURLConnection;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    RadioGroup RG;\n    RadioButton bA, bB, bC, bD;\n    TextView tA, tB, tC, tD, tQ;\n    Button bN;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        //assigning variables to objects in layout\n        RG = findViewById(R.id.radioGroup);\n\n        bA = findViewById(R.id.answerAButton);\n        bB = findViewById(R.id.answerBButton);\n        bC = findViewById(R.id.answerCButton);\n        bD = findViewById(R.id.answerDButton);\n\n        tA = findViewById(R.id.answerAText);\n        tB = findViewById(R.id.answerBText);\n        tC = findViewById(R.id.answerCText);\n        tD = findViewById(R.id.answerDText);\n\n        tQ = findViewById(R.id.textQuestion);\n\n        bN = findViewById(R.id.NextButton);\n\n\n\n        //on-click listeners\n        bN.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                RequestQueue queue = Volley.newRequestQueue(MainActivity.this);\n                String url =&quot;http://localhost:8080/quiz&quot;;\n\n\n                JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url, null, new Response.Listener&lt;JSONArray&gt;() {\n                    @Override\n                    public void onResponse(JSONArray response) {\n                        String question = &quot;&quot;;\n\n                        try {\n                            JSONObject cityInfo = response.getJSONObject(0);\n                            question = cityInfo.getString(&quot;question&quot;);\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n\n                        Toast.makeText(MainActivity.this, &quot;Question: &quot; + question, Toast.LENGTH_SHORT).show();\n                    }\n                }, new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        Toast.makeText(MainActivity.this, &quot;Something wrong&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n\n                queue.add(request);\n            }\n        });\n\n        bA.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(MainActivity.this, &quot;AAA&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        bB.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(MainActivity.this, &quot;BBB&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        bC.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(MainActivity.this, &quot;CCC&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        bD.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(MainActivity.this, &quot;DDD&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n<p>Now i just want to add that the only thing that i've changed from the original code from YT is URL and variable names. The code worked perfectly with standard URL. Here is how my localhost looks: <a href=\"https://i.stack.imgur.com/2SELO.png\" rel=\"nofollow noreferrer\">http://localhost:8080/quiz</a></p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":0,"creation_date":1626661986,"post_id":68434506,"comment_id":120944616,"body_markdown":"I see a host of issues. Try putting in a string with 3 or more consecutive characters.","body":"I see a host of issues. Try putting in a string with 3 or more consecutive characters."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":2,"creation_date":1626662073,"post_id":68434506,"comment_id":120944625,"body_markdown":"A quick google for Java run length encoding should bring up a plethora of correct implementations.","body":"A quick google for Java run length encoding should bring up a plethora of correct implementations."}],"answers":[{"tags":[],"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1626662894,"creation_date":1626662508,"answer_id":68434577,"question_id":68434506,"body_markdown":"````\r\npublic static String compressedString(String message) {\r\n    StringBuilder compressedString = new StringBuilder();\r\n    int total = 1;\r\n    for (int i = 0; i &lt; message.length() - 1; i++){\r\n        if (message.charAt(i) == message.charAt(i+1)){\r\n            total++;\r\n        }\r\n        else if(total==1){\r\n            compressedString.append(message.charAt(i));\r\n        }\r\n        else \r\n        {\r\n            compressedString.append(message.charAt(i)).append(total);\r\n            total = 1;\r\n        }\r\n    }\r\n    if(message.charAt(message.length()-2) != message.charAt(message.length()-1)\r\n        compressedString.append(message.charAt(message.length()-1));\r\n    else\r\n        compressedString.append(message.charAt(message.length()-1)).append(total);\r\n\r\n    return compressedString.toString();\r\n}\r\n````","title":"Java - Compressed String","body":"<pre><code>public static String compressedString(String message) {\n    StringBuilder compressedString = new StringBuilder();\n    int total = 1;\n    for (int i = 0; i &lt; message.length() - 1; i++){\n        if (message.charAt(i) == message.charAt(i+1)){\n            total++;\n        }\n        else if(total==1){\n            compressedString.append(message.charAt(i));\n        }\n        else \n        {\n            compressedString.append(message.charAt(i)).append(total);\n            total = 1;\n        }\n    }\n    if(message.charAt(message.length()-2) != message.charAt(message.length()-1)\n        compressedString.append(message.charAt(message.length()-1));\n    else\n        compressedString.append(message.charAt(message.length()-1)).append(total);\n\n    return compressedString.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21480022,"reputation":128,"user_id":15827548,"display_name":"MattDog_222 Overwatch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626663014,"creation_date":1626663014,"answer_id":68434615,"question_id":68434506,"body_markdown":"\tpublic static String compressedString(String message)\r\n\t{\r\n        String result = &quot;&quot; ;\r\n        \r\n        for ( int i = 0, t = message.length() - 1 ; i &lt; t ; )\r\n        {\r\n        \tString letter = String.valueOf( message.charAt(i) ) ;\r\n        \tint currentChain = consec( i, message ) ;\r\n        \t\r\n        \tresult += ( currentChain &gt; 1 ? ( letter + currentChain ) : letter ) ;\r\n        \t\r\n        \ti += currentChain ;\r\n\r\n        }\r\n        return result ;\r\n    }\r\n\t\r\n\tprivate static int consec( int startIndex, String text )\r\n\t{\r\n\t\tint chain = 1 ;\r\n\t\t\r\n\t\tfor( int i = startIndex ; i &lt; text.length() - 1 ; ++i )\r\n\t\t{\r\n\t\t\tif( text.charAt(i) == text.charAt(i+1) )\r\n\t\t\t\tchain++ ;\r\n\t\t\telse\r\n\t\t\t\tbreak ;\r\n\t\t}\r\n\t\t\r\n\t\treturn chain ;\r\n\t}","title":"Java - Compressed String","body":"<pre><code>public static String compressedString(String message)\n{\n    String result = &quot;&quot; ;\n    \n    for ( int i = 0, t = message.length() - 1 ; i &lt; t ; )\n    {\n        String letter = String.valueOf( message.charAt(i) ) ;\n        int currentChain = consec( i, message ) ;\n        \n        result += ( currentChain &gt; 1 ? ( letter + currentChain ) : letter ) ;\n        \n        i += currentChain ;\n\n    }\n    return result ;\n}\n\nprivate static int consec( int startIndex, String text )\n{\n    int chain = 1 ;\n    \n    for( int i = startIndex ; i &lt; text.length() - 1 ; ++i )\n    {\n        if( text.charAt(i) == text.charAt(i+1) )\n            chain++ ;\n        else\n            break ;\n    }\n    \n    return chain ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23070619,"reputation":1,"user_id":17184415,"display_name":"Michael O&#39;Grady"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634575535,"creation_date":1634575535,"answer_id":69619699,"question_id":68434506,"body_markdown":"This is your solution for your question\r\n\r\n\tstatic void compressedString(String str) {\r\n\t\tint n = str.length();\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\r\n\t\t\t// Count occurrences of current character\r\n\t\t\tint count = 1;\r\n\t\t\twhile (i &lt; n - 1 &amp;&amp; str.charAt(i) == str.charAt(i + 1)) {\r\n\t\t\t\tcount++;\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\r\n\t\t\tif (count == 1) {\r\n\t\t\t\tSystem.out.print(str.charAt(i));\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.print(str.charAt(i));\r\n\t\t\t\tSystem.out.print(count);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString str = &quot;abaasass&quot;;\r\n\t\tcompressedString(str);\r\n\t}","title":"Java - Compressed String","body":"<p>This is your solution for your question</p>\n<pre><code>static void compressedString(String str) {\n    int n = str.length();\n    for (int i = 0; i &lt; n; i++) {\n\n        // Count occurrences of current character\n        int count = 1;\n        while (i &lt; n - 1 &amp;&amp; str.charAt(i) == str.charAt(i + 1)) {\n            count++;\n            i++;\n        }\n\n        if (count == 1) {\n            System.out.print(str.charAt(i));\n        } else {\n            System.out.print(str.charAt(i));\n            System.out.print(count);\n        }\n    }\n}\n\npublic static void main(String[] args) {\n    String str = &quot;abaasass&quot;;\n    compressedString(str);\n}\n</code></pre>\n"}],"owner":{"account_id":21860332,"reputation":59,"user_id":16151206,"display_name":"Fire Assassin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3638,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68434577,"answer_count":3,"score":1,"last_activity_date":1634575535,"creation_date":1626661726,"question_id":68434506,"body_markdown":"Given a string, I want to compress the string based on each character&#39;s number of consecutive occurrences next to it. For example, let&#39;s say we have a string like `&quot;abaasass&quot;`. `&#39;a&#39;` occurs one time, `&#39;b&#39;` occurs one time, &#39;a&#39; occurs two times consecutively, `&#39;s&#39;` occurs one time, `&#39;a&#39;` occurs one time, and `&#39;s&#39;` occurs two times consecutively. The method should then return a string like `&quot;aba2sas2&quot;`.\r\n\r\nThis is what I have so far:\r\n\r\n    public static String compressedString(String message) {\r\n            StringBuilder compressedString = new StringBuilder();\r\n            int total = 0;\r\n            for (int i = 0; i &lt; message.length() - 1; i++){\r\n                if (message.charAt(i) == message.charAt(i+1)){\r\n                    total += 2;\r\n                    compressedString.append(message.charAt(i)).append(total);\r\n                }\r\n                else {\r\n                    compressedString.append(message.charAt(i));\r\n                }\r\n                total = 0;\r\n            }\r\n            return compressedString.toString();\r\n        }\r\n\r\nIt instead returns: `&quot;aba2asas2&quot;` which is somewhat close, anyone sees the issue?","title":"Java - Compressed String","body":"<p>Given a string, I want to compress the string based on each character's number of consecutive occurrences next to it. For example, let's say we have a string like <code>&quot;abaasass&quot;</code>. <code>'a'</code> occurs one time, <code>'b'</code> occurs one time, 'a' occurs two times consecutively, <code>'s'</code> occurs one time, <code>'a'</code> occurs one time, and <code>'s'</code> occurs two times consecutively. The method should then return a string like <code>&quot;aba2sas2&quot;</code>.</p>\n<p>This is what I have so far:</p>\n<pre><code>public static String compressedString(String message) {\n        StringBuilder compressedString = new StringBuilder();\n        int total = 0;\n        for (int i = 0; i &lt; message.length() - 1; i++){\n            if (message.charAt(i) == message.charAt(i+1)){\n                total += 2;\n                compressedString.append(message.charAt(i)).append(total);\n            }\n            else {\n                compressedString.append(message.charAt(i));\n            }\n            total = 0;\n        }\n        return compressedString.toString();\n    }\n</code></pre>\n<p>It instead returns: <code>&quot;aba2asas2&quot;</code> which is somewhat close, anyone sees the issue?</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1634562363,"post_id":69616587,"comment_id":123050761,"body_markdown":"Is `ddsjson` an object of type `AdditionalFields`? If it isn&#39;t: can you reproduce this by calling `writeValueAsString(anInstanceOfAdditionalFields)`? If you can&#39;t, then you might want to look at (and show us) the place where a field of type `AdditionalFields` is defined.","body":"Is <code>ddsjson</code> an object of type <code>AdditionalFields</code>? If it isn&#39;t: can you reproduce this by calling <code>writeValueAsString(anInstanceOfAdditionalFields)</code>? If you can&#39;t, then you might want to look at (and show us) the place where a field of type <code>AdditionalFields</code> is defined."},{"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"score":2,"creation_date":1634562524,"post_id":69616587,"comment_id":123050844,"body_markdown":"It looks like you&#39;re not showing us the whole `AdditionalFields` class. Does it by any chance contain the method `boolean isEmpty()`?","body":"It looks like you&#39;re not showing us the whole <code>AdditionalFields</code> class. Does it by any chance contain the method <code>boolean isEmpty()</code>?"},{"owner":{"account_id":971494,"reputation":1544,"user_id":993990,"accept_rate":96,"display_name":"conteh"},"score":0,"creation_date":1634564842,"post_id":69616587,"comment_id":123051967,"body_markdown":"@BambooleanLogic is does contain an isEmpty method. That has no associated json property. How did you know?","body":"@BambooleanLogic is does contain an isEmpty method. That has no associated json property. How did you know?"}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634575043,"creation_date":1634575043,"answer_id":69619603,"question_id":69616587,"body_markdown":"&gt; However I&#39;m getting an additional field &quot;empty&quot;: false, in the json\r\n&gt; output which is unwanted. I&#39;m wondering why that field shows up in the\r\n&gt; output and how to remove it.\r\n\r\nAs an user suggested in his comment this behaviour is due to the fact that Jackson library for the serialization inspects your class and when it finds a method beginning with the prefix *is*, it automatically adds a field in the json file with the name (in this case `empty`) that appears after the prefix *is* and the corresponding value. To avoid this you can annotate your method with [`JsonIgnore`](https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonIgnore.html).","title":"Why does jackson add an &quot;empty&quot;: false, into the Json","body":"<blockquote>\n<p>However I'm getting an additional field &quot;empty&quot;: false, in the json\noutput which is unwanted. I'm wondering why that field shows up in the\noutput and how to remove it.</p>\n</blockquote>\n<p>As an user suggested in his comment this behaviour is due to the fact that Jackson library for the serialization inspects your class and when it finds a method beginning with the prefix <em>is</em>, it automatically adds a field in the json file with the name (in this case <code>empty</code>) that appears after the prefix <em>is</em> and the corresponding value. To avoid this you can annotate your method with <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\"><code>JsonIgnore</code></a>.</p>\n"}],"owner":{"account_id":971494,"reputation":1544,"user_id":993990,"accept_rate":96,"display_name":"conteh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1797,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69619603,"answer_count":1,"score":0,"last_activity_date":1634575043,"creation_date":1634562128,"question_id":69616587,"body_markdown":"I&#39;ve annotated a Java class with Jackson \r\n\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n    import java.text.DateFormat;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    @JsonPropertyOrder({\r\n      &quot;estimated_shipping_weight&quot;,\r\n      &quot;useestimatedweight&quot;,\r\n      &quot;matched&quot;,\r\n      &quot;available&quot;,\r\n      &quot;primary_vendor&quot;,\r\n      &quot;stock_status_code&quot;,\r\n      &quot;primary_vendor&quot;,\r\n      &quot;listprice&quot;,\r\n      &quot;webprice&quot;,\r\n      &quot;hits&quot;,\r\n      &quot;IsIndividual&quot;,\r\n      &quot;clearance&quot;,\r\n      &quot;display_uom&quot;,\r\n      &quot;display_uom_factor&quot;,\r\n      &quot;weight&quot;,\r\n      &quot;rank&quot;,\r\n      &quot;box_qty&quot;,\r\n      &quot;ddsFileDateSource&quot;,\r\n      &quot;dateLastUpdated&quot;,\r\n      &quot;ddiFileDateSource&quot;,\r\n      &quot;cost&quot;\r\n    })\r\n    \r\n    public class AdditionalFields {\r\n    \r\n      public static final Logger LOG = LoggerFactory.getLogger(AdditionalFields.class);\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;estimated_shipping_weight&quot;)\r\n      private Double estimatedShippingWeight;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;useestimatedweight&quot;)\r\n      private String useestimatedweight;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;matched&quot;)\r\n      private String matched;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;IsIndividual&quot;)\r\n      private String IsIndividual;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;stock_status_code&quot;)\r\n      private String stockStatusCode;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;available&quot;)\r\n      private Integer available;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;sch_available&quot;)\r\n      private String schAvailable;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;primary_vendor&quot;)\r\n      private Integer primaryVendor;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;listprice&quot;)\r\n      private Double listprice;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;webprice&quot;)\r\n      private Double webprice;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;hits&quot;)\r\n      private Integer hits;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;clearance&quot;)\r\n      private String clearance;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;display_uom_factor&quot;)\r\n      private Integer displayUomFactor;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;display_uom&quot;)\r\n      private String displayUom;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;weight&quot;)\r\n      private Double weight;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;box_qty&quot;)\r\n      private Integer boxQty;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;rank&quot;)\r\n      private Integer rank;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;product_line_description&quot;)\r\n      private String productLineDescription;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;ddiFileDateSource&quot;)\r\n      private String ddiFileDateSource;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;ddsFileDateSource&quot;)\r\n      private String ddsFileDateSource;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;dateLastUpdated&quot;)\r\n      private String dateLastUpdated;\r\n      @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n      @JsonProperty(&quot;cost&quot;)\r\n      private String cost;\r\n\r\n\r\nHowever I&#39;m getting an additional field **&quot;empty&quot;: false**, in the json output which is unwanted. I&#39;m wondering why that field shows up in the output and how to remove it.\r\n\r\n       &quot;additional_fields&quot;: {\r\n            &quot;matched&quot;: &quot;f&quot;,\r\n            &quot;available&quot;: 0,\r\n            &quot;primary_vendor&quot;: 864,\r\n            &quot;listprice&quot;: 1364.29,\r\n            &quot;webprice&quot;: 1604.414,\r\n            &quot;display_uom&quot;: &quot;EA&quot;,\r\n            &quot;display_uom_factor&quot;: 1,\r\n            &quot;ddiFileDateSource&quot;: &quot;DDI_2021_10_06_14_36_37.zip&quot;,\r\n            &quot;empty&quot;: false,\r\n            &quot;product_line_description&quot;: &quot;ABB&quot;\r\n        }\r\n\r\nSerialization\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n    String json = mapper.writeValueAsString(additionalFields);\r\n\r\n","title":"Why does jackson add an &quot;empty&quot;: false, into the Json","body":"<p>I've annotated a Java class with Jackson</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\n@JsonPropertyOrder({\n  &quot;estimated_shipping_weight&quot;,\n  &quot;useestimatedweight&quot;,\n  &quot;matched&quot;,\n  &quot;available&quot;,\n  &quot;primary_vendor&quot;,\n  &quot;stock_status_code&quot;,\n  &quot;primary_vendor&quot;,\n  &quot;listprice&quot;,\n  &quot;webprice&quot;,\n  &quot;hits&quot;,\n  &quot;IsIndividual&quot;,\n  &quot;clearance&quot;,\n  &quot;display_uom&quot;,\n  &quot;display_uom_factor&quot;,\n  &quot;weight&quot;,\n  &quot;rank&quot;,\n  &quot;box_qty&quot;,\n  &quot;ddsFileDateSource&quot;,\n  &quot;dateLastUpdated&quot;,\n  &quot;ddiFileDateSource&quot;,\n  &quot;cost&quot;\n})\n\npublic class AdditionalFields {\n\n  public static final Logger LOG = LoggerFactory.getLogger(AdditionalFields.class);\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;estimated_shipping_weight&quot;)\n  private Double estimatedShippingWeight;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;useestimatedweight&quot;)\n  private String useestimatedweight;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;matched&quot;)\n  private String matched;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;IsIndividual&quot;)\n  private String IsIndividual;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;stock_status_code&quot;)\n  private String stockStatusCode;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;available&quot;)\n  private Integer available;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;sch_available&quot;)\n  private String schAvailable;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;primary_vendor&quot;)\n  private Integer primaryVendor;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;listprice&quot;)\n  private Double listprice;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;webprice&quot;)\n  private Double webprice;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;hits&quot;)\n  private Integer hits;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;clearance&quot;)\n  private String clearance;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;display_uom_factor&quot;)\n  private Integer displayUomFactor;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;display_uom&quot;)\n  private String displayUom;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;weight&quot;)\n  private Double weight;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;box_qty&quot;)\n  private Integer boxQty;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;rank&quot;)\n  private Integer rank;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;product_line_description&quot;)\n  private String productLineDescription;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;ddiFileDateSource&quot;)\n  private String ddiFileDateSource;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;ddsFileDateSource&quot;)\n  private String ddsFileDateSource;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;dateLastUpdated&quot;)\n  private String dateLastUpdated;\n  @JsonInclude(JsonInclude.Include.NON_EMPTY)\n  @JsonProperty(&quot;cost&quot;)\n  private String cost;\n</code></pre>\n<p>However I'm getting an additional field <strong>&quot;empty&quot;: false</strong>, in the json output which is unwanted. I'm wondering why that field shows up in the output and how to remove it.</p>\n<pre><code>   &quot;additional_fields&quot;: {\n        &quot;matched&quot;: &quot;f&quot;,\n        &quot;available&quot;: 0,\n        &quot;primary_vendor&quot;: 864,\n        &quot;listprice&quot;: 1364.29,\n        &quot;webprice&quot;: 1604.414,\n        &quot;display_uom&quot;: &quot;EA&quot;,\n        &quot;display_uom_factor&quot;: 1,\n        &quot;ddiFileDateSource&quot;: &quot;DDI_2021_10_06_14_36_37.zip&quot;,\n        &quot;empty&quot;: false,\n        &quot;product_line_description&quot;: &quot;ABB&quot;\n    }\n</code></pre>\n<p>Serialization</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\nString json = mapper.writeValueAsString(additionalFields);\n</code></pre>\n"},{"tags":["java","hibernate","quarkus"],"answers":[{"tags":[],"owner":{"account_id":15400934,"reputation":1598,"user_id":11110455,"display_name":"Felipe Windmoller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634574219,"creation_date":1634574219,"answer_id":69619461,"question_id":69616754,"body_markdown":"I believe you can use the persistence.xml.\r\n\r\nIn this [Quarkus Hibernate ORM guide - Setting up and configuring Hibernate ORM with a persistence.xml](https://quarkus.io/guides/hibernate-orm#persistence-xml) is written:\r\n&gt; Alternatively, you can use a META-INF/persistence.xml to set up Hibernate ORM. This is useful for: \r\n\r\n&gt; when you have relatively complex settings requiring the full flexibility of the configuration","title":"Unable to set few hibernate properties in Quarkus","body":"<p>I believe you can use the persistence.xml.</p>\n<p>In this <a href=\"https://quarkus.io/guides/hibernate-orm#persistence-xml\" rel=\"nofollow noreferrer\">Quarkus Hibernate ORM guide - Setting up and configuring Hibernate ORM with a persistence.xml</a> is written:</p>\n<blockquote>\n<p>Alternatively, you can use a META-INF/persistence.xml to set up Hibernate ORM. This is useful for:</p>\n</blockquote>\n<blockquote>\n<p>when you have relatively complex settings requiring the full flexibility of the configuration</p>\n</blockquote>\n"}],"owner":{"account_id":15324746,"reputation":31,"user_id":11056204,"display_name":"witty_arrow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634574219,"creation_date":1634562797,"question_id":69616754,"body_markdown":"I am trying to set this property (`hibernate.id.generator.stored_last_used`) in application.properties of a quarkus application. But quarkus is ignoring stating that it a `Unrecognized configuration key`.\r\n\r\nHow to set few hibernate properties which are not recognized by `quarkus-hibernate-orm` extension?","title":"Unable to set few hibernate properties in Quarkus","body":"<p>I am trying to set this property (<code>hibernate.id.generator.stored_last_used</code>) in application.properties of a quarkus application. But quarkus is ignoring stating that it a <code>Unrecognized configuration key</code>.</p>\n<p>How to set few hibernate properties which are not recognized by <code>quarkus-hibernate-orm</code> extension?</p>\n"},{"tags":["java","cqrs","event-sourcing","axon"],"comments":[{"owner":{"account_id":5601961,"reputation":1870,"user_id":4437909,"display_name":"Lucas Campos"},"score":0,"creation_date":1634549634,"post_id":69582408,"comment_id":123045590,"body_markdown":"AFAIK, you are not able to specify the end of it as it will always try to handle events up to the head of the stream, meaning all of the events. May I ask you what you are trying to achieve with that? Maybe there is a better way of doing it.","body":"AFAIK, you are not able to specify the end of it as it will always try to handle events up to the head of the stream, meaning all of the events. May I ask you what you are trying to achieve with that? Maybe there is a better way of doing it."},{"owner":{"account_id":7360228,"reputation":23,"user_id":5603714,"display_name":"Dave N"},"score":0,"creation_date":1634706802,"post_id":69582408,"comment_id":123093766,"body_markdown":"I am not that familiar with event sourcing so it might be there is a better way, I am open to suggestions.\n\nThe use case I am trying to implement is that we want the state of an aggregate at a certain point in time. When called on an endpoint with a date I want to replay everything from start to the last events before the given date.","body":"I am not that familiar with event sourcing so it might be there is a better way, I am open to suggestions.  The use case I am trying to implement is that we want the state of an aggregate at a certain point in time. When called on an endpoint with a date I want to replay everything from start to the last events before the given date."}],"answers":[{"tags":[],"owner":{"account_id":18156397,"reputation":154,"user_id":13208353,"display_name":"Yvonne Ceelie"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634291596,"creation_date":1634291596,"answer_id":69582921,"question_id":69582408,"body_markdown":"This is indeed possible by configuring the token, you can even tell the API to start at a certain point in time.  If you take a look at the StreamableMessageSource interface, you can see that it has the following operations:\r\n\r\n    StreamableMessageSource#createTailToken()\r\n    StreamableMessageSource#createHeadToken()\r\n    StreamableMessageSource#createTokenAt(Instant)\r\n    StreamableMessageSource#createTokenSince(Duration)\r\nYou can find more info around this topic in the [Reference guide][1]\r\n\r\n\r\n  [1]: https://docs.axoniq.io/reference-guide/v/master/axon-framework/events/event-processors/streaming#token-configuration","title":"Axon 4 replay specify end token instead of start token","body":"<p>This is indeed possible by configuring the token, you can even tell the API to start at a certain point in time.  If you take a look at the StreamableMessageSource interface, you can see that it has the following operations:</p>\n<pre><code>StreamableMessageSource#createTailToken()\nStreamableMessageSource#createHeadToken()\nStreamableMessageSource#createTokenAt(Instant)\nStreamableMessageSource#createTokenSince(Duration)\n</code></pre>\n<p>You can find more info around this topic in the <a href=\"https://docs.axoniq.io/reference-guide/v/master/axon-framework/events/event-processors/streaming#token-configuration\" rel=\"nofollow noreferrer\">Reference guide</a></p>\n"},{"tags":[],"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634574086,"creation_date":1634574086,"answer_id":69619431,"question_id":69582408,"body_markdown":"As already became apparent from Yvonne her reply, Axon Framework&#39;s [Replay API][1] does not provide functionality like this. Not out of the box, at least.\r\n\r\nThere&#39;s a little confusion in your question, however.\r\nDo you want to recreate an aggregate in the sense of the command model, or are you talking about a query model?\r\n\r\nIf it&#39;s the former, then I&#39;d like to state that recreating the Command Model until a given point in time wouldn&#39;t do justice to the decision-making logic (in most scenarios). The Command Model&#39;s aggregate should portray *all* changes to deduce how to react to the following command.\r\n\r\nHaving said that, I think you&#39;re not looking to reconstruct the `@Aggregate` annotated class within your framework. Instead, you have a query model that&#39;s a one-to-one mapping of a single aggregate instance&#39;s events that you&#39;re looking to recreate. Until a given point in time, of course.\r\n\r\nTo achieve this, you could construct an `AnnotationEventHandlerAdapter` (internal Axon Framework class) and manually invoke the handle method for a filtered stream of events. You have the power to deduce what goes in the filtered event stream, so also whether it should stop after a given timestamp.\r\n\r\nBuilding something like this could be done like so:\r\n```java\r\nclass QueryModelReplayer {\r\n\r\n    private final EventStore eventStore;\r\n\r\n    QueryModelReplayer(EventStore eventStore) {\r\n        this.eventStore = eventStore;\r\n    }\r\n\r\n    public MyQueryModel createQueryModel(String aggregateId, Instant endPoint) {\r\n        MyQueryModel queryModel = new MyQueryModel();\r\n        AnnotationEventHandlerAdapter queryModelEventHandler = new AnnotationEventHandlerAdapter(queryModel);\r\n\r\n        DomainEventStream domainEventStream = eventStore.readEvents(aggregateId);\r\n\r\n        domainEventStream.asStream()\r\n                         .filter(trackedEvent -&gt; trackedEvent.getTimestamp().isBefore(endPoint))\r\n                         .forEach(trackedEvent -&gt; {\r\n                             try {\r\n                                 queryModelEventHandler.handle(trackedEvent);\r\n                             } catch (Exception e) {\r\n                                 // deal with exception...\r\n                             }\r\n                         });\r\n        \r\n        return queryModel;\r\n    }\r\n\r\n    public static class MyQueryModel {\r\n\r\n        private String myString;\r\n        private Integer myInt;\r\n        // or any state you&#39;d need really\r\n\r\n        @EventHandler\r\n        public void on(String event) {\r\n            myString = event;\r\n        }\r\n\r\n        @EventHandler\r\n        public void on(Integer event) {\r\n            myInt = event;\r\n        }\r\n        // or any event handler you have really\r\n    }\r\n}\r\n```\r\n\r\nThe above will allow you to construct a Query Model based on a specific aggregate&#39;s event stream, stopping at a certain point in time.\r\nIf the event stream should consist out of **all** events from **any** aggregate, you&#39;d use the `EventStore#openStream` method instead.\r\n\r\nAs you see, this is quite some stuff to do.\r\nThe reason for this not to exist in Axon Framework is that it&#39;s quite a hefty tool. It will read an entire aggregate&#39;s event stream every time a query is performed, with queries typically happening quite often. Sure, command handling does the same, but there are built-in snapshotting and caches on that end to simplify the process. Axon doesn&#39;t know whether your Query Model is based on a single aggregate stream or the entire event stream. Especially in the latter case, you&#39;d be retrieving _the whole event stream_ every time you&#39;d query the model.\r\n\r\nConcluding, you could use the above to solve your use case. Whether it&#39;s the best tool for the job is a second question, though. If you anticipate needing a Query Model from point-in-time x-to-y very frequently, looking into a time-series database might be a smarter tool for the job.\r\n\r\nThat&#39;s my two cents, hope this helps!\r\n\r\n  [1]: https://docs.axoniq.io/reference-guide/axon-framework/events/event-processors/streaming#replaying-events","title":"Axon 4 replay specify end token instead of start token","body":"<p>As already became apparent from Yvonne her reply, Axon Framework's <a href=\"https://docs.axoniq.io/reference-guide/axon-framework/events/event-processors/streaming#replaying-events\" rel=\"nofollow noreferrer\">Replay API</a> does not provide functionality like this. Not out of the box, at least.</p>\n<p>There's a little confusion in your question, however.\nDo you want to recreate an aggregate in the sense of the command model, or are you talking about a query model?</p>\n<p>If it's the former, then I'd like to state that recreating the Command Model until a given point in time wouldn't do justice to the decision-making logic (in most scenarios). The Command Model's aggregate should portray <em>all</em> changes to deduce how to react to the following command.</p>\n<p>Having said that, I think you're not looking to reconstruct the <code>@Aggregate</code> annotated class within your framework. Instead, you have a query model that's a one-to-one mapping of a single aggregate instance's events that you're looking to recreate. Until a given point in time, of course.</p>\n<p>To achieve this, you could construct an <code>AnnotationEventHandlerAdapter</code> (internal Axon Framework class) and manually invoke the handle method for a filtered stream of events. You have the power to deduce what goes in the filtered event stream, so also whether it should stop after a given timestamp.</p>\n<p>Building something like this could be done like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class QueryModelReplayer {\n\n    private final EventStore eventStore;\n\n    QueryModelReplayer(EventStore eventStore) {\n        this.eventStore = eventStore;\n    }\n\n    public MyQueryModel createQueryModel(String aggregateId, Instant endPoint) {\n        MyQueryModel queryModel = new MyQueryModel();\n        AnnotationEventHandlerAdapter queryModelEventHandler = new AnnotationEventHandlerAdapter(queryModel);\n\n        DomainEventStream domainEventStream = eventStore.readEvents(aggregateId);\n\n        domainEventStream.asStream()\n                         .filter(trackedEvent -&gt; trackedEvent.getTimestamp().isBefore(endPoint))\n                         .forEach(trackedEvent -&gt; {\n                             try {\n                                 queryModelEventHandler.handle(trackedEvent);\n                             } catch (Exception e) {\n                                 // deal with exception...\n                             }\n                         });\n        \n        return queryModel;\n    }\n\n    public static class MyQueryModel {\n\n        private String myString;\n        private Integer myInt;\n        // or any state you'd need really\n\n        @EventHandler\n        public void on(String event) {\n            myString = event;\n        }\n\n        @EventHandler\n        public void on(Integer event) {\n            myInt = event;\n        }\n        // or any event handler you have really\n    }\n}\n</code></pre>\n<p>The above will allow you to construct a Query Model based on a specific aggregate's event stream, stopping at a certain point in time.\nIf the event stream should consist out of <strong>all</strong> events from <strong>any</strong> aggregate, you'd use the <code>EventStore#openStream</code> method instead.</p>\n<p>As you see, this is quite some stuff to do.\nThe reason for this not to exist in Axon Framework is that it's quite a hefty tool. It will read an entire aggregate's event stream every time a query is performed, with queries typically happening quite often. Sure, command handling does the same, but there are built-in snapshotting and caches on that end to simplify the process. Axon doesn't know whether your Query Model is based on a single aggregate stream or the entire event stream. Especially in the latter case, you'd be retrieving <em>the whole event stream</em> every time you'd query the model.</p>\n<p>Concluding, you could use the above to solve your use case. Whether it's the best tool for the job is a second question, though. If you anticipate needing a Query Model from point-in-time x-to-y very frequently, looking into a time-series database might be a smarter tool for the job.</p>\n<p>That's my two cents, hope this helps!</p>\n"}],"owner":{"account_id":7360228,"reputation":23,"user_id":5603714,"display_name":"Dave N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634574086,"creation_date":1634289040,"question_id":69582408,"body_markdown":"In my usecase I have to get the state of an aggregate before a certain point in time. Thus I like to specify the end token for Axon to replay events, instead of start token. Is this even possible with the Replay API, the only examples I found thus far is getting the events from a specific token till the end of the stream, I want it backwards.\r\n\r\n- 2021-15-10T11:00:00 Create Event &lt;-- Start\r\n- 2021-15-10T12:00:00 Update Event\r\n- 2021-15-10T13:00:00 Update Event &lt;-- End\r\n- 2021-15-10T14:00:00 Update Event\r\n\r\nI haven&#39;t found anything on the docs and any sample projects that this is supported. Have I overlooked this or should I build my own solution with re-triggering the aggregate with specified events?\r\n\r\nThanks in advance.\r\n","title":"Axon 4 replay specify end token instead of start token","body":"<p>In my usecase I have to get the state of an aggregate before a certain point in time. Thus I like to specify the end token for Axon to replay events, instead of start token. Is this even possible with the Replay API, the only examples I found thus far is getting the events from a specific token till the end of the stream, I want it backwards.</p>\n<ul>\n<li>2021-15-10T11:00:00 Create Event &lt;-- Start</li>\n<li>2021-15-10T12:00:00 Update Event</li>\n<li>2021-15-10T13:00:00 Update Event &lt;-- End</li>\n<li>2021-15-10T14:00:00 Update Event</li>\n</ul>\n<p>I haven't found anything on the docs and any sample projects that this is supported. Have I overlooked this or should I build my own solution with re-triggering the aggregate with specified events?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","swing","for-loop","jprogressbar"],"comments":[{"owner":{"account_id":392295,"reputation":146,"user_id":753468,"display_name":"Saran"},"score":5,"creation_date":1511186640,"post_id":47393846,"comment_id":81740663,"body_markdown":"Use SwingWorker,  doInBackground() and publish().","body":"Use SwingWorker,  doInBackground() and publish()."},{"owner":{"account_id":11932703,"reputation":93,"user_id":8732149,"accept_rate":100,"display_name":"David Gardener"},"score":0,"creation_date":1511259321,"post_id":47393846,"comment_id":81774254,"body_markdown":"Thank you this was of great use to me.","body":"Thank you this was of great use to me."}],"answers":[{"tags":[],"owner":{"account_id":11628615,"reputation":137,"user_id":8517624,"accept_rate":100,"display_name":"Abdane"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634574053,"creation_date":1511188271,"answer_id":47394411,"question_id":47393846,"body_markdown":"You need to use SwingWorker, When a Swing program needs to execute a long-running task, it usually uses one of the worker threads. So, try this:\r\n\r\n    public class JProgressBarTest extends SwingWorker&lt;Void,Integer&gt; {\r\n    \r\n    private JProgressBar jpb;\r\n      public ProgrssBarTest(JProgressBar jpb){\r\n        this.jpb = jpb;\r\n      }\r\n      \r\n      @Override\r\n      protected void process(List&lt;Integer&gt; chunks){\r\n        int i = chunks.get(chunks.size()-1);\r\n        jpb.setValue(i);\r\n      }\r\n\r\n      @Override\r\n      protected void doInBackground() throws Exception{\r\n        int x = 0;\r\n        for(int i = 850000; i&gt;0; i--) {\r\n            publish(x); //replace x with the number you want to increment the progressbar each time pubish is called\r\n            x = x + i; //or replace i with the increment you want\r\n            System.out.println(&quot;i = &quot; + i);\r\n        }\r\n      }\r\n\r\n      @Override\r\n      protected void done(){\r\n        try{\r\n          get();\r\n        }catch(ExecutionException |InterruptedException e){\r\n          ;\r\n        }\r\n      }\r\n\r\n    }\r\n\r\nin your class, replace the loop by calling new class of the class i wrote above and pass it a new JProgressBar() and adding .execute(), like this:\r\n\r\n    new JProgressBarTest(new JProgressBar()).execute();","title":"Creating a Progress Bar to update with results from a for loop in java","body":"<p>You need to use SwingWorker, When a Swing program needs to execute a long-running task, it usually uses one of the worker threads. So, try this:</p>\n<pre><code>public class JProgressBarTest extends SwingWorker&lt;Void,Integer&gt; {\n\nprivate JProgressBar jpb;\n  public ProgrssBarTest(JProgressBar jpb){\n    this.jpb = jpb;\n  }\n  \n  @Override\n  protected void process(List&lt;Integer&gt; chunks){\n    int i = chunks.get(chunks.size()-1);\n    jpb.setValue(i);\n  }\n\n  @Override\n  protected void doInBackground() throws Exception{\n    int x = 0;\n    for(int i = 850000; i&gt;0; i--) {\n        publish(x); //replace x with the number you want to increment the progressbar each time pubish is called\n        x = x + i; //or replace i with the increment you want\n        System.out.println(&quot;i = &quot; + i);\n    }\n  }\n\n  @Override\n  protected void done(){\n    try{\n      get();\n    }catch(ExecutionException |InterruptedException e){\n      ;\n    }\n  }\n\n}\n</code></pre>\n<p>in your class, replace the loop by calling new class of the class i wrote above and pass it a new JProgressBar() and adding .execute(), like this:</p>\n<pre><code>new JProgressBarTest(new JProgressBar()).execute();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1511189761,"creation_date":1511189194,"answer_id":47394669,"question_id":47393846,"body_markdown":"Here is the complete example, using `SwingWorker` proposed by the [Saran](https://stackoverflow.com/users/753468/saran)\r\n\r\n\timport java.awt.BorderLayout;\r\n\timport java.awt.EventQueue;\r\n\timport java.util.List;\r\n\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.JProgressBar;\r\n\timport javax.swing.SwingWorker;\r\n\timport javax.swing.border.EmptyBorder;\r\n\r\n\tpublic class ProgressBarTest extends JFrame {\r\n\r\n\t\tprivate static final long LOOP_LENGTH = 85000000;\r\n\r\n\t\tprivate JPanel contentPane;\r\n\r\n\t\t/**\r\n\t\t * Launch the application.\r\n\t\t */\r\n\t\tpublic static void main(String[] args) {\r\n\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tProgressBarTest frame = new ProgressBarTest();\r\n\t\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Create the frame.\r\n\t\t */\r\n\t\tpublic ProgressBarTest() {\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tsetBounds(100, 100, 450, 300);\r\n\t\t\tcontentPane = new JPanel();\r\n\t\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\t\t\tcontentPane.setLayout(new BorderLayout(0, 0));\r\n\t\t\tJProgressBar progress = new JProgressBar();\r\n\t\t\tprogress.setStringPainted(true);\r\n\t\t\tcontentPane.add(new JLabel(&quot;Loop progress is: &quot;), BorderLayout.NORTH);\r\n\t\t\tcontentPane.add(progress, BorderLayout.SOUTH);\r\n\t\t\tsetContentPane(contentPane);\r\n\t\t\tProgressWorker worker = new ProgressWorker(progress);\r\n\t\t\tworker.execute();\r\n\t\t}\r\n\r\n\t\tprivate static class ProgressWorker extends SwingWorker&lt;Void, Integer&gt; {\r\n\t\t\tprivate final JProgressBar progress;\r\n\r\n\t\t\tpublic ProgressWorker(JProgressBar progress) {\r\n\t\t\t\tthis.progress = progress;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected Void doInBackground() throws Exception {\r\n\t\t\t\tfor (long i = LOOP_LENGTH; i &gt; 0; i--) {\r\n\t\t\t\t\tfinal int progr = (int) ((100L * (LOOP_LENGTH - i)) / LOOP_LENGTH);\r\n\t\t\t\t\tpublish(progr);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void process(List&lt;Integer&gt; chunks) {\r\n\t\t\t\tprogress.setValue(chunks.get(chunks.size() - 1));\r\n\t\t\t\tsuper.process(chunks);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tprotected void done() {\r\n\t\t\t\tprogress.setValue(100);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Creating a Progress Bar to update with results from a for loop in java","body":"<p>Here is the complete example, using <code>SwingWorker</code> proposed by the <a href=\"https://stackoverflow.com/users/753468/saran\">Saran</a></p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.util.List;\n\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JProgressBar;\nimport javax.swing.SwingWorker;\nimport javax.swing.border.EmptyBorder;\n\npublic class ProgressBarTest extends JFrame {\n\n    private static final long LOOP_LENGTH = 85000000;\n\n    private JPanel contentPane;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    ProgressBarTest frame = new ProgressBarTest();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public ProgressBarTest() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 450, 300);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        contentPane.setLayout(new BorderLayout(0, 0));\n        JProgressBar progress = new JProgressBar();\n        progress.setStringPainted(true);\n        contentPane.add(new JLabel(\"Loop progress is: \"), BorderLayout.NORTH);\n        contentPane.add(progress, BorderLayout.SOUTH);\n        setContentPane(contentPane);\n        ProgressWorker worker = new ProgressWorker(progress);\n        worker.execute();\n    }\n\n    private static class ProgressWorker extends SwingWorker&lt;Void, Integer&gt; {\n        private final JProgressBar progress;\n\n        public ProgressWorker(JProgressBar progress) {\n            this.progress = progress;\n        }\n\n        @Override\n        protected Void doInBackground() throws Exception {\n            for (long i = LOOP_LENGTH; i &gt; 0; i--) {\n                final int progr = (int) ((100L * (LOOP_LENGTH - i)) / LOOP_LENGTH);\n                publish(progr);\n            }\n            return null;\n        }\n\n        @Override\n        protected void process(List&lt;Integer&gt; chunks) {\n            progress.setValue(chunks.get(chunks.size() - 1));\n            super.process(chunks);\n        }\n\n        @Override\n        protected void done() {\n            progress.setValue(100);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11932703,"reputation":93,"user_id":8732149,"accept_rate":100,"display_name":"David Gardener"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1511213093,"accepted_answer_id":47394669,"answer_count":2,"score":0,"last_activity_date":1634574053,"creation_date":1511186536,"question_id":47393846,"body_markdown":"I have created a for loop that counts from 0 to 850000. I have chosen a high number because I want to create a progress bar that will update using the results in the for loop. Here is the code that I have so far. \r\n\r\n\r\n\r\n    public class ProgressBarTest extends JFrame {\r\n    \r\n    \tprivate JPanel contentPane;\r\n    \r\n    \t/**\r\n    \t * Launch the application.\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\r\n    \t\tEventQueue.invokeLater(new Runnable() {\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tProgressBarTest frame = new ProgressBarTest();\r\n    \t\t\t\t\tframe.setVisible(true);\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Create the frame.\r\n    \t */\r\n    \tpublic ProgressBarTest() {\r\n    \t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tsetBounds(100, 100, 450, 300);\r\n    \t\tcontentPane = new JPanel();\r\n    \t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n    \t\tcontentPane.setLayout(new BorderLayout(0, 0));\r\n    \t\tsetContentPane(contentPane);\r\n    \t\t\r\n    \t\tfor(int i = 850000; i&gt;0; i--) {\r\n    \t\t\tSystem.out.println(&quot;i = &quot; + i);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nI cannot seem to find a way to get a progress bar to update using a for loop. I did create a progress bar that worked on a timer but that is not what I want it to do. I basically want it to update from 0% to 100%. This does seem simple to me but I have been stuck on it for a while. I appreciate any sort of sample code that will help me to understand how it works.","title":"Creating a Progress Bar to update with results from a for loop in java","body":"<p>I have created a for loop that counts from 0 to 850000. I have chosen a high number because I want to create a progress bar that will update using the results in the for loop. Here is the code that I have so far. </p>\n\n<pre><code>public class ProgressBarTest extends JFrame {\n\n    private JPanel contentPane;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n\n\n\n\n\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    ProgressBarTest frame = new ProgressBarTest();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public ProgressBarTest() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 450, 300);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        contentPane.setLayout(new BorderLayout(0, 0));\n        setContentPane(contentPane);\n\n        for(int i = 850000; i&gt;0; i--) {\n            System.out.println(\"i = \" + i);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>I cannot seem to find a way to get a progress bar to update using a for loop. I did create a progress bar that worked on a timer but that is not what I want it to do. I basically want it to update from 0% to 100%. This does seem simple to me but I have been stuck on it for a while. I appreciate any sort of sample code that will help me to understand how it works.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":0,"creation_date":1634573009,"post_id":69619164,"comment_id":123055638,"body_markdown":"Why do you want to use the variable without initializing it? What do you expect to happen?","body":"Why do you want to use the variable without initializing it? What do you expect to happen?"},{"owner":{"display_name":"user15511504"},"score":0,"creation_date":1634573180,"post_id":69619164,"comment_id":123055709,"body_markdown":"so that i can use , the variable in for loop or outside of the loop without declaring them again and agian","body":"so that i can use , the variable in for loop or outside of the loop without declaring them again and agian"},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":1,"creation_date":1634573361,"post_id":69619164,"comment_id":123055777,"body_markdown":"@DevanshKumar - You can declare a variable outside a for loop, and use it in the for loop, as long as you assign it a value before attempting to use its value. This eliminates what was a common cause of error in some other languages.","body":"@DevanshKumar - You can declare a variable outside a for loop, and use it in the for loop, as long as you assign it a value before attempting to use its value. This eliminates what was a common cause of error in some other languages."},{"owner":{"display_name":"user15511504"},"score":0,"creation_date":1634573822,"post_id":69619164,"comment_id":123055935,"body_markdown":"my professor had told a method , by using object we can use them , i forget the method which he told","body":"my professor had told a method , by using object we can use them , i forget the method which he told"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1634573916,"post_id":69619164,"comment_id":123055977,"body_markdown":"Scanner is an object. and nextInt is a method. You will need `int t = in.nextInt()` before your loop","body":"Scanner is an object. and nextInt is a method. You will need <code>int t = in.nextInt()</code> before your loop"},{"owner":{"display_name":"user15511504"},"score":0,"creation_date":1634573987,"post_id":69619164,"comment_id":123056009,"body_markdown":"yeah , there is one , i forget to put that in above code ,thanks!!","body":"yeah , there is one , i forget to put that in above code ,thanks!!"},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1634579543,"post_id":69619164,"comment_id":123057900,"body_markdown":"The second loop uses the value of `a`, but it may be unassigned, if the body of the first loop was never executed. You could avoid this by definitely assigning `a` a value -- e.g., in the declaration with `int a=0;`. However, defining two variables with small scopes can serve you better than declaring one variable in a large scope with two different purposes.","body":"The second loop uses the value of <code>a</code>, but it may be unassigned, if the body of the first loop was never executed. You could avoid this by definitely assigning <code>a</code> a value -- e.g., in the declaration with <code>int a=0;</code>. However, defining two variables with small scopes can serve you better than declaring one variable in a large scope with two different purposes."}],"owner":{"display_name":"user15511504"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634573255,"answer_count":0,"score":0,"last_activity_date":1634574048,"creation_date":1634572930,"question_id":69619164,"body_markdown":"so , while making a code in java there is a problem that  variable should initialized so that it work in the code , but I want to use the variable without initializing any value to it ,\r\n\r\n    class Solution{\r\n    \r\n    public static void main(String []argh){\r\n       \r\n        \r\n         int a;\r\n         int b ;\r\n          int n ;\r\n          Scanner in = new Scanner(System.in);\r\n         int t = in.nextInt();\r\n        for(int i=0;i&lt;t;i++){\r\n               a = in.nextInt();\r\n            b = in.nextInt();\r\n             n = in.nextInt();\r\n        }\r\n        \r\n        int sum=0;\r\n        for (int i =0;i&lt;=n; i=i*2)\r\n        {\r\n            sum=a+i*b;\r\n            System.out.print(sum);\r\n        }\r\n        \r\n      }\r\n    }\r\nthe above code is throwing the error that the variable is not initialized , but i don&#39;t want to initialize it  and i want to use them again and again without initializing again and again.\r\n\r\n ","title":"how to declare variable such that it don&#39;t give any error in java","body":"<p>so , while making a code in java there is a problem that  variable should initialized so that it work in the code , but I want to use the variable without initializing any value to it ,</p>\n<pre><code>class Solution{\n\npublic static void main(String []argh){\n   \n    \n     int a;\n     int b ;\n      int n ;\n      Scanner in = new Scanner(System.in);\n     int t = in.nextInt();\n    for(int i=0;i&lt;t;i++){\n           a = in.nextInt();\n        b = in.nextInt();\n         n = in.nextInt();\n    }\n    \n    int sum=0;\n    for (int i =0;i&lt;=n; i=i*2)\n    {\n        sum=a+i*b;\n        System.out.print(sum);\n    }\n    \n  }\n}\n</code></pre>\n<p>the above code is throwing the error that the variable is not initialized , but i don't want to initialize it  and i want to use them again and again without initializing again and again.</p>\n"},{"tags":["java","postgresql","jdbc","wildfly"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1634631602,"post_id":69618925,"comment_id":123070076,"body_markdown":"The prefix of the URL should be `jdbc:`, not `JDBC:`.","body":"The prefix of the URL should be <code>jdbc:</code>, not <code>JDBC:</code>."},{"owner":{"account_id":8496458,"reputation":1542,"user_id":6370924,"display_name":"Meraj al Maksud"},"score":0,"creation_date":1661594666,"post_id":69618925,"comment_id":129812481,"body_markdown":"Does this answer your question? [Postgres : No suitable Driver found for jdbc](https://stackoverflow.com/questions/18142711/postgres-no-suitable-driver-found-for-jdbc)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18142711/postgres-no-suitable-driver-found-for-jdbc\">Postgres : No suitable Driver found for jdbc</a>"}],"answers":[{"tags":[],"owner":{"account_id":20536408,"reputation":108,"user_id":15072388,"display_name":"heftymouse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634573940,"creation_date":1634573940,"answer_id":69619395,"question_id":69618925,"body_markdown":"Change `JDBC` to `jdbc`, it&#39;s case-sensitive.","title":"No suitable driver found for jdbc:postgresql://localhost:5432/postgres","body":"<p>Change <code>JDBC</code> to <code>jdbc</code>, it's case-sensitive.</p>\n"}],"owner":{"account_id":15952998,"reputation":1,"user_id":17183918,"display_name":"Theodor3699"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634573940,"creation_date":1634571746,"question_id":69618925,"body_markdown":"I tried several tutorials that I could get my hands on, but all of them lead to the same error:\r\n&gt;18:28:24,583 INFO  [stdout] (default task-1) Database error :No suitable driver found for JDBC:postgresql://localhost:5432/postgres\r\n\r\nI have configured the connection following this tutorial: [HOW TO SETUP POSTGRESQL DATASOURCE WITH WILDFLY ][1]\r\n\r\n\r\n  [1]: https://www.stenusys.com/how_to_setup_postgresql_datasource_with_wildfly/\r\n\r\nand tried several ways to fix the problem. I have tried both the management console and the configuration file. The most common solution was trying to add the **postgresql-42.2.24.jar** to the project structures in modules, but that doesn&#39;t solve it. I have created a new simple Java project where I am just trying to connect to the database and it works (I used the same credentials in both places), but when I&#39;m trying to link the server with the DB it&#39;s like it doesn&#39;t see the driver... When adding a Datasource from Intellij it works perfectly fine (it sees the tables, I can run queries and everything), but I can&#39;t get the connection with the server to work.\r\nI&#39;m using Wildfly 24.0.1 Final and Java 8. \r\n","title":"No suitable driver found for jdbc:postgresql://localhost:5432/postgres","body":"<p>I tried several tutorials that I could get my hands on, but all of them lead to the same error:</p>\n<blockquote>\n<p>18:28:24,583 INFO  [stdout] (default task-1) Database error :No suitable driver found for JDBC:postgresql://localhost:5432/postgres</p>\n</blockquote>\n<p>I have configured the connection following this tutorial: <a href=\"https://www.stenusys.com/how_to_setup_postgresql_datasource_with_wildfly/\" rel=\"nofollow noreferrer\">HOW TO SETUP POSTGRESQL DATASOURCE WITH WILDFLY </a></p>\n<p>and tried several ways to fix the problem. I have tried both the management console and the configuration file. The most common solution was trying to add the <strong>postgresql-42.2.24.jar</strong> to the project structures in modules, but that doesn't solve it. I have created a new simple Java project where I am just trying to connect to the database and it works (I used the same credentials in both places), but when I'm trying to link the server with the DB it's like it doesn't see the driver... When adding a Datasource from Intellij it works perfectly fine (it sees the tables, I can run queries and everything), but I can't get the connection with the server to work.\nI'm using Wildfly 24.0.1 Final and Java 8.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633929244,"creation_date":1633929244,"answer_id":69521324,"question_id":69520716,"body_markdown":"`new Document() {...}` is an anonymous class and since I suppose your code is executed in `...BulkController` it is called as `...BulkController$1` and hence is not recognized by Hibernate as a managed type. Doesn&#39;t matter whether it is `new Document {}` or `new Document {{}}`.\r\n\r\nImplement an adequate constuctor/wither/builder/setter function for `Document` class and everything should work just fine.\r\n\r\nEg. using `lombok.Builder`:\r\n\r\n    @Builder\r\n    public class Document {...}\r\n\r\n\r\n    ...\r\n        Iterable&lt;Document&gt; records = csvParser.getRecords()\r\n            .stream()\r\n            .skip(1)\r\n            .map(record -&gt;\r\n                 Document.builder()\r\n                     .source(record.get(0))\r\n                     .codeListCode(record.get(1))\r\n                     .code(record.get(2))\r\n                     .displayValue(record.get(3))\r\n                     .longDescription(record.get(4))\r\n                     .build()\r\n            )\r\n            .collect(Collectors.toList());\r\n\r\n        documentRepository.saveAll(records);\r\n\r\nP.S. Idk how you made it work removing `map`, but `JpaRepository&lt;Document, ID&gt;` would always expect an `Iterable&lt;Document&gt;` parameter.","title":"Spring Boot: org.hibernate.MappingException: Unknown entity","body":"<p><code>new Document() {...}</code> is an anonymous class and since I suppose your code is executed in <code>...BulkController</code> it is called as <code>...BulkController$1</code> and hence is not recognized by Hibernate as a managed type. Doesn't matter whether it is <code>new Document {}</code> or <code>new Document {{}}</code>.</p>\n<p>Implement an adequate constuctor/wither/builder/setter function for <code>Document</code> class and everything should work just fine.</p>\n<p>Eg. using <code>lombok.Builder</code>:</p>\n<pre><code>@Builder\npublic class Document {...}\n\n\n...\n    Iterable&lt;Document&gt; records = csvParser.getRecords()\n        .stream()\n        .skip(1)\n        .map(record -&gt;\n             Document.builder()\n                 .source(record.get(0))\n                 .codeListCode(record.get(1))\n                 .code(record.get(2))\n                 .displayValue(record.get(3))\n                 .longDescription(record.get(4))\n                 .build()\n        )\n        .collect(Collectors.toList());\n\n    documentRepository.saveAll(records);\n</code></pre>\n<p>P.S. Idk how you made it work removing <code>map</code>, but <code>JpaRepository&lt;Document, ID&gt;</code> would always expect an <code>Iterable&lt;Document&gt;</code> parameter.</p>\n"},{"tags":[],"owner":{"account_id":17557414,"reputation":49,"user_id":16544998,"display_name":"HYUNJUN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633959135,"creation_date":1633938701,"answer_id":69522715,"question_id":69520716,"body_markdown":"My answer : ```org.hibernate.MappingException: Unknown entity``` exception occurs because persistence Context doesn&#39;t manage BulkController$1. \r\n\r\nLike mention of Serg Vasylchak above, `{{ }}` (double brace) creates an anoymous class derived outer class. ex. BulkController. But persistence context doesn&#39;t know about the type of Bulkcontroller. \r\n\r\nSo it works when you remove `map` logic, because double brace initialization is located in `map`. Why don&#39;t you create Document class through `builder` recommended by Serg Vasylchark?\r\n","title":"Spring Boot: org.hibernate.MappingException: Unknown entity","body":"<p>My answer : <code>org.hibernate.MappingException: Unknown entity</code> exception occurs because persistence Context doesn't manage BulkController$1.</p>\n<p>Like mention of Serg Vasylchak above, <code>{{ }}</code> (double brace) creates an anoymous class derived outer class. ex. BulkController. But persistence context doesn't know about the type of Bulkcontroller.</p>\n<p>So it works when you remove <code>map</code> logic, because double brace initialization is located in <code>map</code>. Why don't you create Document class through <code>builder</code> recommended by Serg Vasylchark?</p>\n"}],"owner":{"account_id":3004083,"reputation":9773,"user_id":2548937,"accept_rate":94,"display_name":"Jose Rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69521324,"answer_count":2,"score":0,"last_activity_date":1634573826,"creation_date":1633922769,"question_id":69520716,"body_markdown":"I&#180;m writing a sample project for my personal blog about how to use Spring Boot from scratch. At this moment trying to save my entities on a H2 database, I am receiving this mapping exception from the class BulkController which is RestController class trying to save instances of my `Document` POJO class.\r\n\r\nHere is the code of `GET` method using double brace initialization:\r\n\r\n    Iterable&lt;Document&gt; records = csvParser.getRecords()\r\n            .stream()\r\n            .skip(1)\r\n            .map(record -&gt; new Document() {{\r\n                setSource(record.get(0));\r\n                setCodeListCode(record.get(1));\r\n                setCode(record.get(2));\r\n                setDisplayValue(record.get(3));\r\n                setLongDescription(record.get(4));\r\n            }})\r\n            .collect(Collectors.toList());\r\n\r\n    documentRepository.saveAll(records);\r\n\r\n \r\nChecking the raised exception:\r\n\r\n    org.hibernate.MappingException: Unknown entity: com.josephrodriguez.learning.springboot.controller.BulkController$1\r\n    \tat org.hibernate.metamodel.internal.MetamodelImpl.entityPersister(MetamodelImpl.java:704) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.internal.SessionImpl.getEntityPersister(SessionImpl.java:1608) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:149) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n\r\n\r\nSome part of me felt some curiosity to check the class of Iterable&lt;Document&gt; items.\r\n\r\n        for (Document d: records) {\r\n            System.out.println(d.getClass());\r\n        }\r\n\r\nAs I suspected, this was the output: \r\n\r\n    class com.josephrodriguez.learning.springboot.controller.BulkController$1\r\n\r\nRemoving the use of `map` function everything works fine.\r\n\r\n**Question**: Why the `map` function with the double brace initialization changes the class type of the expected items of the collection?","title":"Spring Boot: org.hibernate.MappingException: Unknown entity","body":"<p>I´m writing a sample project for my personal blog about how to use Spring Boot from scratch. At this moment trying to save my entities on a H2 database, I am receiving this mapping exception from the class BulkController which is RestController class trying to save instances of my <code>Document</code> POJO class.</p>\n<p>Here is the code of <code>GET</code> method using double brace initialization:</p>\n<pre><code>Iterable&lt;Document&gt; records = csvParser.getRecords()\n        .stream()\n        .skip(1)\n        .map(record -&gt; new Document() {{\n            setSource(record.get(0));\n            setCodeListCode(record.get(1));\n            setCode(record.get(2));\n            setDisplayValue(record.get(3));\n            setLongDescription(record.get(4));\n        }})\n        .collect(Collectors.toList());\n\ndocumentRepository.saveAll(records);\n</code></pre>\n<p>Checking the raised exception:</p>\n<pre><code>org.hibernate.MappingException: Unknown entity: com.josephrodriguez.learning.springboot.controller.BulkController$1\n    at org.hibernate.metamodel.internal.MetamodelImpl.entityPersister(MetamodelImpl.java:704) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.internal.SessionImpl.getEntityPersister(SessionImpl.java:1608) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:149) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:70) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n</code></pre>\n<p>Some part of me felt some curiosity to check the class of Iterable items.</p>\n<pre><code>    for (Document d: records) {\n        System.out.println(d.getClass());\n    }\n</code></pre>\n<p>As I suspected, this was the output:</p>\n<pre><code>class com.josephrodriguez.learning.springboot.controller.BulkController$1\n</code></pre>\n<p>Removing the use of <code>map</code> function everything works fine.</p>\n<p><strong>Question</strong>: Why the <code>map</code> function with the double brace initialization changes the class type of the expected items of the collection?</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":11451378,"reputation":17,"user_id":8393682,"display_name":"hira waseem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506576488,"creation_date":1506576488,"answer_id":46461586,"question_id":46452527,"body_markdown":"Yes the commit interval determines how many record would be processed in a Chunk. \r\n\r\nThe database page size determines how many record would be fetched from the database in one go. It&#39;s more of an optimization setting between how big the buffer would you like to have v/s the number of trips the driver would how to make to fetch the data from the database.","title":"Difference between chunk size and page size Spring Batch","body":"<p>Yes the commit interval determines how many record would be processed in a Chunk. </p>\n\n<p>The database page size determines how many record would be fetched from the database in one go. It's more of an optimization setting between how big the buffer would you like to have v/s the number of trips the driver would how to make to fetch the data from the database.</p>\n"},{"tags":[],"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1506580316,"creation_date":1506577617,"answer_id":46461791,"question_id":46452527,"body_markdown":"With your current configuration, if your every read item makes to writer ( i.e. if it doesn&#39;t get filtered out in processor ) then you will need 1000/20 = 50 database reads to reach a chunk size i.e. when you actually call the writer for writing. \r\n\r\nSpring Batch holds processed items in memory till you reach a chunk size and holding items costs memory. \r\n\r\nYour current configuration is holding data in memory and making unnecessary database calls while we wish to reduce both of those things. \r\n\r\nSo your configuration needs to be reverse of what you are doing i.e. increase reader page size to a minimum equal to chunk size / commit interval or more so data once read gets processed in small small chunks then you go again and read database . \r\n\r\nSo as you have noticed till current write up, conceptually these are unrelated concepts - reader page size is to minimize database calls ( and this concept is not a spring batch concept but reader specific - if its not a paging reader, this concept doesn&#39;t come into picture ) while chunk size is about committing processed data in small small chunks to reduce memory foot print. ","title":"Difference between chunk size and page size Spring Batch","body":"<p>With your current configuration, if your every read item makes to writer ( i.e. if it doesn't get filtered out in processor ) then you will need 1000/20 = 50 database reads to reach a chunk size i.e. when you actually call the writer for writing. </p>\n\n<p>Spring Batch holds processed items in memory till you reach a chunk size and holding items costs memory. </p>\n\n<p>Your current configuration is holding data in memory and making unnecessary database calls while we wish to reduce both of those things. </p>\n\n<p>So your configuration needs to be reverse of what you are doing i.e. increase reader page size to a minimum equal to chunk size / commit interval or more so data once read gets processed in small small chunks then you go again and read database . </p>\n\n<p>So as you have noticed till current write up, conceptually these are unrelated concepts - reader page size is to minimize database calls ( and this concept is not a spring batch concept but reader specific - if its not a paging reader, this concept doesn't come into picture ) while chunk size is about committing processed data in small small chunks to reduce memory foot print. </p>\n"}],"owner":{"account_id":5304970,"reputation":85,"user_id":4233255,"display_name":"Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23544,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1506597286,"accepted_answer_id":46461791,"answer_count":2,"score":5,"last_activity_date":1634573808,"creation_date":1506528416,"question_id":46452527,"body_markdown":"I have a spring batch job in which I set the chunk size to 1000 and the reader in that job is a `JpaPagingItemReader`. \r\n\r\nIn the reader I set the page size to `20`. Does this mean that every chunk of 1000 items read, the reader must take out of the DB 20 items?\r\n\r\nIf not what is the difference between them?","title":"Difference between chunk size and page size Spring Batch","body":"<p>I have a spring batch job in which I set the chunk size to 1000 and the reader in that job is a <code>JpaPagingItemReader</code>.</p>\n<p>In the reader I set the page size to <code>20</code>. Does this mean that every chunk of 1000 items read, the reader must take out of the DB 20 items?</p>\n<p>If not what is the difference between them?</p>\n"},{"tags":["java","regex","split","newline"],"comments":[{"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"score":11,"creation_date":1232273913,"post_id":454908,"comment_id":275085,"body_markdown":"what is the error that you get? Dont say &quot;does not work&quot;, that doesnt mean anything. Tell us the error/result you get. \n\nThat is the first step in debugging code - figure out what the wrong result is, and how your program got to that.","body":"what is the error that you get? Dont say &quot;does not work&quot;, that doesnt mean anything. Tell us the error/result you get.   That is the first step in debugging code - figure out what the wrong result is, and how your program got to that."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1241006758,"post_id":454908,"comment_id":612052,"body_markdown":"What do you realy want to do?\n\n - break lines as they are entered in the JTextArea?\n - finding where the JTextArea is doing line wraps?\n - ???","body":"What do you realy want to do?   - break lines as they are entered in the JTextArea?  - finding where the JTextArea is doing line wraps?  - ???"},{"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"score":0,"creation_date":1650801963,"post_id":454908,"comment_id":127203520,"body_markdown":"https://stackoverflow.com/a/51079545/1097600 Use string.lines()","body":"<a href=\"https://stackoverflow.com/a/51079545/1097600\">stackoverflow.com/a/51079545/1097600</a> Use string.lines()"}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":4,"up_vote_count":863,"is_accepted":true,"score":859,"last_activity_date":1475851448,"creation_date":1232273899,"answer_id":454913,"question_id":454908,"body_markdown":"This should cover you:\r\n\r\n    String lines[] = string.split(&quot;\\\\r?\\\\n&quot;);\r\n\r\nThere&#39;s only really two newlines (UNIX and Windows) that you need to worry about.","title":"Split Java String by New Line","body":"<p>This should cover you:</p>\n\n<pre><code>String lines[] = string.split(\"\\\\r?\\\\n\");\n</code></pre>\n\n<p>There's only really two newlines (UNIX and Windows) that you need to worry about.</p>\n"},{"tags":[],"owner":{"account_id":21746,"reputation":646219,"user_id":53114,"accept_rate":45,"display_name":"Gumbo"},"down_vote_count":2,"up_vote_count":144,"is_accepted":false,"score":142,"last_activity_date":1232274116,"creation_date":1232274116,"answer_id":454919,"question_id":454908,"body_markdown":"If you don’t want empty lines:\r\n\r\n    String.split(&quot;[\\\\r\\\\n]+&quot;)","title":"Split Java String by New Line","body":"<p>If you don’t want empty lines:</p>\n\n<pre><code>String.split(\"[\\\\r\\\\n]+\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1232274181,"creation_date":1232274181,"answer_id":454922,"question_id":454908,"body_markdown":"The above code doesnt actually do anything visible - it just calcualtes then dumps the calculation. Is it the code you used, or just an example for this question? \r\n\r\ntry doing textAreaDoc.insertString(int, String, AttributeSet) at the end?","title":"Split Java String by New Line","body":"<p>The above code doesnt actually do anything visible - it just calcualtes then dumps the calculation. Is it the code you used, or just an example for this question? </p>\n\n<p>try doing textAreaDoc.insertString(int, String, AttributeSet) at the end?</p>\n"},{"tags":[],"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1232306831,"creation_date":1232306831,"answer_id":455750,"question_id":454908,"body_markdown":"Maybe this would work:\r\n\r\nRemove the double backslashes from the parameter of the split method:\r\n\r\n    split = docStr.split(&quot;\\n&quot;);\r\n\r\n","title":"Split Java String by New Line","body":"<p>Maybe this would work:</p>\n\n<p>Remove the double backslashes from the parameter of the split method:</p>\n\n<pre><code>split = docStr.split(\"\\n\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":140269,"reputation":2423,"user_id":346461,"accept_rate":80,"display_name":"Martin"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1329480764,"creation_date":1329479568,"answer_id":9327740,"question_id":454908,"body_markdown":"You don&#39;t have to double escape characters in character groups.\r\n\r\nFor all non empty lines use:\r\n\r\n    String.split(&quot;[\\r\\n]+&quot;)","title":"Split Java String by New Line","body":"<p>You don't have to double escape characters in character groups.</p>\n\n<p>For all non empty lines use:</p>\n\n<pre><code>String.split(\"[\\r\\n]+\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"down_vote_count":13,"up_vote_count":77,"is_accepted":false,"score":64,"last_activity_date":1634573803,"creation_date":1341400254,"answer_id":11327916,"question_id":454908,"body_markdown":"    \r\n    String.split(System.lineSeparator());\r\n\r\nThis should be system independent","title":"Split Java String by New Line","body":"<pre><code>String.split(System.lineSeparator());\n</code></pre>\n<p>This should be system independent</p>\n"},{"tags":[],"owner":{"account_id":3100722,"reputation":367,"user_id":2624907,"accept_rate":0,"display_name":"Naveen"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1500755963,"creation_date":1380658992,"answer_id":19125208,"question_id":454908,"body_markdown":"    package in.javadomain;\r\n    \r\n    public class JavaSplit {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString input = &quot;chennai\\nvellore\\ncoimbatore\\nbangalore\\narcot&quot;;\r\n    \t\tSystem.out.println(&quot;Before split:\\n&quot;);\r\n    \t\tSystem.out.println(input);\r\n    \t\t\r\n    \t\tString[] inputSplitNewLine = input.split(&quot;\\\\n&quot;);\r\n    \t\tSystem.out.println(&quot;\\n After split:\\n&quot;);\r\n    \t\tfor(int i=0; i&lt;inputSplitNewLine.length; i++){\r\n    \t\t\tSystem.out.println(inputSplitNewLine[i]);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Split Java String by New Line","body":"<pre><code>package in.javadomain;\n\npublic class JavaSplit {\n\n    public static void main(String[] args) {\n        String input = \"chennai\\nvellore\\ncoimbatore\\nbangalore\\narcot\";\n        System.out.println(\"Before split:\\n\");\n        System.out.println(input);\n\n        String[] inputSplitNewLine = input.split(\"\\\\n\");\n        System.out.println(\"\\n After split:\\n\");\n        for(int i=0; i&lt;inputSplitNewLine.length; i++){\n            System.out.println(inputSplitNewLine[i]);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":2,"up_vote_count":179,"is_accepted":false,"score":177,"last_activity_date":1567504051,"creation_date":1435263929,"answer_id":31060125,"question_id":454908,"body_markdown":"[`String#split​(String regex)`][split] method is using regex (regular expressions). Since Java 8 regex supports `\\R` which represents (from [documentation of Pattern class][1]):\r\n\r\n&gt; **Linebreak matcher**   \r\n&gt; \\R&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;&amp;emsp;Any Unicode linebreak sequence, is equivalent to\r\n&gt; `\\u000D\\u000A|[\\u000A\\u000B\\u000C\\u000D\\u0085\\u2028\\u2029]`\r\n\r\nSo we can use it to match:\r\n\r\n- `\\u000D\\000A` -&gt; `\\r\\n` pair  \r\n- [\\u000A][2] -&gt; line feed (`\\n`)\r\n- [\\u000B][3] -&gt; line tabulation (DO NOT confuse with [character tabulation `\\t` which is `\\u0009`][4])\r\n- [\\u000C][5] -&gt; form feed (`\\f`)\r\n- [\\u000D][6] -&gt; carriage return (`\\r`)\r\n- [\\u0085][7] -&gt; next line (NEL)\r\n- [\\u2028][8] -&gt; line separator\r\n- [\\u2029][9] -&gt; paragraph separator\r\n\r\nAs you see `\\r\\n` is placed at start of regex which ensures that regex will try to match this *pair* first, and only if that match fails it will try to match *single character* line separators.\r\n\r\n---\r\nSo if you want to split on line separator use `split(&quot;\\\\R&quot;)`. \r\n\r\nIf you [don&#39;t want to remove from resulting array trailing empty strings `&quot;&quot;`][10] use `split(regex, limit)` with negative `limit` parameter like `split(&quot;\\\\R&quot;, -1)`.\r\n\r\nIf you want to treat one or more continues empty lines as single delimiter use `split(&quot;\\\\R+&quot;)`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\r\n  [2]: http://www.fileformat.info/info/unicode/char/000a/index.htm\r\n  [3]: http://www.fileformat.info/info/unicode/char/000b/index.htm\r\n  [4]: http://www.fileformat.info/info/unicode/char/0009/index.htm\r\n  [5]: http://www.fileformat.info/info/unicode/char/000c/index.htm\r\n  [6]: http://www.fileformat.info/info/unicode/char/000d/index.htm\r\n  [7]: http://www.fileformat.info/info/unicode/char/0085/index.htm\r\n  [8]: http://www.fileformat.info/info/unicode/char/2028/index.htm\r\n  [9]: http://www.fileformat.info/info/unicode/char/2029/index.htm\r\n  [10]: https://stackoverflow.com/questions/14602062/java-string-split-removed-empty-values\r\n  [split]: https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#split(java.lang.String)","title":"Split Java String by New Line","body":"<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"noreferrer\"><code>String#split​(String regex)</code></a> method is using regex (regular expressions). Since Java 8 regex supports <code>\\R</code> which represents (from <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">documentation of Pattern class</a>):</p>\n\n<blockquote>\n  <p><strong>Linebreak matcher</strong><br>\n  \\R&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;Any Unicode linebreak sequence, is equivalent to\n  <code>\\u000D\\u000A|[\\u000A\\u000B\\u000C\\u000D\\u0085\\u2028\\u2029]</code></p>\n</blockquote>\n\n<p>So we can use it to match:</p>\n\n<ul>\n<li><code>\\u000D\\000A</code> -> <code>\\r\\n</code> pair  </li>\n<li><a href=\"http://www.fileformat.info/info/unicode/char/000a/index.htm\" rel=\"noreferrer\">\\u000A</a> -> line feed (<code>\\n</code>)</li>\n<li><a href=\"http://www.fileformat.info/info/unicode/char/000b/index.htm\" rel=\"noreferrer\">\\u000B</a> -> line tabulation (DO NOT confuse with <a href=\"http://www.fileformat.info/info/unicode/char/0009/index.htm\" rel=\"noreferrer\">character tabulation <code>\\t</code> which is <code>\\u0009</code></a>)</li>\n<li><a href=\"http://www.fileformat.info/info/unicode/char/000c/index.htm\" rel=\"noreferrer\">\\u000C</a> -> form feed (<code>\\f</code>)</li>\n<li><a href=\"http://www.fileformat.info/info/unicode/char/000d/index.htm\" rel=\"noreferrer\">\\u000D</a> -> carriage return (<code>\\r</code>)</li>\n<li><a href=\"http://www.fileformat.info/info/unicode/char/0085/index.htm\" rel=\"noreferrer\">\\u0085</a> -> next line (NEL)</li>\n<li><a href=\"http://www.fileformat.info/info/unicode/char/2028/index.htm\" rel=\"noreferrer\">\\u2028</a> -> line separator</li>\n<li><a href=\"http://www.fileformat.info/info/unicode/char/2029/index.htm\" rel=\"noreferrer\">\\u2029</a> -> paragraph separator</li>\n</ul>\n\n<p>As you see <code>\\r\\n</code> is placed at start of regex which ensures that regex will try to match this <em>pair</em> first, and only if that match fails it will try to match <em>single character</em> line separators.</p>\n\n<hr>\n\n<p>So if you want to split on line separator use <code>split(\"\\\\R\")</code>. </p>\n\n<p>If you <a href=\"https://stackoverflow.com/questions/14602062/java-string-split-removed-empty-values\">don't want to remove from resulting array trailing empty strings <code>\"\"</code></a> use <code>split(regex, limit)</code> with negative <code>limit</code> parameter like <code>split(\"\\\\R\", -1)</code>.</p>\n\n<p>If you want to treat one or more continues empty lines as single delimiter use <code>split(\"\\\\R+\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":8539,"reputation":14603,"user_id":15461,"accept_rate":71,"display_name":"husayt"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1465230659,"creation_date":1465230659,"answer_id":37662517,"question_id":454908,"body_markdown":"`String lines[] =String.split( System.lineSeparator())`","title":"Split Java String by New Line","body":"<p><code>String lines[] =String.split( System.lineSeparator())</code></p>\n"},{"tags":[],"owner":{"account_id":1098359,"reputation":8264,"user_id":1091453,"display_name":"Cwt"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467057968,"creation_date":1467057968,"answer_id":38062356,"question_id":454908,"body_markdown":"For preserving empty lines from getting squashed use:\r\n\r\n    String lines[] = String.split(&quot;\\\\r?\\\\n&quot;, -1);","title":"Split Java String by New Line","body":"<p>For preserving empty lines from getting squashed use:</p>\n\n<pre><code>String lines[] = String.split(\"\\\\r?\\\\n\", -1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5713256,"reputation":767,"user_id":4514458,"accept_rate":57,"display_name":"kravi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491927815,"creation_date":1491927815,"answer_id":43351392,"question_id":454908,"body_markdown":"After failed attempts on the basis of all given solutions. I replace `\\n` with some special word and then split. For me following did the trick:\r\n\r\n    article = &quot;Alice phoned\\n bob.&quot;;\r\n    article = article.replace(&quot;\\\\n&quot;, &quot; NEWLINE &quot;);\r\n    String sen [] = article.split(&quot; NEWLINE &quot;);\r\n\r\nI couldn&#39;t replicate the example given in the question. But, I guess this logic can be applied.","title":"Split Java String by New Line","body":"<p>After failed attempts on the basis of all given solutions. I replace <code>\\n</code> with some special word and then split. For me following did the trick:</p>\n\n<pre><code>article = \"Alice phoned\\n bob.\";\narticle = article.replace(\"\\\\n\", \" NEWLINE \");\nString sen [] = article.split(\" NEWLINE \");\n</code></pre>\n\n<p>I couldn't replicate the example given in the question. But, I guess this logic can be applied.</p>\n"},{"tags":[],"owner":{"account_id":1809799,"reputation":642,"user_id":2257944,"display_name":"Till Sch&#228;fer"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1495203509,"creation_date":1495203509,"answer_id":44072408,"question_id":454908,"body_markdown":"All answers given here actually do not respect Javas definition of new lines as given in e.g. BufferedReader#readline. Java is accepting `\\n`, `\\r` and `\\r\\n` as new line. Some of the answers match multiple empty lines or malformed files. E..g. `&lt;sometext&gt;\\n\\r\\n&lt;someothertext&gt;` when using `[\\r\\n]+`would result in two lines. \r\n\r\n    String lines[] = string.split(&quot;(\\r\\n|\\r|\\n)&quot;, -1);\r\n\r\nIn contrast, the answer above has the following properties:\r\n\r\n - it complies with Javas definition of a new line such as e.g. the BufferedReader is using it\r\n - it does not match multiple new lines \r\n - it does not remove trailing empty lines\r\n","title":"Split Java String by New Line","body":"<p>All answers given here actually do not respect Javas definition of new lines as given in e.g. BufferedReader#readline. Java is accepting <code>\\n</code>, <code>\\r</code> and <code>\\r\\n</code> as new line. Some of the answers match multiple empty lines or malformed files. E..g. <code>&lt;sometext&gt;\\n\\r\\n&lt;someothertext&gt;</code> when using <code>[\\r\\n]+</code>would result in two lines. </p>\n\n<pre><code>String lines[] = string.split(\"(\\r\\n|\\r|\\n)\", -1);\n</code></pre>\n\n<p>In contrast, the answer above has the following properties:</p>\n\n<ul>\n<li>it complies with Javas definition of a new line such as e.g. the BufferedReader is using it</li>\n<li>it does not match multiple new lines </li>\n<li>it does not remove trailing empty lines</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5076931,"reputation":561,"user_id":4074057,"accept_rate":80,"display_name":"Thomas Naskali"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496913591,"creation_date":1496913591,"answer_id":44431599,"question_id":454908,"body_markdown":"As an alternative to the previous answers, guava&#39;s `Splitter` API can be used if other operations are to be applied to the resulting lines, like trimming lines or filtering empty lines :\r\n\r\n    import com.google.common.base.Splitter;\r\n\r\n    Iterable&lt;String&gt; split = Splitter.onPattern(&quot;\\r?\\n&quot;).trimResults().omitEmptyStrings().split(docStr);\r\n\r\nNote that the result is an `Iterable` and not an array.","title":"Split Java String by New Line","body":"<p>As an alternative to the previous answers, guava's <code>Splitter</code> API can be used if other operations are to be applied to the resulting lines, like trimming lines or filtering empty lines :</p>\n\n<pre><code>import com.google.common.base.Splitter;\n\nIterable&lt;String&gt; split = Splitter.onPattern(\"\\r?\\n\").trimResults().omitEmptyStrings().split(docStr);\n</code></pre>\n\n<p>Note that the result is an <code>Iterable</code> and not an array.</p>\n"},{"tags":[],"owner":{"account_id":10627600,"reputation":1020,"user_id":7826803,"accept_rate":80,"display_name":"Vishal Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505391715,"creation_date":1505391715,"answer_id":46219026,"question_id":454908,"body_markdown":" - try this hope it was helpful for you \r\n\r\n\r\n----------\r\n\r\n     String split[], docStr = null;\r\n    Document textAreaDoc = (Document)e.getDocument();\r\n\r\n    try {\r\n        docStr = textAreaDoc.getText(textAreaDoc.getStartPosition().getOffset(), textAreaDoc.getEndPosition().getOffset());\r\n    } catch (BadLocationException e1) {\r\n        // TODO Auto-generated catch block\r\n        e1.printStackTrace();\r\n    }\r\n\r\n    split = docStr.split(&quot;\\n&quot;);","title":"Split Java String by New Line","body":"<ul>\n<li>try this hope it was helpful for you </li>\n</ul>\n\n<hr>\n\n<pre><code> String split[], docStr = null;\nDocument textAreaDoc = (Document)e.getDocument();\n\ntry {\n    docStr = textAreaDoc.getText(textAreaDoc.getStartPosition().getOffset(), textAreaDoc.getEndPosition().getOffset());\n} catch (BadLocationException e1) {\n    // TODO Auto-generated catch block\n    e1.printStackTrace();\n}\n\nsplit = docStr.split(\"\\n\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85548,"reputation":7632,"user_id":238421,"accept_rate":100,"display_name":"Danilo Piazzalunga"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1520452292,"creation_date":1520452292,"answer_id":49160134,"question_id":454908,"body_markdown":"If, for some reason, you don&#39;t want to use `String.split` (for example, because of [regular expressions][1]) and you want to use functional programming on Java 8 or newer:\r\n\r\n    List&lt;String&gt; lines = new BufferedReader(new StringReader(string))\r\n            .lines()\r\n            .collect(Collectors.toList());\r\n\r\n\r\n  [1]: http://regex.info/blog/2006-09-15/247","title":"Split Java String by New Line","body":"<p>If, for some reason, you don't want to use <code>String.split</code> (for example, because of <a href=\"http://regex.info/blog/2006-09-15/247\" rel=\"noreferrer\">regular expressions</a>) and you want to use functional programming on Java 8 or newer:</p>\n\n<pre><code>List&lt;String&gt; lines = new BufferedReader(new StringReader(string))\n        .lines()\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533010532,"creation_date":1529362210,"answer_id":50918446,"question_id":454908,"body_markdown":"There are three different conventions (it could be said that those are *de facto* standards) to set and display a line break:\r\n\r\n- `carriage return` + `line feed`\r\n- `line feed`\r\n- `carriage return`\r\n\r\nIn some text editors, it is possible to exchange one for the other:\r\n\r\n![Notepad++](https://i.stack.imgur.com/e6Pbl.png)\r\n\r\nThe simplest thing is to normalize to `line feed`and then split.\r\n\r\n\tfinal String[] lines = contents.replace(&quot;\\r\\n&quot;, &quot;\\n&quot;)\r\n\t\t\t                       .replace(&quot;\\r&quot;, &quot;\\n&quot;)\r\n\t\t\t                       .split(&quot;\\n&quot;, -1);","title":"Split Java String by New Line","body":"<p>There are three different conventions (it could be said that those are <em>de facto</em> standards) to set and display a line break:</p>\n\n<ul>\n<li><code>carriage return</code> + <code>line feed</code></li>\n<li><code>line feed</code></li>\n<li><code>carriage return</code></li>\n</ul>\n\n<p>In some text editors, it is possible to exchange one for the other:</p>\n\n<p><img src=\"https://i.stack.imgur.com/e6Pbl.png\" alt=\"Notepad++\"></p>\n\n<p>The simplest thing is to normalize to <code>line feed</code>and then split.</p>\n\n<pre><code>final String[] lines = contents.replace(\"\\r\\n\", \"\\n\")\n                               .replace(\"\\r\", \"\\n\")\n                               .split(\"\\n\", -1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1542035421,"creation_date":1530178783,"answer_id":51079545,"question_id":454908,"body_markdown":"A new method `lines` has been introduced to `String` class in [tag:java-11], which returns `Stream&lt;String&gt;`\r\n\r\n&gt; Returns a stream of substrings extracted from this string partitioned\r\n&gt; by line terminators.\r\n&gt; \r\n&gt; Line terminators recognized are line feed &quot;\\n&quot; (U+000A), carriage\r\n&gt; return &quot;\\r&quot; (U+000D) and a carriage return followed immediately by a\r\n&gt; line feed &quot;\\r\\n&quot; (U+000D U+000A).\r\n\r\nHere are a few examples: \r\n\r\n    jshell&gt; &quot;lorem \\n ipusm \\n sit&quot;.lines().forEach(System.out::println)\r\n    lorem\r\n     ipusm\r\n     sit\r\n    \r\n    jshell&gt; &quot;lorem \\n ipusm \\r  sit&quot;.lines().forEach(System.out::println)\r\n    lorem\r\n     ipusm\r\n      sit\r\n    \r\n    jshell&gt; &quot;lorem \\n ipusm \\r\\n  sit&quot;.lines().forEach(System.out::println)\r\n    lorem\r\n     ipusm\r\n      sit\r\n\r\n[String#lines()][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#lines()","title":"Split Java String by New Line","body":"<p>A new method <code>lines</code> has been introduced to <code>String</code> class in <a href=\"/questions/tagged/java-11\" class=\"post-tag\" title=\"show questions tagged &#39;java-11&#39;\" rel=\"tag\">java-11</a>, which returns <code>Stream&lt;String&gt;</code></p>\n\n<blockquote>\n  <p>Returns a stream of substrings extracted from this string partitioned\n  by line terminators.</p>\n  \n  <p>Line terminators recognized are line feed \"\\n\" (U+000A), carriage\n  return \"\\r\" (U+000D) and a carriage return followed immediately by a\n  line feed \"\\r\\n\" (U+000D U+000A).</p>\n</blockquote>\n\n<p>Here are a few examples: </p>\n\n<pre><code>jshell&gt; \"lorem \\n ipusm \\n sit\".lines().forEach(System.out::println)\nlorem\n ipusm\n sit\n\njshell&gt; \"lorem \\n ipusm \\r  sit\".lines().forEach(System.out::println)\nlorem\n ipusm\n  sit\n\njshell&gt; \"lorem \\n ipusm \\r\\n  sit\".lines().forEach(System.out::println)\nlorem\n ipusm\n  sit\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#lines()\" rel=\"noreferrer\">String#lines()</a></p>\n"},{"tags":[],"owner":{"account_id":1075172,"reputation":5519,"user_id":1073487,"display_name":"Red Boy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542933038,"creation_date":1542933038,"answer_id":53439399,"question_id":454908,"body_markdown":"There is new boy in the town, so you need not to deal with all above complexities.\r\n**From JDK 11 onward**, just need to write as single line of code, it will split lines and returns you Stream of String.\r\n\r\n\r\n   \r\n    public class MyClass {\r\n    public static void main(String args[]) {\r\n       Stream&lt;String&gt; lines=&quot;foo \\n bar \\n baz&quot;.lines();\r\n       //Do whatever you want to do with lines\r\n    }}\r\n\r\nSome references.\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#lines()\r\nhttps://www.azul.com/90-new-features-and-apis-in-jdk-11/\r\n\r\nI hope this will be helpful to someone. Happy coding.","title":"Split Java String by New Line","body":"<p>There is new boy in the town, so you need not to deal with all above complexities.\n<strong>From JDK 11 onward</strong>, just need to write as single line of code, it will split lines and returns you Stream of String.</p>\n\n<pre><code>public class MyClass {\npublic static void main(String args[]) {\n   Stream&lt;String&gt; lines=\"foo \\n bar \\n baz\".lines();\n   //Do whatever you want to do with lines\n}}\n</code></pre>\n\n<p>Some references.\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#lines()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#lines()</a>\n<a href=\"https://www.azul.com/90-new-features-and-apis-in-jdk-11/\" rel=\"nofollow noreferrer\">https://www.azul.com/90-new-features-and-apis-in-jdk-11/</a></p>\n\n<p>I hope this will be helpful to someone. Happy coding.</p>\n"},{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1543620625,"creation_date":1543620625,"answer_id":53566292,"question_id":454908,"body_markdown":"In `JDK11` the `String` class has a `lines()` method:\r\n\r\n&gt; Returning a stream of lines extracted from this string, separated by\r\n&gt; line terminators. \r\n\r\nFurther, the [documentation][1] goes on to say:\r\n\r\n&gt; A line terminator is one of the following: a line feed character &quot;\\n&quot;\r\n&gt; (U+000A), a carriage return character &quot;\\r&quot; (U+000D), or a carriage\r\n&gt; return followed immediately by a line feed &quot;\\r\\n&quot; (U+000D U+000A). A\r\n&gt; line is either a sequence of zero or more characters followed by a\r\n&gt; line terminator, or it is a sequence of one or more characters\r\n&gt; followed by the end of the string. A line does not include the line\r\n&gt; terminator.\r\n\r\nWith this one can simply do:\r\n\r\n    Stream&lt;String&gt; stream = str.lines();\r\n\r\nthen if you want an array:\r\n\r\n    String[] array = str.lines().toArray(String[]::new);\r\n\r\nGiven this method returns a Stream it upon up a lot of options for you as it enables one to write *concise* and declarative expression of possibly-parallel operations.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#lines()","title":"Split Java String by New Line","body":"<p>In <code>JDK11</code> the <code>String</code> class has a <code>lines()</code> method:</p>\n\n<blockquote>\n  <p>Returning a stream of lines extracted from this string, separated by\n  line terminators. </p>\n</blockquote>\n\n<p>Further, the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#lines()\" rel=\"noreferrer\">documentation</a> goes on to say:</p>\n\n<blockquote>\n  <p>A line terminator is one of the following: a line feed character \"\\n\"\n  (U+000A), a carriage return character \"\\r\" (U+000D), or a carriage\n  return followed immediately by a line feed \"\\r\\n\" (U+000D U+000A). A\n  line is either a sequence of zero or more characters followed by a\n  line terminator, or it is a sequence of one or more characters\n  followed by the end of the string. A line does not include the line\n  terminator.</p>\n</blockquote>\n\n<p>With this one can simply do:</p>\n\n<pre><code>Stream&lt;String&gt; stream = str.lines();\n</code></pre>\n\n<p>then if you want an array:</p>\n\n<pre><code>String[] array = str.lines().toArray(String[]::new);\n</code></pre>\n\n<p>Given this method returns a Stream it upon up a lot of options for you as it enables one to write <em>concise</em> and declarative expression of possibly-parallel operations.</p>\n"},{"tags":[],"owner":{"account_id":14970335,"reputation":97,"user_id":10807406,"display_name":"clasher"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1560961448,"creation_date":1560961448,"answer_id":56672135,"question_id":454908,"body_markdown":"The above answers did not help me on Android, thanks to the [Pshemo][1] response that worked for me on Android. I will leave some of [Pshemo&#39;s answer][1] here :\r\n\r\n    split(&quot;\\\\\\\\n&quot;)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25068483/10807406","title":"Split Java String by New Line","body":"<p>The above answers did not help me on Android, thanks to the <a href=\"https://stackoverflow.com/a/25068483/10807406\">Pshemo</a> response that worked for me on Android. I will leave some of <a href=\"https://stackoverflow.com/a/25068483/10807406\">Pshemo's answer</a> here :</p>\n\n<pre><code>split(\"\\\\\\\\n\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1629472490,"creation_date":1629472490,"answer_id":68864452,"question_id":454908,"body_markdown":"Sadly, Java lacks a both simple and efficient method for splitting a string by a fixed string. Both `String::split` and the stream API are complex and relatively slow. Also, they can produce different results.\r\n\r\n`String::split` examines its input, then compiles to `java.util.regex.Pattern` every time (except if the input contains only a single char that&#39;s safe).\r\n\r\nHowever, `Pattern` is very fast, *once it was compiled*. So the best solution is to precompile the pattern:\r\n\r\n```java\r\nprivate static final Pattern LINE_SEP_PATTERN = Pattern.compile(&quot;\\\\R&quot;);\r\n```\r\n\r\nThen use it like this:\r\n\r\n```java\r\nString[] lines = LINE_SEP_PATTERN.split(input);\r\n```\r\n\r\nFrom Java 8, `\\R` matches to any line break specified by Unicode. Prior to Java 8 you could use something like this:\r\n\r\n```java\r\nPattern.compile(Pattern.quote(System.lineSeparator()))\r\n```","title":"Split Java String by New Line","body":"<p>Sadly, Java lacks a both simple and efficient method for splitting a string by a fixed string. Both <code>String::split</code> and the stream API are complex and relatively slow. Also, they can produce different results.</p>\n<p><code>String::split</code> examines its input, then compiles to <code>java.util.regex.Pattern</code> every time (except if the input contains only a single char that's safe).</p>\n<p>However, <code>Pattern</code> is very fast, <em>once it was compiled</em>. So the best solution is to precompile the pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Pattern LINE_SEP_PATTERN = Pattern.compile(&quot;\\\\R&quot;);\n</code></pre>\n<p>Then use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] lines = LINE_SEP_PATTERN.split(input);\n</code></pre>\n<p>From Java 8, <code>\\R</code> matches to any line break specified by Unicode. Prior to Java 8 you could use something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern.compile(Pattern.quote(System.lineSeparator()))\n</code></pre>\n"}],"owner":{"account_id":22182,"reputation":4852,"user_id":54466,"display_name":"dr.manhattan "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":687967,"favorite_count":0,"down_vote_count":1,"up_vote_count":461,"accepted_answer_id":454913,"answer_count":21,"score":460,"last_activity_date":1634573803,"creation_date":1232273636,"question_id":454908,"body_markdown":"I&#39;m trying to split text in a `JTextArea` using a regex to split the String by `\\n` However, this does not work and I also tried by `\\r\\n|\\r|n` and many other combination of regexes.\r\nCode:\r\n\r\n    public void insertUpdate(DocumentEvent e) {\r\n        String split[], docStr = null;\r\n        Document textAreaDoc = (Document)e.getDocument();\r\n\r\n        try {\r\n            docStr = textAreaDoc.getText(textAreaDoc.getStartPosition().getOffset(), textAreaDoc.getEndPosition().getOffset());\r\n        } catch (BadLocationException e1) {\r\n            // TODO Auto-generated catch block\r\n            e1.printStackTrace();\r\n        }\r\n\r\n        split = docStr.split(&quot;\\\\n&quot;);\r\n    }","title":"Split Java String by New Line","body":"<p>I'm trying to split text in a <code>JTextArea</code> using a regex to split the String by <code>\\n</code> However, this does not work and I also tried by <code>\\r\\n|\\r|n</code> and many other combination of regexes.\nCode:</p>\n\n<pre><code>public void insertUpdate(DocumentEvent e) {\n    String split[], docStr = null;\n    Document textAreaDoc = (Document)e.getDocument();\n\n    try {\n        docStr = textAreaDoc.getText(textAreaDoc.getStartPosition().getOffset(), textAreaDoc.getEndPosition().getOffset());\n    } catch (BadLocationException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n\n    split = docStr.split(\"\\\\n\");\n}\n</code></pre>\n"},{"tags":["java","spring","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":7050143,"reputation":50,"user_id":5399526,"display_name":"JP13"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634563629,"creation_date":1634563629,"answer_id":69616961,"question_id":69606044,"body_markdown":"Before Spring 4.3 the @Autowired annotation was needed. Since then, it is optional if there is only one constructor.\r\n\r\nThere are three options for injection in spring: field injection, setter injection and the preferable constructor injection (the one you used).\r\n\r\nThe constructor injection is to be preferred, because you can be certain that all needed dependencies are injected, if the constructor expects all required dependencies as parameters. This way the class will not be instanciated without the required dependencies.\r\n\r\nThe visibility of fields in a class should always be private, if not needed otherwise.","title":"When to use access modifier private or protected with dependency injection,and which is comfortable for DI using @Autowired or final key","body":"<p>Before Spring 4.3 the @Autowired annotation was needed. Since then, it is optional if there is only one constructor.</p>\n<p>There are three options for injection in spring: field injection, setter injection and the preferable constructor injection (the one you used).</p>\n<p>The constructor injection is to be preferred, because you can be certain that all needed dependencies are injected, if the constructor expects all required dependencies as parameters. This way the class will not be instanciated without the required dependencies.</p>\n<p>The visibility of fields in a class should always be private, if not needed otherwise.</p>\n"}],"owner":{"account_id":19529502,"reputation":11,"user_id":14289626,"display_name":"Shoxrux Sindarov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634573757,"creation_date":1634485796,"question_id":69606044,"body_markdown":"I&#39;m still learning programming languages java and spring, during learning, I saw a new way to create dependency injection before I use this type.\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/car&quot;)\r\npublic class CarController {\r\n  final CarServiceImp carServiceImp;\r\n  final RestTemplate restTemplate;\r\n\r\n  public CarController(CarServiceImp carServiceImp, RestTemplate restTemplate) {\r\n      this.carServiceImp = carServiceImp;\r\n      this.restTemplate = restTemplate;\r\n  }\r\n  @GetMapping(&quot;/getcars&quot;)\r\n  public Response getCarByPage(@RequestParam Integer page,@RequestParam Integer size,@RequestParam String price) {\r\n      return carServiceImp.getCarByPage(page,size,price);\r\n  }\r\n\r\n  @GetMapping(&quot;/car&quot;)\r\n  public Response getAllCarFromAutoShop(@RequestParam(name = &quot;autshopId&quot;) Integer id) {\r\n      return carServiceImp.getAllCarFromAutoShop(id);\r\n  }\r\n\r\n  @PostMapping\r\n  public Response addAllCar(@RequestBody List&lt;Car&gt; carList) {\r\n      return carServiceImp.addAll(carList);\r\n  }\r\n\r\n  @PostMapping(&quot;/one&quot;)\r\n  public Response addOneCar(@RequestBody Car car) {\r\n      return carServiceImp.addOne(car);\r\n  }\r\n}\r\n```\r\n\r\nhere new way of using DI my question when using access modifier with DI and annotation `@Autowired` with constructor, and which one is comfortable for use by the way thank you for your answer\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/car&quot;)\r\npublic class CarController {\r\n  private final CarServiceImp carServiceImp;\r\n  private final RestTemplate restTemplate;\r\n\r\n  @Autowired\r\n  public CarController(CarServiceImp carServiceImp, RestTemplate restTemplate) {\r\n      this.carServiceImp = carServiceImp;\r\n      this.restTemplate = restTemplate;\r\n  }\r\n  @GetMapping(&quot;/getcars&quot;)\r\n  public Response getCarByPage(@RequestParam Integer page,@RequestParam Integer\r\n   size,@RequestParam String price) {\r\n      return carServiceImp.getCarByPage(page,size,price);\r\n  }\r\n\r\n  @GetMapping(&quot;/car&quot;)\r\n  public Response getAllCarFromAutoShop(@RequestParam(name = &quot;autshopId&quot;) Integer id) {\r\n      return carServiceImp.getAllCarFromAutoShop(id);\r\n  }\r\n\r\n  @PostMapping\r\n  public Response addAllCar(@RequestBody List&lt;Car&gt; carList) {\r\n      return carServiceImp.addAll(carList);\r\n  }\r\n\r\n  @PostMapping(&quot;/one&quot;)\r\n  public Response addOneCar(@RequestBody Car car) {\r\n      return carServiceImp.addOne(car);\r\n  }\r\n}\r\n```","title":"When to use access modifier private or protected with dependency injection,and which is comfortable for DI using @Autowired or final key","body":"<p>I'm still learning programming languages java and spring, during learning, I saw a new way to create dependency injection before I use this type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/car&quot;)\npublic class CarController {\n  final CarServiceImp carServiceImp;\n  final RestTemplate restTemplate;\n\n  public CarController(CarServiceImp carServiceImp, RestTemplate restTemplate) {\n      this.carServiceImp = carServiceImp;\n      this.restTemplate = restTemplate;\n  }\n  @GetMapping(&quot;/getcars&quot;)\n  public Response getCarByPage(@RequestParam Integer page,@RequestParam Integer size,@RequestParam String price) {\n      return carServiceImp.getCarByPage(page,size,price);\n  }\n\n  @GetMapping(&quot;/car&quot;)\n  public Response getAllCarFromAutoShop(@RequestParam(name = &quot;autshopId&quot;) Integer id) {\n      return carServiceImp.getAllCarFromAutoShop(id);\n  }\n\n  @PostMapping\n  public Response addAllCar(@RequestBody List&lt;Car&gt; carList) {\n      return carServiceImp.addAll(carList);\n  }\n\n  @PostMapping(&quot;/one&quot;)\n  public Response addOneCar(@RequestBody Car car) {\n      return carServiceImp.addOne(car);\n  }\n}\n</code></pre>\n<p>here new way of using DI my question when using access modifier with DI and annotation <code>@Autowired</code> with constructor, and which one is comfortable for use by the way thank you for your answer</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/car&quot;)\npublic class CarController {\n  private final CarServiceImp carServiceImp;\n  private final RestTemplate restTemplate;\n\n  @Autowired\n  public CarController(CarServiceImp carServiceImp, RestTemplate restTemplate) {\n      this.carServiceImp = carServiceImp;\n      this.restTemplate = restTemplate;\n  }\n  @GetMapping(&quot;/getcars&quot;)\n  public Response getCarByPage(@RequestParam Integer page,@RequestParam Integer\n   size,@RequestParam String price) {\n      return carServiceImp.getCarByPage(page,size,price);\n  }\n\n  @GetMapping(&quot;/car&quot;)\n  public Response getAllCarFromAutoShop(@RequestParam(name = &quot;autshopId&quot;) Integer id) {\n      return carServiceImp.getAllCarFromAutoShop(id);\n  }\n\n  @PostMapping\n  public Response addAllCar(@RequestBody List&lt;Car&gt; carList) {\n      return carServiceImp.addAll(carList);\n  }\n\n  @PostMapping(&quot;/one&quot;)\n  public Response addOneCar(@RequestBody Car car) {\n      return carServiceImp.addOne(car);\n  }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1634561436,"post_id":69616154,"comment_id":123050309,"body_markdown":"There is not enough information so we can help. What does `mMessages.get(position).getReciver()` return? What is the value of `user.toString()`?","body":"There is not enough information so we can help. What does <code>mMessages.get(position).getReciver()</code> return? What is the value of <code>user.toString()</code>?"},{"owner":{"account_id":20588655,"reputation":127,"user_id":15112905,"display_name":"Ranko Koturic"},"score":0,"creation_date":1634563051,"post_id":69616154,"comment_id":123051083,"body_markdown":"mMessages.get(position).getReciver() returns value of reciver in realtime database, and user.toString should be returning same that value for currently logged in user. I can post whole adapter if it helps","body":"mMessages.get(position).getReciver() returns value of reciver in realtime database, and user.toString should be returning same that value for currently logged in user. I can post whole adapter if it helps"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634564175,"creation_date":1634564175,"answer_id":69617093,"question_id":69616154,"body_markdown":"The values you store in the `author` and `reciver` [sic] properties are the hash code of the relevant `User` object on one specific Android client. Another client will very likely give the user another value, so this is not a good way to identify users.\r\n\r\nInstead of using `user.toString()` to store and filter users, the idiomatic approach is to use their UID for that. So store `user.getUID()` and also filter on that.","title":"Problem with filtering messages to specific user in android studio application","body":"<p>The values you store in the <code>author</code> and <code>reciver</code> [sic] properties are the hash code of the relevant <code>User</code> object on one specific Android client. Another client will very likely give the user another value, so this is not a good way to identify users.</p>\n<p>Instead of using <code>user.toString()</code> to store and filter users, the idiomatic approach is to use their UID for that. So store <code>user.getUID()</code> and also filter on that.</p>\n"}],"owner":{"account_id":20588655,"reputation":127,"user_id":15112905,"display_name":"Ranko Koturic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634573490,"creation_date":1634560449,"question_id":69616154,"body_markdown":"I&#39;m making selling app, and when you click on item you can send your addres to relatime database. I have no problem with displaying all addresses in recycler view, problem is when I try to filter out addresses for certain users, then i get empty screen that shows no data at all.\r\nI&#39;m getting current user and comparing him with reciver of this message. Variable MessageRel represents relative layout in which messages with adresses are displayed\r\nI&#39;m trying to filter out data in onBindViewHolder like this:\r\n\r\n      @Override\r\n    public void onBindViewHolder(@NonNull MessageViewHolder holder, int position) {\r\n        Message m = mMessages.get(position);\r\n        holder.showMessage.setText(m.getAdress());\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n        if(mMessages.get(position).getReciver().equals(user.toString())){\r\n            holder.messageRel.setVisibility(View.VISIBLE);\r\n        }else {\r\n            holder.messageRel.setVisibility(View.GONE);\r\n        }\r\n    }\r\n\r\nAnd this is how my database looks like [![enter image description here][1]][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A64py.png\r\n\r\nI really dont know what am I doing wrong?\r\n\r\n\r\n    public class MessageAdapter extends RecyclerView.Adapter&lt;MessageAdapter.MessageViewHolder&gt; {\r\n\r\n\r\n    private List&lt;Message&gt; mMessages;\r\n    private Context mContext;\r\n    MessageAdapter messageAdapter;\r\n\r\n\r\n    FirebaseUser fUser;\r\n\r\n    public MessageAdapter(List&lt;Message&gt; mMessages, Context mContext) {\r\n        this.mMessages = mMessages;\r\n        this.mContext = mContext;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MessageAdapter.MessageViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(mContext).inflate(R.layout.chat_item_right, parent, false);\r\n            return new MessageAdapter.MessageViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MessageViewHolder holder, int position) {\r\n        Message m = mMessages.get(position);\r\n        holder.showMessage.setText(m.getAdress());\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n\r\n        if(mMessages.get(position).getReciver().equals(user.toString())){\r\n            holder.messageRel.setVisibility(View.VISIBLE);\r\n        }else {\r\n            holder.messageRel.setVisibility(View.GONE);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mMessages.size();\r\n    }\r\n\r\n\r\n    public class MessageViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public TextView showMessage;\r\n        public RelativeLayout messageRel;\r\n\r\n        public MessageViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            showMessage = itemView.findViewById(R.id.showMessage);\r\n            messageRel = itemView.findViewById(R.id.messageRel);\r\n        }\r\n    }\r\n\r\n    /*@Override\r\n    public int getItemViewType(int position) {\r\n        fUser = FirebaseAuth.getInstance().getCurrentUser();\r\n        if(mMessages.get(position).getReciver().equals(fUser.getUid())){\r\n            return CORRECT_RECIVER;\r\n        }else {\r\n            return INCORRECT_RECIVER;\r\n        }\r\n    }*/\r\n}\r\n\r\n","title":"Problem with filtering messages to specific user in android studio application","body":"<p>I'm making selling app, and when you click on item you can send your addres to relatime database. I have no problem with displaying all addresses in recycler view, problem is when I try to filter out addresses for certain users, then i get empty screen that shows no data at all.\nI'm getting current user and comparing him with reciver of this message. Variable MessageRel represents relative layout in which messages with adresses are displayed\nI'm trying to filter out data in onBindViewHolder like this:</p>\n<pre><code>  @Override\npublic void onBindViewHolder(@NonNull MessageViewHolder holder, int position) {\n    Message m = mMessages.get(position);\n    holder.showMessage.setText(m.getAdress());\n    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n\n    if(mMessages.get(position).getReciver().equals(user.toString())){\n        holder.messageRel.setVisibility(View.VISIBLE);\n    }else {\n        holder.messageRel.setVisibility(View.GONE);\n    }\n}\n</code></pre>\n<p>And this is how my database looks like <a href=\"https://i.stack.imgur.com/A64py.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A64py.png\" alt=\"enter image description here\" /></a></p>\n<p>I really dont know what am I doing wrong?</p>\n<pre><code>public class MessageAdapter extends RecyclerView.Adapter&lt;MessageAdapter.MessageViewHolder&gt; {\n\n\nprivate List&lt;Message&gt; mMessages;\nprivate Context mContext;\nMessageAdapter messageAdapter;\n\n\nFirebaseUser fUser;\n\npublic MessageAdapter(List&lt;Message&gt; mMessages, Context mContext) {\n    this.mMessages = mMessages;\n    this.mContext = mContext;\n}\n\n@NonNull\n@Override\npublic MessageAdapter.MessageViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(mContext).inflate(R.layout.chat_item_right, parent, false);\n        return new MessageAdapter.MessageViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MessageViewHolder holder, int position) {\n    Message m = mMessages.get(position);\n    holder.showMessage.setText(m.getAdress());\n    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n\n\n    if(mMessages.get(position).getReciver().equals(user.toString())){\n        holder.messageRel.setVisibility(View.VISIBLE);\n    }else {\n        holder.messageRel.setVisibility(View.GONE);\n    }\n\n}\n\n@Override\npublic int getItemCount() {\n    return mMessages.size();\n}\n\n\npublic class MessageViewHolder extends RecyclerView.ViewHolder {\n\n    public TextView showMessage;\n    public RelativeLayout messageRel;\n\n    public MessageViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        showMessage = itemView.findViewById(R.id.showMessage);\n        messageRel = itemView.findViewById(R.id.messageRel);\n    }\n}\n\n/*@Override\npublic int getItemViewType(int position) {\n    fUser = FirebaseAuth.getInstance().getCurrentUser();\n    if(mMessages.get(position).getReciver().equals(fUser.getUid())){\n        return CORRECT_RECIVER;\n    }else {\n        return INCORRECT_RECIVER;\n    }\n}*/\n</code></pre>\n<p>}</p>\n"},{"tags":["java","itext","itext7","jdeps"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":1,"creation_date":1635276586,"post_id":69619282,"comment_id":123252833,"body_markdown":"What exactly prevents you from using iText 7 in a Java 9+ project? The fact that it was compiled against Java 8 alone should not be a blocker, should it?","body":"What exactly prevents you from using iText 7 in a Java 9+ project? The fact that it was compiled against Java 8 alone should not be a blocker, should it?"},{"owner":{"account_id":3399870,"reputation":53,"user_id":2852370,"display_name":"darkwall"},"score":0,"creation_date":1635360275,"post_id":69619282,"comment_id":123279992,"body_markdown":"When I&#39;m in my IDE, everything works fine. But I try to generate an appimage. And then, it says, that the itext JAR files cannot be processed by jlink, cause they are not automatic modules or so.","body":"When I&#39;m in my IDE, everything works fine. But I try to generate an appimage. And then, it says, that the itext JAR files cannot be processed by jlink, cause they are not automatic modules or so."},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1635367674,"post_id":69619282,"comment_id":123282502,"body_markdown":"You may want to add all those details into your question","body":"You may want to add all those details into your question"},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":1,"creation_date":1635516644,"post_id":69619282,"comment_id":123327146,"body_markdown":"Could be e.g. feature request for jlink. iText 7 does not feature Java 9+ module-info declarations at the moment but this should not be a blocker for using iText 7 on higher Java versions","body":"Could be e.g. feature request for jlink. iText 7 does not feature Java 9+ module-info declarations at the moment but this should not be a blocker for using iText 7 on higher Java versions"},{"owner":{"account_id":3399870,"reputation":53,"user_id":2852370,"display_name":"darkwall"},"score":1,"creation_date":1635585619,"post_id":69619282,"comment_id":123341712,"body_markdown":"Thanks Alexey, I tried to use jlink on it, but itext has so many dependencies, that I gave up. It is only a problem, when you want to create an appimage or rpm or exe or alike.\nRight now, I have written my own printing class, which suits my needs, so I wait until itext is ready for appimage and Java 9+.\nBut thanks for your help!!","body":"Thanks Alexey, I tried to use jlink on it, but itext has so many dependencies, that I gave up. It is only a problem, when you want to create an appimage or rpm or exe or alike. Right now, I have written my own printing class, which suits my needs, so I wait until itext is ready for appimage and Java 9+. But thanks for your help!!"}],"owner":{"account_id":3399870,"reputation":53,"user_id":2852370,"display_name":"darkwall"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634573468,"creation_date":1634573468,"question_id":69619282,"body_markdown":"I am trying a modular project in Java 16 and I want to test out iText7.\r\nAs far as I can see, the jars of iText7 are compiled against Java8.\r\nSo I have to update the jar-files of iText7 with jdeps aso. But it does not work.\r\nIs there an easier way to use iText7 in a Java &gt; 8 project?\r\nThanks!","title":"Using iText 7 in module","body":"<p>I am trying a modular project in Java 16 and I want to test out iText7.\nAs far as I can see, the jars of iText7 are compiled against Java8.\nSo I have to update the jar-files of iText7 with jdeps aso. But it does not work.\nIs there an easier way to use iText7 in a Java &gt; 8 project?\nThanks!</p>\n"},{"tags":["java","spring-boot","enums","java-stream"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1634570197,"post_id":69618493,"comment_id":123054407,"body_markdown":"`return userProofList.stream().any/all/noneMatch(/* some predicate */);`?","body":"<code>return userProofList.stream().any&#47;all&#47;noneMatch(&#47;* some predicate *&#47;);</code>?"},{"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"score":0,"creation_date":1634570232,"post_id":69618493,"comment_id":123054420,"body_markdown":"Can you write it maybe as code example for my example?","body":"Can you write it maybe as code example for my example?"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1634571726,"post_id":69618493,"comment_id":123055105,"body_markdown":"Can you clarify how you are going to return _false with error message_?","body":"Can you clarify how you are going to return <i>false with error message</i>?"},{"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"score":0,"creation_date":1634572431,"post_id":69618493,"comment_id":123055425,"body_markdown":"True, guess error message would be enough","body":"True, guess error message would be enough"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1634572638,"post_id":69618493,"comment_id":123055502,"body_markdown":"Then how the method `isModelFastAndSuccess` is supposed to return _something_ which is a boolean and a String message at the same time?  Also, it is not clear whether the response field `modelList` has to contain _all_ models `Fast` and `Created` or just _any_?","body":"Then how the method <code>isModelFastAndSuccess</code> is supposed to return <i>something</i> which is a boolean and a String message at the same time?  Also, it is not clear whether the response field <code>modelList</code> has to contain <i>all</i> models <code>Fast</code> and <code>Created</code> or just <i>any</i>?"},{"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"score":0,"creation_date":1634572687,"post_id":69618493,"comment_id":123055521,"body_markdown":"Yes, that would work as well","body":"Yes, that would work as well"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634573160,"creation_date":1634573160,"answer_id":69619209,"question_id":69618493,"body_markdown":"The approach to implementation of `isModelFastAndSuccess` could be as follows assuming that `dataService::getModelStatus` returns `Optional&lt;DataResponse&gt;`:\r\n```java\r\npublic Boolean areAllModelsFastAndSuccess(String modelId) {\r\n    return dataService.getModelStatus(modelId) // Optional&lt;DataResponse&gt;\r\n        .map(DataResponse::getModelList) // Optional&lt;List&lt;Model&gt;&gt;\r\n        .orElse(Collections.emptyList()) // List&lt;Model&gt;\r\n        .stream() // Stream&lt;Model&gt;\r\n        .allMatch(model -&gt; model.getType() == ModelType.Fast \r\n                        &amp;&amp; model.getStatus() == ModelStatus.CREATED\r\n        );\r\n}\r\n```\r\nAlso, a method may be implemented to return `true` if there is at least one `Fast / Created` model:\r\n```java\r\npublic Boolean isAnyModelFastAndSuccess(String modelId) {\r\n    return dataService.getModelStatus(modelId) // Optional&lt;DataResponse&gt;\r\n        .map(DataResponse::getModelList) // Optional&lt;List&lt;Model&gt;&gt;\r\n        .orElse(Collections.emptyList()) // List&lt;Model&gt;\r\n        .stream() // Stream&lt;Model&gt;\r\n        .anyMatch(model -&gt; model.getType() == ModelType.Fast \r\n                        &amp;&amp; model.getStatus() == ModelStatus.CREATED\r\n        );\r\n}\r\n```","title":"How to use streams to return boolean value depending of enum type - SpringBoot","body":"<p>The approach to implementation of <code>isModelFastAndSuccess</code> could be as follows assuming that <code>dataService::getModelStatus</code> returns <code>Optional&lt;DataResponse&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Boolean areAllModelsFastAndSuccess(String modelId) {\n    return dataService.getModelStatus(modelId) // Optional&lt;DataResponse&gt;\n        .map(DataResponse::getModelList) // Optional&lt;List&lt;Model&gt;&gt;\n        .orElse(Collections.emptyList()) // List&lt;Model&gt;\n        .stream() // Stream&lt;Model&gt;\n        .allMatch(model -&gt; model.getType() == ModelType.Fast \n                        &amp;&amp; model.getStatus() == ModelStatus.CREATED\n        );\n}\n</code></pre>\n<p>Also, a method may be implemented to return <code>true</code> if there is at least one <code>Fast / Created</code> model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Boolean isAnyModelFastAndSuccess(String modelId) {\n    return dataService.getModelStatus(modelId) // Optional&lt;DataResponse&gt;\n        .map(DataResponse::getModelList) // Optional&lt;List&lt;Model&gt;&gt;\n        .orElse(Collections.emptyList()) // List&lt;Model&gt;\n        .stream() // Stream&lt;Model&gt;\n        .anyMatch(model -&gt; model.getType() == ModelType.Fast \n                        &amp;&amp; model.getStatus() == ModelStatus.CREATED\n        );\n}\n</code></pre>\n"}],"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634573176,"creation_date":1634570122,"question_id":69618493,"body_markdown":"I have a method with which I would like to check if, in my model, enum of some type exists.\r\nIf it exists I want to return `true` an if not I would like to return `false` with error message.\r\n\r\nI have model that looks like this:\r\n\r\n    @Data\r\n    public class DataResponse {\r\n    \r\n        public final String userId;\r\n        public final List&lt;Model&gt; modelList;\r\n    \r\n    }\r\n\r\n**Model.java**\r\n\r\n    @Data\r\n    public class Model {\r\n        public final String modelId;\r\n        public final ModelType type;\r\n        public final ModelStatus status;\r\n    }\r\n\r\n**ModelType.java**\r\n\r\n    public enum ModelType {\r\n        Fast,\r\n        Slow;\r\n    }\r\n\r\n**ModelStatus.java**\r\n\r\n    public enum ModelStatus {\r\n        CREATED,\r\n        FAILED\r\n    }\r\n\r\nNow I would like to check using strems if my model contains type `&quot;Fast&quot;` and if contains status `&quot;CREATED&quot;` if yes return `true` if not return `false` with error message.\r\n\r\nSo far I have this:\r\n\r\n    public Boolean isModelFastAndSuccess(String modelId){\r\n        Optional&lt;DataResponse&gt; modelList = dataService.getModelStatus(modelId);\r\n        userProofList.stream().map(ml -&gt; ml.modelList)\r\n                .map(models -&gt; {\r\n                    if() \r\n                })\r\n                .collect(Collectors.toList());\r\n        }\r\n\r\nI am not sure how to finish it.\r\nAny advice appreciated.","title":"How to use streams to return boolean value depending of enum type - SpringBoot","body":"<p>I have a method with which I would like to check if, in my model, enum of some type exists.\nIf it exists I want to return <code>true</code> an if not I would like to return <code>false</code> with error message.</p>\n<p>I have model that looks like this:</p>\n<pre><code>@Data\npublic class DataResponse {\n\n    public final String userId;\n    public final List&lt;Model&gt; modelList;\n\n}\n</code></pre>\n<p><strong>Model.java</strong></p>\n<pre><code>@Data\npublic class Model {\n    public final String modelId;\n    public final ModelType type;\n    public final ModelStatus status;\n}\n</code></pre>\n<p><strong>ModelType.java</strong></p>\n<pre><code>public enum ModelType {\n    Fast,\n    Slow;\n}\n</code></pre>\n<p><strong>ModelStatus.java</strong></p>\n<pre><code>public enum ModelStatus {\n    CREATED,\n    FAILED\n}\n</code></pre>\n<p>Now I would like to check using strems if my model contains type <code>&quot;Fast&quot;</code> and if contains status <code>&quot;CREATED&quot;</code> if yes return <code>true</code> if not return <code>false</code> with error message.</p>\n<p>So far I have this:</p>\n<pre><code>public Boolean isModelFastAndSuccess(String modelId){\n    Optional&lt;DataResponse&gt; modelList = dataService.getModelStatus(modelId);\n    userProofList.stream().map(ml -&gt; ml.modelList)\n            .map(models -&gt; {\n                if() \n            })\n            .collect(Collectors.toList());\n    }\n</code></pre>\n<p>I am not sure how to finish it.\nAny advice appreciated.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":11829676,"reputation":504,"user_id":8656749,"display_name":"Chris van Chip"},"score":0,"creation_date":1634627775,"post_id":69600999,"comment_id":123068603,"body_markdown":"Hey! Could you please add more details? What is the problem? When does it occur?","body":"Hey! Could you please add more details? What is the problem? When does it occur?"}],"answers":[{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634463764,"creation_date":1634463764,"answer_id":69603052,"question_id":69600999,"body_markdown":"A method annotated with @PostConstruct should not have any return value!\r\nFor further information have a look here: https://docs.oracle.com/javase/10/docs/api/javax/annotation/PostConstruct.html\r\n\r\n&gt; The method defined on a non-interceptor class MUST HAVE the following signature:\r\n&gt;void &lt;METHOD&gt;()\r\nThe method on which PostConstruct is applied MAY be public, protected, package private or private.\r\nThe method MUST NOT be static except for the application client.\r\nThe method MAY be final.\r\nIf the method throws an unchecked exception the class MUST NOT be put into service except in the case of EJBs where the EJB can handle exceptions and even recover from them.\r\n\r\nA typical use-case can be found here: https://www.baeldung.com/spring-postconstruct-predestroy","title":"Error creating bean with name &#39;baseController&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException","body":"<p>A method annotated with @PostConstruct should not have any return value!\nFor further information have a look here: <a href=\"https://docs.oracle.com/javase/10/docs/api/javax/annotation/PostConstruct.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/javax/annotation/PostConstruct.html</a></p>\n<blockquote>\n<p>The method defined on a non-interceptor class MUST HAVE the following signature:\nvoid ()\nThe method on which PostConstruct is applied MAY be public, protected, package private or private.\nThe method MUST NOT be static except for the application client.\nThe method MAY be final.\nIf the method throws an unchecked exception the class MUST NOT be put into service except in the case of EJBs where the EJB can handle exceptions and even recover from them.</p>\n</blockquote>\n<p>A typical use-case can be found here: <a href=\"https://www.baeldung.com/spring-postconstruct-predestroy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-postconstruct-predestroy</a></p>\n"}],"owner":{"account_id":23055568,"reputation":1,"user_id":17171650,"display_name":"Timmi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3066,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1634643654,"answer_count":1,"score":-2,"last_activity_date":1634572607,"creation_date":1634439472,"question_id":69600999,"body_markdown":"       \r\n\r\n&gt;  Error creating bean with name &#39;baseController&#39;: Invocation of init\r\n&gt; method failed; nested exception is java.lang.NullPointerException\r\n&gt;         \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)\r\n&gt;         \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)\r\n&gt;         \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)\r\n&gt;         \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)\r\n&gt;         \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n&gt;         \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n&gt;         \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n&gt;         \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\r\n&gt;         \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n&gt;         \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)\r\n&gt;         \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\r\n&gt;         \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n&gt;         \tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n&gt;         \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\r\n&gt;         \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\r\n&gt;         \tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\r\n&gt;         \tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n&gt;         \tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n&gt;         \tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n&gt;         \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1143)\r\n&gt;         \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1090)\r\n&gt;         \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:984)\r\n&gt;         \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4891)\r\n&gt;         \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5202)\r\n&gt;         \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n&gt;         \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1412)\r\n&gt;         \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1402)\r\n&gt;         \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n&gt;         \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt;         \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt;         \tat java.lang.Thread.run(Thread.java:748)\r\n&gt;         Caused by: java.lang.NullPointerException\r\n&gt;         \tat DiamondShop.Service.User.HomeServiceIml.GetDataMenus(HomeServiceIml.java:33)\r\n&gt;         \tat DiamondShop.Controller.User.BaseController.Initial(BaseController.java:19)\r\n&gt;         \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt;         \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt;         \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt;         \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n&gt;         \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)\r\n&gt;         \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)\r\n&gt;         \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)\r\n&gt;         \t... 30 more\r\n\r\n---------------------    \r\n        @Controller\r\n        public class BaseController {\r\n        \t\r\n        \t@Autowired\r\n        \tHomeServiceIml _homeService;\r\n        \tpublic ModelAndView _mvShare = new ModelAndView();\r\n        \t\r\n        \t@PostConstruct\r\n        \tpublic ModelAndView Init () {\r\n        \t\t_mvShare.addObject(&quot;menus&quot;, _homeService.GetDataMenus());\r\n        \t\treturn _mvShare;\r\n        \t}\r\n        }\r\n------\r\n\r\n    @Controller\r\n    public class HomeController extends BaseController{\r\n    \r\n    \t\r\n    \t@RequestMapping(value = {&quot;/&quot;,&quot;/trang-chu&quot;} )\r\n    \tpublic ModelAndView Index() {\r\n    \t\t\r\n    \t\tModelAndView mv= new ModelAndView(&quot;user/index&quot;);\r\n    \t\tmv.addObject(&quot;slides&quot;, _homeService.GetDataSlide());\r\n    \t\tmv.addObject(&quot;categorys&quot;, _homeService.GetDataCategorys());\r\n    \t\treturn mv;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value = &quot;/product&quot;)\r\n    \tpublic ModelAndView Product() {\r\n    \t\t\r\n    \t\tModelAndView mv= new ModelAndView(&quot;user/product&quot;);\r\n    \t\treturn mv;\r\n    \t}\r\n    }\r\n\r\n","title":"Error creating bean with name &#39;baseController&#39;: Invocation of init method failed; nested exception is java.lang.NullPointerException","body":"<blockquote>\n<p>Error creating bean with name 'baseController': Invocation of init\nmethod failed; nested exception is java.lang.NullPointerException\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\nat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\nat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\nat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\nat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\nat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\nat javax.servlet.GenericServlet.init(GenericServlet.java:158)\nat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1143)\nat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1090)\nat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:984)\nat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4891)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5202)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1412)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1402)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NullPointerException\nat DiamondShop.Service.User.HomeServiceIml.GetDataMenus(HomeServiceIml.java:33)\nat DiamondShop.Controller.User.BaseController.Initial(BaseController.java:19)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389)\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333)\nat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157)\n... 30 more</p>\n</blockquote>\n<hr />\n<pre><code>    @Controller\n    public class BaseController {\n        \n        @Autowired\n        HomeServiceIml _homeService;\n        public ModelAndView _mvShare = new ModelAndView();\n        \n        @PostConstruct\n        public ModelAndView Init () {\n            _mvShare.addObject(&quot;menus&quot;, _homeService.GetDataMenus());\n            return _mvShare;\n        }\n    }\n</code></pre>\n<hr />\n<pre><code>@Controller\npublic class HomeController extends BaseController{\n\n    \n    @RequestMapping(value = {&quot;/&quot;,&quot;/trang-chu&quot;} )\n    public ModelAndView Index() {\n        \n        ModelAndView mv= new ModelAndView(&quot;user/index&quot;);\n        mv.addObject(&quot;slides&quot;, _homeService.GetDataSlide());\n        mv.addObject(&quot;categorys&quot;, _homeService.GetDataCategorys());\n        return mv;\n    }\n    \n    @RequestMapping(value = &quot;/product&quot;)\n    public ModelAndView Product() {\n        \n        ModelAndView mv= new ModelAndView(&quot;user/product&quot;);\n        return mv;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1527001341,"post_id":50470874,"comment_id":87955187,"body_markdown":"You are supposed to declare it within the round parenthesis, so that the resource can be automatically closed in the implicit `finally` statement.","body":"You are supposed to declare it within the round parenthesis, so that the resource can be automatically closed in the implicit <code>finally</code> statement."},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1527002747,"post_id":50470874,"comment_id":87956157,"body_markdown":"Do you really need access to `con` to do `rollback` only? Probably you could encapsulate your payload into `Function` and hide `try...cath` from the client and your payload function?","body":"Do you really need access to <code>con</code> to do <code>rollback</code> only? Probably you could encapsulate your payload into <code>Function</code> and hide <code>try...cath</code> from the client and your payload function?"}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1527001378,"creation_date":1527001378,"answer_id":50470931,"question_id":50470874,"body_markdown":"I&#39;d design it like this:\r\n\r\n    try (Connection con = DatabaseService.getConnection()) {\r\n        try {\r\n            con.execute(...);\r\n        } catch (Exception e) {\r\n            con.rollback();\r\n        }\r\n    }\r\n","title":"How to access a try-with-resource variable outside the block?","body":"<p>I'd design it like this:</p>\n\n<pre><code>try (Connection con = DatabaseService.getConnection()) {\n    try {\n        con.execute(...);\n    } catch (Exception e) {\n        con.rollback();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527001721,"creation_date":1527001721,"answer_id":50471030,"question_id":50470874,"body_markdown":"My answer is based on answer from *@Luiggi Mendoza*:\r\n\r\n    public void doWithConnection() throws SQLException {\r\n        try (Connection con = DatabaseService.getConnection()) {\r\n            execute(con);\r\n        }\r\n    }\r\n    \r\n    private void execute(Connection con) throws SQLException {\r\n        try {\r\n            // TODO do smth. here\r\n        } catch(Exception e) {\r\n            con.rollback();\r\n        }\r\n    }","title":"How to access a try-with-resource variable outside the block?","body":"<p>My answer is based on answer from <em>@Luiggi Mendoza</em>:</p>\n\n<pre><code>public void doWithConnection() throws SQLException {\n    try (Connection con = DatabaseService.getConnection()) {\n        execute(con);\n    }\n}\n\nprivate void execute(Connection con) throws SQLException {\n    try {\n        // TODO do smth. here\n    } catch(Exception e) {\n        con.rollback();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8054693,"reputation":1522,"user_id":6072229,"accept_rate":100,"display_name":"TomVW"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1527001990,"creation_date":1527001797,"answer_id":50471051,"question_id":50470874,"body_markdown":"Since try-with-resources calls `close()` on a AutoCloseable class, you could go back to manually closing the connection:\r\n\r\n    Connection con = DatabaseService.getConnection();\r\n    try {\r\n        con.execute(...);\r\n    } catch (Exception e) {\r\n        con.rollback();\r\n    } finally {\r\n        con.close();\r\n    }","title":"How to access a try-with-resource variable outside the block?","body":"<p>Since try-with-resources calls <code>close()</code> on a AutoCloseable class, you could go back to manually closing the connection:</p>\n\n<pre><code>Connection con = DatabaseService.getConnection();\ntry {\n    con.execute(...);\n} catch (Exception e) {\n    con.rollback();\n} finally {\n    con.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13301012,"reputation":1428,"user_id":9602525,"display_name":"Eby Jacob"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1527004632,"creation_date":1527003180,"answer_id":50471509,"question_id":50470874,"body_markdown":"This is only with Java version 8. It has improved Since Java 9.\r\n\r\nWith Java 9 the Try-With-Resources has been improved by introducing a new syntax:\r\n\r\n    public void loadDataFromDB() throws SQLException {\r\n        Connection dbCon = DriverManager.getConnection(&quot;url&quot;, &quot;user&quot;, &quot;password&quot;);\r\n        try (dbCon; ResultSet rs = dbCon.createStatement().executeQuery(&quot;select * from emp&quot;)) {\r\n            while (rs.next()) {\r\n                System.out.println(&quot;In method loadDataFromDB()&quot; + rs.getString(1));\r\n            }\r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;Exception occured while reading data from DB &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nThe same when compiled with Java 8 or lesser version will result in a compilation error.\r\n\r\nIn Java 9 you can use the variables in the scope of try and catch blocks.","title":"How to access a try-with-resource variable outside the block?","body":"<p>This is only with Java version 8. It has improved Since Java 9.</p>\n\n<p>With Java 9 the Try-With-Resources has been improved by introducing a new syntax:</p>\n\n<pre><code>public void loadDataFromDB() throws SQLException {\n    Connection dbCon = DriverManager.getConnection(\"url\", \"user\", \"password\");\n    try (dbCon; ResultSet rs = dbCon.createStatement().executeQuery(\"select * from emp\")) {\n        while (rs.next()) {\n            System.out.println(\"In method loadDataFromDB()\" + rs.getString(1));\n        }\n    } catch (SQLException e) {\n        System.out.println(\"Exception occured while reading data from DB \" + e.getMessage());\n    }\n}\n</code></pre>\n\n<p>The same when compiled with Java 8 or lesser version will result in a compilation error.</p>\n\n<p>In Java 9 you can use the variables in the scope of try and catch blocks.</p>\n"},{"tags":[],"owner":{"account_id":12510171,"reputation":41,"user_id":9105645,"display_name":"Edison Klafke Fillus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618092153,"creation_date":1618090676,"answer_id":67039493,"question_id":50470874,"body_markdown":"In fact, since Java 9 you can use try-with-resources with final or effective final variables. So you can initialize the variable outside the try block, and just indicate that you want to use it in the try-with-resources block. This way the variable is available in the scope of the catch block.\r\n```java\r\nConnection con = DatabaseService.getConnection();\r\ntry (con) {\r\n     con.execute(...);\r\n} catch (Exception e) {\r\n    con.rollback();\r\n}\r\n```\r\nNote: Even though the variable will be available in the catch method, the call to the ```close()``` method will happen before it enters the catch or finally blocks. So in this case it won&#39;t be useful to call a ```rollback()``` in a transaction, but it is to gather additional information from the object state.","title":"How to access a try-with-resource variable outside the block?","body":"<p>In fact, since Java 9 you can use try-with-resources with final or effective final variables. So you can initialize the variable outside the try block, and just indicate that you want to use it in the try-with-resources block. This way the variable is available in the scope of the catch block.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connection con = DatabaseService.getConnection();\ntry (con) {\n     con.execute(...);\n} catch (Exception e) {\n    con.rollback();\n}\n</code></pre>\n<p>Note: Even though the variable will be available in the catch method, the call to the <code>close()</code> method will happen before it enters the catch or finally blocks. So in this case it won't be useful to call a <code>rollback()</code> in a transaction, but it is to gather additional information from the object state.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2566,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":50470931,"answer_count":5,"score":7,"last_activity_date":1634572584,"creation_date":1527001246,"question_id":50470874,"body_markdown":"Why can&#39;t I assign a `try-with-resource variable` outside of the try block?\r\n\r\nThe following statement is invalid:\r\n\r\n    Connection con = null;\r\n    try (con = DatabaseService.getConnection()) { //this is invalid. why?\r\n         con.execute(...);\r\n    } catch (Exception e) {\r\n        con.rollback();\r\n    }\r\n\r\nHow can I get access to the `con` variable inside the `catch` block?","title":"How to access a try-with-resource variable outside the block?","body":"<p>Why can't I assign a <code>try-with-resource variable</code> outside of the try block?</p>\n\n<p>The following statement is invalid:</p>\n\n<pre><code>Connection con = null;\ntry (con = DatabaseService.getConnection()) { //this is invalid. why?\n     con.execute(...);\n} catch (Exception e) {\n    con.rollback();\n}\n</code></pre>\n\n<p>How can I get access to the <code>con</code> variable inside the <code>catch</code> block?</p>\n"},{"tags":["java","google-apps-script","google-sheets"],"comments":[{"owner":{"account_id":9729507,"reputation":61490,"user_id":7215091,"accept_rate":71,"display_name":"Cooper"},"score":0,"creation_date":1634569313,"post_id":69617066,"comment_id":123054050,"body_markdown":"I&#39;ve  programmed in both VBA and Javscript and Google Apps Scripts provides a much more robust language which allows users to achieve a wide variety of solutions.  Where as, in my experience VBA from Excel has a myriad of special little attachments that do very unique and valuable things which results in a language with myriad of little inconsistencies in the language.   Once you know Javascript then Google Apps Script is easy to learn and your ability to perform a myriad of solutions with same simple set of commands is remarkably fascinating ... at least it is to me.","body":"I&#39;ve  programmed in both VBA and Javscript and Google Apps Scripts provides a much more robust language which allows users to achieve a wide variety of solutions.  Where as, in my experience VBA from Excel has a myriad of special little attachments that do very unique and valuable things which results in a language with myriad of little inconsistencies in the language.   Once you know Javascript then Google Apps Script is easy to learn and your ability to perform a myriad of solutions with same simple set of commands is remarkably fascinating ... at least it is to me."},{"owner":{"account_id":8346707,"reputation":23,"user_id":6270199,"display_name":"Ryan Pearson"},"score":0,"creation_date":1634641952,"post_id":69617066,"comment_id":123074358,"body_markdown":"I can totally see what you mean, I do think with time I will put learning Java to the top of my list - so much automation can be achieved :-) I think it&#39;s a chicken and the egg scenario, as by automating I will have more time to learn how to automate and have more time lol","body":"I can totally see what you mean, I do think with time I will put learning Java to the top of my list - so much automation can be achieved :-) I think it&#39;s a chicken and the egg scenario, as by automating I will have more time to learn how to automate and have more time lol"}],"answers":[{"tags":[],"owner":{"account_id":9729507,"reputation":61490,"user_id":7215091,"accept_rate":71,"display_name":"Cooper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634572419,"creation_date":1634567792,"answer_id":69617981,"question_id":69617066,"body_markdown":"I don&#39;t think that your result array can be a fixed length since you Comment goes down sh.getLastRow() so this is what I think you want:\r\n\r\n\r\nUsing ranges like `B2:H` is not a good idea in Apps Script because they generate a lots of null data at the end of the range which has to be filtered out.\r\n\r\n    function bnbm() {\r\n      const ss = SpreadsheetApp.getActive();\r\n      const csh = ss.getSheetByName(&quot;Comments&quot;);\r\n      const dsh = ss.getSheetByName(&#39;Dashboard&#39;);\r\n      const vs = csh.getRange(2, 2, csh.getLastRow() - 1, 7).getValues();\r\n      const A1 = dsh.getRange(&quot;A1&quot;).getValue();\r\n      let oA = [];//matches array\r\n      for (let i = 0; i &lt; vs.length; i++) {\r\n        //if column B Comments = Dashboard A1\r\n        if (vs[i][0] == A1) {\r\n          oA.push(vs[i]);//save current row in matches array\r\n        }\r\n      }\r\n      if ((dsh.getLastRow() - 2) &gt; 0) {\r\n        dsh.getRange(3, 7, dsh.getLastRow() - 2, 7).clearContent();//clear contents if any\r\n      }\r\n      if (oA.length &gt; 0) {\r\n        dsh.getRange(3, 7, oA.length, oA[0].length).setValues(oA);//move matches to dashboard\r\n        ss.toast(`${oA.length}`, &#39;Matches&#39;);//number of matches\r\n      } else {\r\n        ss.toast(&#39;No Matches&#39;, &#39;Matches&#39;, 10);//no matches\r\n      }\r\n    }\r\n\r\nSample Comment Data Set:\r\n\r\n|COL1|COL2|COL3|COL4|COL5|COL6|COL7|COL8|\r\n|:---|:---|:---|:---|:---|:---|:---|:---|\r\n|24|21|9|24|16|7|12|13|\r\n|12|19|9|19|20|7|11|18|\r\n|19|18|6|1|19|16|1|16|\r\n|2|0|4|19|8|12|8|20|\r\n|19|19|8|24|8|0|1|18|\r\n|22|6|9|2|17|18|5|20|\r\n|22|13|7|1|9|15|24|14|\r\n|20|7|8|21|11|2|10|22|\r\n|4|11|12|21|13|6|9|22|\r\n|12|19|23|6|8|9|5|12|\r\n|3|18|11|17|7|12|3|22|\r\n|19|19|11|3|13|15|4|12|\r\n|23|1|10|16|20|11|5|20|\r\n|17|20|14|13|4|13|15|1|\r\n\r\nResults for Dashboard A1 = 19;\r\n\r\n|19|||||||||||||\r\n|:---|:---|:---|:---|:---|:---|:---|:---|:---|:---|:---|:---|:---|\r\n||||||||||||||\r\n|||||||19|9|19|20|7|11|18|\r\n|||||||19|8|24|8|0|1|18|\r\n|||||||19|23|6|8|9|5|12|\r\n|||||||19|11|3|13|15|4|12|\r\n|||||||19|24|13|11|9|19|9|\r\n\r\n\r\nWith the addition of this function bnbm will run every time you make an edit in A1 of sheet Dashboard.\r\n\r\n\r\n    function onEdit(e) {\r\n      //e.source.toast(&#39;entry&#39;);\r\n      const sh = e.range.getSheet();\r\n      if(sh.getName() == &#39;Dashboard&#39; &amp;&amp; e.range.rowStart == 1 &amp;&amp; e.range.columnStart == 1 &amp;&amp; e.value) {\r\n        bnbm();\r\n      }\r\n      if(sh.getName() == &quot;Dashboard&quot; &amp;&amp; e.range.rowStart == 1 &amp;&amp; e.range.columnStart == 1 &amp;&amp; e.value == null) {\r\n        e.source.toast(&#39;Invalid Input&#39;,&#39;Error Message&#39;);\r\n      }\r\n    }\r\n\r\nThe easiest way I&#39;ve found to run this is to enter data into A1 (user edits only) and then click on another cell.  Hitting enter will not data just forces the focus back into the empty cell and does not complete the edit.","title":"Reading Form Responses over to dashboard based on 1 cell value","body":"<p>I don't think that your result array can be a fixed length since you Comment goes down sh.getLastRow() so this is what I think you want:</p>\n<p>Using ranges like <code>B2:H</code> is not a good idea in Apps Script because they generate a lots of null data at the end of the range which has to be filtered out.</p>\n<pre><code>function bnbm() {\n  const ss = SpreadsheetApp.getActive();\n  const csh = ss.getSheetByName(&quot;Comments&quot;);\n  const dsh = ss.getSheetByName('Dashboard');\n  const vs = csh.getRange(2, 2, csh.getLastRow() - 1, 7).getValues();\n  const A1 = dsh.getRange(&quot;A1&quot;).getValue();\n  let oA = [];//matches array\n  for (let i = 0; i &lt; vs.length; i++) {\n    //if column B Comments = Dashboard A1\n    if (vs[i][0] == A1) {\n      oA.push(vs[i]);//save current row in matches array\n    }\n  }\n  if ((dsh.getLastRow() - 2) &gt; 0) {\n    dsh.getRange(3, 7, dsh.getLastRow() - 2, 7).clearContent();//clear contents if any\n  }\n  if (oA.length &gt; 0) {\n    dsh.getRange(3, 7, oA.length, oA[0].length).setValues(oA);//move matches to dashboard\n    ss.toast(`${oA.length}`, 'Matches');//number of matches\n  } else {\n    ss.toast('No Matches', 'Matches', 10);//no matches\n  }\n}\n</code></pre>\n<p>Sample Comment Data Set:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">COL1</th>\n<th style=\"text-align: left;\">COL2</th>\n<th style=\"text-align: left;\">COL3</th>\n<th style=\"text-align: left;\">COL4</th>\n<th style=\"text-align: left;\">COL5</th>\n<th style=\"text-align: left;\">COL6</th>\n<th style=\"text-align: left;\">COL7</th>\n<th style=\"text-align: left;\">COL8</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">24</td>\n<td style=\"text-align: left;\">21</td>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">24</td>\n<td style=\"text-align: left;\">16</td>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">12</td>\n<td style=\"text-align: left;\">13</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">12</td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">20</td>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">18</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">18</td>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">16</td>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">16</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: left;\">0</td>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">12</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">24</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">0</td>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">18</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">22</td>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: left;\">17</td>\n<td style=\"text-align: left;\">18</td>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">22</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">15</td>\n<td style=\"text-align: left;\">24</td>\n<td style=\"text-align: left;\">14</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">20</td>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">21</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">2</td>\n<td style=\"text-align: left;\">10</td>\n<td style=\"text-align: left;\">22</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">12</td>\n<td style=\"text-align: left;\">21</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">22</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">12</td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">23</td>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">12</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">18</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">17</td>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">12</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">22</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">15</td>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\">12</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">23</td>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">10</td>\n<td style=\"text-align: left;\">16</td>\n<td style=\"text-align: left;\">20</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">20</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">17</td>\n<td style=\"text-align: left;\">20</td>\n<td style=\"text-align: left;\">14</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">15</td>\n<td style=\"text-align: left;\">1</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Results for Dashboard A1 = 19;</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">19</th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n<th style=\"text-align: left;\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">20</td>\n<td style=\"text-align: left;\">7</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">18</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">24</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">0</td>\n<td style=\"text-align: left;\">1</td>\n<td style=\"text-align: left;\">18</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">23</td>\n<td style=\"text-align: left;\">6</td>\n<td style=\"text-align: left;\">8</td>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">5</td>\n<td style=\"text-align: left;\">12</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">3</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">15</td>\n<td style=\"text-align: left;\">4</td>\n<td style=\"text-align: left;\">12</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\"></td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">24</td>\n<td style=\"text-align: left;\">13</td>\n<td style=\"text-align: left;\">11</td>\n<td style=\"text-align: left;\">9</td>\n<td style=\"text-align: left;\">19</td>\n<td style=\"text-align: left;\">9</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>With the addition of this function bnbm will run every time you make an edit in A1 of sheet Dashboard.</p>\n<pre><code>function onEdit(e) {\n  //e.source.toast('entry');\n  const sh = e.range.getSheet();\n  if(sh.getName() == 'Dashboard' &amp;&amp; e.range.rowStart == 1 &amp;&amp; e.range.columnStart == 1 &amp;&amp; e.value) {\n    bnbm();\n  }\n  if(sh.getName() == &quot;Dashboard&quot; &amp;&amp; e.range.rowStart == 1 &amp;&amp; e.range.columnStart == 1 &amp;&amp; e.value == null) {\n    e.source.toast('Invalid Input','Error Message');\n  }\n}\n</code></pre>\n<p>The easiest way I've found to run this is to enter data into A1 (user edits only) and then click on another cell.  Hitting enter will not data just forces the focus back into the empty cell and does not complete the edit.</p>\n"}],"owner":{"account_id":8346707,"reputation":23,"user_id":6270199,"display_name":"Ryan Pearson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69617981,"answer_count":1,"score":0,"last_activity_date":1634572419,"creation_date":1634564050,"question_id":69617066,"body_markdown":"Thanks to all that answered my previous query, I have to be honest I really cannot get on with Google Apps Script :-(\r\n\r\nWhat I am trying to do is relatively simple and for VBA on excel would be a doddle, but sheets is it&#39;s own beast I guess. \r\n\r\nWhat I&#39;d like to do is...\r\n\r\n 1. read in the form responses from a google form on the tab &quot;Comments&quot; Cells B2:H\r\n 2. Compare the unique key responses in column B on &quot;Comments&quot; with a unique key in A1 on tab &quot;DashBoard&quot;\r\n 3. If there are match I would like to add them onto the dashboard tab in Cells G3:M20\r\n 4. This would ultimately refresh everytime the dropdown in A1 on &quot;Dashboard&quot; is changed\r\n\r\nThe Data on responses is always 7 columns worth, varying from strings to dates. Sometimes G &amp; H columns will be blank\r\n\r\nSeriously any help is appreciated here, once I&#39;ve got this done I don&#39;t have to touch Google Sheets anymore lol \r\n\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     function bnbm() {\r\n     var spreadsheet = SpreadsheetApp.getActive();\r\n\r\n     var sheet = SpreadsheetApp.getActive().getSheetByName(&quot;Comments&quot;);\r\n\r\n\r\n    var range = sheet.getRange(&quot;Comments!B2:H&quot;);\r\n    var values = range.getValues();\r\n    var values2 = values.filter(String);\r\n    var range2 = sheet.getRange(&quot;Dashboard!A1&quot;)\r\n    var rowd = range2.getValues();\r\n    var rowd2 = rowd.filter(String);\r\n    var result = sheet.getRange(&quot;Dashboard!G3:M20&quot;)\r\n       \r\n    for (var i = 0; i &lt; values2.length; i++) {\r\n      \r\n    if (values2[i][0] == rowd2[0][0]) {\r\n    result.setValues(values2[i][1])\r\n\r\n  \r\n     }\r\n      } \r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Reading Form Responses over to dashboard based on 1 cell value","body":"<p>Thanks to all that answered my previous query, I have to be honest I really cannot get on with Google Apps Script :-(</p>\n<p>What I am trying to do is relatively simple and for VBA on excel would be a doddle, but sheets is it's own beast I guess.</p>\n<p>What I'd like to do is...</p>\n<ol>\n<li>read in the form responses from a google form on the tab &quot;Comments&quot; Cells B2:H</li>\n<li>Compare the unique key responses in column B on &quot;Comments&quot; with a unique key in A1 on tab &quot;DashBoard&quot;</li>\n<li>If there are match I would like to add them onto the dashboard tab in Cells G3:M20</li>\n<li>This would ultimately refresh everytime the dropdown in A1 on &quot;Dashboard&quot; is changed</li>\n</ol>\n<p>The Data on responses is always 7 columns worth, varying from strings to dates. Sometimes G &amp; H columns will be blank</p>\n<p>Seriously any help is appreciated here, once I've got this done I don't have to touch Google Sheets anymore lol</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> function bnbm() {\n var spreadsheet = SpreadsheetApp.getActive();\n\n var sheet = SpreadsheetApp.getActive().getSheetByName(\"Comments\");\n\n\nvar range = sheet.getRange(\"Comments!B2:H\");\nvar values = range.getValues();\nvar values2 = values.filter(String);\nvar range2 = sheet.getRange(\"Dashboard!A1\")\nvar rowd = range2.getValues();\nvar rowd2 = rowd.filter(String);\nvar result = sheet.getRange(\"Dashboard!G3:M20\")\n   \nfor (var i = 0; i &lt; values2.length; i++) {\n  \nif (values2[i][0] == rowd2[0][0]) {\nresult.setValues(values2[i][1])\n\n  \n }\n  } \n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11869057,"reputation":4309,"user_id":8685817,"display_name":"mdeterman"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1506609414,"creation_date":1506609414,"answer_id":46471848,"question_id":46470897,"body_markdown":"I&#39;m not aware of a way to do this with [@ResponseStatus][1].\r\n\r\nOne way to solve is this issue is with [@RestControllerAdvice][2].\r\nThis will allow you to customize how you return your Exception.\r\n\r\n    @RestControllerAdvice\r\n    public class WebRestControllerAdvice  {\r\n\r\n        @ExceptionHandler(ExternalDependencyException.class)\r\n        public String handleGitlabException(ExternalDependencyException ex, HttpServletResponse response) {\r\n            try {\r\n                response.sendError(460);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return ex.getMessage();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseStatus.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestControllerAdvice.html","title":"Custom Http Status Code in Spring","body":"<p>I'm not aware of a way to do this with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseStatus.html\" rel=\"noreferrer\">@ResponseStatus</a>.</p>\n\n<p>One way to solve is this issue is with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RestControllerAdvice.html\" rel=\"noreferrer\">@RestControllerAdvice</a>.\nThis will allow you to customize how you return your Exception.</p>\n\n<pre><code>@RestControllerAdvice\npublic class WebRestControllerAdvice  {\n\n    @ExceptionHandler(ExternalDependencyException.class)\n    public String handleGitlabException(ExternalDependencyException ex, HttpServletResponse response) {\n        try {\n            response.sendError(460);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return ex.getMessage();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2330090,"reputation":439,"user_id":2043731,"display_name":"MiguelPuyol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570008704,"creation_date":1570008704,"answer_id":58198857,"question_id":46470897,"body_markdown":"In Spring Boot 2.1.8.RELEASE I did something similar but without using the HttpServletResponse:\r\n\r\n```java\r\n@RestControllerAdvice\r\npublic class RestExceptionHandler {\r\n\r\n    @ExceptionHandler(MyCustomException.class)\r\n    @ResponseStatus(HttpStatus.NOT_ACCEPTABLE)\r\n    public ApiErrorResponse handleTemplateEngineException(MyCustomException ex) {\r\n\r\n        //custom ApiErrorResponse class\r\n        return ApiErrorResponse.builder()\r\n                .status(HttpStatus.NOT_ACCEPTABLE)\r\n                .errorCode(&quot;NOT_ACCEPTABLE&quot;)\r\n                .message(ex.getLocalizedMessage()).build();\r\n    }\r\n}\r\n```","title":"Custom Http Status Code in Spring","body":"<p>In Spring Boot 2.1.8.RELEASE I did something similar but without using the HttpServletResponse:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class RestExceptionHandler {\n\n    @ExceptionHandler(MyCustomException.class)\n    @ResponseStatus(HttpStatus.NOT_ACCEPTABLE)\n    public ApiErrorResponse handleTemplateEngineException(MyCustomException ex) {\n\n        //custom ApiErrorResponse class\n        return ApiErrorResponse.builder()\n                .status(HttpStatus.NOT_ACCEPTABLE)\n                .errorCode(\"NOT_ACCEPTABLE\")\n                .message(ex.getLocalizedMessage()).build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5325242,"reputation":1531,"user_id":4247456,"display_name":"Volodymyr Kret"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597152088,"creation_date":1597151741,"answer_id":63358949,"question_id":46470897,"body_markdown":"In general, @mdeterman answer is good, but I believe the right thing to do is setStatus to response, not sendError directly. Example:\r\n\r\n    @RestControllerAdvice\r\n    public class CustomExceptionHandler { \r\n        @ExceptionHandler(CustomException.class)\r\n        public String handleException(Exception ex, HttpServletResponse response) {\r\n            response.setStatus(460);\r\n            return ex.getMessage();\r\n        }\r\n    }\r\n\r\nIt seems to be possible only because of @RestControllerAdvice. @ControllerAdvice reset status code on view resolver level (for some strange reason). \r\nAlso it is important to understand: any custom status code *(not mentioned in org.apache.http.HttpStatus - RFC1945, RFC2616 , and\r\n RFC2518)* will cause UnknownHttpStatusCodeException if client service is based on spring.","title":"Custom Http Status Code in Spring","body":"<p>In general, @mdeterman answer is good, but I believe the right thing to do is setStatus to response, not sendError directly. Example:</p>\n<pre><code>@RestControllerAdvice\npublic class CustomExceptionHandler { \n    @ExceptionHandler(CustomException.class)\n    public String handleException(Exception ex, HttpServletResponse response) {\n        response.setStatus(460);\n        return ex.getMessage();\n    }\n}\n</code></pre>\n<p>It seems to be possible only because of @RestControllerAdvice. @ControllerAdvice reset status code on view resolver level (for some strange reason).\nAlso it is important to understand: any custom status code <em>(not mentioned in org.apache.http.HttpStatus - RFC1945, RFC2616 , and\nRFC2518)</em> will cause UnknownHttpStatusCodeException if client service is based on spring.</p>\n"},{"tags":[],"owner":{"account_id":20481626,"reputation":11,"user_id":15029709,"display_name":"Axzial"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634572351,"creation_date":1634572351,"answer_id":69619044,"question_id":46470897,"body_markdown":"Yes, `sendError()` will use Spring default Template. You also need to use `RestControllerAdvice` instead of `ControllerAdvice`, then `setStatus()` will do the trick :)\r\n\r\n    @RestControllerAdvice\r\n    public class ExceptionService {\r\n    \r\n        @SneakyThrows\r\n        @ExceptionHandler({CustomException.class})\r\n        public CustomExceptionDto handle(HttpServletResponse resp, CustomException e) {\r\n            resp.setStatus(e.getStatus().value()); //Using Spring HttpStatus\r\n            return e.toDto();\r\n        }\r\n    \r\n    }","title":"Custom Http Status Code in Spring","body":"<p>Yes, <code>sendError()</code> will use Spring default Template. You also need to use <code>RestControllerAdvice</code> instead of <code>ControllerAdvice</code>, then <code>setStatus()</code> will do the trick :)</p>\n<pre><code>@RestControllerAdvice\npublic class ExceptionService {\n\n    @SneakyThrows\n    @ExceptionHandler({CustomException.class})\n    public CustomExceptionDto handle(HttpServletResponse resp, CustomException e) {\n        resp.setStatus(e.getStatus().value()); //Using Spring HttpStatus\n        return e.toDto();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1192130,"reputation":3332,"user_id":1164646,"accept_rate":79,"display_name":"Safari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19286,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":46471848,"answer_count":4,"score":7,"last_activity_date":1634572351,"creation_date":1506606678,"question_id":46470897,"body_markdown":"I am using Spring Boot and I am using Exception Classes thoughout my business logic code. One might look like this:\r\n\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    public class ExternalDependencyException extends RuntimeException {\r\n    \r\n        public ExternalDependencyException() {\r\n            super(&quot;External Dependency Failed&quot;);\r\n        }\r\n        public ExternalDependencyException(String message) {\r\n            super(message);\r\n        }\r\n    \r\n    }\r\n\r\nWell now there are Exception, where no predefined Http Status code is fitting, so I would like to use a status code like 460 or similar, which is still free, but the annotation `ResponseStatus` just accepts values from the enum `HttpStatus`. Is there a way to achieve an Exception class with a custom status code in the java spring boot environment?\r\n\r\n","title":"Custom Http Status Code in Spring","body":"<p>I am using Spring Boot and I am using Exception Classes thoughout my business logic code. One might look like this:</p>\n\n<pre><code>@ResponseStatus(HttpStatus.BAD_REQUEST)\npublic class ExternalDependencyException extends RuntimeException {\n\n    public ExternalDependencyException() {\n        super(\"External Dependency Failed\");\n    }\n    public ExternalDependencyException(String message) {\n        super(message);\n    }\n\n}\n</code></pre>\n\n<p>Well now there are Exception, where no predefined Http Status code is fitting, so I would like to use a status code like 460 or similar, which is still free, but the annotation <code>ResponseStatus</code> just accepts values from the enum <code>HttpStatus</code>. Is there a way to achieve an Exception class with a custom status code in the java spring boot environment?</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":8074149,"reputation":4857,"user_id":6085803,"accept_rate":90,"display_name":"sandeep rawat"},"score":0,"creation_date":1634575374,"post_id":69618981,"comment_id":123056464,"body_markdown":"i do not see any new  connection for new collection to write documnent","body":"i do not see any new  connection for new collection to write documnent"},{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1634580821,"post_id":69618981,"comment_id":123058375,"body_markdown":"MongoDB does not have permissions granularity that stipulates you can insert into a collection but you cannot create a collection.  If a collection does not exist, and you attempt to insert into it, it will first create the collection and then insert into it.","body":"MongoDB does not have permissions granularity that stipulates you can insert into a collection but you cannot create a collection.  If a collection does not exist, and you attempt to insert into it, it will first create the collection and then insert into it."},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1634718159,"post_id":69618981,"comment_id":123097357,"body_markdown":"Database is already created in MongoDB database manually ,when I try to insert the data the collection is showing empty results","body":"Database is already created in MongoDB database manually ,when I try to insert the data the collection is showing empty results"},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1634733094,"post_id":69618981,"comment_id":123103640,"body_markdown":"New collection is created like below : String collectionName = &quot;Samplecollection&quot;;\n\n            if (!mongoOps.collectionExists(collectionName)) {\n                collectionNew = mongoOps.createCollection(collectionName);\n                LOG.info(&quot;Collection %s was successfully created&quot;, collectionName);\n            } else {\n                collectionNew = mongoOps.getCollection(collectionName);\n            }","body":"New collection is created like below : String collectionName = &quot;Samplecollection&quot;;              if (!mongoOps.collectionExists(collectionName)) {                 collectionNew = mongoOps.createCollection(collectionName);                 LOG.info(&quot;Collection %s was successfully created&quot;, collectionName);             } else {                 collectionNew = mongoOps.getCollection(collectionName);             }"},{"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"score":0,"creation_date":1634733234,"post_id":69618981,"comment_id":123103705,"body_markdown":"Is there any issue with my code as not able to write the aggregate results into the new collection","body":"Is there any issue with my code as not able to write the aggregate results into the new collection"}],"owner":{"account_id":13859774,"reputation":111,"user_id":10005690,"display_name":"Rose"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634572008,"creation_date":1634572008,"question_id":69618981,"body_markdown":"I want to read data from one collection and write a new collection with the updated data in MongoDB database .But not able to create and update the new collection .The issue documents are getting updated but not able to write to the new collection. Can anyone help me please .\r\n\r\n\r\nprivate String NextMonth(String system , String period) {\r\n\r\n         mongoOps = new MongoTemplate(mongoClient, database);\r\n                MongoDatabase database = this.mongoClient.getDatabase(this.database);\r\n                collectionDB = database.getCollection(Sample_TMP);\r\n                \r\n                mergeCollection = database.getCollection(&quot;UpdatedCollection&quot;);\r\n                {\r\n                    Consumer&lt;Document&gt; processBlock = new Consumer&lt;Document&gt;() {\r\n                        int count;\r\n                        @Override\r\n                        public void accept(Document document) {\r\n                            System.out.println(document);\r\n                        }\r\n                    };\r\n        \r\n                    String nextPeriod = Utilities.calculatePeriodAfter(financialPeriod);\r\n                \r\n        \r\n                    List&lt;? extends Bson&gt; pipeline = Arrays.asList(\r\n                            new Document()\r\n                                    .append(&quot;$match&quot;, new Document()\r\n                                            .append(&quot;Type.key&quot;, &quot;PP&quot;)\r\n                                            .append(&quot;AmountType.key&quot;, &quot;IN&quot;)\r\n                                            .append(&quot;SystemID.key&quot;, sourceSystem)\r\n                                            .append(&quot;Period&quot;, financialPeriod)\r\n                                    ),\r\n                            new Document()\r\n                                    .append(&quot;$addFields&quot;, new Document()\r\n                                            .append(&quot;RecordID&quot;, &quot;$_id&quot;)\r\n                                            .append(&quot;Period&quot;, nextPeriod)\r\n                                            .append(&quot;Period2&quot;, nextPeriod)\r\n                                            \r\n                                            )\r\n                                            .append(&quot;ClaimFinancialActivity.MonthlyLossOutstandingMovementAmount.amount&quot;, new Document()\r\n                                                    .append(&quot;$multiply&quot;, Arrays.asList(\r\n                                                            &quot;$ClaimFinancialActivity.MonthlyLossOutstandingMovementAmount.amount&quot;,\r\n                                                             Decimal128.parse(&quot;-1.0&quot;)\r\n                                                            )\r\n                                                    )\r\n                                            )\r\n                                         \r\n                                         \r\n                                            .append(&quot;Reserve&quot;, true)\r\n                                    ),\r\n                            new Document()\r\n                                    .append(&quot;$project&quot;, new Document()\r\n                                            .append(&quot;_id&quot;, 0.0)\r\n                                            .append(&quot;ClosingAmt&quot;, 0.0)\r\n                                            .append(&quot;UnsignedAmount&quot;, 0.0)\r\n                                            .append(&quot;Reserve&quot;, 0.0)\r\n                                    ),\r\n                            new Document()\r\n                                    .append(&quot;$out&quot;, mergeCollection)\r\n                    );\r\n                    AggregateIterable&lt;Document&gt; resultsPipeline = mergeCollection.aggregate(pipeline).allowDiskUse(false);\r\n                    \r\n                    List&lt;? extends Bson&gt; pipeline2 = Arrays.asList(\r\n                            new Document()\r\n                                    .append(&quot;$match&quot;, new Document()\r\n                                            .append(&quot;key&quot;, &quot;SS&quot;)\r\n                                            .append(&quot;key&quot;, &quot;EXO&quot;)\r\n                                            .append(&quot;key&quot;, sourceSystem)\r\n                                            .append(&quot;Period&quot;, financialPeriod)\r\n                                    ),\r\n                            new Document()\r\n                                    .append(&quot;$addFields&quot;, new Document()\r\n                                            .append(&quot;RecordID&quot;, &quot;$_id&quot;)\r\n                                            .append(&quot;Period&quot;, nextPeriod)\r\n                                            .append(&quot;Period&quot;, nextPeriod)\r\n                                            \r\n                                            )\r\n                                            .append(&quot;amount&quot;, new Document()\r\n                                                    .append(&quot;$multiply&quot;, Arrays.asList(\r\n                                                            &quot;$amount&quot;,\r\n                                                             Decimal128.parse(&quot;-1.0&quot;)\r\n                                                            )\r\n                                                    )\r\n                                            )\r\n                                           \r\n                                          \r\n                                            .append(&quot;Reserve&quot;, true)\r\n                                    ),\r\n                            new Document()\r\n                                    .append(&quot;$project&quot;, new Document()\r\n                                            .append(&quot;_id&quot;, 0.0)\r\n                                            .append(&quot;ClosingAmt&quot;, Decimal128.parse(&quot;0.0&quot;))\r\n                                            .append(&quot;UnsignedAmount&quot;,  Decimal128.parse(&quot;0.0&quot;))\r\n                                            .append(&quot;Reserve&quot;, Decimal128.parse(&quot;0.0&quot;))\r\n                                    ),\r\n                            new Document()\r\n                                    .append(&quot;$merge&quot;, new Document()\r\n                                            .append(&quot;into&quot;, mergeCollection)\r\n                                    )\r\n                    );\r\n        \r\n                    AggregateIterable&lt;Document&gt; resultsPipeline2 =  mergeCollection.aggregate(pipeline2)\r\n                            .allowDiskUse(false);\r\n                    \r\n                    Document deleteQuery = new Document();\r\n                    deleteQuery.append(&quot;key&quot;, &quot;XX&quot;);\r\n                    deleteQuery.append(&quot;SystemID.key&quot;, sourceSystem);\r\n                    deleteQuery.append(&quot;Period&quot;, nextPeriod);\r\n                    deleteQuery.append(&quot;Reserve&quot;, true);\r\n                    collectionDB.deleteMany(deleteQuery);\r\n                    //Update transaction sequence numbers- find query with projection\r\n                    BasicDBObject projectFields=new BasicDBObject();\r\n                    projectFields.append(&quot;_id&quot;, &quot;1&quot;);\r\n                    FindIterable&lt;Document&gt; iterable=mergeCollection.find().projection(projectFields);\r\n                    iterable.forEach(new Block&lt;Document&gt;() {\r\n                        @Override\r\n                        public void apply(final Document document) {\r\n                            System.out.println(document);\r\n                        }\r\n                    });\r\n        \r\n                    // int currentID = 1;\r\n                    String systemSplit = sourceSystem.split(&quot;-&quot;)[0];\r\n                    String currentID = String.valueOf(1);\r\n                    String newID = systemSplit + &quot;OB&quot; + nextPeriod;\r\n                    int leftSpace = 20 - newID.length();\r\n                    String paddedID = padToLength(currentID, leftSpace);\r\n                    newID = newID + paddedID;\r\n        \r\n                    /*update Query*/\r\n                    Bson filter = eq(&quot;_id&quot;, 1);\r\n                    BasicDBObject updateTempQuery = new BasicDBObject();\r\n                    updateTempQuery.append(&quot;$set&quot;,\r\n                            new Document()\r\n                                    .append(&quot;Common.TransactionIdentifier&quot;, newID)\r\n                    );\r\n                    mergeCollection.updateMany(filter,updateTempQuery);\r\n        \r\n                    /*merge Query*/\r\n                    List&lt;? extends Bson&gt; pipeline3 = Arrays.asList(\r\n                            new Document()\r\n                                    .append(&quot;$merge&quot;, &quot;collectionDB&quot;));\r\n                    mergeCollection.aggregate(pipeline3)\r\n                            .allowDiskUse(true)\r\n                            .forEach(processBlock);\r\n                    \r\n                }\r\n              \r\n            }\r\n\r\n","title":"Reading from collection and updating to another collection in Mongodb database","body":"<p>I want to read data from one collection and write a new collection with the updated data in MongoDB database .But not able to create and update the new collection .The issue documents are getting updated but not able to write to the new collection. Can anyone help me please .</p>\n<p>private String NextMonth(String system , String period) {</p>\n<pre><code>     mongoOps = new MongoTemplate(mongoClient, database);\n            MongoDatabase database = this.mongoClient.getDatabase(this.database);\n            collectionDB = database.getCollection(Sample_TMP);\n            \n            mergeCollection = database.getCollection(&quot;UpdatedCollection&quot;);\n            {\n                Consumer&lt;Document&gt; processBlock = new Consumer&lt;Document&gt;() {\n                    int count;\n                    @Override\n                    public void accept(Document document) {\n                        System.out.println(document);\n                    }\n                };\n    \n                String nextPeriod = Utilities.calculatePeriodAfter(financialPeriod);\n            \n    \n                List&lt;? extends Bson&gt; pipeline = Arrays.asList(\n                        new Document()\n                                .append(&quot;$match&quot;, new Document()\n                                        .append(&quot;Type.key&quot;, &quot;PP&quot;)\n                                        .append(&quot;AmountType.key&quot;, &quot;IN&quot;)\n                                        .append(&quot;SystemID.key&quot;, sourceSystem)\n                                        .append(&quot;Period&quot;, financialPeriod)\n                                ),\n                        new Document()\n                                .append(&quot;$addFields&quot;, new Document()\n                                        .append(&quot;RecordID&quot;, &quot;$_id&quot;)\n                                        .append(&quot;Period&quot;, nextPeriod)\n                                        .append(&quot;Period2&quot;, nextPeriod)\n                                        \n                                        )\n                                        .append(&quot;ClaimFinancialActivity.MonthlyLossOutstandingMovementAmount.amount&quot;, new Document()\n                                                .append(&quot;$multiply&quot;, Arrays.asList(\n                                                        &quot;$ClaimFinancialActivity.MonthlyLossOutstandingMovementAmount.amount&quot;,\n                                                         Decimal128.parse(&quot;-1.0&quot;)\n                                                        )\n                                                )\n                                        )\n                                     \n                                     \n                                        .append(&quot;Reserve&quot;, true)\n                                ),\n                        new Document()\n                                .append(&quot;$project&quot;, new Document()\n                                        .append(&quot;_id&quot;, 0.0)\n                                        .append(&quot;ClosingAmt&quot;, 0.0)\n                                        .append(&quot;UnsignedAmount&quot;, 0.0)\n                                        .append(&quot;Reserve&quot;, 0.0)\n                                ),\n                        new Document()\n                                .append(&quot;$out&quot;, mergeCollection)\n                );\n                AggregateIterable&lt;Document&gt; resultsPipeline = mergeCollection.aggregate(pipeline).allowDiskUse(false);\n                \n                List&lt;? extends Bson&gt; pipeline2 = Arrays.asList(\n                        new Document()\n                                .append(&quot;$match&quot;, new Document()\n                                        .append(&quot;key&quot;, &quot;SS&quot;)\n                                        .append(&quot;key&quot;, &quot;EXO&quot;)\n                                        .append(&quot;key&quot;, sourceSystem)\n                                        .append(&quot;Period&quot;, financialPeriod)\n                                ),\n                        new Document()\n                                .append(&quot;$addFields&quot;, new Document()\n                                        .append(&quot;RecordID&quot;, &quot;$_id&quot;)\n                                        .append(&quot;Period&quot;, nextPeriod)\n                                        .append(&quot;Period&quot;, nextPeriod)\n                                        \n                                        )\n                                        .append(&quot;amount&quot;, new Document()\n                                                .append(&quot;$multiply&quot;, Arrays.asList(\n                                                        &quot;$amount&quot;,\n                                                         Decimal128.parse(&quot;-1.0&quot;)\n                                                        )\n                                                )\n                                        )\n                                       \n                                      \n                                        .append(&quot;Reserve&quot;, true)\n                                ),\n                        new Document()\n                                .append(&quot;$project&quot;, new Document()\n                                        .append(&quot;_id&quot;, 0.0)\n                                        .append(&quot;ClosingAmt&quot;, Decimal128.parse(&quot;0.0&quot;))\n                                        .append(&quot;UnsignedAmount&quot;,  Decimal128.parse(&quot;0.0&quot;))\n                                        .append(&quot;Reserve&quot;, Decimal128.parse(&quot;0.0&quot;))\n                                ),\n                        new Document()\n                                .append(&quot;$merge&quot;, new Document()\n                                        .append(&quot;into&quot;, mergeCollection)\n                                )\n                );\n    \n                AggregateIterable&lt;Document&gt; resultsPipeline2 =  mergeCollection.aggregate(pipeline2)\n                        .allowDiskUse(false);\n                \n                Document deleteQuery = new Document();\n                deleteQuery.append(&quot;key&quot;, &quot;XX&quot;);\n                deleteQuery.append(&quot;SystemID.key&quot;, sourceSystem);\n                deleteQuery.append(&quot;Period&quot;, nextPeriod);\n                deleteQuery.append(&quot;Reserve&quot;, true);\n                collectionDB.deleteMany(deleteQuery);\n                //Update transaction sequence numbers- find query with projection\n                BasicDBObject projectFields=new BasicDBObject();\n                projectFields.append(&quot;_id&quot;, &quot;1&quot;);\n                FindIterable&lt;Document&gt; iterable=mergeCollection.find().projection(projectFields);\n                iterable.forEach(new Block&lt;Document&gt;() {\n                    @Override\n                    public void apply(final Document document) {\n                        System.out.println(document);\n                    }\n                });\n    \n                // int currentID = 1;\n                String systemSplit = sourceSystem.split(&quot;-&quot;)[0];\n                String currentID = String.valueOf(1);\n                String newID = systemSplit + &quot;OB&quot; + nextPeriod;\n                int leftSpace = 20 - newID.length();\n                String paddedID = padToLength(currentID, leftSpace);\n                newID = newID + paddedID;\n    \n                /*update Query*/\n                Bson filter = eq(&quot;_id&quot;, 1);\n                BasicDBObject updateTempQuery = new BasicDBObject();\n                updateTempQuery.append(&quot;$set&quot;,\n                        new Document()\n                                .append(&quot;Common.TransactionIdentifier&quot;, newID)\n                );\n                mergeCollection.updateMany(filter,updateTempQuery);\n    \n                /*merge Query*/\n                List&lt;? extends Bson&gt; pipeline3 = Arrays.asList(\n                        new Document()\n                                .append(&quot;$merge&quot;, &quot;collectionDB&quot;));\n                mergeCollection.aggregate(pipeline3)\n                        .allowDiskUse(true)\n                        .forEach(processBlock);\n                \n            }\n          \n        }\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1634569413,"post_id":69618304,"comment_id":123054098,"body_markdown":"`NullPointerException` to signal anything other than &quot;something is null&quot; is probably wrong.","body":"<code>NullPointerException</code> to signal anything other than &quot;something is null&quot; is probably wrong."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1634569484,"post_id":69618304,"comment_id":123054133,"body_markdown":"`IllegalArgumentException` seem fine enough *if* you only plan on catching them and showing the message instead of acting differently depending on which one is thrown.","body":"<code>IllegalArgumentException</code> seem fine enough <i>if</i> you only plan on catching them and showing the message instead of acting differently depending on which one is thrown."}],"answers":[{"tags":[],"owner":{"account_id":19870082,"reputation":489,"user_id":14556461,"display_name":"Pawel Woroniecki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634570324,"creation_date":1634570324,"answer_id":69618553,"question_id":69618304,"body_markdown":"You can check Oracle&#39;s recommendations on checked vs unchecked exceptions topic which should make it more clear: https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\r\n\r\nand the summary from the page is the following\r\n\r\n&gt; Here&#39;s the bottom line guideline: If a client can reasonably be expected to recover from an exception, make it a checked exception. If a client cannot do anything to recover from the exception, make it an unchecked exception.\r\n\r\nYou can also read more about usage of custom exceptions vs standard ones here: https://stackify.com/java-custom-exceptions/\r\n\r\nGenerally it depends on client behaviour - what client can do with this exception. If it&#39;s only logging error and nothing more - then IllegalArgumentException should be enough but if you then return this error to client, e.g. using REST - then it would make sense to create custom exception with proper structure that would be serialized and returned in response to keep consistent structure of errors in response.\r\n\r\nAnyway, please do not use `NullPointerException` besides cases when something is null unexpectedly (i.e. it&#39;s programmer&#39;s error). In your case I would replace NullPointerExceptions with custom exception.","title":"In my particular situation should I use custom exceptions or not?","body":"<p>You can check Oracle's recommendations on checked vs unchecked exceptions topic which should make it more clear: <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html</a></p>\n<p>and the summary from the page is the following</p>\n<blockquote>\n<p>Here's the bottom line guideline: If a client can reasonably be expected to recover from an exception, make it a checked exception. If a client cannot do anything to recover from the exception, make it an unchecked exception.</p>\n</blockquote>\n<p>You can also read more about usage of custom exceptions vs standard ones here: <a href=\"https://stackify.com/java-custom-exceptions/\" rel=\"nofollow noreferrer\">https://stackify.com/java-custom-exceptions/</a></p>\n<p>Generally it depends on client behaviour - what client can do with this exception. If it's only logging error and nothing more - then IllegalArgumentException should be enough but if you then return this error to client, e.g. using REST - then it would make sense to create custom exception with proper structure that would be serialized and returned in response to keep consistent structure of errors in response.</p>\n<p>Anyway, please do not use <code>NullPointerException</code> besides cases when something is null unexpectedly (i.e. it's programmer's error). In your case I would replace NullPointerExceptions with custom exception.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634571959,"creation_date":1634571959,"answer_id":69618972,"question_id":69618304,"body_markdown":"Assuming these rules (gender must be `M` or `F`, etc) are considered preconditions (in that the docs call out: The params you pass _must_ adhere to these rules), the correct exception to throw is `IllegalArgumentException`. Except for a precondition that a param must not be null, in which case `NullPointerException` is appropriate. Talking about recoverability is not appropriate for that kind of exception - the author of a method has no idea if the caller is the kind of code that can &#39;reasonably recover from the exception&#39;. There&#39;s a decent chance they can&#39;t (say, it&#39;s text provided over a network and there&#39;s no mechanism to signal back to the caller: Err, you&#39;re not following the agreed upon spec there, or it&#39;s from a config file), so unchecked is probably better here. `IllegalArgumentException` just fits.\r\n\r\n`NullPointerException`, though, is clearly __really bad usage here__. That is to signal a thing is null that wasn&#39;t expected to be, and __that is all__, so don&#39;t abuse it like this!\r\n\r\nNote that your code has plenty of problems:\r\n\r\n* 2 genders? It&#39;s 2021. This probably was never acceptable but certainly isn&#39;t now. Why do you need to know the gender of a student? To put the right honorific on top of a letter? Get rid of gender and add a field for &#39;Honorific&#39; instead. Various countries have guidelines against asking for gender when it is not relevant. I doesn&#39;t seem relevant here. (Honorific might be; if you need that, ask for that).\r\n* If you want ignore that and force 2 genders, then __force it__, and write an enum instead. You want to avoid the entire idea that some inputs can be stated but are invalid - because then you need to keep writing code to react to invalid state. Much better if an object or param simply cannot be wrong. An enum cannot be wrong, or at least, can only be wrong if e.g. it is null, which is a simpler check.\r\n* Your &#39;date&#39; error says &#39;current year&#39; but actually checks current day.\r\n* The error for gender has typos.\r\n* Your message for lastname/firstname is unclear and doesn&#39;t follow java styles. You should state the rule, not the problem. &#39;First and Last name must not be empty&#39;. There&#39;s nothing &#39;may&#39; about it.\r\n* Your `delete` method will check the first student in the list. If its CNP matches, that is deleted, and you&#39;re done. If it does not match, your code errors out immediately. It never scans any student other than the very first in the list. That exception throw needs to be outside the `for` loop.\r\n* a `Map` sounds like a better datastructure here; currently your delete code will take longer and longer as there are more and more students.\r\n* While you&#39;re making the code more general, the concept of &#39;first&#39; and &#39;last&#39; name is dubious as well. This is good news: It _simplifies_ our lives as developers. Just have a &#39;full name&#39; field. Now you no longer have to do the math on how to combine first and last name together. You just print the value of the &#39;full name&#39; field. If you have a need for a shorter name, then add that as a field instead. Same for gender: Instead of figuring out the right honorific based on gender, just put the value of the &#39;honorific&#39; field up there.\r\n","title":"In my particular situation should I use custom exceptions or not?","body":"<p>Assuming these rules (gender must be <code>M</code> or <code>F</code>, etc) are considered preconditions (in that the docs call out: The params you pass <em>must</em> adhere to these rules), the correct exception to throw is <code>IllegalArgumentException</code>. Except for a precondition that a param must not be null, in which case <code>NullPointerException</code> is appropriate. Talking about recoverability is not appropriate for that kind of exception - the author of a method has no idea if the caller is the kind of code that can 'reasonably recover from the exception'. There's a decent chance they can't (say, it's text provided over a network and there's no mechanism to signal back to the caller: Err, you're not following the agreed upon spec there, or it's from a config file), so unchecked is probably better here. <code>IllegalArgumentException</code> just fits.</p>\n<p><code>NullPointerException</code>, though, is clearly <strong>really bad usage here</strong>. That is to signal a thing is null that wasn't expected to be, and <strong>that is all</strong>, so don't abuse it like this!</p>\n<p>Note that your code has plenty of problems:</p>\n<ul>\n<li>2 genders? It's 2021. This probably was never acceptable but certainly isn't now. Why do you need to know the gender of a student? To put the right honorific on top of a letter? Get rid of gender and add a field for 'Honorific' instead. Various countries have guidelines against asking for gender when it is not relevant. I doesn't seem relevant here. (Honorific might be; if you need that, ask for that).</li>\n<li>If you want ignore that and force 2 genders, then <strong>force it</strong>, and write an enum instead. You want to avoid the entire idea that some inputs can be stated but are invalid - because then you need to keep writing code to react to invalid state. Much better if an object or param simply cannot be wrong. An enum cannot be wrong, or at least, can only be wrong if e.g. it is null, which is a simpler check.</li>\n<li>Your 'date' error says 'current year' but actually checks current day.</li>\n<li>The error for gender has typos.</li>\n<li>Your message for lastname/firstname is unclear and doesn't follow java styles. You should state the rule, not the problem. 'First and Last name must not be empty'. There's nothing 'may' about it.</li>\n<li>Your <code>delete</code> method will check the first student in the list. If its CNP matches, that is deleted, and you're done. If it does not match, your code errors out immediately. It never scans any student other than the very first in the list. That exception throw needs to be outside the <code>for</code> loop.</li>\n<li>a <code>Map</code> sounds like a better datastructure here; currently your delete code will take longer and longer as there are more and more students.</li>\n<li>While you're making the code more general, the concept of 'first' and 'last' name is dubious as well. This is good news: It <em>simplifies</em> our lives as developers. Just have a 'full name' field. Now you no longer have to do the math on how to combine first and last name together. You just print the value of the 'full name' field. If you have a need for a shorter name, then add that as a field instead. Same for gender: Instead of figuring out the right honorific based on gender, just put the value of the 'honorific' field up there.</li>\n</ul>\n"}],"owner":{"account_id":19132296,"reputation":1,"user_id":13973911,"display_name":"Alex Darius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634571959,"creation_date":1634569323,"question_id":69618304,"body_markdown":"I have to make this student repository where exceptions need to be thrwon if certain conditions are not met. My question is: should I create my own custom exceptions, or should I use the predefined ones? I will leave a portion of my code below\r\n\r\n    public class StudentRepository {\r\n\r\n    private static List&lt;Student&gt; studentList = new ArrayList&lt;&gt;();\r\n    private static Set&lt;Student&gt; studentsByAge = new TreeSet&lt;&gt;(new AgeComparator());\r\n    private static Set&lt;Student&gt; studentsByLastName = new TreeSet&lt;&gt;(new LastNameComparator());\r\n\r\n    public static Student addStudent(String firstName, String lastName, String gender, LocalDate dateOfBirth) {\r\n\r\n\r\n        if (firstName.trim().isEmpty() || lastName.trim().isEmpty()) {\r\n            throw new NullPointerException(&quot;Last name or first name field may be empty&quot;);\r\n        } else if (!(gender.equalsIgnoreCase(&quot;m&quot;) || gender.equalsIgnoreCase(&quot;f&quot;))) {\r\n            throw new IllegalArgumentException(&quot;Gender should be &#39;M or &#39;F&quot;);\r\n        } else if (dateOfBirth.isBefore(LocalDate.of(1900, 1, 1)) ||\r\n                dateOfBirth.isAfter(LocalDate.now())) {\r\n            throw new IllegalArgumentException(&quot;Date of birth should be between 1900 and current year&quot;);\r\n        }\r\n\r\n        Student newStudent = new Student(firstName, lastName, dateOfBirth, gender);\r\n        studentList.add(newStudent);\r\n        return newStudent;\r\n    }\r\n\r\n    public static void deleteStudentByCnp(String cnp) {\r\n        Student studentToDelete = null;\r\n\r\n        for (Student student : studentList) {\r\n            if (student.getCnp().equals(cnp)) {\r\n                studentToDelete = student;\r\n                studentList.remove(studentToDelete);\r\n                break;\r\n            } else {\r\n                throw new NullPointerException(&quot;The student does not exist&quot;);\r\n            }\r\n        }\r\n    }","title":"In my particular situation should I use custom exceptions or not?","body":"<p>I have to make this student repository where exceptions need to be thrwon if certain conditions are not met. My question is: should I create my own custom exceptions, or should I use the predefined ones? I will leave a portion of my code below</p>\n<pre><code>public class StudentRepository {\n\nprivate static List&lt;Student&gt; studentList = new ArrayList&lt;&gt;();\nprivate static Set&lt;Student&gt; studentsByAge = new TreeSet&lt;&gt;(new AgeComparator());\nprivate static Set&lt;Student&gt; studentsByLastName = new TreeSet&lt;&gt;(new LastNameComparator());\n\npublic static Student addStudent(String firstName, String lastName, String gender, LocalDate dateOfBirth) {\n\n\n    if (firstName.trim().isEmpty() || lastName.trim().isEmpty()) {\n        throw new NullPointerException(&quot;Last name or first name field may be empty&quot;);\n    } else if (!(gender.equalsIgnoreCase(&quot;m&quot;) || gender.equalsIgnoreCase(&quot;f&quot;))) {\n        throw new IllegalArgumentException(&quot;Gender should be 'M or 'F&quot;);\n    } else if (dateOfBirth.isBefore(LocalDate.of(1900, 1, 1)) ||\n            dateOfBirth.isAfter(LocalDate.now())) {\n        throw new IllegalArgumentException(&quot;Date of birth should be between 1900 and current year&quot;);\n    }\n\n    Student newStudent = new Student(firstName, lastName, dateOfBirth, gender);\n    studentList.add(newStudent);\n    return newStudent;\n}\n\npublic static void deleteStudentByCnp(String cnp) {\n    Student studentToDelete = null;\n\n    for (Student student : studentList) {\n        if (student.getCnp().equals(cnp)) {\n            studentToDelete = student;\n            studentList.remove(studentToDelete);\n            break;\n        } else {\n            throw new NullPointerException(&quot;The student does not exist&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","automation","saucelabs"],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634533215,"creation_date":1634533215,"answer_id":69610982,"question_id":69592690,"body_markdown":"This is working for me,\r\n\r\n    DesiredCapabilities DC = DesiredCapabilities.chrome();\r\n    DC.setBrowserName(&quot;chrome&quot;);\r\n    DC.setPlatform(Platform.WIN10);\r\n    driver = new RemoteWebDriver(new URL(&quot;https://oauth-jayanth_balakrishnan-ae.saucelabs.com:443/wd/hub&quot;), DC);   //http://127.0.0.1:4444/wd/hub\r\n            ","title":"How to set up SauceLabs for TestNg Java","body":"<p>This is working for me,</p>\n<pre><code>DesiredCapabilities DC = DesiredCapabilities.chrome();\nDC.setBrowserName(&quot;chrome&quot;);\nDC.setPlatform(Platform.WIN10);\ndriver = new RemoteWebDriver(new URL(&quot;https://oauth-jayanth_balakrishnan-ae.saucelabs.com:443/wd/hub&quot;), DC);   //http://127.0.0.1:4444/wd/hub\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1724374,"reputation":1880,"user_id":1579407,"accept_rate":31,"display_name":"Nikolay Advolodkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634571902,"creation_date":1634571507,"answer_id":69618851,"question_id":69592690,"body_markdown":"    import com.saucelabs.saucebindings.testng.SauceBaseTest;\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.Test;\r\n    \r\n        /**\r\n         * Example Test for running with the TestNG Sauce Bindings library.\r\n         */\r\n        public class SauceBindingsTestngTest extends SauceBaseTest {\r\n            @Test\r\n            public void correctTitle() {\r\n                getDriver().navigate().to(&quot;https://www.saucedemo.com&quot;);\r\n                Assert.assertEquals(&quot;Swag Labs&quot;, getDriver().getTitle());\r\n            }\r\n        }\r\n\r\nChrome/Win10 is the default so no setup code is required. If you want to change the configuration, check the Sauce Bindings docs below.\r\n\r\n[Source Code for example][1]\r\n\r\nWe have [a Demo Java repo][2] with any example you want, just browse the table of contents\r\n\r\nWe use [Sauce Bindings][3] to make the code so simple\r\n\r\n\r\n  [1]: https://github.com/saucelabs-training/demo-java/blob/main/selenium-testng-examples/src/test/java/com/saucedemo/selenium/testng/demo/SauceBindingsTestngTest.java\r\n  [2]: https://github.com/saucelabs-training/demo-java/\r\n  [3]: https://opensource.saucelabs.com/sauce_bindings/getting-started/\r\n","title":"How to set up SauceLabs for TestNg Java","body":"<pre><code>import com.saucelabs.saucebindings.testng.SauceBaseTest;\nimport org.testng.Assert;\nimport org.testng.annotations.Test;\n\n    /**\n     * Example Test for running with the TestNG Sauce Bindings library.\n     */\n    public class SauceBindingsTestngTest extends SauceBaseTest {\n        @Test\n        public void correctTitle() {\n            getDriver().navigate().to(&quot;https://www.saucedemo.com&quot;);\n            Assert.assertEquals(&quot;Swag Labs&quot;, getDriver().getTitle());\n        }\n    }\n</code></pre>\n<p>Chrome/Win10 is the default so no setup code is required. If you want to change the configuration, check the Sauce Bindings docs below.</p>\n<p><a href=\"https://github.com/saucelabs-training/demo-java/blob/main/selenium-testng-examples/src/test/java/com/saucedemo/selenium/testng/demo/SauceBindingsTestngTest.java\" rel=\"nofollow noreferrer\">Source Code for example</a></p>\n<p>We have <a href=\"https://github.com/saucelabs-training/demo-java/\" rel=\"nofollow noreferrer\">a Demo Java repo</a> with any example you want, just browse the table of contents</p>\n<p>We use <a href=\"https://opensource.saucelabs.com/sauce_bindings/getting-started/\" rel=\"nofollow noreferrer\">Sauce Bindings</a> to make the code so simple</p>\n"}],"owner":{"account_id":23048085,"reputation":1,"user_id":17165358,"display_name":"Maxwell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634571902,"creation_date":1634358779,"question_id":69592690,"body_markdown":"Can someone please help me to figure out how to set up saucelabs for testNg on Java? \r\nI’ve tried different guides, and it’s always different variations of set up, here&#39;s one of the examples that didn&#39;t work for me\r\n``` \r\n    @BeforeClass\r\n    public void init() throws MalformedURLException {\r\n        MutableCapabilities sauceOpts = new MutableCapabilities();\r\n        sauceOpts.setCapability(&quot;username&quot;, &quot;oauth-xxxxxx.yyyyyy-51awdfsa&quot;);\r\n        sauceOpts.setCapability(&quot;accesskey&quot;, &quot;xxxxx-32b1-4c4d-ac70-yyyyyyyyy&quot;);\r\n\r\n        DesiredCapabilities options = new DesiredCapabilities();\r\n        options.setCapability(&quot;sauce:options&quot;, &quot;sauceOpts&quot;);\r\n        options.setCapability(&quot;browserVersion&quot;, &quot;latest&quot;);\r\n        options.setCapability(&quot;platformName&quot;, &quot;windows  10&quot;);\r\n        options.setCapability(&quot;browserName&quot;,&quot;chrome&quot;);\r\n\r\n        Webdriver driver = new RemoteWebDriver(new URL(&quot;https://ondemand.us-west-1.saucelabs.com:443/wd/hub&quot;), options);\r\n\r\n    }\r\n```","title":"How to set up SauceLabs for TestNg Java","body":"<p>Can someone please help me to figure out how to set up saucelabs for testNg on Java?\nI’ve tried different guides, and it’s always different variations of set up, here's one of the examples that didn't work for me</p>\n<pre><code>    @BeforeClass\n    public void init() throws MalformedURLException {\n        MutableCapabilities sauceOpts = new MutableCapabilities();\n        sauceOpts.setCapability(&quot;username&quot;, &quot;oauth-xxxxxx.yyyyyy-51awdfsa&quot;);\n        sauceOpts.setCapability(&quot;accesskey&quot;, &quot;xxxxx-32b1-4c4d-ac70-yyyyyyyyy&quot;);\n\n        DesiredCapabilities options = new DesiredCapabilities();\n        options.setCapability(&quot;sauce:options&quot;, &quot;sauceOpts&quot;);\n        options.setCapability(&quot;browserVersion&quot;, &quot;latest&quot;);\n        options.setCapability(&quot;platformName&quot;, &quot;windows  10&quot;);\n        options.setCapability(&quot;browserName&quot;,&quot;chrome&quot;);\n\n        Webdriver driver = new RemoteWebDriver(new URL(&quot;https://ondemand.us-west-1.saucelabs.com:443/wd/hub&quot;), options);\n\n    }\n</code></pre>\n"},{"tags":["java","arrays","numbers","max"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1631951753,"post_id":69232719,"comment_id":122366267,"body_markdown":"Please add the code you have so far to your question, and explain exactly where you are stuck.","body":"Please add the code you have so far to your question, and explain exactly where you are stuck."},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1631952049,"post_id":69232719,"comment_id":122366322,"body_markdown":"Welcome to Stack Overflow! You seem to be asking for someone to write some code for you. Stack Overflow is a question and answer site, not a code-writing service. Please [see here](https://stackoverflow.com/help/how-to-ask) to learn how to write effective questions","body":"Welcome to Stack Overflow! You seem to be asking for someone to write some code for you. Stack Overflow is a question and answer site, not a code-writing service. Please <a href=\"https://stackoverflow.com/help/how-to-ask\">see here</a> to learn how to write effective questions"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1632042953,"post_id":69232719,"comment_id":122382451,"body_markdown":"Please show a complete, runnable example which illustrates your problem.","body":"Please show a complete, runnable example which illustrates your problem."}],"answers":[{"tags":[],"owner":{"account_id":21709395,"reputation":162,"user_id":16021237,"display_name":"GalliadII"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634571828,"creation_date":1634571828,"answer_id":69618948,"question_id":69232719,"body_markdown":"you first create a copy of the array with the .clone() method. This will be the second array you created. then you create an int x or something of this sort and set it equal to 0.\r\n\r\nstart now by iterating the array. if the number is greater then your int, replace the int. \r\nonce it is done, make another loop, that checks each value of your second array and if a number is equal to your int, delete it. done. ","title":"Delete the highest number of an array","body":"<p>you first create a copy of the array with the .clone() method. This will be the second array you created. then you create an int x or something of this sort and set it equal to 0.</p>\n<p>start now by iterating the array. if the number is greater then your int, replace the int.\nonce it is done, make another loop, that checks each value of your second array and if a number is equal to your int, delete it. done.</p>\n"}],"owner":{"account_id":22703107,"reputation":1,"user_id":16870245,"display_name":"green_dino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1634571828,"creation_date":1631951573,"question_id":69232719,"body_markdown":"First I created a random array then I decided to create another array to save the number except the highest. I got the prob when printing the array removed the highest number. I assume the issue when assigning item in b but I can&#39;t figure out. Please help :&lt;\r\n\r\n    public static int[] deleteHighestNum(int a[]) {\r\n\t\tint b[] = new int[a.length - 1];\r\n\t\tfor (int i = 0, j = 0; i &lt; a.length; i++) {\r\n\t\t\tif (a[i] &gt; a[j]) {\r\n\t\t\t\tb[j++] = a[j];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn b;","title":"Delete the highest number of an array","body":"<p>First I created a random array then I decided to create another array to save the number except the highest. I got the prob when printing the array removed the highest number. I assume the issue when assigning item in b but I can't figure out. Please help :&lt;</p>\n<pre><code>public static int[] deleteHighestNum(int a[]) {\n    int b[] = new int[a.length - 1];\n    for (int i = 0, j = 0; i &lt; a.length; i++) {\n        if (a[i] &gt; a[j]) {\n            b[j++] = a[j];\n        }\n    }\n    return b;\n</code></pre>\n"},{"tags":["java","mysql","sql"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":1,"creation_date":1634568386,"post_id":69618095,"comment_id":123053646,"body_markdown":"Hint: GROUP BY, HAVING, COUNT.","body":"Hint: GROUP BY, HAVING, COUNT."},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1634568661,"post_id":69618095,"comment_id":123053763,"body_markdown":"_Suggestion_ Looks to me like you should have 2 tables for this 1) Album and 2) tracks. Link the tracks to the album","body":"<i>Suggestion</i> Looks to me like you should have 2 tables for this 1) Album and 2) tracks. Link the tracks to the album"},{"owner":{"account_id":15824562,"reputation":1,"user_id":13478224,"display_name":"Julian Gimenez "},"score":0,"creation_date":1634568865,"post_id":69618095,"comment_id":123053839,"body_markdown":"I only have  Track table","body":"I only have  Track table"},{"owner":{"account_id":8432754,"reputation":721,"user_id":6327888,"accept_rate":75,"display_name":"Elysiumplain"},"score":0,"creation_date":1634678295,"post_id":69618095,"comment_id":123089100,"body_markdown":"This smells like an intro-level homework question...When posting &quot;homework&quot; questions (or generally things in which the solution is something akin to reading textbooks) the community is here to guide you - but the question should be tagged as Homework appropriately (may not apply to this question). Additionally, questions are made better when you provide the approaches you have tried (failed attempts are good to include! we do not allow shaming here.) even if it is just a written accounting of your understanding of how you expect something to perform, vs the result you are getting.","body":"This smells like an intro-level homework question...When posting &quot;homework&quot; questions (or generally things in which the solution is something akin to reading textbooks) the community is here to guide you - but the question should be tagged as Homework appropriately (may not apply to this question). Additionally, questions are made better when you provide the approaches you have tried (failed attempts are good to include! we do not allow shaming here.) even if it is just a written accounting of your understanding of how you expect something to perform, vs the result you are getting."}],"answers":[{"tags":[],"owner":{"account_id":15824562,"reputation":1,"user_id":13478224,"display_name":"Julian Gimenez "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634571693,"creation_date":1634571693,"answer_id":69618909,"question_id":69618095,"body_markdown":"I found this solution:\r\n\r\n    SELECT * FROM tracks WHERE category = &#39;rock&#39; GROUP BY album_name HAVING count(album_name) &lt; 9 ;\r\n\r\nThis Query gives to me the tracks In &quot;Rock&quot; category with less 9 tracks in the same album","title":"How to execute a Query that list Tracks that are in an album with less than 9 songs","body":"<p>I found this solution:</p>\n<pre><code>SELECT * FROM tracks WHERE category = 'rock' GROUP BY album_name HAVING count(album_name) &lt; 9 ;\n</code></pre>\n<p>This Query gives to me the tracks In &quot;Rock&quot; category with less 9 tracks in the same album</p>\n"}],"owner":{"account_id":15824562,"reputation":1,"user_id":13478224,"display_name":"Julian Gimenez "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634571693,"creation_date":1634568328,"question_id":69618095,"body_markdown":"I have the next class in Java\r\n\r\n       public class Track{\r\n    \tprivate int id;\r\n    \tprivate String trackName;\r\n    \tprivate String artistName;\r\n    \tprivate String albumName;\r\n    \tprivate int amountMembers;\r\n    \tprivate int duration; //segs\r\n    \tprivate String category;\r\n    \tprivate int albumYear;\r\n    \tprivate boolean isSolist; //1 yes, 0 no\r\n    }\r\n\r\nI got a table of Track in my Data Base (MySQL) and I want to do a query that brings me the Tracks that are in an album with less than 9 songs. How can I do it?","title":"How to execute a Query that list Tracks that are in an album with less than 9 songs","body":"<p>I have the next class in Java</p>\n<pre><code>   public class Track{\n    private int id;\n    private String trackName;\n    private String artistName;\n    private String albumName;\n    private int amountMembers;\n    private int duration; //segs\n    private String category;\n    private int albumYear;\n    private boolean isSolist; //1 yes, 0 no\n}\n</code></pre>\n<p>I got a table of Track in my Data Base (MySQL) and I want to do a query that brings me the Tracks that are in an album with less than 9 songs. How can I do it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":1,"creation_date":1633121255,"post_id":69411803,"comment_id":122685231,"body_markdown":"Where is the code that actually calls `addToList()` ?   Also, it&#39;s strange that `addToList()` ignores its argument and adds a new Product instead.","body":"Where is the code that actually calls <code>addToList()</code> ?   Also, it&#39;s strange that <code>addToList()</code> ignores its argument and adds a new Product instead."},{"owner":{"account_id":5511506,"reputation":207,"user_id":4377644,"display_name":"Pran Sukh"},"score":1,"creation_date":1633121370,"post_id":69411803,"comment_id":122685267,"body_markdown":"Please provide the code for product class.","body":"Please provide the code for product class."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1633121901,"post_id":69411803,"comment_id":122685415,"body_markdown":"@user16632363 It&#39;s perfectly fine to reference _static_ from _non-static_; it&#39;s the other way around that&#39;s the problem.","body":"@user16632363 It&#39;s perfectly fine to reference <i>static</i> from <i>non-static</i>; it&#39;s the other way around that&#39;s the problem."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":0,"creation_date":1633121958,"post_id":69411803,"comment_id":122685425,"body_markdown":"@chrylis-cautiouslyoptimistic-  Duh, of course.  I&#39;m not sure what I was thinking. I shall delete that comment to hide my shame.","body":"@chrylis-cautiouslyoptimistic-  Duh, of course.  I&#39;m not sure what I was thinking. I shall delete that comment to hide my shame."},{"owner":{"account_id":19645309,"reputation":1,"user_id":14380472,"display_name":"Mart&#237;n"},"score":0,"creation_date":1633122999,"post_id":69411803,"comment_id":122685705,"body_markdown":"@PranSukh there you go","body":"@PranSukh there you go"},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1633123712,"post_id":69411803,"comment_id":122685867,"body_markdown":"There&#39;s nothing there that will cause it to not add it to a list, and I tested it myself that it gets added. How are you printing the list, and where?","body":"There&#39;s nothing there that will cause it to not add it to a list, and I tested it myself that it gets added. How are you printing the list, and where?"},{"owner":{"account_id":19645309,"reputation":1,"user_id":14380472,"display_name":"Mart&#237;n"},"score":0,"creation_date":1633127245,"post_id":69411803,"comment_id":122686569,"body_markdown":"@AnthonyCathers I posted the main as well hahaha.","body":"@AnthonyCathers I posted the main as well hahaha."},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1633128244,"post_id":69411803,"comment_id":122686780,"body_markdown":"You&#39;re not printing your list anywhere in that code?","body":"You&#39;re not printing your list anywhere in that code?"},{"owner":{"account_id":19645309,"reputation":1,"user_id":14380472,"display_name":"Mart&#237;n"},"score":0,"creation_date":1633130634,"post_id":69411803,"comment_id":122687173,"body_markdown":"@AnthonyCathers yes, I added it minutes ago.","body":"@AnthonyCathers yes, I added it minutes ago."}],"answers":[{"tags":[],"owner":{"account_id":21709395,"reputation":162,"user_id":16021237,"display_name":"GalliadII"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634571604,"creation_date":1634571604,"answer_id":69618876,"question_id":69411803,"body_markdown":"If you make a `static ArrayList&lt;Object&gt; List = new ArrayList&lt;&gt;();` your objects will be stored. But all the properties of their identity as Product or Shop is lost. Instead create an `static ArrayList&lt;Product&gt; = new Arraylist&lt;&gt;()`.\r\nAlso there is no need to keep it static. The list will be referenced by each individual shop. I guess, it makes sense. ","title":"Add objects to ArrayList In java","body":"<p>If you make a <code>static ArrayList&lt;Object&gt; List = new ArrayList&lt;&gt;();</code> your objects will be stored. But all the properties of their identity as Product or Shop is lost. Instead create an <code>static ArrayList&lt;Product&gt; = new Arraylist&lt;&gt;()</code>.\nAlso there is no need to keep it static. The list will be referenced by each individual shop. I guess, it makes sense.</p>\n"}],"owner":{"account_id":19645309,"reputation":1,"user_id":14380472,"display_name":"Mart&#237;n"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1634571604,"creation_date":1633121047,"question_id":69411803,"body_markdown":"I have a class called &quot;Product&quot; having details of the products in a shop. This other class &quot;Shop&quot; is supposed to have methods. The product &quot;a&quot; is supposed to be saved in the ArrayList in the Shop class.I don&#39;t know why but every time I print List it returns [] with nothing inside. Why is that?\r\nProduct is made with the Instantse: Code, Quantity, and Price. I have the problem that they are different types of variables and I can&#39;t add them to the array.\r\n\r\n```java\r\npublic class Shop {\r\n    Scanner sn = new Scanner(System.in);\r\n    static ArrayList&lt;Object&gt; List = new ArrayList&lt;&gt;();\r\n    public static String nombre = &quot;Shop&quot;;\r\n\r\n    public Shop(String name) {\r\n        System.out.println(name);\r\n    }\r\n\r\n    public Shop() {\r\n\r\n    }\r\n\r\n    public void addToList(Product a) {\r\n        List.add(new Product());\r\n    }\r\n\r\n    public void searchProduct(String code) {\r\n\r\n    }\r\n\r\n    public void order(int min) {\r\n\r\n    }\r\n}\r\n```\r\n\r\nI print the List with \r\n\r\n```java\r\nSystem.out.println(Tienda.List);\r\n```\r\nThe code for the Product class\r\n\r\n    public class Product {\r\n\r\n    Scanner sn = new Scanner(System.in);\r\n    String Code;\r\n    int Quantity;\r\n    double Price;\r\n\r\n\r\n\r\n    public String getCode() {\r\n        System.out.printf(&quot;Please introduce the code of the product&quot;);\r\n        Code = sn.nextLine();\r\n        return Code;\r\n    }\r\n\r\n    public int getQuantity() {\r\n        System.out.println(&quot;Please introduce the quantity of the product&quot;);\r\n        Quantity= sn.nextInt();\r\n        return Quantity;\r\n    }\r\n\r\n    public double getPrice() {\r\n        System.out.println(&quot;Please introduce the price for the product&quot;);\r\n        Price= sn.nextInt();\r\n        return Price;\r\n    }\r\n \r\nSome of you asked for the main so here it is: \r\n```java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sn = new Scanner(System.in);\r\n        System.out.println(&quot;Welcome to&quot;+ Tienda.name+&quot; .What do you wanna do?\\n1.Add new product\\n2.Sell product&quot;);\r\n        Product a = new Product();\r\n        Shop shop = new Shop();\r\n        switch(sn.nextInt()){\r\n            case 1:\r\n                System.out.println(&quot;You choose add a Product&quot;);\r\n                a.getCode();\r\n                a.getQuantity();\r\n                a.getPice();\r\n                tienda.addToList(a.Code);\r\n                System.out.println(&quot;The code for the product is: &quot;+a.Code+ &quot;\\nThe quantity of the product is: &quot;+ a.Quantity+ &quot; units&quot;+ &quot;\\nThe price for the product is: &quot;+ a.Price+ &quot;$&quot;);\r\n            case 2:\r\n\r\n\r\n\r\n\r\n            default:\r\n                System.out.printf(&quot;Wrong optin&quot;);\r\n                break;\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"Add objects to ArrayList In java","body":"<p>I have a class called &quot;Product&quot; having details of the products in a shop. This other class &quot;Shop&quot; is supposed to have methods. The product &quot;a&quot; is supposed to be saved in the ArrayList in the Shop class.I don't know why but every time I print List it returns [] with nothing inside. Why is that?\nProduct is made with the Instantse: Code, Quantity, and Price. I have the problem that they are different types of variables and I can't add them to the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Shop {\n    Scanner sn = new Scanner(System.in);\n    static ArrayList&lt;Object&gt; List = new ArrayList&lt;&gt;();\n    public static String nombre = &quot;Shop&quot;;\n\n    public Shop(String name) {\n        System.out.println(name);\n    }\n\n    public Shop() {\n\n    }\n\n    public void addToList(Product a) {\n        List.add(new Product());\n    }\n\n    public void searchProduct(String code) {\n\n    }\n\n    public void order(int min) {\n\n    }\n}\n</code></pre>\n<p>I print the List with</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(Tienda.List);\n</code></pre>\n<p>The code for the Product class</p>\n<pre><code>public class Product {\n\nScanner sn = new Scanner(System.in);\nString Code;\nint Quantity;\ndouble Price;\n\n\n\npublic String getCode() {\n    System.out.printf(&quot;Please introduce the code of the product&quot;);\n    Code = sn.nextLine();\n    return Code;\n}\n\npublic int getQuantity() {\n    System.out.println(&quot;Please introduce the quantity of the product&quot;);\n    Quantity= sn.nextInt();\n    return Quantity;\n}\n\npublic double getPrice() {\n    System.out.println(&quot;Please introduce the price for the product&quot;);\n    Price= sn.nextInt();\n    return Price;\n}\n</code></pre>\n<p>Some of you asked for the main so here it is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    public static void main(String[] args) {\n        Scanner sn = new Scanner(System.in);\n        System.out.println(&quot;Welcome to&quot;+ Tienda.name+&quot; .What do you wanna do?\\n1.Add new product\\n2.Sell product&quot;);\n        Product a = new Product();\n        Shop shop = new Shop();\n        switch(sn.nextInt()){\n            case 1:\n                System.out.println(&quot;You choose add a Product&quot;);\n                a.getCode();\n                a.getQuantity();\n                a.getPice();\n                tienda.addToList(a.Code);\n                System.out.println(&quot;The code for the product is: &quot;+a.Code+ &quot;\\nThe quantity of the product is: &quot;+ a.Quantity+ &quot; units&quot;+ &quot;\\nThe price for the product is: &quot;+ a.Price+ &quot;$&quot;);\n            case 2:\n\n\n\n\n            default:\n                System.out.printf(&quot;Wrong optin&quot;);\n                break;\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","lambda","junit","junit5","assertj"],"answers":[{"tags":[],"owner":{"account_id":16452068,"reputation":1085,"user_id":11885241,"display_name":"Ofek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634571507,"creation_date":1634285351,"answer_id":69581685,"question_id":69581568,"body_markdown":"What happens is that `factory.create(...)` is executed and the result is passed to `catchThrowable`, so the exception is actually thrown before the `catchThrowable` execution.\r\n\r\nTo fix it, you can either use a lambda:\r\n\r\n    catchThrowable( () -&gt; factory.create(testVar1, null, testVar3));\r\n\r\nor you can define your own interface extending `ThrowableAssert.ThrowingCallable`:\r\n\r\n    interface SomeClassFactory extends ThrowableAssert.ThrowingCallable {\r\n\r\n        @Override\r\n        SomeClass call() throws IllegalArgumentException;\r\n\r\n    }\r\n\r\nwhich would allow you to call:\r\n\r\n    catchThrowable(factory);\r\n\r\nNote that the custom interface does not allow parameters on the overridden method.","title":"Java does not catch exception","body":"<p>What happens is that <code>factory.create(...)</code> is executed and the result is passed to <code>catchThrowable</code>, so the exception is actually thrown before the <code>catchThrowable</code> execution.</p>\n<p>To fix it, you can either use a lambda:</p>\n<pre><code>catchThrowable( () -&gt; factory.create(testVar1, null, testVar3));\n</code></pre>\n<p>or you can define your own interface extending <code>ThrowableAssert.ThrowingCallable</code>:</p>\n<pre><code>interface SomeClassFactory extends ThrowableAssert.ThrowingCallable {\n\n    @Override\n    SomeClass call() throws IllegalArgumentException;\n\n}\n</code></pre>\n<p>which would allow you to call:</p>\n<pre><code>catchThrowable(factory);\n</code></pre>\n<p>Note that the custom interface does not allow parameters on the overridden method.</p>\n"}],"owner":{"account_id":16540071,"reputation":356,"user_id":11951046,"display_name":"Farrukh Nabiyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69581685,"answer_count":1,"score":2,"last_activity_date":1634571507,"creation_date":1634284670,"question_id":69581568,"body_markdown":"I am trying to implement lambda expression for constructor. My constructor can throw an IllegalArgumentException. I tried different ways. First way is just calling lambda expression:\r\n\r\n    catchThrowable(() -&gt; new SomeClass(testVar1, null, testVar2));\r\n\r\nIt works perfectly fine, I can catch Exception and then parse it. The problem occurs when I try to use my own interface:\r\n\r\n    interface SomeClassFactory{\r\n            SomeClass create (String testVar1, String persId, String testVar2) throws IllegalArgumentException;\r\n    }\r\n\r\n    SomeClassFactory factory = SomeClass::new;\r\n\r\nand then I use it as:\r\n\r\n    catchThrowable((ThrowableAssert.ThrowingCallable) factory.create(testVar1, null, testVar3));\r\n\r\nBut the last line of code does not catch any exceptions, my code gives runtime exception and stops. Can you please explain why it happens and, if possible, how to fix it?","title":"Java does not catch exception","body":"<p>I am trying to implement lambda expression for constructor. My constructor can throw an IllegalArgumentException. I tried different ways. First way is just calling lambda expression:</p>\n<pre><code>catchThrowable(() -&gt; new SomeClass(testVar1, null, testVar2));\n</code></pre>\n<p>It works perfectly fine, I can catch Exception and then parse it. The problem occurs when I try to use my own interface:</p>\n<pre><code>interface SomeClassFactory{\n        SomeClass create (String testVar1, String persId, String testVar2) throws IllegalArgumentException;\n}\n\nSomeClassFactory factory = SomeClass::new;\n</code></pre>\n<p>and then I use it as:</p>\n<pre><code>catchThrowable((ThrowableAssert.ThrowingCallable) factory.create(testVar1, null, testVar3));\n</code></pre>\n<p>But the last line of code does not catch any exceptions, my code gives runtime exception and stops. Can you please explain why it happens and, if possible, how to fix it?</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"score":0,"creation_date":1634538125,"post_id":69611531,"comment_id":123041548,"body_markdown":"works fine for me.","body":"works fine for me."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1634545458,"creation_date":1634538267,"answer_id":69611595,"question_id":69611531,"body_markdown":"Wrap `Arrays.asList(t)` into `new ArrayList&lt;&gt;(...)` to allow its resizing. [`Arrays.asList`][1] is just a fixed size wrapper that doesn&#39;t support adding elements.\r\n\r\n```\r\nMap&lt;Character, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\nfor (int i = 0; i &lt; s.length(); i++) {\r\n    int t = i;\r\n    map.merge(s.charAt(i), new ArrayList&lt;Integer&gt;(Arrays.asList(t)), (c, list) -&gt; {\r\n        map.get(s.charAt(t)).add(t);\r\n        return c;\r\n    });\r\n}\r\n```\r\n\r\nNote that as another [answer][2] says, `merge` can be replaced with `computeIfAbsent`.\r\n\r\nIf you are into streams, you can use mutable reduction:\r\n\r\n```\r\nMap&lt;Character, List&lt;Integer&gt;&gt; resultMap = IntStream\r\n\t.range(0, s.length())\r\n\t.collect(\r\n\t\tHashMap::new,\r\n\t\t(map, i) -&gt; map.computeIfAbsent(s.charAt(i), ch -&gt; new ArrayList&lt;&gt;()).add(i),\r\n\t\tHashMap::putAll\r\n\t);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-\r\n  [2]: https://stackoverflow.com/a/69611803/3764965","title":"How can I use merge method in Java to append elements to the list value in map&lt;Character,List&lt;Integer&gt;&gt;?","body":"<p>Wrap <code>Arrays.asList(t)</code> into <code>new ArrayList&lt;&gt;(...)</code> to allow its resizing. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html#asList-T...-\" rel=\"nofollow noreferrer\"><code>Arrays.asList</code></a> is just a fixed size wrapper that doesn't support adding elements.</p>\n<pre><code>Map&lt;Character, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\nfor (int i = 0; i &lt; s.length(); i++) {\n    int t = i;\n    map.merge(s.charAt(i), new ArrayList&lt;Integer&gt;(Arrays.asList(t)), (c, list) -&gt; {\n        map.get(s.charAt(t)).add(t);\n        return c;\n    });\n}\n</code></pre>\n<p>Note that as another <a href=\"https://stackoverflow.com/a/69611803/3764965\">answer</a> says, <code>merge</code> can be replaced with <code>computeIfAbsent</code>.</p>\n<p>If you are into streams, you can use mutable reduction:</p>\n<pre><code>Map&lt;Character, List&lt;Integer&gt;&gt; resultMap = IntStream\n    .range(0, s.length())\n    .collect(\n        HashMap::new,\n        (map, i) -&gt; map.computeIfAbsent(s.charAt(i), ch -&gt; new ArrayList&lt;&gt;()).add(i),\n        HashMap::putAll\n    );\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634539709,"creation_date":1634539709,"answer_id":69611803,"question_id":69611531,"body_markdown":"You can also use `computeIfAbsent()` instead of `merge()` like this.\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;abcdabcdea&quot;;\r\n        Map&lt;Character, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            map.computeIfAbsent(s.charAt(i), k -&gt; new ArrayList&lt;&gt;()).add(i);\r\n        }\r\n        System.out.println(map);\r\n    }\r\n\r\noutput:\r\n\r\n    {a=[0, 4, 9], b=[1, 5], c=[2, 6], d=[3, 7], e=[8]}\r\n","title":"How can I use merge method in Java to append elements to the list value in map&lt;Character,List&lt;Integer&gt;&gt;?","body":"<p>You can also use <code>computeIfAbsent()</code> instead of <code>merge()</code> like this.</p>\n<pre><code>public static void main(String[] args) {\n    String s = &quot;abcdabcdea&quot;;\n    Map&lt;Character, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; s.length(); i++) {\n        map.computeIfAbsent(s.charAt(i), k -&gt; new ArrayList&lt;&gt;()).add(i);\n    }\n    System.out.println(map);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>{a=[0, 4, 9], b=[1, 5], c=[2, 6], d=[3, 7], e=[8]}\n</code></pre>\n"}],"owner":{"account_id":1363919,"reputation":912,"user_id":1300757,"accept_rate":55,"display_name":"anupamD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69611595,"answer_count":2,"score":3,"last_activity_date":1634571406,"creation_date":1634537881,"question_id":69611531,"body_markdown":"I am trying to understand the merge method. I have a map of `&lt;Character, List&lt;Integer&gt;&gt;`. I want to add the indices to the list of the appropriate key. I want to use the merge method to do so. I tried the following method. I am getting `UnsupportedOperationException`. What is the best way to do so using the `merge` method?\r\n\r\n    Map&lt;Character, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\t\tint t = i;\r\n\t\tmap.merge(s.charAt(i), Arrays.asList(t), (c, list) -&gt; {\r\n\t\t\tmap.get(s.charAt(t)).add(t);\r\n\t\t\treturn c;\r\n\t\t});\r\n\t}","title":"How can I use merge method in Java to append elements to the list value in map&lt;Character,List&lt;Integer&gt;&gt;?","body":"<p>I am trying to understand the merge method. I have a map of <code>&lt;Character, List&lt;Integer&gt;&gt;</code>. I want to add the indices to the list of the appropriate key. I want to use the merge method to do so. I tried the following method. I am getting <code>UnsupportedOperationException</code>. What is the best way to do so using the <code>merge</code> method?</p>\n<pre><code>Map&lt;Character, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\nfor (int i = 0; i &lt; s.length(); i++) {\n    int t = i;\n    map.merge(s.charAt(i), Arrays.asList(t), (c, list) -&gt; {\n        map.get(s.charAt(t)).add(t);\n        return c;\n    });\n}\n</code></pre>\n"},{"tags":["java","double","user-input"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1631856385,"post_id":69217901,"comment_id":122340172,"body_markdown":"When you say &quot;word&quot; do you actually mean &quot;String&quot;? Can you share the code you have so far?","body":"When you say &quot;word&quot; do you actually mean &quot;String&quot;? Can you share the code you have so far?"}],"answers":[{"tags":[],"owner":{"account_id":21709395,"reputation":162,"user_id":16021237,"display_name":"GalliadII"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634571391,"creation_date":1634571391,"answer_id":69618820,"question_id":69217901,"body_markdown":"the only way to translate an input word into a double, would be to create a giant if clause that translates the different parts of for example &quot;sevenhundredthousandnunhundredeightyone into 700981.\r\nIF (!) you still want that, you can check use the subString Method and similar String methods to create conditions where the program can understand input numbers. But seriously, why bother?\r\nthis alone would be a real hassle and can be easily circumvented by having the user input a number. \r\nyou can then force the user to input a number by using a `try-catch` with a `NumberformatException`. \r\nJust in case the user wants to mess with the program. Have him input a double or actually use an int, if you do not want to work with decimal places. \r\nalso do not forget to include a `if (a + b &gt; Integer.MAX_VALUE)` clause `Integer.MIN_Value`. Does this help you?\r\n","title":"Trying to have a user inputed string hold the value of a double variable","body":"<p>the only way to translate an input word into a double, would be to create a giant if clause that translates the different parts of for example &quot;sevenhundredthousandnunhundredeightyone into 700981.\nIF (!) you still want that, you can check use the subString Method and similar String methods to create conditions where the program can understand input numbers. But seriously, why bother?\nthis alone would be a real hassle and can be easily circumvented by having the user input a number.\nyou can then force the user to input a number by using a <code>try-catch</code> with a <code>NumberformatException</code>.\nJust in case the user wants to mess with the program. Have him input a double or actually use an int, if you do not want to work with decimal places.\nalso do not forget to include a <code>if (a + b &gt; Integer.MAX_VALUE)</code> clause <code>Integer.MIN_Value</code>. Does this help you?</p>\n"}],"owner":{"account_id":22777406,"reputation":1,"user_id":16933845,"display_name":"henrey 21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1634571391,"creation_date":1631854035,"question_id":69217901,"body_markdown":"I am creating an project where when the user inputs a word, the word will have the value of an already existing double variable. How would I make the word be able to equal the double variable when the user types it in? After the user types the word in, the input will be put into another math equation.\r\n```\r\ndouble answer = 5.5;\r\n\r\n\r\n  System.out.print(&quot;1st number: &quot;);\r\n                System.out.print(&quot;Enter first number: &quot;);\r\n\r\n                first = scanner.nextDouble();\r\n// user inputs &quot;Previous&quot; , and the value is of the answer variable\r\n                \r\n                System.out.print(&quot;Enter second number: &quot;);\r\n                second = scanner.nextDouble();\r\n// user inputs 1.1\r\n\r\n                answer = first + second;\r\n//5.5+1.1=6.6\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"Trying to have a user inputed string hold the value of a double variable","body":"<p>I am creating an project where when the user inputs a word, the word will have the value of an already existing double variable. How would I make the word be able to equal the double variable when the user types it in? After the user types the word in, the input will be put into another math equation.</p>\n<pre><code>double answer = 5.5;\n\n\n  System.out.print(&quot;1st number: &quot;);\n                System.out.print(&quot;Enter first number: &quot;);\n\n                first = scanner.nextDouble();\n// user inputs &quot;Previous&quot; , and the value is of the answer variable\n                \n                System.out.print(&quot;Enter second number: &quot;);\n                second = scanner.nextDouble();\n// user inputs 1.1\n\n                answer = first + second;\n//5.5+1.1=6.6\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":14737509,"reputation":485,"user_id":10643072,"display_name":"FourBars"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634555069,"creation_date":1634548950,"answer_id":69613659,"question_id":69613562,"body_markdown":"On one hand, what pollTimeOut function does is setting a timeout for the consumer topic polling duration. &lt;br/&gt;\r\nOn the other hand, what you want to do is set no time out. So, what I would do, if it&#39;s possible, is just don&#39;t use the SetPollTimeOut function. If that&#39;s is impossible, I would try to use a very long time as a timeout, so it seems like it&#39;s almost &quot;infinity&quot;, as you need.&lt;br/&gt;\r\nAs I said, I&#39;m not sure if it&#39;s possible to don&#39;t use the function at all, but about what you need, making it an infinity time, I&#39;m pretty sure it&#39;s not possible at all because the default value of the function is 30 seconds, so that means that pollTimeOut(0), would be equal to 30 seconds.","title":"Java KafkaItemReader","body":"<p>On one hand, what pollTimeOut function does is setting a timeout for the consumer topic polling duration. <br/>\nOn the other hand, what you want to do is set no time out. So, what I would do, if it's possible, is just don't use the SetPollTimeOut function. If that's is impossible, I would try to use a very long time as a timeout, so it seems like it's almost &quot;infinity&quot;, as you need.<br/>\nAs I said, I'm not sure if it's possible to don't use the function at all, but about what you need, making it an infinity time, I'm pretty sure it's not possible at all because the default value of the function is 30 seconds, so that means that pollTimeOut(0), would be equal to 30 seconds.</p>\n"},{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634553403,"creation_date":1634553403,"answer_id":69614626,"question_id":69613562,"body_markdown":"The default is 30 seconds for KafkaItemReader polling timeout, even if you do not specify any.\r\n\r\nThe implementation of the setPollTimeout is below:\r\n\r\n    /**\r\n     * Set a timeout for the consumer topic polling duration. Default to 30 seconds.\r\n     * @param pollTimeout for the consumer poll operation\r\n     */\r\n    public void setPollTimeout(Duration pollTimeout) {\r\n    \tAssert.notNull(pollTimeout, &quot;pollTimeout must not be null&quot;);\r\n    \tAssert.isTrue(!pollTimeout.isZero(), &quot;pollTimeout must not be zero&quot;);\r\n    \tAssert.isTrue(!pollTimeout.isNegative(), &quot;pollTimeout must not be negative&quot;);\r\n    \tthis.pollTimeout = pollTimeout;\r\n    }\r\n\r\n\r\nGenerally frameworks would reserve 0 or -1 to specify forever however as you can see, you cant use 0, or -N therefore, there does not seem to be a way to set the KafkaItemTeader to poll indefinitely.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java KafkaItemReader","body":"<p>The default is 30 seconds for KafkaItemReader polling timeout, even if you do not specify any.</p>\n<p>The implementation of the setPollTimeout is below:</p>\n<pre><code>/**\n * Set a timeout for the consumer topic polling duration. Default to 30 seconds.\n * @param pollTimeout for the consumer poll operation\n */\npublic void setPollTimeout(Duration pollTimeout) {\n    Assert.notNull(pollTimeout, &quot;pollTimeout must not be null&quot;);\n    Assert.isTrue(!pollTimeout.isZero(), &quot;pollTimeout must not be zero&quot;);\n    Assert.isTrue(!pollTimeout.isNegative(), &quot;pollTimeout must not be negative&quot;);\n    this.pollTimeout = pollTimeout;\n}\n</code></pre>\n<p>Generally frameworks would reserve 0 or -1 to specify forever however as you can see, you cant use 0, or -N therefore, there does not seem to be a way to set the KafkaItemTeader to poll indefinitely.</p>\n"}],"owner":{"account_id":5809550,"reputation":23,"user_id":4581106,"display_name":"Nadir Hafsaoui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634571332,"creation_date":1634548502,"question_id":69613562,"body_markdown":"I&#39;m using a KafkaIteamReader in a batch job using spring batch.\r\n\r\nI can configure how much time it will listen to the topic until the job end (https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/kafka/KafkaItemReader.html#setPollTimeout-java.time.Duration-)\r\n\r\nWhat I want is, when I launch my job, set it to listen to the Kafka topic until I stop it. Kind of pollTimeout(&quot;infinity&quot;).&lt;br/&gt;Is there any way to achieve that? Thanks.","title":"Java KafkaItemReader","body":"<p>I'm using a KafkaIteamReader in a batch job using spring batch.</p>\n<p>I can configure how much time it will listen to the topic until the job end (<a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/kafka/KafkaItemReader.html#setPollTimeout-java.time.Duration-\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/kafka/KafkaItemReader.html#setPollTimeout-java.time.Duration-</a>)</p>\n<p>What I want is, when I launch my job, set it to listen to the Kafka topic until I stop it. Kind of pollTimeout(&quot;infinity&quot;).<br/>Is there any way to achieve that? Thanks.</p>\n"},{"tags":["java","amazon-web-services","tomcat","amazon-elastic-beanstalk"],"answers":[{"tags":[],"owner":{"account_id":285131,"reputation":1350,"user_id":583616,"accept_rate":57,"display_name":"RobbiewOnline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634571244,"creation_date":1634571244,"answer_id":69618781,"question_id":64481718,"body_markdown":"I&#39;ve detailed in a new [Medium blog][1] how this all works for Tomcat, I hit similar issues, particularly zero-length files due to S3 Log Rotation.\r\n\r\nBelow is an excerpt that you might be able to use, the article explains how to determine the right folder/file(s) to stream.\r\n\r\nHere I&#39;m streaming three different files (it deals with the dates you mention automatically), review what&#39;s under the logs.conf &#39;content&#39; section for each file that you need to stream. \r\n\r\nDon&#39;t forget to also setup your policy and role that enables the Elastic Beanstalk EC2 instance to communicate with CloudWatch.\r\n\r\n```\r\npackages:\r\n  yum:\r\n    awslogs: []\r\n\r\noption_settings:\r\n  - namespace: aws:elasticbeanstalk:cloudwatch:logs\r\n    option_name: StreamLogs\r\n    value: true\r\n  - namespace: aws:elasticbeanstalk:cloudwatch:logs\r\n    option_name: DeleteOnTerminate\r\n    value: false\r\n  - namespace: aws:elasticbeanstalk:cloudwatch:logs\r\n    option_name: RetentionInDays\r\n    value: 90\r\n\r\nfiles:\r\n  &quot;/etc/awslogs/awscli.conf&quot; :\r\n    mode: &quot;000600&quot;\r\n    owner: root\r\n    group: root\r\n    content: |\r\n      [plugins]\r\n      cwlogs = cwlogs\r\n      [default]\r\n      region = `{&quot;Ref&quot;:&quot;AWS::Region&quot;}`\r\n\r\n  &quot;/etc/awslogs/config/logs.conf&quot; :\r\n    mode: &quot;000600&quot;\r\n    owner: root\r\n    group: root\r\n    content: |\r\n      [/var/log/tomcat/localhost.log]\r\n      log_group_name = `{&quot;Fn::Join&quot;:[&quot;/&quot;, [&quot;/aws/elasticbeanstalk&quot;, { &quot;Ref&quot;:&quot;AWSEBEnvironmentName&quot; }, &quot;var/log/tomcat/localhost.log&quot;]]}`\r\n      log_stream_name = {instance_id}\r\n      file = /var/log/tomcat/localhost.*\r\n\r\n      [/var/log/tomcat/catalina.log]\r\n      log_group_name = `{&quot;Fn::Join&quot;:[&quot;/&quot;, [&quot;/aws/elasticbeanstalk&quot;, { &quot;Ref&quot;:&quot;AWSEBEnvironmentName&quot; }, &quot;var/log/tomcat/catalina.log&quot;]]}`\r\n      log_stream_name = {instance_id}\r\n      file = /var/log/tomcat/catalina.*\r\n\r\n      [/var/log/tomcat/localhost_access_log.txt]\r\n      log_group_name = `{&quot;Fn::Join&quot;:[&quot;/&quot;, [&quot;/aws/elasticbeanstalk&quot;, { &quot;Ref&quot;:&quot;AWSEBEnvironmentName&quot; }, &quot;var/log/tomcat/access_log&quot;]]}`\r\n      log_stream_name = {instance_id}\r\n      file = /var/log/tomcat/access_log.*\r\n\r\ncommands:\r\n  &quot;01&quot;:\r\n    command: systemctl enable awslogsd.service\r\n  &quot;02&quot;:\r\n    command: systemctl restart awslogsd\r\n```\r\n\r\n\r\n  [1]: https://codingrob.medium.com/how-to-setup-aws-elasticbeanstalk-to-stream-your-custom-application-logs-to-cloudwatch-d5c877eaa242","title":"Logs not working on Elastic Beanstalk Tomcat environment","body":"<p>I've detailed in a new <a href=\"https://codingrob.medium.com/how-to-setup-aws-elasticbeanstalk-to-stream-your-custom-application-logs-to-cloudwatch-d5c877eaa242\" rel=\"nofollow noreferrer\">Medium blog</a> how this all works for Tomcat, I hit similar issues, particularly zero-length files due to S3 Log Rotation.</p>\n<p>Below is an excerpt that you might be able to use, the article explains how to determine the right folder/file(s) to stream.</p>\n<p>Here I'm streaming three different files (it deals with the dates you mention automatically), review what's under the logs.conf 'content' section for each file that you need to stream.</p>\n<p>Don't forget to also setup your policy and role that enables the Elastic Beanstalk EC2 instance to communicate with CloudWatch.</p>\n<pre><code>packages:\n  yum:\n    awslogs: []\n\noption_settings:\n  - namespace: aws:elasticbeanstalk:cloudwatch:logs\n    option_name: StreamLogs\n    value: true\n  - namespace: aws:elasticbeanstalk:cloudwatch:logs\n    option_name: DeleteOnTerminate\n    value: false\n  - namespace: aws:elasticbeanstalk:cloudwatch:logs\n    option_name: RetentionInDays\n    value: 90\n\nfiles:\n  &quot;/etc/awslogs/awscli.conf&quot; :\n    mode: &quot;000600&quot;\n    owner: root\n    group: root\n    content: |\n      [plugins]\n      cwlogs = cwlogs\n      [default]\n      region = `{&quot;Ref&quot;:&quot;AWS::Region&quot;}`\n\n  &quot;/etc/awslogs/config/logs.conf&quot; :\n    mode: &quot;000600&quot;\n    owner: root\n    group: root\n    content: |\n      [/var/log/tomcat/localhost.log]\n      log_group_name = `{&quot;Fn::Join&quot;:[&quot;/&quot;, [&quot;/aws/elasticbeanstalk&quot;, { &quot;Ref&quot;:&quot;AWSEBEnvironmentName&quot; }, &quot;var/log/tomcat/localhost.log&quot;]]}`\n      log_stream_name = {instance_id}\n      file = /var/log/tomcat/localhost.*\n\n      [/var/log/tomcat/catalina.log]\n      log_group_name = `{&quot;Fn::Join&quot;:[&quot;/&quot;, [&quot;/aws/elasticbeanstalk&quot;, { &quot;Ref&quot;:&quot;AWSEBEnvironmentName&quot; }, &quot;var/log/tomcat/catalina.log&quot;]]}`\n      log_stream_name = {instance_id}\n      file = /var/log/tomcat/catalina.*\n\n      [/var/log/tomcat/localhost_access_log.txt]\n      log_group_name = `{&quot;Fn::Join&quot;:[&quot;/&quot;, [&quot;/aws/elasticbeanstalk&quot;, { &quot;Ref&quot;:&quot;AWSEBEnvironmentName&quot; }, &quot;var/log/tomcat/access_log&quot;]]}`\n      log_stream_name = {instance_id}\n      file = /var/log/tomcat/access_log.*\n\ncommands:\n  &quot;01&quot;:\n    command: systemctl enable awslogsd.service\n  &quot;02&quot;:\n    command: systemctl restart awslogsd\n</code></pre>\n"}],"owner":{"account_id":9620729,"reputation":230,"user_id":7142073,"display_name":"Vama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1167,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":69618781,"answer_count":1,"score":6,"last_activity_date":1634571244,"creation_date":1603367776,"question_id":64481718,"body_markdown":"We&#39;ve been using Elastic Beanstalk to run our Java (8) applications on Tomcat in our company without any issues. Now we have decided to move on to Java 11. We set up our environments with CloudFormation as we did before for the Java 8 applications but now we are using this solution stack: &#39;64bit Amazon Linux 2 v4.1.1 running Tomcat 8.5 Corretto 11&#39; (also tried v4.1.2). Everything works fine but it looks like the request logs feature isn&#39;t working anymore in elastic beanstalk (Last 100 lines and full logs). I also added a keypair to the application server to check the logs on the ec2 server at /var/log/tomcat/ but we can&#39;t find the catalina.out file (only catalina files with a date like: catalina.2020-10-14.log). Those files contains only logs of a library we used but not the logs we send to the Standard system output. Another company we sometimes work with experiences the same issue on this solution stack.\r\n\r\nHas anyone experienced the same issue on this solution stack and found a fix?\r\n\r\nThis is our CloudFormation configuration (YAML):\r\n\r\n```\r\nApplication:\r\nType: AWS::ElasticBeanstalk::Application\r\nProperties:\r\nDescription: Application backend\r\nApplicationVersion:\r\nType: AWS::ElasticBeanstalk::ApplicationVersion\r\nProperties:\r\nApplicationName:\r\nRef: Application\r\nDescription: !Ref AppVersion\r\nSourceBundle:\r\nS3Bucket: !Ref BeanstalkSourceS3\r\nS3Key: !Ref BuildFileName\r\nAppEC2ServiceRole:\r\nType: AWS::IAM::Role\r\nProperties:\r\nAssumeRolePolicyDocument:\r\nVersion: &#39;2012-10-17&#39;\r\nStatement:\r\n- Effect: Allow\r\nPrincipal:\r\nService:\r\n- elasticbeanstalk.amazonaws.com\r\nAction:\r\n- sts:AssumeRole\r\nManagedPolicyArns:\r\n- &quot;arn:aws:iam::aws:policy/service-role/AWSElasticBeanstalkEnhancedHealth&quot;\r\n- &quot;arn:aws:iam::aws:policy/service-role/AWSElasticBeanstalkService&quot;\r\nAppEnvironment:\r\nType: AWS::ElasticBeanstalk::Environment\r\nProperties:\r\nApplicationName:\r\nRef: Application\r\nOptionSettings:\r\n- Namespace: aws:autoscaling:launchconfiguration\r\nOptionName: InstanceType\r\nValue: !Ref EC2InstanceSize\r\n- Namespace: aws:elasticbeanstalk:environment\r\nOptionName: EnvironmentType\r\nValue: SingleInstance\r\n- Namespace: aws:autoscaling:launchconfiguration\r\nOptionName: IamInstanceProfile\r\nValue: !Ref AppInstanceProfile\r\n- Namespace: aws:autoscaling:launchconfiguration\r\nOptionName: EC2KeyName\r\nValue: CompanyTestKey\r\n- Namespace: aws:ec2:vpc\r\nOptionName: VPCId\r\nValue: !Ref Vpc\r\n- Namespace: aws:ec2:vpc\r\nOptionName: Subnets\r\nValue: !Join [&quot;,&quot;,https://forums.aws.amazon.com/\r\n- Namespace: aws:ec2:vpc\r\nOptionName: AssociatePublicIpAddress\r\nValue: true\r\n- Namespace: aws:elasticbeanstalk:environment\r\nOptionName: ServiceRole\r\nValue: !Ref AppEC2ServiceRole\r\n- Namespace: aws:elasticbeanstalk:cloudwatch:logs\r\nOptionName: StreamLogs\r\nValue: true\r\n- Namespace: aws:elasticbeanstalk:cloudwatch:logs\r\nOptionName: RetentionInDays\r\nValue: 14\r\nSolutionStackName: 64bit Amazon Linux 2 v4.1.1 running Tomcat 8.5 Corretto 11\r\nVersionLabel:\r\nRef: ApplicationVersion\r\nTags:\r\n- Key: group\r\nValue: !Ref ResourceGroupTagValue\r\n```","title":"Logs not working on Elastic Beanstalk Tomcat environment","body":"<p>We've been using Elastic Beanstalk to run our Java (8) applications on Tomcat in our company without any issues. Now we have decided to move on to Java 11. We set up our environments with CloudFormation as we did before for the Java 8 applications but now we are using this solution stack: '64bit Amazon Linux 2 v4.1.1 running Tomcat 8.5 Corretto 11' (also tried v4.1.2). Everything works fine but it looks like the request logs feature isn't working anymore in elastic beanstalk (Last 100 lines and full logs). I also added a keypair to the application server to check the logs on the ec2 server at /var/log/tomcat/ but we can't find the catalina.out file (only catalina files with a date like: catalina.2020-10-14.log). Those files contains only logs of a library we used but not the logs we send to the Standard system output. Another company we sometimes work with experiences the same issue on this solution stack.</p>\n<p>Has anyone experienced the same issue on this solution stack and found a fix?</p>\n<p>This is our CloudFormation configuration (YAML):</p>\n<pre><code>Application:\nType: AWS::ElasticBeanstalk::Application\nProperties:\nDescription: Application backend\nApplicationVersion:\nType: AWS::ElasticBeanstalk::ApplicationVersion\nProperties:\nApplicationName:\nRef: Application\nDescription: !Ref AppVersion\nSourceBundle:\nS3Bucket: !Ref BeanstalkSourceS3\nS3Key: !Ref BuildFileName\nAppEC2ServiceRole:\nType: AWS::IAM::Role\nProperties:\nAssumeRolePolicyDocument:\nVersion: '2012-10-17'\nStatement:\n- Effect: Allow\nPrincipal:\nService:\n- elasticbeanstalk.amazonaws.com\nAction:\n- sts:AssumeRole\nManagedPolicyArns:\n- &quot;arn:aws:iam::aws:policy/service-role/AWSElasticBeanstalkEnhancedHealth&quot;\n- &quot;arn:aws:iam::aws:policy/service-role/AWSElasticBeanstalkService&quot;\nAppEnvironment:\nType: AWS::ElasticBeanstalk::Environment\nProperties:\nApplicationName:\nRef: Application\nOptionSettings:\n- Namespace: aws:autoscaling:launchconfiguration\nOptionName: InstanceType\nValue: !Ref EC2InstanceSize\n- Namespace: aws:elasticbeanstalk:environment\nOptionName: EnvironmentType\nValue: SingleInstance\n- Namespace: aws:autoscaling:launchconfiguration\nOptionName: IamInstanceProfile\nValue: !Ref AppInstanceProfile\n- Namespace: aws:autoscaling:launchconfiguration\nOptionName: EC2KeyName\nValue: CompanyTestKey\n- Namespace: aws:ec2:vpc\nOptionName: VPCId\nValue: !Ref Vpc\n- Namespace: aws:ec2:vpc\nOptionName: Subnets\nValue: !Join [&quot;,&quot;,https://forums.aws.amazon.com/\n- Namespace: aws:ec2:vpc\nOptionName: AssociatePublicIpAddress\nValue: true\n- Namespace: aws:elasticbeanstalk:environment\nOptionName: ServiceRole\nValue: !Ref AppEC2ServiceRole\n- Namespace: aws:elasticbeanstalk:cloudwatch:logs\nOptionName: StreamLogs\nValue: true\n- Namespace: aws:elasticbeanstalk:cloudwatch:logs\nOptionName: RetentionInDays\nValue: 14\nSolutionStackName: 64bit Amazon Linux 2 v4.1.1 running Tomcat 8.5 Corretto 11\nVersionLabel:\nRef: ApplicationVersion\nTags:\n- Key: group\nValue: !Ref ResourceGroupTagValue\n</code></pre>\n"},{"tags":["java","android","android-studio","twitter4j"],"owner":{"account_id":23069334,"reputation":11,"user_id":17183353,"display_name":"user17183353"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634571100,"creation_date":1634571100,"question_id":69618742,"body_markdown":"I am trying to build an app on Android Studio that allows me to get my DMs but when I run the code it doesn&#39;t show anything.\r\n\r\nI am using the following code:\r\n\r\n    \r\n    public class HandlerActivity extends AppCompatActivity {\r\n\r\n    private static final String TAG = &quot;DirectMessagesClass&quot;;\r\n\r\n\r\n    private static final TwitterFactory factory = new TwitterFactory(\r\n\r\n            new ConfigurationBuilder()\r\n                    .setDebugEnabled(true)\r\n                    .setOAuthConsumerKey(&quot;api-key&quot;)\r\n                    .setOAuthConsumerSecret(&quot;api-secret&quot;)\r\n                    .setOAuthAccessToken(&quot;acces-token&quot;)\r\n                    .setOAuthAccessTokenSecret(&quot;access-token-secret&quot;)\r\n                    .setTweetModeExtended(true)\r\n                    .build());\r\n\r\n    public DirectMessageList getLastXDirectMessages(int count, String nextCursor) {\r\n        if (count &lt; 1 || count &gt; 50) {\r\n            Log.e(TAG, &quot;Invalid input - count must be between 1 and 50.&quot;);\r\n            return null;\r\n        }\r\n        Twitter twitter = factory.getInstance();\r\n        DirectMessageList messages;\r\n        try {\r\n            if (nextCursor == null) {\r\n                messages = twitter.getDirectMessages(count);\r\n            } else {\r\n                messages = twitter.getDirectMessages(count, nextCursor);\r\n            }\r\n        } catch (TwitterException e) {\r\n            Log.e(TAG, &quot;Failed to retrieve direct messages from Twitter API&quot;, e);\r\n            // You can implement specific error handling for some Twitter error codes here, since e.g. server overload you could\r\n            // wait and try again instead of returning null\r\n            return null;\r\n        }\r\n        return messages;\r\n    }\r\n\r\n    public DirectMessageList getAllAvailableDirectMessages() {\r\n        int maxCount = 50;\r\n        DirectMessageList messages = getLastXDirectMessages(maxCount, null);\r\n        if (messages == null) {\r\n            return messages;\r\n        }\r\n        String nextCursor = messages.getNextCursor();\r\n        while (nextCursor != null &amp;&amp; !nextCursor.equals(&quot;&quot;)) {\r\n            try {\r\n                Thread.sleep(60 * 1000);\r\n            } catch (Exception e) {\r\n                Log.e(TAG, &quot;Interrupted&quot;, e);\r\n                return null;\r\n            }\r\n            DirectMessageList nextList = getLastXDirectMessages(maxCount, nextCursor);\r\n            if (nextList == null) {\r\n                return messages;\r\n            }\r\n            nextCursor = nextList.getNextCursor();\r\n            messages.addAll(nextList);\r\n        }\r\n        return messages;\r\n    }\r\n\r\n\r\n\r\n }\r\n\r\nWhat am I doing wrong? Do I have to add another function for it to show me my DMs?\r\n\r\nThanks in advance.","title":"How can I display/run the DirectMessagesList Twitter4J code on my App with a button on Android Studio?","body":"<p>I am trying to build an app on Android Studio that allows me to get my DMs but when I run the code it doesn't show anything.</p>\n<p>I am using the following code:</p>\n<pre><code>public class HandlerActivity extends AppCompatActivity {\n\nprivate static final String TAG = &quot;DirectMessagesClass&quot;;\n\n\nprivate static final TwitterFactory factory = new TwitterFactory(\n\n        new ConfigurationBuilder()\n                .setDebugEnabled(true)\n                .setOAuthConsumerKey(&quot;api-key&quot;)\n                .setOAuthConsumerSecret(&quot;api-secret&quot;)\n                .setOAuthAccessToken(&quot;acces-token&quot;)\n                .setOAuthAccessTokenSecret(&quot;access-token-secret&quot;)\n                .setTweetModeExtended(true)\n                .build());\n\npublic DirectMessageList getLastXDirectMessages(int count, String nextCursor) {\n    if (count &lt; 1 || count &gt; 50) {\n        Log.e(TAG, &quot;Invalid input - count must be between 1 and 50.&quot;);\n        return null;\n    }\n    Twitter twitter = factory.getInstance();\n    DirectMessageList messages;\n    try {\n        if (nextCursor == null) {\n            messages = twitter.getDirectMessages(count);\n        } else {\n            messages = twitter.getDirectMessages(count, nextCursor);\n        }\n    } catch (TwitterException e) {\n        Log.e(TAG, &quot;Failed to retrieve direct messages from Twitter API&quot;, e);\n        // You can implement specific error handling for some Twitter error codes here, since e.g. server overload you could\n        // wait and try again instead of returning null\n        return null;\n    }\n    return messages;\n}\n\npublic DirectMessageList getAllAvailableDirectMessages() {\n    int maxCount = 50;\n    DirectMessageList messages = getLastXDirectMessages(maxCount, null);\n    if (messages == null) {\n        return messages;\n    }\n    String nextCursor = messages.getNextCursor();\n    while (nextCursor != null &amp;&amp; !nextCursor.equals(&quot;&quot;)) {\n        try {\n            Thread.sleep(60 * 1000);\n        } catch (Exception e) {\n            Log.e(TAG, &quot;Interrupted&quot;, e);\n            return null;\n        }\n        DirectMessageList nextList = getLastXDirectMessages(maxCount, nextCursor);\n        if (nextList == null) {\n            return messages;\n        }\n        nextCursor = nextList.getNextCursor();\n        messages.addAll(nextList);\n    }\n    return messages;\n}\n</code></pre>\n<p>}</p>\n<p>What am I doing wrong? Do I have to add another function for it to show me my DMs?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1554469726,"post_id":55536044,"comment_id":97775596,"body_markdown":"&quot;I need to use Java Stream in this code&quot; No you don&#39;t. It&#39;s working perfectly fine.","body":"&quot;I need to use Java Stream in this code&quot; No you don&#39;t. It&#39;s working perfectly fine."},{"owner":{"account_id":7121137,"reputation":69,"user_id":5445733,"display_name":"Aldo Fernando Saia"},"score":1,"creation_date":1554469891,"post_id":55536044,"comment_id":97775713,"body_markdown":"Yes, but is a requirements that I do it with Stream.","body":"Yes, but is a requirements that I do it with Stream."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1554469946,"post_id":55536044,"comment_id":97775746,"body_markdown":"Implementation details are not requirements.","body":"Implementation details are not requirements."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":2,"creation_date":1554469989,"post_id":55536044,"comment_id":97775780,"body_markdown":"Tell that to the teacher / lecturer ;-)","body":"Tell that to the teacher / lecturer ;-)"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":3,"creation_date":1554470063,"post_id":55536044,"comment_id":97775833,"body_markdown":"Maybe you want `takeWhile` on streams, which was only introduced in Java 9: https://blog.indrek.io/articles/whats-new-in-java-9-streams/","body":"Maybe you want <code>takeWhile</code> on streams, which was only introduced in Java 9: <a href=\"https://blog.indrek.io/articles/whats-new-in-java-9-streams/\" rel=\"nofollow noreferrer\">blog.indrek.io/articles/whats-new-in-java-9-streams</a>"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1554470064,"post_id":55536044,"comment_id":97775837,"body_markdown":"@ErwinBolwidt Yes, that&#39;s the only exception. In such a case they learn nothing from us doing for them.","body":"@ErwinBolwidt Yes, that&#39;s the only exception. In such a case they learn nothing from us doing for them."},{"owner":{"account_id":7121137,"reputation":69,"user_id":5445733,"display_name":"Aldo Fernando Saia"},"score":0,"creation_date":1554470400,"post_id":55536044,"comment_id":97776067,"body_markdown":"@GyroGearless Thank, but I am working with Java 8.","body":"@GyroGearless Thank, but I am working with Java 8."},{"owner":{"account_id":7121137,"reputation":69,"user_id":5445733,"display_name":"Aldo Fernando Saia"},"score":0,"creation_date":1554470404,"post_id":55536044,"comment_id":97776070,"body_markdown":"@ErwinBolwidt It is a real requirement, It&#39;s not for the University.","body":"@ErwinBolwidt It is a real requirement, It&#39;s not for the University."},{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1554470769,"post_id":55536044,"comment_id":97776318,"body_markdown":"Why does an empty list effect this? The list always starts out as empty in your method","body":"Why does an empty list effect this? The list always starts out as empty in your method"},{"owner":{"account_id":7121137,"reputation":69,"user_id":5445733,"display_name":"Aldo Fernando Saia"},"score":0,"creation_date":1554470922,"post_id":55536044,"comment_id":97776432,"body_markdown":"Yes, but How I populate an empty list with Stream?","body":"Yes, but How I populate an empty list with Stream?"},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1554471107,"post_id":55536044,"comment_id":97776565,"body_markdown":"You would use `Collectors.toList()` instead of populating an empty list. But I wouldn&#39;t do it with Java 8 Streams - not without Java 9&#39;s `takeWhile()` addition.","body":"You would use <code>Collectors.toList()</code> instead of populating an empty list. But I wouldn&#39;t do it with Java 8 Streams - not without Java 9&#39;s <code>takeWhile()</code> addition."},{"owner":{"account_id":7121137,"reputation":69,"user_id":5445733,"display_name":"Aldo Fernando Saia"},"score":0,"creation_date":1554472381,"post_id":55536044,"comment_id":97777409,"body_markdown":"Sure, I think same, but I am working with Java 8 and I don&#39;t know how to solve it.","body":"Sure, I think same, but I am working with Java 8 and I don&#39;t know how to solve it."},{"owner":{"account_id":319988,"reputation":10970,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":0,"creation_date":1554472742,"post_id":55536044,"comment_id":97777649,"body_markdown":"But why do you say the using Stream is a _requirement_ if this is not a learning assignment and you have an alternative way to do it?","body":"But why do you say the using Stream is a <i>requirement</i> if this is not a learning assignment and you have an alternative way to do it?"},{"owner":{"account_id":7121137,"reputation":69,"user_id":5445733,"display_name":"Aldo Fernando Saia"},"score":1,"creation_date":1554472967,"post_id":55536044,"comment_id":97777787,"body_markdown":"Cause the client require it","body":"Cause the client require it"},{"owner":{"account_id":2040769,"reputation":926,"user_id":1822028,"accept_rate":89,"display_name":"nucandrei"},"score":0,"creation_date":1554481782,"post_id":55536044,"comment_id":97782864,"body_markdown":"@AldoFernandoSaia as mentioned before, in the comments, the stream solution is not the best approach for this problem. Even if it is currently working as expected, it&#39;s cumberstone to expand / debug it.  Streams / lamba expressions are best used in functional programming. That style tries to avoid having a state, and that&#39;s exactly what you have. Stick to the more simple solution.","body":"@AldoFernandoSaia as mentioned before, in the comments, the stream solution is not the best approach for this problem. Even if it is currently working as expected, it&#39;s cumberstone to expand / debug it.  Streams / lamba expressions are best used in functional programming. That style tries to avoid having a state, and that&#39;s exactly what you have. Stick to the more simple solution."}],"answers":[{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1554478054,"creation_date":1554473749,"answer_id":55537390,"question_id":55536044,"body_markdown":"You can use a `LongStream` to start and `mapToObj()` to create your `DateBucket`s:\r\n\r\n    public static List&lt;DateBucket&gt; bucketize(ZonedDateTime fromDate, ZonedDateTime toDate, int bucketSize, ChronoUnit bucketSizeUnit) {\r\n        return LongStream.rangeClosed(0, bucketSizeUnit.between(fromDate, toDate))\r\n                .mapToObj(i -&gt; {\r\n                    ZonedDateTime minDate = fromDate.plus(i * bucketSize, bucketSizeUnit);\r\n                    ZonedDateTime maxDate = fromDate.plus((i + 1) * bucketSize, bucketSizeUnit);\r\n                    return new DateBucket(minDate.toInstant(), maxDate.toInstant());\r\n                })\r\n                .filter(b -&gt; {\r\n                    ZonedDateTime maxDate = b.getMaxDate().atZone(toDate.getZone());\r\n                    ZonedDateTime limitDate = toDate.plus(bucketSize, bucketSizeUnit);\r\n                    return maxDate.isBefore(limitDate) || maxDate.isEqual(limitDate);\r\n                })\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\nThis creates an IntStream from `0` to the max possible index between the given dates, maps each index to a `DateBucket` and filters the result for the required range.\r\n\r\nIf you can use __Java 9__ I would recommend using `IntStream.iterate()` instead of `Intstream.rangeClosed()` and `takeWhile()` instead of `filter()`:\r\n\r\n    public static List&lt;DateBucket&gt; bucketize(ZonedDateTime fromDate, ZonedDateTime toDate, int bucketSize, ChronoUnit bucketSizeUnit) {\r\n        return LongStream.iterate(0, i -&gt; i + 1)\r\n                .mapToObj(i -&gt; {\r\n                    ZonedDateTime minDate = fromDate.plus(i * bucketSize, bucketSizeUnit);\r\n                    ZonedDateTime maxDate = fromDate.plus((i + 1) * bucketSize, bucketSizeUnit);\r\n                    return new DateBucket(minDate.toInstant(), maxDate.toInstant());\r\n                })\r\n                .takeWhile(b -&gt; {\r\n                    ZonedDateTime maxDate = b.getMaxDate().atZone(toDate.getZone());\r\n                    ZonedDateTime limitDate = toDate.plus(bucketSize, bucketSizeUnit);\r\n                    return maxDate.isBefore(limitDate) || maxDate.isEqual(limitDate);\r\n                })\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\nBut none of this methods will have a better performance than the solution you already have.","title":"How to use Java Stream with empty list","body":"<p>You can use a <code>LongStream</code> to start and <code>mapToObj()</code> to create your <code>DateBucket</code>s:</p>\n\n<pre><code>public static List&lt;DateBucket&gt; bucketize(ZonedDateTime fromDate, ZonedDateTime toDate, int bucketSize, ChronoUnit bucketSizeUnit) {\n    return LongStream.rangeClosed(0, bucketSizeUnit.between(fromDate, toDate))\n            .mapToObj(i -&gt; {\n                ZonedDateTime minDate = fromDate.plus(i * bucketSize, bucketSizeUnit);\n                ZonedDateTime maxDate = fromDate.plus((i + 1) * bucketSize, bucketSizeUnit);\n                return new DateBucket(minDate.toInstant(), maxDate.toInstant());\n            })\n            .filter(b -&gt; {\n                ZonedDateTime maxDate = b.getMaxDate().atZone(toDate.getZone());\n                ZonedDateTime limitDate = toDate.plus(bucketSize, bucketSizeUnit);\n                return maxDate.isBefore(limitDate) || maxDate.isEqual(limitDate);\n            })\n            .collect(Collectors.toList());\n}\n</code></pre>\n\n<p>This creates an IntStream from <code>0</code> to the max possible index between the given dates, maps each index to a <code>DateBucket</code> and filters the result for the required range.</p>\n\n<p>If you can use <strong>Java 9</strong> I would recommend using <code>IntStream.iterate()</code> instead of <code>Intstream.rangeClosed()</code> and <code>takeWhile()</code> instead of <code>filter()</code>:</p>\n\n<pre><code>public static List&lt;DateBucket&gt; bucketize(ZonedDateTime fromDate, ZonedDateTime toDate, int bucketSize, ChronoUnit bucketSizeUnit) {\n    return LongStream.iterate(0, i -&gt; i + 1)\n            .mapToObj(i -&gt; {\n                ZonedDateTime minDate = fromDate.plus(i * bucketSize, bucketSizeUnit);\n                ZonedDateTime maxDate = fromDate.plus((i + 1) * bucketSize, bucketSizeUnit);\n                return new DateBucket(minDate.toInstant(), maxDate.toInstant());\n            })\n            .takeWhile(b -&gt; {\n                ZonedDateTime maxDate = b.getMaxDate().atZone(toDate.getZone());\n                ZonedDateTime limitDate = toDate.plus(bucketSize, bucketSizeUnit);\n                return maxDate.isBefore(limitDate) || maxDate.isEqual(limitDate);\n            })\n            .collect(Collectors.toList());\n}\n</code></pre>\n\n<p>But none of this methods will have a better performance than the solution you already have.</p>\n"},{"tags":[],"owner":{"account_id":1664709,"reputation":4045,"user_id":2397613,"accept_rate":86,"display_name":"ton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634571051,"creation_date":1634571051,"answer_id":69618735,"question_id":55536044,"body_markdown":"You need to use `Stream.iterate` to generate a list, you need to provide two args, the first is a initial argument, and the second is a function to process the previous argument and return the next one:\r\n\r\n```java\r\n        public static List&lt;DateBucket&gt; bucketize(ZonedDateTime fromDate, ZonedDateTime toDate, int bucketSize, ChronoUnit bucketSizeUnit) {\r\n                List buckets = Stream.iterate(\r\n                                new DateBucket(\r\n                                        fromDate.toInstant(),\r\n                                        fromDate.plus(bucketSize, bucketSizeUnit).toInstant()\r\n                                ),\r\n                                (DateBucket db) -&gt; new DateBucket(db.to, db.to.plus( bucketSize, bucketSizeUnit))\r\n                        )\r\n                        .limit(bucketSizeUnit.between(fromDate, toDate) / bucketSize)\r\n                        .collect(Collectors.toList());\r\n                return buckets;\r\n        }\r\n```","title":"How to use Java Stream with empty list","body":"<p>You need to use <code>Stream.iterate</code> to generate a list, you need to provide two args, the first is a initial argument, and the second is a function to process the previous argument and return the next one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        public static List&lt;DateBucket&gt; bucketize(ZonedDateTime fromDate, ZonedDateTime toDate, int bucketSize, ChronoUnit bucketSizeUnit) {\n                List buckets = Stream.iterate(\n                                new DateBucket(\n                                        fromDate.toInstant(),\n                                        fromDate.plus(bucketSize, bucketSizeUnit).toInstant()\n                                ),\n                                (DateBucket db) -&gt; new DateBucket(db.to, db.to.plus( bucketSize, bucketSizeUnit))\n                        )\n                        .limit(bucketSizeUnit.between(fromDate, toDate) / bucketSize)\n                        .collect(Collectors.toList());\n                return buckets;\n        }\n</code></pre>\n"}],"owner":{"account_id":7121137,"reputation":69,"user_id":5445733,"display_name":"Aldo Fernando Saia"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":55537390,"answer_count":2,"score":1,"last_activity_date":1634571051,"creation_date":1554469379,"question_id":55536044,"body_markdown":"I need to use Java Stream in this code, but I don&#39;t know how it to work with an empty list.\r\n\r\nI&#39;m trying to find something like a `while` in Stream Java 8, but I can&#39;t find it.\r\n\r\n```\r\npublic static List&lt;DateBucket&gt; bucketize(ZonedDateTime fromDate, ZonedDateTime toDate, int bucketSize, ChronoUnit bucketSizeUnit) {\r\n\t\t\r\n\tList&lt;DateBucket&gt; buckets = new ArrayList&lt;&gt;();;\r\n\tboolean reachedDate = false;\r\n\t\t\t\t\r\n\tfor (int i = 0; !reachedDate; i++) {\r\n\t\tZonedDateTime minDate = fromDate.plus(i * bucketSize, bucketSizeUnit);\r\n\t\tZonedDateTime maxDate = fromDate.plus((i + 1) * bucketSize, bucketSizeUnit);\r\n\t\treachedDate = toDate.isBefore(maxDate);\r\n\t\tbuckets.add(new DateBucket(minDate.toInstant(), maxDate.toInstant()));\r\n\t}\r\n\r\n\treturn buckets;\r\n}\r\n```\r\n\r\n\r\nI expect to avoid the `for` and use Stream in the major portion of code.","title":"How to use Java Stream with empty list","body":"<p>I need to use Java Stream in this code, but I don't know how it to work with an empty list.</p>\n\n<p>I'm trying to find something like a <code>while</code> in Stream Java 8, but I can't find it.</p>\n\n<pre><code>public static List&lt;DateBucket&gt; bucketize(ZonedDateTime fromDate, ZonedDateTime toDate, int bucketSize, ChronoUnit bucketSizeUnit) {\n\n    List&lt;DateBucket&gt; buckets = new ArrayList&lt;&gt;();;\n    boolean reachedDate = false;\n\n    for (int i = 0; !reachedDate; i++) {\n        ZonedDateTime minDate = fromDate.plus(i * bucketSize, bucketSizeUnit);\n        ZonedDateTime maxDate = fromDate.plus((i + 1) * bucketSize, bucketSizeUnit);\n        reachedDate = toDate.isBefore(maxDate);\n        buckets.add(new DateBucket(minDate.toInstant(), maxDate.toInstant()));\n    }\n\n    return buckets;\n}\n</code></pre>\n\n<p>I expect to avoid the <code>for</code> and use Stream in the major portion of code.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":11213379,"reputation":210,"user_id":8226811,"display_name":"Julien"},"score":0,"creation_date":1633436632,"post_id":69447784,"comment_id":122754520,"body_markdown":"I just find some posts which talk about that. One with [no solution](https://stackoverflow.com/questions/61337372/jpa-many-to-many-as-elementcollection) which says that the creation of entity B (in my example) is needed. [Another post](https://stackoverflow.com/questions/49384488/using-hibernate-formula-to-fetch-a-collection) with validated answer but I failed to get the right result.","body":"I just find some posts which talk about that. One with <a href=\"https://stackoverflow.com/questions/61337372/jpa-many-to-many-as-elementcollection\">no solution</a> which says that the creation of entity B (in my example) is needed. <a href=\"https://stackoverflow.com/questions/49384488/using-hibernate-formula-to-fetch-a-collection\">Another post</a> with validated answer but I failed to get the right result."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634570889,"creation_date":1634570889,"answer_id":69618702,"question_id":69447784,"body_markdown":"I assume that what you want to achieve here is reducing the amount of data that is fetched for a use case. You can leave your many-to-many mapping as it is, since you will need DTOs for this and I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(Product.class)\r\n    public interface ProductDto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n        @Mapping(&quot;characteristics.label&quot;)\r\n        Set&lt;String&gt; getCharacteristicLabels();\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`ProductDto a = entityViewManager.find(entityManager, ProductDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;ProductDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Hibernate @Formula which return collection","body":"<p>I assume that what you want to achieve here is reducing the amount of data that is fetched for a use case. You can leave your many-to-many mapping as it is, since you will need DTOs for this and I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(Product.class)\npublic interface ProductDto {\n    @IdMapping\n    Long getId();\n    String getName();\n    @Mapping(&quot;characteristics.label&quot;)\n    Set&lt;String&gt; getCharacteristicLabels();\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>ProductDto a = entityViewManager.find(entityManager, ProductDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;ProductDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":11213379,"reputation":210,"user_id":8226811,"display_name":"Julien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634570889,"creation_date":1633425186,"question_id":69447784,"body_markdown":"I&#39;m using a legacy database. In my example, we retrieve a product which have some characteristics. In the db, we can find a product table, a characteristic table and a jointable for the manyToMany association.\r\n\r\nThe only field i need is the label of the characteristics. So, my Product entity will contains a list of characteristics as `String`. I would like to not create to many entities in order to not overload my sourcecode. Let&#39;s see the example :\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\npublic class Product implements Serializable {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate Long id;\r\n\r\n    // all field of Product entity\r\n\r\n    @ElementCollection(targetClass = String.class)\r\n\t@Formula(value = &quot;(SELECT characteristic.label FROM a jointable JOIN b characteristic ON jointable.characteristic_id = characteristic.id WHERE jointable.product_id = id)&quot;)\r\n\tprivate Set&lt;String&gt; characteristics = new HashSet&lt;&gt;();\r\n\r\n    // Getter / setter\r\n}\r\n```\r\n\r\nTo represent my characteristics, i tried to use the association of `@Formula` and `@ElementCollection`. As you can see, the names of tables (`a` and `b` in the query) does not match with my representation of these datas.\r\n\r\nBut, when I try to load a product, I get an error like *&quot;PRODUCT_CHARACTERISTICS table not found&quot;*.\r\n\r\nHere the generated SQL query executed by hibernate : \r\n```\r\nSELECT product0_.id AS id1_14_0_,\r\n       -- Other fields\r\n       characteri10_.product_id AS product_1_15_1__,\r\n       (SELECT characteristic.label \r\n          FROM a jointable JOIN b characteristic ON jointable.characteristic_id = characteristic.id \r\n          WHERE jointable.product_id = id) AS formula6_1__,\r\nFROM product product0_\r\n  -- Other Joins\r\n  LEFT OUTER JOIN product_characteristics characteri10_ ON product0_.cdprd = characteri10_.product_cdprd\r\nWHERE product0_.id = ?;\r\n```\r\n\r\nIn the `FROM` part, we can refind the call of *product_characteristics* table (which not exist in the database). \r\n\r\nSo, my main question is the following : How can I get the list of characterics as entity attribute ? Can I reach this result with `@Formula` ? \r\n\r\n\r\n----------\r\n\r\n\r\nEdit\r\n----\r\n\r\nIn other words, i would like to load only one attribute from Many to Many mapping. I found [an example here][1] but it works only with the id (which can find in the jointable)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16999997/how-to-load-only-ids-from-many-to-many-mapping-tables","title":"Hibernate @Formula which return collection","body":"<p>I'm using a legacy database. In my example, we retrieve a product which have some characteristics. In the db, we can find a product table, a characteristic table and a jointable for the manyToMany association.</p>\n<p>The only field i need is the label of the characteristics. So, my Product entity will contains a list of characteristics as <code>String</code>. I would like to not create to many entities in order to not overload my sourcecode. Let's see the example :</p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;)\npublic class Product implements Serializable {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    // all field of Product entity\n\n    @ElementCollection(targetClass = String.class)\n    @Formula(value = &quot;(SELECT characteristic.label FROM a jointable JOIN b characteristic ON jointable.characteristic_id = characteristic.id WHERE jointable.product_id = id)&quot;)\n    private Set&lt;String&gt; characteristics = new HashSet&lt;&gt;();\n\n    // Getter / setter\n}\n</code></pre>\n<p>To represent my characteristics, i tried to use the association of <code>@Formula</code> and <code>@ElementCollection</code>. As you can see, the names of tables (<code>a</code> and <code>b</code> in the query) does not match with my representation of these datas.</p>\n<p>But, when I try to load a product, I get an error like <em>&quot;PRODUCT_CHARACTERISTICS table not found&quot;</em>.</p>\n<p>Here the generated SQL query executed by hibernate :</p>\n<pre><code>SELECT product0_.id AS id1_14_0_,\n       -- Other fields\n       characteri10_.product_id AS product_1_15_1__,\n       (SELECT characteristic.label \n          FROM a jointable JOIN b characteristic ON jointable.characteristic_id = characteristic.id \n          WHERE jointable.product_id = id) AS formula6_1__,\nFROM product product0_\n  -- Other Joins\n  LEFT OUTER JOIN product_characteristics characteri10_ ON product0_.cdprd = characteri10_.product_cdprd\nWHERE product0_.id = ?;\n</code></pre>\n<p>In the <code>FROM</code> part, we can refind the call of <em>product_characteristics</em> table (which not exist in the database).</p>\n<p>So, my main question is the following : How can I get the list of characterics as entity attribute ? Can I reach this result with <code>@Formula</code> ?</p>\n<hr />\n<h2>Edit</h2>\n<p>In other words, i would like to load only one attribute from Many to Many mapping. I found <a href=\"https://stackoverflow.com/questions/16999997/how-to-load-only-ids-from-many-to-many-mapping-tables\">an example here</a> but it works only with the id (which can find in the jointable)</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1634541170,"post_id":69611621,"comment_id":123042542,"body_markdown":"try this: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","body":"try this: <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">spring.io/blog/2013/11/01/exception-handling-in-spring-mvc</a>"}],"answers":[{"tags":[],"owner":{"account_id":15568347,"reputation":219,"user_id":11231474,"display_name":"Djebarri Amazigh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634570467,"creation_date":1634549609,"answer_id":69613790,"question_id":69611621,"body_markdown":"You can take a look at `@RestControllerAdvice` coupled with `@ExceptionHandler` annotation.\r\nyou can follow these steps to create a redirect system:\r\n\r\n1. create your own exception\r\n\r\n    ```\r\n    public class RedirectException extends RuntimeException{\r\n      private String redirectUrl;\r\n    \r\n      public RedirectException(String message, String rUrl) {\r\n        super(message);\r\n        this.redirectUrl = rUrl;\r\n      }\r\n    } \r\n    ```\r\n\r\n2. create your controller advice\r\n\r\n    ```\r\n    @RestControllerAdvice\r\n    public class ErrorController {\r\n      @ExceptionHandler(RedirectExecption.class)\r\n      public void handleRedirect(RedirectException re, HttpServletResponse res) {\r\n        res.sendRedirect(re.getRedirectUrl);\r\n      }\r\n    }\r\n    ```\r\n\r\n3. when you want to send a redirect response in you running code just throw a redirectException with the redirecturl you want to reach\r\n\r\np.s. you can use the same mechanism for building an error handling system.","title":"How can I redirect URL in case of exception or invalid input with Sping?","body":"<p>You can take a look at <code>@RestControllerAdvice</code> coupled with <code>@ExceptionHandler</code> annotation.\nyou can follow these steps to create a redirect system:</p>\n<ol>\n<li><p>create your own exception</p>\n<pre><code>public class RedirectException extends RuntimeException{\n  private String redirectUrl;\n\n  public RedirectException(String message, String rUrl) {\n    super(message);\n    this.redirectUrl = rUrl;\n  }\n} \n</code></pre>\n</li>\n<li><p>create your controller advice</p>\n<pre><code>@RestControllerAdvice\npublic class ErrorController {\n  @ExceptionHandler(RedirectExecption.class)\n  public void handleRedirect(RedirectException re, HttpServletResponse res) {\n    res.sendRedirect(re.getRedirectUrl);\n  }\n}\n</code></pre>\n</li>\n<li><p>when you want to send a redirect response in you running code just throw a redirectException with the redirecturl you want to reach</p>\n</li>\n</ol>\n<p>p.s. you can use the same mechanism for building an error handling system.</p>\n"},{"tags":[],"owner":{"account_id":23064759,"reputation":36,"user_id":17179353,"display_name":"KPandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634556556,"creation_date":1634556556,"answer_id":69615258,"question_id":69611621,"body_markdown":"create a new class with `@RestControllerAdvice` or `@ControllerAdvice` annotation to handle the exception globally in Spring Boot. \r\n\r\nRefer this [link][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/exception-handling-for-rest-with-spring#controlleradvice","title":"How can I redirect URL in case of exception or invalid input with Sping?","body":"<p>create a new class with <code>@RestControllerAdvice</code> or <code>@ControllerAdvice</code> annotation to handle the exception globally in Spring Boot.</p>\n<p>Refer this <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring#controlleradvice\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":17335160,"reputation":767,"user_id":12557235,"display_name":"Dean Taler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69613790,"answer_count":2,"score":0,"last_activity_date":1634570467,"creation_date":1634538463,"question_id":69611621,"body_markdown":"I have a ```GET``` method inside a controller that get a lot of parameters. I want to redirect the URL in case of exception or invalid input and return (print to the client) the exception with addition message.\r\n\r\nMy function looks like this:\r\n```java\r\n@GetMapping(&quot;/v1.0/hello/{userName}&quot;)\r\npublic ClientResponse getDetails(@PathVariable(value = &quot;userName&quot;) String userName,\r\n                                 @RequestParam(value = &quot;expInp1&quot;, required = false) int expInp1,\r\n                                 @RequestParam(value = &quot;expInp2&quot;, required = false) int expInp2,\r\n                                 @RequestParam(value = &quot;expInp3&quot;, required = false) int expInp3){\r\n    // do something...\r\n\r\n    return clientResponse; \r\n}\r\n``` \r\n\r\n```ClientResponse```  is an object that contain all the relevant details and can&#39;t be changed. \r\n\r\nFor example, if someone inserts the following URL ```/v1.0/hello/{userName}?expInp4=XXX```, I want to redirect them to ```/v1.0/hello/``` with a suitable message.\r\n\r\nIs there a Spring annotation doing that without a lot of code? And if not, what is the best way in my case? \r\n  \r\n  ","title":"How can I redirect URL in case of exception or invalid input with Sping?","body":"<p>I have a <code>GET</code> method inside a controller that get a lot of parameters. I want to redirect the URL in case of exception or invalid input and return (print to the client) the exception with addition message.</p>\n<p>My function looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/v1.0/hello/{userName}&quot;)\npublic ClientResponse getDetails(@PathVariable(value = &quot;userName&quot;) String userName,\n                                 @RequestParam(value = &quot;expInp1&quot;, required = false) int expInp1,\n                                 @RequestParam(value = &quot;expInp2&quot;, required = false) int expInp2,\n                                 @RequestParam(value = &quot;expInp3&quot;, required = false) int expInp3){\n    // do something...\n\n    return clientResponse; \n}\n</code></pre>\n<p><code>ClientResponse</code>  is an object that contain all the relevant details and can't be changed.</p>\n<p>For example, if someone inserts the following URL <code>/v1.0/hello/{userName}?expInp4=XXX</code>, I want to redirect them to <code>/v1.0/hello/</code> with a suitable message.</p>\n<p>Is there a Spring annotation doing that without a lot of code? And if not, what is the best way in my case?</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":14963595,"reputation":728,"user_id":10802597,"display_name":"MrFisherman"},"score":0,"creation_date":1633459749,"post_id":69455582,"comment_id":122764246,"body_markdown":"Shouldn&#39;t you have something like  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;some_gen&quot;) above your @Id field?","body":"Shouldn&#39;t you have something like  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;some_gen&quot;) above your @Id field?"},{"owner":{"account_id":1318956,"reputation":6802,"user_id":1265205,"accept_rate":68,"display_name":"Andr&#233; Luiz"},"score":0,"creation_date":1633459941,"post_id":69455582,"comment_id":122764320,"body_markdown":"@MrFisherman I tried and it&#39;s not that. Also, I set the IndexId for that.","body":"@MrFisherman I tried and it&#39;s not that. Also, I set the IndexId for that."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634570461,"creation_date":1634570461,"answer_id":69618588,"question_id":69455582,"body_markdown":"I believe every entity needs a separate java class for the id class. You wouldn&#39;t have the problem with embedded ids I think.","title":"@MappedSuperclass : Persistent entity should have primary key","body":"<p>I believe every entity needs a separate java class for the id class. You wouldn't have the problem with embedded ids I think.</p>\n"}],"owner":{"account_id":1318956,"reputation":6802,"user_id":1265205,"accept_rate":68,"display_name":"Andr&#233; Luiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":616,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634570461,"creation_date":1633458754,"question_id":69455582,"body_markdown":"I&#39;m working with Spring Data JPA and I&#39;m trying to create 4 different entities that will have exactly the same fields but they will be stored in 4 different tables.\r\n\r\nThis is my key class\r\n\r\n    public class IndexId implements Serializable {\r\n    \r\n        private int seqNo;\r\n        private String index;\r\n    \r\n        // getters and setters\r\n    }\r\n\r\nThen I have the base class:\r\n\r\n    @MappedSuperclass\r\n    public class BaseIndex {\r\n    \r\n        @Id\r\n        @Column(name = &quot;seq_no&quot;, nullable = false)\r\n        protected int seqNo;\r\n    \r\n        @Id\r\n        @Column(name = &quot;index&quot;, nullable = false)\r\n        protected String index;\r\n    \r\n        @Column(name = &quot;value&quot;, nullable = false)\r\n        protected String value;\r\n    \r\n        //getters/setters\r\n    }\r\n\r\nThen my entity that will store in the database:\r\n\r\n    @Entity\r\n    @IdClass(IndexId.class)\r\n    @Table(name = &quot;bibliographic_single_index&quot;)\r\n    public class BibliographicSingleIndex extends BaseIndex implements Serializable { }\r\n\r\nThis is the error I get: `Persistent entity &#39;BibliographicSingleIndex&#39; should have primary key` .\r\nI also tried with the properties declared as `private` and the [articles][1] I see on this subject seem to do the same thing.\r\n\r\nWith these pieces of code is it possible to identify what I&#39;m doing wrong?\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/MappedSuperclass.html","title":"@MappedSuperclass : Persistent entity should have primary key","body":"<p>I'm working with Spring Data JPA and I'm trying to create 4 different entities that will have exactly the same fields but they will be stored in 4 different tables.</p>\n<p>This is my key class</p>\n<pre><code>public class IndexId implements Serializable {\n\n    private int seqNo;\n    private String index;\n\n    // getters and setters\n}\n</code></pre>\n<p>Then I have the base class:</p>\n<pre><code>@MappedSuperclass\npublic class BaseIndex {\n\n    @Id\n    @Column(name = &quot;seq_no&quot;, nullable = false)\n    protected int seqNo;\n\n    @Id\n    @Column(name = &quot;index&quot;, nullable = false)\n    protected String index;\n\n    @Column(name = &quot;value&quot;, nullable = false)\n    protected String value;\n\n    //getters/setters\n}\n</code></pre>\n<p>Then my entity that will store in the database:</p>\n<pre><code>@Entity\n@IdClass(IndexId.class)\n@Table(name = &quot;bibliographic_single_index&quot;)\npublic class BibliographicSingleIndex extends BaseIndex implements Serializable { }\n</code></pre>\n<p>This is the error I get: <code>Persistent entity 'BibliographicSingleIndex' should have primary key</code> .\nI also tried with the properties declared as <code>private</code> and the <a href=\"https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/MappedSuperclass.html\" rel=\"nofollow noreferrer\">articles</a> I see on this subject seem to do the same thing.</p>\n<p>With these pieces of code is it possible to identify what I'm doing wrong?</p>\n"},{"tags":["java","eclipse","testing","junit","junit5"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1617795635,"post_id":66984464,"comment_id":118405148,"body_markdown":"When you have installed your Eclipse via the Eclipse Installer, then you broke all your Eclipse installations by deleting files in `.p2/pool/plugins`.","body":"When you have installed your Eclipse via the Eclipse Installer, then you broke all your Eclipse installations by deleting files in <code>.p2&#47;pool&#47;plugins</code>."},{"owner":{"account_id":8573306,"reputation":115,"user_id":6423378,"display_name":"georgebax"},"score":0,"creation_date":1617797502,"post_id":66984464,"comment_id":118406012,"body_markdown":"@howlger Ok, but now I tried reinstalling both 2020-03 and 2021-03 and the same happens. Tests run on 2020 but not on 2021!","body":"@howlger Ok, but now I tried reinstalling both 2020-03 and 2021-03 and the same happens. Tests run on 2020 but not on 2021!"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1617797995,"post_id":66984464,"comment_id":118406219,"body_markdown":"Show your `.classpath` and your `pom.xml`/`build.gradle` files.","body":"Show your <code>.classpath</code> and your <code>pom.xml</code>/<code>build.gradle</code> files."},{"owner":{"account_id":8573306,"reputation":115,"user_id":6423378,"display_name":"georgebax"},"score":0,"creation_date":1617799632,"post_id":66984464,"comment_id":118407006,"body_markdown":"@howlger I added them to my post now !","body":"@howlger I added them to my post now !"}],"answers":[{"tags":[],"owner":{"account_id":8573306,"reputation":115,"user_id":6423378,"display_name":"georgebax"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1617803409,"creation_date":1617803409,"answer_id":66987540,"question_id":66984464,"body_markdown":"The problem is solved if I update the JUnit version both for Maven and Gradle to 5.7.1. \r\n\r\nThis still does not answer the question why it was working on older Eclipse installations, of course.","title":"Can&#39;t run JUnit 5 tests on Eclipse 2021-03","body":"<p>The problem is solved if I update the JUnit version both for Maven and Gradle to 5.7.1.</p>\n<p>This still does not answer the question why it was working on older Eclipse installations, of course.</p>\n"},{"tags":[],"owner":{"account_id":10391508,"reputation":554,"user_id":7662651,"display_name":"Markus Hettich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634570377,"creation_date":1634570377,"answer_id":69618564,"question_id":66984464,"body_markdown":"\r\n\r\nIn my case i had to remove dependencies from my projects pom.xml that are already comming from a commons library, too. The dependency hierarchy tab in the pom.xml viewer can help very much to detect such problems.\r\n\r\n**Before:**\r\n[![enter image description here][1]][1]\r\n\r\n**After:**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ain7R.png\r\n  [2]: https://i.stack.imgur.com/sRs3E.png","title":"Can&#39;t run JUnit 5 tests on Eclipse 2021-03","body":"<p>In my case i had to remove dependencies from my projects pom.xml that are already comming from a commons library, too. The dependency hierarchy tab in the pom.xml viewer can help very much to detect such problems.</p>\n<p><strong>Before:</strong>\n<a href=\"https://i.stack.imgur.com/Ain7R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ain7R.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>After:</strong>\n<a href=\"https://i.stack.imgur.com/sRs3E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sRs3E.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8573306,"reputation":115,"user_id":6423378,"display_name":"georgebax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3764,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66987540,"answer_count":2,"score":2,"last_activity_date":1634570377,"creation_date":1617792247,"question_id":66984464,"body_markdown":"I am working on a project that includes both Gradle and Maven subprojects. Until yesterday I was using Eclipse 2020-03, but I updated to 2021-03 and now I can&#39;t run any tests. I haven&#39;t changed anything to the project&#39;s configuration, junit 5.6.0 is included both in pom.xml and build.gradle.\r\n\r\nNow whenever I try to run a test, I get this error: \r\n\r\n    java.lang.NoClassDefFoundError: org/junit/platform/commons/util/ClassNamePatternFilterUtils\r\n\tat org.junit.platform.launcher.core.LauncherFactory.loadAndFilterTestExecutionListeners(LauncherFactory.java:122)\r\n\tat org.junit.platform.launcher.core.LauncherFactory.create(LauncherFactory.java:108)\r\n\tat org.junit.platform.launcher.core.LauncherFactory.create(LauncherFactory.java:75)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.&lt;init&gt;(JUnit5TestLoader.java:34)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:584)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createRawTestLoader(RemoteTestRunner.java:371)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createLoader(RemoteTestRunner.java:366)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.defaultInit(RemoteTestRunner.java:310)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.init(RemoteTestRunner.java:225)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\r\n    Caused by: java.lang.ClassNotFoundException: org.junit.platform.commons.util.ClassNamePatternFilterUtils\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 14 more\r\n\r\nWhen I add Junit 5 manually to the project&#39;s build path, as suggested by a lot of similar questions here, I get this in the Add Library Window: \r\n\r\n    Current Location: org.junit.jupiter.api_5.7.1.v20210222-1948.jar - /Users/user/.p2/pool/plugins \r\n\r\nBut even then, when I add it, I get that junit launcher was not found, followed by: \r\n\r\n    java.lang.SecurityException: class &quot;org.junit.platform.commons.util.ClassNamePatternFilterUtils&quot;&#39;s signer information does not match signer information of other classes in the same package\r\n\r\nNote that in 2020-03, the project&#39;s build path did not include explicitly Junit 5 (hadn&#39;t added it manually). The same tests also work there as intended, both in Maven and Gradle projects.\r\n\r\nI have also tried deleting anything related to the previous eclipse installations (~/Library related contents)\r\n\r\nMy .classpath is the following: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin/main&quot; path=&quot;src/main/java&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_scope&quot; value=&quot;main&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;main,test&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin/main&quot; path=&quot;src/main/resources&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_scope&quot; value=&quot;main&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;main,test&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin/test&quot; path=&quot;src/test/java&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_scope&quot; value=&quot;test&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;test&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin/test&quot; path=&quot;src/test/resources&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_scope&quot; value=&quot;test&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;test&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-11/&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.buildship.core.gradleclasspathcontainer&quot;/&gt;\r\n    \t&lt;classpathentry combineaccessrules=&quot;false&quot; kind=&quot;src&quot; path=&quot;/com.myproject.businesslayer&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin/default&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\nThe relevant part of my root pom.xml : \r\n\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n            &lt;tycho-version&gt;1.7.0&lt;/tycho-version&gt;\r\n            &lt;mockito-version&gt;3.3.0&lt;/mockito-version&gt;\r\n            &lt;hamcrest-version&gt;2.1&lt;/hamcrest-version&gt;\r\n            &lt;archunit-version&gt;0.11.0&lt;/archunit-version&gt;\r\n            &lt;junit-version&gt;5.6.0&lt;/junit-version&gt;\r\n            &lt;xmlunit-version&gt;2.6.3&lt;/xmlunit-version&gt;\r\n    \r\n            &lt;!-- plugin versions --&gt;\r\n            &lt;compiler-plugin-version&gt;3.8.0&lt;/compiler-plugin-version&gt;\r\n            &lt;groovy-eclipse-compiler-version&gt;3.4.0-01&lt;/groovy-eclipse-compiler-version&gt;\r\n            &lt;jar-plugin-version&gt;3.1.2&lt;/jar-plugin-version&gt;\r\n            &lt;surefire-plugin-version&gt;2.22.2&lt;/surefire-plugin-version&gt;\r\n            &lt;versions-plugin-version&gt;2.7&lt;/versions-plugin-version&gt;\r\n            &lt;jacoco-plugin-version&gt;0.8.4&lt;/jacoco-plugin-version&gt;\r\n            &lt;sonar-plugin-version&gt;3.8&lt;/sonar-plugin-version&gt;\r\n            &lt;groovy-eclipse-batch-version&gt;2.5.8-01&lt;/groovy-eclipse-batch-version&gt;\r\n    \r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \r\n        &lt;/properties&gt;\r\n        &lt;modules&gt;\r\n        \t...\r\n        &lt;/modules&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;defaultGoal&gt;verify&lt;/defaultGoal&gt;\r\n            &lt;!-- only relevant for modules containing plain java tests --&gt;\r\n            &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n            &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${surefire-plugin-version}&lt;/version&gt;\r\n                        &lt;dependencies&gt;\r\n                            &lt;dependency&gt;\r\n                                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                                &lt;version&gt;${junit-version}&lt;/version&gt;\r\n                            &lt;/dependency&gt;\r\n                        &lt;/dependencies&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;test&lt;/id&gt;\r\n                                &lt;phase&gt;test&lt;/phase&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;includes&gt;\r\n                                        &lt;include&gt;**/*.java&lt;/include&gt;\r\n                                    &lt;/includes&gt;\r\n                                    &lt;excludedGroups&gt;PluginTest&lt;/excludedGroups&gt;\r\n                                &lt;/configuration&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;test&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;!-- only for plain java test execution --&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit-version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit-version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit-version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;archunit-junit5-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${archunit-version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;archunit-junit5-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;${archunit-version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${mockito-version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${hamcrest-version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n                &lt;version&gt;${hamcrest-version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.assertj}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nand of my root build.gradle: \r\n\r\n\r\n    plugins {\r\n    ...\r\n    }\r\n    \r\n    subprojects { sub -&gt;\r\n    \r\n        apply plugin: &#39;java&#39;\r\n    \r\n        sourceCompatibility = 11\r\n        targetCompatibility = 11\r\n        \r\n        tasks.withType(JavaCompile) {\r\n            options.encoding = &#39;UTF-8&#39;\r\n        }\r\n        \r\n        tasks.withType(Test) {\r\n          ...\r\n       }\r\n    \r\n        dependencies {\r\n            testCompile &quot;org.assertj:assertj-core:${assertJVersion}&quot;\r\n            testCompile &quot;org.junit.jupiter:junit-jupiter-api:${jUnitVersion}&quot;\r\n            testRuntime &quot;org.junit.jupiter:junit-jupiter-engine:${jUnitVersion}&quot;\r\n            testCompile &quot;org.junit.jupiter:junit-jupiter-params:${jUnitVersion}&quot;\r\n    \r\n            testCompile &quot;org.mockito:mockito-core:${mockitoVersion}&quot;\r\n            testCompile &quot;org.hamcrest:hamcrest:${hamcrestVersion}&quot;\r\n            testCompile &quot;org.slf4j:slf4j-simple:${slf4jVersion}&quot;\r\n    \r\n            testCompile &quot;com.tngtech.archunit:archunit-junit5-api:${archUnitVersion}&quot;\r\n            testRuntime &quot;com.tngtech.archunit:archunit-junit5-engine:${archUnitVersion}&quot;\r\n        }\r\n    \r\n        test {\r\n            useJUnitPlatform()\r\n            finalizedBy jacocoTestReport\r\n        }\r\n        \r\n        jacocoTestReport {\r\n        \tdependsOn test\r\n        }\r\n    \r\n        repositories {\r\n            mavenLocal()\r\n            jcenter()\r\n            maven {\r\n                url &quot;${nexusUrl}&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    wrapper {\r\n        gradleVersion = &#39;5.6&#39;\r\n    }\r\n\r\nand in gradle.properties: \r\n\r\n    hamcrestVersion=2.1\r\n    jUnitVersion=5.6.0\r\n    archUnitVersion=0.11.0\r\n\r\n\r\n","title":"Can&#39;t run JUnit 5 tests on Eclipse 2021-03","body":"<p>I am working on a project that includes both Gradle and Maven subprojects. Until yesterday I was using Eclipse 2020-03, but I updated to 2021-03 and now I can't run any tests. I haven't changed anything to the project's configuration, junit 5.6.0 is included both in pom.xml and build.gradle.</p>\n<p>Now whenever I try to run a test, I get this error:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/junit/platform/commons/util/ClassNamePatternFilterUtils\nat org.junit.platform.launcher.core.LauncherFactory.loadAndFilterTestExecutionListeners(LauncherFactory.java:122)\nat org.junit.platform.launcher.core.LauncherFactory.create(LauncherFactory.java:108)\nat org.junit.platform.launcher.core.LauncherFactory.create(LauncherFactory.java:75)\nat org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.&lt;init&gt;(JUnit5TestLoader.java:34)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\nat java.base/java.lang.Class.newInstance(Class.java:584)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createRawTestLoader(RemoteTestRunner.java:371)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createLoader(RemoteTestRunner.java:366)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.defaultInit(RemoteTestRunner.java:310)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.init(RemoteTestRunner.java:225)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\nCaused by: java.lang.ClassNotFoundException: org.junit.platform.commons.util.ClassNamePatternFilterUtils\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 14 more\n</code></pre>\n<p>When I add Junit 5 manually to the project's build path, as suggested by a lot of similar questions here, I get this in the Add Library Window:</p>\n<pre><code>Current Location: org.junit.jupiter.api_5.7.1.v20210222-1948.jar - /Users/user/.p2/pool/plugins \n</code></pre>\n<p>But even then, when I add it, I get that junit launcher was not found, followed by:</p>\n<pre><code>java.lang.SecurityException: class &quot;org.junit.platform.commons.util.ClassNamePatternFilterUtils&quot;'s signer information does not match signer information of other classes in the same package\n</code></pre>\n<p>Note that in 2020-03, the project's build path did not include explicitly Junit 5 (hadn't added it manually). The same tests also work there as intended, both in Maven and Gradle projects.</p>\n<p>I have also tried deleting anything related to the previous eclipse installations (~/Library related contents)</p>\n<p>My .classpath is the following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin/main&quot; path=&quot;src/main/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;gradle_scope&quot; value=&quot;main&quot;/&gt;\n            &lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;main,test&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin/main&quot; path=&quot;src/main/resources&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;gradle_scope&quot; value=&quot;main&quot;/&gt;\n            &lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;main,test&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin/test&quot; path=&quot;src/test/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;gradle_scope&quot; value=&quot;test&quot;/&gt;\n            &lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;test&quot;/&gt;\n            &lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin/test&quot; path=&quot;src/test/resources&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;gradle_scope&quot; value=&quot;test&quot;/&gt;\n            &lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;test&quot;/&gt;\n            &lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-11/&quot;/&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.buildship.core.gradleclasspathcontainer&quot;/&gt;\n    &lt;classpathentry combineaccessrules=&quot;false&quot; kind=&quot;src&quot; path=&quot;/com.myproject.businesslayer&quot;/&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;bin/default&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n<p>The relevant part of my root pom.xml :</p>\n<pre><code>    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;tycho-version&gt;1.7.0&lt;/tycho-version&gt;\n        &lt;mockito-version&gt;3.3.0&lt;/mockito-version&gt;\n        &lt;hamcrest-version&gt;2.1&lt;/hamcrest-version&gt;\n        &lt;archunit-version&gt;0.11.0&lt;/archunit-version&gt;\n        &lt;junit-version&gt;5.6.0&lt;/junit-version&gt;\n        &lt;xmlunit-version&gt;2.6.3&lt;/xmlunit-version&gt;\n\n        &lt;!-- plugin versions --&gt;\n        &lt;compiler-plugin-version&gt;3.8.0&lt;/compiler-plugin-version&gt;\n        &lt;groovy-eclipse-compiler-version&gt;3.4.0-01&lt;/groovy-eclipse-compiler-version&gt;\n        &lt;jar-plugin-version&gt;3.1.2&lt;/jar-plugin-version&gt;\n        &lt;surefire-plugin-version&gt;2.22.2&lt;/surefire-plugin-version&gt;\n        &lt;versions-plugin-version&gt;2.7&lt;/versions-plugin-version&gt;\n        &lt;jacoco-plugin-version&gt;0.8.4&lt;/jacoco-plugin-version&gt;\n        &lt;sonar-plugin-version&gt;3.8&lt;/sonar-plugin-version&gt;\n        &lt;groovy-eclipse-batch-version&gt;2.5.8-01&lt;/groovy-eclipse-batch-version&gt;\n\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n    &lt;/properties&gt;\n    &lt;modules&gt;\n        ...\n    &lt;/modules&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;verify&lt;/defaultGoal&gt;\n        &lt;!-- only relevant for modules containing plain java tests --&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;test&lt;/testSourceDirectory&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${surefire-plugin-version}&lt;/version&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                            &lt;version&gt;${junit-version}&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;test&lt;/id&gt;\n                            &lt;phase&gt;test&lt;/phase&gt;\n                            &lt;configuration&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;**/*.java&lt;/include&gt;\n                                &lt;/includes&gt;\n                                &lt;excludedGroups&gt;PluginTest&lt;/excludedGroups&gt;\n                            &lt;/configuration&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;test&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n    &lt;!-- only for plain java test execution --&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;${junit-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\n            &lt;artifactId&gt;archunit-junit5-api&lt;/artifactId&gt;\n            &lt;version&gt;${archunit-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\n            &lt;artifactId&gt;archunit-junit5-engine&lt;/artifactId&gt;\n            &lt;version&gt;${archunit-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;${mockito-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n            &lt;version&gt;${hamcrest-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n            &lt;version&gt;${hamcrest-version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;${org.assertj}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>and of my root build.gradle:</p>\n<pre><code>plugins {\n...\n}\n\nsubprojects { sub -&gt;\n\n    apply plugin: 'java'\n\n    sourceCompatibility = 11\n    targetCompatibility = 11\n    \n    tasks.withType(JavaCompile) {\n        options.encoding = 'UTF-8'\n    }\n    \n    tasks.withType(Test) {\n      ...\n   }\n\n    dependencies {\n        testCompile &quot;org.assertj:assertj-core:${assertJVersion}&quot;\n        testCompile &quot;org.junit.jupiter:junit-jupiter-api:${jUnitVersion}&quot;\n        testRuntime &quot;org.junit.jupiter:junit-jupiter-engine:${jUnitVersion}&quot;\n        testCompile &quot;org.junit.jupiter:junit-jupiter-params:${jUnitVersion}&quot;\n\n        testCompile &quot;org.mockito:mockito-core:${mockitoVersion}&quot;\n        testCompile &quot;org.hamcrest:hamcrest:${hamcrestVersion}&quot;\n        testCompile &quot;org.slf4j:slf4j-simple:${slf4jVersion}&quot;\n\n        testCompile &quot;com.tngtech.archunit:archunit-junit5-api:${archUnitVersion}&quot;\n        testRuntime &quot;com.tngtech.archunit:archunit-junit5-engine:${archUnitVersion}&quot;\n    }\n\n    test {\n        useJUnitPlatform()\n        finalizedBy jacocoTestReport\n    }\n    \n    jacocoTestReport {\n        dependsOn test\n    }\n\n    repositories {\n        mavenLocal()\n        jcenter()\n        maven {\n            url &quot;${nexusUrl}&quot;\n        }\n    }\n}\n\nwrapper {\n    gradleVersion = '5.6'\n}\n</code></pre>\n<p>and in gradle.properties:</p>\n<pre><code>hamcrestVersion=2.1\njUnitVersion=5.6.0\narchUnitVersion=0.11.0\n</code></pre>\n"},{"tags":["java","multithreading","sockets","networking","serversocket"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1634568460,"post_id":69618102,"comment_id":123053688,"body_markdown":"`while(!&quot;End&quot;.equals(input))` &lt;- You sure about that? Shouldn&#39;t that rather be an `if` instead of a `while`? Once that loop is entered it will never stop, because you don&#39;t change input inside the loop body. So once the condition is true it will stay true for ever","body":"<code>while(!&quot;End&quot;.equals(input))</code> &lt;- You sure about that? Shouldn&#39;t that rather be an <code>if</code> instead of a <code>while</code>? Once that loop is entered it will never stop, because you don&#39;t change input inside the loop body. So once the condition is true it will stay true for ever"},{"owner":{"account_id":21495686,"reputation":5,"user_id":15840745,"display_name":"amnaa"},"score":0,"creation_date":1634570969,"post_id":69618102,"comment_id":123054771,"body_markdown":"@OHGODSPIDERS can you guide me on what changes should I make in the code, like you are saying instead of while loop, I should use if, but where, and what condition inside it","body":"@OHGODSPIDERS can you guide me on what changes should I make in the code, like you are saying instead of while loop, I should use if, but where, and what condition inside it"},{"owner":{"account_id":21495686,"reputation":5,"user_id":15840745,"display_name":"amnaa"},"score":0,"creation_date":1634571965,"post_id":69618102,"comment_id":123055212,"body_markdown":"@OHGODSPIDERS if I am using &quot;if&quot; instead of while, it is not giving the correct output result for the last else if condition on the server side.","body":"@OHGODSPIDERS if I am using &quot;if&quot; instead of while, it is not giving the correct output result for the last else if condition on the server side."}],"answers":[{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634570282,"creation_date":1634570282,"answer_id":69618534,"question_id":69618102,"body_markdown":"\r\nYou&#39;re probably stuck in the nested while loop. The input never changes inside the nested while loop, so you&#39;ll never escape.\r\n\r\n        while (true) {\r\n            System.out.print(&quot;Input: &quot;);\r\n            String input = s.nextLine();\r\n            System.out.println(&quot;Sent: &quot; + input);\r\n            out.println(input);\r\n    \r\n            while(!&quot;End&quot;.equals(input)){  // &lt;-- Why the while loop?\r\n                    System.out.println(&quot;Echoed from server: &quot; + in.nextLine());\r\n            }    \r\n        }\r\n\r\nOne option to fix it is to replace the `while(true)` loop with this:\r\n\r\n        \r\n        System.out.print(&quot;Input: &quot;);\r\n        String input = s.nextLine();\r\n        while (!&quot;End&quot;.equals(input)) {\r\n            System.out.println(&quot;Sent: &quot; + input);\r\n            out.println(input);\r\n            System.out.println(&quot;Echoed from server: &quot; + in.nextLine());\r\n\r\n\r\n            System.out.print(&quot;Input: &quot;);\r\n            String input = s.nextLine();\r\n        }","title":"Why can&#39;t the client obtain input again and again; it just goes blank after one input and one response from the server?","body":"<p>You're probably stuck in the nested while loop. The input never changes inside the nested while loop, so you'll never escape.</p>\n<pre><code>    while (true) {\n        System.out.print(&quot;Input: &quot;);\n        String input = s.nextLine();\n        System.out.println(&quot;Sent: &quot; + input);\n        out.println(input);\n\n        while(!&quot;End&quot;.equals(input)){  // &lt;-- Why the while loop?\n                System.out.println(&quot;Echoed from server: &quot; + in.nextLine());\n        }    \n    }\n</code></pre>\n<p>One option to fix it is to replace the <code>while(true)</code> loop with this:</p>\n<pre><code>    System.out.print(&quot;Input: &quot;);\n    String input = s.nextLine();\n    while (!&quot;End&quot;.equals(input)) {\n        System.out.println(&quot;Sent: &quot; + input);\n        out.println(input);\n        System.out.println(&quot;Echoed from server: &quot; + in.nextLine());\n\n\n        System.out.print(&quot;Input: &quot;);\n        String input = s.nextLine();\n    }\n</code></pre>\n"}],"owner":{"account_id":21495686,"reputation":5,"user_id":15840745,"display_name":"amnaa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634570282,"creation_date":1634568383,"question_id":69618102,"body_markdown":"**Client Side**\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.net.Socket;\r\n    import java.util.Scanner;\r\n    \r\n    public class ThreadClient {\r\n        public static void main(String[] args) throws IOException {\r\n            final String HOST = &quot;127.0.0.1&quot;;\r\n            final int PORT = 4040;\r\n            \r\n            System.out.println(&quot;Client started.&quot;);\r\n            \r\n            Socket socket = new Socket(&quot;127.0.0.1&quot;, 4040);\r\n    \tPrintWriter out = new PrintWriter(socket.getOutputStream(), true);\r\n            Scanner in = new Scanner(socket.getInputStream());\r\n            Scanner s = new Scanner(System.in);\r\n            while (true) {\r\n                System.out.print(&quot;Input: &quot;);\r\n                String input = s.nextLine();\r\n    \t    System.out.println(&quot;Sent: &quot; + input);\r\n                out.println(input);\r\n    \t    while(!&quot;End&quot;.equals(input)){\r\n                \t\tSystem.out.println(&quot;Echoed from server: &quot; + in.nextLine());\r\n    }\r\n    \t\r\n            }\r\n        }\r\n     \r\n    }\r\n**Server Side**\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.util.Scanner;\r\n    \r\n    public class ThreadServer {\r\n      public static void main(String[] args) throws IOException {\r\n            final int PORT = 4040;\r\n            ServerSocket serverSocket = new ServerSocket(PORT);\r\n            \r\n            System.out.println(&quot;Server started...&quot;);\r\n            System.out.println(&quot;Wating for clients...&quot;);\r\n            \r\n            while (true) {\r\n                Socket clientSocket = serverSocket.accept();\r\n                Thread t = new Thread() {\r\n                    public void run() {\r\n                        try {\r\n                            PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n                            Scanner in = new Scanner(clientSocket.getInputStream());\r\n                            while (in.hasNextLine()) {\r\n                                String input = in.nextLine();\r\n                                if (input.equalsIgnoreCase(&quot;exit&quot;)) {\r\n                                    break;\r\n                                } else if(input.equals(&quot;Hi&quot;)){\r\n    \t\t\t\tout.println(&quot;How are you?&quot;);\r\n    \t\t\t    } else if(input.equals(&quot;Bye&quot;)){\r\n    \t\t\t\tout.println(&quot;Thankyou! Have a good day!&quot;);\r\n    \t\t\t    } else if (input != null) {\r\n                    \t\ttry {\r\n                        \t\t    String numbers;\r\n                        \t\t    numbers = input.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n                        \t\t    int number = Integer.parseInt(numbers);\r\n                        \t\t    out.println(&quot;The line is being printed&quot;);\r\n                        \t\t    for (int i = 0; i &lt; number; i++) {\r\n                            \t\tout.println(input.replaceAll(&quot;[^a-z,^A-Z]&quot;, &quot;&quot;));\r\n                        \t   }\r\n                    }\r\n                    catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }else {\r\n    \t\tout.println(&quot;Sorry!&quot;);\r\n                                }\r\n                            }\r\n                        } catch (IOException e) { }\r\n                    }\r\n                };\r\n                t.start();\r\n    \t    try {\r\n                Thread.sleep(2000L);\r\n            }\r\n            catch (InterruptedException xInterrupted) {\r\n                // Ignore.\r\n            }\r\n            }\r\n        }   \r\n    }\r\n\r\nI&#39;m adding one input on the client-side, and it&#39;s getting a response from the server, but when I attempt to insert another, it goes blank, showing that it&#39;s not accepting any further input from the client. So, can someone point me in the right direction as to where I went wrong with this code?","title":"Why can&#39;t the client obtain input again and again; it just goes blank after one input and one response from the server?","body":"<p><strong>Client Side</strong></p>\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\nimport java.net.Socket;\nimport java.util.Scanner;\n\npublic class ThreadClient {\n    public static void main(String[] args) throws IOException {\n        final String HOST = &quot;127.0.0.1&quot;;\n        final int PORT = 4040;\n        \n        System.out.println(&quot;Client started.&quot;);\n        \n        Socket socket = new Socket(&quot;127.0.0.1&quot;, 4040);\n    PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n        Scanner in = new Scanner(socket.getInputStream());\n        Scanner s = new Scanner(System.in);\n        while (true) {\n            System.out.print(&quot;Input: &quot;);\n            String input = s.nextLine();\n        System.out.println(&quot;Sent: &quot; + input);\n            out.println(input);\n        while(!&quot;End&quot;.equals(input)){\n                    System.out.println(&quot;Echoed from server: &quot; + in.nextLine());\n}\n    \n        }\n    }\n \n}\n</code></pre>\n<p><strong>Server Side</strong></p>\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.Scanner;\n\npublic class ThreadServer {\n  public static void main(String[] args) throws IOException {\n        final int PORT = 4040;\n        ServerSocket serverSocket = new ServerSocket(PORT);\n        \n        System.out.println(&quot;Server started...&quot;);\n        System.out.println(&quot;Wating for clients...&quot;);\n        \n        while (true) {\n            Socket clientSocket = serverSocket.accept();\n            Thread t = new Thread() {\n                public void run() {\n                    try {\n                        PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\n                        Scanner in = new Scanner(clientSocket.getInputStream());\n                        while (in.hasNextLine()) {\n                            String input = in.nextLine();\n                            if (input.equalsIgnoreCase(&quot;exit&quot;)) {\n                                break;\n                            } else if(input.equals(&quot;Hi&quot;)){\n                out.println(&quot;How are you?&quot;);\n                } else if(input.equals(&quot;Bye&quot;)){\n                out.println(&quot;Thankyou! Have a good day!&quot;);\n                } else if (input != null) {\n                        try {\n                                String numbers;\n                                numbers = input.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n                                int number = Integer.parseInt(numbers);\n                                out.println(&quot;The line is being printed&quot;);\n                                for (int i = 0; i &lt; number; i++) {\n                                out.println(input.replaceAll(&quot;[^a-z,^A-Z]&quot;, &quot;&quot;));\n                           }\n                }\n                catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }else {\n        out.println(&quot;Sorry!&quot;);\n                            }\n                        }\n                    } catch (IOException e) { }\n                }\n            };\n            t.start();\n        try {\n            Thread.sleep(2000L);\n        }\n        catch (InterruptedException xInterrupted) {\n            // Ignore.\n        }\n        }\n    }   \n}\n</code></pre>\n<p>I'm adding one input on the client-side, and it's getting a response from the server, but when I attempt to insert another, it goes blank, showing that it's not accepting any further input from the client. So, can someone point me in the right direction as to where I went wrong with this code?</p>\n"},{"tags":["java","android","bufferedimage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634572331,"post_id":69618516,"comment_id":123055374,"body_markdown":"What does that byte array contain?","body":"What does that byte array contain?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634572406,"post_id":69618516,"comment_id":123055410,"body_markdown":"Further you did not tell what your code does. So how would we know? Which operation?","body":"Further you did not tell what your code does. So how would we know? Which operation?"},{"owner":{"account_id":21016068,"reputation":84,"user_id":15443504,"display_name":"Talha &#199;"},"score":0,"creation_date":1634627747,"post_id":69618516,"comment_id":123068598,"body_markdown":"simply get a byte[] araay and convert it into DecodedImage or BufferedImage. the content of the byte array is some kind of image but i don&#39;t know which type.","body":"simply get a byte[] araay and convert it into DecodedImage or BufferedImage. the content of the byte array is some kind of image but i don&#39;t know which type."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634628449,"post_id":69618516,"comment_id":123068871,"body_markdown":"Too vague. Not to the point. We cannot help you.","body":"Too vague. Not to the point. We cannot help you."}],"owner":{"account_id":21016068,"reputation":84,"user_id":15443504,"display_name":"Talha &#199;"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634570229,"creation_date":1634570229,"question_id":69618516,"body_markdown":"I want to use the function below at Android but ImageIO.read function can not be use at Android. \r\n```\r\n    DecodedImage decode(byte[] image) {\r\n        return Exceptions.sneak().get(() -&gt; {\r\n            BufferedImage buffered = ImageIO.read(new ByteArrayInputStream(image));\r\n            if (buffered == null)\r\n                throw new IllegalArgumentException(&quot;Unsupported image format.&quot;);\r\n            int width = buffered.getWidth();\r\n            int height = buffered.getHeight();\r\n            int[] pixels = new int[width * height];\r\n            buffered.getRGB(0, 0, width, height, pixels, 0, width);\r\n            return new DecodedImage(width, height, pixels);\r\n        });\r\n    }\r\n```\r\n\r\nIs there any equivalent function to do this operation in Java for Android?","title":"byte array to BufferedImage or DecodedImage at Android","body":"<p>I want to use the function below at Android but ImageIO.read function can not be use at Android.</p>\n<pre><code>    DecodedImage decode(byte[] image) {\n        return Exceptions.sneak().get(() -&gt; {\n            BufferedImage buffered = ImageIO.read(new ByteArrayInputStream(image));\n            if (buffered == null)\n                throw new IllegalArgumentException(&quot;Unsupported image format.&quot;);\n            int width = buffered.getWidth();\n            int height = buffered.getHeight();\n            int[] pixels = new int[width * height];\n            buffered.getRGB(0, 0, width, height, pixels, 0, width);\n            return new DecodedImage(width, height, pixels);\n        });\n    }\n</code></pre>\n<p>Is there any equivalent function to do this operation in Java for Android?</p>\n"},{"tags":["java","zk","workbench","cmis","zul"],"comments":[{"owner":{"account_id":6072320,"reputation":936,"user_id":4740707,"display_name":"cor3000"},"score":0,"creation_date":1635476208,"post_id":69611987,"comment_id":123314486,"body_markdown":"if the URL doesn&#39;t support additional parameters then there&#39;s nothing you can do from the ZK side.\nSearching for &quot;Cmis Workbench&quot; and &quot;/favouriteQuery&quot; doesn&#39;t really return any documentation of that endpoint, nor is it clear which &quot;Cmis workbench&quot; you&#39;re referring to, do you have a link to the actual Cmis server documentation, explaining what the url is supposed to do?","body":"if the URL doesn&#39;t support additional parameters then there&#39;s nothing you can do from the ZK side. Searching for &quot;Cmis Workbench&quot; and &quot;/favouriteQuery&quot; doesn&#39;t really return any documentation of that endpoint, nor is it clear which &quot;Cmis workbench&quot; you&#39;re referring to, do you have a link to the actual Cmis server documentation, explaining what the url is supposed to do?"},{"owner":{"account_id":17938475,"reputation":29,"user_id":13034326,"display_name":"GetsugaTensho"},"score":1,"creation_date":1635493215,"post_id":69611987,"comment_id":123318116,"body_markdown":"Thanks for your response, actually i asked the wrong question and i could solve it in java by using childrenNames = StreamSupport.stream(favouritesFolder.getChildren().spliterator(), false)\n            .map(node -&gt; node.getName()).limit(NUMBER_OF_FILES_TO_DISPLAY).collect(Collectors.toList());","body":"Thanks for your response, actually i asked the wrong question and i could solve it in java by using childrenNames = StreamSupport.stream(favouritesFolder.getChildren().splitera&zwnj;&#8203;tor(), false)             .map(node -&gt; node.getName()).limit(NUMBER_OF_FILES_TO_DISPLAY).collect(Co&zwnj;&#8203;llectors.toList());"}],"owner":{"account_id":17938475,"reputation":29,"user_id":13034326,"display_name":"GetsugaTensho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634569986,"creation_date":1634540769,"question_id":69611987,"body_markdown":"I&#39;m new in this field and now working with Zk framework. In my website I have a widget in the dashboard which should allows the user to see their favorite content, and a link to go directly to the Favorites folder.\r\n\r\nThe Favorites folder doesn&#39;t have a different URL than the dashboard so I can&#39;t write a URL after href. \r\n\r\n    &lt;div id=&quot;dashboardWidgetContent&quot; class=&quot;favourites-container&quot;&gt;\r\n         &lt;h:div class=&quot;favourites-link&quot;&gt;\r\n            &lt;h:a href=&quot;/favouriteQuery&quot; class=&quot;textlink&quot;&gt;${c:l(&#39;drive.dashboard.favourites.link&#39;)}&lt;/h:a&gt;\r\n         &lt;/h:div&gt;\r\n\r\n\r\nI&#39;m using the Cmis Workbench and it just shows me that the favorite path is: /favouriteQuery\r\n\r\nany suggestion? ","title":"How do I redirect to a Cmis folder?","body":"<p>I'm new in this field and now working with Zk framework. In my website I have a widget in the dashboard which should allows the user to see their favorite content, and a link to go directly to the Favorites folder.</p>\n<p>The Favorites folder doesn't have a different URL than the dashboard so I can't write a URL after href.</p>\n<pre><code>&lt;div id=&quot;dashboardWidgetContent&quot; class=&quot;favourites-container&quot;&gt;\n     &lt;h:div class=&quot;favourites-link&quot;&gt;\n        &lt;h:a href=&quot;/favouriteQuery&quot; class=&quot;textlink&quot;&gt;${c:l('drive.dashboard.favourites.link')}&lt;/h:a&gt;\n     &lt;/h:div&gt;\n</code></pre>\n<p>I'm using the Cmis Workbench and it just shows me that the favorite path is: /favouriteQuery</p>\n<p>any suggestion?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634569957,"creation_date":1634569957,"answer_id":69618451,"question_id":69618410,"body_markdown":"Define type variables in the abstract class:\r\n\r\n```\r\nabstract class AbstractClass&lt;A, B&gt; {\r\n  public abstract void dostuff(A o1, B o2);\r\n}\r\n```\r\n\r\nthen specify the type parameters in the implementing classes:\r\n\r\n```\r\nclass Class1 extends AbstractClass&lt;Integer, Double&gt; {\r\n  @Override public void dostuff(Integer o1, Double o2) { /* ... */ }\r\n}\r\n\r\nclass Class2 extends AbstractClass&lt;Double, Iteger&gt; {\r\n  @Override public void dostuff(Double o1, Iteger o2) { /* ... */ }\r\n}\r\n```","title":"Is there a way to have a abstract method with implementations that accept different inputs","body":"<p>Define type variables in the abstract class:</p>\n<pre><code>abstract class AbstractClass&lt;A, B&gt; {\n  public abstract void dostuff(A o1, B o2);\n}\n</code></pre>\n<p>then specify the type parameters in the implementing classes:</p>\n<pre><code>class Class1 extends AbstractClass&lt;Integer, Double&gt; {\n  @Override public void dostuff(Integer o1, Double o2) { /* ... */ }\n}\n\nclass Class2 extends AbstractClass&lt;Double, Iteger&gt; {\n  @Override public void dostuff(Double o1, Iteger o2) { /* ... */ }\n}\n</code></pre>\n"}],"owner":{"account_id":13414640,"reputation":556,"user_id":9679664,"display_name":"Brian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69618451,"answer_count":1,"score":0,"last_activity_date":1634569957,"creation_date":1634569793,"question_id":69618410,"body_markdown":"I am trying to do something like the following where I have an abstract method, and its implementers can accept different input objects.\r\n\r\n    public abstract void dostuff(Object o1, Object o2);\r\n\r\n    class 1\r\n    @Override\r\n    public void dostuff(Integer o1, Double o2){\r\n      logic\r\n    }\r\n    \r\n    class 2\r\n    @Override\r\n    public void dostuff(Double o1, Iteger o2){\r\n      logic\r\n    }\r\n\r\nreal goal is to have an abstract method that can enforce some things, and not have to cast the objects once they are within the object, have that casting done automatically. ","title":"Is there a way to have a abstract method with implementations that accept different inputs","body":"<p>I am trying to do something like the following where I have an abstract method, and its implementers can accept different input objects.</p>\n<pre><code>public abstract void dostuff(Object o1, Object o2);\n\nclass 1\n@Override\npublic void dostuff(Integer o1, Double o2){\n  logic\n}\n\nclass 2\n@Override\npublic void dostuff(Double o1, Iteger o2){\n  logic\n}\n</code></pre>\n<p>real goal is to have an abstract method that can enforce some things, and not have to cast the objects once they are within the object, have that casting done automatically.</p>\n"},{"tags":["java","docker","elasticsearch"],"comments":[{"owner":{"account_id":78952,"reputation":1309,"user_id":224285,"display_name":"Nicolas Galler"},"score":1,"creation_date":1634272366,"post_id":69578173,"comment_id":122985397,"body_markdown":"It sounds like it is getting tripped up by an existing file in a newer version...  How are you running the image, are you using an existing volume or bind mount?","body":"It sounds like it is getting tripped up by an existing file in a newer version...  How are you running the image, are you using an existing volume or bind mount?"},{"owner":{"account_id":4764219,"reputation":350,"user_id":3850804,"display_name":"LinuxGuru"},"score":0,"creation_date":1634561299,"post_id":69578173,"comment_id":123050240,"body_markdown":"No external mounts. Only a volume is defined in the docker-compose.yml file.","body":"No external mounts. Only a volume is defined in the docker-compose.yml file."},{"owner":{"account_id":4764219,"reputation":350,"user_id":3850804,"display_name":"LinuxGuru"},"score":0,"creation_date":1634561534,"post_id":69578173,"comment_id":123050371,"body_markdown":"I added the ``docker-compose.yml`` to the post.","body":"I added the <code>docker-compose.yml</code> to the post."},{"owner":{"account_id":4764219,"reputation":350,"user_id":3850804,"display_name":"LinuxGuru"},"score":0,"creation_date":1634562777,"post_id":69578173,"comment_id":123050968,"body_markdown":"Looked at the files in the volume. Only one is big-endian, a DB file. The binaries are x86-64 to match the CPU in the Mac, Intel. This looks like it could be normal.\n``/usr/share/elasticsearch/modules/ingest-geoip/GeoLite2-ASN.mmdb: a.out big-endian 32-bit demand paged executable not stripped``","body":"Looked at the files in the volume. Only one is big-endian, a DB file. The binaries are x86-64 to match the CPU in the Mac, Intel. This looks like it could be normal. <code>&#47;usr&#47;share&#47;elasticsearch&#47;modules&#47;ingest-geoip&#47;GeoLite2-ASN.m&zwnj;&#8203;mdb: a.out big-endian 32-bit demand paged executable not stripped</code>"},{"owner":{"account_id":4764219,"reputation":350,"user_id":3850804,"display_name":"LinuxGuru"},"score":0,"creation_date":1634569318,"post_id":69578173,"comment_id":123054053,"body_markdown":"Thanks for the clue @NicolasGaller, it seems to have solved it by changing the volume and the healthcheck.","body":"Thanks for the clue @NicolasGaller, it seems to have solved it by changing the volume and the healthcheck."}],"answers":[{"tags":[],"owner":{"account_id":4764219,"reputation":350,"user_id":3850804,"display_name":"LinuxGuru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634569663,"creation_date":1634569663,"answer_id":69618384,"question_id":69578173,"body_markdown":"I was able to resolve the problem by changing the volume path and the healthcheck in the YML.\r\n\r\n*docker-compose.yml*\r\n\r\n    volumes:\r\n      - ./esdata:/usr/share/elasticsearch/data\r\n    healthcheck:\r\n      test: [ &quot;CMD-SHELL&quot;, &quot;curl --silent --fail localhost:9200/_cat/nodes?v\\\\&amp;pretty || exit 1&quot; ]\r\n\r\n","title":"Docker Elasticsearch uncaught exception in thread, failed to bind service, Format version is not supported","body":"<p>I was able to resolve the problem by changing the volume path and the healthcheck in the YML.</p>\n<p><em>docker-compose.yml</em></p>\n<pre><code>volumes:\n  - ./esdata:/usr/share/elasticsearch/data\nhealthcheck:\n  test: [ &quot;CMD-SHELL&quot;, &quot;curl --silent --fail localhost:9200/_cat/nodes?v\\\\&amp;pretty || exit 1&quot; ]\n</code></pre>\n"}],"owner":{"account_id":4764219,"reputation":350,"user_id":3850804,"display_name":"LinuxGuru"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634569663,"creation_date":1634251701,"question_id":69578173,"body_markdown":"This is MacOS 11.6, Docker 20.10.8, docker.elastic.co/elasticsearch/elasticsearch:7.10.1\r\n\r\nThe process ends with uncaught exception in thread, failed to bind service, Format version is not supported.\r\n\r\n```\r\n{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:19,526Z&quot;, &quot;level&quot;: &quot;INFO&quot;, &quot;component&quot;: &quot;o.e.p.PluginsService&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;loaded module [x-pack-stack]&quot; }\r\n{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:19,527Z&quot;, &quot;level&quot;: &quot;INFO&quot;, &quot;component&quot;: &quot;o.e.p.PluginsService&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;loaded module [x-pack-voting-only-node]&quot; }\r\n{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:19,528Z&quot;, &quot;level&quot;: &quot;INFO&quot;, &quot;component&quot;: &quot;o.e.p.PluginsService&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;loaded module [x-pack-watcher]&quot; }\r\n{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:19,529Z&quot;, &quot;level&quot;: &quot;INFO&quot;, &quot;component&quot;: &quot;o.e.p.PluginsService&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;no plugins loaded&quot; }\r\n{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:19,627Z&quot;, &quot;level&quot;: &quot;INFO&quot;, &quot;component&quot;: &quot;o.e.e.NodeEnvironment&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;using [1] data paths, mounts [[/usr/share/elasticsearch/data (/dev/vda1)]], net usable_space [46gb], net total_space [58.4gb], types [ext4]&quot; }\r\n{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:19,628Z&quot;, &quot;level&quot;: &quot;INFO&quot;, &quot;component&quot;: &quot;o.e.e.NodeEnvironment&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;heap size [2.4gb], compressed ordinary object pointers [true]&quot; }\r\nuncaught exception in thread [main]\r\n{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:20,071Z&quot;, &quot;level&quot;: &quot;ERROR&quot;, &quot;component&quot;: &quot;o.e.b.ElasticsearchUncaughtExceptionHandler&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;uncaught exception in thread [main]&quot;,\r\n&quot;stacktrace&quot;: [&quot;org.elasticsearch.bootstrap.StartupException: ElasticsearchException[failed to bind service]; nested: IndexFormatTooNewException[Format version is not supported (resource SimpleFSIndexInput(path=\\&quot;/usr/share/elasticsearch/data/nodes/0/_state/_90.cfs\\&quot;) [slice=_90.fdt]): 4 (needs to be between 1 and 3)];&quot;,\r\n&quot;at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:174) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\r\n&quot;at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:161) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\r\n&quot;at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\r\n&quot;at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:127) ~[elasticsearch-cli-7.10.1.jar:7.10.1]&quot;,\r\n&quot;at org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-7.10.1.jar:7.10.1]&quot;,\r\n&quot;at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:126) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\r\n&quot;at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\r\n&quot;Caused by: org.elasticsearch.ElasticsearchException: failed to bind service&quot;,\r\n&quot;at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:729) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\r\n&quot;at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:289) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\r\n&quot;at org.elasticsearch.bootstrap.Bootstrap$5.&lt;init&gt;(Bootstrap.java:227) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\r\n&quot;at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:227) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\r\n&quot;at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:393) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\r\n&quot;at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:170) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\r\n&quot;... 6 more&quot;,\r\n```\r\n\r\n*docker-compose.yml*\r\n```yml\r\nversion:  &#39;3.9&#39;\r\n\r\nservices:\r\n  elasticsearch:\r\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.10.1\r\n    deploy:\r\n      mode: replicated\r\n      replicas: 1\r\n      resources:\r\n        limits:\r\n          memory: 1536M\r\n    environment:\r\n      - discovery.type=single-node\r\n      - &quot;http.cors.enabled=true&quot;\r\n      - &quot;http.cors.allow-origin=http://localhost:8090&quot;\r\n      - &quot;ES_JAVA_OPTS=-Xms1536m -Xmx1536m&quot;\r\n    ports:\r\n      - &quot;9200:9200&quot;\r\n      - &quot;9300:9300&quot;\r\n    volumes:\r\n      - elasticsearch:/usr/share/elasticsearch/data\r\n    depends_on:\r\n      - postgres\r\n    healthcheck:\r\n      test: [ &quot;CMD-SHELL&quot;, &quot;curl --silent --fail localhost:9200/_cluster/health || exit 1&quot; ]\r\n      interval: 30s\r\n      timeout: 30s\r\n      retries: 5\r\n```\r\n\r\n\r\n","title":"Docker Elasticsearch uncaught exception in thread, failed to bind service, Format version is not supported","body":"<p>This is MacOS 11.6, Docker 20.10.8, docker.elastic.co/elasticsearch/elasticsearch:7.10.1</p>\n<p>The process ends with uncaught exception in thread, failed to bind service, Format version is not supported.</p>\n<pre><code>{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:19,526Z&quot;, &quot;level&quot;: &quot;INFO&quot;, &quot;component&quot;: &quot;o.e.p.PluginsService&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;loaded module [x-pack-stack]&quot; }\n{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:19,527Z&quot;, &quot;level&quot;: &quot;INFO&quot;, &quot;component&quot;: &quot;o.e.p.PluginsService&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;loaded module [x-pack-voting-only-node]&quot; }\n{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:19,528Z&quot;, &quot;level&quot;: &quot;INFO&quot;, &quot;component&quot;: &quot;o.e.p.PluginsService&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;loaded module [x-pack-watcher]&quot; }\n{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:19,529Z&quot;, &quot;level&quot;: &quot;INFO&quot;, &quot;component&quot;: &quot;o.e.p.PluginsService&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;no plugins loaded&quot; }\n{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:19,627Z&quot;, &quot;level&quot;: &quot;INFO&quot;, &quot;component&quot;: &quot;o.e.e.NodeEnvironment&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;using [1] data paths, mounts [[/usr/share/elasticsearch/data (/dev/vda1)]], net usable_space [46gb], net total_space [58.4gb], types [ext4]&quot; }\n{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:19,628Z&quot;, &quot;level&quot;: &quot;INFO&quot;, &quot;component&quot;: &quot;o.e.e.NodeEnvironment&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;heap size [2.4gb], compressed ordinary object pointers [true]&quot; }\nuncaught exception in thread [main]\n{&quot;type&quot;: &quot;server&quot;, &quot;timestamp&quot;: &quot;2021-10-14T22:34:20,071Z&quot;, &quot;level&quot;: &quot;ERROR&quot;, &quot;component&quot;: &quot;o.e.b.ElasticsearchUncaughtExceptionHandler&quot;, &quot;cluster.name&quot;: &quot;docker-cluster&quot;, &quot;node.name&quot;: &quot;c5bf38c408e2&quot;, &quot;message&quot;: &quot;uncaught exception in thread [main]&quot;,\n&quot;stacktrace&quot;: [&quot;org.elasticsearch.bootstrap.StartupException: ElasticsearchException[failed to bind service]; nested: IndexFormatTooNewException[Format version is not supported (resource SimpleFSIndexInput(path=\\&quot;/usr/share/elasticsearch/data/nodes/0/_state/_90.cfs\\&quot;) [slice=_90.fdt]): 4 (needs to be between 1 and 3)];&quot;,\n&quot;at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:174) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\n&quot;at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:161) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\n&quot;at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\n&quot;at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:127) ~[elasticsearch-cli-7.10.1.jar:7.10.1]&quot;,\n&quot;at org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-7.10.1.jar:7.10.1]&quot;,\n&quot;at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:126) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\n&quot;at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\n&quot;Caused by: org.elasticsearch.ElasticsearchException: failed to bind service&quot;,\n&quot;at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:729) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\n&quot;at org.elasticsearch.node.Node.&lt;init&gt;(Node.java:289) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\n&quot;at org.elasticsearch.bootstrap.Bootstrap$5.&lt;init&gt;(Bootstrap.java:227) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\n&quot;at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:227) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\n&quot;at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:393) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\n&quot;at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:170) ~[elasticsearch-7.10.1.jar:7.10.1]&quot;,\n&quot;... 6 more&quot;,\n</code></pre>\n<p><em>docker-compose.yml</em></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version:  '3.9'\n\nservices:\n  elasticsearch:\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.10.1\n    deploy:\n      mode: replicated\n      replicas: 1\n      resources:\n        limits:\n          memory: 1536M\n    environment:\n      - discovery.type=single-node\n      - &quot;http.cors.enabled=true&quot;\n      - &quot;http.cors.allow-origin=http://localhost:8090&quot;\n      - &quot;ES_JAVA_OPTS=-Xms1536m -Xmx1536m&quot;\n    ports:\n      - &quot;9200:9200&quot;\n      - &quot;9300:9300&quot;\n    volumes:\n      - elasticsearch:/usr/share/elasticsearch/data\n    depends_on:\n      - postgres\n    healthcheck:\n      test: [ &quot;CMD-SHELL&quot;, &quot;curl --silent --fail localhost:9200/_cluster/health || exit 1&quot; ]\n      interval: 30s\n      timeout: 30s\n      retries: 5\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":7050143,"reputation":50,"user_id":5399526,"display_name":"JP13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634566245,"creation_date":1634566245,"answer_id":69617611,"question_id":69617501,"body_markdown":"Lombok needs the field to be final. See here: https://www.baeldung.com/spring-injection-lombok","title":"How to inject dependencies in an Entity listener?","body":"<p>Lombok needs the field to be final. See here: <a href=\"https://www.baeldung.com/spring-injection-lombok\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-injection-lombok</a></p>\n"}],"owner":{"account_id":8725509,"reputation":866,"user_id":6527252,"display_name":"Paul-Etienne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":935,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634569414,"creation_date":1634565814,"question_id":69617501,"body_markdown":"I&#39;m trying to perform an action prior to saving an Entity in a Spring boot application. After researching, I&#39;ve seen that I cannot configure a sequence to automatically populate an Entity field that isn&#39;t the primary key.\r\nThus, I manually created a sequence in my database and I&#39;m trying to add a *pre-save hook* somewhere in my app to fetch the `nextval()` on my sequence and apply its value (after converting it to a String) to my field. I want to do things that way so I don&#39;t need to do it in the service side where instances of my Entity are created.\r\n\r\n\r\nI have identified multiple ways to do that, including AOP and Entity listeners. So far my best guess for an elegant code is to use an Entity listener with a `@PrePersist` method that fetches the next value and apply it to my field.\r\n\r\nThe main problem I&#39;m facing is I can&#39;t manage to inject my repository dependency in my Entity listener (since it&#39;s the repository that hosts the `nextval()` function). I have no idea why this is not working, why my dependency is always null while I can read on multiple websites that this implementation is supposed to work (like in [this article][1] for example).\r\n\r\nHere&#39;s what I have so far (*edited after the first two answers*):\r\n\r\n**My repository:**\r\n\r\n```lang-java\r\npackage my.project.package.spi.jpa.repository;\r\n\r\n@Repository\r\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\r\n\r\n    ...\r\n\r\n    @Query(nativeQuery = true, value = &quot;SELECT nextval(&#39;serial_number_sequence&#39;)&quot;)\r\n    Long getNextSerialNumber();\r\n\r\n}\r\n```\r\n\r\n**My Entity:**\r\n\r\n```lang-java\r\npackage my.project.package.spi.jpa.model;\r\n\r\n@Entity\r\n@EntityListeners(MyEntityListener.class)\r\n@Table(name = &quot;my_table&quot;)\r\npublic class MyEntity {\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;my_table_id&quot;, sequenceName = &quot;id_sequence&quot;)\r\n    @GeneratedValue(generator = &quot;my_table_id&quot;, strategy = GenerationType.SEQUENCE)\r\n    @Column(name = &quot;id&quot;)\r\n    private long id;\r\n\r\n    @Column(name = &quot;serial_number&quot;, nullable = false)\r\n    private String serialNumber;\r\n\r\n    ...\r\n\r\n    public void setSerialNumber(String serialNumber) {\r\n        this.serialNumber = serialNumber;\r\n    }\r\n}\r\n```\r\n\r\n**My Entity listener:**\r\n\r\n```lang-java\r\npackage my.project.package.spi.jpa.model;\r\n\r\n@Component\r\npublic class MyEntityListener {\r\n\r\n    @Autowired\r\n    private MyEntityRepository myEntityRepository;\r\n\r\n    @PrePersist\r\n    private void beforeSave(MyEntity myEntity) {\r\n        String serialNumber = String.format(&quot;%012d&quot;, myEntityRepository.getNextSerialNumber());\r\n        myEntity.setSerialNumber(serialNumber);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**My Spring boot application:**\r\n```lang-java\r\npackage my.project.package.starter;\r\n\r\n@SpringBootApplication\r\n@EntityScan(basePackages = { &quot;my.project.package.spi.jpa.model&quot; })\r\n@EnableJpaRepositories(basePackages = { &quot;my.project.package.spi.jpa.repository&quot; })\r\npublic class MyApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication springApplication = new SpringApplication(MyApplication.class);\r\n        springApplication.addListeners(new ApplicationPidFileWriter());\r\n        springApplication.run(args);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**Most notable Configuration file:**\r\n```lang-java\r\npackage my.project.package.starter.configuration;\r\n\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;my.project.package&quot;, includeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes =\r\n        DomainService.class))\r\npublic class DomainConfiguration {}\r\n```\r\n\r\n**The DomainService it refers to:**\r\n```lang-java\r\npackage my.project.package.domain.annotation;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.TYPE)\r\n@Inherited\r\npublic @interface DomainService {}\r\n```\r\n\r\nMy project follows the Clean Code architecture and is divided into multiple modules (one per SPI/API, one for the domain and one for the starter).\r\n\r\nCan someone tell me what I&#39;m doing wrong? How can I effectively access my repository from my Entity listener?\r\n\r\n\r\n  [1]: https://solocoding.dev/blog/eng_spring_entity_listener_SpringBoot_SpringDataJpa","title":"How to inject dependencies in an Entity listener?","body":"<p>I'm trying to perform an action prior to saving an Entity in a Spring boot application. After researching, I've seen that I cannot configure a sequence to automatically populate an Entity field that isn't the primary key.\nThus, I manually created a sequence in my database and I'm trying to add a <em>pre-save hook</em> somewhere in my app to fetch the <code>nextval()</code> on my sequence and apply its value (after converting it to a String) to my field. I want to do things that way so I don't need to do it in the service side where instances of my Entity are created.</p>\n<p>I have identified multiple ways to do that, including AOP and Entity listeners. So far my best guess for an elegant code is to use an Entity listener with a <code>@PrePersist</code> method that fetches the next value and apply it to my field.</p>\n<p>The main problem I'm facing is I can't manage to inject my repository dependency in my Entity listener (since it's the repository that hosts the <code>nextval()</code> function). I have no idea why this is not working, why my dependency is always null while I can read on multiple websites that this implementation is supposed to work (like in <a href=\"https://solocoding.dev/blog/eng_spring_entity_listener_SpringBoot_SpringDataJpa\" rel=\"nofollow noreferrer\">this article</a> for example).</p>\n<p>Here's what I have so far (<em>edited after the first two answers</em>):</p>\n<p><strong>My repository:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.project.package.spi.jpa.repository;\n\n@Repository\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, Integer&gt; {\n\n    ...\n\n    @Query(nativeQuery = true, value = &quot;SELECT nextval('serial_number_sequence')&quot;)\n    Long getNextSerialNumber();\n\n}\n</code></pre>\n<p><strong>My Entity:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.project.package.spi.jpa.model;\n\n@Entity\n@EntityListeners(MyEntityListener.class)\n@Table(name = &quot;my_table&quot;)\npublic class MyEntity {\n\n    @Id\n    @SequenceGenerator(name = &quot;my_table_id&quot;, sequenceName = &quot;id_sequence&quot;)\n    @GeneratedValue(generator = &quot;my_table_id&quot;, strategy = GenerationType.SEQUENCE)\n    @Column(name = &quot;id&quot;)\n    private long id;\n\n    @Column(name = &quot;serial_number&quot;, nullable = false)\n    private String serialNumber;\n\n    ...\n\n    public void setSerialNumber(String serialNumber) {\n        this.serialNumber = serialNumber;\n    }\n}\n</code></pre>\n<p><strong>My Entity listener:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.project.package.spi.jpa.model;\n\n@Component\npublic class MyEntityListener {\n\n    @Autowired\n    private MyEntityRepository myEntityRepository;\n\n    @PrePersist\n    private void beforeSave(MyEntity myEntity) {\n        String serialNumber = String.format(&quot;%012d&quot;, myEntityRepository.getNextSerialNumber());\n        myEntity.setSerialNumber(serialNumber);\n    }\n\n}\n</code></pre>\n<p><strong>My Spring boot application:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.project.package.starter;\n\n@SpringBootApplication\n@EntityScan(basePackages = { &quot;my.project.package.spi.jpa.model&quot; })\n@EnableJpaRepositories(basePackages = { &quot;my.project.package.spi.jpa.repository&quot; })\npublic class MyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication springApplication = new SpringApplication(MyApplication.class);\n        springApplication.addListeners(new ApplicationPidFileWriter());\n        springApplication.run(args);\n    }\n\n}\n\n</code></pre>\n<p><strong>Most notable Configuration file:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.project.package.starter.configuration;\n\n@Configuration\n@ComponentScan(basePackages = &quot;my.project.package&quot;, includeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes =\n        DomainService.class))\npublic class DomainConfiguration {}\n</code></pre>\n<p><strong>The DomainService it refers to:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.project.package.domain.annotation;\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@Inherited\npublic @interface DomainService {}\n</code></pre>\n<p>My project follows the Clean Code architecture and is divided into multiple modules (one per SPI/API, one for the domain and one for the starter).</p>\n<p>Can someone tell me what I'm doing wrong? How can I effectively access my repository from my Entity listener?</p>\n"},{"tags":["java","rest","jaxb","jax-rs","jersey-client"],"answers":[{"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1634569352,"creation_date":1416056177,"answer_id":26946055,"question_id":26945281,"body_markdown":"For Xml, if you have all the dependencies that come with Jersey, it should work out the box for the client API. You might not have added all of them. I see you aren&#39;t using Maven, which I would strongly advise doing. But I&#39;ll provide both way to handle this.\r\n\r\nXML\r\n-----\r\n\r\n**Maven:**\r\n\r\nOnly dependencies you&#39;ll nee to get the client up and running (with JAXB xml support)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nDoesn&#39;t get much simpler :-)\r\n\r\n**Non-Maven:**\r\n\r\nSo using a Maven project, I added the above dependency, and these are all the transitive dependencies it pulled in. In your non Maven project, you will need to manually add all these jars.\r\n\r\n![enter image description here][1]\r\n\r\nIf you go to the [Jersey Hompage](https://jersey.java.net/), go to Downloads, and download the &quot;`Jersey JAX-RS 2.0 RI bundle`. You should find all these dependencies in there. You should add all the ones needed, into your project\r\n\r\n**Note:** Netbeans already comes with the `Jersey 2.0 (JAX-RS RI)` library. You could instead simply add that library to your project. Just right click on the [Libraries] node in your project, and select [Add Library]. You should see the Jersey in the dialog. This solution is probably the easiest, but it will import all the Jersey dependencies, more than is required for the client API\r\n\r\nJSON\r\n---\r\n\r\nJSON requires another dependency:\r\n\r\n**Maven:**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Non-Maven**\r\n\r\nHave a look at [this post](https://stackoverflow.com/a/26706617/2587435) for an image and further explanation.\r\n\r\n------\r\n\r\nJust having these dependencies on the classpath should work, without any special configuration.\r\n\r\n### UPDATE\r\n\r\nIn newer versions of the Jersey client, `jersey-media-jaxb` is not pulled in anymore and you will need to manually add it for XML/JAXB support.\r\n\r\n  [1]: http://i.stack.imgur.com/dkDLK.png","title":"Glassfish :MessageBodyProviderNotFoundException in Jersy Client","body":"<p>For Xml, if you have all the dependencies that come with Jersey, it should work out the box for the client API. You might not have added all of them. I see you aren't using Maven, which I would strongly advise doing. But I'll provide both way to handle this.</p>\n<h2>XML</h2>\n<p><strong>Maven:</strong></p>\n<p>Only dependencies you'll nee to get the client up and running (with JAXB xml support)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n    &lt;version&gt;2.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Doesn't get much simpler :-)</p>\n<p><strong>Non-Maven:</strong></p>\n<p>So using a Maven project, I added the above dependency, and these are all the transitive dependencies it pulled in. In your non Maven project, you will need to manually add all these jars.</p>\n<p><img src=\"https://i.stack.imgur.com/dkDLK.png\" alt=\"enter image description here\" /></p>\n<p>If you go to the <a href=\"https://jersey.java.net/\" rel=\"nofollow noreferrer\">Jersey Hompage</a>, go to Downloads, and download the &quot;<code>Jersey JAX-RS 2.0 RI bundle</code>. You should find all these dependencies in there. You should add all the ones needed, into your project</p>\n<p><strong>Note:</strong> Netbeans already comes with the <code>Jersey 2.0 (JAX-RS RI)</code> library. You could instead simply add that library to your project. Just right click on the [Libraries] node in your project, and select [Add Library]. You should see the Jersey in the dialog. This solution is probably the easiest, but it will import all the Jersey dependencies, more than is required for the client API</p>\n<h2>JSON</h2>\n<p>JSON requires another dependency:</p>\n<p><strong>Maven:</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n    &lt;version&gt;2.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Non-Maven</strong></p>\n<p>Have a look at <a href=\"https://stackoverflow.com/a/26706617/2587435\">this post</a> for an image and further explanation.</p>\n<hr />\n<p>Just having these dependencies on the classpath should work, without any special configuration.</p>\n<h3>UPDATE</h3>\n<p>In newer versions of the Jersey client, <code>jersey-media-jaxb</code> is not pulled in anymore and you will need to manually add it for XML/JAXB support.</p>\n"}],"owner":{"account_id":1560426,"reputation":8053,"user_id":1450401,"accept_rate":61,"display_name":"edwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31029,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":26946055,"answer_count":1,"score":9,"last_activity_date":1634569352,"creation_date":1416050670,"question_id":26945281,"body_markdown":"Hi All I was trying to create a rest web-service from scratch. Here is my Service part\r\n\r\n    @Path(&quot;/Phones&quot;)\r\n    public class PhonessResource {\r\n\r\n     @GET\r\n     @Produces({MediaType.APPLICATION_XML,MediaType.APPLICATION_JSON})\r\n      public Response getAllNumbers(){\r\n          List&lt;PhoneDetail&gt; list = PhoneDirectoryDao.getInstance().getAllNumbers();\r\n          GenericEntity&lt;List&lt;PhoneDetail&gt;&gt; entity = new GenericEntity&lt;List&lt;PhoneDetail&gt;&gt;(list) {};\r\n          Response response =Response.ok(entity).status(200).build();\r\n          return response;//PhoneDirectoryDao.getInstance().getAllNumbers();\r\n        }\r\n     }\r\n\r\nMy data Model : I a had my getters and setters along with another constructor that take all property ,I didn&#39;t paste it to less the question length ,I use the same data model in client and server\r\n\r\n    @XmlRootElement(name=&quot;PhoneDetail&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(propOrder={&quot;id&quot;,&quot;firstName&quot;,&quot;lastName&quot;,&quot;address&quot;,&quot;phoneNo&quot;,&quot;timeStamp&quot;})\r\n    public class PhoneDetail {\r\n        \r\n        private int id;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String address;\r\n        private String phoneNo;\r\n        private Timestamp timeStamp;\r\n    \r\n        public PhoneDetail() {}\r\n    }\r\n\r\nThen I create a java client to test the service .I am using NETBEANS IDE ,so I choose default option in IDE to create it\r\n\r\n![enter image description here][1] \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/fyzgT.png\r\n\r\nThus I create a Jersey Client \r\n\r\n    public class PhoneCLient {\r\n        private WebTarget webTarget;\r\n        private Client client;\r\n        private static final String BASE_URI = &quot;http://localhost:8080/Phones/webresources&quot;;\r\n    \r\n        public PhoneCLient() {\r\n            client = javax.ws.rs.client.ClientBuilder.newClient();\r\n            webTarget = client.target(BASE_URI).path(&quot;Items&quot;);\r\n        }\r\n    \r\n       \r\n        public &lt;T&gt; T getAllNumbers_XML(Class&lt;T&gt; responseType) throws ClientErrorException {\r\n            WebTarget resource = webTarget;\r\n            return resource.request(javax.ws.rs.core.MediaType.APPLICATION_XML).get(responseType);\r\n        }\r\n    \r\n        public &lt;T&gt; T getAllNumbers_JSON(Class&lt;T&gt; responseType) throws ClientErrorException {\r\n            WebTarget resource = webTarget;\r\n            return resource.request(javax.ws.rs.core.MediaType.APPLICATION_JSON).get(responseType);\r\n        }\r\n    }\r\n\r\nBut It gives me this error\r\n\r\n    Exception in thread &quot;main&quot; org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyReader not found for media type=application/xml, type=class org.glassfish.jersey.client.ClientResponse, genericType=class org.glassfish.jersey.client.ClientResponse.\r\n    \tat org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:173)\r\n    \tat org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:134)\r\n    \tat org.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:988)\r\n    \tat org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:833)\r\n    \tat org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:768)\r\n    \tat org.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:96)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.translate(JerseyInvocation.java:740)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.access$500(JerseyInvocation.java:88)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:650)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n    \tat org.glassfish.jersey.internal.Errors.process(Errors.java:228)\r\n    \tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:421)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:646)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:375)\r\n    \tat org.glassfish.jersey.client.JerseyInvocation$Builder.get(JerseyInvocation.java:275)\r\n    \tat PhoneDirectoryClient.rest.PhoneCLient.getAllNumbers_XML(PhoneCLient.java:45)\r\n\r\nBut when I test the service in Browser or RestClient Browser plugin it works fine .\r\n Can anybody tell me what went wrong ??","title":"Glassfish :MessageBodyProviderNotFoundException in Jersy Client","body":"<p>Hi All I was trying to create a rest web-service from scratch. Here is my Service part</p>\n\n<pre><code>@Path(\"/Phones\")\npublic class PhonessResource {\n\n @GET\n @Produces({MediaType.APPLICATION_XML,MediaType.APPLICATION_JSON})\n  public Response getAllNumbers(){\n      List&lt;PhoneDetail&gt; list = PhoneDirectoryDao.getInstance().getAllNumbers();\n      GenericEntity&lt;List&lt;PhoneDetail&gt;&gt; entity = new GenericEntity&lt;List&lt;PhoneDetail&gt;&gt;(list) {};\n      Response response =Response.ok(entity).status(200).build();\n      return response;//PhoneDirectoryDao.getInstance().getAllNumbers();\n    }\n }\n</code></pre>\n\n<p>My data Model : I a had my getters and setters along with another constructor that take all property ,I didn't paste it to less the question length ,I use the same data model in client and server</p>\n\n<pre><code>@XmlRootElement(name=\"PhoneDetail\")\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(propOrder={\"id\",\"firstName\",\"lastName\",\"address\",\"phoneNo\",\"timeStamp\"})\npublic class PhoneDetail {\n\n    private int id;\n    private String firstName;\n    private String lastName;\n    private String address;\n    private String phoneNo;\n    private Timestamp timeStamp;\n\n    public PhoneDetail() {}\n}\n</code></pre>\n\n<p>Then I create a java client to test the service .I am using NETBEANS IDE ,so I choose default option in IDE to create it</p>\n\n<p><img src=\"https://i.stack.imgur.com/fyzgT.png\" alt=\"enter image description here\"> </p>\n\n<p>Thus I create a Jersey Client </p>\n\n<pre><code>public class PhoneCLient {\n    private WebTarget webTarget;\n    private Client client;\n    private static final String BASE_URI = \"http://localhost:8080/Phones/webresources\";\n\n    public PhoneCLient() {\n        client = javax.ws.rs.client.ClientBuilder.newClient();\n        webTarget = client.target(BASE_URI).path(\"Items\");\n    }\n\n\n    public &lt;T&gt; T getAllNumbers_XML(Class&lt;T&gt; responseType) throws ClientErrorException {\n        WebTarget resource = webTarget;\n        return resource.request(javax.ws.rs.core.MediaType.APPLICATION_XML).get(responseType);\n    }\n\n    public &lt;T&gt; T getAllNumbers_JSON(Class&lt;T&gt; responseType) throws ClientErrorException {\n        WebTarget resource = webTarget;\n        return resource.request(javax.ws.rs.core.MediaType.APPLICATION_JSON).get(responseType);\n    }\n}\n</code></pre>\n\n<p>But It gives me this error</p>\n\n<pre><code>Exception in thread \"main\" org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException: MessageBodyReader not found for media type=application/xml, type=class org.glassfish.jersey.client.ClientResponse, genericType=class org.glassfish.jersey.client.ClientResponse.\n    at org.glassfish.jersey.message.internal.ReaderInterceptorExecutor$TerminalReaderInterceptor.aroundReadFrom(ReaderInterceptorExecutor.java:173)\n    at org.glassfish.jersey.message.internal.ReaderInterceptorExecutor.proceed(ReaderInterceptorExecutor.java:134)\n    at org.glassfish.jersey.message.internal.MessageBodyFactory.readFrom(MessageBodyFactory.java:988)\n    at org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:833)\n    at org.glassfish.jersey.message.internal.InboundMessageContext.readEntity(InboundMessageContext.java:768)\n    at org.glassfish.jersey.client.InboundJaxrsResponse.readEntity(InboundJaxrsResponse.java:96)\n    at org.glassfish.jersey.client.JerseyInvocation.translate(JerseyInvocation.java:740)\n    at org.glassfish.jersey.client.JerseyInvocation.access$500(JerseyInvocation.java:88)\n    at org.glassfish.jersey.client.JerseyInvocation$2.call(JerseyInvocation.java:650)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:228)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:421)\n    at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:646)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:375)\n    at org.glassfish.jersey.client.JerseyInvocation$Builder.get(JerseyInvocation.java:275)\n    at PhoneDirectoryClient.rest.PhoneCLient.getAllNumbers_XML(PhoneCLient.java:45)\n</code></pre>\n\n<p>But when I test the service in Browser or RestClient Browser plugin it works fine .\n Can anybody tell me what went wrong ??</p>\n"},{"tags":["java","kotlin","retrofit","retrofit2","android-spinner"],"answers":[{"tags":[],"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634569292,"creation_date":1627563057,"answer_id":68576265,"question_id":68574589,"body_markdown":"It is a good practice to separate your data from your ui. \r\n\r\nIn your data, you&#39;ll write all about your model, the API requests, etc. \r\n\r\nIn your presentation, you&#39;ll code about the view and you&#39;ll just have to call the functions that you coded in your data.\r\n \r\n\r\nHave a nice day :)","title":"Display data from API to Custom Spinner using Retrofit2 Kotlin/Java","body":"<p>It is a good practice to separate your data from your ui.</p>\n<p>In your data, you'll write all about your model, the API requests, etc.</p>\n<p>In your presentation, you'll code about the view and you'll just have to call the functions that you coded in your data.</p>\n<p>Have a nice day :)</p>\n"}],"owner":{"account_id":16542555,"reputation":43,"user_id":11952954,"display_name":"MaroonDre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634569292,"creation_date":1627555822,"question_id":68574589,"body_markdown":"I have an API that have names and photos, i want to display it on my custom spinner using kotlin or java. I tried to write a code that is similar on implementing recycler view but it is not working. Please give me an idea or example how to do it. Thank you so much.","title":"Display data from API to Custom Spinner using Retrofit2 Kotlin/Java","body":"<p>I have an API that have names and photos, i want to display it on my custom spinner using kotlin or java. I tried to write a code that is similar on implementing recycler view but it is not working. Please give me an idea or example how to do it. Thank you so much.</p>\n"},{"tags":["java","command-line"],"answers":[{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634563108,"creation_date":1634563108,"answer_id":69616843,"question_id":69616784,"body_markdown":"If you put in the `--languages` argument _after_ the `ClassName.java` it gets picked up as a argument and you will have it in the args array of the main method. Then you just have to parse it and you&#39;re done.","title":"How i can set a string variable with a run command option in java?","body":"<p>If you put in the <code>--languages</code> argument <em>after</em> the <code>ClassName.java</code> it gets picked up as a argument and you will have it in the args array of the main method. Then you just have to parse it and you're done.</p>\n"}],"owner":{"account_id":19415403,"reputation":7,"user_id":14199025,"display_name":"Mario Barbieri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1634569110,"creation_date":1634562911,"question_id":69616784,"body_markdown":"Hi i want to create a java program that i can run in two languages putting a option (eg. &quot;--language=english&quot;) in the run command like this:\r\n\r\n    java --language=&quot;english&quot; ClassName.java\r\n\r\n","title":"How i can set a string variable with a run command option in java?","body":"<p>Hi i want to create a java program that i can run in two languages putting a option (eg. &quot;--language=english&quot;) in the run command like this:</p>\n<pre><code>java --language=&quot;english&quot; ClassName.java\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1634567836,"post_id":69617977,"comment_id":123053357,"body_markdown":"&quot;I have an error when i run my app&quot; -- none of those appear to be from your app.","body":"&quot;I have an error when i run my app&quot; -- none of those appear to be from your app."},{"owner":{"account_id":23003724,"reputation":9,"user_id":17127344,"display_name":"Robert LiBert"},"score":0,"creation_date":1634568989,"post_id":69617977,"comment_id":123053899,"body_markdown":"In my phone, I find a package name google browser: com.android.chrome. But i can run my app","body":"In my phone, I find a package name google browser: com.android.chrome. But i can run my app"}],"answers":[{"tags":[],"owner":{"account_id":10306197,"reputation":360,"user_id":7603369,"display_name":"Romman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634569085,"creation_date":1634569085,"answer_id":69618254,"question_id":69617977,"body_markdown":"The error is: `E/Parcel: Reading a NULL string not supported here.`\r\nPut your intent code into try-catch. Also check the intent returned by `getPackageManager().getLaunchIntentForPackage(&quot;com.android.chrome&quot;);`","title":"Cant open another app by my app in Android Studio","body":"<p>The error is: <code>E/Parcel: Reading a NULL string not supported here.</code>\nPut your intent code into try-catch. Also check the intent returned by <code>getPackageManager().getLaunchIntentForPackage(&quot;com.android.chrome&quot;);</code></p>\n"}],"owner":{"account_id":23003724,"reputation":9,"user_id":17127344,"display_name":"Robert LiBert"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9407,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634569085,"creation_date":1634567771,"question_id":69617977,"body_markdown":"I have an error when i run my app:\r\n\r\n    E/Parcel: Reading a NULL string not supported here.\r\n     Reading a NULL string not supported here.\r\n    D/gift-manager: getGiftPara pkg(com.example.myhomie,260,), ret=-22\r\n    I/libMEOW_gift: ctx:0xb40000786ccfd928, ARC not Enabled.\r\n    E/libEGL: Invalid file path for libcolorx-loader.so\r\n    I/chatty: uid=10300(com.example.myhomie) RenderThread identical 62 lines\r\n    E/libEGL: Invalid file path for libcolorx-loader.so\r\n    E/ion: ioctl c0044901 failed with code -1: Invalid argument\r\n    E/Parcel: Reading a NULL string not supported here.\r\n\r\nMycode:\r\n\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cctv);\r\n        start = findViewById(R.id.button2);\r\n        start.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = \r\n                getPackageManager().getLaunchIntentForPackage(&quot;com.android.chrome&quot;);\r\n                startActivity(intent);\r\n             }\r\n            });\r\n           }\r\n\r\n\r\nCan anyone help me where is the error? Thanks you so much","title":"Cant open another app by my app in Android Studio","body":"<p>I have an error when i run my app:</p>\n<pre><code>E/Parcel: Reading a NULL string not supported here.\n Reading a NULL string not supported here.\nD/gift-manager: getGiftPara pkg(com.example.myhomie,260,), ret=-22\nI/libMEOW_gift: ctx:0xb40000786ccfd928, ARC not Enabled.\nE/libEGL: Invalid file path for libcolorx-loader.so\nI/chatty: uid=10300(com.example.myhomie) RenderThread identical 62 lines\nE/libEGL: Invalid file path for libcolorx-loader.so\nE/ion: ioctl c0044901 failed with code -1: Invalid argument\nE/Parcel: Reading a NULL string not supported here.\n</code></pre>\n<p>Mycode:</p>\n<pre><code>  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_cctv);\n    start = findViewById(R.id.button2);\n    start.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = \n            getPackageManager().getLaunchIntentForPackage(&quot;com.android.chrome&quot;);\n            startActivity(intent);\n         }\n        });\n       }\n</code></pre>\n<p>Can anyone help me where is the error? Thanks you so much</p>\n"},{"tags":["java","datetimeformatter","offsetdatetime"],"comments":[{"owner":{"account_id":8377128,"reputation":444,"user_id":6290302,"display_name":"Stefan"},"score":0,"creation_date":1634568257,"post_id":69617726,"comment_id":123053584,"body_markdown":"Yes, I tried:  \n\nUnable to obtain OffsetDateTime from TemporalAccessor: {InstantSeconds=1629206809},ISO,Z resolved to 2021-08-17T13:26:49","body":"Yes, I tried:    Unable to obtain OffsetDateTime from TemporalAccessor: {InstantSeconds=1629206809},ISO,Z resolved to 2021-08-17T13:26:49"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634568903,"creation_date":1634566925,"answer_id":69617785,"question_id":69617726,"body_markdown":"### Update\r\n\r\nI understood from you that you are using the API as follows:\r\n\r\n    apiClient.getJSON().setOffsetDateTimeFormat(DateTimeFormatter); \r\n\r\nand you do not have a parameter to pass timezone information. In this case, you can use `DateTimeFormatter#withZone` as shown below:\r\n\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmss&quot;, Locale.ENGLISH)\r\n    \t\t\t\t\t\t\t\t\t\t.withZone(ZoneOffset.UTC);\r\n    \r\n    \t\tOffsetDateTime odt = OffsetDateTime.parse(&quot;20210817132649&quot;, formatter);\r\n    \r\n    \t\tSystem.out.println(odt);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2021-08-17T13:26:49Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\ni.e. now, your call will be:\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmss&quot;, Locale.ENGLISH)\r\n                                    .withZone(ZoneOffset.UTC);\r\n    \r\n    apiClient.getJSON().setOffsetDateTimeFormat(formatter); \r\n\r\n### Original answer\r\n\r\nYour date-time string does not have a timezone offset. Parse it into a `LocalDateTime` and then apply the offset to it.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneOffset;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmss&quot;, Locale.ENGLISH);\r\n    \t\t\r\n    \t\tOffsetDateTime odt = LocalDateTime.parse(&quot;20210817132649&quot;, formatter)\r\n    \t\t\t\t\t\t\t\t.atOffset(ZoneOffset.UTC);\r\n    \t\t\r\n    \t\tSystem.out.println(odt);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2021-08-17T13:26:49Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][2]\r\n\r\nThe `Z` in the output is the [timezone designator](https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators) for zero-timezone offset. It stands for Zulu and specifies the `Etc/UTC` timezone (which has the timezone offset of `+00:00` hours). You can specify a different timezone offset (e.g. `ZoneOffset.of(&quot;+05:30&quot;)`) as per your requirement. \r\n\r\n### In case you have `ZoneId` available\r\n\r\nIf you have `ZoneId` available, you should parse the given date-time string into a `LocalDateTime` and then apply the `ZoneId` to it to get a `ZonedDateTime` from which you can always obtain an `OffsetDateTime`. The best thing about a `ZonedDateTime` is that it has been designed to adjust the timezone offset automatically whereas an `OffsetDateTime` is used to represent a fixed timezone offset.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmss&quot;, Locale.ENGLISH);\r\n    \r\n    \t\tZonedDateTime zdt = LocalDateTime.parse(&quot;20210817132649&quot;, formatter)\r\n    \t\t\t\t\t\t\t\t.atZone(ZoneId.of(&quot;Etc/UTC&quot;));\r\n    \r\n    \t\tOffsetDateTime odt = zdt.toOffsetDateTime();\r\n    \r\n    \t\tSystem.out.println(odt);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2021-08-17T13:26:49Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][3]\r\n\r\nYou can specify a different `ZoneId`(e.g. `ZoneId.of(&quot;Asia/Kolkata&quot;)`) as per your requirement. \r\n\r\nLearn more about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/nBdGwE\r\n  [2]: https://ideone.com/8xVfSO\r\n  [3]: https://ideone.com/gBOL9q","title":"How to parse DateTime in format yyyyMMddHHmmss to OffsetDateTime using DateFormatter","body":"<h3>Update</h3>\n<p>I understood from you that you are using the API as follows:</p>\n<pre><code>apiClient.getJSON().setOffsetDateTimeFormat(DateTimeFormatter); \n</code></pre>\n<p>and you do not have a parameter to pass timezone information. In this case, you can use <code>DateTimeFormatter#withZone</code> as shown below:</p>\n<pre><code>import java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmss&quot;, Locale.ENGLISH)\n                                        .withZone(ZoneOffset.UTC);\n\n        OffsetDateTime odt = OffsetDateTime.parse(&quot;20210817132649&quot;, formatter);\n\n        System.out.println(odt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2021-08-17T13:26:49Z\n</code></pre>\n<p><a href=\"https://ideone.com/nBdGwE\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>i.e. now, your call will be:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmss&quot;, Locale.ENGLISH)\n                                .withZone(ZoneOffset.UTC);\n\napiClient.getJSON().setOffsetDateTimeFormat(formatter); \n</code></pre>\n<h3>Original answer</h3>\n<p>Your date-time string does not have a timezone offset. Parse it into a <code>LocalDateTime</code> and then apply the offset to it.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneOffset;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmss&quot;, Locale.ENGLISH);\n        \n        OffsetDateTime odt = LocalDateTime.parse(&quot;20210817132649&quot;, formatter)\n                                .atOffset(ZoneOffset.UTC);\n        \n        System.out.println(odt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2021-08-17T13:26:49Z\n</code></pre>\n<p><a href=\"https://ideone.com/8xVfSO\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>The <code>Z</code> in the output is the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Time_zone_designators\" rel=\"nofollow noreferrer\">timezone designator</a> for zero-timezone offset. It stands for Zulu and specifies the <code>Etc/UTC</code> timezone (which has the timezone offset of <code>+00:00</code> hours). You can specify a different timezone offset (e.g. <code>ZoneOffset.of(&quot;+05:30&quot;)</code>) as per your requirement.</p>\n<h3>In case you have <code>ZoneId</code> available</h3>\n<p>If you have <code>ZoneId</code> available, you should parse the given date-time string into a <code>LocalDateTime</code> and then apply the <code>ZoneId</code> to it to get a <code>ZonedDateTime</code> from which you can always obtain an <code>OffsetDateTime</code>. The best thing about a <code>ZonedDateTime</code> is that it has been designed to adjust the timezone offset automatically whereas an <code>OffsetDateTime</code> is used to represent a fixed timezone offset.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;uuuuMMddHHmmss&quot;, Locale.ENGLISH);\n\n        ZonedDateTime zdt = LocalDateTime.parse(&quot;20210817132649&quot;, formatter)\n                                .atZone(ZoneId.of(&quot;Etc/UTC&quot;));\n\n        OffsetDateTime odt = zdt.toOffsetDateTime();\n\n        System.out.println(odt);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2021-08-17T13:26:49Z\n</code></pre>\n<p><a href=\"https://ideone.com/gBOL9q\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>You can specify a different <code>ZoneId</code>(e.g. <code>ZoneId.of(&quot;Asia/Kolkata&quot;)</code>) as per your requirement.</p>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634567069,"creation_date":1634567069,"answer_id":69617812,"question_id":69617726,"body_markdown":"Better use a `ZonedDateTime` - the difference being the Day Saving Time, and countries on with the same zone offset. Maybe using the default `ZoneId`.","title":"How to parse DateTime in format yyyyMMddHHmmss to OffsetDateTime using DateFormatter","body":"<p>Better use a <code>ZonedDateTime</code> - the difference being the Day Saving Time, and countries on with the same zone offset. Maybe using the default <code>ZoneId</code>.</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634568137,"creation_date":1634568137,"answer_id":69618048,"question_id":69617726,"body_markdown":"Well, the string you passed in does not contain zone information, while an `OffsetDateTime` requires zone information.\r\n\r\nSo you&#39;ll have to set a value for it.\r\n\r\nYou could use the `DateTimeFormatterBuilder` class, which then can be instructed to use some default value if a field is missing from the parsed information:\r\n\r\n```java\r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n    .parseDefaulting(ChronoField.OFFSET_SECONDS, 0)\r\n    .appendPattern(&quot;yyyyMMddHHmmss&quot;)\r\n    .toFormatter(Locale.ROOT);\r\n```\r\n\r\nYou could also directly set an implied zone to the `DateTimeFormatter`:\r\n\r\n```java\r\nDateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;).withZone(ZoneOffset.UTC);\r\n```","title":"How to parse DateTime in format yyyyMMddHHmmss to OffsetDateTime using DateFormatter","body":"<p>Well, the string you passed in does not contain zone information, while an <code>OffsetDateTime</code> requires zone information.</p>\n<p>So you'll have to set a value for it.</p>\n<p>You could use the <code>DateTimeFormatterBuilder</code> class, which then can be instructed to use some default value if a field is missing from the parsed information:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .parseDefaulting(ChronoField.OFFSET_SECONDS, 0)\n    .appendPattern(&quot;yyyyMMddHHmmss&quot;)\n    .toFormatter(Locale.ROOT);\n</code></pre>\n<p>You could also directly set an implied zone to the <code>DateTimeFormatter</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;).withZone(ZoneOffset.UTC);\n</code></pre>\n"}],"owner":{"account_id":8377128,"reputation":444,"user_id":6290302,"display_name":"Stefan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69618048,"answer_count":3,"score":1,"last_activity_date":1634568903,"creation_date":1634566665,"question_id":69617726,"body_markdown":"I have an API for JSON parsing which requires a DateTimeFormatter instance in order to parse date time strings to OffsetDateTime. However I always get an exception **Unable to obtain ZoneOffset from TemporalAccessor: {},ISO resolved to 2021-08-17T13:26:49 of type java.time.format.Parsed**\r\nThe API uses OffsetDateTime.parse(String, DateFormatter).\r\n \r\n    // DateTimeFormatter instance to be provided to the API\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;);\r\n    // this is how the API uses the DateTimeFormatter instance\r\n    OffsetDateTime dateTime = OffsetDateTime.parse(&quot;20210817132649&quot;, formatter);\r\n\r\nHow do I have to create the DateTimeFormatter in order to deliver a ZoneOffset, so that the API is able to parse the DateTime correctly. The ZoneOffset may be UTC.","title":"How to parse DateTime in format yyyyMMddHHmmss to OffsetDateTime using DateFormatter","body":"<p>I have an API for JSON parsing which requires a DateTimeFormatter instance in order to parse date time strings to OffsetDateTime. However I always get an exception <strong>Unable to obtain ZoneOffset from TemporalAccessor: {},ISO resolved to 2021-08-17T13:26:49 of type java.time.format.Parsed</strong>\nThe API uses OffsetDateTime.parse(String, DateFormatter).</p>\n<pre><code>// DateTimeFormatter instance to be provided to the API\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;);\n// this is how the API uses the DateTimeFormatter instance\nOffsetDateTime dateTime = OffsetDateTime.parse(&quot;20210817132649&quot;, formatter);\n</code></pre>\n<p>How do I have to create the DateTimeFormatter in order to deliver a ZoneOffset, so that the API is able to parse the DateTime correctly. The ZoneOffset may be UTC.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1634566513,"post_id":69617654,"comment_id":123052768,"body_markdown":"Good question. How do you think this might be achieved? If you can show us how far you&#39;ve already got we can help you understand it.","body":"Good question. How do you think this might be achieved? If you can show us how far you&#39;ve already got we can help you understand it."},{"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"score":0,"creation_date":1634566706,"post_id":69617654,"comment_id":123052842,"body_markdown":"I&#39;m thinking of adding two for loops, comparing on the necessary fields and compute a list of candidates based on first 3 fields. Then find object with minimum date and add that to response list. And at the first for loop check if the first object is not already included in the result list. I&#39;m wondering if there is a better approach","body":"I&#39;m thinking of adding two for loops, comparing on the necessary fields and compute a list of candidates based on first 3 fields. Then find object with minimum date and add that to response list. And at the first for loop check if the first object is not already included in the result list. I&#39;m wondering if there is a better approach"},{"owner":{"account_id":2339925,"reputation":15581,"user_id":2051454,"accept_rate":60,"display_name":"Software Engineer"},"score":0,"creation_date":1634567201,"post_id":69617654,"comment_id":123053046,"body_markdown":"I&#39;ve voted to close this question because it&#39;s not a good match for stack overflow. There are other stack exchange sites that may be of more help. A good question here should include what you&#39;ve tried and an explanation of what has gone wrong.","body":"I&#39;ve voted to close this question because it&#39;s not a good match for stack overflow. There are other stack exchange sites that may be of more help. A good question here should include what you&#39;ve tried and an explanation of what has gone wrong."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1634568555,"post_id":69617654,"comment_id":123053721,"body_markdown":"It is unclear to me what your selection criteria is and what you really are trying to do.  If you had a method that does what you are asking, what would javadoc say?","body":"It is unclear to me what your selection criteria is and what you really are trying to do.  If you had a method that does what you are asking, what would javadoc say?"}],"answers":[{"tags":[],"owner":{"account_id":7032696,"reputation":789,"user_id":5387834,"accept_rate":0,"display_name":"Serge Iroshnikov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634567182,"creation_date":1634567182,"answer_id":69617834,"question_id":69617654,"body_markdown":"I would suggest to write a comparator and sort the list using it. Then you will be able to retrieve all the desired objects within one pass","title":"How to filter list based on custom criteria?","body":"<p>I would suggest to write a comparator and sort the list using it. Then you will be able to retrieve all the desired objects within one pass</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634567703,"creation_date":1634567703,"answer_id":69617956,"question_id":69617654,"body_markdown":"I understand you have a `List&lt;A&gt;` of objects of type `A`.  \r\n\r\nIt seems want to filter the list, querying it for items `A` that match some requirement.  What kinds of things you want to search when filtering that list isn&#39;t very clear.\r\n\r\n     List&lt;A&gt; items = ...; // setup the items\r\n     List&lt;A&gt; items_filtered = items.stream()\r\n       .filter( x -&gt; x.field1.equals(&quot;value&quot;) )\r\n       .collect(Collectors.toList());\r\n     List&lt;A&gt; items_filtered_2 = items.stream()\r\n       .filter( x -&gt; !x.field2.equals(&quot;other_value&quot;) )\r\n       .collect(Collectors.toList());\r\n\r\nThese filters can be applied to any list, including list that is the result of a previous filter, or you can combine two checks in the same filter.\r\n\r\n     List&lt;A&gt; fitlered_both = items.stream()\r\n       .filter( x -&gt; x.field1.equals(&quot;value&quot;) &amp;&amp; !x.field2.equals(&quot;other_value&quot;) )\r\n       .collect(Collectors.toList());","title":"How to filter list based on custom criteria?","body":"<p>I understand you have a <code>List&lt;A&gt;</code> of objects of type <code>A</code>.</p>\n<p>It seems want to filter the list, querying it for items <code>A</code> that match some requirement.  What kinds of things you want to search when filtering that list isn't very clear.</p>\n<pre><code> List&lt;A&gt; items = ...; // setup the items\n List&lt;A&gt; items_filtered = items.stream()\n   .filter( x -&gt; x.field1.equals(&quot;value&quot;) )\n   .collect(Collectors.toList());\n List&lt;A&gt; items_filtered_2 = items.stream()\n   .filter( x -&gt; !x.field2.equals(&quot;other_value&quot;) )\n   .collect(Collectors.toList());\n</code></pre>\n<p>These filters can be applied to any list, including list that is the result of a previous filter, or you can combine two checks in the same filter.</p>\n<pre><code> List&lt;A&gt; fitlered_both = items.stream()\n   .filter( x -&gt; x.field1.equals(&quot;value&quot;) &amp;&amp; !x.field2.equals(&quot;other_value&quot;) )\n   .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42395,"reputation":1101,"user_id":123498,"accept_rate":25,"display_name":"sushant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634568447,"creation_date":1634568044,"answer_id":69618032,"question_id":69617654,"body_markdown":"\r\nYou can try this \r\n\r\n    public static void main(String[] args) {\r\n        A first = new A(&quot;field1&quot;,&quot;field2&quot;,&quot;field3&quot;,null);\r\n        A second = new A(&quot;field1&quot;,&quot;field2&quot;,&quot;field3&quot;,LocalDate.now());\r\n        A third= new A(&quot;field1&quot;,&quot;field2&quot;,&quot;field3&quot;,LocalDate.now().plusMonths(3));\r\n        A forth= new A(&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,LocalDate.now().plusMonths(3));\r\n        A fifth = new A(&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,LocalDate.now().plusMonths(3));\r\n\r\n        List&lt;A&gt; collect = Stream.of(first, second, third, forth, fifth)\r\n       .collect(\r\n             Collectors.groupingBy(a -&gt; Objects.hash(a.field1, a.field2, a.field3),\r\n                        Collectors.minBy((o1, o2) -&gt; {\r\n                            if(o1 == null || o2 == null || o1.dateField == null || o2.dateField == null){\r\n                                return 1;\r\n                            }\r\n                            return o1.dateField.compareTo(o2.dateField);\r\n                        })))\r\n                .values().stream().map(Optional::get).collect(Collectors.toList());\r\n        System.out.println(collect);\r\n    }\r\n\r\nYou want to group the objects by similar objects first, `Objects.hash(field1, field2, field3)` will group objects based on `field1`, `field2`, and `field3`.\r\n\r\nNext you want to sort the grouping using `Localdate`.\r\nNext, we collect the first elements of each group, which is our answer.","title":"How to filter list based on custom criteria?","body":"<p>You can try this</p>\n<pre><code>public static void main(String[] args) {\n    A first = new A(&quot;field1&quot;,&quot;field2&quot;,&quot;field3&quot;,null);\n    A second = new A(&quot;field1&quot;,&quot;field2&quot;,&quot;field3&quot;,LocalDate.now());\n    A third= new A(&quot;field1&quot;,&quot;field2&quot;,&quot;field3&quot;,LocalDate.now().plusMonths(3));\n    A forth= new A(&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,LocalDate.now().plusMonths(3));\n    A fifth = new A(&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,LocalDate.now().plusMonths(3));\n\n    List&lt;A&gt; collect = Stream.of(first, second, third, forth, fifth)\n   .collect(\n         Collectors.groupingBy(a -&gt; Objects.hash(a.field1, a.field2, a.field3),\n                    Collectors.minBy((o1, o2) -&gt; {\n                        if(o1 == null || o2 == null || o1.dateField == null || o2.dateField == null){\n                            return 1;\n                        }\n                        return o1.dateField.compareTo(o2.dateField);\n                    })))\n            .values().stream().map(Optional::get).collect(Collectors.toList());\n    System.out.println(collect);\n}\n</code></pre>\n<p>You want to group the objects by similar objects first, <code>Objects.hash(field1, field2, field3)</code> will group objects based on <code>field1</code>, <code>field2</code>, and <code>field3</code>.</p>\n<p>Next you want to sort the grouping using <code>Localdate</code>.\nNext, we collect the first elements of each group, which is our answer.</p>\n"}],"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1634568447,"creation_date":1634566392,"question_id":69617654,"body_markdown":"I have a java list consisting of objects. Most of the objects have common fields and I need to keep just the one object from the list of candidates that have a specific field set. How can I achieve this? Example\r\n\r\n````\r\nclass A{\r\n  String field1;\r\n  String field2;\r\n  String field3;\r\n  LocalDate dateField;\r\n\r\n}\r\n````\r\nWith the following values;\r\n```\r\nA first = new A(&quot;field1&quot;,&quot;field2&quot;,&quot;field3&quot;,null);\r\nA second = new A(&quot;field1&quot;,&quot;field2&quot;,&quot;field3&quot;,LocalDate.now());\r\nA third= new A(&quot;field1&quot;,&quot;field2&quot;,&quot;field3&quot;,LocalDate.now().plusMonths(3));\r\nA forth= new A(&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,LocalDate.now().plusMonths(3));\r\nA fifth = new A(&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,LocalDate.now().plusMonths(3));\r\n````\r\nI need to write a method that returns a list consisting of second, forth and fifth. So if field1 field2 and field3 are identical, I need to keep the minimum localdate field. How to achieve this? ","title":"How to filter list based on custom criteria?","body":"<p>I have a java list consisting of objects. Most of the objects have common fields and I need to keep just the one object from the list of candidates that have a specific field set. How can I achieve this? Example</p>\n<pre><code>class A{\n  String field1;\n  String field2;\n  String field3;\n  LocalDate dateField;\n\n}\n</code></pre>\n<p>With the following values;</p>\n<pre><code>A first = new A(&quot;field1&quot;,&quot;field2&quot;,&quot;field3&quot;,null);\nA second = new A(&quot;field1&quot;,&quot;field2&quot;,&quot;field3&quot;,LocalDate.now());\nA third= new A(&quot;field1&quot;,&quot;field2&quot;,&quot;field3&quot;,LocalDate.now().plusMonths(3));\nA forth= new A(&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,LocalDate.now().plusMonths(3));\nA fifth = new A(&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,LocalDate.now().plusMonths(3));\n</code></pre>\n<p>I need to write a method that returns a list consisting of second, forth and fifth. So if field1 field2 and field3 are identical, I need to keep the minimum localdate field. How to achieve this?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634568338,"creation_date":1634543741,"answer_id":69612537,"question_id":69607766,"body_markdown":"I haven&#39;t heard of any QueryCursor class so far, but in Firestore you can **only** [store supported data types][1].\r\n\r\n**Edit:**\r\n\r\n&gt; But when I do so, I get errors in deserializing the object.\r\n\r\nThat&#39;s normal behavior since that type of object is not supported. So it cannot be deserialized.\r\n\r\n&gt; And for where to start at I want to store the last document snapshot on the Firestore database and retrieve it later for paginating.\r\n\r\nMost likely you should consider storing that data in a data structure called [SharedPreferences][2] and use it any time you need it. This persists application restarts.\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/manage-data/data-types\r\n  [2]: https://developer.android.com/reference/android/content/SharedPreferences","title":"Is it possible to store QueryCursor on Firestore?","body":"<p>I haven't heard of any QueryCursor class so far, but in Firestore you can <strong>only</strong> <a href=\"https://firebase.google.com/docs/firestore/manage-data/data-types\" rel=\"nofollow noreferrer\">store supported data types</a>.</p>\n<p><strong>Edit:</strong></p>\n<blockquote>\n<p>But when I do so, I get errors in deserializing the object.</p>\n</blockquote>\n<p>That's normal behavior since that type of object is not supported. So it cannot be deserialized.</p>\n<blockquote>\n<p>And for where to start at I want to store the last document snapshot on the Firestore database and retrieve it later for paginating.</p>\n</blockquote>\n<p>Most likely you should consider storing that data in a data structure called <a href=\"https://developer.android.com/reference/android/content/SharedPreferences\" rel=\"nofollow noreferrer\">SharedPreferences</a> and use it any time you need it. This persists application restarts.</p>\n"}],"owner":{"account_id":18315004,"reputation":188,"user_id":13336952,"display_name":"Tanish Ranjan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69612537,"answer_count":1,"score":0,"last_activity_date":1634568338,"creation_date":1634497861,"question_id":69607766,"body_markdown":"I want to know whether we can store query cursors on Firestore or not. If so then how can we retrieve it back as a DocumentSnapshot?","title":"Is it possible to store QueryCursor on Firestore?","body":"<p>I want to know whether we can store query cursors on Firestore or not. If so then how can we retrieve it back as a DocumentSnapshot?</p>\n"},{"tags":["java","android","qr-code","barcode-scanner","honeywell"],"answers":[{"tags":[],"owner":{"account_id":6376149,"reputation":1025,"user_id":4947010,"accept_rate":80,"display_name":"MrLeblond"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1437749976,"creation_date":1437749976,"answer_id":31613795,"question_id":31585811,"body_markdown":"I found two solutions two solutions for my issue.\r\n\r\n1st : Detect the device&#39;s model\r\n\r\n    public static boolean isDolphinDevice() {\r\n        return Build.MODEL.toLowerCase().contains(&quot;dolphin&quot;);\r\n    }\r\nWhere &quot;dolphin&quot; is a part of the device&#39;s model.\r\n\r\nAnd 2nd : check if the apps can loads Honeywell&#39;s libs\r\n\r\nLike this :\r\nhttps://stackoverflow.com/questions/5794227/how-to-check-if-class-exists-somewhere-in-package\r\n\r\nBye ! :)","title":"Android - Honeywell Dolphin - How to detect Laser Scanner","body":"<p>I found two solutions two solutions for my issue.</p>\n\n<p>1st : Detect the device's model</p>\n\n<pre><code>public static boolean isDolphinDevice() {\n    return Build.MODEL.toLowerCase().contains(\"dolphin\");\n}\n</code></pre>\n\n<p>Where \"dolphin\" is a part of the device's model.</p>\n\n<p>And 2nd : check if the apps can loads Honeywell's libs</p>\n\n<p>Like this :\n<a href=\"https://stackoverflow.com/questions/5794227/how-to-check-if-class-exists-somewhere-in-package\">How to check if class exists somewhere in package?</a></p>\n\n<p>Bye ! :)</p>\n"}],"owner":{"account_id":6376149,"reputation":1025,"user_id":4947010,"accept_rate":80,"display_name":"MrLeblond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2264,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":31613795,"answer_count":1,"score":6,"last_activity_date":1634568333,"creation_date":1437650292,"question_id":31585811,"body_markdown":"I hope find some help from anyone who has worked on Honeywell Dolphin devices.\r\nI&#39;m developing an Android barcode/qr code scan app for multi-devices and the major devices are Dolphin devices. (e.g Dolphin 70e Black)\r\n\r\nBut to get an app with full compatibility between all phones, I want to detect programmatically if the device which run the apps has the Laser Scanner with the android sdk, else the app, scan with Camera from device.\r\n\r\nMy issue, is that i didn&#39;t found help on web and Honeywell&#39;s docs.\r\n\r\nIf anyone can help me, that will be very cool !\r\n","title":"Android - Honeywell Dolphin - How to detect Laser Scanner","body":"<p>I hope find some help from anyone who has worked on Honeywell Dolphin devices.\nI'm developing an Android barcode/qr code scan app for multi-devices and the major devices are Dolphin devices. (e.g Dolphin 70e Black)</p>\n\n<p>But to get an app with full compatibility between all phones, I want to detect programmatically if the device which run the apps has the Laser Scanner with the android sdk, else the app, scan with Camera from device.</p>\n\n<p>My issue, is that i didn't found help on web and Honeywell's docs.</p>\n\n<p>If anyone can help me, that will be very cool !</p>\n"},{"tags":["java","spring","pagination"],"comments":[{"owner":{"account_id":6932710,"reputation":3956,"user_id":5321729,"accept_rate":67,"display_name":"Ajit Soman"},"score":0,"creation_date":1584337874,"post_id":60699127,"comment_id":107396163,"body_markdown":"if content of page is empty `content:[]` then `.map(...)` will not work","body":"if content of page is empty <code>content:[]</code> then <code>.map(...)</code> will not work"},{"owner":{"account_id":2650913,"reputation":771,"user_id":2292619,"accept_rate":78,"display_name":"Soham"},"score":0,"creation_date":1584394670,"post_id":60699127,"comment_id":107419295,"body_markdown":"The content is not, I actually check for it.","body":"The content is not, I actually check for it."}],"answers":[{"tags":[],"owner":{"account_id":13624644,"reputation":1269,"user_id":9828197,"display_name":"eugen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584406910,"creation_date":1584325093,"answer_id":60699587,"question_id":60699127,"body_markdown":"How about putting a real converter like below:\r\n\r\n```\r\n        Page&lt;T&gt; results = getPagedResults();\r\n        Page&lt;T&gt; convertedResults = results.map(new Converter&lt;T, T&gt;() {\r\n            @Override\r\n            public T convert(T page) {\r\n                Page page2 = new Page();\r\n                page2.setElement(&#39;some constant&#39;);\r\n                //set other fields\r\n\r\n                return page2;\r\n            }\r\n        });\r\n```","title":"How does map from Page from Spring data works?","body":"<p>How about putting a real converter like below:</p>\n\n<pre><code>        Page&lt;T&gt; results = getPagedResults();\n        Page&lt;T&gt; convertedResults = results.map(new Converter&lt;T, T&gt;() {\n            @Override\n            public T convert(T page) {\n                Page page2 = new Page();\n                page2.setElement('some constant');\n                //set other fields\n\n                return page2;\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634568294,"creation_date":1634568294,"answer_id":69618086,"question_id":60699127,"body_markdown":"You can use map the same way as we do: \r\n\r\n    results.map(mapper::convert)\r\n\r\nwhere the convert is the method of mapper to convert database entity to DTO or any another object.","title":"How does map from Page from Spring data works?","body":"<p>You can use map the same way as we do:</p>\n<pre><code>results.map(mapper::convert)\n</code></pre>\n<p>where the convert is the method of mapper to convert database entity to DTO or any another object.</p>\n"}],"owner":{"account_id":2650913,"reputation":771,"user_id":2292619,"accept_rate":78,"display_name":"Soham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634568294,"creation_date":1584319661,"question_id":60699127,"body_markdown":"As the title says how does the [map](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Page.html#map-java.util.function.Function-) from org.springframework.data.domain.Page work?\r\n\r\nAs per the documentation, it suggests that you put a converter as a map parameter, and you get a new map with the converted contents. As per this interpretation, I wrote code to something as follows.\r\n\r\n```\r\nPage&lt;T&gt; results = getPagedResults();\r\nreturn results.map(x -&gt; {\r\n  x.setElement(&quot;some constant&quot;);\r\n  return x;\r\n});\r\n```\r\n\r\nHowever the above did not work as expected. I got the Page with all the other values intact like count and so on, but the content was an empty list! I actually had to write code this way.\r\n\r\n```\r\nPage&lt;T&gt; results = getPagedResults();\r\nreturn new Page&lt;T&gt;() {\r\n  @Override\r\n  public int getTotalPages() {\r\n    return results.getTotalPages();\r\n  }\r\n  \r\n  ...\r\n\r\n  @Override\r\n  public List&lt;T&gt; getContent() {\r\n    List&lt;T&gt; contents = result.getContent();\r\n    for (T content : contents) {\r\n      content.setElement(&quot;some constant&quot;);\r\n    }\r\n    return contents;\r\n  }\r\n \r\n  ...\r\n};\r\n```\r\n\r\nThe second choice is verbose and seems to do redundant work. I would have expected the first piece of code to do the same, but it did not.\r\n\r\nAm I reading the documentation wrong? And where would you use the map function of Page if it is not supposed to be used, the way I was using it?","title":"How does map from Page from Spring data works?","body":"<p>As the title says how does the <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Page.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">map</a> from org.springframework.data.domain.Page work?</p>\n\n<p>As per the documentation, it suggests that you put a converter as a map parameter, and you get a new map with the converted contents. As per this interpretation, I wrote code to something as follows.</p>\n\n<pre><code>Page&lt;T&gt; results = getPagedResults();\nreturn results.map(x -&gt; {\n  x.setElement(\"some constant\");\n  return x;\n});\n</code></pre>\n\n<p>However the above did not work as expected. I got the Page with all the other values intact like count and so on, but the content was an empty list! I actually had to write code this way.</p>\n\n<pre><code>Page&lt;T&gt; results = getPagedResults();\nreturn new Page&lt;T&gt;() {\n  @Override\n  public int getTotalPages() {\n    return results.getTotalPages();\n  }\n\n  ...\n\n  @Override\n  public List&lt;T&gt; getContent() {\n    List&lt;T&gt; contents = result.getContent();\n    for (T content : contents) {\n      content.setElement(\"some constant\");\n    }\n    return contents;\n  }\n\n  ...\n};\n</code></pre>\n\n<p>The second choice is verbose and seems to do redundant work. I would have expected the first piece of code to do the same, but it did not.</p>\n\n<p>Am I reading the documentation wrong? And where would you use the map function of Page if it is not supposed to be used, the way I was using it?</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634568019,"creation_date":1634568019,"answer_id":69618027,"question_id":69452682,"body_markdown":"As soon as an exception happens on a JDBC connection, the transaction is considered rollback only, so you can&#39;t query the database anymore. You will have to create a new transaction. Overall, it would be better if you join fetch the distributor along when fetching products to avoid this issue. You could achieve that by annotating the `findById` method with `@EntityGraph(&quot;distributors&quot;)`","title":"hibernate could not initialize lazy entity after exception in same session","body":"<p>As soon as an exception happens on a JDBC connection, the transaction is considered rollback only, so you can't query the database anymore. You will have to create a new transaction. Overall, it would be better if you join fetch the distributor along when fetching products to avoid this issue. You could achieve that by annotating the <code>findById</code> method with <code>@EntityGraph(&quot;distributors&quot;)</code></p>\n"}],"owner":{"account_id":10298913,"reputation":2491,"user_id":7598188,"accept_rate":43,"display_name":"Manish Bansal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634568019,"creation_date":1633445476,"question_id":69452682,"body_markdown":"I have one `Product` entity which has `@OneToMany` relationship with `Distributor` entity. Now, these `Distributor` entities are linked with other `Product` entities as well.\r\n\r\nE.g. `Product1` is having `Distributor1`,`Distributor2` and `Distributor3` as children. And `Product2` is having `Distributor1`,`Distributor2` as children.\r\n\r\nNow, my requirement is to fetch distributors of each product. Now, due to some data issue, `Distributor3` entity got deleted from Database. Hence, when we were initializing the `Distributor` entities of `Product1`, we got the exception as `javax.persistence.EntityNotFoundException: Unable to find com.comapny.Distributor with id xx` which is fine.\r\n\r\nHowever, due to this error, it did not initialize the `Distributor` entities of `Product2` properly. By not initialzing, I mean, hibernate did create pojo for those entities but did not assign values from DB and hence all values were null. As a result, we received null values for all the fields of `Distributor1` and `Distributor2`\r\n\r\nMy thought process is, hibernate did create empty entities while initializing them for `Product1` but since we got an exception there, it might not have initialized them properly but empty entities remained in hibernate session. And then while initializing them for `Product2`, hibernate found them in the session and hence did not care querying them from DB.\r\n\r\nQuestions:\r\n1. Is my understanding correct?\r\n2. How to make hibernate discard all the entites it initialized previously if an exception occurred. Or how to solve this issue.\r\n\r\nCode snippets:\r\nProduct.java\r\n```\r\n@Entity\r\n@Data\r\npublic class Product{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Basic(optional = false)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    protected Long id;\r\n\r\n    @JoinTable\r\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    private Set&lt;Distributor&gt; distributors = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\nDistributor.java\r\n```\r\n@Entity\r\n@Data\r\npublic class Distributor{\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Basic(optional = false)\r\n\t@Column(name = &quot;id&quot;, nullable = false)\r\n\tprotected Long id;\r\n\r\n    public String distributorName;\r\n}\r\n```\r\nMyController.java\r\n```\r\n@RestController\r\npublic class MyController extends BaseController {\r\n\t@Autowired\r\n\tprivate MyService myService;\r\n    @RequestMapping(value = { &quot;/resources/products&quot;}, method = RequestMethod.GET)\r\n\tpublic List&lt;MyResponse&gt; getproductDistributors(@RequestParam(required = true) List&lt;Long&gt; productIds){\r\n        // Input received as 2 products. i.e. `Product1` and `Product2`.\r\n        List&lt;Product&gt; allProducts = new ArrayList&lt;&gt;();\r\n        productIds.forEach(id-&gt;{\r\n          Product prod = myService.getFullProduct(id);\r\n          if(prod!=null)\r\n            allProducts.add(prod);\r\n        });\r\n        // Here, I checked that distributor of `Product2` were initialized to null values.\r\n        //Populate MyResponse and return\r\n    }\r\n}\r\n```\r\nMyService.java\r\n```\r\n@Service\r\npublic class MyService {\r\n    //Autowire dependencies\r\n\r\n    @Transactional(readOnly = true)\r\n    public Product getFullProduct(Long productId) {\r\n\t\tProduct product = productRepository.findById(productId);\r\n        try{\r\n\t\tHibernate.initialize(product.getDistributors());\r\n        } catch(Exception e){\r\n          // Exception if any distributor is missing due to data issue.\r\n             return null;\r\n        }\r\n\t\treturn product;\r\n\t}\r\n}\r\n```","title":"hibernate could not initialize lazy entity after exception in same session","body":"<p>I have one <code>Product</code> entity which has <code>@OneToMany</code> relationship with <code>Distributor</code> entity. Now, these <code>Distributor</code> entities are linked with other <code>Product</code> entities as well.</p>\n<p>E.g. <code>Product1</code> is having <code>Distributor1</code>,<code>Distributor2</code> and <code>Distributor3</code> as children. And <code>Product2</code> is having <code>Distributor1</code>,<code>Distributor2</code> as children.</p>\n<p>Now, my requirement is to fetch distributors of each product. Now, due to some data issue, <code>Distributor3</code> entity got deleted from Database. Hence, when we were initializing the <code>Distributor</code> entities of <code>Product1</code>, we got the exception as <code>javax.persistence.EntityNotFoundException: Unable to find com.comapny.Distributor with id xx</code> which is fine.</p>\n<p>However, due to this error, it did not initialize the <code>Distributor</code> entities of <code>Product2</code> properly. By not initialzing, I mean, hibernate did create pojo for those entities but did not assign values from DB and hence all values were null. As a result, we received null values for all the fields of <code>Distributor1</code> and <code>Distributor2</code></p>\n<p>My thought process is, hibernate did create empty entities while initializing them for <code>Product1</code> but since we got an exception there, it might not have initialized them properly but empty entities remained in hibernate session. And then while initializing them for <code>Product2</code>, hibernate found them in the session and hence did not care querying them from DB.</p>\n<p>Questions:</p>\n<ol>\n<li>Is my understanding correct?</li>\n<li>How to make hibernate discard all the entites it initialized previously if an exception occurred. Or how to solve this issue.</li>\n</ol>\n<p>Code snippets:\nProduct.java</p>\n<pre><code>@Entity\n@Data\npublic class Product{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = &quot;id&quot;, nullable = false)\n    protected Long id;\n\n    @JoinTable\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n    private Set&lt;Distributor&gt; distributors = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>Distributor.java</p>\n<pre><code>@Entity\n@Data\npublic class Distributor{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = &quot;id&quot;, nullable = false)\n    protected Long id;\n\n    public String distributorName;\n}\n</code></pre>\n<p>MyController.java</p>\n<pre><code>@RestController\npublic class MyController extends BaseController {\n    @Autowired\n    private MyService myService;\n    @RequestMapping(value = { &quot;/resources/products&quot;}, method = RequestMethod.GET)\n    public List&lt;MyResponse&gt; getproductDistributors(@RequestParam(required = true) List&lt;Long&gt; productIds){\n        // Input received as 2 products. i.e. `Product1` and `Product2`.\n        List&lt;Product&gt; allProducts = new ArrayList&lt;&gt;();\n        productIds.forEach(id-&gt;{\n          Product prod = myService.getFullProduct(id);\n          if(prod!=null)\n            allProducts.add(prod);\n        });\n        // Here, I checked that distributor of `Product2` were initialized to null values.\n        //Populate MyResponse and return\n    }\n}\n</code></pre>\n<p>MyService.java</p>\n<pre><code>@Service\npublic class MyService {\n    //Autowire dependencies\n\n    @Transactional(readOnly = true)\n    public Product getFullProduct(Long productId) {\n        Product product = productRepository.findById(productId);\n        try{\n        Hibernate.initialize(product.getDistributors());\n        } catch(Exception e){\n          // Exception if any distributor is missing due to data issue.\n             return null;\n        }\n        return product;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","components"],"comments":[{"owner":{"display_name":"user16473175"},"score":1,"creation_date":1634568496,"post_id":40775607,"comment_id":123053704,"body_markdown":"I think you can use [**`instanceof`**](https://www.javatpoint.com/downcasting-with-instanceof-operator).","body":"I think you can use <a href=\"https://www.javatpoint.com/downcasting-with-instanceof-operator\" rel=\"nofollow noreferrer\"><b><code>instanceof</code></b></a>."}],"answers":[{"tags":[],"owner":{"account_id":7505011,"reputation":1201,"user_id":7021836,"accept_rate":89,"display_name":"ack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1601486786,"creation_date":1479944718,"answer_id":40775992,"question_id":40775607,"body_markdown":"You could use `instanceof` to check if the component is a certain type, the cast that type to it. Most components have a getText() method.\r\n\r\nExample:\r\n\r\n    for(Component c : this.getComponents()) {\r\n           if(c instanceof JLabel){\r\n               JLabel label = (JLabel) c;\r\n               String text = label.getText();\r\n           }\r\n    }\r\n\r\nRepeat `instanceof` with as many Component types as necessary.","title":"Java set/get all component&#39;s text in a JFrame","body":"<p>You could use <code>instanceof</code> to check if the component is a certain type, the cast that type to it. Most components have a getText() method.</p>\n<p>Example:</p>\n<pre><code>for(Component c : this.getComponents()) {\n       if(c instanceof JLabel){\n           JLabel label = (JLabel) c;\n           String text = label.getText();\n       }\n}\n</code></pre>\n<p>Repeat <code>instanceof</code> with as many Component types as necessary.</p>\n"},{"tags":[],"owner":{"account_id":21032417,"reputation":95,"user_id":15456485,"display_name":"sahlaysta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634567755,"creation_date":1619357538,"answer_id":67253958,"question_id":40775607,"body_markdown":"This should work for any object of Java Swing\r\n\r\n\tpublic static void setSwingObjectText(Object object, String text) {\r\n\t\tif (object instanceof javax.swing.AbstractButton)\r\n\t\t\t((javax.swing.AbstractButton)object).setText(text);\r\n\t\telse if (object instanceof javax.swing.JEditorPane)\r\n\t\t\t((javax.swing.JEditorPane)object).setText(text);\r\n\t\telse if (object instanceof javax.swing.JLabel)\r\n\t\t\t((javax.swing.JLabel)object).setText(text);\r\n\t\telse if (object instanceof javax.swing.text.JTextComponent)\r\n\t\t\t((javax.swing.text.JTextComponent)object).setText(text);\r\n\t\telse if (object instanceof java.awt.Frame)\r\n\t\t\t((java.awt.Frame)object).setTitle(text);\r\n\t\telse if (object instanceof java.awt.Dialog)\r\n\t\t\t((java.awt.Dialog)object).setTitle(text);\r\n\t\telse if (object instanceof javax.swing.JInternalFrame)\r\n\t\t\t((javax.swing.JInternalFrame)object).setTitle(text);\r\n\t\telse if (object instanceof javax.swing.border.TitledBorder)\r\n\t\t\t((javax.swing.border.TitledBorder)object).setTitle(text);\r\n\t}\r\n\tpublic static String getSwingObjectText(Object object) {\r\n\t\tif (object instanceof javax.swing.AbstractButton)\r\n\t\t\treturn ((javax.swing.AbstractButton)object).getText();\r\n\t\telse if (object instanceof javax.swing.JEditorPane)\r\n\t\t\treturn ((javax.swing.JEditorPane)object).getText();\r\n\t\telse if (object instanceof javax.swing.JLabel)\r\n\t\t\treturn ((javax.swing.JLabel)object).getText();\r\n\t\telse if (object instanceof javax.swing.text.JTextComponent)\r\n\t\t\treturn ((javax.swing.text.JTextComponent)object).getText();\r\n\t\telse if (object instanceof java.awt.Frame)\r\n\t\t\treturn ((java.awt.Frame)object).getTitle();\r\n\t\telse if (object instanceof java.awt.Dialog)\r\n\t\t\treturn ((java.awt.Dialog)object).getTitle();\r\n\t\telse if (object instanceof javax.swing.JInternalFrame)\r\n\t\t\treturn ((javax.swing.JInternalFrame)object).getTitle();\r\n\t\telse if (object instanceof javax.swing.border.TitledBorder)\r\n\t\t\treturn ((javax.swing.border.TitledBorder)object).getTitle();\r\n\t\telse\r\n\t\t\treturn null; //no match\r\n\t}","title":"Java set/get all component&#39;s text in a JFrame","body":"<p>This should work for any object of Java Swing</p>\n<pre><code>public static void setSwingObjectText(Object object, String text) {\n    if (object instanceof javax.swing.AbstractButton)\n        ((javax.swing.AbstractButton)object).setText(text);\n    else if (object instanceof javax.swing.JEditorPane)\n        ((javax.swing.JEditorPane)object).setText(text);\n    else if (object instanceof javax.swing.JLabel)\n        ((javax.swing.JLabel)object).setText(text);\n    else if (object instanceof javax.swing.text.JTextComponent)\n        ((javax.swing.text.JTextComponent)object).setText(text);\n    else if (object instanceof java.awt.Frame)\n        ((java.awt.Frame)object).setTitle(text);\n    else if (object instanceof java.awt.Dialog)\n        ((java.awt.Dialog)object).setTitle(text);\n    else if (object instanceof javax.swing.JInternalFrame)\n        ((javax.swing.JInternalFrame)object).setTitle(text);\n    else if (object instanceof javax.swing.border.TitledBorder)\n        ((javax.swing.border.TitledBorder)object).setTitle(text);\n}\npublic static String getSwingObjectText(Object object) {\n    if (object instanceof javax.swing.AbstractButton)\n        return ((javax.swing.AbstractButton)object).getText();\n    else if (object instanceof javax.swing.JEditorPane)\n        return ((javax.swing.JEditorPane)object).getText();\n    else if (object instanceof javax.swing.JLabel)\n        return ((javax.swing.JLabel)object).getText();\n    else if (object instanceof javax.swing.text.JTextComponent)\n        return ((javax.swing.text.JTextComponent)object).getText();\n    else if (object instanceof java.awt.Frame)\n        return ((java.awt.Frame)object).getTitle();\n    else if (object instanceof java.awt.Dialog)\n        return ((java.awt.Dialog)object).getTitle();\n    else if (object instanceof javax.swing.JInternalFrame)\n        return ((javax.swing.JInternalFrame)object).getTitle();\n    else if (object instanceof javax.swing.border.TitledBorder)\n        return ((javax.swing.border.TitledBorder)object).getTitle();\n    else\n        return null; //no match\n}\n</code></pre>\n"}],"owner":{"account_id":8327950,"reputation":39,"user_id":6257436,"accept_rate":100,"display_name":"Fusyoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40775992,"answer_count":2,"score":0,"last_activity_date":1634567755,"creation_date":1479942382,"question_id":40775607,"body_markdown":"I&#39;m trying to access all component&#39;s text in a JFrame, but with the method I found I cant do it.\r\n\r\n        for(Component c : this.getComponents()) {\r\n            c.setText(TRNASLATE(c.getText()));\r\n            // does not work: no set and getText methods\r\n        }\r\n\r\nIs there any way to get or set a component&#39;s text?\r\n\r\nBefore you ask: i&#39;m trying to translate elements on a JFrame without listing its components manually and setting their texts (it would take a long time to list them one-by-one)\r\n\r\nSorry for my english.","title":"Java set/get all component&#39;s text in a JFrame","body":"<p>I'm trying to access all component's text in a JFrame, but with the method I found I cant do it.</p>\n\n<pre><code>    for(Component c : this.getComponents()) {\n        c.setText(TRNASLATE(c.getText()));\n        // does not work: no set and getText methods\n    }\n</code></pre>\n\n<p>Is there any way to get or set a component's text?</p>\n\n<p>Before you ask: i'm trying to translate elements on a JFrame without listing its components manually and setting their texts (it would take a long time to list them one-by-one)</p>\n\n<p>Sorry for my english.</p>\n"},{"tags":["javascript","java","spring-security","basic-authentication"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1634629619,"post_id":69615309,"comment_id":123069318,"body_markdown":"See also https://stackoverflow.com/questions/34296208/remove-www-authenticate-header-from-basic-authentication-in-spring-boot","body":"See also <a href=\"https://stackoverflow.com/questions/34296208/remove-www-authenticate-header-from-basic-authentication-in-spring-boot\" title=\"remove www authenticate header from basic authentication in spring boot\">stackoverflow.com/questions/34296208/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14629418,"reputation":99,"user_id":10565736,"display_name":"Patryk Szymon Młyńczak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634567751,"creation_date":1634567751,"answer_id":69617973,"question_id":69615309,"body_markdown":"I couldn&#39;t find the answer before, every response I found consisted of &quot;disable httpBasic&quot; and that wasn&#39;t a satisfying solution. \r\nHere is a Topic :\r\nhttps://stackoverflow.com/questions/37763186/spring-boot-security-shows-http-basic-auth-popup-after-failed-login\r\n\r\nand these lines solved my problem: \r\n\r\n````\r\nhttpBasic()\r\n                .authenticationEntryPoint(new AuthenticationEntryPoint(){ //&lt;&lt; implementing this interface\r\n                    @Override\r\n                    public void commence(HttpServletRequest request, HttpServletResponse response,\r\n                        AuthenticationException authException) throws IOException, ServletException {\r\n                            //&gt;&gt;&gt; response.addHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;&quot; + realmName + &quot;\\&quot;&quot;); &lt;&lt;&lt; (((REMOVED)))\r\n                            response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\r\n                    }\r\n                });\r\n````\r\n","title":"Disable Sign In Window in Spring (Http Basic)","body":"<p>I couldn't find the answer before, every response I found consisted of &quot;disable httpBasic&quot; and that wasn't a satisfying solution.\nHere is a Topic :\n<a href=\"https://stackoverflow.com/questions/37763186/spring-boot-security-shows-http-basic-auth-popup-after-failed-login\">Spring Boot security shows Http-Basic-Auth popup after failed login</a></p>\n<p>and these lines solved my problem:</p>\n<pre><code>httpBasic()\n                .authenticationEntryPoint(new AuthenticationEntryPoint(){ //&lt;&lt; implementing this interface\n                    @Override\n                    public void commence(HttpServletRequest request, HttpServletResponse response,\n                        AuthenticationException authException) throws IOException, ServletException {\n                            //&gt;&gt;&gt; response.addHeader(&quot;WWW-Authenticate&quot;, &quot;Basic realm=\\&quot;&quot; + realmName + &quot;\\&quot;&quot;); &lt;&lt;&lt; (((REMOVED)))\n                            response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\n                    }\n                });\n</code></pre>\n"}],"owner":{"account_id":14629418,"reputation":99,"user_id":10565736,"display_name":"Patryk Szymon Młyńczak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1634642322,"accepted_answer_id":69617973,"answer_count":1,"score":0,"last_activity_date":1634567751,"creation_date":1634556728,"question_id":69615309,"body_markdown":"I&#39;m creating a simple app with a Sign-In site. \r\nI used HTTP basic type of authorization, but the problem is I don&#39;t know how to disable the pop-up window which is showing every time when I pass wrong credentials or in case of writing secured endpoint site before authentication.\r\n\r\nThe frontend is written in pure JS, launched without any template engine. Just js + html files in static dir.\r\n\r\nThe authentication page uses the Fetch Api to send headers with credentials \r\n\r\nDoes someone knows how to disable this window, shown below: \r\n\r\n[![Sign In Window][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LJ90k.png\r\n\r\nHere is my Security config class:\r\n\r\n````\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class CustomWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n\r\n    @Resource\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private CustomLogoutHandler logoutHandler;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(authProvider());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable().authorizeRequests()\r\n                .antMatchers(HttpMethod.POST, &quot;/demo/users/save&quot;).permitAll()\r\n                .antMatchers(HttpMethod.POST, &quot;/demo/users/**&quot;).permitAll()\r\n                .antMatchers(HttpMethod.POST, &quot;/users/*/save&quot;).permitAll()\r\n                .antMatchers(HttpMethod.DELETE, &quot;/users/**&quot;).permitAll()\r\n                .antMatchers(HttpMethod.POST, &quot;/users/*/verify&quot;).permitAll()\r\n                .antMatchers(HttpMethod.GET,&quot;/users/**&quot;).permitAll()\r\n                .antMatchers(HttpMethod.PUT,&quot;/users/**&quot;).permitAll()\r\n                .antMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot;).permitAll()\r\n                .antMatchers(&quot;/signup-page.html&quot;).permitAll()\r\n                .antMatchers(&quot;/landing-page.html&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                    .formLogin()\r\n                    .disable()\r\n                .logout()\r\n                    .logoutUrl(&quot;/logout&quot;)\r\n                    .addLogoutHandler(logoutHandler)\r\n                    .logoutSuccessUrl(&quot;/landing-page.html&quot;)\r\n                    .logoutSuccessHandler(new HttpStatusReturningLogoutSuccessHandler(HttpStatus.OK))\r\n                    .permitAll()\r\n                .and()\r\n                .httpBasic();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n\r\n\r\n\r\n````","title":"Disable Sign In Window in Spring (Http Basic)","body":"<p>I'm creating a simple app with a Sign-In site.\nI used HTTP basic type of authorization, but the problem is I don't know how to disable the pop-up window which is showing every time when I pass wrong credentials or in case of writing secured endpoint site before authentication.</p>\n<p>The frontend is written in pure JS, launched without any template engine. Just js + html files in static dir.</p>\n<p>The authentication page uses the Fetch Api to send headers with credentials</p>\n<p>Does someone knows how to disable this window, shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/LJ90k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LJ90k.png\" alt=\"Sign In Window\" /></a></p>\n<p>Here is my Security config class:</p>\n<pre><code>\n\n@Configuration\n@EnableWebSecurity\npublic class CustomWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n\n    @Resource\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    private CustomLogoutHandler logoutHandler;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authProvider());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeRequests()\n                .antMatchers(HttpMethod.POST, &quot;/demo/users/save&quot;).permitAll()\n                .antMatchers(HttpMethod.POST, &quot;/demo/users/**&quot;).permitAll()\n                .antMatchers(HttpMethod.POST, &quot;/users/*/save&quot;).permitAll()\n                .antMatchers(HttpMethod.DELETE, &quot;/users/**&quot;).permitAll()\n                .antMatchers(HttpMethod.POST, &quot;/users/*/verify&quot;).permitAll()\n                .antMatchers(HttpMethod.GET,&quot;/users/**&quot;).permitAll()\n                .antMatchers(HttpMethod.PUT,&quot;/users/**&quot;).permitAll()\n                .antMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot;).permitAll()\n                .antMatchers(&quot;/signup-page.html&quot;).permitAll()\n                .antMatchers(&quot;/landing-page.html&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                    .formLogin()\n                    .disable()\n                .logout()\n                    .logoutUrl(&quot;/logout&quot;)\n                    .addLogoutHandler(logoutHandler)\n                    .logoutSuccessUrl(&quot;/landing-page.html&quot;)\n                    .logoutSuccessHandler(new HttpStatusReturningLogoutSuccessHandler(HttpStatus.OK))\n                    .permitAll()\n                .and()\n                .httpBasic();\n\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n\n\n\n</code></pre>\n"},{"tags":["java","spring","inheritance","design-patterns"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1634558020,"post_id":69615463,"comment_id":123048779,"body_markdown":"Well, one pattern that comes to mind here is [&quot;Template method&quot;](https://en.wikipedia.org/wiki/Template_method_pattern). However, just extracting `createWorkbook()` and `writeWorkbookToFile()`-methods might get you a good way in the right direction as a first step.","body":"Well, one pattern that comes to mind here is <a href=\"https://en.wikipedia.org/wiki/Template_method_pattern\" rel=\"nofollow noreferrer\">&quot;Template method&quot;</a>. However, just extracting <code>createWorkbook()</code> and <code>writeWorkbookToFile()</code>-methods might get you a good way in the right direction as a first step."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1634558749,"post_id":69615463,"comment_id":123049071,"body_markdown":"@Hulk Thanks for reply, I al so thought something like that. But what about the special  lines? Any example post using the code please?","body":"@Hulk Thanks for reply, I al so thought something like that. But what about the special  lines? Any example post using the code please?"}],"answers":[{"tags":[],"owner":{"account_id":17337221,"reputation":73,"user_id":12558898,"display_name":"thevpc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634560368,"creation_date":1634560368,"answer_id":69616130,"question_id":69615463,"body_markdown":"If I have well understood your statement, this sounds to me a \r\n`Builder Pattern` that you are looking for. You methods are building a `MultipartFile` whereas the build process itself depends on &#39;arguments/parameters&#39; (here I guess sheet file path) and distinct code (the one you referred to as &quot;other lines special to this method&quot;).\r\n\r\nFor that I would create a class `MultipartFileBuilder` that does the staff and that I would call in each method; of course, by means of setting the appropriate parameters and &quot;code&quot; each time. The code is simply an implementation of the `java.util.function.Consumer&lt;T&gt;` functional interface used in the following code (*2) and other parameters are using simple setters as well (here (*1)).\r\n\r\nNote that I invoked the `Consumer&lt;T&gt;` as lambda expression here (the c-&gt;... construct). And note also that the type parameter `&lt;T&gt;` in `Consumer&lt;T&gt;` here is a new class I introduced `MultipartFileBuildContext` to allow multiple information to be passed to the code you are willing to write in each method. I guest the &#39;sheet&#39; var would be a starting point. You can add other information if you need to.\r\n\r\nTo summer up things, this is how the code would look : \r\n\r\n```lang-java\r\n    \r\n    @Override\r\n    public MultipartFile exportMethodA() throws IOException {\r\n        return new MultipartFileBuilder()\r\n                .setSheetPath(&quot;sheetA/path&quot;) (*1)\r\n                .setAction(c-&gt;{\r\n                    //(*2) do your staff here for method A\r\n                    // the &quot;other lines special to this method&quot;\r\n                    XSSFSheet sheet=c.getSheet()\r\n                    ...\r\n                }).build();\r\n    }\r\n\r\n    @Override\r\n    public MultipartFile exportMethodB() throws IOException {\r\n        return new MultipartFileBuilder()\r\n                .setSheetPath(&quot;sheetB/path&quot;) (*1)\r\n                .setAction(c-&gt;{\r\n                    //(*2) do your staff here for method B\r\n                    // the &quot;other lines special to this method&quot;\r\n                    XSSFSheet sheet=c.getSheet()\r\n                    ...\r\n                }).build();\r\n    }\r\n\r\n    class MultipartFileBuildContext {\r\n        private XSSFSheet sheet;\r\n        public MultipartFileBuildContext(XSSFSheet sheet){this.sheet=sheet;}\r\n        public String getSheetPath() {\r\n            return sheetPath;\r\n        }\r\n    }\r\n    \r\n    class MultipartFileBuilder {\r\n        String sheetPath; \r\n        Consumer&lt;MultipartFileBuildContext&gt; action; \r\n\r\n        public String getSheetPath() {\r\n            return sheetPath;\r\n        }\r\n\r\n        public MultipartFileBuilder setSheetPath(String sheetPath) {\r\n            this.sheetPath = sheetPath;\r\n            return this;\r\n        }\r\n\r\n        public Consumer&lt;MultipartFileBuildContext&gt; getAction() {\r\n            return action;\r\n        }\r\n\r\n        public MultipartFileBuilder setAction(Consumer&lt;MultipartFileBuildContext&gt; action) {\r\n            this.action = action;\r\n            return this;\r\n        }\r\n        \r\n        public MockMultipartFile build() {\r\n            // repeated lines\r\n            workbook = new XSSFWorkbook();\r\n            sheet = workbook.createSheet(sheetPath);\r\n\r\n            //\r\n            if(action!=null){\r\n                MultipartFileBuildContext c=new MultipartFileBuildContext(sheet);\r\n                action.accept(c);\r\n            }\r\n        \r\n        // repeated lines ======================================================\r\n        outputFile = File.createTempFile(...);\r\n        try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\r\n                workbook.write(outputStream);\r\n            } catch (IOException e) {\r\n                LoggingUtils.error(&quot;Writing failed &quot;, e);\r\n            }\r\n            final FileInputStream input = new FileInputStream(outputFile);\r\n\r\n            final String fileName = TextBundleUtil.read(...);\r\n            return new MockMultipartFile(fileName,\r\n                    fileName, CONTENT_TYPE, IOUtils.toByteArray(input));\r\n            //\r\n        }\r\n    }\r\n```\r\n\r\nAt the end, this pattern needs to be used with care because you need to factorize all that you can to make the builder really useful, but not too much to make it a &quot;boat of anything&quot;. For instance, you can have as input the sheet path or an inputstream of it to make it more useful/generic.","title":"Java: How to fix code duplication in multiple methods?","body":"<p>If I have well understood your statement, this sounds to me a\n<code>Builder Pattern</code> that you are looking for. You methods are building a <code>MultipartFile</code> whereas the build process itself depends on 'arguments/parameters' (here I guess sheet file path) and distinct code (the one you referred to as &quot;other lines special to this method&quot;).</p>\n<p>For that I would create a class <code>MultipartFileBuilder</code> that does the staff and that I would call in each method; of course, by means of setting the appropriate parameters and &quot;code&quot; each time. The code is simply an implementation of the <code>java.util.function.Consumer&lt;T&gt;</code> functional interface used in the following code (*2) and other parameters are using simple setters as well (here (*1)).</p>\n<p>Note that I invoked the <code>Consumer&lt;T&gt;</code> as lambda expression here (the c-&gt;... construct). And note also that the type parameter <code>&lt;T&gt;</code> in <code>Consumer&lt;T&gt;</code> here is a new class I introduced <code>MultipartFileBuildContext</code> to allow multiple information to be passed to the code you are willing to write in each method. I guest the 'sheet' var would be a starting point. You can add other information if you need to.</p>\n<p>To summer up things, this is how the code would look :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    \n    @Override\n    public MultipartFile exportMethodA() throws IOException {\n        return new MultipartFileBuilder()\n                .setSheetPath(&quot;sheetA/path&quot;) (*1)\n                .setAction(c-&gt;{\n                    //(*2) do your staff here for method A\n                    // the &quot;other lines special to this method&quot;\n                    XSSFSheet sheet=c.getSheet()\n                    ...\n                }).build();\n    }\n\n    @Override\n    public MultipartFile exportMethodB() throws IOException {\n        return new MultipartFileBuilder()\n                .setSheetPath(&quot;sheetB/path&quot;) (*1)\n                .setAction(c-&gt;{\n                    //(*2) do your staff here for method B\n                    // the &quot;other lines special to this method&quot;\n                    XSSFSheet sheet=c.getSheet()\n                    ...\n                }).build();\n    }\n\n    class MultipartFileBuildContext {\n        private XSSFSheet sheet;\n        public MultipartFileBuildContext(XSSFSheet sheet){this.sheet=sheet;}\n        public String getSheetPath() {\n            return sheetPath;\n        }\n    }\n    \n    class MultipartFileBuilder {\n        String sheetPath; \n        Consumer&lt;MultipartFileBuildContext&gt; action; \n\n        public String getSheetPath() {\n            return sheetPath;\n        }\n\n        public MultipartFileBuilder setSheetPath(String sheetPath) {\n            this.sheetPath = sheetPath;\n            return this;\n        }\n\n        public Consumer&lt;MultipartFileBuildContext&gt; getAction() {\n            return action;\n        }\n\n        public MultipartFileBuilder setAction(Consumer&lt;MultipartFileBuildContext&gt; action) {\n            this.action = action;\n            return this;\n        }\n        \n        public MockMultipartFile build() {\n            // repeated lines\n            workbook = new XSSFWorkbook();\n            sheet = workbook.createSheet(sheetPath);\n\n            //\n            if(action!=null){\n                MultipartFileBuildContext c=new MultipartFileBuildContext(sheet);\n                action.accept(c);\n            }\n        \n        // repeated lines ======================================================\n        outputFile = File.createTempFile(...);\n        try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\n                workbook.write(outputStream);\n            } catch (IOException e) {\n                LoggingUtils.error(&quot;Writing failed &quot;, e);\n            }\n            final FileInputStream input = new FileInputStream(outputFile);\n\n            final String fileName = TextBundleUtil.read(...);\n            return new MockMultipartFile(fileName,\n                    fileName, CONTENT_TYPE, IOUtils.toByteArray(input));\n            //\n        }\n    }\n</code></pre>\n<p>At the end, this pattern needs to be used with care because you need to factorize all that you can to make the builder really useful, but not too much to make it a &quot;boat of anything&quot;. For instance, you can have as input the sheet path or an inputstream of it to make it more useful/generic.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634567577,"creation_date":1634557453,"question_id":69615463,"body_markdown":"I have some theoretical knowledge related to Design Patterns and now I have some issues to make these info and another ones in action. \r\n\r\nI have the following 2 methods in my `ServiceImpl` class:\r\n\r\n\r\n```\r\n@Override\r\npublic MultipartFile exportA() throws IOException {\r\n    \r\n    // repeated lines-I same as exportB method (code omitted for brevity)\r\n    \r\n    // other lines special to exportA method\r\n\r\n    // repeated lines-II same as exportB method (code omitted for brevity)\r\n}\r\n```\r\n\r\n\r\n```\r\n@Override\r\npublic MultipartFile exportB() throws IOException {\r\n    \r\n    // repeated lines-I same as exportA method (code omitted for brevity)\r\n    \r\n    // other lines special to exportB method\r\n\r\n    // repeated lines-II same as exportA method (code omitted for brevity)\r\n}\r\n```\r\n\r\nAs it is shown, there are repeated parts in all of these methods. So, should I create 2 methods for repeated lines-I and II, eand then move these code blocks to these newly created 2 methods? Or, is there a better way for Design Patterns?","title":"Java: How to fix code duplication in multiple methods?","body":"<p>I have some theoretical knowledge related to Design Patterns and now I have some issues to make these info and another ones in action.</p>\n<p>I have the following 2 methods in my <code>ServiceImpl</code> class:</p>\n<pre><code>@Override\npublic MultipartFile exportA() throws IOException {\n    \n    // repeated lines-I same as exportB method (code omitted for brevity)\n    \n    // other lines special to exportA method\n\n    // repeated lines-II same as exportB method (code omitted for brevity)\n}\n</code></pre>\n<pre><code>@Override\npublic MultipartFile exportB() throws IOException {\n    \n    // repeated lines-I same as exportA method (code omitted for brevity)\n    \n    // other lines special to exportB method\n\n    // repeated lines-II same as exportA method (code omitted for brevity)\n}\n</code></pre>\n<p>As it is shown, there are repeated parts in all of these methods. So, should I create 2 methods for repeated lines-I and II, eand then move these code blocks to these newly created 2 methods? Or, is there a better way for Design Patterns?</p>\n"},{"tags":["java","openshift","keycloak","redhat","redhat-sso"],"comments":[{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":1,"creation_date":1609053510,"post_id":65463509,"comment_id":115737048,"body_markdown":"Can you check the server logs for details of the 400 error?","body":"Can you check the server logs for details of the 400 error?"},{"owner":{"account_id":2084841,"reputation":48,"user_id":1856038,"display_name":"Ajrarn"},"score":0,"creation_date":1609054525,"post_id":65463509,"comment_id":115737225,"body_markdown":"Hello, unfortunately I don&#39;t see anything related to this error in the logs for Red Hat SSO pod on Openshift. And on my application pod, just get a 400 Bad Request error with nothing more.","body":"Hello, unfortunately I don&#39;t see anything related to this error in the logs for Red Hat SSO pod on Openshift. And on my application pod, just get a 400 Bad Request error with nothing more."}],"answers":[{"tags":[],"owner":{"account_id":19771117,"reputation":23,"user_id":14478065,"display_name":"chefban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634567301,"creation_date":1634567301,"answer_id":69617868,"question_id":65463509,"body_markdown":"I had the same problem recently. It was just because the password was null. Maybe you should check the return of generateRandomPassword(). I hope this will help you if you still have this problem","title":"Error 400 when trying to reset user password on Red Hat SSO 7.3 (Keycloak) with Java API","body":"<p>I had the same problem recently. It was just because the password was null. Maybe you should check the return of generateRandomPassword(). I hope this will help you if you still have this problem</p>\n"}],"owner":{"account_id":2084841,"reputation":48,"user_id":1856038,"display_name":"Ajrarn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":944,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634567301,"creation_date":1609051975,"question_id":65463509,"body_markdown":"I&#39;m trying to create a user with a temporary password on Red Hat Single Sign On 7.3 (Keycloak behind the scene) through Java API.\r\n\r\nLocally (with standard Keycloak, jboss/keycloak:9.0.0 Docker image), it is working fine.\r\nBut when deploying the same on Openshift 4.4 project, I get a 400 error from Red Hat SSO (7.3).\r\nUnfortunately, I have not so much in the log and I don&#39;t have possibility to configure anything on the Red Hat SSO server for it to be more verbose.\r\n\r\nOn the Red Hat SSO server, a dedicated &quot;keycloak-admin&quot; client has been created in the application Realm.\r\nClient is enabled with only &quot;Service Accounts Enabled&quot; option to ON.\r\nIn &quot;Service Account Roles&quot;, all roles from &quot;realm-management&quot; have been assigned and are effective.\r\n\r\nI&#39;m using this Maven dependency to deal with Keycloak Java API:\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n   &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n   &lt;version&gt;9.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHere is how I create connection with Keycloak through Java code:\r\n\r\n```\r\nKeycloak keycloak = KeycloakBuilder.builder()\r\n            .serverUrl(keycloakProperties.getHost())\r\n            .grantType(OAuth2Constants.CLIENT_CREDENTIALS)\r\n            .realm(&quot;app_realm&quot;)\r\n            .clientId(&quot;keycloak-admin&quot;)\r\n            .clientSecret(xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxx)\r\n            .resteasyClient(\r\n                new ResteasyClientBuilder()\r\n                    .connectionPoolSize(10).build()\r\n            ).build();\r\nkeycloak.tokenManager().getAccessToken();\r\nRealmResource realmResource = keycloak.realm(&quot;app_realm&quot;);\r\n```\r\n\r\nClient secret set is matching with secret in the &quot;keycloak-admin&quot; client in &quot;Credentials&quot; part.\r\n\r\nHere is how I create user through Java code :\r\n\r\n```\r\nfinal UserRepresentation user = new UserRepresentation();\r\nuser.setEnabled(true);\r\nuser.setEmailVerified(true);\r\nuser.setUsername(username);\r\nuser.setFirstName(firstName);\r\nuser.setLastName(lastName);\r\nuser.setEmail(email);\r\n\r\ntry {\r\n   final Response response = realmResource.users().create(user);\r\n   final String userId = CreatedResponseUtil.getCreatedId(response);\r\n} catch (final Exception exception) {\r\n   log.error(&quot;Exception when createKeycloakUser&quot;,exception);\r\n}\r\n```\r\n**This part is working fine locally and also in Red Hat SSO. User is created and can be retrieved on Keycloak.**\r\n\r\nThen I try to reset password like this:\r\n\r\n```\r\nfinal UserResource userResource = realmResource.users().get(userId );\r\n\r\nfinal CredentialRepresentation passwordCred = new CredentialRepresentation();\r\npasswordCred.setTemporary(true);\r\npasswordCred.setType(CredentialRepresentation.PASSWORD);\r\npasswordCred.setValue(generateRandomPassword());\r\nuserResource.resetPassword(passwordCred);\r\n```\r\n\r\n*generateRandomPassword* is a method generating a random password which matches with password policies defined on local Keycloak and on Red Hat SSO (Authentication/Password Policy).\r\n\r\nThis last part of the code is working fine locally but I get the 400 error on Red Hat SSO.\r\n\r\nFor you to know, I also try to create user with password directly but behavior is exactly the same.\r\nI also make a try with a connection to Keycloak using &quot;admin-cli&quot; client and admin account but issue remains.\r\n\r\nThanks in advance for all help or advices you could provide ! I&#39;m stuck on that and have no more idea for now...","title":"Error 400 when trying to reset user password on Red Hat SSO 7.3 (Keycloak) with Java API","body":"<p>I'm trying to create a user with a temporary password on Red Hat Single Sign On 7.3 (Keycloak behind the scene) through Java API.</p>\n<p>Locally (with standard Keycloak, jboss/keycloak:9.0.0 Docker image), it is working fine.\nBut when deploying the same on Openshift 4.4 project, I get a 400 error from Red Hat SSO (7.3).\nUnfortunately, I have not so much in the log and I don't have possibility to configure anything on the Red Hat SSO server for it to be more verbose.</p>\n<p>On the Red Hat SSO server, a dedicated &quot;keycloak-admin&quot; client has been created in the application Realm.\nClient is enabled with only &quot;Service Accounts Enabled&quot; option to ON.\nIn &quot;Service Account Roles&quot;, all roles from &quot;realm-management&quot; have been assigned and are effective.</p>\n<p>I'm using this Maven dependency to deal with Keycloak Java API:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n   &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n   &lt;version&gt;9.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is how I create connection with Keycloak through Java code:</p>\n<pre><code>Keycloak keycloak = KeycloakBuilder.builder()\n            .serverUrl(keycloakProperties.getHost())\n            .grantType(OAuth2Constants.CLIENT_CREDENTIALS)\n            .realm(&quot;app_realm&quot;)\n            .clientId(&quot;keycloak-admin&quot;)\n            .clientSecret(xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxx)\n            .resteasyClient(\n                new ResteasyClientBuilder()\n                    .connectionPoolSize(10).build()\n            ).build();\nkeycloak.tokenManager().getAccessToken();\nRealmResource realmResource = keycloak.realm(&quot;app_realm&quot;);\n</code></pre>\n<p>Client secret set is matching with secret in the &quot;keycloak-admin&quot; client in &quot;Credentials&quot; part.</p>\n<p>Here is how I create user through Java code :</p>\n<pre><code>final UserRepresentation user = new UserRepresentation();\nuser.setEnabled(true);\nuser.setEmailVerified(true);\nuser.setUsername(username);\nuser.setFirstName(firstName);\nuser.setLastName(lastName);\nuser.setEmail(email);\n\ntry {\n   final Response response = realmResource.users().create(user);\n   final String userId = CreatedResponseUtil.getCreatedId(response);\n} catch (final Exception exception) {\n   log.error(&quot;Exception when createKeycloakUser&quot;,exception);\n}\n</code></pre>\n<p><strong>This part is working fine locally and also in Red Hat SSO. User is created and can be retrieved on Keycloak.</strong></p>\n<p>Then I try to reset password like this:</p>\n<pre><code>final UserResource userResource = realmResource.users().get(userId );\n\nfinal CredentialRepresentation passwordCred = new CredentialRepresentation();\npasswordCred.setTemporary(true);\npasswordCred.setType(CredentialRepresentation.PASSWORD);\npasswordCred.setValue(generateRandomPassword());\nuserResource.resetPassword(passwordCred);\n</code></pre>\n<p><em>generateRandomPassword</em> is a method generating a random password which matches with password policies defined on local Keycloak and on Red Hat SSO (Authentication/Password Policy).</p>\n<p>This last part of the code is working fine locally but I get the 400 error on Red Hat SSO.</p>\n<p>For you to know, I also try to create user with password directly but behavior is exactly the same.\nI also make a try with a connection to Keycloak using &quot;admin-cli&quot; client and admin account but issue remains.</p>\n<p>Thanks in advance for all help or advices you could provide ! I'm stuck on that and have no more idea for now...</p>\n"},{"tags":["java","netbeans","junit","testing"],"answers":[{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1271697685,"creation_date":1271697685,"answer_id":2669449,"question_id":2669414,"body_markdown":"The JUnit answer to that question is to create one test method like this:\r\n\r\n      @Test public void testAll() {\r\n           classA.y();\r\n           classB.x();\r\n           classA.z();\r\n      }\r\n\r\nThat is obviously an unsatisfying answer in certain cases (where setup and teardown matter), but the JUnit view of unit testing is that if tests are not independant, you are doing something wrong.\r\n\r\nIf the above doesn&#39;t meet your needs, have a look at TestNG.","title":"Choose order to execute JUnit tests","body":"<p>The JUnit answer to that question is to create one test method like this:</p>\n\n<pre><code>  @Test public void testAll() {\n       classA.y();\n       classB.x();\n       classA.z();\n  }\n</code></pre>\n\n<p>That is obviously an unsatisfying answer in certain cases (where setup and teardown matter), but the JUnit view of unit testing is that if tests are not independant, you are doing something wrong.</p>\n\n<p>If the above doesn't meet your needs, have a look at TestNG.</p>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1271698000,"creation_date":1271698000,"answer_id":2669475,"question_id":2669414,"body_markdown":"If the previous answer is not satisfying I have noticed with the Sun JVM JUnit always seems to execute unit tests in the order of which they are defined. \r\nObviously this is not a good idea to rely on this.","title":"Choose order to execute JUnit tests","body":"<p>If the previous answer is not satisfying I have noticed with the Sun JVM JUnit always seems to execute unit tests in the order of which they are defined. \nObviously this is not a good idea to rely on this.</p>\n"},{"tags":[],"owner":{"account_id":45775,"reputation":12238,"user_id":135078,"accept_rate":94,"display_name":"Kelly S. French"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1271698293,"creation_date":1271698293,"answer_id":2669508,"question_id":2669414,"body_markdown":"Create a TestSuite and call the test methods in the desired order.  @Yishai is right in that JUnit is designed so each test is independent.  So if you are calling test methods that _can_ be run independently then there should be no problem with creating a TestSuite to cover a scenario for a specific calling-order.","title":"Choose order to execute JUnit tests","body":"<p>Create a TestSuite and call the test methods in the desired order.  @Yishai is right in that JUnit is designed so each test is independent.  So if you are calling test methods that <em>can</em> be run independently then there should be no problem with creating a TestSuite to cover a scenario for a specific calling-order.</p>\n"},{"tags":[],"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1271698335,"creation_date":1271698335,"answer_id":2669514,"question_id":2669414,"body_markdown":"In general, you can&#39;t specify the order that separate unit tests run in (though you could specify priorities in TestNG and have a different priority for each test). However, unit tests should be able to be run in isolation, so the order of the tests should not matter. This is a bad practice. If you need the tests to be in a specific order, you should be rethinking your design. If you post specifics as to why you need the order, I&#39;m sure we can offer suggestions.","title":"Choose order to execute JUnit tests","body":"<p>In general, you can't specify the order that separate unit tests run in (though you could specify priorities in TestNG and have a different priority for each test). However, unit tests should be able to be run in isolation, so the order of the tests should not matter. This is a bad practice. If you need the tests to be in a specific order, you should be rethinking your design. If you post specifics as to why you need the order, I'm sure we can offer suggestions.</p>\n"},{"tags":[],"owner":{"account_id":181111,"reputation":418,"user_id":414883,"accept_rate":62,"display_name":"Geniedesalpages"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1283845429,"creation_date":1283845429,"answer_id":3656677,"question_id":2669414,"body_markdown":"This might be interesting to you: [JExample][1]\r\n\r\nA different approach to testing with interdepentent tests.\r\n\r\n\r\n  [1]: http://scg.unibe.ch/archive/projects/Haen08aJExample.pdf","title":"Choose order to execute JUnit tests","body":"<p>This might be interesting to you: <a href=\"http://scg.unibe.ch/archive/projects/Haen08aJExample.pdf\" rel=\"nofollow noreferrer\">JExample</a></p>\n\n<p>A different approach to testing with interdepentent tests.</p>\n"},{"tags":[],"owner":{"account_id":4300329,"reputation":21,"user_id":3514177,"display_name":"nomail"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397029637,"creation_date":1397029637,"answer_id":22956026,"question_id":2669414,"body_markdown":"The general remark/idea that testing can be done in any arbitrary order is too strong.\r\n\r\nIt really depends on what you are testing.\r\n\r\nFor example I am testing a server where we have a changePassword action.\r\n\r\nI think it is obvious that the order of tests is critical. After changePassword, the old password does not work anymore, and before, it does. \r\n\r\nI don&#39;t want to revert the server state after each test, too much work. I can do it one time after all tests have been completed.","title":"Choose order to execute JUnit tests","body":"<p>The general remark/idea that testing can be done in any arbitrary order is too strong.</p>\n\n<p>It really depends on what you are testing.</p>\n\n<p>For example I am testing a server where we have a changePassword action.</p>\n\n<p>I think it is obvious that the order of tests is critical. After changePassword, the old password does not work anymore, and before, it does. </p>\n\n<p>I don't want to revert the server state after each test, too much work. I can do it one time after all tests have been completed.</p>\n"},{"tags":[],"owner":{"account_id":2464609,"reputation":1026,"user_id":2147999,"display_name":"Lorenzo Conserva"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1397132101,"creation_date":1397132101,"answer_id":22987758,"question_id":2669414,"body_markdown":"From version 4.11 you can specify execution order using annotations and ordering by method name:\r\n\r\n    import org.junit.Test;\r\n    import org.junit.FixMethodOrder;\r\n    import org.junit.runners.MethodSorters;\r\n\r\n    @FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n    public class MyTest {\r\n\r\n        @Test\r\n        public void test1Create() {\r\n            System.out.println(&quot;first&quot;);\r\n        }\r\n\r\n        @Test\r\n        public void test2Update() {\r\n            System.out.println(&quot;second&quot;);\r\n        }\r\n    }\r\n\r\n\r\n**[See JUnit 4.11 Release Notes](https://github.com/junit-team/junit/blob/master/doc/ReleaseNotes4.11.md#test-execution-order)**","title":"Choose order to execute JUnit tests","body":"<p>From version 4.11 you can specify execution order using annotations and ordering by method name:</p>\n\n<pre><code>import org.junit.Test;\nimport org.junit.FixMethodOrder;\nimport org.junit.runners.MethodSorters;\n\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\npublic class MyTest {\n\n    @Test\n    public void test1Create() {\n        System.out.println(\"first\");\n    }\n\n    @Test\n    public void test2Update() {\n        System.out.println(\"second\");\n    }\n}\n</code></pre>\n\n<p><strong><a href=\"https://github.com/junit-team/junit/blob/master/doc/ReleaseNotes4.11.md#test-execution-order\" rel=\"noreferrer\">See JUnit 4.11 Release Notes</a></strong></p>\n"},{"tags":[],"owner":{"account_id":16631162,"reputation":1,"user_id":12018981,"display_name":"Rittik Bhowmick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579250174,"creation_date":1579250174,"answer_id":59783710,"question_id":2669414,"body_markdown":"You can use @Order(&lt;integer order value&gt;) annotation","title":"Choose order to execute JUnit tests","body":"<p>You can use @Order() annotation</p>\n"},{"tags":[],"owner":{"account_id":16050787,"reputation":1095,"user_id":11584728,"display_name":"Shahrear Bin Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634567259,"creation_date":1634567259,"answer_id":69617858,"question_id":2669414,"body_markdown":"You can do this like with `@Order` annotation\r\n```java\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\npublic class MyTest {\r\n&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;@Test\r\n&#160;&#160;&#160;&#160;@Order(1)\r\n&#160;&#160;&#160; @DisplayName(&quot;First&quot;)\r\n&#160;&#160;&#160;&#160;public void firstTest() {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;a&quot;);\r\n&#160;&#160;&#160;&#160;}\r\n&#160;&#160;&#160;&#160;&#160;\r\n&#160;&#160;&#160;&#160;@Test\r\n&#160;&#160;&#160;&#160;@Order(2)\r\n&#160;&#160;&#160; @DisplayName(&quot;Second&quot;)&#160;&#160;&#160; \r\n&#160;&#160;&#160;&#160;public void secondTest() {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;b&quot;);\r\n\r\n&#160;&#160;&#160;&#160;}\r\n&#160;&#160;\r\n&#160;&#160;&#160;&#160;@Test\r\n&#160;&#160;&#160;&#160;@Order(3)&#160;&#160;\r\n&#160;&#160;&#160; @DisplayName(&quot;Third&quot;)&#160; \r\n&#160;&#160;&#160;&#160;public void thirdTest() {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;System.out.println(&quot;c&quot;);\r\n&#160;&#160;&#160;&#160;}\r\n}\r\n```\r\nOutput\r\n```\r\na\r\nb\r\nc\r\n```","title":"Choose order to execute JUnit tests","body":"<p>You can do this like with <code>@Order</code> annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class MyTest {\n     \n    @Test\n    @Order(1)\n    @DisplayName(&quot;First&quot;)\n    public void firstTest() {\n        System.out.println(&quot;a&quot;);\n    }\n     \n    @Test\n    @Order(2)\n    @DisplayName(&quot;Second&quot;)    \n    public void secondTest() {\n        System.out.println(&quot;b&quot;);\n\n    }\n  \n    @Test\n    @Order(3)  \n    @DisplayName(&quot;Third&quot;)  \n    public void thirdTest() {\n        System.out.println(&quot;c&quot;);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>a\nb\nc\n</code></pre>\n"}],"owner":{"account_id":125062,"reputation":8067,"user_id":320586,"accept_rate":82,"display_name":"Miguel Ribeiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34735,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":2669514,"answer_count":9,"score":10,"last_activity_date":1634567259,"creation_date":1271697353,"question_id":2669414,"body_markdown":"I wanted to choose the order to execute the JUnit tests.\r\nI have 4 classes with several test methods in it, my goal is to execute, for instance, method Y of class A, then method X from class B, and finally method Z from class A.\r\n\r\nWould you help please?","title":"Choose order to execute JUnit tests","body":"<p>I wanted to choose the order to execute the JUnit tests.\nI have 4 classes with several test methods in it, my goal is to execute, for instance, method Y of class A, then method X from class B, and finally method Z from class A.</p>\n\n<p>Would you help please?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1634561785,"post_id":69616442,"comment_id":123050469,"body_markdown":"That function you have is using varargs which accept an array as well. So convert your list to a `String[]` array and feed that to the function. Something like `processInstanceIdIn(processInstanceIds.toArray(String[]::new))` should do the trick.","body":"That function you have is using varargs which accept an array as well. So convert your list to a <code>String[]</code> array and feed that to the function. Something like <code>processInstanceIdIn(processInstanceIds.toArray(String[]::new&zwnj;&#8203;))</code> should do the trick."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":3,"creation_date":1634561818,"post_id":69616442,"comment_id":123050495,"body_markdown":"Your function accepts an array. So `myfunction(processInstanceIds.toArray(new String[0]))` should be sufficient.","body":"Your function accepts an array. So <code>myfunction(processInstanceIds.toArray(new String[0]))</code> should be sufficient."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1634561822,"post_id":69616442,"comment_id":123050496,"body_markdown":"Btw, you should not post images of code or documentation but take the time and post it as text/nicely formatted code.","body":"Btw, you should not post images of code or documentation but take the time and post it as text/nicely formatted code."}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634565614,"creation_date":1634561950,"answer_id":69616531,"question_id":69616442,"body_markdown":"Java varargs creates a method array parameter.\r\nTry something like this:\r\n\r\n```Java\r\nString[] blam = yourList.toArray(processInstanceIds);\r\n\r\nkapow.myFunction(blam);\r\n```\r\n","title":"How do I split a list to stringS (plural)","body":"<p>Java varargs creates a method array parameter.\nTry something like this:</p>\n<pre><code>String[] blam = yourList.toArray(processInstanceIds);\n\nkapow.myFunction(blam);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23065232,"reputation":1,"user_id":17179761,"display_name":"Meghana Y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634566977,"creation_date":1634566977,"answer_id":69617792,"question_id":69616442,"body_markdown":"Probably, you could try something like below\r\n\r\n    processInstanceIds.toArray(new String[processInstanceIds.size()])","title":"How do I split a list to stringS (plural)","body":"<p>Probably, you could try something like below</p>\n<pre><code>processInstanceIds.toArray(new String[processInstanceIds.size()])\n</code></pre>\n"}],"owner":{"account_id":18983120,"reputation":1,"user_id":13854113,"display_name":"Ricardo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634566977,"creation_date":1634561605,"question_id":69616442,"body_markdown":"I have a list of strings of dynamic length:\r\n```List&lt;String&gt; processInstanceIds = new ArrayList&lt;&gt;(); ```\r\n\r\nI have a function that doesn&#39;t accept a list as parameter, but requires one to several individual strings:\r\n\r\n![function][1]\r\n\r\nHow can I transform this list of dynamic length to a dynamic amount of strings and pass them to the function? \r\n\r\n```myfunction(String.join(&quot;, &quot;, theList))``` did not work as it would create **one** string instead of several. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b2o4I.png","title":"How do I split a list to stringS (plural)","body":"<p>I have a list of strings of dynamic length:\n<code>List&lt;String&gt; processInstanceIds = new ArrayList&lt;&gt;(); </code></p>\n<p>I have a function that doesn't accept a list as parameter, but requires one to several individual strings:</p>\n<p><img src=\"https://i.stack.imgur.com/b2o4I.png\" alt=\"function\" /></p>\n<p>How can I transform this list of dynamic length to a dynamic amount of strings and pass them to the function?</p>\n<p><code>myfunction(String.join(&quot;, &quot;, theList))</code> did not work as it would create <strong>one</strong> string instead of several.</p>\n"},{"tags":["java","object","exception"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":4,"creation_date":1634563786,"post_id":69616990,"comment_id":123051444,"body_markdown":"The same way that your `args` are an object. The caller / runtime actually creates the object and passes it / assigns it. You do not create the exception, the exception *is* created for you.","body":"The same way that your <code>args</code> are an object. The caller / runtime actually creates the object and passes it / assigns it. You do not create the exception, the exception <i>is</i> created for you."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1634565477,"post_id":69616990,"comment_id":123052289,"body_markdown":"How is `args` an object in the main method?! Think about that ;-)","body":"How is <code>args</code> an object in the main method?! Think about that ;-)"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1634565507,"post_id":69616990,"comment_id":123052313,"body_markdown":"Your post states it already: `//may throw exception` - that&#39;s where the exception is created (by the VM in this case - note that `x/0` _will_ throw that exception). The `catch(ArithmeticException e)` is just where the exception is handled (i.e. caught).","body":"Your post states it already: <code>&#47;&#47;may throw exception</code> - that&#39;s where the exception is created (by the VM in this case - note that <code>x&#47;0</code> <i>will</i> throw that exception). The <code>catch(ArithmeticException e)</code> is just where the exception is handled (i.e. caught)."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1634565715,"post_id":69616990,"comment_id":123052408,"body_markdown":"You&#39;re not creating an object here, the runtime is. You also don&#39;t create the `System.out` object, it is provided to you.","body":"You&#39;re not creating an object here, the runtime is. You also don&#39;t create the <code>System.out</code> object, it is provided to you."}],"answers":[{"tags":[],"owner":{"account_id":23065232,"reputation":1,"user_id":17179761,"display_name":"Meghana Y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634566238,"creation_date":1634565887,"answer_id":69617517,"question_id":69616990,"body_markdown":"The code here in the try block when throws an exception of type ArithmeticException, the object is what is created in the runtime.\r\nHence, in the catch block, variable e becomes an object at runtime.\r\n","title":"How Object is created in the catch block?","body":"<p>The code here in the try block when throws an exception of type ArithmeticException, the object is what is created in the runtime.\nHence, in the catch block, variable e becomes an object at runtime.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634566800,"creation_date":1634566376,"answer_id":69617651,"question_id":69616990,"body_markdown":"I believe that you are asking how the `ArithmeticException` is created in your example.  (You are clearly not explicitly using `new` to create it in this case.)\r\n\r\nThe answer is that the JVM creates it.  When the JVM detects that an integer divide by zero occurs, it creates an instance of `ArithmeticException` with the message string &quot;divide by zero&quot; (or some such) and then it throws it.\r\n\r\nQ: How does it detect the divide by zero and how does it create and throw the exception?\r\n\r\nA: All of those things are implementation specific&lt;sup&gt;1&lt;/sup&gt;.  But you *won&#39;t* see any specific bytecode instructions to do this if you disassemble the bytecodes.  It is happening at a lower level.  Conceptually, it happens *inside* the division instruction.\r\n\r\nAt any rate, the `ArithmeticException` object *does* get created, and then the exception handler binds it (assigns it) to the `e` variable.\r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - For example, on some hardware an integer divide by zero triggers an interrupt.  This will be caught by the OS exception handlers which signals the JVM.  Eventually, the signal handler (deep in the JVM) figures out which thread did it, creates the exception object and &quot;throws&quot; it.  It is messy complicated low-level stuff ... that you don&#39;t need to know about when writing Java programs.&lt;/sup&gt;\r\n","title":"How Object is created in the catch block?","body":"<p>I believe that you are asking how the <code>ArithmeticException</code> is created in your example.  (You are clearly not explicitly using <code>new</code> to create it in this case.)</p>\n<p>The answer is that the JVM creates it.  When the JVM detects that an integer divide by zero occurs, it creates an instance of <code>ArithmeticException</code> with the message string &quot;divide by zero&quot; (or some such) and then it throws it.</p>\n<p>Q: How does it detect the divide by zero and how does it create and throw the exception?</p>\n<p>A: All of those things are implementation specific<sup>1</sup>.  But you <em>won't</em> see any specific bytecode instructions to do this if you disassemble the bytecodes.  It is happening at a lower level.  Conceptually, it happens <em>inside</em> the division instruction.</p>\n<p>At any rate, the <code>ArithmeticException</code> object <em>does</em> get created, and then the exception handler binds it (assigns it) to the <code>e</code> variable.</p>\n<hr />\n<p><sup>1 - For example, on some hardware an integer divide by zero triggers an interrupt.  This will be caught by the OS exception handlers which signals the JVM.  Eventually, the signal handler (deep in the JVM) figures out which thread did it, creates the exception object and &quot;throws&quot; it.  It is messy complicated low-level stuff ... that you don't need to know about when writing Java programs.</sup></p>\n"}],"owner":{"account_id":23068826,"reputation":17,"user_id":17182918,"display_name":"sandeep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1634569280,"answer_count":2,"score":0,"last_activity_date":1634566800,"creation_date":1634563728,"question_id":69616990,"body_markdown":"Generally we use &quot;new&quot; keyword for creating the object and I am aware that (String s = &quot;Hello&quot;) will also create an object but in the catch block its just mentioned that `catch(ArithmeticException e)`. How &#39;e&#39; is an object here?\r\n\r\n    public static void main(String[] args) {  \r\n        try  {  \r\n            int data=50/0; //may throw exception   \r\n        }  \r\n            //handling the exception  \r\n        catch(ArithmeticException e)  {  \r\n            System.out.println(e);  \r\n        }  \r\n        System.out.println(&quot;rest of the code&quot;);  \r\n      }        \r\n    }  ","title":"How Object is created in the catch block?","body":"<p>Generally we use &quot;new&quot; keyword for creating the object and I am aware that (String s = &quot;Hello&quot;) will also create an object but in the catch block its just mentioned that <code>catch(ArithmeticException e)</code>. How 'e' is an object here?</p>\n<pre><code>public static void main(String[] args) {  \n    try  {  \n        int data=50/0; //may throw exception   \n    }  \n        //handling the exception  \n    catch(ArithmeticException e)  {  \n        System.out.println(e);  \n    }  \n    System.out.println(&quot;rest of the code&quot;);  \n  }        \n}  \n</code></pre>\n"},{"tags":["java","canvas","affinetransform","java-15","font-rendering"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1634566541,"post_id":69616790,"comment_id":123052778,"body_markdown":"Post images of your frame, not your desktop. The desktop is irrelevant to the question and makes the frame part so small that we can hardly see the frame and its text. Post an [mre] demonstrating the problem.","body":"Post images of your frame, not your desktop. The desktop is irrelevant to the question and makes the frame part so small that we can hardly see the frame and its text. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1634566799,"post_id":69616790,"comment_id":123052892,"body_markdown":"*This only occurred since I upgraded to Java 15, last java I used was java 8 and it worked fine.* - I think later versions of the JDK use the OS scaling factor in the graphics. You need to make sure you add this scaling factor to your AffineTransform. See: https://stackoverflow.com/questions/32216929/scaling-graphics-with-affinetransform/32217377#32217377","body":"<i>This only occurred since I upgraded to Java 15, last java I used was java 8 and it worked fine.</i> - I think later versions of the JDK use the OS scaling factor in the graphics. You need to make sure you add this scaling factor to your AffineTransform. See: <a href=\"https://stackoverflow.com/questions/32216929/scaling-graphics-with-affinetransform/32217377#32217377\" title=\"scaling graphics with affinetransform\">stackoverflow.com/questions/32216929/&hellip;</a>"},{"owner":{"account_id":23068585,"reputation":11,"user_id":17182715,"display_name":"BChin B"},"score":0,"creation_date":1634969331,"post_id":69616790,"comment_id":123174749,"body_markdown":"@camickr thanks for the responses and thanks for the advice.  Sorry for the image sizes.  I will attempt to implement the OS scaling factor in the Affine Transform.","body":"@camickr thanks for the responses and thanks for the advice.  Sorry for the image sizes.  I will attempt to implement the OS scaling factor in the Affine Transform."},{"owner":{"account_id":23068585,"reputation":11,"user_id":17182715,"display_name":"BChin B"},"score":0,"creation_date":1635577025,"post_id":69616790,"comment_id":123340386,"body_markdown":"@camickr  I appreciate the comments you provided.  Thanks so much.  However I am unable to find the right method to call on the AffineTransform.  I thought there might be a toolkit that I could call to get the scaling, like with screen size or width... Would you consider providing any additional advice.  Thanks.","body":"@camickr  I appreciate the comments you provided.  Thanks so much.  However I am unable to find the right method to call on the AffineTransform.  I thought there might be a toolkit that I could call to get the scaling, like with screen size or width... Would you consider providing any additional advice.  Thanks."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1635601824,"post_id":69616790,"comment_id":123344987,"body_markdown":"@b 1) I already provided a link with the basic logic to set the proper scaling factor for the AffineTransform. You haven&#39;t explained why this didn&#39;t help. 2) You still haven&#39;t posted an [mre]. So you haven&#39;t made an extra effort to provide us with information needed to solve the problem. Not sure what more I can do.","body":"@b 1) I already provided a link with the basic logic to set the proper scaling factor for the AffineTransform. You haven&#39;t explained why this didn&#39;t help. 2) You still haven&#39;t posted an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. So you haven&#39;t made an extra effort to provide us with information needed to solve the problem. Not sure what more I can do."}],"owner":{"account_id":23068585,"reputation":11,"user_id":17182715,"display_name":"BChin B"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634566476,"creation_date":1634562925,"question_id":69616790,"body_markdown":"I am jumping back into an old bunch of code and my Java is very rough.  Please be kind.  \r\n\r\nProblem: I have an application that draws on the canvas.  The placement of the screen objects works well. Even Text attached to other objects.  However when I place a Text object on the canvas the scale of the canvas halves.  I have fiddled off and on for months and can&#39;t seem to find the resolution.  Any advice would be helpful.\r\n\r\nBelow is the code to draw the text on screen it is in a class Visualise2D with the other drawing method. All other objects use the same scale etc.  This only occurred since I upgraded to Java 15, last java I used was java 8 and it worked fine.\r\n\r\n```\r\n\t//TEXT\t\r\n\tpublic void paintText(Graphics2D t2D, Color color,Text t, Font font, double bearing, Rectangle2D bounds, double scale, boolean selected, boolean isRotationTool, double enhance) {\r\n\r\n\t\t//Draws text where ever the user clicks\r\n\t\tFontMetrics fm = t2D.getFontMetrics();\r\n\r\n\t\tt2D.setFont(default_FONT);\r\n\t\t\r\n\t\tAffineTransform at = new AffineTransform();\r\n\r\n\t\tint x = (int) ((t.getX() - bounds.getX())*(scale));\r\n\t\tint y = (int) ((bounds.getHeight() + bounds.getY() - t.getY()) *(scale));\r\n\r\n\t\tat.setToRotation(Math.toRadians(bearing+270), x,y);\r\n\t\tFontRenderContext frc = t2D.getFontRenderContext();\r\n\t\tTextLayout layout = new TextLayout(t.getText(), t2D.getFont(), frc);\r\n\t\t\r\n\t\tt2D.setTransform(at);\r\n\t\t\r\n\t\tif (!(selected)) {\r\n\t\t\tt2D.setColor(color);\r\n\t\t}\r\n\t\telse \r\n\t\t{\r\n\t\t\t//pixel size of the circle\r\n\t\t\tfloat size = 20;//(float) (fm.stringWidth(t.getText())*0.5);\r\n\t\t\tt2D.setColor(p_selectedObjectsColour);\r\n\t\t\tt2D.setStroke(LINE_100);\r\n\t\t\t\r\n\t\t\t//Highlight and origin indicator when selected - START\r\n\t\t\tt2D.setColor(p_selectedObjectsColour);\r\n\t\t\tt2D.draw(new Ellipse2D.Double((((t.getX() - bounds.getX())*scale) - size), (((bounds.getHeight() + bounds.getY() - t.getY())*scale) - size), (size*2), (size*2))); \r\n\t\t\t\r\n\t\t\tif(isRotationTool){\r\n\t\t\t\tt2D.drawString(&quot;  : \\uu27f3 &quot;+dec1P.format(bearing)+&quot;\\u00b0&quot;,(float) (x + (fm.stringWidth(t.getText())*1.05)),y);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tt2D.setColor(p_selectedObjectsColour);\r\n\t\t\t\r\n\t\t\tt2D.draw(new Rectangle2D.Double(\r\n\t\t\t\t\t(t.getX() - bounds.getX())* scale,\r\n\t\t\t\t\t((bounds.getHeight() + bounds.getY() - t.getY())*scale)-fm.getStringBounds(t.toString(), t2D).getHeight(),\r\n\t\t\t\t\tt.getBounds().getWidth(),\r\n\t\t\t\t\tt.getBounds().getHeight()\r\n\t\t\t\t\t));\r\n\t\t\tt2D.drawLine((int) (((t.getX() - bounds.getX())) * scale),\r\n\t\t\t\t\t(int)(((bounds.getHeight() + bounds.getY())-(t.getY()))*scale), \r\n\t\t\t\t\t(int)(((t.getX())- bounds.getX())*scale)+fm.stringWidth(t.getText()),\r\n\t\t\t\t\t(int)(((bounds.getHeight() + bounds.getY())-(t.getY()))*scale));\r\n\t\t}\r\n\t\tt2D.setColor(color);\r\n\t\t//t2D.drawString(t.getText(), x, y);\r\n\t\tlayout.draw(t2D, x, y);\r\n\r\n\t\tat.setToRotation(0, x, y);\r\n\r\n\t\tt2D.setTransform(at);\r\n\t\t//This error is to remind you that the Affine transform is not working and the text is in the collection still after it is moved. \r\n\r\n\t}\r\n```\r\nBelow are two images that describe the issue.  \r\nImage 1 is the Normal View at Normal Scale\r\nImage 2 is the Alter after Text addition Scale.\r\n\r\nIf the text is deleted the Scale returns to the first image.\r\n\r\nNormal Scale:\r\n\r\n[![https://i.stack.imgur.com/FjfPe.jpg][1]][1]\r\n\r\nAdded Text Scale Changes:\r\n\r\n[![https://i.stack.imgur.com/Dh1RK.jpg][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FjfPe.jpg\r\n  [2]: https://i.stack.imgur.com/Dh1RK.jpg","title":"Java 15 - Adding Customisable Text to my canvas produces scaling/position issue","body":"<p>I am jumping back into an old bunch of code and my Java is very rough.  Please be kind.</p>\n<p>Problem: I have an application that draws on the canvas.  The placement of the screen objects works well. Even Text attached to other objects.  However when I place a Text object on the canvas the scale of the canvas halves.  I have fiddled off and on for months and can't seem to find the resolution.  Any advice would be helpful.</p>\n<p>Below is the code to draw the text on screen it is in a class Visualise2D with the other drawing method. All other objects use the same scale etc.  This only occurred since I upgraded to Java 15, last java I used was java 8 and it worked fine.</p>\n<pre><code>    //TEXT  \n    public void paintText(Graphics2D t2D, Color color,Text t, Font font, double bearing, Rectangle2D bounds, double scale, boolean selected, boolean isRotationTool, double enhance) {\n\n        //Draws text where ever the user clicks\n        FontMetrics fm = t2D.getFontMetrics();\n\n        t2D.setFont(default_FONT);\n        \n        AffineTransform at = new AffineTransform();\n\n        int x = (int) ((t.getX() - bounds.getX())*(scale));\n        int y = (int) ((bounds.getHeight() + bounds.getY() - t.getY()) *(scale));\n\n        at.setToRotation(Math.toRadians(bearing+270), x,y);\n        FontRenderContext frc = t2D.getFontRenderContext();\n        TextLayout layout = new TextLayout(t.getText(), t2D.getFont(), frc);\n        \n        t2D.setTransform(at);\n        \n        if (!(selected)) {\n            t2D.setColor(color);\n        }\n        else \n        {\n            //pixel size of the circle\n            float size = 20;//(float) (fm.stringWidth(t.getText())*0.5);\n            t2D.setColor(p_selectedObjectsColour);\n            t2D.setStroke(LINE_100);\n            \n            //Highlight and origin indicator when selected - START\n            t2D.setColor(p_selectedObjectsColour);\n            t2D.draw(new Ellipse2D.Double((((t.getX() - bounds.getX())*scale) - size), (((bounds.getHeight() + bounds.getY() - t.getY())*scale) - size), (size*2), (size*2))); \n            \n            if(isRotationTool){\n                t2D.drawString(&quot;  : \\uu27f3 &quot;+dec1P.format(bearing)+&quot;\\u00b0&quot;,(float) (x + (fm.stringWidth(t.getText())*1.05)),y);\n            }\n            \n            t2D.setColor(p_selectedObjectsColour);\n            \n            t2D.draw(new Rectangle2D.Double(\n                    (t.getX() - bounds.getX())* scale,\n                    ((bounds.getHeight() + bounds.getY() - t.getY())*scale)-fm.getStringBounds(t.toString(), t2D).getHeight(),\n                    t.getBounds().getWidth(),\n                    t.getBounds().getHeight()\n                    ));\n            t2D.drawLine((int) (((t.getX() - bounds.getX())) * scale),\n                    (int)(((bounds.getHeight() + bounds.getY())-(t.getY()))*scale), \n                    (int)(((t.getX())- bounds.getX())*scale)+fm.stringWidth(t.getText()),\n                    (int)(((bounds.getHeight() + bounds.getY())-(t.getY()))*scale));\n        }\n        t2D.setColor(color);\n        //t2D.drawString(t.getText(), x, y);\n        layout.draw(t2D, x, y);\n\n        at.setToRotation(0, x, y);\n\n        t2D.setTransform(at);\n        //This error is to remind you that the Affine transform is not working and the text is in the collection still after it is moved. \n\n    }\n</code></pre>\n<p>Below are two images that describe the issue.<br />\nImage 1 is the Normal View at Normal Scale\nImage 2 is the Alter after Text addition Scale.</p>\n<p>If the text is deleted the Scale returns to the first image.</p>\n<p>Normal Scale:</p>\n<p><a href=\"https://i.stack.imgur.com/FjfPe.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FjfPe.jpg\" alt=\"https://i.stack.imgur.com/FjfPe.jpg\" /></a></p>\n<p>Added Text Scale Changes:</p>\n<p><a href=\"https://i.stack.imgur.com/Dh1RK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dh1RK.jpg\" alt=\"https://i.stack.imgur.com/Dh1RK.jpg\" /></a></p>\n"},{"tags":["java","inheritance"],"answers":[{"tags":[],"owner":{"account_id":22891636,"reputation":83,"user_id":17031679,"display_name":"BamDoya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634565142,"creation_date":1634565142,"answer_id":69617325,"question_id":69617324,"body_markdown":"No,\r\n\r\nyou need to extend the Inner class in the Child class like this:\r\n\r\n\tpublic class Child extends Parent{\r\n\t\r\n\t\tprotected class Inner extends Parent.Inner{\r\n\r\nThat way your myMethod(Inner inner) will recognize the Child classes as children of the Parent.Inner class. Otherwise the Child class&#39;s Inner will not be of the type Parent.Inner (and will not be recognized as a subclass of that class (or could be used in the same method)).","title":"How can I access a inner class in a Parent class from within a Child class?","body":"<p>No,</p>\n<p>you need to extend the Inner class in the Child class like this:</p>\n<pre><code>public class Child extends Parent{\n\n    protected class Inner extends Parent.Inner{\n</code></pre>\n<p>That way your myMethod(Inner inner) will recognize the Child classes as children of the Parent.Inner class. Otherwise the Child class's Inner will not be of the type Parent.Inner (and will not be recognized as a subclass of that class (or could be used in the same method)).</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634566336,"creation_date":1634566336,"answer_id":69617639,"question_id":69617324,"body_markdown":"In your provided code, the two classes named `Inner` are utterly, completely unrelated. You just.. have two classes that so happen to have the same name. It&#39;s like `java.awt.List` and `java.util.List`: Yes, same name, but this means nothing at all as far as equivalence (they are as different as guns and grandmas) and access rules (the access rules are what they are; that they share a name has no bearing on it).\r\n\r\nTo name them &#39;properly&#39;, you can write `Child.Inner` and `Parent.Inner` which differentiates them. Just writing `Inner` will be interpreted by javac as one or the other depending on imports and context (inside the braces that go with `Child extends Parent {}`, it is interpreted as `Child.Inner` due to that being a same-file sibling, unless you have an explicit import; most other places it&#39;ll either not compile or be interpreted as `Parent.Inner`). Given that these are somewhat esoteric rules, best bet is to just not write just `Inner` in such a case, and always be explicit. &quot;But shorter code&quot; is a good rule of thumb but rules of thumb are called that because they aren&#39;t always right. Otherwise they&#39;d just be called &quot;The rule&quot;, no need to involve thumbs.\r\n\r\nBut, before doing that, why are you have 2 unrelated classes with the same name in the same project in the first place? That&#39;s confusing even if everybody writes out a full name to try to avoid confusion.\r\n\r\nWhat is your _actual_ intent here?\r\n\r\n## I want `Child.Inner` to be a subclass of `Parent.Inner`, mirroring `Child` and `Parent`&#39;s relationship\r\n\r\nThen write that:\r\n\r\n```\r\npublic class Child extends Parent {\r\n  public class Inner extends Parent.Inner {}\r\n}\r\n```\r\n\r\nI&#39;d still strongly consider picking different names here. Perhaps `public class ChildInner` - obviously `Inner` is just a placeholder name here and not what&#39;s really in your project, so I can&#39;t give much advice on what name to pick. Just that &#39;same name&#39; is a bad idea.\r\n\r\nYour `Child.Inner` has a hidden-named instance of `Child` available to it, which is a more specific kind of `Parent`, and it is itself a more specific kind of `Parent.Inner`, meaning __every method__ in any of the 4 classes is available to it. If `Parent` or `Child` has a method named `x()` and `Parent.Inner` or `Child.Inner` also has a method named `x()`, you can differentiate using this syntax:\r\n\r\n```\r\nChild.this.x();\r\n```\r\n\r\nBut, again, why would you confuse things like this by using the same name so many times?\r\n\r\n## I just want the code in `Child` to be able to access methods and fields from `Parent.Inner`.\r\n\r\nThen do _not_ make a second class, your intent is clearly not to have 2 inner classes in the first place. Every instance of `Child` is a more specific kind of `Parent`, so you can make new instances of `Parent.Inner` whose &#39;enclosing instance&#39; is in fact an instance of `Child`, no problem.\r\n\r\nIn `Child.java`:\r\n\r\n```\r\nInner inner = new Inner();\r\n```\r\n\r\nAnd outside of that:\r\n\r\n```\r\nParent.Inner inner = someInstanceOfChild.new Parent.Inner();\r\n```\r\n\r\nNaturally, as the code in Parent&#39;s Inner has no idea if the instance of the enclosing class is an instance specifically made with `new Parent()` or an instance of some more specific type, e.g. `new Child()`, no method that exists in only in Child can be invoked, but you can instanceof and cast your outer this instance:\r\n\r\n```\r\nif (Parent.this instanceof Child) {\r\n    Child c = (Child) Parent.this;\r\n    c.methodOnlyInChild();\r\n}\r\n```\r\n\r\nworks just fine.\r\n","title":"How can I access a inner class in a Parent class from within a Child class?","body":"<p>In your provided code, the two classes named <code>Inner</code> are utterly, completely unrelated. You just.. have two classes that so happen to have the same name. It's like <code>java.awt.List</code> and <code>java.util.List</code>: Yes, same name, but this means nothing at all as far as equivalence (they are as different as guns and grandmas) and access rules (the access rules are what they are; that they share a name has no bearing on it).</p>\n<p>To name them 'properly', you can write <code>Child.Inner</code> and <code>Parent.Inner</code> which differentiates them. Just writing <code>Inner</code> will be interpreted by javac as one or the other depending on imports and context (inside the braces that go with <code>Child extends Parent {}</code>, it is interpreted as <code>Child.Inner</code> due to that being a same-file sibling, unless you have an explicit import; most other places it'll either not compile or be interpreted as <code>Parent.Inner</code>). Given that these are somewhat esoteric rules, best bet is to just not write just <code>Inner</code> in such a case, and always be explicit. &quot;But shorter code&quot; is a good rule of thumb but rules of thumb are called that because they aren't always right. Otherwise they'd just be called &quot;The rule&quot;, no need to involve thumbs.</p>\n<p>But, before doing that, why are you have 2 unrelated classes with the same name in the same project in the first place? That's confusing even if everybody writes out a full name to try to avoid confusion.</p>\n<p>What is your <em>actual</em> intent here?</p>\n<h2>I want <code>Child.Inner</code> to be a subclass of <code>Parent.Inner</code>, mirroring <code>Child</code> and <code>Parent</code>'s relationship</h2>\n<p>Then write that:</p>\n<pre><code>public class Child extends Parent {\n  public class Inner extends Parent.Inner {}\n}\n</code></pre>\n<p>I'd still strongly consider picking different names here. Perhaps <code>public class ChildInner</code> - obviously <code>Inner</code> is just a placeholder name here and not what's really in your project, so I can't give much advice on what name to pick. Just that 'same name' is a bad idea.</p>\n<p>Your <code>Child.Inner</code> has a hidden-named instance of <code>Child</code> available to it, which is a more specific kind of <code>Parent</code>, and it is itself a more specific kind of <code>Parent.Inner</code>, meaning <strong>every method</strong> in any of the 4 classes is available to it. If <code>Parent</code> or <code>Child</code> has a method named <code>x()</code> and <code>Parent.Inner</code> or <code>Child.Inner</code> also has a method named <code>x()</code>, you can differentiate using this syntax:</p>\n<pre><code>Child.this.x();\n</code></pre>\n<p>But, again, why would you confuse things like this by using the same name so many times?</p>\n<h2>I just want the code in <code>Child</code> to be able to access methods and fields from <code>Parent.Inner</code>.</h2>\n<p>Then do <em>not</em> make a second class, your intent is clearly not to have 2 inner classes in the first place. Every instance of <code>Child</code> is a more specific kind of <code>Parent</code>, so you can make new instances of <code>Parent.Inner</code> whose 'enclosing instance' is in fact an instance of <code>Child</code>, no problem.</p>\n<p>In <code>Child.java</code>:</p>\n<pre><code>Inner inner = new Inner();\n</code></pre>\n<p>And outside of that:</p>\n<pre><code>Parent.Inner inner = someInstanceOfChild.new Parent.Inner();\n</code></pre>\n<p>Naturally, as the code in Parent's Inner has no idea if the instance of the enclosing class is an instance specifically made with <code>new Parent()</code> or an instance of some more specific type, e.g. <code>new Child()</code>, no method that exists in only in Child can be invoked, but you can instanceof and cast your outer this instance:</p>\n<pre><code>if (Parent.this instanceof Child) {\n    Child c = (Child) Parent.this;\n    c.methodOnlyInChild();\n}\n</code></pre>\n<p>works just fine.</p>\n"}],"owner":{"account_id":22891636,"reputation":83,"user_id":17031679,"display_name":"BamDoya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1215,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69617639,"answer_count":2,"score":-1,"last_activity_date":1634566336,"creation_date":1634565142,"question_id":69617324,"body_markdown":"Dears,\r\n\r\nI have a Parent and Child class:\r\n\r\n\tpublic class Parent{\r\n\t\r\n\t\tprotected class Inner{\r\n\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic class Child extends Parent{\r\n\t\r\n\t\tprotected class Inner{\r\n\t\t\r\n\t\t}\r\n\t}\r\n\r\nAnd I want to use the Inner Child classes in the parent:\r\n\r\n\tmyMethod(Inner inner)\r\n\r\nIs setting the Inner class to protected enough to achieve this?","title":"How can I access a inner class in a Parent class from within a Child class?","body":"<p>Dears,</p>\n<p>I have a Parent and Child class:</p>\n<pre><code>public class Parent{\n\n    protected class Inner{\n    \n    }\n}\n\npublic class Child extends Parent{\n\n    protected class Inner{\n    \n    }\n}\n</code></pre>\n<p>And I want to use the Inner Child classes in the parent:</p>\n<pre><code>myMethod(Inner inner)\n</code></pre>\n<p>Is setting the Inner class to protected enough to achieve this?</p>\n"},{"tags":["java","eclipse","maven","eclipse-rcp","tycho"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1622702639,"post_id":67816166,"comment_id":119868569,"body_markdown":"I don&#39;t need to specify that in my e4 RCPs so you may be doing something wrong - but you need to give us a lot more info to work out what.","body":"I don&#39;t need to specify that in my e4 RCPs so you may be doing something wrong - but you need to give us a lot more info to work out what."},{"owner":{"account_id":8339103,"reputation":45,"user_id":6264963,"display_name":"frank b."},"score":0,"creation_date":1622702949,"post_id":67816166,"comment_id":119868666,"body_markdown":"I am using Eclipse RCP Legacy. I was doing something the wrong way : trying to access preferences in main bundle activator (constructor - BTW preferences were stalled). Moving this access to postStartup() solved problems. Sorry for that.","body":"I am using Eclipse RCP Legacy. I was doing something the wrong way : trying to access preferences in main bundle activator (constructor - BTW preferences were stalled). Moving this access to postStartup() solved problems. Sorry for that."},{"owner":{"account_id":8339103,"reputation":45,"user_id":6264963,"display_name":"frank b."},"score":0,"creation_date":1622703307,"post_id":67816166,"comment_id":119868782,"body_markdown":"And you&#39;re wright no need to specify -data option. Don&#39;t really understand the link between my early access to preferences and this option...","body":"And you&#39;re wright no need to specify -data option. Don&#39;t really understand the link between my early access to preferences and this option..."}],"owner":{"account_id":8339103,"reputation":45,"user_id":6264963,"display_name":"frank b."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634566312,"creation_date":1622700273,"question_id":67816166,"body_markdown":"In order to run an Eclipse RCP App. from eclipse IDE in run or debug mode, one need to put ***-data @noDefault*** in command line. Once the RCP App. is built with Maven/Tycho, I thought this option was no longer needed.  \r\n\r\nI&#39;ve upgraded Eclipse IDE form 06 2020 to 03 2021 (Mac OS 10.14.6), and now I need to put this option in command line even in the built product to not have this exception :\r\n\r\n```\r\n!ENTRY org.eclipse.osgi 4 0 2021-06-03 07:44:13.280\r\n!MESSAGE Application error\r\n!STACK 1\r\njava.lang.IllegalStateException: Cannot change the location once it is set.\r\n```\r\n***Maven repo : https://download.eclipse.org/releases/2021-03/***\r\n\r\nIs-it a normal behavior ? Am-I doing the wrong way ?","title":"Eclipse 03-2021 and -data @noDefault","body":"<p>In order to run an Eclipse RCP App. from eclipse IDE in run or debug mode, one need to put <em><strong>-data @noDefault</strong></em> in command line. Once the RCP App. is built with Maven/Tycho, I thought this option was no longer needed.</p>\n<p>I've upgraded Eclipse IDE form 06 2020 to 03 2021 (Mac OS 10.14.6), and now I need to put this option in command line even in the built product to not have this exception :</p>\n<pre><code>!ENTRY org.eclipse.osgi 4 0 2021-06-03 07:44:13.280\n!MESSAGE Application error\n!STACK 1\njava.lang.IllegalStateException: Cannot change the location once it is set.\n</code></pre>\n<p><em><strong>Maven repo : <a href=\"https://download.eclipse.org/releases/2021-03/\" rel=\"nofollow noreferrer\">https://download.eclipse.org/releases/2021-03/</a></strong></em></p>\n<p>Is-it a normal behavior ? Am-I doing the wrong way ?</p>\n"},{"tags":["java","android","kotlin","android-edittext","addtextchangedlistener"],"answers":[{"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634124180,"creation_date":1634124180,"answer_id":69554618,"question_id":69491191,"body_markdown":"You do `view[count].removeCallbacks {}`. This does absolutely nothing in your code. I suppose you think it removes the TextChangedListener, but it doesn&#39;t.\r\n\r\nThere&#39;s also no need to wait with adding the listener to the next views. Just add them all, then you also don&#39;t need to make the function recursive. So I propose to just do something like this:\r\n\r\n    private fun someRecursiveFunction(view: ArrayList&lt;EditText&gt;) {\r\n        view.forEach {\r\n            it.addTextChangedListener(object : TextWatcher {\r\n                override fun afterTextChanged(s: Editable) {\r\n                    if (view[count].text.toString().length == 1) {\r\n                        if (count == view.size - 1) {\r\n                            Toast.makeText(context, &quot;Reached last digit&quot;, Toast.LENGTH_SHORT).show()\r\n                            return\r\n                        } else {\r\n                            count++\r\n                            view[count].requestFocus()\r\n                        }\r\n                    }\r\n                }\r\n    \r\n                override fun beforeTextChanged(\r\n                    s: CharSequence, start: Int,\r\n                    count: Int, after: Int\r\n                ) {}\r\n    \r\n                override fun onTextChanged(\r\n                    s: CharSequence, start: Int,\r\n                    before: Int, count: Int\r\n                ) {}\r\n            })\r\n        }\r\n    }\r\n\r\nit should functionally work the same as your code, except that it already adds all listeners at once. Although I don&#39;t know if it helps with your problem, I do think it would be an improvement on your code.","title":"Lag issue while changing focus from one editext to another and to another while quick typing","body":"<p>You do <code>view[count].removeCallbacks {}</code>. This does absolutely nothing in your code. I suppose you think it removes the TextChangedListener, but it doesn't.</p>\n<p>There's also no need to wait with adding the listener to the next views. Just add them all, then you also don't need to make the function recursive. So I propose to just do something like this:</p>\n<pre><code>private fun someRecursiveFunction(view: ArrayList&lt;EditText&gt;) {\n    view.forEach {\n        it.addTextChangedListener(object : TextWatcher {\n            override fun afterTextChanged(s: Editable) {\n                if (view[count].text.toString().length == 1) {\n                    if (count == view.size - 1) {\n                        Toast.makeText(context, &quot;Reached last digit&quot;, Toast.LENGTH_SHORT).show()\n                        return\n                    } else {\n                        count++\n                        view[count].requestFocus()\n                    }\n                }\n            }\n\n            override fun beforeTextChanged(\n                s: CharSequence, start: Int,\n                count: Int, after: Int\n            ) {}\n\n            override fun onTextChanged(\n                s: CharSequence, start: Int,\n                before: Int, count: Int\n            ) {}\n        })\n    }\n}\n</code></pre>\n<p>it should functionally work the same as your code, except that it already adds all listeners at once. Although I don't know if it helps with your problem, I do think it would be an improvement on your code.</p>\n"},{"tags":[],"owner":{"account_id":10059343,"reputation":4094,"user_id":7436566,"display_name":"OhhhThatVarun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634124820,"creation_date":1634124386,"answer_id":69554674,"question_id":69491191,"body_markdown":"I think you can do something like this to improve performance. Also, I think you should avoid recursion whenever you can. \r\n\r\nYou don&#39;t need to keep a list of all the views when you already have them inside your `LinearLayout` try to use the properties `LinearLayout` already have like `children`\r\n\r\n**XML**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.FirstFragment&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n            android:id=&quot;@+id/editTextContainer&quot; &lt;--- added this line\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/editText&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:background=&quot;@android:color/white&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:maxLength=&quot;1&quot;\r\n                android:maxLines=&quot;1&quot;\r\n                android:textColor=&quot;@color/black&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/editText2&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:background=&quot;@android:color/white&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:maxLength=&quot;1&quot;\r\n                android:maxLines=&quot;1&quot;\r\n                android:textColor=&quot;@color/black&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/editText3&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:background=&quot;@android:color/white&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:maxLength=&quot;1&quot;\r\n                android:maxLines=&quot;1&quot;\r\n                android:textColor=&quot;@color/black&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/editText4&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:background=&quot;@android:color/white&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:maxLength=&quot;1&quot;\r\n                android:maxLines=&quot;1&quot;\r\n                android:textColor=&quot;@color/black&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/editText5&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:background=&quot;@android:color/white&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:maxLength=&quot;1&quot;\r\n                android:maxLines=&quot;1&quot;\r\n                android:textColor=&quot;@color/black&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/editText6&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:background=&quot;@android:color/white&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:maxLength=&quot;1&quot;\r\n                android:maxLines=&quot;1&quot;\r\n                android:textColor=&quot;@color/black&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/editText7&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:background=&quot;@android:color/white&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:maxLength=&quot;1&quot;\r\n                android:maxLines=&quot;1&quot;\r\n                android:textColor=&quot;@color/black&quot; /&gt;\r\n\r\n            &lt;EditText\r\n                android:id=&quot;@+id/editText8&quot;\r\n                android:layout_width=&quot;40dp&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:background=&quot;@android:color/white&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:maxLength=&quot;1&quot;\r\n                android:maxLines=&quot;1&quot;\r\n                android:textColor=&quot;@color/black&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**Fragment**\r\n\r\nYou don&#39;t need `count` or `views` to keep track of your views\r\n```\r\nclass FirstFragment : Fragment() {\r\n\r\n    private var _binding: FragmentFirstBinding? = null\r\n    private val binding get() = _binding!!\r\n\r\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\r\n        _binding = FragmentFirstBinding.inflate(inflater, container, false)\r\n        return binding.root\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        binding.editTextContainer.children.first().requestFocus()\r\n        setAfterTextChangedListener(binding.editTextContainer)\r\n    }\r\n\r\n    private fun setAfterTextChangedListener(editTextContainer: ViewGroup) {\r\n        val editTexts = editTextContainer.children.toList()\r\n        editTexts.forEachIndexed { index, view -&gt;\r\n            if (view is EditText) {\r\n                view.doAfterTextChanged {\r\n                    if (it?.isNotEmpty() == true &amp;&amp; index + 1 != editTexts.size) {\r\n                        editTexts[index + 1].requestFocus()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        super.onDestroyView()\r\n        _binding = null\r\n    }\r\n}\r\n```","title":"Lag issue while changing focus from one editext to another and to another while quick typing","body":"<p>I think you can do something like this to improve performance. Also, I think you should avoid recursion whenever you can.</p>\n<p>You don't need to keep a list of all the views when you already have them inside your <code>LinearLayout</code> try to use the properties <code>LinearLayout</code> already have like <code>children</code></p>\n<p><strong>XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.FirstFragment&quot;&gt;\n\n    &lt;LinearLayout\n            android:id=&quot;@+id/editTextContainer&quot; &lt;--- added this line\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/editText&quot;\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:background=&quot;@android:color/white&quot;\n                android:focusable=&quot;true&quot;\n                android:gravity=&quot;center&quot;\n                android:inputType=&quot;number&quot;\n                android:maxLength=&quot;1&quot;\n                android:maxLines=&quot;1&quot;\n                android:textColor=&quot;@color/black&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/editText2&quot;\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:background=&quot;@android:color/white&quot;\n                android:focusable=&quot;true&quot;\n                android:gravity=&quot;center&quot;\n                android:inputType=&quot;number&quot;\n                android:maxLength=&quot;1&quot;\n                android:maxLines=&quot;1&quot;\n                android:textColor=&quot;@color/black&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/editText3&quot;\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:background=&quot;@android:color/white&quot;\n                android:focusable=&quot;true&quot;\n                android:gravity=&quot;center&quot;\n                android:inputType=&quot;number&quot;\n                android:maxLength=&quot;1&quot;\n                android:maxLines=&quot;1&quot;\n                android:textColor=&quot;@color/black&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/editText4&quot;\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:background=&quot;@android:color/white&quot;\n                android:focusable=&quot;true&quot;\n                android:gravity=&quot;center&quot;\n                android:inputType=&quot;number&quot;\n                android:maxLength=&quot;1&quot;\n                android:maxLines=&quot;1&quot;\n                android:textColor=&quot;@color/black&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/editText5&quot;\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:background=&quot;@android:color/white&quot;\n                android:focusable=&quot;true&quot;\n                android:gravity=&quot;center&quot;\n                android:inputType=&quot;number&quot;\n                android:maxLength=&quot;1&quot;\n                android:maxLines=&quot;1&quot;\n                android:textColor=&quot;@color/black&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/editText6&quot;\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:background=&quot;@android:color/white&quot;\n                android:focusable=&quot;true&quot;\n                android:gravity=&quot;center&quot;\n                android:inputType=&quot;number&quot;\n                android:maxLength=&quot;1&quot;\n                android:maxLines=&quot;1&quot;\n                android:textColor=&quot;@color/black&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/editText7&quot;\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:background=&quot;@android:color/white&quot;\n                android:focusable=&quot;true&quot;\n                android:gravity=&quot;center&quot;\n                android:inputType=&quot;number&quot;\n                android:maxLength=&quot;1&quot;\n                android:maxLines=&quot;1&quot;\n                android:textColor=&quot;@color/black&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/editText8&quot;\n                android:layout_width=&quot;40dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_marginStart=&quot;10dp&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:background=&quot;@android:color/white&quot;\n                android:focusable=&quot;true&quot;\n                android:gravity=&quot;center&quot;\n                android:inputType=&quot;number&quot;\n                android:maxLength=&quot;1&quot;\n                android:maxLines=&quot;1&quot;\n                android:textColor=&quot;@color/black&quot; /&gt;\n        &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>Fragment</strong></p>\n<p>You don't need <code>count</code> or <code>views</code> to keep track of your views</p>\n<pre><code>class FirstFragment : Fragment() {\n\n    private var _binding: FragmentFirstBinding? = null\n    private val binding get() = _binding!!\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        _binding = FragmentFirstBinding.inflate(inflater, container, false)\n        return binding.root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        binding.editTextContainer.children.first().requestFocus()\n        setAfterTextChangedListener(binding.editTextContainer)\n    }\n\n    private fun setAfterTextChangedListener(editTextContainer: ViewGroup) {\n        val editTexts = editTextContainer.children.toList()\n        editTexts.forEachIndexed { index, view -&gt;\n            if (view is EditText) {\n                view.doAfterTextChanged {\n                    if (it?.isNotEmpty() == true &amp;&amp; index + 1 != editTexts.size) {\n                        editTexts[index + 1].requestFocus()\n                    }\n                }\n            }\n        }\n    }\n\n    override fun onDestroyView() {\n        super.onDestroyView()\n        _binding = null\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634566297,"creation_date":1634566297,"answer_id":69617627,"question_id":69491191,"body_markdown":"Instead of creating so many editTexts, you can use [this library][1]\r\n\r\n\r\n  [1]: https://github.com/GoodieBag/Pinview","title":"Lag issue while changing focus from one editext to another and to another while quick typing","body":"<p>Instead of creating so many editTexts, you can use <a href=\"https://github.com/GoodieBag/Pinview\" rel=\"nofollow noreferrer\">this library</a></p>\n"}],"owner":{"account_id":6076789,"reputation":245,"user_id":4743892,"display_name":"Raj Turakhia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1634566297,"creation_date":1633673100,"question_id":69491191,"body_markdown":"I am trying to create PIN View by using 8 edittext. I have used a recursive function  to addTextChangedListener for each and every edittext. \r\n\r\nSo my expectation here is when user type single digit in one edittext the focus should move to next edittext and so on.\r\nSo the issue that I am facing is when user type digits too fast edittexts are not catching all digits.\r\n\r\n**For Example:** I type 89898989 quickly It only fills up with 888888\r\n\r\n**Consider my following code**\r\n\r\n    class FirstFragment : Fragment() {\r\n\r\n    private var _binding: FragmentFirstBinding? = null\r\n    private val binding get() = _binding!!\r\n    var count = 0\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        _binding = FragmentFirstBinding.inflate(inflater, container, false)\r\n\r\n        val views = arrayListOf(\r\n            _binding!!.textView,\r\n            _binding!!.textView2,\r\n            _binding!!.textView3,\r\n            _binding!!.textView4,\r\n            _binding!!.textView5,\r\n            _binding!!.textView6,\r\n            _binding!!.textView7,\r\n            _binding!!.textView8\r\n        )\r\n        views.first().requestFocus()\r\n        someRecursiveFunction(views)\r\n        return binding.root\r\n    }\r\n\r\n    private fun someRecursiveFunction(view: ArrayList&lt;EditText&gt;) {\r\n        view[count].addTextChangedListener(object : TextWatcher {\r\n            override fun afterTextChanged(s: Editable) {\r\n                if (view[count].text.toString().length == 1) {\r\n                    if (count == view.size - 1) {\r\n                        Toast.makeText(context, &quot;Reached last digit&quot;, Toast.LENGTH_SHORT).show()\r\n                        return\r\n                    } else {\r\n                        view[count].removeCallbacks {}\r\n                        count++\r\n                        view[count].requestFocus()\r\n                        someRecursiveFunction(view)\r\n                    }\r\n                }\r\n            }\r\n\r\n            override fun beforeTextChanged(\r\n                s: CharSequence, start: Int,\r\n                count: Int, after: Int\r\n            ) {}\r\n\r\n            override fun onTextChanged(\r\n                s: CharSequence, start: Int,\r\n                before: Int, count: Int\r\n            ) {}\r\n        })\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        super.onDestroyView()\r\n        _binding = null\r\n      }\r\n    }\r\n\r\n**Layout code:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.FirstFragment&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:maxLines=&quot;1&quot;\r\n            android:maxLength=&quot;1&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot; /&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/textView2&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:maxLines=&quot;1&quot;\r\n            android:maxLength=&quot;1&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot; /&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/textView3&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:maxLines=&quot;1&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:maxLength=&quot;1&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot; /&gt;\r\n        &lt;EditText\r\n            android:id=&quot;@+id/textView4&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:maxLines=&quot;1&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:maxLength=&quot;1&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot; /&gt;\r\n        &lt;EditText\r\n            android:id=&quot;@+id/textView5&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:maxLines=&quot;1&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:maxLength=&quot;1&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot; /&gt;\r\n        &lt;EditText\r\n            android:id=&quot;@+id/textView6&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:maxLines=&quot;1&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:maxLength=&quot;1&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot; /&gt;\r\n        &lt;EditText\r\n            android:id=&quot;@+id/textView7&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:maxLines=&quot;1&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:maxLength=&quot;1&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot; /&gt;\r\n        &lt;EditText\r\n            android:id=&quot;@+id/textView8&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:maxLines=&quot;1&quot;\r\n            android:inputType=&quot;number&quot;\r\n            android:maxLength=&quot;1&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot; /&gt;\r\n      &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y4aBQ.gif","title":"Lag issue while changing focus from one editext to another and to another while quick typing","body":"<p>I am trying to create PIN View by using 8 edittext. I have used a recursive function  to addTextChangedListener for each and every edittext.</p>\n<p>So my expectation here is when user type single digit in one edittext the focus should move to next edittext and so on.\nSo the issue that I am facing is when user type digits too fast edittexts are not catching all digits.</p>\n<p><strong>For Example:</strong> I type 89898989 quickly It only fills up with 888888</p>\n<p><strong>Consider my following code</strong></p>\n<pre><code>class FirstFragment : Fragment() {\n\nprivate var _binding: FragmentFirstBinding? = null\nprivate val binding get() = _binding!!\nvar count = 0\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    _binding = FragmentFirstBinding.inflate(inflater, container, false)\n\n    val views = arrayListOf(\n        _binding!!.textView,\n        _binding!!.textView2,\n        _binding!!.textView3,\n        _binding!!.textView4,\n        _binding!!.textView5,\n        _binding!!.textView6,\n        _binding!!.textView7,\n        _binding!!.textView8\n    )\n    views.first().requestFocus()\n    someRecursiveFunction(views)\n    return binding.root\n}\n\nprivate fun someRecursiveFunction(view: ArrayList&lt;EditText&gt;) {\n    view[count].addTextChangedListener(object : TextWatcher {\n        override fun afterTextChanged(s: Editable) {\n            if (view[count].text.toString().length == 1) {\n                if (count == view.size - 1) {\n                    Toast.makeText(context, &quot;Reached last digit&quot;, Toast.LENGTH_SHORT).show()\n                    return\n                } else {\n                    view[count].removeCallbacks {}\n                    count++\n                    view[count].requestFocus()\n                    someRecursiveFunction(view)\n                }\n            }\n        }\n\n        override fun beforeTextChanged(\n            s: CharSequence, start: Int,\n            count: Int, after: Int\n        ) {}\n\n        override fun onTextChanged(\n            s: CharSequence, start: Int,\n            before: Int, count: Int\n        ) {}\n    })\n}\n\noverride fun onDestroyView() {\n    super.onDestroyView()\n    _binding = null\n  }\n}\n</code></pre>\n<p><strong>Layout code:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.FirstFragment&quot;&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/textView&quot;\n        android:background=&quot;@android:color/white&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:focusable=&quot;true&quot;\n        android:maxLines=&quot;1&quot;\n        android:maxLength=&quot;1&quot;\n        android:gravity=&quot;center&quot;\n        android:inputType=&quot;number&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/textView2&quot;\n        android:background=&quot;@android:color/white&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:focusable=&quot;true&quot;\n        android:maxLines=&quot;1&quot;\n        android:maxLength=&quot;1&quot;\n        android:gravity=&quot;center&quot;\n        android:inputType=&quot;number&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/textView3&quot;\n        android:background=&quot;@android:color/white&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:focusable=&quot;true&quot;\n        android:maxLines=&quot;1&quot;\n        android:inputType=&quot;number&quot;\n        android:maxLength=&quot;1&quot;\n        android:gravity=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/textView4&quot;\n        android:background=&quot;@android:color/white&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:focusable=&quot;true&quot;\n        android:maxLines=&quot;1&quot;\n        android:inputType=&quot;number&quot;\n        android:maxLength=&quot;1&quot;\n        android:gravity=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/textView5&quot;\n        android:background=&quot;@android:color/white&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:focusable=&quot;true&quot;\n        android:maxLines=&quot;1&quot;\n        android:inputType=&quot;number&quot;\n        android:maxLength=&quot;1&quot;\n        android:gravity=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/textView6&quot;\n        android:background=&quot;@android:color/white&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:focusable=&quot;true&quot;\n        android:maxLines=&quot;1&quot;\n        android:inputType=&quot;number&quot;\n        android:maxLength=&quot;1&quot;\n        android:gravity=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/textView7&quot;\n        android:background=&quot;@android:color/white&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:focusable=&quot;true&quot;\n        android:maxLines=&quot;1&quot;\n        android:inputType=&quot;number&quot;\n        android:maxLength=&quot;1&quot;\n        android:gravity=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/textView8&quot;\n        android:background=&quot;@android:color/white&quot;\n        android:layout_marginStart=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:focusable=&quot;true&quot;\n        android:maxLines=&quot;1&quot;\n        android:inputType=&quot;number&quot;\n        android:maxLength=&quot;1&quot;\n        android:gravity=&quot;center&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot; /&gt;\n  &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Y4aBQ.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y4aBQ.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","canvas","paint","repaint"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1634565928,"post_id":69617403,"comment_id":123052502,"body_markdown":"*Most forms of repaint I&#39;ve seen online use either JPanel* - which is correct. When using Swing you should use a `JPanel` and override `paintComponent()`. Canvas is an AWT component and should not be used with Swing. Read the tutorial on [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for a complete working example. Start with the working example and make changes one at a time. Then if it stops working you know what you just changed.","body":"<i>Most forms of repaint I&#39;ve seen online use either JPanel</i> - which is correct. When using Swing you should use a <code>JPanel</code> and override <code>paintComponent()</code>. Canvas is an AWT component and should not be used with Swing. Read the tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a> for a complete working example. Start with the working example and make changes one at a time. Then if it stops working you know what you just changed."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1634566029,"post_id":69617403,"comment_id":123052560,"body_markdown":"*the repaint call seemingly just does absolutely nothing.* - All the repaint() method does is paint the panel in its current state. If you haven&#39;t changed the state of the class then nothing will change. Did you add debug code in your method to make sure the method is invoked? Do you display the new x/y values to make sure you math is correct?","body":"<i>the repaint call seemingly just does absolutely nothing.</i> - All the repaint() method does is paint the panel in its current state. If you haven&#39;t changed the state of the class then nothing will change. Did you add debug code in your method to make sure the method is invoked? Do you display the new x/y values to make sure you math is correct?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1634566589,"post_id":69617403,"comment_id":123052800,"body_markdown":"You are getting the position from `MouseInfo.getPointerInfo()` instead of from the `MouseEvent` that is passed to your event handler with `e.getPoint()` or `e.getX()` and `e.getY()`. This gives you the position on the screen, not the position within your component.","body":"You are getting the position from <code>MouseInfo.getPointerInfo()</code> instead of from the <code>MouseEvent</code> that is passed to your event handler with <code>e.getPoint()</code> or <code>e.getX()</code> and <code>e.getY()</code>. This gives you the position on the screen, not the position within your component."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1634566648,"post_id":69617403,"comment_id":123052823,"body_markdown":"In addition to previous comments: there is no need for two instances of `GoGui` : `GoGui myGui=new GoGui();` and  `Canvas canvas = new GoGui();`. Use only the later and `canvas.addMouseListener(canvas);` or better `addMouseListener(this);` in `GoGui` constructor.","body":"In addition to previous comments: there is no need for two instances of <code>GoGui</code> : <code>GoGui myGui=new GoGui();</code> and  <code>Canvas canvas = new GoGui();</code>. Use only the later and <code>canvas.addMouseListener(canvas);</code> or better <code>addMouseListener(this);</code> in <code>GoGui</code> constructor."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1634567261,"post_id":69617403,"comment_id":123053076,"body_markdown":"@c0der Good catch! The mouse listener is being added to the wrong instance!","body":"@c0der Good catch! The mouse listener is being added to the wrong instance!"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1634568313,"post_id":69617403,"comment_id":123053610,"body_markdown":"Here&#39;s a recent [Stack Overflow answer](https://stackoverflow.com/questions/68893598/how-to-make-a-grid-of-buttons/69034066#69034066) when I create a 9 x 9 Go board using a drawing JPanel.","body":"Here&#39;s a recent <a href=\"https://stackoverflow.com/questions/68893598/how-to-make-a-grid-of-buttons/69034066#69034066\">Stack Overflow answer</a> when I create a 9 x 9 Go board using a drawing JPanel."},{"owner":{"account_id":23068885,"reputation":3,"user_id":17182970,"display_name":"Crheadrick"},"score":0,"creation_date":1634673597,"post_id":69617403,"comment_id":123087713,"body_markdown":"I managed to get everything working based on the advice here, using the JPanel means as well as other advice. Thank you for the help, everyone!","body":"I managed to get everything working based on the advice here, using the JPanel means as well as other advice. Thank you for the help, everyone!"}],"owner":{"account_id":23068885,"reputation":3,"user_id":17182970,"display_name":"Crheadrick"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634566176,"creation_date":1634565445,"question_id":69617403,"body_markdown":"I am working on a program that allows the user to place pieces on a Go board, and updates to place the pieces on the nearest intersection to the user&#39;s click in a GUI. I&#39;ve figured I use the repaint() method for this, (the math part of it should already be working) but I&#39;ve struggled to manage to get anything actually updated on the canvas at all past its initial creation. Most forms of repaint I&#39;ve seen online use either JPanel or Applets instead of Canvas, or paintComponent instead of paint, but using both regular paint and canvas is the only way I&#39;ve managed to get the board to even initially be created. My code is as follows, and, for clarity, my exact problem is that the repaint call seemingly just does absolutely nothing.\r\n```\r\nmport java.io.IOException;\r\n\r\nimport java.util.EventListener; \r\nimport java.awt.Canvas;\r\nimport java.awt.Color;\r\nimport java.awt.Component;\r\nimport java.awt.Font;\r\nimport java.util.ArrayList;\r\nimport java.util.Random;\r\nimport java.awt.Graphics;\r\nimport java.applet.Applet;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Button;\r\nimport java.awt.GridLayout;\r\nimport java.awt.MouseInfo;\r\nimport java.awt.Point;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.*;\r\n\r\npublic class GoGui extends Canvas implements MouseListener{\r\npublic int myX=21;\r\npublic int myY=21;\r\npublic ArrayList &lt;newPiece&gt; pieces=new ArrayList&lt;newPiece&gt;();\r\n\tpublic static void main(String[] args) {\r\n\t\tGoGui myGui=new GoGui();\r\n\t\tJFrame frame = new JFrame(&quot;Go Database&quot;);\r\n\t    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLocation(50, 50);\r\n        frame.setSize(800, 800);\r\n        myGui.setSize(800, 800);\r\n        Canvas canvas = new GoGui();\r\n\t\tcanvas.setSize(800, 800); \r\n\t\tColor TAN = new Color(255,255,170);\r\n\t\tframe.add(canvas);\r\n        canvas.setBackground(TAN);\r\n        canvas.addMouseListener(myGui);\r\n\t\tframe.pack();\r\n\t\tframe.setVisible(true);\r\n    }\r\n    public void paint(Graphics g) {\r\n\t\tg.setColor(Color.BLACK);\r\n\t\tint varcoor=20;\r\n\t\twhile(varcoor&lt;781) {\r\n\t\t\tg.drawLine(20, varcoor, 780, varcoor);\r\n\t\t\tvarcoor+=40;\r\n\t\t}\r\n\t\tvarcoor=20;\r\n\t\twhile(varcoor&lt;781) {\r\n\t\t\tg.drawLine(varcoor, 20, varcoor, 780);\r\n\t\t\tvarcoor+=40;\r\n\t\t}\r\n\t\tg.fillOval(myX-20, myY-20, myX+20, myY+20);\r\n\t}\r\n\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tmyCoords=MouseInfo.getPointerInfo().getLocation();\r\n\t\tmyX=myCoords.x;\r\n\t\tmyY=myCoords.y;\r\n\t\tplacePiece((double) myX,(double) myY);\r\n\t\t\r\n\t}\r\n\tpublic void placePiece(double littleX, double littleY) {\r\n\t\tlittleX=(littleX-70)/40;\r\n\t\tint bigX=(int) Math.round(littleX);\r\n\t\tif(bigX&lt;1) {\r\n\t\t\tbigX=1;\r\n\t\t}\r\n\t\tif(bigX&gt;18) {\r\n\t\t\tbigX=18;\r\n\t\t}\r\n\t\tlittleY=(littleY-70)/40;\r\n\t\tint bigY=(int) Math.round(littleY);\r\n\t\tif(bigY&lt;1) {\r\n\t\t\tbigY=1;\r\n\t\t}\r\n\t\tif(bigY&gt;18) {\r\n\t\t\tbigY=18;\r\n\t\t}\r\n\t\tmyX=(bigX*40)+20;\r\n\t\tmyY=(bigY*40)+20;\r\n\t\trepaint();\r\n    }\r\n    }\r\n```\r\nIf anyone has experience with this specific Java concept and could point me in the right direction, it would be greatly appreciated.","title":"Issues with repaint on canvas","body":"<p>I am working on a program that allows the user to place pieces on a Go board, and updates to place the pieces on the nearest intersection to the user's click in a GUI. I've figured I use the repaint() method for this, (the math part of it should already be working) but I've struggled to manage to get anything actually updated on the canvas at all past its initial creation. Most forms of repaint I've seen online use either JPanel or Applets instead of Canvas, or paintComponent instead of paint, but using both regular paint and canvas is the only way I've managed to get the board to even initially be created. My code is as follows, and, for clarity, my exact problem is that the repaint call seemingly just does absolutely nothing.</p>\n<pre><code>mport java.io.IOException;\n\nimport java.util.EventListener; \nimport java.awt.Canvas;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Font;\nimport java.util.ArrayList;\nimport java.util.Random;\nimport java.awt.Graphics;\nimport java.applet.Applet;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport java.awt.BorderLayout;\nimport java.awt.Button;\nimport java.awt.GridLayout;\nimport java.awt.MouseInfo;\nimport java.awt.Point;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.*;\n\npublic class GoGui extends Canvas implements MouseListener{\npublic int myX=21;\npublic int myY=21;\npublic ArrayList &lt;newPiece&gt; pieces=new ArrayList&lt;newPiece&gt;();\n    public static void main(String[] args) {\n        GoGui myGui=new GoGui();\n        JFrame frame = new JFrame(&quot;Go Database&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLocation(50, 50);\n        frame.setSize(800, 800);\n        myGui.setSize(800, 800);\n        Canvas canvas = new GoGui();\n        canvas.setSize(800, 800); \n        Color TAN = new Color(255,255,170);\n        frame.add(canvas);\n        canvas.setBackground(TAN);\n        canvas.addMouseListener(myGui);\n        frame.pack();\n        frame.setVisible(true);\n    }\n    public void paint(Graphics g) {\n        g.setColor(Color.BLACK);\n        int varcoor=20;\n        while(varcoor&lt;781) {\n            g.drawLine(20, varcoor, 780, varcoor);\n            varcoor+=40;\n        }\n        varcoor=20;\n        while(varcoor&lt;781) {\n            g.drawLine(varcoor, 20, varcoor, 780);\n            varcoor+=40;\n        }\n        g.fillOval(myX-20, myY-20, myX+20, myY+20);\n    }\n    public void mouseClicked(MouseEvent e) {\n        // TODO Auto-generated method stub\n        myCoords=MouseInfo.getPointerInfo().getLocation();\n        myX=myCoords.x;\n        myY=myCoords.y;\n        placePiece((double) myX,(double) myY);\n        \n    }\n    public void placePiece(double littleX, double littleY) {\n        littleX=(littleX-70)/40;\n        int bigX=(int) Math.round(littleX);\n        if(bigX&lt;1) {\n            bigX=1;\n        }\n        if(bigX&gt;18) {\n            bigX=18;\n        }\n        littleY=(littleY-70)/40;\n        int bigY=(int) Math.round(littleY);\n        if(bigY&lt;1) {\n            bigY=1;\n        }\n        if(bigY&gt;18) {\n            bigY=18;\n        }\n        myX=(bigX*40)+20;\n        myY=(bigY*40)+20;\n        repaint();\n    }\n    }\n</code></pre>\n<p>If anyone has experience with this specific Java concept and could point me in the right direction, it would be greatly appreciated.</p>\n"},{"tags":["java","android","android-activity","fragment"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1634071350,"post_id":69546731,"comment_id":122926804,"body_markdown":"It depends entirely on the state of the fragment at the time you execute the `requireActivity()` call and whether it is attached to an activity or not at the time. You could eliminate the `requireActivity()` call by using [`setBackgroundResource()`](https://developer.android.com/reference/kotlin/android/view/View#setbackgroundresource), or by getting a `Context` from the `EditText`.","body":"It depends entirely on the state of the fragment at the time you execute the <code>requireActivity()</code> call and whether it is attached to an activity or not at the time. You could eliminate the <code>requireActivity()</code> call by using <a href=\"https://developer.android.com/reference/kotlin/android/view/View#setbackgroundresource\" rel=\"nofollow noreferrer\"><code>setBackgroundResource()</code></a>, or by getting a <code>Context</code> from the <code>EditText</code>."},{"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"score":0,"creation_date":1634072041,"post_id":69546731,"comment_id":122926996,"body_markdown":"@CommonsWare Right, I&#39;m gonna use `setBackgroundResource()`. Thanks.","body":"@CommonsWare Right, I&#39;m gonna use <code>setBackgroundResource()</code>. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":4867663,"reputation":1326,"user_id":3925319,"display_name":"Joe"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1634566014,"creation_date":1634071437,"answer_id":69546787,"question_id":69546731,"body_markdown":"requireActivity()\r\n\r\ncan throw null if the Activity is null for whatever reason that may be.\r\nI believe that can be null if the user exists the application or forefully stops it etc. Or there was never one created in the context that youre in\r\n\r\nJust do a try-catch\r\n\r\n\r\n    Activity activity;\r\n    try {\r\n        activity = requireActivity()\r\n        editText.setBackground(\r\n            ContextCompat.getDrawable(\r\n                activity.getApplicationContext(),\r\n                R.drawable.fondo_edittextpreference));\r\n    } catch (NullPointerException orTypeOfException) {\r\n        //handle here when the activity is null\r\n    }","title":"requireActivity().getApplicationContext() &quot;may produce a NullPointerExeption&quot;","body":"<p>requireActivity()</p>\n<p>can throw null if the Activity is null for whatever reason that may be.\nI believe that can be null if the user exists the application or forefully stops it etc. Or there was never one created in the context that youre in</p>\n<p>Just do a try-catch</p>\n<pre><code>Activity activity;\ntry {\n    activity = requireActivity()\n    editText.setBackground(\n        ContextCompat.getDrawable(\n            activity.getApplicationContext(),\n            R.drawable.fondo_edittextpreference));\n} catch (NullPointerException orTypeOfException) {\n    //handle here when the activity is null\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":68365,"reputation":3382,"user_id":199498,"accept_rate":50,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634093169,"creation_date":1634093169,"answer_id":69549141,"question_id":69546731,"body_markdown":"Instead of `requireActivity().getApplicationContext()` you could do either of the following\r\n\r\n1. `editText.setBackground(ContextCompat.getDrawable(editText.getContext(), R.drawable.fondo_edittextpreference))`\r\n2. `editText.setBackgroundResource(R.drawable.fondo_edittextpreference)`","title":"requireActivity().getApplicationContext() &quot;may produce a NullPointerExeption&quot;","body":"<p>Instead of <code>requireActivity().getApplicationContext()</code> you could do either of the following</p>\n<ol>\n<li><code>editText.setBackground(ContextCompat.getDrawable(editText.getContext(), R.drawable.fondo_edittextpreference))</code></li>\n<li><code>editText.setBackgroundResource(R.drawable.fondo_edittextpreference)</code></li>\n</ol>\n"}],"owner":{"account_id":19203818,"reputation":483,"user_id":14031171,"display_name":"Mike087"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69546787,"answer_count":2,"score":-1,"last_activity_date":1634566014,"creation_date":1634071034,"question_id":69546731,"body_markdown":"Bellow there is some of the code of my application. The part where I need help is in `requireActivity()` in SettingFragment.java:\r\n\r\n\r\n**MainActivity.java**\r\n```\r\n...\r\npublic class MainActivity extends AppCompatActivity {\r\n   \r\n   @Override\r\n   protected void onCreate(Bundle savedInstanceState) {\r\n      ...\r\n   }\r\n\r\n   public void iniciarIntent3() {   //this method is called by a button in activity_main.xml\r\n        Intent intent = new Intent(this, Settings.class);\r\n        startActivityForResult(intent, 1);\r\n   }\r\n}\r\n```\r\n\r\n**Settings.java**\r\n```\r\n...\r\n\r\npublic class Settings extends AppCompatActivity implements SettingsFragment.SendToActivity {\r\n   ...\r\n   @Override\r\n   protected void onCreate(Bundle savedInstanceState) {\r\n      ...\r\n      if (savedInstanceState == null) {\r\n         getSupportFragmentManager()\r\n            .beginTransaction()\r\n            .replace(R.id.settings, new SettingsFragment())\r\n            .commit();\r\n      }\r\n   }\r\n\r\n   @Override\r\n   public void onAttachFragment(Fragment fragment) {\r\n      if (fragment instanceof SettingsFragment) {\r\n         SettingsFragment settingsFragment = (SettingsFragment) fragment;\r\n         settingsFragment.setSendToActivity(this);\r\n      }\r\n   }\r\n   public void send(int result) {\r\n      ...\r\n   }\r\n}   \r\n```\r\n\r\n**SettingsFragment.java**\r\n```\r\npublic class SettingsFragment extends PreferenceFragmentCompat {\r\n\r\n   SendToActivity callback;\r\n\r\n   public void setSendToActivity (SendToActivity callback) {\r\n      this.callback = callback;\r\n   }\r\n\r\n   public interface SendToActivity {\r\n      void send(int result);\r\n   }\r\n   \r\n   if (editTextPreference != null) {\r\n      editTextPreference.setOnBindEditTextListener(new \r\n      EditTextPreference.OnBindEditTextListener() {\r\n         @Override\r\n         public void onBindEditText(@NonNull EditText editText) {\r\n            editText.setInputType(InputType.TYPE_CLASS_NUMBER);\r\n            editText.setText(&quot;&quot;);                \r\n            editText.setBackground(ContextCompat.getDrawable(requireActivity()\r\n               .getApplicationContext(), R.drawable.fondo_edittextpreference));\r\n         }\r\n      });\r\n   }\r\n   ...\r\n}\r\n```\r\n\r\nI just want to be sure that `requireActivity()` in SettingsFragment class is not going to throw a nullpointerexeption. Can you help me to check? \r\n\r\n","title":"requireActivity().getApplicationContext() &quot;may produce a NullPointerExeption&quot;","body":"<p>Bellow there is some of the code of my application. The part where I need help is in <code>requireActivity()</code> in SettingFragment.java:</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>...\npublic class MainActivity extends AppCompatActivity {\n   \n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n      ...\n   }\n\n   public void iniciarIntent3() {   //this method is called by a button in activity_main.xml\n        Intent intent = new Intent(this, Settings.class);\n        startActivityForResult(intent, 1);\n   }\n}\n</code></pre>\n<p><strong>Settings.java</strong></p>\n<pre><code>...\n\npublic class Settings extends AppCompatActivity implements SettingsFragment.SendToActivity {\n   ...\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n      ...\n      if (savedInstanceState == null) {\n         getSupportFragmentManager()\n            .beginTransaction()\n            .replace(R.id.settings, new SettingsFragment())\n            .commit();\n      }\n   }\n\n   @Override\n   public void onAttachFragment(Fragment fragment) {\n      if (fragment instanceof SettingsFragment) {\n         SettingsFragment settingsFragment = (SettingsFragment) fragment;\n         settingsFragment.setSendToActivity(this);\n      }\n   }\n   public void send(int result) {\n      ...\n   }\n}   \n</code></pre>\n<p><strong>SettingsFragment.java</strong></p>\n<pre><code>public class SettingsFragment extends PreferenceFragmentCompat {\n\n   SendToActivity callback;\n\n   public void setSendToActivity (SendToActivity callback) {\n      this.callback = callback;\n   }\n\n   public interface SendToActivity {\n      void send(int result);\n   }\n   \n   if (editTextPreference != null) {\n      editTextPreference.setOnBindEditTextListener(new \n      EditTextPreference.OnBindEditTextListener() {\n         @Override\n         public void onBindEditText(@NonNull EditText editText) {\n            editText.setInputType(InputType.TYPE_CLASS_NUMBER);\n            editText.setText(&quot;&quot;);                \n            editText.setBackground(ContextCompat.getDrawable(requireActivity()\n               .getApplicationContext(), R.drawable.fondo_edittextpreference));\n         }\n      });\n   }\n   ...\n}\n</code></pre>\n<p>I just want to be sure that <code>requireActivity()</code> in SettingsFragment class is not going to throw a nullpointerexeption. Can you help me to check?</p>\n"},{"tags":["java","swing","menubar","titlebar"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1634552797,"post_id":69613287,"comment_id":123046841,"body_markdown":"Create an undecorated JFrame and create your own JPanel that looks and functions like a title bar.  Good luck recreating the JMenuBar.","body":"Create an undecorated JFrame and create your own JPanel that looks and functions like a title bar.  Good luck recreating the JMenuBar."},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":0,"creation_date":1634558894,"post_id":69613287,"comment_id":123049120,"body_markdown":"@Abra, you might have seen it while using Intellij or VSCODE","body":"@Abra, you might have seen it while using Intellij or VSCODE"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1634565707,"post_id":69613287,"comment_id":123052404,"body_markdown":"The title bar is part of the OS window and java does NOT have access to it. You need to manually create your own titlebar which can then contain any components you want.","body":"The title bar is part of the OS window and java does NOT have access to it. You need to manually create your own titlebar which can then contain any components you want."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1634566239,"post_id":69613287,"comment_id":123052665,"body_markdown":"@Ruthvik An image doesn&#39;t help. you seemed to have ignored the other comments which have already suggested what you need to do the solve the problem.","body":"@Ruthvik An image doesn&#39;t help. you seemed to have ignored the other comments which have already suggested what you need to do the solve the problem."},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":0,"creation_date":1634566743,"post_id":69613287,"comment_id":123052865,"body_markdown":"@camickr, Sorry for ignoring, I just noticed now. Could you suggest ways or tell by links how can I do what you have suggested above..","body":"@camickr, Sorry for ignoring, I just noticed now. Could you suggest ways or tell by links how can I do what you have suggested above.."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1634567126,"post_id":69613287,"comment_id":123053012,"body_markdown":"I don&#39;t know of any links. Gilbert gave you a suggestion in the second comment hours ago. You need to create a panel that contains that replicates all the existing functionality of of the titlebar and also contains a menu bar. This is rather complex and most people don&#39;t do it since you will not have a common LAF across all platforms.","body":"I don&#39;t know of any links. Gilbert gave you a suggestion in the second comment hours ago. You need to create a panel that contains that replicates all the existing functionality of of the titlebar and also contains a menu bar. This is rather complex and most people don&#39;t do it since you will not have a common LAF across all platforms."},{"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"score":0,"creation_date":1634567306,"post_id":69613287,"comment_id":123053095,"body_markdown":"It&#39;s really complex I guess. I better go with the default ones","body":"It&#39;s really complex I guess. I better go with the default ones"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1634585829,"post_id":69613287,"comment_id":123060021,"body_markdown":"If it possible to use a title bar supplied by the look-and-feel, and place your JMenuBar on top of it, but the window title text would still be on the left side.  Getting the title bar’s text to move is probably too difficult to be worth the trouble.","body":"If it possible to use a title bar supplied by the look-and-feel, and place your JMenuBar on top of it, but the window title text would still be on the left side.  Getting the title bar’s text to move is probably too difficult to be worth the trouble."}],"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634565860,"creation_date":1634547409,"question_id":69613287,"body_markdown":"I see many IDE or apps which have the menubar in the Titlebar itself between the icon and the title name. I just want to replicate it in Java using swing. I searched in Google but results were just how to add JMenuBar. How to place the JMenuBar in the Titlebar itself?\r\n\r\nVSCode image &#128071;\r\n\r\n[![image][1]][1]\r\n\r\nAs you can see in the image the menubar is in the Titlebar itself along with icon, title and the window options.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PkeQ6.jpg","title":"How to set the JMenubar in Titlebar?","body":"<p>I see many IDE or apps which have the menubar in the Titlebar itself between the icon and the title name. I just want to replicate it in Java using swing. I searched in Google but results were just how to add JMenuBar. How to place the JMenuBar in the Titlebar itself?</p>\n<p>VSCode image 👇</p>\n<p><a href=\"https://i.stack.imgur.com/PkeQ6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PkeQ6.jpg\" alt=\"image\" /></a></p>\n<p>As you can see in the image the menubar is in the Titlebar itself along with icon, title and the window options.</p>\n"},{"tags":["java","cookies","javafx","webview"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1503441572,"post_id":45827482,"comment_id":78614017,"body_markdown":"You can get the cookies by URI from the default cookie handler, if you know all the relevant URIs. Is that enough, or do you need to programmatically figure out the URIs for which the cookies are set?","body":"You can get the cookies by URI from the default cookie handler, if you know all the relevant URIs. Is that enough, or do you need to programmatically figure out the URIs for which the cookies are set?"},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1503441625,"post_id":45827482,"comment_id":78614026,"body_markdown":"I need to programatically get all the cookies. I won&#39;t have all the URIs.","body":"I need to programatically get all the cookies. I won&#39;t have all the URIs."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1503441841,"post_id":45827482,"comment_id":78614084,"body_markdown":"So I think you have to implement your own `CookieHandler`. It might not be too bad: you can probably just wrap the default implementation and forward the two abstract methods to it; just decorate your `put` implementation so it stores all the `URI`s in a set. Admittedly, I have not tried this :).","body":"So I think you have to implement your own <code>CookieHandler</code>. It might not be too bad: you can probably just wrap the default implementation and forward the two abstract methods to it; just decorate your <code>put</code> implementation so it stores all the <code>URI</code>s in a set. Admittedly, I have not tried this :)."},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1503443450,"post_id":45827482,"comment_id":78614478,"body_markdown":"@James_D: I can do that, but what do I do with the set of URIs?","body":"@James_D: I can do that, but what do I do with the set of URIs?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1503444017,"post_id":45827482,"comment_id":78614610,"body_markdown":"The set of URIs would tell you all the URIs for which cookies had been stored. So you could iterate over them and call `cookieHandler.get(uri, new HashMap&lt;&gt;())` for each one.","body":"The set of URIs would tell you all the URIs for which cookies had been stored. So you could iterate over them and call <code>cookieHandler.get(uri, new HashMap&lt;&gt;())</code> for each one."},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1503444392,"post_id":45827482,"comment_id":78614686,"body_markdown":"When I do that, I get the cookie for the domain of each uri. I haven&#39;t tried to see if that works with put, because the actual domain got lost. If I go to google.com I get only one cookie, but there are about 10 different URIs, all that return the cookie when I call get.","body":"When I do that, I get the cookie for the domain of each uri. I haven&#39;t tried to see if that works with put, because the actual domain got lost. If I go to google.com I get only one cookie, but there are about 10 different URIs, all that return the cookie when I call get."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1503444765,"post_id":45827482,"comment_id":78614780,"body_markdown":"Not sure I understand. Aren&#39;t cookies stored on a domain-by-domain basis? Browsers will typically only send cookies when they send requests to domains from which that cookie was set. So having each domain listed is exactly what you want, I think. If I open up my Chrome preferences and look at the cookies it has stored, I see a similar thing: the same cookie for different subdomains of some sites.","body":"Not sure I understand. Aren&#39;t cookies stored on a domain-by-domain basis? Browsers will typically only send cookies when they send requests to domains from which that cookie was set. So having each domain listed is exactly what you want, I think. If I open up my Chrome preferences and look at the cookies it has stored, I see a similar thing: the same cookie for different subdomains of some sites."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1503444916,"post_id":45827482,"comment_id":78614812,"body_markdown":"If you really want unique cookies, couldn&#39;t you just iterate through the URIs, get the cookies from each URI, and accumulate them into a single `Map&lt;String,List&lt;String&gt;&gt;`. Then you would have a unique collection of cookies across all domains.","body":"If you really want unique cookies, couldn&#39;t you just iterate through the URIs, get the cookies from each URI, and accumulate them into a single <code>Map&lt;String,List&lt;String&gt;&gt;</code>. Then you would have a unique collection of cookies across all domains."},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1503444970,"post_id":45827482,"comment_id":78614828,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/152578/discussion-between-pablo-and-james-d).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/152578/discussion-between-pablo-and-james-d\">continue this discussion in chat</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1503446837,"post_id":45827482,"comment_id":78615198,"body_markdown":"Yeah... don&#39;t use `com.sun` classes, ever. I tried wrapping `CookieManager` instead of `CookieHandler` and using the cookie store to get at the higher-level API, but that didn&#39;t seem to work. I&#39;ll leave the answer I have for now, but see if I can improve (or maybe someone with better working knowledge of the cookie API in general may give a better answer).","body":"Yeah... don&#39;t use <code>com.sun</code> classes, ever. I tried wrapping <code>CookieManager</code> instead of <code>CookieHandler</code> and using the cookie store to get at the higher-level API, but that didn&#39;t seem to work. I&#39;ll leave the answer I have for now, but see if I can improve (or maybe someone with better working knowledge of the cookie API in general may give a better answer)."},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1503447274,"post_id":45827482,"comment_id":78615299,"body_markdown":"Why not using the com.sun classes?","body":"Why not using the com.sun classes?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1503447999,"post_id":45827482,"comment_id":78615440,"body_markdown":"They are not part of the public API and there is no guarantee they will remain from one release to another. In Java 9, which is due to be released in just a few weeks, they will not be accessible.","body":"They are not part of the public API and there is no guarantee they will remain from one release to another. In Java 9, which is due to be released in just a few weeks, they will not be accessible."},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1503448325,"post_id":45827482,"comment_id":78615514,"body_markdown":"I don&#39;t see how accessing com.sun would be worst than having to re-write the thing though.","body":"I don&#39;t see how accessing com.sun would be worst than having to re-write the thing though."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1503448481,"post_id":45827482,"comment_id":78615547,"body_markdown":"Because it might completely stop working when a user upgraded their JRE version...","body":"Because it might completely stop working when a user upgraded their JRE version..."},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1503448560,"post_id":45827482,"comment_id":78615566,"body_markdown":"It would only stop on a Java upgrade and I&#39;ll notice it because the app will not work. On the other hand, if I implement my own cookie manager, I might have bugs that would never get fixed because that code is not being maintained like Java&#39;s CookieManager.","body":"It would only stop on a Java upgrade and I&#39;ll notice it because the app will not work. On the other hand, if I implement my own cookie manager, I might have bugs that would never get fixed because that code is not being maintained like Java&#39;s CookieManager."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1503448710,"post_id":45827482,"comment_id":78615597,"body_markdown":"But you generally have absolutely no control over what JRE your users are using, apart from specifying a minimum version. Seriously, using non-public API is always an error.","body":"But you generally have absolutely no control over what JRE your users are using, apart from specifying a minimum version. Seriously, using non-public API is always an error."},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1503448762,"post_id":45827482,"comment_id":78615607,"body_markdown":"Don&#39;t you normally ship the JRE with the installer/executable?","body":"Don&#39;t you normally ship the JRE with the installer/executable?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1503449090,"post_id":45827482,"comment_id":78615675,"body_markdown":"Not usually, no. It depends a bit on the application and target audience, but the problem with self-contained application packages is you have to build for every platform you want to support (and you have to do each build on that particular platform). So I typically always provide and support a plain vanilla jar file, even if I provide self-contained application packages too.","body":"Not usually, no. It depends a bit on the application and target audience, but the problem with self-contained application packages is you have to build for every platform you want to support (and you have to do each build on that particular platform). So I typically always provide and support a plain vanilla jar file, even if I provide self-contained application packages too."},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1503449202,"post_id":45827482,"comment_id":78615698,"body_markdown":"I&#39;ll have to support each and every platform individually anyway. I need to provide .exes as well.","body":"I&#39;ll have to support each and every platform individually anyway. I need to provide .exes as well."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1503449514,"post_id":45827482,"comment_id":78615764,"body_markdown":"Well, you still prohibit yourself from upgrading to Java 9, so I&#39;d still (very) strongly recommend against using non-public API. What happens if you simply wrap (or subclass) `java.net.CookieManager`?","body":"Well, you still prohibit yourself from upgrading to Java 9, so I&#39;d still (very) strongly recommend against using non-public API. What happens if you simply wrap (or subclass) <code>java.net.CookieManager</code>?"},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1503449764,"post_id":45827482,"comment_id":78615822,"body_markdown":"Either wrapping or subclassing CookieManager, I need to implement cookie parsing at the very least.","body":"Either wrapping or subclassing CookieManager, I need to implement cookie parsing at the very least."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1503451308,"post_id":45827482,"comment_id":78616114,"body_markdown":"Doesn&#39;t `java.net.CookieManager` already implement all of that, via `getCookieStore().getCookies()` etc? (You probably don&#39;t even need to subclass or wrap it, the default implementation may work; I previously assumed this was an abstract class and that there was an internal implementation class.) The downside, which is hinted at in https://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview, is that it implements RFC2965, which has been obsoleted. I don&#39;t know the details of the different RFCs, but it may work well enough.","body":"Doesn&#39;t <code>java.net.CookieManager</code> already implement all of that, via <code>getCookieStore().getCookies()</code> etc? (You probably don&#39;t even need to subclass or wrap it, the default implementation may work; I previously assumed this was an abstract class and that there was an internal implementation class.) The downside, which is hinted at in <a href=\"https://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview\" title=\"setting a cookie using javafxs webengine webview\">stackoverflow.com/questions/14385233/&hellip;</a>, is that it implements RFC2965, which has been obsoleted. I don&#39;t know the details of the different RFCs, but it may work well enough."},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1503483192,"post_id":45827482,"comment_id":78630692,"body_markdown":"@James_D: I don&#39;t understand how I missed that. Thanks. I&#39;m going to experiment with that.","body":"@James_D: I don&#39;t understand how I missed that. Thanks. I&#39;m going to experiment with that."},{"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1503484428,"post_id":45827482,"comment_id":78631570,"body_markdown":"@James_D ah... found the issue... java.net.CookieHandler doesn&#39;t implement/require getCookieStore. java.net.CookieManager implements that method but the default cookie manager when using webkit is com.sun.webkit.network.CookieManager, which doesn&#39;t implement that method. I read Oracle recommends staying away from java.net.CookieManager as it&#39;s not RFC compliant.","body":"@James_D ah... found the issue... java.net.CookieHandler doesn&#39;t implement/require getCookieStore. java.net.CookieManager implements that method but the default cookie manager when using webkit is com.sun.webkit.network.CookieManager, which doesn&#39;t implement that method. I read Oracle recommends staying away from java.net.CookieManager as it&#39;s not RFC compliant."}],"answers":[{"tags":[],"owner":{"account_id":6795544,"reputation":1900,"user_id":5231001,"accept_rate":75,"display_name":"n247s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634565754,"creation_date":1503439597,"answer_id":45827720,"question_id":45827482,"body_markdown":"There is no direct way in java as far as I know, but you can communicate with the javascript side of a webPage, meaning you could do something like this: (not tested!)\r\n\r\n    WebView wv; //assumed to be initialized\r\n    WebEngine we = wv.getEngine();\r\n    String cookie = (String)we.executeScript(&quot;return document.cookie&quot;):\r\n\r\nYes this means you got the usual restrictions to cookie access as you normally have in javascript. But it might be enough in your case.\r\n\r\nEDIT:\r\n\r\nApparently its also possible using the java.net library (e.g.\r\n &lt;code&gt;java.net.CookieHandler.getDefault()&lt;/code&gt;). In this [SO post][1] you can find a bit more on how to use it, and here is the [CookieManager documentation][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/net/CookieManager.html","title":"Access all the cookies from a JavaFX WebView","body":"<p>There is no direct way in java as far as I know, but you can communicate with the javascript side of a webPage, meaning you could do something like this: (not tested!)</p>\n<pre><code>WebView wv; //assumed to be initialized\nWebEngine we = wv.getEngine();\nString cookie = (String)we.executeScript(&quot;return document.cookie&quot;):\n</code></pre>\n<p>Yes this means you got the usual restrictions to cookie access as you normally have in javascript. But it might be enough in your case.</p>\n<p>EDIT:</p>\n<p>Apparently its also possible using the java.net library (e.g.\n<code>java.net.CookieHandler.getDefault()</code>). In this <a href=\"https://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview\">SO post</a> you can find a bit more on how to use it, and here is the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/CookieManager.html\" rel=\"nofollow noreferrer\">CookieManager documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1503452778,"creation_date":1503445982,"answer_id":45828561,"question_id":45827482,"body_markdown":"(Updated after doing some research...)\r\n\r\nJava&#39;s default implementation of `CookieHandler` is `java.net.CookieManager`, which provides the API and functionality I think you are looking for (supported by the `CookieStore` and `HttpCookie` classes). Referring to https://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview and reading between the lines a little, it seems that `java.net.CookieManager` supports an obsolete standard (RFC 2965), and because of that, the JavaFX team replaced it with a non-public-API class that (I am assuming) supports the later RFC 6265. The private-API implementation, `com.sun.webkit.network.CookieManager` is not a subclass of `java.net.CookieManager` and doesn&#39;t provide access to any of the other `java.net` supporting classes. Note also that using any of the API from that class directly will prevent you updating to Java 9 at any point.\r\n\r\nSo I think you have two choices. If you can live with a RFC 2965-compliant implementation, all you need to do is to revert to the `java.net.CookieManager` implementation: just call\r\n\r\n    CookieManager cookieManager = new CookieManager();\r\n    CookieHandler.setDefault(cookieManager);\r\n\r\n*after* instantiating the `WebView`. Then you can use the standard API to access details of the cookies:\r\n\r\n    cookieManager.getCookieStore().getCookies().forEach(cookie -&gt; {\r\n        String name = cookie.getName();\r\n        String value = cookie.getValue();\r\n        String domain = cookie.getDomain();\r\n        long maxAge = cookie.getMaxAge(); // seconds\r\n        boolean secure = cookie.getSecure();\r\n\r\n        // etc...\r\n    });\r\n\r\nNote that the `HttpCookie` class defines a matching algorithm to determine if a particular host is part of a particular domain, so it avoids replicating cookies over multiple URIs belonging to the same domain.\r\n\r\nIf you need the more recent standard, then it seems you either have to do some fairly dirty hacking on the non-public classes, or you need to implement your own cookie handler (which as you&#39;ve observed, is not a trivial task).","title":"Access all the cookies from a JavaFX WebView","body":"<p>(Updated after doing some research...)</p>\n\n<p>Java's default implementation of <code>CookieHandler</code> is <code>java.net.CookieManager</code>, which provides the API and functionality I think you are looking for (supported by the <code>CookieStore</code> and <code>HttpCookie</code> classes). Referring to <a href=\"https://stackoverflow.com/questions/14385233/setting-a-cookie-using-javafxs-webengine-webview\">Setting a cookie using JavaFX&#39;s WebEngine/WebView</a> and reading between the lines a little, it seems that <code>java.net.CookieManager</code> supports an obsolete standard (RFC 2965), and because of that, the JavaFX team replaced it with a non-public-API class that (I am assuming) supports the later RFC 6265. The private-API implementation, <code>com.sun.webkit.network.CookieManager</code> is not a subclass of <code>java.net.CookieManager</code> and doesn't provide access to any of the other <code>java.net</code> supporting classes. Note also that using any of the API from that class directly will prevent you updating to Java 9 at any point.</p>\n\n<p>So I think you have two choices. If you can live with a RFC 2965-compliant implementation, all you need to do is to revert to the <code>java.net.CookieManager</code> implementation: just call</p>\n\n<pre><code>CookieManager cookieManager = new CookieManager();\nCookieHandler.setDefault(cookieManager);\n</code></pre>\n\n<p><em>after</em> instantiating the <code>WebView</code>. Then you can use the standard API to access details of the cookies:</p>\n\n<pre><code>cookieManager.getCookieStore().getCookies().forEach(cookie -&gt; {\n    String name = cookie.getName();\n    String value = cookie.getValue();\n    String domain = cookie.getDomain();\n    long maxAge = cookie.getMaxAge(); // seconds\n    boolean secure = cookie.getSecure();\n\n    // etc...\n});\n</code></pre>\n\n<p>Note that the <code>HttpCookie</code> class defines a matching algorithm to determine if a particular host is part of a particular domain, so it avoids replicating cookies over multiple URIs belonging to the same domain.</p>\n\n<p>If you need the more recent standard, then it seems you either have to do some fairly dirty hacking on the non-public classes, or you need to implement your own cookie handler (which as you've observed, is not a trivial task).</p>\n"}],"owner":{"account_id":4105,"reputation":281424,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634565754,"creation_date":1503438418,"question_id":45827482,"body_markdown":"I need to access all the cookies from a JavaFX WebView. As far as I can see there&#39;s a com.sun.webkit that implements its own CookieManager, Cookie, etc, etc. In that implementation, the cookies are hidden away and there&#39;s no way to access them.\r\n\r\nAm I correct in thinking there are only two solutions:\r\n\r\n - Implement my own CookieManager\r\n - Use reflection to access the internals of CookieManager\r\n\r\nAm I missing anything here?\r\n\r\nImplementing my own CookieManager is no trivial task. com.sun.webkit&#39;s is more than 1500 lines of code.\r\n\r\nUsing reflection to access the internals is quite horrible. So far, I managed to dump the cookies to a JSON file but look at the code:\r\n\r\n     private void saveCookies() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException, NoSuchFieldException, ClassNotFoundException, IOException {\r\n        CookieManager cookieManager = (CookieManager) CookieHandler.getDefault();\r\n        Field f = cookieManager.getClass().getDeclaredField(&quot;store&quot;);\r\n        f.setAccessible(true);\r\n        Object cookieStore = f.get(cookieManager);\r\n\r\n        Field bucketsField = Class.forName(&quot;com.sun.webkit.network.CookieStore&quot;).getDeclaredField(&quot;buckets&quot;);\r\n        bucketsField.setAccessible(true);\r\n        Map buckets = (Map) bucketsField.get(cookieStore);\r\n        f.setAccessible(true);\r\n        Map&lt;String, Collection&gt; cookiesToSave = new HashMap&lt;&gt;();\r\n        for (Object o : buckets.entrySet()) {\r\n            Map.Entry pair = (Map.Entry) o;\r\n            String domain = (String) pair.getKey();\r\n            Map cookies = (Map) pair.getValue();\r\n            cookiesToSave.put(domain, cookies.values());\r\n        }\r\n\r\n        Gson gson = new GsonBuilder().create();\r\n        String json = gson.toJson(cookiesToSave);\r\n        System.out.println(json);\r\n\r\n        Files.write(Paths.get(&quot;cookies.json&quot;), json.getBytes());\r\n    }\r\n\r\nFollowing @James_D comments, I tried making a wrapper for CookieManager, something like this:\r\n\r\n    package sample;\r\n    \r\n    import com.sun.webkit.network.CookieManager;\r\n    \r\n    import java.io.IOException;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.net.CookieHandler;\r\n    import java.net.URI;\r\n    import java.util.*;\r\n    \r\n    public class MyCookieManager extends CookieHandler {\r\n        private final CookieManager cookieManager = new CookieManager();\r\n        private final Set&lt;URI&gt; uris = new HashSet&lt;&gt;();\r\n    \r\n        MyCookieManager() {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public Map&lt;String, List&lt;String&gt;&gt; get(URI uri, Map&lt;String, List&lt;String&gt;&gt; requestHeaders) throws IOException {\r\n            uris.add(uri);\r\n            return cookieManager.get(uri, requestHeaders);\r\n        }\r\n    \r\n        @Override\r\n        public void put(URI uri, Map&lt;String, List&lt;String&gt;&gt; responseHeaders) throws IOException {\r\n            uris.add(uri);\r\n            cookieManager.put(uri, responseHeaders);\r\n        }\r\n    \r\n        void save() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n            System.out.println(&quot;Saving cookies&quot;);\r\n            System.out.println(uris);\r\n            for (URI uri : uris) {\r\n                System.out.println(uri);\r\n                System.out.println(cookieManager.get(uri, new HashMap&lt;&gt;()));\r\n            }\r\n        }\r\n    }\r\n\r\nAfter accessing Google, when I call save, I get this:\r\n\r\n    https://ssl.gstatic.com/gb/images/b_8d5afc09.png\r\n    {}\r\n    https://www.google.co.uk/images/branding/googlelogo/1x/googlelogo_white_background_color_272x92dp.png\r\n    {Cookie=[NID=110=TnISuEnlryFjSzvLgWXIuTBRDx_CTBlgPOqFzCPXM88M0xQY_1nSJEG2uyCxk-RFNbdexuen5A_3CZXHevseXhRSKJmRSHis0pUb4kvFCxliWT8RsKvRXoAxBYJhGGd2]}\r\n    https://www.google.co.uk/client_204?&amp;atyp=i&amp;biw=500&amp;bih=455&amp;ei=Q72cWa_IJ4KhUc6xpqAH\r\n    {Cookie=[NID=110=TnISuEnlryFjSzvLgWXIuTBRDx_CTBlgPOqFzCPXM88M0xQY_1nSJEG2uyCxk-RFNbdexuen5A_3CZXHevseXhRSKJmRSHis0pUb4kvFCxliWT8RsKvRXoAxBYJhGGd2]}\r\n    https://clients1.google.co.uk/generate_204\r\n    {Cookie=[NID=110=TnISuEnlryFjSzvLgWXIuTBRDx_CTBlgPOqFzCPXM88M0xQY_1nSJEG2uyCxk-RFNbdexuen5A_3CZXHevseXhRSKJmRSHis0pUb4kvFCxliWT8RsKvRXoAxBYJhGGd2]}\r\n    https://www.google.co.uk/xjs/_/js/k=xjs.hp.en_US.HWKnNOqE224.O/m=sb_he,d/am=ABg/rt=j/d=1/t=zcms/rs=ACT90oFd7WTU33BO8_uKNZdqfket_iKTeg\r\n    {Cookie=[NID=110=TnISuEnlryFjSzvLgWXIuTBRDx_CTBlgPOqFzCPXM88M0xQY_1nSJEG2uyCxk-RFNbdexuen5A_3CZXHevseXhRSKJmRSHis0pUb4kvFCxliWT8RsKvRXoAxBYJhGGd2]}\r\n    https://google.com/\r\n    {}\r\n    https://www.google.co.uk/?gfe_rd=cr&amp;ei=Q72cWb30H9P38Ae7lKagCw\r\n    {Cookie=[NID=110=TnISuEnlryFjSzvLgWXIuTBRDx_CTBlgPOqFzCPXM88M0xQY_1nSJEG2uyCxk-RFNbdexuen5A_3CZXHevseXhRSKJmRSHis0pUb4kvFCxliWT8RsKvRXoAxBYJhGGd2]}\r\n    https://www.google.co.uk/images/nav_logo229.png\r\n    {Cookie=[NID=110=TnISuEnlryFjSzvLgWXIuTBRDx_CTBlgPOqFzCPXM88M0xQY_1nSJEG2uyCxk-RFNbdexuen5A_3CZXHevseXhRSKJmRSHis0pUb4kvFCxliWT8RsKvRXoAxBYJhGGd2]}\r\n    https://ssl.gstatic.com/gb/js/sem_e63c08fa6f0a34d4ef28b1bece13b39d.js\r\n    {}\r\n\r\nAs you can see there&#39;s a lot of repetition and I don&#39;t have access to a lot of the original information of the cookie. In this case, it should be just one cookie (I think) that looks like this:\r\n\r\n    {\r\n      &quot;google.co.uk&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;NID&quot;,\r\n          &quot;value&quot;: &quot;110\\u003dZVaVkKbDxN3aQJYtBTWUQ9G5yc4pGb4TpB4EmTJA9bUB2a27ukBdWh28arRI52lw2Tt9hTtXxLhuWFQl55JaQXUJ3hwQzAFXKI0FB-RCU67MmgvCj9wxgqs9yg7BzBCo&quot;,\r\n          &quot;expiryTime&quot;: 1519255457000,\r\n          &quot;domain&quot;: &quot;google.co.uk&quot;,\r\n          &quot;path&quot;: &quot;/&quot;,\r\n          &quot;creationTime&quot;: {\r\n            &quot;baseTime&quot;: 1503444256974,\r\n            &quot;subtime&quot;: 0\r\n          },\r\n          &quot;lastAccessTime&quot;: 1503444257350,\r\n          &quot;persistent&quot;: true,\r\n          &quot;hostOnly&quot;: false,\r\n          &quot;secureOnly&quot;: false,\r\n          &quot;httpOnly&quot;: true\r\n        }\r\n      ]\r\n    }\r\n\r\n","title":"Access all the cookies from a JavaFX WebView","body":"<p>I need to access all the cookies from a JavaFX WebView. As far as I can see there's a com.sun.webkit that implements its own CookieManager, Cookie, etc, etc. In that implementation, the cookies are hidden away and there's no way to access them.</p>\n\n<p>Am I correct in thinking there are only two solutions:</p>\n\n<ul>\n<li>Implement my own CookieManager</li>\n<li>Use reflection to access the internals of CookieManager</li>\n</ul>\n\n<p>Am I missing anything here?</p>\n\n<p>Implementing my own CookieManager is no trivial task. com.sun.webkit's is more than 1500 lines of code.</p>\n\n<p>Using reflection to access the internals is quite horrible. So far, I managed to dump the cookies to a JSON file but look at the code:</p>\n\n<pre><code> private void saveCookies() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException, NoSuchFieldException, ClassNotFoundException, IOException {\n    CookieManager cookieManager = (CookieManager) CookieHandler.getDefault();\n    Field f = cookieManager.getClass().getDeclaredField(\"store\");\n    f.setAccessible(true);\n    Object cookieStore = f.get(cookieManager);\n\n    Field bucketsField = Class.forName(\"com.sun.webkit.network.CookieStore\").getDeclaredField(\"buckets\");\n    bucketsField.setAccessible(true);\n    Map buckets = (Map) bucketsField.get(cookieStore);\n    f.setAccessible(true);\n    Map&lt;String, Collection&gt; cookiesToSave = new HashMap&lt;&gt;();\n    for (Object o : buckets.entrySet()) {\n        Map.Entry pair = (Map.Entry) o;\n        String domain = (String) pair.getKey();\n        Map cookies = (Map) pair.getValue();\n        cookiesToSave.put(domain, cookies.values());\n    }\n\n    Gson gson = new GsonBuilder().create();\n    String json = gson.toJson(cookiesToSave);\n    System.out.println(json);\n\n    Files.write(Paths.get(\"cookies.json\"), json.getBytes());\n}\n</code></pre>\n\n<p>Following @James_D comments, I tried making a wrapper for CookieManager, something like this:</p>\n\n<pre><code>package sample;\n\nimport com.sun.webkit.network.CookieManager;\n\nimport java.io.IOException;\nimport java.lang.reflect.InvocationTargetException;\nimport java.net.CookieHandler;\nimport java.net.URI;\nimport java.util.*;\n\npublic class MyCookieManager extends CookieHandler {\n    private final CookieManager cookieManager = new CookieManager();\n    private final Set&lt;URI&gt; uris = new HashSet&lt;&gt;();\n\n    MyCookieManager() {\n\n    }\n\n    @Override\n    public Map&lt;String, List&lt;String&gt;&gt; get(URI uri, Map&lt;String, List&lt;String&gt;&gt; requestHeaders) throws IOException {\n        uris.add(uri);\n        return cookieManager.get(uri, requestHeaders);\n    }\n\n    @Override\n    public void put(URI uri, Map&lt;String, List&lt;String&gt;&gt; responseHeaders) throws IOException {\n        uris.add(uri);\n        cookieManager.put(uri, responseHeaders);\n    }\n\n    void save() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n        System.out.println(\"Saving cookies\");\n        System.out.println(uris);\n        for (URI uri : uris) {\n            System.out.println(uri);\n            System.out.println(cookieManager.get(uri, new HashMap&lt;&gt;()));\n        }\n    }\n}\n</code></pre>\n\n<p>After accessing Google, when I call save, I get this:</p>\n\n<pre><code>https://ssl.gstatic.com/gb/images/b_8d5afc09.png\n{}\nhttps://www.google.co.uk/images/branding/googlelogo/1x/googlelogo_white_background_color_272x92dp.png\n{Cookie=[NID=110=TnISuEnlryFjSzvLgWXIuTBRDx_CTBlgPOqFzCPXM88M0xQY_1nSJEG2uyCxk-RFNbdexuen5A_3CZXHevseXhRSKJmRSHis0pUb4kvFCxliWT8RsKvRXoAxBYJhGGd2]}\nhttps://www.google.co.uk/client_204?&amp;atyp=i&amp;biw=500&amp;bih=455&amp;ei=Q72cWa_IJ4KhUc6xpqAH\n{Cookie=[NID=110=TnISuEnlryFjSzvLgWXIuTBRDx_CTBlgPOqFzCPXM88M0xQY_1nSJEG2uyCxk-RFNbdexuen5A_3CZXHevseXhRSKJmRSHis0pUb4kvFCxliWT8RsKvRXoAxBYJhGGd2]}\nhttps://clients1.google.co.uk/generate_204\n{Cookie=[NID=110=TnISuEnlryFjSzvLgWXIuTBRDx_CTBlgPOqFzCPXM88M0xQY_1nSJEG2uyCxk-RFNbdexuen5A_3CZXHevseXhRSKJmRSHis0pUb4kvFCxliWT8RsKvRXoAxBYJhGGd2]}\nhttps://www.google.co.uk/xjs/_/js/k=xjs.hp.en_US.HWKnNOqE224.O/m=sb_he,d/am=ABg/rt=j/d=1/t=zcms/rs=ACT90oFd7WTU33BO8_uKNZdqfket_iKTeg\n{Cookie=[NID=110=TnISuEnlryFjSzvLgWXIuTBRDx_CTBlgPOqFzCPXM88M0xQY_1nSJEG2uyCxk-RFNbdexuen5A_3CZXHevseXhRSKJmRSHis0pUb4kvFCxliWT8RsKvRXoAxBYJhGGd2]}\nhttps://google.com/\n{}\nhttps://www.google.co.uk/?gfe_rd=cr&amp;ei=Q72cWb30H9P38Ae7lKagCw\n{Cookie=[NID=110=TnISuEnlryFjSzvLgWXIuTBRDx_CTBlgPOqFzCPXM88M0xQY_1nSJEG2uyCxk-RFNbdexuen5A_3CZXHevseXhRSKJmRSHis0pUb4kvFCxliWT8RsKvRXoAxBYJhGGd2]}\nhttps://www.google.co.uk/images/nav_logo229.png\n{Cookie=[NID=110=TnISuEnlryFjSzvLgWXIuTBRDx_CTBlgPOqFzCPXM88M0xQY_1nSJEG2uyCxk-RFNbdexuen5A_3CZXHevseXhRSKJmRSHis0pUb4kvFCxliWT8RsKvRXoAxBYJhGGd2]}\nhttps://ssl.gstatic.com/gb/js/sem_e63c08fa6f0a34d4ef28b1bece13b39d.js\n{}\n</code></pre>\n\n<p>As you can see there's a lot of repetition and I don't have access to a lot of the original information of the cookie. In this case, it should be just one cookie (I think) that looks like this:</p>\n\n<pre><code>{\n  \"google.co.uk\": [\n    {\n      \"name\": \"NID\",\n      \"value\": \"110\\u003dZVaVkKbDxN3aQJYtBTWUQ9G5yc4pGb4TpB4EmTJA9bUB2a27ukBdWh28arRI52lw2Tt9hTtXxLhuWFQl55JaQXUJ3hwQzAFXKI0FB-RCU67MmgvCj9wxgqs9yg7BzBCo\",\n      \"expiryTime\": 1519255457000,\n      \"domain\": \"google.co.uk\",\n      \"path\": \"/\",\n      \"creationTime\": {\n        \"baseTime\": 1503444256974,\n        \"subtime\": 0\n      },\n      \"lastAccessTime\": 1503444257350,\n      \"persistent\": true,\n      \"hostOnly\": false,\n      \"secureOnly\": false,\n      \"httpOnly\": true\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpql"],"comments":[{"owner":{"account_id":2330668,"reputation":143,"user_id":2044181,"accept_rate":50,"display_name":"Venkatesh K"},"score":0,"creation_date":1634412277,"post_id":69595335,"comment_id":123019371,"body_markdown":"Try this query, `select s from student s where s.lesson in (select les FROM Lesson les where les.lessonCycleId = :lessonCycleId)`","body":"Try this query, <code>select s from student s where s.lesson in (select les FROM Lesson les where les.lessonCycleId = :lessonCycleId)</code>"},{"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"score":0,"creation_date":1634421769,"post_id":69595335,"comment_id":123021321,"body_markdown":"@VenkateshK it&#39;s lessonCycleIds (a list in entity and array in DB), not a single value","body":"@VenkateshK it&#39;s lessonCycleIds (a list in entity and array in DB), not a single value"}],"answers":[{"tags":[],"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634565728,"creation_date":1634565728,"answer_id":69617479,"question_id":69595335,"body_markdown":"I had no luck with JPQL so in the end I decided to use native Postgresql query instead:\r\n\r\n    @Query(nativeQuery = true, value = &quot;select * from student where lesson_id IN (select id from lesson where :id = ANY (lesson_cycle_ids))&quot;)\r\n    List&lt;Student&gt; getStudents(@NonNull @Param(&quot;id&quot;) UUID lessonCycleId);","title":"HQL/JPQL query with nested query and UUID array field","body":"<p>I had no luck with JPQL so in the end I decided to use native Postgresql query instead:</p>\n<pre><code>@Query(nativeQuery = true, value = &quot;select * from student where lesson_id IN (select id from lesson where :id = ANY (lesson_cycle_ids))&quot;)\nList&lt;Student&gt; getStudents(@NonNull @Param(&quot;id&quot;) UUID lessonCycleId);\n</code></pre>\n"}],"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69617479,"answer_count":1,"score":0,"last_activity_date":1634565728,"creation_date":1634385211,"question_id":69595335,"body_markdown":"I need help with a HQL/JPQL query in Java Spring Boot project with Hibernate and Postgresql database.\r\n\r\nMain entities are **Student** and **Lesson** (extra fields and annotations are ommited for brevity).\r\n\r\n**Student**\r\n\r\nPersistent entity:\r\n```\r\n@Entity\r\n@Table(name = &quot;student&quot;)\r\npublic class Student {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;lesson_id&quot;)\r\n    private Lesson lesson;\r\n\r\n}\r\n```\r\nDB table:\r\n```\r\ncreate table student\r\n(\r\n    id         uuid,\r\n    lesson_id  uuid\r\n);\r\n```\r\n**Lesson** can be a part of different **lesson cycles** which are stored in **uuid[]** filed in DB.\r\n\r\nPersistent entity:\r\n```\r\n@Entity\r\n@Table(name = &quot;lesson&quot;)\r\n@TypeDefs({\r\n        @TypeDef(\r\n                name = &quot;uuid-array&quot;,\r\n                typeClass = UUIDArrayType.class\r\n        )\r\n})\r\npublic class Lesson {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Type(type = &quot;uuid-array&quot;)\r\n    @Column(\r\n            name = &quot;lesson_cycle_ids&quot;,\r\n            columnDefinition = &quot;uuid[]&quot;\r\n    )\r\n    private List&lt;UUID&gt; lessonCycleIds;\r\n\r\n}\r\n```\r\nDB table:\r\n```\r\ncreate table lesson\r\n(\r\n    id               uuid,\r\n    name             varchar(1000),\r\n    lesson_cycle_ids uuid[]\r\n);\r\n```\r\n\r\nI need a method ```List&lt;Student&gt; getStudents(UUID lessonCycleId)``` which returns list of students, which are linked to lessons with supplied lessonCycleId.\r\n\r\nNow I ended up with below method in JPA repository:\r\n\r\n```\r\n@Query(&quot;FROM Student s WHERE s.lesson IN (SELECT les FROM Lesson les WHERE :id MEMBER OF les.lessonCycleIds)&quot;)\r\n    List&lt;Student&gt; getStudents(@Param(&quot;id&quot;) UUID lessonCycleId);\r\n```\r\n\r\nbut it doesn`t work. I have the following error on app startup:\r\n&gt;Validation failed for query for method public abstract java.util.List ... StudentJpaRepository.getStudents(java.util.UUID)!\r\n\r\nSo I need help to fix the query please.","title":"HQL/JPQL query with nested query and UUID array field","body":"<p>I need help with a HQL/JPQL query in Java Spring Boot project with Hibernate and Postgresql database.</p>\n<p>Main entities are <strong>Student</strong> and <strong>Lesson</strong> (extra fields and annotations are ommited for brevity).</p>\n<p><strong>Student</strong></p>\n<p>Persistent entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;lesson_id&quot;)\n    private Lesson lesson;\n\n}\n</code></pre>\n<p>DB table:</p>\n<pre><code>create table student\n(\n    id         uuid,\n    lesson_id  uuid\n);\n</code></pre>\n<p><strong>Lesson</strong> can be a part of different <strong>lesson cycles</strong> which are stored in <strong>uuid[]</strong> filed in DB.</p>\n<p>Persistent entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;lesson&quot;)\n@TypeDefs({\n        @TypeDef(\n                name = &quot;uuid-array&quot;,\n                typeClass = UUIDArrayType.class\n        )\n})\npublic class Lesson {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private UUID id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Type(type = &quot;uuid-array&quot;)\n    @Column(\n            name = &quot;lesson_cycle_ids&quot;,\n            columnDefinition = &quot;uuid[]&quot;\n    )\n    private List&lt;UUID&gt; lessonCycleIds;\n\n}\n</code></pre>\n<p>DB table:</p>\n<pre><code>create table lesson\n(\n    id               uuid,\n    name             varchar(1000),\n    lesson_cycle_ids uuid[]\n);\n</code></pre>\n<p>I need a method <code>List&lt;Student&gt; getStudents(UUID lessonCycleId)</code> which returns list of students, which are linked to lessons with supplied lessonCycleId.</p>\n<p>Now I ended up with below method in JPA repository:</p>\n<pre><code>@Query(&quot;FROM Student s WHERE s.lesson IN (SELECT les FROM Lesson les WHERE :id MEMBER OF les.lessonCycleIds)&quot;)\n    List&lt;Student&gt; getStudents(@Param(&quot;id&quot;) UUID lessonCycleId);\n</code></pre>\n<p>but it doesn`t work. I have the following error on app startup:</p>\n<blockquote>\n<p>Validation failed for query for method public abstract java.util.List ... StudentJpaRepository.getStudents(java.util.UUID)!</p>\n</blockquote>\n<p>So I need help to fix the query please.</p>\n"},{"tags":["java","oracle","database-design"],"comments":[{"owner":{"account_id":49167,"reputation":144571,"user_id":146325,"display_name":"APC"},"score":2,"creation_date":1634555911,"post_id":69614788,"comment_id":123047997,"body_markdown":"**You need to commit the draft/unapproved versions**. There&#39;s any number of reasons why the database or application could crash, and you really don&#39;t want the users to lose their work. I don&#39;t know enough about your work flow to give a definitive answer, but probably you need a data structure which handles versions of the document, distinguished by approval status. This may involve multiple tables or not, it depends on many considerations.","body":"<b>You need to commit the draft/unapproved versions</b>. There&#39;s any number of reasons why the database or application could crash, and you really don&#39;t want the users to lose their work. I don&#39;t know enough about your work flow to give a definitive answer, but probably you need a data structure which handles versions of the document, distinguished by approval status. This may involve multiple tables or not, it depends on many considerations."},{"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"score":2,"creation_date":1634559350,"post_id":69614788,"comment_id":123049327,"body_markdown":"You need to distinguish between functional flow ( pending approval, approved, etc ) and database integrity. You must commit always. There are different techniques, having different tables for each phase, of having flags in the same table to check the evolution of any record. You can also use SCD logic.","body":"You need to distinguish between functional flow ( pending approval, approved, etc ) and database integrity. You must commit always. There are different techniques, having different tables for each phase, of having flags in the same table to check the evolution of any record. You can also use SCD logic."}],"answers":[{"tags":[],"owner":{"account_id":23067670,"reputation":16,"user_id":17181909,"display_name":"Pranav Parekh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634556583,"creation_date":1634556583,"answer_id":69615266,"question_id":69614788,"body_markdown":"You can always have draft and final copy of the data. Draft copy will save your work in draft mode, committed and operation like save / confirm from app can copy this into final version. \r\n\r\nThis requires one more record to identify draft / final version and you should be using draft data to show on UI. \r\n\r\n","title":"How to keep uncomitted data in the application/database till it gets comitted","body":"<p>You can always have draft and final copy of the data. Draft copy will save your work in draft mode, committed and operation like save / confirm from app can copy this into final version.</p>\n<p>This requires one more record to identify draft / final version and you should be using draft data to show on UI.</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634565711,"creation_date":1634560205,"answer_id":69616082,"question_id":69614788,"body_markdown":"You need to better understand the problem.\r\nYou do not require one datastore,\r\nyou require two datastores.\r\n\r\nDatastore one (possible table one) will contain unapproved changes.\r\nThis is the &quot;proposed&quot; state.\r\nYou will write and commit all data into this datastore as soon as the user requests the change.\r\n\r\nDatastore two (possible table two) will contain the approved changes;\r\nthis is the &quot;real&quot; state.\r\nOnce a change that is in datastore one has been reviewed and approved,\r\nyou must apply the change here.\r\n\r\nA possible other solution is to use a Kafka topic:\r\n 1. Use a Kafka topic to store the unapproved changes.\r\n 1. Feed the topic to reviewers.\r\n 1. When approved, note the decision (in the same topic) and write the change to the database.\r\n\r\nNote:  \r\ndatastore 1 and datastore 2 can be the same table,\r\njust have a column to indicate &quot;approved change&quot;,\r\n&quot;declined change&quot;,\r\nand &quot;pending change&quot;.","title":"How to keep uncomitted data in the application/database till it gets comitted","body":"<p>You need to better understand the problem.\nYou do not require one datastore,\nyou require two datastores.</p>\n<p>Datastore one (possible table one) will contain unapproved changes.\nThis is the &quot;proposed&quot; state.\nYou will write and commit all data into this datastore as soon as the user requests the change.</p>\n<p>Datastore two (possible table two) will contain the approved changes;\nthis is the &quot;real&quot; state.\nOnce a change that is in datastore one has been reviewed and approved,\nyou must apply the change here.</p>\n<p>A possible other solution is to use a Kafka topic:</p>\n<ol>\n<li>Use a Kafka topic to store the unapproved changes.</li>\n<li>Feed the topic to reviewers.</li>\n<li>When approved, note the decision (in the same topic) and write the change to the database.</li>\n</ol>\n<p>Note:<br />\ndatastore 1 and datastore 2 can be the same table,\njust have a column to indicate &quot;approved change&quot;,\n&quot;declined change&quot;,\nand &quot;pending change&quot;.</p>\n"}],"owner":{"account_id":3210922,"reputation":69,"user_id":2710961,"accept_rate":56,"display_name":"user2710961"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634565711,"creation_date":1634554366,"question_id":69614788,"body_markdown":"I have a scenario where any update/change in the data by a cms user through application/CMS needs the approval of the admin/authorizer user. There may be multiple changes in one update in a single document/record. This approval will not be done in real-time and may take few hours or may be days. Authorizer may also reject the change. So in this case what would be the best way to keep this data alive without comitting it to the database till approval or rejection. Should I create temporary or duplicate tables to keep this data temporarily in the db? But this will result in large number of temporary tables(one for each table). Or is there any other option at developer/application/java end? I am using here Oracle with Java.","title":"How to keep uncomitted data in the application/database till it gets comitted","body":"<p>I have a scenario where any update/change in the data by a cms user through application/CMS needs the approval of the admin/authorizer user. There may be multiple changes in one update in a single document/record. This approval will not be done in real-time and may take few hours or may be days. Authorizer may also reject the change. So in this case what would be the best way to keep this data alive without comitting it to the database till approval or rejection. Should I create temporary or duplicate tables to keep this data temporarily in the db? But this will result in large number of temporary tables(one for each table). Or is there any other option at developer/application/java end? I am using here Oracle with Java.</p>\n"},{"tags":["java","spring-boot","spring-data","spring-data-jdbc","bidirectional-relation"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634565505,"creation_date":1634552368,"answer_id":69614408,"question_id":69586530,"body_markdown":"You have two things that get mapped to the column `offered_service.outlet_id`:\r\nThe one-to-many mapping from `Outlet` to `OfferedService` and the attribute `OfferedService.outletId`.\r\n\r\nIf these are supposed to be different you can use annotations to change the columns these are mapped to, but I assume you are intentionally doing this, to have the `outletId` available in the `OfferedService` entity.\r\n\r\nWhile this works, it is kind of a hack and might break in future versions.\r\n\r\nThe recommended way of doing something like this is to make `outletId` transient using `@Transient` and use plain java code to set its value when an `OfferedService` is added to an `Outlet`.\r\n\r\nThere is an blog article about just that: https://spring.io/blog/2021/09/22/spring-data-jdbc-how-do-i-make-bidirectional-relationships \r\n\r\nThere also seems to be another problem where Spring Data JDBC does select the `OfferedService.id` twice. I&#39;m not sure why that happens. Looks like a bug to me. But you probably can remove the `id` completely since the map key and the `outlet_id` should form a perfectly fine primary key. ","title":"Spring Data JDBC one-to-many relation causes lots of log warnings","body":"<p>You have two things that get mapped to the column <code>offered_service.outlet_id</code>:\nThe one-to-many mapping from <code>Outlet</code> to <code>OfferedService</code> and the attribute <code>OfferedService.outletId</code>.</p>\n<p>If these are supposed to be different you can use annotations to change the columns these are mapped to, but I assume you are intentionally doing this, to have the <code>outletId</code> available in the <code>OfferedService</code> entity.</p>\n<p>While this works, it is kind of a hack and might break in future versions.</p>\n<p>The recommended way of doing something like this is to make <code>outletId</code> transient using <code>@Transient</code> and use plain java code to set its value when an <code>OfferedService</code> is added to an <code>Outlet</code>.</p>\n<p>There is an blog article about just that: <a href=\"https://spring.io/blog/2021/09/22/spring-data-jdbc-how-do-i-make-bidirectional-relationships\" rel=\"nofollow noreferrer\">https://spring.io/blog/2021/09/22/spring-data-jdbc-how-do-i-make-bidirectional-relationships</a></p>\n<p>There also seems to be another problem where Spring Data JDBC does select the <code>OfferedService.id</code> twice. I'm not sure why that happens. Looks like a bug to me. But you probably can remove the <code>id</code> completely since the map key and the <code>outlet_id</code> should form a perfectly fine primary key.</p>\n"}],"owner":{"account_id":1661507,"reputation":9914,"user_id":1529709,"accept_rate":100,"display_name":"zb226"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69614408,"answer_count":1,"score":1,"last_activity_date":1634565505,"creation_date":1634309023,"question_id":69586530,"body_markdown":"Summary: Spring Data emits warnings as it `SELECT`s the the same column twice. The warning is:\r\n\r\n    (...) WARN o.s.d.j.core.convert.ResultSetAccessor   : ResultSet contains id multiple times\r\n\r\n\r\nThis is `spring-boot-starter-data-jdbc` via Spring Boot 2.5.5 ([documentation](https://docs.spring.io/spring-data/jdbc/docs/2.2.5/reference/html/#jdbc.repositories)). I&#39;m working with a very basic one-to-many relationship:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;ve reduced the entity classes as much as possible for brevity, while retaining the warnings:\r\n\r\n**Outlet.java**\r\n\r\n    (...)\r\n    @Table(&quot;outlet&quot;)\r\n    public class Outlet {\r\n    \t@Id\r\n    \tprivate String outletId;\r\n        @MappedCollection(idColumn = &quot;outlet_id&quot;, keyColumn = &quot;id&quot;)\r\n        private Map&lt;String, OfferedService&gt; offeredServices;\r\n        (...)\r\n    }\r\n\r\n**OfferedService.java**\r\n\r\n    (...)\r\n    @Table(&quot;offered_service&quot;)\r\n    public class OfferedService {\r\n        @Id\r\n        private String id;\r\n        private String outletId;\r\n        (...)    \r\n    }\r\n\r\nThe repository is also most basic...\r\n\r\n**OutletRepository.java**\r\n\r\n    (...)\r\n    public interface OutletRepository extends CrudRepository&lt;Outlet, String&gt; {}\r\n\r\n...and in my application code, I just do a `findAll` on this repository:\r\n\r\n    (...)\r\n    outletRepo.findAll();\r\n    (...)\r\n\r\nThis leads to a query which selects the the same column twice, and subsequently a warning from Spring Data&#39;s `ResultSetAccessor`:\r\n\r\n\r\n\tDEBUG o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [\r\n\t\tSELECT &quot;outlet&quot;.&quot;outlet_id&quot; AS &quot;outlet_id&quot; FROM &quot;outlet&quot;]\r\n\tDEBUG o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query\r\n    DEBUG o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [\r\n\t    SELECT &quot;offered_service&quot;.&quot;id&quot; AS &quot;id&quot;, \r\n\t\t    &quot;offered_service&quot;.&quot;outlet_id&quot; AS &quot;outlet_id&quot;, \r\n            &quot;offered_service&quot;.&quot;id&quot; AS &quot;id&quot;\r\n\t\tFROM &quot;offered_service&quot;\r\n        WHERE &quot;offered_service&quot;.&quot;outlet_id&quot; = ?]\r\n    TRACE o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: \r\n        column index 1, parameter value [xyz012], value class [java.lang.String], SQL type 12\r\n    WARN  o.s.d.j.core.convert.ResultSetAccessor   : ResultSet contains id multiple times\r\n    WARN  o.s.d.j.core.convert.ResultSetAccessor   : ResultSet contains id multiple times\r\n    (...repeated many times...)\r\n\r\nWhat am I doing wrong here? Also, for `findAll`, shouldn&#39;t this be a `JOIN` in the first place?\r\n\r\n  [1]: https://i.stack.imgur.com/qkm6b.png\r\n","title":"Spring Data JDBC one-to-many relation causes lots of log warnings","body":"<p>Summary: Spring Data emits warnings as it <code>SELECT</code>s the the same column twice. The warning is:</p>\n<pre><code>(...) WARN o.s.d.j.core.convert.ResultSetAccessor   : ResultSet contains id multiple times\n</code></pre>\n<p>This is <code>spring-boot-starter-data-jdbc</code> via Spring Boot 2.5.5 (<a href=\"https://docs.spring.io/spring-data/jdbc/docs/2.2.5/reference/html/#jdbc.repositories\" rel=\"nofollow noreferrer\">documentation</a>). I'm working with a very basic one-to-many relationship:</p>\n<p><a href=\"https://i.stack.imgur.com/qkm6b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qkm6b.png\" alt=\"enter image description here\" /></a></p>\n<p>I've reduced the entity classes as much as possible for brevity, while retaining the warnings:</p>\n<p><strong>Outlet.java</strong></p>\n<pre><code>(...)\n@Table(&quot;outlet&quot;)\npublic class Outlet {\n    @Id\n    private String outletId;\n    @MappedCollection(idColumn = &quot;outlet_id&quot;, keyColumn = &quot;id&quot;)\n    private Map&lt;String, OfferedService&gt; offeredServices;\n    (...)\n}\n</code></pre>\n<p><strong>OfferedService.java</strong></p>\n<pre><code>(...)\n@Table(&quot;offered_service&quot;)\npublic class OfferedService {\n    @Id\n    private String id;\n    private String outletId;\n    (...)    \n}\n</code></pre>\n<p>The repository is also most basic...</p>\n<p><strong>OutletRepository.java</strong></p>\n<pre><code>(...)\npublic interface OutletRepository extends CrudRepository&lt;Outlet, String&gt; {}\n</code></pre>\n<p>...and in my application code, I just do a <code>findAll</code> on this repository:</p>\n<pre><code>(...)\noutletRepo.findAll();\n(...)\n</code></pre>\n<p>This leads to a query which selects the the same column twice, and subsequently a warning from Spring Data's <code>ResultSetAccessor</code>:</p>\n<pre><code>DEBUG o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [\n    SELECT &quot;outlet&quot;.&quot;outlet_id&quot; AS &quot;outlet_id&quot; FROM &quot;outlet&quot;]\nDEBUG o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query\nDEBUG o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [\n    SELECT &quot;offered_service&quot;.&quot;id&quot; AS &quot;id&quot;, \n        &quot;offered_service&quot;.&quot;outlet_id&quot; AS &quot;outlet_id&quot;, \n        &quot;offered_service&quot;.&quot;id&quot; AS &quot;id&quot;\n    FROM &quot;offered_service&quot;\n    WHERE &quot;offered_service&quot;.&quot;outlet_id&quot; = ?]\nTRACE o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: \n    column index 1, parameter value [xyz012], value class [java.lang.String], SQL type 12\nWARN  o.s.d.j.core.convert.ResultSetAccessor   : ResultSet contains id multiple times\nWARN  o.s.d.j.core.convert.ResultSetAccessor   : ResultSet contains id multiple times\n(...repeated many times...)\n</code></pre>\n<p>What am I doing wrong here? Also, for <code>findAll</code>, shouldn't this be a <code>JOIN</code> in the first place?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":4,"creation_date":1481119932,"post_id":41019599,"comment_id":69246380,"body_markdown":"Did you import `Films` in class 2 ?","body":"Did you import <code>Films</code> in class 2 ?"},{"owner":{"account_id":5251793,"reputation":2266,"user_id":4195825,"accept_rate":76,"display_name":"px06"},"score":0,"creation_date":1481120002,"post_id":41019599,"comment_id":69246425,"body_markdown":"Sounds like an import issue, and also as a sidenote, in your constructor for the `Films` class there is no need to set those variables to `null` they are already `null` at that point.","body":"Sounds like an import issue, and also as a sidenote, in your constructor for the <code>Films</code> class there is no need to set those variables to <code>null</code> they are already <code>null</code> at that point."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1481120005,"post_id":41019599,"comment_id":69246429,"body_markdown":"@Berger, if it&#39;s in the same package it doesn&#39;t need to be imported.","body":"@Berger, if it&#39;s in the same package it doesn&#39;t need to be imported."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1481120021,"post_id":41019599,"comment_id":69246440,"body_markdown":"What IDE are you using?","body":"What IDE are you using?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1481120048,"post_id":41019599,"comment_id":69246462,"body_markdown":"@px06 There&#39;s nothing wrong with explicitly initializing field values.","body":"@px06 There&#39;s nothing wrong with explicitly initializing field values."},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1481120069,"post_id":41019599,"comment_id":69246475,"body_markdown":"@RealSkeptic : I must have missed the part stating that they were in the same package.","body":"@RealSkeptic : I must have missed the part stating that they were in the same package."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1481120121,"post_id":41019599,"comment_id":69246515,"body_markdown":"Can you show `package` declaration of both classes?","body":"Can you show <code>package</code> declaration of both classes?"},{"owner":{"account_id":5251793,"reputation":2266,"user_id":4195825,"accept_rate":76,"display_name":"px06"},"score":0,"creation_date":1481120125,"post_id":41019599,"comment_id":69246517,"body_markdown":"@m0skit0 &quot;There is no need&quot;","body":"@m0skit0 &quot;There is no need&quot;"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1481120178,"post_id":41019599,"comment_id":69246552,"body_markdown":"@Berger since the user did not give any of the class headers or the information required, assuming that they were in different packages would be jumping to conclusions. Especially given that beginners ofter write classes in the default package.","body":"@Berger since the user did not give any of the class headers or the information required, assuming that they were in different packages would be jumping to conclusions. Especially given that beginners ofter write classes in the default package."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1481120277,"post_id":41019599,"comment_id":69246617,"body_markdown":"Show the whole files, for all we know `Films` is a nested class.","body":"Show the whole files, for all we know <code>Films</code> is a nested class."},{"owner":{"display_name":"user7262674"},"score":0,"creation_date":1481120502,"post_id":41019599,"comment_id":69246776,"body_markdown":"@Berger I think you might be right, on the project explorer they are in seperate packages. I didnt even notice that. I&#39;m using eclipse.","body":"@Berger I think you might be right, on the project explorer they are in seperate packages. I didnt even notice that. I&#39;m using eclipse."},{"owner":{"display_name":"user7262674"},"score":0,"creation_date":1481120530,"post_id":41019599,"comment_id":69246801,"body_markdown":"@weston see reply to berger","body":"@weston see reply to berger"}],"answers":[{"tags":[],"owner":{"account_id":1619432,"reputation":1228,"user_id":1496335,"accept_rate":0,"display_name":"urag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634565439,"creation_date":1481121346,"answer_id":41020190,"question_id":41019599,"body_markdown":"It is an import issue you need to add `import` statement. Here is an example:\r\n\r\nNotice first line `package com.ura.stam.com.ura.stammm`; it is basically a place where your class is placed \r\n\r\n```java\r\npackage com.ura.stam.com.ura.stammm;\r\n\r\npublic class MyFilms {\r\n\r\n\tpublic MyFilms(){\r\n\t\tSystem.out.println(&quot;Callin constructor of films class&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nNow look how I import it to other class\r\nNotice the second line `import com.ura.stam.com.ura.stammm.MyFilms;` it tells the compile to bring this class to `MyTestClass`\r\n\r\n```java\r\npackage com.ura.stam.com.ura.sdss;\r\n\r\nimport com.ura.stam.com.ura.stammm.MyFilms;\r\n\r\npublic class MyTestClass{\r\n\tpublic static void main(String[] args) {\r\n\t\tMyFilms myFilms = new MyFilms();\r\n\t}\r\n}\r\n```\r\n","title":"&quot;Cannot be resolved to a type&quot;","body":"<p>It is an import issue you need to add <code>import</code> statement. Here is an example:</p>\n<p>Notice first line <code>package com.ura.stam.com.ura.stammm</code>; it is basically a place where your class is placed</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.ura.stam.com.ura.stammm;\n\npublic class MyFilms {\n\n    public MyFilms(){\n        System.out.println(&quot;Callin constructor of films class&quot;);\n    }\n}\n</code></pre>\n<p>Now look how I import it to other class\nNotice the second line <code>import com.ura.stam.com.ura.stammm.MyFilms;</code> it tells the compile to bring this class to <code>MyTestClass</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.ura.stam.com.ura.sdss;\n\nimport com.ura.stam.com.ura.stammm.MyFilms;\n\npublic class MyTestClass{\n    public static void main(String[] args) {\n        MyFilms myFilms = new MyFilms();\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user7262674"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41020190,"answer_count":1,"score":0,"last_activity_date":1634565439,"creation_date":1481119824,"question_id":41019599,"body_markdown":"Trying to create a new instance of an object. I want to create a new film and have it displayed in an arraylist.\r\n\r\nSo I have two classes.\r\n\r\nClass 1\r\n\r\n    public class Films {\r\n\t\r\n\t//Film Attributes\r\n\tprivate String title, studio, director;\r\n\tprivate int release, duration, rating;\r\n\t\r\n\t\r\n\t//default constructor\r\n\tpublic Films(){\r\n\t\ttitle = null;\r\n\t\tstudio = null;\r\n\t\tdirector = null;\r\n\t\trelease = 0;\r\n\t\tduration = 0;\r\n\t\trating = 0;\r\n\t}\r\n\t\r\n\t//Start of Film method\r\n\tpublic void setFilms(String title, String studio, String director, \r\n\t\t\t\t\t  int release, int duration, int rating) \r\n\t{\r\n\t\tthis.title = title;\r\n\t\tthis.studio = studio;\r\n\t\tthis.director = director;\r\n\t\tthis.release = release;\r\n\t\tthis. duration = duration;\r\n\t\tthis.rating = rating;\r\n\t}//end of Film method\r\n\t\r\n\t//Start of getString method\r\n\tpublic String getString(){\r\n\t\treturn &quot;\\nTitle: &quot; + title + &quot;\\nRelease: &quot; + release + &quot;\\nDuration: &quot; + duration\r\n\t\t\t\t+ &quot;\\nStudio: &quot; + studio + &quot;\\nDirector: &quot; + director + &quot;\\nRating: &quot; + rating\r\n\t\t\t\t+ &quot;\\n&quot;;\r\n\t}//end of getString method\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\nand class 2\r\n      \r\n    \t//start of createFilm() method\r\n\tprivate static void createFilm(){\r\n\t\t\r\n\t\tFilms newfilm = new Films(); //create a new instance of a film object\r\n\t\t\r\n\t\tSystem.out.println(&quot;Film Title: &quot;);\r\n\t\tString title = in.next();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Release Date: &quot;);\r\n\t\tint release = in.nextInt();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Duration: &quot;);\r\n\t\tint duration = in.nextInt();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Studio: &quot;);\r\n\t\tString studio = in.next();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Director: &quot;);\r\n\t\tString director = in.next();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Rating: &quot;);\r\n\t\tint rating = in.nextInt();\r\n\t\t\r\n\t\tnewfilm.setFilms(title, release, duration, studio, director, rating);\r\n\t\tmyfilms.add(newfilm);\r\n\t}\r\n\r\n}\r\n\r\nI only included the method which i am having trouble with in class 2. Basically the trouble im having is in class 2, the line;\r\n\r\n    Films newfilm = new Films(); //create a new instance of a film object\r\n\r\nis telling me  &#39;Films cannot be resolved to a type&#39; x2. So both &#39;Films&#39;. \r\n\r\nI imagine its something very stupid and silly that i&#39;ve overlooked, assumed or missed out but I cant figure out what the problem is.\r\n\r\nThis is my first post on this subject as you can probably tell so im sorry if i&#39;ve missed out valuable and key information and parts of the code. I&#39;m new to programming.     ","title":"&quot;Cannot be resolved to a type&quot;","body":"<p>Trying to create a new instance of an object. I want to create a new film and have it displayed in an arraylist.</p>\n\n<p>So I have two classes.</p>\n\n<p>Class 1</p>\n\n<pre><code>public class Films {\n\n//Film Attributes\nprivate String title, studio, director;\nprivate int release, duration, rating;\n\n\n//default constructor\npublic Films(){\n    title = null;\n    studio = null;\n    director = null;\n    release = 0;\n    duration = 0;\n    rating = 0;\n}\n\n//Start of Film method\npublic void setFilms(String title, String studio, String director, \n                  int release, int duration, int rating) \n{\n    this.title = title;\n    this.studio = studio;\n    this.director = director;\n    this.release = release;\n    this. duration = duration;\n    this.rating = rating;\n}//end of Film method\n\n//Start of getString method\npublic String getString(){\n    return \"\\nTitle: \" + title + \"\\nRelease: \" + release + \"\\nDuration: \" + duration\n            + \"\\nStudio: \" + studio + \"\\nDirector: \" + director + \"\\nRating: \" + rating\n            + \"\\n\";\n}//end of getString method\n</code></pre>\n\n<p>}</p>\n\n<p>and class 2</p>\n\n<pre><code>    //start of createFilm() method\nprivate static void createFilm(){\n\n    Films newfilm = new Films(); //create a new instance of a film object\n\n    System.out.println(\"Film Title: \");\n    String title = in.next();\n\n    System.out.println(\"Release Date: \");\n    int release = in.nextInt();\n\n    System.out.println(\"Duration: \");\n    int duration = in.nextInt();\n\n    System.out.println(\"Studio: \");\n    String studio = in.next();\n\n    System.out.println(\"Director: \");\n    String director = in.next();\n\n    System.out.println(\"Rating: \");\n    int rating = in.nextInt();\n\n    newfilm.setFilms(title, release, duration, studio, director, rating);\n    myfilms.add(newfilm);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I only included the method which i am having trouble with in class 2. Basically the trouble im having is in class 2, the line;</p>\n\n<pre><code>Films newfilm = new Films(); //create a new instance of a film object\n</code></pre>\n\n<p>is telling me  'Films cannot be resolved to a type' x2. So both 'Films'. </p>\n\n<p>I imagine its something very stupid and silly that i've overlooked, assumed or missed out but I cant figure out what the problem is.</p>\n\n<p>This is my first post on this subject as you can probably tell so im sorry if i've missed out valuable and key information and parts of the code. I'm new to programming.     </p>\n"},{"tags":["java","spring","spring-security","spring-el","spring-4"],"comments":[{"owner":{"account_id":1430913,"reputation":2842,"user_id":1353364,"accept_rate":36,"display_name":"vvra"},"score":0,"creation_date":1408554499,"post_id":25405373,"comment_id":39637031,"body_markdown":"ya, I will correct it","body":"ya, I will correct it"},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1408556628,"post_id":25405373,"comment_id":39638246,"body_markdown":"Just to be sure, your PostAuthorize annotation, while looking fine does not bloc anything, right ? If it true, could you try to add a `@PreAuthorize(&quot;denyAll&quot;)` and if it correctly blocs `@PreAuthorize(&quot;hasRole(&#39;ROLE_CAESAR_IMPERATOR&#39;)&quot;)` (assuming you do not have such a role) and say what happens ?","body":"Just to be sure, your PostAuthorize annotation, while looking fine does not bloc anything, right ? If it true, could you try to add a <code>@PreAuthorize(&quot;denyAll&quot;)</code> and if it correctly blocs <code>@PreAuthorize(&quot;hasRole(&#39;ROLE_CAESAR_IMPERATOR&#39;)&quot;)</code> (assuming you do not have such a role) and say what happens ?"},{"owner":{"account_id":125789,"reputation":13930,"user_id":321815,"accept_rate":64,"display_name":"Jeff Treuting"},"score":1,"creation_date":1501101997,"post_id":25405373,"comment_id":77636210,"body_markdown":"Having edited the original question to have the correct answer posted is confusing.  You got rid of the # which was the problem and why it was posted in the first place.  Took me a while to figure out what the difference in the problem and the solution were because of that.","body":"Having edited the original question to have the correct answer posted is confusing.  You got rid of the # which was the problem and why it was posted in the first place.  Took me a while to figure out what the difference in the problem and the solution were because of that."}],"answers":[{"tags":[],"owner":{"account_id":1430913,"reputation":2842,"user_id":1353364,"accept_rate":36,"display_name":"vvra"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1408557316,"creation_date":1408557316,"answer_id":25411391,"question_id":25405373,"body_markdown":"@holmis, as you had pointed, the culprit is the # in the code! this code\r\n\r\n    @PostAuthorize(&quot;returnObject!=null?returnObject.userId==principal.account.aid:true&quot;)\r\n\r\nworks!","title":"Spring security 3.2 - @PostAuthorize expressions to evaluate principal against the method&#39;s returned object","body":"<p>@holmis, as you had pointed, the culprit is the # in the code! this code</p>\n\n<pre><code>@PostAuthorize(\"returnObject!=null?returnObject.userId==principal.account.aid:true\")\n</code></pre>\n\n<p>works!</p>\n"},{"tags":[],"owner":{"account_id":2863588,"reputation":11468,"user_id":2458310,"display_name":"denov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604022077,"creation_date":1604022077,"answer_id":64601619,"question_id":25405373,"body_markdown":"same thing but i find this reads better than the answer by @vijay.  \r\n\r\n    @PostAuthorize(&quot;returnObject == null ?: returnObject.userId == principal.account.aid&quot;)\r\n\r\n\r\nsee [6.5.14 The Elvis Operator][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.0.x/reference/expressions.html","title":"Spring security 3.2 - @PostAuthorize expressions to evaluate principal against the method&#39;s returned object","body":"<p>same thing but i find this reads better than the answer by @vijay.</p>\n<pre><code>@PostAuthorize(&quot;returnObject == null ?: returnObject.userId == principal.account.aid&quot;)\n</code></pre>\n<p>see <a href=\"https://docs.spring.io/spring-framework/docs/3.0.x/reference/expressions.html\" rel=\"nofollow noreferrer\">6.5.14 The Elvis Operator</a></p>\n"}],"owner":{"account_id":1430913,"reputation":2842,"user_id":1353364,"accept_rate":36,"display_name":"vvra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7681,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":25411391,"answer_count":2,"score":1,"last_activity_date":1634565205,"creation_date":1408539488,"question_id":25405373,"body_markdown":"I use spring security to secure and evaluate expression in @PostAuthorize and @PreAuthorize annotations to authorize the service methods. I have a requirement that need to check if the returned object has the same userid who has logged in the system and is invoking this method.\r\n\r\n    // this allows the ids of other users too\r\n    @PostAuthorize(&quot;#returnObject!=null?returnObject.userId==principal.account.acid:true&quot;)\r\n\tpublic AudioClip findAudioClip(int clipId) {\r\n         .....\r\n         AudioClip clip = dao.findById(clipId);\r\n         // may also be null\r\n         return clip;\r\n    }\r\n\r\nAudioClip.java\r\n\r\n    @Component\r\n    public class AudioClip implements java.io.Serializable {\r\n\r\n\tprivate java.math.BigDecimal id;\r\n\tprivate java.lang.Integer    userId;\r\n    .....\r\n    }\r\n\r\nThe fetched object from the database contains the userId who created this db object. So, only he is eligible to access that component. How to compare the returnObject.userId with the userid who has logged-in to the system?\r\n","title":"Spring security 3.2 - @PostAuthorize expressions to evaluate principal against the method&#39;s returned object","body":"<p>I use spring security to secure and evaluate expression in @PostAuthorize and @PreAuthorize annotations to authorize the service methods. I have a requirement that need to check if the returned object has the same userid who has logged in the system and is invoking this method.</p>\n<pre><code>// this allows the ids of other users too\n@PostAuthorize(&quot;#returnObject!=null?returnObject.userId==principal.account.acid:true&quot;)\npublic AudioClip findAudioClip(int clipId) {\n     .....\n     AudioClip clip = dao.findById(clipId);\n     // may also be null\n     return clip;\n}\n</code></pre>\n<p>AudioClip.java</p>\n<pre><code>@Component\npublic class AudioClip implements java.io.Serializable {\n\nprivate java.math.BigDecimal id;\nprivate java.lang.Integer    userId;\n.....\n}\n</code></pre>\n<p>The fetched object from the database contains the userId who created this db object. So, only he is eligible to access that component. How to compare the returnObject.userId with the userid who has logged-in to the system?</p>\n"},{"tags":["java","oracle","hibernate","jpa","ejb"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":1,"creation_date":1634557974,"post_id":69614623,"comment_id":123048763,"body_markdown":"Are you using Oracle RAC?","body":"Are you using Oracle RAC?"},{"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"score":0,"creation_date":1634559705,"post_id":69614623,"comment_id":123049515,"body_markdown":"which version of Oracle are you using ? from 12.1 you can use  `identity columns` , then you don&#39;t need any manual sequence created by yourself.","body":"which version of Oracle are you using ? from 12.1 you can use  <code>identity columns</code> , then you don&#39;t need any manual sequence created by yourself."},{"owner":{"account_id":3132780,"reputation":57,"user_id":2650041,"accept_rate":75,"display_name":"hasan safiary"},"score":0,"creation_date":1634560101,"post_id":69614623,"comment_id":123049708,"body_markdown":"@pmdba yes , i am using Oracle RAC.","body":"@pmdba yes , i am using Oracle RAC."},{"owner":{"account_id":3132780,"reputation":57,"user_id":2650041,"accept_rate":75,"display_name":"hasan safiary"},"score":0,"creation_date":1634560183,"post_id":69614623,"comment_id":123049734,"body_markdown":"@RobertoHernandez my oracle version is 11G.are there any solution in oracle 11?","body":"@RobertoHernandez my oracle version is 11G.are there any solution in oracle 11?"}],"answers":[{"tags":[],"owner":{"account_id":18858054,"reputation":8321,"user_id":13755538,"display_name":"Roberto Hernandez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634561614,"creation_date":1634561614,"answer_id":69616446,"question_id":69614623,"body_markdown":"As you are using 11g ( a very old version, so your company should think in upgrade asap ) the option for RAC has to pass for a balance between performance and integrity gap. \r\n\r\nYou have two options `noorder` vs `order`  \r\n\r\n    create sequence xxx start with 1 increment by 1 noorder|order cache xxx\r\n\r\n\r\n**How do the instances co-ordinate their use of sequence values and avoid the risk of two instances using the same value?** \r\n\r\nThere are two solutions: the default `noorder` mechanism where each instance behaves as if it doesn’t know about the other instances. The other is the `order` option, where the instances continuously negotiate through the use of global enqueues to determine which instance should be responsible for the sequence at any moment.\r\n\r\n**Noorder**\r\n\r\nThe upshot of this noorder mechanism is that each instance will be working its way through a different range of numbers, and there will be no overlaps between instances. If you had sessions that logged on to the database once per second to issue a call to nextval (and they ended up connecting through a different instance each time), then the values returned would appear to be fairly randomly scattered over a range dictated by “number of instances x cache size.” Uniqueness would be guaranteed, but ordering would not.\r\n\r\n**Order** \r\n\r\nIf you declare a sequence with the `order` option, Oracle adopts a strategy of using a single “cache” for the values and introduces a mechanism for making sure that only one instance at a time can access and modify that cache. Oracle does this by taking advantage of its Global Enqueue services. Whenever a session issues a call to `nextval`, the instance acquires an exclusive SV lock (global enqueue) on the sequence cache, effectively saying, “who’s got the most up to date information about this sequence – I want control”. The one instance holding the SV lock in exclusive mode is then the only instance that can increment the cached value and, if necessary, update the seq$ table by incrementing the highwater. This means that the sequence numbers will, once again, be generated in order. But this option has a penalty in performance and should be considered carefully. \r\n\r\nSummary\r\n\r\nIf your transactions are fast, you can use order and test how it behaves. If your transactions are not fast, I would avoid `order` all together. The best option is to upgrade to 19c ( 12c is already near of obsolescence ) and use `IDENTTTY COLUMNS`\r\n\r\n","title":"sequence is not in a row on oracle tables","body":"<p>As you are using 11g ( a very old version, so your company should think in upgrade asap ) the option for RAC has to pass for a balance between performance and integrity gap.</p>\n<p>You have two options <code>noorder</code> vs <code>order</code></p>\n<pre><code>create sequence xxx start with 1 increment by 1 noorder|order cache xxx\n</code></pre>\n<p><strong>How do the instances co-ordinate their use of sequence values and avoid the risk of two instances using the same value?</strong></p>\n<p>There are two solutions: the default <code>noorder</code> mechanism where each instance behaves as if it doesn’t know about the other instances. The other is the <code>order</code> option, where the instances continuously negotiate through the use of global enqueues to determine which instance should be responsible for the sequence at any moment.</p>\n<p><strong>Noorder</strong></p>\n<p>The upshot of this noorder mechanism is that each instance will be working its way through a different range of numbers, and there will be no overlaps between instances. If you had sessions that logged on to the database once per second to issue a call to nextval (and they ended up connecting through a different instance each time), then the values returned would appear to be fairly randomly scattered over a range dictated by “number of instances x cache size.” Uniqueness would be guaranteed, but ordering would not.</p>\n<p><strong>Order</strong></p>\n<p>If you declare a sequence with the <code>order</code> option, Oracle adopts a strategy of using a single “cache” for the values and introduces a mechanism for making sure that only one instance at a time can access and modify that cache. Oracle does this by taking advantage of its Global Enqueue services. Whenever a session issues a call to <code>nextval</code>, the instance acquires an exclusive SV lock (global enqueue) on the sequence cache, effectively saying, “who’s got the most up to date information about this sequence – I want control”. The one instance holding the SV lock in exclusive mode is then the only instance that can increment the cached value and, if necessary, update the seq$ table by incrementing the highwater. This means that the sequence numbers will, once again, be generated in order. But this option has a penalty in performance and should be considered carefully.</p>\n<p>Summary</p>\n<p>If your transactions are fast, you can use order and test how it behaves. If your transactions are not fast, I would avoid <code>order</code> all together. The best option is to upgrade to 19c ( 12c is already near of obsolescence ) and use <code>IDENTTTY COLUMNS</code></p>\n"},{"tags":[],"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634565113,"creation_date":1634565113,"answer_id":69617315,"question_id":69614623,"body_markdown":"If you have unordered (separate) caches on each node (the default):\r\n\r\n    node 1: cache values (1 - 1000)\r\n    node 2: cache values (1001 - 2000)\r\n\r\nthen the caches cannot overlap values and value used will depend on which node performs the insert. That is why your sequence values currently appear to be out of order.\r\n\r\nUsing the `NOCACHE` and/or `ORDERED` options will result sequential numbers, but you can expect at least some performance impact to your application, as the database must perform more overhead to determine the current sequence value before making it available to your SQL command. Reducing the cache size or eliminating the cache entirely can have a severe negative impact on performance if you are executing a lot of inserts (as suggested by your current cache value of 1000).\r\n\r\nAssuming for now that you continue to use a cache (whether ordered or not), be aware that every time you restart your database, or a node (depending on your exact configuration), the unused cached values will be flushed and lost and a new cache will be created. \r\n\r\nIn the end, it is important to realize that sequence values are not intended (for most applications) to be perfectly sequential without gaps, or even (as in your case) ordered. They are *only* intended to be *unique*. Be sure to understand your *requirement*, and don&#39;t be put off if sequences don&#39;t behave quite like you expected: must the values be sequential in the order inserted, and will gaps in the sequence affect your application? If the answer is *no*, the application won&#39;t care, then stick with what you&#39;ve got for the sake of performance.","title":"sequence is not in a row on oracle tables","body":"<p>If you have unordered (separate) caches on each node (the default):</p>\n<pre><code>node 1: cache values (1 - 1000)\nnode 2: cache values (1001 - 2000)\n</code></pre>\n<p>then the caches cannot overlap values and value used will depend on which node performs the insert. That is why your sequence values currently appear to be out of order.</p>\n<p>Using the <code>NOCACHE</code> and/or <code>ORDERED</code> options will result sequential numbers, but you can expect at least some performance impact to your application, as the database must perform more overhead to determine the current sequence value before making it available to your SQL command. Reducing the cache size or eliminating the cache entirely can have a severe negative impact on performance if you are executing a lot of inserts (as suggested by your current cache value of 1000).</p>\n<p>Assuming for now that you continue to use a cache (whether ordered or not), be aware that every time you restart your database, or a node (depending on your exact configuration), the unused cached values will be flushed and lost and a new cache will be created.</p>\n<p>In the end, it is important to realize that sequence values are not intended (for most applications) to be perfectly sequential without gaps, or even (as in your case) ordered. They are <em>only</em> intended to be <em>unique</em>. Be sure to understand your <em>requirement</em>, and don't be put off if sequences don't behave quite like you expected: must the values be sequential in the order inserted, and will gaps in the sequence affect your application? If the answer is <em>no</em>, the application won't care, then stick with what you've got for the sake of performance.</p>\n"}],"owner":{"account_id":3132780,"reputation":57,"user_id":2650041,"accept_rate":75,"display_name":"hasan safiary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634565113,"creation_date":1634553398,"question_id":69614623,"body_markdown":"I have a project that its structure is java ee 7. I use hibernate as ORM and my database is Oracle. \r\n\r\nI use `@SequenceGenerator` with  allocationSize = 1 for id of my entity and `@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq&quot;)`. My database sequence in Oracle has cache=1000. \r\n But when I persist two records in database, first record&#39;s id is older than second record even if after a day and the id is not in a row and continuously.\r\n\r\nHow can I resolve this problem and what is my problem?\r\n","title":"sequence is not in a row on oracle tables","body":"<p>I have a project that its structure is java ee 7. I use hibernate as ORM and my database is Oracle.</p>\n<p>I use <code>@SequenceGenerator</code> with  allocationSize = 1 for id of my entity and <code>@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq&quot;)</code>. My database sequence in Oracle has cache=1000.\nBut when I persist two records in database, first record's id is older than second record even if after a day and the id is not in a row and continuously.</p>\n<p>How can I resolve this problem and what is my problem?</p>\n"},{"tags":["java","dropbox"],"comments":[{"owner":{"account_id":1370292,"reputation":16504,"user_id":1305693,"display_name":"Greg"},"score":0,"creation_date":1615217455,"post_id":66518862,"comment_id":117616452,"body_markdown":"[Cross-linking for reference: https://www.dropboxforum.com/t5/Dropbox-API-Support-Feedback/Searching-for-all-files-with-certain-extension-in-Java-API-and/td-p/502767 ]","body":"[Cross-linking for reference: <a href=\"https://www.dropboxforum.com/t5/Dropbox-API-Support-Feedback/Searching-for-all-files-with-certain-extension-in-Java-API-and/td-p/502767\" rel=\"nofollow noreferrer\">dropboxforum.com/t5/Dropbox-API-Support-Feedback/&hellip;</a> ]"}],"answers":[{"tags":[],"owner":{"account_id":5429762,"reputation":1306,"user_id":4321004,"display_name":"tfrysinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634565051,"creation_date":1634565051,"answer_id":69617297,"question_id":66518862,"body_markdown":"In my experience, you have to include in your initial search string something you are specifically looking for - there does not seem to be the notion of a &quot;wildcard&quot; search in this string. \r\n\r\nAlso, there is no way to limit the query by date.\r\n\r\nSo for my usage, I always have directories that start with a known string (&quot;p_&quot;), and also include a YYYYMMDD string in them.\r\n\r\nTo return all directories, I query &quot;p_&quot; only.","title":"Dropbox SDK Java - write search query to get all files","body":"<p>In my experience, you have to include in your initial search string something you are specifically looking for - there does not seem to be the notion of a &quot;wildcard&quot; search in this string.</p>\n<p>Also, there is no way to limit the query by date.</p>\n<p>So for my usage, I always have directories that start with a known string (&quot;p_&quot;), and also include a YYYYMMDD string in them.</p>\n<p>To return all directories, I query &quot;p_&quot; only.</p>\n"}],"owner":{"account_id":16138031,"reputation":11,"user_id":11649986,"display_name":"pojler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634565051,"creation_date":1615135198,"question_id":66518862,"body_markdown":"I&#39;m working on a simple project to download all files with certain extensions. And I&#39;m doing a search like this \r\n```\r\npublic void findFile(String query){\r\n        try{\r\n\r\n            SearchV2Builder searchBuilder = client.files().searchV2Builder(query);\r\n\r\n            List&lt;String&gt; fileExtensions = Arrays.asList(extensions);\r\n            SearchOptions searchOptions = SearchOptions.newBuilder().withFileExtensions(fileExtensions).build();\r\n\r\n            SearchV2Result searchResult = searchBuilder.withOptions(searchOptions).start();\r\n            List&lt;SearchMatchV2&gt; searchMatches = searchResult.getMatches();\r\n\r\n            System.out.println(searchMatches.size());\r\n            for (SearchMatchV2 s: searchMatches){\r\n                System.out.println(s.getMetadata());\r\n            }\r\n\r\n        }\r\n        catch(DbxException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n```\r\nAnd i don&#39;t know how to write query to get all the files I tried ```&quot;*&quot;``` ```&quot;&quot;``` and none of it worked. How to wrote correct query for that?","title":"Dropbox SDK Java - write search query to get all files","body":"<p>I'm working on a simple project to download all files with certain extensions. And I'm doing a search like this</p>\n<pre><code>public void findFile(String query){\n        try{\n\n            SearchV2Builder searchBuilder = client.files().searchV2Builder(query);\n\n            List&lt;String&gt; fileExtensions = Arrays.asList(extensions);\n            SearchOptions searchOptions = SearchOptions.newBuilder().withFileExtensions(fileExtensions).build();\n\n            SearchV2Result searchResult = searchBuilder.withOptions(searchOptions).start();\n            List&lt;SearchMatchV2&gt; searchMatches = searchResult.getMatches();\n\n            System.out.println(searchMatches.size());\n            for (SearchMatchV2 s: searchMatches){\n                System.out.println(s.getMetadata());\n            }\n\n        }\n        catch(DbxException e){\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p>And i don't know how to write query to get all the files I tried <code>&quot;*&quot;</code> <code>&quot;&quot;</code> and none of it worked. How to wrote correct query for that?</p>\n"},{"tags":["java","maven","compatibility","quarkus","spring-security-saml2"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634105926,"creation_date":1634105926,"answer_id":69550595,"question_id":69549887,"body_markdown":"Using Spring Security providers in Quarkus will not work.\r\n\r\nI suggest opening an issue on GitHub asking for SAML support in Quarkus","title":"Can we use spring-security-saml2-service-provider in Quarkus","body":"<p>Using Spring Security providers in Quarkus will not work.</p>\n<p>I suggest opening an issue on GitHub asking for SAML support in Quarkus</p>\n"},{"tags":[],"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634564682,"creation_date":1634564682,"answer_id":69617219,"question_id":69549887,"body_markdown":"I also asked this in Zulip chat, this is the answer I got from the Quarkus team:\r\n\r\n&gt; One option is to use quarkus-oidc and configure Keycloak (or other OIDC provider) to federate to your SAML provider; most good OIDC providers can do it","title":"Can we use spring-security-saml2-service-provider in Quarkus","body":"<p>I also asked this in Zulip chat, this is the answer I got from the Quarkus team:</p>\n<blockquote>\n<p>One option is to use quarkus-oidc and configure Keycloak (or other OIDC provider) to federate to your SAML provider; most good OIDC providers can do it</p>\n</blockquote>\n"}],"owner":{"account_id":17110009,"reputation":132,"user_id":12381095,"display_name":"QuocNg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69550595,"answer_count":2,"score":0,"last_activity_date":1634564682,"creation_date":1634100540,"question_id":69549887,"body_markdown":"We are new to Quarkus and are using it to build a simple Service Provider for Single sign on via SAML protocol with Okta as IdentityProvider. Unfortunately Quarkus only supports OpenId Connect (we could not find any guide for SAML protocol). However, Spring already has implemented this in [spring-security-saml2-service-provider][1] so we want to reuse this Spring component on Quarkus.\r\n\r\nWe only have 1 simple (spring rest) Controller on the project:\r\n```java\r\nimport org.springframework.security.core.annotation.AuthenticationPrincipal;\r\nimport org.springframework.security.saml2.provider.service.authentication.Saml2AuthenticatedPrincipal;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport io.quarkus.qute.CheckedTemplate;\r\nimport io.quarkus.qute.TemplateInstance;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/greeting&quot;)\r\npublic class GreetingController {\r\n\r\n\t@CheckedTemplate\r\n\tpublic static class Templates {\r\n\t\tpublic static native TemplateInstance hello();\r\n\t}\r\n\r\n\t@RequestMapping(&quot;/&quot;)\r\n\tpublic TemplateInstance index() {\r\n\t\treturn Templates.hello();\r\n\t}\r\n\r\n\t@RequestMapping(&quot;/secured/hello&quot;)\r\n\tpublic String hello(@AuthenticationPrincipal Saml2AuthenticatedPrincipal principal) {\r\n\t\treturn &quot;hello&quot; + principal.getName();\r\n\t}\r\n}\r\n```\r\n\r\nand some other configs for the OKTA under `application.properties`:\r\n\r\n```\r\nspring.security.saml2.relyingparty.registration.okta-saml.identityprovider.entity-id=&lt;censored-value&gt;\r\nspring.security.saml2.relyingparty.registration.okta-saml.identityprovider.entity-id.verification.credentials.certificate-location=&quot;classpath:saml-certificate/okta.crt&quot;\r\nspring.security.saml2.relyingparty.registration.okta-saml.identityprovider.entity-id.singlesignon.url=&lt;censored-value&gt;\r\nspring.security.saml2.relyingparty.registration.okta-saml.identityprovider.entity-id.singlesignon.sign-request=false\r\n```\r\nUnfortunately, when we try to run `mvn quarkus:dev` the system showed this error stacktrace:\r\n```\r\n2021-10-13 11:28:01,378 ERROR [io.qua.run.boo.StartupActionImpl] (Quarkus Main Thread) Error running Quarkus: java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.runner.bootstrap.StartupActionImpl$1.run(StartupActionImpl.java:103)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n        at java.base/java.lang.Class.newInstance(Class.java:584)\r\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:65)\r\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:42)\r\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:119)\r\n        at io.quarkus.runner.GeneratedMain.main(GeneratedMain.zig:29)\r\n        ... 6 more\r\nCaused by: java.lang.RuntimeException: Failed to start quarkus\r\n        at io.quarkus.runner.ApplicationImpl.&lt;clinit&gt;(ApplicationImpl.zig:390)\r\n        ... 15 more\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/core/AuthenticatedPrincipal\r\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n        at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:445)\r\n        at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:405)\r\n        at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:455)\r\n        at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:405)\r\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\r\n        at java.base/java.lang.Class.privateGetPublicMethods(Class.java:3191)\r\n        at java.base/java.lang.Class.getMethods(Class.java:1904)\r\n        at org.jboss.resteasy.spi.metadata.ResourceBuilder.fromAnnotations(ResourceBuilder.java:908)\r\n        at org.jboss.resteasy.spi.metadata.ResourceBuilder.getRootResourceFromAnnotations(ResourceBuilder.java:878)\r\n        at org.jboss.resteasy.plugins.server.resourcefactory.POJOResourceFactory.&lt;init&gt;(POJOResourceFactory.java:41)\r\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addPerRequestResource(ResourceMethodRegistry.java:92)\r\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.registerResources(ResteasyDeploymentImpl.java:557)\r\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.registration(ResteasyDeploymentImpl.java:475)\r\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.startInternal(ResteasyDeploymentImpl.java:164)\r\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.start(ResteasyDeploymentImpl.java:121)\r\n        at io.quarkus.resteasy.runtime.standalone.ResteasyStandaloneRecorder.staticInit(ResteasyStandaloneRecorder.java:36)\r\n        at io.quarkus.deployment.steps.ResteasyStandaloneBuildStep$staticInit345281060.deploy_0(ResteasyStandaloneBuildStep$staticInit345281060.zig:991)\r\n        at io.quarkus.deployment.steps.ResteasyStandaloneBuildStep$staticInit345281060.deploy(ResteasyStandaloneBuildStep$staticInit345281060.zig:40)\r\n        at io.quarkus.runner.ApplicationImpl.&lt;clinit&gt;(ApplicationImpl.zig:359)\r\n        ... 15 more\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.core.AuthenticatedPrincipal\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:455)\r\n        at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:405)\r\n        ... 37 more\r\n\r\n```\r\n\r\nMy questions are: \r\n1. Is it possible to use spring-security-saml2-service-provider on Quarkus? Or:\r\n2. Is there any way we can make Quarkus uses SAML protocol for Single-sign-on?\r\n\r\nhere is our pom.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.acme&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-security-quickstart&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;properties&gt;\r\n    &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\r\n    &lt;maven.compiler.parameters&gt;true&lt;/maven.compiler.parameters&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n    &lt;quarkus.platform.version&gt;2.3.0.Final&lt;/quarkus.platform.version&gt;\r\n    &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-spring-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-elytron-security-properties-file&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-spring-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-qute&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-security-saml2-service-provider&lt;/artifactId&gt;\r\n      &lt;version&gt;5.5.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n        &lt;extensions&gt;true&lt;/extensions&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;build&lt;/goal&gt;\r\n              &lt;goal&gt;generate-code&lt;/goal&gt;\r\n              &lt;goal&gt;generate-code-tests&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;parameters&gt;${maven.compiler.parameters}&lt;/parameters&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;systemPropertyVariables&gt;\r\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n            &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n          &lt;/systemPropertyVariables&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;native&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;property&gt;\r\n          &lt;name&gt;native&lt;/name&gt;\r\n        &lt;/property&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                  &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;systemPropertyVariables&gt;\r\n                    &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\r\n                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                    &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n                  &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;properties&gt;\r\n        &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springframework.security/spring-security-saml2-service-provider","title":"Can we use spring-security-saml2-service-provider in Quarkus","body":"<p>We are new to Quarkus and are using it to build a simple Service Provider for Single sign on via SAML protocol with Okta as IdentityProvider. Unfortunately Quarkus only supports OpenId Connect (we could not find any guide for SAML protocol). However, Spring already has implemented this in <a href=\"https://mvnrepository.com/artifact/org.springframework.security/spring-security-saml2-service-provider\" rel=\"nofollow noreferrer\">spring-security-saml2-service-provider</a> so we want to reuse this Spring component on Quarkus.</p>\n<p>We only have 1 simple (spring rest) Controller on the project:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.security.core.annotation.AuthenticationPrincipal;\nimport org.springframework.security.saml2.provider.service.authentication.Saml2AuthenticatedPrincipal;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport io.quarkus.qute.CheckedTemplate;\nimport io.quarkus.qute.TemplateInstance;\n\n@RestController\n@RequestMapping(&quot;/greeting&quot;)\npublic class GreetingController {\n\n    @CheckedTemplate\n    public static class Templates {\n        public static native TemplateInstance hello();\n    }\n\n    @RequestMapping(&quot;/&quot;)\n    public TemplateInstance index() {\n        return Templates.hello();\n    }\n\n    @RequestMapping(&quot;/secured/hello&quot;)\n    public String hello(@AuthenticationPrincipal Saml2AuthenticatedPrincipal principal) {\n        return &quot;hello&quot; + principal.getName();\n    }\n}\n</code></pre>\n<p>and some other configs for the OKTA under <code>application.properties</code>:</p>\n<pre><code>spring.security.saml2.relyingparty.registration.okta-saml.identityprovider.entity-id=&lt;censored-value&gt;\nspring.security.saml2.relyingparty.registration.okta-saml.identityprovider.entity-id.verification.credentials.certificate-location=&quot;classpath:saml-certificate/okta.crt&quot;\nspring.security.saml2.relyingparty.registration.okta-saml.identityprovider.entity-id.singlesignon.url=&lt;censored-value&gt;\nspring.security.saml2.relyingparty.registration.okta-saml.identityprovider.entity-id.singlesignon.sign-request=false\n</code></pre>\n<p>Unfortunately, when we try to run <code>mvn quarkus:dev</code> the system showed this error stacktrace:</p>\n<pre><code>2021-10-13 11:28:01,378 ERROR [io.qua.run.boo.StartupActionImpl] (Quarkus Main Thread) Error running Quarkus: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.runner.bootstrap.StartupActionImpl$1.run(StartupActionImpl.java:103)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.ExceptionInInitializerError\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n        at java.base/java.lang.Class.newInstance(Class.java:584)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:65)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:42)\n        at io.quarkus.runtime.Quarkus.run(Quarkus.java:119)\n        at io.quarkus.runner.GeneratedMain.main(GeneratedMain.zig:29)\n        ... 6 more\nCaused by: java.lang.RuntimeException: Failed to start quarkus\n        at io.quarkus.runner.ApplicationImpl.&lt;clinit&gt;(ApplicationImpl.zig:390)\n        ... 15 more\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/core/AuthenticatedPrincipal\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\n        at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:445)\n        at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:405)\n        at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:455)\n        at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:405)\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166)\n        at java.base/java.lang.Class.privateGetPublicMethods(Class.java:3191)\n        at java.base/java.lang.Class.getMethods(Class.java:1904)\n        at org.jboss.resteasy.spi.metadata.ResourceBuilder.fromAnnotations(ResourceBuilder.java:908)\n        at org.jboss.resteasy.spi.metadata.ResourceBuilder.getRootResourceFromAnnotations(ResourceBuilder.java:878)\n        at org.jboss.resteasy.plugins.server.resourcefactory.POJOResourceFactory.&lt;init&gt;(POJOResourceFactory.java:41)\n        at org.jboss.resteasy.core.ResourceMethodRegistry.addPerRequestResource(ResourceMethodRegistry.java:92)\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.registerResources(ResteasyDeploymentImpl.java:557)\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.registration(ResteasyDeploymentImpl.java:475)\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.startInternal(ResteasyDeploymentImpl.java:164)\n        at org.jboss.resteasy.core.ResteasyDeploymentImpl.start(ResteasyDeploymentImpl.java:121)\n        at io.quarkus.resteasy.runtime.standalone.ResteasyStandaloneRecorder.staticInit(ResteasyStandaloneRecorder.java:36)\n        at io.quarkus.deployment.steps.ResteasyStandaloneBuildStep$staticInit345281060.deploy_0(ResteasyStandaloneBuildStep$staticInit345281060.zig:991)\n        at io.quarkus.deployment.steps.ResteasyStandaloneBuildStep$staticInit345281060.deploy(ResteasyStandaloneBuildStep$staticInit345281060.zig:40)\n        at io.quarkus.runner.ApplicationImpl.&lt;clinit&gt;(ApplicationImpl.zig:359)\n        ... 15 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.core.AuthenticatedPrincipal\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:455)\n        at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:405)\n        ... 37 more\n\n</code></pre>\n<p>My questions are:</p>\n<ol>\n<li>Is it possible to use spring-security-saml2-service-provider on Quarkus? Or:</li>\n<li>Is there any way we can make Quarkus uses SAML protocol for Single-sign-on?</li>\n</ol>\n<p>here is our pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.acme&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-security-quickstart&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.parameters&gt;true&lt;/maven.compiler.parameters&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.3.0.Final&lt;/quarkus.platform.version&gt;\n    &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-spring-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-elytron-security-properties-file&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-spring-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-qute&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-saml2-service-provider&lt;/artifactId&gt;\n      &lt;version&gt;5.5.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;extensions&gt;true&lt;/extensions&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;build&lt;/goal&gt;\n              &lt;goal&gt;generate-code&lt;/goal&gt;\n              &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;parameters&gt;${maven.compiler.parameters}&lt;/parameters&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;systemPropertyVariables&gt;\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n            &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n          &lt;/systemPropertyVariables&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;native&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;property&gt;\n          &lt;name&gt;native&lt;/name&gt;\n        &lt;/property&gt;\n      &lt;/activation&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\n                  &lt;goal&gt;verify&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;systemPropertyVariables&gt;\n                    &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\n                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                    &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                  &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n      &lt;properties&gt;\n        &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database","firebaseui"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1634558043,"post_id":69615555,"comment_id":123048787,"body_markdown":"At which particular line of code are you getting that error?","body":"At which particular line of code are you getting that error?"},{"owner":{"account_id":22169003,"reputation":79,"user_id":16414754,"display_name":"allim"},"score":0,"creation_date":1634558129,"post_id":69615555,"comment_id":123048826,"body_markdown":"@AlexMamo the first line of adapter class I wrote the comment there","body":"@AlexMamo the first line of adapter class I wrote the comment there"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":1,"creation_date":1634600810,"post_id":69615555,"comment_id":123063682,"body_markdown":"Your title doesn&#39;t match your stack trace","body":"Your title doesn&#39;t match your stack trace"}],"answers":[{"tags":[],"owner":{"account_id":10306197,"reputation":360,"user_id":7603369,"display_name":"Romman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634564279,"creation_date":1634558584,"answer_id":69615733,"question_id":69615555,"body_markdown":"&gt; java.lang.ClassCastException: com.google.firebase.database.DataSnapshot cannot be cast to com.company.android.myapplication.Posts\r\n    \r\nYou just can&#39;t cast the `DataSnapshot` to your own pojo `Posts`, you have to get the `value` from the `DataSnapshot`. Also, make sure that the `DataSnapshot` schema &amp; your pojo `Posts` schema matched properly to parse the `DataSnapshot` value to `Posts`.\r\n\r\nAlso, it&#39;s really bad approach to make queries from Adapter directly or calling activity or making Firebase transaction. You should pass callback to the Adapter and handle the logic on your fragment/activity.","title":"DataSnapshot cannot be cast to Adapter","body":"<blockquote>\n<p>java.lang.ClassCastException: com.google.firebase.database.DataSnapshot cannot be cast to com.company.android.myapplication.Posts</p>\n</blockquote>\n<p>You just can't cast the <code>DataSnapshot</code> to your own pojo <code>Posts</code>, you have to get the <code>value</code> from the <code>DataSnapshot</code>. Also, make sure that the <code>DataSnapshot</code> schema &amp; your pojo <code>Posts</code> schema matched properly to parse the <code>DataSnapshot</code> value to <code>Posts</code>.</p>\n<p>Also, it's really bad approach to make queries from Adapter directly or calling activity or making Firebase transaction. You should pass callback to the Adapter and handle the logic on your fragment/activity.</p>\n"}],"owner":{"account_id":22169003,"reputation":79,"user_id":16414754,"display_name":"allim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1634629039,"accepted_answer_id":69615733,"answer_count":1,"score":-1,"last_activity_date":1634564314,"creation_date":1634557877,"question_id":69615555,"body_markdown":"I have a problem, I am creating an Adapter for RecyclerView and in order to create it I extend the class using FirebaseRecyclerAdapter, but I get an error and I don’t know how to solve it, maybe someone can tell me something. I found a similar example on the Internet that it is possible to extend a class in this way, but either I am doing something wrong, or it is no longer possible to extend the class in this way. Thanks a lot for any help\r\n\r\n\r\nhere is my adapter:\r\n\r\n    public class PostAdapterTest extends FirebaseRecyclerAdapter &lt;Posts, PostAdapterTest.postsViewHolder&gt; { //error the error is here\r\n        private BottomSheetDialog bottomSheetDialog;\r\n        private Context mContext;\r\n        private Boolean downloadOrOpen = false;\r\n        private boolean buttonStatus = true;\r\n        private DatabaseReference likesRef = FirebaseDatabase.getInstance().getReference(&quot;Likes&quot;);\r\n        private FirebaseUser mFirebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n    \r\n        private String difficulty = null;\r\n    \r\n        private int likesCounter;\r\n        private ReadWritePermissions mReadWritePermissions;\r\n    \r\n        public PostAdapterTest(@NonNull FirebaseRecyclerOptions&lt;Posts&gt; postsFirebaseRecyclerOptions,  ReadWritePermissions mReadWritePermissions, Context mContext)\r\n        {\r\n            super(postsFirebaseRecyclerOptions);\r\n            this.mContext = mContext;\r\n            this.mReadWritePermissions = mReadWritePermissions;\r\n        }\r\n    \r\n        @Override\r\n        protected void onBindViewHolder(@NonNull PostAdapterTest.postsViewHolder holder, int position, @NonNull Posts model) {\r\n            final String postKey = getRef(position).getKey();\r\n            String postUid = model.getPostId();\r\n    \r\n            holder.nickname.setText(model.getNickname());\r\n            holder.country.setText(model.getCountry());\r\n            holder.title.setText(model.getCountry());\r\n            holder.days.setText(model.getDays());\r\n            holder.kilometers.setText(model.getKilometers());\r\n            holder.description.setText(model.getDescription());\r\n    \r\n            difficulty = model.getDifficulty();\r\n    \r\n            holder.map.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Uri mapUri = Uri.parse(model.getMap());\r\n                    mapOptions(mapUri);\r\n                }\r\n            });\r\n    \r\n            holder.comments.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    CommentsFragment commentsFragment = new CommentsFragment();\r\n                    Bundle args = new Bundle();\r\n                    args.putString(&quot;postId&quot;, postUid);\r\n    \r\n                    commentsFragment.setArguments(args);\r\n    \r\n                    FragmentTransaction fragmentTransaction = ((FragmentActivity)mContext).getSupportFragmentManager().beginTransaction();\r\n                    fragmentTransaction.replace(R.id.frame_container, commentsFragment);\r\n                    fragmentTransaction.addToBackStack(null);\r\n                    fragmentTransaction.commit();\r\n    \r\n                }\r\n            });\r\n    \r\n            holder.setLikeButtonStatus(postKey);\r\n    \r\n            holder.likes.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    buttonStatus = true;\r\n    \r\n                    likesRef.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            if(buttonStatus == true)\r\n                            {\r\n                                if(snapshot.child(postKey).hasChild(mFirebaseUser.getUid()))\r\n                                {\r\n                                    likesRef.child(postKey).child(mFirebaseUser.getUid()).removeValue();\r\n                                    buttonStatus = false;\r\n                                }else\r\n                                {\r\n                                    likesRef.child(postKey).child(mFirebaseUser.getUid()).setValue(true);\r\n                                    buttonStatus = false;\r\n                                }\r\n                            }\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                        }\r\n                    });\r\n    \r\n                    switch (difficulty)\r\n                    {\r\n                        case &quot;Easy&quot;:\r\n                            holder.difficulty.setImageResource(R.drawable.ic_easy);\r\n                            break;\r\n    \r\n                        case &quot;Difficult&quot;:\r\n                            holder.difficulty.setImageResource(R.drawable.ic_difficult);\r\n                            break;\r\n    \r\n                        case &quot;Hard&quot;:\r\n                            holder.difficulty.setImageResource(R.drawable.ic_hard);\r\n                            break;\r\n                    }\r\n    \r\n                    ArrayList&lt;Slider&gt; sliderArrayList = new ArrayList&lt;&gt;();\r\n    \r\n                    Picasso.get().load(model.getAvatarUri()).into(holder.avatarUri);\r\n                }\r\n            });\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public PostAdapterTest.postsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.posts, parent, false);\r\n            return new PostAdapterTest.postsViewHolder(view);\r\n        }\r\n    \r\n        class postsViewHolder extends RecyclerView.ViewHolder\r\n        {\r\n            public CircleImageView avatarUri;\r\n            public TextView nickname, country, title, days, likesNum, kilometers,description, fileSize, fileName;\r\n            public SliderView mSliderView;\r\n            public ImageView comments, save, difficulty;\r\n            public ImageButton likes;\r\n            public ImageButton more;\r\n            public LinearLayout map;\r\n    \r\n            public postsViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n    \r\n                avatarUri = itemView.findViewById(R.id.posts_profile_picture);\r\n                nickname = itemView.findViewById(R.id.posts_nickname);\r\n                country = itemView.findViewById(R.id.posts_country);\r\n                title = itemView.findViewById(R.id.posts_title);\r\n                days = itemView.findViewById(R.id.posts_days);\r\n                difficulty = itemView.findViewById(R.id.posts_difficulty);\r\n                mSliderView = itemView.findViewById(R.id.posts_images);\r\n                likes = itemView.findViewById(R.id.posts_likes);\r\n                comments = itemView.findViewById(R.id.posts_comments);\r\n                save = itemView.findViewById(R.id.posts_save);\r\n                likesNum = itemView.findViewById(R.id.posts_likes_number);\r\n                description = itemView.findViewById(R.id.posts_description);\r\n                more = itemView.findViewById(R.id.posts_more);\r\n                kilometers = itemView.findViewById(R.id.posts_distance);\r\n                fileSize = itemView.findViewById(R.id.posts_uploaded_file_size);\r\n                fileName = itemView.findViewById(R.id.posts_uploaded_file_name);\r\n                map = itemView.findViewById(R.id.posts_map_layout);\r\n            }\r\n    \r\n            public void setLikeButtonStatus(final String key)\r\n            {\r\n                mFirebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n    \r\n                likesRef.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        likesCounter = (int)snapshot.child(key).getChildrenCount();\r\n                        if(snapshot.child(key).hasChild(mFirebaseUser.getUid()))\r\n                        {\r\n                            likes.setImageResource(R.drawable.ic_liked_red);\r\n                            likesNum.setText(likesCounter + &quot; Likes&quot;);\r\n                        }else if(likesCounter == 0)\r\n                        {\r\n                            likes.setImageResource(R.drawable.ic_unliked_red);\r\n                            likesNum.setText(&quot;&quot;);\r\n                        }else\r\n                        {\r\n                            likes.setImageResource(R.drawable.ic_unliked_red);\r\n                            likesNum.setText(likesCounter + &quot; Likes&quot;);\r\n                        }\r\n                    }\r\n    \r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                    }\r\n                });\r\n            }\r\n        }\r\n    \r\n        private void mapOptions(Uri mapUri)\r\n        {\r\n           \r\n        }\r\n    }\r\n\r\n\r\n\r\nLogcat:\r\n\r\n  \r\n\r\n    Process: com.company.android.myapplication, PID: 8349\r\n        java.lang.ClassCastException: com.google.firebase.database.DataSnapshot cannot be cast to com.company.android.myapplication.Posts\r\n            at com.company.android.myapplication.test.PostAdapterTest.onBindViewHolder(PostAdapterTest.java:44)\r\n            at com.firebase.ui.database.FirebaseRecyclerAdapter.onBindViewHolder(FirebaseRecyclerAdapter.java:149)\r\n            at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7254)\r\n            at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7337)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6194)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6460)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6300)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6296)\r\n            at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2330)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1631)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\r\n            at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4309)\r\n            at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4012)\r\n            at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4578)","title":"DataSnapshot cannot be cast to Adapter","body":"<p>I have a problem, I am creating an Adapter for RecyclerView and in order to create it I extend the class using FirebaseRecyclerAdapter, but I get an error and I don’t know how to solve it, maybe someone can tell me something. I found a similar example on the Internet that it is possible to extend a class in this way, but either I am doing something wrong, or it is no longer possible to extend the class in this way. Thanks a lot for any help</p>\n<p>here is my adapter:</p>\n<pre><code>public class PostAdapterTest extends FirebaseRecyclerAdapter &lt;Posts, PostAdapterTest.postsViewHolder&gt; { //error the error is here\n    private BottomSheetDialog bottomSheetDialog;\n    private Context mContext;\n    private Boolean downloadOrOpen = false;\n    private boolean buttonStatus = true;\n    private DatabaseReference likesRef = FirebaseDatabase.getInstance().getReference(&quot;Likes&quot;);\n    private FirebaseUser mFirebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n\n    private String difficulty = null;\n\n    private int likesCounter;\n    private ReadWritePermissions mReadWritePermissions;\n\n    public PostAdapterTest(@NonNull FirebaseRecyclerOptions&lt;Posts&gt; postsFirebaseRecyclerOptions,  ReadWritePermissions mReadWritePermissions, Context mContext)\n    {\n        super(postsFirebaseRecyclerOptions);\n        this.mContext = mContext;\n        this.mReadWritePermissions = mReadWritePermissions;\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull PostAdapterTest.postsViewHolder holder, int position, @NonNull Posts model) {\n        final String postKey = getRef(position).getKey();\n        String postUid = model.getPostId();\n\n        holder.nickname.setText(model.getNickname());\n        holder.country.setText(model.getCountry());\n        holder.title.setText(model.getCountry());\n        holder.days.setText(model.getDays());\n        holder.kilometers.setText(model.getKilometers());\n        holder.description.setText(model.getDescription());\n\n        difficulty = model.getDifficulty();\n\n        holder.map.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Uri mapUri = Uri.parse(model.getMap());\n                mapOptions(mapUri);\n            }\n        });\n\n        holder.comments.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                CommentsFragment commentsFragment = new CommentsFragment();\n                Bundle args = new Bundle();\n                args.putString(&quot;postId&quot;, postUid);\n\n                commentsFragment.setArguments(args);\n\n                FragmentTransaction fragmentTransaction = ((FragmentActivity)mContext).getSupportFragmentManager().beginTransaction();\n                fragmentTransaction.replace(R.id.frame_container, commentsFragment);\n                fragmentTransaction.addToBackStack(null);\n                fragmentTransaction.commit();\n\n            }\n        });\n\n        holder.setLikeButtonStatus(postKey);\n\n        holder.likes.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                buttonStatus = true;\n\n                likesRef.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        if(buttonStatus == true)\n                        {\n                            if(snapshot.child(postKey).hasChild(mFirebaseUser.getUid()))\n                            {\n                                likesRef.child(postKey).child(mFirebaseUser.getUid()).removeValue();\n                                buttonStatus = false;\n                            }else\n                            {\n                                likesRef.child(postKey).child(mFirebaseUser.getUid()).setValue(true);\n                                buttonStatus = false;\n                            }\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n\n                switch (difficulty)\n                {\n                    case &quot;Easy&quot;:\n                        holder.difficulty.setImageResource(R.drawable.ic_easy);\n                        break;\n\n                    case &quot;Difficult&quot;:\n                        holder.difficulty.setImageResource(R.drawable.ic_difficult);\n                        break;\n\n                    case &quot;Hard&quot;:\n                        holder.difficulty.setImageResource(R.drawable.ic_hard);\n                        break;\n                }\n\n                ArrayList&lt;Slider&gt; sliderArrayList = new ArrayList&lt;&gt;();\n\n                Picasso.get().load(model.getAvatarUri()).into(holder.avatarUri);\n            }\n        });\n    }\n\n    @NonNull\n    @Override\n    public PostAdapterTest.postsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.posts, parent, false);\n        return new PostAdapterTest.postsViewHolder(view);\n    }\n\n    class postsViewHolder extends RecyclerView.ViewHolder\n    {\n        public CircleImageView avatarUri;\n        public TextView nickname, country, title, days, likesNum, kilometers,description, fileSize, fileName;\n        public SliderView mSliderView;\n        public ImageView comments, save, difficulty;\n        public ImageButton likes;\n        public ImageButton more;\n        public LinearLayout map;\n\n        public postsViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            avatarUri = itemView.findViewById(R.id.posts_profile_picture);\n            nickname = itemView.findViewById(R.id.posts_nickname);\n            country = itemView.findViewById(R.id.posts_country);\n            title = itemView.findViewById(R.id.posts_title);\n            days = itemView.findViewById(R.id.posts_days);\n            difficulty = itemView.findViewById(R.id.posts_difficulty);\n            mSliderView = itemView.findViewById(R.id.posts_images);\n            likes = itemView.findViewById(R.id.posts_likes);\n            comments = itemView.findViewById(R.id.posts_comments);\n            save = itemView.findViewById(R.id.posts_save);\n            likesNum = itemView.findViewById(R.id.posts_likes_number);\n            description = itemView.findViewById(R.id.posts_description);\n            more = itemView.findViewById(R.id.posts_more);\n            kilometers = itemView.findViewById(R.id.posts_distance);\n            fileSize = itemView.findViewById(R.id.posts_uploaded_file_size);\n            fileName = itemView.findViewById(R.id.posts_uploaded_file_name);\n            map = itemView.findViewById(R.id.posts_map_layout);\n        }\n\n        public void setLikeButtonStatus(final String key)\n        {\n            mFirebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n\n            likesRef.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    likesCounter = (int)snapshot.child(key).getChildrenCount();\n                    if(snapshot.child(key).hasChild(mFirebaseUser.getUid()))\n                    {\n                        likes.setImageResource(R.drawable.ic_liked_red);\n                        likesNum.setText(likesCounter + &quot; Likes&quot;);\n                    }else if(likesCounter == 0)\n                    {\n                        likes.setImageResource(R.drawable.ic_unliked_red);\n                        likesNum.setText(&quot;&quot;);\n                    }else\n                    {\n                        likes.setImageResource(R.drawable.ic_unliked_red);\n                        likesNum.setText(likesCounter + &quot; Likes&quot;);\n                    }\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n        }\n    }\n\n    private void mapOptions(Uri mapUri)\n    {\n       \n    }\n}\n</code></pre>\n<p>Logcat:</p>\n<pre><code>Process: com.company.android.myapplication, PID: 8349\n    java.lang.ClassCastException: com.google.firebase.database.DataSnapshot cannot be cast to com.company.android.myapplication.Posts\n        at com.company.android.myapplication.test.PostAdapterTest.onBindViewHolder(PostAdapterTest.java:44)\n        at com.firebase.ui.database.FirebaseRecyclerAdapter.onBindViewHolder(FirebaseRecyclerAdapter.java:149)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7254)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7337)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6194)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6460)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6300)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6296)\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2330)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1631)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4309)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4012)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4578)\n</code></pre>\n"},{"tags":["java","arrays","performance","for-loop"],"comments":[{"owner":{"account_id":15508828,"reputation":186,"user_id":17177800,"display_name":"James E"},"score":0,"creation_date":1634542638,"post_id":69611943,"comment_id":123043080,"body_markdown":"Well, this is just a thought, but you could do prioritization based on 1 density of groups. Break it up into a bunch of 3x3 arrays, add up all the ones in each 3x3. From there you can eliminate regions that have extremely low 1 densities, and find general regions with high densities and base it off that. It would be hard to make that, but it could be very fun!","body":"Well, this is just a thought, but you could do prioritization based on 1 density of groups. Break it up into a bunch of 3x3 arrays, add up all the ones in each 3x3. From there you can eliminate regions that have extremely low 1 densities, and find general regions with high densities and base it off that. It would be hard to make that, but it could be very fun!"},{"owner":{"account_id":23065076,"reputation":3,"user_id":17179622,"display_name":"Cezary"},"score":0,"creation_date":1634543584,"post_id":69611943,"comment_id":123043411,"body_markdown":"Value of smallSquareSize in this example is 6","body":"Value of smallSquareSize in this example is 6"},{"owner":{"account_id":23065076,"reputation":3,"user_id":17179622,"display_name":"Cezary"},"score":0,"creation_date":1634544140,"post_id":69611943,"comment_id":123043556,"body_markdown":"Yes, the smallers square is just a piece of the bigger one. I need to make it run faster because it loops  4*(10^12) times for a 2000x2000 square and a 1000x1000 piece and it takes a lot of time.","body":"Yes, the smallers square is just a piece of the bigger one. I need to make it run faster because it loops  4*(10^12) times for a 2000x2000 square and a 1000x1000 piece and it takes a lot of time."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634557972,"creation_date":1634557972,"answer_id":69615582,"question_id":69611943,"body_markdown":"It may be better to pre-calculate some parts of the input array/matrix (e.g. the sums in the vertical &quot;strips&quot; with `height = smallSquareSize` and `width = 1`) and store these sub-sums in another array which would require slightly less space: `int[][] sub = new int[rows - smallSquareSize + 1][cols];`\r\n\r\nThen the sums for the vertical strips are counted for `cols * (rows - smallSquareSize + 1)` which is basically O(N&lt;sup&gt;2&lt;/sup&gt;), and the sums of the subsquares are calculated similarly for O(N&lt;sup&gt;2&lt;/sup&gt;) `(rows - smallSquareSize + 1) * cols`:\r\n```java\r\npublic static int maxSum(int smallSquareSize, int[][] arr) {\r\n    int rows = arr.length;\r\n    int cols = arr[0].length;\r\n\r\n    int[][] sub = new int[rows - smallSquareSize + 1][cols];\r\n    for (int c = 0; c &lt; cols; c++) {\r\n        int sum = 0;\r\n        for (int r = 0; r &lt; smallSquareSize; r++) {\r\n            sum += arr[r][c];\r\n        }\r\n        sub[0][c] = sum;\r\n        for (int r = 1; r &lt; sub.length; r++) {\r\n            sum += arr[r + smallSquareSize - 1][c] - arr[r - 1][c];\r\n            sub[r][c] = sum;\r\n        }\r\n    }\r\n    // debug print\r\n    System.out.println(&quot;Sub-sums:&quot;);\r\n    for (int r = 0; r &lt; sub.length; r++) {\r\n        System.out.println(Arrays.toString(sub[r]));\r\n    }\r\n\r\n    int max = Integer.MIN_VALUE;\r\n\r\n    for (int r = 0; r &lt; sub.length; r++) {\r\n        // calculate subsquare sum\r\n        int squareSum = 0;\r\n        for (int c = 0; c &lt; smallSquareSize; c++) {\r\n            squareSum += sub[r][c];\r\n        }\r\n        // debug print\r\n        System.out.print(&quot;s[&quot; + r + &quot;][&quot; + 0 + &quot;]=&quot; + squareSum);\r\n        if (max &lt; squareSum) {\r\n            max = squareSum;\r\n        }\r\n\r\n        // subtract previous and add next column to quickly get next subsquare\r\n        for (int c = 1; c &lt; cols - smallSquareSize + 1; c++) {\r\n            squareSum += sub[r][c + smallSquareSize - 1] - sub[r][c - 1];\r\n\r\n            // debug print\r\n            System.out.print(&quot;\\ts[&quot; + r + &quot;][&quot; + c + &quot;]=&quot; + squareSum);\r\n            if (max &lt; squareSum) {\r\n                max = squareSum;\r\n            }\r\n        }\r\n        System.out.println();\r\n    }\r\n    return max;\r\n}\r\n```\r\nFor the given input the results are as follows:\r\n```java\r\nint[][] matrix = {\r\n    {0,1,1,1,1,0,1,0,1,0}, {1,0,0,0,0,1,0,1,1,0},\r\n    {1,0,0,1,0,0,1,0,0,0}, {1,1,1,0,0,1,1,0,0,1},\r\n    {1,1,1,1,1,1,0,0,1,0}, {0,0,1,1,1,1,0,0,0,0},\r\n    {0,0,0,1,1,0,1,0,0,0}, {0,0,0,1,1,0,1,0,1,0},\r\n    {0,1,1,0,1,0,1,1,0,1}, {0,0,0,1,0,0,0,0,0,1},\r\n};\r\nSystem.out.println(&quot;Max Sum: &quot; + maxSum(6, matrix));\r\n```\r\nOutput with debug messages:\r\n```\r\nSub-sums:\r\n[4, 3, 4, 4, 3, 4, 3, 1, 3, 1]\r\n[4, 2, 3, 4, 3, 4, 3, 1, 2, 1]\r\n[3, 2, 3, 5, 4, 3, 4, 0, 2, 1]\r\n[2, 3, 4, 4, 5, 3, 4, 1, 2, 2]\r\n[1, 2, 3, 5, 5, 2, 3, 1, 2, 2]\r\ns[0][0]=22\ts[0][1]=21\ts[0][2]=19\ts[0][3]=18\ts[0][4]=15\r\ns[1][0]=20\ts[1][1]=19\ts[1][2]=18\ts[1][3]=17\ts[1][4]=14\r\ns[2][0]=20\ts[2][1]=21\ts[2][2]=19\ts[2][3]=18\ts[2][4]=14\r\ns[3][0]=21\ts[3][1]=23\ts[3][2]=21\ts[3][3]=19\ts[3][4]=17\r\ns[4][0]=18\ts[4][1]=20\ts[4][2]=19\ts[4][3]=18\ts[4][4]=15\r\nMax Sum: 23\r\n```","title":"I&#39;m looking for faster way for looping through 2 2d arrays than 4 for loops","body":"<p>It may be better to pre-calculate some parts of the input array/matrix (e.g. the sums in the vertical &quot;strips&quot; with <code>height = smallSquareSize</code> and <code>width = 1</code>) and store these sub-sums in another array which would require slightly less space: <code>int[][] sub = new int[rows - smallSquareSize + 1][cols];</code></p>\n<p>Then the sums for the vertical strips are counted for <code>cols * (rows - smallSquareSize + 1)</code> which is basically O(N<sup>2</sup>), and the sums of the subsquares are calculated similarly for O(N<sup>2</sup>) <code>(rows - smallSquareSize + 1) * cols</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int maxSum(int smallSquareSize, int[][] arr) {\n    int rows = arr.length;\n    int cols = arr[0].length;\n\n    int[][] sub = new int[rows - smallSquareSize + 1][cols];\n    for (int c = 0; c &lt; cols; c++) {\n        int sum = 0;\n        for (int r = 0; r &lt; smallSquareSize; r++) {\n            sum += arr[r][c];\n        }\n        sub[0][c] = sum;\n        for (int r = 1; r &lt; sub.length; r++) {\n            sum += arr[r + smallSquareSize - 1][c] - arr[r - 1][c];\n            sub[r][c] = sum;\n        }\n    }\n    // debug print\n    System.out.println(&quot;Sub-sums:&quot;);\n    for (int r = 0; r &lt; sub.length; r++) {\n        System.out.println(Arrays.toString(sub[r]));\n    }\n\n    int max = Integer.MIN_VALUE;\n\n    for (int r = 0; r &lt; sub.length; r++) {\n        // calculate subsquare sum\n        int squareSum = 0;\n        for (int c = 0; c &lt; smallSquareSize; c++) {\n            squareSum += sub[r][c];\n        }\n        // debug print\n        System.out.print(&quot;s[&quot; + r + &quot;][&quot; + 0 + &quot;]=&quot; + squareSum);\n        if (max &lt; squareSum) {\n            max = squareSum;\n        }\n\n        // subtract previous and add next column to quickly get next subsquare\n        for (int c = 1; c &lt; cols - smallSquareSize + 1; c++) {\n            squareSum += sub[r][c + smallSquareSize - 1] - sub[r][c - 1];\n\n            // debug print\n            System.out.print(&quot;\\ts[&quot; + r + &quot;][&quot; + c + &quot;]=&quot; + squareSum);\n            if (max &lt; squareSum) {\n                max = squareSum;\n            }\n        }\n        System.out.println();\n    }\n    return max;\n}\n</code></pre>\n<p>For the given input the results are as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] matrix = {\n    {0,1,1,1,1,0,1,0,1,0}, {1,0,0,0,0,1,0,1,1,0},\n    {1,0,0,1,0,0,1,0,0,0}, {1,1,1,0,0,1,1,0,0,1},\n    {1,1,1,1,1,1,0,0,1,0}, {0,0,1,1,1,1,0,0,0,0},\n    {0,0,0,1,1,0,1,0,0,0}, {0,0,0,1,1,0,1,0,1,0},\n    {0,1,1,0,1,0,1,1,0,1}, {0,0,0,1,0,0,0,0,0,1},\n};\nSystem.out.println(&quot;Max Sum: &quot; + maxSum(6, matrix));\n</code></pre>\n<p>Output with debug messages:</p>\n<pre><code>Sub-sums:\n[4, 3, 4, 4, 3, 4, 3, 1, 3, 1]\n[4, 2, 3, 4, 3, 4, 3, 1, 2, 1]\n[3, 2, 3, 5, 4, 3, 4, 0, 2, 1]\n[2, 3, 4, 4, 5, 3, 4, 1, 2, 2]\n[1, 2, 3, 5, 5, 2, 3, 1, 2, 2]\ns[0][0]=22  s[0][1]=21  s[0][2]=19  s[0][3]=18  s[0][4]=15\ns[1][0]=20  s[1][1]=19  s[1][2]=18  s[1][3]=17  s[1][4]=14\ns[2][0]=20  s[2][1]=21  s[2][2]=19  s[2][3]=18  s[2][4]=14\ns[3][0]=21  s[3][1]=23  s[3][2]=21  s[3][3]=19  s[3][4]=17\ns[4][0]=18  s[4][1]=20  s[4][2]=19  s[4][3]=18  s[4][4]=15\nMax Sum: 23\n</code></pre>\n"}],"owner":{"account_id":23065076,"reputation":3,"user_id":17179622,"display_name":"Cezary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69615582,"answer_count":1,"score":0,"last_activity_date":1634563879,"creation_date":1634540540,"question_id":69611943,"body_markdown":"I have to count what&#39;s the biggest count of &quot;1&quot; in a square from a bigger square made of &quot;1&quot; and &quot;0&quot;, like:\r\n```none\r\n{0111101010}\r\n{1000010110}\r\n{1001001000}\r\n{1110011001}\r\n{1111110010}\r\n{0011110000}\r\n{0001101000}\r\n{0001101010}\r\n{0110101101}\r\n{0001000001}\r\n```\r\nEach 0 and 1 is also an element of the array, and let&#39;s say I have to find the most &quot;1&quot; in a 6 elements side square. I came up with something like this (smallSquareSize = 6): \r\n\r\n```java        \r\nfor (int i = 0; i &lt; tab.length; i++) {\r\n    int count = 0;\r\n    for (int j = 0; j &lt; tab.length; j++) {\r\n        if(i + smallSquareSize &lt;= tab.length &amp;&amp; j + smallSquareSize &lt;= tab.length) {\r\n            for (int x = 0; x &lt; smallSquareSize; x++) {\r\n                for (int z = 0; z &lt; smallSquareSize; z++) {\r\n                    count = count + tab[i + x][j + z];\r\n                }\r\n            }\r\n        }\r\n        else break;\r\n        if (endCount &lt; count) {\r\n            endCount = count;\r\n        }\r\n        count = 0;\r\n    }\r\n}\r\n```\r\n\r\nI am looping through every single element in a big square and from here I &#39;make&#39; a smaller one. Then I am looping through every element in the small one and count the &quot;1&quot;. \r\n\r\nFor the example above, the answer is 23 and smaller square starts at row 3 column 1 (starting at 0,0).\r\n\r\nIt works well for smaller arrays, but I need it to work on like 5000 elements side squares.\r\nI know that this is probably the dumbest solution possible, but I have no idea how to get rid of any of those for loops to make it run faster.\r\n","title":"I&#39;m looking for faster way for looping through 2 2d arrays than 4 for loops","body":"<p>I have to count what's the biggest count of &quot;1&quot; in a square from a bigger square made of &quot;1&quot; and &quot;0&quot;, like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{0111101010}\n{1000010110}\n{1001001000}\n{1110011001}\n{1111110010}\n{0011110000}\n{0001101000}\n{0001101010}\n{0110101101}\n{0001000001}\n</code></pre>\n<p>Each 0 and 1 is also an element of the array, and let's say I have to find the most &quot;1&quot; in a 6 elements side square. I came up with something like this (smallSquareSize = 6):</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; tab.length; i++) {\n    int count = 0;\n    for (int j = 0; j &lt; tab.length; j++) {\n        if(i + smallSquareSize &lt;= tab.length &amp;&amp; j + smallSquareSize &lt;= tab.length) {\n            for (int x = 0; x &lt; smallSquareSize; x++) {\n                for (int z = 0; z &lt; smallSquareSize; z++) {\n                    count = count + tab[i + x][j + z];\n                }\n            }\n        }\n        else break;\n        if (endCount &lt; count) {\n            endCount = count;\n        }\n        count = 0;\n    }\n}\n</code></pre>\n<p>I am looping through every single element in a big square and from here I 'make' a smaller one. Then I am looping through every element in the small one and count the &quot;1&quot;.</p>\n<p>For the example above, the answer is 23 and smaller square starts at row 3 column 1 (starting at 0,0).</p>\n<p>It works well for smaller arrays, but I need it to work on like 5000 elements side squares.\nI know that this is probably the dumbest solution possible, but I have no idea how to get rid of any of those for loops to make it run faster.</p>\n"},{"tags":["java","classloader","classcastexception"],"comments":[{"owner":{"display_name":"user545680"},"score":0,"creation_date":1313477920,"post_id":7074532,"comment_id":8465580,"body_markdown":"In your instance, what happens if you do: `Object o = descriptor.getMojo(); System.out.println(o.getClass);` with the two different classloaders?","body":"In your instance, what happens if you do: <code>Object o = descriptor.getMojo(); System.out.println(o.getClass);</code> with the two different classloaders?"},{"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"score":0,"creation_date":1313477972,"post_id":7074532,"comment_id":8465595,"body_markdown":"The most important question here would be: what are you *actually* trying to achieve here? Is this an academic exercise or there is a real use case backing this situation?","body":"The most important question here would be: what are you <i>actually</i> trying to achieve here? Is this an academic exercise or there is a real use case backing this situation?"},{"owner":{"account_id":405930,"reputation":157,"user_id":775120,"accept_rate":75,"display_name":"ravana"},"score":0,"creation_date":1313478340,"post_id":7074532,"comment_id":8465673,"body_markdown":"@Bringer128 It returns the same class name package.Mojo. I was thinking whether it&#39;s possible perform the said casting via getClass() and #cast(Object o) method?","body":"@Bringer128 It returns the same class name package.Mojo. I was thinking whether it&#39;s possible perform the said casting via getClass() and #cast(Object o) method?"},{"owner":{"account_id":405930,"reputation":157,"user_id":775120,"accept_rate":75,"display_name":"ravana"},"score":0,"creation_date":1313478405,"post_id":7074532,"comment_id":8465679,"body_markdown":"@Sanjay T. Sharma Absolutely not. I&#39;m working on fixing an existing code.","body":"@Sanjay T. Sharma Absolutely not. I&#39;m working on fixing an existing code."},{"owner":{"display_name":"user545680"},"score":0,"creation_date":1313481029,"post_id":7074532,"comment_id":8466195,"body_markdown":"@ravana Have you seen [this question](http://stackoverflow.com/questions/826319/classcastexception-when-casting-to-the-same-class)?","body":"@ravana Have you seen <a href=\"http://stackoverflow.com/questions/826319/classcastexception-when-casting-to-the-same-class\">this question</a>?"},{"owner":{"account_id":405930,"reputation":157,"user_id":775120,"accept_rate":75,"display_name":"ravana"},"score":0,"creation_date":1313486657,"post_id":7074532,"comment_id":8467672,"body_markdown":"@Bringer128 yes, the accepted answer&#39;s first suggestion seems to apply here. But it&#39;s really brief, and doesn&#39;t give a proper final solution","body":"@Bringer128 yes, the accepted answer&#39;s first suggestion seems to apply here. But it&#39;s really brief, and doesn&#39;t give a proper final solution"},{"owner":{"display_name":"user545680"},"score":0,"creation_date":1313487201,"post_id":7074532,"comment_id":8467813,"body_markdown":"@ravana I don&#39;t have the experience to answer that so I&#39;ll leave it to someone else.","body":"@ravana I don&#39;t have the experience to answer that so I&#39;ll leave it to someone else."}],"answers":[{"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313477836,"creation_date":1313477836,"answer_id":7074593,"question_id":7074532,"body_markdown":"Why you have 2 CloassLoaders, which loads the same class? This could be a programatic issue. It sounds like you are caching ClassLoader somewhere and re-use them in a wrong way. If this is not the case try a MultiClassLoader.\r\n\r\n\r\nCreate a MultiClassLoader which includes multiple other classloader. These MultiClassLoader you can use to load all Classes you wish. But you have to create these MultiClassLoader at the very beginning and not when the classes are loaded.\r\n\r\n    public class MultiClassLoader extends ClassLoader\r\n\r\nYou would have a collection of classloaders and in the findClass(...) you iterate over all these registered loaders.\r\n\r\n    protected Class findClass(String aName) throws ClassNotFoundException {\r\n       for (Iterator iter = multiLoaders.iterator(); iter.hasNext();) {\r\n          ClassLoader tmpLoader = (ClassLoader)iter.next();\r\n          try {\r\n             return tmpLoader.loadClass(aName);\r\n          } catch (ClassNotFoundException e) {\r\n          }\r\n       }\r\n       throw new ClassNotFoundException(aName);\r\n    }\r\n\r\n\r\n","title":"Solution for the ClassCastException due to ClassLoader issue","body":"<p>Why you have 2 CloassLoaders, which loads the same class? This could be a programatic issue. It sounds like you are caching ClassLoader somewhere and re-use them in a wrong way. If this is not the case try a MultiClassLoader.</p>\n\n<p>Create a MultiClassLoader which includes multiple other classloader. These MultiClassLoader you can use to load all Classes you wish. But you have to create these MultiClassLoader at the very beginning and not when the classes are loaded.</p>\n\n<pre><code>public class MultiClassLoader extends ClassLoader\n</code></pre>\n\n<p>You would have a collection of classloaders and in the findClass(...) you iterate over all these registered loaders.</p>\n\n<pre><code>protected Class findClass(String aName) throws ClassNotFoundException {\n   for (Iterator iter = multiLoaders.iterator(); iter.hasNext();) {\n      ClassLoader tmpLoader = (ClassLoader)iter.next();\n      try {\n         return tmpLoader.loadClass(aName);\n      } catch (ClassNotFoundException e) {\n      }\n   }\n   throw new ClassNotFoundException(aName);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313477989,"creation_date":1313477989,"answer_id":7074619,"question_id":7074532,"body_markdown":"The easiest way is to use reflection. This allow you to d&#243; anything you Can d&#243; in &quot;normal&quot; code. \r\n\r\n","title":"Solution for the ClassCastException due to ClassLoader issue","body":"<p>The easiest way is to use reflection. This allow you to dó anything you Can dó in \"normal\" code. </p>\n"},{"tags":[],"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1313478433,"creation_date":1313478433,"answer_id":7074679,"question_id":7074532,"body_markdown":"AFAIK, no, you can&#39;t cast an object of a class loaded by one class-loader in another class loader.\r\n\r\n - One solution would be to create a &quot;common&quot; class-loader which loads the classes to be used by your custom classloaders. So in your case, you&#39;d have a new classloader which would load the given class and your custom classloaders would extend this classloader.\r\n - Another solution would be to pass around the &quot;serialized&quot; state between the two classloaders. Serialize one instance to a byte array and reconstruct the object in the other classloader by de-serializing the object stream.","title":"Solution for the ClassCastException due to ClassLoader issue","body":"<p>AFAIK, no, you can't cast an object of a class loaded by one class-loader in another class loader.</p>\n\n<ul>\n<li>One solution would be to create a \"common\" class-loader which loads the classes to be used by your custom classloaders. So in your case, you'd have a new classloader which would load the given class and your custom classloaders would extend this classloader.</li>\n<li>Another solution would be to pass around the \"serialized\" state between the two classloaders. Serialize one instance to a byte array and reconstruct the object in the other classloader by de-serializing the object stream.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":350198,"reputation":15550,"user_id":685923,"accept_rate":70,"display_name":"Ed Staub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313546696,"creation_date":1313546696,"answer_id":7087242,"question_id":7074532,"body_markdown":"Reflection isn&#39;t that bad, and is appropriate here.  \r\nIs this a Maven plugin, BTW?\r\n\r\nYou&#39;ll want something like:  \r\n\r\n    Mojo mojo = (Mojo)descriptor.getClass().getMethod(&quot;getMojo&quot;).invoke(descriptor);\r\n\r\nI&#39;m leaving out a lot - particularly exception handling - but this should lead you to the Javadoc you need.  It&#39;s quite good, but read carefully.\r\n\r\nIf you also have two Mojo classes, the cast will break, and you&#39;ll have to do more reflection to do whatever you need to do with the evil-twin Mojo.  ","title":"Solution for the ClassCastException due to ClassLoader issue","body":"<p>Reflection isn't that bad, and is appropriate here.<br>\nIs this a Maven plugin, BTW?</p>\n\n<p>You'll want something like:  </p>\n\n<pre><code>Mojo mojo = (Mojo)descriptor.getClass().getMethod(\"getMojo\").invoke(descriptor);\n</code></pre>\n\n<p>I'm leaving out a lot - particularly exception handling - but this should lead you to the Javadoc you need.  It's quite good, but read carefully.</p>\n\n<p>If you also have two Mojo classes, the cast will break, and you'll have to do more reflection to do whatever you need to do with the evil-twin Mojo.  </p>\n"},{"tags":[],"owner":{"account_id":3802591,"reputation":11,"user_id":3155799,"display_name":"user3155799"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516855611,"creation_date":1516855611,"answer_id":48435849,"question_id":7074532,"body_markdown":"I think better option to just store byte array instead of object. While deserliazing, get byte array back and convert into object.\r\n\r\nI had the same issue and byte array approach worked.\r\n\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        ObjectOutput out = null;\r\n        try {\r\n            out = new ObjectOutputStream(bos);\r\n            out.writeObject(cachedValue);\r\n            byte b[] = bos.toByteArray();\r\n\r\n            //Store in DB, file wherever here using b[]. I am not writing code to store it as it may vary in your requirement.\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n\r\nRead from byte array:\r\n\r\n    ByteArrayInputStream bis = new ByteArrayInputStream(&lt;&lt;read byte[] where you stored earlier&gt;&gt;);\r\n        ObjectInput in = null;\r\n        \r\n        try {\r\n            in = new ObjectInputStream(bis);\r\n            &lt;Your Class &gt;cachedRes = ( Your Class) in.readObject();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (ClassNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n","title":"Solution for the ClassCastException due to ClassLoader issue","body":"<p>I think better option to just store byte array instead of object. While deserliazing, get byte array back and convert into object.</p>\n\n<p>I had the same issue and byte array approach worked.</p>\n\n<pre><code>ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    ObjectOutput out = null;\n    try {\n        out = new ObjectOutputStream(bos);\n        out.writeObject(cachedValue);\n        byte b[] = bos.toByteArray();\n\n        //Store in DB, file wherever here using b[]. I am not writing code to store it as it may vary in your requirement.\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>Read from byte array:</p>\n\n<pre><code>ByteArrayInputStream bis = new ByteArrayInputStream(&lt;&lt;read byte[] where you stored earlier&gt;&gt;);\n    ObjectInput in = null;\n\n    try {\n        in = new ObjectInputStream(bis);\n        &lt;Your Class &gt;cachedRes = ( Your Class) in.readObject();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23065232,"reputation":1,"user_id":17179761,"display_name":"Meghana Y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634563863,"creation_date":1634563863,"answer_id":69617017,"question_id":7074532,"body_markdown":"I solved this issue by loading the fully qualified class using Thread&#39;s parent context loader.\r\n\r\nAs an example, using AbstractMojo here.\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n           Thread\r\n          .currentThread\r\n          .getContextClassLoader\r\n          .getParent\r\n          .loadClass(&quot;org.apache.maven.plugin.AbstractMojo&quot;)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Solution for the ClassCastException due to ClassLoader issue","body":"<p>I solved this issue by loading the fully qualified class using Thread's parent context loader.</p>\n<p>As an example, using AbstractMojo here.\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>       Thread\n      .currentThread\n      .getContextClassLoader\n      .getParent\n      .loadClass(\"org.apache.maven.plugin.AbstractMojo\")</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":405930,"reputation":157,"user_id":775120,"accept_rate":75,"display_name":"ravana"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20780,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":7074679,"answer_count":6,"score":7,"last_activity_date":1634563863,"creation_date":1313477436,"question_id":7074532,"body_markdown":"I have two ClassLoaders which loads the same class. So, obviously these can&#39;t cast to one another. But I need to access an object created in the other ClassLoader. \r\n\r\nI have access to both ClassLoaders. How can I use that object in the other class? I don&#39;t need to cast the object to match to the current ClassLoader. \r\n\r\nBut the issue is that the returned object&#39;s type is `Object`. So, I have to cast down that object to access some methods. How can I do that? Normal cast like the following causes ClassCastException, which I already know.\r\n\r\n    Mojo mojo = (Mojo) descriptor.getMojo();\r\n\r\n`descriptor#getMojo()` returns an object of type `Mojo` but the method returns `Object`. How can do this? \r\n\r\nLet me know if you need further info. \r\n\r\nI&#39;ve read all the theories about classloading, but none has specified a proper solution for this.\r\n","title":"Solution for the ClassCastException due to ClassLoader issue","body":"<p>I have two ClassLoaders which loads the same class. So, obviously these can't cast to one another. But I need to access an object created in the other ClassLoader. </p>\n\n<p>I have access to both ClassLoaders. How can I use that object in the other class? I don't need to cast the object to match to the current ClassLoader. </p>\n\n<p>But the issue is that the returned object's type is <code>Object</code>. So, I have to cast down that object to access some methods. How can I do that? Normal cast like the following causes ClassCastException, which I already know.</p>\n\n<pre><code>Mojo mojo = (Mojo) descriptor.getMojo();\n</code></pre>\n\n<p><code>descriptor#getMojo()</code> returns an object of type <code>Mojo</code> but the method returns <code>Object</code>. How can do this? </p>\n\n<p>Let me know if you need further info. </p>\n\n<p>I've read all the theories about classloading, but none has specified a proper solution for this.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1634321376,"post_id":69588828,"comment_id":123001612,"body_markdown":"Can you create a [mre]: this relies on an FXML file you haven&#39;t posted. (And, off-topic, but why are you loading the FXML file from the source folder?)","body":"Can you create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>: this relies on an FXML file you haven&#39;t posted. (And, off-topic, but why are you loading the FXML file from the source folder?)"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1634323593,"post_id":69588828,"comment_id":123002321,"body_markdown":"The feature is marked `Application Dependant` [_sic_], which perhaps means that it&#39;s up to your application.","body":"The feature is marked <code>Application Dependant</code> [<i>sic</i>], which perhaps means that it&#39;s up to your application."},{"owner":{"account_id":3411006,"reputation":853,"user_id":2864877,"display_name":"Techniquab"},"score":0,"creation_date":1634324633,"post_id":69588828,"comment_id":123002665,"body_markdown":"@trashgod I don&#39;t see where it is marked as Application Dependent...my application depends on this, how do I make it happen","body":"@trashgod I don&#39;t see where it is marked as Application Dependent...my application depends on this, how do I make it happen"},{"owner":{"account_id":3411006,"reputation":853,"user_id":2864877,"display_name":"Techniquab"},"score":0,"creation_date":1634325792,"post_id":69588828,"comment_id":123003009,"body_markdown":"@James_D added the other files...as to the FXML.. location because I&#39;m new to java/spring/and javafx and that&#39;s how I figured out to get a minimum example running.","body":"@James_D added the other files...as to the FXML.. location because I&#39;m new to java/spring/and javafx and that&#39;s how I figured out to get a minimum example running."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1634335826,"post_id":69588828,"comment_id":123005763,"body_markdown":"Two use cases are marked `Dependant`—note the misspelling. For a long list, maybe some kind of `Pagination` control?","body":"Two use cases are marked <code>Dependant</code>—note the misspelling. For a long list, maybe some kind of <code>Pagination</code> control?"},{"owner":{"account_id":3411006,"reputation":853,"user_id":2864877,"display_name":"Techniquab"},"score":0,"creation_date":1634336191,"post_id":69588828,"comment_id":123005832,"body_markdown":"@trashgod It looks to me like the &quot;Application Depandant&quot; note is about when the node is not focused &quot;Pointer off button&quot;.","body":"@trashgod It looks to me like the &quot;Application Depandant&quot; note is about when the node is not focused &quot;Pointer off button&quot;."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1634337819,"post_id":69588828,"comment_id":123006154,"body_markdown":"@Techniquab: Ah, I read the section cited as [_normative_](https://en.wikipedia.org/wiki/Normativity), rather than dispositive of existing functionality.","body":"@Techniquab: Ah, I read the section cited as <a href=\"https://en.wikipedia.org/wiki/Normativity\" rel=\"nofollow noreferrer\"><i>normative</i></a>, rather than dispositive of existing functionality."},{"owner":{"account_id":3411006,"reputation":853,"user_id":2864877,"display_name":"Techniquab"},"score":0,"creation_date":1634338075,"post_id":69588828,"comment_id":123006201,"body_markdown":"@trashgod well now you&#39;ve gone and used words I don&#39;t understand and I pride myself on my vocab. Nice work.","body":"@trashgod well now you&#39;ve gone and used words I don&#39;t understand and I pride myself on my vocab. Nice work."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1634338849,"post_id":69588828,"comment_id":123006315,"body_markdown":"@Techniquab: My reading may be off, but the [specification](https://wiki.openjdk.java.net/display/OpenJFX/User+Experience+Specifications) says, &quot;UX specifications cover the _expected_ functionality of a UI control…&quot; In this case, if you add support for &quot;Any Alpha-numeric Keys,&quot; the effect should be &quot;Jumps to the first item in the list with that letter or letters.&quot;","body":"@Techniquab: My reading may be off, but the <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/User+Experience+Specifications\" rel=\"nofollow noreferrer\">specification</a> says, &quot;UX specifications cover the <i>expected</i> functionality of a UI control…&quot; In this case, if you add support for &quot;Any Alpha-numeric Keys,&quot; the effect should be &quot;Jumps to the first item in the list with that letter or letters.&quot;"},{"owner":{"account_id":3411006,"reputation":853,"user_id":2864877,"display_name":"Techniquab"},"score":0,"creation_date":1634339040,"post_id":69588828,"comment_id":123006340,"body_markdown":"@trashgod ok...well then I guess I&#39;ve gone and figured out how to make it do what it seemed like it should have done all along,","body":"@trashgod ok...well then I guess I&#39;ve gone and figured out how to make it do what it seemed like it should have done all along,"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1634341489,"post_id":69588828,"comment_id":123006693,"body_markdown":"FWIW, there is the same issue with the [ComboBox user experience documentation](https://wiki.openjdk.java.net/display/OpenJFX/ComboBox+User+Experience+Documentation), which states under the Keyboard Support section &quot;Any Key: Move the selection to the item matching prefix letters.&quot;, however, this processing of any key is not to change selection is not implemented for ComboBoxes in JavaFX 17.","body":"FWIW, there is the same issue with the <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/ComboBox+User+Experience+Documentation\" rel=\"nofollow noreferrer\">ComboBox user experience documentation</a>, which states under the Keyboard Support section &quot;Any Key: Move the selection to the item matching prefix letters.&quot;, however, this processing of any key is not to change selection is not implemented for ComboBoxes in JavaFX 17."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1634490841,"post_id":69588828,"comment_id":123033198,"body_markdown":"@jewelsea: Multi-key prefix alternatives for both `ComboBox` and `ChoiceBox` are include in _ControlsFX_.","body":"@jewelsea: Multi-key prefix alternatives for both <code>ComboBox</code> and <code>ChoiceBox</code> are include in <i>ControlsFX</i>."}],"answers":[{"tags":[],"owner":{"account_id":3411006,"reputation":853,"user_id":2864877,"display_name":"Techniquab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634563860,"creation_date":1634338871,"answer_id":69591397,"question_id":69588828,"body_markdown":"This seems like it reinvents something that should work...and obviously one would want to subclass the ChoiceBox and add this behavior rather than the hack i&#39;ve done here as a POC... but this works\r\n\r\n```java\r\nimport javafx.application.Application;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ChoiceBox;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.net.URL;\r\nimport java.nio.file.Paths;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.time.LocalTime;\r\n\r\n\r\npublic class TestchoiceboxApplication extends Application {\r\n\tprivate String typed=&quot;&quot;;\r\n\tprivate Boolean gotIt=false;\r\n\tprivate Instant lastKeyTime = Instant.now();\r\n\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) throws Exception{\r\n\t\tURL url = Paths.get(&quot;./src/main/resources/sample.fxml&quot;).toUri().toURL();\r\n\r\n\t\tParent root = FXMLLoader.load(url);\r\n\t\tprimaryStage.setTitle(&quot;Hello World&quot;);\r\n\t\tprimaryStage.setScene(new Scene(root, 300, 275));\r\n\t\tprimaryStage.show();\r\n\r\n\t\tvar cb = new ChoiceBox();\r\n\t\tcb.getItems().add(&quot;a&quot;);\r\n\t\tcb.getItems().add(&quot;b&quot;);\r\n\t\tcb.getItems().add(&quot;ab&quot;);\r\n\t\tcb.getItems().add(&quot;aa&quot;);\r\n\t\tcb.getItems().add(&quot;c&quot;);\r\n\t\tcb.getItems().add(&quot;cba&quot;);\r\n\r\n\r\n\t\tEventHandler&lt;KeyEvent&gt; keyEventHandler =\r\n\t\t\t\tnew EventHandler&lt;KeyEvent&gt;() {\r\n\t\t\t\t\tpublic void handle(final KeyEvent keyEvent) {\r\n                        if (keyEvent.getCode() == KeyCode.UNDEFINED) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tkeyEvent.consume();\r\n\r\n\t\t\t\t\t\tvar  now = Instant.now();\r\n\t\t\t\t\t\tif (Duration.between(lastKeyTime, now).getSeconds()&gt;3) {\r\n\t\t\t\t\t\t\t//reset search after timeout\r\n\t\t\t\t\t\t\ttyped=&quot;&quot;;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlastKeyTime = now;\r\n\r\n\t\t\t\t\t\ttyped = typed + keyEvent.getCharacter();\r\n\t\t\t\t\t\tvar items = cb.getItems();\r\n\t\t\t\t\t\tint nMatch = 0;\r\n\t\t\t\t\t\tint i=0;\r\n\t\t\t\t\t\tfor (var item: items) {\r\n\t\t\t\t\t\t\tif (item.toString().startsWith(typed)) {\r\n\t\t\t\t\t\t\t\tif (nMatch==0) {\r\n\t\t\t\t\t\t\t\t\tcb.getSelectionModel().select(item);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnMatch++;\r\n\t\t\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (nMatch&gt;1) {\r\n\t\t\t\t\t\t\tcb.show();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (nMatch == 1) {\r\n\t\t\t\t\t\t\t\tcb.hide();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// key didn&#39;t match\r\n\t\t\t\t\t\ttyped =  keyEvent.getCharacter();\r\n\t\t\t\t\t\tcb.show();\r\n\t\t\t\t\t\tnMatch = 0;\r\n\t\t\t\t\t\tfor (var item: items) {\r\n\t\t\t\t\t\t\tif (item.toString().startsWith(typed)) {\r\n\t\t\t\t\t\t\t\tif (nMatch==0) {\r\n\t\t\t\t\t\t\t\t\tcb.getSelectionModel().select(item);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnMatch++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (nMatch&gt;1) {\r\n\t\t\t\t\t\t\tcb.show();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (nMatch == 1) {\r\n\t\t\t\t\t\t\t\tcb.hide();\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttyped = &quot;&quot;;\r\n\t\t\t\t\t};\r\n\t\t\t\t};\r\n\r\n\t\tcb.setOnKeyTyped(keyEventHandler);\r\n\t\t((Pane) root).getChildren().add(cb);\r\n\t}\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n","title":"Make javafx choicebox select item based on keyboard","body":"<p>This seems like it reinvents something that should work...and obviously one would want to subclass the ChoiceBox and add this behavior rather than the hack i've done here as a POC... but this works</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ChoiceBox;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\n\nimport java.net.URL;\nimport java.nio.file.Paths;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.time.LocalTime;\n\n\npublic class TestchoiceboxApplication extends Application {\n    private String typed=&quot;&quot;;\n    private Boolean gotIt=false;\n    private Instant lastKeyTime = Instant.now();\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        URL url = Paths.get(&quot;./src/main/resources/sample.fxml&quot;).toUri().toURL();\n\n        Parent root = FXMLLoader.load(url);\n        primaryStage.setTitle(&quot;Hello World&quot;);\n        primaryStage.setScene(new Scene(root, 300, 275));\n        primaryStage.show();\n\n        var cb = new ChoiceBox();\n        cb.getItems().add(&quot;a&quot;);\n        cb.getItems().add(&quot;b&quot;);\n        cb.getItems().add(&quot;ab&quot;);\n        cb.getItems().add(&quot;aa&quot;);\n        cb.getItems().add(&quot;c&quot;);\n        cb.getItems().add(&quot;cba&quot;);\n\n\n        EventHandler&lt;KeyEvent&gt; keyEventHandler =\n                new EventHandler&lt;KeyEvent&gt;() {\n                    public void handle(final KeyEvent keyEvent) {\n                        if (keyEvent.getCode() == KeyCode.UNDEFINED) {\n                            return;\n                        }\n                        keyEvent.consume();\n\n                        var  now = Instant.now();\n                        if (Duration.between(lastKeyTime, now).getSeconds()&gt;3) {\n                            //reset search after timeout\n                            typed=&quot;&quot;;\n                        }\n                        lastKeyTime = now;\n\n                        typed = typed + keyEvent.getCharacter();\n                        var items = cb.getItems();\n                        int nMatch = 0;\n                        int i=0;\n                        for (var item: items) {\n                            if (item.toString().startsWith(typed)) {\n                                if (nMatch==0) {\n                                    cb.getSelectionModel().select(item);\n                                }\n                                nMatch++;\n                                i++;\n                            }\n                        }\n                        if (nMatch&gt;1) {\n                            cb.show();\n                            return;\n                        } else {\n                            if (nMatch == 1) {\n                                cb.hide();\n                                return;\n                            }\n                        }\n\n                        // key didn't match\n                        typed =  keyEvent.getCharacter();\n                        cb.show();\n                        nMatch = 0;\n                        for (var item: items) {\n                            if (item.toString().startsWith(typed)) {\n                                if (nMatch==0) {\n                                    cb.getSelectionModel().select(item);\n                                }\n                                nMatch++;\n                            }\n                        }\n                        if (nMatch&gt;1) {\n                            cb.show();\n                            return;\n                        } else {\n                            if (nMatch == 1) {\n                                cb.hide();\n                                return;\n                            }\n                        }\n                        typed = &quot;&quot;;\n                    };\n                };\n\n        cb.setOnKeyTyped(keyEventHandler);\n        ((Pane) root).getChildren().add(cb);\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634490638,"creation_date":1634353926,"answer_id":69592353,"question_id":69588828,"body_markdown":"While the [_ChoiceBox User Experience Documentation_][1] is normative, this simpler variation jumps to the first item in the list having the letter typed. It also responds to the &lt;kbd&gt;Enter&lt;/kbd&gt; and &lt;kbd&gt;Return&lt;/kbd&gt; keys.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ChoiceBox;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.stage.Stage;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.layout.StackPane;\r\n\r\n/**\r\n * https://stackoverflow.com/a/69591397/230513\r\n */\r\npublic class KeyTest extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        primaryStage.setTitle(&quot;Key Test&quot;);\r\n        ObservableList&lt;String&gt; items = FXCollections.observableArrayList(\r\n            &quot;a10&quot;, &quot;b42&quot;, &quot;c33&quot;, &quot;a11&quot;, &quot;b22&quot;, &quot;c333&quot;, &quot;d0&quot;);\r\n        FXCollections.sort(items);\r\n        ChoiceBox cb = new ChoiceBox(items);\r\n        EventHandler&lt;KeyEvent&gt; keyEventHandler = (var e) -&gt; {\r\n            if (e.getCode() == KeyCode.ENTER) {\r\n                return;\r\n            }\r\n            e.consume();\r\n            for (var item : cb.getItems()) {\r\n                if (item.toString().startsWith(e.getCharacter())) {\r\n                    cb.getSelectionModel().select(item);\r\n                    cb.show();\r\n                    break;\r\n                }\r\n            }\r\n        };\r\n        cb.setOnKeyTyped(keyEventHandler);\r\n        StackPane root = new StackPane();\r\n        StackPane.setMargin(cb, new Insets(16, 16, 16, 16));\r\n        root.getChildren().add(cb);\r\n        primaryStage.setScene(new Scene(root));\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\n\r\nFor multi-key _prefix_ selection, as described [here][2], also consider [`PrefixSelectionChoiceBox`][3] or [`PrefixSelectionComboBox`][4] included in [_ControlsFX_][5].\r\n\r\n\r\n  [1]: https://wiki.openjdk.java.net/display/OpenJFX/ChoiceBox+User+Experience+Documentation\r\n  [2]: http://www.kware.net/?p=233\r\n  [3]: https://controlsfx.github.io/javadoc/11.1.0/org.controlsfx.controls/org/controlsfx/control/PrefixSelectionChoiceBox.html\r\n  [4]: https://controlsfx.github.io/javadoc/11.1.0/org.controlsfx.controls/org/controlsfx/control/PrefixSelectionComboBox.html\r\n  [5]: https://github.com/controlsfx/controlsfx#controlsfx","title":"Make javafx choicebox select item based on keyboard","body":"<p>While the <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/ChoiceBox+User+Experience+Documentation\" rel=\"nofollow noreferrer\"><em>ChoiceBox User Experience Documentation</em></a> is normative, this simpler variation jumps to the first item in the list having the letter typed. It also responds to the <kbd>Enter</kbd> and <kbd>Return</kbd> keys.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ChoiceBox;\nimport javafx.scene.input.KeyEvent;\nimport javafx.stage.Stage;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.geometry.Insets;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.layout.StackPane;\n\n/**\n * https://stackoverflow.com/a/69591397/230513\n */\npublic class KeyTest extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        primaryStage.setTitle(&quot;Key Test&quot;);\n        ObservableList&lt;String&gt; items = FXCollections.observableArrayList(\n            &quot;a10&quot;, &quot;b42&quot;, &quot;c33&quot;, &quot;a11&quot;, &quot;b22&quot;, &quot;c333&quot;, &quot;d0&quot;);\n        FXCollections.sort(items);\n        ChoiceBox cb = new ChoiceBox(items);\n        EventHandler&lt;KeyEvent&gt; keyEventHandler = (var e) -&gt; {\n            if (e.getCode() == KeyCode.ENTER) {\n                return;\n            }\n            e.consume();\n            for (var item : cb.getItems()) {\n                if (item.toString().startsWith(e.getCharacter())) {\n                    cb.getSelectionModel().select(item);\n                    cb.show();\n                    break;\n                }\n            }\n        };\n        cb.setOnKeyTyped(keyEventHandler);\n        StackPane root = new StackPane();\n        StackPane.setMargin(cb, new Insets(16, 16, 16, 16));\n        root.getChildren().add(cb);\n        primaryStage.setScene(new Scene(root));\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>For multi-key <em>prefix</em> selection, as described <a href=\"http://www.kware.net/?p=233\" rel=\"nofollow noreferrer\">here</a>, also consider <a href=\"https://controlsfx.github.io/javadoc/11.1.0/org.controlsfx.controls/org/controlsfx/control/PrefixSelectionChoiceBox.html\" rel=\"nofollow noreferrer\"><code>PrefixSelectionChoiceBox</code></a> or <a href=\"https://controlsfx.github.io/javadoc/11.1.0/org.controlsfx.controls/org/controlsfx/control/PrefixSelectionComboBox.html\" rel=\"nofollow noreferrer\"><code>PrefixSelectionComboBox</code></a> included in <a href=\"https://github.com/controlsfx/controlsfx#controlsfx\" rel=\"nofollow noreferrer\"><em>ControlsFX</em></a>.</p>\n"}],"owner":{"account_id":3411006,"reputation":853,"user_id":2864877,"display_name":"Techniquab"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1634563860,"creation_date":1634320685,"question_id":69588828,"body_markdown":"According to https://wiki.openjdk.java.net/display/OpenJFX/ChoiceBox+User+Experience+Documentation\r\n\r\n```Any Alpha-numeric Keys``` should  ```Jumps to the first item in the list with that letter or letters``` in the ```Selected state```\r\n\r\nHowever, this doesn&#39;t seem to be the case at all, typing when the widget is selected does not appear to do anything.\r\n\r\nHere is my minimal reproducible example:\r\n\r\n``` java\r\npackage com.techniqab.testchoicebox;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ChoiceBox;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.net.URL;\r\nimport java.nio.file.Paths;\r\n\r\n\r\npublic class TestchoiceboxApplication extends Application {\r\n\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) throws Exception{\r\n\t\tURL url = Paths.get(&quot;./src/main/resources/sample.fxml&quot;).toUri().toURL();\r\n\r\n\t\tParent root = FXMLLoader.load(url);\r\n\t\tprimaryStage.setTitle(&quot;Hello World&quot;);\r\n\t\tprimaryStage.setScene(new Scene(root, 300, 275));\r\n\t\tprimaryStage.show();\r\n\r\n\t\tvar cb = new ChoiceBox();\r\n\t\tcb.getItems().add(&quot;a&quot;);\r\n\t\tcb.getItems().add(&quot;b&quot;);\r\n\r\n\t\t((Pane) root).getChildren().add(cb);\r\n\t}\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import java.lang.*?&gt;\r\n&lt;?import java.util.*?&gt;\r\n&lt;?import javafx.scene.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n\r\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\r\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n            fx:controller=&quot;com.techniqab.testchoicebox.TestchoiceboxApplication&quot;\r\n            prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;&gt;\r\n\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\n```\r\nmodule testchoicebox {\r\n    requires javafx.controls;\r\n    requires javafx.graphics;\r\n    requires javafx.fxml;\r\n    exports com.techniqab.testchoicebox;\r\n    opens com.techniqab.testchoicebox to javafx.graphics;\r\n}\r\n```\r\n\r\n","title":"Make javafx choicebox select item based on keyboard","body":"<p>According to <a href=\"https://wiki.openjdk.java.net/display/OpenJFX/ChoiceBox+User+Experience+Documentation\" rel=\"nofollow noreferrer\">https://wiki.openjdk.java.net/display/OpenJFX/ChoiceBox+User+Experience+Documentation</a></p>\n<p><code>Any Alpha-numeric Keys</code> should  <code>Jumps to the first item in the list with that letter or letters</code> in the <code>Selected state</code></p>\n<p>However, this doesn't seem to be the case at all, typing when the widget is selected does not appear to do anything.</p>\n<p>Here is my minimal reproducible example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.techniqab.testchoicebox;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ChoiceBox;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\n\nimport java.net.URL;\nimport java.nio.file.Paths;\n\n\npublic class TestchoiceboxApplication extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        URL url = Paths.get(&quot;./src/main/resources/sample.fxml&quot;).toUri().toURL();\n\n        Parent root = FXMLLoader.load(url);\n        primaryStage.setTitle(&quot;Hello World&quot;);\n        primaryStage.setScene(new Scene(root, 300, 275));\n        primaryStage.show();\n\n        var cb = new ChoiceBox();\n        cb.getItems().add(&quot;a&quot;);\n        cb.getItems().add(&quot;b&quot;);\n\n        ((Pane) root).getChildren().add(cb);\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import java.util.*?&gt;\n&lt;?import javafx.scene.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane xmlns=&quot;http://javafx.com/javafx&quot;\n            xmlns:fx=&quot;http://javafx.com/fxml&quot;\n            fx:controller=&quot;com.techniqab.testchoicebox.TestchoiceboxApplication&quot;\n            prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot;&gt;\n\n&lt;/AnchorPane&gt;\n</code></pre>\n<pre><code>module testchoicebox {\n    requires javafx.controls;\n    requires javafx.graphics;\n    requires javafx.fxml;\n    exports com.techniqab.testchoicebox;\n    opens com.techniqab.testchoicebox to javafx.graphics;\n}\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":17066236,"reputation":167,"user_id":12348326,"display_name":"BroscR"},"score":0,"creation_date":1634563253,"post_id":69616847,"comment_id":123051189,"body_markdown":"Does this answer your question? [How can I query and filter Firebase Realtime Database](https://stackoverflow.com/questions/48037766/how-can-i-query-and-filter-firebase-realtime-database)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48037766/how-can-i-query-and-filter-firebase-realtime-database\">How can I query and filter Firebase Realtime Database</a>"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1634563641,"post_id":69616847,"comment_id":123051366,"body_markdown":"Your current data structure makes it easy to find the services offered by a specific user. It does not however make it easy to find the users offering a specific service. To allow that, you&#39;ll have to add an additional top-level data structure, where you start with the service as the key, and then add each user&#39;s UID under that. For more on this and examples, see https://stackoverflow.com/questions/40656589/firebase-query-if-child-of-child-contains-a-value and https://stackoverflow.com/questions/27207059/firebase-query-double-nested","body":"Your current data structure makes it easy to find the services offered by a specific user. It does not however make it easy to find the users offering a specific service. To allow that, you&#39;ll have to add an additional top-level data structure, where you start with the service as the key, and then add each user&#39;s UID under that. For more on this and examples, see <a href=\"https://stackoverflow.com/questions/40656589/firebase-query-if-child-of-child-contains-a-value\" title=\"firebase query if child of child contains a value\">stackoverflow.com/questions/40656589/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/27207059/firebase-query-double-nested\" title=\"firebase query double nested\">stackoverflow.com/questions/27207059/&hellip;</a>"},{"owner":{"account_id":16442819,"reputation":29,"user_id":11878578,"display_name":"help me"},"score":0,"creation_date":1634564495,"post_id":69616847,"comment_id":123051802,"body_markdown":"alright, i&#39;ll look into those questions. thank y&#39;all","body":"alright, i&#39;ll look into those questions. thank y&#39;all"},{"owner":{"account_id":16442819,"reputation":29,"user_id":11878578,"display_name":"help me"},"score":0,"creation_date":1634576943,"post_id":69616847,"comment_id":123056979,"body_markdown":"@FrankvanPuffelen your comment worked! thank you so much","body":"@FrankvanPuffelen your comment worked! thank you so much"}],"owner":{"account_id":16442819,"reputation":29,"user_id":11878578,"display_name":"help me"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1634563662,"answer_count":0,"score":1,"last_activity_date":1634563673,"creation_date":1634563133,"question_id":69616847,"body_markdown":"for example, I want to get the total number of users that offers &quot;Laundry&quot; services in android from firebase real time database\r\n\r\n![database structure][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VHKXz.png\r\n  ","title":"How to get the total number of elements that are the same in firebase that is from different uids?","body":"<p>for example, I want to get the total number of users that offers &quot;Laundry&quot; services in android from firebase real time database</p>\n<p><img src=\"https://i.stack.imgur.com/VHKXz.png\" alt=\"database structure\" /></p>\n"},{"tags":["java","zxing"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1634561614,"post_id":69616246,"comment_id":123050404,"body_markdown":"`new String(bytesOfZIP, &quot;UTF8&quot;);` is **wrong** and will not do what you want. In fact trying to treat any binary data (such as the content of a ZIP file) as text is misleading and wrong. Most barcode formats are designed to store either simple numbers or text. You&#39;ll have to find one that can handle arbitrary binary data *or* encode your binary data using Base64 (which will increase the size by about 33%, which is especially bad for barcodes).","body":"<code>new String(bytesOfZIP, &quot;UTF8&quot;);</code> is <b>wrong</b> and will not do what you want. In fact trying to treat any binary data (such as the content of a ZIP file) as text is misleading and wrong. Most barcode formats are designed to store either simple numbers or text. You&#39;ll have to find one that can handle arbitrary binary data <i>or</i> encode your binary data using Base64 (which will increase the size by about 33%, which is especially bad for barcodes)."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1634562039,"post_id":69616246,"comment_id":123050610,"body_markdown":"Can you please explain what the high-level goal is you&#39;re trying to achieve, because I think this is a [XY problem](https://xyproblem.info). There are many problems with your approach: 1. ZIP files have headers which increase the size of your QR code which is probably something you want to avoid. 2. bar codes are not built for arbitrary binary data, they tend to encode stuff in textual data (and that&#39;s what most APIs are built to support). 3. your storing a bar code as JPEG which is a lossy format and definitely suboptimal. PNG files will be smaller *and* encode the image more faithfully.","body":"Can you please explain what the high-level goal is you&#39;re trying to achieve, because I think this is a <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">XY problem</a>. There are many problems with your approach: 1. ZIP files have headers which increase the size of your QR code which is probably something you want to avoid. 2. bar codes are not built for arbitrary binary data, they tend to encode stuff in textual data (and that&#39;s what most APIs are built to support). 3. your storing a bar code as JPEG which is a lossy format and definitely suboptimal. PNG files will be smaller <i>and</i> encode the image more faithfully."},{"owner":{"account_id":1636899,"reputation":494,"user_id":1510155,"display_name":"Victorqedu"},"score":0,"creation_date":1634563365,"post_id":69616246,"comment_id":123051245,"body_markdown":"Joachim, I&#39;m just implementing the specifications I received where I must generate an XML, zip it and encode it with data matrix. It&#39;s a governmental specification for electronic prescriptions. The data matrix code will be used to automatically import the encoded data. ZIP is required as the data volume can be big for a barcode.","body":"Joachim, I&#39;m just implementing the specifications I received where I must generate an XML, zip it and encode it with data matrix. It&#39;s a governmental specification for electronic prescriptions. The data matrix code will be used to automatically import the encoded data. ZIP is required as the data volume can be big for a barcode."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1634564006,"post_id":69616246,"comment_id":123051549,"body_markdown":"Wow, I&#39;m sorry for your pain on that one. But on the up-side, they *probably* define how to put binary data into a format meant for text, so that should help. You could *try* pretending your binary data is ISO-8859-1 (which would also be wrong, but wrong in a slightly different way that might pass the relevant checks). In other words, replace the `UTF8` in your code with `ISO-8859-1`.","body":"Wow, I&#39;m sorry for your pain on that one. But on the up-side, they <i>probably</i> define how to put binary data into a format meant for text, so that should help. You could <i>try</i> pretending your binary data is ISO-8859-1 (which would also be wrong, but wrong in a slightly different way that might pass the relevant checks). In other words, replace the <code>UTF8</code> in your code with <code>ISO-8859-1</code>."}],"answers":[{"tags":[],"owner":{"account_id":23068449,"reputation":1,"user_id":17182599,"display_name":"Grimol"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634561640,"creation_date":1634561640,"answer_id":69616454,"question_id":69616246,"body_markdown":"You should try to replace &quot;UTF8&quot; with &quot;StandardCharsets.UTF_8&quot;. Because I don&#39;t think &quot;UTF8&quot; is the correct way to set the charset of the string.","title":"Generating data matrix from a ZIP string in Java","body":"<p>You should try to replace &quot;UTF8&quot; with &quot;StandardCharsets.UTF_8&quot;. Because I don't think &quot;UTF8&quot; is the correct way to set the charset of the string.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634563657,"creation_date":1634563657,"answer_id":69616969,"question_id":69616246,"body_markdown":"***Not an answer***\r\n\r\nThere are some problems, hence in answer form.\r\n\r\n    byte[] bytesOfZIP = (byte[])statD.returnObj; // here is the zipped content\r\n\r\nAn `Object` (or `char[]`, or `String`) cannot be case to a `byte[]` array.\r\n\r\n    String texto = new String(bytesOfZIP, &quot;UTF8&quot;);\r\n\r\nThis will compile but the official name is `&quot;UTF-8&quot;` and as already mentioned, `StandardCharsets.UTF_8` would be nicer (no `UnsupportedEncodingException` as UTF-8m is standard, always available). However `bytesOfZIP` are never UTF-8 text, which requires a special format. In fact binary data should never be pressed in String with 2 byte chars. It requires twice a conversion to Unicode, double memory, and is almost certain to be corrupted.\r\n\r\n    DataMatrixWriter barcodeWriter = new DataMatrixWriter();\r\n    BitMatrix bitMatrix = barcodeWriter.encode(texto, BarcodeFormat.DATA_MATRIX, 400, 400);\r\n\r\n    BufferedImage bi = MatrixToImageWriter.toBufferedImage(bitMatrix);\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    ImageIO.write(bi, &quot;jpg&quot;, baos);\r\n    byte[] fbytes = baos.toByteArray();\r\n\r\nJPEG (.jpg, .jpeg) is a lossy compression. For a black-and-white barcode try use png. \r\n\r\n***Solution***\r\n\r\nUnzipping should first check the format: a `test.txt.gz` would use a `GZipInputStream`. A `test.zip` a ZipFile, a ZipInputStream, or copying from zip file system. These are standard classes to be found in the internet.\r\n\r\nAs the contents are probably pure text, you can first try it hard-coded after manually unzipping.\r\n\r\nIf you start with a `byte[]` then the matrix printer probably requires MS Latin 1, or `Charset.fromName(&quot;Windows-1252&quot;)`. Latin-1, ISO-8859-1 or `StandardCharsets.ISO_8859_1` has a forbidden control range from `\\u0080 - \\u00BF`.\r\n\r\n","title":"Generating data matrix from a ZIP string in Java","body":"<p><em><strong>Not an answer</strong></em></p>\n<p>There are some problems, hence in answer form.</p>\n<pre><code>byte[] bytesOfZIP = (byte[])statD.returnObj; // here is the zipped content\n</code></pre>\n<p>An <code>Object</code> (or <code>char[]</code>, or <code>String</code>) cannot be case to a <code>byte[]</code> array.</p>\n<pre><code>String texto = new String(bytesOfZIP, &quot;UTF8&quot;);\n</code></pre>\n<p>This will compile but the official name is <code>&quot;UTF-8&quot;</code> and as already mentioned, <code>StandardCharsets.UTF_8</code> would be nicer (no <code>UnsupportedEncodingException</code> as UTF-8m is standard, always available). However <code>bytesOfZIP</code> are never UTF-8 text, which requires a special format. In fact binary data should never be pressed in String with 2 byte chars. It requires twice a conversion to Unicode, double memory, and is almost certain to be corrupted.</p>\n<pre><code>DataMatrixWriter barcodeWriter = new DataMatrixWriter();\nBitMatrix bitMatrix = barcodeWriter.encode(texto, BarcodeFormat.DATA_MATRIX, 400, 400);\n\nBufferedImage bi = MatrixToImageWriter.toBufferedImage(bitMatrix);\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nImageIO.write(bi, &quot;jpg&quot;, baos);\nbyte[] fbytes = baos.toByteArray();\n</code></pre>\n<p>JPEG (.jpg, .jpeg) is a lossy compression. For a black-and-white barcode try use png.</p>\n<p><em><strong>Solution</strong></em></p>\n<p>Unzipping should first check the format: a <code>test.txt.gz</code> would use a <code>GZipInputStream</code>. A <code>test.zip</code> a ZipFile, a ZipInputStream, or copying from zip file system. These are standard classes to be found in the internet.</p>\n<p>As the contents are probably pure text, you can first try it hard-coded after manually unzipping.</p>\n<p>If you start with a <code>byte[]</code> then the matrix printer probably requires MS Latin 1, or <code>Charset.fromName(&quot;Windows-1252&quot;)</code>. Latin-1, ISO-8859-1 or <code>StandardCharsets.ISO_8859_1</code> has a forbidden control range from <code>\\u0080 - \\u00BF</code>.</p>\n"}],"owner":{"account_id":1636899,"reputation":494,"user_id":1510155,"display_name":"Victorqedu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69616969,"answer_count":2,"score":0,"last_activity_date":1634563657,"creation_date":1634560777,"question_id":69616246,"body_markdown":"I&#39;m trying to generate a data matrix from a zip string using Zxing in Java and the result is java.lang.IllegalArgumentException: Message contains characters outside ISO-8859-1 encoding.\r\n\r\nThe code is:\r\n\r\n    byte[] bytesOfZIP= (byte[])statD.returnObj; // here is the zipped content\r\n    String texto = new String(bytesOfZIP, &quot;UTF8&quot;);\r\n    DataMatrixWriter barcodeWriter = new DataMatrixWriter();\r\n    BitMatrix bitMatrix = barcodeWriter.encode(texto, BarcodeFormat.DATA_MATRIX, 400, 400);// exception appears at this line\r\n    BufferedImage bi = MatrixToImageWriter.toBufferedImage(bitMatrix);\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    ImageIO.write(bi, &quot;jpg&quot;, baos);\r\n    byte[] fbytes = baos.toByteArray();\r\n\r\nI&#39;m looking for any solution to encode a ZIP file with these special chars not necessarily with Zxing.","title":"Generating data matrix from a ZIP string in Java","body":"<p>I'm trying to generate a data matrix from a zip string using Zxing in Java and the result is java.lang.IllegalArgumentException: Message contains characters outside ISO-8859-1 encoding.</p>\n<p>The code is:</p>\n<pre><code>byte[] bytesOfZIP= (byte[])statD.returnObj; // here is the zipped content\nString texto = new String(bytesOfZIP, &quot;UTF8&quot;);\nDataMatrixWriter barcodeWriter = new DataMatrixWriter();\nBitMatrix bitMatrix = barcodeWriter.encode(texto, BarcodeFormat.DATA_MATRIX, 400, 400);// exception appears at this line\nBufferedImage bi = MatrixToImageWriter.toBufferedImage(bitMatrix);\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nImageIO.write(bi, &quot;jpg&quot;, baos);\nbyte[] fbytes = baos.toByteArray();\n</code></pre>\n<p>I'm looking for any solution to encode a ZIP file with these special chars not necessarily with Zxing.</p>\n"},{"tags":["java","hibernate","jpa","single-table-inheritance","criteriaquery"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1634558948,"post_id":69613064,"comment_id":123049149,"body_markdown":"If you do Root&lt;Entity&gt; root = query.from(Artwork.class) &lt;-- Doesn&#39;t that allow you to access both Artwork properties plus its parent (inheritedTags) attributes.","body":"If you do Root&lt;Entity&gt; root = query.from(Artwork.class) &lt;-- Doesn&#39;t that allow you to access both Artwork properties plus its parent (inheritedTags) attributes."},{"owner":{"account_id":7373365,"reputation":470,"user_id":5612892,"accept_rate":83,"display_name":"Amirhosein Al"},"score":0,"creation_date":1634630194,"post_id":69613064,"comment_id":123069541,"body_markdown":"This would return Artwork objects only.@SusanMustafa","body":"This would return Artwork objects only.@SusanMustafa"}],"owner":{"account_id":7373365,"reputation":470,"user_id":5612892,"accept_rate":83,"display_name":"Amirhosein Al"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634563590,"creation_date":1634546438,"question_id":69613064,"body_markdown":"This is my model:\r\n\r\n    @Entity\r\n    @Table(name=&quot;library_entities&quot;, schema=&quot;jamschema&quot;)\r\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(name=&quot;entity_type&quot;, discriminatorType=DiscriminatorType.STRING)\r\n    @org.hibernate.annotations.DiscriminatorOptions(force=true)\r\n    public abstract class Entity {\r\n        private UUID id;\r\n        private String title;\r\n        private String tags;\r\n        ...\r\n    }\r\n\r\n    @Entity\r\n    public abstract class Artwork extends Entity {\r\n        private String inheritedTags;\r\n        ...\r\n    }\r\n\r\n    @Entity\r\n    @DiscriminatorValue(&quot;A&quot;)\r\n    public class Album extends Entity {\r\n        private Set&lt;Track&gt; tracks;\r\n        ...\r\n    }\r\n\r\n    @Entity\r\n    @DiscriminatorValue(&quot;T&quot;)\r\n    public class Track extends Entity {\r\n        private Album album;\r\n        ...\r\n    }\r\n\r\nI need to search for entities using their base class attributes (e.g. title, tags, etc.) AND `Artwork`&#39;s attributes (e.g. inheritedTags) if they exist.&lt;br&gt;\r\nIn other words I need a query like this:&lt;br&gt;\r\n\r\n    SELECT ... FROM Entity entities WHERE entities.title like &#39;...&#39; OR entities.tags like \r\n    &#39;...&#39;OR (entities.type in (&#39;A&#39;, &#39;T&#39;) AND (entities.inheritedTags like &#39;...&#39; OR \r\n    entities.title like &#39;...&#39; OR entities.tags like &#39;...&#39;))\r\n\r\n`criteriaBuilder.treat()` is not the solution because it only queries the subclass (not the superclass).&lt;br&gt;\r\nAnd according to [this solution][1] the following must be a workaround:&lt;br&gt;\r\n\r\n    final CriteriaBuilder builder = em.getCriteriaBuilder();\r\n    final CriteriaQuery&lt;Entity&gt; query = \r\n    builder.createQuery(Entity.class);\r\n    Root&lt;Entity&gt; root = query.from(Entity.class);\r\n    query.select(root);\r\n        query.where(\r\n            builder.or(\r\n                builder.like(root.get(&quot;title&quot;), &quot;%a&quot;),\r\n                builder.like(root.get(&quot;tags&quot;), &quot;%a&quot;),\r\n                builder.and(\r\n                    builder.equal(root.type(), Artwork.class),\r\n                    builder.like(\r\n                        ((Root&lt;Artwork&gt;) (Root&lt;?&gt;) root).get(&quot;inheritedTags&quot;), &quot;%a&quot;)\r\n                    )\r\n                )\r\n            )\r\n        );\r\nBut it&#39;s not and I still get the following error:&lt;br&gt;\r\n`java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name [inheritedTags] on this ManagedType [com...Entity]`\r\n\r\n    at org.hibernate.metamodel.model.domain.internal.AbstractManagedType.checkNotNull(AbstractManagedType.java:148)\r\n\tat org.hibernate.metamodel.model.domain.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:119)\r\n\tat org.hibernate.metamodel.model.domain.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:117)\r\n\tat org.hibernate.metamodel.model.domain.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:44)\r\n\tat org.hibernate.query.criteria.internal.path.AbstractFromImpl.locateAttributeInternal(AbstractFromImpl.java:111)\r\n\tat org.hibernate.query.criteria.internal.path.AbstractPathImpl.locateAttribute(AbstractPathImpl.java:204)\r\n\tat org.hibernate.query.criteria.internal.path.AbstractPathImpl.get(AbstractPathImpl.java:177)\r\n\tat com.jamapplicationserver.AppMain.lambda$main$1(AppMain.java:99)\r\n\tat spark.RouteImpl$1.handle(RouteImpl.java:72)\r\n\tat spark.http.matching.Routes.execute(Routes.java:61)\r\n\tat spark.http.matching.MatcherFilter.doFilter(MatcherFilter.java:134)\r\n\tat spark.embeddedserver.jetty.JettyHandler.doHandle(JettyHandler.java:50)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1584)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:501)\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:556)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:273)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nIt seems like Hibernate looks for the attribute in the super class and since the attribute (`inheritedTags`) is not present on the super class, it throws the exception.&lt;br&gt;\r\nHow can I resolve this without changing the model?\r\n\r\n  [1]: https://stackoverflow.com/a/34391498/5612892","title":"JPA criteria API query subclass property along with superclass properties","body":"<p>This is my model:</p>\n<pre><code>@Entity\n@Table(name=&quot;library_entities&quot;, schema=&quot;jamschema&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name=&quot;entity_type&quot;, discriminatorType=DiscriminatorType.STRING)\n@org.hibernate.annotations.DiscriminatorOptions(force=true)\npublic abstract class Entity {\n    private UUID id;\n    private String title;\n    private String tags;\n    ...\n}\n\n@Entity\npublic abstract class Artwork extends Entity {\n    private String inheritedTags;\n    ...\n}\n\n@Entity\n@DiscriminatorValue(&quot;A&quot;)\npublic class Album extends Entity {\n    private Set&lt;Track&gt; tracks;\n    ...\n}\n\n@Entity\n@DiscriminatorValue(&quot;T&quot;)\npublic class Track extends Entity {\n    private Album album;\n    ...\n}\n</code></pre>\n<p>I need to search for entities using their base class attributes (e.g. title, tags, etc.) AND <code>Artwork</code>'s attributes (e.g. inheritedTags) if they exist.<br>\nIn other words I need a query like this:<br></p>\n<pre><code>SELECT ... FROM Entity entities WHERE entities.title like '...' OR entities.tags like \n'...'OR (entities.type in ('A', 'T') AND (entities.inheritedTags like '...' OR \nentities.title like '...' OR entities.tags like '...'))\n</code></pre>\n<p><code>criteriaBuilder.treat()</code> is not the solution because it only queries the subclass (not the superclass).<br>\nAnd according to <a href=\"https://stackoverflow.com/a/34391498/5612892\">this solution</a> the following must be a workaround:<br></p>\n<pre><code>final CriteriaBuilder builder = em.getCriteriaBuilder();\nfinal CriteriaQuery&lt;Entity&gt; query = \nbuilder.createQuery(Entity.class);\nRoot&lt;Entity&gt; root = query.from(Entity.class);\nquery.select(root);\n    query.where(\n        builder.or(\n            builder.like(root.get(&quot;title&quot;), &quot;%a&quot;),\n            builder.like(root.get(&quot;tags&quot;), &quot;%a&quot;),\n            builder.and(\n                builder.equal(root.type(), Artwork.class),\n                builder.like(\n                    ((Root&lt;Artwork&gt;) (Root&lt;?&gt;) root).get(&quot;inheritedTags&quot;), &quot;%a&quot;)\n                )\n            )\n        )\n    );\n</code></pre>\n<p>But it's not and I still get the following error:<br>\n<code>java.lang.IllegalArgumentException: Unable to locate Attribute  with the the given name [inheritedTags] on this ManagedType [com...Entity]</code></p>\n<pre><code>at org.hibernate.metamodel.model.domain.internal.AbstractManagedType.checkNotNull(AbstractManagedType.java:148)\nat org.hibernate.metamodel.model.domain.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:119)\nat org.hibernate.metamodel.model.domain.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:117)\nat org.hibernate.metamodel.model.domain.internal.AbstractManagedType.getAttribute(AbstractManagedType.java:44)\nat org.hibernate.query.criteria.internal.path.AbstractFromImpl.locateAttributeInternal(AbstractFromImpl.java:111)\nat org.hibernate.query.criteria.internal.path.AbstractPathImpl.locateAttribute(AbstractPathImpl.java:204)\nat org.hibernate.query.criteria.internal.path.AbstractPathImpl.get(AbstractPathImpl.java:177)\nat com.jamapplicationserver.AppMain.lambda$main$1(AppMain.java:99)\nat spark.RouteImpl$1.handle(RouteImpl.java:72)\nat spark.http.matching.Routes.execute(Routes.java:61)\nat spark.http.matching.MatcherFilter.doFilter(MatcherFilter.java:134)\nat spark.embeddedserver.jetty.JettyHandler.doHandle(JettyHandler.java:50)\nat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1584)\nat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\nat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\nat org.eclipse.jetty.server.Server.handle(Server.java:501)\nat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)\nat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:556)\nat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)\nat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:273)\nat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\nat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\nat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)\nat java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>It seems like Hibernate looks for the attribute in the super class and since the attribute (<code>inheritedTags</code>) is not present on the super class, it throws the exception.<br>\nHow can I resolve this without changing the model?</p>\n"},{"tags":["java","loops","java-stream"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1634559532,"post_id":69615900,"comment_id":123049428,"body_markdown":"I think this question is offtopic for [so]. May be the site https://codereview.stackexchange.com/ is better for it.","body":"I think this question is offtopic for <a href=\"https://stackoverflow.com\">Stack Overflow</a>. May be the site <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> is better for it."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634563439,"creation_date":1634563439,"answer_id":69616919,"question_id":69615900,"body_markdown":"It seems that the existing logic may be changed like this using `Stream.flatMap` and `Stream.findFirst`:\r\n```java\r\nlookupResults = units.stream() // Stream&lt;Unit&gt;\r\n     .flatMap(unit -&gt; unit.getUnitLines().stream()) // Stream&lt;UnitLine&gt;\r\n\t .map(unitLine -&gt; findLookup(\r\n         LOOKUP_CODE, unitLine.getCode()\r\n     )) // stream lookupResults\r\n\t .findFirst() // Optional lookupResults\r\n\t .orElse(null); // unwrapped lookupResults\r\n\r\nsomeObject.setType(lookupResults != null &amp;&amp; lookupResults.isEmpty() ? TYPE1 : TYPE2);\r\n```","title":"How to rewrite my code with streams - could it be even done?","body":"<p>It seems that the existing logic may be changed like this using <code>Stream.flatMap</code> and <code>Stream.findFirst</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>lookupResults = units.stream() // Stream&lt;Unit&gt;\n     .flatMap(unit -&gt; unit.getUnitLines().stream()) // Stream&lt;UnitLine&gt;\n     .map(unitLine -&gt; findLookup(\n         LOOKUP_CODE, unitLine.getCode()\n     )) // stream lookupResults\n     .findFirst() // Optional lookupResults\n     .orElse(null); // unwrapped lookupResults\n\nsomeObject.setType(lookupResults != null &amp;&amp; lookupResults.isEmpty() ? TYPE1 : TYPE2);\n</code></pre>\n"}],"owner":{"account_id":5565908,"reputation":183,"user_id":4413237,"accept_rate":0,"display_name":"vviston"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634563455,"creation_date":1634559341,"question_id":69615900,"body_markdown":"I produced this nested loops solution with label for breaking the iteration over two nested collections. Is there (and I hope there is) some more elegant solution that this? (e.g. streams, avoiding the label etc.?)\r\n\r\nThis algorithm should only check the first unitLine from the first unit and if there are some lookupResults the algorithm setType(TYPE1) else setType(TYPE2). So I know in advance that I need to check only first object from both collection and then I can quit.\r\n\r\nThank you!\r\n\r\n    List&lt;String&gt; lookupResults;\r\n        outerloop:\r\n        for (Units unit : units) {\r\n            for (UniteLine unitLine: unitLine.getUnitLines()) {\r\n                lookupResults = findLookup(LOOKUP_CODE, unitLine.getCode());\r\n                if (lookupResults != null &amp;&amp; !lookupResults.isEmpty()) {\r\n                    someObject.setType(TYPE1);\r\n                    break outerloop;\r\n                } else {\r\n                    someObject.setType(TYPE2);\r\n                    break outerloop;\r\n                }\r\n            }\r\n        }","title":"How to rewrite my code with streams - could it be even done?","body":"<p>I produced this nested loops solution with label for breaking the iteration over two nested collections. Is there (and I hope there is) some more elegant solution that this? (e.g. streams, avoiding the label etc.?)</p>\n<p>This algorithm should only check the first unitLine from the first unit and if there are some lookupResults the algorithm setType(TYPE1) else setType(TYPE2). So I know in advance that I need to check only first object from both collection and then I can quit.</p>\n<p>Thank you!</p>\n<pre><code>List&lt;String&gt; lookupResults;\n    outerloop:\n    for (Units unit : units) {\n        for (UniteLine unitLine: unitLine.getUnitLines()) {\n            lookupResults = findLookup(LOOKUP_CODE, unitLine.getCode());\n            if (lookupResults != null &amp;&amp; !lookupResults.isEmpty()) {\n                someObject.setType(TYPE1);\n                break outerloop;\n            } else {\n                someObject.setType(TYPE2);\n                break outerloop;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1634564336,"post_id":69616914,"comment_id":123051719,"body_markdown":"If you want to convert `${entry.key}` to its value before you concatenate it with the prefix, then you can use [Thymeleaf preprocessing](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#preprocessing). For example: `${&#39;somePrefix_&#39; + __${entry.key}__}`.","body":"If you want to convert <code>${entry.key}</code> to its value before you concatenate it with the prefix, then you can use <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#preprocessing\" rel=\"nofollow noreferrer\">Thymeleaf preprocessing</a>. For example: <code>${&#39;somePrefix_&#39; + __${entry.key}__}</code>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1634564380,"post_id":69616914,"comment_id":123051743,"body_markdown":"See also [Thymeleaf concatenation preprocessing:](https://stackoverflow.com/questions/46000447/thymeleaf-concatenation-preprocessing) and similar questions &amp; answers for more examples.","body":"See also <a href=\"https://stackoverflow.com/questions/46000447/thymeleaf-concatenation-preprocessing\">Thymeleaf concatenation preprocessing:</a> and similar questions &amp; answers for more examples."}],"owner":{"account_id":12263531,"reputation":11,"user_id":8950602,"display_name":"Leon Fadljević"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634563422,"creation_date":1634563422,"question_id":69616914,"body_markdown":"I am trying to access a specific model attribute value which name depends on an element value coming from the loop which I am iterating over.\r\n\r\nDoes thymeleaf supports something like this:\r\n\r\n```\r\n&lt;p th:if=&quot;${&#39;somePrefix_&#39; + ${entry.key}} != null&quot;&gt;Write if condition is met.&lt;/p&gt;\r\n```","title":"Does thymeleaf support dynamic model attribute names?","body":"<p>I am trying to access a specific model attribute value which name depends on an element value coming from the loop which I am iterating over.</p>\n<p>Does thymeleaf supports something like this:</p>\n<pre><code>&lt;p th:if=&quot;${'somePrefix_' + ${entry.key}} != null&quot;&gt;Write if condition is met.&lt;/p&gt;\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":15658483,"reputation":131,"user_id":11297958,"display_name":"Kalma"},"score":0,"creation_date":1601483133,"post_id":63820263,"comment_id":113424479,"body_markdown":"SOLVED: just remove &quot;static&quot; from everywhere","body":"SOLVED: just remove &quot;static&quot; from everywhere"},{"owner":{"account_id":9115426,"reputation":25155,"user_id":6782707,"accept_rate":100,"display_name":"Edric"},"score":0,"creation_date":1603784769,"post_id":63820263,"comment_id":114138417,"body_markdown":"Please consider posting your comment as a proper answer such that others will see that it&#39;s already been answered.","body":"Please consider posting your comment as a proper answer such that others will see that it&#39;s already been answered."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634563134,"creation_date":1634563134,"answer_id":69616848,"question_id":63820263,"body_markdown":"(from comment)\r\n\r\nRemove &quot;*static*&quot; from everywhere","title":"Can&#39;t register Custom Sword on multi-player","body":"<p>(from comment)</p>\n<p>Remove &quot;<em>static</em>&quot; from everywhere</p>\n"}],"owner":{"account_id":15658483,"reputation":131,"user_id":11297958,"display_name":"Kalma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634563134,"creation_date":1599689775,"question_id":63820263,"body_markdown":"After some big &quot;nooby&quot; mistakes messing around client and server sides (I edited my previous thread), I think I got it working properly.\r\nThe problem now is that my custom item registration does not seem to work (it does not fail, just seems to have no effect). I don&#39;t get to find examples for how to correctly do it on Forge 1.14.4 version, so any help or idea is highly appreciated.\r\n\r\nIf I test it on single player mode (from Eclipse environment), it works perfectly, but not when I run a forge server (again, no errors or debug outputs anywhere).\r\n\r\nEDIT:\r\nI changed to the other registration method (using DeferredRegister and RegistryObject)... same result :( It works perfect in single-player, but has no effect on server side.\r\n\r\nThis is my NEW register method inside my main class:\r\n\r\n    @Mod(&quot;simpleclock&quot;)\r\n    public class SimpleClock {\r\n    \t\r\n    \tpublic static final String MODID = &quot;simpleclock&quot;;\r\n    \tpublic static final String NAME = &quot;alef&#39;s Simple Clock&quot;;\r\n    \tpublic static final String VERSION = &quot;1.5.5&quot;;\r\n    \t\r\n        private static final Logger LOGGER = LogManager.getLogger();\r\n        \r\n        public static World WORLD;\r\n    \tpublic static PlayerEntity PLAYER;\r\n    \tpublic static final Item TIMESWORD = new SwordItem(TimeSwordTier.time_sword, 0, -2, new Item.Properties().group(ItemGroup.COMBAT));\r\n    \t\r\n    \tpublic static final DeferredRegister&lt;Item&gt; CONTAINER = new DeferredRegister&lt;&gt;(ForgeRegistries.ITEMS, MODID);\r\n    \tpublic static final RegistryObject&lt;Item&gt; ITEM = CONTAINER.register(&quot;time_sword&quot;, () -&gt; TIMESWORD);\r\n    \t\r\n    \tpublic SimpleClock() {\r\n            // Register the setup method for modloading\r\n            FMLJavaModLoadingContext.get().getModEventBus().addListener(this::setup);\r\n            // Register the doClientStuff method for modloading\r\n            FMLJavaModLoadingContext.get().getModEventBus().addListener(this::doClientStuff);\r\n            // Register the enqueueIMC method for modloading\r\n            FMLJavaModLoadingContext.get().getModEventBus().addListener(this::enqueueIMC);\r\n            // Register the processIMC method for modloading\r\n            FMLJavaModLoadingContext.get().getModEventBus().addListener(this::processIMC);\r\n    \r\n            // Register ourselves for server and other game events we are interested in\r\n            MinecraftForge.EVENT_BUS.register(this);\r\n            \r\n            // Register items and other stuff\r\n            CONTAINER.register(FMLJavaModLoadingContext.get().getModEventBus());\r\n            \r\n            // Load config file\r\n            ModLoadingContext.get().registerConfig(net.minecraftforge.fml.config.ModConfig.Type.COMMON, ConfigFile.spec);\r\n        }\r\n\r\n\r\n\r\nThis is my TimeSwordTier class:\r\n\r\n    public enum TimeSwordTier implements IItemTier {\r\n    \r\n        time_sword(5.0f, 9.0f, 5000, 3, 25, null);\r\n    \r\n        private float attackDamage, efficiency;\r\n        private int durability, harvestLevel, enchantability;\r\n        private Item repairMaterial;\r\n        private static double knockback = 1.5;\r\n    \r\n        private TimeSwordTier(float attackDamage, float efficiency, int durability, int harvestLevel, int enchantability, Item repairMaterial) {\r\n            this.attackDamage = attackDamage;\r\n            this.efficiency = efficiency;\r\n            this.durability = durability;\r\n            this.harvestLevel = harvestLevel;\r\n            this.enchantability = enchantability;\r\n            this.repairMaterial = repairMaterial;\r\n        }\r\n    \r\n        @Override\r\n        public float getAttackDamage()\r\n        {\r\n            return this.attackDamage;\r\n        }\r\n    \r\n        @Override\r\n        public float getEfficiency()\r\n        {\r\n            return this.efficiency;\r\n        }\r\n    \r\n        @Override\r\n        public int getEnchantability()\r\n        {\r\n            return this.enchantability;\r\n        }\r\n    \r\n        @Override\r\n        public int getHarvestLevel()\r\n        {\r\n            return this.harvestLevel;\r\n        }\r\n    \r\n        @Override\r\n        public int getMaxUses()\r\n        {\r\n            return this.durability;\r\n        }\r\n    \r\n        @Override\r\n        public Ingredient getRepairMaterial()\r\n        {\r\n            return Ingredient.fromItems(this.repairMaterial);\r\n        }\r\n        \r\n        public static double getKnockback()\r\n        {\r\n        \treturn TimeSwordTier.knockback;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Can&#39;t register Custom Sword on multi-player","body":"<p>After some big &quot;nooby&quot; mistakes messing around client and server sides (I edited my previous thread), I think I got it working properly.\nThe problem now is that my custom item registration does not seem to work (it does not fail, just seems to have no effect). I don't get to find examples for how to correctly do it on Forge 1.14.4 version, so any help or idea is highly appreciated.</p>\n<p>If I test it on single player mode (from Eclipse environment), it works perfectly, but not when I run a forge server (again, no errors or debug outputs anywhere).</p>\n<p>EDIT:\nI changed to the other registration method (using DeferredRegister and RegistryObject)... same result :( It works perfect in single-player, but has no effect on server side.</p>\n<p>This is my NEW register method inside my main class:</p>\n<pre><code>@Mod(&quot;simpleclock&quot;)\npublic class SimpleClock {\n    \n    public static final String MODID = &quot;simpleclock&quot;;\n    public static final String NAME = &quot;alef's Simple Clock&quot;;\n    public static final String VERSION = &quot;1.5.5&quot;;\n    \n    private static final Logger LOGGER = LogManager.getLogger();\n    \n    public static World WORLD;\n    public static PlayerEntity PLAYER;\n    public static final Item TIMESWORD = new SwordItem(TimeSwordTier.time_sword, 0, -2, new Item.Properties().group(ItemGroup.COMBAT));\n    \n    public static final DeferredRegister&lt;Item&gt; CONTAINER = new DeferredRegister&lt;&gt;(ForgeRegistries.ITEMS, MODID);\n    public static final RegistryObject&lt;Item&gt; ITEM = CONTAINER.register(&quot;time_sword&quot;, () -&gt; TIMESWORD);\n    \n    public SimpleClock() {\n        // Register the setup method for modloading\n        FMLJavaModLoadingContext.get().getModEventBus().addListener(this::setup);\n        // Register the doClientStuff method for modloading\n        FMLJavaModLoadingContext.get().getModEventBus().addListener(this::doClientStuff);\n        // Register the enqueueIMC method for modloading\n        FMLJavaModLoadingContext.get().getModEventBus().addListener(this::enqueueIMC);\n        // Register the processIMC method for modloading\n        FMLJavaModLoadingContext.get().getModEventBus().addListener(this::processIMC);\n\n        // Register ourselves for server and other game events we are interested in\n        MinecraftForge.EVENT_BUS.register(this);\n        \n        // Register items and other stuff\n        CONTAINER.register(FMLJavaModLoadingContext.get().getModEventBus());\n        \n        // Load config file\n        ModLoadingContext.get().registerConfig(net.minecraftforge.fml.config.ModConfig.Type.COMMON, ConfigFile.spec);\n    }\n</code></pre>\n<p>This is my TimeSwordTier class:</p>\n<pre><code>public enum TimeSwordTier implements IItemTier {\n\n    time_sword(5.0f, 9.0f, 5000, 3, 25, null);\n\n    private float attackDamage, efficiency;\n    private int durability, harvestLevel, enchantability;\n    private Item repairMaterial;\n    private static double knockback = 1.5;\n\n    private TimeSwordTier(float attackDamage, float efficiency, int durability, int harvestLevel, int enchantability, Item repairMaterial) {\n        this.attackDamage = attackDamage;\n        this.efficiency = efficiency;\n        this.durability = durability;\n        this.harvestLevel = harvestLevel;\n        this.enchantability = enchantability;\n        this.repairMaterial = repairMaterial;\n    }\n\n    @Override\n    public float getAttackDamage()\n    {\n        return this.attackDamage;\n    }\n\n    @Override\n    public float getEfficiency()\n    {\n        return this.efficiency;\n    }\n\n    @Override\n    public int getEnchantability()\n    {\n        return this.enchantability;\n    }\n\n    @Override\n    public int getHarvestLevel()\n    {\n        return this.harvestLevel;\n    }\n\n    @Override\n    public int getMaxUses()\n    {\n        return this.durability;\n    }\n\n    @Override\n    public Ingredient getRepairMaterial()\n    {\n        return Ingredient.fromItems(this.repairMaterial);\n    }\n    \n    public static double getKnockback()\n    {\n        return TimeSwordTier.knockback;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634562843,"creation_date":1634562843,"answer_id":69616766,"question_id":69616211,"body_markdown":"You were almost correct. \r\n\r\nthe xpath that you are using \r\n\r\n    //a[@class=&#39;ui-button ui-corner-all ui-widget&#39; and text()=&#39;Validate&#39;]\r\n\r\nis partially correct. There are **trailing spaces for text Validate**, so you&#39;d have to use `contains` \r\n\r\nUse this xpath :\r\n\r\n    //a[@class=&#39;ui-button ui-corner-all ui-widget&#39; and contains(text(),&#39;Validate&#39;)]\r\n\r\n\r\n\r\n**PS :** Please check in the `dev tools` (Google chrome) if we have **unique** entry in `HTML DOM` or not.\r\n\r\n**Steps to check:**\r\n\r\n`Press F12 in Chrome` -&gt; go to `element` section -&gt; do a `CTRL  + F` -&gt; then paste the `xpath` and see, if your desired `element` is getting **highlighted** with `1/1` matching node.\r\n\r\nSince you&#39;ve mentioned you do not wanna use xpath, not sure why though ? \r\n\r\nIf that is the case then please use css selector like this :\r\n\r\n\r\n\r\n    a.ui-button.ui-corner-all.ui-widget[role=&#39;button&#39;][href^=&#39;validatedocumentation.php?&#39;]","title":"Find web element (button) by class and Name","body":"<p>You were almost correct.</p>\n<p>the xpath that you are using</p>\n<pre><code>//a[@class='ui-button ui-corner-all ui-widget' and text()='Validate']\n</code></pre>\n<p>is partially correct. There are <strong>trailing spaces for text Validate</strong>, so you'd have to use <code>contains</code></p>\n<p>Use this xpath :</p>\n<pre><code>//a[@class='ui-button ui-corner-all ui-widget' and contains(text(),'Validate')]\n</code></pre>\n<p><strong>PS :</strong> Please check in the <code>dev tools</code> (Google chrome) if we have <strong>unique</strong> entry in <code>HTML DOM</code> or not.</p>\n<p><strong>Steps to check:</strong></p>\n<p><code>Press F12 in Chrome</code> -&gt; go to <code>element</code> section -&gt; do a <code>CTRL  + F</code> -&gt; then paste the <code>xpath</code> and see, if your desired <code>element</code> is getting <strong>highlighted</strong> with <code>1/1</code> matching node.</p>\n<p>Since you've mentioned you do not wanna use xpath, not sure why though ?</p>\n<p>If that is the case then please use css selector like this :</p>\n<pre><code>a.ui-button.ui-corner-all.ui-widget[role='button'][href^='validatedocumentation.php?']\n</code></pre>\n"}],"owner":{"account_id":22860528,"reputation":133,"user_id":17004692,"display_name":"Vladislav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69616766,"answer_count":1,"score":1,"last_activity_date":1634563033,"creation_date":1634560643,"question_id":69616211,"body_markdown":"I am very new to Selenium.\r\n\r\nI am trying to find button Validate (see below) and not to use xpath.\r\n\r\n    &lt;div class=&quot;order&quot;&gt;\r\n    &lt;a style=&quot;float: left;&quot; href=&quot;#143207&quot; class=&quot;VoidDoc ui-button ui-corner-all ui-widget&quot; role=&quot;button&quot;&gt; Void &lt;/a&gt;\r\n    &lt;a style=&quot;float: left;&quot; href=&quot;validatedocumentation.php?documentId=143207&amp;amp;origin=viewreferral.php&amp;amp;OrderId=836829&quot; class=&quot;ui-button ui-corner-all ui-widget&quot; role=&quot;button&quot;&gt; Validate &lt;/a&gt;\r\n    &lt;a class=&quot;signDocBehalf ui-button ui-corner-all ui-widget&quot; style=&quot;float: left;&quot; href=&quot;#143207#20263#836829&quot; role=&quot;button&quot;&gt;Sign&lt;/a&gt;\r\n    &lt;a style=&quot;float: left;&quot; href=&quot;editdocumentation.php?documentId=143207&amp;amp;origin=viewreferral.php&quot; class=&quot;ui-button ui-corner-all ui-widget&quot; role=&quot;button&quot;&gt; Edit &lt;/a&gt;\r\n    &lt;/div&gt;\r\n\r\nI tried to look by a class name (unfortunately not unique) and text of the button (&quot;Validate&quot;):\r\n\r\n    .....Driver.findElement(By.xpath(&quot;//a[@class=&#39;ui-button ui-corner-all ui-widget&#39; and text()=&#39;Validate&#39;]&quot;)).click();\r\n\r\nalso I tried \r\n\r\n    .....Driver.findElement(By.xpath(&quot;//div[@class=&#39;ui-button ui-corner-all ui-widget&#39; and text()=&#39;Validate&#39;]&quot;)).click();\r\n\r\ngetting an error: \r\n\r\n    no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//div[@class=&#39;ui-button ui-corner-all ui-widget&#39; and text()=&#39;Validate&#39;]&quot;}\r\n      (Session info: chrome=94.0.4606.81)\r\n\r\nI am guessing it is because `&quot;&lt;a&gt;&quot; is nested in &quot;&lt;div&gt;&quot;` , correct me if I am wrong. \r\n \r\nHow it would be right to identify this button.\r\n\r\nPlease, give me your kind advice. \r\n\r\n\r\n\r\n","title":"Find web element (button) by class and Name","body":"<p>I am very new to Selenium.</p>\n<p>I am trying to find button Validate (see below) and not to use xpath.</p>\n<pre><code>&lt;div class=&quot;order&quot;&gt;\n&lt;a style=&quot;float: left;&quot; href=&quot;#143207&quot; class=&quot;VoidDoc ui-button ui-corner-all ui-widget&quot; role=&quot;button&quot;&gt; Void &lt;/a&gt;\n&lt;a style=&quot;float: left;&quot; href=&quot;validatedocumentation.php?documentId=143207&amp;amp;origin=viewreferral.php&amp;amp;OrderId=836829&quot; class=&quot;ui-button ui-corner-all ui-widget&quot; role=&quot;button&quot;&gt; Validate &lt;/a&gt;\n&lt;a class=&quot;signDocBehalf ui-button ui-corner-all ui-widget&quot; style=&quot;float: left;&quot; href=&quot;#143207#20263#836829&quot; role=&quot;button&quot;&gt;Sign&lt;/a&gt;\n&lt;a style=&quot;float: left;&quot; href=&quot;editdocumentation.php?documentId=143207&amp;amp;origin=viewreferral.php&quot; class=&quot;ui-button ui-corner-all ui-widget&quot; role=&quot;button&quot;&gt; Edit &lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n<p>I tried to look by a class name (unfortunately not unique) and text of the button (&quot;Validate&quot;):</p>\n<pre><code>.....Driver.findElement(By.xpath(&quot;//a[@class='ui-button ui-corner-all ui-widget' and text()='Validate']&quot;)).click();\n</code></pre>\n<p>also I tried</p>\n<pre><code>.....Driver.findElement(By.xpath(&quot;//div[@class='ui-button ui-corner-all ui-widget' and text()='Validate']&quot;)).click();\n</code></pre>\n<p>getting an error:</p>\n<pre><code>no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//div[@class='ui-button ui-corner-all ui-widget' and text()='Validate']&quot;}\n  (Session info: chrome=94.0.4606.81)\n</code></pre>\n<p>I am guessing it is because <code>&quot;&lt;a&gt;&quot; is nested in &quot;&lt;div&gt;&quot;</code> , correct me if I am wrong.</p>\n<p>How it would be right to identify this button.</p>\n<p>Please, give me your kind advice.</p>\n"},{"tags":["java","sql","sqlite"],"answers":[{"tags":[],"owner":{"account_id":4097090,"reputation":460,"user_id":3363541,"accept_rate":100,"display_name":"conan_z"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397835153,"creation_date":1397835153,"answer_id":23157289,"question_id":23157184,"body_markdown":"If you are executing the exact same code, then I guess the problem is you are creating same table twice.\r\n\r\nIt went well for the first time because there is no such table in the database. It failed on the second time because there is already an exactly same table named `COMPANY`.","title":"Java and SQLite [SQLITE_ERROR] SQL error or missing database ()","body":"<p>If you are executing the exact same code, then I guess the problem is you are creating same table twice.</p>\n\n<p>It went well for the first time because there is no such table in the database. It failed on the second time because there is already an exactly same table named <code>COMPANY</code>.</p>\n"},{"tags":[],"owner":{"account_id":4243580,"reputation":488,"user_id":3494407,"display_name":"mordack550"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1397835510,"creation_date":1397835510,"answer_id":23157388,"question_id":23157184,"body_markdown":"Your question is not so detailed. \r\nWhat do you have to do for get a normal situation again? Do you have to delete you DB file?\r\n\r\nAnyway, I would say that the error is caused by the table already existing in the Database.\r\nIf you want to try a simple query for debug purpose, just try\r\n\r\n    SELECT date(&#39;now&#39;);\r\n\r\nor something not dependant on the DB structure. \r\nTry a generic query or check if the table exists and drop it before re-creating it.","title":"Java and SQLite [SQLITE_ERROR] SQL error or missing database ()","body":"<p>Your question is not so detailed. \nWhat do you have to do for get a normal situation again? Do you have to delete you DB file?</p>\n\n<p>Anyway, I would say that the error is caused by the table already existing in the Database.\nIf you want to try a simple query for debug purpose, just try</p>\n\n<pre><code>SELECT date('now');\n</code></pre>\n\n<p>or something not dependant on the DB structure. \nTry a generic query or check if the table exists and drop it before re-creating it.</p>\n"},{"tags":[],"owner":{"account_id":7786675,"reputation":610,"user_id":5891226,"accept_rate":20,"display_name":"Chetan Bhagat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484226597,"creation_date":1484226597,"answer_id":41614092,"question_id":23157184,"body_markdown":"First way your table name **COMPANY as already exists**\r\nso \r\nyou can not create same table name(COMPANY) with same database like test\r\n \r\nand\r\nsecond you can write proper or **full getconnection URL** like\r\n\t\r\n\tConnection con = null;\r\n\tClass.forName(&quot;org.sqlite.JDBC&quot;);\r\n\t//getConnection(String url)\r\n    con = DriverManager.getConnection(&quot;jdbc:sqlite:C:\\\\Documents and Settings\\\\demo\\\\Test_demo.db&quot;);\r\n\t\t\t//SQL error or missing database \r\n    System.out.println(&quot;Operation done successfully&quot;);","title":"Java and SQLite [SQLITE_ERROR] SQL error or missing database ()","body":"<p>First way your table name <strong>COMPANY as already exists</strong>\nso \nyou can not create same table name(COMPANY) with same database like test</p>\n\n<p>and\nsecond you can write proper or <strong>full getconnection URL</strong> like</p>\n\n<pre><code>Connection con = null;\nClass.forName(\"org.sqlite.JDBC\");\n//getConnection(String url)\ncon = DriverManager.getConnection(\"jdbc:sqlite:C:\\\\Documents and Settings\\\\demo\\\\Test_demo.db\");\n        //SQL error or missing database \nSystem.out.println(\"Operation done successfully\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5910752,"reputation":460,"user_id":4651104,"display_name":"Mohammed Sarfaraz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517993709,"creation_date":1517768791,"answer_id":48611575,"question_id":23157184,"body_markdown":"I think you should answer this question by seeing the code.You are creating the Table on boot and again you are running the same query twice.It is bound to happened.Either you drop the table and recreate or check the table it it exist and then add.\r\n\r\nOther Case: This error also happens if your connection string is wrong.The URL which is pointing to SQLite db file.I suggest you place it in resource folder and access as below\r\n public static String connectionString = &quot;jdbc:sqlite::resource:localdata.db&quot;;","title":"Java and SQLite [SQLITE_ERROR] SQL error or missing database ()","body":"<p>I think you should answer this question by seeing the code.You are creating the Table on boot and again you are running the same query twice.It is bound to happened.Either you drop the table and recreate or check the table it it exist and then add.</p>\n\n<p>Other Case: This error also happens if your connection string is wrong.The URL which is pointing to SQLite db file.I suggest you place it in resource folder and access as below\n public static String connectionString = \"jdbc:sqlite::resource:localdata.db\";</p>\n"},{"tags":[],"owner":{"account_id":13824103,"reputation":29,"user_id":9978860,"display_name":"Geeky64"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634562946,"creation_date":1555394609,"answer_id":55701505,"question_id":23157184,"body_markdown":"The error caused by the fact that SQL, creates the exact table every time it runs. Which does not conform best SQL practices.\r\n\r\nIn your SQL Query, Change the \r\n\r\n    &quot;CREATE TABLE COMPANY &quot; +\r\n           &quot;(ID INT PRIMARY KEY     NOT NULL,&quot; +\r\n            &quot; NAME           TEXT    NOT NULL, &quot; + \r\n            &quot; AGE            INT     NOT NULL, &quot; + \r\n            &quot; ADDRESS        CHAR(50), &quot; + \r\n            &quot; SALARY         REAL)&quot;;\r\n    \r\n    to\r\n    \r\n    &quot;CREATE TABLE IF NOT EXISTS COMPANY &quot; +\r\n            &quot;(ID INT PRIMARY KEY     NOT NULL,&quot; +\r\n            &quot; NAME           TEXT    NOT NULL, &quot; + \r\n            &quot; AGE            INT     NOT NULL, &quot; + \r\n            &quot; ADDRESS        CHAR(50), &quot; + \r\n            &quot; SALARY         REAL)&quot;;\r\n\r\nThe IF NOT EXIST statement checks if the table exists if no, it creates a new one else it  skips creating the table.","title":"Java and SQLite [SQLITE_ERROR] SQL error or missing database ()","body":"<p>The error caused by the fact that SQL, creates the exact table every time it runs. Which does not conform best SQL practices.</p>\n<p>In your SQL Query, Change the</p>\n<pre><code>&quot;CREATE TABLE COMPANY &quot; +\n       &quot;(ID INT PRIMARY KEY     NOT NULL,&quot; +\n        &quot; NAME           TEXT    NOT NULL, &quot; + \n        &quot; AGE            INT     NOT NULL, &quot; + \n        &quot; ADDRESS        CHAR(50), &quot; + \n        &quot; SALARY         REAL)&quot;;\n\nto\n\n&quot;CREATE TABLE IF NOT EXISTS COMPANY &quot; +\n        &quot;(ID INT PRIMARY KEY     NOT NULL,&quot; +\n        &quot; NAME           TEXT    NOT NULL, &quot; + \n        &quot; AGE            INT     NOT NULL, &quot; + \n        &quot; ADDRESS        CHAR(50), &quot; + \n        &quot; SALARY         REAL)&quot;;\n</code></pre>\n<p>The IF NOT EXIST statement checks if the table exists if no, it creates a new one else it  skips creating the table.</p>\n"}],"owner":{"account_id":1266647,"reputation":1230,"user_id":1223817,"accept_rate":90,"display_name":"Mitro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28075,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23157388,"answer_count":5,"score":2,"last_activity_date":1634562946,"creation_date":1397834769,"question_id":23157184,"body_markdown":"I&#39;m trying SQLite with Java, this is the first time using both together, here is the code:\r\n\r\n    package db;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.Statement;\r\n    \r\n    /**\r\n     *\r\n     * @author Alessio\r\n     */\r\n    public class DB {\r\n    \r\n        public static void main(String[] args){\r\n            Connection c = null;\r\n            Statement stmt = null;\r\n            try{\r\n                Class.forName(&quot;org.sqlite.JDBC&quot;);\r\n                c = DriverManager.getConnection(&quot;jdbc:sqlite:test.db&quot;);\r\n                stmt = c.createStatement();\r\n                String sql = &quot;CREATE TABLE COMPANY &quot; +\r\n                       &quot;(ID INT PRIMARY KEY     NOT NULL,&quot; +\r\n                       &quot; NAME           TEXT    NOT NULL, &quot; + \r\n                       &quot; AGE            INT     NOT NULL, &quot; + \r\n                       &quot; ADDRESS        CHAR(50), &quot; + \r\n                       &quot; SALARY         REAL)&quot;; \r\n                stmt.executeUpdate(sql);\r\n                stmt.close();\r\n                c.close();\r\n            }\r\n            catch(Exception e){\r\n                System.err.println(e.getClass().getName() + &quot;: &quot; + e.getMessage());\r\n                System.exit(0);\r\n            }\r\n            System.out.println(&quot;Database opened succesfully!!!&quot;);\r\n        }\r\n        \r\n    }\r\n\r\nWhen I run the code for the first time I have any error, my result in console is:\r\n\r\n    run:\r\n    Database opened succesfully!!!\r\n    BUILD SUCCESSFUL (total time: 1 second)\r\n\r\nwhile the second time I get\r\n\r\n    run:\r\n    java.sql.SQLException: [SQLITE_ERROR] SQL error or missing database ()\r\n    BUILD SUCCESSFUL (total time: 1 second)\r\n\r\nWhat am I doing wrong?\r\n\r\n","title":"Java and SQLite [SQLITE_ERROR] SQL error or missing database ()","body":"<p>I'm trying SQLite with Java, this is the first time using both together, here is the code:</p>\n\n<pre><code>package db;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.Statement;\n\n/**\n *\n * @author Alessio\n */\npublic class DB {\n\n    public static void main(String[] args){\n        Connection c = null;\n        Statement stmt = null;\n        try{\n            Class.forName(\"org.sqlite.JDBC\");\n            c = DriverManager.getConnection(\"jdbc:sqlite:test.db\");\n            stmt = c.createStatement();\n            String sql = \"CREATE TABLE COMPANY \" +\n                   \"(ID INT PRIMARY KEY     NOT NULL,\" +\n                   \" NAME           TEXT    NOT NULL, \" + \n                   \" AGE            INT     NOT NULL, \" + \n                   \" ADDRESS        CHAR(50), \" + \n                   \" SALARY         REAL)\"; \n            stmt.executeUpdate(sql);\n            stmt.close();\n            c.close();\n        }\n        catch(Exception e){\n            System.err.println(e.getClass().getName() + \": \" + e.getMessage());\n            System.exit(0);\n        }\n        System.out.println(\"Database opened succesfully!!!\");\n    }\n\n}\n</code></pre>\n\n<p>When I run the code for the first time I have any error, my result in console is:</p>\n\n<pre><code>run:\nDatabase opened succesfully!!!\nBUILD SUCCESSFUL (total time: 1 second)\n</code></pre>\n\n<p>while the second time I get</p>\n\n<pre><code>run:\njava.sql.SQLException: [SQLITE_ERROR] SQL error or missing database ()\nBUILD SUCCESSFUL (total time: 1 second)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634562881,"creation_date":1634562881,"answer_id":69616778,"question_id":69615641,"body_markdown":"You ​can use reflection to call the appropriate method. Try replacing the line with the compilation error with the following two lines:\r\n\r\n```java\r\n       ​Method method = Converter.class.getMethod(&quot;convert&quot;, classByType.get(type));\r\n       ​when(method.invoke(converter, eq(myStuff))).thenReturn(thing);\r\n```\r\nIf the type of the method parameter isn&#39;t known at compile time, then reflection is the only way to go.\r\n","title":"How to use generic class with Mockito.when","body":"<p>You ​can use reflection to call the appropriate method. Try replacing the line with the compilation error with the following two lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>       ​Method method = Converter.class.getMethod(&quot;convert&quot;, classByType.get(type));\n       ​when(method.invoke(converter, eq(myStuff))).thenReturn(thing);\n</code></pre>\n<p>If the type of the method parameter isn't known at compile time, then reflection is the only way to go.</p>\n"}],"owner":{"account_id":390473,"reputation":2212,"user_id":750565,"accept_rate":69,"display_name":"why_vincent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69616778,"answer_count":1,"score":0,"last_activity_date":1634562881,"creation_date":1634558200,"question_id":69615641,"body_markdown":"I am trying to use a parameterized test and I want to use Mockito.when() the following scenario. I am not in a position where I can modify any code except for the test. I have put a comment on the line that is causing a compile error at the moment. I am having a hard time putting it into words, but basically I want to be able to mock the method without having access to the exact type during compile time.\r\n\r\nTest class:\r\n    \r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.junit.jupiter.params.ParameterizedTest;\r\n    import org.junit.jupiter.params.provider.EnumSource;\r\n    import org.mockito.ArgumentCaptor;\r\n    import org.mockito.Captor;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    \r\n    import java.util.Map;\r\n    \r\n    import static com.example.demo.Type.A;\r\n    import static com.example.demo.Type.B;\r\n    import static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\n    import static org.mockito.Mockito.*;\r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MyTest {\r\n    \r\n        private static final Map&lt;Type, Class&lt;? extends MyStuff&gt;&gt; classByType = Map.of(A, StuffA.class, B, StuffB.class);\r\n    \r\n        @InjectMocks\r\n        private Handler handler;\r\n    \r\n        @Mock\r\n        private Converter converter;\r\n    \r\n        @Mock\r\n        private Sender sender;\r\n    \r\n        @Captor\r\n        private ArgumentCaptor&lt;Thing&gt; thingArgumentCaptor;\r\n    \r\n        @ParameterizedTest\r\n        @EnumSource(value = Type.class)\r\n        void testHandle(Type type) {\r\n            MyStuff myStuff = mock(classByType.get(type));\r\n            Thing thing = mock(Thing.class);\r\n            when(myStuff.getType()).thenReturn(type);\r\n            when(converter.convert(classByType.get(type).cast(type))).thenReturn(thing); // This line is causing the compile error\r\n    \r\n            handler.handle(myStuff);\r\n    \r\n            verify(sender).send(thingArgumentCaptor.capture());\r\n            assertThat(thingArgumentCaptor.getValue()).isEqualTo(thing);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nClass under test:\r\n\r\n    public class Handler {\r\n    \r\n        private final Converter converter;\r\n        private final Sender sender;\r\n    \r\n        public Handler(Converter converter, Sender sender) {\r\n            this.converter = converter;\r\n            this.sender = sender;\r\n        }\r\n    \r\n        public void handle(MyStuff myStuff) {\r\n            Thing thing;\r\n            switch (myStuff.getType()) {\r\n                case A:\r\n                    thing = converter.convert((StuffA) myStuff);\r\n                    break;\r\n                case B:\r\n                    thing = converter.convert((StuffB) myStuff);\r\n                    break;\r\n                default:\r\n                    throw new RuntimeException();\r\n            }\r\n            sender.send(thing);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nDomain object:\r\n\r\n    public abstract class MyStuff {\r\n        public abstract Type getType();\r\n    }\r\n\r\nConverter:\r\n    \r\n    public interface Converter {\r\n        Thing convert(StuffA myType);\r\n    \r\n        Thing convert(StuffB myType);\r\n    }\r\n\r\nSender:\r\n\r\n    public interface Sender {\r\n        void send(Thing thing);\r\n    }\r\n\r\nType:\r\n\r\n    public enum Type {\r\n        A, B\r\n    }\r\n\r\nIs there any way to solve this without writing two separate test methods?\r\n\r\n\r\n\r\n\r\n","title":"How to use generic class with Mockito.when","body":"<p>I am trying to use a parameterized test and I want to use Mockito.when() the following scenario. I am not in a position where I can modify any code except for the test. I have put a comment on the line that is causing a compile error at the moment. I am having a hard time putting it into words, but basically I want to be able to mock the method without having access to the exact type during compile time.</p>\n<p>Test class:</p>\n<pre><code>import org.junit.jupiter.api.extension.ExtendWith;\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.EnumSource;\nimport org.mockito.ArgumentCaptor;\nimport org.mockito.Captor;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport java.util.Map;\n\nimport static com.example.demo.Type.A;\nimport static com.example.demo.Type.B;\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\nimport static org.mockito.Mockito.*;\n\n@ExtendWith(MockitoExtension.class)\npublic class MyTest {\n\n    private static final Map&lt;Type, Class&lt;? extends MyStuff&gt;&gt; classByType = Map.of(A, StuffA.class, B, StuffB.class);\n\n    @InjectMocks\n    private Handler handler;\n\n    @Mock\n    private Converter converter;\n\n    @Mock\n    private Sender sender;\n\n    @Captor\n    private ArgumentCaptor&lt;Thing&gt; thingArgumentCaptor;\n\n    @ParameterizedTest\n    @EnumSource(value = Type.class)\n    void testHandle(Type type) {\n        MyStuff myStuff = mock(classByType.get(type));\n        Thing thing = mock(Thing.class);\n        when(myStuff.getType()).thenReturn(type);\n        when(converter.convert(classByType.get(type).cast(type))).thenReturn(thing); // This line is causing the compile error\n\n        handler.handle(myStuff);\n\n        verify(sender).send(thingArgumentCaptor.capture());\n        assertThat(thingArgumentCaptor.getValue()).isEqualTo(thing);\n    }\n\n\n}\n</code></pre>\n<p>Class under test:</p>\n<pre><code>public class Handler {\n\n    private final Converter converter;\n    private final Sender sender;\n\n    public Handler(Converter converter, Sender sender) {\n        this.converter = converter;\n        this.sender = sender;\n    }\n\n    public void handle(MyStuff myStuff) {\n        Thing thing;\n        switch (myStuff.getType()) {\n            case A:\n                thing = converter.convert((StuffA) myStuff);\n                break;\n            case B:\n                thing = converter.convert((StuffB) myStuff);\n                break;\n            default:\n                throw new RuntimeException();\n        }\n        sender.send(thing);\n\n    }\n}\n</code></pre>\n<p>Domain object:</p>\n<pre><code>public abstract class MyStuff {\n    public abstract Type getType();\n}\n</code></pre>\n<p>Converter:</p>\n<pre><code>public interface Converter {\n    Thing convert(StuffA myType);\n\n    Thing convert(StuffB myType);\n}\n</code></pre>\n<p>Sender:</p>\n<pre><code>public interface Sender {\n    void send(Thing thing);\n}\n</code></pre>\n<p>Type:</p>\n<pre><code>public enum Type {\n    A, B\n}\n</code></pre>\n<p>Is there any way to solve this without writing two separate test methods?</p>\n"},{"tags":["java","android-studio","hashmap","key-value"],"answers":[{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634562759,"creation_date":1634562759,"answer_id":69616741,"question_id":69616660,"body_markdown":"I would recommend you to make a Range wrapper class and lookup the value for a key in the range;\r\nThis might help: https://stackoverflow.com/a/1314708/10052779","title":"How can i distribute prize to the winners in my game app?","body":"<p>I would recommend you to make a Range wrapper class and lookup the value for a key in the range;\nThis might help: <a href=\"https://stackoverflow.com/a/1314708/10052779\">https://stackoverflow.com/a/1314708/10052779</a></p>\n"},{"tags":[],"owner":{"account_id":15508828,"reputation":186,"user_id":17177800,"display_name":"James E"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634562877,"creation_date":1634562877,"answer_id":69616776,"question_id":69616660,"body_markdown":"Well you could do a few loops if you want to use HashMaps.\r\n\r\n    HashMap&lt;Integer, Integer&gt; distribution = new HashMap&lt;&gt;();\r\n    //first and second place\r\n    distribution.add(1,50000); \r\n    distribution.add(2,40000);\r\n\r\n    //3rd through 50th place\r\n    for(int i = 3; i &lt; 51; i++) \r\n        distribution.add(i,20000);\r\n\r\n    //51 through 200th place\r\n    for(int i = 51; i &lt; 201; i++) \r\n        distribution.add(i, 5000);\r\n\r\n    //201 through 500th place\r\n    for (int i = 201; i &lt; 501; i++)\r\n        distribution.add(i, 1000);\r\n\r\nand tada you are done! However, unless you want it to run every single time, I would make distribution a static variable so you only have to run it once and it will stay for every run after that.","title":"How can i distribute prize to the winners in my game app?","body":"<p>Well you could do a few loops if you want to use HashMaps.</p>\n<pre><code>HashMap&lt;Integer, Integer&gt; distribution = new HashMap&lt;&gt;();\n//first and second place\ndistribution.add(1,50000); \ndistribution.add(2,40000);\n\n//3rd through 50th place\nfor(int i = 3; i &lt; 51; i++) \n    distribution.add(i,20000);\n\n//51 through 200th place\nfor(int i = 51; i &lt; 201; i++) \n    distribution.add(i, 5000);\n\n//201 through 500th place\nfor (int i = 201; i &lt; 501; i++)\n    distribution.add(i, 1000);\n</code></pre>\n<p>and tada you are done! However, unless you want it to run every single time, I would make distribution a static variable so you only have to run it once and it will stay for every run after that.</p>\n"}],"owner":{"account_id":22939474,"reputation":31,"user_id":17072466,"display_name":"Avni Krtigya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69616776,"answer_count":2,"score":-1,"last_activity_date":1634562877,"creation_date":1634562458,"question_id":69616660,"body_markdown":"I am making a knowledge based game , in which user participate and  if they win and get their rank within criteria they earn  gems , coins etc.\r\n\r\nExample- A game in which their are **500** participants , and predefined Prize Distribution is  Like... \r\n\r\n```\r\nRank 1 gets 50000 coins\r\nRank 2 gets 40000 coins\r\nRank 3 to 50 gets 20000 coins\r\nRank 51 to 200 gets 5000 coins\r\nRank 201 to 500 gets 1000coins\r\n```\r\n\r\n**If User plays the game and suppose he gets the rank 81 . So how can I  check the distribution and award him the prize i.e, 5000 coins.**\r\n\r\nCan i use Hashmap to create some kind of key-value pair ..as shown below..\r\n```\r\nHashMap&lt;Integer, Integer&gt; distribution = new HashMap&lt;&gt;();\r\ndistribution.add(1,50000);\r\n.\r\n.\r\n.\r\ndistribution.add(500,1000);\r\n```\r\n\r\nAny suggestions will boost my work.\r\n","title":"How can i distribute prize to the winners in my game app?","body":"<p>I am making a knowledge based game , in which user participate and  if they win and get their rank within criteria they earn  gems , coins etc.</p>\n<p>Example- A game in which their are <strong>500</strong> participants , and predefined Prize Distribution is  Like...</p>\n<pre><code>Rank 1 gets 50000 coins\nRank 2 gets 40000 coins\nRank 3 to 50 gets 20000 coins\nRank 51 to 200 gets 5000 coins\nRank 201 to 500 gets 1000coins\n</code></pre>\n<p><strong>If User plays the game and suppose he gets the rank 81 . So how can I  check the distribution and award him the prize i.e, 5000 coins.</strong></p>\n<p>Can i use Hashmap to create some kind of key-value pair ..as shown below..</p>\n<pre><code>HashMap&lt;Integer, Integer&gt; distribution = new HashMap&lt;&gt;();\ndistribution.add(1,50000);\n.\n.\n.\ndistribution.add(500,1000);\n</code></pre>\n<p>Any suggestions will boost my work.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8058,"page":1934,"page_size":100}
