{"items":[{"tags":["java","debugging","amazon-ec2"],"comments":[{"owner":{"account_id":2906804,"reputation":196,"user_id":2805630,"accept_rate":83,"display_name":"Yasasvee"},"score":0,"creation_date":1530266352,"post_id":51068635,"comment_id":89185592,"body_markdown":"If I understand this correctly, you are trying to connect via port 5005 and you get a connection refused, how are you trying to coonect to that EC2 instance, is it via a gateway or directly via a public IP?","body":"If I understand this correctly, you are trying to connect via port 5005 and you get a connection refused, how are you trying to coonect to that EC2 instance, is it via a gateway or directly via a public IP?"},{"owner":{"account_id":10162616,"reputation":141,"user_id":7505590,"display_name":"Maciej Rudnicki"},"score":0,"creation_date":1530390800,"post_id":51068635,"comment_id":89222592,"body_markdown":"Directly via a public IP. Port 5005 is open. Connecting to application via http (80) and ssh (22) goes without any problems. Debugging this app as local goes without any problem as well. It&#39;s occur when I&#39;m trying to connect when the app is behind EC2 VM and docker","body":"Directly via a public IP. Port 5005 is open. Connecting to application via http (80) and ssh (22) goes without any problems. Debugging this app as local goes without any problem as well. It&#39;s occur when I&#39;m trying to connect when the app is behind EC2 VM and docker"},{"owner":{"account_id":1279032,"reputation":3329,"user_id":1233600,"accept_rate":46,"display_name":"Nilotpal"},"score":0,"creation_date":1582040756,"post_id":51068635,"comment_id":106635364,"body_markdown":"Did you get the solution to this? If you get, please post it in answer section.","body":"Did you get the solution to this? If you get, please post it in answer section."}],"answers":[{"tags":[],"owner":{"account_id":9157971,"reputation":983,"user_id":6810327,"display_name":"Ron Shoshani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661163024,"creation_date":1661163024,"answer_id":73443434,"question_id":51068635,"body_markdown":"For those who are still interested, here is a way how to create a Remote JVM Debug on EC2 with docker\r\n 1. On the yaml file add the &#39;port&#39; attribute.\r\n&gt;      ports:\r\n&gt;          - &quot;5005:5005&quot;\r\n\r\n 2. To the dockerfile run the Jar with the following command\r\n\r\n&gt;     -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\r\n\r\n 3. On the inbound role on the EC2:\r\n\r\n&gt;     Cutsom TCP =&gt; 5005 =&gt; Your IP\r\n\r\n 4. In the Intellij create Remote JVM debug\r\n       - In the host enter the host ip \r\n       - Port: 5005 \r\n       - Choose JDK 9 or later as the address should be with *:5005\r\n5. Click the Debug Button and it should work\r\n\r\n","title":"Remote debug ec2 java instance","body":"<p>For those who are still interested, here is a way how to create a Remote JVM Debug on EC2 with docker</p>\n<ol>\n<li>On the yaml file add the 'port' attribute.</li>\n</ol>\n<blockquote>\n<pre><code> ports:\n     - &quot;5005:5005&quot;\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>To the dockerfile run the Jar with the following command</li>\n</ol>\n<blockquote>\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005\n</code></pre>\n</blockquote>\n<ol start=\"3\">\n<li>On the inbound role on the EC2:</li>\n</ol>\n<blockquote>\n<pre><code>Cutsom TCP =&gt; 5005 =&gt; Your IP\n</code></pre>\n</blockquote>\n<ol start=\"4\">\n<li>In the Intellij create Remote JVM debug\n<ul>\n<li>In the host enter the host ip</li>\n<li>Port: 5005</li>\n<li>Choose JDK 9 or later as the address should be with *:5005</li>\n</ul>\n</li>\n<li>Click the Debug Button and it should work</li>\n</ol>\n"}],"owner":{"account_id":10162616,"reputation":141,"user_id":7505590,"display_name":"Maciej Rudnicki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1958,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1661163024,"creation_date":1530121359,"question_id":51068635,"body_markdown":"My application is running in EC2 as a docker with java application. \r\nI&#39;m exposing 5005 port for debug, and locally it works perfectly. However on EC2 environment I get \r\n` java.net.ConnectException &quot;Connection refused (Connection refused)&quot;`\r\nwhen trying to connect using Intelij.\r\n\r\n- Security group is set to open ports 80, 5005, 22\r\n- Docker is exposing port 80 and 5005\r\n- Application is running with java args\r\n`-Xdebug -Xrunjdwp:server=y,transport=dt_socket,address=5005,suspend=n`\r\n\r\nAm I missing something ? ","title":"Remote debug ec2 java instance","body":"<p>My application is running in EC2 as a docker with java application. \nI'm exposing 5005 port for debug, and locally it works perfectly. However on EC2 environment I get \n<code>java.net.ConnectException \"Connection refused (Connection refused)\"</code>\nwhen trying to connect using Intelij.</p>\n\n<ul>\n<li>Security group is set to open ports 80, 5005, 22</li>\n<li>Docker is exposing port 80 and 5005</li>\n<li>Application is running with java args\n<code>-Xdebug -Xrunjdwp:server=y,transport=dt_socket,address=5005,suspend=n</code></li>\n</ul>\n\n<p>Am I missing something ? </p>\n"},{"tags":["java","environment-variables"],"comments":[{"owner":{"account_id":1007093,"reputation":959,"user_id":1020541,"accept_rate":40,"display_name":"Kotodid"},"score":7,"creation_date":1377755250,"post_id":531694,"comment_id":27204760,"body_markdown":"You can try to restart the requesting process (NetBeans in my case).","body":"You can try to restart the requesting process (NetBeans in my case)."},{"owner":{"account_id":4346060,"reputation":1917,"user_id":3619962,"accept_rate":87,"display_name":"Yasin"},"score":4,"creation_date":1478007303,"post_id":531694,"comment_id":67975396,"body_markdown":"I have observed that the restart option from eclipse doesn&#39;t work. Just close the application, and start it again.","body":"I have observed that the restart option from eclipse doesn&#39;t work. Just close the application, and start it again."},{"owner":{"account_id":1587820,"reputation":627,"user_id":1471779,"accept_rate":67,"display_name":"Bhushan Karmarkar"},"score":3,"creation_date":1550566273,"post_id":531694,"comment_id":96304637,"body_markdown":"Restarting IntelliJ solved my problem.","body":"Restarting IntelliJ solved my problem."},{"owner":{"account_id":1332657,"reputation":1217,"user_id":1276179,"display_name":"sumitkanoje"},"score":0,"creation_date":1550759701,"post_id":531694,"comment_id":96395616,"body_markdown":"Restarting the system worked for me, may be JVM keeps cache of values at first start due to which new variables are not detected.","body":"Restarting the system worked for me, may be JVM keeps cache of values at first start due to which new variables are not detected."},{"owner":{"account_id":4802848,"reputation":2464,"user_id":3878948,"accept_rate":86,"display_name":"Rishabh Agarwal"},"score":0,"creation_date":1600891134,"post_id":531694,"comment_id":113235492,"body_markdown":"looks like DBE value is not exported","body":"looks like DBE value is not exported"}],"answers":[{"tags":[],"owner":{"account_id":2539,"reputation":48109,"user_id":3542,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":259,"is_accepted":false,"score":259,"last_activity_date":1504047013,"creation_date":1234259290,"answer_id":531701,"question_id":531694,"body_markdown":"Use the [`System.getenv(String)`][1] method, passing the name of the variable to read.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getenv-java.lang.String-","title":"How can I get System variable value in Java?","body":"<p>Use the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getenv-java.lang.String-\" rel=\"noreferrer\"><code>System.getenv(String)</code></a> method, passing the name of the variable to read.</p>\n"},{"tags":[],"owner":{"account_id":337,"reputation":88173,"user_id":422,"accept_rate":98,"display_name":"Chris Bunch"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1477304989,"creation_date":1234259387,"answer_id":531709,"question_id":531694,"body_markdown":"Google says to check out [getenv()][1]:\r\n\r\n&gt; Returns an unmodifiable string map view of the current system environment.\r\n\r\nI&#39;m not sure how system variables differ from environment variables, however, so if you could clarify I could help out more.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getenv()","title":"How can I get System variable value in Java?","body":"<p>Google says to check out <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getenv()\" rel=\"nofollow noreferrer\">getenv()</a>:</p>\n\n<blockquote>\n  <p>Returns an unmodifiable string map view of the current system environment.</p>\n</blockquote>\n\n<p>I'm not sure how system variables differ from environment variables, however, so if you could clarify I could help out more.</p>\n"},{"tags":[],"owner":{"account_id":15751,"reputation":13418,"user_id":33611,"accept_rate":74,"display_name":"Elijah"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1467728826,"creation_date":1234261574,"answer_id":531811,"question_id":531694,"body_markdown":"To clarify, system variables are the same as environment variables. User environment variables are set per user and are different whenever a different user logs in. System wide environment variables are the same no matter what user logs on.\r\n\r\nTo access either the current value of a system wide variable or a user variable in Java, see below:\r\n\r\n    String javaHome = System.getenv(&quot;JAVA_HOME&quot;);\r\n\r\nFor more information on environment variables see this [wikipedia page][1].\r\n\r\nAlso make sure the environment variable you are trying to read is properly set before invoking Java by doing a:\r\n\r\n    echo %MYENVVAR%\r\n\r\nYou should see the value of the environment variable. If not, you may need to reopen the shell (DOS) or log off and log back on.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Environment_variable","title":"How can I get System variable value in Java?","body":"<p>To clarify, system variables are the same as environment variables. User environment variables are set per user and are different whenever a different user logs in. System wide environment variables are the same no matter what user logs on.</p>\n\n<p>To access either the current value of a system wide variable or a user variable in Java, see below:</p>\n\n<pre><code>String javaHome = System.getenv(\"JAVA_HOME\");\n</code></pre>\n\n<p>For more information on environment variables see this <a href=\"http://en.wikipedia.org/wiki/Environment_variable\" rel=\"noreferrer\">wikipedia page</a>.</p>\n\n<p>Also make sure the environment variable you are trying to read is properly set before invoking Java by doing a:</p>\n\n<pre><code>echo %MYENVVAR%\n</code></pre>\n\n<p>You should see the value of the environment variable. If not, you may need to reopen the shell (DOS) or log off and log back on.</p>\n"},{"tags":[],"owner":{"account_id":9438,"reputation":306,"user_id":17445,"display_name":"trilobite"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1234271588,"creation_date":1234271588,"answer_id":532272,"question_id":531694,"body_markdown":"Have you tried rebooting since you set the environment variable?\r\n\r\nIt appears that Windows keeps it&#39;s environment variable in some sort of cache, and rebooting is one method to refresh it. I&#39;m not sure but there may be a different method, but if you are not going to be changing your variable value too often this may be good enough.","title":"How can I get System variable value in Java?","body":"<p>Have you tried rebooting since you set the environment variable?</p>\n\n<p>It appears that Windows keeps it's environment variable in some sort of cache, and rebooting is one method to refresh it. I'm not sure but there may be a different method, but if you are not going to be changing your variable value too often this may be good enough.</p>\n"},{"tags":[],"owner":{"account_id":25300,"reputation":13294,"user_id":64967,"accept_rate":75,"display_name":"Dilum Ranatunga"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1456341205,"creation_date":1234345805,"answer_id":536150,"question_id":531694,"body_markdown":"There are a few details of interest when getting system/environment properties.\r\n\r\nFirst, &lt;code&gt;System.getenv(String)&lt;/code&gt; was introduced way-back-when, then deprecated. The deprecation (foolishly, IHMO) continued &lt;a href=&quot;http://java.sun.com/j2se/1.4.2/docs/api/java/lang/System.html#getenv(java.lang.String)&quot;&gt;all the way into JSE 1.4&lt;/a&gt;.\r\n\r\nIt got &lt;a href=&quot;http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getenv(java.lang.String)&quot;&gt;re-introduced in JSE 5&lt;/a&gt;.\r\n\r\nThose are set using the Environment Variables panel in Windows. Changes to the variables may not get picked up until your current VM is shutdown, and the CMD.exe instance is exited.\r\n\r\nIn contrast to the environment properties, Java also has Java system properties, accessible through &lt;a href=&quot;http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties()&quot;&gt;&lt;code&gt;System.getProperties()&lt;/code&gt;&lt;/a&gt;. These variables can be initialized when the VM is started using a series &lt;code&gt;-D&lt;i&gt;name&lt;/i&gt;=&lt;i&gt;value&lt;/i&gt;&lt;/code&gt; command line arguments. For example, the values for the properties &lt;code&gt;maxInMemory&lt;/code&gt; and &lt;code&gt;pagingDirectory&lt;/code&gt; are set in the command below:\r\n&lt;pre&gt;\r\nC:\\&amp;gt; java.exe -DmaxInMemory=100M -DpagingDirectory=c:\\temp -jar myApp.jar\r\n&lt;/pre&gt;\r\nThese properties can be modified at runtime, barring security policy restrictions.","title":"How can I get System variable value in Java?","body":"<p>There are a few details of interest when getting system/environment properties.</p>\n\n<p>First, <code>System.getenv(String)</code> was introduced way-back-when, then deprecated. The deprecation (foolishly, IHMO) continued <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/System.html#getenv(java.lang.String)\" rel=\"noreferrer\">all the way into JSE 1.4</a>.</p>\n\n<p>It got <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getenv(java.lang.String)\" rel=\"noreferrer\">re-introduced in JSE 5</a>.</p>\n\n<p>Those are set using the Environment Variables panel in Windows. Changes to the variables may not get picked up until your current VM is shutdown, and the CMD.exe instance is exited.</p>\n\n<p>In contrast to the environment properties, Java also has Java system properties, accessible through <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/System.html#getProperties()\" rel=\"noreferrer\"><code>System.getProperties()</code></a>. These variables can be initialized when the VM is started using a series <code>-D<i>name</i>=<i>value</i></code> command line arguments. For example, the values for the properties <code>maxInMemory</code> and <code>pagingDirectory</code> are set in the command below:</p>\n\n<pre>\nC:\\&gt; java.exe -DmaxInMemory=100M -DpagingDirectory=c:\\temp -jar myApp.jar\n</pre>\n\n<p>These properties can be modified at runtime, barring security policy restrictions.</p>\n"},{"tags":[],"owner":{"account_id":3906953,"reputation":11639,"user_id":3233398,"accept_rate":9,"display_name":"EliuX"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1561047983,"creation_date":1466175090,"answer_id":37884611,"question_id":531694,"body_markdown":"Actually the variable can be set or not, so, In Java 8 or superior its nullable value should be wrapped into an `Optional` object, which allows really good features. In the following example we gonna try to obtain the variable `ENV_VAR1`, if it doesnt exist we may throw some custom Exception to alert about it:\r\n\r\n    String ENV_VAR1 = Optional.ofNullable(System.getenv(&quot;ENV_VAR1&quot;)).orElseThrow(\r\n      () -&gt; new CustomException(&quot;ENV_VAR1 is not set in the environment&quot;));\r\n","title":"How can I get System variable value in Java?","body":"<p>Actually the variable can be set or not, so, In Java 8 or superior its nullable value should be wrapped into an <code>Optional</code> object, which allows really good features. In the following example we gonna try to obtain the variable <code>ENV_VAR1</code>, if it doesnt exist we may throw some custom Exception to alert about it:</p>\n\n<pre><code>String ENV_VAR1 = Optional.ofNullable(System.getenv(\"ENV_VAR1\")).orElseThrow(\n  () -&gt; new CustomException(\"ENV_VAR1 is not set in the environment\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1410679,"reputation":3385,"user_id":1337338,"accept_rate":38,"display_name":"voidMainReturn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479722697,"creation_date":1479722697,"answer_id":40717503,"question_id":531694,"body_markdown":"As mentioned by sombody above, restarting eclipse worked for me for the user defined environment variable.\r\nAfter I restart eclipse IDE, `System.getenv()` is picking up my environment variable.","title":"How can I get System variable value in Java?","body":"<p>As mentioned by sombody above, restarting eclipse worked for me for the user defined environment variable.\nAfter I restart eclipse IDE, <code>System.getenv()</code> is picking up my environment variable.</p>\n"},{"tags":[],"owner":{"account_id":15361445,"reputation":21,"user_id":11082176,"display_name":"keving"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550553165,"creation_date":1550546821,"answer_id":54758435,"question_id":531694,"body_markdown":"Are you on a linux system?  If so be sure you are exporting your variable.\r\n```\r\nmyVar=testvalue; export myVar\r\n```\r\nI get null unless I use export to define the value globally.\r\n","title":"How can I get System variable value in Java?","body":"<p>Are you on a linux system?  If so be sure you are exporting your variable.</p>\n\n<pre><code>myVar=testvalue; export myVar\n</code></pre>\n\n<p>I get null unless I use export to define the value globally.</p>\n"},{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661162890,"creation_date":1661162890,"answer_id":73443406,"question_id":531694,"body_markdown":"This code gives you a map of Environment variables&#39; names and the corresponding values. \r\n   \r\n\r\n    public static void main(String[] args) {\r\n        \t\tMap&lt;String, String&gt; map = System.getenv();\r\n        \t\tSystem.out.println(map);\r\n        \t}","title":"How can I get System variable value in Java?","body":"<p>This code gives you a map of Environment variables' names and the corresponding values.</p>\n<pre><code>public static void main(String[] args) {\n            Map&lt;String, String&gt; map = System.getenv();\n            System.out.println(map);\n        }\n</code></pre>\n"}],"owner":{"account_id":563949,"reputation":4073,"user_id":51659,"accept_rate":0,"display_name":"raja"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318783,"favorite_count":0,"down_vote_count":0,"up_vote_count":226,"answer_count":9,"score":226,"last_activity_date":1661162890,"creation_date":1234259133,"question_id":531694,"body_markdown":"How can I get the System Variable value which is present in \r\n\r\n    MyComputer -&gt; Properties -&gt; Advanced -&gt; Environment Variables -&gt; System Variables\r\n\r\nin Java?\r\n\r\n*Edit*\r\n\r\nI have used `System.getenv()` method.\r\n\r\nIt is printing value if I give \r\n\r\n    System.out.println(System.getenv(&quot;JAVA_HOME&quot;));\r\n\r\nand it is showing `null` value if I try the same for system variable created by me \r\n\r\n    System.out.println(System.getenv(&quot;DBE&quot;));","title":"How can I get System variable value in Java?","body":"<p>How can I get the System Variable value which is present in </p>\n\n<pre><code>MyComputer -&gt; Properties -&gt; Advanced -&gt; Environment Variables -&gt; System Variables\n</code></pre>\n\n<p>in Java?</p>\n\n<p><em>Edit</em></p>\n\n<p>I have used <code>System.getenv()</code> method.</p>\n\n<p>It is printing value if I give </p>\n\n<pre><code>System.out.println(System.getenv(\"JAVA_HOME\"));\n</code></pre>\n\n<p>and it is showing <code>null</code> value if I try the same for system variable created by me </p>\n\n<pre><code>System.out.println(System.getenv(\"DBE\"));\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":6414878,"reputation":354,"user_id":4973421,"display_name":"Horst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661160643,"creation_date":1661160643,"answer_id":73442938,"question_id":73442672,"body_markdown":"Sorting only works if the elements you try to sort implement the `Comparable` interface or provide a `Comparator` implementation that accepts your elements. `String` already implements this interface, so you can just sort on it without thinking about it. \r\n\r\nYour last example should be like this, so you generate a `Comparator` on the fly with the population as a comparison basis:\r\n\r\n    list.stream().sorted(Comparator.comparingInt(City::getPopulation)).map(City -&gt; City.getName()).collect(Collectors.toList())\r\n\r\n\r\nYou can also implement `Comparable` with `City` but then you need to decide how to compare Name and Population at the same time (or just compare by Population inside the `Comparable` implementation and do manual sort for Name.)\r\n","title":"Java sorting using lambda with streams","body":"<p>Sorting only works if the elements you try to sort implement the <code>Comparable</code> interface or provide a <code>Comparator</code> implementation that accepts your elements. <code>String</code> already implements this interface, so you can just sort on it without thinking about it.</p>\n<p>Your last example should be like this, so you generate a <code>Comparator</code> on the fly with the population as a comparison basis:</p>\n<pre><code>list.stream().sorted(Comparator.comparingInt(City::getPopulation)).map(City -&gt; City.getName()).collect(Collectors.toList())\n</code></pre>\n<p>You can also implement <code>Comparable</code> with <code>City</code> but then you need to decide how to compare Name and Population at the same time (or just compare by Population inside the <code>Comparable</code> implementation and do manual sort for Name.)</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661161626,"creation_date":1661160922,"answer_id":73442992,"question_id":73442672,"body_markdown":"In order to be able to sort objects they either have to implement `Comparable` interface, in this case objects themself aware how they need to be compared, or provide an instance of `Comparator`.\r\n\r\nAnd obviously any instance comparator is an implementation of `Comparator` interface, i.e. it has an implementation of `compare()` method.\r\n\r\nWhile using Java 8 static methods from the `Comparator` interface like [`comparing()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)), [`comparingInt()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparingInt(java.util.function.ToIntFunction)), etc. you need to provide as an argument a Java 8 **function**, which allows to extract a value from your object that is already comparable, an you whill be given an instance of `Comparator` with its `compare()` method implemented according to the provided function.\r\n\r\nIn other words, Java 8 brought us some convenience methods, but the **general contract is still there**.\r\n\r\nThe following implementation of comparator\r\n```\r\n(City o1, City o2) -&gt; o2.getPopulation() - o1.getPopulation()\r\n```\r\nis the same as\r\n```\r\nComparator.comparingInt(City::getPopulation)\r\n```\r\nThe latter is written in a more concise form. And it&#39;s a **preferred** way of implementing `Comparator` in such case.\r\n\r\nBut what you definitely **shouldn&#39;t** do is to write the code like that (snippet is based the OP&#39;s very last example, which fails to compile):\r\n```\r\n(City o1, City o2) -&gt; Comparator.comparingInt(City::getPopulation).compare(o1, o2)\r\n```\r\nIt would work, but it defeats the purpose of the static convenience methods - the code is ugly and redundant. `Comparator.comparingInt` already returns a comparator - use it.","title":"Java sorting using lambda with streams","body":"<p>In order to be able to sort objects they either have to implement <code>Comparable</code> interface, in this case objects themself aware how they need to be compared, or provide an instance of <code>Comparator</code>.</p>\n<p>And obviously any instance comparator is an implementation of <code>Comparator</code> interface, i.e. it has an implementation of <code>compare()</code> method.</p>\n<p>While using Java 8 static methods from the <code>Comparator</code> interface like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>comparing()</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#comparingInt(java.util.function.ToIntFunction)\" rel=\"nofollow noreferrer\"><code>comparingInt()</code></a>, etc. you need to provide as an argument a Java 8 <strong>function</strong>, which allows to extract a value from your object that is already comparable, an you whill be given an instance of <code>Comparator</code> with its <code>compare()</code> method implemented according to the provided function.</p>\n<p>In other words, Java 8 brought us some convenience methods, but the <strong>general contract is still there</strong>.</p>\n<p>The following implementation of comparator</p>\n<pre><code>(City o1, City o2) -&gt; o2.getPopulation() - o1.getPopulation()\n</code></pre>\n<p>is the same as</p>\n<pre><code>Comparator.comparingInt(City::getPopulation)\n</code></pre>\n<p>The latter is written in a more concise form. And it's a <strong>preferred</strong> way of implementing <code>Comparator</code> in such case.</p>\n<p>But what you definitely <strong>shouldn't</strong> do is to write the code like that (snippet is based the OP's very last example, which fails to compile):</p>\n<pre><code>(City o1, City o2) -&gt; Comparator.comparingInt(City::getPopulation).compare(o1, o2)\n</code></pre>\n<p>It would work, but it defeats the purpose of the static convenience methods - the code is ugly and redundant. <code>Comparator.comparingInt</code> already returns a comparator - use it.</p>\n"},{"tags":[],"owner":{"account_id":268201,"reputation":419,"user_id":1573368,"display_name":"Sheel Prabhakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661160961,"creation_date":1661160961,"answer_id":73443006,"question_id":73442672,"body_markdown":"You can also use Integer.compare\r\n```\r\nList&lt;String&gt; listOfNames = list.stream().sorted((City o1, City o2) -&gt; Integer.compare(o1.getPopulation(), o2.getPopulation())).map(City -&gt; City.getName()).collect(Collectors.toList());\r\n```","title":"Java sorting using lambda with streams","body":"<p>You can also use Integer.compare</p>\n<pre><code>List&lt;String&gt; listOfNames = list.stream().sorted((City o1, City o2) -&gt; Integer.compare(o1.getPopulation(), o2.getPopulation())).map(City -&gt; City.getName()).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16362332,"reputation":78,"user_id":11817593,"display_name":"llodavid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661162823,"creation_date":1661162823,"answer_id":73443392,"question_id":73442672,"body_markdown":"String implements the Comparable interface, which specifies how to sort Strings. \r\nInteger also implements the Comparable interface, so it is possible to use &#39;compareTo&#39; with Integers. But i&#39;m assuming that population will be a primitive of the type &#39;int&#39;. That is the reason you cannot use compareTo.\r\nWhen working with primitives or classes that do not implement Commparable or when you want to deviate from natural sorting, you have to provide a comparator and specify how you want to sort.\r\n\r\nYou can sort the stream like so:\r\n\r\n`.sorted(Comparator.comparingInt(city -&gt; city.getPopulation()))`\r\n\r\nI personally prefer using the method reference:\r\n\r\n`.sorted(Comparator.comparingInt(City::getPopulation))`\r\n\r\nThere is also no reason to use the compareTo method in the Stream sorted method.\r\nIf your Class implements the Comparable method you can simply use the &#39;.sorted()&#39; method to use the natural (default) sorting specified in the compareTo method.\r\nFor specific sorting, you can always use Comparator.comparing(), .thenComparing(), .reversed() or other convenient static methods provided by Comparator.","title":"Java sorting using lambda with streams","body":"<p>String implements the Comparable interface, which specifies how to sort Strings.\nInteger also implements the Comparable interface, so it is possible to use 'compareTo' with Integers. But i'm assuming that population will be a primitive of the type 'int'. That is the reason you cannot use compareTo.\nWhen working with primitives or classes that do not implement Commparable or when you want to deviate from natural sorting, you have to provide a comparator and specify how you want to sort.</p>\n<p>You can sort the stream like so:</p>\n<p><code>.sorted(Comparator.comparingInt(city -&gt; city.getPopulation()))</code></p>\n<p>I personally prefer using the method reference:</p>\n<p><code>.sorted(Comparator.comparingInt(City::getPopulation))</code></p>\n<p>There is also no reason to use the compareTo method in the Stream sorted method.\nIf your Class implements the Comparable method you can simply use the '.sorted()' method to use the natural (default) sorting specified in the compareTo method.\nFor specific sorting, you can always use Comparator.comparing(), .thenComparing(), .reversed() or other convenient static methods provided by Comparator.</p>\n"}],"owner":{"account_id":22858502,"reputation":23,"user_id":17002978,"display_name":"AymanTheBeginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1771,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73443392,"answer_count":4,"score":0,"last_activity_date":1661162823,"creation_date":1661159360,"question_id":73442672,"body_markdown":"so, there is a class called City which has two fields (Name and Population) and the usual getters and setters. now my question is why can i sort cities by name just fine like this \r\n\r\n```\r\n\r\npublic class Main{\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n        List&lt;City&gt; list = List.of(new City(&quot;Tokyo&quot;, 7), new City(&quot;Mexico City&quot;, 1),\r\n                new City(&quot;S&#227;o Paulo&quot;, 3), new City(&quot;Lagos&quot;, 5),\r\n                new City(&quot;Istanbul&quot;, 4), new City(&quot;Sydney&quot;, 6),\r\n                new City(&quot;McMurdo&quot;, 2));\r\n        \r\n        List&lt;String&gt; listOfNames = list.stream().sorted((City o1, City o2) -&gt; o1.getName().compareTo(o2.getName())).map(City -&gt; City.getName()).collect(Collectors.toList());\r\n        \r\n        listOfNames.forEach(Element -&gt; System.out.println(Element));\r\n    }\r\n        \r\n}\r\n\r\n\r\n```\r\n\r\nbut I can only sort by population like this(in descending order)\r\n\r\n```\r\n\r\nList&lt;String&gt; listOfNames = list.stream().sorted((City o1, City o2) -&gt; o2.getPopulation() - o1.getPopulation()).map(City -&gt; City.getName()).collect(Collectors.toList());\r\n\r\n```\r\n\r\nWhy is this approach wrong\r\n\r\n```\r\n\r\nList&lt;String&gt; listOfNames = list.stream().sorted((City o1, City o2) -&gt; Comparator.comparingInt(o1.getPopulation(), o2.getPopulation())).map(City -&gt; City.getName()).collect(Collectors.toList());\r\n\r\n```  \r\n\r\nwhy can&#39;t I use compare/compareTo like i did when sorting be name(String)\r\n\r\nPS\r\n\r\nI did not implement comparable or have a Comparator in my code","title":"Java sorting using lambda with streams","body":"<p>so, there is a class called City which has two fields (Name and Population) and the usual getters and setters. now my question is why can i sort cities by name just fine like this</p>\n<pre><code>\npublic class Main{\n    \n    public static void main(String[] args) {\n        \n        List&lt;City&gt; list = List.of(new City(&quot;Tokyo&quot;, 7), new City(&quot;Mexico City&quot;, 1),\n                new City(&quot;SÃ£o Paulo&quot;, 3), new City(&quot;Lagos&quot;, 5),\n                new City(&quot;Istanbul&quot;, 4), new City(&quot;Sydney&quot;, 6),\n                new City(&quot;McMurdo&quot;, 2));\n        \n        List&lt;String&gt; listOfNames = list.stream().sorted((City o1, City o2) -&gt; o1.getName().compareTo(o2.getName())).map(City -&gt; City.getName()).collect(Collectors.toList());\n        \n        listOfNames.forEach(Element -&gt; System.out.println(Element));\n    }\n        \n}\n\n\n</code></pre>\n<p>but I can only sort by population like this(in descending order)</p>\n<pre><code>\nList&lt;String&gt; listOfNames = list.stream().sorted((City o1, City o2) -&gt; o2.getPopulation() - o1.getPopulation()).map(City -&gt; City.getName()).collect(Collectors.toList());\n\n</code></pre>\n<p>Why is this approach wrong</p>\n<pre><code>\nList&lt;String&gt; listOfNames = list.stream().sorted((City o1, City o2) -&gt; Comparator.comparingInt(o1.getPopulation(), o2.getPopulation())).map(City -&gt; City.getName()).collect(Collectors.toList());\n\n</code></pre>\n<p>why can't I use compare/compareTo like i did when sorting be name(String)</p>\n<p>PS</p>\n<p>I did not implement comparable or have a Comparator in my code</p>\n"},{"tags":["java","intervals"],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661162809,"creation_date":1660834327,"answer_id":73405190,"question_id":73404719,"body_markdown":"You are using an anonymous inner class which accesses fields of its outer class:\r\n\r\n    int secondsWorkout = stdin.nextInt() + 1;\r\n    int cache = secondsWorkout - 1;\r\n    TimerTask task = new TimerTask() {  \r\n        @Override\r\n        public void run() {     \r\n          secondsWorkout--;\r\n          ...\r\n\r\n\r\nIf you want to make it reusable, declare a real class with fields:\r\n\r\n    class WorkoutTimerTask extends TimerTask {  \r\n\r\n        int secondsWorkout;\r\n        int cache;\r\n\r\n        WorkoutTimerTask(int secondsWorkout, int cache) {\r\n            this.secondsWorkout = secondsWorkout;\r\n            this.cache = cache;\r\n        } \r\n\r\n        @Override\r\n        public void run() {     \r\n            secondsWorkout--;\r\n                System.out.println(secondsWorkout + &quot; seconds&quot;);\r\n            if(secondsWorkout == 0) {\r\n                timer.cancel();     \r\n                System.out.println(&quot;DING!&quot;);\r\n                secondsWorkout = cache;\r\n            }\r\n        }\r\n    };\r\n\r\nAnd then create two instances of it, e.g.:\r\n\r\n    Scanner stdin = new Scanner(System.in);\r\n    int secondsWorkout = stdin.nextInt() + 1;\r\n    int secondsPause = stdin.nextInt() + 1;\r\n    \r\n    Timer timer = new Timer();      \r\n    WorkoutTimerTask workout = new WorkoutTimerTask(secondsWorkout, secondsWorkout - 1);\r\n    WorkoutTimerTask pause = new WorkoutTimerTask(secondsPause, secondsPause - 1);\r\n    ...\r\n\r\nNotes:\r\n\r\nYou can declare the class as an inner class (in the same java file) or in a separate file called &#39;WorkoutTimerTask.java&#39;.\r\n\r\nInstead of counting down a second on each scheduled execution, you could also keep track of the System.currentTimeMillis() value at the start, and compare it to the current time millis. It&#39;s probably more accurate and maybe more understandable:\r\n\r\n\r\n    public class WorkoutTimerTask extends TimerTask {  \r\n\r\n        private final int maxSeconds;\r\n        private long startMillis;               \r\n\r\n        public WorkoutTimerTask(int maxSeconds) {\r\n            this.maxSeconds = maxSeconds;   \r\n            this.startMillis = System.currentTimeMillis();           \r\n        } \r\n        \r\n        @Override\r\n        public void run() {     \r\n            long elapsedSeconds = (System.currentTimeMillis() - startMillis) / 1000;          \r\n            if (elapsedSeconds &lt; maxSeconds) {  \r\n                System.out.printf(&quot;%s seconds%n&quot;, elapsedSeconds);                \r\n            } else {\r\n                System.out.println(&quot;DING!&quot;);  \r\n                cancel();           \r\n            }\r\n        }\r\n\r\n    };\r\n\r\nYou can also cancel the timer via the TimerTask by calling `cancel()`\r\n\r\nEDIT: Thinking about what you&#39;re trying to do, I think maybe you don&#39;t want to try and &#39;chain&#39; these TimerTasks at all. Instead, just implement a smart TimerTask which knows about workout and pause phases, for example:\r\n\r\n    public class WorkoutTimer extends TimerTask {\r\n    \r\n        private final int workoutSeconds;\r\n        private final int pauseSeconds;\r\n        private long startMillis;\r\n        private Phase phase;\r\n        // bonus feature: keep track of the number of workout/pause cycles\r\n        private int workoutCounter;\r\n    \r\n        private enum Phase {\r\n            WORKOUT, PAUSE\r\n        }\r\n    \r\n        public WorkoutTimer(int workoutSeconds, int pauseSeconds) {\r\n            this.workoutSeconds = workoutSeconds;\r\n            this.pauseSeconds = pauseSeconds;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            if (phase == null) {\r\n                startNextPhase();\r\n            }\r\n            long elapsedSeconds = getElapsedSeconds();\r\n            long maxSeconds = getMaxSeconds();\r\n            if (elapsedSeconds &lt; maxSeconds) {\r\n                // carriage return at the end allows &#39;printing in place&#39;\r\n                System.out.printf(&quot;%s#%s %s seconds\\r&quot;, phase, workoutCounter, elapsedSeconds + 1);\r\n            }\r\n            else {\r\n                System.out.printf(&quot;%s#%s finished%n&quot;, phase, workoutCounter);\r\n                startNextPhase();\r\n            }\r\n        }\r\n    \r\n        private long getElapsedSeconds() {\r\n            return (System.currentTimeMillis() - startMillis) / 1000;\r\n        }\r\n\r\n        private long getMaxSeconds() {\r\n            if (phase == Phase.WORKOUT) {\r\n                return workoutSeconds;\r\n            }\r\n            else {\r\n                return pauseSeconds;\r\n            }\r\n        }\r\n    \r\n        private void startNextPhase() {\r\n            if (phase == null || phase == Phase.PAUSE) {\r\n                phase = Phase.WORKOUT;\r\n                workoutCounter++;\r\n            }\r\n            else {\r\n                phase = Phase.PAUSE;\r\n            }\r\n            startMillis = System.currentTimeMillis();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Scanner stdin = new Scanner(System.in);\r\n            System.out.println(&quot;Please enter the number of workout seconds&quot;);\r\n            int workoutSeconds = stdin.nextInt();\r\n            System.out.println(&quot;Please enter the number of pause seconds&quot;);\r\n            int pauseSeconds = stdin.nextInt();\r\n    \r\n            WorkoutTimer workoutTimer = new WorkoutTimer(workoutSeconds, pauseSeconds);\r\n            Timer timer = new Timer();\r\n            // 300 to make sure the timer doesn&#39;t seem laggy\r\n            timer.scheduleAtFixedRate(workoutTimer, 0, 300);\r\n        }\r\n    }","title":"Coding an interval timer for a little workout program (just like an app) How can I get 2 timers (for a workout and pause interval) without redundancy?","body":"<p>You are using an anonymous inner class which accesses fields of its outer class:</p>\n<pre><code>int secondsWorkout = stdin.nextInt() + 1;\nint cache = secondsWorkout - 1;\nTimerTask task = new TimerTask() {  \n    @Override\n    public void run() {     \n      secondsWorkout--;\n      ...\n</code></pre>\n<p>If you want to make it reusable, declare a real class with fields:</p>\n<pre><code>class WorkoutTimerTask extends TimerTask {  \n\n    int secondsWorkout;\n    int cache;\n\n    WorkoutTimerTask(int secondsWorkout, int cache) {\n        this.secondsWorkout = secondsWorkout;\n        this.cache = cache;\n    } \n\n    @Override\n    public void run() {     \n        secondsWorkout--;\n            System.out.println(secondsWorkout + &quot; seconds&quot;);\n        if(secondsWorkout == 0) {\n            timer.cancel();     \n            System.out.println(&quot;DING!&quot;);\n            secondsWorkout = cache;\n        }\n    }\n};\n</code></pre>\n<p>And then create two instances of it, e.g.:</p>\n<pre><code>Scanner stdin = new Scanner(System.in);\nint secondsWorkout = stdin.nextInt() + 1;\nint secondsPause = stdin.nextInt() + 1;\n\nTimer timer = new Timer();      \nWorkoutTimerTask workout = new WorkoutTimerTask(secondsWorkout, secondsWorkout - 1);\nWorkoutTimerTask pause = new WorkoutTimerTask(secondsPause, secondsPause - 1);\n...\n</code></pre>\n<p>Notes:</p>\n<p>You can declare the class as an inner class (in the same java file) or in a separate file called 'WorkoutTimerTask.java'.</p>\n<p>Instead of counting down a second on each scheduled execution, you could also keep track of the System.currentTimeMillis() value at the start, and compare it to the current time millis. It's probably more accurate and maybe more understandable:</p>\n<pre><code>public class WorkoutTimerTask extends TimerTask {  \n\n    private final int maxSeconds;\n    private long startMillis;               \n\n    public WorkoutTimerTask(int maxSeconds) {\n        this.maxSeconds = maxSeconds;   \n        this.startMillis = System.currentTimeMillis();           \n    } \n    \n    @Override\n    public void run() {     \n        long elapsedSeconds = (System.currentTimeMillis() - startMillis) / 1000;          \n        if (elapsedSeconds &lt; maxSeconds) {  \n            System.out.printf(&quot;%s seconds%n&quot;, elapsedSeconds);                \n        } else {\n            System.out.println(&quot;DING!&quot;);  \n            cancel();           \n        }\n    }\n\n};\n</code></pre>\n<p>You can also cancel the timer via the TimerTask by calling <code>cancel()</code></p>\n<p>EDIT: Thinking about what you're trying to do, I think maybe you don't want to try and 'chain' these TimerTasks at all. Instead, just implement a smart TimerTask which knows about workout and pause phases, for example:</p>\n<pre><code>public class WorkoutTimer extends TimerTask {\n\n    private final int workoutSeconds;\n    private final int pauseSeconds;\n    private long startMillis;\n    private Phase phase;\n    // bonus feature: keep track of the number of workout/pause cycles\n    private int workoutCounter;\n\n    private enum Phase {\n        WORKOUT, PAUSE\n    }\n\n    public WorkoutTimer(int workoutSeconds, int pauseSeconds) {\n        this.workoutSeconds = workoutSeconds;\n        this.pauseSeconds = pauseSeconds;\n    }\n\n    @Override\n    public void run() {\n        if (phase == null) {\n            startNextPhase();\n        }\n        long elapsedSeconds = getElapsedSeconds();\n        long maxSeconds = getMaxSeconds();\n        if (elapsedSeconds &lt; maxSeconds) {\n            // carriage return at the end allows 'printing in place'\n            System.out.printf(&quot;%s#%s %s seconds\\r&quot;, phase, workoutCounter, elapsedSeconds + 1);\n        }\n        else {\n            System.out.printf(&quot;%s#%s finished%n&quot;, phase, workoutCounter);\n            startNextPhase();\n        }\n    }\n\n    private long getElapsedSeconds() {\n        return (System.currentTimeMillis() - startMillis) / 1000;\n    }\n\n    private long getMaxSeconds() {\n        if (phase == Phase.WORKOUT) {\n            return workoutSeconds;\n        }\n        else {\n            return pauseSeconds;\n        }\n    }\n\n    private void startNextPhase() {\n        if (phase == null || phase == Phase.PAUSE) {\n            phase = Phase.WORKOUT;\n            workoutCounter++;\n        }\n        else {\n            phase = Phase.PAUSE;\n        }\n        startMillis = System.currentTimeMillis();\n    }\n\n    public static void main(String[] args) {\n\n        Scanner stdin = new Scanner(System.in);\n        System.out.println(&quot;Please enter the number of workout seconds&quot;);\n        int workoutSeconds = stdin.nextInt();\n        System.out.println(&quot;Please enter the number of pause seconds&quot;);\n        int pauseSeconds = stdin.nextInt();\n\n        WorkoutTimer workoutTimer = new WorkoutTimer(workoutSeconds, pauseSeconds);\n        Timer timer = new Timer();\n        // 300 to make sure the timer doesn't seem laggy\n        timer.scheduleAtFixedRate(workoutTimer, 0, 300);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26097488,"reputation":3,"user_id":19793417,"display_name":"MrKEKuse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73405190,"answer_count":1,"score":0,"last_activity_date":1661162809,"creation_date":1660832491,"question_id":73404719,"body_markdown":"I know how to count down using Timer and Tasktimer but im not sure how to reset my timer let alone adding another interval for my pause section without just copying my written code and creating another object for just my pause section. I wanted to save my int secondsworkout in another int so that I got my number (in seconds) and just reuse it somehow (if even possible).\r\n\r\n    public class Intervall {\r\n       \r\n        Scanner stdin = new Scanner(System.in);\r\n        int secondsWorkout = stdin.nextInt() + 1;\r\n        int cache = secondsWorkout - 1;\r\n        Timer timer = new Timer();      \r\n        TimerTask task = new TimerTask() {  \r\n            @Override\r\n            public void run() {     \r\n                secondsWorkout--;\r\n                    System.out.println(secondsWorkout + &quot; seconds&quot;);\r\n                if(secondsWorkout == 0) {\r\n                    timer.cancel();     \r\n                    System.out.println(&quot;DING!&quot;);\r\n                    secondsWorkout = cache;\r\n                }\r\n            }\r\n        };\r\n        public void startWorkout() {\r\n            timer.scheduleAtFixedRate(task, 1000, 1000); \r\n    \r\n        }\r\n    \r\n        public static void main(String[] args){\r\n            System.out.println(&quot;Please enter a number&quot;);\r\n            Intervall kek = new Intervall();\r\n            kek.startWorkout();\r\n        }\r\n    }","title":"Coding an interval timer for a little workout program (just like an app) How can I get 2 timers (for a workout and pause interval) without redundancy?","body":"<p>I know how to count down using Timer and Tasktimer but im not sure how to reset my timer let alone adding another interval for my pause section without just copying my written code and creating another object for just my pause section. I wanted to save my int secondsworkout in another int so that I got my number (in seconds) and just reuse it somehow (if even possible).</p>\n<pre><code>public class Intervall {\n   \n    Scanner stdin = new Scanner(System.in);\n    int secondsWorkout = stdin.nextInt() + 1;\n    int cache = secondsWorkout - 1;\n    Timer timer = new Timer();      \n    TimerTask task = new TimerTask() {  \n        @Override\n        public void run() {     \n            secondsWorkout--;\n                System.out.println(secondsWorkout + &quot; seconds&quot;);\n            if(secondsWorkout == 0) {\n                timer.cancel();     \n                System.out.println(&quot;DING!&quot;);\n                secondsWorkout = cache;\n            }\n        }\n    };\n    public void startWorkout() {\n        timer.scheduleAtFixedRate(task, 1000, 1000); \n\n    }\n\n    public static void main(String[] args){\n        System.out.println(&quot;Please enter a number&quot;);\n        Intervall kek = new Intervall();\n        kek.startWorkout();\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","gradle","ecj","java-sealed-type"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1661162080,"post_id":73443052,"comment_id":129697713,"body_markdown":"Sounds like when you use Gradle, you are compiling it with an older Java version that does not support sealed classes and interfaces.","body":"Sounds like when you use Gradle, you are compiling it with an older Java version that does not support sealed classes and interfaces."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661162698,"creation_date":1661162293,"answer_id":73443296,"question_id":73443052,"body_markdown":"According to the [Java Language Specification &#167;8.1.6][1] the items of the `permits` type list must be without their type parameters.\r\n\r\nSo, **`permits B&lt;?&gt;`** is incorrect and **has to be corrected to `permits B`**.\r\n\r\nPlease make sure that `permits B&lt;?&gt;` does not give a compile error and `permits B&lt;?&gt;` does give a `B is a raw type. References to generic type B&lt;T&gt; should be parameterized` warning instead, [has been reported to Eclipse JDT][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.6\r\n  [2]: https://github.com/eclipse-jdt/eclipse.jdt.core/issues","title":"Java sealed interface permits generic type: gradle complains, eclipse does not","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.6\" rel=\"nofollow noreferrer\">Java Language Specification Â§8.1.6</a> the items of the <code>permits</code> type list must be without their type parameters.</p>\n<p>So, <strong><code>permits B&lt;?&gt;</code></strong> is incorrect and <strong>has to be corrected to <code>permits B</code></strong>.</p>\n<p>Please make sure that <code>permits B&lt;?&gt;</code> does not give a compile error and <code>permits B&lt;?&gt;</code> does give a <code>B is a raw type. References to generic type B&lt;T&gt; should be parameterized</code> warning instead, <a href=\"https://github.com/eclipse-jdt/eclipse.jdt.core/issues\" rel=\"nofollow noreferrer\">has been reported to Eclipse JDT</a>.</p>\n"}],"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73443296,"answer_count":1,"score":2,"last_activity_date":1661162698,"creation_date":1661161168,"question_id":73443052,"body_markdown":"I have three types, `A`, `B`, and `C`, which are defined as follows:\r\n\r\n    public sealed interface A extends Comparable&lt;A&gt; permits B&lt;?&gt;, C { ...\r\n        \r\n    public non-sealed interface B&lt;T&gt; extends A { ...\r\n        \r\n    public record C(String s, int i) implements A { ...\r\n\r\nEverything compiles and works fine in Eclipse. Now when I run a gradle build, I get an error `error: &#39;{&#39; expected` at the place of the opening bracket at `permits B&lt;?&gt;`. When I remove `&lt;?&gt;`, so that the type definition is as follows (raw type):\r\n\r\n\r\n    public sealed interface A extends Comparable&lt;A&gt; permits B, C { ...\r\n\r\n...then gradle doesn&#39;t complain and the build is successful. Is this a gradle bug or is the type definition I am using not allowed?\r\n","title":"Java sealed interface permits generic type: gradle complains, eclipse does not","body":"<p>I have three types, <code>A</code>, <code>B</code>, and <code>C</code>, which are defined as follows:</p>\n<pre><code>public sealed interface A extends Comparable&lt;A&gt; permits B&lt;?&gt;, C { ...\n    \npublic non-sealed interface B&lt;T&gt; extends A { ...\n    \npublic record C(String s, int i) implements A { ...\n</code></pre>\n<p>Everything compiles and works fine in Eclipse. Now when I run a gradle build, I get an error <code>error: '{' expected</code> at the place of the opening bracket at <code>permits B&lt;?&gt;</code>. When I remove <code>&lt;?&gt;</code>, so that the type definition is as follows (raw type):</p>\n<pre><code>public sealed interface A extends Comparable&lt;A&gt; permits B, C { ...\n</code></pre>\n<p>...then gradle doesn't complain and the build is successful. Is this a gradle bug or is the type definition I am using not allowed?</p>\n"},{"tags":["java","selenium","jenkins","screenshot"],"answers":[{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661162368,"creation_date":1661162368,"answer_id":73443306,"question_id":73442705,"body_markdown":"Why don&#39;t you scroll to the element or click on it before you take the screenshot?\r\n\r\n    WebElement element = driver.findElement(By.id(&quot;id_of_element&quot;));\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\r\n\r\nIf the element is bigger the the main page - you should be able to get all of it.\r\n\r\n","title":"Take a screenshot of the entire web element even when it&#39;s not visible","body":"<p>Why don't you scroll to the element or click on it before you take the screenshot?</p>\n<pre><code>WebElement element = driver.findElement(By.id(&quot;id_of_element&quot;));\n((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n</code></pre>\n<p>If the element is bigger the the main page - you should be able to get all of it.</p>\n"}],"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661162368,"creation_date":1661159500,"question_id":73442705,"body_markdown":"I have in my website, a web element that is scrollable, and in my project I take screenshots of web elements for a later use.\r\nHowever, in this case, you need to scroll down the webpage to see the whole element, so the regular screenshot of the specific element doesn&#39;t capture the full element.\r\nIs there a way to do it? I&#39;m running with headless chrome, and tried somehow using Ashot dependency.\r\nThe limitations I have: Has to be one screenshot.\r\nUsing Maven, TestNG.\r\nCode snippet:\r\n\r\n    byte[] imageResult = webElement.getScreenshotAs(OutputType.BYTES);\r\n ","title":"Take a screenshot of the entire web element even when it&#39;s not visible","body":"<p>I have in my website, a web element that is scrollable, and in my project I take screenshots of web elements for a later use.\nHowever, in this case, you need to scroll down the webpage to see the whole element, so the regular screenshot of the specific element doesn't capture the full element.\nIs there a way to do it? I'm running with headless chrome, and tried somehow using Ashot dependency.\nThe limitations I have: Has to be one screenshot.\nUsing Maven, TestNG.\nCode snippet:</p>\n<pre><code>byte[] imageResult = webElement.getScreenshotAs(OutputType.BYTES);\n</code></pre>\n"},{"tags":["java","jpa","ejb","cdi","java-ee-7"],"comments":[{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1660937632,"post_id":73418889,"comment_id":129660160,"body_markdown":"Show us how do you declare your EJBs.","body":"Show us how do you declare your EJBs."},{"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"score":0,"creation_date":1660974222,"post_id":73418889,"comment_id":129665063,"body_markdown":"I added some details as you requested. Thank you.","body":"I added some details as you requested. Thank you."},{"owner":{"account_id":20375424,"reputation":517,"user_id":14946729,"display_name":"grigouille"},"score":0,"creation_date":1661006065,"post_id":73418889,"comment_id":129670420,"body_markdown":"I mean, show us the client code. How you inject the EJBs.","body":"I mean, show us the client code. How you inject the EJBs."},{"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"score":0,"creation_date":1661006389,"post_id":73418889,"comment_id":129670496,"body_markdown":"The client is a Jersey resource into the WAR module which injects them by the EIB annotation.","body":"The client is a Jersey resource into the WAR module which injects them by the EIB annotation."}],"answers":[{"tags":[],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661162240,"creation_date":1661162240,"answer_id":73443283,"question_id":73418889,"body_markdown":"I found the solution on my own.\r\n\r\nI suppose it is a Weblogic bug, but I am not so sure, but my solution works as expected.\r\n\r\nI had to remove the abstract base class and inject the entity manager directly inside each EJB.\r\n\r\n```java\r\n@Local\r\npublic interface FirstEJB {\r\n\tvoid someMethod1();\r\n}\r\n\r\n@Stateless\r\npublic class FirstEJBImpl implements FirstEJB {\r\n\r\n    @PersistenceContext(unitName = &quot;myPU&quot;)\r\n    private EntityManager entityManager;\r\n\r\n\t@Override\r\n\tpublic void someMethod1() {\r\n\t\t// Here entityManager has been injected.\r\n\t}\r\n\r\n}\r\n\r\n@Local\r\npublic interface SecondEJB {\r\n\tvoid someMethod2();\r\n}\r\n\r\n@Stateless\r\npublic class SecondEJBImpl implements SecondEJB {\r\n\r\n    @PersistenceContext(unitName = &quot;myPU&quot;)\r\n    private EntityManager entityManager;\r\n\r\n\t@Override\r\n\tpublic void someMethod2() {\r\n\t\t// Here entityManager has been injected too! :)\r\n\t}\r\n\r\n}\r\n```","title":"EntityManager injected only once if declared into two different EJBs","body":"<p>I found the solution on my own.</p>\n<p>I suppose it is a Weblogic bug, but I am not so sure, but my solution works as expected.</p>\n<p>I had to remove the abstract base class and inject the entity manager directly inside each EJB.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Local\npublic interface FirstEJB {\n    void someMethod1();\n}\n\n@Stateless\npublic class FirstEJBImpl implements FirstEJB {\n\n    @PersistenceContext(unitName = &quot;myPU&quot;)\n    private EntityManager entityManager;\n\n    @Override\n    public void someMethod1() {\n        // Here entityManager has been injected.\n    }\n\n}\n\n@Local\npublic interface SecondEJB {\n    void someMethod2();\n}\n\n@Stateless\npublic class SecondEJBImpl implements SecondEJB {\n\n    @PersistenceContext(unitName = &quot;myPU&quot;)\n    private EntityManager entityManager;\n\n    @Override\n    public void someMethod2() {\n        // Here entityManager has been injected too! :)\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":183306,"reputation":9428,"user_id":418599,"accept_rate":52,"display_name":"Antonio Petricca"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73443283,"answer_count":1,"score":0,"last_activity_date":1661162240,"creation_date":1660922074,"question_id":73418889,"body_markdown":"I am on **Weblogic 12c** + **JPA/Hibernate** + **EJB 3**.\r\n\r\nI wish to simplify my class model as follow:\r\n\r\n```java\r\npublic abstract class AbstractEJBBean {\r\n\r\n  @PersistenceContext(unitName = &quot;myPU&quot;)\r\n  private EntityManager entityManager;\r\n\r\n}\r\n\r\n@Local\r\npublic interface FirstEJB {\r\n\tvoid someMethod1();\r\n}\r\n\r\n@Stateless\r\npublic class FirstEJBImpl extends AbstractEJBBean implements FirstEJB {\r\n\r\n\t@Override\r\n\tpublic void someMethod1() {\r\n\t\t// Here entityManager has been injected.\r\n\t}\r\n\r\n}\r\n\r\n@Local\r\npublic interface SecondEJB {\r\n\tvoid someMethod2();\r\n}\r\n\r\n@Stateless\r\npublic class SecondEJBImpl extends AbstractEJBBean implements SecondEJB {\r\n\r\n\t@Override\r\n\tpublic void someMethod2() {\r\n\t\t// Here entityManager has NOT been injected!!!\r\n\t}\r\n\r\n}\r\n```\r\n\r\nIn such situation, Weblogic starts (no errors logged), the application starts, but: only then entity manager into `FirstEJBImpl` instance have been injected. The one inside `SecondEJBImpl` is `null`!!!\r\n\r\nI never seen any like this.\r\n\r\nCould somebody tell my why and how to avoid it?\r\n\r\nThank you so much!!!","title":"EntityManager injected only once if declared into two different EJBs","body":"<p>I am on <strong>Weblogic 12c</strong> + <strong>JPA/Hibernate</strong> + <strong>EJB 3</strong>.</p>\n<p>I wish to simplify my class model as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AbstractEJBBean {\n\n  @PersistenceContext(unitName = &quot;myPU&quot;)\n  private EntityManager entityManager;\n\n}\n\n@Local\npublic interface FirstEJB {\n    void someMethod1();\n}\n\n@Stateless\npublic class FirstEJBImpl extends AbstractEJBBean implements FirstEJB {\n\n    @Override\n    public void someMethod1() {\n        // Here entityManager has been injected.\n    }\n\n}\n\n@Local\npublic interface SecondEJB {\n    void someMethod2();\n}\n\n@Stateless\npublic class SecondEJBImpl extends AbstractEJBBean implements SecondEJB {\n\n    @Override\n    public void someMethod2() {\n        // Here entityManager has NOT been injected!!!\n    }\n\n}\n</code></pre>\n<p>In such situation, Weblogic starts (no errors logged), the application starts, but: only then entity manager into <code>FirstEJBImpl</code> instance have been injected. The one inside <code>SecondEJBImpl</code> is <code>null</code>!!!</p>\n<p>I never seen any like this.</p>\n<p>Could somebody tell my why and how to avoid it?</p>\n<p>Thank you so much!!!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26085095,"reputation":11,"user_id":19782724,"display_name":"Sunitha Reddy Gudisela"},"score":0,"creation_date":1660721985,"post_id":73384539,"comment_id":129596738,"body_markdown":"it is always returning -1 , i want values to return i,\ncan anyone help me on this","body":"it is always returning -1 , i want values to return i, can anyone help me on this"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":3,"creation_date":1660722048,"post_id":73384539,"comment_id":129596762,"body_markdown":"`int key = 2;` - yes this value is not in your array.","body":"<code>int key = 2;</code> - yes this value is not in your array."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1660722053,"post_id":73384539,"comment_id":129596765,"body_markdown":"What is the expected output?","body":"What is the expected output?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1660722053,"post_id":73384539,"comment_id":129596764,"body_markdown":"you are looking for an element with value 2, not the index. check i == key, instead of array[i] == key","body":"you are looking for an element with value 2, not the index. check i == key, instead of array[i] == key"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1660722155,"post_id":73384539,"comment_id":129596807,"body_markdown":"*Your task is to print the element present at index key in the array* - so `s.o.p (arr[key]);`","body":"<i>Your task is to print the element present at index key in the array</i> - so <code>s.o.p (arr[key]);</code>"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1660722944,"post_id":73384539,"comment_id":129597077,"body_markdown":"I honestly don&#39;t understand this task. You say &quot;*print the element present at index key in the array*&quot;. But isn&#39;t this just simply `array[key]`? What&#39;s the need for the method then?","body":"I honestly don&#39;t understand this task. You say &quot;<i>print the element present at index key in the array</i>&quot;. But isn&#39;t this just simply <code>array[key]</code>? What&#39;s the need for the method then?"},{"owner":{"account_id":26085095,"reputation":11,"user_id":19782724,"display_name":"Sunitha Reddy Gudisela"},"score":0,"creation_date":1660723414,"post_id":73384539,"comment_id":129597205,"body_markdown":"Given an array A[] of N integers and an index Key. Your task is to print the element present at\nindex key in the array.\nExample 1:\nInput:\n5 2\n10 20 30 40 50\nOutput:\n30","body":"Given an array A[] of N integers and an index Key. Your task is to print the element present at index key in the array. Example 1: Input: 5 2 10 20 30 40 50 Output: 30"}],"answers":[{"tags":[],"owner":{"account_id":4497127,"reputation":1213,"user_id":3656666,"accept_rate":100,"display_name":"Demeteor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661161199,"creation_date":1661161199,"answer_id":73443057,"question_id":73384539,"body_markdown":"what you are doing wrong here is in your IF statement \r\nyou are comparing an Index to a value. which in this case thankfully it does not match. \r\n\r\nwhat you really need to do here is compare I to N not arr[i]\r\n\r\nin  your case it will iterate like this\r\n\r\n    Is 10 equal to 2\r\n    Is 20 equal to 2\r\n    Is 30 equal to 2\r\n\r\nso now you can see why your IF statement does not execute the desired line. \r\nAlso I am guessing you are trying to print 30 and not the number of your index\r\n\r\n    public class PresentIndex {\r\n        public static int findElementAtIndex(int arr[], int n, int key){\r\n    \r\n            for ( int i = 0; i &lt; n; i++) {\r\n                if (i == key)\r\n                   return arr[i];\r\n            }\r\n            return -1;\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int arr[] = {10, 20, 30, 40, 50};\r\n            int n = arr.length;\r\n            int key = 2;\r\n            System.out.println(&quot;fixed point is:&quot;+findElementAtIndex(arr,n,key));\r\n    \r\n        }\r\n    }\r\n\r\n\r\ntry this out ","title":"Given an array A[] of N integers and an index Key. Your task is to print the element present at index key in the array","body":"<p>what you are doing wrong here is in your IF statement\nyou are comparing an Index to a value. which in this case thankfully it does not match.</p>\n<p>what you really need to do here is compare I to N not arr[i]</p>\n<p>in  your case it will iterate like this</p>\n<pre><code>Is 10 equal to 2\nIs 20 equal to 2\nIs 30 equal to 2\n</code></pre>\n<p>so now you can see why your IF statement does not execute the desired line.\nAlso I am guessing you are trying to print 30 and not the number of your index</p>\n<pre><code>public class PresentIndex {\n    public static int findElementAtIndex(int arr[], int n, int key){\n\n        for ( int i = 0; i &lt; n; i++) {\n            if (i == key)\n               return arr[i];\n        }\n        return -1;\n\n    }\n\n    public static void main(String[] args) {\n        int arr[] = {10, 20, 30, 40, 50};\n        int n = arr.length;\n        int key = 2;\n        System.out.println(&quot;fixed point is:&quot;+findElementAtIndex(arr,n,key));\n\n    }\n}\n</code></pre>\n<p>try this out</p>\n"}],"owner":{"account_id":26085095,"reputation":11,"user_id":19782724,"display_name":"Sunitha Reddy Gudisela"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1661161199,"creation_date":1660721913,"question_id":73384539,"body_markdown":"    public class PresentIndex {\r\n        public static int findElementAtIndex(int arr[], int n, int key){\r\n    \r\n            for ( int i = 0; i &lt; n; i++) {\r\n                if (arr[i] == key)\r\n                   return i;\r\n            }\r\n            return -1;\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int arr[] = {10, 20, 30, 40, 50};\r\n            int n = arr.length;\r\n            int key = 2;\r\n            System.out.println(&quot;fixed point is:&quot;+findElementAtIndex(arr,n,key));\r\n    \r\n        }\r\n    }\r\n\r\nam not able to print the index values\r\n\r\n","title":"Given an array A[] of N integers and an index Key. Your task is to print the element present at index key in the array","body":"<pre><code>public class PresentIndex {\n    public static int findElementAtIndex(int arr[], int n, int key){\n\n        for ( int i = 0; i &lt; n; i++) {\n            if (arr[i] == key)\n               return i;\n        }\n        return -1;\n\n    }\n\n    public static void main(String[] args) {\n        int arr[] = {10, 20, 30, 40, 50};\n        int n = arr.length;\n        int key = 2;\n        System.out.println(&quot;fixed point is:&quot;+findElementAtIndex(arr,n,key));\n\n    }\n}\n</code></pre>\n<p>am not able to print the index values</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661160947,"creation_date":1661160947,"answer_id":73443001,"question_id":73402270,"body_markdown":"The error essentially says that the query `INSERT INTO Score (&#39;rating&#39;, &#39;user&#39;, &#39;score_user&#39;) values :rating, :user, :filmId` is invalid. First of all, you have to understand that there are two query languages at play here. SQL is the underlying query language of your database and then there is HQL which is the query language Hibernate understands. HQL is translated to SQL, but it is an abstraction that tries to hide most of the SQL dialect specifics.\r\n\r\nNow, the query you wrote there is neither valid SQL nor HQL. The valid SQL version of this would look like `INSERT INTO Score (rating, user, score_user) values (:rating, :user, :filmId)`. In HQL, you can&#39;t represent this. So if you must use a named query, you will have to use a &quot;named native query&quot;.\r\n\r\nHibernate is an ORM though, which means that it can synchronize objects with the database. You don&#39;t have to write HQL or SQL queries to do simple things like insert/update/delete. You usually just instantiate an object, and then give that to Hibernate to synchronize it with the database.\r\n\r\nIn your particular case, remove the named query `Score.nieuweScore` and instead use this code:\r\n\r\n    @Override\r\n    @Transactional\r\n    public void nieuweScore(Long filmId, String user, int rating) {\r\n        Film f = em.find(Film.class, filmId);\r\n        f.addRatings(user, rating, null);\r\n    }","title":"antlr.NoViableAltException: unexpected token: values","body":"<p>The error essentially says that the query <code>INSERT INTO Score ('rating', 'user', 'score_user') values :rating, :user, :filmId</code> is invalid. First of all, you have to understand that there are two query languages at play here. SQL is the underlying query language of your database and then there is HQL which is the query language Hibernate understands. HQL is translated to SQL, but it is an abstraction that tries to hide most of the SQL dialect specifics.</p>\n<p>Now, the query you wrote there is neither valid SQL nor HQL. The valid SQL version of this would look like <code>INSERT INTO Score (rating, user, score_user) values (:rating, :user, :filmId)</code>. In HQL, you can't represent this. So if you must use a named query, you will have to use a &quot;named native query&quot;.</p>\n<p>Hibernate is an ORM though, which means that it can synchronize objects with the database. You don't have to write HQL or SQL queries to do simple things like insert/update/delete. You usually just instantiate an object, and then give that to Hibernate to synchronize it with the database.</p>\n<p>In your particular case, remove the named query <code>Score.nieuweScore</code> and instead use this code:</p>\n<pre><code>@Override\n@Transactional\npublic void nieuweScore(Long filmId, String user, int rating) {\n    Film f = em.find(Film.class, filmId);\n    f.addRatings(user, rating, null);\n}\n</code></pre>\n"}],"owner":{"account_id":25407842,"reputation":1,"user_id":19216225,"display_name":"Seppe Everaet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2773,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661160947,"creation_date":1660821985,"question_id":73402270,"body_markdown":"I need to be able to insert the score into the database. I have a command to update an existing score but I don&#39;t find how to enter a new one.\r\n\r\nit is my first time that use JPA to connect a spring boot app with a database(MySQL) but I am making it for a school project.\r\n\r\nJpaScoreDao class\r\n```\r\npackage service;\r\n\r\n@Repository(&quot;scoreDao&quot;)\r\npublic class JpaScoreDao implements ScoreDao{\r\n\r\n\t@PersistenceContext\r\n\tprivate EntityManager em;\r\n\r\n\t@Override\r\n\tpublic List&lt;Score&gt; alleScoreFilm(Long filmId) {\r\n\t\tTypedQuery&lt;Score&gt; query = em.createNamedQuery(&quot;Score.alleScoreFilm&quot;, Score.class)\r\n\t\t\t\t\t\t\t\t\t.setParameter(&quot;filmId&quot;, filmId);\r\n\t\treturn query.getResultList();\t\t\r\n\t}\r\n\r\n\t@Override\r\n\t@Transactional\r\n\tpublic int updateScore(int rating, Long id) {\r\n\t\tQuery query = em.createNamedQuery(&quot;Score.updateScore&quot;)\r\n\t\t\t\t\t\t.setParameter(&quot;rating&quot;, rating)\r\n\t\t\t\t\t\t.setParameter(&quot;id&quot;, id);\r\n\t\treturn query.executeUpdate();\r\n\t}\r\n\r\n\t@Override\r\n\t@Transactional\r\n\tpublic void insert(Score score) {\r\n\t\tem.persist(score);\t\t\r\n\t}\r\n\r\n\t@Override\r\n\t@Transactional\r\n\tpublic void nieuweScore(Long filmId, String user, int rating) {\r\n\t\tQuery query = em.createNamedQuery(&quot;Score.nieuweScore&quot;)\r\n\t\t\t\t\t\t.setParameter(&quot;rating&quot;, rating)\r\n\t\t\t\t\t\t.setParameter(&quot;user&quot;, user)\r\n\t\t\t\t\t\t.setParameter(&quot;filmId&quot;, filmId);\r\n\t\tquery.executeUpdate();\r\n\t}\r\n}\r\n\r\n\t\r\n```\r\nFilm\r\n```\r\npackage domain;\r\n\r\n@Entity\r\n@NamedQueries({\r\n\t@NamedQuery(name=&quot;Film.findAll&quot;, query = &quot;SELECT f FROM Film f ORDER BY f.naam&quot;),\r\n\t@NamedQuery(name=&quot;Film.findFilmByName&quot;, query = &quot;SELECT f FROM Film f WHERE f.naam like :filmNaam&quot;),\r\n\r\n})\r\npublic class Film implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\t\r\n\tprivate String naam;\r\n\t\r\n\tprivate String[] regisseurs;\r\n\t\r\n\t@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n\t@JoinColumn(name = &quot;score_user&quot;)\r\n\tprivate List&lt;Score&gt; ratings;\r\n\t\r\n\tprivate int totaleRating;\r\n\t\r\n\tprivate String code;\r\n\t\r\n\tpublic Film(String naam, String[] regisseurs, Map&lt;String, Integer&gt; ratings, String code) {\r\n\t\tthis.naam = naam;\r\n\t\tthis.regisseurs = regisseurs;\r\n\t\tif (ratings != null) {\r\n\t\t\tthis.ratings = ratings.entrySet()\r\n\t\t\t\t\t.stream()\r\n\t\t\t\t\t.map(e -&gt; new Score(e.getKey(), e.getValue(), null))\r\n\t\t\t\t\t.collect(Collectors.toList());\r\n\t\t} else {\r\n\t\t\tthis.ratings = new ArrayList&lt;Score&gt;();\r\n\t\t}\r\n\t\tthis.setTotaleRating();\r\n\t\tthis.code = code;\r\n\t}\r\n\t\r\n\tprotected Film() {\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn Objects.hash(naam);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tFilm other = (Film) obj;\r\n\t\treturn Objects.equals(naam, other.naam);\r\n\t}\r\n\r\n\tpublic String getNaam() {\r\n\t\treturn naam;\r\n\t}\r\n\r\n\tpublic void setName(String naam) {\r\n\t\tthis.naam = naam;\r\n\t}\r\n\t\r\n\tpublic Map&lt;String, Integer&gt; getRatings() {\r\n\t\tMap&lt;String, Integer&gt; m = new HashMap&lt;String, Integer&gt;();\r\n\t\tfor (Score s: ratings) {\r\n\t\t\tm.put(s.getUser(), s.getRating());\r\n\t\t}\r\n\t\treturn m;\r\n\t}\r\n\t\r\n\tpublic String[] getRegisseurs() {\r\n\t\treturn regisseurs;\r\n\t}\r\n\t\r\n\tpublic void addRatings(String user, int rating, Long id) {\r\n\t\tthis.ratings.add(new Score(user, rating, id));\r\n\t}\r\n\t\r\n\tpublic Integer returnTotaleRating() {\r\n\t\tint sum = 0;\r\n\t\tif (ratings != null) {\r\n\t\t\tif (!ratings.isEmpty()) {\r\n\t\t\t\tfor (Score s: ratings) {\r\n\t\t\t\t\tsum += s.getRating();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n\r\n\tpublic void setRegisseurs(String[] regisseurs) {\r\n\t\tthis.regisseurs = regisseurs;\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic Integer getTotaleRating() {\r\n\t\treturn returnTotaleRating();\r\n\t}\r\n\r\n\tpublic String getCode() {\r\n\t\treturn code;\r\n\t}\r\n\r\n\tpublic void setCode(String code) {\r\n\t\tthis.code = code;\r\n\t}\r\n\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setTotaleRating() {\r\n\t\tint totaal = 0;\r\n\t\tfor (Score s: ratings) {\r\n\t\t\ttotaal += s.getRating();\r\n\t\t}\r\n\t\tthis.totaleRating = totaal;\r\n\t}\t\r\n}\r\n\r\n```\r\nConsole with error \r\n```\r\n\r\nantlr.NoViableAltException: unexpected token: values\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1163) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:825) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:336) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.insertStatement(HqlBaseParser.java:373) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:206) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.query.spi.NamedQueryRepository.checkNamedQueries(NamedQueryRepository.java:177) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:597) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:346) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat \r\n2022-08-18 13:14:16.241 ERROR 3044 --- [           main] o.hibernate.internal.SessionFactoryImpl  : HHH000177: Error in named query: Score.nieuweScore\r\n\r\norg.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 52 [INSERT INTO Score (&#39;rating&#39;, &#39;user&#39;, &#39;score_user&#39;) values :rating, :user, :filmId]\r\n\tat org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.hql.internal.ast.ErrorTracker.throwQueryException(ErrorTracker.java:93) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:301) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.query.spi.NamedQueryRepository.checkNamedQueries(NamedQueryRepository.java:177) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:597) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:346) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat com.springBoot.Filmfestival_JPA.SpringBootFilmfestivalJpaApplication.main(SpringBootFilmfestivalJpaApplication.java:22) ~[classes/:na]\r\n\r\n2022-08-18 13:14:16.242 ERROR 3044 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.HibernateException: Errors in named queries: \r\nScore.nieuweScore failed because of: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 52 [INSERT INTO Score (&#39;rating&#39;, &#39;user&#39;, &#39;score_user&#39;) values :rating, :user, :filmId]\r\n2022-08-18 13:14:16.243  WARN 3044 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [com/springBoot/Filmfestival_JPA/PersistenceJPAConfig.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.HibernateException: Errors in named queries: \r\nScore.nieuweScore failed because of: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 52 [INSERT INTO Score (&#39;rating&#39;, &#39;user&#39;, &#39;score_user&#39;) values :rating, :user, :filmId]\r\n2022-08-18 13:14:16.244  INFO 3044 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-08-18 13:14:16.252  INFO 3044 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-08-18 13:14:16.264 ERROR 3044 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [com/springBoot/Filmfestival_JPA/PersistenceJPAConfig.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.HibernateException: Errors in named queries: \r\nScore.nieuweScore failed because of: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 52 [INSERT INTO Score (&#39;rating&#39;, &#39;user&#39;, &#39;score_user&#39;) values :rating, :user, :filmId]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar:2.7.2]\r\n\tat com.springBoot.Filmfestival_JPA.SpringBootFilmfestivalJpaApplication.main(SpringBootFilmfestivalJpaApplication.java:22) ~[classes/:na]\r\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.HibernateException: Errors in named queries: \r\nScore.nieuweScore failed because of: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 52 [INSERT INTO Score (&#39;rating&#39;, &#39;user&#39;, &#39;score_user&#39;) values :rating, :user, :filmId]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\t... 16 common frames omitted\r\nCaused by: org.hibernate.HibernateException: Errors in named queries: \r\nScore.nieuweScore failed because of: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 52 [INSERT INTO Score (&#39;rating&#39;, &#39;user&#39;, &#39;score_user&#39;) values :rating, :user, :filmId]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:360) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\t... 20 common frames omitted\r\n\r\n```\r\n\r\n\r\n","title":"antlr.NoViableAltException: unexpected token: values","body":"<p>I need to be able to insert the score into the database. I have a command to update an existing score but I don't find how to enter a new one.</p>\n<p>it is my first time that use JPA to connect a spring boot app with a database(MySQL) but I am making it for a school project.</p>\n<p>JpaScoreDao class</p>\n<pre><code>package service;\n\n@Repository(&quot;scoreDao&quot;)\npublic class JpaScoreDao implements ScoreDao{\n\n    @PersistenceContext\n    private EntityManager em;\n\n    @Override\n    public List&lt;Score&gt; alleScoreFilm(Long filmId) {\n        TypedQuery&lt;Score&gt; query = em.createNamedQuery(&quot;Score.alleScoreFilm&quot;, Score.class)\n                                    .setParameter(&quot;filmId&quot;, filmId);\n        return query.getResultList();       \n    }\n\n    @Override\n    @Transactional\n    public int updateScore(int rating, Long id) {\n        Query query = em.createNamedQuery(&quot;Score.updateScore&quot;)\n                        .setParameter(&quot;rating&quot;, rating)\n                        .setParameter(&quot;id&quot;, id);\n        return query.executeUpdate();\n    }\n\n    @Override\n    @Transactional\n    public void insert(Score score) {\n        em.persist(score);      \n    }\n\n    @Override\n    @Transactional\n    public void nieuweScore(Long filmId, String user, int rating) {\n        Query query = em.createNamedQuery(&quot;Score.nieuweScore&quot;)\n                        .setParameter(&quot;rating&quot;, rating)\n                        .setParameter(&quot;user&quot;, user)\n                        .setParameter(&quot;filmId&quot;, filmId);\n        query.executeUpdate();\n    }\n}\n\n    \n</code></pre>\n<p>Film</p>\n<pre><code>package domain;\n\n@Entity\n@NamedQueries({\n    @NamedQuery(name=&quot;Film.findAll&quot;, query = &quot;SELECT f FROM Film f ORDER BY f.naam&quot;),\n    @NamedQuery(name=&quot;Film.findFilmByName&quot;, query = &quot;SELECT f FROM Film f WHERE f.naam like :filmNaam&quot;),\n\n})\npublic class Film implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    private String naam;\n    \n    private String[] regisseurs;\n    \n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;score_user&quot;)\n    private List&lt;Score&gt; ratings;\n    \n    private int totaleRating;\n    \n    private String code;\n    \n    public Film(String naam, String[] regisseurs, Map&lt;String, Integer&gt; ratings, String code) {\n        this.naam = naam;\n        this.regisseurs = regisseurs;\n        if (ratings != null) {\n            this.ratings = ratings.entrySet()\n                    .stream()\n                    .map(e -&gt; new Score(e.getKey(), e.getValue(), null))\n                    .collect(Collectors.toList());\n        } else {\n            this.ratings = new ArrayList&lt;Score&gt;();\n        }\n        this.setTotaleRating();\n        this.code = code;\n    }\n    \n    protected Film() {\n        \n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(naam);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Film other = (Film) obj;\n        return Objects.equals(naam, other.naam);\n    }\n\n    public String getNaam() {\n        return naam;\n    }\n\n    public void setName(String naam) {\n        this.naam = naam;\n    }\n    \n    public Map&lt;String, Integer&gt; getRatings() {\n        Map&lt;String, Integer&gt; m = new HashMap&lt;String, Integer&gt;();\n        for (Score s: ratings) {\n            m.put(s.getUser(), s.getRating());\n        }\n        return m;\n    }\n    \n    public String[] getRegisseurs() {\n        return regisseurs;\n    }\n    \n    public void addRatings(String user, int rating, Long id) {\n        this.ratings.add(new Score(user, rating, id));\n    }\n    \n    public Integer returnTotaleRating() {\n        int sum = 0;\n        if (ratings != null) {\n            if (!ratings.isEmpty()) {\n                for (Score s: ratings) {\n                    sum += s.getRating();\n                }\n            }\n        }\n        return sum;\n    }\n\n    public void setRegisseurs(String[] regisseurs) {\n        this.regisseurs = regisseurs;       \n    }\n    \n    \n    public Integer getTotaleRating() {\n        return returnTotaleRating();\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setTotaleRating() {\n        int totaal = 0;\n        for (Score s: ratings) {\n            totaal += s.getRating();\n        }\n        this.totaleRating = totaal;\n    }   \n}\n\n</code></pre>\n<p>Console with error</p>\n<pre><code>\nantlr.NoViableAltException: unexpected token: values\n    at org.hibernate.hql.internal.antlr.HqlBaseParser.selectFrom(HqlBaseParser.java:1163) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:825) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:336) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.hql.internal.antlr.HqlBaseParser.insertStatement(HqlBaseParser.java:373) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:206) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.query.spi.NamedQueryRepository.checkNamedQueries(NamedQueryRepository.java:177) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:597) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:346) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\n    at \n2022-08-18 13:14:16.241 ERROR 3044 --- [           main] o.hibernate.internal.SessionFactoryImpl  : HHH000177: Error in named query: Score.nieuweScore\n\norg.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 52 [INSERT INTO Score ('rating', 'user', 'score_user') values :rating, :user, :filmId]\n    at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.hql.internal.ast.ErrorTracker.throwQueryException(ErrorTracker.java:93) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:301) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.query.spi.NamedQueryRepository.checkNamedQueries(NamedQueryRepository.java:177) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionFactoryImpl.checkNamedQueries(SessionFactoryImpl.java:597) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:346) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar:2.7.2]\n    at com.springBoot.Filmfestival_JPA.SpringBootFilmfestivalJpaApplication.main(SpringBootFilmfestivalJpaApplication.java:22) ~[classes/:na]\n\n2022-08-18 13:14:16.242 ERROR 3044 --- [           main] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.HibernateException: Errors in named queries: \nScore.nieuweScore failed because of: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 52 [INSERT INTO Score ('rating', 'user', 'score_user') values :rating, :user, :filmId]\n2022-08-18 13:14:16.243  WARN 3044 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [com/springBoot/Filmfestival_JPA/PersistenceJPAConfig.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.HibernateException: Errors in named queries: \nScore.nieuweScore failed because of: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 52 [INSERT INTO Score ('rating', 'user', 'score_user') values :rating, :user, :filmId]\n2022-08-18 13:14:16.244  INFO 3044 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-08-18 13:14:16.252  INFO 3044 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-08-18 13:14:16.264 ERROR 3044 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [com/springBoot/Filmfestival_JPA/PersistenceJPAConfig.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.HibernateException: Errors in named queries: \nScore.nieuweScore failed because of: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 52 [INSERT INTO Score ('rating', 'user', 'score_user') values :rating, :user, :filmId]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.2.jar:2.7.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.2.jar:2.7.2]\n    at com.springBoot.Filmfestival_JPA.SpringBootFilmfestivalJpaApplication.main(SpringBootFilmfestivalJpaApplication.java:22) ~[classes/:na]\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.HibernateException: Errors in named queries: \nScore.nieuweScore failed because of: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 52 [INSERT INTO Score ('rating', 'user', 'score_user') values :rating, :user, :filmId]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\n    ... 16 common frames omitted\nCaused by: org.hibernate.HibernateException: Errors in named queries: \nScore.nieuweScore failed because of: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: values near line 1, column 52 [INSERT INTO Score ('rating', 'user', 'score_user') values :rating, :user, :filmId]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:360) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.22.jar:5.3.22]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.22.jar:5.3.22]\n    ... 20 common frames omitted\n\n</code></pre>\n"},{"tags":["java","spring","hashmap","spring-batch","linkedhashmap"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661160747,"creation_date":1661160747,"answer_id":73442959,"question_id":73433885,"body_markdown":"There is no ordering between job parameters. The usage of a linked hash map is not justified in my opinion.\r\n\r\nYou can open an issue with a link to this SO thread and we will consider changing that in Spring Batch.","title":"Why Spring batch JobParameters using LinkedHashMap","body":"<p>There is no ordering between job parameters. The usage of a linked hash map is not justified in my opinion.</p>\n<p>You can open an issue with a link to this SO thread and we will consider changing that in Spring Batch.</p>\n"}],"owner":{"account_id":26120478,"reputation":11,"user_id":19812857,"display_name":"JinseongHwang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73442959,"answer_count":1,"score":0,"last_activity_date":1661160747,"creation_date":1661080510,"question_id":73433885,"body_markdown":"Compared to `HashMap`, `LinkedHashMap` guarantees input order.\r\n\r\nIn Spring Batch, I think `HashMap` is enough to save `JobParameter`, but I don&#39;t know why `JobParameters` used `LinkedHashMap`. What do you think about this?\r\n\r\nBelow are some of the implementations of `JobParameters`. [Github Link](https://github.com/spring-projects/spring-batch/blob/fe40370f398f8ba89b372d594d67c8051d735a5c/spring-batch-core/src/main/java/org/springframework/batch/core/JobParameters.java#L55)\r\n\r\n```java\r\npublic class JobParameters implements Serializable {\r\n\r\n\tprivate final Map&lt;String,JobParameter&gt; parameters;\r\n\r\n\tpublic JobParameters() {\r\n\t\tthis.parameters = new LinkedHashMap&lt;&gt;();\r\n\t}\r\n\r\n\tpublic JobParameters(Map&lt;String,JobParameter&gt; parameters) {\r\n\t\tthis.parameters = new LinkedHashMap&lt;&gt;(parameters);\r\n\t}\r\n\r\n    // ...\r\n```\r\n\r\n","title":"Why Spring batch JobParameters using LinkedHashMap","body":"<p>Compared to <code>HashMap</code>, <code>LinkedHashMap</code> guarantees input order.</p>\n<p>In Spring Batch, I think <code>HashMap</code> is enough to save <code>JobParameter</code>, but I don't know why <code>JobParameters</code> used <code>LinkedHashMap</code>. What do you think about this?</p>\n<p>Below are some of the implementations of <code>JobParameters</code>. <a href=\"https://github.com/spring-projects/spring-batch/blob/fe40370f398f8ba89b372d594d67c8051d735a5c/spring-batch-core/src/main/java/org/springframework/batch/core/JobParameters.java#L55\" rel=\"nofollow noreferrer\">Github Link</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JobParameters implements Serializable {\n\n    private final Map&lt;String,JobParameter&gt; parameters;\n\n    public JobParameters() {\n        this.parameters = new LinkedHashMap&lt;&gt;();\n    }\n\n    public JobParameters(Map&lt;String,JobParameter&gt; parameters) {\n        this.parameters = new LinkedHashMap&lt;&gt;(parameters);\n    }\n\n    // ...\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","nullpointerexception"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661160742,"creation_date":1661160742,"answer_id":73442957,"question_id":73428540,"body_markdown":"Here is the wrong in your configuration. You have instructed the root debug logs to use only the console appender and hence they only appear in console and not in the file.\r\n\r\n    rootLogger.level = debug\r\n    rootLogger.appenderRefs = stdout\r\n    rootLogger.appenderRef.stdout.ref = STDOUT\r\n\r\nTry with the following configuration which will instruct the logger to use both the console appender and the file appender for those root logs.\r\n\r\n    appender.console.name = STDOUT\r\n    appender.file.name = LOGFILE\r\n    rootLogger.level = debug\r\n    rootLogger.appenderRefs = stdout, fileAppender  &lt;-----\r\n    rootLogger.appenderRef.stdout.ref = STDOUT\r\n    rootLogger.appenderRef.fileAppender.ref = LOGFILE &lt;-----","title":"Log is printed in console and log file is generated but it is empty. how to resolve this?","body":"<p>Here is the wrong in your configuration. You have instructed the root debug logs to use only the console appender and hence they only appear in console and not in the file.</p>\n<pre><code>rootLogger.level = debug\nrootLogger.appenderRefs = stdout\nrootLogger.appenderRef.stdout.ref = STDOUT\n</code></pre>\n<p>Try with the following configuration which will instruct the logger to use both the console appender and the file appender for those root logs.</p>\n<pre><code>appender.console.name = STDOUT\nappender.file.name = LOGFILE\nrootLogger.level = debug\nrootLogger.appenderRefs = stdout, fileAppender  &lt;-----\nrootLogger.appenderRef.stdout.ref = STDOUT\nrootLogger.appenderRef.fileAppender.ref = LOGFILE &lt;-----\n</code></pre>\n"}],"owner":{"account_id":17565786,"reputation":21,"user_id":12742661,"display_name":"codemonster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661160742,"creation_date":1661014390,"question_id":73428540,"body_markdown":"this is my log4j2.properties file. i tried Many times. file is generated but output is empty\r\n\r\n~~~\r\nproperty.filename = logs\r\nappenders = console, file\r\nappender.console.type = Console\r\nappender.console.name = STDOUT\r\nappender.console.layout.type = PatternLayout\r\nappender.console.layout.pattern = [%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\r\nappender.file.type = File\r\nappender.file.name = LOGFILE\r\nappender.file.fileName=C:\\\\SpaceProject\\\\DataDrivernFrameWork\\\\src\\\\test\\\\resources\\\\logs\\\\appLog.log\r\nappender.file.layout.type=PatternLayout\r\nappender.file.layout.pattern=[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\r\nlog4j.appender.file.File=C:\\\\SpaceProject\\\\DataDrivernFrameWork\\\\src\\\\test\\\\resources\\\\logs\\\\appLog.log\r\nloggers=file\r\nlogger.file.name=com.vcentry.lab.base\r\nlogger.file.level = debug\r\nlogger.file.appenderRefs = file\r\nlogger.file.appenderRef.file.ref = LOGFILE\r\nrootLogger.level = debug\r\nrootLogger.appenderRefs = stdout\r\nrootLogger.appenderRef.stdout.ref = STDOUT\r\n~~~","title":"Log is printed in console and log file is generated but it is empty. how to resolve this?","body":"<p>this is my log4j2.properties file. i tried Many times. file is generated but output is empty</p>\n<pre><code>property.filename = logs\nappenders = console, file\nappender.console.type = Console\nappender.console.name = STDOUT\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = [%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\nappender.file.type = File\nappender.file.name = LOGFILE\nappender.file.fileName=C:\\\\SpaceProject\\\\DataDrivernFrameWork\\\\src\\\\test\\\\resources\\\\logs\\\\appLog.log\nappender.file.layout.type=PatternLayout\nappender.file.layout.pattern=[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n\nlog4j.appender.file.File=C:\\\\SpaceProject\\\\DataDrivernFrameWork\\\\src\\\\test\\\\resources\\\\logs\\\\appLog.log\nloggers=file\nlogger.file.name=com.vcentry.lab.base\nlogger.file.level = debug\nlogger.file.appenderRefs = file\nlogger.file.appenderRef.file.ref = LOGFILE\nrootLogger.level = debug\nrootLogger.appenderRefs = stdout\nrootLogger.appenderRef.stdout.ref = STDOUT\n</code></pre>\n"},{"tags":["java","snowflake-cloud-data-platform","user-defined-functions","biginteger"],"comments":[{"owner":{"account_id":17583009,"reputation":10289,"user_id":12756381,"display_name":"Greg Pavlik"},"score":0,"creation_date":1661177383,"post_id":73442181,"comment_id":129703443,"body_markdown":"BigInteger is an arbitrary-precision numeric type. It has no analog data type in Snowflake. You can pass values in and out using String. I have a BigInteger UDF library written in JavaScript that does that https://github.com/GregPavlik/SnowflakeUDFs/tree/main/BigIntegerMath.","body":"BigInteger is an arbitrary-precision numeric type. It has no analog data type in Snowflake. You can pass values in and out using String. I have a BigInteger UDF library written in JavaScript that does that <a href=\"https://github.com/GregPavlik/SnowflakeUDFs/tree/main/BigIntegerMath\" rel=\"nofollow noreferrer\">github.com/GregPavlik/SnowflakeUDFs/tree/main/BigIntegerMath</a>&zwnj;&#8203;."}],"answers":[{"tags":[],"owner":{"account_id":17326670,"reputation":9493,"user_id":12550965,"display_name":"Gokhan Atil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661160580,"creation_date":1661160580,"answer_id":73442922,"question_id":73442181,"body_markdown":"When you change the query (and call pass_through_print outside of the case statement), the execution plan changes, and the function is executed in a stand-alone operation (ExtensionFunction), but in your original query, the function is defined as a volatile function and executed as a part of the projection operation (which is a sub-step of Aggregation).\r\n\r\n[![execution plans][1]][1]\r\n\r\nSomehow calling the function as part of the projection step prevents processing BigInteger (maybe there could be other libraries impacted). Please submit a case to Snowflake support. This looks like a bug. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7H9EL.png","title":"Snowflake Java UDF using BigInteger returning indeterministic results","body":"<p>When you change the query (and call pass_through_print outside of the case statement), the execution plan changes, and the function is executed in a stand-alone operation (ExtensionFunction), but in your original query, the function is defined as a volatile function and executed as a part of the projection operation (which is a sub-step of Aggregation).</p>\n<p><a href=\"https://i.stack.imgur.com/7H9EL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7H9EL.png\" alt=\"execution plans\" /></a></p>\n<p>Somehow calling the function as part of the projection step prevents processing BigInteger (maybe there could be other libraries impacted). Please submit a case to Snowflake support. This looks like a bug.</p>\n"}],"owner":{"account_id":25025829,"reputation":11,"user_id":18884055,"display_name":"Leech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661160580,"creation_date":1661156903,"question_id":73442181,"body_markdown":"I created a Java UDF in Snowflake which takes in a bigint in SQL using a BigInteger in Java, then returns it as a string.\r\n\r\n```\r\ncreate or replace function pass_through_print(divisor bigint) \r\nreturns string \r\nlanguage java \r\nhandler=&#39;TestClass.pass_through_print&#39;\r\nas $$\r\nimport java.math.*;\r\nclass TestClass {\r\n  public static String pass_through_print(BigInteger divisor) {\r\n      return divisor.toString();\r\n  }\r\n}\r\n$$;\r\n```\r\n\r\nI then ran the following tests\r\n\r\n# Test 1 (works as expected)\r\n\r\n```\r\nselect pass_through_val, count(*)\r\nfrom (\r\n    select\r\n    pass_through_print(9) as pass_through_val\r\n    from (\r\n        select seq8() as val\r\n        from table(generator(rowcount =&gt; 100000))\r\n      )\r\n  )\r\ngroup by pass_through_val\r\n```\r\n\r\nResults (Works as expected)\r\n```\r\nPASS_THROUGH_VAL\tCOUNT(*)\r\n9\t        100,000\r\n```\r\n\r\n# Test 2 (indeterministic)\r\n```\r\nselect pass_through_val, count(*)\r\nfrom (\r\n    select\r\n    case\r\n        when val % 2 = 0 then null\r\n        else pass_through_print(9)\r\n    end as pass_through_val\r\n    from (\r\n        select seq8() as val\r\n        from table(generator(rowcount =&gt; 100000))\r\n      )\r\n  )\r\ngroup by pass_through_val\r\n```\r\n## Expected Result\r\n\r\n```\r\nPASS_THROUGH_VAL\tCOUNT(*)\r\nnull\t50,000\r\n9\t    50,000\r\n\r\n```\r\n\r\n## Actual results from multiple runs\r\nThe pass through result changes randomly.\r\n```\r\nPASS_THROUGH_VAL\tCOUNT(*)\r\nnull        \t50,000\r\n-25\t            50,000\r\n```\r\n```\r\nPASS_THROUGH_VAL\tCOUNT(*)\r\nnull        \t50,000\r\n-1\t            50,000\r\n```\r\n```\r\nPASS_THROUGH_VAL\tCOUNT(*)\r\nnull        \t50,000\r\n95\t            50,000\r\n```\r\n\r\nChanging BigInteger to int in the Java UDF works as expected for all tests\r\n```\r\ncreate or replace function pass_through_int_print(val int) \r\nreturns string \r\nlanguage java \r\nhandler=&#39;TestClass.pass_through_int_print&#39;\r\nas $$\r\nimport java.math.*;\r\nclass TestClass {\r\n  public static String pass_through_int_print(int val) {\r\n      return String.valueOf(val);\r\n  }\r\n}\r\n$$;\r\n```\r\n\r\nIt seems like the case statement in combination with BigInteger conversion is causing things to break. Does anyone know what could be happening?\r\n\r\n\r\n**UPDATE**\r\nEven weirder behaviour is that if I call `pass_through_print` outside of the case statement, it works as expected, and it also makes the one inside the case statement work too.\r\n\r\n\r\n### New Test\r\n```\r\nselect pass_through_val_correct, pass_through_val, count(*)\r\nfrom (\r\n    select\r\n    pass_through_print(123) as pass_through_val_correct, -- added this line\r\n    case\r\n        when val % 2 = 0 then null\r\n        else pass_through_print(9)\r\n    end as pass_through_val\r\n    from (\r\n        select seq8() as val\r\n        from table(generator(rowcount =&gt; 1000000))\r\n      )\r\n  )\r\ngroup by pass_through_val_correct, pass_through_val\r\n```\r\n\r\nResult\r\n```\r\nPASS_THROUGH_VAL_CORRECT\tPASS_THROUGH_VAL\tCOUNT(*)\r\n123\tnull\t500,000\r\n123\t9\t    500,000\r\n```\r\n\r\n","title":"Snowflake Java UDF using BigInteger returning indeterministic results","body":"<p>I created a Java UDF in Snowflake which takes in a bigint in SQL using a BigInteger in Java, then returns it as a string.</p>\n<pre><code>create or replace function pass_through_print(divisor bigint) \nreturns string \nlanguage java \nhandler='TestClass.pass_through_print'\nas $$\nimport java.math.*;\nclass TestClass {\n  public static String pass_through_print(BigInteger divisor) {\n      return divisor.toString();\n  }\n}\n$$;\n</code></pre>\n<p>I then ran the following tests</p>\n<h1>Test 1 (works as expected)</h1>\n<pre><code>select pass_through_val, count(*)\nfrom (\n    select\n    pass_through_print(9) as pass_through_val\n    from (\n        select seq8() as val\n        from table(generator(rowcount =&gt; 100000))\n      )\n  )\ngroup by pass_through_val\n</code></pre>\n<p>Results (Works as expected)</p>\n<pre><code>PASS_THROUGH_VAL    COUNT(*)\n9           100,000\n</code></pre>\n<h1>Test 2 (indeterministic)</h1>\n<pre><code>select pass_through_val, count(*)\nfrom (\n    select\n    case\n        when val % 2 = 0 then null\n        else pass_through_print(9)\n    end as pass_through_val\n    from (\n        select seq8() as val\n        from table(generator(rowcount =&gt; 100000))\n      )\n  )\ngroup by pass_through_val\n</code></pre>\n<h2>Expected Result</h2>\n<pre><code>PASS_THROUGH_VAL    COUNT(*)\nnull    50,000\n9       50,000\n\n</code></pre>\n<h2>Actual results from multiple runs</h2>\n<p>The pass through result changes randomly.</p>\n<pre><code>PASS_THROUGH_VAL    COUNT(*)\nnull            50,000\n-25             50,000\n</code></pre>\n<pre><code>PASS_THROUGH_VAL    COUNT(*)\nnull            50,000\n-1              50,000\n</code></pre>\n<pre><code>PASS_THROUGH_VAL    COUNT(*)\nnull            50,000\n95              50,000\n</code></pre>\n<p>Changing BigInteger to int in the Java UDF works as expected for all tests</p>\n<pre><code>create or replace function pass_through_int_print(val int) \nreturns string \nlanguage java \nhandler='TestClass.pass_through_int_print'\nas $$\nimport java.math.*;\nclass TestClass {\n  public static String pass_through_int_print(int val) {\n      return String.valueOf(val);\n  }\n}\n$$;\n</code></pre>\n<p>It seems like the case statement in combination with BigInteger conversion is causing things to break. Does anyone know what could be happening?</p>\n<p><strong>UPDATE</strong>\nEven weirder behaviour is that if I call <code>pass_through_print</code> outside of the case statement, it works as expected, and it also makes the one inside the case statement work too.</p>\n<h3>New Test</h3>\n<pre><code>select pass_through_val_correct, pass_through_val, count(*)\nfrom (\n    select\n    pass_through_print(123) as pass_through_val_correct, -- added this line\n    case\n        when val % 2 = 0 then null\n        else pass_through_print(9)\n    end as pass_through_val\n    from (\n        select seq8() as val\n        from table(generator(rowcount =&gt; 1000000))\n      )\n  )\ngroup by pass_through_val_correct, pass_through_val\n</code></pre>\n<p>Result</p>\n<pre><code>PASS_THROUGH_VAL_CORRECT    PASS_THROUGH_VAL    COUNT(*)\n123 null    500,000\n123 9       500,000\n</code></pre>\n"},{"tags":["java","android","email"],"comments":[{"owner":{"account_id":4284602,"reputation":1767,"user_id":6630837,"accept_rate":80,"display_name":"Sudheesh R"},"score":1,"creation_date":1573831133,"post_id":58878136,"comment_id":104026889,"body_markdown":"hey you need to add this `props.put(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.gmail.com&quot;);`","body":"hey you need to add this <code>props.put(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.gmail.com&quot;);</code>"},{"owner":{"account_id":4284602,"reputation":1767,"user_id":6630837,"accept_rate":80,"display_name":"Sudheesh R"},"score":0,"creation_date":1573840111,"post_id":58878136,"comment_id":104031712,"body_markdown":"I hope this helped you.","body":"I hope this helped you."}],"answers":[{"tags":[],"owner":{"account_id":4284602,"reputation":1767,"user_id":6630837,"accept_rate":80,"display_name":"Sudheesh R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1573841763,"creation_date":1573840570,"answer_id":58882355,"question_id":58878136,"body_markdown":"There is a property missing in your implementation.\r\n\r\nUse `props.put(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.gmail.com&quot;);` in your `doInBackground()` method to overcome this issue.\r\n\r\n**Explanation:** \r\n[Gmail requires SSL][1]\r\n[![google support screenshot][3]][3]\r\n\r\nFrom [java mail documentation][2]:\r\nThe following code fragment shows a simple way to incorporate the needed configuration in your application: \r\n\r\n \r\n\r\n    String host = &quot;smtp.gmail.com&quot;;\r\n    String username = &quot;user&quot;;\r\n    String password = &quot;passwd&quot;;\r\n    Properties props = new Properties();\r\n    props.setProperty(&quot;mail.smtp.host&quot;, host);\r\n    props.setProperty(&quot;mail.smtp.ssl.enable&quot;, &quot;true&quot;);\r\n    // set any other needed mail.smtp.* properties here\r\n    Session session = Session.getInstance(props);\r\n    MimeMessage msg = new MimeMessage(session);\r\n    // set the message content here\r\n    Transport.send(msg, username, password);\r\n\r\n  [1]: https://support.google.com/mail/answer/7126229?hl=en&amp;ref_topic=7280141\r\n  [2]: https://javaee.github.io/javamail/FAQ.html#gmail\r\n  [3]: https://i.stack.imgur.com/twkS5.png","title":"Why I&#39;m getting javax.mail.AuthenticationFailedException?","body":"<p>There is a property missing in your implementation.</p>\n\n<p>Use <code>props.put(\"mail.smtp.ssl.trust\", \"smtp.gmail.com\");</code> in your <code>doInBackground()</code> method to overcome this issue.</p>\n\n<p><strong>Explanation:</strong> \n<a href=\"https://support.google.com/mail/answer/7126229?hl=en&amp;ref_topic=7280141\" rel=\"nofollow noreferrer\">Gmail requires SSL</a>\n<a href=\"https://i.stack.imgur.com/twkS5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/twkS5.png\" alt=\"google support screenshot\"></a></p>\n\n<p>From <a href=\"https://javaee.github.io/javamail/FAQ.html#gmail\" rel=\"nofollow noreferrer\">java mail documentation</a>:\nThe following code fragment shows a simple way to incorporate the needed configuration in your application: </p>\n\n<pre><code>String host = \"smtp.gmail.com\";\nString username = \"user\";\nString password = \"passwd\";\nProperties props = new Properties();\nprops.setProperty(\"mail.smtp.host\", host);\nprops.setProperty(\"mail.smtp.ssl.enable\", \"true\");\n// set any other needed mail.smtp.* properties here\nSession session = Session.getInstance(props);\nMimeMessage msg = new MimeMessage(session);\n// set the message content here\nTransport.send(msg, username, password);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15183828,"reputation":196,"user_id":10956431,"display_name":"Abdulfatah Nasrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661160530,"creation_date":1661160530,"answer_id":73442913,"question_id":58878136,"body_markdown":"\r\nFinal Solution After losing many days I found this solution. you should enable Two-Factor Authentication in your Gmail account and then create App Password by fellow these steps:\r\n\r\n1. Go to your Google Account.\r\n2. Select Security.\r\n3. Under &quot;Signing in to Google,&quot; select App Passwords. You may need to sign in. If you donât have this option, it might be because:\r\n- 2-Step Verification is not set up for your account.\r\n- 2-Step Verification is only set up for security keys.\r\n- Your account is through work, school, or other organizations.\r\n- You turned on Advanced Protection.\r\n4. At the bottom, choose Select app and choose the app you using and then Select the device and choose the device youâre using, and then Generate.\r\n5. Follow the instructions to enter the App Password. The App Password is the 16-character code in the yellow bar on your device.\r\n6. Tap Done.\r\n\r\nafter that copy the generated password and paste it into your JavaMail password section.\r\n\r\nGood luck.","title":"Why I&#39;m getting javax.mail.AuthenticationFailedException?","body":"<p>Final Solution After losing many days I found this solution. you should enable Two-Factor Authentication in your Gmail account and then create App Password by fellow these steps:</p>\n<ol>\n<li>Go to your Google Account.</li>\n<li>Select Security.</li>\n<li>Under &quot;Signing in to Google,&quot; select App Passwords. You may need to sign in. If you donât have this option, it might be because:</li>\n</ol>\n<ul>\n<li>2-Step Verification is not set up for your account.</li>\n<li>2-Step Verification is only set up for security keys.</li>\n<li>Your account is through work, school, or other organizations.</li>\n<li>You turned on Advanced Protection.</li>\n</ul>\n<ol start=\"4\">\n<li>At the bottom, choose Select app and choose the app you using and then Select the device and choose the device youâre using, and then Generate.</li>\n<li>Follow the instructions to enter the App Password. The App Password is the 16-character code in the yellow bar on your device.</li>\n<li>Tap Done.</li>\n</ol>\n<p>after that copy the generated password and paste it into your JavaMail password section.</p>\n<p>Good luck.</p>\n"}],"owner":{"account_id":15833894,"reputation":175,"user_id":11424329,"display_name":"Calin Onaca"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2898,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58882355,"answer_count":2,"score":2,"last_activity_date":1661160530,"creation_date":1573824786,"question_id":58878136,"body_markdown":"Can someone tells me why the app throws this?\r\n\r\n```\r\nW/System.err: javax.mail.AuthenticationFailedException\r\n        at javax.mail.Service.connect(Service.java:319)\r\n        at javax.mail.Service.connect(Service.java:169)\r\n        at javax.mail.Service.connect(Service.java:118)\r\n        at javax.mail.Transport.send0(Transport.java:188)\r\nW/System.err:     at javax.mail.Transport.send(Transport.java:118)\r\n        at com.example.**.Utils.SendMail.doInBackground(SendMail.java:71)\r\n        at com.example.**.Utils.SendMail.doInBackground(SendMail.java:19)\r\n        at android.os.AsyncTask$3.call(AsyncTask.java:378)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:919)\r\n\r\n\r\n```\r\n\r\nI&#39;m trying to send a mail with javamail api.\r\n\r\nI want to mention that I checked on the mail account, less secure apps.\r\n\r\nThis is the SendMail class\r\n\r\n```\r\npackage com.example.****.Utils;\r\n\r\n\r\nimport android.content.Context;\r\nimport android.os.AsyncTask;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.Properties;\r\n\r\nimport javax.mail.Message;\r\nimport javax.mail.MessagingException;\r\nimport javax.mail.PasswordAuthentication;\r\nimport javax.mail.Session;\r\nimport javax.mail.Transport;\r\nimport javax.mail.internet.InternetAddress;\r\nimport javax.mail.internet.MimeMessage;\r\n\r\n\r\npublic class SendMail extends AsyncTask&lt;Void, Void, Void&gt; {\r\n\r\n  private Context context;\r\n  private Session session;\r\n\r\n\r\n  private String email;\r\n  private String subject;\r\n  private String message;\r\n\r\n  public SendMail(Context context, String email, String subject, String message)\r\n  {\r\n      this.context = context;\r\n      this.email = email;\r\n      this.subject = subject;\r\n      this.message = message;\r\n  }\r\n\r\n  @Override\r\n    protected void onPreExecute() {\r\n      super.onPreExecute();\r\n      Toast.makeText(context, &quot;Sending mail...&quot;, Toast.LENGTH_SHORT).show();\r\n  }\r\n\r\n  @Override\r\n    protected void onPostExecute(Void aVoid)\r\n  {\r\n      super.onPostExecute(aVoid);\r\n      Toast.makeText(context, &quot;Message Sent&quot;, Toast.LENGTH_SHORT).show();\r\n  }\r\n\r\n  @Override\r\n    protected Void doInBackground(Void... params) {\r\n      Properties props = new Properties();\r\n      props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n      props.put(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\r\n      props.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n      props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n      props.put(&quot;mail.smtp.port&quot;, &quot;465&quot;);\r\n\r\n      session = Session.getDefaultInstance(props, new javax.mail.Authenticator() {\r\n          protected  PasswordAuthentication getPasswordAuthentication() {\r\n              return new PasswordAuthentication(Config.EMAIL, Config.PASSWORD);\r\n          }\r\n      });\r\n      try {\r\n          MimeMessage mm = new MimeMessage(session);\r\n          mm.setFrom(new InternetAddress(Config.EMAIL));\r\n          mm.addRecipient(Message.RecipientType.TO, new InternetAddress(email));\r\n          mm.setSubject(subject);\r\n          mm.setText(message);\r\n\r\n          Transport.send(mm);\r\n      }\r\n      catch (MessagingException e) {\r\n          e.printStackTrace();\r\n      }\r\n      return null;\r\n  }\r\n}\r\n\r\n```\r\n\r\nAnd here I&#39;m using it\r\n\r\n```\r\n  String email = &quot;******&quot;;\r\n        String subject = &quot;Activation&quot;;\r\n        String message = &quot;This User requires activation: &quot; + &quot;&lt;a href=&#39;http://localhost:80/approve/&quot; +mAuth.getCurrentUser().getEmail() +&quot;&gt; Click here &lt;/a&gt;&quot;;\r\n\r\n        SendMail sm = new SendMail(this, email, subject,message);\r\n        sm.execute();\r\n```\r\n\r\nI provided the right password, I checked that on my Google Account, it should be working\r\ncan you please help me?\r\n\r\nThank you in advance!","title":"Why I&#39;m getting javax.mail.AuthenticationFailedException?","body":"<p>Can someone tells me why the app throws this?</p>\n\n<pre><code>W/System.err: javax.mail.AuthenticationFailedException\n        at javax.mail.Service.connect(Service.java:319)\n        at javax.mail.Service.connect(Service.java:169)\n        at javax.mail.Service.connect(Service.java:118)\n        at javax.mail.Transport.send0(Transport.java:188)\nW/System.err:     at javax.mail.Transport.send(Transport.java:118)\n        at com.example.**.Utils.SendMail.doInBackground(SendMail.java:71)\n        at com.example.**.Utils.SendMail.doInBackground(SendMail.java:19)\n        at android.os.AsyncTask$3.call(AsyncTask.java:378)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:919)\n\n\n</code></pre>\n\n<p>I'm trying to send a mail with javamail api.</p>\n\n<p>I want to mention that I checked on the mail account, less secure apps.</p>\n\n<p>This is the SendMail class</p>\n\n<pre><code>package com.example.****.Utils;\n\n\nimport android.content.Context;\nimport android.os.AsyncTask;\nimport android.widget.Toast;\n\nimport java.util.Properties;\n\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\n\npublic class SendMail extends AsyncTask&lt;Void, Void, Void&gt; {\n\n  private Context context;\n  private Session session;\n\n\n  private String email;\n  private String subject;\n  private String message;\n\n  public SendMail(Context context, String email, String subject, String message)\n  {\n      this.context = context;\n      this.email = email;\n      this.subject = subject;\n      this.message = message;\n  }\n\n  @Override\n    protected void onPreExecute() {\n      super.onPreExecute();\n      Toast.makeText(context, \"Sending mail...\", Toast.LENGTH_SHORT).show();\n  }\n\n  @Override\n    protected void onPostExecute(Void aVoid)\n  {\n      super.onPostExecute(aVoid);\n      Toast.makeText(context, \"Message Sent\", Toast.LENGTH_SHORT).show();\n  }\n\n  @Override\n    protected Void doInBackground(Void... params) {\n      Properties props = new Properties();\n      props.put(\"mail.smtp.host\", \"smtp.gmail.com\");\n      props.put(\"mail.smtp.socketFactory.port\", \"465\");\n      props.put(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\");\n      props.put(\"mail.smtp.auth\", \"true\");\n      props.put(\"mail.smtp.port\", \"465\");\n\n      session = Session.getDefaultInstance(props, new javax.mail.Authenticator() {\n          protected  PasswordAuthentication getPasswordAuthentication() {\n              return new PasswordAuthentication(Config.EMAIL, Config.PASSWORD);\n          }\n      });\n      try {\n          MimeMessage mm = new MimeMessage(session);\n          mm.setFrom(new InternetAddress(Config.EMAIL));\n          mm.addRecipient(Message.RecipientType.TO, new InternetAddress(email));\n          mm.setSubject(subject);\n          mm.setText(message);\n\n          Transport.send(mm);\n      }\n      catch (MessagingException e) {\n          e.printStackTrace();\n      }\n      return null;\n  }\n}\n\n</code></pre>\n\n<p>And here I'm using it</p>\n\n<pre><code>  String email = \"******\";\n        String subject = \"Activation\";\n        String message = \"This User requires activation: \" + \"&lt;a href='http://localhost:80/approve/\" +mAuth.getCurrentUser().getEmail() +\"&gt; Click here &lt;/a&gt;\";\n\n        SendMail sm = new SendMail(this, email, subject,message);\n        sm.execute();\n</code></pre>\n\n<p>I provided the right password, I checked that on my Google Account, it should be working\ncan you please help me?</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["java","gxt"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1660676511,"post_id":73374517,"comment_id":129587318,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26077269,"reputation":11,"user_id":19776043,"display_name":"M&#233;andres"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661160486,"creation_date":1661160486,"answer_id":73442905,"question_id":73374517,"body_markdown":"I finally found a solution, I just need to use the setX method in my textConfig so my code looks something like this :\r\n\r\n    TextSprite textConfig = new TextSprite();\r\n    textConfig.setFont(&quot;Arial&quot;);\r\n    textConfig.setTextBaseline(TextBaseline.MIDDLE);\r\n    textConfig.setFontSize(18);\r\n    textConfig.setTextAnchor(TextAnchor.MIDDLE);\r\n    textConfig.setZIndex(15);\r\n    textConfig.setX(-150);\r\n150 worked for me but maybe it won&#39;t for you.","title":"Sencha GXT4 : How to display text inside a pie chart?","body":"<p>I finally found a solution, I just need to use the setX method in my textConfig so my code looks something like this :</p>\n<pre><code>TextSprite textConfig = new TextSprite();\ntextConfig.setFont(&quot;Arial&quot;);\ntextConfig.setTextBaseline(TextBaseline.MIDDLE);\ntextConfig.setFontSize(18);\ntextConfig.setTextAnchor(TextAnchor.MIDDLE);\ntextConfig.setZIndex(15);\ntextConfig.setX(-150);\n</code></pre>\n<p>150 worked for me but maybe it won't for you.</p>\n"}],"owner":{"account_id":26077269,"reputation":11,"user_id":19776043,"display_name":"M&#233;andres"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73442905,"answer_count":1,"score":0,"last_activity_date":1661160486,"creation_date":1660655247,"question_id":73374517,"body_markdown":"I&#39;m developing an application with the GWT framework and Sencha GXT on the front-end.\r\nI managed to display some data in a pie chart but I would also like to have a label inside the donut pie chart like ![this image][1]. I looked at the demo provided by sencha as well as the &quot;Chart&quot; class but I don&#39;t see any cases where there is text inside a pie chart. Is it feasible ? \r\n\r\nI&#39;m using &quot;Sencha GXT 4.0.0 - Sencha for GWT&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bqpE5.png","title":"Sencha GXT4 : How to display text inside a pie chart?","body":"<p>I'm developing an application with the GWT framework and Sencha GXT on the front-end.\nI managed to display some data in a pie chart but I would also like to have a label inside the donut pie chart like <img src=\"https://i.stack.imgur.com/bqpE5.png\" alt=\"this image\" />. I looked at the demo provided by sencha as well as the &quot;Chart&quot; class but I don't see any cases where there is text inside a pie chart. Is it feasible ?</p>\n<p>I'm using &quot;Sencha GXT 4.0.0 - Sencha for GWT&quot;</p>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661160208,"creation_date":1661159564,"answer_id":73442726,"question_id":73442567,"body_markdown":"There are a couple of problems there:\r\n\r\n1. The stack overflow issue you asked about.\r\n\r\n2. The basic logic of the method.\r\n\r\nThe first problem is that `getArr(num, idx++, x--)` uses the *postfix* increment operator (the `++` is after the operand), so it passes the **current** value of `idx` to `getArr` and **then** increments the parameter&#39;s value. But nothing ever uses the incremented parameter value. So if `idx` is `0` and `x` is `10`, you&#39;re endlessly calling `getArr(nums, 0, 10)` until you overflow the stack. If you were going to use the increment operator, it would need to be the *prefix* increment operator where the `++` is in front of the operand (`++idx`), but there&#39;s no reason to use the increment operator: just use `idx + 1`.\r\n\r\nThe second problem is that even if you fix the above, by increasing `idx` and decreasing `x` and stopping when `idx &gt; x` is true, you&#39;re going to miss out filling in most of the array. For instance, if you started with `idx` at `0` and `x` at `10`, your code would stop when `idx` was `6` and `x` was `4`, leaving the last several slots of your array uninitialized: `[0, 1, 2, 3, 4, 5, 0, 0, 0, 0]`. Instead, get rid of `x` entirely and make `idx &gt;= nums.length` your termination condition:\r\n\r\n```\r\npublic int[] genArr(int[] nums, int idx) {\r\n// #2 No `x` ââââââââââââââââââââââââââ^\r\n    if (idx &gt;= nums.length) {\r\n// #2 ââââââ^^^^^^^^^^^^^^ compare with `nums.length`\r\n        return nums;\r\n    } else {\r\n        nums[idx] = idx;\r\n        return genArr(nums, idx + 1);\r\n// #1 ââââââââââââââââââââââ^^^^^^^\r\n    }\r\n}\r\n```\r\n\r\nTechnically, you could use `==` rather than `&gt;=` because you only ever add `1` to `idx`, but I tend to be paranoid about array access guards like that and use `&gt;=` instead (in case logic changes and we add more than `1` at some point).","title":"fill array with recursive method","body":"<p>There are a couple of problems there:</p>\n<ol>\n<li><p>The stack overflow issue you asked about.</p>\n</li>\n<li><p>The basic logic of the method.</p>\n</li>\n</ol>\n<p>The first problem is that <code>getArr(num, idx++, x--)</code> uses the <em>postfix</em> increment operator (the <code>++</code> is after the operand), so it passes the <strong>current</strong> value of <code>idx</code> to <code>getArr</code> and <strong>then</strong> increments the parameter's value. But nothing ever uses the incremented parameter value. So if <code>idx</code> is <code>0</code> and <code>x</code> is <code>10</code>, you're endlessly calling <code>getArr(nums, 0, 10)</code> until you overflow the stack. If you were going to use the increment operator, it would need to be the <em>prefix</em> increment operator where the <code>++</code> is in front of the operand (<code>++idx</code>), but there's no reason to use the increment operator: just use <code>idx + 1</code>.</p>\n<p>The second problem is that even if you fix the above, by increasing <code>idx</code> and decreasing <code>x</code> and stopping when <code>idx &gt; x</code> is true, you're going to miss out filling in most of the array. For instance, if you started with <code>idx</code> at <code>0</code> and <code>x</code> at <code>10</code>, your code would stop when <code>idx</code> was <code>6</code> and <code>x</code> was <code>4</code>, leaving the last several slots of your array uninitialized: <code>[0, 1, 2, 3, 4, 5, 0, 0, 0, 0]</code>. Instead, get rid of <code>x</code> entirely and make <code>idx &gt;= nums.length</code> your termination condition:</p>\n<pre><code>public int[] genArr(int[] nums, int idx) {\n// #2 No `x` ââââââââââââââââââââââââââ^\n    if (idx &gt;= nums.length) {\n// #2 ââââââ^^^^^^^^^^^^^^ compare with `nums.length`\n        return nums;\n    } else {\n        nums[idx] = idx;\n        return genArr(nums, idx + 1);\n// #1 ââââââââââââââââââââââ^^^^^^^\n    }\n}\n</code></pre>\n<p>Technically, you could use <code>==</code> rather than <code>&gt;=</code> because you only ever add <code>1</code> to <code>idx</code>, but I tend to be paranoid about array access guards like that and use <code>&gt;=</code> instead (in case logic changes and we add more than <code>1</code> at some point).</p>\n"}],"owner":{"account_id":20620703,"reputation":33,"user_id":15137802,"display_name":"casio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73442726,"answer_count":1,"score":-1,"last_activity_date":1661160208,"creation_date":1661158882,"question_id":73442567,"body_markdown":"I m trying to create a function  to fill array with the recursive method in java this is my code  (the parameter x is the size of the array): \r\n\r\n\r\n    public int[] genArr(int[] nums,int idx,int x){\r\n        if(idx&gt;x){\r\n            return nums;\r\n        }\r\n       \r\n        else{\r\n        nums[idx] = idx;\r\n        return genArr(nums,idx++,x--);\r\n        }\r\n         \r\n    }\r\n\r\nbut when run my function I have stackOverflow error.\r\n\r\nSomebody can help me ?","title":"fill array with recursive method","body":"<p>I m trying to create a function  to fill array with the recursive method in java this is my code  (the parameter x is the size of the array):</p>\n<pre><code>public int[] genArr(int[] nums,int idx,int x){\n    if(idx&gt;x){\n        return nums;\n    }\n   \n    else{\n    nums[idx] = idx;\n    return genArr(nums,idx++,x--);\n    }\n     \n}\n</code></pre>\n<p>but when run my function I have stackOverflow error.</p>\n<p>Somebody can help me ?</p>\n"},{"tags":["java","maven","endpoint","vaadin-flow","vaadin-fusion"],"comments":[{"owner":{"account_id":8818268,"reputation":150,"user_id":6588997,"display_name":"Johannes Tuikkala"},"score":0,"creation_date":1675425952,"post_id":73442628,"comment_id":132931376,"body_markdown":"There is an example multi module Maven Hilla project for demonstrating Vaadin SSO Kit: https://github.com/vaadin/sso-kit-hilla","body":"There is an example multi module Maven Hilla project for demonstrating Vaadin SSO Kit: <a href=\"https://github.com/vaadin/sso-kit-hilla\" rel=\"nofollow noreferrer\">github.com/vaadin/sso-kit-hilla</a>"},{"owner":{"account_id":8818268,"reputation":150,"user_id":6588997,"display_name":"Johannes Tuikkala"},"score":0,"creation_date":1675426827,"post_id":73442628,"comment_id":132931602,"body_markdown":"Another example with an application and library modules: https://github.com/vaadin/hilla-multi-module","body":"Another example with an application and library modules: <a href=\"https://github.com/vaadin/hilla-multi-module\" rel=\"nofollow noreferrer\">github.com/vaadin/hilla-multi-module</a>"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661160145,"creation_date":1661160145,"answer_id":73442846,"question_id":73442628,"body_markdown":"There is a new experimental feature that generates from the byte code instead of the source code and there for also works with Maven multi module projects.\r\n\r\nYou can enable it in src/main/resources/vaadin-featureflags.properties\r\n\r\n    com.vaadin.experimental.hillaEngine=true","title":"How to properly configure a multi module maven project where submodules uses Vaadin Fusion @Endpoint-s?","body":"<p>There is a new experimental feature that generates from the byte code instead of the source code and there for also works with Maven multi module projects.</p>\n<p>You can enable it in src/main/resources/vaadin-featureflags.properties</p>\n<pre><code>com.vaadin.experimental.hillaEngine=true\n</code></pre>\n"}],"owner":{"account_id":7902673,"reputation":11,"user_id":6492828,"display_name":"notARealMVP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661160145,"creation_date":1661159129,"question_id":73442628,"body_markdown":"We have a project with several Spring Boot apps, one of them has a Vaadin Flow UI with some `dev.hilla @Endpoint`.\r\n\r\nThe project structure:\r\n```project_folder\r\n|-applications\r\n  |-app1(vaadin app)\r\n  |-app2(cli app)\r\n|-ui\r\n  |-ui-module1\r\n  |-ui-module2\r\n```\r\nThe ui modules containes the TS files and the corresponding Java files and should conatines the modules endpoints, if any.\r\nApp1 uses the ui modules as maven dependencies.\r\nWhen it comes to `@Endpoint`s, only the classes in `app1/src/min/java/**` are processed by the `vaadin-dev-server`. If I place a Java class with `@Endpoint` annotation in any other maven module, no processing, no TS generation, I can not use that endpoint.\r\n\r\nCurrently we must place all the endpoint classes in app1.\r\n\r\n - Is there any way I can configure my project to find all @Endpoint\r\n   annotated classes?\r\n - Or to use the classpath for scanning instead of\r\n   the app1 source folder?\r\n\r\nVersions:\r\n\r\nVaadin 23, Spring Boot 2.7\r\n\r\n","title":"How to properly configure a multi module maven project where submodules uses Vaadin Fusion @Endpoint-s?","body":"<p>We have a project with several Spring Boot apps, one of them has a Vaadin Flow UI with some <code>dev.hilla @Endpoint</code>.</p>\n<p>The project structure:</p>\n<pre><code>|-applications\n  |-app1(vaadin app)\n  |-app2(cli app)\n|-ui\n  |-ui-module1\n  |-ui-module2\n</code></pre>\n<p>The ui modules containes the TS files and the corresponding Java files and should conatines the modules endpoints, if any.\nApp1 uses the ui modules as maven dependencies.\nWhen it comes to <code>@Endpoint</code>s, only the classes in <code>app1/src/min/java/**</code> are processed by the <code>vaadin-dev-server</code>. If I place a Java class with <code>@Endpoint</code> annotation in any other maven module, no processing, no TS generation, I can not use that endpoint.</p>\n<p>Currently we must place all the endpoint classes in app1.</p>\n<ul>\n<li>Is there any way I can configure my project to find all @Endpoint\nannotated classes?</li>\n<li>Or to use the classpath for scanning instead of\nthe app1 source folder?</li>\n</ul>\n<p>Versions:</p>\n<p>Vaadin 23, Spring Boot 2.7</p>\n"},{"tags":["java","docker","gradle"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1646209611,"post_id":71317837,"comment_id":126064118,"body_markdown":"IMHO that means that you should switch to a different plugin for creating docker images. The problem has been reported to the plugin authors (https://github.com/Transmode/gradle-docker/issues/160) 9 months ago but the plugin was never updated to make it compatible with Gradle 7.","body":"IMHO that means that you should switch to a different plugin for creating docker images. The problem has been reported to the plugin authors (<a href=\"https://github.com/Transmode/gradle-docker/issues/160\" rel=\"nofollow noreferrer\">github.com/Transmode/gradle-docker/issues/160</a>) 9 months ago but the plugin was never updated to make it compatible with Gradle 7."}],"answers":[{"tags":[],"owner":{"account_id":7294491,"reputation":41,"user_id":5559850,"display_name":"Mervin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661159885,"creation_date":1661159885,"answer_id":73442782,"question_id":71317837,"body_markdown":"There is no fix for this issue yet from the transmode team, the plugin was last updated 6years ago, and the last official release by them was 1.2.\r\n\r\nPlease see the below article in gradle forum, where they suggest to look for an alternative.\r\nhttps://discuss.gradle.org/t/missing-an-input-or-output-annotation/41061","title":"Missing input output annotations gradle 7.3 issue with java 17","body":"<p>There is no fix for this issue yet from the transmode team, the plugin was last updated 6years ago, and the last official release by them was 1.2.</p>\n<p>Please see the below article in gradle forum, where they suggest to look for an alternative.\n<a href=\"https://discuss.gradle.org/t/missing-an-input-or-output-annotation/41061\" rel=\"nofollow noreferrer\">https://discuss.gradle.org/t/missing-an-input-or-output-annotation/41061</a></p>\n"}],"owner":{"account_id":13428828,"reputation":31,"user_id":9689230,"display_name":"user9689230"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4787,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1661159885,"creation_date":1646198857,"question_id":71317837,"body_markdown":"I have upgraded to **Gradle 7.3** to make it compatiple with **Java17**.I keep getting the below error for task buildDocker\r\n\r\n\r\n\r\nTask :buildDocker FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nSome problems were found with the configuration of task &#39;:buildDocker&#39; (type &#39;DockerTask&#39;).\r\n  - In plugin &#39;docker&#39; type &#39;se.transmode.gradle.plugins.docker.DockerTask&#39; property &#39;apiEmail&#39; is missing an input or output annotation.\r\n    \r\n    Reason: A property without annotation isn&#39;t considered during up-to-date checking.\r\n    \r\n    Possible solutions:\r\n      1. Add an input or output annotation.\r\n      2. Mark it as @Internal.\r\n    \r\n    Please refer to https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation for more details about this problem.\r\n  - In plugin &#39;docker&#39; type &#39;se.transmode.gradle.plugins.docker.DockerTask&#39; property &#39;apiPassword&#39; is missing an input or output annotation.\r\n    \r\n    Reason: A property without annotation isn&#39;t considered during up-to-date checking.\r\n    \r\n    Possible solutions:\r\n      1. Add an input or output annotation.\r\n      2. Mark it as @Internal.\r\n    \r\n    Please refer to https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation for more details about this problem.\r\n  - In plugin &#39;docker&#39; type &#39;se.transmode.gradle.plugins.docker.DockerTask&#39; property &#39;apiUsername&#39; is missing an input or output annotation.\r\n    \r\n    Reason: A property without annotation isn&#39;t considered during up-to-date checking.\r\n    \r\n    Possible solutions:\r\n      1. Add an input or output annotation.\r\n      2. Mark it as @Internal.\r\n    \r\n    Please refer to https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation for more details about this problem.\r\n  - In plugin &#39;docker&#39; type &#39;se.transmode.gradle.plugins.docker.DockerTask&#39; property &#39;applicationName&#39; is missing an input or output annotation.\r\n    \r\n    Reason: A property without annotation isn&#39;t considered during up-to-date checking.\r\n    \r\n    Possible solutions:\r\n      1. Add an input or output annotation.\r\n      2. Mark it as @Internal.\r\n    \r\n    Please refer to https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation for more details about this problem.\r\n  - In plugin &#39;docker&#39; type &#39;se.transmode.gradle.plugins.docker.DockerTask&#39; property &#39;baseImage&#39; is missing an input or output annotation.\r\n    \r\n    Reason: A property without annotation isn&#39;t considered during up-to-date checking.\r\n    \r\n    Possible solutions:\r\n      1. Add an input or output annotation.\r\n      2. Mark it as @Internal.\r\n\r\n\r\n\r\n\r\n     The task written is build.gradle is\r\n\r\n     task buildDocker(type: Docker, dependsOn: build) {\r\n    applicationName = &#39;api&#39;\r\n    dockerfile = file(&#39;src/docker/Dockerfile&#39;)\r\n    doFirst {\r\n        copy {\r\n            from file(&#39;src/docker&#39;)\r\n            from war\r\n            into stageDir\r\n        }\r\n    }\r\n}\r\n    \r\n","title":"Missing input output annotations gradle 7.3 issue with java 17","body":"<p>I have upgraded to <strong>Gradle 7.3</strong> to make it compatiple with <strong>Java17</strong>.I keep getting the below error for task buildDocker</p>\n<p>Task :buildDocker FAILED</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nSome problems were found with the configuration of task ':buildDocker' (type 'DockerTask').\n<ul>\n<li><p>In plugin 'docker' type 'se.transmode.gradle.plugins.docker.DockerTask' property 'apiEmail' is missing an input or output annotation.</p>\n<p>Reason: A property without annotation isn't considered during up-to-date checking.</p>\n<p>Possible solutions:</p>\n<ol>\n<li>Add an input or output annotation.</li>\n<li>Mark it as @Internal.</li>\n</ol>\n<p>Please refer to <a href=\"https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation</a> for more details about this problem.</p>\n</li>\n<li><p>In plugin 'docker' type 'se.transmode.gradle.plugins.docker.DockerTask' property 'apiPassword' is missing an input or output annotation.</p>\n<p>Reason: A property without annotation isn't considered during up-to-date checking.</p>\n<p>Possible solutions:</p>\n<ol>\n<li>Add an input or output annotation.</li>\n<li>Mark it as @Internal.</li>\n</ol>\n<p>Please refer to <a href=\"https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation</a> for more details about this problem.</p>\n</li>\n<li><p>In plugin 'docker' type 'se.transmode.gradle.plugins.docker.DockerTask' property 'apiUsername' is missing an input or output annotation.</p>\n<p>Reason: A property without annotation isn't considered during up-to-date checking.</p>\n<p>Possible solutions:</p>\n<ol>\n<li>Add an input or output annotation.</li>\n<li>Mark it as @Internal.</li>\n</ol>\n<p>Please refer to <a href=\"https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation</a> for more details about this problem.</p>\n</li>\n<li><p>In plugin 'docker' type 'se.transmode.gradle.plugins.docker.DockerTask' property 'applicationName' is missing an input or output annotation.</p>\n<p>Reason: A property without annotation isn't considered during up-to-date checking.</p>\n<p>Possible solutions:</p>\n<ol>\n<li>Add an input or output annotation.</li>\n<li>Mark it as @Internal.</li>\n</ol>\n<p>Please refer to <a href=\"https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.3/userguide/validation_problems.html#missing_annotation</a> for more details about this problem.</p>\n</li>\n<li><p>In plugin 'docker' type 'se.transmode.gradle.plugins.docker.DockerTask' property 'baseImage' is missing an input or output annotation.</p>\n<p>Reason: A property without annotation isn't considered during up-to-date checking.</p>\n<p>Possible solutions:</p>\n<ol>\n<li>Add an input or output annotation.</li>\n<li>Mark it as @Internal.</li>\n</ol>\n<p>The task written is build.gradle is</p>\n<p>task buildDocker(type: Docker, dependsOn: build) {\napplicationName = 'api'\ndockerfile = file('src/docker/Dockerfile')\ndoFirst {\ncopy {\nfrom file('src/docker')\nfrom war\ninto stageDir\n}\n}\n}</p>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":["java","python","pylucene"],"comments":[{"owner":{"account_id":8536015,"reputation":2201,"user_id":6397798,"accept_rate":60,"display_name":"bracco23"},"score":0,"creation_date":1597674863,"post_id":63452974,"comment_id":112203365,"body_markdown":"Have you checked if `libjava.so` and `libjvm.so` exist in any of the paths mentioned to the `-L` options or anywhere else in your system?","body":"Have you checked if <code>libjava.so</code> and <code>libjvm.so</code> exist in any of the paths mentioned to the <code>-L</code> options or anywhere else in your system?"},{"owner":{"account_id":7347237,"reputation":510,"user_id":5594539,"accept_rate":74,"display_name":"Joozty"},"score":0,"creation_date":1597675088,"post_id":63452974,"comment_id":112203513,"body_markdown":"I am not sure how to do that tbh.","body":"I am not sure how to do that tbh."},{"owner":{"account_id":8536015,"reputation":2201,"user_id":6397798,"accept_rate":60,"display_name":"bracco23"},"score":0,"creation_date":1597675424,"post_id":63452974,"comment_id":112203702,"body_markdown":"I would suggest going into your `/usr/lib/jvm` folder and performing a search to see if you can find the file anywhere  (a simple `find . -name &quot;libjvm.so&quot;` should be enough). After that, once you know where they are, you can find what additional env var you should set to have the setup correctly find them too (i suspect `JCC_JDK` is pointing to the wrong directory but i cannot prove it)","body":"I would suggest going into your <code>&#47;usr&#47;lib&#47;jvm</code> folder and performing a search to see if you can find the file anywhere  (a simple <code>find . -name &quot;libjvm.so&quot;</code> should be enough). After that, once you know where they are, you can find what additional env var you should set to have the setup correctly find them too (i suspect <code>JCC_JDK</code> is pointing to the wrong directory but i cannot prove it)"}],"answers":[{"tags":[],"owner":{"account_id":3402158,"reputation":347,"user_id":2854185,"display_name":"Code Your Dream"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611712849,"creation_date":1605875984,"answer_id":64929652,"question_id":63452974,"body_markdown":"Here are the steps that lead to the successful installation of pylucene on Ubuntu 18.04 - this may work for you:\r\n1. Install openjdk-8:\r\n`apt install openjdk-8-jre openjdk-8-jdk openjdk-8-doc`\r\nEnsure that you have ant installed, if you don&#39;t run `apt install ant`. Note that if you had a different version of openjdk installed you need to either remove it or run `update-alternatives` so that version 1.8.0 is used.\r\n\r\n2. Check that Java version is 1.8.0* with `java -version`\r\n\r\n3. After installing openjdk-8 create a symlink (you&#39;ll need it later):\r\n```\r\ncd /usr/lib/jvm\r\nln -s java-8-openjdk-amd64 java-8-oracle\r\n```\r\n\r\n4. Install python-dev: `sudo apt install python-dev`\r\nIn my case Python 3 didn&#39;t work so I ended up using Python 2. But this might not have been the actual reason of the problem, so you&#39;re welcome to try Python 3. If you go with Python 3, use `python3` instead of `python` in the commands below.\r\n\r\n5. Install JCC (in jcc subfolder of your pylucene folder):\r\n```\r\npython setup.py build\r\npython setup.py install\r\n```\r\nThe symlink you created on step 3 will help here because this path is hardcoded into setup.py - you can check that.\r\n\r\n6. Install pylucene (from the root of your pylucene folder).\r\nEdit Makefile, uncomment/edit the variables according to your setup.\r\nIn my case it was\r\n```\r\nPREFIX_PYTHON=/usr\r\nANT=ant\r\nPYTHON=$(PREFIX_PYTHON)/bin/python\r\nJCC=$(PYTHON) -m jcc --shared\r\nNUM_FILES=10\r\n\r\n```\r\nThen run\r\n\r\n```\r\nmake\r\nmake test\r\nsudo make install\r\n```\r\n\r\n7. If you see an error related to the shared mode of JCC remove `--shared` from Makefile.","title":"How to build and install pylucene on ubuntu 20.04","body":"<p>Here are the steps that lead to the successful installation of pylucene on Ubuntu 18.04 - this may work for you:</p>\n<ol>\n<li><p>Install openjdk-8:\n<code>apt install openjdk-8-jre openjdk-8-jdk openjdk-8-doc</code>\nEnsure that you have ant installed, if you don't run <code>apt install ant</code>. Note that if you had a different version of openjdk installed you need to either remove it or run <code>update-alternatives</code> so that version 1.8.0 is used.</p>\n</li>\n<li><p>Check that Java version is 1.8.0* with <code>java -version</code></p>\n</li>\n<li><p>After installing openjdk-8 create a symlink (you'll need it later):</p>\n</li>\n</ol>\n<pre><code>cd /usr/lib/jvm\nln -s java-8-openjdk-amd64 java-8-oracle\n</code></pre>\n<ol start=\"4\">\n<li><p>Install python-dev: <code>sudo apt install python-dev</code>\nIn my case Python 3 didn't work so I ended up using Python 2. But this might not have been the actual reason of the problem, so you're welcome to try Python 3. If you go with Python 3, use <code>python3</code> instead of <code>python</code> in the commands below.</p>\n</li>\n<li><p>Install JCC (in jcc subfolder of your pylucene folder):</p>\n</li>\n</ol>\n<pre><code>python setup.py build\npython setup.py install\n</code></pre>\n<p>The symlink you created on step 3 will help here because this path is hardcoded into setup.py - you can check that.</p>\n<ol start=\"6\">\n<li>Install pylucene (from the root of your pylucene folder).\nEdit Makefile, uncomment/edit the variables according to your setup.\nIn my case it was</li>\n</ol>\n<pre><code>PREFIX_PYTHON=/usr\nANT=ant\nPYTHON=$(PREFIX_PYTHON)/bin/python\nJCC=$(PYTHON) -m jcc --shared\nNUM_FILES=10\n\n</code></pre>\n<p>Then run</p>\n<pre><code>make\nmake test\nsudo make install\n</code></pre>\n<ol start=\"7\">\n<li>If you see an error related to the shared mode of JCC remove <code>--shared</code> from Makefile.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17045109,"reputation":1,"user_id":12332138,"display_name":"cronopioelectronico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611594716,"creation_date":1611594716,"answer_id":65889308,"question_id":63452974,"body_markdown":"Confirmed that the answer posted by @code-your-dream works also with Python3 (and in particular in a Ubuntu 18.04.1)\r\n\r\nFor me was important to install jcc that way. I tried installing via conda and there were conflicts in the make of pylucene.\r\n\r\nIn my case also was needed to modify the setup.py file from jcc changing\r\n&#39;linux&#39;: [&#39;-fno-strict-aliasing&#39;, &#39;-Wno-write-strings&#39;],\r\nby\r\n&#39;linux&#39;: [&#39;-fno-strict-aliasing&#39;, &#39;-Wno-write-strings&#39;,&#39;-D__STDC_FORMAT_MACROS&#39;],\r\nas mentioned in this other thread https://stackoverflow.com/questions/46895399/issue-with-installing-pylucene-6-5-0-on-linux\r\n\r\nTo confirm which is the version of java needed (in my case also 8, didn&#39;t work with 11), you can search in the pylucene folder /jcc/setup.py the block JDK = {...}. In my case with the reference: \r\n&#39;linux&#39;: &#39;/usr/lib/jvm/java-8-oracle&#39;,\r\n\r\n","title":"How to build and install pylucene on ubuntu 20.04","body":"<p>Confirmed that the answer posted by @code-your-dream works also with Python3 (and in particular in a Ubuntu 18.04.1)</p>\n<p>For me was important to install jcc that way. I tried installing via conda and there were conflicts in the make of pylucene.</p>\n<p>In my case also was needed to modify the setup.py file from jcc changing\n'linux': ['-fno-strict-aliasing', '-Wno-write-strings'],\nby\n'linux': ['-fno-strict-aliasing', '-Wno-write-strings','-D__STDC_FORMAT_MACROS'],\nas mentioned in this other thread <a href=\"https://stackoverflow.com/questions/46895399/issue-with-installing-pylucene-6-5-0-on-linux\">Issue with installing PyLucene 6.5.0 on Linux</a></p>\n<p>To confirm which is the version of java needed (in my case also 8, didn't work with 11), you can search in the pylucene folder /jcc/setup.py the block JDK = {...}. In my case with the reference:\n'linux': '/usr/lib/jvm/java-8-oracle',</p>\n"},{"tags":[],"owner":{"account_id":5750337,"reputation":3074,"user_id":4540216,"accept_rate":67,"display_name":"XPLOT1ON"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661159125,"creation_date":1661159125,"answer_id":73442625,"question_id":63452974,"body_markdown":"I wrote this dockerfile for PyLucene 8.11.0, Python 3.9, JDK11 (default-jdk) and ubuntu 20.04 (focal). Do extend with your favorite python package manager such as Poetry, Pipenv or Conda etc.\r\n\r\n**Dockerfile**\r\n```\r\nFROM ubuntu:focal\r\n\r\nARG PYTHON_VERSION=3.9\r\nARG PYLUCENE_VERSION=8.11.0\r\n\r\n# Uncomment to install specific version of poetry\r\nENV LANG=C.UTF-8\r\n\r\n# ADD Python PPA Repository\r\nRUN apt-get update &amp;&amp; \\\r\n    apt-get upgrade -y &amp;&amp; \\\r\n    apt-get install -y --no-install-recommends \\\r\n        software-properties-common gpg-agent &amp;&amp; \\\r\n    add-apt-repository ppa:deadsnakes/ppa &amp;&amp; \\\r\n    apt-get update &amp;&amp; \\\r\n    apt-get remove -y software-properties-common &amp;&amp; \\\r\n    apt-get purge --auto-remove -y &amp;&amp; \\\r\n    apt-get clean\r\n\r\nRUN which gpg-agent\r\n\r\n# Install Python\r\nRUN apt-get install -y --no-install-recommends \\\r\n        &quot;python$PYTHON_VERSION-dev&quot; \\\r\n        python3-setuptools \\\r\n        python3-pip &amp;&amp; \\\r\n    apt-get remove -y gpg-agent &amp;&amp; \\\r\n    apt-get purge --auto-remove -y &amp;&amp; \\\r\n    apt-get clean\r\n\r\n# ======================== START OF ADDITIONAL INSTALLATION ========================\r\n\r\n# Install Java\r\nRUN apt-get install -y --no-install-recommends \\\r\n    build-essential \\\r\n    ant \\\r\n    jcc \\\r\n    curl \\\r\n    git \\\r\n    default-jdk \r\n    \r\nRUN ls /usr/bin/ | grep &quot;python&quot;\r\nRUN ln -s $(which python3.9) /usr/bin/python\r\n\r\nRUN which python3.9 &amp;&amp; which python &amp;&amp; python --version\r\n\r\nWORKDIR /usr/lib/jvm/default-java/jre/lib\r\nRUN ln -s ../../lib amd64\r\n\r\n# Java 11\r\nRUN java --version &amp;&amp; javac --version\r\n\r\n\r\n# Installing PyLucene\r\nRUN which ant &amp;&amp; ant -version\r\n\r\nRUN apt-get install -y --no-install-recommends \\\r\n    libffi-dev \\\r\n    zlib1g-dev\r\n\r\nWORKDIR /usr/src/pylucene\r\nRUN curl https://dlcdn.apache.org/lucene/pylucene/pylucene-$PYLUCENE_VERSION-src.tar.gz | tar -xz\r\n\r\n\r\nENV PREFIX_PYTHON=/usr \\\r\n    JCC_JDK=/usr/lib/jvm/default-java \\\r\n    ANT=ant \\\r\n    JCC=&#39;python -m jcc&#39; \\\r\n    NUM_FILES=10 \\\r\n    PYTHON=python \\\r\n    NO_SHARED=1\r\n\r\nRUN cd &quot;pylucene-$PYLUCENE_VERSION/lucene-java-$PYLUCENE_VERSION/lucene&quot; &amp;&amp; \\\r\n    ant ivy-bootstrap &amp;&amp; \\\r\n    ant &amp;&amp; \\\r\n    cd ../../../\r\n\r\nRUN cd &quot;pylucene-$PYLUCENE_VERSION/jcc&quot; &amp;&amp; \\\r\n    ls -la &amp;&amp; \\\r\n    NO_SHARED=1 JCC_JDK=/usr/lib/jvm/default-java python setup.py build &amp;&amp; \\\r\n    NO_SHARED=1 JCC_JDK=/usr/lib/jvm/default-java python setup.py install &amp;&amp; \\\r\n    cd .. &amp;&amp; \\\r\n    make JCC=&quot;python -m jcc&quot; ANT=ant PYTHON=python NUM_FILES=8&amp;&amp; \\\r\n    make install JCC=&quot;python -m jcc&quot; ANT=ant PYTHON=python NUM_FILES=8 &amp;&amp; \\\r\n    cd ../../\r\n\r\nRUN apt-get remove -y gpg-agent ant jcc build-essential &amp;&amp; \\\r\n    apt-get purge --auto-remove -y &amp;&amp; \\\r\n    apt-get clean\r\n\r\nWORKDIR /usr/src\r\nRUN rm -rf pylucene\r\n\r\nRUN python -c &quot;import lucene; lucene.initVM()&quot;\r\n\r\n# ======================== END OF ADDITIONAL INSTALLATION ========================\r\n\r\nWORKDIR /app\r\nCOPY . .","title":"How to build and install pylucene on ubuntu 20.04","body":"<p>I wrote this dockerfile for PyLucene 8.11.0, Python 3.9, JDK11 (default-jdk) and ubuntu 20.04 (focal). Do extend with your favorite python package manager such as Poetry, Pipenv or Conda etc.</p>\n<p><strong>Dockerfile</strong></p>\n<pre><code>FROM ubuntu:focal\n\nARG PYTHON_VERSION=3.9\nARG PYLUCENE_VERSION=8.11.0\n\n# Uncomment to install specific version of poetry\nENV LANG=C.UTF-8\n\n# ADD Python PPA Repository\nRUN apt-get update &amp;&amp; \\\n    apt-get upgrade -y &amp;&amp; \\\n    apt-get install -y --no-install-recommends \\\n        software-properties-common gpg-agent &amp;&amp; \\\n    add-apt-repository ppa:deadsnakes/ppa &amp;&amp; \\\n    apt-get update &amp;&amp; \\\n    apt-get remove -y software-properties-common &amp;&amp; \\\n    apt-get purge --auto-remove -y &amp;&amp; \\\n    apt-get clean\n\nRUN which gpg-agent\n\n# Install Python\nRUN apt-get install -y --no-install-recommends \\\n        &quot;python$PYTHON_VERSION-dev&quot; \\\n        python3-setuptools \\\n        python3-pip &amp;&amp; \\\n    apt-get remove -y gpg-agent &amp;&amp; \\\n    apt-get purge --auto-remove -y &amp;&amp; \\\n    apt-get clean\n\n# ======================== START OF ADDITIONAL INSTALLATION ========================\n\n# Install Java\nRUN apt-get install -y --no-install-recommends \\\n    build-essential \\\n    ant \\\n    jcc \\\n    curl \\\n    git \\\n    default-jdk \n    \nRUN ls /usr/bin/ | grep &quot;python&quot;\nRUN ln -s $(which python3.9) /usr/bin/python\n\nRUN which python3.9 &amp;&amp; which python &amp;&amp; python --version\n\nWORKDIR /usr/lib/jvm/default-java/jre/lib\nRUN ln -s ../../lib amd64\n\n# Java 11\nRUN java --version &amp;&amp; javac --version\n\n\n# Installing PyLucene\nRUN which ant &amp;&amp; ant -version\n\nRUN apt-get install -y --no-install-recommends \\\n    libffi-dev \\\n    zlib1g-dev\n\nWORKDIR /usr/src/pylucene\nRUN curl https://dlcdn.apache.org/lucene/pylucene/pylucene-$PYLUCENE_VERSION-src.tar.gz | tar -xz\n\n\nENV PREFIX_PYTHON=/usr \\\n    JCC_JDK=/usr/lib/jvm/default-java \\\n    ANT=ant \\\n    JCC='python -m jcc' \\\n    NUM_FILES=10 \\\n    PYTHON=python \\\n    NO_SHARED=1\n\nRUN cd &quot;pylucene-$PYLUCENE_VERSION/lucene-java-$PYLUCENE_VERSION/lucene&quot; &amp;&amp; \\\n    ant ivy-bootstrap &amp;&amp; \\\n    ant &amp;&amp; \\\n    cd ../../../\n\nRUN cd &quot;pylucene-$PYLUCENE_VERSION/jcc&quot; &amp;&amp; \\\n    ls -la &amp;&amp; \\\n    NO_SHARED=1 JCC_JDK=/usr/lib/jvm/default-java python setup.py build &amp;&amp; \\\n    NO_SHARED=1 JCC_JDK=/usr/lib/jvm/default-java python setup.py install &amp;&amp; \\\n    cd .. &amp;&amp; \\\n    make JCC=&quot;python -m jcc&quot; ANT=ant PYTHON=python NUM_FILES=8&amp;&amp; \\\n    make install JCC=&quot;python -m jcc&quot; ANT=ant PYTHON=python NUM_FILES=8 &amp;&amp; \\\n    cd ../../\n\nRUN apt-get remove -y gpg-agent ant jcc build-essential &amp;&amp; \\\n    apt-get purge --auto-remove -y &amp;&amp; \\\n    apt-get clean\n\nWORKDIR /usr/src\nRUN rm -rf pylucene\n\nRUN python -c &quot;import lucene; lucene.initVM()&quot;\n\n# ======================== END OF ADDITIONAL INSTALLATION ========================\n\nWORKDIR /app\nCOPY . .\n</code></pre>\n"}],"owner":{"account_id":7347237,"reputation":510,"user_id":5594539,"accept_rate":74,"display_name":"Joozty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2646,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1661159125,"creation_date":1597674626,"question_id":63452974,"body_markdown":"I am trying to install Pylucene on my WSL Ubuntu 20.04 clean installation.  I tried to follow tutorial on [the official page but it looks outdated][1]. So I was wondering if anyone here managed to make it work on Ubuntu 20.04 and python 3.8.2\r\n\r\nThe commands I run:\r\n\r\n```\r\nsudo apt-get upgrade\r\nsudo apt-get install -y default-jdk ant build-essential python3-dev\r\nmkdir pylucene\r\ncd pylucene\r\ncurl https://downloads.apache.org/lucene/pylucene/pylucene-8.3.0-src.tar.gz | tar -xz --strip-components=1\r\ncd jcc\r\nexport JCC_JDK=/usr/lib/jvm/default-java\r\npython3 setup.py build\r\n```\r\n\r\n^^^^^\r\nFails here on:\r\n\r\n```\r\n...\r\nbuilding &#39;jcc3&#39; extension\r\nx86_64-linux-gnu-gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -g -fwrapv -O2 -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -D_jcc_lib -DJCC_VER=&quot;3.7&quot; -I/usr/lib/jvm/default-java/include -I/usr/lib/jvm/default-java/include/linux -I_jcc3 -Ijcc3/sources -I/usr/include/python3.8 -c jcc3/sources/jcc.cpp -o build/temp.linux-x86_64-3.8/jcc3/sources/jcc.o -DPYTHON -fno-strict-aliasing -Wno-write-strings\r\nx86_64-linux-gnu-gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -g -fwrapv -O2 -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -D_jcc_lib -DJCC_VER=&quot;3.7&quot; -I/usr/lib/jvm/default-java/include -I/usr/lib/jvm/default-java/include/linux -I_jcc3 -Ijcc3/sources -I/usr/include/python3.8 -c jcc3/sources/JCCEnv.cpp -o build/temp.linux-x86_64-3.8/jcc3/sources/JCCEnv.o -DPYTHON -fno-strict-aliasing -Wno-write-strings\r\nx86_64-linux-gnu-g++ -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -g -fwrapv -O2 -Wl,-Bsymbolic-functions -Wl,-z,relro -g -fwrapv -O2 -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 build/temp.linux-x86_64-3.8/jcc3/sources/jcc.o build/temp.linux-x86_64-3.8/jcc3/sources/JCCEnv.o -o build/lib.linux-x86_64-3.8/libjcc3.so -L/usr/lib/jvm/default-java/jre/lib/amd64 -ljava -L/usr/lib/jvm/default-java/jre/lib/amd64/server -ljvm -Wl,-rpath=/usr/lib/jvm/default-java/jre/lib/amd64:/usr/lib/jvm/default-java/jre/lib/amd64/server -Wl,-S\r\n/usr/bin/ld: cannot find -ljava\r\n/usr/bin/ld: cannot find -ljvm\r\ncollect2: error: ld returned 1 exit status\r\nerror: command &#39;x86_64-linux-gnu-g++&#39; failed with exit status 1\r\n```\r\n\r\nCommands I plan to run afterwards:\r\n```\r\nsudo python3 --preserve-env=JCC_JDK setup.py install\r\ncd ..\r\nmake\r\nmake test\r\nsudo make install\r\n```\r\n\r\n\r\n  [1]: https://lucene.apache.org/pylucene/install.html","title":"How to build and install pylucene on ubuntu 20.04","body":"<p>I am trying to install Pylucene on my WSL Ubuntu 20.04 clean installation.  I tried to follow tutorial on <a href=\"https://lucene.apache.org/pylucene/install.html\" rel=\"nofollow noreferrer\">the official page but it looks outdated</a>. So I was wondering if anyone here managed to make it work on Ubuntu 20.04 and python 3.8.2</p>\n<p>The commands I run:</p>\n<pre><code>sudo apt-get upgrade\nsudo apt-get install -y default-jdk ant build-essential python3-dev\nmkdir pylucene\ncd pylucene\ncurl https://downloads.apache.org/lucene/pylucene/pylucene-8.3.0-src.tar.gz | tar -xz --strip-components=1\ncd jcc\nexport JCC_JDK=/usr/lib/jvm/default-java\npython3 setup.py build\n</code></pre>\n<p>^^^^^\nFails here on:</p>\n<pre><code>...\nbuilding 'jcc3' extension\nx86_64-linux-gnu-gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -g -fwrapv -O2 -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -D_jcc_lib -DJCC_VER=&quot;3.7&quot; -I/usr/lib/jvm/default-java/include -I/usr/lib/jvm/default-java/include/linux -I_jcc3 -Ijcc3/sources -I/usr/include/python3.8 -c jcc3/sources/jcc.cpp -o build/temp.linux-x86_64-3.8/jcc3/sources/jcc.o -DPYTHON -fno-strict-aliasing -Wno-write-strings\nx86_64-linux-gnu-gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -g -fwrapv -O2 -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -D_jcc_lib -DJCC_VER=&quot;3.7&quot; -I/usr/lib/jvm/default-java/include -I/usr/lib/jvm/default-java/include/linux -I_jcc3 -Ijcc3/sources -I/usr/include/python3.8 -c jcc3/sources/JCCEnv.cpp -o build/temp.linux-x86_64-3.8/jcc3/sources/JCCEnv.o -DPYTHON -fno-strict-aliasing -Wno-write-strings\nx86_64-linux-gnu-g++ -pthread -shared -Wl,-O1 -Wl,-Bsymbolic-functions -Wl,-Bsymbolic-functions -Wl,-z,relro -g -fwrapv -O2 -Wl,-Bsymbolic-functions -Wl,-z,relro -g -fwrapv -O2 -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 build/temp.linux-x86_64-3.8/jcc3/sources/jcc.o build/temp.linux-x86_64-3.8/jcc3/sources/JCCEnv.o -o build/lib.linux-x86_64-3.8/libjcc3.so -L/usr/lib/jvm/default-java/jre/lib/amd64 -ljava -L/usr/lib/jvm/default-java/jre/lib/amd64/server -ljvm -Wl,-rpath=/usr/lib/jvm/default-java/jre/lib/amd64:/usr/lib/jvm/default-java/jre/lib/amd64/server -Wl,-S\n/usr/bin/ld: cannot find -ljava\n/usr/bin/ld: cannot find -ljvm\ncollect2: error: ld returned 1 exit status\nerror: command 'x86_64-linux-gnu-g++' failed with exit status 1\n</code></pre>\n<p>Commands I plan to run afterwards:</p>\n<pre><code>sudo python3 --preserve-env=JCC_JDK setup.py install\ncd ..\nmake\nmake test\nsudo make install\n</code></pre>\n"},{"tags":["java","export"],"owner":{"account_id":26098306,"reputation":45,"user_id":19794133,"display_name":"dean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1661159318,"answer_count":0,"score":1,"last_activity_date":1661158930,"creation_date":1661155749,"question_id":73441973,"body_markdown":"I have programmed a Sokoban game and when you start it it comes as a java file.  \r\n[![enter image description here][1]][1]\r\n\r\nThis is perfect, but I want to export it as a Java file. I have done a lot of research, but all the ways I found did not work.\r\n\r\nI want to just send the Java file to my friend so they can play it.\r\n\r\n\r\nMy project structure is:  \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7NQDW.png\r\n  [2]: https://i.stack.imgur.com/2PnQV.png","title":"How to export a project game so others can play","body":"<p>I have programmed a Sokoban game and when you start it it comes as a java file.<br />\n<a href=\"https://i.stack.imgur.com/7NQDW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7NQDW.png\" alt=\"enter image description here\" /></a></p>\n<p>This is perfect, but I want to export it as a Java file. I have done a lot of research, but all the ways I found did not work.</p>\n<p>I want to just send the Java file to my friend so they can play it.</p>\n<p>My project structure is:<br />\n<a href=\"https://i.stack.imgur.com/2PnQV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2PnQV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","sql-view"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661158747,"creation_date":1661158747,"answer_id":73442538,"question_id":73393493,"body_markdown":"If all you are doing is to call this `findAll` method, this is &quot;ok&quot;, but doesn&#39;t the list contain duplicates? IMO it would be clearer if you were using `distinct` here.","title":"JPA - Using @Id on a non-unique column","body":"<p>If all you are doing is to call this <code>findAll</code> method, this is &quot;ok&quot;, but doesn't the list contain duplicates? IMO it would be clearer if you were using <code>distinct</code> here.</p>\n"}],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661158747,"creation_date":1660761648,"question_id":73393493,"body_markdown":"I have a read-only database view, `Employee`, with several columns including two called `code` and `description`. `code` is not unique. For example,\r\n\r\n    name code description\r\n    bob  ft   full time\r\n    sue  ft   full time\r\n    tom  pt   part time\r\n    cat  tm   temporary\r\n    mat  ft   full time\r\n\r\nBecause of the way the view is built though, I know that the same `code` will always have the same `description`. \r\n\r\nI&#39;m only interested in getting a distinct list of `code`s and `description`s.\r\n\r\nThis approach seems to work:\r\n\r\n    @Entity\r\n    @Immutable\r\n    @Table(&quot;Employee&quot;)\r\n    public class Code {\r\n    \r\n      @Id\r\n      private String code;\r\n    \r\n      private String description;\r\n    \r\n    }\r\n    \r\n    @Repository\r\n    public interface CodeRepository extends PagingAndSortingRepository&lt;Code, String&gt; {\r\n    } \r\n    \r\n    @Service\r\n    public class CodeService {\r\n    \r\n      private CodeRepository codeRepo;\r\n    \r\n      public List&lt;Code&gt; getCodes() {\r\n          return CodeRepository.findAll();\r\n       }\r\n    }\r\n\r\nIs there a problem with this approach since `code` is not really an primary key? \r\n","title":"JPA - Using @Id on a non-unique column","body":"<p>I have a read-only database view, <code>Employee</code>, with several columns including two called <code>code</code> and <code>description</code>. <code>code</code> is not unique. For example,</p>\n<pre><code>name code description\nbob  ft   full time\nsue  ft   full time\ntom  pt   part time\ncat  tm   temporary\nmat  ft   full time\n</code></pre>\n<p>Because of the way the view is built though, I know that the same <code>code</code> will always have the same <code>description</code>.</p>\n<p>I'm only interested in getting a distinct list of <code>code</code>s and <code>description</code>s.</p>\n<p>This approach seems to work:</p>\n<pre><code>@Entity\n@Immutable\n@Table(&quot;Employee&quot;)\npublic class Code {\n\n  @Id\n  private String code;\n\n  private String description;\n\n}\n\n@Repository\npublic interface CodeRepository extends PagingAndSortingRepository&lt;Code, String&gt; {\n} \n\n@Service\npublic class CodeService {\n\n  private CodeRepository codeRepo;\n\n  public List&lt;Code&gt; getCodes() {\n      return CodeRepository.findAll();\n   }\n}\n</code></pre>\n<p>Is there a problem with this approach since <code>code</code> is not really an primary key?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Î¦XocÄ ì Ðepe&#250;pa ã"},"score":0,"creation_date":1661157739,"post_id":73442303,"comment_id":129696261,"body_markdown":"Arrays.ToString(i.details())","body":"Arrays.ToString(i.details())"},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":0,"creation_date":1661157993,"post_id":73442303,"comment_id":129696339,"body_markdown":"Please follow Java naming conventions: initial capital letters for classes such as `Student`.","body":"Please follow Java naming conventions: initial capital letters for classes such as <code>Student</code>."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661158676,"post_id":73442303,"comment_id":129696568,"body_markdown":"It is not a memory address, it is the identity hashcode of the array.","body":"It is not a memory address, it is the identity hashcode of the array."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661158628,"creation_date":1661158343,"answer_id":73442466,"question_id":73442303,"body_markdown":"Your main problem is here:\r\n\r\n - `float[] grades = i.details();`\r\n - `grades.toString()` shows memory position (i.e. default `toString()` implementation)\r\n\r\nTo print an array to console it&#39;s better to use `Arrays.toString(i.details())`.\r\n\r\n---\r\n\r\n```java\r\npublic static void main(String... args) throws FileNotFoundException {\r\n    List&lt;Student&gt; students = readStudentsFromFile(new File(&quot;grades.txt&quot;));\r\n\r\n    for (Student student : students)\r\n        System.out.println(Arrays.toString(student.details()));\r\n}\r\n\r\nprivate static List&lt;Student&gt; readStudentsFromFile(File file) throws FileNotFoundException {\r\n    List&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n\r\n    try (Scanner scan = new Scanner(file)) {\r\n        while (scan.hasNext()) {\r\n            float[] grades = new float[5];\r\n\r\n            for (int i = 0; i &lt; grades.length; i++)\r\n                grades[i] = scan.nextFloat();\r\n\r\n            students.add(new Student(grades));\r\n\r\n        }\r\n    }\r\n\r\n    return students;\r\n}\r\n\r\nprivate static class Student {\r\n\r\n    private float[] grades;\r\n\r\n    public Student(float[] grades) {\r\n        this.grades = grades;\r\n    }\r\n\r\n    public float[] details() {\r\n        return grades;\r\n    }\r\n}\r\n```\r\n","title":"arraylist returning array memory address","body":"<p>Your main problem is here:</p>\n<ul>\n<li><code>float[] grades = i.details();</code></li>\n<li><code>grades.toString()</code> shows memory position (i.e. default <code>toString()</code> implementation)</li>\n</ul>\n<p>To print an array to console it's better to use <code>Arrays.toString(i.details())</code>.</p>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) throws FileNotFoundException {\n    List&lt;Student&gt; students = readStudentsFromFile(new File(&quot;grades.txt&quot;));\n\n    for (Student student : students)\n        System.out.println(Arrays.toString(student.details()));\n}\n\nprivate static List&lt;Student&gt; readStudentsFromFile(File file) throws FileNotFoundException {\n    List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n\n    try (Scanner scan = new Scanner(file)) {\n        while (scan.hasNext()) {\n            float[] grades = new float[5];\n\n            for (int i = 0; i &lt; grades.length; i++)\n                grades[i] = scan.nextFloat();\n\n            students.add(new Student(grades));\n\n        }\n    }\n\n    return students;\n}\n\nprivate static class Student {\n\n    private float[] grades;\n\n    public Student(float[] grades) {\n        this.grades = grades;\n    }\n\n    public float[] details() {\n        return grades;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26127106,"reputation":3,"user_id":19818369,"display_name":"noMan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661158381,"accepted_answer_id":73442466,"answer_count":1,"score":0,"last_activity_date":1661158682,"creation_date":1661157602,"question_id":73442303,"body_markdown":"I want to read and store data from a txt file to the ArrayList but it returns memory address instead of the array contents\r\n\r\n\r\n**main.java**\r\n```\r\nstudent stud = new student(grades);\r\nScanner in = new Scanner(new FileReader(&quot;grades.txt&quot;));\r\nArrayList&lt;student&gt; list = new ArrayList&lt;student&gt;();\r\n\r\nwhile(in.hasNext){\r\n\r\nfor(int i = 0; i &lt; 5; i++)\r\ngrades[i] = in.nextInt();\r\n\r\nstud = new student(grades);\r\nlist.add(stud);\r\n\r\n}\r\n\r\nfor(student i : list)\r\nSystem.out.println(i.details() + &quot;\\n&quot;);\r\n\r\n```\r\n**student.java** file\r\n\r\n```\r\nprivate float grades[];\r\n\r\npublic student(float[] grades) {\r\nthis.grades = grades;\r\n}\r\n\r\npublic float[] details(){\r\nreturn grades;\r\n}\r\n```\r\n\r\nhere&#39;s what&#39;s inside of the **txt** file\r\n```\r\n75\r\n86\r\n96\r\n85\r\n73\r\n```\r\n\r\nI tried manipulating the **main.java** and **student.java** file but it still returns a memory address. Any help?\r\n","title":"arraylist returning array memory address","body":"<p>I want to read and store data from a txt file to the ArrayList but it returns memory address instead of the array contents</p>\n<p><strong>main.java</strong></p>\n<pre><code>student stud = new student(grades);\nScanner in = new Scanner(new FileReader(&quot;grades.txt&quot;));\nArrayList&lt;student&gt; list = new ArrayList&lt;student&gt;();\n\nwhile(in.hasNext){\n\nfor(int i = 0; i &lt; 5; i++)\ngrades[i] = in.nextInt();\n\nstud = new student(grades);\nlist.add(stud);\n\n}\n\nfor(student i : list)\nSystem.out.println(i.details() + &quot;\\n&quot;);\n\n</code></pre>\n<p><strong>student.java</strong> file</p>\n<pre><code>private float grades[];\n\npublic student(float[] grades) {\nthis.grades = grades;\n}\n\npublic float[] details(){\nreturn grades;\n}\n</code></pre>\n<p>here's what's inside of the <strong>txt</strong> file</p>\n<pre><code>75\n86\n96\n85\n73\n</code></pre>\n<p>I tried manipulating the <strong>main.java</strong> and <strong>student.java</strong> file but it still returns a memory address. Any help?</p>\n"},{"tags":["java","xmlbeans"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1661158734,"post_id":73442512,"comment_id":129696593,"body_markdown":"Can you please share error stacktrace","body":"Can you please share error stacktrace"},{"owner":{"account_id":26127471,"reputation":11,"user_id":19818691,"display_name":"Trition"},"score":0,"creation_date":1661159406,"post_id":73442512,"comment_id":129696817,"body_markdown":"Not really, as this is a compile-time error. The different return type of the newInstance method results in a type mismatch.","body":"Not really, as this is a compile-time error. The different return type of the newInstance method results in a type mismatch."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1661159936,"post_id":73442512,"comment_id":129696993,"body_markdown":"if newer version is creating instance of XMLObject, then easy, quick fix can be just casting. That would resolve your compilation error. Eventually in XmlObjectFactory, you might need to do casting as well if I refer `newValue` method of XmlObjectFactory.","body":"if newer version is creating instance of XMLObject, then easy, quick fix can be just casting. That would resolve your compilation error. Eventually in XmlObjectFactory, you might need to do casting as well if I refer <code>newValue</code> method of XmlObjectFactory."}],"owner":{"account_id":26127471,"reputation":11,"user_id":19818691,"display_name":"Trition"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661158611,"creation_date":1661158611,"question_id":73442512,"body_markdown":"I need to upgrade Apache&#39;s xmlbeans.jar in my project from version 3.1.0 to 5.0.3 because it&#39;s a dependency of another jar. But doing so messes up some legacy webservice-related code which utilize XmlBeans as an XML processor, causing compiler errors.\r\n\r\nThe errors all look like this:\r\n\r\n    SomeDocument doc = SomeDocument.Factory.newInstance();\r\n... where SomeDocument extends XmlObject.\r\n\r\nWith the jar&#39;s prvious version, the newInstance() method returned an instance of SomeDocument, no problem. However, the new version is trying to create an instance of the parent XmlObject.\r\n\r\nHow should I refactor this code? Can I cast the XmlObject instance to SomeDocument? Or should I use the XmlObjectFactory&lt;T&gt; instead, as suggested by its javadoc. And if I should, how can I refactor the above code using that class instead?","title":"XmlObject.Factory.newInstance() error after upgrading xmlbeans.jar to 5.x.x","body":"<p>I need to upgrade Apache's xmlbeans.jar in my project from version 3.1.0 to 5.0.3 because it's a dependency of another jar. But doing so messes up some legacy webservice-related code which utilize XmlBeans as an XML processor, causing compiler errors.</p>\n<p>The errors all look like this:</p>\n<pre><code>SomeDocument doc = SomeDocument.Factory.newInstance();\n</code></pre>\n<p>... where SomeDocument extends XmlObject.</p>\n<p>With the jar's prvious version, the newInstance() method returned an instance of SomeDocument, no problem. However, the new version is trying to create an instance of the parent XmlObject.</p>\n<p>How should I refactor this code? Can I cast the XmlObject instance to SomeDocument? Or should I use the XmlObjectFactory instead, as suggested by its javadoc. And if I should, how can I refactor the above code using that class instead?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1661154389,"post_id":73441607,"comment_id":129695230,"body_markdown":"Do you need the brackets to match or just get everything in between the first opening and the last closing bracket? If the first, use a proper parser to get the matches. Just String operations won&#39;t help much. If the latter it would be easier: `indexOf()` and `lastIndexOf()` should be sufficient along with a few checks (e.g. that first &lt;= last)","body":"Do you need the brackets to match or just get everything in between the first opening and the last closing bracket? If the first, use a proper parser to get the matches. Just String operations won&#39;t help much. If the latter it would be easier: <code>indexOf()</code> and <code>lastIndexOf()</code> should be sufficient along with a few checks (e.g. that first &lt;= last)"},{"owner":{"account_id":11257572,"reputation":25,"user_id":8256835,"display_name":"ÐÐ»Ð°Ð´"},"score":0,"creation_date":1661155024,"post_id":73441607,"comment_id":129695432,"body_markdown":"I need to get all text only from &quot;test_two&quot; including brackets inside excluding test_one, test_three","body":"I need to get all text only from &quot;test_two&quot; including brackets inside excluding test_one, test_three"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661155361,"post_id":73441607,"comment_id":129695550,"body_markdown":"Regular expressions cannot handle this kind of recursive thing, by definition [Chomsky 1956]. You&#39;re using the wrong tool for the job.","body":"Regular expressions cannot handle this kind of recursive thing, by definition [Chomsky 1956]. You&#39;re using the wrong tool for the job."},{"owner":{"account_id":11257572,"reputation":25,"user_id":8256835,"display_name":"ÐÐ»Ð°Ð´"},"score":0,"creation_date":1661155608,"post_id":73441607,"comment_id":129695632,"body_markdown":"@user207421 can you help find solution?","body":"@user207421 can you help find solution?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661156052,"post_id":73441607,"comment_id":129695767,"body_markdown":"Not if you insist on using regular expressions. Once you get over that mind-block, the solution is trivial, and several useful suggestions towards it have already been given here. And if you don&#39;t want regular expressions why the [tag:regex] tag?","body":"Not if you insist on using regular expressions. Once you get over that mind-block, the solution is trivial, and several useful suggestions towards it have already been given here. And if you don&#39;t want regular expressions why the <a href=\"https://stackoverflow.com/questions/tagged/regex\">regex</a> tag?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661157993,"creation_date":1661154391,"answer_id":73441739,"question_id":73441607,"body_markdown":"To get the text between the curly brackets that start immediately after the target label (`test_two`) we can iterate over the given string and maintain `StringBuilder`, which would eventually contain the result, and a stack of brackets represented as a `Deque`.\r\n\r\nWhen the brackets are balanced, i.e. the stack is empty, and we&#39;re not at the first opening curly after `test_two`, we&#39;re done.\r\n\r\n```\r\nString test = &quot;&quot;&quot;\r\n    test_one{\r\n     My Text One\r\n    }\r\n    test_two{\r\n     My Text Two\r\n       sub_test_one{\r\n         My Sub Text\r\n        }\r\n       sub_test_two{\r\n         My Sub Text\r\n        }\r\n    }\r\n    test_three{\r\n     My Text Three\r\n    }&quot;&quot;&quot;;\r\n\r\nint target = test.indexOf(&quot;test_two&quot;);\r\nint firstOpeningCurly = test.indexOf(&#39;{&#39;, target);\r\n        \r\nStringBuilder testTwoText = new StringBuilder();\r\nDeque&lt;Character&gt; brackets = new ArrayDeque&lt;&gt;();\r\n        \r\nfor (int i = firstOpeningCurly; i &lt; test.length(); i++) {\r\n    char next = test.charAt(i);\r\n            \r\n    if (next == &#39;{&#39;) brackets.push(&#39;{&#39;);\r\n    if (i == firstOpeningCurly) continue;\r\n            \r\n    if (next == &#39;}&#39;) brackets.pop();\r\n            \r\n    if (i != firstOpeningCurly &amp;&amp; brackets.isEmpty()) break;\r\n            \r\n    testTwoText.append(next);\r\n}\r\n    \r\nSystem.out.println(testTwoText);\r\n```\r\n*Output:*\r\n```\r\n My Text Two\r\n   sub_test_one{\r\n     My Sub Text\r\n    }\r\n   sub_test_two{\r\n     My Sub Text\r\n    }\r\n```","title":"Get all text between bracket but skip nested bracket Java","body":"<p>To get the text between the curly brackets that start immediately after the target label (<code>test_two</code>) we can iterate over the given string and maintain <code>StringBuilder</code>, which would eventually contain the result, and a stack of brackets represented as a <code>Deque</code>.</p>\n<p>When the brackets are balanced, i.e. the stack is empty, and we're not at the first opening curly after <code>test_two</code>, we're done.</p>\n<pre><code>String test = &quot;&quot;&quot;\n    test_one{\n     My Text One\n    }\n    test_two{\n     My Text Two\n       sub_test_one{\n         My Sub Text\n        }\n       sub_test_two{\n         My Sub Text\n        }\n    }\n    test_three{\n     My Text Three\n    }&quot;&quot;&quot;;\n\nint target = test.indexOf(&quot;test_two&quot;);\nint firstOpeningCurly = test.indexOf('{', target);\n        \nStringBuilder testTwoText = new StringBuilder();\nDeque&lt;Character&gt; brackets = new ArrayDeque&lt;&gt;();\n        \nfor (int i = firstOpeningCurly; i &lt; test.length(); i++) {\n    char next = test.charAt(i);\n            \n    if (next == '{') brackets.push('{');\n    if (i == firstOpeningCurly) continue;\n            \n    if (next == '}') brackets.pop();\n            \n    if (i != firstOpeningCurly &amp;&amp; brackets.isEmpty()) break;\n            \n    testTwoText.append(next);\n}\n    \nSystem.out.println(testTwoText);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code> My Text Two\n   sub_test_one{\n     My Sub Text\n    }\n   sub_test_two{\n     My Sub Text\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661158374,"creation_date":1661156303,"answer_id":73442070,"question_id":73441607,"body_markdown":"Nesting means, that there&#39;s an opening brace before the closing brace. We can make use of this property to ignore all nested elements.\r\n\r\n```\r\nString test = &quot;&quot;&quot;\r\n    test_one{\r\n     My Text One\r\n    }\r\n    test_two{\r\n     My Text Two\r\n       sub_test_one{\r\n         My Sub Text\r\n        }\r\n       sub_test_two{\r\n         My Sub Text\r\n        }\r\n    }\r\n    test_three{\r\n     My Text Three\r\n    }&quot;&quot;&quot;;\r\n\r\nString testTwoLabel = &quot;test_two&quot;;\r\nint startOfTestTwoLabel = test.indexOf(testTwoLabel);\r\nint startOfTestTwo = test.indexOf(&quot;{&quot;, startOfTestTwoLabel);\r\n\r\nint nextClosingBrace = startOfTestTwo;\r\nint nextOpeningBrace;\r\ndo {\r\n    nextOpeningBrace = test.indexOf(&quot;{&quot;, nextClosingBrace);\r\n    nextClosingBrace = test.indexOf(&quot;}&quot;, nextClosingBrace + 1);\r\n} while (nextOpeningBrace != -1 &amp;&amp; nextOpeningBrace &lt; nextClosingBrace);\r\n\r\nString content = test.substring(startOfTestTwo + 1, nextClosingBrace);\r\n```\r\n\r\n\r\n**Update** for multi-level-nesting:\r\n\r\n```\r\nString test = &quot;&quot;&quot;\r\n test_one{ My Text One }\r\n test_two{ My Text Two \r\n   sub_test_one{ My Sub Text \r\n     sub_sub_test_one{ \r\n        My Sub Text \r\n          sub_sub_sub_test_one{ My Sub Text }\r\n     } \r\n   }\r\n   sub_test_two{ My Sub Text } \r\n} \r\ntest_three{ My Text Three }&quot;&quot;&quot;;\r\n\r\nString testTwoLabel = &quot;test_two&quot;;\r\nint startOfTestTwoLabel = test.indexOf(testTwoLabel);\r\nint startOfTestTwo = test.indexOf(&quot;{&quot;, startOfTestTwoLabel);\r\nint closingBrace = -1;\r\nint numOfOpenBraces = 1;\r\nint pos = startOfTestTwo + 1;\r\nfinal int len = test.length();\r\nwhile (pos &lt; len &amp;&amp; numOfOpenBraces &gt; 0) {\r\n    int ch = test.charAt(pos);\r\n    switch (ch) {\r\n        case &#39;{&#39;: numOfOpenBraces++; break;\r\n        case &#39;}&#39;: \r\n            numOfOpenBraces--;\r\n            closingBrace = pos;\r\n            break;\r\n    }\r\n    pos++;\r\n}\r\nString content = test.substring(startOfTestTwo + 1, closingBrace);\r\n```","title":"Get all text between bracket but skip nested bracket Java","body":"<p>Nesting means, that there's an opening brace before the closing brace. We can make use of this property to ignore all nested elements.</p>\n<pre><code>String test = &quot;&quot;&quot;\n    test_one{\n     My Text One\n    }\n    test_two{\n     My Text Two\n       sub_test_one{\n         My Sub Text\n        }\n       sub_test_two{\n         My Sub Text\n        }\n    }\n    test_three{\n     My Text Three\n    }&quot;&quot;&quot;;\n\nString testTwoLabel = &quot;test_two&quot;;\nint startOfTestTwoLabel = test.indexOf(testTwoLabel);\nint startOfTestTwo = test.indexOf(&quot;{&quot;, startOfTestTwoLabel);\n\nint nextClosingBrace = startOfTestTwo;\nint nextOpeningBrace;\ndo {\n    nextOpeningBrace = test.indexOf(&quot;{&quot;, nextClosingBrace);\n    nextClosingBrace = test.indexOf(&quot;}&quot;, nextClosingBrace + 1);\n} while (nextOpeningBrace != -1 &amp;&amp; nextOpeningBrace &lt; nextClosingBrace);\n\nString content = test.substring(startOfTestTwo + 1, nextClosingBrace);\n</code></pre>\n<p><strong>Update</strong> for multi-level-nesting:</p>\n<pre><code>String test = &quot;&quot;&quot;\n test_one{ My Text One }\n test_two{ My Text Two \n   sub_test_one{ My Sub Text \n     sub_sub_test_one{ \n        My Sub Text \n          sub_sub_sub_test_one{ My Sub Text }\n     } \n   }\n   sub_test_two{ My Sub Text } \n} \ntest_three{ My Text Three }&quot;&quot;&quot;;\n\nString testTwoLabel = &quot;test_two&quot;;\nint startOfTestTwoLabel = test.indexOf(testTwoLabel);\nint startOfTestTwo = test.indexOf(&quot;{&quot;, startOfTestTwoLabel);\nint closingBrace = -1;\nint numOfOpenBraces = 1;\nint pos = startOfTestTwo + 1;\nfinal int len = test.length();\nwhile (pos &lt; len &amp;&amp; numOfOpenBraces &gt; 0) {\n    int ch = test.charAt(pos);\n    switch (ch) {\n        case '{': numOfOpenBraces++; break;\n        case '}': \n            numOfOpenBraces--;\n            closingBrace = pos;\n            break;\n    }\n    pos++;\n}\nString content = test.substring(startOfTestTwo + 1, closingBrace);\n</code></pre>\n"}],"owner":{"account_id":11257572,"reputation":25,"user_id":8256835,"display_name":"ÐÐ»Ð°Ð´"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73441739,"answer_count":2,"score":0,"last_activity_date":1661158374,"creation_date":1661153650,"question_id":73441607,"body_markdown":"I&#39;m trying to get all text that is in brackets &quot;test_two&quot;.     \r\n\r\n    String test = &quot;\r\n        test_one{\r\n         My Text One\r\n        }\r\n        test_two{\r\n         My Text Two\r\n           sub_test_one{\r\n             My Sub Text\r\n            }\r\n           sub_test_two{\r\n             My Sub Text\r\n            }\r\n        }\r\n        test_three{\r\n         My Text Three\r\n        }&quot;\r\n\r\n\r\n\r\nMy Code:\r\n\r\n            int testOne = test.indexOf(&quot;test_two&quot;);\r\n            int startTestOne = test.indexOf(&#39;{&#39;, testOne);\r\n            int endTestOne = test.indexOf(&#39;}&#39;, testOne);\r\n            String test3_2 = test.substring(startTestOne + 2, endTestOne);\r\n\r\nwhich gives me, but i want whole text from &quot;test_two&quot; brackets\r\n\r\n    My Text Two\r\n           sub_test{\r\n             My Sub Text\r\n\r\n\r\n","title":"Get all text between bracket but skip nested bracket Java","body":"<p>I'm trying to get all text that is in brackets &quot;test_two&quot;.</p>\n<pre><code>String test = &quot;\n    test_one{\n     My Text One\n    }\n    test_two{\n     My Text Two\n       sub_test_one{\n         My Sub Text\n        }\n       sub_test_two{\n         My Sub Text\n        }\n    }\n    test_three{\n     My Text Three\n    }&quot;\n</code></pre>\n<p>My Code:</p>\n<pre><code>        int testOne = test.indexOf(&quot;test_two&quot;);\n        int startTestOne = test.indexOf('{', testOne);\n        int endTestOne = test.indexOf('}', testOne);\n        String test3_2 = test.substring(startTestOne + 2, endTestOne);\n</code></pre>\n<p>which gives me, but i want whole text from &quot;test_two&quot; brackets</p>\n<pre><code>My Text Two\n       sub_test{\n         My Sub Text\n</code></pre>\n"},{"tags":["java","apache-poi","xssf"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1660952542,"post_id":73420781,"comment_id":129663109,"body_markdown":"Please post _text_, not _pictures_ of text unless [relevant](https://meta.stackoverflow.com/q/285551/230513); choose `-lite` _or_ `-full`, not both; more [here](https://stackoverflow.com/questions/72834605/javafx-netbeans-12-4-added-poi-to-library-but-cannot-use-the-import-in-the-proj/72839258#comment128654634_72834605).","body":"Please post <i>text</i>, not <i>pictures</i> of text unless <a href=\"https://meta.stackoverflow.com/q/285551/230513\">relevant</a>; choose <code>-lite</code> <i>or</i> <code>-full</code>, not both; more <a href=\"https://stackoverflow.com/questions/72834605/javafx-netbeans-12-4-added-poi-to-library-but-cannot-use-the-import-in-the-proj/72839258#comment128654634_72834605\">here</a>."},{"owner":{"account_id":3224271,"reputation":65,"user_id":2720979,"accept_rate":71,"display_name":"enemyofnone"},"score":0,"creation_date":1661031982,"post_id":73420781,"comment_id":129675663,"body_markdown":"I have log4j in maven dependency now:\n&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/dependency&gt;","body":"I have log4j in maven dependency now: &lt;dependency&gt;     &lt;groupId&gt;log4j&lt;/groupId&gt;     &lt;artifactId&gt;log4j&lt;/artifactId&gt;     &lt;version&gt;1.2.17&lt;/version&gt; &lt;/dependency&gt;"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1661191953,"post_id":73420781,"comment_id":129708608,"body_markdown":"It is not clear what POI version you want to use. POI 5.2.2 or POI 4.1.2. I would recommend using POI 5.2.2 with your maven build. Remove the log4j 1.2.17 jar from your build. POI 5.2.2 has dependencies on the jars it needs and maven will pull them in for you.","body":"It is not clear what POI version you want to use. POI 5.2.2 or POI 4.1.2. I would recommend using POI 5.2.2 with your maven build. Remove the log4j 1.2.17 jar from your build. POI 5.2.2 has dependencies on the jars it needs and maven will pull them in for you."}],"answers":[{"tags":[],"owner":{"account_id":26104660,"reputation":96,"user_id":19799529,"display_name":"Rutra87"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661158272,"creation_date":1661158272,"answer_id":73442447,"question_id":73420781,"body_markdown":"You could try to use the latest version of apache-poi https://mvnrepository.com/artifact/org.apache.poi/poi/5.2.2 if you are not forced to use a specific version. The latest version of apache-poi does not use log4j anymore, instead log4j-api is used. Link to the latest log4j-api version https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api/2.18.0. Due to the security vulnerabilities of the old log4j module, it is recommended to switch to log4j-api anyway. Maybe this also resolves your issue.","title":"XSSFWorkbook error - Mostly missing some Jar or Dependencies","body":"<p>You could try to use the latest version of apache-poi <a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi/5.2.2\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.poi/poi/5.2.2</a> if you are not forced to use a specific version. The latest version of apache-poi does not use log4j anymore, instead log4j-api is used. Link to the latest log4j-api version <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api/2.18.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api/2.18.0</a>. Due to the security vulnerabilities of the old log4j module, it is recommended to switch to log4j-api anyway. Maybe this also resolves your issue.</p>\n"}],"owner":{"account_id":3224271,"reputation":65,"user_id":2720979,"accept_rate":71,"display_name":"enemyofnone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73442447,"answer_count":1,"score":2,"last_activity_date":1661158272,"creation_date":1660932997,"question_id":73420781,"body_markdown":"I am not using Maven, this is a standalone project where i provide the jars in Reference Libraries\r\nThe error is thrown when the code is trying to initialize the workbook\r\n\r\n        workbook = new XSSFWorkbook();\r\n\r\n\r\nError :\r\n\r\n    ERROR StatusLogger Unable to create Lookup for ctx\r\n     java.lang.NoClassDefFoundError: org/apache/logging/log4j/util/ServiceLoaderUtil\r\n    \tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector.getServiceProviders(ThreadContextDataInjector.java:77)\r\n    \tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector.&lt;clinit&gt;(ThreadContextDataInjector.java:64)\r\n    \tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector$ForCopyOnWriteThreadContextMap.&lt;init&gt;(ThreadContextDataInjector.java:211)\r\n    \tat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createDefaultInjector(ContextDataInjectorFactory.java:94)\r\n    \tat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createInjector(ContextDataInjectorFactory.java:71)\r\n    \tat org.apache.logging.log4j.core.lookup.ContextMapLookup.&lt;init&gt;(ContextMapLookup.java:34)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:488)\r\n    \tat org.apache.logging.log4j.core.util.ReflectionUtil.instantiate(ReflectionUtil.java:189)\r\n    \tat org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:81)\r\n    \tat org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:100)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:135)\r\n    \tat org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n    \tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n    \tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\r\n    \tat org.apache.poi.ooxml.POIXMLDocumentPart.&lt;clinit&gt;(POIXMLDocumentPart.java:56)\r\n    \tat ExcelHandlers.XMLToExcelWriterMessages.initXls(XMLToExcelWriterMessages.java:165)\r\n    \tat ExcelHandlers.XMLToExcelWriterMessages.getAndReadXml(XMLToExcelWriterMessages.java:56)\r\n    \tat Core.PICheckerMain.main(PICheckerMain.java:133)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.util.ServiceLoaderUtil\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\r\n    \t... 29 more\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.core.impl.ThreadContextDataInjector\r\n    \tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector$ForCopyOnWriteThreadContextMap.&lt;init&gt;(ThreadContextDataInjector.java:211)\r\n    \tat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createDefaultInjector(ContextDataInjectorFactory.java:94)\r\n    \tat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createInjector(ContextDataInjectorFactory.java:71)\r\n    \tat org.apache.logging.log4j.core.impl.ReusableLogEventFactory.&lt;init&gt;(ReusableLogEventFactory.java:42)\r\n    \tat org.apache.logging.log4j.core.config.LoggerConfig.&lt;clinit&gt;(LoggerConfig.java:101)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:138)\r\n    \tat org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n    \tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n    \tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\r\n    \tat org.apache.poi.ooxml.POIXMLDocumentPart.&lt;clinit&gt;(POIXMLDocumentPart.java:56)\r\n    \tat ExcelHandlers.XMLToExcelWriterMessages.initXls(XMLToExcelWriterMessages.java:165)\r\n    \tat ExcelHandlers.XMLToExcelWriterMessages.getAndReadXml(XMLToExcelWriterMessages.java:56)\r\n    \tat Core.PICheckerMain.main(PICheckerMain.java:133)\r\n\r\n\r\nBelow are the jars that i have added, some are for some other stuff, but POI is the problem\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/egcCS.png\r\n\r\nEDIT: Later now i have converted to Maven project and below is the POM file, and error is still same\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;PI&lt;/groupId&gt;\r\n      &lt;artifactId&gt;PI&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;1.7&lt;/source&gt;\r\n              &lt;target&gt;1.7&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;dependencies&gt;\r\n      \t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20220320&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n        &lt;version&gt;4.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"XSSFWorkbook error - Mostly missing some Jar or Dependencies","body":"<p>I am not using Maven, this is a standalone project where i provide the jars in Reference Libraries\nThe error is thrown when the code is trying to initialize the workbook</p>\n<pre><code>    workbook = new XSSFWorkbook();\n</code></pre>\n<p>Error :</p>\n<pre><code>ERROR StatusLogger Unable to create Lookup for ctx\n java.lang.NoClassDefFoundError: org/apache/logging/log4j/util/ServiceLoaderUtil\n    at org.apache.logging.log4j.core.impl.ThreadContextDataInjector.getServiceProviders(ThreadContextDataInjector.java:77)\n    at org.apache.logging.log4j.core.impl.ThreadContextDataInjector.&lt;clinit&gt;(ThreadContextDataInjector.java:64)\n    at org.apache.logging.log4j.core.impl.ThreadContextDataInjector$ForCopyOnWriteThreadContextMap.&lt;init&gt;(ThreadContextDataInjector.java:211)\n    at org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createDefaultInjector(ContextDataInjectorFactory.java:94)\n    at org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createInjector(ContextDataInjectorFactory.java:71)\n    at org.apache.logging.log4j.core.lookup.ContextMapLookup.&lt;init&gt;(ContextMapLookup.java:34)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:488)\n    at org.apache.logging.log4j.core.util.ReflectionUtil.instantiate(ReflectionUtil.java:189)\n    at org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:81)\n    at org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:100)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:135)\n    at org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\n    at org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\n    at org.apache.poi.ooxml.POIXMLDocumentPart.&lt;clinit&gt;(POIXMLDocumentPart.java:56)\n    at ExcelHandlers.XMLToExcelWriterMessages.initXls(XMLToExcelWriterMessages.java:165)\n    at ExcelHandlers.XMLToExcelWriterMessages.getAndReadXml(XMLToExcelWriterMessages.java:56)\n    at Core.PICheckerMain.main(PICheckerMain.java:133)\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.util.ServiceLoaderUtil\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\n    ... 29 more\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.core.impl.ThreadContextDataInjector\n    at org.apache.logging.log4j.core.impl.ThreadContextDataInjector$ForCopyOnWriteThreadContextMap.&lt;init&gt;(ThreadContextDataInjector.java:211)\n    at org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createDefaultInjector(ContextDataInjectorFactory.java:94)\n    at org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createInjector(ContextDataInjectorFactory.java:71)\n    at org.apache.logging.log4j.core.impl.ReusableLogEventFactory.&lt;init&gt;(ReusableLogEventFactory.java:42)\n    at org.apache.logging.log4j.core.config.LoggerConfig.&lt;clinit&gt;(LoggerConfig.java:101)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:138)\n    at org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\n    at org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\n    at org.apache.poi.ooxml.POIXMLDocumentPart.&lt;clinit&gt;(POIXMLDocumentPart.java:56)\n    at ExcelHandlers.XMLToExcelWriterMessages.initXls(XMLToExcelWriterMessages.java:165)\n    at ExcelHandlers.XMLToExcelWriterMessages.getAndReadXml(XMLToExcelWriterMessages.java:56)\n    at Core.PICheckerMain.main(PICheckerMain.java:133)\n</code></pre>\n<p>Below are the jars that i have added, some are for some other stuff, but POI is the problem</p>\n<p><a href=\"https://i.stack.imgur.com/egcCS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/egcCS.png\" alt=\"\" /></a></p>\n<p>EDIT: Later now i have converted to Maven project and below is the POM file, and error is still same</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;PI&lt;/groupId&gt;\n  &lt;artifactId&gt;PI&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.7&lt;/source&gt;\n          &lt;target&gt;1.7&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;4.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;4.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20220320&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n    &lt;version&gt;4.4&lt;/version&gt;\n&lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","hadoop","orc"],"owner":{"account_id":8426908,"reputation":1962,"user_id":6346275,"accept_rate":90,"display_name":"faoxis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661158220,"creation_date":1608195058,"question_id":65337360,"body_markdown":"My service should get files with different formats and getting informations from them. One of that format is `orc`. Is there a way to read it from `RAM` (as byte array) without `hadoop` and other additional systems? Can&#39;t find any way in google. :(","title":"Is there any way to read and write orc files without hadoop in Java?","body":"<p>My service should get files with different formats and getting informations from them. One of that format is <code>orc</code>. Is there a way to read it from <code>RAM</code> (as byte array) without <code>hadoop</code> and other additional systems? Can't find any way in google. :(</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":6869576,"reputation":427,"user_id":5280535,"display_name":"david"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661114981,"creation_date":1661114981,"answer_id":73438125,"question_id":73437917,"body_markdown":"Create a service to read the temperature on background to send the notification to the user. \r\n\r\nFolowing the doc: \r\n\r\nhttps://developer.android.com/guide/components/services\r\n\r\nCreate a class that extend from Service \r\n\r\n    public class TemperatureService extends Service {\r\n    \r\n    }\r\n\r\nAnd define it in the manifest like:\r\n\r\n    &lt;application ... &gt;\r\n          &lt;service android:name=&quot;.TemperatureService&quot; /&gt;\r\n          ...\r\n      &lt;/application&gt;","title":"How can I see how much the temperature has changed in x number of hours and then send an alert?","body":"<p>Create a service to read the temperature on background to send the notification to the user.</p>\n<p>Folowing the doc:</p>\n<p><a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/services</a></p>\n<p>Create a class that extend from Service</p>\n<pre><code>public class TemperatureService extends Service {\n\n}\n</code></pre>\n<p>And define it in the manifest like:</p>\n<pre><code>&lt;application ... &gt;\n      &lt;service android:name=&quot;.TemperatureService&quot; /&gt;\n      ...\n  &lt;/application&gt;\n</code></pre>\n"}],"owner":{"account_id":24250936,"reputation":65,"user_id":18201933,"display_name":"EAGame"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661158214,"creation_date":1661113035,"question_id":73437917,"body_markdown":"I have an app which shows me the current temperature with a phone sensor, but I want to see how much the temperature has changed in a hour and send a notification to the user. \r\n\r\nFor example if the current temperature is 30&#176;C and in a hour temperature decreased by more than 5&#176;C (24 or less &#176;C), I want to send a notification to the user and tell them to be aware or something.\r\n\r\nI already made the basic app to show me the temperature value whenever it&#39;s changing but I don&#39;t know what to do next.\r\n\r\n**Later Edit*:**\r\nThis is my service class that I created and now I&#39;m trying to understand the flow but it&#39;s pretty hard to me. How this will work? I mean how can I store in **onStartCommand** method a value of a temperature from **onSensorChanged** method once in an hour? \r\n\r\n```\r\npublic class TemperatureService extends Service implements SensorEventListener {\r\n\r\n    private SensorManager sensorManager;\r\n    private Sensor temperatureSensor;\r\n    private boolean isTemperatureSensorPresent;\r\n    private float lastKnownTemp;\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        sensorManager = (SensorManager) this.getSystemService(Context.SENSOR_SERVICE);\r\n        if(sensorManager.getDefaultSensor(Sensor.TYPE_AMBIENT_TEMPERATURE) != null) {\r\n            temperatureSensor = sensorManager.getDefaultSensor(Sensor.TYPE_AMBIENT_TEMPERATURE);\r\n            isTemperatureSensorPresent = true;\r\n        } else{\r\n            isTemperatureSensorPresent = false;\r\n        }\r\n        if(isTemperatureSensorPresent) {\r\n            sensorManager.registerListener(this, temperatureSensor, SensorManager.SENSOR_DELAY_NORMAL);\r\n        }\r\n\r\n        return Service.START_STICKY;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void onSensorChanged(SensorEvent sensorEvent) {\r\n        lastKnownTemp = sensorEvent.values[0];\r\n    }\r\n\r\n    @Override\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n\r\n    }\r\n}\r\n```","title":"How can I see how much the temperature has changed in x number of hours and then send an alert?","body":"<p>I have an app which shows me the current temperature with a phone sensor, but I want to see how much the temperature has changed in a hour and send a notification to the user.</p>\n<p>For example if the current temperature is 30Â°C and in a hour temperature decreased by more than 5Â°C (24 or less Â°C), I want to send a notification to the user and tell them to be aware or something.</p>\n<p>I already made the basic app to show me the temperature value whenever it's changing but I don't know what to do next.</p>\n<p><em><em>Later Edit</em>:</em>*\nThis is my service class that I created and now I'm trying to understand the flow but it's pretty hard to me. How this will work? I mean how can I store in <strong>onStartCommand</strong> method a value of a temperature from <strong>onSensorChanged</strong> method once in an hour?</p>\n<pre><code>public class TemperatureService extends Service implements SensorEventListener {\n\n    private SensorManager sensorManager;\n    private Sensor temperatureSensor;\n    private boolean isTemperatureSensorPresent;\n    private float lastKnownTemp;\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        sensorManager = (SensorManager) this.getSystemService(Context.SENSOR_SERVICE);\n        if(sensorManager.getDefaultSensor(Sensor.TYPE_AMBIENT_TEMPERATURE) != null) {\n            temperatureSensor = sensorManager.getDefaultSensor(Sensor.TYPE_AMBIENT_TEMPERATURE);\n            isTemperatureSensorPresent = true;\n        } else{\n            isTemperatureSensorPresent = false;\n        }\n        if(isTemperatureSensorPresent) {\n            sensorManager.registerListener(this, temperatureSensor, SensorManager.SENSOR_DELAY_NORMAL);\n        }\n\n        return Service.START_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    @Override\n    public void onSensorChanged(SensorEvent sensorEvent) {\n        lastKnownTemp = sensorEvent.values[0];\n    }\n\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","orm","hibernate-annotations"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1660570317,"post_id":73333149,"comment_id":129556903,"body_markdown":"Maybe try using a Hibernate version that is more recent, like 5.6.10.Final for example.","body":"Maybe try using a Hibernate version that is more recent, like 5.6.10.Final for example."}],"answers":[{"tags":[],"owner":{"account_id":16069616,"reputation":11,"user_id":11598353,"display_name":"SaintNick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661157977,"creation_date":1661157977,"answer_id":73442385,"question_id":73333149,"body_markdown":"It turned out that the root cause was in the implementation of *MyOperation* Enity for some reason. I don&#39;t fully understand why, but after changing wrongly used *@ElementCollection* to *@OneToMany* it started working. \r\nIf someone knows why exactly the error had been risen, please let me know.  \r\n\r\nBefore:\r\n\r\n    @ElementCollection(fetch = FetchType.LAZY)\r\n\t@CollectionTable(name = &quot;my_settings&quot;, joinColumns = @JoinColumn(name = &quot;my_operation_id&quot;))\r\n\t@MapKeyColumn(name = &quot;key&quot;)\r\n\t@Column(name = &quot;value&quot;)\r\n    private List&lt;MySetting&gt; mySettings;\r\n\r\nAfter: \r\n\r\n    \t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;myOperation&quot;)\r\n\tprivate List&lt;MySetting&gt; mySettings;","title":"After Hibernate upgrade, the PropertyValueException is thrown","body":"<p>It turned out that the root cause was in the implementation of <em>MyOperation</em> Enity for some reason. I don't fully understand why, but after changing wrongly used <em>@ElementCollection</em> to <em>@OneToMany</em> it started working.\nIf someone knows why exactly the error had been risen, please let me know.</p>\n<p>Before:</p>\n<pre><code>@ElementCollection(fetch = FetchType.LAZY)\n@CollectionTable(name = &quot;my_settings&quot;, joinColumns = @JoinColumn(name = &quot;my_operation_id&quot;))\n@MapKeyColumn(name = &quot;key&quot;)\n@Column(name = &quot;value&quot;)\nprivate List&lt;MySetting&gt; mySettings;\n</code></pre>\n<p>After:</p>\n<pre><code>    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;myOperation&quot;)\nprivate List&lt;MySetting&gt; mySettings;\n</code></pre>\n"}],"owner":{"account_id":16069616,"reputation":11,"user_id":11598353,"display_name":"SaintNick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73442385,"answer_count":1,"score":0,"last_activity_date":1661157977,"creation_date":1660302234,"question_id":73333149,"body_markdown":"after Hibernate upgrade 4.3.11.Final to 5.0.12.Final my test has stared failing with:\r\n\r\n    org.hibernate.PropertyValueException: not-null property references a null or transient value : com.mypackage.universal.model.MySetting.myOperation\r\n\r\nThat is thrown after attempt of saving **MySetting** without **myOperation** field. However,the **myOperationField** has *Optional* and *Nullable* set to true. \r\n\r\nSee the code below:\r\n\r\n    @Entity\r\n    @Table(name = &quot;my_Settings&quot;)\r\n    public class MySetting {\r\n     @Id\r\n\t private Long id;\r\n\r\n\t @ManyToOne(optional = true, fetch = FetchType.LAZY)\r\n\t @JoinColumn(name = &quot;my_Operation_id&quot;, nullable = true)\r\n\t private MyOperation myOperation;\r\n\r\n\t @Column\r\n\t private String key;\r\n\r\n\t @Column\r\n\t private String value;\r\n    }\r\n\r\nThe piece that want to save MySetting:\r\n\r\n    \tMySetting setting = new MySetting((Long) 1L, (String) myKey, (String) myValue);\r\n\t\tsession.save(setting);\r\n\r\n MySetting constructor:\r\n\r\n    \tpublic MySetting(Long id, String key, String value) {\r\n\t\tthis.id = id;\r\n\t\tsetKey(key);\r\n\t\tsetValue(value);\r\n\t}\r\n\r\n\r\nI am aware that I can disable null checking with:\r\n\r\n    &lt;prop key=&quot;hibernate.check_nullability&quot;&gt;false&lt;/prop&gt;\r\n    \r\n\r\nBut that is against the clean-code and will make handling the Entities harder. \r\nI&#39;ve checked that this bug, also exist&#39;s on 5.1.17.Final version of Hibernate. \r\n\r\nDo you have any ideas what is going on here? \r\nOn 4.3.11.Final version there was no issue at all with this..","title":"After Hibernate upgrade, the PropertyValueException is thrown","body":"<p>after Hibernate upgrade 4.3.11.Final to 5.0.12.Final my test has stared failing with:</p>\n<pre><code>org.hibernate.PropertyValueException: not-null property references a null or transient value : com.mypackage.universal.model.MySetting.myOperation\n</code></pre>\n<p>That is thrown after attempt of saving <strong>MySetting</strong> without <strong>myOperation</strong> field. However,the <strong>myOperationField</strong> has <em>Optional</em> and <em>Nullable</em> set to true.</p>\n<p>See the code below:</p>\n<pre><code>@Entity\n@Table(name = &quot;my_Settings&quot;)\npublic class MySetting {\n @Id\n private Long id;\n\n @ManyToOne(optional = true, fetch = FetchType.LAZY)\n @JoinColumn(name = &quot;my_Operation_id&quot;, nullable = true)\n private MyOperation myOperation;\n\n @Column\n private String key;\n\n @Column\n private String value;\n}\n</code></pre>\n<p>The piece that want to save MySetting:</p>\n<pre><code>    MySetting setting = new MySetting((Long) 1L, (String) myKey, (String) myValue);\n    session.save(setting);\n</code></pre>\n<p>MySetting constructor:</p>\n<pre><code>    public MySetting(Long id, String key, String value) {\n    this.id = id;\n    setKey(key);\n    setValue(value);\n}\n</code></pre>\n<p>I am aware that I can disable null checking with:</p>\n<pre><code>&lt;prop key=&quot;hibernate.check_nullability&quot;&gt;false&lt;/prop&gt;\n</code></pre>\n<p>But that is against the clean-code and will make handling the Entities harder.\nI've checked that this bug, also exist's on 5.1.17.Final version of Hibernate.</p>\n<p>Do you have any ideas what is going on here?\nOn 4.3.11.Final version there was no issue at all with this..</p>\n"},{"tags":["java","windows","environment-variables"],"comments":[{"owner":{"account_id":111630,"reputation":1725,"user_id":294801,"accept_rate":38,"display_name":"devlearn"},"score":1,"creation_date":1642600631,"post_id":70771847,"comment_id":125113620,"body_markdown":"Your java binary seems to be invoked correctly, version 1.8 means java version 8 , so I don&#39;t see any issues here ! Why do you think that &quot;This is not JDK&quot; ?","body":"Your java binary seems to be invoked correctly, version 1.8 means java version 8 , so I don&#39;t see any issues here ! Why do you think that &quot;This is not JDK&quot; ?"},{"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"score":0,"creation_date":1642600790,"post_id":70771847,"comment_id":125113685,"body_markdown":"no this is what i expect as java version `1.8.0_41`","body":"no this is what i expect as java version <code>1.8.0_41</code>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1642600902,"post_id":70771847,"comment_id":125113740,"body_markdown":"The JAVA_HOME does not configure the PATH, unless you explicitly added JAVA_HOME to the PATH, and only when the PATH is initialized. Also there could be a different java earlier on the path.","body":"The JAVA_HOME does not configure the PATH, unless you explicitly added JAVA_HOME to the PATH, and only when the PATH is initialized. Also there could be a different java earlier on the path."},{"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"score":0,"creation_date":1642601006,"post_id":70771847,"comment_id":125113779,"body_markdown":"@MarkRotteveel it has been added to the path and to the environment variable as well and no there are no other java versions expect the one i specified","body":"@MarkRotteveel it has been added to the path and to the environment variable as well and no there are no other java versions expect the one i specified"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1642601071,"post_id":70771847,"comment_id":125113808,"body_markdown":"Please show the result of `echo %PATH%`, `echo %JAVA_HOME%` and `where java`. As an aside, you really shouldn&#39;t use an ancient version like 1.8.0_41. The most recent version of Java 8 is 1.8.0_312.","body":"Please show the result of <code>echo %PATH%</code>, <code>echo %JAVA_HOME%</code> and <code>where java</code>. As an aside, you really shouldn&#39;t use an ancient version like 1.8.0_41. The most recent version of Java 8 is 1.8.0_312."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1642601186,"post_id":70771847,"comment_id":125113848,"body_markdown":"Please [edit] your question with *all* the information I asked, don&#39;t add it in the comments.","body":"Please <a href=\"https://stackoverflow.com/posts/70771847/edit\">edit</a> your question with <i>all</i> the information I asked, don&#39;t add it in the comments."},{"owner":{"account_id":255070,"reputation":3603,"user_id":534858,"accept_rate":75,"display_name":"Christian"},"score":1,"creation_date":1642601374,"post_id":70771847,"comment_id":125113941,"body_markdown":"@AkashJain Add this information to your question. I hope you already see the problem. java is found twice in your path.","body":"@AkashJain Add this information to your question. I hope you already see the problem. java is found twice in your path."},{"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"score":0,"creation_date":1642601562,"post_id":70771847,"comment_id":125114016,"body_markdown":"@Christian yes but that how was it configured , shouldn&#39;t windows take the one i specified on the environment variable?","body":"@Christian yes but that how was it configured , shouldn&#39;t windows take the one i specified on the environment variable?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1642603160,"post_id":70771847,"comment_id":125114863,"body_markdown":"Windows searches the PATH in the order listed, so it finds java in `C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath` and doesn&#39;t look further.","body":"Windows searches the PATH in the order listed, so it finds java in <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath</code> and doesn&#39;t look further."},{"owner":{"account_id":255070,"reputation":3603,"user_id":534858,"accept_rate":75,"display_name":"Christian"},"score":0,"creation_date":1642604139,"post_id":70771847,"comment_id":125115385,"body_markdown":"@AkashJain Doesn&#39;t matter how it was configured. It is not the behavior you desire. Put the JAVA_HOME/bin path in front of your PATH declaration.","body":"@AkashJain Doesn&#39;t matter how it was configured. It is not the behavior you desire. Put the JAVA_HOME/bin path in front of your PATH declaration."},{"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"score":0,"creation_date":1642659143,"post_id":70771847,"comment_id":125130855,"body_markdown":"yup , the issue was resolved as mark said it dint look further after the first search and once removed it worked perfectly...","body":"yup , the issue was resolved as mark said it dint look further after the first search and once removed it worked perfectly..."}],"answers":[{"tags":[],"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661157933,"creation_date":1661152628,"answer_id":73441425,"question_id":70771847,"body_markdown":"First, a great thanks to [@Mark Rotteveel](https://stackoverflow.com/users/466862/mark-rotteveel) and [@Christian](https://stackoverflow.com/users/534858/christian).\r\n\r\nThe issue was there were multiple Java installations (as visible in `where java`).\r\n\r\nThe `path` variable was pointing to Oracle Java at first and was ignoring the Java that I wanted it to point, once I removed it from the path, it started working fine.\r\n","title":"Java not recognizing the Windows path","body":"<p>First, a great thanks to <a href=\"https://stackoverflow.com/users/466862/mark-rotteveel\">@Mark Rotteveel</a> and <a href=\"https://stackoverflow.com/users/534858/christian\">@Christian</a>.</p>\n<p>The issue was there were multiple Java installations (as visible in <code>where java</code>).</p>\n<p>The <code>path</code> variable was pointing to Oracle Java at first and was ignoring the Java that I wanted it to point, once I removed it from the path, it started working fine.</p>\n"}],"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73441425,"answer_count":1,"score":0,"last_activity_date":1661157933,"creation_date":1642600396,"question_id":70771847,"body_markdown":"I have set up Java in Windows environment variable, but when I type `java -version` it is not taking the path specified.\r\n\r\nSo the user path has \r\n`%JAVA_HOME%\\bin`\r\n\r\nAnd the value of `JAVA HOME` is \r\n`M:\\java\\java-se-8u41-ri` // this points to jdk 8\r\n\r\nWhen I type `java -version`, I get \r\n```none\r\njava version &quot;1.8.0_301&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_301-b09)\r\nJava HotSpot(TM) Client VM (build 25.301-b09, mixed mode, sharing)\r\n```\r\n\r\nThis is not JDK. Why is this happening and how can I solve it?\r\n\r\nEDIT : this is what i&#39;m expecting \r\n\r\n```\r\nopenjdk version &quot;1.8.0_41&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_41-b04)\r\nOpenJDK Client VM (build 25.40-b25, mixed mode)\r\n```\r\n**EDIT 2**\r\ninformation requested\r\n```\r\necho %JAVA_HOME%\r\nM:\\java\\java-se-8u41-ri\r\n```\r\n```\r\nwhere java\r\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\r\nM:\\java\\java-se-8u41-ri\\bin\\java.exe\r\n```\r\n\r\n```\r\n\r\necho %PATH%\r\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Program Files\\PostgreSQL\\13\\bin;C:\\Program Files\\PostgreSQL\\13\\lib;C:\\Program Files\\nodejs\\;M:\\java\\java-se-8u41-ri\\bin;C:\\Program Files\\nodejs;C:\\Program Files\\sfdx\\bin;M:\\maven\\apache-maven-3.8.3\\bin;\r\n```\r\n\r\n\r\n","title":"Java not recognizing the Windows path","body":"<p>I have set up Java in Windows environment variable, but when I type <code>java -version</code> it is not taking the path specified.</p>\n<p>So the user path has\n<code>%JAVA_HOME%\\bin</code></p>\n<p>And the value of <code>JAVA HOME</code> is\n<code>M:\\java\\java-se-8u41-ri</code> // this points to jdk 8</p>\n<p>When I type <code>java -version</code>, I get</p>\n<pre class=\"lang-none prettyprint-override\"><code>java version &quot;1.8.0_301&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_301-b09)\nJava HotSpot(TM) Client VM (build 25.301-b09, mixed mode, sharing)\n</code></pre>\n<p>This is not JDK. Why is this happening and how can I solve it?</p>\n<p>EDIT : this is what i'm expecting</p>\n<pre><code>openjdk version &quot;1.8.0_41&quot;\nOpenJDK Runtime Environment (build 1.8.0_41-b04)\nOpenJDK Client VM (build 25.40-b25, mixed mode)\n</code></pre>\n<p><strong>EDIT 2</strong>\ninformation requested</p>\n<pre><code>echo %JAVA_HOME%\nM:\\java\\java-se-8u41-ri\n</code></pre>\n<pre><code>where java\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\nM:\\java\\java-se-8u41-ri\\bin\\java.exe\n</code></pre>\n<pre><code>\necho %PATH%\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Program Files\\PostgreSQL\\13\\bin;C:\\Program Files\\PostgreSQL\\13\\lib;C:\\Program Files\\nodejs\\;M:\\java\\java-se-8u41-ri\\bin;C:\\Program Files\\nodejs;C:\\Program Files\\sfdx\\bin;M:\\maven\\apache-maven-3.8.3\\bin;\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1591671494,"post_id":62274225,"comment_id":110137077,"body_markdown":"It would be helpful to post the Java code in question, since that&#39;s what&#39;s throwing the exception, don&#39;t you think? Make sure to include the import statements, and make sure you cut and paste the exact error message in full rather than typing it from memory, because if the error message you included originally is correct, your solution is likely to be more esoteric than similar messages.","body":"It would be helpful to post the Java code in question, since that&#39;s what&#39;s throwing the exception, don&#39;t you think? Make sure to include the import statements, and make sure you cut and paste the exact error message in full rather than typing it from memory, because if the error message you included originally is correct, your solution is likely to be more esoteric than similar messages."},{"owner":{"account_id":18187508,"reputation":21,"user_id":13233919,"display_name":"Nikhil Udayakumar"},"score":0,"creation_date":1591672242,"post_id":62274225,"comment_id":110137252,"body_markdown":"Hi Mars, i have updated the import statement as well as the java code with import and where json changes how i am doing it","body":"Hi Mars, i have updated the import statement as well as the java code with import and where json changes how i am doing it"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1591672794,"post_id":62274225,"comment_id":110137367,"body_markdown":"Change `import org.json.JSONArray;` to `import org.json.simple.JSONArray;` and try again.","body":"Change <code>import org.json.JSONArray;</code> to <code>import org.json.simple.JSONArray;</code> and try again."}],"answers":[{"tags":[],"owner":{"account_id":18796433,"reputation":1,"user_id":13707794,"display_name":"Davies Ong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591671835,"creation_date":1591671835,"answer_id":62274338,"question_id":62274225,"body_markdown":"try mapping it into an object and you could get the filters length pretty easily.\r\neg \r\n\r\n```\r\nvar object = {\r\n          &quot;employeeId&quot;: &quot;41825&quot;,\r\n          &quot;userId&quot;: &quot;tawright&quot;,\r\n          &quot;sourceSystem&quot;: &quot;Visibility&quot;,\r\n          &quot;loginId&quot;: &quot;nudayaku&quot;,\r\n          &quot;groupBy&quot;: &quot;order&quot;,\r\n          &quot;isPretty&quot;: false,\r\n          &quot;limit&quot;: 10,\r\n          &quot;offset&quot;: 0,\r\n          &quot;sortBy&quot;: &quot;so_date&quot;,\r\n          &quot;sortOrder&quot;: &quot;desc&quot;,\r\n          &quot;filters&quot;: [{\r\n              &quot;name&quot;: &quot;type&quot;,\r\n              &quot;value&quot;: &quot;POS&quot;,\r\n              &quot;op&quot;: &quot;eq&quot;\r\n          }],\r\n          &quot;srpGoalHeaderId&quot;: 3069181,\r\n          &quot;srpGoalQuotaId&quot;: 1750558,\r\n          &quot;category&quot;: &quot;PRD &amp; SVC|AG&quot;,\r\n          &quot;goalSheet&quot;: &quot;2020 CS020        28-Jul-2019 to 25-Jul-2020&quot;,\r\n          &quot;loggedInUser&quot;: &quot;nudayaku&quot;,\r\n          &quot;requestedScreen&quot;: &quot;orderSearch.g2c&quot;\r\n    }\r\n\r\nconsole.log(&#39;filters length&#39;,object.filters.length);\r\n\r\n\r\n```\r\n\r\nto parse the json into object use JsonParser \r\ne.g. \r\n```\r\nJSONParser parse = new JSONParser();\r\nObject EmployeeObject = parse.parse(yourjsonobject);\r\n\r\nconsole.log(EmployeeObject.filters.length);\r\n\r\n```\r\n\r\n","title":"How to get the Length of a json array in java","body":"<p>try mapping it into an object and you could get the filters length pretty easily.\neg </p>\n\n<pre><code>var object = {\n          \"employeeId\": \"41825\",\n          \"userId\": \"tawright\",\n          \"sourceSystem\": \"Visibility\",\n          \"loginId\": \"nudayaku\",\n          \"groupBy\": \"order\",\n          \"isPretty\": false,\n          \"limit\": 10,\n          \"offset\": 0,\n          \"sortBy\": \"so_date\",\n          \"sortOrder\": \"desc\",\n          \"filters\": [{\n              \"name\": \"type\",\n              \"value\": \"POS\",\n              \"op\": \"eq\"\n          }],\n          \"srpGoalHeaderId\": 3069181,\n          \"srpGoalQuotaId\": 1750558,\n          \"category\": \"PRD &amp; SVC|AG\",\n          \"goalSheet\": \"2020 CS020        28-Jul-2019 to 25-Jul-2020\",\n          \"loggedInUser\": \"nudayaku\",\n          \"requestedScreen\": \"orderSearch.g2c\"\n    }\n\nconsole.log('filters length',object.filters.length);\n\n\n</code></pre>\n\n<p>to parse the json into object use JsonParser \ne.g. </p>\n\n<pre><code>JSONParser parse = new JSONParser();\nObject EmployeeObject = parse.parse(yourjsonobject);\n\nconsole.log(EmployeeObject.filters.length);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17642352,"reputation":48,"user_id":12804385,"display_name":"Sambit Nag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591672529,"creation_date":1591672529,"answer_id":62274429,"question_id":62274225,"body_markdown":"The length of the  &quot;filters&quot; jsonArray is actually 1 because within the square [] brackets you have {} which is accounted as 1 element in the array.\r\n\r\n\r\n\r\n\r\n\r\nAssuming you want to get the size of the json object inside the json array i.e \r\n\r\n{\r\n    &quot;name&quot;: &quot;type&quot;,\r\n        &quot;value&quot;: &quot;POS&quot;,\r\n        &quot;op&quot;: &quot;eq&quot;\r\n}\r\n\r\nyou need to iterate through the object to get the size ","title":"How to get the Length of a json array in java","body":"<p>The length of the  \"filters\" jsonArray is actually 1 because within the square [] brackets you have {} which is accounted as 1 element in the array.</p>\n\n<p>Assuming you want to get the size of the json object inside the json array i.e </p>\n\n<p>{\n    \"name\": \"type\",\n        \"value\": \"POS\",\n        \"op\": \"eq\"\n}</p>\n\n<p>you need to iterate through the object to get the size </p>\n"},{"tags":[],"owner":{"account_id":9751327,"reputation":167,"user_id":7467860,"display_name":"Sahil Garg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591677399,"creation_date":1591677399,"answer_id":62275114,"question_id":62274225,"body_markdown":"You are importing JSONArray as below (from a different library)\r\n````\r\nimport org.json.JSONArray;\r\n````\r\n\r\nImport it from json simple as well \r\n````\r\nimport org.json.simple.JSONArray;\r\n````\r\n\r\nHope this helps !! \r\n\r\n\r\n","title":"How to get the Length of a json array in java","body":"<p>You are importing JSONArray as below (from a different library)</p>\n\n<pre><code>import org.json.JSONArray;\n</code></pre>\n\n<p>Import it from json simple as well </p>\n\n<pre><code>import org.json.simple.JSONArray;\n</code></pre>\n\n<p>Hope this helps !! </p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591679433,"creation_date":1591679433,"answer_id":62275444,"question_id":62274225,"body_markdown":"You&#39;re mixing two incompatible libraries of json processing, hence the error.\r\n\r\nFrom your code snippet:\r\n\r\n~~~\r\nimport org.json.JSONArray;\r\nimport org.json.simple.JSONObject;\r\n~~~\r\n\r\nObviously its wrong:\r\n\r\n`org.json.simple` is offered by [http://code.google.com/p/json-simple/][1]\r\n\r\n`org.json` is supported by some other libraries like [this one for instance][2]\r\n\r\nThe best would be opening the corresponding classes and checking out to which jar they actually belong (for example, in IntelliJ you can simply press `Alt + F1` for this).\r\n\r\n\r\nSo stick to one library and it should work.\r\n\r\n\r\n  [1]: http://code.google.com/p/json-simple/\r\n  [2]: https://github.com/stleary/JSON-java","title":"How to get the Length of a json array in java","body":"<p>You're mixing two incompatible libraries of json processing, hence the error.</p>\n\n<p>From your code snippet:</p>\n\n<pre><code>import org.json.JSONArray;\nimport org.json.simple.JSONObject;\n</code></pre>\n\n<p>Obviously its wrong:</p>\n\n<p><code>org.json.simple</code> is offered by <a href=\"http://code.google.com/p/json-simple/\" rel=\"nofollow noreferrer\">http://code.google.com/p/json-simple/</a></p>\n\n<p><code>org.json</code> is supported by some other libraries like <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">this one for instance</a></p>\n\n<p>The best would be opening the corresponding classes and checking out to which jar they actually belong (for example, in IntelliJ you can simply press <code>Alt + F1</code> for this).</p>\n\n<p>So stick to one library and it should work.</p>\n"},{"tags":[],"owner":{"account_id":4947636,"reputation":1073,"user_id":3982592,"display_name":"Shyam Baitmangalkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591680157,"creation_date":1591680157,"answer_id":62275562,"question_id":62274225,"body_markdown":"Instead of mixing two different library operations which are wrong indeed, you can make use of the same `ObjectMapper` which you are creating to get the `filters` list\r\n\r\n`ObjectMapper mapper = new ObjectMapper();`\r\n\r\nUsing the above `mapper` convert your json to a `Map&lt;String, Object&gt;`, and then you can have handle on the entire json. You can do something like this to get the list out of your json.\r\n\r\n    Map&lt;String, Object&gt; map = mapper.readValue(json, Map.class);\r\n            if(map.containsKey(&quot;filters&quot;)) {\r\n                List&lt;Object&gt; filters = (List) map.get(&quot;filters&quot;);\r\n                System.out.println(filters);\r\n                System.out.println(filters.size());\r\n            }\r\nThis snippets prints out:\r\n\r\n    [{name=type, value=POS, op=eq}]\r\n    1","title":"How to get the Length of a json array in java","body":"<p>Instead of mixing two different library operations which are wrong indeed, you can make use of the same <code>ObjectMapper</code> which you are creating to get the <code>filters</code> list</p>\n\n<p><code>ObjectMapper mapper = new ObjectMapper();</code></p>\n\n<p>Using the above <code>mapper</code> convert your json to a <code>Map&lt;String, Object&gt;</code>, and then you can have handle on the entire json. You can do something like this to get the list out of your json.</p>\n\n<pre><code>Map&lt;String, Object&gt; map = mapper.readValue(json, Map.class);\n        if(map.containsKey(\"filters\")) {\n            List&lt;Object&gt; filters = (List) map.get(\"filters\");\n            System.out.println(filters);\n            System.out.println(filters.size());\n        }\n</code></pre>\n\n<p>This snippets prints out:</p>\n\n<pre><code>[{name=type, value=POS, op=eq}]\n1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661157844,"creation_date":1661157844,"answer_id":73442359,"question_id":62274225,"body_markdown":"I solve it that way\r\n`myJson` -&gt;My Json that inside it exist an array\r\n\r\n`fieldPath` -&gt; the path to the array \r\n\r\n\r\n\r\n    import com.jayway.jsonpath.JsonPath;\r\n    import org.json.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n\r\n\tJSONObject myJson;\r\n\r\n    \tpublic long CountFields(String fieldPath) {\r\n          String onlyMyArray=JsonPath.parse(myJson).read(fieldPath).toString();\r\n\t\t  JSONArray jsonArray = new JSONArray(onlyMyArray);\r\n\t      return jsonArray.length();\r\n\t                       }\r\n\r\n","title":"How to get the Length of a json array in java","body":"<p>I solve it that way\n<code>myJson</code> -&gt;My Json that inside it exist an array</p>\n<p><code>fieldPath</code> -&gt; the path to the array</p>\n<pre><code>import com.jayway.jsonpath.JsonPath;\nimport org.json.JSONArray;\nimport org.json.simple.JSONObject;\n\nJSONObject myJson;\n\n    public long CountFields(String fieldPath) {\n      String onlyMyArray=JsonPath.parse(myJson).read(fieldPath).toString();\n      JSONArray jsonArray = new JSONArray(onlyMyArray);\n      return jsonArray.length();\n                       }\n</code></pre>\n"}],"owner":{"account_id":18187508,"reputation":21,"user_id":13233919,"display_name":"Nikhil Udayakumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1661157844,"creation_date":1591671001,"question_id":62274225,"body_markdown":"I am working on one requirement , where I need to get the length of below json \r\n and length of filters object in the entire json\r\n\r\nattaching the json for refrence.\r\n\r\n\r\n    {\r\n    \t&quot;employeeId&quot;: &quot;41825&quot;,\r\n    \t&quot;userId&quot;: &quot;tawright&quot;,\r\n    \t&quot;sourceSystem&quot;: &quot;Visibility&quot;,\r\n    \t&quot;loginId&quot;: &quot;nudayaku&quot;,\r\n    \t&quot;groupBy&quot;: &quot;order&quot;,\r\n    \t&quot;isPretty&quot;: false,\r\n    \t&quot;limit&quot;: 10,\r\n    \t&quot;offset&quot;: 0,\r\n    \t&quot;sortBy&quot;: &quot;so_date&quot;,\r\n    \t&quot;sortOrder&quot;: &quot;desc&quot;,\r\n    \t&quot;filters&quot;: [{\r\n    \t\t&quot;name&quot;: &quot;type&quot;,\r\n    \t\t&quot;value&quot;: &quot;POS&quot;,\r\n    \t\t&quot;op&quot;: &quot;eq&quot;\r\n    \t}],\r\n    \t&quot;srpGoalHeaderId&quot;: 3069181,\r\n    \t&quot;srpGoalQuotaId&quot;: 1750558,\r\n    \t&quot;category&quot;: &quot;PRD &amp; SVC|AG&quot;,\r\n    \t&quot;goalSheet&quot;: &quot;2020 CS020        28-Jul-2019 to 25-Jul-2020&quot;,\r\n    \t&quot;loggedInUser&quot;: &quot;nudayaku&quot;,\r\n    \t&quot;requestedScreen&quot;: &quot;orderSearch.g2c&quot;\r\n    }\r\n\r\nCan some one help me how can i get the Length of the filters involved in this JSon.\r\n\r\nI am getting the below error while i am parsing the JSOn\r\n\r\n&gt; **org.json.simple.JSONArray cannot be cast to org.json.JSONArray**\r\n\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.Serializable;\r\n    import java.lang.reflect.Array;\r\n    import java.sql.CallableStatement;\r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.concurrent.Callable;\r\n    import java.sql.Timestamp;\r\n    \r\n    \r\n    import org.apache.poi.xssf.streaming.SXSSFRow;\r\n    import org.apache.poi.xssf.streaming.SXSSFSheet;\r\n    import org.apache.poi.xssf.streaming.SXSSFWorkbook;\r\n    import org.json.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import com.cisco.export.utils.SFDbConnection;\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    \r\n    \t\r\n    \t\t\t//Assign value from Input Export JSon\r\n    \t\t\t\r\n    \t\t\tJSONObject json = getJSONObject(getFilters());\r\n    \t\t\tString employeeId = (String) json.get(&quot;employeeId&quot;);\r\n    \t\t\tLong planId = (Long) json.get(&quot;planId&quot;);\r\n    \t\t\tLong srpGoalHeaderId = (Long) json.get(&quot;srpGoalHeaderId&quot;);\r\n    \t\t\tLong allocationId = (Long) json.get(&quot;allocationId&quot;);\r\n    \t\t\tString nodeName = (String) json.get(&quot;nodeName&quot;);\r\n    \t\t\tString erpPosFlag = (String) json.get(&quot;erpPosFlag&quot;);\r\n    \t\t\tLong soNumber = (Long) json.get(&quot;soNumber&quot;);\r\n    \t\t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\t\tJSONArray filters = (JSONArray) json.get(&quot;filters&quot;);\r\n    \t\t\r\n    \t\t\tSystem.out.println(&quot;filters&quot; +filters);\r\n\t\t\t\r\n\t\t\r\nerror log:\r\n\r\n    Exception is  java.lang.ClassCastException: org.json.simple.JSONArray cannot be cast to org.json.JSONArray java.lang.ClassCastException: org.json.simple.JSONArray cannot be cast to org.json.JSONArray\r\n\r\n\t\t\r\n\r\n\r\n\r\n\r\n\r\n\r\nThanks,\r\nNikhil","title":"How to get the Length of a json array in java","body":"<p>I am working on one requirement , where I need to get the length of below json \n and length of filters object in the entire json</p>\n\n<p>attaching the json for refrence.</p>\n\n<pre><code>{\n    \"employeeId\": \"41825\",\n    \"userId\": \"tawright\",\n    \"sourceSystem\": \"Visibility\",\n    \"loginId\": \"nudayaku\",\n    \"groupBy\": \"order\",\n    \"isPretty\": false,\n    \"limit\": 10,\n    \"offset\": 0,\n    \"sortBy\": \"so_date\",\n    \"sortOrder\": \"desc\",\n    \"filters\": [{\n        \"name\": \"type\",\n        \"value\": \"POS\",\n        \"op\": \"eq\"\n    }],\n    \"srpGoalHeaderId\": 3069181,\n    \"srpGoalQuotaId\": 1750558,\n    \"category\": \"PRD &amp; SVC|AG\",\n    \"goalSheet\": \"2020 CS020        28-Jul-2019 to 25-Jul-2020\",\n    \"loggedInUser\": \"nudayaku\",\n    \"requestedScreen\": \"orderSearch.g2c\"\n}\n</code></pre>\n\n<p>Can some one help me how can i get the Length of the filters involved in this JSon.</p>\n\n<p>I am getting the below error while i am parsing the JSOn</p>\n\n<blockquote>\n  <p><strong>org.json.simple.JSONArray cannot be cast to org.json.JSONArray</strong></p>\n</blockquote>\n\n<pre><code>import java.io.FileOutputStream;\nimport java.io.Serializable;\nimport java.lang.reflect.Array;\nimport java.sql.CallableStatement;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.Callable;\nimport java.sql.Timestamp;\n\n\nimport org.apache.poi.xssf.streaming.SXSSFRow;\nimport org.apache.poi.xssf.streaming.SXSSFSheet;\nimport org.apache.poi.xssf.streaming.SXSSFWorkbook;\nimport org.json.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport com.cisco.export.utils.SFDbConnection;\nimport com.fasterxml.jackson.core.JsonParser;\n\n\n            //Assign value from Input Export JSon\n\n            JSONObject json = getJSONObject(getFilters());\n            String employeeId = (String) json.get(\"employeeId\");\n            Long planId = (Long) json.get(\"planId\");\n            Long srpGoalHeaderId = (Long) json.get(\"srpGoalHeaderId\");\n            Long allocationId = (Long) json.get(\"allocationId\");\n            String nodeName = (String) json.get(\"nodeName\");\n            String erpPosFlag = (String) json.get(\"erpPosFlag\");\n            Long soNumber = (Long) json.get(\"soNumber\");\n            ObjectMapper mapper = new ObjectMapper();\n            JSONArray filters = (JSONArray) json.get(\"filters\");\n\n            System.out.println(\"filters\" +filters);\n</code></pre>\n\n<p>error log:</p>\n\n<pre><code>Exception is  java.lang.ClassCastException: org.json.simple.JSONArray cannot be cast to org.json.JSONArray java.lang.ClassCastException: org.json.simple.JSONArray cannot be cast to org.json.JSONArray\n</code></pre>\n\n<p>Thanks,\nNikhil</p>\n"},{"tags":["java","gradle","visual-studio-code"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1634333520,"post_id":69590574,"comment_id":123005209,"body_markdown":"Maybe try running/reinstalling gradle through the [official gradle installation guide](https://gradle.org/install/)?","body":"Maybe try running/reinstalling gradle through the <a href=\"https://gradle.org/install/\" rel=\"nofollow noreferrer\">official gradle installation guide</a>?"},{"owner":{"account_id":16610378,"reputation":31,"user_id":12003588,"display_name":"connorb151"},"score":0,"creation_date":1634334410,"post_id":69590574,"comment_id":123005440,"body_markdown":"i have tried this but no diffrence when runnign vscode","body":"i have tried this but no diffrence when runnign vscode"},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1634545261,"post_id":69590574,"comment_id":123043945,"body_markdown":"Notice the error `Caused by: java.lang.NullPointerException: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null`. Fix it then see if question goes away.","body":"Notice the error <code>Caused by: java.lang.NullPointerException: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null</code>. Fix it then see if question goes away."}],"answers":[{"tags":[],"owner":{"account_id":351709,"reputation":10880,"user_id":688355,"accept_rate":87,"display_name":"Bob Kuhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634332430,"creation_date":1634332430,"answer_id":69590664,"question_id":69590574,"body_markdown":"I don&#39;t know squat about Visual Studio, but you probably have to configure it for Gradle. Googling around speaks of a VS &quot;Plug In&quot; to get &quot;Gradle Language Support&quot;. Do you have that plug-in? https://marketplace.visualstudio.com/items?itemName=naco-siren.gradle-language\r\n\r\nThe other thing I always do with gradle projects is to get them to build from the commandline first, then figure out how to get them into the IDE.\r\n\r\nMost &quot;modern&quot;, or maybe more recent might be a better term, have &quot;the gradle wrapper&quot; installed. From a command line you usually only need to `./gradlew build` on Unix, `gradlew.bat build` on Windows.","title":"how can i stop my gradle from causing this error?","body":"<p>I don't know squat about Visual Studio, but you probably have to configure it for Gradle. Googling around speaks of a VS &quot;Plug In&quot; to get &quot;Gradle Language Support&quot;. Do you have that plug-in? <a href=\"https://marketplace.visualstudio.com/items?itemName=naco-siren.gradle-language\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=naco-siren.gradle-language</a></p>\n<p>The other thing I always do with gradle projects is to get them to build from the commandline first, then figure out how to get them into the IDE.</p>\n<p>Most &quot;modern&quot;, or maybe more recent might be a better term, have &quot;the gradle wrapper&quot; installed. From a command line you usually only need to <code>./gradlew build</code> on Unix, <code>gradlew.bat build</code> on Windows.</p>\n"},{"tags":[],"owner":{"account_id":26127504,"reputation":1,"user_id":19818719,"display_name":"3gA01"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661157832,"creation_date":1661157832,"answer_id":73442356,"question_id":69590574,"body_markdown":"From my experience I connected  to an internet connection and run vs code. The gradle files might be attempting to updateâ¦","title":"how can i stop my gradle from causing this error?","body":"<p>From my experience I connected  to an internet connection and run vs code. The gradle files might be attempting to updateâ¦</p>\n"}],"owner":{"account_id":16610378,"reputation":31,"user_id":12003588,"display_name":"connorb151"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1562,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1661157832,"creation_date":1634331760,"question_id":69590574,"body_markdown":"just starting java programming and when ever i start visual studio code gradle says it cant start gradle language server as seen in this picture:\r\n\r\n[![this is what shows up ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cADQt.png\r\n\r\nit also throws out alot of horrible errors :\r\n``` \r\nOct 15, 2021 9:51:13 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint fallbackResponseError\r\nSEVERE: Internal error: java.lang.reflect.InvocationTargetException\r\njava.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:67)\r\n\tat org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.request(GenericEndpoint.java:120)\r\n\tat org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.handleRequest(RemoteEndpoint.java:261)\r\n\tat org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.consume(RemoteEndpoint.java:190)\r\n\tat org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.handleMessage(StreamMessageProducer.java:194)\r\n\tat org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.listen(StreamMessageProducer.java:94)\r\n\tat org.eclipse.lsp4j.jsonrpc.json.ConcurrentMessageProcessor.run(ConcurrentMessageProcessor.java:113)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:65)\r\n\t... 11 more\r\nCaused by: java.lang.NullPointerException: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n\tat com.microsoft.gradle.resolver.GradleLibraryResolver.searchInFolder(GradleLibraryResolver.java:161)\r\n\tat com.microsoft.gradle.resolver.GradleLibraryResolver.findCoreAPIWithDist(GradleLibraryResolver.java:152)\r\n\tat com.microsoft.gradle.resolver.GradleLibraryResolver.findCoreAPIWithWrapper(GradleLibraryResolver.java:140)\r\n\tat com.microsoft.gradle.resolver.GradleLibraryResolver.resolveGradleAPI(GradleLibraryResolver.java:89)\r\n\tat com.microsoft.gradle.GradleServices.applySetting(GradleServices.java:160)\r\n\tat com.microsoft.gradle.GradleLanguageServer.initialize(GradleLanguageServer.java:90)\r\n\t... 16 more\r\n\r\n[Error - 21:51:14] Server initialization failed.\r\n  Message: Internal error.\r\n  Code: -32603 \r\njava.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:67)\r\n\tat org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.request(GenericEndpoint.java:120)\r\n\tat org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.handleRequest(RemoteEndpoint.java:261)\r\n\tat org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.consume(RemoteEndpoint.java:190)\r\n\tat org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.handleMessage(StreamMessageProducer.java:194)\r\n\tat org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.listen(StreamMessageProducer.java:94)\r\n\tat org.eclipse.lsp4j.jsonrpc.json.ConcurrentMessageProcessor.run(ConcurrentMessageProcessor.java:113)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:65)\r\n\t... 11 more\r\nCaused by: java.lang.NullPointerException: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n\tat com.microsoft.gradle.resolver.GradleLibraryResolver.searchInFolder(GradleLibraryResolver.java:161)\r\n\tat com.microsoft.gradle.resolver.GradleLibraryResolver.findCoreAPIWithDist(GradleLibraryResolver.java:152)\r\n\tat com.microsoft.gradle.resolver.GradleLibraryResolver.findCoreAPIWithWrapper(GradleLibraryResolver.java:140)\r\n\tat com.microsoft.gradle.resolver.GradleLibraryResolver.resolveGradleAPI(GradleLibraryResolver.java:89)\r\n\tat com.microsoft.gradle.GradleServices.applySetting(GradleServices.java:160)\r\n\tat com.microsoft.gradle.GradleLanguageServer.initialize(GradleLanguageServer.java:90)\r\n\t... 16 more\r\n\r\n[Error - 21:51:14] Starting client failed\r\n  Message: Internal error.\r\n  Code: -32603 \r\njava.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:67)\r\n\tat org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.request(GenericEndpoint.java:120)\r\n\tat org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.handleRequest(RemoteEndpoint.java:261)\r\n\tat org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.consume(RemoteEndpoint.java:190)\r\n\tat org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.handleMessage(StreamMessageProducer.java:194)\r\n\tat org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.listen(StreamMessageProducer.java:94)\r\n\tat org.eclipse.lsp4j.jsonrpc.json.ConcurrentMessageProcessor.run(ConcurrentMessageProcessor.java:113)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:65)\r\n\t... 11 more\r\nCaused by: java.lang.NullPointerException: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\r\n\tat com.microsoft.gradle.resolver.GradleLibraryResolver.searchInFolder(GradleLibraryResolver.java:161)\r\n\tat com.microsoft.gradle.resolver.GradleLibraryResolver.findCoreAPIWithDist(GradleLibraryResolver.java:152)\r\n\tat com.microsoft.gradle.resolver.GradleLibraryResolver.findCoreAPIWithWrapper(GradleLibraryResolver.java:140)\r\n\tat com.microsoft.gradle.resolver.GradleLibraryResolver.resolveGradleAPI(GradleLibraryResolver.java:89)\r\n\tat com.microsoft.gradle.GradleServices.applySetting(GradleServices.java:160)\r\n\tat com.microsoft.gradle.GradleLanguageServer.initialize(GradleLanguageServer.java:90)\r\n\t... 16 more\r\n\r\n```\r\n\r\ni have tried everything i can think of to try and fix this but nothing seems to work any help would really be appriciated,\r\nthank you in advanced ","title":"how can i stop my gradle from causing this error?","body":"<p>just starting java programming and when ever i start visual studio code gradle says it cant start gradle language server as seen in this picture:</p>\n<p><a href=\"https://i.stack.imgur.com/cADQt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cADQt.png\" alt=\"this is what shows up \" /></a></p>\n<p>it also throws out alot of horrible errors :</p>\n<pre><code>Oct 15, 2021 9:51:13 PM org.eclipse.lsp4j.jsonrpc.RemoteEndpoint fallbackResponseError\nSEVERE: Internal error: java.lang.reflect.InvocationTargetException\njava.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:67)\n    at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.request(GenericEndpoint.java:120)\n    at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.handleRequest(RemoteEndpoint.java:261)\n    at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.consume(RemoteEndpoint.java:190)\n    at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.handleMessage(StreamMessageProducer.java:194)\n    at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.listen(StreamMessageProducer.java:94)\n    at org.eclipse.lsp4j.jsonrpc.json.ConcurrentMessageProcessor.run(ConcurrentMessageProcessor.java:113)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:65)\n    ... 11 more\nCaused by: java.lang.NullPointerException: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n    at com.microsoft.gradle.resolver.GradleLibraryResolver.searchInFolder(GradleLibraryResolver.java:161)\n    at com.microsoft.gradle.resolver.GradleLibraryResolver.findCoreAPIWithDist(GradleLibraryResolver.java:152)\n    at com.microsoft.gradle.resolver.GradleLibraryResolver.findCoreAPIWithWrapper(GradleLibraryResolver.java:140)\n    at com.microsoft.gradle.resolver.GradleLibraryResolver.resolveGradleAPI(GradleLibraryResolver.java:89)\n    at com.microsoft.gradle.GradleServices.applySetting(GradleServices.java:160)\n    at com.microsoft.gradle.GradleLanguageServer.initialize(GradleLanguageServer.java:90)\n    ... 16 more\n\n[Error - 21:51:14] Server initialization failed.\n  Message: Internal error.\n  Code: -32603 \njava.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:67)\n    at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.request(GenericEndpoint.java:120)\n    at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.handleRequest(RemoteEndpoint.java:261)\n    at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.consume(RemoteEndpoint.java:190)\n    at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.handleMessage(StreamMessageProducer.java:194)\n    at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.listen(StreamMessageProducer.java:94)\n    at org.eclipse.lsp4j.jsonrpc.json.ConcurrentMessageProcessor.run(ConcurrentMessageProcessor.java:113)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:65)\n    ... 11 more\nCaused by: java.lang.NullPointerException: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n    at com.microsoft.gradle.resolver.GradleLibraryResolver.searchInFolder(GradleLibraryResolver.java:161)\n    at com.microsoft.gradle.resolver.GradleLibraryResolver.findCoreAPIWithDist(GradleLibraryResolver.java:152)\n    at com.microsoft.gradle.resolver.GradleLibraryResolver.findCoreAPIWithWrapper(GradleLibraryResolver.java:140)\n    at com.microsoft.gradle.resolver.GradleLibraryResolver.resolveGradleAPI(GradleLibraryResolver.java:89)\n    at com.microsoft.gradle.GradleServices.applySetting(GradleServices.java:160)\n    at com.microsoft.gradle.GradleLanguageServer.initialize(GradleLanguageServer.java:90)\n    ... 16 more\n\n[Error - 21:51:14] Starting client failed\n  Message: Internal error.\n  Code: -32603 \njava.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:67)\n    at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.request(GenericEndpoint.java:120)\n    at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.handleRequest(RemoteEndpoint.java:261)\n    at org.eclipse.lsp4j.jsonrpc.RemoteEndpoint.consume(RemoteEndpoint.java:190)\n    at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.handleMessage(StreamMessageProducer.java:194)\n    at org.eclipse.lsp4j.jsonrpc.json.StreamMessageProducer.listen(StreamMessageProducer.java:94)\n    at org.eclipse.lsp4j.jsonrpc.json.ConcurrentMessageProcessor.run(ConcurrentMessageProcessor.java:113)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.lsp4j.jsonrpc.services.GenericEndpoint.lambda$null$0(GenericEndpoint.java:65)\n    ... 11 more\nCaused by: java.lang.NullPointerException: Cannot read the array length because &quot;&lt;local3&gt;&quot; is null\n    at com.microsoft.gradle.resolver.GradleLibraryResolver.searchInFolder(GradleLibraryResolver.java:161)\n    at com.microsoft.gradle.resolver.GradleLibraryResolver.findCoreAPIWithDist(GradleLibraryResolver.java:152)\n    at com.microsoft.gradle.resolver.GradleLibraryResolver.findCoreAPIWithWrapper(GradleLibraryResolver.java:140)\n    at com.microsoft.gradle.resolver.GradleLibraryResolver.resolveGradleAPI(GradleLibraryResolver.java:89)\n    at com.microsoft.gradle.GradleServices.applySetting(GradleServices.java:160)\n    at com.microsoft.gradle.GradleLanguageServer.initialize(GradleLanguageServer.java:90)\n    ... 16 more\n\n</code></pre>\n<p>i have tried everything i can think of to try and fix this but nothing seems to work any help would really be appriciated,\nthank you in advanced</p>\n"},{"tags":["java","android","android-studio","android-layout"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1655489454,"post_id":72663128,"comment_id":128352810,"body_markdown":"Couldn&#39;t help but notice these seems backwards: `browse = findViewById(R.id.reelupload);//browse button` and \n       `upload = findViewById(R.id.reelbrowse);//upload button`  - i.e. you get the id for the upload button but assign it to browse and vice versa.","body":"Couldn&#39;t help but notice these seems backwards: <code>browse = findViewById(R.id.reelupload);&#47;&#47;browse button</code> and         <code>upload = findViewById(R.id.reelbrowse);&#47;&#47;upload button</code>  - i.e. you get the id for the upload button but assign it to browse and vice versa."}],"answers":[{"tags":[],"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661157828,"creation_date":1661157828,"answer_id":73442354,"question_id":72663128,"body_markdown":"I think Your ids for buttons are mismatched","title":"onClick() method for a button is not working properly","body":"<p>I think Your ids for buttons are mismatched</p>\n"}],"owner":{"account_id":25582241,"reputation":3,"user_id":19360568,"display_name":"Panchumarthi Abhinav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661157828,"creation_date":1655488370,"question_id":72663128,"body_markdown":"I am working on uploading videos to firebase, As the first step is to select the video. I am trying to get the video from the storage using the below code. Using the following code, I cannot perform the operation of getting the video from the gallery.\r\n\r\nThis is how I have initialized my variables\r\n\r\n```\r\n        browse = findViewById(R.id.reelupload);//browse button\r\n        upload = findViewById(R.id.reelbrowse);//upload button\r\n        reel = findViewById(R.id.reel);//video view\r\n\r\n        mediaController = new MediaController(this);\r\n        reel.setMediaController(mediaController);\r\n```\r\nBelow is the code for the onClick method of the browse button\r\n        \r\n```\r\nbrowse.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                Dexter.withContext(getApplicationContext())\r\n                        .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\r\n                        .withListener(new PermissionListener() {\r\n                            @Override\r\n                            public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\r\n\r\n                                Intent intent = new Intent();\r\n                                intent.setType(&quot;video/*&quot;);\r\n                                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                                startActivityForResult(intent, 101);\r\n                            }\r\n\r\n                            @Override\r\n                            public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\r\n                                    permissionToken.continuePermissionRequest();\r\n                            }\r\n                        }).check();\r\n            }\r\n        });\r\n\r\n\r\n protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == 101 &amp;&amp; resultCode==RESULT_OK){\r\n            uri = data.getData();\r\n            reel.setVideoURI(uri);\r\n        }\r\n    }\r\n```\r\n\r\nI am getting the following statements in the logcat when I click on the browse button\r\n\r\n```\r\n2022-06-17 23:14:51.972 1277-1277/com.example.proshare I/ViewRootImpl@2c13be8[reelupload]: ViewPostIme pointer 0\r\n2022-06-17 23:14:51.973 1277-1277/com.example.proshare I/MSHandlerLifeCycle: isMultiSplitHandlerRequested: windowingMode=1 isFullscreen=true isPopOver=false isHidden=false skipActivityType=false isHandlerType=true this: DecorView@2a635e6[reelupload]\r\n2022-06-17 23:14:52.040 1277-1277/com.example.proshare I/ViewRootImpl@2c13be8[reelupload]: ViewPostIme pointer 1\r\n2022-06-17 23:14:52.041 1277-1277/com.example.proshare I/MSHandlerLifeCycle: isMultiSplitHandlerRequested: windowingMode=1 isFullscreen=true isPopOver=false isHidden=false skipActivityType=false isHandlerType=true this: DecorView@2a635e6[reelupload]\r\n2022-06-17 23:14:52.153 1277-1290/com.example.proshare I/xample.proshar: Compiler allocated 4546KB to compile void android.view.ViewRootImpl.performTraversals()\r\n```","title":"onClick() method for a button is not working properly","body":"<p>I am working on uploading videos to firebase, As the first step is to select the video. I am trying to get the video from the storage using the below code. Using the following code, I cannot perform the operation of getting the video from the gallery.</p>\n<p>This is how I have initialized my variables</p>\n<pre><code>        browse = findViewById(R.id.reelupload);//browse button\n        upload = findViewById(R.id.reelbrowse);//upload button\n        reel = findViewById(R.id.reel);//video view\n\n        mediaController = new MediaController(this);\n        reel.setMediaController(mediaController);\n</code></pre>\n<p>Below is the code for the onClick method of the browse button</p>\n<pre><code>browse.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                Dexter.withContext(getApplicationContext())\n                        .withPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n                        .withListener(new PermissionListener() {\n                            @Override\n                            public void onPermissionGranted(PermissionGrantedResponse permissionGrantedResponse) {\n\n                                Intent intent = new Intent();\n                                intent.setType(&quot;video/*&quot;);\n                                intent.setAction(Intent.ACTION_GET_CONTENT);\n                                startActivityForResult(intent, 101);\n                            }\n\n                            @Override\n                            public void onPermissionDenied(PermissionDeniedResponse permissionDeniedResponse) {\n\n                            }\n\n                            @Override\n                            public void onPermissionRationaleShouldBeShown(PermissionRequest permissionRequest, PermissionToken permissionToken) {\n                                    permissionToken.continuePermissionRequest();\n                            }\n                        }).check();\n            }\n        });\n\n\n protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == 101 &amp;&amp; resultCode==RESULT_OK){\n            uri = data.getData();\n            reel.setVideoURI(uri);\n        }\n    }\n</code></pre>\n<p>I am getting the following statements in the logcat when I click on the browse button</p>\n<pre><code>2022-06-17 23:14:51.972 1277-1277/com.example.proshare I/ViewRootImpl@2c13be8[reelupload]: ViewPostIme pointer 0\n2022-06-17 23:14:51.973 1277-1277/com.example.proshare I/MSHandlerLifeCycle: isMultiSplitHandlerRequested: windowingMode=1 isFullscreen=true isPopOver=false isHidden=false skipActivityType=false isHandlerType=true this: DecorView@2a635e6[reelupload]\n2022-06-17 23:14:52.040 1277-1277/com.example.proshare I/ViewRootImpl@2c13be8[reelupload]: ViewPostIme pointer 1\n2022-06-17 23:14:52.041 1277-1277/com.example.proshare I/MSHandlerLifeCycle: isMultiSplitHandlerRequested: windowingMode=1 isFullscreen=true isPopOver=false isHidden=false skipActivityType=false isHandlerType=true this: DecorView@2a635e6[reelupload]\n2022-06-17 23:14:52.153 1277-1290/com.example.proshare I/xample.proshar: Compiler allocated 4546KB to compile void android.view.ViewRootImpl.performTraversals()\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661157714,"creation_date":1661157714,"answer_id":73442328,"question_id":73389627,"body_markdown":"Looks like your Spring SpEL integration doesn&#39;t work properly. My guess is that `#{jobParameters[edbtimestamp]}` will inject some parameter markers i.e. `:param1` or `?` to the SQL but `JdbcCursorItemReader` is not setting a value for that parameter.","title":"Caused by: java.sql.SQLException: Missing IN or OUT parameter at index:: 1","body":"<p>Looks like your Spring SpEL integration doesn't work properly. My guess is that <code>#{jobParameters[edbtimestamp]}</code> will inject some parameter markers i.e. <code>:param1</code> or <code>?</code> to the SQL but <code>JdbcCursorItemReader</code> is not setting a value for that parameter.</p>\n"}],"owner":{"account_id":25913929,"reputation":11,"user_id":19637592,"display_name":"StormBreaker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661157714,"creation_date":1660744026,"question_id":73389627,"body_markdown":"This is the query where I am getting error In Out something;   \r\n\r\n     SELECT BUS_EVT_LOG_ID,MAINT_OBJ_CD,BUS_OBJ_CD,PK_VALUE1,PK_VALUE2,PK_VALUE3,PK_VALUE4,PK_VALUE5,LOG_DTTM,VERSION,MESSAGE_CAT_NBR,MESSAGE_NBR,USER_ID,LOG_DETAIL FROM cisadm.F1_BUS_EVT_LOG where trim(BUS_OBJ_CD) in (&#39;CM-InvoiceDetails&#39;, &#39;CM-InvoiceSummary&#39;) and PK_VALUE5 != &#39;Y&#39; and LOG_DTTM &amp;gt; TO_DATE(&#39;#{jobParameters[edbtimestamp]}&#39; ,&#39;yyyy-MM-dd hh24:mi:ss&#39;)\r\n\r\nError I don&#39;t know what is causing the issue sql query or something else\r\n\r\n    ERROR at line 1:\r\n    ORA-28374: typed master key not found in wallet&#39; ,&#39;yyyy-MM-dd hh24:mi:ss&#39;)]; SQL state [99999]; error code [17041]; Missing IN or OUT parameter at index:: 1; nested exception is java.sql.SQLException: Missing IN or OUT parameter at index:: 1\r\n    \tat org.springframework.batch.item.database.AbstractCursorItemReader.translateSqlException(AbstractCursorItemReader.java:230) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n    \tat org.springframework.batch.item.database.JdbcCursorItemReader.openCursor(JdbcCursorItemReader.java:133) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n    \tat org.springframework.batch.item.database.AbstractCursorItemReader.doOpen(AbstractCursorItemReader.java:453) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n    \tat org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:150) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n    \t... 27 more\r\n    Caused by: java.sql.SQLException: Missing IN or OUT parameter at index:: 1\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.processCompletedBindRow(OraclePreparedStatement.java:2086) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3772) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3822) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n    \tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1165) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\r\n    \tat org.springframework.batch.item.database.JdbcCursorItemReader.openCursor(JdbcCursorItemReader.java:128) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n    \tat org.springframework.batch.item.database.AbstractCursorItemReader.doOpen(AbstractCursorItemReader.java:453) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n    \tat org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:150) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\r\n    \t... 27 more","title":"Caused by: java.sql.SQLException: Missing IN or OUT parameter at index:: 1","body":"<p>This is the query where I am getting error In Out something;</p>\n<pre><code> SELECT BUS_EVT_LOG_ID,MAINT_OBJ_CD,BUS_OBJ_CD,PK_VALUE1,PK_VALUE2,PK_VALUE3,PK_VALUE4,PK_VALUE5,LOG_DTTM,VERSION,MESSAGE_CAT_NBR,MESSAGE_NBR,USER_ID,LOG_DETAIL FROM cisadm.F1_BUS_EVT_LOG where trim(BUS_OBJ_CD) in ('CM-InvoiceDetails', 'CM-InvoiceSummary') and PK_VALUE5 != 'Y' and LOG_DTTM &amp;gt; TO_DATE('#{jobParameters[edbtimestamp]}' ,'yyyy-MM-dd hh24:mi:ss')\n</code></pre>\n<p>Error I don't know what is causing the issue sql query or something else</p>\n<pre><code>ERROR at line 1:\nORA-28374: typed master key not found in wallet' ,'yyyy-MM-dd hh24:mi:ss')]; SQL state [99999]; error code [17041]; Missing IN or OUT parameter at index:: 1; nested exception is java.sql.SQLException: Missing IN or OUT parameter at index:: 1\n    at org.springframework.batch.item.database.AbstractCursorItemReader.translateSqlException(AbstractCursorItemReader.java:230) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n    at org.springframework.batch.item.database.JdbcCursorItemReader.openCursor(JdbcCursorItemReader.java:133) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n    at org.springframework.batch.item.database.AbstractCursorItemReader.doOpen(AbstractCursorItemReader.java:453) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n    at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:150) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n    ... 27 more\nCaused by: java.sql.SQLException: Missing IN or OUT parameter at index:: 1\n    at oracle.jdbc.driver.OraclePreparedStatement.processCompletedBindRow(OraclePreparedStatement.java:2086) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3772) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.T4CPreparedStatement.executeInternal(T4CPreparedStatement.java:1343) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3822) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1165) ~[ojdbc8-12.2.0.1.jar:12.2.0.1.0]\n    at org.springframework.batch.item.database.JdbcCursorItemReader.openCursor(JdbcCursorItemReader.java:128) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n    at org.springframework.batch.item.database.AbstractCursorItemReader.doOpen(AbstractCursorItemReader.java:453) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n    at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.open(AbstractItemCountingItemStreamItemReader.java:150) ~[spring-batch-infrastructure-4.3.4.jar:4.3.4]\n    ... 27 more\n</code></pre>\n"},{"tags":["java","jsp"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661157674,"creation_date":1661157674,"answer_id":73442319,"question_id":73441655,"body_markdown":"I will suggest small modification to address your issue:\r\n\r\nModify your `c:set` :\r\n\r\n    &lt;c:set var=&quot;model&quot; scope=&quot;request&quot; value=&quot;${leadType}&quot;/&gt;\r\n                &lt;jsp:include page=&quot;leadCreate.jsp&quot;/&gt;\r\n\r\nAnd in your `leadCreate.jsp` , just access or retrieve your list using :\r\n\r\n\r\n    ${requestScope.leadType}\r\n\r\n","title":"How to pass a model value of a jsp page to another jsp include page in java jsp","body":"<p>I will suggest small modification to address your issue:</p>\n<p>Modify your <code>c:set</code> :</p>\n<pre><code>&lt;c:set var=&quot;model&quot; scope=&quot;request&quot; value=&quot;${leadType}&quot;/&gt;\n            &lt;jsp:include page=&quot;leadCreate.jsp&quot;/&gt;\n</code></pre>\n<p>And in your <code>leadCreate.jsp</code> , just access or retrieve your list using :</p>\n<pre><code>${requestScope.leadType}\n</code></pre>\n"}],"owner":{"account_id":24373646,"reputation":34,"user_id":18306256,"display_name":"Yadhu Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661157674,"creation_date":1661153936,"question_id":73441655,"body_markdown":"```\r\n&lt;c:set var=&quot;model&quot; scope=&quot;request&quot; value=&quot;${leadType}&quot;/&gt;\r\n\t\t\t&lt;jsp:include page=&quot;leadCreate.jsp&quot;&gt;\r\n\t\t\t &lt;jsp:param name=&quot;model&quot; value=&quot;${leadType}&quot;/&gt;\r\n\t\t\t&lt;/jsp:include&gt;\r\n```\r\n\r\nim including a jsp page named  leadCreate and iwant to pass a model value that i have passed from controller to that jsp include page as a list of objects\r\ni tried as jsp param but it is returning list as string . so icant iterate them using &lt;c:forEach ...  statement in inculded jsp page...","title":"How to pass a model value of a jsp page to another jsp include page in java jsp","body":"<pre><code>&lt;c:set var=&quot;model&quot; scope=&quot;request&quot; value=&quot;${leadType}&quot;/&gt;\n            &lt;jsp:include page=&quot;leadCreate.jsp&quot;&gt;\n             &lt;jsp:param name=&quot;model&quot; value=&quot;${leadType}&quot;/&gt;\n            &lt;/jsp:include&gt;\n</code></pre>\n<p>im including a jsp page named  leadCreate and iwant to pass a model value that i have passed from controller to that jsp include page as a list of objects\ni tried as jsp param but it is returning list as string . so icant iterate them using &lt;c:forEach ...  statement in inculded jsp page...</p>\n"},{"tags":["java","sql-server","hibernate","jpa","criteria-api"],"comments":[{"owner":{"account_id":16139017,"reputation":129,"user_id":15817444,"display_name":"Mazhar Ibna Zahur"},"score":0,"creation_date":1660927316,"post_id":73407356,"comment_id":129657304,"body_markdown":"Is there any need to use criteria?  is there any dynamic query issues?  if not you can use join fetch attributes","body":"Is there any need to use criteria?  is there any dynamic query issues?  if not you can use join fetch attributes"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661157448,"creation_date":1661157448,"answer_id":73442275,"question_id":73407356,"body_markdown":"It&#39;s not possible to select a collection. You can only select elements of it. What you probably want there is to create a fetch for the collection i.e.\r\n\r\n        Session session = Hibernate.openSession();\r\n        CriteriaBuilder cb = session.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Patient&gt; cq = cb.createQuery(Patient.class);\r\n        Root&lt;Patient&gt; root = cq.from(Patient.class);\r\n        root.fetch(&quot;Vitals&quot;);\r\n        List&lt;Patient&gt; patients = session.createQuery(cq).getResultList();","title":"Java Persistence Criteria fetch collection using multiselect","body":"<p>It's not possible to select a collection. You can only select elements of it. What you probably want there is to create a fetch for the collection i.e.</p>\n<pre><code>    Session session = Hibernate.openSession();\n    CriteriaBuilder cb = session.getCriteriaBuilder();\n    CriteriaQuery&lt;Patient&gt; cq = cb.createQuery(Patient.class);\n    Root&lt;Patient&gt; root = cq.from(Patient.class);\n    root.fetch(&quot;Vitals&quot;);\n    List&lt;Patient&gt; patients = session.createQuery(cq).getResultList();\n</code></pre>\n"}],"owner":{"account_id":14701186,"reputation":499,"user_id":10617165,"display_name":"Faizan Khokhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661157448,"creation_date":1660844518,"question_id":73407356,"body_markdown":"I have a class consists of id and a list of vitals with other attributes\r\n\r\n```\r\npublic class Patient\r\n{\r\n    private Integer Id;\r\n    private String FirstName;\r\n    private String LastName;\r\n    private List&lt;Vital&gt; Vitals;\r\n\r\n    public Patient(Integer id, List&lt;Vital&gt; vitals)\r\n\t{\r\n\t\tthis.Id = id;\r\n\t\tthis.setVitals(vitals);\r\n\t}\r\n\r\n    main()\r\n    {\r\n        Session session = Hibernate.openSession();\r\n        CriteriaBuilder cb = session.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Patient&gt; cq = cb.createQuery(Patient.class);\r\n        Root&lt;Patient&gt; root = cq.from(Patient.class);\r\n        cq.multiselect(root.get(&quot;Id&quot;), root.get(&quot;Vitals&quot;));\r\n        List&lt;Patient&gt; patients = session.createQuery(cq).getResultList();\r\n\r\n        session.close();\r\n    }\r\n\r\n}\r\n```\r\nBut the mentioned code produces an exception of undefined proper constructor\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [com.bk.Patient]. Expected arguments are: int, java.util.Collection [select new com.bk.Patient(generatedAlias0.Id, generatedAlias0.Vitals) from com.bk.Patient as generatedAlias0]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)\r\n\r\n\r\nIf I change my constructor to \r\n\r\n```\r\n    public PatientEncounter(Integer id, java.util.Collection vitals)\r\n\t{\r\n\t\tthis.Id = id;\r\n//\t\tthis.setVitals(vitals);\r\n\t}\r\n```\r\nThe exception converts to \r\n&gt; Exception in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword &#39;as&#39;.\r\n\r\nFollowing these links [Question1][1] and [Question2][2]\r\n```\r\n    CriteriaQuery&lt;Tuple&gt; cq = cb.createTupleQuery();\r\n\t    \r\n\tRoot&lt;Patient&gt; root = cq.from(Patient.class);\r\n\t\t\r\n\tPath&lt;String&gt; namePath = root.get(&quot;Vitals&quot;);\r\n\tPath&lt;Integer&gt; idPath = root.get(&quot;Id&quot;);\r\n\t\t\r\n\tcq.multiselect(idPath , namePath);\r\n\t\t\r\n\tsession.createQuery(cq).getResultList().stream();\r\n```\r\nAlso produces the same exception\r\n&gt;Exception in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword &#39;as&#39;.\r\n\r\nWhat am I doing wrong and how can I fix it?\r\n\r\n**P.S: If I fetch only attributes, the code works fine. Only fetching collection results in exceptions**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38976618/jpa-criteria-multiselect-with-fetch\r\n  [2]: https://stackoverflow.com/questions/60356537/hibernate-criteria-multi-select-query-with-join","title":"Java Persistence Criteria fetch collection using multiselect","body":"<p>I have a class consists of id and a list of vitals with other attributes</p>\n<pre><code>public class Patient\n{\n    private Integer Id;\n    private String FirstName;\n    private String LastName;\n    private List&lt;Vital&gt; Vitals;\n\n    public Patient(Integer id, List&lt;Vital&gt; vitals)\n    {\n        this.Id = id;\n        this.setVitals(vitals);\n    }\n\n    main()\n    {\n        Session session = Hibernate.openSession();\n        CriteriaBuilder cb = session.getCriteriaBuilder();\n        CriteriaQuery&lt;Patient&gt; cq = cb.createQuery(Patient.class);\n        Root&lt;Patient&gt; root = cq.from(Patient.class);\n        cq.multiselect(root.get(&quot;Id&quot;), root.get(&quot;Vitals&quot;));\n        List&lt;Patient&gt; patients = session.createQuery(cq).getResultList();\n\n        session.close();\n    }\n\n}\n</code></pre>\n<p>But the mentioned code produces an exception of undefined proper constructor</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: Unable to locate appropriate constructor on class [com.bk.Patient]. Expected arguments are: int, java.util.Collection [select new com.bk.Patient(generatedAlias0.Id, generatedAlias0.Vitals) from com.bk.Patient as generatedAlias0]\nat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138)</p>\n</blockquote>\n<p>If I change my constructor to</p>\n<pre><code>    public PatientEncounter(Integer id, java.util.Collection vitals)\n    {\n        this.Id = id;\n//      this.setVitals(vitals);\n    }\n</code></pre>\n<p>The exception converts to</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword 'as'.</p>\n</blockquote>\n<p>Following these links <a href=\"https://stackoverflow.com/questions/38976618/jpa-criteria-multiselect-with-fetch\">Question1</a> and <a href=\"https://stackoverflow.com/questions/60356537/hibernate-criteria-multi-select-query-with-join\">Question2</a></p>\n<pre><code>    CriteriaQuery&lt;Tuple&gt; cq = cb.createTupleQuery();\n        \n    Root&lt;Patient&gt; root = cq.from(Patient.class);\n        \n    Path&lt;String&gt; namePath = root.get(&quot;Vitals&quot;);\n    Path&lt;Integer&gt; idPath = root.get(&quot;Id&quot;);\n        \n    cq.multiselect(idPath , namePath);\n        \n    session.createQuery(cq).getResultList().stream();\n</code></pre>\n<p>Also produces the same exception</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\nCaused by: com.microsoft.sqlserver.jdbc.SQLServerException: Incorrect syntax near the keyword 'as'.</p>\n</blockquote>\n<p>What am I doing wrong and how can I fix it?</p>\n<p><strong>P.S: If I fetch only attributes, the code works fine. Only fetching collection results in exceptions</strong></p>\n"},{"tags":["java","maven","grpc","rpc","grpc-java"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1661125593,"post_id":73438244,"comment_id":129690689,"body_markdown":"`I created a simple proto file in the proto package` - what does it mean? `protobuf-maven-plugin` expects to find `proto` files in `src/main/proto`","body":"<code>I created a simple proto file in the proto package</code> - what does it mean? <code>protobuf-maven-plugin</code> expects to find <code>proto</code> files in <code>src&#47;main&#47;proto</code>"},{"owner":{"account_id":22910177,"reputation":85,"user_id":17047574,"display_name":"ÐÐµÐ½Ð¸Ñ ÐÐ°Ð´Ð¾ÑÐ¾Ð¶Ð½Ð¸Ð¹"},"score":0,"creation_date":1661157295,"post_id":73438244,"comment_id":129696136,"body_markdown":"You&#39;re right. Due to inattention, I threw a package of proto src/main/java/proto . And that&#39;s why it didn&#39;t generate files. Thank you.","body":"You&#39;re right. Due to inattention, I threw a package of proto src/main/java/proto . And that&#39;s why it didn&#39;t generate files. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":22910177,"reputation":85,"user_id":17047574,"display_name":"ÐÐµÐ½Ð¸Ñ ÐÐ°Ð´Ð¾ÑÐ¾Ð¶Ð½Ð¸Ð¹"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661157375,"creation_date":1661157375,"answer_id":73442264,"question_id":73438244,"body_markdown":"Proto files should be stored at src/main/proto","title":"Why plugin protobuf does not generate classes in the target folder?","body":"<p>Proto files should be stored at src/main/proto</p>\n"}],"owner":{"account_id":22910177,"reputation":85,"user_id":17047574,"display_name":"ÐÐµÐ½Ð¸Ñ ÐÐ°Ð´Ð¾ÑÐ¾Ð¶Ð½Ð¸Ð¹"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":918,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661157375,"creation_date":1661116109,"question_id":73438244,"body_markdown":"I just started to study jrpc.I created a simple proto file in the proto package.\r\n\r\n    syntax = &quot;proto3&quot;;\r\n\r\n    service HelloWorldService {\r\n      rpc hello(HelloRequest) returns (HelloResponse) {}\r\n    }\r\n\r\n    message HelloRequest {\r\n      string text = 1;\r\n    }\r\n\r\n    message HelloResponse {\r\n      string text = 1;\r\n    }\r\n\r\nI use maven.In the pom.xml file I have dependencies like this\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;grpc-hello-server&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;GRPC&lt;/name&gt;\r\n    &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n            &lt;version&gt;1.48.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.48.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n            &lt;version&gt;1.48.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;extensions&gt;\r\n            &lt;extension&gt;\r\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.2&lt;/version&gt;\r\n            &lt;/extension&gt;\r\n        &lt;/extensions&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.6.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;protocArtifact&gt;com.google.protobuf:protoc:3.9.0:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\r\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n                    &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.24.0:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nThen i click reload all maven projects button and then in maven lifecycle i click package run. And if i understand correctly my protobuf plugin must created classes in target/generated-sources folder. But it&#39;s empty. I don&#39;t understand why, i cleaned maven, installed and then again used package command.And that didn&#39;t help.Please tell me why my files are not being created?","title":"Why plugin protobuf does not generate classes in the target folder?","body":"<p>I just started to study jrpc.I created a simple proto file in the proto package.</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\nservice HelloWorldService {\n  rpc hello(HelloRequest) returns (HelloResponse) {}\n}\n\nmessage HelloRequest {\n  string text = 1;\n}\n\nmessage HelloResponse {\n  string text = 1;\n}\n</code></pre>\n<p>I use maven.In the pom.xml file I have dependencies like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;grpc-hello-server&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;name&gt;GRPC&lt;/name&gt;\n&lt;!-- FIXME change it to the project's website --&gt;\n&lt;url&gt;http://www.example.com&lt;/url&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n        &lt;version&gt;1.48.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n        &lt;version&gt;1.48.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n        &lt;version&gt;1.48.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;extensions&gt;\n        &lt;extension&gt;\n            &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/extension&gt;\n    &lt;/extensions&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.6.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;protocArtifact&gt;com.google.protobuf:protoc:3.9.0:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\n                &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n                &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.24.0:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;goal&gt;compile-custom&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Then i click reload all maven projects button and then in maven lifecycle i click package run. And if i understand correctly my protobuf plugin must created classes in target/generated-sources folder. But it's empty. I don't understand why, i cleaned maven, installed and then again used package command.And that didn't help.Please tell me why my files are not being created?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"score":0,"creation_date":1660899723,"post_id":73414202,"comment_id":129647539,"body_markdown":"What is your question? Make your question more focus and clarity.","body":"What is your question? Make your question more focus and clarity."},{"owner":{"account_id":19367094,"reputation":183,"user_id":14161125,"display_name":"Ocean"},"score":0,"creation_date":1660900935,"post_id":73414202,"comment_id":129647920,"body_markdown":"Link to the apk: https://drive.google.com/file/d/1QL8JxplUD9wTwiNZv6EfFyY5rG_eFMIo/view  which may help you figure out my issue. Thanks","body":"Link to the apk: <a href=\"https://drive.google.com/file/d/1QL8JxplUD9wTwiNZv6EfFyY5rG_eFMIo/view\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1QL8JxplUD9wTwiNZv6EfFyY5rG_eFMIo/vi&zwnj;&#8203;ew</a>  which may help you figure out my issue. Thanks"},{"owner":{"account_id":19367094,"reputation":183,"user_id":14161125,"display_name":"Ocean"},"score":0,"creation_date":1660902588,"post_id":73414202,"comment_id":129648423,"body_markdown":"I&#39;ve updated my question as well. Any suggestions would be appreciated.","body":"I&#39;ve updated my question as well. Any suggestions would be appreciated."},{"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"score":0,"creation_date":1660906872,"post_id":73414202,"comment_id":129649854,"body_markdown":"@Ocean make a onCLickListener for all buttons and update textView accordingly","body":"@Ocean make a onCLickListener for all buttons and update textView accordingly"},{"owner":{"account_id":19367094,"reputation":183,"user_id":14161125,"display_name":"Ocean"},"score":0,"creation_date":1660907570,"post_id":73414202,"comment_id":129650070,"body_markdown":"I want to change text for textView, but before that want to change text of button to &quot;Set&quot;. So that the button acts as setting.","body":"I want to change text for textView, but before that want to change text of button to &quot;Set&quot;. So that the button acts as setting."},{"owner":{"account_id":19367094,"reputation":183,"user_id":14161125,"display_name":"Ocean"},"score":0,"creation_date":1660913049,"post_id":73414202,"comment_id":129652137,"body_markdown":"Please do follow the **comments** given with the ```code``` for better understanding.","body":"Please do follow the <b>comments</b> given with the <code>code</code> for better understanding."}],"answers":[{"tags":[],"owner":{"account_id":22381577,"reputation":3,"user_id":16595078,"display_name":"coderZbro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660907711,"creation_date":1660907711,"answer_id":73415930,"question_id":73414202,"body_markdown":"I&#39;m afraid giving multiple functionalities to a single button will not work properly but I wrote this code with if statements that in each statement there is a `setOnClickListener()` method. Try this:\r\n\r\n    import android.graphics.Color;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.RadioButton;\r\n    import android.widget.RadioGroup;\r\n    import android.widget.TextView;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    \r\n    public class HWSampleActivity extends AppCompatActivity{\r\n         TextView textView;\r\n         Button btn1;\r\n         Button btn2;\r\n         Button btnOption;\r\n         RadioGroup radioGroup;\r\n         RadioButton radioBtn1;\r\n         RadioButton radioBtn2;\r\n    \r\n        String text1 = &quot;First Choice&quot;;\r\n        String text2 = &quot;Second Choice&quot;;\r\n        String textClose = &quot;Close&quot;;\r\n        String textSet = &quot;Set&quot;;\r\n        String textOption = &quot;Option&quot;;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n            textView = findViewById(R.id.textView);\r\n            btn1 = findViewById(R.id.btn1);\r\n            btn2 = findViewById(R.id.btn2);\r\n            btnOption = findViewById(R.id.btnOption);\r\n            radioGroup = findViewById(R.id.radioGroup);\r\n            radioBtn1 = findViewById (R.id.radioBtn1);\r\n            radioBtn2 = findViewById (R.id.radioBtn2);\r\n    \r\n            textView.setTextColor(Color.BLACK);\r\n            textView.setText(text1);\r\n    \r\n            if (btnOption.getText().equals(textOption)){\r\n                btnOption.setOnClickListener(view -&gt; {\r\n                    radioGroup.setVisibility(View.VISIBLE);\r\n                    if (radioBtn1.isChecked())\r\n                        btnOption.setText(textClose);\r\n                    else\r\n                        btnOption.setText(textSet);\r\n                });\r\n            }\r\n    \r\n            if (btnOption.getText().equals(textClose)){\r\n                btnOption.setOnClickListener(view -&gt; {\r\n                    radioGroup.setVisibility(View.GONE);\r\n                    btnOption.setText(textOption);\r\n                });\r\n            }\r\n    \r\n            if (btnOption.getText().equals(textSet)){\r\n                btnOption.setOnClickListener(view -&gt; {\r\n                    textView.setTextColor(Color.BLACK);\r\n                    textView.setText(text2);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\nif this does not work, then you can use your **Button1** and **Button2** in order to change your text with these 2 buttons. ","title":"Multiple functions with a single button in Java - Android","body":"<p>I'm afraid giving multiple functionalities to a single button will not work properly but I wrote this code with if statements that in each statement there is a <code>setOnClickListener()</code> method. Try this:</p>\n<pre><code>import android.graphics.Color;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\n\npublic class HWSampleActivity extends AppCompatActivity{\n     TextView textView;\n     Button btn1;\n     Button btn2;\n     Button btnOption;\n     RadioGroup radioGroup;\n     RadioButton radioBtn1;\n     RadioButton radioBtn2;\n\n    String text1 = &quot;First Choice&quot;;\n    String text2 = &quot;Second Choice&quot;;\n    String textClose = &quot;Close&quot;;\n    String textSet = &quot;Set&quot;;\n    String textOption = &quot;Option&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        textView = findViewById(R.id.textView);\n        btn1 = findViewById(R.id.btn1);\n        btn2 = findViewById(R.id.btn2);\n        btnOption = findViewById(R.id.btnOption);\n        radioGroup = findViewById(R.id.radioGroup);\n        radioBtn1 = findViewById (R.id.radioBtn1);\n        radioBtn2 = findViewById (R.id.radioBtn2);\n\n        textView.setTextColor(Color.BLACK);\n        textView.setText(text1);\n\n        if (btnOption.getText().equals(textOption)){\n            btnOption.setOnClickListener(view -&gt; {\n                radioGroup.setVisibility(View.VISIBLE);\n                if (radioBtn1.isChecked())\n                    btnOption.setText(textClose);\n                else\n                    btnOption.setText(textSet);\n            });\n        }\n\n        if (btnOption.getText().equals(textClose)){\n            btnOption.setOnClickListener(view -&gt; {\n                radioGroup.setVisibility(View.GONE);\n                btnOption.setText(textOption);\n            });\n        }\n\n        if (btnOption.getText().equals(textSet)){\n            btnOption.setOnClickListener(view -&gt; {\n                textView.setTextColor(Color.BLACK);\n                textView.setText(text2);\n            });\n        }\n    }\n}\n</code></pre>\n<p>if this does not work, then you can use your <strong>Button1</strong> and <strong>Button2</strong> in order to change your text with these 2 buttons.</p>\n"},{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660907810,"creation_date":1660907810,"answer_id":73415954,"question_id":73414202,"body_markdown":"Adding onCLickListener should work, Try this code\r\n```\r\nradioBtn1.setChecked(true);\r\n\r\nbtnOption.setOnClickListener(view1 -&gt; {\r\n    if (radioGroup.getVisibility() == View.GONE){\r\n        radioGroup.setVisibility(View.VISIBLE);\r\n        btnOption.setText(&quot;Close&quot;);\r\n    }\r\n\r\n    if (radioBtn2.isChecked()) {\r\n        textView.setText(&quot;Second Choice&quot;);\r\n    } else if (radioBtn1.isChecked()) {\r\n        textView.setText(&quot;First Choice&quot;);\r\n    }\r\n});\r\n        \r\nradioBtn1.setOnClickListener(view13 -&gt; btnOption.setText(&quot;Set&quot;));\r\nradioBtn2.setOnClickListener(view12 -&gt; btnOption.setText(&quot;Set&quot;));\r\n```","title":"Multiple functions with a single button in Java - Android","body":"<p>Adding onCLickListener should work, Try this code</p>\n<pre><code>radioBtn1.setChecked(true);\n\nbtnOption.setOnClickListener(view1 -&gt; {\n    if (radioGroup.getVisibility() == View.GONE){\n        radioGroup.setVisibility(View.VISIBLE);\n        btnOption.setText(&quot;Close&quot;);\n    }\n\n    if (radioBtn2.isChecked()) {\n        textView.setText(&quot;Second Choice&quot;);\n    } else if (radioBtn1.isChecked()) {\n        textView.setText(&quot;First Choice&quot;);\n    }\n});\n        \nradioBtn1.setOnClickListener(view13 -&gt; btnOption.setText(&quot;Set&quot;));\nradioBtn2.setOnClickListener(view12 -&gt; btnOption.setText(&quot;Set&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19367094,"reputation":183,"user_id":14161125,"display_name":"Ocean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661157258,"creation_date":1661157258,"answer_id":73442243,"question_id":73414202,"body_markdown":"Now, I have resolved the issue, and it&#39;s working as expected. \r\n\r\nI used a counter to toggle the visibility of the ```RadioGroup```. And, I changed the state of the **Option** button with respect to the text visible on ```TextView``` and the checked state of the radio buttons.\r\n\r\n    package com.infinitenotions.sample;\r\n\r\n\timport android.app.*;\r\n\timport android.os.*;\r\n\timport android.view.*;\r\n\timport android.widget.*;\r\n\timport java.lang.String;\r\n\timport android.content.DialogInterface.OnClickListener;\r\n\timport java.lang.Override;\r\n\r\n\tpublic class HWSampleActivity extends Activity\r\n\t{\r\n\tprivate TextView textView;\r\n\tprivate Button btn1;\r\n\tprivate Button btn2;\r\n\tprivate Button btnOption;\r\n\tprivate RadioGroup radioGroup;\r\n\tprivate RadioButton radioBtn1;\r\n\tprivate RadioButton radioBtn2;    \r\n    private String text1 = &quot;First Choice&quot;;\r\n    private String text2 = &quot;Second Choice&quot;;\r\n    private String textClose = &quot;Close&quot;;\r\n    private String textSet = &quot;Set&quot;;\r\n    private String textOption = &quot;Option&quot;;\r\n    private int counter = 0;\r\n    \r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState)\r\n\t{\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main);\r\n        textView = (TextView)findViewById(R.id.textView);\r\n        btn1 = (Button)findViewById(R.id.btn1);\r\n        btn2 = (Button)findViewById(R.id.btn2);\r\n        btnOption = (Button)findViewById(R.id.btnOption);\r\n        radioGroup = (RadioGroup)findViewById(R.id.radioGroup);\r\n        radioBtn1 = (RadioButton)findViewById(R.id.radioBtn1);\r\n        radioBtn2 = (RadioButton)findViewById(R.id.radioBtn2);\r\n        \r\n        textView.setText(text1);   \t    \t \r\n   \t \r\n   \t btnOption.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n        if (counter % 2 == 0) {\r\n        \tbtnOption.setText((textClose));\r\n        \tradioGroup.setVisibility(View.VISIBLE);  \r\n        \tif(!textView.getText().equals(text2)) {\r\n\t\t\t\tradioBtn2.setOnClickListener(new View.OnClickListener() {\r\n        \t\t@Override\r\n        \t\tpublic void onClick(View v) {                \t\r\n        \t\t\tbtnOption.setText((textSet));      \t\r\n        \t\t}        \r\n        \t\t});\r\n\t\t\t} \r\n\t\t\telse if(textView.getText().equals(text2)) {\r\n\t\t\t\tradioBtn1.setOnClickListener(new View.OnClickListener() {\r\n        \t\t@Override\r\n        \t\tpublic void onClick(View v) {                \t\r\n        \t\t\tbtnOption.setText((textSet));      \t\r\n        \t\t}        \r\n        \t\t});\r\n\t\t\t}      \t       \t\r\n\t\t\tif (textView.getText().equals(text1) &amp;&amp; radioBtn1.isChecked()) {\r\n\t\t\t\tradioBtn1.setOnClickListener(new View.OnClickListener() {\r\n        \t\t@Override\r\n        \t\tpublic void onClick(View v) {        \t\r\n        \t\t\tbtnOption.setText((textClose));      \t\r\n        \t\t}        \r\n        \t\t});\r\n\t\t\t}\r\n\t\t\telse if (textView.getText().equals(text2) &amp;&amp; radioBtn2.isChecked()) {\r\n\t\t\t\tradioBtn2.setOnClickListener(new View.OnClickListener() {\r\n        \t\t@Override\r\n        \t\tpublic void onClick(View v) {        \t\r\n        \t\t\tbtnOption.setText((textClose));      \t\r\n        \t\t}        \r\n        \t\t});\r\n\t\t\t}          \t       \t      \t \t      \t \t      \t            \t       \t      \t \t      \t \t      \t            \t       \t      \t \t      \t \t      \t            \t       \t      \t \t      \t \t      \t      \r\n   \t \t}    \t \t   \t \t   \t \t\r\n   \t \telse {           \t \t\t\t        \t\t\r\n        \t\tradioGroup.setVisibility(View.GONE);\r\n        \t\tbtnOption.setText((textOption));     \t\t\t\r\n        \t\tif (radioBtn2.isChecked()) {\r\n        \t\t\tbtnOption.setText((textOption));\r\n        \t\t\ttextView.setText(text2);\r\n        \t\t\tbtn1.setVisibility(View.GONE);\r\n        \t\t\tbtn2.setVisibility(View.VISIBLE);\r\n        \t    }\r\n        \t    else if (radioBtn1.isChecked()) {\r\n        \t\t\tbtnOption.setText((textOption));\r\n        \t\t\ttextView.setText(text1);\r\n        \t\t\tbtn2.setVisibility(View.GONE);\r\n        \t\t\tbtn1.setVisibility(View.VISIBLE);\r\n        \t    }    \t      \t      \t   \t   \t      \t      \t   \t   \t\r\n   \t     }\t\r\n   \t     counter++;   \t        \t           \t     \t   \t     \t   \t       \t     \r\n   \t     }});\r\n    }\r\n\t}\r\n\r\nLink to the working APK file: https://drive.google.com/file/d/1R4m3UwX2psUjpN6DvFogG0eZnIm-R64q/view?usp=drivesdk","title":"Multiple functions with a single button in Java - Android","body":"<p>Now, I have resolved the issue, and it's working as expected.</p>\n<p>I used a counter to toggle the visibility of the <code>RadioGroup</code>. And, I changed the state of the <strong>Option</strong> button with respect to the text visible on <code>TextView</code> and the checked state of the radio buttons.</p>\n<pre><code>package com.infinitenotions.sample;\n\nimport android.app.*;\nimport android.os.*;\nimport android.view.*;\nimport android.widget.*;\nimport java.lang.String;\nimport android.content.DialogInterface.OnClickListener;\nimport java.lang.Override;\n\npublic class HWSampleActivity extends Activity\n{\nprivate TextView textView;\nprivate Button btn1;\nprivate Button btn2;\nprivate Button btnOption;\nprivate RadioGroup radioGroup;\nprivate RadioButton radioBtn1;\nprivate RadioButton radioBtn2;    \nprivate String text1 = &quot;First Choice&quot;;\nprivate String text2 = &quot;Second Choice&quot;;\nprivate String textClose = &quot;Close&quot;;\nprivate String textSet = &quot;Set&quot;;\nprivate String textOption = &quot;Option&quot;;\nprivate int counter = 0;\n\n@Override\npublic void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n    textView = (TextView)findViewById(R.id.textView);\n    btn1 = (Button)findViewById(R.id.btn1);\n    btn2 = (Button)findViewById(R.id.btn2);\n    btnOption = (Button)findViewById(R.id.btnOption);\n    radioGroup = (RadioGroup)findViewById(R.id.radioGroup);\n    radioBtn1 = (RadioButton)findViewById(R.id.radioBtn1);\n    radioBtn2 = (RadioButton)findViewById(R.id.radioBtn2);\n    \n    textView.setText(text1);             \n \n btnOption.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n    if (counter % 2 == 0) {\n        btnOption.setText((textClose));\n        radioGroup.setVisibility(View.VISIBLE);  \n        if(!textView.getText().equals(text2)) {\n            radioBtn2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {                   \n                btnOption.setText((textSet));       \n            }        \n            });\n        } \n        else if(textView.getText().equals(text2)) {\n            radioBtn1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {                   \n                btnOption.setText((textSet));       \n            }        \n            });\n        }               \n        if (textView.getText().equals(text1) &amp;&amp; radioBtn1.isChecked()) {\n            radioBtn1.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {           \n                btnOption.setText((textClose));         \n            }        \n            });\n        }\n        else if (textView.getText().equals(text2) &amp;&amp; radioBtn2.isChecked()) {\n            radioBtn2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {           \n                btnOption.setText((textClose));         \n            }        \n            });\n        }                                                                                                                                                                                                                                 \n    }                           \n    else {                                          \n            radioGroup.setVisibility(View.GONE);\n            btnOption.setText((textOption));                \n            if (radioBtn2.isChecked()) {\n                btnOption.setText((textOption));\n                textView.setText(text2);\n                btn1.setVisibility(View.GONE);\n                btn2.setVisibility(View.VISIBLE);\n            }\n            else if (radioBtn1.isChecked()) {\n                btnOption.setText((textOption));\n                textView.setText(text1);\n                btn2.setVisibility(View.GONE);\n                btn1.setVisibility(View.VISIBLE);\n            }                                                       \n     }  \n     counter++;                                                                  \n     }});\n}\n}\n</code></pre>\n<p>Link to the working APK file: <a href=\"https://drive.google.com/file/d/1R4m3UwX2psUjpN6DvFogG0eZnIm-R64q/view?usp=drivesdk\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1R4m3UwX2psUjpN6DvFogG0eZnIm-R64q/view?usp=drivesdk</a></p>\n"}],"owner":{"account_id":19367094,"reputation":183,"user_id":14161125,"display_name":"Ocean"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73442243,"answer_count":3,"score":0,"last_activity_date":1661157258,"creation_date":1660899113,"question_id":73414202,"body_markdown":"I have a button called **Option**,  which toggles the visibility of the ```RadioGroup```. By default, **RadioBtn1** is selected and the text **&quot;First Choice&quot;** appears on ```TextView```. \r\n\r\nIn this condition, if the **Option** button is clicked, I want to change its text to **&quot;Close&quot;**.  And, I want to change its text to **&quot;Set&quot;** if **RadioBtn2** is selected. Now, if we click the **Set** button, I want to makes the text **&quot;Second Choice&quot;** visible on ```TextView```.\r\n\r\nAfter that the **Set** button itself changes to previous **Option** button making the ```RadioGroup``` invisible again.\r\n\r\nHere is the code I have tried:\r\n\r\n**XML:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;fill_parent&quot;\r\n    android:gravity=&quot;left&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n\t&lt;TextView \r\n\t\tandroid:textSize=&quot;18sp&quot; \r\n\t\tandroid:textColor=&quot;#ffffff&quot; \r\n\t\tandroid:gravity=&quot;center&quot; \r\n\t\tandroid:id=&quot;@+id/textView&quot; \r\n\t\tandroid:paddingBottom=&quot;10px&quot; \r\n\t\tandroid:layout_width=&quot;wrap_content&quot; \r\n\t\tandroid:layout_height=&quot;wrap_content&quot; /&gt;\r\n\t&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \r\n\t\tandroid:orientation=&quot;horizontal&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot; \r\n\t\tandroid:layout_height=&quot;wrap_content&quot;&gt; \r\n\t&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \r\n\t\tandroid:gravity=&quot;center&quot;\r\n\t\tandroid:orientation=&quot;horizontal&quot; \r\n\t\tandroid:layout_width=&quot;wrap_content&quot; \r\n\t\tandroid:layout_height=&quot;wrap_content&quot; &gt;\t\r\n\t&lt;Button \r\n\t\tandroid:textSize=&quot;18sp&quot; \r\n\t\tandroid:id=&quot;@+id/btn1&quot; \r\n\t\tandroid:layout_width=&quot;wrap_content&quot; \r\n\t\tandroid:layout_height=&quot;wrap_content&quot; \r\n\t\tandroid:text=&quot;Button1&quot; /&gt;\t\r\n\t&lt;Button \r\n\t\tandroid:textSize=&quot;18sp&quot; \r\n\t\tandroid:id=&quot;@+id/btn2&quot; \r\n\t\tandroid:visibility=&quot;gone&quot;\r\n\t\tandroid:layout_width=&quot;wrap_content&quot; \r\n\t\tandroid:layout_height=&quot;wrap_content&quot; \r\n\t\tandroid:text=&quot;Button2&quot; /&gt; \r\n \t&lt;/LinearLayout&gt;\r\n \t&lt;RadioGroup xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n   \t  \tandroid:id=&quot;@+id/radioGroup&quot;\r\n   \t  \tandroid:layout_width=&quot;wrap_content&quot;\r\n   \t \tandroid:layout_height=&quot;wrap_content&quot;\r\n   \t \tandroid:visibility=&quot;gone&quot;\r\n  \t  \tandroid:orientation=&quot;horizontal&quot;&gt;\r\n     &lt;RadioButton \r\n    \tandroid:id=&quot;@+id/radioBtn1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:checked=&quot;true&quot;\r\n        android:text=&quot;RadioBtn1&quot; /&gt;\r\n     &lt;RadioButton \r\n    \tandroid:id=&quot;@+id/radioBtn2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;RadioBtn2&quot; /&gt;\r\n\t&lt;/RadioGroup&gt;\r\n\t&lt;Button \r\n\t\tandroid:textSize=&quot;18sp&quot; \r\n\t\tandroid:id=&quot;@+id/btnOption&quot; \r\n\t\tandroid:layout_width=&quot;wrap_content&quot; \r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:layout_marginLeft=&quot;30dp&quot;\r\n\t\tandroid:text= &quot;Option&quot; /&gt;\r\n\t&lt;/LinearLayout&gt;\r\n\t&lt;/LinearLayout&gt;\r\n\r\n**Java:**\r\n\r\n    package com.infinitenotions.sample;\r\n\r\n\timport android.app.*;\r\n\timport android.os.*;\r\n\timport android.view.*;\r\n\timport android.widget.*;\r\n\timport java.lang.String;\r\n\timport android.content.DialogInterface.OnClickListener;\r\n\timport java.lang.Override;\r\n\r\n\tpublic class HWSampleActivity extends Activity\r\n\t{\r\n\r\n\tprivate TextView textView;\r\n\tprivate Button btn1;\r\n\tprivate Button btn2;\r\n\tprivate Button btnOption;\r\n\tprivate RadioGroup radioGroup;\r\n\tprivate RadioButton radioBtn1;\r\n\tprivate RadioButton radioBtn2;\r\n\r\n\tString text1 = &quot;First Choice&quot;; \r\n\tString text2 = &quot;Second Choice&quot;;\r\n\t\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState)\r\n\t{\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.main);\r\n        textView = (TextView)findViewById(R.id.textView);\r\n        btn1 = (Button)findViewById(R.id.btn1);\r\n        btn2 = (Button)findViewById(R.id.btn2);\r\n        btnOption = (Button)findViewById(R.id.btnOption);\r\n        radioGroup = (RadioGroup)findViewById(R.id.radioGroup);\r\n        radioBtn1 = (RadioButton)findViewById (R.id.radioBtn1);\r\n        radioBtn2 = (RadioButton)findViewById (R.id.radioBtn2);\r\n       \r\n        textView.setText(text1);\r\n        \r\n        btnOption.setOnClickListener(new View.OnClickListener(){\r\n        @Override\r\n        public void onClick(View v){\r\n         btn1.setVisibility(View.GONE);\r\n         radioGroup.setVisibility(View.VISIBLE);\r\n         \r\n         // **if text1 is visible which means radioBtn1 is checked \r\n            \r\n            // set text of option button to &quot;Close&quot; \r\n            // on click &quot;Close&quot; button, change text to &quot;Option&quot; and return to previous state\r\n            \r\n            // if radioBtn2 is checked, change text of option button from &quot;Close&quot; to &quot;Set&quot; \r\n            // on click &quot;Set&quot; button, make text2 &amp; btn2 visible, hide text1 &amp; btn1, and change text from &quot;Set&quot; to &quot;Option&quot; as before\r\n          \r\n         // **and vice-versa, if text2 is visible\r\n\r\n        }\r\n        });\r\n     }\r\n\t}","title":"Multiple functions with a single button in Java - Android","body":"<p>I have a button called <strong>Option</strong>,  which toggles the visibility of the <code>RadioGroup</code>. By default, <strong>RadioBtn1</strong> is selected and the text <strong>&quot;First Choice&quot;</strong> appears on <code>TextView</code>.</p>\n<p>In this condition, if the <strong>Option</strong> button is clicked, I want to change its text to <strong>&quot;Close&quot;</strong>.  And, I want to change its text to <strong>&quot;Set&quot;</strong> if <strong>RadioBtn2</strong> is selected. Now, if we click the <strong>Set</strong> button, I want to makes the text <strong>&quot;Second Choice&quot;</strong> visible on <code>TextView</code>.</p>\n<p>After that the <strong>Set</strong> button itself changes to previous <strong>Option</strong> button making the <code>RadioGroup</code> invisible again.</p>\n<p>Here is the code I have tried:</p>\n<p><strong>XML:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;fill_parent&quot;\nandroid:layout_height=&quot;fill_parent&quot;\nandroid:gravity=&quot;left&quot;\nandroid:orientation=&quot;vertical&quot; &gt;\n&lt;TextView \n    android:textSize=&quot;18sp&quot; \n    android:textColor=&quot;#ffffff&quot; \n    android:gravity=&quot;center&quot; \n    android:id=&quot;@+id/textView&quot; \n    android:paddingBottom=&quot;10px&quot; \n    android:layout_width=&quot;wrap_content&quot; \n    android:layout_height=&quot;wrap_content&quot; /&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \n    android:orientation=&quot;horizontal&quot;\n    android:layout_width=&quot;match_parent&quot; \n    android:layout_height=&quot;wrap_content&quot;&gt; \n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;horizontal&quot; \n    android:layout_width=&quot;wrap_content&quot; \n    android:layout_height=&quot;wrap_content&quot; &gt;  \n&lt;Button \n    android:textSize=&quot;18sp&quot; \n    android:id=&quot;@+id/btn1&quot; \n    android:layout_width=&quot;wrap_content&quot; \n    android:layout_height=&quot;wrap_content&quot; \n    android:text=&quot;Button1&quot; /&gt;   \n&lt;Button \n    android:textSize=&quot;18sp&quot; \n    android:id=&quot;@+id/btn2&quot; \n    android:visibility=&quot;gone&quot;\n    android:layout_width=&quot;wrap_content&quot; \n    android:layout_height=&quot;wrap_content&quot; \n    android:text=&quot;Button2&quot; /&gt; \n&lt;/LinearLayout&gt;\n&lt;RadioGroup xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/radioGroup&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:visibility=&quot;gone&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n &lt;RadioButton \n    android:id=&quot;@+id/radioBtn1&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:checked=&quot;true&quot;\n    android:text=&quot;RadioBtn1&quot; /&gt;\n &lt;RadioButton \n    android:id=&quot;@+id/radioBtn2&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;RadioBtn2&quot; /&gt;\n&lt;/RadioGroup&gt;\n&lt;Button \n    android:textSize=&quot;18sp&quot; \n    android:id=&quot;@+id/btnOption&quot; \n    android:layout_width=&quot;wrap_content&quot; \n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginLeft=&quot;30dp&quot;\n    android:text= &quot;Option&quot; /&gt;\n&lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>Java:</strong></p>\n<pre><code>package com.infinitenotions.sample;\n\nimport android.app.*;\nimport android.os.*;\nimport android.view.*;\nimport android.widget.*;\nimport java.lang.String;\nimport android.content.DialogInterface.OnClickListener;\nimport java.lang.Override;\n\npublic class HWSampleActivity extends Activity\n{\n\nprivate TextView textView;\nprivate Button btn1;\nprivate Button btn2;\nprivate Button btnOption;\nprivate RadioGroup radioGroup;\nprivate RadioButton radioBtn1;\nprivate RadioButton radioBtn2;\n\nString text1 = &quot;First Choice&quot;; \nString text2 = &quot;Second Choice&quot;;\n\n@Override\npublic void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n    textView = (TextView)findViewById(R.id.textView);\n    btn1 = (Button)findViewById(R.id.btn1);\n    btn2 = (Button)findViewById(R.id.btn2);\n    btnOption = (Button)findViewById(R.id.btnOption);\n    radioGroup = (RadioGroup)findViewById(R.id.radioGroup);\n    radioBtn1 = (RadioButton)findViewById (R.id.radioBtn1);\n    radioBtn2 = (RadioButton)findViewById (R.id.radioBtn2);\n   \n    textView.setText(text1);\n    \n    btnOption.setOnClickListener(new View.OnClickListener(){\n    @Override\n    public void onClick(View v){\n     btn1.setVisibility(View.GONE);\n     radioGroup.setVisibility(View.VISIBLE);\n     \n     // **if text1 is visible which means radioBtn1 is checked \n        \n        // set text of option button to &quot;Close&quot; \n        // on click &quot;Close&quot; button, change text to &quot;Option&quot; and return to previous state\n        \n        // if radioBtn2 is checked, change text of option button from &quot;Close&quot; to &quot;Set&quot; \n        // on click &quot;Set&quot; button, make text2 &amp; btn2 visible, hide text1 &amp; btn1, and change text from &quot;Set&quot; to &quot;Option&quot; as before\n      \n     // **and vice-versa, if text2 is visible\n\n    }\n    });\n }\n}\n</code></pre>\n"},{"tags":["java","spring","jpa","exception"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1661151199,"post_id":73440180,"comment_id":129694330,"body_markdown":"Instead of throwing an illegal argument exception in the controller, you should either return a failed response entity (with the details you wish), or throw your typed exception directly that you handle into a spring exception handler. But throwing the illegal argument exception if yourself are saying you want another type of exception is not what you want here","body":"Instead of throwing an illegal argument exception in the controller, you should either return a failed response entity (with the details you wish), or throw your typed exception directly that you handle into a spring exception handler. But throwing the illegal argument exception if yourself are saying you want another type of exception is not what you want here"}],"answers":[{"tags":[],"owner":{"account_id":15988209,"reputation":150,"user_id":11538031,"display_name":"ÐÐ¼Ð¸Ð»Ð¸ÑÐ½ ÐÐ¾ÑÐ´Ð°Ð½Ð¾Ð²"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661151626,"creation_date":1661151312,"answer_id":73441197,"question_id":73440180,"body_markdown":"Here you have few decision. I will mark 2 of them.\r\n1st is to return directly BadRequest for example with specific DTO - It is not best example with the Throwable, but you can create new ErrorResponseDTO:\r\n\r\n    @PostMapping(&quot;/campaigns&quot;)\r\n    public ResponseEntity&lt;?&gt; saveCampaign(@RequestBody CampaignDTO campaignDTO) throws ApiErrorResponse, Exception {\r\n        if (this.campaignService.getCampaignByName(campaignDTO.getName()) != null) {\r\n            ApiErrorResponse errorReponseDto = new ApiErrorResponse(&quot;The value already exists!&quot;);\r\n            return ResponseEntity.badRequest().body(errorReponseDto) // return 400\r\n        }\r\n        if (campaignDTO.getProducts() == null) {\r\n            ApiErrorResponse errorReponseDto = new ApiErrorResponse(&quot;No Products attached&quot;);\r\n            return new ResponseEntity&lt;&gt;(errorReponseDto , HttpStatus.BAD_REQUEST); // return 400\r\n        }\r\n        campaignDTO = campaignService.saveCampaign(campaignDTO);\r\n        ResponseEntity&lt;CampaignDTO&gt; responseEntity = new ResponseEntity&lt;&gt;(campaignDTO , HttpStatus.CREATED);\r\n        return responseEntity; // return 201\r\n    }\r\n\r\n\r\nOther way is to use `@ControllerAdvice` which will handle exception and will return what you want. This advice will be triggered after you throw the exception:\r\n\r\n    @ControllerAdvice\r\n    public class MyAdvice {\r\n    @ExceptionHandler(value = ApiErrorResponse.class)\r\n    public ResponseEntity&lt;MyErrorResponse&gt; handleException(ApiErrorResponse exception) {\r\n        return return ResponseEntity.badRequest().body(MyErrorResponse)\r\n    }\r\n}","title":"Force function to throw and return specific Exception to client results in throwing &quot;InvocationTargetException&quot;","body":"<p>Here you have few decision. I will mark 2 of them.\n1st is to return directly BadRequest for example with specific DTO - It is not best example with the Throwable, but you can create new ErrorResponseDTO:</p>\n<pre><code>@PostMapping(&quot;/campaigns&quot;)\npublic ResponseEntity&lt;?&gt; saveCampaign(@RequestBody CampaignDTO campaignDTO) throws ApiErrorResponse, Exception {\n    if (this.campaignService.getCampaignByName(campaignDTO.getName()) != null) {\n        ApiErrorResponse errorReponseDto = new ApiErrorResponse(&quot;The value already exists!&quot;);\n        return ResponseEntity.badRequest().body(errorReponseDto) // return 400\n    }\n    if (campaignDTO.getProducts() == null) {\n        ApiErrorResponse errorReponseDto = new ApiErrorResponse(&quot;No Products attached&quot;);\n        return new ResponseEntity&lt;&gt;(errorReponseDto , HttpStatus.BAD_REQUEST); // return 400\n    }\n    campaignDTO = campaignService.saveCampaign(campaignDTO);\n    ResponseEntity&lt;CampaignDTO&gt; responseEntity = new ResponseEntity&lt;&gt;(campaignDTO , HttpStatus.CREATED);\n    return responseEntity; // return 201\n}\n</code></pre>\n<p>Other way is to use <code>@ControllerAdvice</code> which will handle exception and will return what you want. This advice will be triggered after you throw the exception:</p>\n<pre><code>@ControllerAdvice\npublic class MyAdvice {\n@ExceptionHandler(value = ApiErrorResponse.class)\npublic ResponseEntity&lt;MyErrorResponse&gt; handleException(ApiErrorResponse exception) {\n    return return ResponseEntity.badRequest().body(MyErrorResponse)\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":23155355,"reputation":21,"user_id":17256687,"display_name":"mikoto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661156573,"creation_date":1661156573,"answer_id":73442119,"question_id":73440180,"body_markdown":"a better way to define **a global exception class** and **a global exception handler**. \r\n\r\n- the global exception class:\r\n```java\r\n@EqualsAndHashCode(callSuper = true)\r\n@Data\r\npublic class GlobalErrorInfoException extends RuntimeException {\r\n    private String message;\r\n    private HttpStatus status;\r\n    private Long timestamp;\r\n\r\n    public GlobalErrorInfoException(HttpStatus status, String message) {\r\n        super(message);\r\n        this.status = status;\r\n        this.message = message;\r\n        this.timestamp = System.currentTimeMillis();\r\n    }\r\n}\r\n```\r\n\r\n- the global exception handler\r\n```java\r\n@RestControllerAdvice\r\n@Slf4j\r\npublic class GlobalErrorInfoHandler {\r\n    // other ExceptionHandler\r\n\r\n    // GlobalErrorInfoException handler\r\n    @ExceptionHandler(value = GlobalErrorInfoException.class)\r\n    public ResponseEntity&lt;?&gt; errorHandlerOverJson(GlobalErrorInfoException e) {\r\n        log.error(&quot;Global Exception &quot;, e);\r\n        return new ResponseEntity&lt;&gt;(e.getMessage(), e.getStatus());\r\n    }\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    public ResponseEntity&lt;?&gt; handleRuntimeException(Exception e) {\r\n        log.error(&quot;error &quot;, e);\r\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;internal server error&quot;);\r\n    }\r\n}\r\n```\r\n\r\n- use\r\n```java\r\n// your throw\r\nthrow new GlobalErrorInfoException(HttpStatus.BAD_REQUEST, &quot;The value already exists!&quot;);\r\n\r\n```\r\n\r\nyou can also handler IllegalArgumentException in the global exception handler.\r\n","title":"Force function to throw and return specific Exception to client results in throwing &quot;InvocationTargetException&quot;","body":"<p>a better way to define <strong>a global exception class</strong> and <strong>a global exception handler</strong>.</p>\n<ul>\n<li>the global exception class:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@EqualsAndHashCode(callSuper = true)\n@Data\npublic class GlobalErrorInfoException extends RuntimeException {\n    private String message;\n    private HttpStatus status;\n    private Long timestamp;\n\n    public GlobalErrorInfoException(HttpStatus status, String message) {\n        super(message);\n        this.status = status;\n        this.message = message;\n        this.timestamp = System.currentTimeMillis();\n    }\n}\n</code></pre>\n<ul>\n<li>the global exception handler</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\n@Slf4j\npublic class GlobalErrorInfoHandler {\n    // other ExceptionHandler\n\n    // GlobalErrorInfoException handler\n    @ExceptionHandler(value = GlobalErrorInfoException.class)\n    public ResponseEntity&lt;?&gt; errorHandlerOverJson(GlobalErrorInfoException e) {\n        log.error(&quot;Global Exception &quot;, e);\n        return new ResponseEntity&lt;&gt;(e.getMessage(), e.getStatus());\n    }\n\n    @ExceptionHandler(Exception.class)\n    public ResponseEntity&lt;?&gt; handleRuntimeException(Exception e) {\n        log.error(&quot;error &quot;, e);\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;internal server error&quot;);\n    }\n}\n</code></pre>\n<ul>\n<li>use</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>// your throw\nthrow new GlobalErrorInfoException(HttpStatus.BAD_REQUEST, &quot;The value already exists!&quot;);\n\n</code></pre>\n<p>you can also handler IllegalArgumentException in the global exception handler.</p>\n"}],"owner":{"account_id":408442,"reputation":21426,"user_id":779111,"accept_rate":85,"display_name":"JAN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73441197,"answer_count":2,"score":0,"last_activity_date":1661156573,"creation_date":1661141973,"question_id":73440180,"body_markdown":"When the user creates a record with a name that&#39;s already exists in the DB , I&#39;m returning a specific Exception.\r\n\r\n      @PostMapping(&quot;/campaigns&quot;)\r\n        public ResponseEntity&lt;CampaignDTO&gt; saveCampaign(@RequestBody CampaignDTO campaignDTO) throws ApiErrorResponse, Exception {\r\n            if (this.campaignService.getCampaignByName(campaignDTO.getName()) != null) {\r\n                throw new IllegalArgumentException(&quot;The value already exists!&quot;);\r\n            }\r\n            if (campaignDTO.getProducts() == null) {\r\n                ApiErrorResponse errorReponseDto = new ApiErrorResponse(&quot;No Products attached&quot;);\r\n                throw errorReponseDto;\r\n            }\r\n            campaignDTO = campaignService.saveCampaign(campaignDTO);\r\n            ResponseEntity&lt;CampaignDTO&gt; responseEntity = new ResponseEntity&lt;&gt;(campaignDTO , HttpStatus.CREATED);\r\n            return responseEntity; // return 201\r\n        }\r\n\r\n\r\nAnd the Exception that I want to return to the Client is: \r\n\r\n    public class ApiErrorResponse extends Throwable {\r\n        private final String error;\r\n        //Any addtional info you might later want to add to it\r\n        public ApiErrorResponse(String error){\r\n            this.error = error;\r\n        }\r\n    \r\n        public String getError(){\r\n            return this.error;\r\n        }\r\n    }\r\n\r\n\r\nHowever , when I throw \r\n\r\n    IllegalArgumentException(&quot;The value already exists!&quot;)\r\n\r\nIt is caught by \r\n\r\n    catch (InvocationTargetException ex) {\r\n    \t\t\t// Unwrap for HandlerExceptionResolvers ...\r\n    \t\t\tThrowable targetException = ex.getTargetException();\r\n    \t\t\tif (targetException instanceof RuntimeException) {\r\n    \t\t\t\tthrow (RuntimeException) targetException;\r\n    \t\t\t}\r\n    \t\t\telse if (targetException instanceof Error) {\r\n    \t\t\t\tthrow (Error) targetException;\r\n    \t\t\t}\r\n    \t\t\telse if (targetException instanceof Exception) {\r\n    \t\t\t\tthrow (Exception) targetException;\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tthrow new IllegalStateException(formatInvokeError(&quot;Invocation failure&quot;, args), targetException);\r\n    \t\t\t}\r\n    \t\t}\r\n\r\n\r\nHow can we prevent this , and return &quot;ApiErrorResponse&quot; when the user inserts the same name ?\r\n\r\nI want to return my Exception , not anything else.\r\n\r\n","title":"Force function to throw and return specific Exception to client results in throwing &quot;InvocationTargetException&quot;","body":"<p>When the user creates a record with a name that's already exists in the DB , I'm returning a specific Exception.</p>\n<pre><code>  @PostMapping(&quot;/campaigns&quot;)\n    public ResponseEntity&lt;CampaignDTO&gt; saveCampaign(@RequestBody CampaignDTO campaignDTO) throws ApiErrorResponse, Exception {\n        if (this.campaignService.getCampaignByName(campaignDTO.getName()) != null) {\n            throw new IllegalArgumentException(&quot;The value already exists!&quot;);\n        }\n        if (campaignDTO.getProducts() == null) {\n            ApiErrorResponse errorReponseDto = new ApiErrorResponse(&quot;No Products attached&quot;);\n            throw errorReponseDto;\n        }\n        campaignDTO = campaignService.saveCampaign(campaignDTO);\n        ResponseEntity&lt;CampaignDTO&gt; responseEntity = new ResponseEntity&lt;&gt;(campaignDTO , HttpStatus.CREATED);\n        return responseEntity; // return 201\n    }\n</code></pre>\n<p>And the Exception that I want to return to the Client is:</p>\n<pre><code>public class ApiErrorResponse extends Throwable {\n    private final String error;\n    //Any addtional info you might later want to add to it\n    public ApiErrorResponse(String error){\n        this.error = error;\n    }\n\n    public String getError(){\n        return this.error;\n    }\n}\n</code></pre>\n<p>However , when I throw</p>\n<pre><code>IllegalArgumentException(&quot;The value already exists!&quot;)\n</code></pre>\n<p>It is caught by</p>\n<pre><code>catch (InvocationTargetException ex) {\n            // Unwrap for HandlerExceptionResolvers ...\n            Throwable targetException = ex.getTargetException();\n            if (targetException instanceof RuntimeException) {\n                throw (RuntimeException) targetException;\n            }\n            else if (targetException instanceof Error) {\n                throw (Error) targetException;\n            }\n            else if (targetException instanceof Exception) {\n                throw (Exception) targetException;\n            }\n            else {\n                throw new IllegalStateException(formatInvokeError(&quot;Invocation failure&quot;, args), targetException);\n            }\n        }\n</code></pre>\n<p>How can we prevent this , and return &quot;ApiErrorResponse&quot; when the user inserts the same name ?</p>\n<p>I want to return my Exception , not anything else.</p>\n"},{"tags":["java","sorting","collections","java-8"],"comments":[{"owner":{"account_id":1281940,"reputation":17524,"user_id":1235867,"accept_rate":80,"display_name":"lbalazscs"},"score":0,"creation_date":1427232538,"post_id":29241746,"comment_id":46692433,"body_markdown":"Collections.shuffle has nothing to do with Comparators or sorting.","body":"Collections.shuffle has nothing to do with Comparators or sorting."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":5,"creation_date":1427235092,"post_id":29241746,"comment_id":46693593,"body_markdown":"@lbalazscs I think the OP means to shuffle a list by calling `Collections.sort(comparator)` but having the comparator return something random instead of doing an actual comparison. This probably used to work but fails now that sort() does consistency checking on the comparator.","body":"@lbalazscs I think the OP means to shuffle a list by calling <code>Collections.sort(comparator)</code> but having the comparator return something random instead of doing an actual comparison. This probably used to work but fails now that sort() does consistency checking on the comparator."},{"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"score":0,"creation_date":1427236584,"post_id":29241746,"comment_id":46694187,"body_markdown":"Yes, I mean using a comparator for sorting randomly","body":"Yes, I mean using a comparator for sorting randomly"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1661156520,"creation_date":1427275880,"answer_id":29251881,"question_id":29241746,"body_markdown":"It is impossible to implement a real âshuffling comparatorâ without breaking the contract. One fundamental aspect of the `Comparator` contract is that the results are *reproducible* so the ordering of a particular `Comparator` instance must be fixed.\r\n\r\nOf course, you could pre-initialize that fixed ordering using a shuffling operation and create a comparator which will establish exactly this ordering. E.g.\r\n\r\n    List&lt;ElementType&gt; ordering=new ArrayList&lt;&gt;(list);\r\n    Collections.shuffle(ordering);\r\n\r\n    list.sort(Comparator.comparingInt(ordering::indexOf));\r\nthough it is a bit pointless. Itâs clear that this comparator *must not* be used for collections containing elements not being in the `ordering` list.\r\n\r\n---\r\nAlternatively you can use a stable property of the values which hasnât an ordering in the first place as sort criteria, e.g. the hash code. This can be augmented by a stable but randomizable transformation, e.g.\r\n\r\n```java\r\npublic static Comparator&lt;String&gt; randomOrder() {\r\n    ThreadLocalRandom r = ThreadLocalRandom.current();\r\n    int x = r.nextInt(), y = r.nextInt(), z = r.nextInt();\r\n    boolean b = r.nextBoolean();\r\n    return Comparator.comparingInt((String s) -&gt; Integer.reverse((s.hashCode()&amp;x)^y))\r\n      .thenComparingInt(s -&gt; s.length()^z)\r\n      .thenComparing(b? Comparator.naturalOrder(): Comparator.reverseOrder());\r\n}\r\n```\r\n```java\r\nList&lt;String&gt; list=Arrays.asList(&quot;hello&quot;, &quot;now&quot;, &quot;shuffle&quot;, &quot;this&quot;, &quot;!&quot;);\r\nlist.sort(randomOrder());\r\nSystem.out.println(list);\r\nlist.sort(randomOrder());\r\nSystem.out.println(list);\r\n```\r\n\r\nThe key point is that each `Comparator` instance represents a randomly chosen but fixed ordering and we create a new `Comparator` instance to request a different ordering. Therefore, no `Comparator` violates the contract.\r\n\r\nNote that this `Comparator` looks a bit complicated as it has to care about possible hash collisions. It will resort to the `length` property (also randomized) then and for `String`s having the same hash code and length it will simply fall back to either natural or reversed order which is unlikely to be noticeable as it only affects the relation of these uncommon pairs.\r\n\r\nIf you create such a comparator for values without collisions (e.g. `Integer` instances) or covering all properties of the values which define the equality (e.g. both, `x` and `y`, of a `Point`), the comparator will look much simpler.\r\n\r\n","title":"Shuffle/Random comparator","body":"<p>It is impossible to implement a real âshuffling comparatorâ without breaking the contract. One fundamental aspect of the <code>Comparator</code> contract is that the results are <em>reproducible</em> so the ordering of a particular <code>Comparator</code> instance must be fixed.</p>\n<p>Of course, you could pre-initialize that fixed ordering using a shuffling operation and create a comparator which will establish exactly this ordering. E.g.</p>\n<pre><code>List&lt;ElementType&gt; ordering=new ArrayList&lt;&gt;(list);\nCollections.shuffle(ordering);\n\nlist.sort(Comparator.comparingInt(ordering::indexOf));\n</code></pre>\n<p>though it is a bit pointless. Itâs clear that this comparator <em>must not</em> be used for collections containing elements not being in the <code>ordering</code> list.</p>\n<hr />\n<p>Alternatively you can use a stable property of the values which hasnât an ordering in the first place as sort criteria, e.g. the hash code. This can be augmented by a stable but randomizable transformation, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Comparator&lt;String&gt; randomOrder() {\n    ThreadLocalRandom r = ThreadLocalRandom.current();\n    int x = r.nextInt(), y = r.nextInt(), z = r.nextInt();\n    boolean b = r.nextBoolean();\n    return Comparator.comparingInt((String s) -&gt; Integer.reverse((s.hashCode()&amp;x)^y))\n      .thenComparingInt(s -&gt; s.length()^z)\n      .thenComparing(b? Comparator.naturalOrder(): Comparator.reverseOrder());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list=Arrays.asList(&quot;hello&quot;, &quot;now&quot;, &quot;shuffle&quot;, &quot;this&quot;, &quot;!&quot;);\nlist.sort(randomOrder());\nSystem.out.println(list);\nlist.sort(randomOrder());\nSystem.out.println(list);\n</code></pre>\n<p>The key point is that each <code>Comparator</code> instance represents a randomly chosen but fixed ordering and we create a new <code>Comparator</code> instance to request a different ordering. Therefore, no <code>Comparator</code> violates the contract.</p>\n<p>Note that this <code>Comparator</code> looks a bit complicated as it has to care about possible hash collisions. It will resort to the <code>length</code> property (also randomized) then and for <code>String</code>s having the same hash code and length it will simply fall back to either natural or reversed order which is unlikely to be noticeable as it only affects the relation of these uncommon pairs.</p>\n<p>If you create such a comparator for values without collisions (e.g. <code>Integer</code> instances) or covering all properties of the values which define the equality (e.g. both, <code>x</code> and <code>y</code>, of a <code>Point</code>), the comparator will look much simpler.</p>\n"},{"tags":[],"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1527514260,"creation_date":1478090637,"answer_id":40380283,"question_id":29241746,"body_markdown":"A bit more generic to the previous answer, when the type of element is not known:\r\n\r\n    public static &lt;T&gt; Comparator&lt;T&gt; shuffle() {\r\n        final Map&lt;Object, UUID&gt; uniqueIds = new IdentityHashMap&lt;&gt;();\r\n        return Comparator.comparing(e -&gt; uniqueIds.computeIfAbsent(e, k -&gt; UUID.randomUUID()));\r\n    }\r\n\r\ncan be used in streams as well:\r\n\r\n    list.stream().sorted(Streams.shuffle()).collect(Collectors.toList())\r\n\r\nthere might be collisions somehow, so it can be extended using a `HashSet` for the `UUID` to check this case","title":"Shuffle/Random comparator","body":"<p>A bit more generic to the previous answer, when the type of element is not known:</p>\n\n<pre><code>public static &lt;T&gt; Comparator&lt;T&gt; shuffle() {\n    final Map&lt;Object, UUID&gt; uniqueIds = new IdentityHashMap&lt;&gt;();\n    return Comparator.comparing(e -&gt; uniqueIds.computeIfAbsent(e, k -&gt; UUID.randomUUID()));\n}\n</code></pre>\n\n<p>can be used in streams as well:</p>\n\n<pre><code>list.stream().sorted(Streams.shuffle()).collect(Collectors.toList())\n</code></pre>\n\n<p>there might be collisions somehow, so it can be extended using a <code>HashSet</code> for the <code>UUID</code> to check this case</p>\n"},{"tags":[],"owner":{"account_id":1601812,"reputation":1854,"user_id":1482700,"accept_rate":72,"display_name":"kozla13"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1516088895,"creation_date":1516088895,"answer_id":48276292,"question_id":29241746,"body_markdown":"This is my solution:\r\n\r\n    List&lt;String&gt; st = Arrays.asList(&quot;aaaa&quot;,&quot;bbbb&quot;,&quot;cccc&quot;);\r\n    System.err.println(st.stream().sorted((o1, o2) -&gt; RandomUtils.nextInt(0, 2)-1).findFirst().get());","title":"Shuffle/Random comparator","body":"<p>This is my solution:</p>\n\n<pre><code>List&lt;String&gt; st = Arrays.asList(\"aaaa\",\"bbbb\",\"cccc\");\nSystem.err.println(st.stream().sorted((o1, o2) -&gt; RandomUtils.nextInt(0, 2)-1).findFirst().get());\n</code></pre>\n"}],"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6940,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29251881,"answer_count":3,"score":3,"last_activity_date":1661156520,"creation_date":1427227108,"question_id":29241746,"body_markdown":"IS there any way to emulate the behavior of Collections.shuffle without a comparator being vulnerable to the sorting algorithm implementation for the result to be safe?\r\n\r\nI mean not breaking the comparable contract etc..","title":"Shuffle/Random comparator","body":"<p>IS there any way to emulate the behavior of Collections.shuffle without a comparator being vulnerable to the sorting algorithm implementation for the result to be safe?</p>\n\n<p>I mean not breaking the comparable contract etc..</p>\n"},{"tags":["java","awt"],"answers":[{"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305922338,"creation_date":1305921981,"answer_id":6077081,"question_id":6077023,"body_markdown":"I&#39;d advise using a dynamic SVG canvas using [Batik][1], and then you can use advanced high-level features like masks and blending and such. It&#39;s not the most efficient solution, but who cares? It&#39;s flexible for the future. Also, it&#39;d take a lot of optimisation to work out what parts of the image have actually changed and pass that through for efficiency. I expect Batik does that as standard. Also, you&#39;ll have something that looks really very nice.\r\n\r\nAnyway, then you just need to use Inkscape to create the SVG, and then modify the DOM (Document Object Model) accordingly. It&#39;s just like messing with HTML. [Here][2] is some SVG beaker clipart.\r\n\r\n\r\n  [1]: http://xmlgraphics.apache.org/batik/using/scripting/java.html\r\n  [2]: http://www.openclipart.org/search/?query=beaker","title":"Java2D help to show filling something to image","body":"<p>I'd advise using a dynamic SVG canvas using <a href=\"http://xmlgraphics.apache.org/batik/using/scripting/java.html\" rel=\"nofollow\">Batik</a>, and then you can use advanced high-level features like masks and blending and such. It's not the most efficient solution, but who cares? It's flexible for the future. Also, it'd take a lot of optimisation to work out what parts of the image have actually changed and pass that through for efficiency. I expect Batik does that as standard. Also, you'll have something that looks really very nice.</p>\n\n<p>Anyway, then you just need to use Inkscape to create the SVG, and then modify the DOM (Document Object Model) accordingly. It's just like messing with HTML. <a href=\"http://www.openclipart.org/search/?query=beaker\" rel=\"nofollow\">Here</a> is some SVG beaker clipart.</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661155342,"creation_date":1305924845,"answer_id":6077483,"question_id":6077023,"body_markdown":"Conveniently, many classes implement the [`Shape`][1] interface. Implementing classes work well with `fill()`, as shown [here][2]. To display color transitions, consider `AlphaComposite`, shown [here][3].\r\n\r\n[1]:https://sites.google.com/site/drjohnbmatthews/composite\r\n[2]:https://sites.google.com/site/drjohnbmatthews/point-in-polygon\r\n[3]:https://sites.google.com/site/drjohnbmatthews/composite","title":"Java2D help to show filling something to image","body":"<p>Conveniently, many classes implement the <a href=\"https://sites.google.com/site/drjohnbmatthews/composite\" rel=\"nofollow noreferrer\"><code>Shape</code></a> interface. Implementing classes work well with <code>fill()</code>, as shown <a href=\"https://sites.google.com/site/drjohnbmatthews/point-in-polygon\" rel=\"nofollow noreferrer\">here</a>. To display color transitions, consider <code>AlphaComposite</code>, shown <a href=\"https://sites.google.com/site/drjohnbmatthews/composite\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":755218,"reputation":11,"user_id":763341,"display_name":"Mad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661156398,"creation_date":1305921639,"question_id":6077023,"body_markdown":"I&#39;m doing a project to implement virtual chemistry laboratory system. I tried to do this by using java2D. I have come across a big issue here. that is how to show some kind of filling effect to a beaker or to a flask (beaker is an image). I tried out this with setPixel() method in WritableRaster(java.awt.image) class. but it is not much useful. \r\n\r\nI need a help to show something filling to a beaker and to show color change when mixing two chemicals. please remember that beaker is an image. thanks in advance if anyone can give me a solution with sample code.\r\n  \r\n","title":"Java2D help to show filling something to image","body":"<p>I'm doing a project to implement virtual chemistry laboratory system. I tried to do this by using java2D. I have come across a big issue here. that is how to show some kind of filling effect to a beaker or to a flask (beaker is an image). I tried out this with setPixel() method in WritableRaster(java.awt.image) class. but it is not much useful. </p>\n\n<p>I need a help to show something filling to a beaker and to show color change when mixing two chemicals. please remember that beaker is an image. thanks in advance if anyone can give me a solution with sample code.</p>\n"},{"tags":["java","arrays","list","stream"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661149211,"post_id":73440881,"comment_id":129693825,"body_markdown":"What have you tried so far, where do you stuck?","body":"What have you tried so far, where do you stuck?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661149292,"post_id":73440881,"comment_id":129693848,"body_markdown":"And what is the `Object` here? A `List` of `Integer`?","body":"And what is the <code>Object</code> here? A <code>List</code> of <code>Integer</code>?"},{"owner":{"account_id":18661046,"reputation":25,"user_id":13602248,"display_name":"Ming Tang"},"score":0,"creation_date":1661150699,"post_id":73440881,"comment_id":129694216,"body_markdown":"@Jens My attempt is provided now, u may check if you want","body":"@Jens My attempt is provided now, u may check if you want"}],"answers":[{"tags":[],"owner":{"account_id":19024346,"reputation":52,"user_id":13887753,"display_name":"justfrozen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661150951,"creation_date":1661150951,"answer_id":73441142,"question_id":73440881,"body_markdown":"You mean like this?\r\n\r\n    List&lt;Integer&gt; output = new ArrayList&lt;&gt;();\r\n    for(List&lt;Integer&gt; innerList : a)  { // Where a = new List&lt;List&lt;Integer&gt;&gt;\r\n    \tint sum = 0;\r\n    \tfor(int i : innerList) {\r\n    \t\tsum += i;\r\n    \t}\r\n    \toutput.add(sum);\r\n    \tsum = 0;\r\n    }\r\n    int[] resultArray = output.toArray();\r\n\r\n","title":"How to transform a 2D array to a list with summation of all the elements","body":"<p>You mean like this?</p>\n<pre><code>List&lt;Integer&gt; output = new ArrayList&lt;&gt;();\nfor(List&lt;Integer&gt; innerList : a)  { // Where a = new List&lt;List&lt;Integer&gt;&gt;\n    int sum = 0;\n    for(int i : innerList) {\n        sum += i;\n    }\n    output.add(sum);\n    sum = 0;\n}\nint[] resultArray = output.toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661153193,"creation_date":1661152674,"answer_id":73441433,"question_id":73440881,"body_markdown":"A stream solution could look like\r\n```\r\nList&lt;List&lt;Integer&gt;&gt; list = List.of(List.of(1,2,3), List.of(1,2,3), List.of(1,2,3));\r\n\r\nList&lt;Integer&gt; result = IntStream.range(0, list.get(0).size())\r\n    .mapToObj(i -&gt; list.stream().mapToInt(l -&gt; l.get(i)).sum())\r\n    .toList(); // or before Java 16 .collect(Collectors.toList())\r\nSystem.out.println(result);\r\n```\r\n\r\nUpdate: or, if you prefer the iterative way\r\n\r\n```\r\nList&lt;List&lt;Integer&gt;&gt; list = List.of(List.of(1,2,3), List.of(1,2,3), List.of(1,2,3));\r\n\r\nList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\nfor (int i = 0, n = list.get(0).size(); i &lt; n; i++) {\r\n    int sum = 0;\r\n    for (List&lt;Integer&gt; innerList : list) {\r\n        sum += innerList.get(i);\r\n    }\r\n    result.add(sum);\r\n}\r\n\r\nSystem.out.println(result);\r\n```","title":"How to transform a 2D array to a list with summation of all the elements","body":"<p>A stream solution could look like</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = List.of(List.of(1,2,3), List.of(1,2,3), List.of(1,2,3));\n\nList&lt;Integer&gt; result = IntStream.range(0, list.get(0).size())\n    .mapToObj(i -&gt; list.stream().mapToInt(l -&gt; l.get(i)).sum())\n    .toList(); // or before Java 16 .collect(Collectors.toList())\nSystem.out.println(result);\n</code></pre>\n<p>Update: or, if you prefer the iterative way</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = List.of(List.of(1,2,3), List.of(1,2,3), List.of(1,2,3));\n\nList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\nfor (int i = 0, n = list.get(0).size(); i &lt; n; i++) {\n    int sum = 0;\n    for (List&lt;Integer&gt; innerList : list) {\n        sum += innerList.get(i);\n    }\n    result.add(sum);\n}\n\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24744222,"reputation":64,"user_id":18630590,"display_name":"lx78"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661156065,"creation_date":1661154963,"answer_id":73441824,"question_id":73440881,"body_markdown":"There is no IntStream, but it works:\r\n``` lang-java\r\n    List&lt;List&lt;Integer&gt;&gt; lists = List.of(List.of(1,2,3), List.of(4,5,6), List.of(7,8,9));\r\n\r\n    // list with sum of ints = &lt;6,15,24&gt;\r\n    List&lt;Integer&gt; sums = lists.stream()\r\n        .map(list -&gt; list.stream().reduce(0, (a, b) -&gt; a + b))\r\n        .collect(Collectors.toList());\r\n\r\n    // or total sum of ints = 44\r\n    Integer total = lists.stream()\r\n        .flatMap(List::stream)\r\n        .reduce(0, (a, b) -&gt; a + b);\r\n```","title":"How to transform a 2D array to a list with summation of all the elements","body":"<p>There is no IntStream, but it works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;List&lt;Integer&gt;&gt; lists = List.of(List.of(1,2,3), List.of(4,5,6), List.of(7,8,9));\n\n    // list with sum of ints = &lt;6,15,24&gt;\n    List&lt;Integer&gt; sums = lists.stream()\n        .map(list -&gt; list.stream().reduce(0, (a, b) -&gt; a + b))\n        .collect(Collectors.toList());\n\n    // or total sum of ints = 44\n    Integer total = lists.stream()\n        .flatMap(List::stream)\n        .reduce(0, (a, b) -&gt; a + b);\n</code></pre>\n"}],"owner":{"account_id":18661046,"reputation":25,"user_id":13602248,"display_name":"Ming Tang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":73441433,"answer_count":3,"score":-3,"last_activity_date":1661156065,"creation_date":1661149099,"question_id":73440881,"body_markdown":"Given that there are three lists of Integers with all fixed size and all the lists are stored in another list\r\n\r\n    List&lt;List&lt;Integer&gt; a = &lt;&lt;1,2,3&gt;, &lt;1,2,3&gt;, &lt;1,2,3&gt;&gt;\r\n\r\nIs it possible to retrive the summation of all the lists? Using Java IntStream method? Expected result as below:\r\n\r\n\r\n    &lt;&lt;a1,b1,c1&gt;, &lt;a2,b2,c2&gt;, &lt;a3,b3,c3&gt;&gt;\r\n\r\n    //Would Produce Result Of\r\n    &lt;a1+a2+a3, b1+b2+b3, c1+c2+c3&gt;\r\n\r\n    &lt; 1+1+1, 2+2+2 , 3+3+3 &gt;\r\n    &lt;3,6,9&gt;\r\n\r\nWas thinking to first flatMap the entire thing to become something like:\r\n\r\n    &lt;1,2,3,1,2,3,1,2,3&gt;\r\n\r\nMy attempt of code is as below:\r\n\r\n    List&lt;Integer&gt; newList = new ArrayList&lt;&gt;;\r\n    Arrays.setAll(newList .toArray(), in-&gt;{\r\n            IntStream.range(1,b).forEach(y-&gt;\r\n                    newList.set(a, a.get(0) + a.get(3*y))\r\n            );\r\n        });","title":"How to transform a 2D array to a list with summation of all the elements","body":"<p>Given that there are three lists of Integers with all fixed size and all the lists are stored in another list</p>\n<pre><code>List&lt;List&lt;Integer&gt; a = &lt;&lt;1,2,3&gt;, &lt;1,2,3&gt;, &lt;1,2,3&gt;&gt;\n</code></pre>\n<p>Is it possible to retrive the summation of all the lists? Using Java IntStream method? Expected result as below:</p>\n<pre><code>&lt;&lt;a1,b1,c1&gt;, &lt;a2,b2,c2&gt;, &lt;a3,b3,c3&gt;&gt;\n\n//Would Produce Result Of\n&lt;a1+a2+a3, b1+b2+b3, c1+c2+c3&gt;\n\n&lt; 1+1+1, 2+2+2 , 3+3+3 &gt;\n&lt;3,6,9&gt;\n</code></pre>\n<p>Was thinking to first flatMap the entire thing to become something like:</p>\n<pre><code>&lt;1,2,3,1,2,3,1,2,3&gt;\n</code></pre>\n<p>My attempt of code is as below:</p>\n<pre><code>List&lt;Integer&gt; newList = new ArrayList&lt;&gt;;\nArrays.setAll(newList .toArray(), in-&gt;{\n        IntStream.range(1,b).forEach(y-&gt;\n                newList.set(a, a.get(0) + a.get(3*y))\n        );\n    });\n</code></pre>\n"},{"tags":["java","range","primes"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1661155069,"post_id":73441789,"comment_id":129695447,"body_markdown":"Please format your code properbly before posting it","body":"Please format your code properbly before posting it"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1661155104,"post_id":73441789,"comment_id":129695459,"body_markdown":"It is a good time to learn how to debug your code. It is very helpful if you want to find out why your code is not working","body":"It is a good time to learn how to debug your code. It is very helpful if you want to find out why your code is not working"},{"owner":{"account_id":12654771,"reputation":19,"user_id":9197631,"display_name":"decoder"},"score":0,"creation_date":1661155655,"post_id":73441789,"comment_id":129695642,"body_markdown":"Yes, thankyou. I will keep that in mind. New here ,still learning.","body":"Yes, thankyou. I will keep that in mind. New here ,still learning."}],"answers":[{"tags":[],"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661155967,"creation_date":1661155967,"answer_id":73442007,"question_id":73441789,"body_markdown":"You need to change the condition of your inner for-loop from\r\n\r\n    j&lt;=Math.sqrt(n)\r\n\r\nto\r\n\r\n    j&lt;=Math.sqrt(i)\r\n\r\nOtherwise for sufficiently large values of `n` this range will include the small `i` values.  \r\n","title":"what is wrong with the code as i am unable to print 3 and 2","body":"<p>You need to change the condition of your inner for-loop from</p>\n<pre><code>j&lt;=Math.sqrt(n)\n</code></pre>\n<p>to</p>\n<pre><code>j&lt;=Math.sqrt(i)\n</code></pre>\n<p>Otherwise for sufficiently large values of <code>n</code> this range will include the small <code>i</code> values.</p>\n"}],"owner":{"account_id":12654771,"reputation":19,"user_id":9197631,"display_name":"decoder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":73442007,"answer_count":1,"score":-1,"last_activity_date":1661155967,"creation_date":1661154799,"question_id":73441789,"body_markdown":"I am unable to get all the prime numbers printed .can someone help me with this .I get all the values except 2 and 3 . It starts with 5 .   \r\n\r\n```java        \r\npublic static void primesinRange(int n) {\r\n  int flag=1;\r\n  int i, j=2;\r\n  \r\n  for(i=2;i&lt;=n;i++) { \r\n    if(n==1 || n==0) {\r\n           continue;\r\n    }\r\n\r\n    if(n==2) {\r\n      flag=1;\r\n      continue;\r\n    }\r\n\r\n    flag=1;\r\n\r\n    for(j=2;j&lt;=Math.sqrt(n);j++) { \r\n      if((i%j)==0) {\r\n        flag=0;\r\n        break;\r\n      }\r\n    } \r\n        \r\n    if(flag==1) {\r\n      System.out.print(i+ &quot; &quot;);\r\n    }  \r\n  }   \r\n}\r\n```","title":"what is wrong with the code as i am unable to print 3 and 2","body":"<p>I am unable to get all the prime numbers printed .can someone help me with this .I get all the values except 2 and 3 . It starts with 5 .</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void primesinRange(int n) {\n  int flag=1;\n  int i, j=2;\n  \n  for(i=2;i&lt;=n;i++) { \n    if(n==1 || n==0) {\n           continue;\n    }\n\n    if(n==2) {\n      flag=1;\n      continue;\n    }\n\n    flag=1;\n\n    for(j=2;j&lt;=Math.sqrt(n);j++) { \n      if((i%j)==0) {\n        flag=0;\n        break;\n      }\n    } \n        \n    if(flag==1) {\n      System.out.print(i+ &quot; &quot;);\n    }  \n  }   \n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","xpath"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1660891618,"post_id":73412707,"comment_id":129645003,"body_markdown":"remove the class `hidden`?","body":"remove the class <code>hidden</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1660892877,"creation_date":1660891712,"answer_id":73412828,"question_id":73412707,"body_markdown":"Because of `optgroups` inside the `Select` we can&#39;t use here regular `Selenium` `Select` mechanism. \r\nYour locator is wrong.  \r\nPlease try this:\r\n```java\r\ndriver.findElement(By.xpath(&quot;//select[@id=&#39;formatSelect&#39;]//optgroup[@label=&#39;mp3&#39;]//option[@data-format=&#39;mp3&#39;]&quot;)).click();\r\n```\r\nIn case the command above will not work directly try first to open the dropdown by\r\n```java\r\ndriver.findElement(By.xpath(&quot;//select[@id=&#39;formatSelect&#39;]&quot;)).click();\r\n```\r\nAnd then to select the desired option with\r\n```java\r\ndriver.findElement(By.xpath(&quot;//select[@id=&#39;formatSelect&#39;]//optgroup[@label=&#39;mp3&#39;]//option[@data-format=&#39;mp3&#39;]&quot;)).click();\r\n```\r\n\r\n","title":"Selenium Java - Not able to find element","body":"<p>Because of <code>optgroups</code> inside the <code>Select</code> we can't use here regular <code>Selenium</code> <code>Select</code> mechanism.\nYour locator is wrong.<br />\nPlease try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.xpath(&quot;//select[@id='formatSelect']//optgroup[@label='mp3']//option[@data-format='mp3']&quot;)).click();\n</code></pre>\n<p>In case the command above will not work directly try first to open the dropdown by</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.xpath(&quot;//select[@id='formatSelect']&quot;)).click();\n</code></pre>\n<p>And then to select the desired option with</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.xpath(&quot;//select[@id='formatSelect']//optgroup[@label='mp3']//option[@data-format='mp3']&quot;)).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660956385,"creation_date":1660899135,"answer_id":73414210,"question_id":73412707,"body_markdown":"The desired `&lt;option&gt;` element,\r\n\r\n\t&lt;optgroup label=&quot;mp3&quot;&gt;\r\n\t    &lt;option data-format=&quot;mp3&quot; value=&quot;128&quot;&gt;128kbps (4.18 MB) &lt;/option&gt;\r\n\t&lt;/optgroup&gt;\r\n\t\r\nis within it&#39;s respective ancestor `&lt;optgroup&gt;`.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo click select the desired option you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _xpath_:\r\n\r\n\t  driver.get(&#39;https://yt5s.com/en133?q=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DSBjQ9tuuTJQ&#39;)\r\n\t  WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//select[@id=&#39;formatSelect&#39;]&quot;))).click()\r\n\t  WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//select[@id=&#39;formatSelect&#39;]//optgroup[@label=&#39;mp3&#39;]//option[@data-format=&#39;mp3&#39;]&quot;))).click()\r\n\r\n- Browser Snapshot:\r\n\r\n![optgroup](https://i.stack.imgur.com/KMefj.png)","title":"Selenium Java - Not able to find element","body":"<p>The desired <code>&lt;option&gt;</code> element,</p>\n<pre><code>&lt;optgroup label=&quot;mp3&quot;&gt;\n    &lt;option data-format=&quot;mp3&quot; value=&quot;128&quot;&gt;128kbps (4.18 MB) &lt;/option&gt;\n&lt;/optgroup&gt;\n</code></pre>\n<p>is within it's respective ancestor <code>&lt;optgroup&gt;</code>.</p>\n<hr />\n<h2>Solution</h2>\n<p>To click select the desired option you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>driver.get('https://yt5s.com/en133?q=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DSBjQ9tuuTJQ')\nWebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//select[@id='formatSelect']&quot;))).click()\nWebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//select[@id='formatSelect']//optgroup[@label='mp3']//option[@data-format='mp3']&quot;))).click()\n</code></pre>\n</li>\n<li><p>Browser Snapshot:</p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/KMefj.png\" alt=\"optgroup\" /></p>\n"}],"owner":{"account_id":7898041,"reputation":415,"user_id":5966013,"display_name":"Prem P."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1661155795,"creation_date":1660890866,"question_id":73412707,"body_markdown":"I&#39;m trying to access the select element on this page: \r\nhttps://yt5s.com/en133?q=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DSBjQ9tuuTJQ\r\n\r\nI&#39;m using the following code to access the dropdown:\r\n&gt;\t\tdriver.findElement(By.xpath(&quot;//select[@class=&#39;form-control form-control-small hidden&#39;]/optgroup[@label=&#39;mp3&#39;]&quot;)).click();\r\n\r\nBut I receive the following error\r\n&gt;Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//select[@class=&#39;form-control form-control-small hidden&#39;]/optgroup[@label=&#39;mp3&#39;]&quot;}\r\n\r\n\r\nThe following answers in this chain are all correct. I found the issue to be that my code opened the above url in a new tab and I didn&#39;t switch to this new tab yet.\r\nThe following piece of code let me switch to the new tab and now it is working.\r\n\r\n    ArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n    driver.close();\r\n    driver.switchTo().window(tabs.get(1));","title":"Selenium Java - Not able to find element","body":"<p>I'm trying to access the select element on this page:\n<a href=\"https://yt5s.com/en133?q=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DSBjQ9tuuTJQ\" rel=\"nofollow noreferrer\">https://yt5s.com/en133?q=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DSBjQ9tuuTJQ</a></p>\n<p>I'm using the following code to access the dropdown:</p>\n<blockquote>\n<pre><code>  driver.findElement(By.xpath(&quot;//select[@class='form-control form-control-small hidden']/optgroup[@label='mp3']&quot;)).click();\n</code></pre>\n</blockquote>\n<p>But I receive the following error</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//select[@class='form-control form-control-small hidden']/optgroup[@label='mp3']&quot;}</p>\n</blockquote>\n<p>The following answers in this chain are all correct. I found the issue to be that my code opened the above url in a new tab and I didn't switch to this new tab yet.\nThe following piece of code let me switch to the new tab and now it is working.</p>\n<pre><code>ArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\ndriver.close();\ndriver.switchTo().window(tabs.get(1));\n</code></pre>\n"},{"tags":["java","apache","solr"],"answers":[{"tags":[],"owner":{"account_id":1512168,"reputation":489,"user_id":1413977,"display_name":"Carlos Mafla"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1357315448,"creation_date":1357315448,"answer_id":14160530,"question_id":12818130,"body_markdown":"You probably downloaded the source version, which doesn&#39;t include the start.jar file, try this one: http://apache.mirrors.tds.net/lucene/solr/3.6.0/apache-solr-3.6.0.tgz","title":"SLES Apache Solr start.jar, Unable to access jarfile","body":"<p>You probably downloaded the source version, which doesn't include the start.jar file, try this one: <a href=\"http://apache.mirrors.tds.net/lucene/solr/3.6.0/apache-solr-3.6.0.tgz\" rel=\"noreferrer\">http://apache.mirrors.tds.net/lucene/solr/3.6.0/apache-solr-3.6.0.tgz</a></p>\n"},{"tags":[],"owner":{"account_id":6141228,"reputation":3949,"user_id":4788592,"accept_rate":12,"display_name":"Lalit Kushwah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612694874,"creation_date":1445412272,"answer_id":33253281,"question_id":12818130,"body_markdown":"This file is in server folder in `solr-5.3.1` so if you want to run the `start.jar` the  following steps are required:\r\n\r\n1) Open Command Prompt from that directory where you extract the zip file\r\n\r\n2) Go to you `solr-5.3.1` directory.\r\n\r\n3) Open bin folder\r\n\r\n4) Type `solr start -e cloud noprompt`","title":"SLES Apache Solr start.jar, Unable to access jarfile","body":"<p>This file is in server folder in <code>solr-5.3.1</code> so if you want to run the <code>start.jar</code> the  following steps are required:</p>\n<ol>\n<li><p>Open Command Prompt from that directory where you extract the zip file</p>\n</li>\n<li><p>Go to you <code>solr-5.3.1</code> directory.</p>\n</li>\n<li><p>Open bin folder</p>\n</li>\n<li><p>Type <code>solr start -e cloud noprompt</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16305411,"reputation":455,"user_id":11775515,"display_name":"Prashant Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661155598,"creation_date":1661155598,"answer_id":73441952,"question_id":12818130,"body_markdown":"I just removed solr9.0 and added solr8.7 and removed solr from path in environment variables , added java to path and JAVA_HOME variable","title":"SLES Apache Solr start.jar, Unable to access jarfile","body":"<p>I just removed solr9.0 and added solr8.7 and removed solr from path in environment variables , added java to path and JAVA_HOME variable</p>\n"}],"owner":{"account_id":1706268,"reputation":666,"user_id":1565249,"accept_rate":53,"display_name":"Basti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13500,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":14160530,"answer_count":3,"score":4,"last_activity_date":1661155598,"creation_date":1349868118,"question_id":12818130,"body_markdown":"I&#39;m having some problems with starting the Apache Solr Search.\r\n\r\nAfter installing java 7 on my SLES 11 64 Bit Server, I unpacked solr 3.6.1 to\r\n/srv/apache-solr-3.6.0/\r\n\r\nAfter this i wanted to start the software, but when i tried:\r\n\r\n    java -jar start.jar\r\n\r\nthe subfolder:\r\n    /srv/apache-solr-3.6.0/solr/example/ \r\n\r\nI recieve the following error:\r\n\r\n    Error: Unable to access jarfile start.jar\r\n\r\n? :-/","title":"SLES Apache Solr start.jar, Unable to access jarfile","body":"<p>I'm having some problems with starting the Apache Solr Search.</p>\n\n<p>After installing java 7 on my SLES 11 64 Bit Server, I unpacked solr 3.6.1 to\n/srv/apache-solr-3.6.0/</p>\n\n<p>After this i wanted to start the software, but when i tried:</p>\n\n<pre><code>java -jar start.jar\n</code></pre>\n\n<p>the subfolder:\n    /srv/apache-solr-3.6.0/solr/example/ </p>\n\n<p>I recieve the following error:</p>\n\n<pre><code>Error: Unable to access jarfile start.jar\n</code></pre>\n\n<p>? :-/</p>\n"},{"tags":["java","ms-word","spire.doc","spire"],"answers":[{"tags":[],"owner":{"account_id":8515340,"reputation":783,"user_id":6383966,"display_name":"Dheeraj Malik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661155572,"creation_date":1661137439,"answer_id":73439808,"question_id":73419509,"body_markdown":"There is no &quot;page&quot; definition in Spire.Doc because MS Word documents are actually &quot;flow&quot; documents. But there might be a way to achieve what you want, that is to set a title for each table in the Word template (right-click on the table-&gt;Table properties-&gt;Alt text-&gt;Title), then loop through the tables in the section, and find the desired table by its title using **Table.getTitle()** method.\r\n","title":"How to choose specific table with specific page in Spire documents?","body":"<p>There is no &quot;page&quot; definition in Spire.Doc because MS Word documents are actually &quot;flow&quot; documents. But there might be a way to achieve what you want, that is to set a title for each table in the Word template (right-click on the table-&gt;Table properties-&gt;Alt text-&gt;Title), then loop through the tables in the section, and find the desired table by its title using <strong>Table.getTitle()</strong> method.</p>\n"}],"owner":{"account_id":17613626,"reputation":9,"user_id":12781168,"display_name":"shady"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73439808,"answer_count":1,"score":0,"last_activity_date":1661155572,"creation_date":1660925347,"question_id":73419509,"body_markdown":"iam useing Spire Doc library to create word templete SO,\r\n\r\nin the below example , 1st table in page-1 has been chosen to make find and replace operation ,,, \r\n\r\ni created word documents like these but i need to choose 1st table in Page-2\r\n\r\n,,, Thanks in advance for your support \r\n[Output Word][1]\r\n  [\\[1\\]: https://i.stack.imgur.com/UCoY0.jpg][1]\r\n\r\n\r\n\r\n\r\n    import com.spire.doc.*;  \r\n    import com.spire.doc.documents.Paragraph;  \r\n    import com.spire.doc.documents.TextSelection;  \r\n    import com.spire.doc.fields.DocPicture;  \r\n    import com.spire.doc.fields.TextRange;  \r\n    import java.util.HashMap;  \r\n    import java.util.Map;  \r\n      \r\n    public class CreateByReplacingPlaceholderText {  \r\n        public static void main(String []args){  \r\n            //Load the template document  \r\n            Document document = new Document(&quot;PlaceholderTextTemplate.docx&quot;);  \r\n            //Get the first section  // What is Section Means in Word , and how can i select section in word ?\r\n            Section section = document.getSections().get(0);  \r\n            //Get the first table in the section  \r\n            Table table = section.getTables().get(0);  \r\n      \r\n            //Create a map of values for the template  \r\n            Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();  \r\n            map.put(&quot;firstName&quot;,&quot;Alex&quot;);  \r\n            map.put(&quot;lastName&quot;,&quot;Anderson&quot;);  \r\n            map.put(&quot;gender&quot;,&quot;Male&quot;);  \r\n            map.put(&quot;mobilePhone&quot;,&quot;+0044 85430000&quot;);  \r\n            map.put(&quot;email&quot;,&quot;alex.anderson@myemail.com&quot;);  \r\n            map.put(&quot;homeAddress&quot;,&quot;123 High Street&quot;);  \r\n            map.put(&quot;dateOfBirth&quot;,&quot;6th June, 1986&quot;);  \r\n            map.put(&quot;education&quot;,&quot;University of South Florida, September 2013 - June 2017&quot;);  \r\n            map.put(&quot;employmentHistory&quot;,&quot;Automation Inc. November 2013 - Present&quot;);  \r\n      \r\n            //Call the replaceTextinTable method to replace text in table  \r\n            replaceTextinTable(map, table);  \r\n            // Call the replaceTextWithImage method to replace text with image  \r\n            replaceTextWithImage(document, &quot;photo&quot;, &quot;Avatar.jpg&quot;);  \r\n      \r\n            //Save the result document  \r\n            document.saveToFile(&quot;CreateByReplacingPlaceholder.docx&quot;, FileFormat.Docx_2013);  \r\n        }  \r\n      \r\n        //Replace text in table  \r\n        static void replaceTextinTable(Map&lt;String, String&gt; map, Table table){  \r\n            for(TableRow row:(Iterable&lt;TableRow&gt;)table.getRows()){  \r\n                for(TableCell cell : (Iterable&lt;TableCell&gt;)row.getCells()){  \r\n                    for(Paragraph para : (Iterable&lt;Paragraph&gt;)cell.getParagraphs()){  \r\n                        for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {  \r\n                            para.replace(&quot;${&quot; + entry.getKey() + &quot;}&quot;, entry.getValue(), false, true);  \r\n                        }  \r\n                    }  \r\n                }  \r\n            }  \r\n        }  \r\n      \r\n        //Replace text with image  \r\n        static  void replaceTextWithImage(Document document, String stringToReplace, String imagePath){  \r\n            TextSelection[] selections = document.findAllString(&quot;${&quot; + stringToReplace + &quot;}&quot;, false, true);  \r\n            int index = 0;  \r\n            TextRange range = null;  \r\n            for (Object obj : selections) {  \r\n                TextSelection textSelection = (TextSelection)obj;  \r\n                DocPicture pic = new DocPicture(document);  \r\n                pic.loadImage(imagePath);  \r\n                range = textSelection.getAsOneRange();  \r\n                index = range.getOwnerParagraph().getChildObjects().indexOf(range);  \r\n                range.getOwnerParagraph().getChildObjects().insert(index,pic);  \r\n                range.getOwnerParagraph().getChildObjects().remove(range);  \r\n            }  \r\n        }  \r\n      \r\n        //Replace text in document body  \r\n        static void replaceTextinDocumentBody(Map&lt;String, String&gt; map, Document document){  \r\n            for(Section section : (Iterable&lt;Section&gt;)document.getSections()) {  \r\n                for (Paragraph para : (Iterable&lt;Paragraph&gt;) section.getParagraphs()) {  \r\n                    for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {  \r\n                        para.replace(&quot;${&quot; + entry.getKey() + &quot;}&quot;, entry.getValue(), false, true);  \r\n                    }  \r\n                }  \r\n            }  \r\n        }  \r\n      \r\n        //Replace text in header or footer  \r\n        static  void replaceTextinHeaderorFooter(Map&lt;String, String&gt; map, HeaderFooter headerFooter){  \r\n            for(Paragraph para : (Iterable&lt;Paragraph&gt;)headerFooter.getParagraphs()){  \r\n                for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {  \r\n                    para.replace(&quot;${&quot; + entry.getKey() + &quot;}&quot;, entry.getValue(), false, true);  \r\n                }  \r\n            }  \r\n        }  \r\n    }  \r\n\r\n  [1]: https://i.stack.imgur.com/yFfv0.png\r\n","title":"How to choose specific table with specific page in Spire documents?","body":"<p>iam useing Spire Doc library to create word templete SO,</p>\n<p>in the below example , 1st table in page-1 has been chosen to make find and replace operation ,,,</p>\n<p>i created word documents like these but i need to choose 1st table in Page-2</p>\n<p>,,, Thanks in advance for your support\n<a href=\"https://i.stack.imgur.com/yFfv0.png\" rel=\"nofollow noreferrer\">Output Word</a>\n<a href=\"https://i.stack.imgur.com/yFfv0.png\" rel=\"nofollow noreferrer\">[1]: https://i.stack.imgur.com/UCoY0.jpg</a></p>\n<pre><code>import com.spire.doc.*;  \nimport com.spire.doc.documents.Paragraph;  \nimport com.spire.doc.documents.TextSelection;  \nimport com.spire.doc.fields.DocPicture;  \nimport com.spire.doc.fields.TextRange;  \nimport java.util.HashMap;  \nimport java.util.Map;  \n  \npublic class CreateByReplacingPlaceholderText {  \n    public static void main(String []args){  \n        //Load the template document  \n        Document document = new Document(&quot;PlaceholderTextTemplate.docx&quot;);  \n        //Get the first section  // What is Section Means in Word , and how can i select section in word ?\n        Section section = document.getSections().get(0);  \n        //Get the first table in the section  \n        Table table = section.getTables().get(0);  \n  \n        //Create a map of values for the template  \n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();  \n        map.put(&quot;firstName&quot;,&quot;Alex&quot;);  \n        map.put(&quot;lastName&quot;,&quot;Anderson&quot;);  \n        map.put(&quot;gender&quot;,&quot;Male&quot;);  \n        map.put(&quot;mobilePhone&quot;,&quot;+0044 85430000&quot;);  \n        map.put(&quot;email&quot;,&quot;alex.anderson@myemail.com&quot;);  \n        map.put(&quot;homeAddress&quot;,&quot;123 High Street&quot;);  \n        map.put(&quot;dateOfBirth&quot;,&quot;6th June, 1986&quot;);  \n        map.put(&quot;education&quot;,&quot;University of South Florida, September 2013 - June 2017&quot;);  \n        map.put(&quot;employmentHistory&quot;,&quot;Automation Inc. November 2013 - Present&quot;);  \n  \n        //Call the replaceTextinTable method to replace text in table  \n        replaceTextinTable(map, table);  \n        // Call the replaceTextWithImage method to replace text with image  \n        replaceTextWithImage(document, &quot;photo&quot;, &quot;Avatar.jpg&quot;);  \n  \n        //Save the result document  \n        document.saveToFile(&quot;CreateByReplacingPlaceholder.docx&quot;, FileFormat.Docx_2013);  \n    }  \n  \n    //Replace text in table  \n    static void replaceTextinTable(Map&lt;String, String&gt; map, Table table){  \n        for(TableRow row:(Iterable&lt;TableRow&gt;)table.getRows()){  \n            for(TableCell cell : (Iterable&lt;TableCell&gt;)row.getCells()){  \n                for(Paragraph para : (Iterable&lt;Paragraph&gt;)cell.getParagraphs()){  \n                    for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {  \n                        para.replace(&quot;${&quot; + entry.getKey() + &quot;}&quot;, entry.getValue(), false, true);  \n                    }  \n                }  \n            }  \n        }  \n    }  \n  \n    //Replace text with image  \n    static  void replaceTextWithImage(Document document, String stringToReplace, String imagePath){  \n        TextSelection[] selections = document.findAllString(&quot;${&quot; + stringToReplace + &quot;}&quot;, false, true);  \n        int index = 0;  \n        TextRange range = null;  \n        for (Object obj : selections) {  \n            TextSelection textSelection = (TextSelection)obj;  \n            DocPicture pic = new DocPicture(document);  \n            pic.loadImage(imagePath);  \n            range = textSelection.getAsOneRange();  \n            index = range.getOwnerParagraph().getChildObjects().indexOf(range);  \n            range.getOwnerParagraph().getChildObjects().insert(index,pic);  \n            range.getOwnerParagraph().getChildObjects().remove(range);  \n        }  \n    }  \n  \n    //Replace text in document body  \n    static void replaceTextinDocumentBody(Map&lt;String, String&gt; map, Document document){  \n        for(Section section : (Iterable&lt;Section&gt;)document.getSections()) {  \n            for (Paragraph para : (Iterable&lt;Paragraph&gt;) section.getParagraphs()) {  \n                for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {  \n                    para.replace(&quot;${&quot; + entry.getKey() + &quot;}&quot;, entry.getValue(), false, true);  \n                }  \n            }  \n        }  \n    }  \n  \n    //Replace text in header or footer  \n    static  void replaceTextinHeaderorFooter(Map&lt;String, String&gt; map, HeaderFooter headerFooter){  \n        for(Paragraph para : (Iterable&lt;Paragraph&gt;)headerFooter.getParagraphs()){  \n            for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {  \n                para.replace(&quot;${&quot; + entry.getKey() + &quot;}&quot;, entry.getValue(), false, true);  \n            }  \n        }  \n    }  \n}  \n</code></pre>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":1,"creation_date":1661155455,"post_id":73441879,"comment_id":129695573,"body_markdown":"onActivityResult will get called when you startActivityForResult but you just used startActvity","body":"onActivityResult will get called when you startActivityForResult but you just used startActvity"},{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661155502,"post_id":73441879,"comment_id":129695590,"body_markdown":"Yes, just change the `startActivity` call(s) to `startActivityForResult`","body":"Yes, just change the <code>startActivity</code> call(s) to <code>startActivityForResult</code>"},{"owner":{"account_id":9051606,"reputation":19,"user_id":14263294,"display_name":"His R.H"},"score":0,"creation_date":1661155693,"post_id":73441879,"comment_id":129695656,"body_markdown":"I changed all of them in my RecordVideo file but it&#39;s still the same problem","body":"I changed all of them in my RecordVideo file but it&#39;s still the same problem"},{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1661157657,"post_id":73441879,"comment_id":129696241,"body_markdown":"[onactivityresult-method-is-deprecated-what-is-the-alternative](https://stackoverflow.com/questions/62671106/onactivityresult-method-is-deprecated-what-is-the-alternative),, it&#39;s better to implement the new ways.","body":"<a href=\"https://stackoverflow.com/questions/62671106/onactivityresult-method-is-deprecated-what-is-the-alternative\">onactivityresult-method-is-deprecated-what-is-the-alternativ&zwnj;&#8203;e</a>,, it&#39;s better to implement the new ways."}],"owner":{"account_id":9051606,"reputation":19,"user_id":14263294,"display_name":"His R.H"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661155285,"creation_date":1661155285,"question_id":73441879,"body_markdown":"I am recording/selecting a video in my `RecordVideo.java` activity. Once the video is recorded/selected the I press the upload button and go to the `PostActivity.java` file. But once I&#39;m in there for some reason `onActivityResult` isn&#39;t being called. I tried to toast and `Log.d` for some type of error or info but nothing came up. \r\n\r\nI checked the answer on here to the same problem I&#39;m having but none of them worked for me.\r\nCan someone please help ?\r\n\r\nRecordVideo.java:\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\r\n        if (requestCode == REQUEST_CODE_VIDEO_CAPTURE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data.getData() != null) {\r\n\r\n            videoUri = data.getData();\r\n            videoView.setVideoURI(videoUri);\r\n            videoView.start();\r\n\r\n        } else if (requestCode == 5 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n\r\n            videoUri = data.getData();\r\n            videoView.setVideoURI(videoUri);\r\n            videoView.start();\r\n        }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\n    private void uploadUserVideo(Uri videoUri) {\r\n\r\n        if (videoUri != null) {\r\n\r\n            Intent intent = new Intent(RecordVideo.this, PostActivity.class);\r\n            intent.putExtra(&quot;videoUri&quot;, videoUri.toString());\r\n            startActivity(intent);\r\n            finish();\r\n        } else {\r\n\r\n            Toast.makeText(this, &quot;It&#39;s null&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\nPostActivity.java:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_post);\r\n\r\n        Bundle extras = getIntent().getExtras();\r\n        if (extras != null) {\r\n            //videoUri = extras.getInt(videoUri);\r\n            videoUri = Uri.parse(extras.getString(&quot;videoUri&quot;));\r\n            //Toast.makeText(this, &quot;It&#39;s not null&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        } else {\r\n            // handle case\r\n            Toast.makeText(this, &quot;Post null&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        videoView = findViewById(R.id.video_added);\r\n        MediaController mediaController = new MediaController(this);\r\n        mediaController.setAnchorView(videoView);\r\n        videoView.setMediaController(mediaController);\r\n\r\n        close = findViewById(R.id.close);\r\n        close.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                startActivity(new Intent(PostActivity.this, MainActivity.class));\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\r\n        Log.d(&quot;TAG3&quot;, &quot;I&#39;m here.&quot; + requestCode);\r\n\r\n        if (requestCode == 1 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\r\n\r\n            videoUri = data.getData();\r\n            videoView.setVideoURI(videoUri);\r\n            videoView.start();\r\n\r\n            Toast.makeText(this, &quot;No problem.&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        } else {\r\n\r\n            Toast.makeText(this, &quot;A problem.&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n","title":"onActivityResult not being called in activity","body":"<p>I am recording/selecting a video in my <code>RecordVideo.java</code> activity. Once the video is recorded/selected the I press the upload button and go to the <code>PostActivity.java</code> file. But once I'm in there for some reason <code>onActivityResult</code> isn't being called. I tried to toast and <code>Log.d</code> for some type of error or info but nothing came up.</p>\n<p>I checked the answer on here to the same problem I'm having but none of them worked for me.\nCan someone please help ?</p>\n<p>RecordVideo.java:</p>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n\n    if (requestCode == REQUEST_CODE_VIDEO_CAPTURE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data.getData() != null) {\n\n        videoUri = data.getData();\n        videoView.setVideoURI(videoUri);\n        videoView.start();\n\n    } else if (requestCode == 5 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n\n        videoUri = data.getData();\n        videoView.setVideoURI(videoUri);\n        videoView.start();\n    }\n\n    super.onActivityResult(requestCode, resultCode, data);\n}\n\nprivate void uploadUserVideo(Uri videoUri) {\n\n    if (videoUri != null) {\n\n        Intent intent = new Intent(RecordVideo.this, PostActivity.class);\n        intent.putExtra(&quot;videoUri&quot;, videoUri.toString());\n        startActivity(intent);\n        finish();\n    } else {\n\n        Toast.makeText(this, &quot;It's null&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>PostActivity.java:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_post);\n\n    Bundle extras = getIntent().getExtras();\n    if (extras != null) {\n        //videoUri = extras.getInt(videoUri);\n        videoUri = Uri.parse(extras.getString(&quot;videoUri&quot;));\n        //Toast.makeText(this, &quot;It's not null&quot;, Toast.LENGTH_SHORT).show();\n\n    } else {\n        // handle case\n        Toast.makeText(this, &quot;Post null&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    videoView = findViewById(R.id.video_added);\n    MediaController mediaController = new MediaController(this);\n    mediaController.setAnchorView(videoView);\n    videoView.setMediaController(mediaController);\n\n    close = findViewById(R.id.close);\n    close.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            startActivity(new Intent(PostActivity.this, MainActivity.class));\n            finish();\n        }\n    });\n\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n\n    Log.d(&quot;TAG3&quot;, &quot;I'm here.&quot; + requestCode);\n\n    if (requestCode == 1 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.getData() != null) {\n\n        videoUri = data.getData();\n        videoView.setVideoURI(videoUri);\n        videoView.start();\n\n        Toast.makeText(this, &quot;No problem.&quot;, Toast.LENGTH_SHORT).show();\n\n    } else {\n\n        Toast.makeText(this, &quot;A problem.&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    super.onActivityResult(requestCode, resultCode, data);\n}\n</code></pre>\n"},{"tags":["java","ojdbc","oracle-wallet"],"answers":[{"tags":[],"owner":{"account_id":17995240,"reputation":36,"user_id":13078445,"display_name":"criticalbird"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1584473480,"creation_date":1584473480,"answer_id":60729064,"question_id":60727116,"body_markdown":"JDBC can only accept a path which is accessible by `new File(path)`. So here the path starts with &quot;file:...&quot; is invalid.","title":"Storing JDBC Oracle Wallet in project","body":"<p>JDBC can only accept a path which is accessible by <code>new File(path)</code>. So here the path starts with \"file:...\" is invalid.</p>\n"},{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585470412,"creation_date":1585470412,"answer_id":60911738,"question_id":60727116,"body_markdown":"The TNS_ADMIN property is for capturing the absolute path of tnsnames.ora file. So, try to use the absolute path. Also, note the file separators for both windows and linux. Use the [DataSourceSample.java][1] for reference.\r\n\r\n\r\n  [1]: https://github.com/oracle/oracle-db-examples/blob/master/java/jdbc/ConnectionSamples/DataSourceSample.java","title":"Storing JDBC Oracle Wallet in project","body":"<p>The TNS_ADMIN property is for capturing the absolute path of tnsnames.ora file. So, try to use the absolute path. Also, note the file separators for both windows and linux. Use the <a href=\"https://github.com/oracle/oracle-db-examples/blob/master/java/jdbc/ConnectionSamples/DataSourceSample.java\" rel=\"nofollow noreferrer\">DataSourceSample.java</a> for reference.</p>\n"},{"tags":[],"owner":{"account_id":22079813,"reputation":1,"user_id":16339549,"display_name":"Vishwa Varanasi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661155239,"creation_date":1661155036,"answer_id":73441840,"question_id":60727116,"body_markdown":"reposing the same question\r\n\r\n\r\nI am new to using Oracle wallet \r\nafter reading like below\r\n\r\n    final static String DB_URL = &quot;jdbc:oracle:thin:@db_high?TNS_ADMIN=&quot;\r\n        + (Database.class.getClassLoader().getResource(&quot;Wallet_DB&quot;)\r\n            .getPath().replaceFirst(&quot;/&quot;,&quot;&quot;));\r\n\r\ni removed &quot;file:&quot;  from the DB_URL   but still getting an exception \r\n\r\njava.io.IOException: Unable to connect to jdbc:oracle:thin:@db_medium?TNS_ADMIN=C:/Users/Me/Documents/test.jar!/Wallet_D\r\n","title":"Storing JDBC Oracle Wallet in project","body":"<p>reposing the same question</p>\n<p>I am new to using Oracle wallet\nafter reading like below</p>\n<pre><code>final static String DB_URL = &quot;jdbc:oracle:thin:@db_high?TNS_ADMIN=&quot;\n    + (Database.class.getClassLoader().getResource(&quot;Wallet_DB&quot;)\n        .getPath().replaceFirst(&quot;/&quot;,&quot;&quot;));\n</code></pre>\n<p>i removed &quot;file:&quot;  from the DB_URL   but still getting an exception</p>\n<p>java.io.IOException: Unable to connect to jdbc:oracle:thin:@db_medium?TNS_ADMIN=C:/Users/Me/Documents/test.jar!/Wallet_D</p>\n"}],"owner":{"account_id":15514734,"reputation":3,"user_id":11192603,"display_name":"Nktn96"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60729064,"answer_count":3,"score":0,"last_activity_date":1661155239,"creation_date":1584465142,"question_id":60727116,"body_markdown":"I have been storing my wallet inside my project&#39;s resources folder, and am able to access it using the following string just fine inside eclipse\r\n\r\n```java\r\nfinal static String DB_URL = &quot;jdbc:oracle:thin:@db_high?TNS_ADMIN=&quot;\r\n    + (Database.class.getClassLoader().getResource(&quot;Wallet_DB&quot;)\r\n        .getPath().replaceFirst(&quot;/&quot;,&quot;&quot;));\r\n```\r\n\r\nHowever, when I compile it into a jar, and then run it from command line I get the following error:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.nio.file.InvalidPathException: Illegal\r\nchar &lt;:&gt; at index 4:\r\nfile:C:/Users/Me/Documents/test.jar!/Wallet_DB\\ojdbc.properties\r\n```\r\n\r\nI know I could fix this by just moving the wallet to be right next to my jar file, outside the project,  and accessing it with a relative file path, but is there anyway to fix this so I can keep the wallet inside the jar?","title":"Storing JDBC Oracle Wallet in project","body":"<p>I have been storing my wallet inside my project's resources folder, and am able to access it using the following string just fine inside eclipse</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>final static String DB_URL = \"jdbc:oracle:thin:@db_high?TNS_ADMIN=\"\n    + (Database.class.getClassLoader().getResource(\"Wallet_DB\")\n        .getPath().replaceFirst(\"/\",\"\"));\n</code></pre>\n\n<p>However, when I compile it into a jar, and then run it from command line I get the following error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" java.nio.file.InvalidPathException: Illegal\nchar &lt;:&gt; at index 4:\nfile:C:/Users/Me/Documents/test.jar!/Wallet_DB\\ojdbc.properties\n</code></pre>\n\n<p>I know I could fix this by just moving the wallet to be right next to my jar file, outside the project,  and accessing it with a relative file path, but is there anyway to fix this so I can keep the wallet inside the jar?</p>\n"},{"tags":["java","json","spring","spring-boot","openfeign"],"comments":[{"owner":{"account_id":10316842,"reputation":876,"user_id":7610918,"accept_rate":38,"display_name":"ProgrammerBoy"},"score":0,"creation_date":1661145745,"post_id":73440281,"comment_id":129693184,"body_markdown":"Please also paste the code for Course class","body":"Please also paste the code for Course class"}],"answers":[{"tags":[],"owner":{"account_id":471188,"reputation":589,"user_id":878818,"display_name":"cuneytykaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661154374,"creation_date":1661154374,"answer_id":73441735,"question_id":73440281,"body_markdown":"Your controller must return a list of students. For now, you are just returning a string &quot;student&quot;. You can update as below.\r\n\r\n    @Controller\r\n    public class mvcController  {\r\n        @Autowired\r\n        apiController apiC;\r\n    \r\n        @GetMapping(&quot;/student&quot;)\r\n        public List&lt;Student&gt;getAll(Model m) {\r\n            List&lt;Student&gt; student = apiC.getAll();\r\n            System.out.println(student.get(0).getCourseList());\r\n            return student;\r\n        }\r\n    }","title":"using Spring-Cloud Open Feign, how do i read nested JSON data of another type?","body":"<p>Your controller must return a list of students. For now, you are just returning a string &quot;student&quot;. You can update as below.</p>\n<pre><code>@Controller\npublic class mvcController  {\n    @Autowired\n    apiController apiC;\n\n    @GetMapping(&quot;/student&quot;)\n    public List&lt;Student&gt;getAll(Model m) {\n        List&lt;Student&gt; student = apiC.getAll();\n        System.out.println(student.get(0).getCourseList());\n        return student;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13662004,"reputation":1,"user_id":9856787,"display_name":"Cen Jake"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661154374,"creation_date":1661143219,"question_id":73440281,"body_markdown":"   \r\n\r\n    @FeignClient(name=&quot;service&quot;, url=&quot;http://localhost:80/&quot;)\r\n    public interface apiService {\r\n    \r\n    @GetMapping(value = &quot;/student&quot;)\r\n    @Headers(value = &quot;Content-Type: application/json&quot;)\r\n    List&lt;Student&gt; getAll();\r\n    \r\n    \r\n    } \r\n\r\n\r\n&gt; Blockquote\r\n\r\n\r\n    @RestController\r\n        @RequestMapping(&quot;/apiController&quot;)\r\n        @Primary\r\n        public class apiController implements apiService{\r\n        \r\n            @Autowired\r\n            private apiService proxy;\r\n        \r\n            @Override\r\n            public List&lt;Student&gt; getAll() {\r\n                List&lt;Student&gt; all = proxy.getAll();\r\n                return all;\r\n            }\r\n        }\r\n\r\n           \r\n\r\n&gt; Blockquote\r\n\r\n    \r\n\r\n        @Controller\r\n    public class mvcController  {\r\n        @Autowired\r\n        apiController apiC;\r\n    \r\n        @GetMapping(&quot;/student&quot;)\r\n        public String getAll(Model m) {\r\n            List&lt;Student&gt; student = apiC.getAll();\r\n            System.out.println(student.get(0).getCourseList());\r\n            return &quot;student&quot;;\r\n        }\r\n    }\r\n\r\n&gt; Blockquote\r\n\r\n\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    \r\n    public class Student {\r\n    \r\n    private int id;\r\n    \r\n    private String firstName;\r\n    \r\n    private String lastName;\r\n    \r\n     private List&lt;Course&gt; courseList;\r\n    \r\n    \r\n        public Student(String firstName, String lastName) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n        }\r\n    }\r\n\r\n\r\nWhat I m getting syntax error when I try to do: apiC.getAll() , I get\r\n\r\n    Error while extracting response for type [java.util.List&lt;com.example.restconsume.Entity.Student&gt;] and content type [application/json]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.example.restconsume.Entity.Student` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.example.restconsume.Entity.Student` from Array value (token `JsonToken.START_ARRAY`) at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 99] (through reference chain: java.util.ArrayList[0]-&gt;com.example.restconsume.Entity.Student[&quot;courseList&quot;]-&gt;java.util.ArrayList[0]-&gt;com.example.restconsume.Entity.Course[&quot;student&quot;])\r\n    feign.codec.DecodeException: Error while extracting response for type [java.util.List&lt;com.example.restconsume.Entity.Student&gt;] and content type [application/json]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.example.restconsume.Entity.Student` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.example.restconsume.Entity.Student` from Array value (token `JsonToken.START_ARRAY`)\r\n\r\nso basically I m trying to use  `List&lt;Student&gt; all`, and to call this method  `all.getCourseList()`  but got Exception above regardless. and CourseList is Course.class.  if I remove `private Course CourseList` though. \r\n\r\nreturning it as `List&lt;Object&gt; All` , works but I can&#39;t access to the `getCourseList()` method anymore.\r\n\r\nso pretty much my question is, how do I access to nested JSON of another type?\r\n\r\nIf there is no way to pulling it off, then how do I parse the List&lt;Object&gt; All to Student and Course object where I can operate on them?\r\n\r\nhere is a sample JSON i m trying to consume\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 10,\r\n            &quot;firstName&quot;: &quot;Jan&quot;,\r\n            &quot;lastName&quot;: &quot;Cen&quot;,\r\n            &quot;courseList&quot;: [\r\n                {\r\n                    &quot;id&quot;: 10,\r\n                    &quot;courseName&quot;: &quot;Math&quot;,\r\n                    &quot;student&quot;: [\r\n                        10\r\n                    ],\r\n                    &quot;teacher&quot;: {\r\n                        &quot;id&quot;: 2,\r\n                        &quot;firstName&quot;: &quot;Albert&quot;,\r\n                        &quot;lastName&quot;: &quot;Einstein&quot;,\r\n                        &quot;email&quot;: &quot;Einstein@gmail.com&quot;,\r\n                        &quot;course&quot;: [\r\n                            10\r\n                        ]\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    ]","title":"using Spring-Cloud Open Feign, how do i read nested JSON data of another type?","body":"<pre><code>@FeignClient(name=&quot;service&quot;, url=&quot;http://localhost:80/&quot;)\npublic interface apiService {\n\n@GetMapping(value = &quot;/student&quot;)\n@Headers(value = &quot;Content-Type: application/json&quot;)\nList&lt;Student&gt; getAll();\n\n\n} \n</code></pre>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n<pre><code>@RestController\n    @RequestMapping(&quot;/apiController&quot;)\n    @Primary\n    public class apiController implements apiService{\n    \n        @Autowired\n        private apiService proxy;\n    \n        @Override\n        public List&lt;Student&gt; getAll() {\n            List&lt;Student&gt; all = proxy.getAll();\n            return all;\n        }\n    }\n\n       \n</code></pre>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n<pre><code>    @Controller\npublic class mvcController  {\n    @Autowired\n    apiController apiC;\n\n    @GetMapping(&quot;/student&quot;)\n    public String getAll(Model m) {\n        List&lt;Student&gt; student = apiC.getAll();\n        System.out.println(student.get(0).getCourseList());\n        return &quot;student&quot;;\n    }\n}\n</code></pre>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\n@AllArgsConstructor\n\npublic class Student {\n\nprivate int id;\n\nprivate String firstName;\n\nprivate String lastName;\n\n private List&lt;Course&gt; courseList;\n\n\n    public Student(String firstName, String lastName) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n}\n</code></pre>\n<p>What I m getting syntax error when I try to do: apiC.getAll() , I get</p>\n<pre><code>Error while extracting response for type [java.util.List&lt;com.example.restconsume.Entity.Student&gt;] and content type [application/json]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.example.restconsume.Entity.Student` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.example.restconsume.Entity.Student` from Array value (token `JsonToken.START_ARRAY`) at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 99] (through reference chain: java.util.ArrayList[0]-&gt;com.example.restconsume.Entity.Student[&quot;courseList&quot;]-&gt;java.util.ArrayList[0]-&gt;com.example.restconsume.Entity.Course[&quot;student&quot;])\nfeign.codec.DecodeException: Error while extracting response for type [java.util.List&lt;com.example.restconsume.Entity.Student&gt;] and content type [application/json]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.example.restconsume.Entity.Student` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.example.restconsume.Entity.Student` from Array value (token `JsonToken.START_ARRAY`)\n</code></pre>\n<p>so basically I m trying to use  <code>List&lt;Student&gt; all</code>, and to call this method  <code>all.getCourseList()</code>  but got Exception above regardless. and CourseList is Course.class.  if I remove <code>private Course CourseList</code> though.</p>\n<p>returning it as <code>List&lt;Object&gt; All</code> , works but I can't access to the <code>getCourseList()</code> method anymore.</p>\n<p>so pretty much my question is, how do I access to nested JSON of another type?</p>\n<p>If there is no way to pulling it off, then how do I parse the List All to Student and Course object where I can operate on them?</p>\n<p>here is a sample JSON i m trying to consume</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 10,\n        &quot;firstName&quot;: &quot;Jan&quot;,\n        &quot;lastName&quot;: &quot;Cen&quot;,\n        &quot;courseList&quot;: [\n            {\n                &quot;id&quot;: 10,\n                &quot;courseName&quot;: &quot;Math&quot;,\n                &quot;student&quot;: [\n                    10\n                ],\n                &quot;teacher&quot;: {\n                    &quot;id&quot;: 2,\n                    &quot;firstName&quot;: &quot;Albert&quot;,\n                    &quot;lastName&quot;: &quot;Einstein&quot;,\n                    &quot;email&quot;: &quot;Einstein@gmail.com&quot;,\n                    &quot;course&quot;: [\n                        10\n                    ]\n                }\n            }\n        ]\n    }\n]\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1661154977,"post_id":73441728,"comment_id":129695422,"body_markdown":"why not just use    List&lt;String&gt; colors ?","body":"why not just use    List&lt;String&gt; colors ?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1661155087,"post_id":73441728,"comment_id":129695456,"body_markdown":"@muhammedozbilici That makes zero difference to the conversion service.","body":"@muhammedozbilici That makes zero difference to the conversion service."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1661155232,"post_id":73441728,"comment_id":129695508,"body_markdown":"My expectation is that it&#39;s using converters from the `StringToEnumConverterFactory` and standardized collection behavior (split on string and parse individually). You could debug and set a breakpoint on `setColors` to see what the stack trace shows.","body":"My expectation is that it&#39;s using converters from the <code>StringToEnumConverterFactory</code> and standardized collection behavior (split on string and parse individually). You could debug and set a breakpoint on <code>setColors</code> to see what the stack trace shows."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1661155748,"post_id":73441728,"comment_id":129695682,"body_markdown":"@chrylis-cautiouslyoptimistic-:  The interesting part of the question is how Spring would deal with the `EnumSet` aspect, not so much the individual elements .. we already know that Spring is quite capable of doing that conversion.","body":"@chrylis-cautiouslyoptimistic-:  The interesting part of the question is how Spring would deal with the <code>EnumSet</code> aspect, not so much the individual elements .. we already know that Spring is quite capable of doing that conversion."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661159945,"post_id":73441728,"comment_id":129697002,"body_markdown":"There isn&#39;t. You can only convert from a `String` to an `Enum`. There isn&#39;t any operation possible. So you can write `myexample.colors=RED,GREEN` and it will be converted, but you cannot just write `myexample.colors=-BLUE` to get the same. It only works with specifying which values to use.","body":"There isn&#39;t. You can only convert from a <code>String</code> to an <code>Enum</code>. There isn&#39;t any operation possible. So you can write <code>myexample.colors=RED,GREEN</code> and it will be converted, but you cannot just write <code>myexample.colors=-BLUE</code> to get the same. It only works with specifying which values to use."}],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661154353,"creation_date":1661154353,"question_id":73441728,"body_markdown":"Question is about how Spring&#39;s build-in type converters work for `EnumSet` type.\r\n\r\nAssuming the following Enum:\r\n\r\n```java\r\npublic enum Color {\r\n    RED, BLUE, GREEN\r\n}\r\n```\r\n\r\nand standard binding:\r\n\r\n```java\r\n@ConfigurationProperties(prefix = &quot;myexample&quot;)\r\npublic class MyProperties {\r\n    \r\n    private EnumSet&lt;Color&gt; colors;\r\n\r\n    public EnumSet&lt;Color&gt; getColors() {\r\n        return colors;\r\n    }\r\n\r\n    public void setColors(EnumSet&lt;Color&gt; colors) {\r\n        this.colors = colors;\r\n    }\r\n}\r\n```\r\n\r\nI would like in my properties file to be able to do\r\n\r\n```properties\r\nmyexample.colors = &lt;ALL&gt;\r\n```\r\n\r\nwhich would be the equivalent of `EnumSet.allOf(Color.class)`. One can imagine other variations as well, for example complements:\r\n\r\n```properties\r\nmyexample.colors = -GREEN\r\n```\r\nwhich would be the equivalent of `EnumSet.complementOf(EnumSet.of(Color.GREEN))`. \r\n\r\n\r\nBefore jumping into building my own converter I would like to figure out what Spring 5 already offers in this space. It wouldn&#39;t be totally unnatural if something like this was already present in the framework.\r\n\r\nAt the moment I cannot even figure out if Spring 5 has a dedicated type converter for `EnumSet` or if it simply uses a combination of `Set` and `Enum`. Perhaps a short test case\r\nwould help me to figure out what code path Spring follows when it does the `String` --&gt; `EnumSet` conversion. \r\n\r\n\r\nAny help would be greatly appreciated. New to type conversion.\r\n\r\n(Spring Boot 2.7, Spring Framework 5)","title":"Spring type conversion for EnumSet : all values","body":"<p>Question is about how Spring's build-in type converters work for <code>EnumSet</code> type.</p>\n<p>Assuming the following Enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Color {\n    RED, BLUE, GREEN\n}\n</code></pre>\n<p>and standard binding:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = &quot;myexample&quot;)\npublic class MyProperties {\n    \n    private EnumSet&lt;Color&gt; colors;\n\n    public EnumSet&lt;Color&gt; getColors() {\n        return colors;\n    }\n\n    public void setColors(EnumSet&lt;Color&gt; colors) {\n        this.colors = colors;\n    }\n}\n</code></pre>\n<p>I would like in my properties file to be able to do</p>\n<pre><code>myexample.colors = &lt;ALL&gt;\n</code></pre>\n<p>which would be the equivalent of <code>EnumSet.allOf(Color.class)</code>. One can imagine other variations as well, for example complements:</p>\n<pre><code>myexample.colors = -GREEN\n</code></pre>\n<p>which would be the equivalent of <code>EnumSet.complementOf(EnumSet.of(Color.GREEN))</code>.</p>\n<p>Before jumping into building my own converter I would like to figure out what Spring 5 already offers in this space. It wouldn't be totally unnatural if something like this was already present in the framework.</p>\n<p>At the moment I cannot even figure out if Spring 5 has a dedicated type converter for <code>EnumSet</code> or if it simply uses a combination of <code>Set</code> and <code>Enum</code>. Perhaps a short test case\nwould help me to figure out what code path Spring follows when it does the <code>String</code> --&gt; <code>EnumSet</code> conversion.</p>\n<p>Any help would be greatly appreciated. New to type conversion.</p>\n<p>(Spring Boot 2.7, Spring Framework 5)</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":1833629,"reputation":3580,"user_id":1664430,"accept_rate":42,"display_name":"Ashishkumar Singh"},"score":0,"creation_date":1661149093,"post_id":73440808,"comment_id":129693800,"body_markdown":"Can you be more specific about your requirement. You want to use array instead of arraylist ?","body":"Can you be more specific about your requirement. You want to use array instead of arraylist ?"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1661150772,"post_id":73440808,"comment_id":129694234,"body_markdown":"https://www.google.com/search?q=list+convert+to+array+java&amp;oq=list+convert+to+array+&amp;aqs=chrome.2.69i57j0i512l2j0i30j0i8i30j0i8i15i30j0i5i30j69i60.7300j0j1&amp;sourceid=chrome&amp;ie=UTF-8","body":"<a href=\"https://www.google.com/search?q=list+convert+to+array+java&amp;oq=list+convert+to+array+&amp;aqs=chrome.2.69i57j0i512l2j0i30j0i8i30j0i8i15i30j0i5i30j69i60.7300j0j1&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">google.com/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661153313,"post_id":73440808,"comment_id":129694912,"body_markdown":"By the way, your Consumer and Producer classes need new names. They are not threads, so putting &quot;Thread&quot; in their name is confusing. &quot;Task&quot; is one commonly used word for a `Runnable` or `Callable`. Also, I suggest learning about using the Executors framework and `ExecutorService` class to run your tasks rather than calling `new Thread`.","body":"By the way, your Consumer and Producer classes need new names. They are not threads, so putting &quot;Thread&quot; in their name is confusing. &quot;Task&quot; is one commonly used word for a <code>Runnable</code> or <code>Callable</code>. Also, I suggest learning about using the Executors framework and <code>ExecutorService</code> class to run your tasks rather than calling <code>new Thread</code>."}],"answers":[{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661154230,"creation_date":1661150533,"answer_id":73441079,"question_id":73440808,"body_markdown":"&gt; toArray() method convert any ArrayList to Array Objects -&gt; **Object[]**\r\n\r\n```java\r\nArrayList&lt;Integer&gt; queue = new ArrayList&lt;&gt;();\r\nqueue.add(23);\r\nqueue.add(6765);\r\nObject[] arrayQueue = queue.toArray();\r\nSystem.out.println(&quot;arrayList = &quot; + queue + &quot;\\n arrayNative = &quot;);\r\nArrays.stream(arrayQueue).forEach(System.out::println);\r\n```","title":"Convert from ArrayList&lt;Integer&gt; to Array in java","body":"<blockquote>\n<p>toArray() method convert any ArrayList to Array Objects -&gt; <strong>Object[]</strong></p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;Integer&gt; queue = new ArrayList&lt;&gt;();\nqueue.add(23);\nqueue.add(6765);\nObject[] arrayQueue = queue.toArray();\nSystem.out.println(&quot;arrayList = &quot; + queue + &quot;\\n arrayNative = &quot;);\nArrays.stream(arrayQueue).forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":26126312,"reputation":1,"user_id":19817683,"display_name":"Akalanka Nirwan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661153173,"answer_count":1,"score":0,"last_activity_date":1661154230,"creation_date":1661148493,"question_id":73440808,"body_markdown":"I should create Thread as **ProducerThread** and **ConsumerThread** those execute sequentially and put elements to queue. In this implementation I used ArrayList.\r\n\r\nHow might I convert an ArrayList&lt;Integer&gt; object  to integer Array in java.\r\n\r\n**This is my ConsumerThread class.**\r\n\r\n    import java.util.ArrayList;\r\n    public class ConsumerThread implements Runnable {\r\n    \tArrayList&lt;Integer&gt; queue = new ArrayList&lt;Integer&gt;();\r\n    \r\n    public ConsumerThread(ArrayList&lt;Integer&gt; queue) {\r\n    \tthis.queue = queue;\r\n    }\r\n    \r\n    @Override\r\n    public void run() {\r\n    \tsynchronized(queue) {\r\n    \t\tint value;\r\n    \t\twhile(true) {\r\n    \t\t\ttry {\r\n    \t\t\t\tqueue.wait();\r\n    \t\t\t\tSystem.out.println(&quot;Consumer Started&quot;);\r\n    \t\t\t\tvalue = queue.remove(0);\r\n    \t\t\t\tSystem.out.println(&quot;Consumer thread consumes &quot; + value);\r\n    \t\t\t\tSystem.out.println(&quot;Elements in Queue = &quot; + queue);\r\n    \t\t\t\tThread.sleep(1000);\r\n    \t\t\t\tqueue.notify();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t}\r\n    \r\n    }\r\n\r\n**This is my ProducerThread class.**\r\n\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class ProducerThread implements Runnable {\r\n    \tArrayList&lt;Integer&gt; queue = new ArrayList&lt;Integer&gt;();\r\n    \t\r\n    \tpublic ProducerThread(ArrayList&lt;Integer&gt; queue) {\r\n    \t\tthis.queue = queue;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tsynchronized(queue) {\r\n    \t\t\tint value = 10;\r\n    \t\t\twhile(true) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tqueue.notify();\r\n    \t\t\t\t\tSystem.out.println(&quot;Producer Started&quot;);\r\n    \t\t\t\t\tSystem.out.println(&quot;Producer adding value = &quot; + value + &quot; to Queue&quot;);\r\n    \t\t\t\t\tqueue.add(value);\r\n    \t\t\t\t\tvalue = value + 10;\r\n    \t\t\t\t\t//Thread.sleep(1000);\r\n    \t\t\t\t\tqueue.wait();\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n**This is my main class.**\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class ThreadTest {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tArrayList&lt;Integer&gt; queue = new ArrayList&lt;Integer&gt;();\r\n    \t\tThread producer = new Thread(new ProducerThread(queue));\r\n    \t\tThread consumer = new Thread(new ConsumerThread(queue));\r\n    \t\t\r\n    \t\tproducer.start();\r\n    \t\tconsumer.start();\r\n    \t\tSystem.out.println(&quot;Starting&quot;);\r\n    \t}\r\n    }","title":"Convert from ArrayList&lt;Integer&gt; to Array in java","body":"<p>I should create Thread as <strong>ProducerThread</strong> and <strong>ConsumerThread</strong> those execute sequentially and put elements to queue. In this implementation I used ArrayList.</p>\n<p>How might I convert an ArrayList object  to integer Array in java.</p>\n<p><strong>This is my ConsumerThread class.</strong></p>\n<pre><code>import java.util.ArrayList;\npublic class ConsumerThread implements Runnable {\n    ArrayList&lt;Integer&gt; queue = new ArrayList&lt;Integer&gt;();\n\npublic ConsumerThread(ArrayList&lt;Integer&gt; queue) {\n    this.queue = queue;\n}\n\n@Override\npublic void run() {\n    synchronized(queue) {\n        int value;\n        while(true) {\n            try {\n                queue.wait();\n                System.out.println(&quot;Consumer Started&quot;);\n                value = queue.remove(0);\n                System.out.println(&quot;Consumer thread consumes &quot; + value);\n                System.out.println(&quot;Elements in Queue = &quot; + queue);\n                Thread.sleep(1000);\n                queue.notify();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    }\n\n}\n</code></pre>\n<p><strong>This is my ProducerThread class.</strong></p>\n<pre><code>import java.util.ArrayList;\n\npublic class ProducerThread implements Runnable {\n    ArrayList&lt;Integer&gt; queue = new ArrayList&lt;Integer&gt;();\n    \n    public ProducerThread(ArrayList&lt;Integer&gt; queue) {\n        this.queue = queue;\n    }\n\n    @Override\n    public void run() {\n        synchronized(queue) {\n            int value = 10;\n            while(true) {\n                try {\n                    queue.notify();\n                    System.out.println(&quot;Producer Started&quot;);\n                    System.out.println(&quot;Producer adding value = &quot; + value + &quot; to Queue&quot;);\n                    queue.add(value);\n                    value = value + 10;\n                    //Thread.sleep(1000);\n                    queue.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p><strong>This is my main class.</strong></p>\n<pre><code>import java.util.ArrayList;\n\npublic class ThreadTest {\n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; queue = new ArrayList&lt;Integer&gt;();\n        Thread producer = new Thread(new ProducerThread(queue));\n        Thread consumer = new Thread(new ConsumerThread(queue));\n        \n        producer.start();\n        consumer.start();\n        System.out.println(&quot;Starting&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","jmeter"],"answers":[{"tags":[],"owner":{"account_id":1054217,"reputation":8986,"user_id":1057291,"accept_rate":80,"display_name":"namalfernandolk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1488968464,"creation_date":1488968464,"answer_id":42668616,"question_id":42469777,"body_markdown":"One approach would be creating a custome class like `ResultCollector` (in my case this is `JmeterOutListener.java`) and collect the values from there since you have the access them. You can do whatever you want in the `sampleOccurred` method in there. \r\n\r\nYou can decode the `ResultCollector` class and see it&#39;s functioanlity further. \r\n\r\n**JMeterTestFromCode.java**\r\n\r\n    public class JMeterTestFromCode {\r\n    \r\n        public static void main(String[] args) throws Exception{\r\n        \t\r\n        \t String jmeterHome1 = &quot;/rezsystem/apache-jmeter-2.11/apache-jmeter-2.11&quot;;\r\n             File jmeterHome=new File(jmeterHome1);\r\n             String slash = System.getProperty(&quot;file.separator&quot;);\r\n    \r\n             if (jmeterHome.exists()) {\r\n                 File jmeterProperties = new File(jmeterHome.getPath() + slash + &quot;bin&quot; + slash + &quot;jmeter.properties&quot;);\r\n                 if (jmeterProperties.exists()) {\r\n                     //JMeter Engine\r\n                     StandardJMeterEngine jmeter = new StandardJMeterEngine();\r\n    \r\n                     //JMeter initialization (properties, log levels, locale, etc)\r\n                     JMeterUtils.setJMeterHome(jmeterHome.getPath());\r\n                     JMeterUtils.loadJMeterProperties(jmeterProperties.getPath());\r\n                     JMeterUtils.initLogging();// you can comment this line out to see extra log messages of i.e. DEBUG level\r\n                     JMeterUtils.initLocale();\r\n    \r\n                     // JMeter Test Plan, basically JOrphan HashTree\r\n                     HashTree testPlanTree = new HashTree();     \r\n    \r\n                     // HTTP Sampler\r\n                     HTTPSampler httpSampler = new HTTPSampler();\r\n                     httpSampler.setDomain(&quot;www.google.com&quot;);\r\n                     httpSampler.setPort(80);\r\n                     httpSampler.setPath(&quot;/&quot;);\r\n                     httpSampler.setMethod(&quot;GET&quot;);\r\n    \r\n                     // Loop Controller\r\n                     TestElement loopCtrl = new LoopController();\r\n                     ((LoopController)loopCtrl).setLoops(1);\r\n                     ((LoopController)loopCtrl).addTestElement(httpSampler);\r\n                     ((LoopController)loopCtrl).setFirst(true);\r\n    \r\n                     // Thread Group\r\n                     SetupThreadGroup threadGroup = new SetupThreadGroup();\r\n                     threadGroup.setNumThreads(1);\r\n                     threadGroup.setRampUp(1);\r\n                     threadGroup.setSamplerController((LoopController)loopCtrl);\r\n    \r\n                     // Test plan\r\n                     TestPlan testPlan = new TestPlan(&quot;MY TEST PLAN&quot;);\r\n    \r\n                     testPlanTree.add(&quot;testPlan&quot;, testPlan);\r\n                     testPlanTree.add(&quot;loopCtrl&quot;, loopCtrl);\r\n                     testPlanTree.add(&quot;threadGroup&quot;, threadGroup);\r\n                     testPlanTree.add(&quot;httpSampler&quot;, httpSampler);     \r\n    \r\n                     JmeterOutListener jmeterOutListener = new JmeterOutListener();\r\n                     testPlanTree.add(testPlanTree.getArray()[0], jmeterOutListener);\r\n    \r\n                     // Run Test Plan\r\n                     jmeter.configure(testPlanTree);\r\n                     jmeter.run();\r\n                    \r\n                     System.exit(0);\r\n    \r\n                 }\r\n             }\r\n    \r\n             System.err.println(&quot;jmeter.home property is not set or pointing to incorrect location&quot;);\r\n             System.exit(1);   \t\r\n    \r\n        }\r\n    }\r\n\r\n\r\n**JmeterOutListener.java**\r\n\r\n    public class JmeterOutListener extends AbstractListenerElement implements SampleListener,Clearable,Serializable,TestListener,Remoteable,NoThreadClone{\r\n    \r\n    \tpublic JmeterOutListener() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void testEnded() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void testEnded(String arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void testStarted() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void testStarted(String arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void testIterationStart(LoopIterationEvent arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void clearData() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void sampleOccurred(SampleEvent event) {\r\n    \r\n    \t\tSampleResult sample = event.getResult();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getTimeStamp() : &quot; + sample.getTimeStamp());\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getTime() : &quot; + sample.getTime());\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getSampleLabel() : &quot; + sample.getSampleLabel());\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getResponseCode() : &quot; + sample.getResponseCode());\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getResponseMessage() : &quot; + sample.getResponseMessage());\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getThreadName() : &quot; + sample.getThreadName());\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.isSuccessful() : &quot; + sample.isSuccessful());\r\n    \r\n    \t\tString \t\t\t\tmessage \t\t\t= null;\r\n    \t\tAssertionResult[] \tresults \t\t\t= sample.getAssertionResults();\r\n    \t\tif (results != null)\r\n    \t\t{\r\n    \t\t\tfor (int i = 0; i &lt; results.length; ++i) {\r\n    \t\t\t\tmessage = results[i].getFailureMessage();\r\n    \t\t\t\tSystem.out.println(&quot;sampleOccurred().message : &quot; + message);\r\n    \t\t\t\tif (message != null) {\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getBytes() : &quot; + sample.getBytes());\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getGroupThreads() : &quot; + sample.getGroupThreads());\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getAllThreads() : &quot; + sample.getAllThreads());\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getURL() : &quot; + sample.getURL());\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getLatency() : &quot; + sample.getLatency());\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getDataEncodingWithDefault() : &quot; + sample.getDataEncodingWithDefault());\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getSampleCount() : &quot; + sample.getSampleCount());\r\n    \t\tSystem.out.println(&quot;sampleOccurred().sample.getErrorCount() : &quot; + sample.getErrorCount());\r\n    \r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void sampleStarted(SampleEvent arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void sampleStopped(SampleEvent arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \r\n    }","title":"Get aggregate summary values after running JMeter load test from java code","body":"<p>One approach would be creating a custome class like <code>ResultCollector</code> (in my case this is <code>JmeterOutListener.java</code>) and collect the values from there since you have the access them. You can do whatever you want in the <code>sampleOccurred</code> method in there. </p>\n\n<p>You can decode the <code>ResultCollector</code> class and see it's functioanlity further. </p>\n\n<p><strong>JMeterTestFromCode.java</strong></p>\n\n<pre><code>public class JMeterTestFromCode {\n\n    public static void main(String[] args) throws Exception{\n\n         String jmeterHome1 = \"/rezsystem/apache-jmeter-2.11/apache-jmeter-2.11\";\n         File jmeterHome=new File(jmeterHome1);\n         String slash = System.getProperty(\"file.separator\");\n\n         if (jmeterHome.exists()) {\n             File jmeterProperties = new File(jmeterHome.getPath() + slash + \"bin\" + slash + \"jmeter.properties\");\n             if (jmeterProperties.exists()) {\n                 //JMeter Engine\n                 StandardJMeterEngine jmeter = new StandardJMeterEngine();\n\n                 //JMeter initialization (properties, log levels, locale, etc)\n                 JMeterUtils.setJMeterHome(jmeterHome.getPath());\n                 JMeterUtils.loadJMeterProperties(jmeterProperties.getPath());\n                 JMeterUtils.initLogging();// you can comment this line out to see extra log messages of i.e. DEBUG level\n                 JMeterUtils.initLocale();\n\n                 // JMeter Test Plan, basically JOrphan HashTree\n                 HashTree testPlanTree = new HashTree();     \n\n                 // HTTP Sampler\n                 HTTPSampler httpSampler = new HTTPSampler();\n                 httpSampler.setDomain(\"www.google.com\");\n                 httpSampler.setPort(80);\n                 httpSampler.setPath(\"/\");\n                 httpSampler.setMethod(\"GET\");\n\n                 // Loop Controller\n                 TestElement loopCtrl = new LoopController();\n                 ((LoopController)loopCtrl).setLoops(1);\n                 ((LoopController)loopCtrl).addTestElement(httpSampler);\n                 ((LoopController)loopCtrl).setFirst(true);\n\n                 // Thread Group\n                 SetupThreadGroup threadGroup = new SetupThreadGroup();\n                 threadGroup.setNumThreads(1);\n                 threadGroup.setRampUp(1);\n                 threadGroup.setSamplerController((LoopController)loopCtrl);\n\n                 // Test plan\n                 TestPlan testPlan = new TestPlan(\"MY TEST PLAN\");\n\n                 testPlanTree.add(\"testPlan\", testPlan);\n                 testPlanTree.add(\"loopCtrl\", loopCtrl);\n                 testPlanTree.add(\"threadGroup\", threadGroup);\n                 testPlanTree.add(\"httpSampler\", httpSampler);     \n\n                 JmeterOutListener jmeterOutListener = new JmeterOutListener();\n                 testPlanTree.add(testPlanTree.getArray()[0], jmeterOutListener);\n\n                 // Run Test Plan\n                 jmeter.configure(testPlanTree);\n                 jmeter.run();\n\n                 System.exit(0);\n\n             }\n         }\n\n         System.err.println(\"jmeter.home property is not set or pointing to incorrect location\");\n         System.exit(1);    \n\n    }\n}\n</code></pre>\n\n<p><strong>JmeterOutListener.java</strong></p>\n\n<pre><code>public class JmeterOutListener extends AbstractListenerElement implements SampleListener,Clearable,Serializable,TestListener,Remoteable,NoThreadClone{\n\n    public JmeterOutListener() {\n        // TODO Auto-generated constructor stub\n    }\n\n    @Override\n    public void testEnded() {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void testEnded(String arg0) {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void testStarted() {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void testStarted(String arg0) {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void testIterationStart(LoopIterationEvent arg0) {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void clearData() {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void sampleOccurred(SampleEvent event) {\n\n        SampleResult sample = event.getResult();\n\n        System.out.println(\"sampleOccurred().sample.getTimeStamp() : \" + sample.getTimeStamp());\n        System.out.println(\"sampleOccurred().sample.getTime() : \" + sample.getTime());\n        System.out.println(\"sampleOccurred().sample.getSampleLabel() : \" + sample.getSampleLabel());\n        System.out.println(\"sampleOccurred().sample.getResponseCode() : \" + sample.getResponseCode());\n        System.out.println(\"sampleOccurred().sample.getResponseMessage() : \" + sample.getResponseMessage());\n        System.out.println(\"sampleOccurred().sample.getThreadName() : \" + sample.getThreadName());\n        System.out.println(\"sampleOccurred().sample.isSuccessful() : \" + sample.isSuccessful());\n\n        String              message             = null;\n        AssertionResult[]   results             = sample.getAssertionResults();\n        if (results != null)\n        {\n            for (int i = 0; i &lt; results.length; ++i) {\n                message = results[i].getFailureMessage();\n                System.out.println(\"sampleOccurred().message : \" + message);\n                if (message != null) {\n                    break;\n                }\n            }\n        }\n\n        System.out.println(\"sampleOccurred().sample.getBytes() : \" + sample.getBytes());\n        System.out.println(\"sampleOccurred().sample.getGroupThreads() : \" + sample.getGroupThreads());\n        System.out.println(\"sampleOccurred().sample.getAllThreads() : \" + sample.getAllThreads());\n        System.out.println(\"sampleOccurred().sample.getURL() : \" + sample.getURL());\n        System.out.println(\"sampleOccurred().sample.getLatency() : \" + sample.getLatency());\n        System.out.println(\"sampleOccurred().sample.getDataEncodingWithDefault() : \" + sample.getDataEncodingWithDefault());\n        System.out.println(\"sampleOccurred().sample.getSampleCount() : \" + sample.getSampleCount());\n        System.out.println(\"sampleOccurred().sample.getErrorCount() : \" + sample.getErrorCount());\n\n    }\n\n    @Override\n    public void sampleStarted(SampleEvent arg0) {\n        // TODO Auto-generated method stub\n    }\n\n    @Override\n    public void sampleStopped(SampleEvent arg0) {\n        // TODO Auto-generated method stub\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7528812,"reputation":313,"user_id":7625486,"display_name":"Chathuri Buddika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":42668616,"answer_count":1,"score":3,"last_activity_date":1661153750,"creation_date":1488119636,"question_id":42469777,"body_markdown":"I&#39;m running a JMeter load test from a java application with following code.\r\n\r\n    StandardJMeterEngine jmeter = new StandardJMeterEngine();\r\n    \r\n    JMeterUtils.setJMeterHome(jmeterHome);\r\n    JMeterUtils.loadJMeterProperties(jmeterProperties);\r\n    JMeterUtils.initLogging();\r\n    JMeterUtils.initLocale();\r\n    \r\n    HTTPSampler httpSampler = new HTTPSampler();\r\n    httpSampler.setDomain(host);\r\n    httpSampler.setPort(port);\r\n    httpSampler.setPath(path);\r\n    httpSampler.setMethod(&quot;GET&quot;);\r\n    httpSampler.setName(&quot;load test&quot;);\r\n    \r\n    LoopController loopController = new LoopController();\r\n    loopController.setLoops(1);\r\n    loopController.setFirst(true);\r\n    loopController.initialize();\r\n    \r\n    ThreadGroup threadGroup = new ThreadGroup();\r\n    threadGroup.setName(&quot;Sample Thread Group&quot;);\r\n    threadGroup.setNumThreads(userCount);\r\n    threadGroup.setRampUp(1);\r\n    threadGroup.setSamplerController(loopController);\r\n    \r\n    HashTree testPlanTree = new HashTree();\r\n    TestPlan testPlan = new TestPlan(&quot;load test&quot;);\r\n    testPlanTree.add(testPlan);\r\n    HashTree threadGroupHashTree = testPlanTree.add(testPlan, threadGroup);\r\n    threadGroupHashTree.add(httpSampler);\r\n    \r\n    jmeter.configure(testPlanTree);\r\n    jmeter.run();\r\n\r\nAfter running this script I want to get the aggregate summary values like average latency. I know the summary report can be logged in to a csv file and then I can calculate average latency by reading that file again. But I just want to know is there any way to get that aggregate values without writing and reading a csv file?\r\n\r\nI have already referred following articles and several related questions here.\r\n\r\nhttps://www.blazemeter.com/blog/5-ways-launch-jmeter-test-without-using-jmeter-gui\r\nhttp://uttesh.blogspot.com/2015/04/jmeter-load-testing-by-code-jmeter-api.html\r\n  ","title":"Get aggregate summary values after running JMeter load test from java code","body":"<p>I'm running a JMeter load test from a java application with following code.</p>\n\n<pre><code>StandardJMeterEngine jmeter = new StandardJMeterEngine();\n\nJMeterUtils.setJMeterHome(jmeterHome);\nJMeterUtils.loadJMeterProperties(jmeterProperties);\nJMeterUtils.initLogging();\nJMeterUtils.initLocale();\n\nHTTPSampler httpSampler = new HTTPSampler();\nhttpSampler.setDomain(host);\nhttpSampler.setPort(port);\nhttpSampler.setPath(path);\nhttpSampler.setMethod(\"GET\");\nhttpSampler.setName(\"load test\");\n\nLoopController loopController = new LoopController();\nloopController.setLoops(1);\nloopController.setFirst(true);\nloopController.initialize();\n\nThreadGroup threadGroup = new ThreadGroup();\nthreadGroup.setName(\"Sample Thread Group\");\nthreadGroup.setNumThreads(userCount);\nthreadGroup.setRampUp(1);\nthreadGroup.setSamplerController(loopController);\n\nHashTree testPlanTree = new HashTree();\nTestPlan testPlan = new TestPlan(\"load test\");\ntestPlanTree.add(testPlan);\nHashTree threadGroupHashTree = testPlanTree.add(testPlan, threadGroup);\nthreadGroupHashTree.add(httpSampler);\n\njmeter.configure(testPlanTree);\njmeter.run();\n</code></pre>\n\n<p>After running this script I want to get the aggregate summary values like average latency. I know the summary report can be logged in to a csv file and then I can calculate average latency by reading that file again. But I just want to know is there any way to get that aggregate values without writing and reading a csv file?</p>\n\n<p>I have already referred following articles and several related questions here.</p>\n\n<p><a href=\"https://www.blazemeter.com/blog/5-ways-launch-jmeter-test-without-using-jmeter-gui\" rel=\"nofollow noreferrer\">https://www.blazemeter.com/blog/5-ways-launch-jmeter-test-without-using-jmeter-gui</a>\n<a href=\"http://uttesh.blogspot.com/2015/04/jmeter-load-testing-by-code-jmeter-api.html\" rel=\"nofollow noreferrer\">http://uttesh.blogspot.com/2015/04/jmeter-load-testing-by-code-jmeter-api.html</a></p>\n"},{"tags":["java","option-type","record","java-17"],"comments":[{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1661026513,"post_id":73424610,"comment_id":129674735,"body_markdown":"Almost surely because the warning didn&#39;t get added when records got added.","body":"Almost surely because the warning didn&#39;t get added when records got added."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1661153747,"creation_date":1660982389,"answer_id":73425004,"question_id":73424610,"body_markdown":"I would **not** attempt to explain why the current version of IntelliJ doesn&#39;t issue a warning for a record having optional fields (that&#39;s a question for developers of the IDE).\r\n\r\nIn this post, I&#39;m addressing the question regarding recommended practices of using `Optional`, in particular with Java 16 Records.\r\n\r\n&gt; Does the practice of not using `Optional&lt;T&gt;` types as *parameters/fields* not apply to **record** parameters\r\n\r\nFirstly, `Optional` is not intended to be used as a field type, for that reason `Optional` doesn&#39;t implement `Serializable` ([*see*](https://stackoverflow.com/a/24564612/17949945)). Secondly, records are data-carriers, their fields are `final`. Hence, if a record gets initialized with optionals that are empty, they would stay empty throughout all its time-span.\r\n\r\n&lt;h1&gt;Usage of Optional&lt;/h1&gt;\r\n\r\nHere&#39;s a quote from the [*answer*](https://stackoverflow.com/a/34458582/17949945) by *@StuartMarks*, Java and OpenJDK developer, regarding what `Optional` is meant to be used for:\r\n\r\n&gt; The ***primary use*** of `Optional` is as follows: \r\n&gt; \r\n&gt; Optional is intended to\r\n&gt; provide a ***limited mechanism*** for library ***method return types*** where\r\n&gt; there is a clear need to represent &quot;no result,&quot; and where using null\r\n&gt; for that is overwhelmingly likely to cause errors.\r\n\r\nThe only valid usage for Optional is returning it from a method where it was originated. And the caller should immediately unpack the optional (API offers plenty of methods for that). But if you&#39;re passing the optional object around and storing it somewhere, then what you&#39;re doing isn&#39;t a good practice.\r\n\r\n&lt;h1&gt;Optional is not meant for&lt;/h1&gt; \r\n\r\nOptional is **not meant** to be used:\r\n* As a field type;\r\n* As a type of the method parameter;\r\n* To be stored in a `Collection`;\r\n* Or utilized to perform *null-checks*. Substituting explicit *null-check* with `Optional.ofNullable()` is an antipattern.\r\n\r\nHere&#39;s a quote from the answer by *@Brian Goetz*, Java Language Architect\r\n([*Should Java 8 getters return optional type?*](https://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type/26328555#26328555)):\r\n\r\n&gt; Of course, people will do what they want...\r\n&gt; \r\n&gt; For example, you probably should never use it for something that\r\n&gt; returns an array of results, or a list of results; instead return an\r\n&gt; empty array or list. You should almost **never use** it as a **field**\r\n&gt; of something or a **method parameter**.\r\n\r\nAlso, have a look at this [*answer by StuartMarks*](https://stackoverflow.com/questions/23454952/uses-for-optional/23464794#23464794), here&#39;s a small quote:\r\n\r\n&gt; having an `Optional` in a **class field** or in a data structure, is considered a **misuse of the API**. First, it goes against the main design goal of Optional as stated at the top. Second, it doesn&#39;t add any value.\r\n\r\n&lt;h1&gt;Records are Transparent carriers for Immutable data&lt;/h1&gt;\r\n\r\nAn object with Optional fields forces the one who deals with it always take into consideration that the object obtained via a getter isn&#39;t a value, but ***potentially empty optional***, which might throw ` NoSuchElementException` if you blindly invoke `get()` on it.\r\n\r\nAlso, having fields of Optional type in a Record is in contradiction with the general concept of Records.\r\n\r\nHere&#39;s a definition of *Record* from the [*JEP 395*](https://openjdk.java.net/jeps/395):\r\n\r\n&gt; **records**, which are classes that act as **transparent carriers for immutable data**. Records can be thought of as nominal tuples.\r\n\r\nA record with Optional fields is no longer **transparent**, because we&#39;re not able to get a value directly from it via accessor method.\r\n\r\nSince record fields are **immutable**, it doesn&#39;t make sense to store potentially empty optionals as record properties, it almost the same as storing *null-references*. Because fields in a record can&#39;t be changed, an empty optional will remain empty, and some of your tuples might not contain useful data at all.\r\n\r\nThere&#39;s no advantage in passing around optionals, storing them inside records in order to find out at a later point in time that they don&#39;t contain the actual data.\r\n\r\nInstead, you have to extract a *value* (if present) from an Optional object obtained from somewhere right on the spot before creating a record.  \r\n","title":"Optional&lt;T&gt; as a Record Parameter in Java","body":"<p>I would <strong>not</strong> attempt to explain why the current version of IntelliJ doesn't issue a warning for a record having optional fields (that's a question for developers of the IDE).</p>\n<p>In this post, I'm addressing the question regarding recommended practices of using <code>Optional</code>, in particular with Java 16 Records.</p>\n<blockquote>\n<p>Does the practice of not using <code>Optional&lt;T&gt;</code> types as <em>parameters/fields</em> not apply to <strong>record</strong> parameters</p>\n</blockquote>\n<p>Firstly, <code>Optional</code> is not intended to be used as a field type, for that reason <code>Optional</code> doesn't implement <code>Serializable</code> (<a href=\"https://stackoverflow.com/a/24564612/17949945\"><em>see</em></a>). Secondly, records are data-carriers, their fields are <code>final</code>. Hence, if a record gets initialized with optionals that are empty, they would stay empty throughout all its time-span.</p>\n<h1>Usage of Optional</h1>\n<p>Here's a quote from the <a href=\"https://stackoverflow.com/a/34458582/17949945\"><em>answer</em></a> by <em>@StuartMarks</em>, Java and OpenJDK developer, regarding what <code>Optional</code> is meant to be used for:</p>\n<blockquote>\n<p>The <em><strong>primary use</strong></em> of <code>Optional</code> is as follows:</p>\n<p>Optional is intended to\nprovide a <em><strong>limited mechanism</strong></em> for library <em><strong>method return types</strong></em> where\nthere is a clear need to represent &quot;no result,&quot; and where using null\nfor that is overwhelmingly likely to cause errors.</p>\n</blockquote>\n<p>The only valid usage for Optional is returning it from a method where it was originated. And the caller should immediately unpack the optional (API offers plenty of methods for that). But if you're passing the optional object around and storing it somewhere, then what you're doing isn't a good practice.</p>\n<h1>Optional is not meant for</h1> \n<p>Optional is <strong>not meant</strong> to be used:</p>\n<ul>\n<li>As a field type;</li>\n<li>As a type of the method parameter;</li>\n<li>To be stored in a <code>Collection</code>;</li>\n<li>Or utilized to perform <em>null-checks</em>. Substituting explicit <em>null-check</em> with <code>Optional.ofNullable()</code> is an antipattern.</li>\n</ul>\n<p>Here's a quote from the answer by <em>@Brian Goetz</em>, Java Language Architect\n(<a href=\"https://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type/26328555#26328555\"><em>Should Java 8 getters return optional type?</em></a>):</p>\n<blockquote>\n<p>Of course, people will do what they want...</p>\n<p>For example, you probably should never use it for something that\nreturns an array of results, or a list of results; instead return an\nempty array or list. You should almost <strong>never use</strong> it as a <strong>field</strong>\nof something or a <strong>method parameter</strong>.</p>\n</blockquote>\n<p>Also, have a look at this <a href=\"https://stackoverflow.com/questions/23454952/uses-for-optional/23464794#23464794\"><em>answer by StuartMarks</em></a>, here's a small quote:</p>\n<blockquote>\n<p>having an <code>Optional</code> in a <strong>class field</strong> or in a data structure, is considered a <strong>misuse of the API</strong>. First, it goes against the main design goal of Optional as stated at the top. Second, it doesn't add any value.</p>\n</blockquote>\n<h1>Records are Transparent carriers for Immutable data</h1>\n<p>An object with Optional fields forces the one who deals with it always take into consideration that the object obtained via a getter isn't a value, but <em><strong>potentially empty optional</strong></em>, which might throw <code> NoSuchElementException</code> if you blindly invoke <code>get()</code> on it.</p>\n<p>Also, having fields of Optional type in a Record is in contradiction with the general concept of Records.</p>\n<p>Here's a definition of <em>Record</em> from the <a href=\"https://openjdk.java.net/jeps/395\" rel=\"noreferrer\"><em>JEP 395</em></a>:</p>\n<blockquote>\n<p><strong>records</strong>, which are classes that act as <strong>transparent carriers for immutable data</strong>. Records can be thought of as nominal tuples.</p>\n</blockquote>\n<p>A record with Optional fields is no longer <strong>transparent</strong>, because we're not able to get a value directly from it via accessor method.</p>\n<p>Since record fields are <strong>immutable</strong>, it doesn't make sense to store potentially empty optionals as record properties, it almost the same as storing <em>null-references</em>. Because fields in a record can't be changed, an empty optional will remain empty, and some of your tuples might not contain useful data at all.</p>\n<p>There's no advantage in passing around optionals, storing them inside records in order to find out at a later point in time that they don't contain the actual data.</p>\n<p>Instead, you have to extract a <em>value</em> (if present) from an Optional object obtained from somewhere right on the spot before creating a record.</p>\n"}],"owner":{"account_id":15875847,"reputation":4479,"user_id":11455105,"display_name":"Amal K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4031,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":73425004,"answer_count":1,"score":7,"last_activity_date":1661153747,"creation_date":1660977769,"question_id":73424610,"body_markdown":"The `Optional&lt;T&gt;` type introduced in Java 8 is mostly recommended to be used for return types and results. Hence, whenever I use it in a class field or a method parameter, I get a warning in IntelliJ:\r\n\r\n&gt;`Optional&lt;?&gt;` used as type for field / parameter.\r\n\r\nHowever, I do not get this warning when I use an `Optional&lt;T&gt;` as a record parameter in the canonical constructor:\r\n```\r\npublic record AuthenticationResult(\r\n    boolean isAuthenticated,\r\n    Optional&lt;User&gt; user,\r\n    Optional&lt;String&gt; authorizationHeader)\r\n{ } \r\n```\r\nDoes the practice of not using `Optional&lt;T&gt;` types as parameters/fields not apply to record parameters because the field will always be accessed as a return value of the autogenerated getter method of the record?\r\n\r\nOr is it because records are a new feature and this warning is yet to be implemented, and using an optional parameter in records has the same consequences as when used as a method parameter or field? \r\n","title":"Optional&lt;T&gt; as a Record Parameter in Java","body":"<p>The <code>Optional&lt;T&gt;</code> type introduced in Java 8 is mostly recommended to be used for return types and results. Hence, whenever I use it in a class field or a method parameter, I get a warning in IntelliJ:</p>\n<blockquote>\n<p><code>Optional&lt;?&gt;</code> used as type for field / parameter.</p>\n</blockquote>\n<p>However, I do not get this warning when I use an <code>Optional&lt;T&gt;</code> as a record parameter in the canonical constructor:</p>\n<pre><code>public record AuthenticationResult(\n    boolean isAuthenticated,\n    Optional&lt;User&gt; user,\n    Optional&lt;String&gt; authorizationHeader)\n{ } \n</code></pre>\n<p>Does the practice of not using <code>Optional&lt;T&gt;</code> types as parameters/fields not apply to record parameters because the field will always be accessed as a return value of the autogenerated getter method of the record?</p>\n<p>Or is it because records are a new feature and this warning is yet to be implemented, and using an optional parameter in records has the same consequences as when used as a method parameter or field?</p>\n"},{"tags":["java","visual-studio-code","prettier","reorganize"],"comments":[{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1627656187,"post_id":68592336,"comment_id":121222255,"body_markdown":"What you are looking for is called &quot;formatting&quot;.","body":"What you are looking for is called &quot;formatting&quot;."},{"owner":{"account_id":5203610,"reputation":183,"user_id":4162265,"display_name":"Bestname"},"score":1,"creation_date":1627774788,"post_id":68592336,"comment_id":121246532,"body_markdown":"I tried to make it pretty clear :D No, formatting typically just aligns everything and puts everything into a neat visual shape. It has nothing to do with reorganizing the symbolic members of a java class. You could place it under the umbrella term &quot;formatting&quot; but if you think about it, that encompasses a lot more of what I&#39;ve asked for. Furthermore, most formatting procedures don&#39;t exactly do what I described. They just align things but don&#39;t rearange things.","body":"I tried to make it pretty clear :D No, formatting typically just aligns everything and puts everything into a neat visual shape. It has nothing to do with reorganizing the symbolic members of a java class. You could place it under the umbrella term &quot;formatting&quot; but if you think about it, that encompasses a lot more of what I&#39;ve asked for. Furthermore, most formatting procedures don&#39;t exactly do what I described. They just align things but don&#39;t rearange things."},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1627868978,"post_id":68592336,"comment_id":121263046,"body_markdown":"Please file a report to describe your feature request in [vscode-java](https://github.com/redhat-developer/vscode-java).","body":"Please file a report to describe your feature request in <a href=\"https://github.com/redhat-developer/vscode-java\" rel=\"nofollow noreferrer\">vscode-java</a>."},{"owner":{"account_id":5203610,"reputation":183,"user_id":4162265,"display_name":"Bestname"},"score":0,"creation_date":1627872792,"post_id":68592336,"comment_id":121263509,"body_markdown":"AFAIK there was a feature request already. They set that use-case would rather fit an extension.","body":"AFAIK there was a feature request already. They set that use-case would rather fit an extension."},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1627874607,"post_id":68592336,"comment_id":121263727,"body_markdown":"@Bestname. Can you share the feature link?","body":"@Bestname. Can you share the feature link?"},{"owner":{"account_id":22420945,"reputation":1,"user_id":16819455,"display_name":"user7656"},"score":0,"creation_date":1630636541,"post_id":68592336,"comment_id":122016651,"body_markdown":"On Windows: Shift + Alt + F According to this post: https://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode","body":"On Windows: Shift + Alt + F According to this post: <a href=\"https://stackoverflow.com/questions/29973357/how-do-you-format-code-in-visual-studio-code-vscode\" title=\"how do you format code in visual studio code vscode\">stackoverflow.com/questions/29973357/&hellip;</a>"},{"owner":{"account_id":1930435,"reputation":1171,"user_id":1739931,"accept_rate":75,"display_name":"THBBFT"},"score":0,"creation_date":1641869190,"post_id":68592336,"comment_id":124914498,"body_markdown":"@Bestname - did you find anything?  In the 500lb gorilla that is Visual Studio there is an extension called [CodeMaid](https://www.codemaid.net/) that does this sort of thing.  I cannot find one for VSCode ... maybe I&#39;ll port the CodeMaid over ... in my spare time.","body":"@Bestname - did you find anything?  In the 500lb gorilla that is Visual Studio there is an extension called <a href=\"https://www.codemaid.net/\" rel=\"nofollow noreferrer\">CodeMaid</a> that does this sort of thing.  I cannot find one for VSCode ... maybe I&#39;ll port the CodeMaid over ... in my spare time."}],"owner":{"account_id":5203610,"reputation":183,"user_id":4162265,"display_name":"Bestname"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":944,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1661153671,"creation_date":1627654073,"question_id":68592336,"body_markdown":"How can I rearrange the code in a .java file in visual studio code? For example inside a Class, I want it to automatically put static variables at the top, then attributes, then methods, etc.\r\n\r\nI tried to google &quot;vscode rearrange code&quot; but it always points to Prettier, which does NOT do that.\r\n\r\nThere might not be a native feature in vs code. However, I know that IntelliJ (Java) definitely has an option to do that. So I wondered if anyone has created an extension which I could use.\r\n\r\nAlso, just to clarify further, I&#39;m not talking about rearranging imports. \r\n\r\nEDIT: I don&#39;t mean formatting. I am talking about rearranging the code.","title":"visual studio code: How to rearrange and sort class members in java code","body":"<p>How can I rearrange the code in a .java file in visual studio code? For example inside a Class, I want it to automatically put static variables at the top, then attributes, then methods, etc.</p>\n<p>I tried to google &quot;vscode rearrange code&quot; but it always points to Prettier, which does NOT do that.</p>\n<p>There might not be a native feature in vs code. However, I know that IntelliJ (Java) definitely has an option to do that. So I wondered if anyone has created an extension which I could use.</p>\n<p>Also, just to clarify further, I'm not talking about rearranging imports.</p>\n<p>EDIT: I don't mean formatting. I am talking about rearranging the code.</p>\n"},{"tags":["java","spring","spring-boot","maven","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661149062,"post_id":73440098,"comment_id":129693792,"body_markdown":"Tomcat10 is JakartaEE not JavaEE. Use Tomcat 9.","body":"Tomcat10 is JakartaEE not JavaEE. Use Tomcat 9."}],"answers":[{"tags":[],"owner":{"account_id":14590652,"reputation":13,"user_id":10537893,"display_name":"JebediahKermin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661153291,"creation_date":1661153291,"answer_id":73441537,"question_id":73440098,"body_markdown":"Tomcat10 is JakartaEE not JavaEE. Use Tomcat 9. As stated by the person who commented to my post. This fixed my issues.","title":"Spring Boot Logo Does Not Show Up When I run Tomcat Startup.bat and 404 when trying to hit url","body":"<p>Tomcat10 is JakartaEE not JavaEE. Use Tomcat 9. As stated by the person who commented to my post. This fixed my issues.</p>\n"}],"owner":{"account_id":14590652,"reputation":13,"user_id":10537893,"display_name":"JebediahKermin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73441537,"answer_count":1,"score":0,"last_activity_date":1661153291,"creation_date":1661141015,"question_id":73440098,"body_markdown":"The IDE I am developing on is Intellij. \r\n\r\nI am trying to launch my spring project with an external version of tomcat. I have created the base of the project and did a &quot;mvn clean package&quot; command in the console to generate a war file. This is what is contained in my pom.xml.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.myName&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ResumeWebsite&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;ResumeWebsite&lt;/name&gt;\r\n\t&lt;description&gt;Website for containing personal projects&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;18&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;MyWebsite&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThe following screenshots are what I have in my classes as well as what tomcat displays in command prompt when running the batch file. \r\n\r\n[![ResumeWebsiteApplicationClass][1]][1]\r\n\r\n[![ServletInitializerClass][2]][2]\r\n\r\n[![TestControllerClass][3]][3]\r\n\r\n[![TomcatRunningScreenShot][4]][4]\r\n\r\nWhen I try to go to the route localhost:8080/MyWebsite/print I get a 404 error. I had then tried localhost:8080/print and still get a 404 error. \r\n[![404Request][5]][5]\r\n\r\nIn my server.xml file for my tomcat server this is what is shown for my Http and AJP connectors\r\n```\r\n    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n               connectionTimeout=&quot;20000&quot;\r\n               redirectPort=&quot;8443&quot; /&gt;\r\n\r\n    &lt;Connector protocol=&quot;AJP/1.3&quot;\r\n               address=&quot;::1&quot;\r\n               port=&quot;8009&quot;\r\n               redirectPort=&quot;8443&quot;\r\n\t\t\t   secretRequired=&quot;false&quot; /&gt;\r\n```\r\nThis is also what is contained in my webapps folder for my tomcat server.\r\n[![WebAppFolderScreenshot][6]][6] \r\n\r\nIf any more information is needed please feel free to ask. Thank you for your help. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1j4A9.png\r\n  [2]: https://i.stack.imgur.com/thgBo.png\r\n  [3]: https://i.stack.imgur.com/1pK1X.png\r\n  [4]: https://i.stack.imgur.com/9D3fA.png\r\n  [5]: https://i.stack.imgur.com/Vi9qX.png\r\n  [6]: https://i.stack.imgur.com/SJf2W.png","title":"Spring Boot Logo Does Not Show Up When I run Tomcat Startup.bat and 404 when trying to hit url","body":"<p>The IDE I am developing on is Intellij.</p>\n<p>I am trying to launch my spring project with an external version of tomcat. I have created the base of the project and did a &quot;mvn clean package&quot; command in the console to generate a war file. This is what is contained in my pom.xml.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.myName&lt;/groupId&gt;\n    &lt;artifactId&gt;ResumeWebsite&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;ResumeWebsite&lt;/name&gt;\n    &lt;description&gt;Website for containing personal projects&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;MyWebsite&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The following screenshots are what I have in my classes as well as what tomcat displays in command prompt when running the batch file.</p>\n<p><a href=\"https://i.stack.imgur.com/1j4A9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1j4A9.png\" alt=\"ResumeWebsiteApplicationClass\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/thgBo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/thgBo.png\" alt=\"ServletInitializerClass\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/1pK1X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1pK1X.png\" alt=\"TestControllerClass\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/9D3fA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9D3fA.png\" alt=\"TomcatRunningScreenShot\" /></a></p>\n<p>When I try to go to the route localhost:8080/MyWebsite/print I get a 404 error. I had then tried localhost:8080/print and still get a 404 error.\n<a href=\"https://i.stack.imgur.com/Vi9qX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vi9qX.png\" alt=\"404Request\" /></a></p>\n<p>In my server.xml file for my tomcat server this is what is shown for my Http and AJP connectors</p>\n<pre><code>    &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\n               connectionTimeout=&quot;20000&quot;\n               redirectPort=&quot;8443&quot; /&gt;\n\n    &lt;Connector protocol=&quot;AJP/1.3&quot;\n               address=&quot;::1&quot;\n               port=&quot;8009&quot;\n               redirectPort=&quot;8443&quot;\n               secretRequired=&quot;false&quot; /&gt;\n</code></pre>\n<p>This is also what is contained in my webapps folder for my tomcat server.\n<a href=\"https://i.stack.imgur.com/SJf2W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SJf2W.png\" alt=\"WebAppFolderScreenshot\" /></a></p>\n<p>If any more information is needed please feel free to ask. Thank you for your help.</p>\n"},{"tags":["java","oracle","arm","java-8"],"answers":[{"tags":[],"owner":{"account_id":2921741,"reputation":1002,"user_id":2503826,"accept_rate":32,"display_name":"nikhil mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395293481,"creation_date":1395293481,"answer_id":22524217,"question_id":22524149,"body_markdown":"Not sure but I think it ll help you   http://www.oracle.com/technetwork/java/embedded/downloads/javase/java-embedded-java-se-download-359230.html?ssSourceSiteId=ocomen","title":"Where to find JDK 8 for ARM","body":"<p>Not sure but I think it ll help you   <a href=\"http://www.oracle.com/technetwork/java/embedded/downloads/javase/java-embedded-java-se-download-359230.html?ssSourceSiteId=ocomen\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/embedded/downloads/javase/java-embedded-java-se-download-359230.html?ssSourceSiteId=ocomen</a></p>\n"},{"tags":[],"owner":{"account_id":207419,"reputation":1484,"user_id":457263,"accept_rate":89,"display_name":"ystan-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395293564,"creation_date":1395293564,"answer_id":22524239,"question_id":22524149,"body_markdown":"On the [download site][1], the filename is jdk-8-linux-arm-vfp-hflt.tar.gz. Try again?\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html","title":"Where to find JDK 8 for ARM","body":"<p>On the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow\">download site</a>, the filename is jdk-8-linux-arm-vfp-hflt.tar.gz. Try again?</p>\n"},{"tags":[],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661153120,"creation_date":1661153120,"answer_id":73441506,"question_id":22524149,"body_markdown":"The azul contains arm jdk support. you can try the https://www.azul.com/downloads/. Install the arm version using sdkman: https://sdkman.io/.","title":"Where to find JDK 8 for ARM","body":"<p>The azul contains arm jdk support. you can try the <a href=\"https://www.azul.com/downloads/\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/</a>. Install the arm version using sdkman: <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">https://sdkman.io/</a>.</p>\n"}],"owner":{"account_id":430692,"reputation":66,"user_id":814270,"display_name":"CowCaBob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5006,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1661153120,"creation_date":1395293124,"question_id":22524149,"body_markdown":"I went to the Oracle site to download the release JDK 8 for ARM and the version labeled as JDK 8 is actually JDK 7 update 40. Does anyone know where to find the JDK 8 for ARM or how to let Oracle know about the problem?","title":"Where to find JDK 8 for ARM","body":"<p>I went to the Oracle site to download the release JDK 8 for ARM and the version labeled as JDK 8 is actually JDK 7 update 40. Does anyone know where to find the JDK 8 for ARM or how to let Oracle know about the problem?</p>\n"},{"tags":["java","spring","etl","jsonpath","spring-cloud-dataflow"],"comments":[{"owner":{"account_id":10699863,"reputation":8001,"user_id":7875623,"display_name":"Kavithakaran Kanapathippillai"},"score":0,"creation_date":1594549354,"post_id":62602116,"comment_id":111159379,"body_markdown":"What version of `json-path` is being used?And also is there more stacktrace for the exception?","body":"What version of <code>json-path</code> is being used?And also is there more stacktrace for the exception?"},{"owner":{"account_id":356493,"reputation":1254,"user_id":696037,"accept_rate":0,"display_name":"davidmpaz"},"score":0,"creation_date":1656653007,"post_id":62602116,"comment_id":128629357,"body_markdown":"Could you try to filter your JSON file with other tool, for instance, jq (https://stedolan.github.io/jq/). And compare? Also, are you sure you are testing both solution with same dataset?","body":"Could you try to filter your JSON file with other tool, for instance, jq (<a href=\"https://stedolan.github.io/jq/\" rel=\"nofollow noreferrer\">stedolan.github.io/jq</a>). And compare? Also, are you sure you are testing both solution with same dataset?"}],"answers":[{"tags":[],"owner":{"account_id":23609658,"reputation":759,"user_id":17644863,"display_name":"Santanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661152855,"creation_date":1661151853,"answer_id":73441294,"question_id":62602116,"body_markdown":"This kind of solution can be used.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nThen the validation could be\r\n\r\n        DocumentContext documentContext = JsonPath.parse(messagePayload);\r\n        Map&lt;String, Object&gt; metadata = documentContext.read(&quot;$.metadata&quot;);\r\n\r\nImports are, for `DocumentContext` and `JsonPath`\r\n\r\n    import com.jayway.jsonpath.DocumentContext;\r\n    import com.jayway.jsonpath.JsonPath;\r\n\r\nNow for the true scenario\r\n\r\n    System.out.println(metadata);\r\n\r\nOutput will be: `{trigger-routing=1}`\r\n\r\nAnd for the false scenario\r\n\r\n    System.out.println(metadata);\r\n\r\nOutput will be: `{}`\r\n\r\n\r\nOther JSON Path syntaxes are - \r\n[https://support.smartbear.com/alertsite/docs/monitors/api/endpoint/jsonpath.html][1]\r\n\r\n\r\n  [1]: https://support.smartbear.com/alertsite/docs/monitors/api/endpoint/jsonpath.html","title":"JsonPath not working properly in Spring Cloud Data Flow filter component","body":"<p>This kind of solution can be used.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Then the validation could be</p>\n<pre><code>    DocumentContext documentContext = JsonPath.parse(messagePayload);\n    Map&lt;String, Object&gt; metadata = documentContext.read(&quot;$.metadata&quot;);\n</code></pre>\n<p>Imports are, for <code>DocumentContext</code> and <code>JsonPath</code></p>\n<pre><code>import com.jayway.jsonpath.DocumentContext;\nimport com.jayway.jsonpath.JsonPath;\n</code></pre>\n<p>Now for the true scenario</p>\n<pre><code>System.out.println(metadata);\n</code></pre>\n<p>Output will be: <code>{trigger-routing=1}</code></p>\n<p>And for the false scenario</p>\n<pre><code>System.out.println(metadata);\n</code></pre>\n<p>Output will be: <code>{}</code></p>\n<p>Other JSON Path syntaxes are -\n<a href=\"https://support.smartbear.com/alertsite/docs/monitors/api/endpoint/jsonpath.html\" rel=\"nofollow noreferrer\">https://support.smartbear.com/alertsite/docs/monitors/api/endpoint/jsonpath.html</a></p>\n"}],"owner":{"account_id":1987939,"reputation":505,"user_id":1782683,"accept_rate":32,"display_name":"J&#225;n SrniÄek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":722,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"answer_count":1,"score":15,"last_activity_date":1661152855,"creation_date":1593201930,"question_id":62602116,"body_markdown":"I&#39;m trying to write a simple SCDF flow that reads from Kafka, filters the messages by presence of specific value and pushes data into Mongo. As part of this i had to wrote following #jsonPath\r\n\r\n     #jsonPath(payload,&#39;$[?(@.metadata!=null)].metadata[?(@.trigger-routing!=\r\n     null)].trigger-routing&#39;) == {&#39;1&#39;}\r\n\r\nAnd i wrote an example test that will run the SPeL and verify what it returns(Note: I&#39;m intetionally using @EnableIntegration to wire the same profile of SPeL functionality as SCDF, at least that&#39;s my theory)\r\n\r\n    @SpringBootTest(classes = SpelTst.TestConfiguration.class)\r\n    public class SpelTst {\r\n    \r\n        @Configuration\r\n        @EnableIntegration\r\n        public static class TestConfiguration {\r\n    \r\n        }\r\n    \r\n        @Autowired\r\n        IntegrationEvaluationContextFactoryBean factory;\r\n    \r\n        @Test\r\n        public void test() throws JsonProcessingException {\r\n            final StandardEvaluationContext context = factory.getObject();\r\n            ExpressionParser parser = new SpelExpressionParser();\r\n            Expression exp = parser.parseExpression(&quot;#jsonPath(payload,&#39;$[?(@.metadata!=null)].metadata[?(@.trigger-routing!= null)].trigger-routing&#39;) == {&#39;1&#39;}&quot;);\r\n    \r\n            final PixelHitMessage sampleOne = new PixelHitMessage()\r\n                    .setMetadata(ImmutableMap.of(&quot;trigger-routing&quot;, &quot;1&quot;))\r\n                    .toChildType();\r\n    \r\n            final PixelHitMessage sampleTwo = new PixelHitMessage()\r\n                    .setMetadata(ImmutableMap.of(&quot;trigger-routing&quot;, &quot;&quot;))\r\n                    .toChildType();\r\n    \r\n            final PixelHitMessage sampleThree = new PixelHitMessage()\r\n                    .setMetadata(Collections.emptyMap())\r\n                    .toChildType();\r\n    \r\n            final PixelHitMessage sampleFour = new PixelHitMessage()\r\n                    .toChildType();\r\n    \r\n    \r\n            System.out.println(resolve(context, exp, sampleOne));\r\n            System.out.println(resolve(context, exp, sampleTwo));\r\n            System.out.println(resolve(context, exp, sampleThree));\r\n            System.out.println(resolve(context, exp, sampleFour));\r\n        }\r\n    \r\n        private static Object resolve(StandardEvaluationContext context, Expression exp, PixelHitMessage sampleOne) throws JsonProcessingException {\r\n            final ObjectMapper mapper = new ObjectMapper();\r\n            final String payload = mapper.writerFor(PixelHitMessage.class).writeValueAsString(sampleOne);\r\n            System.out.println(payload);\r\n    \r\n            final Message&lt;String&gt; kafkaMessage = MessageBuilder.withPayload(payload).build();\r\n    \r\n            context.setRootObject(kafkaMessage);\r\n    \r\n            return exp.getValue(context, Object.class);\r\n        }\r\n    \r\n    }\r\n\r\nWhen i run this i get a a following output \r\n\r\n    {&quot;timestamp&quot;:&quot;2020-06-26T19:31:38.013Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;SpelTst&quot;,&quot;message&quot;:&quot;Started SpelTst in 1.706 seconds (JVM running for 4.352)&quot;,&quot;context&quot;:&quot;default&quot;}\r\n    \r\n    {&quot;eventId&quot;:null,&quot;postTime&quot;:null,&quot;headers&quot;:null,&quot;metadata&quot;:{&quot;trigger-routing&quot;:&quot;1&quot;}}\r\n    true\r\n    {&quot;eventId&quot;:null,&quot;postTime&quot;:null,&quot;headers&quot;:null,&quot;metadata&quot;:{&quot;trigger-routing&quot;:&quot;&quot;}}\r\n    false\r\n    {&quot;eventId&quot;:null,&quot;postTime&quot;:null,&quot;headers&quot;:null,&quot;metadata&quot;:{}}\r\n    false\r\n    {&quot;eventId&quot;:null,&quot;postTime&quot;:null,&quot;headers&quot;:null,&quot;metadata&quot;:null}\r\n    false\r\n\r\nThe above is the exact behaviour that i&#39;m seeking to achieve.\r\n\r\nBut when i use the same SPeL in a filter component in SCDF, i&#39;m getting following exception\r\n\r\n    Caused by: com.jayway.jsonpath.PathNotFoundException: No results for path: $[&#39;metadata&#39;][&#39;trigger-routing&#39;]\r\n\r\nExample of a message that should return false\r\n\r\n    {&quot;eventId&quot;:&quot;acb0afce-7782-4dc6-af09-4d6878fa8fd3&quot;,&quot;postTime&quot;:1593201189799,&quot;headers&quot;:{&quot;accept&quot;:&quot;*/*&quot;,&quot;host&quot;:&quot;localhost:7071&quot;,&quot;user-agent&quot;:&quot;insomnia/2020.2.2&quot;},&quot;metadata&quot;:{}}\r\n\r\nExample of a message that should return true\r\n\r\n    {&quot;eventId&quot;:&quot;045698d4-d4dc-41b0-8bab-7c07ad58970a&quot;,&quot;postTime&quot;:1593201492866,&quot;headers&quot;:{&quot;accept&quot;:&quot;*/*&quot;,&quot;host&quot;:&quot;localhost:7071&quot;,&quot;user-agent&quot;:&quot;insomnia/2020.2.2&quot;},&quot;metadata&quot;:{&quot;trigger-routing&quot;:&quot;1&quot;}}\r\n\r\nIn SCDF, the SPeL is working only for the positive scenario, the absence of any of the data on the path causes the above exception. I was thinking about using the Option.DEFAULT_PATH_LEAF_TO_NULL for the JsonPath, but as far as i know there is no way to specify it trough Spring properties(i checked the code for the JsonPathUtils, and they are calling the version of JsonPath logic that uses default context without with default(empty) config.\r\n\r\nI also verified whether the filter expression is correctly deployed(screen of the K8 configuration for the pod that is running the filter application), and it appears to be correct.\r\n\r\n[![K8 config screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VAxhK.png","title":"JsonPath not working properly in Spring Cloud Data Flow filter component","body":"<p>I'm trying to write a simple SCDF flow that reads from Kafka, filters the messages by presence of specific value and pushes data into Mongo. As part of this i had to wrote following #jsonPath</p>\n<pre><code> #jsonPath(payload,'$[?(@.metadata!=null)].metadata[?(@.trigger-routing!=\n null)].trigger-routing') == {'1'}\n</code></pre>\n<p>And i wrote an example test that will run the SPeL and verify what it returns(Note: I'm intetionally using @EnableIntegration to wire the same profile of SPeL functionality as SCDF, at least that's my theory)</p>\n<pre><code>@SpringBootTest(classes = SpelTst.TestConfiguration.class)\npublic class SpelTst {\n\n    @Configuration\n    @EnableIntegration\n    public static class TestConfiguration {\n\n    }\n\n    @Autowired\n    IntegrationEvaluationContextFactoryBean factory;\n\n    @Test\n    public void test() throws JsonProcessingException {\n        final StandardEvaluationContext context = factory.getObject();\n        ExpressionParser parser = new SpelExpressionParser();\n        Expression exp = parser.parseExpression(&quot;#jsonPath(payload,'$[?(@.metadata!=null)].metadata[?(@.trigger-routing!= null)].trigger-routing') == {'1'}&quot;);\n\n        final PixelHitMessage sampleOne = new PixelHitMessage()\n                .setMetadata(ImmutableMap.of(&quot;trigger-routing&quot;, &quot;1&quot;))\n                .toChildType();\n\n        final PixelHitMessage sampleTwo = new PixelHitMessage()\n                .setMetadata(ImmutableMap.of(&quot;trigger-routing&quot;, &quot;&quot;))\n                .toChildType();\n\n        final PixelHitMessage sampleThree = new PixelHitMessage()\n                .setMetadata(Collections.emptyMap())\n                .toChildType();\n\n        final PixelHitMessage sampleFour = new PixelHitMessage()\n                .toChildType();\n\n\n        System.out.println(resolve(context, exp, sampleOne));\n        System.out.println(resolve(context, exp, sampleTwo));\n        System.out.println(resolve(context, exp, sampleThree));\n        System.out.println(resolve(context, exp, sampleFour));\n    }\n\n    private static Object resolve(StandardEvaluationContext context, Expression exp, PixelHitMessage sampleOne) throws JsonProcessingException {\n        final ObjectMapper mapper = new ObjectMapper();\n        final String payload = mapper.writerFor(PixelHitMessage.class).writeValueAsString(sampleOne);\n        System.out.println(payload);\n\n        final Message&lt;String&gt; kafkaMessage = MessageBuilder.withPayload(payload).build();\n\n        context.setRootObject(kafkaMessage);\n\n        return exp.getValue(context, Object.class);\n    }\n\n}\n</code></pre>\n<p>When i run this i get a a following output</p>\n<pre><code>{&quot;timestamp&quot;:&quot;2020-06-26T19:31:38.013Z&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;SpelTst&quot;,&quot;message&quot;:&quot;Started SpelTst in 1.706 seconds (JVM running for 4.352)&quot;,&quot;context&quot;:&quot;default&quot;}\n\n{&quot;eventId&quot;:null,&quot;postTime&quot;:null,&quot;headers&quot;:null,&quot;metadata&quot;:{&quot;trigger-routing&quot;:&quot;1&quot;}}\ntrue\n{&quot;eventId&quot;:null,&quot;postTime&quot;:null,&quot;headers&quot;:null,&quot;metadata&quot;:{&quot;trigger-routing&quot;:&quot;&quot;}}\nfalse\n{&quot;eventId&quot;:null,&quot;postTime&quot;:null,&quot;headers&quot;:null,&quot;metadata&quot;:{}}\nfalse\n{&quot;eventId&quot;:null,&quot;postTime&quot;:null,&quot;headers&quot;:null,&quot;metadata&quot;:null}\nfalse\n</code></pre>\n<p>The above is the exact behaviour that i'm seeking to achieve.</p>\n<p>But when i use the same SPeL in a filter component in SCDF, i'm getting following exception</p>\n<pre><code>Caused by: com.jayway.jsonpath.PathNotFoundException: No results for path: $['metadata']['trigger-routing']\n</code></pre>\n<p>Example of a message that should return false</p>\n<pre><code>{&quot;eventId&quot;:&quot;acb0afce-7782-4dc6-af09-4d6878fa8fd3&quot;,&quot;postTime&quot;:1593201189799,&quot;headers&quot;:{&quot;accept&quot;:&quot;*/*&quot;,&quot;host&quot;:&quot;localhost:7071&quot;,&quot;user-agent&quot;:&quot;insomnia/2020.2.2&quot;},&quot;metadata&quot;:{}}\n</code></pre>\n<p>Example of a message that should return true</p>\n<pre><code>{&quot;eventId&quot;:&quot;045698d4-d4dc-41b0-8bab-7c07ad58970a&quot;,&quot;postTime&quot;:1593201492866,&quot;headers&quot;:{&quot;accept&quot;:&quot;*/*&quot;,&quot;host&quot;:&quot;localhost:7071&quot;,&quot;user-agent&quot;:&quot;insomnia/2020.2.2&quot;},&quot;metadata&quot;:{&quot;trigger-routing&quot;:&quot;1&quot;}}\n</code></pre>\n<p>In SCDF, the SPeL is working only for the positive scenario, the absence of any of the data on the path causes the above exception. I was thinking about using the Option.DEFAULT_PATH_LEAF_TO_NULL for the JsonPath, but as far as i know there is no way to specify it trough Spring properties(i checked the code for the JsonPathUtils, and they are calling the version of JsonPath logic that uses default context without with default(empty) config.</p>\n<p>I also verified whether the filter expression is correctly deployed(screen of the K8 configuration for the pod that is running the filter application), and it appears to be correct.</p>\n<p><a href=\"https://i.stack.imgur.com/VAxhK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VAxhK.png\" alt=\"K8 config screenshot\" /></a></p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661152393,"creation_date":1661149080,"answer_id":73440876,"question_id":73440685,"body_markdown":"&quot;`JvmField` can only be applied to `final` properties&quot;, in other words, you cannot put `JvmField` on *overridable* (or `open`) properties.\r\n\r\nLet&#39;s say you wrote the following, and it were allowed:\r\n\r\n```\r\nopen class Foo {\r\n    @JvmField\r\n    open val x = 1\r\n}\r\n```\r\n\r\nAnd not knowing that `x` is actually a `JvmField`, someone else, let&#39;s say Bob, inherit `Foo` and try to override `x` with his own getter:\r\n\r\n```\r\nclass Bar: Foo() {\r\n    override val x get() = (10..20).random()\r\n}\r\n```\r\n\r\nNow, I don&#39;t have an old version of Kotlin anymore to actually compile this and see what would actually happen here, but I&#39;ll use some logic to show that either way, this leads to a confused Bob.\r\n\r\nIf this code doesn&#39;t compile, then it would be quite unexpected for Bob, wouldn&#39;t it? `Foo` has an open property `x`, yet when he tries to override it, he cannot! Bob is confused.\r\n\r\nIf this code does compile, what would it compile to? There would be a `getX` method in the `Bar` class, *which doesn&#39;t actually override anything* in `Foo`. Therefore, when Bob does something like\r\n\r\n    fun main() {\r\n        printFooX(Bar())\r\n    }\r\n\r\n    fun printFooX(foo: Foo) {\r\n        // this compiles to an access to an access to the JVM field &quot;Foo.x&quot;\r\n        // because the compiler doesn&#39;t know any better\r\n        println(foo.x)\r\n    }\r\n\r\nexpecting a number between 10 and 20 to be printed, he would actually get 1, and Bob is confused.\r\n\r\nSo either way, allowing you to put `JvmField` on overridable properties will cause confusing behaviour such as those described above, so it is better to just not allow it in the first place.\r\n\r\nThe root of the problem, as you may have realised by now, is that JVM fields, unlike Kotlin properties, are not overridable. Therefore, to make your Kotlin properties into JVM fields, you need to make them not overridable, to prevent &quot;weird things&quot; from happening.\r\n\r\n&lt;hr&gt;\r\n\r\n`JvmField` also can&#39;t be applied to properties marked with `override`, even if it is also marked with `final`, but that&#39;s another story. To learn more, [KT-32753](https://youtrack.jetbrains.com/issue/KT-32753/Prohibit-JvmField-on-property-in-primary-constructor-that-overrides-interface-property) may be a good start.","title":"JvmField can only be applied to final property. This warning will become an error in further releases","body":"<p>&quot;<code>JvmField</code> can only be applied to <code>final</code> properties&quot;, in other words, you cannot put <code>JvmField</code> on <em>overridable</em> (or <code>open</code>) properties.</p>\n<p>Let's say you wrote the following, and it were allowed:</p>\n<pre><code>open class Foo {\n    @JvmField\n    open val x = 1\n}\n</code></pre>\n<p>And not knowing that <code>x</code> is actually a <code>JvmField</code>, someone else, let's say Bob, inherit <code>Foo</code> and try to override <code>x</code> with his own getter:</p>\n<pre><code>class Bar: Foo() {\n    override val x get() = (10..20).random()\n}\n</code></pre>\n<p>Now, I don't have an old version of Kotlin anymore to actually compile this and see what would actually happen here, but I'll use some logic to show that either way, this leads to a confused Bob.</p>\n<p>If this code doesn't compile, then it would be quite unexpected for Bob, wouldn't it? <code>Foo</code> has an open property <code>x</code>, yet when he tries to override it, he cannot! Bob is confused.</p>\n<p>If this code does compile, what would it compile to? There would be a <code>getX</code> method in the <code>Bar</code> class, <em>which doesn't actually override anything</em> in <code>Foo</code>. Therefore, when Bob does something like</p>\n<pre><code>fun main() {\n    printFooX(Bar())\n}\n\nfun printFooX(foo: Foo) {\n    // this compiles to an access to an access to the JVM field &quot;Foo.x&quot;\n    // because the compiler doesn't know any better\n    println(foo.x)\n}\n</code></pre>\n<p>expecting a number between 10 and 20 to be printed, he would actually get 1, and Bob is confused.</p>\n<p>So either way, allowing you to put <code>JvmField</code> on overridable properties will cause confusing behaviour such as those described above, so it is better to just not allow it in the first place.</p>\n<p>The root of the problem, as you may have realised by now, is that JVM fields, unlike Kotlin properties, are not overridable. Therefore, to make your Kotlin properties into JVM fields, you need to make them not overridable, to prevent &quot;weird things&quot; from happening.</p>\n<hr>\n<p><code>JvmField</code> also can't be applied to properties marked with <code>override</code>, even if it is also marked with <code>final</code>, but that's another story. To learn more, <a href=\"https://youtrack.jetbrains.com/issue/KT-32753/Prohibit-JvmField-on-property-in-primary-constructor-that-overrides-interface-property\" rel=\"nofollow noreferrer\">KT-32753</a> may be a good start.</p>\n"}],"owner":{"account_id":16997043,"reputation":105,"user_id":12474028,"display_name":"220284"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73440876,"answer_count":1,"score":1,"last_activity_date":1661152393,"creation_date":1661147451,"question_id":73440685,"body_markdown":"Could anyone clarify as to why this is the case? \r\n\r\nI understand in which situations we are unable to use the annotation (outlined in the [official document][1]) but I don&#39;t understand what the potential issues are - given that the earlier versions of Kotlin compiles and works?\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/java-to-kotlin-interop.html#instance-fields","title":"JvmField can only be applied to final property. This warning will become an error in further releases","body":"<p>Could anyone clarify as to why this is the case?</p>\n<p>I understand in which situations we are unable to use the annotation (outlined in the <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html#instance-fields\" rel=\"nofollow noreferrer\">official document</a>) but I don't understand what the potential issues are - given that the earlier versions of Kotlin compiles and works?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1661152400,"post_id":73441344,"comment_id":129694669,"body_markdown":"`@Configuration` does not create beans change to `@Service`","body":"<code>@Configuration</code> does not create beans change to <code>@Service</code>"},{"owner":{"account_id":15174511,"reputation":11,"user_id":10949639,"display_name":"tengoku"},"score":0,"creation_date":1661153024,"post_id":73441344,"comment_id":129694834,"body_markdown":"That much I am aware off, but for some reason it used to work when they were in the same module. Now that they are in different modules/artifacts it doesn&#39;t anymore..","body":"That much I am aware off, but for some reason it used to work when they were in the same module. Now that they are in different modules/artifacts it doesn&#39;t anymore.."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661157751,"post_id":73441344,"comment_id":129696265,"body_markdown":"If the only thing you did was move them around it shouldn&#39;t make any difference... What I suspect that actually happend is that you moved it to a different module **and** also changed the package name, leading to this not being discovered by your Spring Boot regular scan, and thus no bean being created. Add an `@Import(DbMigration.class)` on your `@SpringBooApplication` or add the package to scan with `@ComponentScan` so it gets detected again. Also `@Configuration` **does** create a bean as you can just inject it as a regular `@Component`, in fact `@Configuration` **is an `@Component`**...","body":"If the only thing you did was move them around it shouldn&#39;t make any difference... What I suspect that actually happend is that you moved it to a different module <b>and</b> also changed the package name, leading to this not being discovered by your Spring Boot regular scan, and thus no bean being created. Add an <code>@Import(DbMigration.class)</code> on your <code>@SpringBooApplication</code> or add the package to scan with <code>@ComponentScan</code> so it gets detected again. Also <code>@Configuration</code> <b>does</b> create a bean as you can just inject it as a regular <code>@Component</code>, in fact <code>@Configuration</code> <b>is an <code>@Component</code></b>..."},{"owner":{"account_id":15174511,"reputation":11,"user_id":10949639,"display_name":"tengoku"},"score":0,"creation_date":1661159193,"post_id":73441344,"comment_id":129696741,"body_markdown":"The DbMigration class is being imported via AutoConfiguration, which does seem to work cause as long as i add\n```\n    @Bean\n    public DbMigration dbMigration(...) {\n        return new DbMigration(...);\n    }\n```\nto the `DbMigration` class it does work...","body":"The DbMigration class is being imported via AutoConfiguration, which does seem to work cause as long as i add ```     @Bean     public DbMigration dbMigration(...) {         return new DbMigration(...);     } ``` to the <code>DbMigration</code> class it does work..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661159797,"post_id":73441344,"comment_id":129696942,"body_markdown":"It isn&#39;t imported else you wouldn&#39;t get a missing bean.. Unless the name changed in that autoconfiguration.","body":"It isn&#39;t imported else you wouldn&#39;t get a missing bean.. Unless the name changed in that autoconfiguration."}],"owner":{"account_id":15174511,"reputation":11,"user_id":10949639,"display_name":"tengoku"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661152185,"creation_date":1661152153,"question_id":73441344,"body_markdown":"in our project we have a **commons module** that among other things contains a configuration class that executes some custom code for our database.\r\n\r\n```\r\n@Configuration\r\npublic class DbMigration {\r\n\r\n   [...]\r\n\r\n   @PostConstruct\r\n   public void doStuff() { // Has to run first\r\n      [...]\r\n   }\r\n}\r\n```\r\n\r\nIn the **main project** we have a service class that has a @PostConstruct block that requires the DbMigration to have run already.\r\n\r\n```\r\n@Service\r\n@DependsOn(&quot;dbMigration&quot;)\r\npublic class ElasticSearchMigrationService {\r\n   [...]\r\n\r\n   @PostConstruct\r\n   public void doStuff() { // Has to run second\r\n      [...]\r\n   }\r\n}\r\n```\r\n\r\nThe above solution used to work when the `DbMigration` class was still in the same module as the `ElasticSearchMigrationService`, but ever since we moved the Migration into our commons module Spring fails to start with an exception.\r\n\r\n```\r\n[...]\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;dbMigration&#39; available\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:872)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\t\t... 57 more\r\n```\r\n\r\nOne solution that I found but don&#39;t really like would be to create a @Bean of type `DbMigration` inside the `DbMigration` class. I also cannot move the ElasticSearchMigrationService  into the commons module as it contains very specific code required only for this application.\r\n\r\nAre there any other solutions, or am I overlookin something?","title":"Spring Service with @DependsOn requiring a configuration from another artifact","body":"<p>in our project we have a <strong>commons module</strong> that among other things contains a configuration class that executes some custom code for our database.</p>\n<pre><code>@Configuration\npublic class DbMigration {\n\n   [...]\n\n   @PostConstruct\n   public void doStuff() { // Has to run first\n      [...]\n   }\n}\n</code></pre>\n<p>In the <strong>main project</strong> we have a service class that has a @PostConstruct block that requires the DbMigration to have run already.</p>\n<pre><code>@Service\n@DependsOn(&quot;dbMigration&quot;)\npublic class ElasticSearchMigrationService {\n   [...]\n\n   @PostConstruct\n   public void doStuff() { // Has to run second\n      [...]\n   }\n}\n</code></pre>\n<p>The above solution used to work when the <code>DbMigration</code> class was still in the same module as the <code>ElasticSearchMigrationService</code>, but ever since we moved the Migration into our commons module Spring fails to start with an exception.</p>\n<pre><code>[...]\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'dbMigration' available\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:872)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n        ... 57 more\n</code></pre>\n<p>One solution that I found but don't really like would be to create a @Bean of type <code>DbMigration</code> inside the <code>DbMigration</code> class. I also cannot move the ElasticSearchMigrationService  into the commons module as it contains very specific code required only for this application.</p>\n<p>Are there any other solutions, or am I overlookin something?</p>\n"},{"tags":["java","spring","spring-boot","data-binding","parameters"],"comments":[{"owner":{"account_id":365271,"reputation":30295,"user_id":710099,"accept_rate":79,"display_name":"Federico Piazza"},"score":0,"creation_date":1532617855,"post_id":47418489,"comment_id":90051915,"body_markdown":"Did you resolve this? If so can you post your answer?","body":"Did you resolve this? If so can you post your answer?"},{"owner":{"account_id":1179678,"reputation":1216,"user_id":1154899,"accept_rate":86,"display_name":"Christos Loupassakis"},"score":0,"creation_date":1545254809,"post_id":47418489,"comment_id":94566587,"body_markdown":"Sorry for this late answer, but I can&#39;t help anyway. It&#39;s been over a year I worked in the project, and from what I remember I couldn&#39;t find a viable solution, so I just dropped this part and found an alternative way to do what I was supposed to do. Steel waiting for a solution","body":"Sorry for this late answer, but I can&#39;t help anyway. It&#39;s been over a year I worked in the project, and from what I remember I couldn&#39;t find a viable solution, so I just dropped this part and found an alternative way to do what I was supposed to do. Steel waiting for a solution"}],"answers":[{"tags":[],"owner":{"account_id":6416751,"reputation":343,"user_id":4974704,"display_name":"zatopek"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1511287873,"creation_date":1511287873,"answer_id":47419905,"question_id":47418489,"body_markdown":"As detailed here\r\nhttps://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\r\n\r\n\r\nIf the method parameter is Map&lt;String, String&gt; or MultiValueMap&lt;String, String&gt; and a parameter name is not specified, then the map parameter is populated with all request parameter names and values.\r\n\r\n\r\nSo you would change your definition like this.\r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n    public String testUrl(@RequestParam Map&lt;String, String&gt; parameters) \r\n    {   \r\n      (...)\r\n    }\r\n\r\n\r\nAnd in your parameters if you called the url http://myUrl?A=ABC&amp;B=DEF\r\n\r\nYou would have in your method\r\n\r\n    parameters.get(&quot;A&quot;);\r\n    parameters.get(&quot;B&quot;);\r\n\r\n","title":"Spring MVC populate @RequestParam Map&lt;String, String&gt;","body":"<p>As detailed here\n<a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html</a></p>\n\n<p>If the method parameter is Map or MultiValueMap and a parameter name is not specified, then the map parameter is populated with all request parameter names and values.</p>\n\n<p>So you would change your definition like this.</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET)\npublic String testUrl(@RequestParam Map&lt;String, String&gt; parameters) \n{   \n  (...)\n}\n</code></pre>\n\n<p>And in your parameters if you called the url <a href=\"http://myUrl?A=ABC&amp;B=DEF\" rel=\"noreferrer\">http://myUrl?A=ABC&amp;B=DEF</a></p>\n\n<p>You would have in your method</p>\n\n<pre><code>parameters.get(\"A\");\nparameters.get(\"B\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4323464,"reputation":6780,"user_id":3530898,"display_name":"Amit K Bist"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511292912,"creation_date":1511292912,"answer_id":47421264,"question_id":47418489,"body_markdown":"Spring doesn&#39;t have default conversion strategy from multiple parameters with the same name to HashMap. It can, however, convert them easily to List, array or Set.\r\n\r\n    @RequestMapping(value = &quot;/testset&quot;, method = RequestMethod.GET)\r\n    \tpublic String testSet(@RequestParam(value = &quot;test&quot;) Set&lt;String&gt; test) {\r\n    \r\n    \t\treturn &quot;success&quot;;\r\n    \t}\r\n\r\nI tested with postman like `http://localhost:8080/mappings/testset?test=ABC&amp;test=DEF`\r\n\r\nYou will see set having data, [ABC, DEF]","title":"Spring MVC populate @RequestParam Map&lt;String, String&gt;","body":"<p>Spring doesn't have default conversion strategy from multiple parameters with the same name to HashMap. It can, however, convert them easily to List, array or Set.</p>\n\n<pre><code>@RequestMapping(value = \"/testset\", method = RequestMethod.GET)\n    public String testSet(@RequestParam(value = \"test\") Set&lt;String&gt; test) {\n\n        return \"success\";\n    }\n</code></pre>\n\n<p>I tested with postman like <code>http://localhost:8080/mappings/testset?test=ABC&amp;test=DEF</code></p>\n\n<p>You will see set having data, [ABC, DEF]</p>\n"},{"tags":[],"owner":{"account_id":2861560,"reputation":226,"user_id":2456718,"display_name":"user2456718"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524818110,"creation_date":1524818110,"answer_id":50058450,"question_id":47418489,"body_markdown":"You can create a new class that contains the map that should be populated by Spring and then use that class as a parameter of your `@RequestMapping` annotated method.\r\n\r\nIn your example create a new class\r\n\r\n    public static class Form {\r\n       private Map&lt;String, String&gt; test;\r\n       // getters and setters\r\n    }\r\n\r\nThen you can use `Form` as a parameter in your method.\r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n    public String testUrl(Form form) {\r\n      // use values from form.getTest()\r\n    }\r\n","title":"Spring MVC populate @RequestParam Map&lt;String, String&gt;","body":"<p>You can create a new class that contains the map that should be populated by Spring and then use that class as a parameter of your <code>@RequestMapping</code> annotated method.</p>\n\n<p>In your example create a new class</p>\n\n<pre><code>public static class Form {\n   private Map&lt;String, String&gt; test;\n   // getters and setters\n}\n</code></pre>\n\n<p>Then you can use <code>Form</code> as a parameter in your method.</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET)\npublic String testUrl(Form form) {\n  // use values from form.getTest()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10794010,"reputation":1606,"user_id":7940437,"display_name":"Majid Roustaei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593256557,"creation_date":1593252560,"answer_id":62608610,"question_id":47418489,"body_markdown":"Your question needs to be considered from different points of view.\r\n\r\n1. first part:\r\n\r\nas is mentioned in the title of the question, is how to have `Map&lt;String, String&gt;` as `@RequestParam`.\r\n\r\nConsider this endpoint:\r\n\r\n    @GetMapping(value = &quot;/map&quot;)\r\n    public ResponseEntity getData(@RequestParam Map&lt;String, String&gt; allParams) {\r\n        String str = Optional.ofNullable(allParams.get(&quot;first&quot;)).orElse(null);\r\n        return ResponseEntity.ok(str);\r\n    }\r\n\r\nyou can call that via:\r\n\r\n    http://&lt;ip&gt;:&lt;port&gt;/child/map?first=data1&amp;second=data2\r\n\r\nthen when you debug your code, you will get these values:\r\n\r\n    &gt; allParams (size = 2)\r\n        &gt; first = data1\r\n        &gt; second = data2\r\n\r\nand the response of the requested url will be `data1`.\r\n\r\n\r\n----------\r\n\r\n\r\n 2. second part:\r\n\r\nas your requested url shows (you have also said that in other answers&#39; comments) ,you need an `array` to be passed by url.\r\n\r\nconsider this endpoint:\r\n\r\n    public ResponseEntity&lt;?&gt; getData (@RequestParam(&quot;test&quot;) Long[] testId,\r\n                                      @RequestParam(&quot;notTest&quot;) Long notTestId)\r\n\r\nto call this API and pass proper values, you need to pass parameters in this way:\r\n\r\n    ?test=1&amp;test=2&amp;notTest=3\r\n\r\nall `test` values are reachable via `test[0]` or `test[1]` in your code.\r\n\r\n\r\n----------\r\n\r\n\r\n 3. third part:\r\n\r\nhave another look on requested url parameters, like: `test[B]`\r\n\r\nputting `brackets` (or `[` `]`) into url is not usually possible. you have to put equivalent `ASCII` code with `%` sign.\r\n\r\nfor example `[` is equal to `%5B` and `]` is equal to `%5D`.\r\n\r\nas an example, `test[0]` would be `test%5B0%5D`.\r\n\r\nmore `ASCII` codes on: https://ascii.cl/","title":"Spring MVC populate @RequestParam Map&lt;String, String&gt;","body":"<p>Your question needs to be considered from different points of view.</p>\n<ol>\n<li>first part:</li>\n</ol>\n<p>as is mentioned in the title of the question, is how to have <code>Map&lt;String, String&gt;</code> as <code>@RequestParam</code>.</p>\n<p>Consider this endpoint:</p>\n<pre><code>@GetMapping(value = &quot;/map&quot;)\npublic ResponseEntity getData(@RequestParam Map&lt;String, String&gt; allParams) {\n    String str = Optional.ofNullable(allParams.get(&quot;first&quot;)).orElse(null);\n    return ResponseEntity.ok(str);\n}\n</code></pre>\n<p>you can call that via:</p>\n<pre><code>http://&lt;ip&gt;:&lt;port&gt;/child/map?first=data1&amp;second=data2\n</code></pre>\n<p>then when you debug your code, you will get these values:</p>\n<pre><code>&gt; allParams (size = 2)\n    &gt; first = data1\n    &gt; second = data2\n</code></pre>\n<p>and the response of the requested url will be <code>data1</code>.</p>\n<hr />\n<ol start=\"2\">\n<li>second part:</li>\n</ol>\n<p>as your requested url shows (you have also said that in other answers' comments) ,you need an <code>array</code> to be passed by url.</p>\n<p>consider this endpoint:</p>\n<pre><code>public ResponseEntity&lt;?&gt; getData (@RequestParam(&quot;test&quot;) Long[] testId,\n                                  @RequestParam(&quot;notTest&quot;) Long notTestId)\n</code></pre>\n<p>to call this API and pass proper values, you need to pass parameters in this way:</p>\n<pre><code>?test=1&amp;test=2&amp;notTest=3\n</code></pre>\n<p>all <code>test</code> values are reachable via <code>test[0]</code> or <code>test[1]</code> in your code.</p>\n<hr />\n<ol start=\"3\">\n<li>third part:</li>\n</ol>\n<p>have another look on requested url parameters, like: <code>test[B]</code></p>\n<p>putting <code>brackets</code> (or <code>[</code> <code>]</code>) into url is not usually possible. you have to put equivalent <code>ASCII</code> code with <code>%</code> sign.</p>\n<p>for example <code>[</code> is equal to <code>%5B</code> and <code>]</code> is equal to <code>%5D</code>.</p>\n<p>as an example, <code>test[0]</code> would be <code>test%5B0%5D</code>.</p>\n<p>more <code>ASCII</code> codes on: <a href=\"https://ascii.cl/\" rel=\"nofollow noreferrer\">https://ascii.cl/</a></p>\n"},{"tags":[],"owner":{"account_id":17098341,"reputation":612,"user_id":12372860,"display_name":"Steffen Bobek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616154892,"creation_date":1616154892,"answer_id":66707715,"question_id":47418489,"body_markdown":"I faced a similar situation where the client sends *two* groups of variable parameters. Let&#39;s call these groups `foo` and `bar`. A request could look like:\r\n\r\n    GET /search?page=2&amp;size=10&amp;foo[x]=aaa&amp;foo[y]=bbb&amp;bar[z]=ccc\r\n\r\nI wanted to map these parameters to two distinct maps. Something like:\r\n\r\n```\r\n@GetMapping(&quot;/search&quot;)\r\npublic Page&lt;...&gt; search(Pageable pageable,\r\n        @RequestParam(...) Map&lt;String, String&gt; foo,\r\n        @RequestParam(...) Map&lt;String, String&gt; bar) {\r\n    ...\r\n}\r\n```\r\n\r\n`@RequestParam` didn&#39;t work for me, too. Instead I created a Model class with two fields of type `Map&lt;&gt;` matching the query parameter names `foo` and `bar` (`@Data` is `lombok.Data`).\r\n\r\n```\r\n@Data\r\npublic static class FooBar {\r\n    Map&lt;String, String&gt; foo;\r\n    Map&lt;String, String&gt; bar;\r\n}\r\n```\r\n\r\nMy controller code has changed to:\r\n\r\n```\r\n@GetMapping(&quot;/search&quot;)\r\npublic Page&lt;...&gt; search(Pageable pageable, FooBar fooBar) {\r\n    ...\r\n}\r\n```\r\n\r\nWhen requesting `GET /search?page=2&amp;size=10&amp;foo[x]=aaa&amp;foo[y]=bbb&amp;bar[z]=ccc` Spring instantiated the Maps and filled `fooBar.getFoo()` with keys/values `x`/`aaa` and `y`/`bbb` and `fooBar.getBar()` with `z`/`ccc`.","title":"Spring MVC populate @RequestParam Map&lt;String, String&gt;","body":"<p>I faced a similar situation where the client sends <em>two</em> groups of variable parameters. Let's call these groups <code>foo</code> and <code>bar</code>. A request could look like:</p>\n<pre><code>GET /search?page=2&amp;size=10&amp;foo[x]=aaa&amp;foo[y]=bbb&amp;bar[z]=ccc\n</code></pre>\n<p>I wanted to map these parameters to two distinct maps. Something like:</p>\n<pre><code>@GetMapping(&quot;/search&quot;)\npublic Page&lt;...&gt; search(Pageable pageable,\n        @RequestParam(...) Map&lt;String, String&gt; foo,\n        @RequestParam(...) Map&lt;String, String&gt; bar) {\n    ...\n}\n</code></pre>\n<p><code>@RequestParam</code> didn't work for me, too. Instead I created a Model class with two fields of type <code>Map&lt;&gt;</code> matching the query parameter names <code>foo</code> and <code>bar</code> (<code>@Data</code> is <code>lombok.Data</code>).</p>\n<pre><code>@Data\npublic static class FooBar {\n    Map&lt;String, String&gt; foo;\n    Map&lt;String, String&gt; bar;\n}\n</code></pre>\n<p>My controller code has changed to:</p>\n<pre><code>@GetMapping(&quot;/search&quot;)\npublic Page&lt;...&gt; search(Pageable pageable, FooBar fooBar) {\n    ...\n}\n</code></pre>\n<p>When requesting <code>GET /search?page=2&amp;size=10&amp;foo[x]=aaa&amp;foo[y]=bbb&amp;bar[z]=ccc</code> Spring instantiated the Maps and filled <code>fooBar.getFoo()</code> with keys/values <code>x</code>/<code>aaa</code> and <code>y</code>/<code>bbb</code> and <code>fooBar.getBar()</code> with <code>z</code>/<code>ccc</code>.</p>\n"},{"tags":[],"owner":{"account_id":14301436,"reputation":338,"user_id":10330658,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661151771,"creation_date":1661151771,"answer_id":73441279,"question_id":47418489,"body_markdown":"you can use MultiValueMap\r\n\r\n&gt; MultiValueMap&lt;String, String&gt;\r\n\r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n    public String testUrl(@RequestParam(value=&quot;test&quot;) MultiValueMap&lt;String, String&gt; test) {   \r\n        (...)\r\n    }\r\n\r\nand while testing don&#39;t use test[A],test[B]. just use it as stated below.\r\n\r\n    http://myUrl?test=ABC&amp;test=DEF\r\ntest result will be in below format when you print it.\r\n&gt; test = {[ABC, DEF]}","title":"Spring MVC populate @RequestParam Map&lt;String, String&gt;","body":"<p>you can use MultiValueMap</p>\n<blockquote>\n<p>MultiValueMap&lt;String, String&gt;</p>\n</blockquote>\n<pre><code>@RequestMapping(method = RequestMethod.GET)\npublic String testUrl(@RequestParam(value=&quot;test&quot;) MultiValueMap&lt;String, String&gt; test) {   \n    (...)\n}\n</code></pre>\n<p>and while testing don't use test[A],test[B]. just use it as stated below.</p>\n<pre><code>http://myUrl?test=ABC&amp;test=DEF\n</code></pre>\n<p>test result will be in below format when you print it.</p>\n<blockquote>\n<p>test = {[ABC, DEF]}</p>\n</blockquote>\n"}],"owner":{"account_id":1179678,"reputation":1216,"user_id":1154899,"accept_rate":86,"display_name":"Christos Loupassakis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43757,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":47419905,"answer_count":6,"score":16,"last_activity_date":1661151771,"creation_date":1511283137,"question_id":47418489,"body_markdown":"I have the following method in my Spring MVC @Controller :\r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n    public String testUrl(@RequestParam(value=&quot;test&quot;) Map&lt;String, String&gt; test) {\t\r\n\t    (...)\r\n    }\r\n\r\nI call it like this :\r\n\r\n    http://myUrl?test[A]=ABC&amp;test[B]=DEF\r\n\r\nHowever the &quot;test&quot; RequestParam variable is always null\r\n\r\nWhat do I have to do in order to populate &quot;test&quot; variable ?","title":"Spring MVC populate @RequestParam Map&lt;String, String&gt;","body":"<p>I have the following method in my Spring MVC @Controller :</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET)\npublic String testUrl(@RequestParam(value=\"test\") Map&lt;String, String&gt; test) {   \n    (...)\n}\n</code></pre>\n\n<p>I call it like this :</p>\n\n<pre><code>http://myUrl?test[A]=ABC&amp;test[B]=DEF\n</code></pre>\n\n<p>However the \"test\" RequestParam variable is always null</p>\n\n<p>What do I have to do in order to populate \"test\" variable ?</p>\n"},{"tags":["java","hibernate","querydsl"],"answers":[{"tags":[],"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661151707,"creation_date":1661151707,"answer_id":73441269,"question_id":73429536,"body_markdown":"Queries don&#39;t use the association eagerness to add joins arbitrarily to your query. After that the entity loader still notices that this is an eager association and will fetch it separately.\r\n\r\nYou can however simply add the join yourself. Important here is to add the join as fetch join, so that the join result will be initialised as the value of the association.\r\n\r\n```\r\nreturn query.select(qCar)\r\n  .from(qCar)\r\n  .innerJoin(qCar.color(), QCarColor.carColor).fetchJoin()\r\n  .where(predicate)\r\n  .fetch();\r\n```","title":"QueryDsl extra query, even though I&#39;m using a join","body":"<p>Queries don't use the association eagerness to add joins arbitrarily to your query. After that the entity loader still notices that this is an eager association and will fetch it separately.</p>\n<p>You can however simply add the join yourself. Important here is to add the join as fetch join, so that the join result will be initialised as the value of the association.</p>\n<pre><code>return query.select(qCar)\n  .from(qCar)\n  .innerJoin(qCar.color(), QCarColor.carColor).fetchJoin()\n  .where(predicate)\n  .fetch();\n</code></pre>\n"}],"owner":{"account_id":20161947,"reputation":13,"user_id":14786804,"display_name":"Vasenkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73441269,"answer_count":1,"score":1,"last_activity_date":1661151707,"creation_date":1661023403,"question_id":73429536,"body_markdown":"I have Car and Color classes. Car class has both Entity and Id fields of Color. \r\n*Here is the Car class code:*\r\n```\r\npublic class Car {\r\n\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n   private Long id;\r\n\r\n    @JoinColumn(name = &quot;color_id&quot;, insertable = false, updatable = false)\r\n    @ManyToOne(targetEntity = CarColor.class, fetch = FetchType.EAGER)\r\n    private CarColor color;\r\n\r\n    @Column(name = &quot;color_id&quot;)\r\n    private Long colorId;\r\n\r\n}\r\n```\r\n*Here is the Color class code:*\r\n\r\n ```\r\npublic class CarColor {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n    \r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;color&quot;)\r\n    List&lt;Car&gt; cars;\r\n}\r\n```\r\nWhen I&#39;m fetching a Car i have an extra query to get a color Entity which is causing n+1 problem. So I have tried to use joins.\r\n```\r\n  return query.select(qCar)\r\n  .from(qCar)\r\n  .innerJoin(qCar.color(), QCarColor.carColor)\r\n  .where(predicate)\r\n  .fetch();\r\n```\r\nI&#39;m getting these queries:\r\n```\r\nselect\r\n        car0_.id as id1_3_,\r\n        car0_.color_id as color_id3_3_,\r\n    from\r\n        car car0_  \r\n    inner join\r\n        color carcolor2_ \r\n            on car0_.color_id=carcolor2_.id \r\n\r\nHibernate: \r\n    select\r\n        carcolor0_.id as id1_6_0_,\r\n        carcolor0_.name as name2_6_0_ \r\n    from\r\n        color carcolor0_ \r\n    where\r\n        carcolor0_.id=?\r\n```\r\nAs you can see, at the end I have an extra query to get color even though it has already joined Color entity. That is the main problem. Maybe it somehow connected with my decision to store both Entity and Id.","title":"QueryDsl extra query, even though I&#39;m using a join","body":"<p>I have Car and Color classes. Car class has both Entity and Id fields of Color.\n<em>Here is the Car class code:</em></p>\n<pre><code>public class Car {\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n\n    @JoinColumn(name = &quot;color_id&quot;, insertable = false, updatable = false)\n    @ManyToOne(targetEntity = CarColor.class, fetch = FetchType.EAGER)\n    private CarColor color;\n\n    @Column(name = &quot;color_id&quot;)\n    private Long colorId;\n\n}\n</code></pre>\n<p><em>Here is the Color class code:</em></p>\n<pre><code>public class CarColor {\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n   \n   @Column(name = &quot;name&quot;)\n   private String name;\n   \n   @JsonIgnore\n   @OneToMany(mappedBy = &quot;color&quot;)\n   List&lt;Car&gt; cars;\n}\n</code></pre>\n<p>When I'm fetching a Car i have an extra query to get a color Entity which is causing n+1 problem. So I have tried to use joins.</p>\n<pre><code>  return query.select(qCar)\n  .from(qCar)\n  .innerJoin(qCar.color(), QCarColor.carColor)\n  .where(predicate)\n  .fetch();\n</code></pre>\n<p>I'm getting these queries:</p>\n<pre><code>select\n        car0_.id as id1_3_,\n        car0_.color_id as color_id3_3_,\n    from\n        car car0_  \n    inner join\n        color carcolor2_ \n            on car0_.color_id=carcolor2_.id \n\nHibernate: \n    select\n        carcolor0_.id as id1_6_0_,\n        carcolor0_.name as name2_6_0_ \n    from\n        color carcolor0_ \n    where\n        carcolor0_.id=?\n</code></pre>\n<p>As you can see, at the end I have an extra query to get color even though it has already joined Color entity. That is the main problem. Maybe it somehow connected with my decision to store both Entity and Id.</p>\n"},{"tags":["java","spring","neo4j","spring-data","spring-data-neo4j"],"comments":[{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1661151486,"post_id":73441034,"comment_id":129694417,"body_markdown":"What is the controller endpoint and how are you calling the repository save function","body":"What is the controller endpoint and how are you calling the repository save function"},{"owner":{"account_id":6163052,"reputation":589,"user_id":4803964,"accept_rate":61,"display_name":"rohaldb"},"score":0,"creation_date":1661151841,"post_id":73441034,"comment_id":129694520,"body_markdown":"@CharchitKapoor I am posting to `/person`. Because my person repository extends `CrudRepository`spring-data is invoking the save method for me automatically","body":"@CharchitKapoor I am posting to <code>&#47;person</code>. Because my person repository extends <code>CrudRepository</code>spring-data is invoking the save method for me automatically"},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1661151933,"post_id":73441034,"comment_id":129694542,"body_markdown":"but there will be some controller and service right? If yes, can you please add that as well","body":"but there will be some controller and service right? If yes, can you please add that as well"},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1661152186,"post_id":73441034,"comment_id":129694623,"body_markdown":"Ideally your request body modal should be different from your database entity","body":"Ideally your request body modal should be different from your database entity"},{"owner":{"account_id":6163052,"reputation":589,"user_id":4803964,"accept_rate":61,"display_name":"rohaldb"},"score":0,"creation_date":1661153020,"post_id":73441034,"comment_id":129694830,"body_markdown":"@CharchitKapoor I have not defined a controller or servjce for this class. As far as i understand it, extending crud repository automatically generates the required Controller and Service.","body":"@CharchitKapoor I have not defined a controller or servjce for this class. As far as i understand it, extending crud repository automatically generates the required Controller and Service."},{"owner":{"account_id":6163052,"reputation":589,"user_id":4803964,"accept_rate":61,"display_name":"rohaldb"},"score":0,"creation_date":1661153155,"post_id":73441034,"comment_id":129694870,"body_markdown":"You are right in that I could define two distinct types for the type and the modal, but i feel as if what I am doing is rather standard. Given that auto generated ids are a first class citizen of spring data, I donât see why there isnât a way to exclude it automatically from the request body","body":"You are right in that I could define two distinct types for the type and the modal, but i feel as if what I am doing is rather standard. Given that auto generated ids are a first class citizen of spring data, I donât see why there isnât a way to exclude it automatically from the request body"},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1661153964,"post_id":73441034,"comment_id":129695101,"body_markdown":"Try adding `@ApiModelProperty(readOnly = true)` on id and zip fields","body":"Try adding <code>@ApiModelProperty(readOnly = true)</code> on id and zip fields"},{"owner":{"account_id":6163052,"reputation":589,"user_id":4803964,"accept_rate":61,"display_name":"rohaldb"},"score":0,"creation_date":1661214595,"post_id":73441034,"comment_id":129713837,"body_markdown":"Hi @CharchitKapoor that did not work. I landed up just building my own implementation of the service and controller. But I am still interested in how to do this automatically as the question originally asks.","body":"Hi @CharchitKapoor that did not work. I landed up just building my own implementation of the service and controller. But I am still interested in how to do this automatically as the question originally asks."}],"owner":{"account_id":6163052,"reputation":589,"user_id":4803964,"accept_rate":61,"display_name":"rohaldb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661151657,"creation_date":1661150180,"question_id":73441034,"body_markdown":"I am trying to understand how spring data converts my POJO to the API params/body and return type. My goal is to have a save endpoint that takes in non generated fields only, but returns all fields. As an example, consider the following class:\r\n\r\n```\r\n@Node\r\npublic class Person {\r\n\r\n\t@Id @GeneratedValue(generatorClass = UUIDStringGenerator.class) private String id;\r\n\tprivate String firstname, lastname;\r\n\tprivate String zip;\r\n}\r\n```\r\n\r\nwith acommpanying repository\r\n\r\n```\r\npublic interface PersonRepository extends CrudRepository&lt;Person, String&gt; {}\r\n```\r\nI don&#39;t need the `POST /persons` endpoint to accept `id` or `zip`, only `firstName` and `lastName`. However I would like it to return all fields on a successful save. \r\n\r\nThe first thing I noticed is that if I:\r\n* Add getters, but not setters for `id` and `zip` and\r\n* Add getters and setters for `firstName` and `lastName`\r\n\r\nThe generated open api docs request body has this format\r\n```\r\n{\r\n  &quot;id&quot;: &quot;string&quot;,\r\n  &quot;firstname&quot;: &quot;string&quot;,\r\n  &quot;lastname&quot;: &quot;string&quot;,\r\n  &quot;zip&quot;: &quot;string&quot;\r\n}\r\n```\r\n\r\nand if i set `id` or `zip` in the request, it will somehow set the properties in the DB, despite both fields being private and having no setters. How is this possible?\r\n\r\nI came up with this solution, which works, but it is reliant on `id` and `zip` being included in the constructor args but intentionally being ignored in the method body. \r\n```\r\n@Node\r\n@Setter\r\n@Getter\r\npublic class Person {\r\n\r\n\t@Id @GeneratedValue(generatorClass = UUIDStringGenerator.class) private String id;\r\n\tprivate String firstname, lastname;\r\n\tprivate String zip;\r\n\r\n\tPerson(String id, String firstname, String lastname, String zip) {\r\n\t\t// If I uncomment the below line, it will override the id with the one passed in.\r\n\t\t// this.id = id;\r\n\t\tthis.firstname = firstname;\r\n\t\tthis.lastname = lastname;\r\n\t}\r\n}\r\n```\r\nThis solution works because of the object population hierarchy, it will default to using my all args constructor. But it is not ideal because:\r\n1. I could easily make a mistake and allow end users to set a custom id. \r\n2. The API docs request body still asks for `id` and `zip`, but setting them now just does nothing\r\n3. The lack of a no args constructor means the `find` method fails to cast the result back into a `Person` object\r\n\r\nWhat is the recommended way to have my api only accept a subset of fields on create, ignoring those that I do not supply when writing to the data store, and then return a different subset of fields as the response. Are projections the recommended way to handle custom responses on default `CrudRepository` methods? \r\n\r\n\r\nNB: I am aware that I need to use `config.exposeIdsFor(Person.class);` and am doing so. I am also awa\r\n\r\n  [1]: https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#mapping.fundamentals","title":"How to Specify Accepted API Params in Spring Data Neo4j?","body":"<p>I am trying to understand how spring data converts my POJO to the API params/body and return type. My goal is to have a save endpoint that takes in non generated fields only, but returns all fields. As an example, consider the following class:</p>\n<pre><code>@Node\npublic class Person {\n\n    @Id @GeneratedValue(generatorClass = UUIDStringGenerator.class) private String id;\n    private String firstname, lastname;\n    private String zip;\n}\n</code></pre>\n<p>with acommpanying repository</p>\n<pre><code>public interface PersonRepository extends CrudRepository&lt;Person, String&gt; {}\n</code></pre>\n<p>I don't need the <code>POST /persons</code> endpoint to accept <code>id</code> or <code>zip</code>, only <code>firstName</code> and <code>lastName</code>. However I would like it to return all fields on a successful save.</p>\n<p>The first thing I noticed is that if I:</p>\n<ul>\n<li>Add getters, but not setters for <code>id</code> and <code>zip</code> and</li>\n<li>Add getters and setters for <code>firstName</code> and <code>lastName</code></li>\n</ul>\n<p>The generated open api docs request body has this format</p>\n<pre><code>{\n  &quot;id&quot;: &quot;string&quot;,\n  &quot;firstname&quot;: &quot;string&quot;,\n  &quot;lastname&quot;: &quot;string&quot;,\n  &quot;zip&quot;: &quot;string&quot;\n}\n</code></pre>\n<p>and if i set <code>id</code> or <code>zip</code> in the request, it will somehow set the properties in the DB, despite both fields being private and having no setters. How is this possible?</p>\n<p>I came up with this solution, which works, but it is reliant on <code>id</code> and <code>zip</code> being included in the constructor args but intentionally being ignored in the method body.</p>\n<pre><code>@Node\n@Setter\n@Getter\npublic class Person {\n\n    @Id @GeneratedValue(generatorClass = UUIDStringGenerator.class) private String id;\n    private String firstname, lastname;\n    private String zip;\n\n    Person(String id, String firstname, String lastname, String zip) {\n        // If I uncomment the below line, it will override the id with the one passed in.\n        // this.id = id;\n        this.firstname = firstname;\n        this.lastname = lastname;\n    }\n}\n</code></pre>\n<p>This solution works because of the object population hierarchy, it will default to using my all args constructor. But it is not ideal because:</p>\n<ol>\n<li>I could easily make a mistake and allow end users to set a custom id.</li>\n<li>The API docs request body still asks for <code>id</code> and <code>zip</code>, but setting them now just does nothing</li>\n<li>The lack of a no args constructor means the <code>find</code> method fails to cast the result back into a <code>Person</code> object</li>\n</ol>\n<p>What is the recommended way to have my api only accept a subset of fields on create, ignoring those that I do not supply when writing to the data store, and then return a different subset of fields as the response. Are projections the recommended way to handle custom responses on default <code>CrudRepository</code> methods?</p>\n<p>NB: I am aware that I need to use <code>config.exposeIdsFor(Person.class);</code> and am doing so. I am also awa</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661151521,"creation_date":1661151521,"answer_id":73441231,"question_id":73440749,"body_markdown":"Numbered lists are not yet implemented in `XSLF`. But the underlying `org.openxmlformats.schemas.drawingml.x2006.main.*` classes are there. So one could use this classes.\r\n\r\nBut what and how?\r\n\r\nAll Office Open XML files are ZIP archives. So one can simply unzip a `*.pptx` file and have a look into the XML of `/ppt/slides/slide1.xml`. There one will find something like:\r\n\r\n    &lt;a:p&gt;\r\n     &lt;a:pPr marL=&quot;406400&quot; indent=&quot;-406400&quot;&gt;\r\n      &lt;a:buAutoNum type=&quot;arabicPeriod&quot;/&gt;\r\n     &lt;/a:pPr&gt;\r\n     &lt;a:r&gt;\r\n      &lt;a:rPr sz=&quot;2200&quot;/&gt;\r\n      &lt;a:t&gt;First list item&lt;/a:t&gt;\r\n      &lt;/a:r&gt;\r\n    &lt;/a:p&gt;\r\n\r\nfor a paragraph in a numbered list.\r\n\r\nSo the paragraph `p` contains a paragraph properties `pPr` element, having margin left set and a negative indent for the first text line (hanging indent). In `pPr` is a bullet auto number (sic) `buAutoNum` element having the type Arabic numbers followed by period `arabicPeriod`.\r\n\r\nUnfortunately there is no API documentation for the `org.openxmlformats.schemas.drawingml.x2006.main.*` classes public available. So one would need getting the sources of `ooxml-schemas` or `poi-ooxml-full` to create the API documentation using `javadoc`.\r\n\r\nComplete example:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xslf.usermodel.*;\r\n    import org.apache.poi.sl.usermodel.*;\r\n    \r\n    public class CreatePPTXNunberings {\r\n        \r\n     static void createBulletpointList(XSLFTextShape textShape, String[] items) {\r\n      XSLFTextParagraph\tparagraph = null;\r\n      XSLFTextRun run = null;\r\n      double fontSize = 22d;\r\n      double indent = 22d;\r\n      for (String item : items) {\r\n       paragraph = textShape.addNewTextParagraph();\r\n       paragraph.setBullet(true); //XSLFTextParagraph.setBullet sets pPr too\r\n       paragraph.getXmlObject().getPPr().setMarL(org.apache.poi.util.Units.toEMU(indent));\r\n       paragraph.setIndent(-indent);\r\n       run = paragraph.addNewTextRun();\r\n       run.setFontSize(fontSize);\r\n       run.setText(item);\r\n      }   \r\n     }\r\n     \r\n     static void createNumberedList(XSLFTextShape textShape, String[] items) {\r\n      XSLFTextParagraph\tparagraph = null;\r\n      XSLFTextRun run = null;\r\n      double fontSize = 22d;\r\n      double indent = 32d;\r\n      for (String item : items) {\r\n       paragraph = textShape.addNewTextParagraph();\r\n       if (paragraph.getXmlObject().getPPr() == null) paragraph.getXmlObject().addNewPPr();\r\n       if (paragraph.getXmlObject().getPPr().getBuAutoNum() == null) paragraph.getXmlObject().getPPr().addNewBuAutoNum();\r\n       paragraph.getXmlObject().getPPr().getBuAutoNum().setType(org.openxmlformats.schemas.drawingml.x2006.main.STTextAutonumberScheme.ARABIC_PERIOD);\r\n       paragraph.getXmlObject().getPPr().setMarL(org.apache.poi.util.Units.toEMU(indent));\r\n       paragraph.setIndent(-indent);\r\n       run = paragraph.addNewTextRun();\r\n       run.setFontSize(fontSize);\r\n       run.setText(item);\r\n      }   \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XMLSlideShow slideShow = new XMLSlideShow();\r\n      \r\n      XSLFSlide slide = slideShow.createSlide();\r\n      \r\n      XSLFTextShape textShape = slide.createAutoShape();\r\n      java.awt.Rectangle rect = new java.awt.Rectangle(100, 100, 500, 300);\r\n      textShape.setAnchor(rect.getBounds2D());\r\n      textShape.setShapeType(ShapeType.RECT);\r\n    \r\n      XSLFTextParagraph\tparagraph = null;\r\n      XSLFTextRun run = null;\r\n      double fontSize = 22d;\r\n      \r\n      paragraph = textShape.addNewTextParagraph();\r\n      run = paragraph.addNewTextRun();\r\n      run.setFontSize(fontSize);\r\n      run.setText(&quot;Following is a bullet point list:&quot;);\r\n      \r\n      createBulletpointList(textShape, \r\n       new String[]{&quot;First list item&quot;, &quot;Second list item, a little bit longer to show automatic line breaks&quot;, &quot;Third list item&quot;}\r\n      );\r\n      \r\n      paragraph = textShape.addNewTextParagraph();\r\n      \r\n      paragraph = textShape.addNewTextParagraph();\r\n      run = paragraph.addNewTextRun();\r\n      run.setFontSize(fontSize);\r\n      run.setText(&quot;Following is a numbered list:&quot;);\r\n      \r\n      createNumberedList(textShape, \r\n       new String[]{&quot;First list item&quot;, &quot;Second list item, a little bit longer to show automatic line breaks&quot;, &quot;Third list item&quot;}\r\n      );\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;./CreatePPTXNunberings.pptx&quot;);\r\n      slideShow.write(out);\r\n      out.close();\r\n      slideShow.close();\r\n    \r\n     }\r\n    }\r\n\r\nThis code needs the full jar of all of the schemas, which is `poi-ooxml-full-5.2.2.jar` for `apache poi 5.2.2`, as mentioned in [FAQ](https://poi.apache.org/help/faq.html#faq-N10025). Note, since `apache poi 5.*` the formerly used `ooxml-schemas-*.jar` cannot be used anymore. There must **not** be any `ooxml-schemas-*.jar` in class path when using `apache poi 5.*`. ","title":"How to add number list in ppt using apache poi?","body":"<p>Numbered lists are not yet implemented in <code>XSLF</code>. But the underlying <code>org.openxmlformats.schemas.drawingml.x2006.main.*</code> classes are there. So one could use this classes.</p>\n<p>But what and how?</p>\n<p>All Office Open XML files are ZIP archives. So one can simply unzip a <code>*.pptx</code> file and have a look into the XML of <code>/ppt/slides/slide1.xml</code>. There one will find something like:</p>\n<pre><code>&lt;a:p&gt;\n &lt;a:pPr marL=&quot;406400&quot; indent=&quot;-406400&quot;&gt;\n  &lt;a:buAutoNum type=&quot;arabicPeriod&quot;/&gt;\n &lt;/a:pPr&gt;\n &lt;a:r&gt;\n  &lt;a:rPr sz=&quot;2200&quot;/&gt;\n  &lt;a:t&gt;First list item&lt;/a:t&gt;\n  &lt;/a:r&gt;\n&lt;/a:p&gt;\n</code></pre>\n<p>for a paragraph in a numbered list.</p>\n<p>So the paragraph <code>p</code> contains a paragraph properties <code>pPr</code> element, having margin left set and a negative indent for the first text line (hanging indent). In <code>pPr</code> is a bullet auto number (sic) <code>buAutoNum</code> element having the type Arabic numbers followed by period <code>arabicPeriod</code>.</p>\n<p>Unfortunately there is no API documentation for the <code>org.openxmlformats.schemas.drawingml.x2006.main.*</code> classes public available. So one would need getting the sources of <code>ooxml-schemas</code> or <code>poi-ooxml-full</code> to create the API documentation using <code>javadoc</code>.</p>\n<p>Complete example:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xslf.usermodel.*;\nimport org.apache.poi.sl.usermodel.*;\n\npublic class CreatePPTXNunberings {\n    \n static void createBulletpointList(XSLFTextShape textShape, String[] items) {\n  XSLFTextParagraph paragraph = null;\n  XSLFTextRun run = null;\n  double fontSize = 22d;\n  double indent = 22d;\n  for (String item : items) {\n   paragraph = textShape.addNewTextParagraph();\n   paragraph.setBullet(true); //XSLFTextParagraph.setBullet sets pPr too\n   paragraph.getXmlObject().getPPr().setMarL(org.apache.poi.util.Units.toEMU(indent));\n   paragraph.setIndent(-indent);\n   run = paragraph.addNewTextRun();\n   run.setFontSize(fontSize);\n   run.setText(item);\n  }   \n }\n \n static void createNumberedList(XSLFTextShape textShape, String[] items) {\n  XSLFTextParagraph paragraph = null;\n  XSLFTextRun run = null;\n  double fontSize = 22d;\n  double indent = 32d;\n  for (String item : items) {\n   paragraph = textShape.addNewTextParagraph();\n   if (paragraph.getXmlObject().getPPr() == null) paragraph.getXmlObject().addNewPPr();\n   if (paragraph.getXmlObject().getPPr().getBuAutoNum() == null) paragraph.getXmlObject().getPPr().addNewBuAutoNum();\n   paragraph.getXmlObject().getPPr().getBuAutoNum().setType(org.openxmlformats.schemas.drawingml.x2006.main.STTextAutonumberScheme.ARABIC_PERIOD);\n   paragraph.getXmlObject().getPPr().setMarL(org.apache.poi.util.Units.toEMU(indent));\n   paragraph.setIndent(-indent);\n   run = paragraph.addNewTextRun();\n   run.setFontSize(fontSize);\n   run.setText(item);\n  }   \n }\n\n public static void main(String[] args) throws Exception {\n\n  XMLSlideShow slideShow = new XMLSlideShow();\n  \n  XSLFSlide slide = slideShow.createSlide();\n  \n  XSLFTextShape textShape = slide.createAutoShape();\n  java.awt.Rectangle rect = new java.awt.Rectangle(100, 100, 500, 300);\n  textShape.setAnchor(rect.getBounds2D());\n  textShape.setShapeType(ShapeType.RECT);\n\n  XSLFTextParagraph paragraph = null;\n  XSLFTextRun run = null;\n  double fontSize = 22d;\n  \n  paragraph = textShape.addNewTextParagraph();\n  run = paragraph.addNewTextRun();\n  run.setFontSize(fontSize);\n  run.setText(&quot;Following is a bullet point list:&quot;);\n  \n  createBulletpointList(textShape, \n   new String[]{&quot;First list item&quot;, &quot;Second list item, a little bit longer to show automatic line breaks&quot;, &quot;Third list item&quot;}\n  );\n  \n  paragraph = textShape.addNewTextParagraph();\n  \n  paragraph = textShape.addNewTextParagraph();\n  run = paragraph.addNewTextRun();\n  run.setFontSize(fontSize);\n  run.setText(&quot;Following is a numbered list:&quot;);\n  \n  createNumberedList(textShape, \n   new String[]{&quot;First list item&quot;, &quot;Second list item, a little bit longer to show automatic line breaks&quot;, &quot;Third list item&quot;}\n  );\n\n  FileOutputStream out = new FileOutputStream(&quot;./CreatePPTXNunberings.pptx&quot;);\n  slideShow.write(out);\n  out.close();\n  slideShow.close();\n\n }\n}\n</code></pre>\n<p>This code needs the full jar of all of the schemas, which is <code>poi-ooxml-full-5.2.2.jar</code> for <code>apache poi 5.2.2</code>, as mentioned in <a href=\"https://poi.apache.org/help/faq.html#faq-N10025\" rel=\"nofollow noreferrer\">FAQ</a>. Note, since <code>apache poi 5.*</code> the formerly used <code>ooxml-schemas-*.jar</code> cannot be used anymore. There must <strong>not</strong> be any <code>ooxml-schemas-*.jar</code> in class path when using <code>apache poi 5.*</code>.</p>\n"}],"owner":{"account_id":25957216,"reputation":45,"user_id":19674403,"display_name":"Code Machine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73441231,"answer_count":1,"score":1,"last_activity_date":1661151521,"creation_date":1661148012,"question_id":73440749,"body_markdown":"I check apache poi documentation but didn&#39;t find anything related to number list which can help to add number list to pptx, only thing i found was bullet points.\r\n\r\n```\r\nXSLFTextParagraph paragraph = textShape.addNewTextParagraph();\r\nparagraph.setBullet(true);\r\n```\r\n\r\nis there any method which we can use as a replacement of setBullet(true) method for number list?\r\nAny help would be appreciated.","title":"How to add number list in ppt using apache poi?","body":"<p>I check apache poi documentation but didn't find anything related to number list which can help to add number list to pptx, only thing i found was bullet points.</p>\n<pre><code>XSLFTextParagraph paragraph = textShape.addNewTextParagraph();\nparagraph.setBullet(true);\n</code></pre>\n<p>is there any method which we can use as a replacement of setBullet(true) method for number list?\nAny help would be appreciated.</p>\n"},{"tags":["java","eclipse","spring-boot","spring-tool-suite"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1550829954,"post_id":54824600,"comment_id":96423989,"body_markdown":"Different java versions?","body":"Different java versions?"},{"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"score":0,"creation_date":1550830333,"post_id":54824600,"comment_id":96424216,"body_markdown":"Try increasing memory. Xms and Xmx params in Eclipse","body":"Try increasing memory. Xms and Xmx params in Eclipse"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1550837772,"post_id":54824600,"comment_id":96428483,"body_markdown":"Check the dependencies that are on the classpath in Eclipse. An `AbstractMethodError` typically indicates that you&#39;ve got a mixture of versions on the classpath.","body":"Check the dependencies that are on the classpath in Eclipse. An <code>AbstractMethodError</code> typically indicates that you&#39;ve got a mixture of versions on the classpath."}],"answers":[{"tags":[],"owner":{"account_id":15309583,"reputation":1580,"user_id":11045279,"display_name":"Aditya Patnaik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661151484,"creation_date":1661151484,"answer_id":73441228,"question_id":54824600,"body_markdown":"This issue might occur due to auto configuration. Try __removing__ `spring-boot-devtools` dependency from your pom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis seemed to have worked for me.","title":"Exception in thread &quot;restartedMain&quot; with eclipse","body":"<p>This issue might occur due to auto configuration. Try <strong>removing</strong> <code>spring-boot-devtools</code> dependency from your pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This seemed to have worked for me.</p>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3723,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661151484,"creation_date":1550829871,"question_id":54824600,"body_markdown":"\r\nI am getting below error when the spring boot application starts with eclipse (STS). But when I start the application externally with java -jar command it successfully starts. \r\nHow could I get rid of below exception with eclipse?\r\n\r\n\r\n    Exception in thread &quot;restartedMain&quot; java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n    Caused by: java.lang.AbstractMethodError\r\n    \tat org.springframework.context.event.AbstractApplicationEventMulticaster.supportsEvent(AbstractApplicationEventMulticaster.java:282)\r\n    \tat org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:214)","title":"Exception in thread &quot;restartedMain&quot; with eclipse","body":"<p>I am getting below error when the spring boot application starts with eclipse (STS). But when I start the application externally with java -jar command it successfully starts. \nHow could I get rid of below exception with eclipse?</p>\n\n<pre><code>Exception in thread \"restartedMain\" java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.AbstractMethodError\n    at org.springframework.context.event.AbstractApplicationEventMulticaster.supportsEvent(AbstractApplicationEventMulticaster.java:282)\n    at org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:214)\n</code></pre>\n"},{"tags":["java","testcontainers","testcontainers-junit5"],"answers":[{"tags":[],"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661151237,"creation_date":1661151237,"answer_id":73441183,"question_id":73408038,"body_markdown":"`testcontainers.reuse.enable` is currently a preview feature. As such, it has some limitations. One of them is, that it won&#39;t work if Testcontainers networks are used.\r\n\r\nWhat is the use case for the network in this case?","title":"TestContainer doesn&#39;t reuse existing containers and creates new one instead","body":"<p><code>testcontainers.reuse.enable</code> is currently a preview feature. As such, it has some limitations. One of them is, that it won't work if Testcontainers networks are used.</p>\n<p>What is the use case for the network in this case?</p>\n"}],"owner":{"account_id":18019412,"reputation":21,"user_id":17526029,"display_name":"Ajay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661151237,"creation_date":1660848278,"question_id":73408038,"body_markdown":"I am using the testcontainers withReuse function in Groovy to reuse the containers between builds. After the tests run, the containers don&#39;t get deleted anymore. However, when I run the tests again, instead of reusing the existing one it creates a duplicate container. I want it to reuse the container it created during the last run.\r\n\r\nHere is my the code in my **GROOVY** script.\r\n\r\n        println &quot;starting k3s container...&quot;\r\n\r\n        k3sContainer = new K3sContainer(DockerImageName.parse(RANCHER_IMAGE))\r\n                .withLogConsumer(new Slf4jLogConsumer(log))\r\n                .withNetwork(network)\r\n                .withNetworkAliases(K3S_HOSTNAME)\r\n                .withReuse(true)\r\n        k3sContainer.start()\r\n\r\n        println &quot;K3S Started&quot;\r\n\r\nI have also added the following to my .testcontainers.properties file\r\n\r\n        \r\n    #Mon Jun 13 10:42:31 EDT 2022\r\n    docker.client.strategy=org.testcontainers.dockerclient.UnixSocketClientProviderStrategy\r\n    testcontainers.reuse.enable=true\r\n","title":"TestContainer doesn&#39;t reuse existing containers and creates new one instead","body":"<p>I am using the testcontainers withReuse function in Groovy to reuse the containers between builds. After the tests run, the containers don't get deleted anymore. However, when I run the tests again, instead of reusing the existing one it creates a duplicate container. I want it to reuse the container it created during the last run.</p>\n<p>Here is my the code in my <strong>GROOVY</strong> script.</p>\n<pre><code>    println &quot;starting k3s container...&quot;\n\n    k3sContainer = new K3sContainer(DockerImageName.parse(RANCHER_IMAGE))\n            .withLogConsumer(new Slf4jLogConsumer(log))\n            .withNetwork(network)\n            .withNetworkAliases(K3S_HOSTNAME)\n            .withReuse(true)\n    k3sContainer.start()\n\n    println &quot;K3S Started&quot;\n</code></pre>\n<p>I have also added the following to my .testcontainers.properties file</p>\n<pre><code>#Mon Jun 13 10:42:31 EDT 2022\ndocker.client.strategy=org.testcontainers.dockerclient.UnixSocketClientProviderStrategy\ntestcontainers.reuse.enable=true\n</code></pre>\n"},{"tags":["java","azure-ad-msal"],"answers":[{"tags":[],"owner":{"account_id":4276395,"reputation":941,"user_id":3496893,"display_name":"zdenko.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661151150,"creation_date":1661151150,"answer_id":73441168,"question_id":73441167,"body_markdown":"Sharing info. Fix in my forked branch","title":"msal-java-webapp-sample does not work when deployed to Tomcat","body":"<p>Sharing info. Fix in my forked branch</p>\n"}],"owner":{"account_id":4276395,"reputation":941,"user_id":3496893,"display_name":"zdenko.s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661151150,"creation_date":1661151150,"question_id":73441167,"body_markdown":"I suppose same problem as described in question [MSAL for Java quickstart sample app throws exception][1]. When using IDE and deploying to embedded tomcat, app works. After spending one day, I figured out what is the problem.  \r\nApplication `AuthPageController` specifies `@RequestMapping(&quot;/msal4jsample/secure/aad&quot;)`. This works with embedded tomcat. When deployed to tomcat server, tomcat removes application name from path since it is deployment information and exploded folder name depends on war file name. Same application can be deployed multiple times to different folders. Tomcat maps url as `/secure/aad` and request in this case is never handled. To fix problem, I created array of request mappings `@RequestMapping(value = {&quot;/msal4jsample/secure/aad&quot;, &quot;/secure/aad&quot;})`.  \r\nI forked MS Azure repository and made changes. Please take a look at [zdenko-s/ms-identity-java-webapp][2]  \r\nThere are other fixes too.\r\n- War file name is specified in pom.xml, no need to rename it. Removed rename step from documentation also\r\n- .gitignore wrongly specifies exclude `target`. Should be `*/target`\r\n\r\n  [1]: https://stackoverflow.com/questions/66762029/msal-for-java-quickstart-sample-app-throws-exception\r\n  [2]: https://github.com/zdenko-s/ms-identity-java-webapp","title":"msal-java-webapp-sample does not work when deployed to Tomcat","body":"<p>I suppose same problem as described in question <a href=\"https://stackoverflow.com/questions/66762029/msal-for-java-quickstart-sample-app-throws-exception\">MSAL for Java quickstart sample app throws exception</a>. When using IDE and deploying to embedded tomcat, app works. After spending one day, I figured out what is the problem.<br />\nApplication <code>AuthPageController</code> specifies <code>@RequestMapping(&quot;/msal4jsample/secure/aad&quot;)</code>. This works with embedded tomcat. When deployed to tomcat server, tomcat removes application name from path since it is deployment information and exploded folder name depends on war file name. Same application can be deployed multiple times to different folders. Tomcat maps url as <code>/secure/aad</code> and request in this case is never handled. To fix problem, I created array of request mappings <code>@RequestMapping(value = {&quot;/msal4jsample/secure/aad&quot;, &quot;/secure/aad&quot;})</code>.<br />\nI forked MS Azure repository and made changes. Please take a look at <a href=\"https://github.com/zdenko-s/ms-identity-java-webapp\" rel=\"nofollow noreferrer\">zdenko-s/ms-identity-java-webapp</a><br />\nThere are other fixes too.</p>\n<ul>\n<li>War file name is specified in pom.xml, no need to rename it. Removed rename step from documentation also</li>\n<li>.gitignore wrongly specifies exclude <code>target</code>. Should be <code>*/target</code></li>\n</ul>\n"},{"tags":["java","spring-boot","microservices","axon"],"comments":[{"owner":{"account_id":19952161,"reputation":31,"user_id":14621585,"display_name":"Pezhman"},"score":0,"creation_date":1660631273,"post_id":73369500,"comment_id":129570787,"body_markdown":"I need to mention that, I changed the `private List&lt;Role&gt; roles` to `private Role role` in the User Class, and worked properly. But in case of List of objects, it has problems.","body":"I need to mention that, I changed the <code>private List&lt;Role&gt; roles</code> to <code>private Role role</code> in the User Class, and worked properly. But in case of List of objects, it has problems."},{"owner":{"account_id":2784418,"reputation":211,"user_id":2396194,"display_name":"Mitchell Herrijgers"},"score":0,"creation_date":1660635303,"post_id":73369500,"comment_id":129571944,"body_markdown":"Hello @Pezhman! Could you share the exact error and stacktrace with me? That would help me pinpoint the issue. In addition, are you using Axon Server as well?","body":"Hello @Pezhman! Could you share the exact error and stacktrace with me? That would help me pinpoint the issue. In addition, are you using Axon Server as well?"},{"owner":{"account_id":19952161,"reputation":31,"user_id":14621585,"display_name":"Pezhman"},"score":0,"creation_date":1660635611,"post_id":73369500,"comment_id":129572049,"body_markdown":"Thank you @Mitchell Herrijgers for your comment. Yes I&#39;m using Axon server by using Docker.","body":"Thank you @Mitchell Herrijgers for your comment. Yes I&#39;m using Axon server by using Docker."},{"owner":{"account_id":2784418,"reputation":211,"user_id":2396194,"display_name":"Mitchell Herrijgers"},"score":0,"creation_date":1660636714,"post_id":73369500,"comment_id":129572452,"body_markdown":"Unfortunately I cannot see details about the error. However, I notice you are using Java17 and XStream, is that correct? XStream on Java 17 has a lot of issues. Can you try to use either an earlier Java version, or use the `JacksonSerializer`?","body":"Unfortunately I cannot see details about the error. However, I notice you are using Java17 and XStream, is that correct? XStream on Java 17 has a lot of issues. Can you try to use either an earlier Java version, or use the <code>JacksonSerializer</code>?"},{"owner":{"account_id":19952161,"reputation":31,"user_id":14621585,"display_name":"Pezhman"},"score":0,"creation_date":1660637344,"post_id":73369500,"comment_id":129572640,"body_markdown":"This is the exception: `org.axonframework.commandhandling.CommandExecutionException: com.hawramgard.user.core.models.Role`.  I&#39;m not using XStream. The Java version is 17. Ok I&#39;ll try the earlier versions of java and JacksonSerializer.","body":"This is the exception: <code>org.axonframework.commandhandling.CommandExecutionException: com.hawramgard.user.core.models.Role</code>.  I&#39;m not using XStream. The Java version is 17. Ok I&#39;ll try the earlier versions of java and JacksonSerializer."},{"owner":{"account_id":2784418,"reputation":211,"user_id":2396194,"display_name":"Mitchell Herrijgers"},"score":0,"creation_date":1660638870,"post_id":73369500,"comment_id":129573155,"body_markdown":"It might be the defaultTyping option that you are missing then: https://docs.axoniq.io/reference-guide/axon-framework/serialization#default-typing","body":"It might be the defaultTyping option that you are missing then: <a href=\"https://docs.axoniq.io/reference-guide/axon-framework/serialization#default-typing\" rel=\"nofollow noreferrer\">docs.axoniq.io/reference-guide/axon-framework/&hellip;</a>"},{"owner":{"account_id":19952161,"reputation":31,"user_id":14621585,"display_name":"Pezhman"},"score":0,"creation_date":1660640736,"post_id":73369500,"comment_id":129573815,"body_markdown":"Where should I add this configuration in my project?","body":"Where should I add this configuration in my project?"},{"owner":{"account_id":2784418,"reputation":211,"user_id":2396194,"display_name":"Mitchell Herrijgers"},"score":0,"creation_date":1660642235,"post_id":73369500,"comment_id":129574335,"body_markdown":"It should be in a `@Configuration` class and the method should be annotated with `@Bean`, then it will be picked up","body":"It should be in a <code>@Configuration</code> class and the method should be annotated with <code>@Bean</code>, then it will be picked up"},{"owner":{"account_id":19952161,"reputation":31,"user_id":14621585,"display_name":"Pezhman"},"score":0,"creation_date":1660649531,"post_id":73369500,"comment_id":129576809,"body_markdown":"Dear @Mitchell Herrijgers, the JacksonSerializer solved the problem. Thank you very much for your help","body":"Dear @Mitchell Herrijgers, the JacksonSerializer solved the problem. Thank you very much for your help"},{"owner":{"account_id":2784418,"reputation":211,"user_id":2396194,"display_name":"Mitchell Herrijgers"},"score":0,"creation_date":1661150965,"post_id":73369500,"comment_id":129694281,"body_markdown":"Great to hear! I added it as an answer for any users experiencing the same problem in the future.","body":"Great to hear! I added it as an answer for any users experiencing the same problem in the future."}],"answers":[{"tags":[],"owner":{"account_id":2784418,"reputation":211,"user_id":2396194,"display_name":"Mitchell Herrijgers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661150935,"creation_date":1661150935,"answer_id":73441139,"question_id":73369500,"body_markdown":"When Jackson needs to serialize a list, it loses the type information and is unable to deserialize it. This can be solved in Axon Framework using the following configuration:\r\n\r\n```java\r\n@Configuration\r\npublic class SerializerConfig {\r\n    @Bean\r\n    public Serializer jacksonSerializer(ObjectMapper objectMapper) {\r\n        return JacksonSerializer.builder()\r\n                .defaultTyping()\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nNote that this can also be solved using `@JsonTypeInfo` annotation. For more information, see the javadoc of the `defaultTyping()` method on the `JacksonSerializer`:\r\n\r\n&gt; Configures the underlying ObjectMapper to include type information when serializing Java objects into JSON. Specifically, it calls ObjectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping) method, using ObjectMapper.DefaultTyping.NON_CONCRETE_AND_ARRAYS. This can be toggled on to allow java.util.Collections of objects, for example query java.util.List responses, to automatically include the types without require the use of com.fasterxml.jackson.annotation.JsonTypeInfo on the objects themselves.","title":"Instantiating a list of object in a class of a module from within other modules","body":"<p>When Jackson needs to serialize a list, it loses the type information and is unable to deserialize it. This can be solved in Axon Framework using the following configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SerializerConfig {\n    @Bean\n    public Serializer jacksonSerializer(ObjectMapper objectMapper) {\n        return JacksonSerializer.builder()\n                .defaultTyping()\n                .build();\n    }\n}\n\n</code></pre>\n<p>Note that this can also be solved using <code>@JsonTypeInfo</code> annotation. For more information, see the javadoc of the <code>defaultTyping()</code> method on the <code>JacksonSerializer</code>:</p>\n<blockquote>\n<p>Configures the underlying ObjectMapper to include type information when serializing Java objects into JSON. Specifically, it calls ObjectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping) method, using ObjectMapper.DefaultTyping.NON_CONCRETE_AND_ARRAYS. This can be toggled on to allow java.util.Collections of objects, for example query java.util.List responses, to automatically include the types without require the use of com.fasterxml.jackson.annotation.JsonTypeInfo on the objects themselves.</p>\n</blockquote>\n"}],"owner":{"account_id":19952161,"reputation":31,"user_id":14621585,"display_name":"Pezhman"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661150935,"creation_date":1660630436,"question_id":73369500,"body_markdown":"I have two modules in a spring boot microservice project which uses Axon framework. in the first module that is defined as a core project to keep the models, I have two classes (User and Role) which User class contains a list of roles:\r\n\r\n```\r\n////// The User and Role classes are in the first module\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User {\r\n    private Integer id;\r\n    private String username;\r\n    private String password;\r\n    private String email;\r\n    private boolean enabled = false;\r\n    private boolean accountNonExpired = true;\r\n    private boolean credentialsNonExpired = true;\r\n    private boolean accountNonLocked = true;\r\n    private List&lt;Role&gt; roles;\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Role {\r\n    private Integer id;\r\n    private String name;\r\n}\r\n```\r\n\r\nIn the second module I have added the dependency of the first module in POM file in order to access the User and Role classes:\r\n\r\n    &lt;dependency&gt;\r\n\t  &lt;groupId&gt;com.main&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n\t  &lt;version&gt;0.0.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nIn the second module when I am trying to create a User object, it gets error and does not save the user to the event store and complains about the Role class and specifically the List of Role. the following is a controller class in the second module that is creating a User object to send to Axon:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1/registerUser&quot;)\r\npublic class RegisterUserController {\r\n\r\nprivate final CommandGateway commandGateway;\r\n......\r\n\r\n@PostMapping\r\npublic ResponseEntity&lt;?&gt; registerUser(@RequestBody User user)\r\n{\r\n  Role role = new Role();\r\n  role.setId(1);\r\n  role.setName(&quot;Admin&quot;);\r\n  \r\n  List&lt;Role&gt; roles = new ArrayList&lt;Role&gt;();\r\n  roles.add(role);\r\n\r\n  ....\r\n\r\n  user.setRole(roles);\r\n\r\n  RegisterUserCommand command = new RegisterUserCommand();\r\n  command.setId(id);\r\n  command.setUser(user);\r\n\r\n  commandGateway.sendAndWait(command); /// Send the user to Axon\r\n\r\n  ....  \r\n}\r\n\r\n```\r\n\r\n**Important:** when I tried to have just one module and put the user and role classes, controllers and all things in that module, it worked with no problem. \r\n\r\nStacktarce:\r\n```\r\n2022-08-16 12:06:44.463  INFO 29816 --- [           main] c.h.user.cmd.api.UserCommandApplication  : Starting UserCommandApplication using Java 17.0.4 on DESKTOP-JUNLICE with PID 29816 (E:\\Hawramgard_main\\User_Management\\user.cmd.api\\target\\classes started by Venos46131105 in E:\\Hawramgard_main\\User_Management)\r\n2022-08-16 12:06:44.465  INFO 29816 --- [           main] c.h.user.cmd.api.UserCommandApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2022-08-16 12:06:45.249  INFO 29816 --- [           main] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition &#39;org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration&#39; since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as &#39;static&#39;.\r\n2022-08-16 12:06:45.360  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;(inner bean)#4a1e3ac1#31&#39; of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-08-16 12:06:45.361  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;(inner bean)#4a1e3ac1#31&#39; of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-08-16 12:06:45.364  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;(inner bean)#4a31c2ee#31&#39; of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-08-16 12:06:45.364  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;(inner bean)#7be71476&#39; of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-08-16 12:06:45.366  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;__axon-parameter-resolver-factory&#39; of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-08-16 12:06:45.366  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;__axon-parameter-resolver-factory&#39; of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-08-16 12:06:45.374  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;(inner bean)#7b7683d4&#39; of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-08-16 12:06:45.374  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;(inner bean)#7b7683d4&#39; of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-08-16 12:06:45.375  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;(inner bean)#3efedc6f&#39; of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-08-16 12:06:45.375  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;(inner bean)#3efedc6f&#39; of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-08-16 12:06:45.376  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;__axon-handler-definition&#39; of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-08-16 12:06:45.653  INFO 29816 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\r\n2022-08-16 12:06:45.667  INFO 29816 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-08-16 12:06:45.667  INFO 29816 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n2022-08-16 12:06:45.769  INFO 29816 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-08-16 12:06:45.769  INFO 29816 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1265 ms\r\n2022-08-16 12:06:45.977  INFO 29816 --- [           main] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.\r\n2022-08-16 12:06:46.083  INFO 29816 --- [           main] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.hawramgard.user.cmd.api].\r\n2022-08-16 12:06:46.091  INFO 29816 --- [           main] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document\r\n2022-08-16 12:06:46.091  INFO 29816 --- [           main] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document\r\n2022-08-16 12:06:46.092  INFO 29816 --- [           main] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document\r\n2022-08-16 12:06:46.092  INFO 29816 --- [           main] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/ParsingException\r\n2022-08-16 12:06:46.145  WARN 29816 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : \r\n\r\n\r\n2022-08-16 12:06:46.309  INFO 29816 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ee5632d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52a7928a, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f9dda71, org.springframework.security.web.header.HeaderWriterFilter@5fffb692, org.springframework.web.filter.CorsFilter@563ccd31, org.springframework.security.web.authentication.logout.LogoutFilter@739831a4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@39023dbf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f5fcfe9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67688110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72465eb2, org.springframework.security.web.session.SessionManagementFilter@6282b9f5, org.springframework.security.web.access.ExceptionTranslationFilter@79d7035, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2bab618]\r\n2022-08-16 12:06:46.730  INFO 29816 --- [           main] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124\r\n2022-08-16 12:06:47.147  INFO 29816 --- [           main] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124\r\n2022-08-16 12:06:47.158  INFO 29816 --- [           main] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context &#39;default&#39;. Sending client identification\r\n2022-08-16 12:06:47.170  INFO 29816 --- [           main] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context &#39;default&#39; connected, 0 command handlers registered\r\n2022-08-16 12:06:47.174  INFO 29816 --- [           main] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command &#39;com.hawramgard.user.cmd.api.commands.RegisterUserCommand&#39; in context &#39;default&#39;\r\n2022-08-16 12:06:47.179  INFO 29816 --- [           main] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command &#39;com.hawramgard.user.cmd.api.commands.RemoveUserCommand&#39; in context &#39;default&#39;\r\n2022-08-16 12:06:47.180  INFO 29816 --- [           main] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command &#39;com.hawramgard.user.cmd.api.commands.UpdateUserCommand&#39; in context &#39;default&#39;\r\n2022-08-16 12:06:47.200  INFO 29816 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path &#39;&#39;\r\n2022-08-16 12:06:47.215  INFO 29816 --- [           main] c.h.user.cmd.api.UserCommandApplication  : Started UserCommandApplication in 3.056 seconds (JVM running for 5.815)\r\n2022-08-16 12:07:13.096  INFO 29816 --- [nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-08-16 12:07:13.096  INFO 29816 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-08-16 12:07:13.096  INFO 29816 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\r\nRegisterUserCommand(id=1638, user=com.hawramgard.user.core.models.User@7738b41d)\r\norg.axonframework.commandhandling.CommandExecutionException: com.hawramgard.user.core.models.Role\r\n```","title":"Instantiating a list of object in a class of a module from within other modules","body":"<p>I have two modules in a spring boot microservice project which uses Axon framework. in the first module that is defined as a core project to keep the models, I have two classes (User and Role) which User class contains a list of roles:</p>\n<pre><code>////// The User and Role classes are in the first module\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n    private Integer id;\n    private String username;\n    private String password;\n    private String email;\n    private boolean enabled = false;\n    private boolean accountNonExpired = true;\n    private boolean credentialsNonExpired = true;\n    private boolean accountNonLocked = true;\n    private List&lt;Role&gt; roles;\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Role {\n    private Integer id;\n    private String name;\n}\n</code></pre>\n<p>In the second module I have added the dependency of the first module in POM file in order to access the User and Role classes:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.main&lt;/groupId&gt;\n  &lt;artifactId&gt;core&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In the second module when I am trying to create a User object, it gets error and does not save the user to the event store and complains about the Role class and specifically the List of Role. the following is a controller class in the second module that is creating a User object to send to Axon:</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/api/v1/registerUser&quot;)\npublic class RegisterUserController {\n\nprivate final CommandGateway commandGateway;\n......\n\n@PostMapping\npublic ResponseEntity&lt;?&gt; registerUser(@RequestBody User user)\n{\n  Role role = new Role();\n  role.setId(1);\n  role.setName(&quot;Admin&quot;);\n  \n  List&lt;Role&gt; roles = new ArrayList&lt;Role&gt;();\n  roles.add(role);\n\n  ....\n\n  user.setRole(roles);\n\n  RegisterUserCommand command = new RegisterUserCommand();\n  command.setId(id);\n  command.setUser(user);\n\n  commandGateway.sendAndWait(command); /// Send the user to Axon\n\n  ....  \n}\n\n</code></pre>\n<p><strong>Important:</strong> when I tried to have just one module and put the user and role classes, controllers and all things in that module, it worked with no problem.</p>\n<p>Stacktarce:</p>\n<pre><code>2022-08-16 12:06:44.463  INFO 29816 --- [           main] c.h.user.cmd.api.UserCommandApplication  : Starting UserCommandApplication using Java 17.0.4 on DESKTOP-JUNLICE with PID 29816 (E:\\Hawramgard_main\\User_Management\\user.cmd.api\\target\\classes started by Venos46131105 in E:\\Hawramgard_main\\User_Management)\n2022-08-16 12:06:44.465  INFO 29816 --- [           main] c.h.user.cmd.api.UserCommandApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-08-16 12:06:45.249  INFO 29816 --- [           main] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.axonframework.springboot.autoconfig.EventProcessingAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.\n2022-08-16 12:06:45.360  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#4a1e3ac1#31' of type [org.axonframework.spring.config.annotation.SpringContextParameterResolverFactoryBuilder$ClasspathParameterResolverFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-08-16 12:06:45.361  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#4a1e3ac1#31' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-08-16 12:06:45.364  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#4a31c2ee#31' of type [org.axonframework.spring.config.annotation.SpringBeanDependencyResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-08-16 12:06:45.364  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#7be71476' of type [org.axonframework.spring.config.annotation.SpringBeanParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-08-16 12:06:45.366  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.spring.config.ApplicationContextLookupParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-08-16 12:06:45.366  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean '__axon-parameter-resolver-factory' of type [org.axonframework.messaging.annotation.MultiParameterResolverFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-08-16 12:06:45.374  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#7b7683d4' of type [org.axonframework.spring.config.annotation.SpringHandlerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-08-16 12:06:45.374  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#7b7683d4' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-08-16 12:06:45.375  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#3efedc6f' of type [org.axonframework.spring.config.annotation.SpringHandlerEnhancerDefinitionBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-08-16 12:06:45.375  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean '(inner bean)#3efedc6f' of type [org.axonframework.messaging.annotation.MultiHandlerEnhancerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-08-16 12:06:45.376  INFO 29816 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean '__axon-handler-definition' of type [org.axonframework.messaging.annotation.MultiHandlerDefinition] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-08-16 12:06:45.653  INFO 29816 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\n2022-08-16 12:06:45.667  INFO 29816 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-08-16 12:06:45.667  INFO 29816 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n2022-08-16 12:06:45.769  INFO 29816 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-08-16 12:06:45.769  INFO 29816 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1265 ms\n2022-08-16 12:06:45.977  INFO 29816 --- [           main] o.a.s.a.XStreamAutoConfiguration         : Initializing an XStream instance since none was found. The auto configuration base packages will be used as wildcards for the XStream security settings.\n2022-08-16 12:06:46.083  INFO 29816 --- [           main] o.a.s.util.XStreamSecurityTypeUtility    : Constructing wildcard type for base package [com.hawramgard.user.cmd.api].\n2022-08-16 12:06:46.091  INFO 29816 --- [           main] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.Dom4JToByteArrayConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document\n2022-08-16 12:06:46.091  INFO 29816 --- [           main] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToDom4jConverter] is ignored. It seems to rely on a class that is not available in the class loader: org/dom4j/Document\n2022-08-16 12:06:46.092  INFO 29816 --- [           main] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.XomToStringConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/Document\n2022-08-16 12:06:46.092  INFO 29816 --- [           main] o.a.serialization.ChainingConverter      : ContentTypeConverter of type [class org.axonframework.serialization.xml.InputStreamToXomConverter] is ignored. It seems to rely on a class that is not available in the class loader: nu/xom/ParsingException\n2022-08-16 12:06:46.145  WARN 29816 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : \n\n\n2022-08-16 12:06:46.309  INFO 29816 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ee5632d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52a7928a, org.springframework.security.web.context.SecurityContextPersistenceFilter@2f9dda71, org.springframework.security.web.header.HeaderWriterFilter@5fffb692, org.springframework.web.filter.CorsFilter@563ccd31, org.springframework.security.web.authentication.logout.LogoutFilter@739831a4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@39023dbf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f5fcfe9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67688110, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72465eb2, org.springframework.security.web.session.SessionManagementFilter@6282b9f5, org.springframework.security.web.access.ExceptionTranslationFilter@79d7035, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2bab618]\n2022-08-16 12:06:46.730  INFO 29816 --- [           main] i.a.a.c.impl.AxonServerManagedChannel    : Requesting connection details from localhost:8124\n2022-08-16 12:06:47.147  INFO 29816 --- [           main] i.a.a.c.impl.AxonServerManagedChannel    : Successfully connected to localhost:8124\n2022-08-16 12:06:47.158  INFO 29816 --- [           main] i.a.a.connector.impl.ControlChannelImpl  : Connected instruction stream for context 'default'. Sending client identification\n2022-08-16 12:06:47.170  INFO 29816 --- [           main] i.a.a.c.command.impl.CommandChannelImpl  : CommandChannel for context 'default' connected, 0 command handlers registered\n2022-08-16 12:06:47.174  INFO 29816 --- [           main] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.hawramgard.user.cmd.api.commands.RegisterUserCommand' in context 'default'\n2022-08-16 12:06:47.179  INFO 29816 --- [           main] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.hawramgard.user.cmd.api.commands.RemoveUserCommand' in context 'default'\n2022-08-16 12:06:47.180  INFO 29816 --- [           main] i.a.a.c.command.impl.CommandChannelImpl  : Registered handler for command 'com.hawramgard.user.cmd.api.commands.UpdateUserCommand' in context 'default'\n2022-08-16 12:06:47.200  INFO 29816 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''\n2022-08-16 12:06:47.215  INFO 29816 --- [           main] c.h.user.cmd.api.UserCommandApplication  : Started UserCommandApplication in 3.056 seconds (JVM running for 5.815)\n2022-08-16 12:07:13.096  INFO 29816 --- [nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-08-16 12:07:13.096  INFO 29816 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-08-16 12:07:13.096  INFO 29816 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\nRegisterUserCommand(id=1638, user=com.hawramgard.user.core.models.User@7738b41d)\norg.axonframework.commandhandling.CommandExecutionException: com.hawramgard.user.core.models.Role\n</code></pre>\n"},{"tags":["java","pkcs#12"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661148574,"post_id":73440794,"comment_id":129693686,"body_markdown":"Can you please share an [mcve]","body":"Can you please share an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661148599,"post_id":73440794,"comment_id":129693693,"body_markdown":"Also, the complete stacktrace maybe helpful","body":"Also, the complete stacktrace maybe helpful"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1661151870,"post_id":73440794,"comment_id":129694528,"body_markdown":"The question is how does the other service convert the bytes of the .pkcs12 file into a string. Does it use base64 encoding? That would be the best case and you would need call methods from `java.util.Base64` to convert the string into a byte array. If it uses some (random) charset that would be bad, because for many charsets there is **no** lossless transformation from byte array to characters to byte array.","body":"The question is how does the other service convert the bytes of the .pkcs12 file into a string. Does it use base64 encoding? That would be the best case and you would need call methods from <code>java.util.Base64</code> to convert the string into a byte array. If it uses some (random) charset that would be bad, because for many charsets there is <b>no</b> lossless transformation from byte array to characters to byte array."}],"owner":{"account_id":26126309,"reputation":1,"user_id":19817680,"display_name":"user19817680"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661150569,"creation_date":1661148365,"question_id":73440794,"body_markdown":"I am getting .pkcs12 file content as string param from other service. In java while reading getting error as \r\n\r\n&gt; java.io.IOException: DerInputStream.getLength(): lengthTag=58, too\r\n&gt; big.\r\n\r\nsample code:\r\n\r\n    private void getAccessToken(String pkcs12Content){\r\n     InputStream appSecretStream = new ByteArrayInputStream(pkcs12Content.getBytes());  \r\n    ConfidentialClientApplication app = ConfidentialClientApplication\r\n    \t\t\t  .builder(clientId, ClientCredentialFactory.createFromCertificate(appSecretStream,\r\n    \t\t\t  secretPassword)) .authority(url).build();\r\n    }\r\n\r\nI am using msal4j library to connect to the azure service.\r\nThe issue might be due to change in the format of content while taken to String. Let me know how to read content?\r\nNote: The method call is done from JavaScript code.\r\n\r\n","title":"While reading .pkcs12 file content as method parameter getting error as java.io.IOException: DerInputStream.getLength(): lengthTag=58, too big","body":"<p>I am getting .pkcs12 file content as string param from other service. In java while reading getting error as</p>\n<blockquote>\n<p>java.io.IOException: DerInputStream.getLength(): lengthTag=58, too\nbig.</p>\n</blockquote>\n<p>sample code:</p>\n<pre><code>private void getAccessToken(String pkcs12Content){\n InputStream appSecretStream = new ByteArrayInputStream(pkcs12Content.getBytes());  \nConfidentialClientApplication app = ConfidentialClientApplication\n              .builder(clientId, ClientCredentialFactory.createFromCertificate(appSecretStream,\n              secretPassword)) .authority(url).build();\n}\n</code></pre>\n<p>I am using msal4j library to connect to the azure service.\nThe issue might be due to change in the format of content while taken to String. Let me know how to read content?\nNote: The method call is done from JavaScript code.</p>\n"},{"tags":["java","jnlp"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1661152734,"post_id":73441066,"comment_id":129694761,"body_markdown":"This doesn&#39;t answer your question ... but I&#39;d like to point out that JNLP supported in Java 9, and removed in Java 11.  So the application you are using is on borrowed time ... unless you switch to a 3rd-party implementation of Java Web Start.","body":"This doesn&#39;t answer your question ... but I&#39;d like to point out that JNLP supported in Java 9, and removed in Java 11.  So the application you are using is on borrowed time ... unless you switch to a 3rd-party implementation of Java Web Start."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1661153246,"post_id":73441066,"comment_id":129694898,"body_markdown":"The only still supported version of Webstart I know of is https://openwebstart.com/.","body":"The only still supported version of Webstart I know of is <a href=\"https://openwebstart.com/\" rel=\"nofollow noreferrer\">openwebstart.com</a>."}],"owner":{"account_id":4977558,"reputation":235,"user_id":4003476,"display_name":"mic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661150426,"creation_date":1661150426,"question_id":73441066,"body_markdown":"I have Java version 8 Update 261 on a 64 bit Windows 10 system.\r\n\r\nWhat I did:&lt;br&gt;\r\n- downloaded and executed a `jnlp` file\r\n- the application was installed in the Java cache and a desktop icon was created\r\n- the application was starting\r\n\r\nSo far, so good.&lt;br&gt;\r\nNow, after closing the app and double clicking that desktop icon - nothing happens.&lt;br&gt;\r\nHowever, in the Task-Manager I see that the Java Web Launcher is running. And every further double click starts another instance of it, but on the screen I see nothing.&lt;br&gt;\r\n\r\nTo get the application running properly again, I can either\r\n- clear the Java cache with hook at &quot;installed applications and applets&quot; set:&lt;br&gt;\r\n[![enter image description here][1]][1]\r\n&lt;br&gt;The desktop icon is removed, the above procedure can then be repeated and works like a charm.\r\n\r\n- or show the Java console&lt;br&gt;\r\n[![enter image description here][2]][2]&lt;br&gt;&lt;br&gt;\r\nIn this case double clicking the desktop icon works! The Java console opens and after some seconds the application is starting.&lt;br&gt;There&#39;s no need to clear the cache anymore.\r\n\r\nI understand that clearing the cache can solve manifold issues, but what effect has the simple &quot;show console&quot; here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XQuS4.png\r\n  [2]: https://i.stack.imgur.com/aJ2EF.png","title":"JNLP only starting when Java console is shown?","body":"<p>I have Java version 8 Update 261 on a 64 bit Windows 10 system.</p>\n<p>What I did:<br></p>\n<ul>\n<li>downloaded and executed a <code>jnlp</code> file</li>\n<li>the application was installed in the Java cache and a desktop icon was created</li>\n<li>the application was starting</li>\n</ul>\n<p>So far, so good.<br>\nNow, after closing the app and double clicking that desktop icon - nothing happens.<br>\nHowever, in the Task-Manager I see that the Java Web Launcher is running. And every further double click starts another instance of it, but on the screen I see nothing.<br></p>\n<p>To get the application running properly again, I can either</p>\n<ul>\n<li><p>clear the Java cache with hook at &quot;installed applications and applets&quot; set:<br>\n<a href=\"https://i.stack.imgur.com/XQuS4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XQuS4.png\" alt=\"enter image description here\" /></a>\n<br>The desktop icon is removed, the above procedure can then be repeated and works like a charm.</p>\n</li>\n<li><p>or show the Java console<br>\n<a href=\"https://i.stack.imgur.com/aJ2EF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aJ2EF.png\" alt=\"enter image description here\" /></a><br><br>\nIn this case double clicking the desktop icon works! The Java console opens and after some seconds the application is starting.<br>There's no need to clear the cache anymore.</p>\n</li>\n</ul>\n<p>I understand that clearing the cache can solve manifold issues, but what effect has the simple &quot;show console&quot; here?</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":6496686,"reputation":578,"user_id":5029081,"display_name":"Haroldo Macedo"},"score":1,"creation_date":1661148465,"post_id":73440256,"comment_id":129693660,"body_markdown":"GET method doesnât have a body. Try POST or PUT.","body":"GET method doesnât have a body. Try POST or PUT."},{"owner":{"account_id":20248179,"reputation":28,"user_id":14850064,"display_name":"sputnik"},"score":0,"creation_date":1661150236,"post_id":73440256,"comment_id":129694088,"body_markdown":"Thanks for taking your time. The problem has been resolved","body":"Thanks for taking your time. The problem has been resolved"}],"answers":[{"tags":[],"owner":{"account_id":25967898,"reputation":132,"user_id":19683595,"display_name":"pan-leszeczek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661149430,"creation_date":1661147155,"answer_id":73440652,"question_id":73440256,"body_markdown":"You need to use &quot;example&quot; property of that annotation:\r\n    \r\n    @ApiModelProperty(example = &quot;example value of property&quot;)\r\n\r\n\r\nAs mentioned in the comment ApiModelProperty -&gt; example would work fine in case you use springfox dependency\r\nBut since you use springdoc-openapi-ui you should use \r\n    \r\n    @Schema(... example = &quot;example value&quot;)\r\n    \r\nin your Request/Response models","title":"Why I am unable to customize Request Body in Swagger UI for an endpoint that I created using Spring Boot?","body":"<p>You need to use &quot;example&quot; property of that annotation:</p>\n<pre><code>@ApiModelProperty(example = &quot;example value of property&quot;)\n</code></pre>\n<p>As mentioned in the comment ApiModelProperty -&gt; example would work fine in case you use springfox dependency\nBut since you use springdoc-openapi-ui you should use</p>\n<pre><code>@Schema(... example = &quot;example value&quot;)\n</code></pre>\n<p>in your Request/Response models</p>\n"},{"tags":[],"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661148988,"creation_date":1661148988,"answer_id":73440863,"question_id":73440256,"body_markdown":"The request model documentation should be in another section called &quot;Schemas&quot; of the swagger ui page, scroll down the swagger ui page if you define it correctly it should be down there.\r\n\r\nEdit:\r\nor you can see it just by pressing the tab &quot;Schema&quot; to the right of &quot;Example Value&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zsEBg.png","title":"Why I am unable to customize Request Body in Swagger UI for an endpoint that I created using Spring Boot?","body":"<p>The request model documentation should be in another section called &quot;Schemas&quot; of the swagger ui page, scroll down the swagger ui page if you define it correctly it should be down there.</p>\n<p>Edit:\nor you can see it just by pressing the tab &quot;Schema&quot; to the right of &quot;Example Value&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/zsEBg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zsEBg.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20248179,"reputation":28,"user_id":14850064,"display_name":"sputnik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73440652,"answer_count":2,"score":0,"last_activity_date":1661150359,"creation_date":1661142805,"question_id":73440256,"body_markdown":"I have created an endpoint which allows you to get the details of book by id.\r\n\r\n    @ResponseBody\r\n    @RequestMapping(value = &quot;/books/{id}&quot;, method = RequestMethod.GET)\r\n    public BookResponse getDetails(\r\n                        @PathVariable(name = &quot;id&quot;, required = true) int id,\r\n                        @PathVariable(name = &quot;name&quot;, required = false) String name,\r\n                        @RequestBody BookRequest request)\r\n    {\r\n        return controllerBook.getBookDetails(request, id, name);\r\n    }\r\n\r\nThe RequestBody is\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\n@JsonInclude(JsonInclude.Include.ALWAYS)\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@ApiModel(&quot;BookRequest&quot;)\r\npublic class BookRequest {\r\n    @NotNull(message = &quot;Id of user created while registration&quot;)\r\n    @ApiModelProperty(value = &quot;Id of user created while registration&quot;)\r\n    private int userId;\r\n    @NotNull(message = &quot;Id of book&quot;)\r\n    @ApiModelProperty(value = &quot;Id of book&quot;)\r\n    private int bookId;\r\n    @NotNull\r\n    @ApiModelProperty(value = &quot;Detail of book&quot;)\r\n    private String detail1;\r\n    @ApiModelProperty(value = &quot;Detail of book&quot;)\r\n    private String detail2;\r\n    @ApiModelProperty(value = &quot;Name of book&quot;)\r\n    private String name;\r\n    @ApiModelProperty(value = &quot;Author of book&quot;)\r\n    private String author;\r\n    @ApiModelProperty(value = &quot;Category of book&quot;)\r\n    private String category;\r\n    @ApiModelProperty(value = &quot;Language of book&quot;)\r\n    private String language;\r\n}\r\n```\r\n\r\nI tried using @Api instead of @ApiModel and tried changing the keyword of arguments to example, name in @ApiModelProperty and also tried using arguments without keywords.\r\n\r\nI am using springdoc openapi ui\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nEvery time I run the application and open swagger UI I am unable to view these changes in the request Body and only default values can be seen. As you can see Request Body has not been customized but only takes default values\r\n\r\n[![As you can see Request Body has not been customized but only takes default values][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7zrTE.png\r\n\r\nAm I missing something? Or Am I using @ApiModelProperty for what is not intended? If so what is the correct wrapper or annotation to use here? It would be of great help if anyone clarifies this.\r\n\r\n\r\nProblem is resolved. Check answer posted by **pan-leszeczek** and the corresponding thread.","title":"Why I am unable to customize Request Body in Swagger UI for an endpoint that I created using Spring Boot?","body":"<p>I have created an endpoint which allows you to get the details of book by id.</p>\n<pre><code>@ResponseBody\n@RequestMapping(value = &quot;/books/{id}&quot;, method = RequestMethod.GET)\npublic BookResponse getDetails(\n                    @PathVariable(name = &quot;id&quot;, required = true) int id,\n                    @PathVariable(name = &quot;name&quot;, required = false) String name,\n                    @RequestBody BookRequest request)\n{\n    return controllerBook.getBookDetails(request, id, name);\n}\n</code></pre>\n<p>The RequestBody is</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\n@JsonInclude(JsonInclude.Include.ALWAYS)\n@JsonIgnoreProperties(ignoreUnknown = true)\n@ApiModel(&quot;BookRequest&quot;)\npublic class BookRequest {\n    @NotNull(message = &quot;Id of user created while registration&quot;)\n    @ApiModelProperty(value = &quot;Id of user created while registration&quot;)\n    private int userId;\n    @NotNull(message = &quot;Id of book&quot;)\n    @ApiModelProperty(value = &quot;Id of book&quot;)\n    private int bookId;\n    @NotNull\n    @ApiModelProperty(value = &quot;Detail of book&quot;)\n    private String detail1;\n    @ApiModelProperty(value = &quot;Detail of book&quot;)\n    private String detail2;\n    @ApiModelProperty(value = &quot;Name of book&quot;)\n    private String name;\n    @ApiModelProperty(value = &quot;Author of book&quot;)\n    private String author;\n    @ApiModelProperty(value = &quot;Category of book&quot;)\n    private String category;\n    @ApiModelProperty(value = &quot;Language of book&quot;)\n    private String language;\n}\n</code></pre>\n<p>I tried using @Api instead of @ApiModel and tried changing the keyword of arguments to example, name in @ApiModelProperty and also tried using arguments without keywords.</p>\n<p>I am using springdoc openapi ui</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Every time I run the application and open swagger UI I am unable to view these changes in the request Body and only default values can be seen. As you can see Request Body has not been customized but only takes default values</p>\n<p><a href=\"https://i.stack.imgur.com/7zrTE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7zrTE.png\" alt=\"As you can see Request Body has not been customized but only takes default values\" /></a></p>\n<p>Am I missing something? Or Am I using @ApiModelProperty for what is not intended? If so what is the correct wrapper or annotation to use here? It would be of great help if anyone clarifies this.</p>\n<p>Problem is resolved. Check answer posted by <strong>pan-leszeczek</strong> and the corresponding thread.</p>\n"},{"tags":["java","spring","spring-boot","jakarta-ee"],"comments":[{"owner":{"account_id":25658115,"reputation":79,"user_id":19424202,"display_name":"Daniellllll"},"score":0,"creation_date":1660731983,"post_id":73386244,"comment_id":129600241,"body_markdown":"You could use reflection to change field values in spring beans. Is that something that would work for you?","body":"You could use reflection to change field values in spring beans. Is that something that would work for you?"},{"owner":{"account_id":26086029,"reputation":1,"user_id":19783546,"display_name":"Paul"},"score":0,"creation_date":1660732183,"post_id":73386244,"comment_id":129600324,"body_markdown":"Yes I tried doing that using:\n\n    InvocationHandler handler = Proxy.getInvocationHandler(annotation);  \n    Field f = handler.getClass().getDeclaredField(&quot;memberValues&quot;);  \n    f.setAccessible(true);  \n    Map&lt;String, Object&gt; memberValues = (Map&lt;String, Object&gt;) f.get(handler);  \n    memberValues.put(key, newValue);  \n  \nAnd it works in that if you get the Annotation value using the same &quot;getDeclaredConstructors()&quot; return varriable. But when you do it again, the change is lost. I think its becuase the Proxy value is different each time you do a lookup so any changes are lost.","body":"Yes I tried doing that using:      InvocationHandler handler = Proxy.getInvocationHandler(annotation);       Field f = handler.getClass().getDeclaredField(&quot;memberValues&quot;);       f.setAccessible(true);       Map&lt;String, Object&gt; memberValues = (Map&lt;String, Object&gt;) f.get(handler);       memberValues.put(key, newValue);      And it works in that if you get the Annotation value using the same &quot;getDeclaredConstructors()&quot; return varriable. But when you do it again, the change is lost. I think its becuase the Proxy value is different each time you do a lookup so any changes are lost."},{"owner":{"account_id":25658115,"reputation":79,"user_id":19424202,"display_name":"Daniellllll"},"score":0,"creation_date":1660732772,"post_id":73386244,"comment_id":129600583,"body_markdown":"You can use Springs application context to access all spring beans and then manipulate them. for (String bean : applicationContext.getBeanDefinitionNames()) ... and then access them individually. Would only work for fields in spring beans though","body":"You can use Springs application context to access all spring beans and then manipulate them. for (String bean : applicationContext.getBeanDefinitionNames()) ... and then access them individually. Would only work for fields in spring beans though"}],"answers":[{"tags":[],"owner":{"account_id":25658115,"reputation":79,"user_id":19424202,"display_name":"Daniellllll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661150182,"creation_date":1661150182,"answer_id":73441036,"question_id":73386244,"body_markdown":"I implemented something, you could try that:\r\n\r\nMy annotation class:\r\n\r\n    @Qualifier\r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface SomeAnnotation{\r\n    \r\n        String value();\r\n  \r\n    }\r\n\r\nThen I use an Injector class to inject all values into spring beans.\r\n\r\n\r\n    @Component\r\n    public class Injector {\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(Injector.class.getName());\r\n    \r\n        private final ApplicationContext applicationContext;\r\n    \r\n        @Autowired\r\n        public Injector(ApplicationContext applicationContext) {\r\n            this.applicationContext = applicationContext;\r\n        }\r\n    \r\n        public void inject() {\r\n    \r\n            for (String bean : applicationContext.getBeanDefinitionNames()) {\r\n    \r\n                for (Field field : applicationContext.getBean(bean).getClass().getDeclaredFields()) {\r\n    \r\n                    if (field.isAnnotationPresent(SomeAnnotation.class)) {\r\n                        // Instantiate Annotation Values\r\n                        SomeAnnotationvalue value = field.getAnnotation(SomeAnnotation.class);\r\n    \r\n                        // Instantiate Resource\r\n                        String resource = ...\r\n    \r\n                        // Set accessibility of field\r\n                        field.setAccessible(true);\r\n    \r\n                        try {\r\n                            // Set Value to field\r\n                            field.set(applicationContext.getBean(bean), resource);\r\n    \r\n                            // Reverse setting accessibility\r\n                            field.setAccessible(false);\r\n                        } catch (IllegalAccessException | MissingResourceException e) {\r\n                            logger.error(&quot;Error while trying to inject resources into bean {}: {}&quot;, bean, Arrays.toString(e.getStackTrace()));\r\n                        }\r\n                    }\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nYou would need to call this on application start.\r\n\r\nNote: This only works if your annotated fields are a Spring Bean (@Service, @Component, @Controller, @Repository, etc...)\r\n\r\nThen an in class example would look like this:\r\n\r\n    @SomeAnnotation(&quot;some.property.value&quot;)\r\n    private String propertyValue","title":"Injecting config values into a Spring Boot application, without using @Value","body":"<p>I implemented something, you could try that:</p>\n<p>My annotation class:</p>\n<pre><code>@Qualifier\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface SomeAnnotation{\n\n    String value();\n\n}\n</code></pre>\n<p>Then I use an Injector class to inject all values into spring beans.</p>\n<pre><code>@Component\npublic class Injector {\n\n    private static final Logger logger = LoggerFactory.getLogger(Injector.class.getName());\n\n    private final ApplicationContext applicationContext;\n\n    @Autowired\n    public Injector(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n    public void inject() {\n\n        for (String bean : applicationContext.getBeanDefinitionNames()) {\n\n            for (Field field : applicationContext.getBean(bean).getClass().getDeclaredFields()) {\n\n                if (field.isAnnotationPresent(SomeAnnotation.class)) {\n                    // Instantiate Annotation Values\n                    SomeAnnotationvalue value = field.getAnnotation(SomeAnnotation.class);\n\n                    // Instantiate Resource\n                    String resource = ...\n\n                    // Set accessibility of field\n                    field.setAccessible(true);\n\n                    try {\n                        // Set Value to field\n                        field.set(applicationContext.getBean(bean), resource);\n\n                        // Reverse setting accessibility\n                        field.setAccessible(false);\n                    } catch (IllegalAccessException | MissingResourceException e) {\n                        logger.error(&quot;Error while trying to inject resources into bean {}: {}&quot;, bean, Arrays.toString(e.getStackTrace()));\n                    }\n                }\n\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n<p>You would need to call this on application start.</p>\n<p>Note: This only works if your annotated fields are a Spring Bean (@Service, @Component, @Controller, @Repository, etc...)</p>\n<p>Then an in class example would look like this:</p>\n<pre><code>@SomeAnnotation(&quot;some.property.value&quot;)\nprivate String propertyValue\n</code></pre>\n"}],"owner":{"account_id":26086029,"reputation":1,"user_id":19783546,"display_name":"Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661150182,"creation_date":1660729374,"question_id":73386244,"body_markdown":"I want to inject configuration data into a Spring Boot application. I looked at @Value and this would be perfect but the format of the text is not appropriate for my use case (I want the format to be backward compatible with our current implementation in JEE which will sit alongside our SpringBoot implementation and there is a lot of code that uses this approach at the moment). \r\n\r\nSo instead of saying @Configuration(&quot;${somevalue}&quot;) and the config being injected I want to say @Configuration(&quot;somevalue&quot;) and it still be injected rather than it just putting the &quot;somevalue&quot; text in the variable.\r\n\r\nWhere Configuration is an alias of @Value, like this:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.ANNOTATION_TYPE})\r\n    @Value(&quot;&quot;)\r\n    public @interface Configuration {\r\n        @AliasFor(annotation=Value.class, attribute=&quot;value&quot;)\r\n        String value() default &quot;&quot;;\r\n    }\r\n\r\nI did try changing the pre and post suffixes for the placeholder so they were &quot;&quot; but this resulted in SpringBoot not starting up at all.\r\n\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n        PropertySourcesPlaceholderConfigurer p = new PropertySourcesPlaceholderConfigurer();\r\n        p.setIgnoreResourceNotFound(true);\r\n        p.setPlaceholderPrefix(&quot;&quot;);\r\n        p.setPlaceholderSuffix(&quot;&quot;);\r\n        p.setIgnoreUnresolvablePlaceholders(Boolean.TRUE);\r\n        return p;\r\n    }\r\n\r\nI also tried changing the Annotation at runtime so that I scan the classpath and change all the Annotations without ${...} to ${...}, but that&#39;s not working either because the Proxy handler value changes each time you do a class lookup which means that you change the instance you are looking at but NOT the instance that Spring uses.\r\n\r\nSo I then thought I would have my own @Value implementation, to be used like this:\r\n\r\n    @RestController\r\n    public class PingResource {\r\n    \r\n        @Inject\r\n        public PingResource(@Configuration(&quot;someValue&quot;) String someValue) {\r\n    \t   ...\r\n    \t}\r\n    }\r\n\r\nWith a Bean producer like this:\r\n\r\n    @Configuration\r\n    public class ConfigurationProducer {\r\n    \r\n        @Bean\r\n        @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n        public String getString(final InjectionPoint injectionPoint) {\r\n          ....\r\n        }\r\n    }\r\n\r\nBut the qualifiers in Spring don&#39;t look like they support Annotations so it doesn&#39;t find the bean, I get this exception:\r\n\r\n\r\n    NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@bob.Configuration(value=someValue)}\r\n\r\nIf I take the Annotation off the parameter then it finds the bean factory and all is well...apart from I don&#39;t know what config value I should be injecting because there is no annotation present to tell me.\r\n\r\nSo bit stuck, I have looked at the Spring code to see how it implements @Value to see if I could recreate that, but thats a rats nest of pain to understand.\r\n\r\nAny help or advise where to look next to solve this issue, it feels like I am very close but just missing some Spring magic that I am not aware of.\r\n\r\nThanks very much\r\n","title":"Injecting config values into a Spring Boot application, without using @Value","body":"<p>I want to inject configuration data into a Spring Boot application. I looked at @Value and this would be perfect but the format of the text is not appropriate for my use case (I want the format to be backward compatible with our current implementation in JEE which will sit alongside our SpringBoot implementation and there is a lot of code that uses this approach at the moment).</p>\n<p>So instead of saying @Configuration(&quot;${somevalue}&quot;) and the config being injected I want to say @Configuration(&quot;somevalue&quot;) and it still be injected rather than it just putting the &quot;somevalue&quot; text in the variable.</p>\n<p>Where Configuration is an alias of @Value, like this:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.METHOD, ElementType.PARAMETER, ElementType.ANNOTATION_TYPE})\n@Value(&quot;&quot;)\npublic @interface Configuration {\n    @AliasFor(annotation=Value.class, attribute=&quot;value&quot;)\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>I did try changing the pre and post suffixes for the placeholder so they were &quot;&quot; but this resulted in SpringBoot not starting up at all.</p>\n<pre><code>@Bean\npublic static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n    PropertySourcesPlaceholderConfigurer p = new PropertySourcesPlaceholderConfigurer();\n    p.setIgnoreResourceNotFound(true);\n    p.setPlaceholderPrefix(&quot;&quot;);\n    p.setPlaceholderSuffix(&quot;&quot;);\n    p.setIgnoreUnresolvablePlaceholders(Boolean.TRUE);\n    return p;\n}\n</code></pre>\n<p>I also tried changing the Annotation at runtime so that I scan the classpath and change all the Annotations without ${...} to ${...}, but that's not working either because the Proxy handler value changes each time you do a class lookup which means that you change the instance you are looking at but NOT the instance that Spring uses.</p>\n<p>So I then thought I would have my own @Value implementation, to be used like this:</p>\n<pre><code>@RestController\npublic class PingResource {\n\n    @Inject\n    public PingResource(@Configuration(&quot;someValue&quot;) String someValue) {\n       ...\n    }\n}\n</code></pre>\n<p>With a Bean producer like this:</p>\n<pre><code>@Configuration\npublic class ConfigurationProducer {\n\n    @Bean\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n    public String getString(final InjectionPoint injectionPoint) {\n      ....\n    }\n}\n</code></pre>\n<p>But the qualifiers in Spring don't look like they support Annotations so it doesn't find the bean, I get this exception:</p>\n<pre><code>NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@bob.Configuration(value=someValue)}\n</code></pre>\n<p>If I take the Annotation off the parameter then it finds the bean factory and all is well...apart from I don't know what config value I should be injecting because there is no annotation present to tell me.</p>\n<p>So bit stuck, I have looked at the Spring code to see how it implements @Value to see if I could recreate that, but thats a rats nest of pain to understand.</p>\n<p>Any help or advise where to look next to solve this issue, it feels like I am very close but just missing some Spring magic that I am not aware of.</p>\n<p>Thanks very much</p>\n"},{"tags":["java","amazon-eks","aws-sdk-java-2.0"],"answers":[{"tags":[],"owner":{"account_id":19311996,"reputation":510,"user_id":14117478,"display_name":"Jahadul Rakib"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661150097,"creation_date":1661150097,"answer_id":73441024,"question_id":71352846,"body_markdown":"**here i provide you a sample of Java code. i wish its serve your purpose on eks cluster creation:**\r\n\r\n        String accessKey = &quot;your_aws_access_key&quot;;\r\n        String secretKey = &quot;your_aws_secret_key&quot;;\r\n\r\n        AWSCredentials credentials = new BasicAWSCredentials (accessKey, secretKey);\r\n        ClientConfiguration clientConfig = new ClientConfiguration ();\r\n        clientConfig.setProtocol (Protocol.HTTPS);\r\n        clientConfig.setMaxErrorRetry (DEFAULT_MAX_ERROR_RETRY);\r\n        clientConfig.setRetryPolicy (new RetryPolicy (PredefinedRetryPolicies.DEFAULT_RETRY_CONDITION,\r\n                DEFAULT_BACKOFF_STRATEGY, DEFAULT_MAX_ERROR_RETRY, false));\r\n\r\n        AmazonEKS amazonEKS = AmazonEKSClientBuilder.standard ()\r\n                .withClientConfiguration (clientConfig)\r\n                .withCredentials (new AWSStaticCredentialsProvider (credentials))\r\n                .withRegion (&quot;us-east-1&quot;) //replace your region name\r\n                .build ();\r\n        CreateClusterResult eksCluster = amazonEKS.createCluster (\r\n                new CreateClusterRequest ().withName (&quot;cluster-name&quot;) //with other param\r\n        );","title":"Creating EKS cluster by using Java application","body":"<p><strong>here i provide you a sample of Java code. i wish its serve your purpose on eks cluster creation:</strong></p>\n<pre><code>    String accessKey = &quot;your_aws_access_key&quot;;\n    String secretKey = &quot;your_aws_secret_key&quot;;\n\n    AWSCredentials credentials = new BasicAWSCredentials (accessKey, secretKey);\n    ClientConfiguration clientConfig = new ClientConfiguration ();\n    clientConfig.setProtocol (Protocol.HTTPS);\n    clientConfig.setMaxErrorRetry (DEFAULT_MAX_ERROR_RETRY);\n    clientConfig.setRetryPolicy (new RetryPolicy (PredefinedRetryPolicies.DEFAULT_RETRY_CONDITION,\n            DEFAULT_BACKOFF_STRATEGY, DEFAULT_MAX_ERROR_RETRY, false));\n\n    AmazonEKS amazonEKS = AmazonEKSClientBuilder.standard ()\n            .withClientConfiguration (clientConfig)\n            .withCredentials (new AWSStaticCredentialsProvider (credentials))\n            .withRegion (&quot;us-east-1&quot;) //replace your region name\n            .build ();\n    CreateClusterResult eksCluster = amazonEKS.createCluster (\n            new CreateClusterRequest ().withName (&quot;cluster-name&quot;) //with other param\n    );\n</code></pre>\n"}],"owner":{"account_id":16057365,"reputation":65,"user_id":11589278,"display_name":"Naveed Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73441024,"answer_count":1,"score":2,"last_activity_date":1661150097,"creation_date":1646403988,"question_id":71352846,"body_markdown":"everyone I am new to AWS SDK. I am trying to create an EKS cluster from my java application. \r\n\r\nI have used this ```eksctl create cluster``` command to create a cluster and I have also done this by using cluster templates.\r\n\r\nI have tried to use AWS SDK to create clusters but that didn&#39;t work and have no idea how to go with it.\r\nIf anyone of you has a good sample code or explanation of using AWS SDK for creating a cluster using **cluster template** or anything which can help me to reach there would be helpful.","title":"Creating EKS cluster by using Java application","body":"<p>everyone I am new to AWS SDK. I am trying to create an EKS cluster from my java application.</p>\n<p>I have used this <code>eksctl create cluster</code> command to create a cluster and I have also done this by using cluster templates.</p>\n<p>I have tried to use AWS SDK to create clusters but that didn't work and have no idea how to go with it.\nIf anyone of you has a good sample code or explanation of using AWS SDK for creating a cluster using <strong>cluster template</strong> or anything which can help me to reach there would be helpful.</p>\n"},{"tags":["java","firebase","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":4609958,"reputation":300,"user_id":4381961,"accept_rate":50,"display_name":"ishallwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661150071,"creation_date":1661150071,"answer_id":73441017,"question_id":73282802,"body_markdown":"Turns out it&#39;s designed to not generate JWT tokens in backend systems and backend systems are just meant to be validating tokens.","title":"FirebaseAuth - Get tokenId in Java backend","body":"<p>Turns out it's designed to not generate JWT tokens in backend systems and backend systems are just meant to be validating tokens.</p>\n"}],"owner":{"account_id":4609958,"reputation":300,"user_id":4381961,"accept_rate":50,"display_name":"ishallwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73441017,"answer_count":1,"score":0,"last_activity_date":1661150071,"creation_date":1659985141,"question_id":73282802,"body_markdown":"We have a nodeJs utility for generating Firebase JWT token : \r\n\r\n    firebase.auth().currentUser.getIdToken(true) ...\r\n\r\nI was wondering if I could do something similar in Java to get a similar JWT.\r\n\r\nWhat I have tried so far : \r\n\r\nDependency - *firebase-admin*\r\n\r\n    FirebaseAuth.getInstance().getUser(uid) --&gt; this returns UserRecord with no method similar to getIdToken\r\n\r\nIs there something that I can use here?","title":"FirebaseAuth - Get tokenId in Java backend","body":"<p>We have a nodeJs utility for generating Firebase JWT token :</p>\n<pre><code>firebase.auth().currentUser.getIdToken(true) ...\n</code></pre>\n<p>I was wondering if I could do something similar in Java to get a similar JWT.</p>\n<p>What I have tried so far :</p>\n<p>Dependency - <em>firebase-admin</em></p>\n<pre><code>FirebaseAuth.getInstance().getUser(uid) --&gt; this returns UserRecord with no method similar to getIdToken\n</code></pre>\n<p>Is there something that I can use here?</p>\n"},{"tags":["java","intellij-idea","ide"],"comments":[{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661106939,"post_id":73437257,"comment_id":129687666,"body_markdown":"You didn&#39;t open the correct project. File &gt; Open &gt; select &quot;core&quot; will fix it","body":"You didn&#39;t open the correct project. File &gt; Open &gt; select &quot;core&quot; will fix it"},{"owner":{"account_id":26123418,"reputation":1,"user_id":19815312,"display_name":"Haeun Noh"},"score":0,"creation_date":1661107082,"post_id":73437257,"comment_id":129687694,"body_markdown":"Thanks for your help but I&#39;ve tried it many times and it didn&#39;t work. I also tried File &gt; Close Project and then reopened the &quot;core&quot; directory, but it still didn&#39;t work...","body":"Thanks for your help but I&#39;ve tried it many times and it didn&#39;t work. I also tried File &gt; Close Project and then reopened the &quot;core&quot; directory, but it still didn&#39;t work..."},{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661107299,"post_id":73437257,"comment_id":129687740,"body_markdown":"Try deleting the `.idea` directory in Desktop, then try again. IntelliJ thinks Desktop is a project, and core is just a subproject.","body":"Try deleting the <code>.idea</code> directory in Desktop, then try again. IntelliJ thinks Desktop is a project, and core is just a subproject."},{"owner":{"account_id":26123418,"reputation":1,"user_id":19815312,"display_name":"Haeun Noh"},"score":0,"creation_date":1661108230,"post_id":73437257,"comment_id":129687939,"body_markdown":"There&#39;s no .idea folder in Desktop :( I just deleted the &quot;core&quot; folder and created a new project folder with the same content. Now the project window works properly but still cannot find out why it did not work with the existing directory. Thanks anyway!!!","body":"There&#39;s no .idea folder in Desktop :( I just deleted the &quot;core&quot; folder and created a new project folder with the same content. Now the project window works properly but still cannot find out why it did not work with the existing directory. Thanks anyway!!!"},{"owner":{"account_id":4610643,"reputation":1454,"user_id":3738870,"display_name":"user3738870"},"score":0,"creation_date":1661108506,"post_id":73437257,"comment_id":129688017,"body_markdown":"Have you also checked hidden folders? Good that it works now though:)","body":"Have you also checked hidden folders? Good that it works now though:)"}],"answers":[{"tags":[],"owner":{"account_id":20426202,"reputation":9,"user_id":14986144,"display_name":"Lars"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661106995,"creation_date":1661106995,"answer_id":73437273,"question_id":73437257,"body_markdown":"Go to the File Menu in the top-bar, select Open Folder... and select the project Folder you want to open.\r\nIf you want to create a new project click on new and follow the steps.","title":"How to choose which directory to be shown at the top of IntelliJ project window?","body":"<p>Go to the File Menu in the top-bar, select Open Folder... and select the project Folder you want to open.\nIf you want to create a new project click on new and follow the steps.</p>\n"},{"tags":[],"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661149669,"creation_date":1661149669,"answer_id":73440951,"question_id":73437257,"body_markdown":"Looks like your Desktop directory was opened and indexed in the IDE. To fix the problem you can try to do:\r\n\r\n- File | Close Project.\r\n- Close the IDE window.\r\n- Delete all .iml files and the .idea directory from both `Desktop` and `core` folders.\r\n- Re-import your project in IntelliJ as per https://www.jetbrains.com/help/idea/gradle.html#gradle_import_project_start .\r\n","title":"How to choose which directory to be shown at the top of IntelliJ project window?","body":"<p>Looks like your Desktop directory was opened and indexed in the IDE. To fix the problem you can try to do:</p>\n<ul>\n<li>File | Close Project.</li>\n<li>Close the IDE window.</li>\n<li>Delete all .iml files and the .idea directory from both <code>Desktop</code> and <code>core</code> folders.</li>\n<li>Re-import your project in IntelliJ as per <a href=\"https://www.jetbrains.com/help/idea/gradle.html#gradle_import_project_start\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/gradle.html#gradle_import_project_start</a> .</li>\n</ul>\n"}],"owner":{"account_id":26123418,"reputation":1,"user_id":19815312,"display_name":"Haeun Noh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661149669,"creation_date":1661106865,"question_id":73437257,"body_markdown":"[before][1]\r\n\r\nMy project window looked like the picture above and I liked it.\r\n\r\n\r\n[now][2]\r\n\r\nBut now it shows EVERYTHING in my Desktop directory.\r\n\r\nI want the project window to show only the files in &quot;core&quot; folder but I can&#39;t find out how to change the settings.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xu9AJ.png\r\n  [2]: https://i.stack.imgur.com/RdWbU.png","title":"How to choose which directory to be shown at the top of IntelliJ project window?","body":"<p><a href=\"https://i.stack.imgur.com/Xu9AJ.png\" rel=\"nofollow noreferrer\">before</a></p>\n<p>My project window looked like the picture above and I liked it.</p>\n<p><a href=\"https://i.stack.imgur.com/RdWbU.png\" rel=\"nofollow noreferrer\">now</a></p>\n<p>But now it shows EVERYTHING in my Desktop directory.</p>\n<p>I want the project window to show only the files in &quot;core&quot; folder but I can't find out how to change the settings.</p>\n"},{"tags":["java","spring-boot","hibernate","nested-loops","jparepository"],"comments":[{"owner":{"account_id":20017731,"reputation":7,"user_id":14673336,"display_name":"Ilya Slezkin"},"score":0,"creation_date":1675847644,"post_id":73440755,"comment_id":133014105,"body_markdown":"findAllByIds slower that findById in cicle why? https://stackoverflow.com/questions/75383453/why-findallbyid-is-slower-than-findbyid-in-a-loop-jpa-hibernate-jav","body":"findAllByIds slower that findById in cicle why? <a href=\"https://stackoverflow.com/questions/75383453/why-findallbyid-is-slower-than-findbyid-in-a-loop-jpa-hibernate-jav\" title=\"why findallbyid is slower than findbyid in a loop jpa hibernate jav\">stackoverflow.com/questions/75383453/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23819337,"reputation":61,"user_id":17827149,"display_name":"Steven Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661149519,"creation_date":1661149519,"answer_id":73440936,"question_id":73440755,"body_markdown":"1. Its better using findAllByIds because one DB call and if you want to process each data, you can achieve that by doing loop/foreach/stream\r\n\r\n2. Yes, because it would decrease the minimum of error by creating DB call.","title":"Hibernate: findById vs findAllById, what to use for list of ids and non-nested for loops","body":"<ol>\n<li><p>Its better using findAllByIds because one DB call and if you want to process each data, you can achieve that by doing loop/foreach/stream</p>\n</li>\n<li><p>Yes, because it would decrease the minimum of error by creating DB call.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":7280712,"reputation":27,"user_id":5550583,"display_name":"RAHUL VISHWAKARMA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73440936,"answer_count":1,"score":0,"last_activity_date":1661149519,"creation_date":1661148050,"question_id":73440755,"body_markdown":" 1. I have a list of ids that are associated with objects to fetch. I need to process \r\n    each object after fetching them.\r\n    \r\n    Should I get the list of objects using findAllById, so there will be one DB call and \r\n    then process the result using for loop? \r\n\r\n    OR\r\n \r\n    Should I run the for loop for ids, and process each object using findById? Which \r\n    seems bad as it will do multiple DB calls.\r\n\r\n 2. Is multiple non-nested for loop better than multiple DB calls?","title":"Hibernate: findById vs findAllById, what to use for list of ids and non-nested for loops","body":"<ol>\n<li><p>I have a list of ids that are associated with objects to fetch. I need to process\neach object after fetching them.</p>\n<p>Should I get the list of objects using findAllById, so there will be one DB call and\nthen process the result using for loop?</p>\n<p>OR</p>\n<p>Should I run the for loop for ids, and process each object using findById? Which\nseems bad as it will do multiple DB calls.</p>\n</li>\n<li><p>Is multiple non-nested for loop better than multiple DB calls?</p>\n</li>\n</ol>\n"},{"tags":["python","java","python-3.x","ubuntu"],"answers":[{"tags":[],"owner":{"account_id":5414181,"reputation":348,"user_id":4309850,"display_name":"Michal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661124208,"creation_date":1661124208,"answer_id":73438895,"question_id":73438778,"body_markdown":"It would be nice to see the context of the problem. Why you need to use winapi NULL?\r\nMaybe you can easly solve this with standard pythons `None`?","title":"import _winapi ModuleNotFoundError: No module named &#39;_winapi&#39;","body":"<p>It would be nice to see the context of the problem. Why you need to use winapi NULL?\nMaybe you can easly solve this with standard pythons <code>None</code>?</p>\n"},{"tags":[],"owner":{"account_id":11538022,"reputation":125,"user_id":8454718,"display_name":"Anas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661149222,"creation_date":1661149222,"answer_id":73440898,"question_id":73438778,"body_markdown":"Upon surfing the internet, I came across the python `null` package. I installed it by\r\n\r\n    pip install null\r\n\r\nand import it as \r\n\r\n    from null import Null\r\n\r\nand it worked just fine.\r\n\r\nThere is another one called `nulltype`. One may install it with\r\n\r\n    pip install nulltype\r\n\r\nand import it with\r\n\r\n    from nulltype import NullType\r\n\r\nAlthough I haven&#39;t used it to test how it works I have only tried `Null`","title":"import _winapi ModuleNotFoundError: No module named &#39;_winapi&#39;","body":"<p>Upon surfing the internet, I came across the python <code>null</code> package. I installed it by</p>\n<pre><code>pip install null\n</code></pre>\n<p>and import it as</p>\n<pre><code>from null import Null\n</code></pre>\n<p>and it worked just fine.</p>\n<p>There is another one called <code>nulltype</code>. One may install it with</p>\n<pre><code>pip install nulltype\n</code></pre>\n<p>and import it with</p>\n<pre><code>from nulltype import NullType\n</code></pre>\n<p>Although I haven't used it to test how it works I have only tried <code>Null</code></p>\n"}],"owner":{"account_id":11538022,"reputation":125,"user_id":8454718,"display_name":"Anas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661149222,"creation_date":1661122668,"question_id":73438778,"body_markdown":"I want to use NULL in python as implemented in java. I came across `asyncio.windows_event` which contains the `NULL` class and it works fine on windows. However, when I tried to run the same code in Ubuntu, I got the following error:\r\n\r\n    import _winapi\r\n           ModuleNotFoundError: No module named &#39;_winapi&#39;\r\n\r\nI understand this supports only windows platform. Please can someone help me with Ubuntu&#39;s equivalent where I can import NULL just as its possible for windows. In windows, you can import NULL as:\r\n\r\n    from asyncio.window_event import NULL\r\n\r\nThanks in advance.","title":"import _winapi ModuleNotFoundError: No module named &#39;_winapi&#39;","body":"<p>I want to use NULL in python as implemented in java. I came across <code>asyncio.windows_event</code> which contains the <code>NULL</code> class and it works fine on windows. However, when I tried to run the same code in Ubuntu, I got the following error:</p>\n<pre><code>import _winapi\n       ModuleNotFoundError: No module named '_winapi'\n</code></pre>\n<p>I understand this supports only windows platform. Please can someone help me with Ubuntu's equivalent where I can import NULL just as its possible for windows. In windows, you can import NULL as:</p>\n<pre><code>from asyncio.window_event import NULL\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","authentication","authorization","jaas"],"comments":[{"owner":{"account_id":6496686,"reputation":578,"user_id":5029081,"display_name":"Haroldo Macedo"},"score":0,"creation_date":1661148261,"post_id":73440536,"comment_id":129693618,"body_markdown":"Before the first close curly bracket there is a comma. Before the second, a semicolon. Should it be the problem?","body":"Before the first close curly bracket there is a comma. Before the second, a semicolon. Should it be the problem?"},{"owner":{"account_id":26126073,"reputation":1,"user_id":19817484,"display_name":"Hari haran s"},"score":0,"creation_date":1661149362,"post_id":73440536,"comment_id":129693862,"body_markdown":"I tried your way but I am getting the same error","body":"I tried your way but I am getting the same error"}],"owner":{"account_id":26126073,"reputation":1,"user_id":19817484,"display_name":"Hari haran s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661149158,"creation_date":1661146008,"question_id":73440536,"body_markdown":"Caused by: java.io.IOException: Configuration Error:\r\n        Line 1: expected [option key], found [null]\r\n\r\nThis the error which I am facing now in my java policy file:\r\nthe policy file contains the following code\r\n\r\n\r\ngrant {&quot;file:C:/Program Files/Apache Software Foundation/Tomcat 9.0/webapps/doctor/admin.html&quot; &quot;required&quot;,Principal &quot;C/Program Files/Apache Software Foundation/Tomcat 9.0/webapps.doctor/WEB-INF/classes/java-files/DaPrincipal.java&quot; } &quot;Admin&quot; {\r\n   permission java.io.FilePermission &quot;admin.html&quot;, &quot;read&quot;,&quot;write&quot;\r\n};","title":"options in jaas authorisation policy file","body":"<p>Caused by: java.io.IOException: Configuration Error:\nLine 1: expected [option key], found [null]</p>\n<p>This the error which I am facing now in my java policy file:\nthe policy file contains the following code</p>\n<p>grant {&quot;file:C:/Program Files/Apache Software Foundation/Tomcat 9.0/webapps/doctor/admin.html&quot; &quot;required&quot;,Principal &quot;C/Program Files/Apache Software Foundation/Tomcat 9.0/webapps.doctor/WEB-INF/classes/java-files/DaPrincipal.java&quot; } &quot;Admin&quot; {\npermission java.io.FilePermission &quot;admin.html&quot;, &quot;read&quot;,&quot;write&quot;\n};</p>\n"},{"tags":["java","arrays","java-8","initialization"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":2,"creation_date":1660713824,"post_id":73383228,"comment_id":129594488,"body_markdown":"If you simply compare the syntax that you use when creating the array of string Vs the syntax that you use when creating the array of arrays, you should be able to see that you&#39;re not respecting the same syntax","body":"If you simply compare the syntax that you use when creating the array of string Vs the syntax that you use when creating the array of arrays, you should be able to see that you&#39;re not respecting the same syntax"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660714248,"creation_date":1660714146,"answer_id":73383269,"question_id":73383228,"body_markdown":"You have forgotten to give the variable a name? Both of these work.\r\n\r\n```\r\nString[][] array = {emptyArr, filledArr, moreFilledArr};\r\n```\r\n```\r\nString[][] array = new String[][] {emptyArr, filledArr, moreFilledArr};\r\n```\r\n\r\nI recommend you to go through the basic Java syntax specification and tutorials. Start with [*The Java Tutorials*](https://docs.oracle.com/javase/tutorial/) by Oracle Corp, free of cost.","title":"How to create and initialise in Java an array of String arrays in one line?","body":"<p>You have forgotten to give the variable a name? Both of these work.</p>\n<pre><code>String[][] array = {emptyArr, filledArr, moreFilledArr};\n</code></pre>\n<pre><code>String[][] array = new String[][] {emptyArr, filledArr, moreFilledArr};\n</code></pre>\n<p>I recommend you to go through the basic Java syntax specification and tutorials. Start with <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\"><em>The Java Tutorials</em></a> by Oracle Corp, free of cost.</p>\n"},{"tags":[],"owner":{"account_id":18362597,"reputation":64,"user_id":13374380,"display_name":"Haseeb Ullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660715746,"creation_date":1660715746,"answer_id":73383499,"question_id":73383228,"body_markdown":"these two are right too\r\n    String[][] array = {emptyArr, filledArr, moreFilledArr};\r\n\r\n    String[][] array = new String[][] {emptyArr, filledArr, moreFilledArr};\r\n\r\n\r\nplease do check these too\r\n&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html&quot;&gt;\r\nDocs for Array in Java Have a Look for more clarification \r\n&lt;/a&gt;\r\n&lt;br&gt;\r\n&lt;a href=&quot;https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html&quot;&gt;\r\ntutorial of array with java docs \r\n&lt;/a&gt;,\r\n\r\n&lt;br&gt;\r\nI had to add this as a comment but I couldn&#39;t,  I want to extend with more resources mentioned above , Thanks ","title":"How to create and initialise in Java an array of String arrays in one line?","body":"<p>these two are right too\nString[][] array = {emptyArr, filledArr, moreFilledArr};</p>\n<pre><code>String[][] array = new String[][] {emptyArr, filledArr, moreFilledArr};\n</code></pre>\n<p>please do check these too\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\">\nDocs for Array in Java Have a Look for more clarification\n</a>\n<br>\n<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">\ntutorial of array with java docs\n</a>,</p>\n<br>\nI had to add this as a comment but I couldn't,  I want to extend with more resources mentioned above , Thanks \n"},{"tags":[],"owner":{"account_id":17858311,"reputation":11,"user_id":12972416,"display_name":"Pranav B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661148109,"creation_date":1660715978,"answer_id":73383527,"question_id":73383228,"body_markdown":"We can also achieve it by initialising and assigning to a single dimensional array of type Object. Something like below.\r\n\r\n        String[] filledArr = new String[] {&quot;Hallo&quot;};\r\n        String[] moreFilledArr = new String[] {&quot;Hallo&quot;, &quot;duda&quot;};\r\n        String[] emptyArr = new String[] {};\r\n\r\n        Object[] newArr = {filledArr, moreFilledArr, emptyArr};\r\n\r\nIf you want to print the values inside this newArr, then you shall use the below code.\r\n\r\n    for (int i=0;i&lt; newArr.length; i++){\r\n            Arrays.stream(((String[]) newArr[i])).forEach(System.out::println);\r\n        }\r\n\r\n","title":"How to create and initialise in Java an array of String arrays in one line?","body":"<p>We can also achieve it by initialising and assigning to a single dimensional array of type Object. Something like below.</p>\n<pre><code>    String[] filledArr = new String[] {&quot;Hallo&quot;};\n    String[] moreFilledArr = new String[] {&quot;Hallo&quot;, &quot;duda&quot;};\n    String[] emptyArr = new String[] {};\n\n    Object[] newArr = {filledArr, moreFilledArr, emptyArr};\n</code></pre>\n<p>If you want to print the values inside this newArr, then you shall use the below code.</p>\n<pre><code>for (int i=0;i&lt; newArr.length; i++){\n        Arrays.stream(((String[]) newArr[i])).forEach(System.out::println);\n    }\n</code></pre>\n"}],"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73383269,"answer_count":3,"score":0,"last_activity_date":1661148109,"creation_date":1660713685,"question_id":73383228,"body_markdown":"Let&#39;s say I have in Java 8 the following objects defined:\r\n\r\n\r\n```\r\nString[] filledArr = new String[] {&quot;Hallo&quot;};\r\nString[] moreFilledArr = new String[] {&quot;Hallo&quot;, &quot;duda&quot;};\r\nString[] emptyArr = new String[] {};\r\n```\r\n\r\nNow I want to create an array containing these two string arrays. How do I write this?\r\n\r\nI tried:\r\n\r\n    String[][] = {emptyArr, filledArr, moreFilledArr};\r\n\r\nThis doesn&#39;t work. Then I tried:\r\n\r\n    (String[])[] = {emptyArr, filledArr, moreFilledArr};\r\n\r\nWith the brackets in the second version I want to indicate that the array is one of string arrays and not a two-dimensional array. Still no success.\r\n\r\nWhat&#39;s the correct way to do it? Is there one? Or do I have to resort to `ImmutableList` to create an immutable data-structure here.","title":"How to create and initialise in Java an array of String arrays in one line?","body":"<p>Let's say I have in Java 8 the following objects defined:</p>\n<pre><code>String[] filledArr = new String[] {&quot;Hallo&quot;};\nString[] moreFilledArr = new String[] {&quot;Hallo&quot;, &quot;duda&quot;};\nString[] emptyArr = new String[] {};\n</code></pre>\n<p>Now I want to create an array containing these two string arrays. How do I write this?</p>\n<p>I tried:</p>\n<pre><code>String[][] = {emptyArr, filledArr, moreFilledArr};\n</code></pre>\n<p>This doesn't work. Then I tried:</p>\n<pre><code>(String[])[] = {emptyArr, filledArr, moreFilledArr};\n</code></pre>\n<p>With the brackets in the second version I want to indicate that the array is one of string arrays and not a two-dimensional array. Still no success.</p>\n<p>What's the correct way to do it? Is there one? Or do I have to resort to <code>ImmutableList</code> to create an immutable data-structure here.</p>\n"},{"tags":["java","arrays","java-stream"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661075818,"creation_date":1661075818,"answer_id":73433347,"question_id":73433151,"body_markdown":"Not sure where you get the data from, but assuming you are able to convert it to an int array, you can use `Arrays.setAll` method:\r\n\r\n    int[] original = {0,1,3,6,10,15,21,28,36};\r\n    int[] result   = new int[original.length];\r\n\r\n    Arrays.setAll(result, i -&gt; i &gt; 0 ? original[i] - original[i-1] : original[i] );\r\n\r\n    System.out.println(Arrays.toString(result));","title":"Java-Streams - Transforming an Array in such a way so that each Element depends on value of the previous Element","body":"<p>Not sure where you get the data from, but assuming you are able to convert it to an int array, you can use <code>Arrays.setAll</code> method:</p>\n<pre><code>int[] original = {0,1,3,6,10,15,21,28,36};\nint[] result   = new int[original.length];\n\nArrays.setAll(result, i -&gt; i &gt; 0 ? original[i] - original[i-1] : original[i] );\n\nSystem.out.println(Arrays.toString(result));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661087700,"creation_date":1661077867,"answer_id":73433580,"question_id":73433151,"body_markdown":"With help of Intstream, you can do something like below, considering you have input integer array ready : \r\n\r\n\r\n\tint[] original = { 0, 1, 3, 6, 10, 15, 21, 28, 36 };\r\n\tList&lt;Integer&gt; ls = IntStream.range(0, original.length).collect(ArrayList&lt;Integer&gt;::new, (x, y) -&gt; {\r\n\t\tif (y == 0)\r\n\t\t\tx.add(original[y]);\r\n\t\telse\r\n\t\t\tx.add(original[y] - original[y - 1]);\r\n\t}, List::addAll);  \r\n\r\n    System.out.println(ls);\r\n\r\nOutput:\r\n\r\n[0, 1, 2, 3, 4, 5, 6, 7, 8]\r\n\r\nPlease note, this returns list output as I can see based on your question, you are looking for list output.","title":"Java-Streams - Transforming an Array in such a way so that each Element depends on value of the previous Element","body":"<p>With help of Intstream, you can do something like below, considering you have input integer array ready :</p>\n<pre><code>int[] original = { 0, 1, 3, 6, 10, 15, 21, 28, 36 };\nList&lt;Integer&gt; ls = IntStream.range(0, original.length).collect(ArrayList&lt;Integer&gt;::new, (x, y) -&gt; {\n    if (y == 0)\n        x.add(original[y]);\n    else\n        x.add(original[y] - original[y - 1]);\n}, List::addAll);  \n\nSystem.out.println(ls);\n</code></pre>\n<p>Output:</p>\n<p>[0, 1, 2, 3, 4, 5, 6, 7, 8]</p>\n<p>Please note, this returns list output as I can see based on your question, you are looking for list output.</p>\n"},{"tags":[],"owner":{"account_id":4983174,"reputation":100,"user_id":4007530,"accept_rate":50,"display_name":"Arafath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661079476,"creation_date":1661079476,"answer_id":73433759,"question_id":73433151,"body_markdown":"Using IntStream able to achieve the given result:\r\n\r\n    int[] arr = { 0, 1, 3, 6, 10, 15, 21, 28, 36 };\r\n    IntStream.range(0, arr.length - 1)\r\n           .map(i -&gt; arr[i + 1] - arr[i])\r\n           .forEach(System.out::println);\r\n\r\nOutput:\r\n\r\n    1\r\n    2\r\n    3\r\n    4\r\n    5\r\n    6\r\n    7\r\n    8","title":"Java-Streams - Transforming an Array in such a way so that each Element depends on value of the previous Element","body":"<p>Using IntStream able to achieve the given result:</p>\n<pre><code>int[] arr = { 0, 1, 3, 6, 10, 15, 21, 28, 36 };\nIntStream.range(0, arr.length - 1)\n       .map(i -&gt; arr[i + 1] - arr[i])\n       .forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre><code>1\n2\n3\n4\n5\n6\n7\n8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661085134,"creation_date":1661079721,"answer_id":73433789,"question_id":73433151,"body_markdown":"The **naive** approach would to use `Stream.range()` or `Stream.iterate()` in order to mimic traditional index-based `for`-loop.\r\n\r\nBut mind that *Stream* by its nature is an ***internal iterator***, meaning that the core idea behind Streams is that you&#39;re not controlling process of internation, you&#39;re not retrieving next element by it&#39;s index, not checking whether it exists. With stream you need to think about the transformations and accumulation logic but about the process of iteration.\r\n\r\nIf you choose to *dial with indices*, then the solution introduced by [@Eritrean](https://stackoverflow.com/posts/73433347/edit) which utilizes `Arrays.setAll()` is the cleanest one.\r\n\r\nBut if you really want to apply Streams to this problem instead of manipulating indices, the task becomes a little tricky.\r\n\r\nI come up with the following solution which makes use of a *custom collector* created via [`Collector.of()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)).\r\n\r\n`Deque` is used as a type of the *mutable container* of the collector (`List` will do fine as well, `Deque` was chosen because it facilitates convenient access to the last element). At each step of reduction, the *accumulator* function polls the *last element* (if exists) and adds into the *deque* the difference between the *polled element* and the *next element* from the stream, then it also stores the *next element* itself (follow the comments in the code to understand it better).\r\n\r\n```\r\nint[] source = {0, 1, 3, 6, 10, 15, 21, 28, 36};\r\n    \r\nList&lt;Integer&gt; result = Arrays.stream(source).boxed()\r\n    .collect(Collector.of(                                  // Creating a custom Collector\r\n        ArrayDeque::new,                                    // Mutable Container of the Collector\r\n        (Deque&lt;Integer&gt; deque, Integer next) -&gt; {           // Accumulator - adding stream element into the Container\r\n            if (deque.isEmpty()) deque.addLast(next);\r\n            else deque.addLast(next - deque.pollLast());\r\n            deque.addLast(next);                            // supplementary element which would be used in the else clause of the Accumulator as well as in the Combiner while running parallel and skipped by the Finisher in sequential\r\n        },\r\n        (left, right) -&gt; {                                  // Combiner - merging Container containing intermediate results while executing in parallel (each thread would be given it&#39;s own chunk of data and would create its own Deque which will be populated according to the logic represented in the Accumulator)\r\n            left.addLast(right.pollFirst() - left.pollLast()); // supplementary element is being polled from the Left Deque here\r\n            left.addAll(right);\r\n            return left;\r\n        },\r\n        deque -&gt; deque.stream().limit(source.length).toList() // Finisher - transforming Deque into a List\r\n    ));\r\n        \r\nSystem.out.println(result);\r\n```\r\n*Output:*\r\n```\r\n[0, 1, 2, 3, 4, 5, 6, 7, 8]\r\n```","title":"Java-Streams - Transforming an Array in such a way so that each Element depends on value of the previous Element","body":"<p>The <strong>naive</strong> approach would to use <code>Stream.range()</code> or <code>Stream.iterate()</code> in order to mimic traditional index-based <code>for</code>-loop.</p>\n<p>But mind that <em>Stream</em> by its nature is an <em><strong>internal iterator</strong></em>, meaning that the core idea behind Streams is that you're not controlling process of internation, you're not retrieving next element by it's index, not checking whether it exists. With stream you need to think about the transformations and accumulation logic but about the process of iteration.</p>\n<p>If you choose to <em>dial with indices</em>, then the solution introduced by <a href=\"https://stackoverflow.com/posts/73433347/edit\">@Eritrean</a> which utilizes <code>Arrays.setAll()</code> is the cleanest one.</p>\n<p>But if you really want to apply Streams to this problem instead of manipulating indices, the task becomes a little tricky.</p>\n<p>I come up with the following solution which makes use of a <em>custom collector</em> created via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a>.</p>\n<p><code>Deque</code> is used as a type of the <em>mutable container</em> of the collector (<code>List</code> will do fine as well, <code>Deque</code> was chosen because it facilitates convenient access to the last element). At each step of reduction, the <em>accumulator</em> function polls the <em>last element</em> (if exists) and adds into the <em>deque</em> the difference between the <em>polled element</em> and the <em>next element</em> from the stream, then it also stores the <em>next element</em> itself (follow the comments in the code to understand it better).</p>\n<pre><code>int[] source = {0, 1, 3, 6, 10, 15, 21, 28, 36};\n    \nList&lt;Integer&gt; result = Arrays.stream(source).boxed()\n    .collect(Collector.of(                                  // Creating a custom Collector\n        ArrayDeque::new,                                    // Mutable Container of the Collector\n        (Deque&lt;Integer&gt; deque, Integer next) -&gt; {           // Accumulator - adding stream element into the Container\n            if (deque.isEmpty()) deque.addLast(next);\n            else deque.addLast(next - deque.pollLast());\n            deque.addLast(next);                            // supplementary element which would be used in the else clause of the Accumulator as well as in the Combiner while running parallel and skipped by the Finisher in sequential\n        },\n        (left, right) -&gt; {                                  // Combiner - merging Container containing intermediate results while executing in parallel (each thread would be given it's own chunk of data and would create its own Deque which will be populated according to the logic represented in the Accumulator)\n            left.addLast(right.pollFirst() - left.pollLast()); // supplementary element is being polled from the Left Deque here\n            left.addAll(right);\n            return left;\n        },\n        deque -&gt; deque.stream().limit(source.length).toList() // Finisher - transforming Deque into a List\n    ));\n        \nSystem.out.println(result);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[0, 1, 2, 3, 4, 5, 6, 7, 8]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661147875,"creation_date":1661086269,"answer_id":73434576,"question_id":73433151,"body_markdown":"i used **guava** package to fine index element by **Ints.indexOf(array , target)**  :\r\n\r\n&gt; algorithm : value = n - (n-1)\r\n&gt; \r\n&gt; if 0 continue else 1 = 1 - 0 , 2 = 3 - 1 , 3 = 6 - 3 ... etc\r\n\r\n\r\n\r\n \r\n\r\n    \r\n\r\n        int[] source = {0, 1, 3, 6, 10, 15, 21, 28, 36};\r\n        List&lt;Integer&gt; list = Arrays.stream(source).\r\n                           map(s-&gt; s = s != 0 ? s - source[Ints.indexOf(source, s) - 1] : s).\r\n                             boxed().collect(Collectors.toList());\r\n        \r\n        System.out.println(list);\r\n\r\nprint :\r\n\r\n    [0, 1, 2, 3, 4, 5, 6, 7, 8]","title":"Java-Streams - Transforming an Array in such a way so that each Element depends on value of the previous Element","body":"<p>i used <strong>guava</strong> package to fine index element by <strong>Ints.indexOf(array , target)</strong>  :</p>\n<blockquote>\n<p>algorithm : value = n - (n-1)</p>\n<p>if 0 continue else 1 = 1 - 0 , 2 = 3 - 1 , 3 = 6 - 3 ... etc</p>\n</blockquote>\n<pre><code>    int[] source = {0, 1, 3, 6, 10, 15, 21, 28, 36};\n    List&lt;Integer&gt; list = Arrays.stream(source).\n                       map(s-&gt; s = s != 0 ? s - source[Ints.indexOf(source, s) - 1] : s).\n                         boxed().collect(Collectors.toList());\n    \n    System.out.println(list);\n</code></pre>\n<p>print :</p>\n<pre><code>[0, 1, 2, 3, 4, 5, 6, 7, 8]\n</code></pre>\n"}],"owner":{"account_id":18661046,"reputation":25,"user_id":13602248,"display_name":"Ming Tang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73433759,"answer_count":5,"score":2,"last_activity_date":1661147875,"creation_date":1661074257,"question_id":73433151,"body_markdown":"Let&#39;s say I have an **accumulative array** like this:\r\n```\r\n[0,1,3,6,10,15,21,28,36]\r\n```\r\nAnd I want to make it into `[0,1,2,3,4,5,6,7,8]`  where each element calculated as:\r\n```\r\nvalue = [n] - [n-1]\r\n```\r\nIs there a way I can achieve this using Java stream?\r\n\r\nBelow, you can see my code attempts. \r\n\r\n*Attempt1:*\r\n```\r\nconfirmData = confirmedReader.readAll().stream()\r\n    .map(cumulativeArr -&gt; Arrays.stream(cumulativeArr).toArray(String[]::new))\r\n    .toList();\r\n```\r\n*Attempt2:*\r\n```\r\nconfirmData = confirmedReader.readAll().stream().skip(1)\r\n    .map(a -&gt; {\r\n        IntStream.range(0,a.length).forEach(x -&gt; {\r\n            a[x] = Integer.toString(Integer.parseInt(a[x]) - Integer.parseInt(a[x - 1]));\r\n        });\r\n    })\r\n    .toList();\r\n```","title":"Java-Streams - Transforming an Array in such a way so that each Element depends on value of the previous Element","body":"<p>Let's say I have an <strong>accumulative array</strong> like this:</p>\n<pre><code>[0,1,3,6,10,15,21,28,36]\n</code></pre>\n<p>And I want to make it into <code>[0,1,2,3,4,5,6,7,8]</code>  where each element calculated as:</p>\n<pre><code>value = [n] - [n-1]\n</code></pre>\n<p>Is there a way I can achieve this using Java stream?</p>\n<p>Below, you can see my code attempts.</p>\n<p><em>Attempt1:</em></p>\n<pre><code>confirmData = confirmedReader.readAll().stream()\n    .map(cumulativeArr -&gt; Arrays.stream(cumulativeArr).toArray(String[]::new))\n    .toList();\n</code></pre>\n<p><em>Attempt2:</em></p>\n<pre><code>confirmData = confirmedReader.readAll().stream().skip(1)\n    .map(a -&gt; {\n        IntStream.range(0,a.length).forEach(x -&gt; {\n            a[x] = Integer.toString(Integer.parseInt(a[x]) - Integer.parseInt(a[x - 1]));\n        });\n    })\n    .toList();\n</code></pre>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1494010849,"post_id":43812049,"comment_id":74663466,"body_markdown":"use a `Scanner` to take the user input. How many times do you want the user to keep entering data?","body":"use a <code>Scanner</code> to take the user input. How many times do you want the user to keep entering data?"},{"owner":{"account_id":9937191,"reputation":827,"user_id":7355135,"display_name":"Alex"},"score":0,"creation_date":1494010911,"post_id":43812049,"comment_id":74663507,"body_markdown":"If you google &quot;java user input from console&quot; you&#39;ll find plenty of tutorials about using Scanner","body":"If you google &quot;java user input from console&quot; you&#39;ll find plenty of tutorials about using Scanner"},{"owner":{"account_id":10838264,"reputation":11,"user_id":7970492,"display_name":"Leenali Li"},"score":0,"creation_date":1494011010,"post_id":43812049,"comment_id":74663542,"body_markdown":"Yes I used Scanner  but after that how am I gonna insert all the data that I&#39;ve got into Linked List that is my rela question","body":"Yes I used Scanner  but after that how am I gonna insert all the data that I&#39;ve got into Linked List that is my rela question"},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1494011114,"post_id":43812049,"comment_id":74663596,"body_markdown":"@LeenaliLi show the code which is using the scanner then. ^^.","body":"@LeenaliLi show the code which is using the scanner then. ^^."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494011486,"creation_date":1494011127,"answer_id":43812154,"question_id":43812049,"body_markdown":"I think you don&#39;t understand from the comments here is a simple example ;\r\n\r\n    public static void main(String[] args) {\r\n        LinkedList&lt;String&gt; list = new LinkedList&lt;&gt;();//declare your list\r\n        Scanner scan = new Scanner(System.in);//create a scanner\r\n        System.out.print(&quot;Enter the Nbr of element : &quot;);\r\n        int nbr = scan.nextInt();//read the number of element\r\n        scan.nextLine();\r\n        do {\r\n            list.add(scan.nextLine());//read and insert into your list in one shot\r\n            nbr--;//decrement the index\r\n        } while (nbr &gt; 0);//repeat until the index will be 0\r\n        \r\n        scan.close();//close your scanner\r\n        System.out.println(list);//print your list\r\n    \r\n    }","title":"How can I take the input and insert it into LINKED LIST in java?","body":"<p>I think you don't understand from the comments here is a simple example ;</p>\n\n<pre><code>public static void main(String[] args) {\n    LinkedList&lt;String&gt; list = new LinkedList&lt;&gt;();//declare your list\n    Scanner scan = new Scanner(System.in);//create a scanner\n    System.out.print(\"Enter the Nbr of element : \");\n    int nbr = scan.nextInt();//read the number of element\n    scan.nextLine();\n    do {\n        list.add(scan.nextLine());//read and insert into your list in one shot\n        nbr--;//decrement the index\n    } while (nbr &gt; 0);//repeat until the index will be 0\n\n    scan.close();//close your scanner\n    System.out.println(list);//print your list\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9278143,"reputation":8583,"user_id":6893866,"accept_rate":74,"display_name":"Tezra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494011176,"creation_date":1494011176,"answer_id":43812164,"question_id":43812049,"body_markdown":"Using [scanner][1], you can get input from any source. To read from console use\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    while(!sc.hasNextInt()) sc.next();\r\n    int number = sc.nextInt();\r\n\r\n    for(i=0; i&lt; number; i++)\r\n        myList.add(sc.next());\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html","title":"How can I take the input and insert it into LINKED LIST in java?","body":"<p>Using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">scanner</a>, you can get input from any source. To read from console use</p>\n\n<pre><code>Scanner sc = new Scanner(System.in);\nwhile(!sc.hasNextInt()) sc.next();\nint number = sc.nextInt();\n\nfor(i=0; i&lt; number; i++)\n    myList.add(sc.next());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22103071,"reputation":21,"user_id":16359220,"display_name":"vibhuSingh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625153092,"creation_date":1625151456,"answer_id":68212524,"question_id":43812049,"body_markdown":"I think we can simply take user input in LinkedList by using \r\nthis method -&gt; ***listname.add(sc.nextInt());***\r\n\r\ncode for the implementation is below! **thank you** :)\r\n\r\n```\r\npublic class LL_userInput {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tLinkedList&lt;Integer&gt; ll = new LinkedList&lt;&gt;(); //creating list\r\n\t\t\r\n\t\tScanner sc = new Scanner(System.in); //creating scanner for total elements to be inserted in list\r\n\t\tSystem.out.println(&quot;enter total count of elements -&gt; &quot;);\r\n\t\tint num = sc.nextInt(); // user will enter total elements\r\n\t\t\r\n\t\twhile(num&gt;0) { \r\n\t\tll.add(sc.nextInt());\r\n\t\tnum--;\t// decrement till the index became 0\t\r\n\t\t}\r\n\t\tsc.close();\r\n\t\tSystem.out.println(ll);\r\n\t}\r\n}\r\n```","title":"How can I take the input and insert it into LINKED LIST in java?","body":"<p>I think we can simply take user input in LinkedList by using\nthis method -&gt; <em><strong>listname.add(sc.nextInt());</strong></em></p>\n<p>code for the implementation is below! <strong>thank you</strong> :)</p>\n<pre><code>public class LL_userInput {\n\n    public static void main(String[] args) {\n\n        LinkedList&lt;Integer&gt; ll = new LinkedList&lt;&gt;(); //creating list\n        \n        Scanner sc = new Scanner(System.in); //creating scanner for total elements to be inserted in list\n        System.out.println(&quot;enter total count of elements -&gt; &quot;);\n        int num = sc.nextInt(); // user will enter total elements\n        \n        while(num&gt;0) { \n        ll.add(sc.nextInt());\n        num--;  // decrement till the index became 0    \n        }\n        sc.close();\n        System.out.println(ll);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26126313,"reputation":1,"user_id":19817684,"display_name":"Raushan Imam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661147516,"creation_date":1661147516,"answer_id":73440692,"question_id":43812049,"body_markdown":"    import java.util.*;\r\n    class LinkedList{\r\n    public static void main(String[] args) {\r\n        Scanner sc= new Scanner (System.in );\r\n        LinkedList&lt;Integer&gt;list=new \r\n    LinkedList&lt;&gt;();\r\n        System.out.println(&quot;Enter how many \r\n    elements you want&quot;);\r\n        int num=sc.nextInt();\r\n    for(int i=0;i&lt;num;i++){\r\n           System.out.println(&quot;Enter element \r\n    at index &quot;+i);\r\n    list.add(sc.nextInt());\r\n       }\r\n       \r\n     System.out.print(list+&quot; &quot;);\r\n\r\n    }\r\n    }\r\n","title":"How can I take the input and insert it into LINKED LIST in java?","body":"<pre><code>import java.util.*;\nclass LinkedList{\npublic static void main(String[] args) {\n    Scanner sc= new Scanner (System.in );\n    LinkedList&lt;Integer&gt;list=new \nLinkedList&lt;&gt;();\n    System.out.println(&quot;Enter how many \nelements you want&quot;);\n    int num=sc.nextInt();\nfor(int i=0;i&lt;num;i++){\n       System.out.println(&quot;Enter element \nat index &quot;+i);\nlist.add(sc.nextInt());\n   }\n   \n System.out.print(list+&quot; &quot;);\n\n}\n}\n</code></pre>\n"}],"owner":{"account_id":10838264,"reputation":11,"user_id":7970492,"display_name":"Leenali Li"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23922,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1661147516,"creation_date":1494010721,"question_id":43812049,"body_markdown":"I am trying to make a three different linked list. I will determine the first ones inputs but for the other two I want to ask the user for the inputs and then insert them into a linked list. Can anyone help me with how to do that? So far I could only write this code\r\n\r\n\r\n    package homework001;\r\n\r\n     import java.util.Scanner;\r\n     import java.util.List;\r\n     import java.util.LinkedList;\r\n     import java.util.ListIterator;\r\n\r\n    public class morph {\r\n\t\r\n\t\tpublic static LinkedList&lt;String&gt; list;\r\n\t\tpublic static void main(String[] args){\r\n\t\t\tLinkedList&lt;String&gt; list = new LinkedList&lt;&gt;();\r\n\t\t\tlist.add(&quot;10&quot;);\r\n\t\t\tlist.add(&quot;34&quot;);\r\n\t\t\tlist.add(&quot;1&quot;);\r\n\t\t\tlist.add(&quot;97&quot;);\r\n\t\t\tlist.add(&quot;5&quot;);\r\n\t\t\tlist.add(&quot;62&quot;);\t\t\r\n\t\t\r\n       }\r\n     }\r\n","title":"How can I take the input and insert it into LINKED LIST in java?","body":"<p>I am trying to make a three different linked list. I will determine the first ones inputs but for the other two I want to ask the user for the inputs and then insert them into a linked list. Can anyone help me with how to do that? So far I could only write this code</p>\n\n<pre><code>package homework001;\n\n import java.util.Scanner;\n import java.util.List;\n import java.util.LinkedList;\n import java.util.ListIterator;\n\npublic class morph {\n\n    public static LinkedList&lt;String&gt; list;\n    public static void main(String[] args){\n        LinkedList&lt;String&gt; list = new LinkedList&lt;&gt;();\n        list.add(\"10\");\n        list.add(\"34\");\n        list.add(\"1\");\n        list.add(\"97\");\n        list.add(\"5\");\n        list.add(\"62\");     \n\n   }\n }\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":17815140,"reputation":111,"user_id":12938887,"display_name":"Nico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661147268,"creation_date":1661147268,"answer_id":73440669,"question_id":73440500,"body_markdown":"The errormessage is telling you everything you need to know:  \r\n\r\n&gt; [com.mongodb.client.MongoClient]: Factory method &#39;mongo&#39; threw exception; nested exception is java.lang.IllegalArgumentException: **The connection string is invalid.** Connection strings must start with either &#39;mongodb://&#39; or &#39;mongodb+srv:// at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor\r\n\r\nFrom what I found with a [quick search][1], try this: `spring.data.mongodb.uri=mongodb://localhost:27017/usersdb`\r\n\r\n\r\n  [1]: https://www.devglan.com/spring-boot/spring-boot-mongodb-configuration","title":"Java Spring Boot run failed: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with","body":"<p>The errormessage is telling you everything you need to know:</p>\n<blockquote>\n<p>[com.mongodb.client.MongoClient]: Factory method 'mongo' threw exception; nested exception is java.lang.IllegalArgumentException: <strong>The connection string is invalid.</strong> Connection strings must start with either 'mongodb://' or 'mongodb+srv:// at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor</p>\n</blockquote>\n<p>From what I found with a <a href=\"https://www.devglan.com/spring-boot/spring-boot-mongodb-configuration\" rel=\"nofollow noreferrer\">quick search</a>, try this: <code>spring.data.mongodb.uri=mongodb://localhost:27017/usersdb</code></p>\n"}],"owner":{"account_id":8976869,"reputation":25,"user_id":7509741,"display_name":"Fikri Fadillah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8056,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73440669,"answer_count":1,"score":1,"last_activity_date":1661147268,"creation_date":1661145642,"question_id":73440500,"body_markdown":"I am new in Java Spring Boot. I am learning this through &lt;https://www.youtube.com/watch?v=XpMXAxDN7mY&amp;list=PLoSpJpNZs-onHvM-sluFGIYSoFzSgw6n9&amp;index=9&amp;t=14s&gt;.\r\n\r\nAfter trying to run the app. I&#39;ve got error like this\r\n&gt;org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;authController&#39;: Unsatisfied dependency expressed through field &#39;userRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39; defined in com.example.SimpleSpringSecurityProject.models.UserRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean &#39;mongoTemplate&#39; while setting bean property &#39;mongoOperations&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mongoTemplate&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method &#39;mongoTemplate&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mongoDatabaseFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryConfiguration.class]: Unsatisfied dependency expressed through method &#39;mongoDatabaseFactory&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongo&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method &#39;mongo&#39; threw exception; nested exception is java.lang.IllegalArgumentException: The connection string is invalid. Connection strings must start with either &#39;mongodb://&#39; or &#39;mongodb+srv://\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor\r\n\r\nSimpleSpringSecurityProjectApplication.java (main)\r\n```\r\npackage com.example.SimpleSpringSecurityProject;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class SimpleSpringSecurityProjectApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SimpleSpringSecurityProjectApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nUserModel.java\r\n```package com.example.SimpleSpringSecurityProject.models;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@Document(collection = &quot;users&quot;)\r\npublic class UserModel {\r\n    @Id\r\n    private String id;\r\n\r\n    private String username;\r\n\r\n    private String password;\r\n\r\n    public UserModel() {\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}\r\n```\r\n\r\nUserRepository.java\r\n```\r\npackage com.example.SimpleSpringSecurityProject.models;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface UserRepository extends MongoRepository&lt;UserModel, String&gt; {\r\n    UserModel findByUsername(String username);\r\n}\r\n```\r\n\r\nSecurityConfiguration.java\r\n```\r\npackage com.example.SimpleSpringSecurityProject.configurations;\r\n\r\nimport com.example.SimpleSpringSecurityProject.services.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userService);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable().authorizeRequests().antMatchers(&quot;/subs&quot;, &quot;/auth&quot;).permitAll().anyRequest().authenticated();\r\n    }\r\n\r\n    public PasswordEncoder passwordEncoder() {\r\n        return NoOpPasswordEncoder.getInstance();\r\n    }\r\n\r\n    @Override\r\n    protected AuthenticationManager authenticationManager() throws Exception {\r\n        return super.authenticationManager();\r\n    }\r\n}\r\n```\r\n\r\nAuthController.java\r\n```\r\npackage com.example.SimpleSpringSecurityProject;\r\n\r\nimport com.example.SimpleSpringSecurityProject.models.AuthenticationRequest;\r\nimport com.example.SimpleSpringSecurityProject.models.AuthenticationResponse;\r\nimport com.example.SimpleSpringSecurityProject.models.UserModel;\r\nimport com.example.SimpleSpringSecurityProject.models.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class AuthController {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @PostMapping(&quot;/auth&quot;)\r\n    private ResponseEntity&lt;?&gt; authenticateClient(@RequestBody AuthenticationRequest authenticationRequest) {\r\n        String username = authenticationRequest.getUsername();\r\n        String password = authenticationRequest.getPassword();\r\n\r\n        try {\r\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n        } catch (BadCredentialsException ex) {\r\n            return ResponseEntity.ok(new AuthenticationResponse(&quot;Error during client authentication&quot;));\r\n        }\r\n\r\n        return ResponseEntity.ok(new AuthenticationResponse(&quot;Client authenticated: &quot; + username));\r\n    }\r\n\r\n    @PostMapping(&quot;/subs&quot;)\r\n    private ResponseEntity&lt;?&gt; subscribeClient(@RequestBody AuthenticationRequest authenticationRequest) {\r\n\r\n        String username = authenticationRequest.getUsername();\r\n        String password = authenticationRequest.getPassword();\r\n\r\n        UserModel userModel = new UserModel();\r\n        userModel.setUsername(username);\r\n        userModel.setPassword(password);\r\n\r\n        try {\r\n            userRepository.save(userModel);\r\n        } catch (Exception ex) {\r\n            return ResponseEntity.ok(new AuthenticationResponse(&quot;Subscribe Success for client: &quot; + username));\r\n        }\r\n\r\n        return ResponseEntity.ok(new AuthenticationResponse(&quot;Subscribe Success for client: &quot; + username));\r\n    }\r\n}\r\n```\r\n\r\napplication.properties\r\n```\r\nserver.port=8682\r\n\r\nspring.data.mongodb.uri=&quot;mongodb://localhost:27017/usersdb&quot;\r\n```\r\n\r\nCan anyone help me? Thank you.","title":"Java Spring Boot run failed: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with","body":"<p>I am new in Java Spring Boot. I am learning this through <a href=\"https://www.youtube.com/watch?v=XpMXAxDN7mY&amp;list=PLoSpJpNZs-onHvM-sluFGIYSoFzSgw6n9&amp;index=9&amp;t=14s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=XpMXAxDN7mY&amp;list=PLoSpJpNZs-onHvM-sluFGIYSoFzSgw6n9&amp;index=9&amp;t=14s</a>.</p>\n<p>After trying to run the app. I've got error like this</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authController': Unsatisfied dependency expressed through field 'userRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.example.SimpleSpringSecurityProject.models.UserRepository defined in @EnableMongoRepositories declared on MongoRepositoriesRegistrar.EnableMongoRepositoriesConfiguration: Cannot resolve reference to bean 'mongoTemplate' while setting bean property 'mongoOperations'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoTemplate' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryDependentConfiguration.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoDatabaseFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/mongo/MongoDatabaseFactoryConfiguration.class]: Unsatisfied dependency expressed through method 'mongoDatabaseFactory' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongo' defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method 'mongo' threw exception; nested exception is java.lang.IllegalArgumentException: The connection string is invalid. Connection strings must start with either 'mongodb://' or 'mongodb+srv://\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor</p>\n</blockquote>\n<p>SimpleSpringSecurityProjectApplication.java (main)</p>\n<pre><code>package com.example.SimpleSpringSecurityProject;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SimpleSpringSecurityProjectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SimpleSpringSecurityProjectApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>UserModel.java</p>\n<pre><code>\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(collection = &quot;users&quot;)\npublic class UserModel {\n    @Id\n    private String id;\n\n    private String username;\n\n    private String password;\n\n    public UserModel() {\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n}\n</code></pre>\n<p>UserRepository.java</p>\n<pre><code>package com.example.SimpleSpringSecurityProject.models;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends MongoRepository&lt;UserModel, String&gt; {\n    UserModel findByUsername(String username);\n}\n</code></pre>\n<p>SecurityConfiguration.java</p>\n<pre><code>package com.example.SimpleSpringSecurityProject.configurations;\n\nimport com.example.SimpleSpringSecurityProject.services.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserService userService;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userService);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeRequests().antMatchers(&quot;/subs&quot;, &quot;/auth&quot;).permitAll().anyRequest().authenticated();\n    }\n\n    public PasswordEncoder passwordEncoder() {\n        return NoOpPasswordEncoder.getInstance();\n    }\n\n    @Override\n    protected AuthenticationManager authenticationManager() throws Exception {\n        return super.authenticationManager();\n    }\n}\n</code></pre>\n<p>AuthController.java</p>\n<pre><code>package com.example.SimpleSpringSecurityProject;\n\nimport com.example.SimpleSpringSecurityProject.models.AuthenticationRequest;\nimport com.example.SimpleSpringSecurityProject.models.AuthenticationResponse;\nimport com.example.SimpleSpringSecurityProject.models.UserModel;\nimport com.example.SimpleSpringSecurityProject.models.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class AuthController {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @PostMapping(&quot;/auth&quot;)\n    private ResponseEntity&lt;?&gt; authenticateClient(@RequestBody AuthenticationRequest authenticationRequest) {\n        String username = authenticationRequest.getUsername();\n        String password = authenticationRequest.getPassword();\n\n        try {\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\n        } catch (BadCredentialsException ex) {\n            return ResponseEntity.ok(new AuthenticationResponse(&quot;Error during client authentication&quot;));\n        }\n\n        return ResponseEntity.ok(new AuthenticationResponse(&quot;Client authenticated: &quot; + username));\n    }\n\n    @PostMapping(&quot;/subs&quot;)\n    private ResponseEntity&lt;?&gt; subscribeClient(@RequestBody AuthenticationRequest authenticationRequest) {\n\n        String username = authenticationRequest.getUsername();\n        String password = authenticationRequest.getPassword();\n\n        UserModel userModel = new UserModel();\n        userModel.setUsername(username);\n        userModel.setPassword(password);\n\n        try {\n            userRepository.save(userModel);\n        } catch (Exception ex) {\n            return ResponseEntity.ok(new AuthenticationResponse(&quot;Subscribe Success for client: &quot; + username));\n        }\n\n        return ResponseEntity.ok(new AuthenticationResponse(&quot;Subscribe Success for client: &quot; + username));\n    }\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>server.port=8682\n\nspring.data.mongodb.uri=&quot;mongodb://localhost:27017/usersdb&quot;\n</code></pre>\n<p>Can anyone help me? Thank you.</p>\n"},{"tags":["java","maven","maven-compiler-plugin"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661146689,"post_id":73440561,"comment_id":129693335,"body_markdown":"`skip` `default-testCompile`","body":"<code>skip</code> <code>default-testCompile</code>"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661147160,"creation_date":1661146858,"answer_id":73440617,"question_id":73440561,"body_markdown":"Skip the `default-testCompile`:\r\n\r\n\r\n      &lt;execution&gt;                                           \r\n        &lt;id&gt;default-testCompile&lt;/id&gt;\r\n        &lt;phase&gt;test-compile&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n            &lt;goal&gt;testCompile&lt;/goal&gt;\r\n        &lt;/goals&gt;                   \r\n\r\n        &lt;configuration&gt;                                     \r\n          &lt;skip&gt;true&lt;/skip&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/execution&gt;                  \r\n      &lt;execution&gt;                                           \r\n        &lt;id&gt;test-compile-error-prone&lt;/id&gt;                   \r\n        &lt;phase&gt;test-compile&lt;/phase&gt;                         \r\n        &lt;goals&gt;                                             \r\n          &lt;goal&gt;testCompile&lt;/goal&gt;                          \r\n        &lt;/goals&gt;                                            \r\n        &lt;configuration&gt;                                     \r\n          &lt;failOnError&gt;false&lt;/failOnError&gt;                  \r\n       \r\n","title":"How to use custom execution for testCompile goal for maven-compiler-plugin","body":"<p>Skip the <code>default-testCompile</code>:</p>\n<pre><code>  &lt;execution&gt;                                           \n    &lt;id&gt;default-testCompile&lt;/id&gt;\n    &lt;phase&gt;test-compile&lt;/phase&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;testCompile&lt;/goal&gt;\n    &lt;/goals&gt;                   \n\n    &lt;configuration&gt;                                     \n      &lt;skip&gt;true&lt;/skip&gt;\n    &lt;/configuration&gt;\n  &lt;/execution&gt;                  \n  &lt;execution&gt;                                           \n    &lt;id&gt;test-compile-error-prone&lt;/id&gt;                   \n    &lt;phase&gt;test-compile&lt;/phase&gt;                         \n    &lt;goals&gt;                                             \n      &lt;goal&gt;testCompile&lt;/goal&gt;                          \n    &lt;/goals&gt;                                            \n    &lt;configuration&gt;                                     \n      &lt;failOnError&gt;false&lt;/failOnError&gt;                  \n   \n</code></pre>\n"}],"owner":{"account_id":19702993,"reputation":145,"user_id":14425335,"display_name":"Vyom Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73440617,"answer_count":1,"score":2,"last_activity_date":1661147160,"creation_date":1661146269,"question_id":73440561,"body_markdown":"I am using an `annotationProcessor` with maven-compiler-plugin in a custom profile.\r\n```xml\r\n&lt;profile&gt;                                                       \r\n  &lt;id&gt;error-prone-test-compile&lt;/id&gt;                             \r\n  &lt;build&gt;                                                       \r\n    &lt;plugins&gt;                                                   \r\n      &lt;plugin&gt;                                                  \r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;             \r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;          \r\n        &lt;version&gt;3.10.1&lt;/version&gt;                               \r\n        &lt;executions&gt;                                            \r\n          &lt;execution&gt;                                           \r\n            &lt;id&gt;test-compile-error-prone&lt;/id&gt;                   \r\n            &lt;phase&gt;test-compile&lt;/phase&gt;                         \r\n            &lt;goals&gt;                                             \r\n              &lt;goal&gt;testCompile&lt;/goal&gt;                          \r\n            &lt;/goals&gt;                                            \r\n            &lt;configuration&gt;                                     \r\n              &lt;failOnError&gt;false&lt;/failOnError&gt;                  \r\n              &lt;source&gt;${java.version}&lt;/source&gt;                  \r\n              &lt;target&gt;${java.version}&lt;/target&gt;                  \r\n              &lt;compilerArgs&gt;                                    \r\n                &lt;arg&gt;-Xpkginfo:always&lt;/arg&gt;                     \r\n                &lt;arg&gt;-XDcompilePolicy=simple&lt;/arg&gt;              \r\n                &lt;arg&gt;                                           \r\n                  -Xplugin:ErrorProne \\                         \r\n                  -XepExcludedPaths:.*[\\\\/]resources[\\\\/].*     \r\n                &lt;/arg&gt;                                          \r\n              &lt;/compilerArgs&gt;                                   \r\n              &lt;annotationProcessorPaths&gt;                        \r\n                &lt;path&gt;                                          \r\n                  &lt;groupId&gt;com.google.errorprone&lt;/groupId&gt;      \r\n                  &lt;artifactId&gt;error_prone_core&lt;/artifactId&gt;     \r\n                  &lt;version&gt;${error-prone.version}&lt;/version&gt;     \r\n                &lt;/path&gt;                                         \r\n              &lt;/annotationProcessorPaths&gt;                       \r\n            &lt;/configuration&gt;                                    \r\n          &lt;/execution&gt;                                          \r\n        &lt;/executions&gt;                                           \r\n      &lt;/plugin&gt;                                                 \r\n    &lt;/plugins&gt;                                                  \r\n  &lt;/build&gt;                                                      \r\n&lt;/profile&gt;                                                      \r\n```\r\nNot using the current config, when running\r\n```bash\r\nmvn clean test-compile -Perror-prone-test-compile\r\n```\r\nthe testCompile goal is executed twice (`default-testCompile` and `test-compile-error-prone`):\r\n```\r\n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ checkstyle ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 2945 source files to /home/vyom/IdeaProjects/checkstyle/target/test-classes\r\n[INFO] /home/vyom/IdeaProjects/checkstyle/src/test/resources/com/puppycrawl/tools/checkstyle/checks/regexp/regexp/InputRegexpSemantic12.java: Some input files use or override a deprecated API.\r\n[INFO] /home/vyom/IdeaProjects/checkstyle/src/test/resources/com/puppycrawl/tools/checkstyle/checks/regexp/regexp/InputRegexpSemantic12.java: Recompile with -Xlint:deprecation for details.\r\n[INFO] /home/vyom/IdeaProjects/checkstyle/src/test/java/com/puppycrawl/tools/checkstyle/internal/utils/TestUtil.java: Some input files use unchecked or unsafe operations.\r\n[INFO] /home/vyom/IdeaProjects/checkstyle/src/test/java/com/puppycrawl/tools/checkstyle/internal/utils/TestUtil.java: Recompile with -Xlint:unchecked for details.\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (test-compile-error-prone) @ checkstyle ---\r\n[INFO] Changes detected - recompiling the module!\r\n```\r\n\r\nI want to replace `default-testCompile` with `test-compile-error-prone` i.e. only execute `test-compile-error-prone` and not execute `default-testCompile`.\r\n\r\nIs there any way to achieve this?","title":"How to use custom execution for testCompile goal for maven-compiler-plugin","body":"<p>I am using an <code>annotationProcessor</code> with maven-compiler-plugin in a custom profile.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;                                                       \n  &lt;id&gt;error-prone-test-compile&lt;/id&gt;                             \n  &lt;build&gt;                                                       \n    &lt;plugins&gt;                                                   \n      &lt;plugin&gt;                                                  \n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;             \n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;          \n        &lt;version&gt;3.10.1&lt;/version&gt;                               \n        &lt;executions&gt;                                            \n          &lt;execution&gt;                                           \n            &lt;id&gt;test-compile-error-prone&lt;/id&gt;                   \n            &lt;phase&gt;test-compile&lt;/phase&gt;                         \n            &lt;goals&gt;                                             \n              &lt;goal&gt;testCompile&lt;/goal&gt;                          \n            &lt;/goals&gt;                                            \n            &lt;configuration&gt;                                     \n              &lt;failOnError&gt;false&lt;/failOnError&gt;                  \n              &lt;source&gt;${java.version}&lt;/source&gt;                  \n              &lt;target&gt;${java.version}&lt;/target&gt;                  \n              &lt;compilerArgs&gt;                                    \n                &lt;arg&gt;-Xpkginfo:always&lt;/arg&gt;                     \n                &lt;arg&gt;-XDcompilePolicy=simple&lt;/arg&gt;              \n                &lt;arg&gt;                                           \n                  -Xplugin:ErrorProne \\                         \n                  -XepExcludedPaths:.*[\\\\/]resources[\\\\/].*     \n                &lt;/arg&gt;                                          \n              &lt;/compilerArgs&gt;                                   \n              &lt;annotationProcessorPaths&gt;                        \n                &lt;path&gt;                                          \n                  &lt;groupId&gt;com.google.errorprone&lt;/groupId&gt;      \n                  &lt;artifactId&gt;error_prone_core&lt;/artifactId&gt;     \n                  &lt;version&gt;${error-prone.version}&lt;/version&gt;     \n                &lt;/path&gt;                                         \n              &lt;/annotationProcessorPaths&gt;                       \n            &lt;/configuration&gt;                                    \n          &lt;/execution&gt;                                          \n        &lt;/executions&gt;                                           \n      &lt;/plugin&gt;                                                 \n    &lt;/plugins&gt;                                                  \n  &lt;/build&gt;                                                      \n&lt;/profile&gt;                                                      \n</code></pre>\n<p>Not using the current config, when running</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn clean test-compile -Perror-prone-test-compile\n</code></pre>\n<p>the testCompile goal is executed twice (<code>default-testCompile</code> and <code>test-compile-error-prone</code>):</p>\n<pre><code>[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ checkstyle ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 2945 source files to /home/vyom/IdeaProjects/checkstyle/target/test-classes\n[INFO] /home/vyom/IdeaProjects/checkstyle/src/test/resources/com/puppycrawl/tools/checkstyle/checks/regexp/regexp/InputRegexpSemantic12.java: Some input files use or override a deprecated API.\n[INFO] /home/vyom/IdeaProjects/checkstyle/src/test/resources/com/puppycrawl/tools/checkstyle/checks/regexp/regexp/InputRegexpSemantic12.java: Recompile with -Xlint:deprecation for details.\n[INFO] /home/vyom/IdeaProjects/checkstyle/src/test/java/com/puppycrawl/tools/checkstyle/internal/utils/TestUtil.java: Some input files use unchecked or unsafe operations.\n[INFO] /home/vyom/IdeaProjects/checkstyle/src/test/java/com/puppycrawl/tools/checkstyle/internal/utils/TestUtil.java: Recompile with -Xlint:unchecked for details.\n[INFO] \n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (test-compile-error-prone) @ checkstyle ---\n[INFO] Changes detected - recompiling the module!\n</code></pre>\n<p>I want to replace <code>default-testCompile</code> with <code>test-compile-error-prone</code> i.e. only execute <code>test-compile-error-prone</code> and not execute <code>default-testCompile</code>.</p>\n<p>Is there any way to achieve this?</p>\n"},{"tags":["java","spring","spring-boot","spring-vault"],"comments":[{"owner":{"account_id":1232493,"reputation":2231,"user_id":1196765,"accept_rate":52,"display_name":"tweetysat"},"score":0,"creation_date":1641557343,"post_id":69500025,"comment_id":124840549,"body_markdown":"Can you try adding `spring.config.import=vault://`  ? I had the same problem and now it is working for me. `spring.cloud.vault.kv.enabled` is not necessary (true by default)","body":"Can you try adding <code>spring.config.import=vault:&#47;&#47;</code>  ? I had the same problem and now it is working for me. <code>spring.cloud.vault.kv.enabled</code> is not necessary (true by default)"},{"owner":{"account_id":4653164,"reputation":419,"user_id":6923860,"display_name":"Norberto Ritzmann"},"score":0,"creation_date":1661034657,"post_id":69500025,"comment_id":129676009,"body_markdown":"@tweetysat can you add it as an answer? That is what was happening wrong with my code, thanks!","body":"@tweetysat can you add it as an answer? That is what was happening wrong with my code, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1232493,"reputation":2231,"user_id":1196765,"accept_rate":52,"display_name":"tweetysat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661145934,"creation_date":1661145934,"answer_id":73440531,"question_id":69500025,"body_markdown":"You should add `spring.config.import=vault://`\r\nI had the same problem and now it is working for me. `spring.cloud.vault.kv.enabled` is not necessary (true by default)","title":"Spring Vault returns null","body":"<p>You should add <code>spring.config.import=vault://</code>\nI had the same problem and now it is working for me. <code>spring.cloud.vault.kv.enabled</code> is not necessary (true by default)</p>\n"}],"owner":{"account_id":9728055,"reputation":21,"user_id":7214223,"display_name":"Thinh Pham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1033,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661145934,"creation_date":1633716186,"question_id":69500025,"body_markdown":"I am very new to Spring Vault, and so I followed a lot of guides and YouTube videos. The problem I am facing is that I think, I am able to access the vault but when I try to retrieve the values from the vault it returns null for me.\r\n\r\nSo in my Spring Boot app, my spring main method (SpringApp.java) is this:\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n\r\nimport com.SpringApp.config.VaultConfig;\r\n\r\n@SpringBootApplication\r\n@EnableConfigurationProperties(VaultConfig.class)\r\npublic class SpringApp implements CommandLineRunner{\r\n\t\r\n\tprivate static Logger log = LoggerFactory.getLogger(SpringApp.class);\r\n\tprivate VaultConfig vaultConfig;\r\n\t\r\n\tpublic SpringApp (VaultConfig vaultConfig) {\r\n\t\tsuper();\r\n\t\tthis.vaultConfig = vaultConfig;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringApp.class, args);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tlog.info(&quot;----------------------------------------&quot;);\r\n\t\tlog.info(&quot;Configuration properties&quot;);\r\n\t\tlog.info(&quot;   the secret key for jwt is {}&quot;, vaultConfig.getJwt());\r\n\t\tlog.info(&quot;----------------------------------------&quot;);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nMy VaultConfig.java is this:\r\n```\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\n@ConfigurationProperties(&quot;secret&quot;)\r\npublic class VaultConfig {\r\n\tprivate String jwt;\r\n}\r\n```\r\n\r\nWhen I run the command \r\n```\r\nvault server --dev --dev-root-token-id=&quot;00000000-0000-0000-0000-000000000000&quot;\r\n```\r\n\r\nI was able to start up my vault server and when I run the command\r\n```\r\nvault kv put secret/spring-vault-config secret.jwt=123456789\r\n```\r\n\r\nI was able to register the secret into the vault and I checked both in the UI and the command line and the value is there\r\n```\r\nlocalhost:8200\r\nand\r\nvault kv get secret/spring-vault-config\r\n```\r\n\r\nHowever, when I run the spring boot app I get \r\n```\r\nthe secret key for jwt is null\r\n```\r\n\r\nAt first, I have all properties in the &quot;bootstrap.properties&quot; files but I keep getting the error\r\n```\r\n&quot;spring.cloud.vault.token&quot; (Must not be empty) \r\n```\r\nSo then I change all those properties into the &quot;application.properties&quot; and it worked\r\n\r\nBut now for some reason I canât retrieve it, any help of suggestion will be greatly appreciate it. Thank you in advanced.\r\n\r\nOh this is what in my application.properties file\r\n```\r\nspring.application.name=spring-vault-config\r\nspring.cloud.vault.token=00000000-0000-0000-0000-000000000000\r\nspring.cloud.vault.scheme=http\r\nspring.cloud.vault.kv.enabled=true\r\n```\r\n","title":"Spring Vault returns null","body":"<p>I am very new to Spring Vault, and so I followed a lot of guides and YouTube videos. The problem I am facing is that I think, I am able to access the vault but when I try to retrieve the values from the vault it returns null for me.</p>\n<p>So in my Spring Boot app, my spring main method (SpringApp.java) is this:</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\n\nimport com.SpringApp.config.VaultConfig;\n\n@SpringBootApplication\n@EnableConfigurationProperties(VaultConfig.class)\npublic class SpringApp implements CommandLineRunner{\n    \n    private static Logger log = LoggerFactory.getLogger(SpringApp.class);\n    private VaultConfig vaultConfig;\n    \n    public SpringApp (VaultConfig vaultConfig) {\n        super();\n        this.vaultConfig = vaultConfig;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringApp.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        log.info(&quot;----------------------------------------&quot;);\n        log.info(&quot;Configuration properties&quot;);\n        log.info(&quot;   the secret key for jwt is {}&quot;, vaultConfig.getJwt());\n        log.info(&quot;----------------------------------------&quot;);\n        \n    }\n}\n</code></pre>\n<p>My VaultConfig.java is this:</p>\n<pre><code>import org.springframework.boot.context.properties.ConfigurationProperties;\n\nimport lombok.Data;\n\n@Data\n@ConfigurationProperties(&quot;secret&quot;)\npublic class VaultConfig {\n    private String jwt;\n}\n</code></pre>\n<p>When I run the command</p>\n<pre><code>vault server --dev --dev-root-token-id=&quot;00000000-0000-0000-0000-000000000000&quot;\n</code></pre>\n<p>I was able to start up my vault server and when I run the command</p>\n<pre><code>vault kv put secret/spring-vault-config secret.jwt=123456789\n</code></pre>\n<p>I was able to register the secret into the vault and I checked both in the UI and the command line and the value is there</p>\n<pre><code>localhost:8200\nand\nvault kv get secret/spring-vault-config\n</code></pre>\n<p>However, when I run the spring boot app I get</p>\n<pre><code>the secret key for jwt is null\n</code></pre>\n<p>At first, I have all properties in the &quot;bootstrap.properties&quot; files but I keep getting the error</p>\n<pre><code>&quot;spring.cloud.vault.token&quot; (Must not be empty) \n</code></pre>\n<p>So then I change all those properties into the &quot;application.properties&quot; and it worked</p>\n<p>But now for some reason I canât retrieve it, any help of suggestion will be greatly appreciate it. Thank you in advanced.</p>\n<p>Oh this is what in my application.properties file</p>\n<pre><code>spring.application.name=spring-vault-config\nspring.cloud.vault.token=00000000-0000-0000-0000-000000000000\nspring.cloud.vault.scheme=http\nspring.cloud.vault.kv.enabled=true\n</code></pre>\n"},{"tags":["java","bigdecimal","rounding"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1344157339,"post_id":11815135,"comment_id":15704225,"body_markdown":"Re: your &quot;problem&quot; with BigDecimal, yes the whole point of providing a rounding policy is that it should be used.  And obviously it will alter the result.  Your problem is most likely that you supplied the WRONG policy.","body":"Re: your &quot;problem&quot; with BigDecimal, yes the whole point of providing a rounding policy is that it should be used.  And obviously it will alter the result.  Your problem is most likely that you supplied the WRONG policy."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1344157489,"post_id":11815135,"comment_id":15704250,"body_markdown":"AFAIK, none of the policies provided by BigDecimal will fit my requirment.","body":"AFAIK, none of the policies provided by BigDecimal will fit my requirment."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1344158202,"post_id":11815135,"comment_id":15704374,"body_markdown":"Are you using the right scaling?  If you are, then one of the ROUND_HALF_XXX modes is what you want.","body":"Are you using the right scaling?  If you are, then one of the ROUND_HALF_XXX modes is what you want."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1344158458,"post_id":11815135,"comment_id":15704410,"body_markdown":"I am using a scale of 2. Is that correct?","body":"I am using a scale of 2. Is that correct?"},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1344268750,"post_id":11815135,"comment_id":15731072,"body_markdown":"Surprisingly, using any of the ROUND_HALF_XXX method and a scale of 2 solves the problem.","body":"Surprisingly, using any of the ROUND_HALF_XXX method and a scale of 2 solves the problem."}],"answers":[{"tags":[],"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1344156878,"creation_date":1344156878,"answer_id":11815152,"question_id":11815135,"body_markdown":"Store monetary amounts as integers (e.g. a number of cents).\r\n\r\nThis is a common issue - google will give you plenty of great explanations.\r\n\r\nHere is one: https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency\r\n\r\n","title":"Best method to round up to the nearest 0.05 in java","body":"<p>Store monetary amounts as integers (e.g. a number of cents).</p>\n\n<p>This is a common issue - google will give you plenty of great explanations.</p>\n\n<p>Here is one: <a href=\"https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency\">Why not use Double or Float to represent currency?</a></p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1344157005,"creation_date":1344157005,"answer_id":11815163,"question_id":11815135,"body_markdown":"You can use `long` instead of `double` to use double you can do\r\n\r\n    double d = Math.round(d * 20) / 20.0; // round up to multiple of 0.05\r\n\r\nto use long (as cents)\r\n\r\n    long l = (l + 3) / 5 * 5;\r\n\r\nAlthough its often considered best practice to use `int`, `long` or `BigDecimal` most investment banks and funds use `double` because once you understand how to use them safely, they are simpler (than long) and faster (than BigDecimal) to use.","title":"Best method to round up to the nearest 0.05 in java","body":"<p>You can use <code>long</code> instead of <code>double</code> to use double you can do</p>\n\n<pre><code>double d = Math.round(d * 20) / 20.0; // round up to multiple of 0.05\n</code></pre>\n\n<p>to use long (as cents)</p>\n\n<pre><code>long l = (l + 3) / 5 * 5;\n</code></pre>\n\n<p>Although its often considered best practice to use <code>int</code>, <code>long</code> or <code>BigDecimal</code> most investment banks and funds use <code>double</code> because once you understand how to use them safely, they are simpler (than long) and faster (than BigDecimal) to use.</p>\n"},{"tags":[],"owner":{"account_id":2674005,"reputation":911,"user_id":2310795,"display_name":"Endeios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421937589,"creation_date":1421937589,"answer_id":28091414,"question_id":11815135,"body_markdown":"This seems to be part of a famous tech interview problem\r\nThe point is to understand that you have to calculate the taxes and round that amount to the upper 0.05\r\nto calculate the rounding i used this groovy script\r\n\r\n    import java.math.*\r\n    \r\n    def myRound(BigDecimal d){ \r\n        def scale = new BigDecimal(&quot;0.05&quot;)\r\n        def y = d.divide(scale)\r\n        println &quot;y :$y&quot;\r\n    //    def q = y.round(new MathContext(0,RoundingMode.UP))\r\n        def q = y.setScale(0,BigDecimal.ROUND_UP)\r\n        println &quot;q :$q (intero)&quot;\r\n        def z = q.multiply(scale)\r\n        println &quot;z :$z&quot;\r\n        return z\r\n    }\r\n\r\n    def taxBy(BigDecimal d,BigDecimal t){ \r\n        return myRound(d.multiply(t))\r\n    }\r\n    def importTax(BigDecimal d){ \r\n        return taxBy(d,new BigDecimal(&quot;0.15&quot;))\r\n    }\r\n\r\n    def importBaseTax(BigDecimal b){ \r\n        return taxBy(d,new BigDecimal(&quot;0.05&quot;))\r\n    }\r\n\r\n    ip = new BigDecimal(&quot;27.99&quot;)\r\n    ipt = importTax(ip)\r\n    \r\n    println &quot;${ip}--&gt;${ipt} = ${ip+ipt}&quot;\r\n\r\nI hope this to be useful!\r\n","title":"Best method to round up to the nearest 0.05 in java","body":"<p>This seems to be part of a famous tech interview problem\nThe point is to understand that you have to calculate the taxes and round that amount to the upper 0.05\nto calculate the rounding i used this groovy script</p>\n\n<pre><code>import java.math.*\n\ndef myRound(BigDecimal d){ \n    def scale = new BigDecimal(\"0.05\")\n    def y = d.divide(scale)\n    println \"y :$y\"\n//    def q = y.round(new MathContext(0,RoundingMode.UP))\n    def q = y.setScale(0,BigDecimal.ROUND_UP)\n    println \"q :$q (intero)\"\n    def z = q.multiply(scale)\n    println \"z :$z\"\n    return z\n}\n\ndef taxBy(BigDecimal d,BigDecimal t){ \n    return myRound(d.multiply(t))\n}\ndef importTax(BigDecimal d){ \n    return taxBy(d,new BigDecimal(\"0.15\"))\n}\n\ndef importBaseTax(BigDecimal b){ \n    return taxBy(d,new BigDecimal(\"0.05\"))\n}\n\nip = new BigDecimal(\"27.99\")\nipt = importTax(ip)\n\nprintln \"${ip}--&gt;${ipt} = ${ip+ipt}\"\n</code></pre>\n\n<p>I hope this to be useful!</p>\n"},{"tags":[],"owner":{"account_id":2815987,"reputation":3975,"user_id":3314058,"display_name":"Dheeraj Sachan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661145452,"creation_date":1661145452,"answer_id":73440485,"question_id":11815135,"body_markdown":"    public static Float roundOffToNearest05(float value) {\r\n         float counter = value /0.05f;\r\n         long counterRounded = Math.round(counter);\r\n         float result = counterRounded * 0.05f;\r\n         DecimalFormat decimalFormat2 = new DecimalFormat(&quot;####0.00&quot;);\r\n         return Float.parseFloat(decimalFormat2.format(result));\r\n    }","title":"Best method to round up to the nearest 0.05 in java","body":"<pre><code>public static Float roundOffToNearest05(float value) {\n     float counter = value /0.05f;\n     long counterRounded = Math.round(counter);\n     float result = counterRounded * 0.05f;\n     DecimalFormat decimalFormat2 = new DecimalFormat(&quot;####0.00&quot;);\n     return Float.parseFloat(decimalFormat2.format(result));\n}\n</code></pre>\n"}],"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10133,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":11815163,"answer_count":4,"score":7,"last_activity_date":1661145452,"creation_date":1344156714,"question_id":11815135,"body_markdown":"Consider that a tax of 10% is applicable on all items except food. Also, an additional tax of of 5 % is applicable on imported items.  \r\n\r\nIf the cost of a music CD is 12.49. The tax for the item will be 1.499. \r\nIf the cost of an imported bottle of perfume is 47.50, The tax on the item will be 7.125\r\n\r\nThere is a policy in place which says that taxes on an item should be rounded off to the nearest 0.05. Therefore, 1.499 should be rounded off to 1.5 and 7.125 should be rounded of to 7.25. \r\n\r\nThe above rounding requirment can be achieved using the logic : \r\n\r\n        (float) Math.ceil(taxAmount / 0.05f) * 0.05f;\r\n\r\nAdding the tax to the cost of the item gives : \r\n\r\nmusic CD : 12.49 + 1.5 = 13.99\r\nimported box of chocolates : 47.50 + 7.25 = 54.65.\r\n\r\n\r\nI am facing a problem for the following input : \r\n\r\nIf the cost of an imported box of chocolates is 11.85, the tax will be 0.5925\r\n\r\nUsing the rounding policy, the tax after rounding will be 0.6.\r\n\r\nWhen we add 11.85 + 0.6 which are both floats, we get the result as 12.450001. Unlike the other inputs, this specific input gives a lot of decimal places as opposed to the 2 decimal places in the other outputs.\r\n\r\nI tried using BigDecimal instead of float to store all the values with a scale set to 2 decimal places. The problem with this approach is that bigDecimal will throw an exception for some cases if a rounding policy is not specified. Providing a rounding policy for BigDecimal causes the total of the cost of the item and the applicable tax to be rounded of using the rounding policy provided to BigDecimal, thus altering the required output. \r\n\r\n\r\n\r\n\r\n","title":"Best method to round up to the nearest 0.05 in java","body":"<p>Consider that a tax of 10% is applicable on all items except food. Also, an additional tax of of 5 % is applicable on imported items.  </p>\n\n<p>If the cost of a music CD is 12.49. The tax for the item will be 1.499. \nIf the cost of an imported bottle of perfume is 47.50, The tax on the item will be 7.125</p>\n\n<p>There is a policy in place which says that taxes on an item should be rounded off to the nearest 0.05. Therefore, 1.499 should be rounded off to 1.5 and 7.125 should be rounded of to 7.25. </p>\n\n<p>The above rounding requirment can be achieved using the logic : </p>\n\n<pre><code>    (float) Math.ceil(taxAmount / 0.05f) * 0.05f;\n</code></pre>\n\n<p>Adding the tax to the cost of the item gives : </p>\n\n<p>music CD : 12.49 + 1.5 = 13.99\nimported box of chocolates : 47.50 + 7.25 = 54.65.</p>\n\n<p>I am facing a problem for the following input : </p>\n\n<p>If the cost of an imported box of chocolates is 11.85, the tax will be 0.5925</p>\n\n<p>Using the rounding policy, the tax after rounding will be 0.6.</p>\n\n<p>When we add 11.85 + 0.6 which are both floats, we get the result as 12.450001. Unlike the other inputs, this specific input gives a lot of decimal places as opposed to the 2 decimal places in the other outputs.</p>\n\n<p>I tried using BigDecimal instead of float to store all the values with a scale set to 2 decimal places. The problem with this approach is that bigDecimal will throw an exception for some cases if a rounding policy is not specified. Providing a rounding policy for BigDecimal causes the total of the cost of the item and the applicable tax to be rounded of using the rounding policy provided to BigDecimal, thus altering the required output. </p>\n"},{"tags":["java","excel","boolean","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1661101131,"post_id":73436381,"comment_id":129686220,"body_markdown":"The problem is the `+` before the `AND` in your formula. Why is it there? Do using the formula without that `+` and it will work.","body":"The problem is the <code>+</code> before the <code>AND</code> in your formula. Why is it there? Do using the formula without that <code>+</code> and it will work."},{"owner":{"account_id":14615615,"reputation":13,"user_id":10555797,"display_name":"Sergio Andr&#233;s Correal L&#243;pez"},"score":0,"creation_date":1661112610,"post_id":73436381,"comment_id":129688756,"body_markdown":"Axel, thank you very much. I didn&#39;t have noticed that +, nor have ever thought it was a problem, but you are right. Without the + it works. Thanks a lot.","body":"Axel, thank you very much. I didn&#39;t have noticed that +, nor have ever thought it was a problem, but you are right. Without the + it works. Thanks a lot."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661144806,"creation_date":1661142853,"answer_id":73440259,"question_id":73436381,"body_markdown":"As shown in your screenshot, the formula in your Excel sheet is `=+AND(A1=&quot;a&quot;;B1=0)`. The `+` before the `AND` is superfluous.\r\n\r\nThe `+` in that formula does the following:\r\nEvaluation of `AND(A1=&quot;a&quot;;B1=0)` results in either boolean `TRUE` or `FALSE`.  But `+TRUE` and/or `+FALSE` converts the boolean to numeric. `+TRUE` = `1` and `+FALSE`  = `0`.\r\n\r\nYou will see this if you do the following in your code:\r\n\r\n    ...\r\n    sheet.getRow(0).getCell(1).setCellValue(0);\r\n    CellType cellType = evaluator.evaluateFormulaCell(sheet.getRow(0).getCell(2));\r\n    System.out.println(cellType); //NUMERIC\r\n    ...\r\n\r\nExcel itself ignores the superfluous `+` while evaluating the formula and remains the boolean type. But Apache POI does not. One could call this a bug, as Apache POI tries to act exactly like Excel. But the simplest solution is not to use that superfluous `+` in Excel formulas.\r\n","title":"Why doesn&#39;t Apache POI correctly evaluate Boolean functions?","body":"<p>As shown in your screenshot, the formula in your Excel sheet is <code>=+AND(A1=&quot;a&quot;;B1=0)</code>. The <code>+</code> before the <code>AND</code> is superfluous.</p>\n<p>The <code>+</code> in that formula does the following:\nEvaluation of <code>AND(A1=&quot;a&quot;;B1=0)</code> results in either boolean <code>TRUE</code> or <code>FALSE</code>.  But <code>+TRUE</code> and/or <code>+FALSE</code> converts the boolean to numeric. <code>+TRUE</code> = <code>1</code> and <code>+FALSE</code>  = <code>0</code>.</p>\n<p>You will see this if you do the following in your code:</p>\n<pre><code>...\nsheet.getRow(0).getCell(1).setCellValue(0);\nCellType cellType = evaluator.evaluateFormulaCell(sheet.getRow(0).getCell(2));\nSystem.out.println(cellType); //NUMERIC\n...\n</code></pre>\n<p>Excel itself ignores the superfluous <code>+</code> while evaluating the formula and remains the boolean type. But Apache POI does not. One could call this a bug, as Apache POI tries to act exactly like Excel. But the simplest solution is not to use that superfluous <code>+</code> in Excel formulas.</p>\n"}],"owner":{"account_id":14615615,"reputation":13,"user_id":10555797,"display_name":"Sergio Andr&#233;s Correal L&#243;pez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661144806,"creation_date":1661100176,"question_id":73436381,"body_markdown":"I have Java code that uses Apache POI 5.2.2. The program works fine, except that Apache POI does not evaluate Excel Boolean functions correctly. For example, I have an Excel file called âeje.xlsmâ that looks like this:\r\n\r\n![code image][1]\r\n\r\nIt only has the formula `AND(A1=&quot;a&quot;;B1=0)` in cell C1 and the values &quot;a&quot; in A1 and 1 in B1. The main function of my Java program reads this information and changes the value in B1 to 0, so that C1 should change to TRUE:\r\n\r\n    public static void main(String[] args){\r\n\t\ttry{\r\n\t\t\tFileInputStream file = new FileInputStream(new File(&quot;./eje.xlsm&quot;));\r\n\t\t\tXSSFWorkbook workbook = new XSSFWorkbook(file);\r\n\t\t\tXSSFSheet sheet = workbook.getSheetAt(0);\r\n\t\t\tSystem.out.println(sheet.getRow(0).getCell(2).getBooleanCellValue());\r\n\t\t\tsheet.getRow(0).getCell(1).setCellValue(0);\r\n\t\t\tFormulaEvaluator evaluator = workbook.getCreationHelper().createFormulaEvaluator();\r\n\t\t\tevaluator.evaluateFormulaCell(sheet.getRow(0).getCell(2));\r\n\t\t\tSystem.out.println(sheet.getRow(0).getCell(2).getBooleanCellValue());\r\n\t\t\tFileOutputStream  out =  new FileOutputStream(&quot;./eje.xlsm&quot;);\r\n\t\t\tworkbook.write(out);\r\n\t\t\tout.close();\r\n\t\t\tworkbook.close();\r\n\t\t\tfile.close();\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\nI was expecting this output on the console:\r\n\r\n```none\r\nfalse\r\ntrue\r\n```\r\n\r\nBut, instead, I get:\r\n\r\n```none\r\nfalse\r\nfalse\r\n```\r\n\r\nI do not know why. I have tried to reconfigure Apache POI in Eclipse, which I use for Java coding, but the problem persists. It only happens with Boolean functions, so with other functions it works fine.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wEhi3.png","title":"Why doesn&#39;t Apache POI correctly evaluate Boolean functions?","body":"<p>I have Java code that uses Apache POI 5.2.2. The program works fine, except that Apache POI does not evaluate Excel Boolean functions correctly. For example, I have an Excel file called âeje.xlsmâ that looks like this:</p>\n<p><img src=\"https://i.stack.imgur.com/wEhi3.png\" alt=\"code image\" /></p>\n<p>It only has the formula <code>AND(A1=&quot;a&quot;;B1=0)</code> in cell C1 and the values &quot;a&quot; in A1 and 1 in B1. The main function of my Java program reads this information and changes the value in B1 to 0, so that C1 should change to TRUE:</p>\n<pre><code>public static void main(String[] args){\n    try{\n        FileInputStream file = new FileInputStream(new File(&quot;./eje.xlsm&quot;));\n        XSSFWorkbook workbook = new XSSFWorkbook(file);\n        XSSFSheet sheet = workbook.getSheetAt(0);\n        System.out.println(sheet.getRow(0).getCell(2).getBooleanCellValue());\n        sheet.getRow(0).getCell(1).setCellValue(0);\n        FormulaEvaluator evaluator = workbook.getCreationHelper().createFormulaEvaluator();\n        evaluator.evaluateFormulaCell(sheet.getRow(0).getCell(2));\n        System.out.println(sheet.getRow(0).getCell(2).getBooleanCellValue());\n        FileOutputStream  out =  new FileOutputStream(&quot;./eje.xlsm&quot;);\n        workbook.write(out);\n        out.close();\n        workbook.close();\n        file.close();\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n<p>I was expecting this output on the console:</p>\n<pre class=\"lang-none prettyprint-override\"><code>false\ntrue\n</code></pre>\n<p>But, instead, I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>false\nfalse\n</code></pre>\n<p>I do not know why. I have tried to reconfigure Apache POI in Eclipse, which I use for Java coding, but the problem persists. It only happens with Boolean functions, so with other functions it works fine.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7423733,"reputation":7391,"user_id":5647037,"display_name":"Vucko"},"score":0,"creation_date":1463475922,"post_id":37271562,"comment_id":62069220,"body_markdown":"Why would it? It&#39;s perfectly fine to ask Android related questions here.","body":"Why would it? It&#39;s perfectly fine to ask Android related questions here."},{"owner":{"account_id":6530145,"reputation":4502,"user_id":6127411,"accept_rate":60,"display_name":"Janki Gadhiya"},"score":0,"creation_date":1463477383,"post_id":37271562,"comment_id":62070196,"body_markdown":"This could be helpful to you : http://stackoverflow.com/a/33170531/6127411","body":"This could be helpful to you : <a href=\"http://stackoverflow.com/a/33170531/6127411\">stackoverflow.com/a/33170531/6127411</a>"},{"owner":{"account_id":5713777,"reputation":5302,"user_id":4514796,"display_name":"Ali Nem"},"score":0,"creation_date":1463477514,"post_id":37271562,"comment_id":62070282,"body_markdown":"@jankigadhiya, No, I have neither of those ...","body":"@jankigadhiya, No, I have neither of those ..."},{"owner":{"account_id":4711775,"reputation":98,"user_id":3812081,"display_name":"venimania"},"score":0,"creation_date":1502892833,"post_id":37271562,"comment_id":78389875,"body_markdown":"@AliNematiHayati did you find a solution for your problem? I&#39;m on the same situation! thaks","body":"@AliNematiHayati did you find a solution for your problem? I&#39;m on the same situation! thaks"}],"answers":[{"tags":[],"owner":{"account_id":5197618,"reputation":3780,"user_id":4158261,"accept_rate":45,"display_name":"Narendra Sorathiya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1463476582,"creation_date":1463476582,"answer_id":37271935,"question_id":37271562,"body_markdown":"     if (checkPermission(PERMISSION_WRITE_EXTERNAL_STORAGE)) {\r\n\r\n                addToneToStorage();\r\n\r\n            } else {\r\n\r\n                requestForPermission(PERMISSION_WRITE_EXTERNAL_STORAGE);\r\n\r\n            }\r\n\r\n&gt; BaseActivity\r\n\r\n    public static final int PERMISSION_RECORD_AUDIO = 1;\r\n    public static final int PERMISSION_READ_EXTERNAL_STORAGE = 2;\r\n    public static final int PERMISSION_WRITE_EXTERNAL_STORAGE = 3;\r\n\r\n    public boolean checkPermission(int permission) {\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, getPermission(permission)) != PackageManager.PERMISSION_GRANTED) {\r\n            Debug.e(&quot;PERMISSION_CHECK_PERMISSION_FALSE&quot;, &quot;-&quot; + permission);\r\n            return false;\r\n        } else {\r\n            Debug.e(&quot;PERMISSION_CHECK_PERMISSION_TRUE&quot;, &quot;-&quot; + permission);\r\n            return true;\r\n        }\r\n\r\n    }\r\n\r\n    public void requestForPermission(final int permission) {\r\n\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                getPermission(permission))) {\r\n\r\n            Debug.e(&quot;PERMISSION_NEEDED&quot;, &quot;-&quot; + permission);\r\n\r\n            final AlertDialog.Builder alertDialog = new AlertDialog.Builder(this);\r\n\r\n            // Setting Dialog Message\r\n            alertDialog.setMessage(getString(R.string.text_permission_rationale));\r\n\r\n            // Setting Positive &quot;Yes&quot; Button\r\n            alertDialog.setPositiveButton(getString(R.string.ok), new DialogInterface.OnClickListener() {\r\n                public void onClick(DialogInterface dialog, int which) {\r\n\r\n                    ActivityCompat.requestPermissions(BaseActivity.this, new String[]{getPermission(permission)}, permission);\r\n\r\n                }\r\n            });\r\n\r\n            alertDialog.setNegativeButton(getString(R.string.cancel), new DialogInterface.OnClickListener() {\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    // Write your code here to invoke NO event\r\n                    dialog.dismiss();\r\n                }\r\n            });\r\n\r\n            // Showing Alert Message\r\n            alertDialog.show();\r\n        } else {\r\n\r\n            Debug.e(&quot;PERMISSION_ALLOW&quot;, &quot;-&quot; + permission);\r\n\r\n            ActivityCompat.requestPermissions(this, new String[]{getPermission(permission)}, permission);\r\n\r\n        }\r\n        // END_INCLUDE(camera_permission_request)\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(final int requestCode, @NonNull String[] permissions,\r\n                                           @NonNull int[] grantResults) {\r\n\r\n\r\n        if (grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n            // Camera permission has been granted, preview can be displayed\r\n\r\n            Debug.e(&quot;PERMISSION_ALLOWED&quot;, &quot;-&quot; + requestCode);\r\n\r\n            final AlertDialog.Builder alertDialog = new AlertDialog.Builder(this);\r\n\r\n            // Setting Dialog Message\r\n            alertDialog.setMessage(getString(R.string.text_permission_granted));\r\n\r\n            // Setting Positive &quot;Yes&quot; Button\r\n            alertDialog.setPositiveButton(getString(R.string.ok), new DialogInterface.OnClickListener() {\r\n                public void onClick(DialogInterface dialog, int which) {\r\n\r\n                    dialog.dismiss();\r\n\r\n                }\r\n            });\r\n            // Showing Alert Message\r\n            alertDialog.show();\r\n\r\n        } else {\r\n\r\n            Debug.e(&quot;PERMISSION_DENIED&quot;, &quot;-&quot; + requestCode);\r\n\r\n            final AlertDialog.Builder alertDialog = new AlertDialog.Builder(this);\r\n\r\n            // Setting Dialog Message\r\n            alertDialog.setMessage(getString(R.string.text_permission_not_granted));\r\n\r\n            // Setting Positive &quot;Yes&quot; Button\r\n            alertDialog.setPositiveButton(getString(R.string.ok), new DialogInterface.OnClickListener() {\r\n                public void onClick(DialogInterface dialog, int which) {\r\n\r\n                    dialog.dismiss();\r\n\r\n                }\r\n            });\r\n            // Showing Alert Message\r\n            alertDialog.show();\r\n        }\r\n\r\n    }\r\n\r\n    public String getPermission(int permis) {\r\n\r\n        String permission = null;\r\n\r\n        switch (permis) {\r\n            case PERMISSION_RECORD_AUDIO:\r\n                permission = Manifest.permission.RECORD_AUDIO;\r\n                Debug.e(&quot;PERMISSION&quot;, &quot;-&quot; + permission);\r\n                return permission;\r\n            case PERMISSION_READ_EXTERNAL_STORAGE:\r\n                permission = Manifest.permission.READ_EXTERNAL_STORAGE;\r\n                Debug.e(&quot;PERMISSION&quot;, &quot;-&quot; + permission);\r\n                return permission;\r\n            case PERMISSION_WRITE_EXTERNAL_STORAGE:\r\n                permission = Manifest.permission.WRITE_EXTERNAL_STORAGE;\r\n                Debug.e(&quot;PERMISSION&quot;, &quot;-&quot; + permission);\r\n                return permission;\r\n        }\r\n        return permission;\r\n    }\r\n}\r\n","title":"handling Permissions in a single class in android","body":"<pre><code> if (checkPermission(PERMISSION_WRITE_EXTERNAL_STORAGE)) {\n\n            addToneToStorage();\n\n        } else {\n\n            requestForPermission(PERMISSION_WRITE_EXTERNAL_STORAGE);\n\n        }\n</code></pre>\n\n<blockquote>\n  <p>BaseActivity</p>\n</blockquote>\n\n<pre><code>public static final int PERMISSION_RECORD_AUDIO = 1;\npublic static final int PERMISSION_READ_EXTERNAL_STORAGE = 2;\npublic static final int PERMISSION_WRITE_EXTERNAL_STORAGE = 3;\n\npublic boolean checkPermission(int permission) {\n\n    if (ActivityCompat.checkSelfPermission(this, getPermission(permission)) != PackageManager.PERMISSION_GRANTED) {\n        Debug.e(\"PERMISSION_CHECK_PERMISSION_FALSE\", \"-\" + permission);\n        return false;\n    } else {\n        Debug.e(\"PERMISSION_CHECK_PERMISSION_TRUE\", \"-\" + permission);\n        return true;\n    }\n\n}\n\npublic void requestForPermission(final int permission) {\n\n    if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n            getPermission(permission))) {\n\n        Debug.e(\"PERMISSION_NEEDED\", \"-\" + permission);\n\n        final AlertDialog.Builder alertDialog = new AlertDialog.Builder(this);\n\n        // Setting Dialog Message\n        alertDialog.setMessage(getString(R.string.text_permission_rationale));\n\n        // Setting Positive \"Yes\" Button\n        alertDialog.setPositiveButton(getString(R.string.ok), new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int which) {\n\n                ActivityCompat.requestPermissions(BaseActivity.this, new String[]{getPermission(permission)}, permission);\n\n            }\n        });\n\n        alertDialog.setNegativeButton(getString(R.string.cancel), new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int which) {\n                // Write your code here to invoke NO event\n                dialog.dismiss();\n            }\n        });\n\n        // Showing Alert Message\n        alertDialog.show();\n    } else {\n\n        Debug.e(\"PERMISSION_ALLOW\", \"-\" + permission);\n\n        ActivityCompat.requestPermissions(this, new String[]{getPermission(permission)}, permission);\n\n    }\n    // END_INCLUDE(camera_permission_request)\n}\n\n@Override\npublic void onRequestPermissionsResult(final int requestCode, @NonNull String[] permissions,\n                                       @NonNull int[] grantResults) {\n\n\n    if (grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n        // Camera permission has been granted, preview can be displayed\n\n        Debug.e(\"PERMISSION_ALLOWED\", \"-\" + requestCode);\n\n        final AlertDialog.Builder alertDialog = new AlertDialog.Builder(this);\n\n        // Setting Dialog Message\n        alertDialog.setMessage(getString(R.string.text_permission_granted));\n\n        // Setting Positive \"Yes\" Button\n        alertDialog.setPositiveButton(getString(R.string.ok), new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int which) {\n\n                dialog.dismiss();\n\n            }\n        });\n        // Showing Alert Message\n        alertDialog.show();\n\n    } else {\n\n        Debug.e(\"PERMISSION_DENIED\", \"-\" + requestCode);\n\n        final AlertDialog.Builder alertDialog = new AlertDialog.Builder(this);\n\n        // Setting Dialog Message\n        alertDialog.setMessage(getString(R.string.text_permission_not_granted));\n\n        // Setting Positive \"Yes\" Button\n        alertDialog.setPositiveButton(getString(R.string.ok), new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int which) {\n\n                dialog.dismiss();\n\n            }\n        });\n        // Showing Alert Message\n        alertDialog.show();\n    }\n\n}\n\npublic String getPermission(int permis) {\n\n    String permission = null;\n\n    switch (permis) {\n        case PERMISSION_RECORD_AUDIO:\n            permission = Manifest.permission.RECORD_AUDIO;\n            Debug.e(\"PERMISSION\", \"-\" + permission);\n            return permission;\n        case PERMISSION_READ_EXTERNAL_STORAGE:\n            permission = Manifest.permission.READ_EXTERNAL_STORAGE;\n            Debug.e(\"PERMISSION\", \"-\" + permission);\n            return permission;\n        case PERMISSION_WRITE_EXTERNAL_STORAGE:\n            permission = Manifest.permission.WRITE_EXTERNAL_STORAGE;\n            Debug.e(\"PERMISSION\", \"-\" + permission);\n            return permission;\n    }\n    return permission;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":6530145,"reputation":4502,"user_id":6127411,"accept_rate":60,"display_name":"Janki Gadhiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463478560,"creation_date":1463478560,"answer_id":37272693,"question_id":37271562,"body_markdown":"As far as i searched i found that its a bug in android. You can see the [live issue here][1]. `onRequestPermissionsResult()` will not be called in any other class then the activity it is called by.\r\n\r\nFor more details refer this question : https://stackoverflow.com/questions/33169455/onrequestpermissionsresult-not-being-called-in-dialog-fragment. this user having the same problem as yours.\r\n\r\n&gt; Creating a Common class for requesting permissions is a really good\r\n&gt; attempt but my friend, we need to find an alternative for handling\r\n&gt; `onRequestPermissionsResult()`\r\n\r\n\r\n  [1]: https://code.google.com/p/android/issues/detail?id=189121","title":"handling Permissions in a single class in android","body":"<p>As far as i searched i found that its a bug in android. You can see the <a href=\"https://code.google.com/p/android/issues/detail?id=189121\" rel=\"nofollow noreferrer\">live issue here</a>. <code>onRequestPermissionsResult()</code> will not be called in any other class then the activity it is called by.</p>\n\n<p>For more details refer this question : <a href=\"https://stackoverflow.com/questions/33169455/onrequestpermissionsresult-not-being-called-in-dialog-fragment\">onRequestPermissionsResult not being called in dialog fragment</a>. this user having the same problem as yours.</p>\n\n<blockquote>\n  <p>Creating a Common class for requesting permissions is a really good\n  attempt but my friend, we need to find an alternative for handling\n  <code>onRequestPermissionsResult()</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3882840,"reputation":1421,"user_id":3214950,"accept_rate":100,"display_name":"Hossein Vatani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603365631,"creation_date":1603353416,"answer_id":64477734,"question_id":37271562,"body_markdown":"[according](https://stackoverflow.com/a/37272693/3214950) [Janki Gadhiya](https://stackoverflow.com/users/6127411/janki-gadhiya) answers, I write procedure like\r\n\r\n    public static WhatYouWould fCustomRequestPermissionsResult(AppCompatActivity appCompatActivity, @NonNull String[] permissions, @NonNull int[] grantResults,...)\r\nin _My PermissionHandler_ class and do what I would, then in for example _MainActivity.java_, I call that in _onRequestPermissionResult_ :\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        ActiveUtility.CheckPermission.fCustomRequestPermissionsResult(...)","title":"handling Permissions in a single class in android","body":"<p><a href=\"https://stackoverflow.com/a/37272693/3214950\">according</a> <a href=\"https://stackoverflow.com/users/6127411/janki-gadhiya\">Janki Gadhiya</a> answers, I write procedure like</p>\n<pre><code>public static WhatYouWould fCustomRequestPermissionsResult(AppCompatActivity appCompatActivity, @NonNull String[] permissions, @NonNull int[] grantResults,...)\n</code></pre>\n<p>in <em>My PermissionHandler</em> class and do what I would, then in for example <em>MainActivity.java</em>, I call that in <em>onRequestPermissionResult</em> :</p>\n<pre><code>@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    ActiveUtility.CheckPermission.fCustomRequestPermissionsResult(...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289775,"reputation":301,"user_id":4222697,"accept_rate":78,"display_name":"smk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661144732,"creation_date":1661144732,"answer_id":73440404,"question_id":37271562,"body_markdown":"This is what I am using for requesting single permission on Android 11. compileSdk=30, minSdk=30, targetSdk=30\r\n\r\nPermittedTask.java\r\n\r\n    \r\n    public abstract class PermittedTask {\r\n        private ActivityResultLauncher&lt;String&gt; launcher;\r\n        private String permission;\r\n        private AppCompatActivity activity;\r\n\r\n        public PermittedTask(AppCompatActivity activity, String permission) {\r\n\t        this.activity = activity;\r\n    \t    this.permission = permission;\r\n    \t    this.launcher =  activity.registerForActivityResult(\r\n\t                new ActivityResultContracts.RequestPermission(),\r\n    \t            new ActivityResultCallback&lt;Boolean&gt;() {\r\n    \t                @Override\r\n    \t                public void onActivityResult(Boolean result) {\r\n    \t                    if(result) {\r\n    \t                        granted();\r\n    \t                    } else {\r\n    \t                        denied();\r\n    \t                    }\r\n    \t                }\r\n    \t            }\r\n    \t    );\r\n        }\r\n\r\n        protected abstract void granted();\r\n\r\n        protected void denied() {}\r\n\r\n        private void showRequestPermissionRationale() {\r\n\t    AlertDialog.Builder builder = new AlertDialog.Builder(activity);\r\n\t    builder.setTitle(&quot;Permissions needed&quot;)\r\n\t            .setMessage(&quot;App needs permissions to do that. You can allow or deny in next screen. Proceed?&quot;)\r\n\t            .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n\t                @Override\r\n\t                public void onClick(DialogInterface dialog, int which) {\r\n\t                    launcher.launch(permission);\r\n\t                }\r\n\t            })\r\n\t            .setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\r\n\t                @Override\r\n\t                public void onClick(DialogInterface dialog, int which) {\r\n\t                    denied();\r\n\t                }\r\n\t            })\r\n\t            .show();\r\n        }\r\n\r\n        public void run() {\r\n\t        if(ContextCompat.checkSelfPermission(activity, permission) == PackageManager.PERMISSION_GRANTED) {\r\n\t            granted();\r\n\t        } else if(activity.shouldShowRequestPermissionRationale(permission)) {\r\n\t            showRequestPermissionRationale();\r\n\t        } else {\r\n\t            launcher.launch(permission);\r\n\t        }\r\n        }\r\n    }\r\n\t\r\n\r\n\t\r\nMainActivity.java\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        //...\r\n        \r\n        private PermittedTask scanTask;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n\t        super.onCreate(savedInstanceState);\t    \r\n\t        \r\n\t        //...\t    \r\n\t        \r\n\t        scanTask = new PermittedTask(this, Manifest.permission.ACCESS_FINE_LOCATION) {\r\n                @Override\r\n                protected void granted() {\r\n                    startDiscovery();\r\n                }\r\n            };\r\n            \r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {                \r\n                    scanTask.run();\r\n                }\r\n            });\r\n            \r\n            //...\r\n        }\r\n        \r\n        private void startDiscovery() {    \r\n            //...    \r\n        }\r\n        \r\n        //...\r\n    }\r\n    \r\n\r\n\r\n        \r\n\r\n","title":"handling Permissions in a single class in android","body":"<p>This is what I am using for requesting single permission on Android 11. compileSdk=30, minSdk=30, targetSdk=30</p>\n<p>PermittedTask.java</p>\n<pre><code>public abstract class PermittedTask {\n    private ActivityResultLauncher&lt;String&gt; launcher;\n    private String permission;\n    private AppCompatActivity activity;\n\n    public PermittedTask(AppCompatActivity activity, String permission) {\n        this.activity = activity;\n        this.permission = permission;\n        this.launcher =  activity.registerForActivityResult(\n                new ActivityResultContracts.RequestPermission(),\n                new ActivityResultCallback&lt;Boolean&gt;() {\n                    @Override\n                    public void onActivityResult(Boolean result) {\n                        if(result) {\n                            granted();\n                        } else {\n                            denied();\n                        }\n                    }\n                }\n        );\n    }\n\n    protected abstract void granted();\n\n    protected void denied() {}\n\n    private void showRequestPermissionRationale() {\n    AlertDialog.Builder builder = new AlertDialog.Builder(activity);\n    builder.setTitle(&quot;Permissions needed&quot;)\n            .setMessage(&quot;App needs permissions to do that. You can allow or deny in next screen. Proceed?&quot;)\n            .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    launcher.launch(permission);\n                }\n            })\n            .setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialog, int which) {\n                    denied();\n                }\n            })\n            .show();\n    }\n\n    public void run() {\n        if(ContextCompat.checkSelfPermission(activity, permission) == PackageManager.PERMISSION_GRANTED) {\n            granted();\n        } else if(activity.shouldShowRequestPermissionRationale(permission)) {\n            showRequestPermissionRationale();\n        } else {\n            launcher.launch(permission);\n        }\n    }\n}\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    //...\n    \n    private PermittedTask scanTask;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);     \n        \n        //...       \n        \n        scanTask = new PermittedTask(this, Manifest.permission.ACCESS_FINE_LOCATION) {\n            @Override\n            protected void granted() {\n                startDiscovery();\n            }\n        };\n        \n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {                \n                scanTask.run();\n            }\n        });\n        \n        //...\n    }\n    \n    private void startDiscovery() {    \n        //...    \n    }\n    \n    //...\n}\n\n\n\n    \n</code></pre>\n"}],"owner":{"account_id":5713777,"reputation":5302,"user_id":4514796,"display_name":"Ali Nem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5682,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1661144732,"creation_date":1463475568,"question_id":37271562,"body_markdown":"For handling permissions in android M+, I want to write a single class, namely PermissionHandler class, to handle all the permission-related work so that I can easily use the same class in any project without making changes to the calling activity by calling only the constructor:\r\n\r\n               new PermissionHandler(CallingActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE, new PermissionHandler.PermissionGranted() {\r\n                    @Override\r\n                    public void onPermissionGranted() {\r\n                        doWhatever();\r\n                    }\r\n                });\r\nMy PermissionHandler is:\r\n\r\n    public class PermissionHandler implements ActivityCompat.OnRequestPermissionsResultCallback{\r\n    .\r\n    .\r\n    .\r\n    public PermissionHandler(AppCompatActivity callingActivity, String permission, PermissionGranted permissionGranted) {\r\n            this.permission = permission;\r\n            this.permissionGranted = permissionGranted;\r\n            this.callingActivity= callingActivity;\r\n            askForPermission();\r\n\r\n    }\r\n    \r\n    private void askForPermission() {\r\n        \r\n                if (ContextCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                    if (ActivityCompat.shouldShowRequestPermissionRationale(activity, permission)) {\r\n                        showAlertDialog();\r\n                    } else {\r\n                        ActivityCompat.requestPermissions(callingActivity,permissionsArray, PERMISSION_REQUEST);\r\n                    }\r\n                } else {\r\n                    permissionGranted.onPermissionGranted();\r\n                }\r\n    }\r\n    \r\n        @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        switch (requestCode) {\r\n            case PERMISSION_REQUEST: {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    permissionGranted.onPermissionGranted();\r\n                } else {\r\n                    onPermissionIsNotGranted();\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nMy problem here is that `onRequestPermissionsResult` which is supposed to be invoked when `ActivityCompat.requestPermissions(callingActivity,permissionsArray, PERMISSION_REQUEST)` is called is never invoked.\r\nWhat I found out is that this is due to android calling `callingActivity.onRequestPermissionsResult` which does not exist in the callingActivity and is passed to PermissionHandler.\r\nI also considered using Reflection and Proxies to resolve this issue at runtime, but no success.","title":"handling Permissions in a single class in android","body":"<p>For handling permissions in android M+, I want to write a single class, namely PermissionHandler class, to handle all the permission-related work so that I can easily use the same class in any project without making changes to the calling activity by calling only the constructor:</p>\n\n<pre><code>           new PermissionHandler(CallingActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE, new PermissionHandler.PermissionGranted() {\n                @Override\n                public void onPermissionGranted() {\n                    doWhatever();\n                }\n            });\n</code></pre>\n\n<p>My PermissionHandler is:</p>\n\n<pre><code>public class PermissionHandler implements ActivityCompat.OnRequestPermissionsResultCallback{\n.\n.\n.\npublic PermissionHandler(AppCompatActivity callingActivity, String permission, PermissionGranted permissionGranted) {\n        this.permission = permission;\n        this.permissionGranted = permissionGranted;\n        this.callingActivity= callingActivity;\n        askForPermission();\n\n}\n\nprivate void askForPermission() {\n\n            if (ContextCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\n                if (ActivityCompat.shouldShowRequestPermissionRationale(activity, permission)) {\n                    showAlertDialog();\n                } else {\n                    ActivityCompat.requestPermissions(callingActivity,permissionsArray, PERMISSION_REQUEST);\n                }\n            } else {\n                permissionGranted.onPermissionGranted();\n            }\n}\n\n    @Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    switch (requestCode) {\n        case PERMISSION_REQUEST: {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                permissionGranted.onPermissionGranted();\n            } else {\n                onPermissionIsNotGranted();\n            }\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>My problem here is that <code>onRequestPermissionsResult</code> which is supposed to be invoked when <code>ActivityCompat.requestPermissions(callingActivity,permissionsArray, PERMISSION_REQUEST)</code> is called is never invoked.\nWhat I found out is that this is due to android calling <code>callingActivity.onRequestPermissionsResult</code> which does not exist in the callingActivity and is passed to PermissionHandler.\nI also considered using Reflection and Proxies to resolve this issue at runtime, but no success.</p>\n"},{"tags":["java","android","string"],"answers":[{"tags":[],"owner":{"account_id":280862,"reputation":383,"user_id":576809,"display_name":"mrPjer"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1295109150,"creation_date":1295105689,"answer_id":4700411,"question_id":4700357,"body_markdown":"[EDIT]\r\nI made a mistake earlier, because, to get the text, you need to use .getText().toString().\r\n\r\nHere is a full working example:\r\n\r\n\tpackage com.psegina.passwordTest01;\r\n\t\r\n\timport android.app.Activity;\r\n\timport android.os.Bundle;\r\n\timport android.view.View;\r\n\timport android.view.View.OnClickListener;\r\n\timport android.widget.Button;\r\n\timport android.widget.EditText;\r\n\timport android.widget.LinearLayout;\r\n\timport android.widget.Toast;\r\n\t\r\n\tpublic class Main extends Activity implements OnClickListener {\r\n\t\tLinearLayout l;\r\n\t\tEditText user;\r\n\t\tEditText pwd;\r\n\t\tButton btn;\r\n\t\t\r\n\t\t@Override\r\n\t    public void onCreate(Bundle savedInstanceState) {\r\n\t\t\tsuper.onCreate(savedInstanceState);\r\n\t\r\n\t\t\tl = new LinearLayout(this);\r\n\t\t\tuser = new EditText(this);\r\n\t\t\tpwd = new EditText(this);\r\n\t\t\tbtn = new Button(this);\r\n\t\t\t\r\n\t\t\tl.addView(user);\r\n\t    \tl.addView(pwd);\r\n\t    \tl.addView(btn);\r\n\t    \tbtn.setOnClickListener(this);\r\n\t    \t\r\n\t    \tsetContentView(l);\r\n\t    }\r\n\t    \r\n\t    public void onClick(View v){\r\n\t    \tString u = user.getText().toString();\r\n\t    \tString p = pwd.getText().toString();\r\n\t    \tif( u.equals( p ) )\r\n\t    \t\tToast.makeText(getApplicationContext(), &quot;Matches&quot;, Toast.LENGTH_SHORT).show();\r\n\t    \telse\r\n\t    \t\tToast.makeText(getApplicationContext(), user.getText()+&quot; != &quot;+pwd.getText(), Toast.LENGTH_SHORT).show();\r\n\t    }\r\n\t}\r\n\r\nOriginal answer (Will not work because of the lack of toString())\r\n\r\nTry using .getText() instead of .toString().\r\n\r\n    if( passw1.getText() == passw2.getText() )\r\n    #do something\r\n\r\n.toString() returns a String representation of the whole object, meaning it won&#39;t return the text you entered in the field (see for yourself by adding a Toast which will show the output of .toString())\r\n","title":"Comparing strings in Java","body":"<p>[EDIT]\nI made a mistake earlier, because, to get the text, you need to use .getText().toString().</p>\n\n<p>Here is a full working example:</p>\n\n<pre><code>package com.psegina.passwordTest01;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.LinearLayout;\nimport android.widget.Toast;\n\npublic class Main extends Activity implements OnClickListener {\n    LinearLayout l;\n    EditText user;\n    EditText pwd;\n    Button btn;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        l = new LinearLayout(this);\n        user = new EditText(this);\n        pwd = new EditText(this);\n        btn = new Button(this);\n\n        l.addView(user);\n        l.addView(pwd);\n        l.addView(btn);\n        btn.setOnClickListener(this);\n\n        setContentView(l);\n    }\n\n    public void onClick(View v){\n        String u = user.getText().toString();\n        String p = pwd.getText().toString();\n        if( u.equals( p ) )\n            Toast.makeText(getApplicationContext(), \"Matches\", Toast.LENGTH_SHORT).show();\n        else\n            Toast.makeText(getApplicationContext(), user.getText()+\" != \"+pwd.getText(), Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n\n<p>Original answer (Will not work because of the lack of toString())</p>\n\n<p>Try using .getText() instead of .toString().</p>\n\n<pre><code>if( passw1.getText() == passw2.getText() )\n#do something\n</code></pre>\n\n<p>.toString() returns a String representation of the whole object, meaning it won't return the text you entered in the field (see for yourself by adding a Toast which will show the output of .toString())</p>\n"},{"tags":[],"owner":{"account_id":265988,"reputation":13467,"user_id":553308,"display_name":"Andrew T Finnell"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1295109509,"creation_date":1295106666,"answer_id":4700501,"question_id":4700357,"body_markdown":"Using the == operator will compare the references to the strings not the string themselves.\r\n\r\nOk, you have to toString() the Editable. I loaded up some of the code I had before that dealt with this situation.\r\n\r\n    String passwd1Text = passw1.getText().toString();\r\n    String passwd2Text = passw2.getText().toString();\r\n\r\n    if (passwd1Text.equals(passwd2Text))\r\n    {\r\n    }","title":"Comparing strings in Java","body":"<p>Using the == operator will compare the references to the strings not the string themselves.</p>\n\n<p>Ok, you have to toString() the Editable. I loaded up some of the code I had before that dealt with this situation.</p>\n\n<pre><code>String passwd1Text = passw1.getText().toString();\nString passwd2Text = passw2.getText().toString();\n\nif (passwd1Text.equals(passwd2Text))\n{\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269837,"reputation":1002,"user_id":559426,"display_name":"Highland Mark"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1295110711,"creation_date":1295110711,"answer_id":4700859,"question_id":4700357,"body_markdown":"You need both getText() - which returns an Editable and toString() - to convert that to a String for matching.\r\nSo instead of: `passw1.toString().equalsIgnoreCase(&quot;1234&quot;)`\r\nyou need `passw1.getText().toString().equalsIgnoreCase(&quot;1234&quot;)`.","title":"Comparing strings in Java","body":"<p>You need both getText() - which returns an Editable and toString() - to convert that to a String for matching.\nSo instead of: <code>passw1.toString().equalsIgnoreCase(\"1234\")</code>\nyou need <code>passw1.getText().toString().equalsIgnoreCase(\"1234\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":1118359,"reputation":31,"user_id":1107182,"display_name":"Ranajit mishra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1351985794,"creation_date":1324358900,"answer_id":8571185,"question_id":4700357,"body_markdown":"You can compare the values using `equals()` of Java :\r\n\r\n    public void onClick(View v) {\r\n    \t// TODO Auto-generated method stub\r\n    \r\n    \ts1=text1.getText().toString();\r\n    \ts2=text2.getText().toString();\r\n    \r\n    \tif(s1.equals(s2))\r\n    \t\tShow.setText(&quot;Are Equal&quot;);\r\n    \telse\r\n    \t\tShow.setText(&quot;Not Equal&quot;);\r\n    }","title":"Comparing strings in Java","body":"<p>You can compare the values using <code>equals()</code> of Java :</p>\n\n<pre><code>public void onClick(View v) {\n    // TODO Auto-generated method stub\n\n    s1=text1.getText().toString();\n    s2=text2.getText().toString();\n\n    if(s1.equals(s2))\n        Show.setText(\"Are Equal\");\n    else\n        Show.setText(\"Not Equal\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1822946,"reputation":1475,"user_id":1656553,"accept_rate":75,"display_name":"Sathish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368429910,"creation_date":1368429910,"answer_id":16516791,"question_id":4700357,"body_markdown":"ou can use String.compareTo(String) that returns an integer that&#39;s negative (&lt;), zero(=) or positive(&gt;).\r\n\r\nUse it so:\r\n\r\nYou can use **String.compareTo(String)** that returns an integer that&#39;s negative (&lt;), zero(=) or positive(&gt;).\r\n\r\nUse it so:\r\n\r\n    \r\n      String a=&quot;myWord&quot;;\r\n      if(a.compareTo(another_string) &lt;0){\r\n        //a is strictly &lt; to another_string\r\n      }\r\n      else if (a.compareTo(another_string) == 0){\r\n        //a equals to another_string\r\n      }\r\n    else{\r\n      // a is strictly &gt; than another_string\r\n    }    ","title":"Comparing strings in Java","body":"<p>ou can use String.compareTo(String) that returns an integer that's negative (&lt;), zero(=) or positive(>).</p>\n\n<p>Use it so:</p>\n\n<p>You can use <strong>String.compareTo(String)</strong> that returns an integer that's negative (&lt;), zero(=) or positive(>).</p>\n\n<p>Use it so:</p>\n\n<pre><code>  String a=\"myWord\";\n  if(a.compareTo(another_string) &lt;0){\n    //a is strictly &lt; to another_string\n  }\n  else if (a.compareTo(another_string) == 0){\n    //a equals to another_string\n  }\nelse{\n  // a is strictly &gt; than another_string\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3042440,"reputation":11,"user_id":2579098,"display_name":"raphaelle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377253322,"creation_date":1377252228,"answer_id":18400070,"question_id":4700357,"body_markdown":"Try to use `.trim()` first, before `.equals()`, or create a new String var that has these things.","title":"Comparing strings in Java","body":"<p>Try to use <code>.trim()</code> first, before <code>.equals()</code>, or create a new String var that has these things.</p>\n"},{"tags":[],"owner":{"account_id":2769605,"reputation":371,"user_id":2384464,"display_name":"Dinakar Prasad Maurya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1377253085,"creation_date":1377253085,"answer_id":18400341,"question_id":4700357,"body_markdown":"In onclik function replace first line with this line u will definitely get right result.\r\n\r\n**if (passw1.getText().toString().equalsIgnoreCase(&quot;1234&quot;) &amp;&amp; passw2.getText().toString().equalsIgnoreCase(&quot;1234&quot;)){**\r\n","title":"Comparing strings in Java","body":"<p>In onclik function replace first line with this line u will definitely get right result.</p>\n\n<p><strong>if (passw1.getText().toString().equalsIgnoreCase(\"1234\") &amp;&amp; passw2.getText().toString().equalsIgnoreCase(\"1234\")){</strong></p>\n"},{"tags":[],"owner":{"account_id":3259735,"reputation":784,"user_id":2745520,"accept_rate":71,"display_name":"A_rmas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389006990,"creation_date":1388988313,"answer_id":20943988,"question_id":4700357,"body_markdown":"did the same here needed to show &quot;success&quot; twice \r\nresponse is data from PHP\r\n\r\n   \r\n\r\n     String res=response.toString().trim;\r\n            \t\t\t\r\n        \t\t    \t\t\tToast.makeText(sign_in.this,res,Toast.LENGTH_SHORT).show();\r\n        if ( res.compareTo(&quot;success&quot;)==0){\r\n        Toast.makeText(this,res,Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n","title":"Comparing strings in Java","body":"<p>did the same here needed to show \"success\" twice \nresponse is data from PHP</p>\n\n<pre><code> String res=response.toString().trim;\n\n                            Toast.makeText(sign_in.this,res,Toast.LENGTH_SHORT).show();\n    if ( res.compareTo(\"success\")==0){\n    Toast.makeText(this,res,Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26125949,"reputation":1,"user_id":19817374,"display_name":"joey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661144582,"creation_date":1661143893,"answer_id":73440331,"question_id":4700357,"body_markdown":"    String password=passw1.trim();\r\n    if (password.equalsIgnoreCase(&quot;1234&quot;)){\r\n          Toast.makeText(getApplication(),&quot;Username and password match&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\nYou need to use the `trim` method in the String\r\n","title":"Comparing strings in Java","body":"<pre><code>String password=passw1.trim();\nif (password.equalsIgnoreCase(&quot;1234&quot;)){\n      Toast.makeText(getApplication(),&quot;Username and password match&quot;, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n<p>You need to use the <code>trim</code> method in the String</p>\n"}],"owner":{"account_id":688814,"reputation":225,"user_id":554215,"display_name":"M2Gd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119450,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":4700411,"answer_count":9,"score":9,"last_activity_date":1661144582,"creation_date":1295105042,"question_id":4700357,"body_markdown":"Im trying to compare the values of two edittext boxes. What i would like is to just compare passw1 = passw2. As my code is now comparing two strings i have entered as i could not get to compare them.\r\n    \r\n     final EditText passw1= (EditText) findViewById(R.id.passw1);\r\n     final EditText passw2= (EditText) findViewById(R.id.passw2);\r\n     Button buttoks = (Button) findViewById(R.id.Ok);\r\n          buttoks.setOnClickListener(new OnClickListener() {    \r\n            \r\n        public void onClick(View v) {       \r\n         \r\n         if (passw1.toString().equalsIgnoreCase(&quot;1234&quot;) &amp;&amp; passw2.toString().equalsIgnoreCase(&quot;1234&quot;)){\r\n          Toast.makeText(getApplication(),&quot;Username and password match&quot;, Toast.LENGTH_SHORT).show();\r\n          }\r\n        else {\r\n            Toast.makeText(getApplication(),&quot;Username and password doesn&#39;t match&quot;, Toast.LENGTH_SHORT).show();\r\n          }\r\n         }   }); ","title":"Comparing strings in Java","body":"<p>Im trying to compare the values of two edittext boxes. What i would like is to just compare passw1 = passw2. As my code is now comparing two strings i have entered as i could not get to compare them.</p>\n\n<pre><code> final EditText passw1= (EditText) findViewById(R.id.passw1);\n final EditText passw2= (EditText) findViewById(R.id.passw2);\n Button buttoks = (Button) findViewById(R.id.Ok);\n      buttoks.setOnClickListener(new OnClickListener() {    \n\n    public void onClick(View v) {       \n\n     if (passw1.toString().equalsIgnoreCase(\"1234\") &amp;&amp; passw2.toString().equalsIgnoreCase(\"1234\")){\n      Toast.makeText(getApplication(),\"Username and password match\", Toast.LENGTH_SHORT).show();\n      }\n    else {\n        Toast.makeText(getApplication(),\"Username and password doesn't match\", Toast.LENGTH_SHORT).show();\n      }\n     }   }); \n</code></pre>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1661143214,"post_id":73440226,"comment_id":129692801,"body_markdown":"Because methods are polymorphic but attributes aren&#39;t.","body":"Because methods are polymorphic but attributes aren&#39;t."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1661143218,"post_id":73440226,"comment_id":129692803,"body_markdown":"Fields cannot be overridden, only hidden. Which field you&#39;re referencing is resolved statically. So, since the variable type is `Parent`, you&#39;re referencing `Parent.name` instead of `Child.name`. You&#39;d see the same thing with static methods.","body":"Fields cannot be overridden, only hidden. Which field you&#39;re referencing is resolved statically. So, since the variable type is <code>Parent</code>, you&#39;re referencing <code>Parent.name</code> instead of <code>Child.name</code>. You&#39;d see the same thing with static methods."}],"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661144891,"answer_count":0,"score":0,"last_activity_date":1661143803,"creation_date":1661142505,"question_id":73440226,"body_markdown":"    // Parent class\r\n    class Parent {\r\n        String name = &quot;Parent Name&quot;;\r\n     \r\n        void method()\r\n        {\r\n            System.out.println(&quot;Method from Parent&quot;);\r\n        }\r\n    }\r\n     \r\n    // Child class\r\n    class Child extends Parent {\r\n        String name = &quot;Child Name&quot;;\r\n     \r\n        // Overriding the parent method\r\n        @Override void method()\r\n        {\r\n            System.out.println(&quot;Method from Child&quot;);\r\n        }\r\n    }\r\n     \r\n\r\n    public class GFG {\r\n     \r\n        // Driver code\r\n        public static void main(String[] args)\r\n        {\r\n            // Upcasting\r\n            Parent p = new Child();\r\n     \r\n          \r\n            System.out.println(p.name); // prints parent&#39;s version ???\r\n            \r\n            p.method(); // prints child&#39;s version\r\n\r\n        }\r\n    }\r\n\r\n\r\nWhen upcasting `Child` to `Parent`, the child&#39;s method is called... However, the child&#39;s attribute (ie name) is not called, the parent&#39;s name is called. So, it appears that only the child&#39;s version of the functionality is called, but the parent&#39;s attribute versions are called. Why is this? Since we are hiding the parent&#39;s name in the child, shouldn&#39;t the child&#39;s name be called too?\r\n","title":"When upcasting in Java, why is the child&#39;s attribute not called whereas the child&#39;s method is?","body":"<pre><code>// Parent class\nclass Parent {\n    String name = &quot;Parent Name&quot;;\n \n    void method()\n    {\n        System.out.println(&quot;Method from Parent&quot;);\n    }\n}\n \n// Child class\nclass Child extends Parent {\n    String name = &quot;Child Name&quot;;\n \n    // Overriding the parent method\n    @Override void method()\n    {\n        System.out.println(&quot;Method from Child&quot;);\n    }\n}\n \n\npublic class GFG {\n \n    // Driver code\n    public static void main(String[] args)\n    {\n        // Upcasting\n        Parent p = new Child();\n \n      \n        System.out.println(p.name); // prints parent's version ???\n        \n        p.method(); // prints child's version\n\n    }\n}\n</code></pre>\n<p>When upcasting <code>Child</code> to <code>Parent</code>, the child's method is called... However, the child's attribute (ie name) is not called, the parent's name is called. So, it appears that only the child's version of the functionality is called, but the parent's attribute versions are called. Why is this? Since we are hiding the parent's name in the child, shouldn't the child's name be called too?</p>\n"},{"tags":["java","if-statement","java.util.scanner","variable-initialization"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":4,"creation_date":1661138687,"post_id":73439899,"comment_id":129692234,"body_markdown":"What if I input the string `&quot;potato&quot;`? Which of your if statements will initialize `response` in that case?","body":"What if I input the string <code>&quot;potato&quot;</code>? Which of your if statements will initialize <code>response</code> in that case?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1661138866,"post_id":73439899,"comment_id":129692260,"body_markdown":"There may be a situation where none of your `if` conditions are true. In that case, what will be the value of variable `response`? In other words, you need at least one `else` block. Alternatively, you can initialize `response` before the first `if` statement.","body":"There may be a situation where none of your <code>if</code> conditions are true. In that case, what will be the value of variable <code>response</code>? In other words, you need at least one <code>else</code> block. Alternatively, you can initialize <code>response</code> before the first <code>if</code> statement."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1661139319,"post_id":73439899,"comment_id":129692316,"body_markdown":"Don&#39;t use `==` to compare `String`s, use `String#equals` or even [`String#equalsIgnoreCase`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String))","body":"Don&#39;t use <code>==</code> to compare <code>String</code>s, use <code>String#equals</code> or even <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String#equalsIgnoreCase</code></a>"},{"owner":{"account_id":25266068,"reputation":23,"user_id":19096223,"display_name":"dissidenttux"},"score":0,"creation_date":1661140594,"post_id":73439899,"comment_id":129692486,"body_markdown":"&quot;What if I input the string &quot;potato&quot;? Which of your if statements will initialize response in that case?&quot;\nNone of them would","body":"&quot;What if I input the string &quot;potato&quot;? Which of your if statements will initialize response in that case?&quot; None of them would"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1661141783,"post_id":73439899,"comment_id":129692608,"body_markdown":"Precisely!!  That&#39;s why you are getting a compilation error.   The compiler needs to be sure that ALL possible paths to the point where you use the local variable are going to initialize it.  (And the compiler is using simple rules to make the decision ... not the high-level theorem proving capability of a human mind.)","body":"Precisely!!  That&#39;s why you are getting a compilation error.   The compiler needs to be sure that ALL possible paths to the point where you use the local variable are going to initialize it.  (And the compiler is using simple rules to make the decision ... not the high-level theorem proving capability of a human mind.)"},{"owner":{"account_id":25266068,"reputation":23,"user_id":19096223,"display_name":"dissidenttux"},"score":0,"creation_date":1661141883,"post_id":73439899,"comment_id":129692618,"body_markdown":"Ok, so I used similar code (modified thanks to @Silvio Mayolo and @Steven C, I understand response wouldn&#39;t be initialized in certain circumstances now), but I replaced the `==` with `String.equals` as per @MadProgrammer &#39;s suggestion. It works, but now I&#39;m curious as to why *this* works, and using the equality statements do not. Normally, this does work, but with nested if statements, it doesn&#39;t.\n\nMaybe a better question would be, why should Strings be compared to using the `equals` method rather than the `==` comparison operator? Is it because Strings are objects and not truly primitive?","body":"Ok, so I used similar code (modified thanks to @Silvio Mayolo and @Steven C, I understand response wouldn&#39;t be initialized in certain circumstances now), but I replaced the <code>==</code> with <code>String.equals</code> as per @MadProgrammer &#39;s suggestion. It works, but now I&#39;m curious as to why <i>this</i> works, and using the equality statements do not. Normally, this does work, but with nested if statements, it doesn&#39;t.  Maybe a better question would be, why should Strings be compared to using the <code>equals</code> method rather than the <code>==</code> comparison operator? Is it because Strings are objects and not truly primitive?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1661142013,"post_id":73439899,"comment_id":129692628,"body_markdown":"You must have changed something else as well as `==` -&gt; `equals`.","body":"You must have changed something else as well as <code>==</code> -&gt; <code>equals</code>."},{"owner":{"account_id":25266068,"reputation":23,"user_id":19096223,"display_name":"dissidenttux"},"score":0,"creation_date":1661142120,"post_id":73439899,"comment_id":129692641,"body_markdown":"Could&#39;ve, I assume. Maybe the night is long. I&#39;ll try to rewrite using the `==` comparison and see if I get different results.","body":"Could&#39;ve, I assume. Maybe the night is long. I&#39;ll try to rewrite using the <code>==</code> comparison and see if I get different results."},{"owner":{"account_id":25266068,"reputation":23,"user_id":19096223,"display_name":"dissidenttux"},"score":0,"creation_date":1661142429,"post_id":73439899,"comment_id":129692685,"body_markdown":"Okay, so now I&#39;ve rewritten the same program. I can confirm, when I use the `equals` method to compare the Strings, the desired generated  response will occur in the final `println` statement. When I use the `==` comparison operator, it defaults to the `else` statement I added in. My assumption of what is happening is that Java has no real way of comparing the Strings appropriately within a different scope (?) using operators.","body":"Okay, so now I&#39;ve rewritten the same program. I can confirm, when I use the <code>equals</code> method to compare the Strings, the desired generated  response will occur in the final <code>println</code> statement. When I use the <code>==</code> comparison operator, it defaults to the <code>else</code> statement I added in. My assumption of what is happening is that Java has no real way of comparing the Strings appropriately within a different scope (?) using operators."},{"owner":{"account_id":4264716,"reputation":1243,"user_id":3488090,"accept_rate":75,"display_name":"Lalit Mehra"},"score":0,"creation_date":1661142862,"post_id":73439899,"comment_id":129692749,"body_markdown":"the String can be initialized with the default response value in case none of the if blocks pass, or an else block can be used","body":"the String can be initialized with the default response value in case none of the if blocks pass, or an else block can be used"}],"answers":[{"tags":[],"owner":{"account_id":14758913,"reputation":38,"user_id":12285352,"display_name":"Chew Yiwei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661142343,"creation_date":1661142055,"answer_id":73440187,"question_id":73439899,"body_markdown":"1) Like mad programmer said use String equals function to compare string.\r\n2) Yes it will need to be initialize before compilation can take place. If Im not wrong you can initialize with Null, or &quot; &quot;, empty string.","title":"Why is Java forcing me to initialize my String before letting the user input the value of the String?","body":"<ol>\n<li>Like mad programmer said use String equals function to compare string.</li>\n<li>Yes it will need to be initialize before compilation can take place. If Im not wrong you can initialize with Null, or &quot; &quot;, empty string.</li>\n</ol>\n"}],"owner":{"account_id":25266068,"reputation":23,"user_id":19096223,"display_name":"dissidenttux"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73440187,"answer_count":1,"score":1,"last_activity_date":1661142343,"creation_date":1661138579,"question_id":73439899,"body_markdown":"I&#39;m essentially making a small, simply &quot;twenty questions&quot; style program, using nested if-statements to try to guess what object the user is thinking based on clarifying questions.\r\nI&#39;m using the if statements to eventually give the user a &quot;result&quot; at the end, using a String variable called &quot;result&quot;.\r\n\r\n**My ultimate confusion** lies in which the compiler is stating that &quot;`variable response may have not been initialized`&quot;. To which, based on the code, I would think it *is* after the if statements.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class TwoQuestions {\r\n  public static void main (String args[] ) {\r\n\r\n    Scanner kb = new Scanner(System.in);\r\n\r\n    String answer1, answer2, response;\r\n\r\n    System.out.println(&quot;\\n[Two Questions]\\nThink of an object, and I&#39;ll try to guess it.&quot;);\r\n    System.out.println(&quot;Is it an \\&quot;animal\\&quot;, a \\&quot;vegetable\\&quot;, or a \\&quot;mineral\\&quot;? (Type an answer exactly as quoted)&quot;);\r\n    answer1 = kb.nextLine();\r\n    System.out.println(&quot;Is it bigger than a breadbox? (yes/no)&quot;);\r\n    answer2 = kb.nextLine();\r\n\r\n    // example &quot;response&quot; based on user decisions\r\n    if (answer1 == &quot;animal&quot; || answer1 == &quot;Animal&quot;) {\r\n      response = &quot;yes&quot;;\r\n      if (answer2 == &quot;yes&quot; || answer2 == &quot;Yes&quot;) {\r\n        response = &quot;squirrel&quot;;\r\n      }\r\n    }\r\n    // more if statements...\r\n\r\n    // final machine &quot;response&quot; to user&quot;\r\n    // TODO: Figure out why *this* &quot;response&quot; requires initialization before if statements.\r\n    System.out.println(&quot;My guess is that you are thinking of a &quot; + response + &quot;.\\nI would ask you if I&#39;m right, but I don&#39;t actually care.&quot;);\r\n\r\n  }\r\n}\r\n```","title":"Why is Java forcing me to initialize my String before letting the user input the value of the String?","body":"<p>I'm essentially making a small, simply &quot;twenty questions&quot; style program, using nested if-statements to try to guess what object the user is thinking based on clarifying questions.\nI'm using the if statements to eventually give the user a &quot;result&quot; at the end, using a String variable called &quot;result&quot;.</p>\n<p><strong>My ultimate confusion</strong> lies in which the compiler is stating that &quot;<code>variable response may have not been initialized</code>&quot;. To which, based on the code, I would think it <em>is</em> after the if statements.</p>\n<pre><code>import java.util.Scanner;\n\npublic class TwoQuestions {\n  public static void main (String args[] ) {\n\n    Scanner kb = new Scanner(System.in);\n\n    String answer1, answer2, response;\n\n    System.out.println(&quot;\\n[Two Questions]\\nThink of an object, and I'll try to guess it.&quot;);\n    System.out.println(&quot;Is it an \\&quot;animal\\&quot;, a \\&quot;vegetable\\&quot;, or a \\&quot;mineral\\&quot;? (Type an answer exactly as quoted)&quot;);\n    answer1 = kb.nextLine();\n    System.out.println(&quot;Is it bigger than a breadbox? (yes/no)&quot;);\n    answer2 = kb.nextLine();\n\n    // example &quot;response&quot; based on user decisions\n    if (answer1 == &quot;animal&quot; || answer1 == &quot;Animal&quot;) {\n      response = &quot;yes&quot;;\n      if (answer2 == &quot;yes&quot; || answer2 == &quot;Yes&quot;) {\n        response = &quot;squirrel&quot;;\n      }\n    }\n    // more if statements...\n\n    // final machine &quot;response&quot; to user&quot;\n    // TODO: Figure out why *this* &quot;response&quot; requires initialization before if statements.\n    System.out.println(&quot;My guess is that you are thinking of a &quot; + response + &quot;.\\nI would ask you if I'm right, but I don't actually care.&quot;);\n\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661141146,"creation_date":1661141146,"answer_id":73440109,"question_id":73440073,"body_markdown":"One approach is using `@TransacationalEvenListener`-s See [the documentation][1]\r\n\r\n```java\r\n@TransactionalEventListener(phase = TransactionPhase.AFTER_ROLLBACK)\r\npublic void logInfo(CustomSpringEvent event) {\r\n    System.out.println(&quot;This is called after rollback&quot;);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/event/TransactionalEventListener.html","title":"How to make a method get called after a @Transactional rollback","body":"<p>One approach is using <code>@TransacationalEvenListener</code>-s See <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/event/TransactionalEventListener.html\" rel=\"nofollow noreferrer\">the documentation</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@TransactionalEventListener(phase = TransactionPhase.AFTER_ROLLBACK)\npublic void logInfo(CustomSpringEvent event) {\n    System.out.println(&quot;This is called after rollback&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661141577,"creation_date":1661141577,"answer_id":73440142,"question_id":73440073,"body_markdown":"A transaction is rolled back when a runtime error occurs.\r\nTherefore, by getting an error, we can be sure that we have called another method when the transaction is rolled back\r\n\r\n    @Transactional\r\n    public class TransactionalService {\r\n    \r\n        @Transactional\r\n        public void DoSomeThing() {\r\n     try {\r\n        doSomeThing;\r\n     } catch (Exception e) {\r\n        LogInfo();\r\n     }\r\n        }\r\n        @Transactional\r\n        public void LogInfo() {\r\n            //do something\r\n        }\r\n    }","title":"How to make a method get called after a @Transactional rollback","body":"<p>A transaction is rolled back when a runtime error occurs.\nTherefore, by getting an error, we can be sure that we have called another method when the transaction is rolled back</p>\n<pre><code>@Transactional\npublic class TransactionalService {\n\n    @Transactional\n    public void DoSomeThing() {\n try {\n    doSomeThing;\n } catch (Exception e) {\n    LogInfo();\n }\n    }\n    @Transactional\n    public void LogInfo() {\n        //do something\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11258885,"reputation":21,"user_id":8257777,"display_name":"aqsakd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661141577,"creation_date":1661140720,"question_id":73440073,"body_markdown":"I have function\r\n```\r\n@Transactional\r\npublic class TransactionalService {\r\n\r\n    @Transactional\r\n    public void DoSomeThing() {\r\n        //do something\r\n    }\r\n\r\n    @Transactional\r\n    public void LogInfo() {\r\n        //do something\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nSo when DoSomeThing() got an error or a runtime exception, it got rollback. I want whenever the DoSomeThing() got rollback, the transaction will call the LogInfo() method.\r\n\r\nI haven&#39;t have any idea what to use inside the annotation. Do anyone have idea how to do it.\r\n\r\nThank you.","title":"How to make a method get called after a @Transactional rollback","body":"<p>I have function</p>\n<pre><code>@Transactional\npublic class TransactionalService {\n\n    @Transactional\n    public void DoSomeThing() {\n        //do something\n    }\n\n    @Transactional\n    public void LogInfo() {\n        //do something\n    }\n\n\n}\n</code></pre>\n<p>So when DoSomeThing() got an error or a runtime exception, it got rollback. I want whenever the DoSomeThing() got rollback, the transaction will call the LogInfo() method.</p>\n<p>I haven't have any idea what to use inside the annotation. Do anyone have idea how to do it.</p>\n<p>Thank you.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1661139458,"post_id":73439938,"comment_id":129692337,"body_markdown":"`currentItem.getPostdate()` is returning null. You could change that line of code to: `if (&quot;New&quot;.equals(currentItem.getPostdate()){`","body":"<code>currentItem.getPostdate()</code> is returning null. You could change that line of code to: <code>if (&quot;New&quot;.equals(currentItem.getPostdate()){</code>"}],"answers":[{"tags":[],"owner":{"display_name":"user7833368"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661139713,"creation_date":1661139713,"answer_id":73439997,"question_id":73439938,"body_markdown":"The exception occurs due to this statement,\r\n\r\n```java\r\n    if (currentItem.getPostdate().equals(&quot;New&quot;))\r\n```\r\n\r\nThis means that currentItem.getPostdate() is null. Simple check if it is null before using it:\r\n```java\r\nif (currentItem.getPostdate() != null &amp;&amp; currentItem.getPostdate().equals(&quot;New&quot;)) {}\r\n```\r\n\r\n\r\n","title":"Exception java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on a null object refer","body":"<p>The exception occurs due to this statement,</p>\n<pre class=\"lang-java prettyprint-override\"><code>    if (currentItem.getPostdate().equals(&quot;New&quot;))\n</code></pre>\n<p>This means that currentItem.getPostdate() is null. Simple check if it is null before using it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (currentItem.getPostdate() != null &amp;&amp; currentItem.getPostdate().equals(&quot;New&quot;)) {}\n</code></pre>\n"}],"owner":{"account_id":10538207,"reputation":1,"user_id":19816977,"display_name":"Dream Dictionary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":969,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1661141038,"answer_count":1,"score":-1,"last_activity_date":1661139713,"creation_date":1661139029,"question_id":73439938,"body_markdown":"    **Exception java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on a null object reference\r\n      at adapter.adapterAllCategories.onBindViewHolder (adapterAllCategories.java)\r\n      at adapter.adapterAllCategories.onBindViewHolder (adapterAllCategories.java)\r\n      at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder (RecyclerView.java)\r\n      at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder (RecyclerView.java)\r\n      at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline (RecyclerView.java)\r\n      at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline (RecyclerView.java)\r\n      at androidx.recyclerview.widget.GapWorker.prefetchPositionWithDeadline (GapWorker.java)\r\n      at androidx.recyclerview.widget.GapWorker.flushTaskWithDeadline (GapWorker.java)\r\n      at androidx.recyclerview.widget.GapWorker.flushTasksWithDeadline (GapWorker.java)\r\n      at androidx.recyclerview.widget.GapWorker.prefetch (GapWorker.java)\r\n      at androidx.recyclerview.widget.GapWorker.run (GapWorker.java)\r\n      at android.os.Handler.handleCallback (Handler.java:938)\r\n      at android.os.Handler.dispatchMessage (Handler.java:99)\r\n      at android.os.Looper.loopOnce (Looper.java:226)\r\n      at android.os.Looper.loop (Looper.java:313)\r\n      at android.app.ActivityThread.main (ActivityThread.java:8669)\r\n      at java.lang.reflect.Method.invoke (Method.java)\r\n      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:571)\r\n      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1135)**\r\n\r\n@NonNull\r\n    @Override\r\n    public ProductViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.post_item, parent, false);\r\n        ProductViewHolder evh = new ProductViewHolder(view, mListener);\r\n        return evh;\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final ProductViewHolder holder, int position) {\r\n        Note_Categories currentItem = list.get(position);\r\n\r\n        if (currentItem.getName() != null) {\r\n            holder.textViewName.setText(currentItem.getName());\r\n            holder.textViewDp.setText(currentItem.getName().substring(0, 1));\r\n        } else {\r\n            holder.textViewName.setText(&quot;A&quot;);\r\n            holder.textViewDp.setText(&quot;A&quot;);\r\n        }\r\n\r\n        if (currentItem.gettext() != null) {\r\n            holder.textViewtext.setText(currentItem.getPoetry());\r\n        } else {\r\n            holder.textViewtext.setText(&quot;A&quot;);\r\n        }\r\n\r\n        if (currentItem.getPostdate().equals(&quot;New&quot;)){\r\n            holder.textViewNew.setVisibility(View.VISIBLE);\r\n            holder.textViewNew.setText(&quot;Today New&quot;);\r\n        }else {\r\n            holder.textViewNew.setVisibility(View.GONE);\r\n        }\r\n\r\n        holder.btnone.setEnabled(true);\r\n        holder.btntwo.setEnabled(true);\r\n        holder.btnthree.setEnabled(true);\r\n        holder.btnfour.setEnabled(true);\r\n        holder.btnfive.setEnabled(true);\r\n    }","title":"Exception java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on a null object refer","body":"<pre><code>**Exception java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.String.equals(java.lang.Object)' on a null object reference\n  at adapter.adapterAllCategories.onBindViewHolder (adapterAllCategories.java)\n  at adapter.adapterAllCategories.onBindViewHolder (adapterAllCategories.java)\n  at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder (RecyclerView.java)\n  at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder (RecyclerView.java)\n  at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline (RecyclerView.java)\n  at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline (RecyclerView.java)\n  at androidx.recyclerview.widget.GapWorker.prefetchPositionWithDeadline (GapWorker.java)\n  at androidx.recyclerview.widget.GapWorker.flushTaskWithDeadline (GapWorker.java)\n  at androidx.recyclerview.widget.GapWorker.flushTasksWithDeadline (GapWorker.java)\n  at androidx.recyclerview.widget.GapWorker.prefetch (GapWorker.java)\n  at androidx.recyclerview.widget.GapWorker.run (GapWorker.java)\n  at android.os.Handler.handleCallback (Handler.java:938)\n  at android.os.Handler.dispatchMessage (Handler.java:99)\n  at android.os.Looper.loopOnce (Looper.java:226)\n  at android.os.Looper.loop (Looper.java:313)\n  at android.app.ActivityThread.main (ActivityThread.java:8669)\n  at java.lang.reflect.Method.invoke (Method.java)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:571)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1135)**\n</code></pre>\n<p>@NonNull\n@Override\npublic ProductViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\nView view = LayoutInflater.from(parent.getContext()).inflate(R.layout.post_item, parent, false);\nProductViewHolder evh = new ProductViewHolder(view, mListener);\nreturn evh;</p>\n<pre><code>}\n\n@Override\npublic void onBindViewHolder(@NonNull final ProductViewHolder holder, int position) {\n    Note_Categories currentItem = list.get(position);\n\n    if (currentItem.getName() != null) {\n        holder.textViewName.setText(currentItem.getName());\n        holder.textViewDp.setText(currentItem.getName().substring(0, 1));\n    } else {\n        holder.textViewName.setText(&quot;A&quot;);\n        holder.textViewDp.setText(&quot;A&quot;);\n    }\n\n    if (currentItem.gettext() != null) {\n        holder.textViewtext.setText(currentItem.getPoetry());\n    } else {\n        holder.textViewtext.setText(&quot;A&quot;);\n    }\n\n    if (currentItem.getPostdate().equals(&quot;New&quot;)){\n        holder.textViewNew.setVisibility(View.VISIBLE);\n        holder.textViewNew.setText(&quot;Today New&quot;);\n    }else {\n        holder.textViewNew.setVisibility(View.GONE);\n    }\n\n    holder.btnone.setEnabled(true);\n    holder.btntwo.setEnabled(true);\n    holder.btnthree.setEnabled(true);\n    holder.btnfour.setEnabled(true);\n    holder.btnfive.setEnabled(true);\n}\n</code></pre>\n"},{"tags":["java","c","random","porting"],"answers":[{"tags":[],"owner":{"account_id":18489,"reputation":13958,"user_id":42404,"accept_rate":50,"display_name":"frankodwyer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1230566122,"creation_date":1230563815,"answer_id":397885,"question_id":397867,"body_markdown":"You can use signed numbers provided the values don&#39;t overflow...for example long in java is a 64 bit signed integer. However the intent in this algorithm seems to be to use a 64 bit unsigned value, and if so I think you would be out of luck with the basic types.\r\n\r\nYou could use the multiprecision integers provided in the java class libraries ([BigInteger][1]). Or you could implement your own 64 bit unsigned type as an Object containing two java longs to represent the least significant and most significant words (but you&#39;d have to implement the basic arithmetic operations yourself in the class).\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/math/BigInteger.html","title":"Port of Random generator from C to Java?","body":"<p>You can use signed numbers provided the values don't overflow...for example long in java is a 64 bit signed integer. However the intent in this algorithm seems to be to use a 64 bit unsigned value, and if so I think you would be out of luck with the basic types.</p>\n\n<p>You could use the multiprecision integers provided in the java class libraries (<a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a>). Or you could implement your own 64 bit unsigned type as an Object containing two java longs to represent the least significant and most significant words (but you'd have to implement the basic arithmetic operations yourself in the class).</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1230563819,"creation_date":1230563819,"answer_id":397886,"question_id":397867,"body_markdown":"To get around Java&#39;s lack of unsigned types you usually store numbers in a bigger variable type (so shorts get upgraded to ints, ints to long).  Since you&#39;re using long variables here, you&#39;re going to have to step up to BigInteger, which will probably wreck any speed gains that you&#39;re getting out of the algorithm.","title":"Port of Random generator from C to Java?","body":"<p>To get around Java's lack of unsigned types you usually store numbers in a bigger variable type (so shorts get upgraded to ints, ints to long).  Since you're using long variables here, you're going to have to step up to BigInteger, which will probably wreck any speed gains that you're getting out of the algorithm.</p>\n"},{"tags":[],"owner":{"account_id":3579,"reputation":53945,"user_id":5171,"accept_rate":100,"display_name":"Dan Dyer"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1230565324,"creation_date":1230565324,"answer_id":397946,"question_id":397867,"body_markdown":"If you are implementing an RNG in Java, it is best to sub-class the [java.util.Random][1] class and over-ride the protected [next(int)][2] method (your RNG is then a drop-in replacement for java.util.Random).  The next(int) method is concerned with randomly-generated bits, not what vales those bits might represent.  The other (public) methods of java.util.Random use these bits to construct random values of different types.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Random.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Random.html#next(int)","title":"Port of Random generator from C to Java?","body":"<p>If you are implementing an RNG in Java, it is best to sub-class the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">java.util.Random</a> class and over-ride the protected <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Random.html#next(int)\" rel=\"nofollow noreferrer\">next(int)</a> method (your RNG is then a drop-in replacement for java.util.Random).  The next(int) method is concerned with randomly-generated bits, not what vales those bits might represent.  The other (public) methods of java.util.Random use these bits to construct random values of different types.</p>\n"},{"tags":[],"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1230569087,"creation_date":1230565734,"answer_id":397960,"question_id":397867,"body_markdown":"&gt; Can anyone port this to Java? How does\r\n&gt; this work when you only have signed\r\n&gt; numbers available?\r\n\r\nNo Stress! `a=18782` so the largest `t` could ever be is not large enough to cause signed vs. unsigned problems. You would have to &quot;upgrade&quot; the result of using Q to a value equal to a 32-bit unsigned number before using it anywhere. e.g. if Q is an `int` (32-bit signed) then you&#39;d have to do this before using it in the `t=a*Q[i]+c` statement, e.g. \r\n\r\n    t=a*(((long)Q[i])&amp;0xffffffffL)+c\r\n\r\nwhere this (((long)Q[i])&amp;0xffffffffL) business promotes Q[i] to a 64-bit # and ensures its high 32 bits are 0&#39;s. (edit: NOTE: you need 0xffffffffL here. Java does the wrong thing if you use 0xffffffff, it seems like it &quot;optimizes&quot; itself to the wrong answer &amp; you get a negative number if Q[i]&#39;s high bit is 1.)\r\n\r\nYou should be able to verify this by running the algorithms in C++ and Java to compare the outputs.\r\n\r\nedit: here&#39;s a shot at it. I tried running it in C++ and Java for N=100000; they both match. Apologies if I used bad Java idioms, I&#39;m still fairly new to Java.\r\n\r\nC++:\r\n\r\n    // marsaglia2003.cpp \r\n    \r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;stdlib.h&gt; // for atoi\r\n    \r\n    class m2003\r\n    {\r\n    \tenum {c0=362436, sz=4096, mask=4095};\r\n    \tunsigned long Q[sz];\r\n    \tunsigned long c;\r\n    \tshort i;\r\n    \r\n    public:\r\n    \tm2003()\r\n    \t{\r\n    \t\t// a real program would seed this with a good random seed\r\n    \t\t// i&#39;m just putting in something that makes the output interesting\r\n    \t\tfor (int j = 0; j &lt; sz; ++j)\r\n    \t\t\tQ[j] = j + (j &lt;&lt; 16);\r\n    \t\ti = 4095;\r\n    \t\tc = c0;\r\n    \t}\r\n    \r\n        unsigned long next()\r\n    \t{\r\n    \t\tunsigned long long t, a=18782LL;\r\n    \t\tunsigned long x;\r\n    \t\tunsigned long r=0xfffffffe;\r\n    \t\ti = (i+1)&amp;mask;\r\n    \t\tt=a*Q[i]+c;\r\n    \t\tc=(unsigned long)(t&gt;&gt;32);\r\n    \t\tx=(unsigned long)t + c;\r\n    \t\tif (x&lt;c)\r\n    \t\t{\r\n    \t\t\tx++;\r\n    \t\t\tc++;\r\n    \t\t}\r\n    \t\treturn (Q[i]=r-x);\r\n    \t}\r\n    };\r\n    \r\n    int main(int argc, char *argv[])\r\n    {\r\n    \tm2003 generator;\r\n    \tint n = 100;\r\n    \tif (argc &gt; 1)\r\n    \t\tn = atoi(argv[1]);\r\n    \r\n    \tfor (int i = 0; i &lt; n; ++i)\r\n    \t{\r\n    \t\tprintf(&quot;%08x\\n&quot;, generator.next());\r\n    \t}\r\n    \treturn 0;\r\n    }\r\n\r\njava: (slower than compiled C++ but it matches for N=100000)\r\n\r\n    // Marsaglia2003.java\r\n    \r\n    import java.util.*;\r\n    \r\n    class Marsaglia2003\r\n    {\r\n    \tfinal static private int sz=4096;\r\n    \tfinal static private int mask=4095;\r\n    \tfinal private int[] Q = new int[sz];\r\n    \tprivate int c=362436;\r\n    \tprivate int i=sz-1;\r\n    \r\n    \tpublic Marsaglia2003()\r\n    \t{\r\n    \t\t// a real program would seed this with a good random seed\r\n    \t\t// i&#39;m just putting in something that makes the output interesting\r\n    \t\tfor (int j = 0; j &lt; sz; ++j)\r\n    \t\t\tQ[j] = j + (j &lt;&lt; 16);\r\n    \t}\r\n    \r\n      public int next() \r\n        // note: returns a SIGNED 32-bit number.\r\n        // if you want to use as unsigned, cast to a (long), \r\n        // then AND it with 0xffffffffL\r\n    \t{\r\n    \t\tlong t, a=18782;\r\n    \t\tint x;\r\n    \t\tint r=0xfffffffe;\r\n    \t\ti = (i+1)&amp;mask;\r\n    \t\tlong Qi = ((long)Q[i]) &amp; 0xffffffffL; // treat as unsigned 32-bit\r\n    \t\tt=a*Qi+c;\r\n    \t\tc=(int)(t&gt;&gt;32); \r\n    \t\t   // because &quot;a&quot; is relatively small this result is also small\r\n    \t\t   \r\n    \t\tx=((int)t) + c;\r\n    \t\tif (x&lt;c &amp;&amp; x&gt;=0) // tweak to treat x as unsigned\r\n    \t\t{\r\n    \t\t\tx++;\r\n    \t\t\tc++;\r\n    \t\t}\r\n    \t\treturn (Q[i]=r-x);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tMarsaglia2003 m2003 = new Marsaglia2003();\r\n    \t\t  \r\n    \t\tint n = 100;\r\n    \t\tif (args.length &gt; 0)\r\n    \t\t    n = Integer.parseInt(args[0]);\r\n    \t\tfor (int i = 0; i &lt; n; ++i)\r\n    \t\t{\r\n    \t\t\tSystem.out.printf(&quot;%08x\\n&quot;, m2003.next());\r\n    \t\t}\r\n    \t}\r\n    };\r\n\r\n","title":"Port of Random generator from C to Java?","body":"<blockquote>\n  <p>Can anyone port this to Java? How does\n  this work when you only have signed\n  numbers available?</p>\n</blockquote>\n\n<p>No Stress! <code>a=18782</code> so the largest <code>t</code> could ever be is not large enough to cause signed vs. unsigned problems. You would have to \"upgrade\" the result of using Q to a value equal to a 32-bit unsigned number before using it anywhere. e.g. if Q is an <code>int</code> (32-bit signed) then you'd have to do this before using it in the <code>t=a*Q[i]+c</code> statement, e.g. </p>\n\n<pre><code>t=a*(((long)Q[i])&amp;0xffffffffL)+c\n</code></pre>\n\n<p>where this (((long)Q[i])&amp;0xffffffffL) business promotes Q[i] to a 64-bit # and ensures its high 32 bits are 0's. (edit: NOTE: you need 0xffffffffL here. Java does the wrong thing if you use 0xffffffff, it seems like it \"optimizes\" itself to the wrong answer &amp; you get a negative number if Q[i]'s high bit is 1.)</p>\n\n<p>You should be able to verify this by running the algorithms in C++ and Java to compare the outputs.</p>\n\n<p>edit: here's a shot at it. I tried running it in C++ and Java for N=100000; they both match. Apologies if I used bad Java idioms, I'm still fairly new to Java.</p>\n\n<p>C++:</p>\n\n<pre><code>// marsaglia2003.cpp \n\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt; // for atoi\n\nclass m2003\n{\n    enum {c0=362436, sz=4096, mask=4095};\n    unsigned long Q[sz];\n    unsigned long c;\n    short i;\n\npublic:\n    m2003()\n    {\n        // a real program would seed this with a good random seed\n        // i'm just putting in something that makes the output interesting\n        for (int j = 0; j &lt; sz; ++j)\n            Q[j] = j + (j &lt;&lt; 16);\n        i = 4095;\n        c = c0;\n    }\n\n    unsigned long next()\n    {\n        unsigned long long t, a=18782LL;\n        unsigned long x;\n        unsigned long r=0xfffffffe;\n        i = (i+1)&amp;mask;\n        t=a*Q[i]+c;\n        c=(unsigned long)(t&gt;&gt;32);\n        x=(unsigned long)t + c;\n        if (x&lt;c)\n        {\n            x++;\n            c++;\n        }\n        return (Q[i]=r-x);\n    }\n};\n\nint main(int argc, char *argv[])\n{\n    m2003 generator;\n    int n = 100;\n    if (argc &gt; 1)\n        n = atoi(argv[1]);\n\n    for (int i = 0; i &lt; n; ++i)\n    {\n        printf(\"%08x\\n\", generator.next());\n    }\n    return 0;\n}\n</code></pre>\n\n<p>java: (slower than compiled C++ but it matches for N=100000)</p>\n\n<pre><code>// Marsaglia2003.java\n\nimport java.util.*;\n\nclass Marsaglia2003\n{\n    final static private int sz=4096;\n    final static private int mask=4095;\n    final private int[] Q = new int[sz];\n    private int c=362436;\n    private int i=sz-1;\n\n    public Marsaglia2003()\n    {\n        // a real program would seed this with a good random seed\n        // i'm just putting in something that makes the output interesting\n        for (int j = 0; j &lt; sz; ++j)\n            Q[j] = j + (j &lt;&lt; 16);\n    }\n\n  public int next() \n    // note: returns a SIGNED 32-bit number.\n    // if you want to use as unsigned, cast to a (long), \n    // then AND it with 0xffffffffL\n    {\n        long t, a=18782;\n        int x;\n        int r=0xfffffffe;\n        i = (i+1)&amp;mask;\n        long Qi = ((long)Q[i]) &amp; 0xffffffffL; // treat as unsigned 32-bit\n        t=a*Qi+c;\n        c=(int)(t&gt;&gt;32); \n           // because \"a\" is relatively small this result is also small\n\n        x=((int)t) + c;\n        if (x&lt;c &amp;&amp; x&gt;=0) // tweak to treat x as unsigned\n        {\n            x++;\n            c++;\n        }\n        return (Q[i]=r-x);\n    }\n\n    public static void main(String args[])\n    {\n        Marsaglia2003 m2003 = new Marsaglia2003();\n\n        int n = 100;\n        if (args.length &gt; 0)\n            n = Integer.parseInt(args[0]);\n        for (int i = 0; i &lt; n; ++i)\n        {\n            System.out.printf(\"%08x\\n\", m2003.next());\n        }\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"down_vote_count":2,"up_vote_count":52,"is_accepted":false,"score":50,"last_activity_date":1230661227,"creation_date":1230566753,"answer_id":397997,"question_id":397867,"body_markdown":"Most of the time there is no need to use larger numeric types for simulating unsigned types in Java.\r\n\r\nFor addition, subtraction, multiplication, shift left, the logical operations, equality\r\nand casting to a smaller numeric type\r\nit doesn&#39;t matter whether the operands are signed or unsigned,\r\nthe result will be the same regardless, viewed as a bit pattern.\r\n\r\nFor shifting to the right use &gt;&gt; for signed, &gt;&gt;&gt; for unsigned.\r\n\r\nFor signed casting to a larger type just do it.\r\n\r\nFor unsigned casting from a smaller type to a long use &amp; with a mask of type long for the smaller type.\r\nE.g., short to long: s &amp; 0xffffL.\r\n\r\nFor unsigned casting from a smaller type to an int use &amp; with a mask of type int.\r\nE.g., byte to int: b &amp; 0xff.\r\n\r\nOtherwise do like in the int case and apply a cast on top.\r\nE.g., byte to short: (short) (b &amp; 0xff).\r\n\r\nFor the comparison operators &lt; etc. and division the easiest is to cast to a larger type and do the operation there.\r\nBut there also exist other options, e.g. do comparisons after adding an appropriate offset.\r\n","title":"Port of Random generator from C to Java?","body":"<p>Most of the time there is no need to use larger numeric types for simulating unsigned types in Java.</p>\n\n<p>For addition, subtraction, multiplication, shift left, the logical operations, equality\nand casting to a smaller numeric type\nit doesn't matter whether the operands are signed or unsigned,\nthe result will be the same regardless, viewed as a bit pattern.</p>\n\n<p>For shifting to the right use >> for signed, >>> for unsigned.</p>\n\n<p>For signed casting to a larger type just do it.</p>\n\n<p>For unsigned casting from a smaller type to a long use &amp; with a mask of type long for the smaller type.\nE.g., short to long: s &amp; 0xffffL.</p>\n\n<p>For unsigned casting from a smaller type to an int use &amp; with a mask of type int.\nE.g., byte to int: b &amp; 0xff.</p>\n\n<p>Otherwise do like in the int case and apply a cast on top.\nE.g., byte to short: (short) (b &amp; 0xff).</p>\n\n<p>For the comparison operators &lt; etc. and division the easiest is to cast to a larger type and do the operation there.\nBut there also exist other options, e.g. do comparisons after adding an appropriate offset.</p>\n"},{"tags":[],"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661139260,"creation_date":1661139260,"answer_id":73439958,"question_id":397867,"body_markdown":"Note: In your C code, I inferred that `long` is 32 bits wide, and `long long` is 64 bits wide.\r\n\r\nHere is my way of porting that code to Java with the minimum number of changes:\r\n\r\n```java\r\n/* choose random initial 0&lt;=c&lt;809430660 and */\r\n/* 4096 random 32-bit integers for Q[]      */\r\nint[] Q = new int[4096];\r\nint c = 362436;\r\nint i = 4095;\r\n\r\nint CMWC4096() {\r\n    long a = 18782;\r\n    int r = 0xfffffffe;\r\n    i = (i + 1) &amp; 4095;\r\n    long t = a * Q[i] + c;\r\n    c = (int)(t &gt;&gt;&gt; 32);\r\n    int x = (int)(t + c);\r\n    if (0 &lt;= x &amp;&amp; x &lt; c) {\r\n        x++;\r\n        c++;\r\n    }\r\n    return (Q[i] = r - x);\r\n}\r\n```","title":"Port of Random generator from C to Java?","body":"<p>Note: In your C code, I inferred that <code>long</code> is 32 bits wide, and <code>long long</code> is 64 bits wide.</p>\n<p>Here is my way of porting that code to Java with the minimum number of changes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* choose random initial 0&lt;=c&lt;809430660 and */\n/* 4096 random 32-bit integers for Q[]      */\nint[] Q = new int[4096];\nint c = 362436;\nint i = 4095;\n\nint CMWC4096() {\n    long a = 18782;\n    int r = 0xfffffffe;\n    i = (i + 1) &amp; 4095;\n    long t = a * Q[i] + c;\n    c = (int)(t &gt;&gt;&gt; 32);\n    int x = (int)(t + c);\n    if (0 &lt;= x &amp;&amp; x &lt; c) {\n        x++;\n        c++;\n    }\n    return (Q[i] = r - x);\n}\n</code></pre>\n"}],"owner":{"account_id":20245,"reputation":17785,"user_id":48181,"accept_rate":100,"display_name":"martinus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27185,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":397960,"answer_count":6,"score":19,"last_activity_date":1661139260,"creation_date":1230563322,"question_id":397867,"body_markdown":"George Marsaglia has written an excellent random number generator that is extremely fast, simple, and has a much higher period than the Mersenne Twister. Here is the code with a description:\r\n\r\n&lt;a href=&quot;http://school.anhb.uwa.edu.au/personalpages/kwessen/shared/Marsaglia03.html&quot;&gt;good C random number generator&lt;/a&gt;\r\n\r\nI wanted to port the CMWC4096 code to Java, but it uses several unsigned datatypes so I am not sure how to do this properly. Here is the full C code:\r\n\r\n    /* choose random initial c&lt;809430660 and */\r\n    /* 4096 random 32-bit integers for Q[]   */\r\n    static unsigned long Q[4096],c=362436;\r\n    \r\n    unsigned long CMWC4096(void) {\r\n        unsigned long long t, a=18782LL;\r\n        static unsigned long i=4095;\r\n        unsigned long x,r=0xfffffffe;\r\n        i = (i+1) &amp; 4095;\r\n        t = a*Q[i] + c;\r\n        c = (t&gt;&gt;32);\r\n        x = t + c;\r\n        if (x &lt; c) {\r\n            x++;\r\n            c++;\r\n        }\r\n        return (Q[i] = r - x);\r\n    }\r\n\r\nCan anyone port this to Java? How does this work when you only have signed numbers available?\r\n\r\n**EDIT:** Thanks everybody for the quick answers! For the first 100 million numbers this java code seems to produce the same result as the C code. It is 3 times faster than Java&#39;s java.util.Random.\r\n\r\n    public class ComplimentaryMultiplyWithCarryRandom {\r\n    \r\n        /**\r\n         * Choose 4096 random 32-bit integers\r\n         */\r\n        private long[] Q;\r\n    \r\n        /**\r\n         * choose random initial c&lt;809430660\r\n         */\r\n        private long c = 362436;\r\n    \r\n        private int i;\r\n    \r\n        public ComplimentaryMultiplyWithCarryRandom() {\r\n            Random r = new Random(1);\r\n            Q = new long[4096];\r\n            \r\n            // TODO initialize with real random 32bit values\r\n            for (int i = 0; i &lt; 4096; ++i) {\r\n                long v = r.nextInt();\r\n                v -= Integer.MIN_VALUE;\r\n                Q[i] = v;\r\n            }\r\n            i = 4095;\r\n        }\r\n    \r\n        int next() {\r\n            i = (i + 1) &amp; 4095;\r\n            long t = 18782 * Q[i] + c;\r\n            c = t &gt;&gt;&gt; 32;\r\n            long x = (t + c) &amp; 0xffffffffL;\r\n            if (x &lt; c) {\r\n                ++x;\r\n                ++c;\r\n            }\r\n    \r\n            long v = 0xfffffffeL - x;\r\n            Q[i] = v;\r\n            return (int) v;\r\n        }\r\n    }","title":"Port of Random generator from C to Java?","body":"<p>George Marsaglia has written an excellent random number generator that is extremely fast, simple, and has a much higher period than the Mersenne Twister. Here is the code with a description:</p>\n\n<p><a href=\"http://school.anhb.uwa.edu.au/personalpages/kwessen/shared/Marsaglia03.html\" rel=\"noreferrer\">good C random number generator</a></p>\n\n<p>I wanted to port the CMWC4096 code to Java, but it uses several unsigned datatypes so I am not sure how to do this properly. Here is the full C code:</p>\n\n<pre><code>/* choose random initial c&lt;809430660 and */\n/* 4096 random 32-bit integers for Q[]   */\nstatic unsigned long Q[4096],c=362436;\n\nunsigned long CMWC4096(void) {\n    unsigned long long t, a=18782LL;\n    static unsigned long i=4095;\n    unsigned long x,r=0xfffffffe;\n    i = (i+1) &amp; 4095;\n    t = a*Q[i] + c;\n    c = (t&gt;&gt;32);\n    x = t + c;\n    if (x &lt; c) {\n        x++;\n        c++;\n    }\n    return (Q[i] = r - x);\n}\n</code></pre>\n\n<p>Can anyone port this to Java? How does this work when you only have signed numbers available?</p>\n\n<p><strong>EDIT:</strong> Thanks everybody for the quick answers! For the first 100 million numbers this java code seems to produce the same result as the C code. It is 3 times faster than Java's java.util.Random.</p>\n\n<pre><code>public class ComplimentaryMultiplyWithCarryRandom {\n\n    /**\n     * Choose 4096 random 32-bit integers\n     */\n    private long[] Q;\n\n    /**\n     * choose random initial c&lt;809430660\n     */\n    private long c = 362436;\n\n    private int i;\n\n    public ComplimentaryMultiplyWithCarryRandom() {\n        Random r = new Random(1);\n        Q = new long[4096];\n\n        // TODO initialize with real random 32bit values\n        for (int i = 0; i &lt; 4096; ++i) {\n            long v = r.nextInt();\n            v -= Integer.MIN_VALUE;\n            Q[i] = v;\n        }\n        i = 4095;\n    }\n\n    int next() {\n        i = (i + 1) &amp; 4095;\n        long t = 18782 * Q[i] + c;\n        c = t &gt;&gt;&gt; 32;\n        long x = (t + c) &amp; 0xffffffffL;\n        if (x &lt; c) {\n            ++x;\n            ++c;\n        }\n\n        long v = 0xfffffffeL - x;\n        Q[i] = v;\n        return (int) v;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","spring-cloud-gateway"],"comments":[{"owner":{"account_id":9924285,"reputation":708,"user_id":7346454,"display_name":"Thomas Martin"},"score":1,"creation_date":1641543573,"post_id":70618318,"comment_id":124835893,"body_markdown":"probably the same question as https://stackoverflow.com/questions/66379263/spring-cloud-gateway-route-to-itself","body":"probably the same question as <a href=\"https://stackoverflow.com/questions/66379263/spring-cloud-gateway-route-to-itself\" title=\"spring cloud gateway route to itself\">stackoverflow.com/questions/66379263/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2869610,"reputation":1140,"user_id":2463234,"display_name":"Dhananjay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641613636,"creation_date":1641602197,"answer_id":70628682,"question_id":70618318,"body_markdown":"If you have some rest APIs within your spring-cloud-gateway project, you don&#39;t need to explicitly put the routes for it.\r\nSo suppose you have following rest api in gateway project\r\n```\r\n@RestController\r\n@RequestMapping(&quot;test&quot;)\r\nclass Controller{\r\n    @GetMapping(&quot;hello&quot;)\r\n    public String hello(){\r\n        return &quot;hello&quot;;\r\n    }\r\n}\r\n```\r\nand for external-url, you want to send some traffic to let&#39;s say `https://httpbin.org`. So in gateway application.yml could look something like this:\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n        - id: httpbin-route\r\n          uri: https://httpbin.org\r\n          predicates:\r\n            - Path=/status/**\r\n```\r\nWith this request like \r\n - `http://localhost:8080/test/hello` will be resolved by your rest controller\r\n - `http://localhost:8080/status/200` will be redirected to httpbin site\r\n\r\nIf for some reason you have the same root path for both cases, the controller will have precedence.","title":"Spring Cloud Gateway as a gateway as well as web application","body":"<p>If you have some rest APIs within your spring-cloud-gateway project, you don't need to explicitly put the routes for it.\nSo suppose you have following rest api in gateway project</p>\n<pre><code>@RestController\n@RequestMapping(&quot;test&quot;)\nclass Controller{\n    @GetMapping(&quot;hello&quot;)\n    public String hello(){\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>and for external-url, you want to send some traffic to let's say <code>https://httpbin.org</code>. So in gateway application.yml could look something like this:</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n        - id: httpbin-route\n          uri: https://httpbin.org\n          predicates:\n            - Path=/status/**\n</code></pre>\n<p>With this request like</p>\n<ul>\n<li><code>http://localhost:8080/test/hello</code> will be resolved by your rest controller</li>\n<li><code>http://localhost:8080/status/200</code> will be redirected to httpbin site</li>\n</ul>\n<p>If for some reason you have the same root path for both cases, the controller will have precedence.</p>\n"},{"tags":[],"owner":{"account_id":7909307,"reputation":409,"user_id":5973816,"display_name":"Poison"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661139107,"creation_date":1661139107,"answer_id":73439944,"question_id":70618318,"body_markdown":"If you have the same endpoint in gateway predicates and controller, by default controller will take precedence over predicates, if you want predicates to take precedence over controller, just create a BeanPostProcessor to adjust the order:\r\n\r\n```java\r\n@Component\r\npublic class RequestMappingHandlerMappingBeanPostProcessor implements BeanPostProcessor {\r\n\r\n    @Override\r\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\r\n        if (bean instanceof RequestMappingHandlerMapping) {\r\n            ((RequestMappingHandlerMapping) bean).setOrder(2); // After RoutePredicateHandlerMapping\r\n        }\r\n        return bean;\r\n    }\r\n\r\n}\r\n```","title":"Spring Cloud Gateway as a gateway as well as web application","body":"<p>If you have the same endpoint in gateway predicates and controller, by default controller will take precedence over predicates, if you want predicates to take precedence over controller, just create a BeanPostProcessor to adjust the order:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class RequestMappingHandlerMappingBeanPostProcessor implements BeanPostProcessor {\n\n    @Override\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n        if (bean instanceof RequestMappingHandlerMapping) {\n            ((RequestMappingHandlerMapping) bean).setOrder(2); // After RoutePredicateHandlerMapping\n        }\n        return bean;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":9996773,"reputation":192,"user_id":7394139,"display_name":"Naresh Bharadwaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3985,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1661139107,"creation_date":1641543070,"question_id":70618318,"body_markdown":"I have a spring cloud gateway application and what I want is like if there are two routes then on one route it should redirect to some external application but for other route it should forward the request to same app with a particular url.\r\n\r\n```So \r\n-id: my_local_route\r\n predicates:\r\n   - Path=&quot;/services/local&quot;\r\n uri: &quot;/mylocal/services/local&quot; //can we do something like that\r\n\r\n```\r\n\r\nPlease note I want to create my rest services in same app as in spring cloud gateway. I understand it is not correct approach but for my knowledge I wanted to know whether it is possible or not.","title":"Spring Cloud Gateway as a gateway as well as web application","body":"<p>I have a spring cloud gateway application and what I want is like if there are two routes then on one route it should redirect to some external application but for other route it should forward the request to same app with a particular url.</p>\n<pre><code>-id: my_local_route\n predicates:\n   - Path=&quot;/services/local&quot;\n uri: &quot;/mylocal/services/local&quot; //can we do something like that\n\n</code></pre>\n<p>Please note I want to create my rest services in same app as in spring cloud gateway. I understand it is not correct approach but for my knowledge I wanted to know whether it is possible or not.</p>\n"},{"tags":["java","inheritance","superclass"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1661138964,"post_id":73439914,"comment_id":129692274,"body_markdown":"No difference unless you have overridden it.","body":"No difference unless you have overridden it."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661139009,"creation_date":1661139009,"answer_id":73439935,"question_id":73439914,"body_markdown":"`super.print()` is intended to call the superclass method from the child method. If you wanted to, for example, override `print` in `A` to say something else *and* print `&quot;Hi&quot;`, you could write\r\n\r\n    public void print() {\r\n      super.print();\r\n      System.out.println(&quot;I&#39;m a B, by the way :)&quot;);\r\n    }\r\n\r\nCalling `this.print()` here would infinitely call the same function which would hang your program.\r\n\r\nNow, you *can* use `super` in other contexts, but you really shouldn&#39;t. What it says is &quot;ignore the current class and make a static call to my parent&#39;s implementation&quot;. That makes sense (and is useful) in an overridden method. It&#39;s just confusing in other contexts.\r\n\r\nSo, if `this.print()` makes sense (which it does *unless* you&#39;re overriding `print`), you should use that, as it&#39;s what everyone will expect. `super.print()` should *only* be used in an override of the `print` method, since you have no other option.","title":"Java Superclass Methods: keyword &quot;this&quot; vs &quot;super&quot;","body":"<p><code>super.print()</code> is intended to call the superclass method from the child method. If you wanted to, for example, override <code>print</code> in <code>A</code> to say something else <em>and</em> print <code>&quot;Hi&quot;</code>, you could write</p>\n<pre><code>public void print() {\n  super.print();\n  System.out.println(&quot;I'm a B, by the way :)&quot;);\n}\n</code></pre>\n<p>Calling <code>this.print()</code> here would infinitely call the same function which would hang your program.</p>\n<p>Now, you <em>can</em> use <code>super</code> in other contexts, but you really shouldn't. What it says is &quot;ignore the current class and make a static call to my parent's implementation&quot;. That makes sense (and is useful) in an overridden method. It's just confusing in other contexts.</p>\n<p>So, if <code>this.print()</code> makes sense (which it does <em>unless</em> you're overriding <code>print</code>), you should use that, as it's what everyone will expect. <code>super.print()</code> should <em>only</em> be used in an override of the <code>print</code> method, since you have no other option.</p>\n"}],"owner":{"account_id":5240243,"reputation":345,"user_id":4187546,"accept_rate":30,"display_name":"Code123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661139015,"creation_date":1661138778,"question_id":73439914,"body_markdown":"Say I have:\r\n\r\n    public class A&lt;T&gt;{\r\n        public void print(){\r\n            System.out.println(&quot;Hi&quot;);\r\n        }\r\n    }\r\n\r\nand I create\r\n\r\n    public class B extends A&lt;Integer&gt;{\r\n    \r\n    }\r\n\r\nWhat is the difference between accessing the print() function in A via super.print() versus this.print()? Both seem to access the method.\r\n\r\n","title":"Java Superclass Methods: keyword &quot;this&quot; vs &quot;super&quot;","body":"<p>Say I have:</p>\n<pre><code>public class A&lt;T&gt;{\n    public void print(){\n        System.out.println(&quot;Hi&quot;);\n    }\n}\n</code></pre>\n<p>and I create</p>\n<pre><code>public class B extends A&lt;Integer&gt;{\n\n}\n</code></pre>\n<p>What is the difference between accessing the print() function in A via super.print() versus this.print()? Both seem to access the method.</p>\n"},{"tags":["java","kotlin","lambda","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661138372,"creation_date":1661138372,"answer_id":73439882,"question_id":73439820,"body_markdown":"You can write a [`fun interface`][1] in Kotlin (no pun intended)\r\n\r\n```\r\nfun interface Filter {\r\n    fun apply(query: Query): Query\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```\r\nfun create(searchQuery: SearchQuery) =\r\n    Filter { q -&gt;\r\n        q.addCriteria(...)\r\n    }\r\n```\r\n\r\nAlternatively, don&#39;t declare a new type at all, and just use the [function type][2] `(Query) -&gt; Query`. (You can make a type alias for this)\r\n\r\n```\r\ntypealias Filter = (Query) -&gt; Query\r\n\r\nfun create(searchQuery: SearchQuery): Filter = { q -&gt;\r\n    q.addCriteria(...)\r\n}\r\n```\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/fun-interfaces.html\r\n  [2]: https://kotlinlang.org/docs/lambdas.html#function-types","title":"Anonymous implementation of an interface method in Kotlin","body":"<p>You can write a <a href=\"https://kotlinlang.org/docs/fun-interfaces.html\" rel=\"nofollow noreferrer\"><code>fun interface</code></a> in Kotlin (no pun intended)</p>\n<pre><code>fun interface Filter {\n    fun apply(query: Query): Query\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>fun create(searchQuery: SearchQuery) =\n    Filter { q -&gt;\n        q.addCriteria(...)\n    }\n</code></pre>\n<p>Alternatively, don't declare a new type at all, and just use the <a href=\"https://kotlinlang.org/docs/lambdas.html#function-types\" rel=\"nofollow noreferrer\">function type</a> <code>(Query) -&gt; Query</code>. (You can make a type alias for this)</p>\n<pre><code>typealias Filter = (Query) -&gt; Query\n\nfun create(searchQuery: SearchQuery): Filter = { q -&gt;\n    q.addCriteria(...)\n}\n</code></pre>\n"}],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661138372,"creation_date":1661137586,"question_id":73439820,"body_markdown":"In java, you can use implementations of interfaces like this:\r\n\r\n```java\r\nimport org.springframework.data.mongodb.core.query.Query;\r\n\r\n@FunctionalInterface\r\npublic interface Filter {\r\n    Query apply(Query query);\r\n}\r\n```\r\n\r\n```java\r\npublic class FlagFilterFactory {\r\n  public Filter create(SearchQuery searchQuery) {\r\n    return q -&gt; {\r\n      q.addCriteria(...)\r\n      return q;\r\n    };\r\n  }\r\n```\r\n\r\nBut I did not find how it can be written using Kotlin.\r\n```kotlin\r\n@FunctionalInterface\r\npublic interface Filter {\r\n    fun apply(query: Query): Query\r\n}\r\n```\r\n\r\nHow can one write an anonymous implementation of this interface? Or do I definitely need to create a class in Kotlin that will implement it?","title":"Anonymous implementation of an interface method in Kotlin","body":"<p>In java, you can use implementations of interfaces like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.data.mongodb.core.query.Query;\n\n@FunctionalInterface\npublic interface Filter {\n    Query apply(Query query);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class FlagFilterFactory {\n  public Filter create(SearchQuery searchQuery) {\n    return q -&gt; {\n      q.addCriteria(...)\n      return q;\n    };\n  }\n</code></pre>\n<p>But I did not find how it can be written using Kotlin.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@FunctionalInterface\npublic interface Filter {\n    fun apply(query: Query): Query\n}\n</code></pre>\n<p>How can one write an anonymous implementation of this interface? Or do I definitely need to create a class in Kotlin that will implement it?</p>\n"},{"tags":["java","functional-programming"],"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1661137317,"answer_count":0,"score":1,"last_activity_date":1661137332,"creation_date":1661137243,"question_id":73439792,"body_markdown":"For learning purposes, imagine I have a list of `User` objects and this object has a gender field that accepts only male or female values. I also have a `isMale()` method based on this field.\r\n\r\nI need to split this list into one only with males and the other one just with females. Is this possible using only one stream and, obviously, filter with a predicate or do I have to go back to the good old foreach?\r\n\r\nI&#39;m trying to achieve these two lists below, but using only one filtered stream and without foreach command or list method.\r\n\r\n    final var males = users.stream().filter(User::isMale).toList();\r\n    final var females = users.stream().filter(u -&gt; !u.isMale()).toList();","title":"Is it possible to get filtered and unfiltered lists using only one Java stream?","body":"<p>For learning purposes, imagine I have a list of <code>User</code> objects and this object has a gender field that accepts only male or female values. I also have a <code>isMale()</code> method based on this field.</p>\n<p>I need to split this list into one only with males and the other one just with females. Is this possible using only one stream and, obviously, filter with a predicate or do I have to go back to the good old foreach?</p>\n<p>I'm trying to achieve these two lists below, but using only one filtered stream and without foreach command or list method.</p>\n<pre><code>final var males = users.stream().filter(User::isMale).toList();\nfinal var females = users.stream().filter(u -&gt; !u.isMale()).toList();\n</code></pre>\n"},{"tags":["java","memory","memory-leaks","garbage-collection","out-of-memory"],"answers":[{"tags":[],"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661137241,"creation_date":1661136793,"answer_id":73439759,"question_id":73439732,"body_markdown":"The whole point of Java&#39;s garbage collector is that you don&#39;t deal with allocating/deallocating memory. Running\r\n\r\n    System.gc();\r\n\r\nIs just a suggestion to the JVM to run the garbage collector. \r\n\r\n&gt; What to do when the GC doesn&#39;t do its job right?\r\n\r\nI think any seasoned Java developer can agree that if you get a java.lang.OutOfMemoryError, it&#39;s because YOU did something wrong, not the garbage collector. Look at your code. You&#39;re allocating an array of 10 million longs at a time. A primitive long is 8 bytes. 8 * 10 million is 80 million bytes. Or about 80 megabytes. And this is giving you the benefit of the doubt, a Long object has even more overhead.\r\n\r\n&gt; -Xmx64m\r\n\r\nIs 64 megabytes less than 80 megabytes? To answer your original question, the garbage collector did it&#39;s job right, it&#39;s job isn&#39;t to magically create more memory than the maximum allocated.","title":"how to clear memory and fix memory leak Java","body":"<p>The whole point of Java's garbage collector is that you don't deal with allocating/deallocating memory. Running</p>\n<pre><code>System.gc();\n</code></pre>\n<p>Is just a suggestion to the JVM to run the garbage collector.</p>\n<blockquote>\n<p>What to do when the GC doesn't do its job right?</p>\n</blockquote>\n<p>I think any seasoned Java developer can agree that if you get a java.lang.OutOfMemoryError, it's because YOU did something wrong, not the garbage collector. Look at your code. You're allocating an array of 10 million longs at a time. A primitive long is 8 bytes. 8 * 10 million is 80 million bytes. Or about 80 megabytes. And this is giving you the benefit of the doubt, a Long object has even more overhead.</p>\n<blockquote>\n<p>-Xmx64m</p>\n</blockquote>\n<p>Is 64 megabytes less than 80 megabytes? To answer your original question, the garbage collector did it's job right, it's job isn't to magically create more memory than the maximum allocated.</p>\n"}],"owner":{"account_id":26125325,"reputation":1,"user_id":19816837,"display_name":"Kws"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1661137241,"creation_date":1661136470,"question_id":73439732,"body_markdown":"I reduced my problem to this case, it&#39;s getting garbage in memory even without having any references out of scope. I wanted to know how to solve it, in C I would clear the memory myself, but in java we have to trust GC (as far as I know). What to do when the GC doesn&#39;t do its job right?\r\n\r\n```\r\npublic static void main(String args[]) throws InterruptedException {\r\n\t\ttry{\r\n\t\t    Long l[] = new Long[10000000];\r\n\t\t    l = null;\r\n\t\t  }\r\n\t\t  catch(Exception e){\r\n\t\t  e.printStackTrace();\r\n\t\t  }\r\n\t\t\r\n\t\tSystem.gc();\r\n\r\n\t\twhile(true){\r\n\t\t\t  Long l[] = new Long[10000000];\r\n\t\t}\r\n\t}\r\n```\r\n\r\n*java.lang.OutOfMemoryError* **-Xmx64m**","title":"how to clear memory and fix memory leak Java","body":"<p>I reduced my problem to this case, it's getting garbage in memory even without having any references out of scope. I wanted to know how to solve it, in C I would clear the memory myself, but in java we have to trust GC (as far as I know). What to do when the GC doesn't do its job right?</p>\n<pre><code>public static void main(String args[]) throws InterruptedException {\n        try{\n            Long l[] = new Long[10000000];\n            l = null;\n          }\n          catch(Exception e){\n          e.printStackTrace();\n          }\n        \n        System.gc();\n\n        while(true){\n              Long l[] = new Long[10000000];\n        }\n    }\n</code></pre>\n<p><em>java.lang.OutOfMemoryError</em> <strong>-Xmx64m</strong></p>\n"},{"tags":["java","swing","layout"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1661136242,"post_id":73439709,"comment_id":129691964,"body_markdown":"GridBagLayout using appropriate weightx grid bag constraints could handle this. Also, BoxLayout.","body":"GridBagLayout using appropriate weightx grid bag constraints could handle this. Also, BoxLayout."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1661138534,"post_id":73439709,"comment_id":129692220,"body_markdown":"I might consider looking at mig layout or possibly writing my own ... but I&#39;m crazy &#129322;","body":"I might consider looking at mig layout or possibly writing my own ... but I&#39;m crazy ð¤ª"},{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":2,"creation_date":1661145481,"post_id":73439709,"comment_id":129693140,"body_markdown":"If you need fixed and dynamic sizes, you can use [FormLayout](https://www.formdev.com/jformdesigner/doc/layouts/formlayout/).","body":"If you need fixed and dynamic sizes, you can use <a href=\"https://www.formdev.com/jformdesigner/doc/layouts/formlayout/\" rel=\"nofollow noreferrer\">FormLayout</a>."},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":2,"creation_date":1661150722,"post_id":73439709,"comment_id":129694221,"body_markdown":"`SpringLayout` should be a candidate also.","body":"<code>SpringLayout</code> should be a candidate also."},{"owner":{"account_id":2605953,"reputation":484,"user_id":2257124,"accept_rate":80,"display_name":"Makaveli84"},"score":0,"creation_date":1661166758,"post_id":73439709,"comment_id":129699217,"body_markdown":"Thanks for the suggestions. I&#39;ll explore my options.\n@MadProgrammer It will be truly mad to write a custom layout for such a trivial task ;p","body":"Thanks for the suggestions. I&#39;ll explore my options. @MadProgrammer It will be truly mad to write a custom layout for such a trivial task ;p"},{"owner":{"account_id":2605953,"reputation":484,"user_id":2257124,"accept_rate":80,"display_name":"Makaveli84"},"score":0,"creation_date":1661166825,"post_id":73439709,"comment_id":129699243,"body_markdown":"@SergiyMedvynskyy Any examples on how to use FormLayout to accomplish my task? Any special considerations for using FormLayout from NetBeans?","body":"@SergiyMedvynskyy Any examples on how to use FormLayout to accomplish my task? Any special considerations for using FormLayout from NetBeans?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1661175402,"post_id":73439709,"comment_id":129702525,"body_markdown":"GridBagLayout would probably be the easiest. Just set the `weightx` constraint to 1 for the first component and 0 for all others. Or you could use the BoxLayout. The trick here would be to set the maximum size of the fixed fields to be the preferred size. The variable field would have an unlimited maximum size. Or you could nest panels. Have the fixed components added to a panel using a FlowLayout. Then use a second panel with a BorderLayout. The variable component can be added to the CENTER and the panel to the LINE_END.","body":"GridBagLayout would probably be the easiest. Just set the <code>weightx</code> constraint to 1 for the first component and 0 for all others. Or you could use the BoxLayout. The trick here would be to set the maximum size of the fixed fields to be the preferred size. The variable field would have an unlimited maximum size. Or you could nest panels. Have the fixed components added to a panel using a FlowLayout. Then use a second panel with a BorderLayout. The variable component can be added to the CENTER and the panel to the LINE_END."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1661175466,"post_id":73439709,"comment_id":129702553,"body_markdown":"*It will be truly mad to write a custom layout for such a trivial task* - read the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) to learn the basics, Then you choose the approach you want to use.","body":"<i>It will be truly mad to write a custom layout for such a trivial task</i> - read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a> to learn the basics, Then you choose the approach you want to use."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1661205016,"post_id":73439709,"comment_id":129712296,"body_markdown":"@SergiyMedvynskyy As you appear to be finding, this is not the &quot;simple&quot; task you seem to think it to be, a custom layout would allow you to better define and control the rules around which the components are laid out - it shouldn&#39;t be your first option, but it might be a better long term option","body":"@SergiyMedvynskyy As you appear to be finding, this is not the &quot;simple&quot; task you seem to think it to be, a custom layout would allow you to better define and control the rules around which the components are laid out - it shouldn&#39;t be your first option, but it might be a better long term option"}],"owner":{"account_id":2605953,"reputation":484,"user_id":2257124,"accept_rate":80,"display_name":"Makaveli84"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1661136126,"creation_date":1661136126,"question_id":73439709,"body_markdown":"I am trying to fashion a custom-looking status-bar for a Swing desktop GUI. This status bar should have a resizable &quot;field&quot; attached to the left/west edge, with a number of fixed-size &quot;fields&quot; stacked to its right (or attached to the right/east edge).\r\n\r\nA simple illustration (VS = variable size, FS = fixed size)\r\n\r\nInitial size:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd after resize:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMy approach so far is to position a `JPanel` at the bottom of my `JFrame` using a standard `LayoutManager` (which will depend on what I will have in the &quot;body&quot; of my frame). This `JPanel` will serve as the statusbar container. I am trying to figure out how to add/position some `JLabel`s inside the statusbar panel as I illustrated above. I am not sure how to go about this using standard LayoutManagers.\r\n\r\nCan this be done or does it need a custom `LayoutManager`, and how?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sYTWf.png\r\n  [2]: https://i.stack.imgur.com/2OxEt.png","title":"Stack resizable and fixed-size JLabels along each other on a JPanel","body":"<p>I am trying to fashion a custom-looking status-bar for a Swing desktop GUI. This status bar should have a resizable &quot;field&quot; attached to the left/west edge, with a number of fixed-size &quot;fields&quot; stacked to its right (or attached to the right/east edge).</p>\n<p>A simple illustration (VS = variable size, FS = fixed size)</p>\n<p>Initial size:</p>\n<p><a href=\"https://i.stack.imgur.com/sYTWf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sYTWf.png\" alt=\"enter image description here\" /></a></p>\n<p>And after resize:</p>\n<p><a href=\"https://i.stack.imgur.com/2OxEt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2OxEt.png\" alt=\"enter image description here\" /></a></p>\n<p>My approach so far is to position a <code>JPanel</code> at the bottom of my <code>JFrame</code> using a standard <code>LayoutManager</code> (which will depend on what I will have in the &quot;body&quot; of my frame). This <code>JPanel</code> will serve as the statusbar container. I am trying to figure out how to add/position some <code>JLabel</code>s inside the statusbar panel as I illustrated above. I am not sure how to go about this using standard LayoutManagers.</p>\n<p>Can this be done or does it need a custom <code>LayoutManager</code>, and how?</p>\n"},{"tags":["java","random","parameters"],"comments":[{"owner":{"account_id":6979259,"reputation":35,"user_id":5352833,"display_name":"cuyaken"},"score":0,"creation_date":1661135690,"post_id":73439442,"comment_id":129691899,"body_markdown":"Stephen C is corret. Thanks! I was looking at Java 8.","body":"Stephen C is corret. Thanks! I was looking at Java 8."}],"answers":[{"tags":[],"owner":{"account_id":3125071,"reputation":5745,"user_id":2644098,"accept_rate":40,"display_name":"Gergely KÅr&#246;ssy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1661134327,"creation_date":1661132868,"answer_id":73439471,"question_id":73439442,"body_markdown":"# `RandomGenerator#nextInt`\r\n\r\nI assume you are on (at least) Java 17 which has introduced the new interface [`RandomGenerator`][1] that has a [`nextInt(origin, bound)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int)) method.\r\n\r\nAs of Java 17, [`Random`][2] implements that `RandomGenerator` interface, and therefore that `nextInt` method.\r\n\r\nAs per the description of the method:\r\n\r\n&gt; Returns a pseudorandomly chosen int value between the specified origin (inclusive) and the specified bound (exclusive).\r\n\r\nFor more details, see [*JEP 356: Enhanced Pseudo-Random Number Generators*][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html\r\n  [3]: https://openjdk.org/jeps/356","title":"Does Java Random have an undocumented nextInt method that takes two parameters?","body":"<h1><code>RandomGenerator#nextInt</code></h1>\n<p>I assume you are on (at least) Java 17 which has introduced the new interface <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html\" rel=\"nofollow noreferrer\"><code>RandomGenerator</code></a> that has a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int)\" rel=\"nofollow noreferrer\"><code>nextInt(origin, bound)</code></a> method.</p>\n<p>As of Java 17, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html\" rel=\"nofollow noreferrer\"><code>Random</code></a> implements that <code>RandomGenerator</code> interface, and therefore that <code>nextInt</code> method.</p>\n<p>As per the description of the method:</p>\n<blockquote>\n<p>Returns a pseudorandomly chosen int value between the specified origin (inclusive) and the specified bound (exclusive).</p>\n</blockquote>\n<p>For more details, see <a href=\"https://openjdk.org/jeps/356\" rel=\"nofollow noreferrer\"><em>JEP 356: Enhanced Pseudo-Random Number Generators</em></a>.</p>\n"}],"owner":{"account_id":6979259,"reputation":35,"user_id":5352833,"display_name":"cuyaken"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":919,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"closed_date":1661185373,"answer_count":1,"score":1,"last_activity_date":1661135568,"creation_date":1661132398,"question_id":73439442,"body_markdown":"As far as I can see, this code should not compile or run because Random doesn&#39;t have a nextInt method that takes two parameters. But it does run and produces numbers from -5 to 5 inclusive.\r\n\r\n```\r\nimport java.util.Random;\r\npublic class RandomNextIntParameters {\r\n    public static void main(String[] args) {\r\n        Random rand = new Random();\r\n        int a = rand.nextInt(-5, 5); // why does this work?\r\n        while (a &gt;= 0) {\r\n            System.out.println(a);\r\n            a = rand.nextInt(-5, 5);\r\n        }\r\n        System.out.println(a); // prints a negative number\r\n    }\r\n}\r\n```","title":"Does Java Random have an undocumented nextInt method that takes two parameters?","body":"<p>As far as I can see, this code should not compile or run because Random doesn't have a nextInt method that takes two parameters. But it does run and produces numbers from -5 to 5 inclusive.</p>\n<pre><code>import java.util.Random;\npublic class RandomNextIntParameters {\n    public static void main(String[] args) {\n        Random rand = new Random();\n        int a = rand.nextInt(-5, 5); // why does this work?\n        while (a &gt;= 0) {\n            System.out.println(a);\n            a = rand.nextInt(-5, 5);\n        }\n        System.out.println(a); // prints a negative number\n    }\n}\n</code></pre>\n"},{"tags":["java","android","appium","adb"],"owner":{"account_id":3316674,"reputation":197,"user_id":2788885,"accept_rate":0,"display_name":"Pranjal Prakash Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":892,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661135154,"creation_date":1661135154,"question_id":73439637,"body_markdown":"I am getting following error when trying to launch the application in simulator: \r\n\r\n```\r\n[RemoteTestNG] detected TestNG version 7.6.1\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nFAILED: mobile.tutorial.Exercise.AppiumTest\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: The instrumentation process cannot be initialized. Make sure the application under test does not crash and investigate the logcat output.\r\nBuild info: version: &#39;4.4.0&#39;, revision: &#39;e5c75ed026a&#39;\r\nSystem info: host: &#39;Pranjals-MacBook-Pro.local&#39;, ip: &#39;fe80:0:0:0:14f7:9f61:777f:238c%en0&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;12.5&#39;, java.version: &#39;11.0.15.1&#39;\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCommand: [null, newSession {capabilities=[{appium:app=//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk, appium:deviceName=Nexus 5 API R, platformName=ANDROID}], desiredCapabilities=Capabilities {app: //Users//pranjal//eclipse-w..., deviceName: Nexus 5 API R, platformName: ANDROID}}]\r\nCapabilities {}\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:144)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:126)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:146)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:180)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:224)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:79)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:87)\r\n\tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:116)\r\n\tat mobile.tutorial.Exercise.AppiumTest(Exercise.java:22)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:806)\r\n\tat org.testng.TestRunner.run(TestRunner.java:601)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n\tat org.testng.TestNG.run(TestNG.java:1067)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\n\r\n===============================================\r\n    Default test\r\n    Tests run: 1, Failures: 1, Skips: 0\r\n===============================================\r\n\r\n\r\n===============================================\r\nDefault suite\r\nTotal tests run: 1, Passes: 0, Failures: 1, Skips: 0\r\n===============================================\r\n\r\n```\r\nI have tried using DesiredCapabilities and UiAutomator2Options but I get the same error.\r\n\r\nFollowing is the code that I am using:\r\n\r\n```\r\nDesiredCapabilities capabilities = new DesiredCapabilities();\r\n\t\tcapabilities.setCapability(&quot;app&quot;, &quot;//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk&quot;);\r\n\t    capabilities.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\r\n\t    capabilities.setCapability(&quot;deviceName&quot;,&quot;Nexus 5 API R&quot;);\t\r\n\t    AndroidDriver driver = new AndroidDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;),capabilities);\r\n```\r\nUiAutomator2Options\r\n```\r\n\t\tUiAutomator2Options options = new UiAutomator2Options();\r\n\t\toptions.setDeviceName(&quot;Nexus 5 API R&quot;);\r\n\t\toptions.setApp(&quot;//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk&quot;);\r\n\t\t\r\n\t\tAndroidDriver driver = new AndroidDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;),options);\r\n```\r\n\r\nSelenium Appium logs:\r\n\r\n```\r\nHHTTP] Waiting until the server is closed\r\n[HTTP] Received server close event\r\n[Appium] Welcome to Appium v1.22.3\r\n[Appium] Non-default server args:\r\n[Appium]   relaxedSecurityEnabled: true\r\n[Appium]   allowInsecure: {\r\n[Appium]   }\r\n[Appium]   denyInsecure: {\r\n[Appium]   }\r\n[Appium] Appium REST http interface listener started on 0.0.0.0:4723\r\n[HTTP] Request idempotency key: 8c85cfdf-b326-4ae6-9e79-de067f5f8e59\r\n[HTTP] --&gt; POST /wd/hub/session\r\n[HTTP] {&quot;capabilities&quot;:{&quot;firstMatch&quot;:[{}],&quot;alwaysMatch&quot;:{&quot;appium:app&quot;:&quot;//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk&quot;,&quot;appium:deviceName&quot;:&quot;Nexus 5 API R&quot;,&quot;platformName&quot;:&quot;android&quot;}}}\r\n[W3C] Calling AppiumDriver.createSession() with args: [null,null,{&quot;firstMatch&quot;:[{}],&quot;alwaysMatch&quot;:{&quot;appium:app&quot;:&quot;//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk&quot;,&quot;appium:deviceName&quot;:&quot;Nexus 5 API R&quot;,&quot;platformName&quot;:&quot;android&quot;}}]\r\n[BaseDriver] Event &#39;newSessionRequested&#39; logged at 1661132203235 (20:36:43 GMT-0500 (Central Daylight Time))\r\n[Appium] \r\n[Appium] ======================================================================\r\n[Appium]   DEPRECATION WARNING:\r\n[Appium] \r\n[Appium]   The &#39;automationName&#39; capability was not provided in the desired \r\n[Appium]   capabilities for this Android session\r\n[Appium] \r\n[Appium]   Setting &#39;automationName=UiAutomator2&#39; by default and using the \r\n[Appium]   UiAutomator2 Driver\r\n[Appium] \r\n[Appium]   The next major version of Appium (2.x) will **require** the \r\n[Appium]   &#39;automationName&#39; capability to be set for all sessions on all \r\n[Appium]   platforms\r\n[Appium] \r\n[Appium]   In previous versions (Appium &lt;= 1.13.x), the default was \r\n[Appium]   &#39;automationName=UiAutomator1&#39;\r\n[Appium] \r\n[Appium]   If you wish to use that automation instead of UiAutomator2, please \r\n[Appium]   add &#39;automationName=UiAutomator1&#39; to your desired capabilities\r\n[Appium] \r\n[Appium]   For more information about drivers, please visit \r\n[Appium]   http://appium.io/docs/en/about-appium/intro/ and explore the \r\n[Appium]   &#39;Drivers&#39; menu\r\n[Appium] \r\n[Appium] ======================================================================\r\n[Appium] \r\n[Appium] Appium v1.22.3 creating new AndroidUiautomator2Driver (v1.70.1) session\r\n[Appium] Applying relaxed security to &#39;AndroidUiautomator2Driver&#39; as per server command line argument. All insecure features will be enabled unless explicitly disabled by --deny-insecure\r\n[BaseDriver] Creating session with W3C capabilities: {\r\n[BaseDriver]   &quot;alwaysMatch&quot;: {\r\n[BaseDriver]     &quot;platformName&quot;: &quot;android&quot;,\r\n[BaseDriver]     &quot;appium:app&quot;: &quot;//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk&quot;,\r\n[BaseDriver]     &quot;appium:deviceName&quot;: &quot;Nexus 5 API R&quot;\r\n[BaseDriver]   },\r\n[BaseDriver]   &quot;firstMatch&quot;: [\r\n[BaseDriver]     {}\r\n[BaseDriver]   ]\r\n[BaseDriver] }\r\n[BaseDriver] Session created with session id: 73660627-8680-4052-982b-1642dc26b1bf\r\n[BaseDriver] Using local app &#39;//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk&#39;\r\n[UiAutomator2] Checking whether app is actually present\r\n[ADB] Using &#39;adb&#39; from &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb&#39;\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 start-server&#39;\r\n[AndroidDriver] Retrieving device list\r\n[ADB] Trying to find a connected android device\r\n[ADB] Getting connected devices\r\n[ADB] Connected devices: [{&quot;udid&quot;:&quot;emulator-5554&quot;,&quot;state&quot;:&quot;device&quot;}]\r\n[AndroidDriver] Using device: emulator-5554\r\n[ADB] Using &#39;adb&#39; from &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb&#39;\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 start-server&#39;\r\n[ADB] Setting device id to emulator-5554\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk&#39;\r\n[ADB] Current device property &#39;ro.build.version.sdk&#39;: 29\r\n[ADB] Getting device platform version\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell getprop ro.build.version.release&#39;\r\n[ADB] Current device property &#39;ro.build.version.release&#39;: 10\r\n[ADB] Device API level: 29\r\n[UiAutomator2] Relaxing hidden api policy\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell &#39;settings put global hidden_api_policy_pre_p_apps 1;settings put global hidden_api_policy_p_apps 1;settings put global hidden_api_policy 1&#39;&#39;\r\n[AndroidDriver] Parsing package and activity from app manifest\r\n[ADB] Package name: &#39;io.appium.android.apis&#39;\r\n[ADB] Main activity name: &#39;io.appium.android.apis.ApiDemos&#39;\r\n[AndroidDriver] Parsed package and activity are: io.appium.android.apis/io.appium.android.apis.ApiDemos\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 wait-for-device&#39;\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell echo ping&#39;\r\n[AndroidDriver] Pushing settings apk to device...\r\n[ADB] Getting install status for io.appium.settings\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.settings&#39;\r\n[ADB] &#39;io.appium.settings&#39; is installed\r\n[ADB] Getting package info for &#39;io.appium.settings&#39;\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.settings&#39;\r\n[ADB] The version name of the installed &#39;io.appium.settings&#39; is greater or equal to the application version name (&#39;3.4.0&#39; &gt;= &#39;3.4.0&#39;)\r\n[ADB] There is no need to install/upgrade &#39;/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/io.appium.settings/apks/settings_apk-debug.apk&#39;\r\n[ADB] Getting IDs of all &#39;io.appium.settings&#39; processes\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell &#39;pgrep --help; echo $?&#39;&#39;\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n[AndroidDriver] io.appium.settings is already running. There is no need to reset its permissions.\r\n[Logcat] Starting logs capture with command: /Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 logcat -v threadtime\r\n[UiAutomator2] Forwarding UiAutomator2 Server port 6790 to local port 8200\r\n[ADB] Forwarding system: 8200 to device: 6790\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 forward tcp:8200 tcp:6790&#39;\r\n[ADB] Getting install status for io.appium.uiautomator2.server\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.uiautomator2.server&#39;\r\n[ADB] &#39;io.appium.uiautomator2.server&#39; is installed\r\n[ADB] Getting package info for &#39;io.appium.uiautomator2.server&#39;\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.uiautomator2.server&#39;\r\n[ADB] The version name of the installed &#39;io.appium.uiautomator2.server&#39; is greater or equal to the application version name (&#39;4.27.0&#39; &gt;= &#39;4.27.0&#39;)\r\n[UiAutomator2] io.appium.uiautomator2.server installation state: sameVersionInstalled\r\n[ADB] Checking app cert for /Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-server/apks/appium-uiautomator2-server-v4.27.0.apk\r\n[ADB] Using the previously cached signature entry for &#39;appium-uiautomator2-server-v4.27.0.apk&#39;\r\n[ADB] sha256 hash did match for &#39;appium-uiautomator2-server-v4.27.0.apk&#39;\r\n[ADB] Getting install status for io.appium.uiautomator2.server.test\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.uiautomator2.server.test&#39;\r\n[ADB] &#39;io.appium.uiautomator2.server.test&#39; is installed\r\n[ADB] Checking app cert for /Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-server/apks/appium-uiautomator2-server-debug-androidTest.apk\r\n[ADB] Using the previously cached signature entry for &#39;appium-uiautomator2-server-debug-androidTest.apk&#39;\r\n[ADB] sha256 hash did match for &#39;appium-uiautomator2-server-debug-androidTest.apk&#39;\r\n[UiAutomator2] Server packages are not going to be (re)installed\r\n[UiAutomator2] Waiting up to 30000ms for services to be available\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell pm list instrumentation&#39;\r\n[UiAutomator2] Instrumentation target &#39;io.appium.uiautomator2.server.test/androidx.test.runner.AndroidJUnitRunner&#39; is available\r\n[ADB] Adding packages [&quot;io.appium.settings&quot;,&quot;io.appium.uiautomator2.server&quot;,&quot;io.appium.uiautomator2.server.test&quot;] to Doze whitelist\r\n[ADB] Got the following command chunks to execute: [[&quot;dumpsys&quot;,&quot;deviceidle&quot;,&quot;whitelist&quot;,&quot;+io.appium.settings&quot;,&quot;;&quot;,&quot;dumpsys&quot;,&quot;deviceidle&quot;,&quot;whitelist&quot;,&quot;+io.appium.uiautomator2.server&quot;,&quot;;&quot;,&quot;dumpsys&quot;,&quot;deviceidle&quot;,&quot;whitelist&quot;,&quot;+io.appium.uiautomator2.server.test&quot;,&quot;;&quot;]]\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys deviceidle whitelist +io.appium.settings ; dumpsys deviceidle whitelist +io.appium.uiautomator2.server ; dumpsys deviceidle whitelist +io.appium.uiautomator2.server.test ;&#39;\r\n[ADB] Checking app cert for //Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk\r\n[ADB] Using the previously cached signature entry for &#39;ApiDemos-debug.apk&#39;\r\n[ADB] Getting install status for io.appium.android.apis\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.android.apis&#39;\r\n[ADB] &#39;io.appium.android.apis&#39; is installed\r\n[ADB] Getting package info for &#39;io.appium.android.apis&#39;\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.android.apis&#39;\r\n[ADB] The version name of the installed &#39;io.appium.android.apis&#39; is greater or equal to the application version name (&#39;4.0.0&#39; &gt;= &#39;4.0.0&#39;)\r\n[ADB] There is no need to install/upgrade &#39;//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk&#39;\r\n[AndroidDriver] Performing fast reset on &#39;io.appium.android.apis&#39;\r\n[ADB] Getting install status for io.appium.android.apis\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.android.apis&#39;\r\n[ADB] &#39;io.appium.android.apis&#39; is installed\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell am force-stop io.appium.android.apis&#39;\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell pm clear io.appium.android.apis&#39;\r\n[AndroidDriver] Performed fast reset on the installed &#39;io.appium.android.apis&#39; application (stop and clear)\r\n[UiAutomator2] Performing shallow cleanup of automation leftovers\r\n[UiAutomator2] No obsolete sessions have been detected (socket hang up)\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell am force-stop io.appium.uiautomator2.server.test&#39;\r\n[UiAutomator2] Starting UIAutomator2 server 4.27.0\r\n[UiAutomator2] Using UIAutomator2 server from &#39;/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-server/apks/appium-uiautomator2-server-v4.27.0.apk&#39; and test from &#39;/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-server/apks/appium-uiautomator2-server-debug-androidTest.apk&#39;\r\n[UiAutomator2] Waiting up to 30000ms for UiAutomator2 to be online...\r\n[ADB] Creating ADB subprocess with args: [&quot;-P&quot;,5037,&quot;-s&quot;,&quot;emulator-5554&quot;,&quot;shell&quot;,&quot;am&quot;,&quot;instrument&quot;,&quot;-w&quot;,&quot;-e&quot;,&quot;disableAnalytics&quot;,true,&quot;io.appium.uiautomator2.server.test/androidx.test.runner.AndroidJUnitRunner&quot;]\r\n[WD Proxy] Matched &#39;/status&#39; to command name &#39;getStatus&#39;\r\n[WD Proxy] Proxying [GET /status] to [GET http://127.0.0.1:8200/wd/hub/status] with no body\r\n[WD Proxy] socket hang up\r\n[Instrumentation] INSTRUMENTATION_RESULT: shortMsg=Process crashed.\r\n[Instrumentation] INSTRUMENTATION_CODE: 0\r\n[Instrumentation] The process has exited with code 0\r\n[UiAutomator2] The instrumentation process has been unexpectedly terminated. Retrying UiAutomator2 startup (#1 of 1)\r\n[UiAutomator2] Performing strict cleanup of automation leftovers\r\n[UiAutomator2] No obsolete sessions have been detected (socket hang up)\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell am force-stop io.appium.uiautomator2.server.test&#39;\r\n[ADB] Attempting to kill all uiautomator processes\r\n[ADB] Getting IDs of all &#39;uiautomator&#39; processes\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)uiautomator\\(\\[\\[:blank:\\]\\]\\|\\$\\)&#39;\r\n[ADB] No &#39;uiautomator&#39; process has been found\r\n[UiAutomator2] Waiting up to 30000ms for UiAutomator2 to be online...\r\n[ADB] Creating ADB subprocess with args: [&quot;-P&quot;,5037,&quot;-s&quot;,&quot;emulator-5554&quot;,&quot;shell&quot;,&quot;am&quot;,&quot;instrument&quot;,&quot;-w&quot;,&quot;-e&quot;,&quot;disableAnalytics&quot;,true,&quot;io.appium.uiautomator2.server.test/androidx.test.runner.AndroidJUnitRunner&quot;]\r\n[WD Proxy] Matched &#39;/status&#39; to command name &#39;getStatus&#39;\r\n[WD Proxy] Proxying [GET /status] to [GET http://127.0.0.1:8200/wd/hub/status] with no body\r\n[WD Proxy] socket hang up\r\n[Instrumentation] INSTRUMENTATION_RESULT: shortMsg=Process crashed.\r\n[Instrumentation] INSTRUMENTATION_CODE: 0\r\n[Instrumentation] The process has exited with code 0\r\n[UiAutomator2] The instrumentation process cannot be initialized. Make sure the application under test does not crash and investigate the logcat output.\r\n[UiAutomator2] Deleting UiAutomator2 session\r\n[UiAutomator2] Deleting UiAutomator2 server session\r\n[UiAutomator2] Did not get confirmation UiAutomator2 deleteSession worked; Error was: UnknownError: An unknown server-side error occurred while processing the command. Original error: &#39;DELETE /&#39; cannot be proxied to UiAutomator2 server because the instrumentation process is not running (probably crashed). Check the server log and/or the logcat output for more details\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell am force-stop io.appium.android.apis&#39;\r\n[Logcat] Stopping logcat capture\r\n[ADB] Removing forwarded port socket connection: 8200 \r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 forward --remove tcp:8200&#39;\r\n[UiAutomator2] Restoring hidden api policy to the device default configuration\r\n[ADB] Running &#39;/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell &#39;settings delete global hidden_api_policy_pre_p_apps;settings delete global hidden_api_policy_p_apps;settings delete global hidden_api_policy&#39;&#39;\r\n[BaseDriver] Event &#39;newSessionStarted&#39; logged at 1661132209667 (20:36:49 GMT-0500 (Central Daylight Time))\r\n[W3C] Encountered internal error running command: Error: The instrumentation process cannot be initialized. Make sure the application under test does not crash and investigate the logcat output.\r\n[W3C]     at Object.errorAndThrow (/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-support/lib/logging.js:94:35)\r\n[W3C]     at UiAutomator2Server.startSession (/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-driver/lib/uiautomator2.js:247:13)\r\n[W3C]     at AndroidUiautomator2Driver.startUiAutomator2Session (/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-driver/lib/driver.js:416:5)\r\n[W3C]     at AndroidUiautomator2Driver.createSession (/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-driver/lib/driver.js:229:7)\r\n[W3C]     at AppiumDriver.createSession (/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/lib/appium.js:387:35)\r\n[HTTP] &lt;-- POST /wd/hub/session 500 6434 ms - 859\r\n[HTTP]\r\n```\r\nThe simulator is running but the application is not deployed and installed. I tried solutions where people was asking to check Android sdk/tools and but all is up to date and saved in the bash profile.\r\n\r\nIn the appium logs you can see the session is created.\r\n \r\nAnyone has an idea what wrong i am doing?","title":"Original error: The instrumentation process cannot be initialized","body":"<p>I am getting following error when trying to launch the application in simulator:</p>\n<pre><code>[RemoteTestNG] detected TestNG version 7.6.1\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nFAILED: mobile.tutorial.Exercise.AppiumTest\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: The instrumentation process cannot be initialized. Make sure the application under test does not crash and investigate the logcat output.\nBuild info: version: '4.4.0', revision: 'e5c75ed026a'\nSystem info: host: 'Pranjals-MacBook-Pro.local', ip: 'fe80:0:0:0:14f7:9f61:777f:238c%en0', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '12.5', java.version: '11.0.15.1'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [null, newSession {capabilities=[{appium:app=//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk, appium:deviceName=Nexus 5 API R, platformName=ANDROID}], desiredCapabilities=Capabilities {app: //Users//pranjal//eclipse-w..., deviceName: Nexus 5 API R, platformName: ANDROID}}]\nCapabilities {}\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:144)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:126)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\n    at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:146)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:180)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:224)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:79)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:87)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:116)\n    at mobile.tutorial.Exercise.AppiumTest(Exercise.java:22)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.testng.TestRunner.privateRun(TestRunner.java:806)\n    at org.testng.TestRunner.run(TestRunner.java:601)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\n    at org.testng.TestNG.run(TestNG.java:1067)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n\n\n===============================================\n    Default test\n    Tests run: 1, Failures: 1, Skips: 0\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 1, Passes: 0, Failures: 1, Skips: 0\n===============================================\n\n</code></pre>\n<p>I have tried using DesiredCapabilities and UiAutomator2Options but I get the same error.</p>\n<p>Following is the code that I am using:</p>\n<pre><code>DesiredCapabilities capabilities = new DesiredCapabilities();\n        capabilities.setCapability(&quot;app&quot;, &quot;//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk&quot;);\n        capabilities.setCapability(&quot;platformName&quot;, &quot;Android&quot;);\n        capabilities.setCapability(&quot;deviceName&quot;,&quot;Nexus 5 API R&quot;);   \n        AndroidDriver driver = new AndroidDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;),capabilities);\n</code></pre>\n<p>UiAutomator2Options</p>\n<pre><code>        UiAutomator2Options options = new UiAutomator2Options();\n        options.setDeviceName(&quot;Nexus 5 API R&quot;);\n        options.setApp(&quot;//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk&quot;);\n        \n        AndroidDriver driver = new AndroidDriver(new URL(&quot;http://0.0.0.0:4723/wd/hub&quot;),options);\n</code></pre>\n<p>Selenium Appium logs:</p>\n<pre><code>HHTTP] Waiting until the server is closed\n[HTTP] Received server close event\n[Appium] Welcome to Appium v1.22.3\n[Appium] Non-default server args:\n[Appium]   relaxedSecurityEnabled: true\n[Appium]   allowInsecure: {\n[Appium]   }\n[Appium]   denyInsecure: {\n[Appium]   }\n[Appium] Appium REST http interface listener started on 0.0.0.0:4723\n[HTTP] Request idempotency key: 8c85cfdf-b326-4ae6-9e79-de067f5f8e59\n[HTTP] --&gt; POST /wd/hub/session\n[HTTP] {&quot;capabilities&quot;:{&quot;firstMatch&quot;:[{}],&quot;alwaysMatch&quot;:{&quot;appium:app&quot;:&quot;//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk&quot;,&quot;appium:deviceName&quot;:&quot;Nexus 5 API R&quot;,&quot;platformName&quot;:&quot;android&quot;}}}\n[W3C] Calling AppiumDriver.createSession() with args: [null,null,{&quot;firstMatch&quot;:[{}],&quot;alwaysMatch&quot;:{&quot;appium:app&quot;:&quot;//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk&quot;,&quot;appium:deviceName&quot;:&quot;Nexus 5 API R&quot;,&quot;platformName&quot;:&quot;android&quot;}}]\n[BaseDriver] Event 'newSessionRequested' logged at 1661132203235 (20:36:43 GMT-0500 (Central Daylight Time))\n[Appium] \n[Appium] ======================================================================\n[Appium]   DEPRECATION WARNING:\n[Appium] \n[Appium]   The 'automationName' capability was not provided in the desired \n[Appium]   capabilities for this Android session\n[Appium] \n[Appium]   Setting 'automationName=UiAutomator2' by default and using the \n[Appium]   UiAutomator2 Driver\n[Appium] \n[Appium]   The next major version of Appium (2.x) will **require** the \n[Appium]   'automationName' capability to be set for all sessions on all \n[Appium]   platforms\n[Appium] \n[Appium]   In previous versions (Appium &lt;= 1.13.x), the default was \n[Appium]   'automationName=UiAutomator1'\n[Appium] \n[Appium]   If you wish to use that automation instead of UiAutomator2, please \n[Appium]   add 'automationName=UiAutomator1' to your desired capabilities\n[Appium] \n[Appium]   For more information about drivers, please visit \n[Appium]   http://appium.io/docs/en/about-appium/intro/ and explore the \n[Appium]   'Drivers' menu\n[Appium] \n[Appium] ======================================================================\n[Appium] \n[Appium] Appium v1.22.3 creating new AndroidUiautomator2Driver (v1.70.1) session\n[Appium] Applying relaxed security to 'AndroidUiautomator2Driver' as per server command line argument. All insecure features will be enabled unless explicitly disabled by --deny-insecure\n[BaseDriver] Creating session with W3C capabilities: {\n[BaseDriver]   &quot;alwaysMatch&quot;: {\n[BaseDriver]     &quot;platformName&quot;: &quot;android&quot;,\n[BaseDriver]     &quot;appium:app&quot;: &quot;//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk&quot;,\n[BaseDriver]     &quot;appium:deviceName&quot;: &quot;Nexus 5 API R&quot;\n[BaseDriver]   },\n[BaseDriver]   &quot;firstMatch&quot;: [\n[BaseDriver]     {}\n[BaseDriver]   ]\n[BaseDriver] }\n[BaseDriver] Session created with session id: 73660627-8680-4052-982b-1642dc26b1bf\n[BaseDriver] Using local app '//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk'\n[UiAutomator2] Checking whether app is actually present\n[ADB] Using 'adb' from '/Users/pranjal/Library/Android/sdk/platform-tools/adb'\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 start-server'\n[AndroidDriver] Retrieving device list\n[ADB] Trying to find a connected android device\n[ADB] Getting connected devices\n[ADB] Connected devices: [{&quot;udid&quot;:&quot;emulator-5554&quot;,&quot;state&quot;:&quot;device&quot;}]\n[AndroidDriver] Using device: emulator-5554\n[ADB] Using 'adb' from '/Users/pranjal/Library/Android/sdk/platform-tools/adb'\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 start-server'\n[ADB] Setting device id to emulator-5554\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk'\n[ADB] Current device property 'ro.build.version.sdk': 29\n[ADB] Getting device platform version\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell getprop ro.build.version.release'\n[ADB] Current device property 'ro.build.version.release': 10\n[ADB] Device API level: 29\n[UiAutomator2] Relaxing hidden api policy\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell 'settings put global hidden_api_policy_pre_p_apps 1;settings put global hidden_api_policy_p_apps 1;settings put global hidden_api_policy 1''\n[AndroidDriver] Parsing package and activity from app manifest\n[ADB] Package name: 'io.appium.android.apis'\n[ADB] Main activity name: 'io.appium.android.apis.ApiDemos'\n[AndroidDriver] Parsed package and activity are: io.appium.android.apis/io.appium.android.apis.ApiDemos\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 wait-for-device'\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell echo ping'\n[AndroidDriver] Pushing settings apk to device...\n[ADB] Getting install status for io.appium.settings\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.settings'\n[ADB] 'io.appium.settings' is installed\n[ADB] Getting package info for 'io.appium.settings'\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.settings'\n[ADB] The version name of the installed 'io.appium.settings' is greater or equal to the application version name ('3.4.0' &gt;= '3.4.0')\n[ADB] There is no need to install/upgrade '/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/io.appium.settings/apks/settings_apk-debug.apk'\n[ADB] Getting IDs of all 'io.appium.settings' processes\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell 'pgrep --help; echo $?''\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)io\\.appium\\.settings\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[AndroidDriver] io.appium.settings is already running. There is no need to reset its permissions.\n[Logcat] Starting logs capture with command: /Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 logcat -v threadtime\n[UiAutomator2] Forwarding UiAutomator2 Server port 6790 to local port 8200\n[ADB] Forwarding system: 8200 to device: 6790\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 forward tcp:8200 tcp:6790'\n[ADB] Getting install status for io.appium.uiautomator2.server\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.uiautomator2.server'\n[ADB] 'io.appium.uiautomator2.server' is installed\n[ADB] Getting package info for 'io.appium.uiautomator2.server'\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.uiautomator2.server'\n[ADB] The version name of the installed 'io.appium.uiautomator2.server' is greater or equal to the application version name ('4.27.0' &gt;= '4.27.0')\n[UiAutomator2] io.appium.uiautomator2.server installation state: sameVersionInstalled\n[ADB] Checking app cert for /Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-server/apks/appium-uiautomator2-server-v4.27.0.apk\n[ADB] Using the previously cached signature entry for 'appium-uiautomator2-server-v4.27.0.apk'\n[ADB] sha256 hash did match for 'appium-uiautomator2-server-v4.27.0.apk'\n[ADB] Getting install status for io.appium.uiautomator2.server.test\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.uiautomator2.server.test'\n[ADB] 'io.appium.uiautomator2.server.test' is installed\n[ADB] Checking app cert for /Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-server/apks/appium-uiautomator2-server-debug-androidTest.apk\n[ADB] Using the previously cached signature entry for 'appium-uiautomator2-server-debug-androidTest.apk'\n[ADB] sha256 hash did match for 'appium-uiautomator2-server-debug-androidTest.apk'\n[UiAutomator2] Server packages are not going to be (re)installed\n[UiAutomator2] Waiting up to 30000ms for services to be available\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell pm list instrumentation'\n[UiAutomator2] Instrumentation target 'io.appium.uiautomator2.server.test/androidx.test.runner.AndroidJUnitRunner' is available\n[ADB] Adding packages [&quot;io.appium.settings&quot;,&quot;io.appium.uiautomator2.server&quot;,&quot;io.appium.uiautomator2.server.test&quot;] to Doze whitelist\n[ADB] Got the following command chunks to execute: [[&quot;dumpsys&quot;,&quot;deviceidle&quot;,&quot;whitelist&quot;,&quot;+io.appium.settings&quot;,&quot;;&quot;,&quot;dumpsys&quot;,&quot;deviceidle&quot;,&quot;whitelist&quot;,&quot;+io.appium.uiautomator2.server&quot;,&quot;;&quot;,&quot;dumpsys&quot;,&quot;deviceidle&quot;,&quot;whitelist&quot;,&quot;+io.appium.uiautomator2.server.test&quot;,&quot;;&quot;]]\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys deviceidle whitelist +io.appium.settings ; dumpsys deviceidle whitelist +io.appium.uiautomator2.server ; dumpsys deviceidle whitelist +io.appium.uiautomator2.server.test ;'\n[ADB] Checking app cert for //Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk\n[ADB] Using the previously cached signature entry for 'ApiDemos-debug.apk'\n[ADB] Getting install status for io.appium.android.apis\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.android.apis'\n[ADB] 'io.appium.android.apis' is installed\n[ADB] Getting package info for 'io.appium.android.apis'\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.android.apis'\n[ADB] The version name of the installed 'io.appium.android.apis' is greater or equal to the application version name ('4.0.0' &gt;= '4.0.0')\n[ADB] There is no need to install/upgrade '//Users//pranjal//eclipse-workspace//MobileAutomationLearning//src//test//java//resources//ApiDemos-debug.apk'\n[AndroidDriver] Performing fast reset on 'io.appium.android.apis'\n[ADB] Getting install status for io.appium.android.apis\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell dumpsys package io.appium.android.apis'\n[ADB] 'io.appium.android.apis' is installed\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell am force-stop io.appium.android.apis'\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell pm clear io.appium.android.apis'\n[AndroidDriver] Performed fast reset on the installed 'io.appium.android.apis' application (stop and clear)\n[UiAutomator2] Performing shallow cleanup of automation leftovers\n[UiAutomator2] No obsolete sessions have been detected (socket hang up)\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell am force-stop io.appium.uiautomator2.server.test'\n[UiAutomator2] Starting UIAutomator2 server 4.27.0\n[UiAutomator2] Using UIAutomator2 server from '/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-server/apks/appium-uiautomator2-server-v4.27.0.apk' and test from '/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-server/apks/appium-uiautomator2-server-debug-androidTest.apk'\n[UiAutomator2] Waiting up to 30000ms for UiAutomator2 to be online...\n[ADB] Creating ADB subprocess with args: [&quot;-P&quot;,5037,&quot;-s&quot;,&quot;emulator-5554&quot;,&quot;shell&quot;,&quot;am&quot;,&quot;instrument&quot;,&quot;-w&quot;,&quot;-e&quot;,&quot;disableAnalytics&quot;,true,&quot;io.appium.uiautomator2.server.test/androidx.test.runner.AndroidJUnitRunner&quot;]\n[WD Proxy] Matched '/status' to command name 'getStatus'\n[WD Proxy] Proxying [GET /status] to [GET http://127.0.0.1:8200/wd/hub/status] with no body\n[WD Proxy] socket hang up\n[Instrumentation] INSTRUMENTATION_RESULT: shortMsg=Process crashed.\n[Instrumentation] INSTRUMENTATION_CODE: 0\n[Instrumentation] The process has exited with code 0\n[UiAutomator2] The instrumentation process has been unexpectedly terminated. Retrying UiAutomator2 startup (#1 of 1)\n[UiAutomator2] Performing strict cleanup of automation leftovers\n[UiAutomator2] No obsolete sessions have been detected (socket hang up)\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell am force-stop io.appium.uiautomator2.server.test'\n[ADB] Attempting to kill all uiautomator processes\n[ADB] Getting IDs of all 'uiautomator' processes\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell pgrep -f \\(\\[\\[:blank:\\]\\]\\|\\^\\)uiautomator\\(\\[\\[:blank:\\]\\]\\|\\$\\)'\n[ADB] No 'uiautomator' process has been found\n[UiAutomator2] Waiting up to 30000ms for UiAutomator2 to be online...\n[ADB] Creating ADB subprocess with args: [&quot;-P&quot;,5037,&quot;-s&quot;,&quot;emulator-5554&quot;,&quot;shell&quot;,&quot;am&quot;,&quot;instrument&quot;,&quot;-w&quot;,&quot;-e&quot;,&quot;disableAnalytics&quot;,true,&quot;io.appium.uiautomator2.server.test/androidx.test.runner.AndroidJUnitRunner&quot;]\n[WD Proxy] Matched '/status' to command name 'getStatus'\n[WD Proxy] Proxying [GET /status] to [GET http://127.0.0.1:8200/wd/hub/status] with no body\n[WD Proxy] socket hang up\n[Instrumentation] INSTRUMENTATION_RESULT: shortMsg=Process crashed.\n[Instrumentation] INSTRUMENTATION_CODE: 0\n[Instrumentation] The process has exited with code 0\n[UiAutomator2] The instrumentation process cannot be initialized. Make sure the application under test does not crash and investigate the logcat output.\n[UiAutomator2] Deleting UiAutomator2 session\n[UiAutomator2] Deleting UiAutomator2 server session\n[UiAutomator2] Did not get confirmation UiAutomator2 deleteSession worked; Error was: UnknownError: An unknown server-side error occurred while processing the command. Original error: 'DELETE /' cannot be proxied to UiAutomator2 server because the instrumentation process is not running (probably crashed). Check the server log and/or the logcat output for more details\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell am force-stop io.appium.android.apis'\n[Logcat] Stopping logcat capture\n[ADB] Removing forwarded port socket connection: 8200 \n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 forward --remove tcp:8200'\n[UiAutomator2] Restoring hidden api policy to the device default configuration\n[ADB] Running '/Users/pranjal/Library/Android/sdk/platform-tools/adb -P 5037 -s emulator-5554 shell 'settings delete global hidden_api_policy_pre_p_apps;settings delete global hidden_api_policy_p_apps;settings delete global hidden_api_policy''\n[BaseDriver] Event 'newSessionStarted' logged at 1661132209667 (20:36:49 GMT-0500 (Central Daylight Time))\n[W3C] Encountered internal error running command: Error: The instrumentation process cannot be initialized. Make sure the application under test does not crash and investigate the logcat output.\n[W3C]     at Object.errorAndThrow (/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-support/lib/logging.js:94:35)\n[W3C]     at UiAutomator2Server.startSession (/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-driver/lib/uiautomator2.js:247:13)\n[W3C]     at AndroidUiautomator2Driver.startUiAutomator2Session (/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-driver/lib/driver.js:416:5)\n[W3C]     at AndroidUiautomator2Driver.createSession (/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/node_modules/appium-uiautomator2-driver/lib/driver.js:229:7)\n[W3C]     at AppiumDriver.createSession (/Applications/Appium Server GUI.app/Contents/Resources/app/node_modules/appium/lib/appium.js:387:35)\n[HTTP] &lt;-- POST /wd/hub/session 500 6434 ms - 859\n[HTTP]\n</code></pre>\n<p>The simulator is running but the application is not deployed and installed. I tried solutions where people was asking to check Android sdk/tools and but all is up to date and saved in the bash profile.</p>\n<p>In the appium logs you can see the session is created.</p>\n<p>Anyone has an idea what wrong i am doing?</p>\n"},{"tags":["java","visual-studio-code","brackets"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661134725,"creation_date":1661134725,"answer_id":73439608,"question_id":73411410,"body_markdown":"1. &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt; to open the command palette, type and select **Java:Open Java Formatter Settings**\r\n\r\n   [![enter image description here][1]][1]\r\n\r\n2. Modify the following in the open file\r\n\r\n```xml\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_annotation_type_declaration&quot; value=&quot;end_of_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_anonymous_type_declaration&quot; value=&quot;end_of_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_array_initializer&quot; value=&quot;end_of_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_block_in_case&quot; value=&quot;end_of_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_block&quot; value=&quot;end_of_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_constructor_declaration&quot; value=&quot;end_of_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_enum_constant&quot; value=&quot;end_of_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_enum_declaration&quot; value=&quot;end_of_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_lambda_body&quot; value=&quot;end_of_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_method_declaration&quot; value=&quot;end_of_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_switch&quot; value=&quot;end_of_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_type_declaration&quot; value=&quot;end_of_line&quot;/&gt;\r\n```\r\n\r\nchange into\r\n\r\n```xml\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_annotation_type_declaration&quot; value=&quot;next_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_anonymous_type_declaration&quot; value=&quot;end_of_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_array_initializer&quot; value=&quot;next_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_block_in_case&quot; value=&quot;next_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_block&quot; value=&quot;next_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_constructor_declaration&quot; value=&quot;next_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_enum_constant&quot; value=&quot;next_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_enum_declaration&quot; value=&quot;next_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_lambda_body&quot; value=&quot;next_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_method_declaration&quot; value=&quot;next_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_switch&quot; value=&quot;next_line&quot;/&gt;\r\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_type_declaration&quot; value=&quot;next_line&quot;/&gt;\r\n```\r\n\r\n3. After the modification is completed, open the settings and find the **java.format.settings.url** setting item. Enter the path of the file you just modified\r\n\r\n   [![enter image description here][2]][2]\r\n\r\n4. restart VS Code\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OxqYr.png\r\n  [2]: https://i.stack.imgur.com/Dr1p9.png","title":"How to add bracket formatting when typing in typing in visual studio code","body":"<ol>\n<li><p><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> to open the command palette, type and select <strong>Java:Open Java Formatter Settings</strong></p>\n<p><a href=\"https://i.stack.imgur.com/OxqYr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OxqYr.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Modify the following in the open file</p>\n</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_annotation_type_declaration&quot; value=&quot;end_of_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_anonymous_type_declaration&quot; value=&quot;end_of_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_array_initializer&quot; value=&quot;end_of_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_block_in_case&quot; value=&quot;end_of_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_block&quot; value=&quot;end_of_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_constructor_declaration&quot; value=&quot;end_of_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_enum_constant&quot; value=&quot;end_of_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_enum_declaration&quot; value=&quot;end_of_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_lambda_body&quot; value=&quot;end_of_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_method_declaration&quot; value=&quot;end_of_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_switch&quot; value=&quot;end_of_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_type_declaration&quot; value=&quot;end_of_line&quot;/&gt;\n</code></pre>\n<p>change into</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_annotation_type_declaration&quot; value=&quot;next_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_anonymous_type_declaration&quot; value=&quot;end_of_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_array_initializer&quot; value=&quot;next_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_block_in_case&quot; value=&quot;next_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_block&quot; value=&quot;next_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_constructor_declaration&quot; value=&quot;next_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_enum_constant&quot; value=&quot;next_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_enum_declaration&quot; value=&quot;next_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_lambda_body&quot; value=&quot;next_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_method_declaration&quot; value=&quot;next_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_switch&quot; value=&quot;next_line&quot;/&gt;\n&lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_type_declaration&quot; value=&quot;next_line&quot;/&gt;\n</code></pre>\n<ol start=\"3\">\n<li><p>After the modification is completed, open the settings and find the <strong>java.format.settings.url</strong> setting item. Enter the path of the file you just modified</p>\n<p><a href=\"https://i.stack.imgur.com/Dr1p9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dr1p9.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>restart VS Code</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26103600,"reputation":11,"user_id":19798624,"display_name":"Jamie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661134725,"creation_date":1660877674,"question_id":73411410,"body_markdown":"when writing in visual studio code my brackets used to automatically format as \r\n\r\n```java\r\nfunction(){\r\n   //cursor here \r\n}\r\n```\r\nhowever now it automaticly formats as \r\n```java\r\nfunction(){\r\n//cursor here}\r\n```\r\nI have cruised through stack overflow and user settings in vs code but failed to find anything of use. \r\n\r\nSpecifically in java","title":"How to add bracket formatting when typing in typing in visual studio code","body":"<p>when writing in visual studio code my brackets used to automatically format as</p>\n<pre class=\"lang-java prettyprint-override\"><code>function(){\n   //cursor here \n}\n</code></pre>\n<p>however now it automaticly formats as</p>\n<pre class=\"lang-java prettyprint-override\"><code>function(){\n//cursor here}\n</code></pre>\n<p>I have cruised through stack overflow and user settings in vs code but failed to find anything of use.</p>\n<p>Specifically in java</p>\n"},{"tags":["java","spring","security","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1418760434,"post_id":27510849,"comment_id":43456242,"body_markdown":"This is not an exact answer to you question, but it is an approach that works for me since years: http://stackoverflow.com/a/22612076/280244","body":"This is not an exact answer to you question, but it is an approach that works for me since years: <a href=\"http://stackoverflow.com/a/22612076/280244\">stackoverflow.com/a/22612076/280244</a>"}],"answers":[{"tags":[],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1490873217,"creation_date":1490873217,"answer_id":43116557,"question_id":27510849,"body_markdown":"Since this question keeps getting views I thought I&#39;d post a follow-up to it. The problem appears to be with the line\r\n\r\n```\r\nroleHierarchy.setHierarchy(&quot;ROLE_ADMIN &gt; ROLE_USER &gt; ROLE_DEFAULT&quot;);\r\n```\r\n\r\nI don&#39;t remember why I wrote the hierarchy like that but it&#39;s not correct. The [API for that method][1] handles the same situation thusly:\r\n\r\n&gt; **Role hierarchy:** ROLE_A &gt; ROLE_B and ROLE_B &gt; ROLE_C.&lt;br&gt;\r\n&gt; **Directly assigned authority:** ROLE_A.&lt;br&gt;\r\n&gt; **Reachable authorities:** ROLE_A, ROLE_B, ROLE_C.\r\n\r\n  Eventually it became clear that a hierarchical model didn&#39;t fit our roles so we instead implemented a finer-grained set of authorities mapped to roles, as mentioned in the [Spring Security Reference][2]:\r\n\r\n&gt;For more complex requirements you may wish to define a logical mapping between the specific access-rights your application requires and the roles that are assigned to users, translating between the two when loading the user information. \r\n\r\n\r\n  [1]: http://docs.spring.io/spring-security/site/docs/4.0.0.RELEASE/apidocs/org/springframework/security/access/hierarchicalroles/RoleHierarchyImpl.html#setHierarchy%28java.lang.String%29\r\n  [2]: https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#authz-hierarchical-roles","title":"Spring Security 3.2 - configuring global method security to use role hierarchy","body":"<p>Since this question keeps getting views I thought I'd post a follow-up to it. The problem appears to be with the line</p>\n\n<p><code>\nroleHierarchy.setHierarchy(\"ROLE_ADMIN &gt; ROLE_USER &gt; ROLE_DEFAULT\");\n</code></p>\n\n<p>I don't remember why I wrote the hierarchy like that but it's not correct. The <a href=\"http://docs.spring.io/spring-security/site/docs/4.0.0.RELEASE/apidocs/org/springframework/security/access/hierarchicalroles/RoleHierarchyImpl.html#setHierarchy%28java.lang.String%29\" rel=\"nofollow noreferrer\">API for that method</a> handles the same situation thusly:</p>\n\n<blockquote>\n  <p><strong>Role hierarchy:</strong> ROLE_A > ROLE_B and ROLE_B > ROLE_C.<br>\n  <strong>Directly assigned authority:</strong> ROLE_A.<br>\n  <strong>Reachable authorities:</strong> ROLE_A, ROLE_B, ROLE_C.</p>\n</blockquote>\n\n<p>Eventually it became clear that a hierarchical model didn't fit our roles so we instead implemented a finer-grained set of authorities mapped to roles, as mentioned in the <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#authz-hierarchical-roles\" rel=\"nofollow noreferrer\">Spring Security Reference</a>:</p>\n\n<blockquote>\n  <p>For more complex requirements you may wish to define a logical mapping between the specific access-rights your application requires and the roles that are assigned to users, translating between the two when loading the user information. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":949732,"reputation":1711,"user_id":976115,"accept_rate":43,"display_name":"hurelhuyag"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661134282,"creation_date":1661134282,"answer_id":73439570,"question_id":27510849,"body_markdown":"I&#39;d override `GlobalMethodSecurityConfiguration#accessDecisionManager` method. You can [see][1] source code that RoleVoter uses. \r\n\r\nHere is my suggested overridden source code.\r\n\r\n```\r\n    @Override\r\n    protected AccessDecisionManager accessDecisionManager() {\r\n        var roleHierarchy = new RoleHierarchyImpl();\r\n        roleHierarchy.setHierarchy(&quot;ROLE_SUPER &gt; ROLE_ADMIN&quot;);\r\n        \r\n        var expressionHandler = (DefaultMethodSecurityExpressionHandler) getExpressionHandler();\r\n        expressionHandler.setRoleHierarchy(roleHierarchy);\r\n\r\n        var expressionAdvice = new ExpressionBasedPreInvocationAdvice();\r\n        expressionAdvice.setExpressionHandler(expressionHandler);\r\n\r\n        return new AffirmativeBased(List.of(\r\n                new RoleHierarchyVoter(roleHierarchy),\r\n                new PreInvocationAuthorizationAdviceVoter(expressionAdvice),\r\n                new AuthenticatedVoter(),\r\n                new Jsr250Voter()\r\n        ));\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/method/configuration/GlobalMethodSecurityConfiguration.java#L250","title":"Spring Security 3.2 - configuring global method security to use role hierarchy","body":"<p>I'd override <code>GlobalMethodSecurityConfiguration#accessDecisionManager</code> method. You can <a href=\"https://github.com/spring-projects/spring-security/blob/main/config/src/main/java/org/springframework/security/config/annotation/method/configuration/GlobalMethodSecurityConfiguration.java#L250\" rel=\"nofollow noreferrer\">see</a> source code that RoleVoter uses.</p>\n<p>Here is my suggested overridden source code.</p>\n<pre><code>    @Override\n    protected AccessDecisionManager accessDecisionManager() {\n        var roleHierarchy = new RoleHierarchyImpl();\n        roleHierarchy.setHierarchy(&quot;ROLE_SUPER &gt; ROLE_ADMIN&quot;);\n        \n        var expressionHandler = (DefaultMethodSecurityExpressionHandler) getExpressionHandler();\n        expressionHandler.setRoleHierarchy(roleHierarchy);\n\n        var expressionAdvice = new ExpressionBasedPreInvocationAdvice();\n        expressionAdvice.setExpressionHandler(expressionHandler);\n\n        return new AffirmativeBased(List.of(\n                new RoleHierarchyVoter(roleHierarchy),\n                new PreInvocationAuthorizationAdviceVoter(expressionAdvice),\n                new AuthenticatedVoter(),\n                new Jsr250Voter()\n        ));\n    }\n</code></pre>\n"}],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2056,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43116557,"answer_count":2,"score":0,"last_activity_date":1661134282,"creation_date":1418752300,"question_id":27510849,"body_markdown":"**Using Spring Security 3.2.5 and Spring 4.1.2, 100% Java config**\r\n\r\nOur webapp has global method security enabled and service methods annotated with `@PreAuthorize` - everything is working as expected.  I&#39;m trying to add a role hierarchy and having no success at all.  Here&#39;s the hierarchy I&#39;m trying to achieve:\r\n\r\n - ROLE_ADMIN can access all methods that ROLE_USER can access.\r\n - ROLE_USER can access all methods that ROLE_DEFAULT can access.\r\n\r\nDespite my best efforts, a user with ROLE_ADMIN receives a 403 when doing something that results in a call to a method annotated with `@PreAuthorized(&quot;hasAuthority(&#39;ROLE_DEFAULT&#39;)&quot;)`\r\n\r\n\r\n\r\nHere&#39;s the relevant configuration code:\r\n\r\n**AppInitializer**\r\n\r\n    public class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer\r\n    {\r\n      @Override\r\n      protected Class&lt;?&gt;[] getRootConfigClasses()\r\n      {\r\n        return new Class[]\r\n        {\r\n          AppConfig.class, SecurityConfig.class\r\n        };\r\n      }\r\n    \r\n      @Override\r\n      protected Class&lt;?&gt;[] getServletConfigClasses()\r\n      {\r\n        return new Class[]\r\n        {\r\n          MvcConfig.class\r\n        };\r\n      }\r\n      // other methods not shown for brevity\r\n    }\r\n    \r\n**AppConfig.java**\r\n    \r\n    @Configuration\r\n    @ComponentScan(basePackages={&quot;myapp.config.profile&quot;, &quot;myapp.dao&quot;, &quot;myapp.service&quot;, &quot;myapp.security&quot;})\r\n    public class AppConfig\r\n    {\r\n      @Autowired\r\n      public void configureGlobal(AuthenticationManagerBuilder auth,\r\n                                  AuthenticationUserDetailsService&lt;PreAuthenticatedAuthenticationToken&gt; detailSvc) throws Exception\r\n      {\r\n        PreAuthenticatedAuthenticationProvider authProvider = new PreAuthenticatedAuthenticationProvider();\r\n        authProvider.setPreAuthenticatedUserDetailsService(detailSvc);\r\n        auth.authenticationProvider(authProvider);\r\n      }\r\n      // other methods not shown for brevity\r\n    }\r\n    \r\n**SecurityConfig.java**    \r\n\r\n    @Configuration\r\n    @EnableWebMvcSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter\r\n    {\r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception\r\n      {\r\n        PKIAuthenticationFilter pkiFilter = new PKIAuthenticationFilter();\r\n        pkiFilter.setAuthenticationManager(authenticationManagerBean());\r\n    \r\n        http.authorizeRequests()\r\n            .antMatchers(&quot;/app/**&quot;).fullyAuthenticated()\r\n            .and()\r\n            .anonymous().disable()\r\n            .jee().disable()\r\n            .formLogin().disable()\r\n            .csrf().disable()\r\n            .x509().disable()\r\n            .addFilter(pkiFilter)\r\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n      }\r\n    \r\n      @Override\r\n      public void configure(WebSecurity web) throws Exception\r\n      {\r\n        // ignore everything but /app/*\r\n        web.ignoring().regexMatchers(&quot;^(?!/app/).*&quot;);\r\n      }\r\n    }\r\n    \r\n**MvcConfig.java**\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan({&quot;myapp.controller&quot;})\r\n    public class MvcConfig extends WebMvcConfigurerAdapter\r\n    {\r\n      // resource handlers, content negotiation, message converters configured here\r\n    }\r\n\r\n\r\n\r\n In the same package as `SecurityConfig` (so it is thus part of the `AppConfig` component scan) I had this class:\r\n\r\n**GlobalMethodSecurityConfig.java**\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled=true)\r\n    public class GlobalMethodSecurityConfig extends GlobalMethodSecurityConfiguration\r\n    {\r\n      @Bean\r\n      public RoleHierarchy roleHierarchy()\r\n      {\r\n        RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\r\n        roleHierarchy.setHierarchy(&quot;ROLE_ADMIN &gt; ROLE_USER &gt; ROLE_DEFAULT&quot;);\r\n        return roleHierarchy;\r\n      }\r\n    \r\n      @Bean\r\n      public RoleVoter roleVoter()\r\n      {\r\n        return new RoleHierarchyVoter(roleHierarchy);\r\n      }\r\n    \r\n      @Bean\r\n      @Override\r\n      protected AccessDecisionManager accessDecisionManager()\r\n      {\r\n        return new AffirmativeBased(Arrays.asList(roleVoter()));\r\n      }\r\n    \r\n      // The method below was added in an attempt to get things working but it is never called\r\n      @Override\r\n      protected MethodSecurityExpressionHandler createExpressionHandler()\r\n      {\r\n        DefaultMethodSecurityExpressionHandler handler = new DefaultMethodSecurityExpressionHandler();\r\n        handler.setRoleHierarchy(roleHierarchy());\r\n        return handler;\r\n      }\r\n    }\r\n\r\n\r\nIn another attempt I made `AppConfig` extend `GlobalMethodSecurityConfiguration` but a user with ROLE_ADMIN cannot call a method requiring ROLE_DEFAULT access.\r\n\r\nI&#39;m sure I&#39;ve misconfigured something somewhere but I can&#39;t figure out where I&#39;ve gone wrong despite reading everything I can find on configuring global method security with a role hierarchy.  It appears this would be trivial using XML configuration but the Java config solution eludes me.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Security 3.2 - configuring global method security to use role hierarchy","body":"<p><strong>Using Spring Security 3.2.5 and Spring 4.1.2, 100% Java config</strong></p>\n\n<p>Our webapp has global method security enabled and service methods annotated with <code>@PreAuthorize</code> - everything is working as expected.  I'm trying to add a role hierarchy and having no success at all.  Here's the hierarchy I'm trying to achieve:</p>\n\n<ul>\n<li>ROLE_ADMIN can access all methods that ROLE_USER can access.</li>\n<li>ROLE_USER can access all methods that ROLE_DEFAULT can access.</li>\n</ul>\n\n<p>Despite my best efforts, a user with ROLE_ADMIN receives a 403 when doing something that results in a call to a method annotated with <code>@PreAuthorized(\"hasAuthority('ROLE_DEFAULT')\")</code></p>\n\n<p>Here's the relevant configuration code:</p>\n\n<p><strong>AppInitializer</strong></p>\n\n<pre><code>public class AppInitializer extends AbstractAnnotationConfigDispatcherServletInitializer\n{\n  @Override\n  protected Class&lt;?&gt;[] getRootConfigClasses()\n  {\n    return new Class[]\n    {\n      AppConfig.class, SecurityConfig.class\n    };\n  }\n\n  @Override\n  protected Class&lt;?&gt;[] getServletConfigClasses()\n  {\n    return new Class[]\n    {\n      MvcConfig.class\n    };\n  }\n  // other methods not shown for brevity\n}\n</code></pre>\n\n<p><strong>AppConfig.java</strong></p>\n\n<pre><code>@Configuration\n@ComponentScan(basePackages={\"myapp.config.profile\", \"myapp.dao\", \"myapp.service\", \"myapp.security\"})\npublic class AppConfig\n{\n  @Autowired\n  public void configureGlobal(AuthenticationManagerBuilder auth,\n                              AuthenticationUserDetailsService&lt;PreAuthenticatedAuthenticationToken&gt; detailSvc) throws Exception\n  {\n    PreAuthenticatedAuthenticationProvider authProvider = new PreAuthenticatedAuthenticationProvider();\n    authProvider.setPreAuthenticatedUserDetailsService(detailSvc);\n    auth.authenticationProvider(authProvider);\n  }\n  // other methods not shown for brevity\n}\n</code></pre>\n\n<p><strong>SecurityConfig.java</strong>    </p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter\n{\n  @Override\n  protected void configure(HttpSecurity http) throws Exception\n  {\n    PKIAuthenticationFilter pkiFilter = new PKIAuthenticationFilter();\n    pkiFilter.setAuthenticationManager(authenticationManagerBean());\n\n    http.authorizeRequests()\n        .antMatchers(\"/app/**\").fullyAuthenticated()\n        .and()\n        .anonymous().disable()\n        .jee().disable()\n        .formLogin().disable()\n        .csrf().disable()\n        .x509().disable()\n        .addFilter(pkiFilter)\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n  }\n\n  @Override\n  public void configure(WebSecurity web) throws Exception\n  {\n    // ignore everything but /app/*\n    web.ignoring().regexMatchers(\"^(?!/app/).*\");\n  }\n}\n</code></pre>\n\n<p><strong>MvcConfig.java</strong></p>\n\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan({\"myapp.controller\"})\npublic class MvcConfig extends WebMvcConfigurerAdapter\n{\n  // resource handlers, content negotiation, message converters configured here\n}\n</code></pre>\n\n<p>In the same package as <code>SecurityConfig</code> (so it is thus part of the <code>AppConfig</code> component scan) I had this class:</p>\n\n<p><strong>GlobalMethodSecurityConfig.java</strong></p>\n\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled=true)\npublic class GlobalMethodSecurityConfig extends GlobalMethodSecurityConfiguration\n{\n  @Bean\n  public RoleHierarchy roleHierarchy()\n  {\n    RoleHierarchyImpl roleHierarchy = new RoleHierarchyImpl();\n    roleHierarchy.setHierarchy(\"ROLE_ADMIN &gt; ROLE_USER &gt; ROLE_DEFAULT\");\n    return roleHierarchy;\n  }\n\n  @Bean\n  public RoleVoter roleVoter()\n  {\n    return new RoleHierarchyVoter(roleHierarchy);\n  }\n\n  @Bean\n  @Override\n  protected AccessDecisionManager accessDecisionManager()\n  {\n    return new AffirmativeBased(Arrays.asList(roleVoter()));\n  }\n\n  // The method below was added in an attempt to get things working but it is never called\n  @Override\n  protected MethodSecurityExpressionHandler createExpressionHandler()\n  {\n    DefaultMethodSecurityExpressionHandler handler = new DefaultMethodSecurityExpressionHandler();\n    handler.setRoleHierarchy(roleHierarchy());\n    return handler;\n  }\n}\n</code></pre>\n\n<p>In another attempt I made <code>AppConfig</code> extend <code>GlobalMethodSecurityConfiguration</code> but a user with ROLE_ADMIN cannot call a method requiring ROLE_DEFAULT access.</p>\n\n<p>I'm sure I've misconfigured something somewhere but I can't figure out where I've gone wrong despite reading everything I can find on configuring global method security with a role hierarchy.  It appears this would be trivial using XML configuration but the Java config solution eludes me.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8898,"page":1094,"page_size":100}
