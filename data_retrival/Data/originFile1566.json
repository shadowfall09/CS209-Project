{"items":[{"tags":["java","math","random"],"comments":[{"owner":{"account_id":6164765,"reputation":1,"user_id":4805137,"display_name":"David Rans"},"score":0,"creation_date":1429378899,"post_id":29720611,"comment_id":47575780,"body_markdown":"[This answer][1] has what you&#39;re looking for.\r\n\r\n\r\n  [1]: http://stackoverflow.com/a/929781/4805137","body":"[This answer][1] has what you&#39;re looking for.        [1]: <a href=\"http://stackoverflow.com/a/929781/4805137\">stackoverflow.com/a/929781/4805137</a>"},{"owner":{"account_id":202296,"reputation":9898,"user_id":449288,"accept_rate":71,"display_name":"gioele"},"score":0,"creation_date":1429378999,"post_id":29720611,"comment_id":47575824,"body_markdown":"possible duplicate of [Calculating the distance between two points](http://stackoverflow.com/questions/929773/calculating-the-distance-between-two-points)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/929773/calculating-the-distance-between-two-points\">Calculating the distance between two points</a>"},{"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"score":0,"creation_date":1429379051,"post_id":29720611,"comment_id":47575851,"body_markdown":"That&#39;s not a duplicate of this.","body":"That&#39;s not a duplicate of this."},{"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"score":3,"creation_date":1429383232,"post_id":29720611,"comment_id":47577389,"body_markdown":"I&#39;m voting to close this question as off-topic because it is a geometry problem, not a coding/software problem.","body":"I&#39;m voting to close this question as off-topic because it is a geometry problem, not a coding/software problem."}],"answers":[{"tags":[],"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1429379472,"creation_date":1429379135,"answer_id":29720708,"question_id":29720611,"body_markdown":"Let&#39;s solve in polar form.\r\n\r\nWe&#39;ll need these doubles `distance`, `x1`, and `y1`.\r\n\r\nFirst, we want the angle in radians:\r\n\r\n    double angle = Math.random()*2*Math.PI;\r\n\r\nThen we want to get the x and y offsets from our point:\r\n\r\n    double xOff = Math.cos(angle)*distance;\r\n    double yOff = Math.sin(angle)*distance;\r\n\r\nThen we add these to our first point:\r\n\r\n    double x2 = x1 + xOff;\r\n    double y2 = y1 + yOff;\r\n\r\nThis will get you a point a certain `distance` away from your first point.","title":"How to chose a random point at a certain distance to a reference point","body":"<p>Let's solve in polar form.</p>\n\n<p>We'll need these doubles <code>distance</code>, <code>x1</code>, and <code>y1</code>.</p>\n\n<p>First, we want the angle in radians:</p>\n\n<pre><code>double angle = Math.random()*2*Math.PI;\n</code></pre>\n\n<p>Then we want to get the x and y offsets from our point:</p>\n\n<pre><code>double xOff = Math.cos(angle)*distance;\ndouble yOff = Math.sin(angle)*distance;\n</code></pre>\n\n<p>Then we add these to our first point:</p>\n\n<pre><code>double x2 = x1 + xOff;\ndouble y2 = y1 + yOff;\n</code></pre>\n\n<p>This will get you a point a certain <code>distance</code> away from your first point.</p>\n"}],"owner":{"account_id":6000501,"reputation":105,"user_id":4713929,"accept_rate":83,"display_name":"wtrclr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":742,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":29720708,"answer_count":1,"score":2,"last_activity_date":1645651265,"creation_date":1429378578,"question_id":29720611,"body_markdown":"I have point __A__ (`pointA = (x1, y1)`) and I need to choose a random point __B__ (`pointB = (x2, y2)`) such that the distance between the __A__ and __B__ is equal to __K__.","title":"How to chose a random point at a certain distance to a reference point","body":"<p>I have point <strong>A</strong> (<code>pointA = (x1, y1)</code>) and I need to choose a random point <strong>B</strong> (<code>pointB = (x2, y2)</code>) such that the distance between the <strong>A</strong> and <strong>B</strong> is equal to <strong>K</strong>.</p>\n"},{"tags":["java","nullpointerexception","equals","coding-style"],"comments":[{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":1,"creation_date":1302778321,"post_id":5661936,"comment_id":6459862,"body_markdown":"using the *@NotNull* annotation everywhere surely helps.  So does using empty strings and empty arrays, instead of null string and null arrays to represent something that is &quot;empty&quot;.  An empty string is a string that contains no character.  An empty array is an array made of zero element.  &quot;null&quot; and NPEs are exceedingly rare in our codebase, where the *@NotNull* annotation is used in every single class we have :)","body":"using the <i>@NotNull</i> annotation everywhere surely helps.  So does using empty strings and empty arrays, instead of null string and null arrays to represent something that is &quot;empty&quot;.  An empty string is a string that contains no character.  An empty array is an array made of zero element.  &quot;null&quot; and NPEs are exceedingly rare in our codebase, where the <i>@NotNull</i> annotation is used in every single class we have :)"},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":1,"creation_date":1302778404,"post_id":5661936,"comment_id":6459890,"body_markdown":"in addition to that, the concept of &quot;equality&quot; over mutable object doesn&#39;t make much sense.  Make your objects immutable.  Forbid null.  Everything will be smoother.","body":"in addition to that, the concept of &quot;equality&quot; over mutable object doesn&#39;t make much sense.  Make your objects immutable.  Forbid null.  Everything will be smoother."},{"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"score":1,"creation_date":1302779146,"post_id":5661936,"comment_id":6460087,"body_markdown":"Of course, and I would if I could! Problem is that in this case these things *can* be non-existent. For example, not all addresses have a letter, so it should be null. On the matter of immutability, I totally agree, but unfortunately it&#39;s not my choice. If it was up to me, it would be.","body":"Of course, and I would if I could! Problem is that in this case these things <i>can</i> be non-existent. For example, not all addresses have a letter, so it should be null. On the matter of immutability, I totally agree, but unfortunately it&#39;s not my choice. If it was up to me, it would be."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1302777584,"creation_date":1302777584,"answer_id":5661975,"question_id":5661936,"body_markdown":"You can use a helper method like\r\n\r\n    public static boolean isEqual(Object o1, Object o2) {\r\n        return o1 == o2 || (o1 != null &amp;&amp; o1.equals(o2));\r\n    }","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>You can use a helper method like</p>\n\n<pre><code>public static boolean isEqual(Object o1, Object o2) {\n    return o1 == o2 || (o1 != null &amp;&amp; o1.equals(o2));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1366838172,"creation_date":1302777594,"answer_id":5661978,"question_id":5661936,"body_markdown":"You could do the following:\r\n\r\n    public boolean equals(Object obj) \r\n    {\r\n        if (this == obj) {\r\n            return true;\r\n        }\r\n    \r\n        if (obj == null) {\r\n            return false;\r\n        }\r\n    \r\n        if (getClass() != obj.getClass()) {\r\n            return false;\r\n        }\r\n    \r\n        Address other = (Address) obj;\r\n    \r\n        return equals(this.getStreet(),other.getStreet())\r\n            &amp;&amp; equals(this.getStreetNumber(), other.getStreetNumber())\r\n            &amp;&amp; equals(this.getStreetLetter(), other.getStreetLetter())\r\n            &amp;&amp; equals(this.getTown(), other.getTown());\r\n    }\r\n    \r\n    private boolean equals(Object control, Object test) {\r\n        if(null == control) {\r\n            return null == test;\r\n        }\r\n        return control.equals(test);\r\n    }\r\n\r\nJava 7 introduced built-in support for this use case with the java.util.Objects class see:\r\n\r\n  - [java.utils.Objects.equals(Object, Object)][1]\r\n  - [java.utils.Objects.deepEquals(Object, Object)][2]\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#equals%28java.lang.Object,%20java.lang.Object%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#deepEquals%28java.lang.Object,%20java.lang.Object%29","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>You could do the following:</p>\n\n<pre><code>public boolean equals(Object obj) \n{\n    if (this == obj) {\n        return true;\n    }\n\n    if (obj == null) {\n        return false;\n    }\n\n    if (getClass() != obj.getClass()) {\n        return false;\n    }\n\n    Address other = (Address) obj;\n\n    return equals(this.getStreet(),other.getStreet())\n        &amp;&amp; equals(this.getStreetNumber(), other.getStreetNumber())\n        &amp;&amp; equals(this.getStreetLetter(), other.getStreetLetter())\n        &amp;&amp; equals(this.getTown(), other.getTown());\n}\n\nprivate boolean equals(Object control, Object test) {\n    if(null == control) {\n        return null == test;\n    }\n    return control.equals(test);\n}\n</code></pre>\n\n<p>Java 7 introduced built-in support for this use case with the java.util.Objects class see:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#equals%28java.lang.Object,%20java.lang.Object%29\" rel=\"noreferrer\">java.utils.Objects.equals(Object, Object)</a></li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#deepEquals%28java.lang.Object,%20java.lang.Object%29\" rel=\"noreferrer\">java.utils.Objects.deepEquals(Object, Object)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1302777662,"creation_date":1302777662,"answer_id":5661991,"question_id":5661936,"body_markdown":"There is no really clean way to do that; the best option is probably to have your IDE generate the code for you. Eclipse can do it via the Source -&gt; Generate hashCode() and equals() context menu.","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>There is no really clean way to do that; the best option is probably to have your IDE generate the code for you. Eclipse can do it via the Source -> Generate hashCode() and equals() context menu.</p>\n"},{"tags":[],"owner":{"account_id":355084,"reputation":611,"user_id":693820,"accept_rate":90,"display_name":"Carlos Daniel Gadea Omelchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302777756,"creation_date":1302777756,"answer_id":5662007,"question_id":5661936,"body_markdown":"I&#39;d consider defining some of the equals methods as static class methods, like say for the Street objects. This way you don&#39;t ever attempt to call the .equals() method on a null.\r\n\r\nA sample function might look like:\r\n\r\n    public static boolean equals(Object one, Object two)\r\n\r\nAlso, it&#39;s good practice to put checks like\r\n\r\n    if (obj == null)\r\n       return false;\r\n\r\nat the very beginning of a function.","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>I'd consider defining some of the equals methods as static class methods, like say for the Street objects. This way you don't ever attempt to call the .equals() method on a null.</p>\n\n<p>A sample function might look like:</p>\n\n<pre><code>public static boolean equals(Object one, Object two)\n</code></pre>\n\n<p>Also, it's good practice to put checks like</p>\n\n<pre><code>if (obj == null)\n   return false;\n</code></pre>\n\n<p>at the very beginning of a function.</p>\n"},{"tags":[],"owner":{"account_id":38718,"reputation":10894,"user_id":111313,"display_name":"Jared Russell"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1302778097,"creation_date":1302777780,"answer_id":5662010,"question_id":5661936,"body_markdown":"[Google Guava][1] provides [Objects.equal(Object, Object)][2] which checks for equality while taking into consideration that either of the parameters might be null:\r\n\r\n    ...\r\n    return Objects.equal(this.getStreet(), other.getStreet())\r\n        &amp;&amp; Objects.equal(this.getStreetNumber(), other.getStreetNumber())\r\n        &amp;&amp; Objects.equal(this.getStreetLetter(), other.getStreetLetter())\r\n        &amp;&amp; Objects.equal(this.getTown(), other.getTown());\r\n\r\nIt&#39;s also worth pointing out that Objects has other helper methods for implementing  [hashCode()][3] and [toString()][4].\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/\r\n  [2]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Objects.html#equal(java.lang.Object,%20java.lang.Object)\r\n  [3]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Objects.html#hashCode%28java.lang.Object...%29\r\n  [4]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Objects.html#toStringHelper%28java.lang.Object%29","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p><a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Guava</a> provides <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Objects.html#equal(java.lang.Object,%20java.lang.Object)\" rel=\"noreferrer\">Objects.equal(Object, Object)</a> which checks for equality while taking into consideration that either of the parameters might be null:</p>\n\n<pre><code>...\nreturn Objects.equal(this.getStreet(), other.getStreet())\n    &amp;&amp; Objects.equal(this.getStreetNumber(), other.getStreetNumber())\n    &amp;&amp; Objects.equal(this.getStreetLetter(), other.getStreetLetter())\n    &amp;&amp; Objects.equal(this.getTown(), other.getTown());\n</code></pre>\n\n<p>It's also worth pointing out that Objects has other helper methods for implementing  <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Objects.html#hashCode%28java.lang.Object...%29\" rel=\"noreferrer\">hashCode()</a> and <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/Objects.html#toStringHelper%28java.lang.Object%29\" rel=\"noreferrer\">toString()</a>.</p>\n"},{"tags":[],"owner":{"account_id":336440,"reputation":5114,"user_id":664080,"display_name":"moritz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1302777862,"creation_date":1302777862,"answer_id":5662032,"question_id":5661936,"body_markdown":"You can use [Objects.equal](http://guava-ibraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Objects.html) from Googles guava or the [EqualsBuilder](http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/builder/EqualsBuilder.html) from apache commons","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>You can use <a href=\"http://guava-ibraries.googlecode.com/svn/trunk/javadoc/com/google/common/base/Objects.html\" rel=\"nofollow\">Objects.equal</a> from Googles guava or the <a href=\"http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/builder/EqualsBuilder.html\" rel=\"nofollow\">EqualsBuilder</a> from apache commons</p>\n"},{"tags":[],"owner":{"account_id":219576,"reputation":687,"user_id":476569,"accept_rate":50,"display_name":"kliu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1302777991,"creation_date":1302777991,"answer_id":5662063,"question_id":5661936,"body_markdown":"I have a helper class Checker w/ a static method:\r\n\r\n     public static boolean isEquals(final Object o1, final Object o2) {\r\n            return o1 == null ? o2 == null : o1.equals(o2);\r\n     }\r\n\r\nso, in the equals method,\r\n\r\n     return Checker.isEquals(this.getStreet(), other.getStreet())\r\n            &amp;&amp; Checker.isEquals(this.getStreetNumber(), other.getStreetNumber())\r\n            &amp;&amp; Checker.isEquals(this.getStreetLetter(), other.getStreetLetter())\r\n            &amp;&amp; Checker.isEquals(this.getTown(), other.getTown());","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>I have a helper class Checker w/ a static method:</p>\n\n<pre><code> public static boolean isEquals(final Object o1, final Object o2) {\n        return o1 == null ? o2 == null : o1.equals(o2);\n }\n</code></pre>\n\n<p>so, in the equals method,</p>\n\n<pre><code> return Checker.isEquals(this.getStreet(), other.getStreet())\n        &amp;&amp; Checker.isEquals(this.getStreetNumber(), other.getStreetNumber())\n        &amp;&amp; Checker.isEquals(this.getStreetLetter(), other.getStreetLetter())\n        &amp;&amp; Checker.isEquals(this.getTown(), other.getTown());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33597,"reputation":1926,"user_id":94159,"accept_rate":83,"display_name":"Ian Gilham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1302785779,"creation_date":1302785779,"answer_id":5663567,"question_id":5661936,"body_markdown":"[Apache Commons Lang][1] provides the [EqualsBuilder][2] helper class for equality comparissons. There is also one for hash codes.\r\n\r\n    return new EqualsBuilder()\r\n    .append(this.getStreet(), other.getStreet())\r\n    .append(this.getStreetNumber(), other.getStreetNumber()\r\n    .append(this.getStreetLetter(), other.getStreetLetter())\r\n    .append(this.getTown(), other.getTown())).isEquals();\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/\r\n  [2]: http://commons.apache.org/lang/api-2.6/index.html","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p><a href=\"http://commons.apache.org/lang/\" rel=\"nofollow\">Apache Commons Lang</a> provides the <a href=\"http://commons.apache.org/lang/api-2.6/index.html\" rel=\"nofollow\">EqualsBuilder</a> helper class for equality comparissons. There is also one for hash codes.</p>\n\n<pre><code>return new EqualsBuilder()\n.append(this.getStreet(), other.getStreet())\n.append(this.getStreetNumber(), other.getStreetNumber()\n.append(this.getStreetLetter(), other.getStreetLetter())\n.append(this.getTown(), other.getTown())).isEquals();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6235075,"reputation":7453,"user_id":4850646,"accept_rate":83,"display_name":"Lucas Basquerotto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645647391,"creation_date":1645647391,"answer_id":71243521,"question_id":5661936,"body_markdown":"You can use `java.util.Objects.equals(a, b)` if you want an **official** way (built-in).\r\n\r\n*(There is already a mention to it in one of the answers, but more as a sidenote)*\r\n\r\nChange:\r\n\r\n    this.getStreet().equals(other.getStreet())\r\n\r\nTo:\r\n\r\n    Objects.equals(this.getStreet(), other.getStreet())","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>You can use <code>java.util.Objects.equals(a, b)</code> if you want an <strong>official</strong> way (built-in).</p>\n<p><em>(There is already a mention to it in one of the answers, but more as a sidenote)</em></p>\n<p>Change:</p>\n<pre><code>this.getStreet().equals(other.getStreet())\n</code></pre>\n<p>To:</p>\n<pre><code>Objects.equals(this.getStreet(), other.getStreet())\n</code></pre>\n"}],"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20158,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":5661975,"answer_count":9,"score":24,"last_activity_date":1645651005,"creation_date":1302777350,"question_id":5661936,"body_markdown":"I have an address object that I want to create an equals method for. I could have made this quite simple by doing something like the following (shortened a bit):\r\n\r\n    public boolean equals(Object obj) \r\n    {\r\n        if (this == obj)\r\n            return true;\r\n\r\n        if (obj == null)\r\n            return false;\r\n\r\n        if (getClass() != obj.getClass())\r\n            return false;\r\n\r\n        Address other = (Address) obj;\r\n\r\n        return this.getStreet().equals(other.getStreet())\r\n            &amp;&amp; this.getStreetNumber().equals(other.getStreetNumber())\r\n            &amp;&amp; this.getStreetLetter().equals(other.getStreetLetter())\r\n            &amp;&amp; this.getTown().equals(other.getTown());\r\n    }\r\n\r\nProblem is, some of these might be null. I will in other words get a `NullPointerException` if there is no street letter in this address.\r\n\r\nHow can I write this in a clean way while taking null values into account?","title":"Clean way of avoiding NullPointerException in equals checks","body":"<p>I have an address object that I want to create an equals method for. I could have made this quite simple by doing something like the following (shortened a bit):</p>\n\n<pre><code>public boolean equals(Object obj) \n{\n    if (this == obj)\n        return true;\n\n    if (obj == null)\n        return false;\n\n    if (getClass() != obj.getClass())\n        return false;\n\n    Address other = (Address) obj;\n\n    return this.getStreet().equals(other.getStreet())\n        &amp;&amp; this.getStreetNumber().equals(other.getStreetNumber())\n        &amp;&amp; this.getStreetLetter().equals(other.getStreetLetter())\n        &amp;&amp; this.getTown().equals(other.getTown());\n}\n</code></pre>\n\n<p>Problem is, some of these might be null. I will in other words get a <code>NullPointerException</code> if there is no street letter in this address.</p>\n\n<p>How can I write this in a clean way while taking null values into account?</p>\n"},{"tags":["java","spring-boot","jsp","tomcat","servlets"],"comments":[{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1645648873,"post_id":71243729,"comment_id":125931685,"body_markdown":"@Metroids ...............","body":"@Metroids ..............."}],"answers":[{"tags":[],"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645650922,"creation_date":1645650922,"answer_id":71244130,"question_id":71243729,"body_markdown":"I think you build the project as WAR, in this case the right way is to start the application in a servlet container(such as Tomcat), and not run as java application.","title":"404 not found error shows when i run as java application","body":"<p>I think you build the project as WAR, in this case the right way is to start the application in a servlet container(such as Tomcat), and not run as java application.</p>\n"}],"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1645714336,"answer_count":1,"score":1,"last_activity_date":1645650922,"creation_date":1645648544,"question_id":71243729,"body_markdown":"[![enter image description here][1]][1]\r\nhere is my servlet class\r\n\r\n    package login.example;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    \r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import javax.servlet.http.HttpSession;\r\n    \r\n    @WebServlet(name = &quot;LogoutServlet&quot;, urlPatterns = {&quot;/LogoutServlet&quot;})\r\n    public class LogoutServlet extends HttpServlet {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic LogoutServlet() {\r\n    \t}\r\n    \r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n    \r\n    \t\tPrintWriter out = response.getWriter();\r\n    \t\tresponse.setContentType(&quot;text/html&quot;);\r\n    \t\tHttpSession session = request.getSession();\r\n    \t\tsession.invalidate();\r\n    \r\n    \t\tout.println(&quot;Thank you,you are successfully logged out&quot;);\r\n    \t\tout.close();\r\n    \t}\r\n\r\nhere is web.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.39&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n\r\n}\r\n\r\nin springboot project i have to run as java application but it gives 404 error,while when i run as  run on server it totally works..what should i do?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PJ6D0.png","title":"404 not found error shows when i run as java application","body":"<p><a href=\"https://i.stack.imgur.com/PJ6D0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJ6D0.png\" alt=\"enter image description here\" /></a>\nhere is my servlet class</p>\n<pre><code>package login.example;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\n@WebServlet(name = &quot;LogoutServlet&quot;, urlPatterns = {&quot;/LogoutServlet&quot;})\npublic class LogoutServlet extends HttpServlet {\n\n    private static final long serialVersionUID = 1L;\n\n    public LogoutServlet() {\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n\n        PrintWriter out = response.getWriter();\n        response.setContentType(&quot;text/html&quot;);\n        HttpSession session = request.getSession();\n        session.invalidate();\n\n        out.println(&quot;Thank you,you are successfully logged out&quot;);\n        out.close();\n    }\n</code></pre>\n<p>here is web.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;6.0.39&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n                &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n                &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n                &lt;version&gt;2.1&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>}</p>\n<p>in springboot project i have to run as java application but it gives 404 error,while when i run as  run on server it totally works..what should i do?</p>\n"},{"tags":["java","scope","cdi"],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309828564,"creation_date":1309778515,"answer_id":6570780,"question_id":6565047,"body_markdown":"My understanding is that scope refers to where an object may be accessed from, while context enumerates the objects that can be accessed from some particular point in program execution. (That is, we talk about the scope of an object, and the context at some particular point in program execution.)\r\n\r\nMathematically speaking, both describe the can-access relation, but look at it in different directions.\r\n\r\n","title":"The difference between context and scope","body":"<p>My understanding is that scope refers to where an object may be accessed from, while context enumerates the objects that can be accessed from some particular point in program execution. (That is, we talk about the scope of an object, and the context at some particular point in program execution.)</p>\n\n<p>Mathematically speaking, both describe the can-access relation, but look at it in different directions.</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1309817479,"creation_date":1309817479,"answer_id":6576454,"question_id":6565047,"body_markdown":"Each scope has a separate context.\r\n\r\nThe context is a container for beans which have been defined with the respective scope.\r\n\r\nThat&#39;s why context implementations carry the name of the scope - `ApplicationContext`, `DependentContext`, `RequestContext`, etc.\r\n\r\nThis is an implementation detail actually - as a user of CDI you should only know about scopes (because you define it for your beans), and the implementation decides where to place those beans and how to manage their lifecycle.","title":"The difference between context and scope","body":"<p>Each scope has a separate context.</p>\n\n<p>The context is a container for beans which have been defined with the respective scope.</p>\n\n<p>That's why context implementations carry the name of the scope - <code>ApplicationContext</code>, <code>DependentContext</code>, <code>RequestContext</code>, etc.</p>\n\n<p>This is an implementation detail actually - as a user of CDI you should only know about scopes (because you define it for your beans), and the implementation decides where to place those beans and how to manage their lifecycle.</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1309829576,"creation_date":1309829576,"answer_id":6577302,"question_id":6565047,"body_markdown":"First, we have concepts in our heads like applications, sessions, requests. Let&#39;s use the session concept in the following examples.\r\n\r\nIf we consider that a piece of execution is serving for a particular session, we&#39;ll say the session is part of the context of the execution; or, it is *the* session context of the execution.\r\n\r\nA session has some variables, e.g. `userName`; we&#39;ll say the session is the scope of these variables.\r\n\r\nSince both are pointing to the same session, it can get confusing. For example,\r\n\r\n    get the userName from the session context\r\n    get the userName from the session scope\r\n\r\nboth sound fine, because we are talking about an execution on a variable.\r\n\r\nThe following example is intelligible per the definition of scope\r\n\r\n    the scope of the injected bean is Session\r\n\r\nbut we don&#39;t have problem understanding what&#39;s really going on. If we want to, we can expand it till it&#39;s based on basic usages of words; we don&#39;t do that because it will be very verbose.\r\n\r\nAn author faces the difficult task of packing the words succinctly yet expecting readers somehow understand the complex meaning. Texts about context and scope usually appear to be gibberish to those who haven&#39;t understood the concepts.\r\n\r\nAPI names are even more difficult to come up with, because codes are not English sentences. `Context` or `Scope` are pretty much interchangeable. If there&#39;s only one object representing a session, the class probably should be named just `Session`. If we split the part about variable manipulation, that part can be called `SessionScope`. However, the meaning of `SessionContext` is too elusive, the best we can tell, from the name alone, is that it is about something of a session - &quot;context&quot; here is pretty much an expletive. \r\n\r\n","title":"The difference between context and scope","body":"<p>First, we have concepts in our heads like applications, sessions, requests. Let's use the session concept in the following examples.</p>\n\n<p>If we consider that a piece of execution is serving for a particular session, we'll say the session is part of the context of the execution; or, it is <em>the</em> session context of the execution.</p>\n\n<p>A session has some variables, e.g. <code>userName</code>; we'll say the session is the scope of these variables.</p>\n\n<p>Since both are pointing to the same session, it can get confusing. For example,</p>\n\n<pre><code>get the userName from the session context\nget the userName from the session scope\n</code></pre>\n\n<p>both sound fine, because we are talking about an execution on a variable.</p>\n\n<p>The following example is intelligible per the definition of scope</p>\n\n<pre><code>the scope of the injected bean is Session\n</code></pre>\n\n<p>but we don't have problem understanding what's really going on. If we want to, we can expand it till it's based on basic usages of words; we don't do that because it will be very verbose.</p>\n\n<p>An author faces the difficult task of packing the words succinctly yet expecting readers somehow understand the complex meaning. Texts about context and scope usually appear to be gibberish to those who haven't understood the concepts.</p>\n\n<p>API names are even more difficult to come up with, because codes are not English sentences. <code>Context</code> or <code>Scope</code> are pretty much interchangeable. If there's only one object representing a session, the class probably should be named just <code>Session</code>. If we split the part about variable manipulation, that part can be called <code>SessionScope</code>. However, the meaning of <code>SessionContext</code> is too elusive, the best we can tell, from the name alone, is that it is about something of a session - \"context\" here is pretty much an expletive. </p>\n"}],"owner":{"account_id":108510,"reputation":26313,"user_id":287976,"accept_rate":92,"display_name":"brandizzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3883,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":6576454,"answer_count":3,"score":12,"last_activity_date":1645650358,"creation_date":1309721211,"question_id":6565047,"body_markdown":"Studying JSR-299, I read section 5.1 of the [Weld reference][1] which explains how scopes work in CDI. Apparently, context is a concept closely related to scope. The difference is not clear in my mind and I feel tempted to even use the words interchangeably.\r\n\r\nWhat is the difference between scope and context? What is the relationship between the two concepts?\r\n\r\n  [1]: http://docs.jboss.org/weld/reference/1.1.0.Final/en-US/pdf/weld-reference.pdf","title":"The difference between context and scope","body":"<p>Studying JSR-299, I read section 5.1 of the <a href=\"http://docs.jboss.org/weld/reference/1.1.0.Final/en-US/pdf/weld-reference.pdf\" rel=\"nofollow noreferrer\">Weld reference</a> which explains how scopes work in CDI. Apparently, context is a concept closely related to scope. The difference is not clear in my mind and I feel tempted to even use the words interchangeably.</p>\n<p>What is the difference between scope and context? What is the relationship between the two concepts?</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1645650388,"post_id":71243693,"comment_id":125932163,"body_markdown":"Check this https://stackoverflow.com/questions/31640563/how-do-i-change-a-tab-background-color-when-using-tablayout","body":"Check this <a href=\"https://stackoverflow.com/questions/31640563/how-do-i-change-a-tab-background-color-when-using-tablayout\" title=\"how do i change a tab background color when using tablayout\">stackoverflow.com/questions/31640563/&hellip;</a>"},{"owner":{"account_id":24322440,"reputation":1,"user_id":18262570,"display_name":"Mustafa Saleem"},"score":0,"creation_date":1645728340,"post_id":71243693,"comment_id":125954739,"body_markdown":"thanks..but i dont want change when i select tab! i want each tab have backgroud color when i ran app","body":"thanks..but i dont want change when i select tab! i want each tab have backgroud color when i ran app"}],"owner":{"account_id":24322440,"reputation":1,"user_id":18262570,"display_name":"Mustafa Saleem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645650263,"creation_date":1645648331,"question_id":71243693,"body_markdown":"\r\n[![enter image description here][1]][1]\r\n\r\nhere is my xml code but it is didnt work like pic\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tabLayout&quot;\r\n        android:layout_width=&quot;406dp&quot;\r\n        android:layout_height=&quot;94dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:background=&quot;@color/teal_200&quot;\r\n        app:tabSelectedTextColor=&quot;@color/black&quot;\r\n        app:tabTextColor=&quot;@color/purple_200&quot;\r\n        app:tabMode=&quot;scrollable&quot; &gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dyvXa.jpg","title":"How can i change the background color for each tabs in android","body":"<p><a href=\"https://i.stack.imgur.com/dyvXa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dyvXa.jpg\" alt=\"enter image description here\" /></a></p>\n<p>here is my xml code but it is didnt work like pic</p>\n<pre><code>&lt;com.google.android.material.tabs.TabLayout\n    android:id=&quot;@+id/tabLayout&quot;\n    android:layout_width=&quot;406dp&quot;\n    android:layout_height=&quot;94dp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    android:background=&quot;@color/teal_200&quot;\n    app:tabSelectedTextColor=&quot;@color/black&quot;\n    app:tabTextColor=&quot;@color/purple_200&quot;\n    app:tabMode=&quot;scrollable&quot; &gt;\n</code></pre>\n"},{"tags":["java","graphql"],"comments":[{"owner":{"account_id":16101391,"reputation":117,"user_id":11622060,"display_name":"Logan_on"},"score":0,"creation_date":1574070339,"post_id":58906119,"comment_id":104085491,"body_markdown":"@Andreas Larson","body":"@Andreas Larson"}],"answers":[{"tags":[],"owner":{"account_id":6457927,"reputation":173,"user_id":5002696,"display_name":"Stefano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574597525,"creation_date":1574597525,"answer_id":59017517,"question_id":58906119,"body_markdown":"Have you registered it via         RuntimeWiring?\r\n\r\nTake a look here: https://stackoverflow.com/questions/46034801/custom-scalar-in-graphql-java","title":"GraphQL Error: Expected a user-defined GraphQL scalar type with name &#39;FileUpload&#39; but found none","body":"<p>Have you registered it via         RuntimeWiring?</p>\n\n<p>Take a look here: <a href=\"https://stackoverflow.com/questions/46034801/custom-scalar-in-graphql-java\">Custom Scalar in Graphql-java</a></p>\n"},{"tags":[],"owner":{"account_id":9829323,"reputation":1,"user_id":7281513,"display_name":"Diego Gutierrez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645650229,"creation_date":1645650229,"answer_id":71244009,"question_id":58906119,"body_markdown":"You have to extend **GraphQLScalarType** in your MyScalars class","title":"GraphQL Error: Expected a user-defined GraphQL scalar type with name &#39;FileUpload&#39; but found none","body":"<p>You have to extend <strong>GraphQLScalarType</strong> in your MyScalars class</p>\n"}],"owner":{"account_id":16101391,"reputation":117,"user_id":11622060,"display_name":"Logan_on"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3923,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645650229,"creation_date":1574032534,"question_id":58906119,"body_markdown":"for several days I have been trying to implement the upload file in Java-GraphQL. I found this topic: https://stackoverflow.com/questions/57372259/how-to-upload-files-with-graphql-java#autocomment104062852  I implemented second solutions. \r\n```\r\npublic class FileUpload {\r\n    private String contentType;\r\n    private byte[] content;\r\n\r\n    public FileUpload(String contentType, byte[] content) {\r\n        this.contentType = contentType;\r\n        this.content = content;\r\n    }\r\n\r\n    public String getContentType() {\r\n        return contentType;\r\n    }\r\n\r\n    public byte[] getContent() {\r\n        return content;\r\n    }\r\n}\r\n```\r\n```\r\npublic class MyScalars {\r\n    public static final GraphQLScalarType FileUpload = new GraphQLScalarType(\r\n        &quot;FileUpload&quot;,\r\n        &quot;A file part in a multipart request&quot;,\r\n        new Coercing&lt;FileUpload, Void&gt;() {\r\n\r\n            @Override\r\n            public Void serialize(Object dataFetcherResult) {\r\n                throw new CoercingSerializeException(&quot;Upload is an input-only type&quot;);\r\n            }\r\n\r\n            @Override\r\n            public FileUpload parseValue(Object input) {\r\n                if (input instanceof Part) {\r\n                    Part part = (Part) input;\r\n                    try {\r\n                        String contentType = part.getContentType();\r\n                        byte[] content = new byte[part.getInputStream().available()];\r\n                        part.delete();\r\n                        return new FileUpload(contentType, content);\r\n\r\n                    } catch (IOException e) {\r\n                        throw new CoercingParseValueException(&quot;Couldn&#39;t read content of the uploaded file&quot;);\r\n                    }\r\n                } else if (null == input) {\r\n                    return null;\r\n                } else {\r\n                    throw new CoercingParseValueException(\r\n                            &quot;Expected type &quot; + Part.class.getName() + &quot; but was &quot; + input.getClass().getName());\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public FileUpload parseLiteral(Object input) {\r\n                throw new CoercingParseLiteralException(\r\n                        &quot;Must use variables to specify Upload values&quot;);\r\n            }\r\n    });\r\n}\r\n```\r\n```\r\npublic class FileUploadResolver implements GraphQLMutationResolver {\r\n\r\n    public Boolean uploadFile(FileUpload fileUpload) {\r\n\r\n        String fileContentType = fileUpload.getContentType();\r\n        byte[] fileContent = fileUpload.getContent();\r\n\r\n        // Do something in order to persist the file :)\r\n\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n```\r\nscalar FileUpload\r\n\r\ntype Mutation {\r\n    uploadFile(fileUpload: FileUpload): Boolean\r\n}\r\n```\r\n\r\nI get this error during compilation:\r\n\r\nCaused by: com.coxautodev.graphql.tools.SchemaClassScannerError: Expected a user-defined GraphQL scalar type with name &#39;FileUpload&#39; but found none!\r\n\r\n","title":"GraphQL Error: Expected a user-defined GraphQL scalar type with name &#39;FileUpload&#39; but found none","body":"<p>for several days I have been trying to implement the upload file in Java-GraphQL. I found this topic: <a href=\"https://stackoverflow.com/questions/57372259/how-to-upload-files-with-graphql-java#autocomment104062852\">How to upload files with graphql-java?</a>  I implemented second solutions. </p>\n\n<pre><code>public class FileUpload {\n    private String contentType;\n    private byte[] content;\n\n    public FileUpload(String contentType, byte[] content) {\n        this.contentType = contentType;\n        this.content = content;\n    }\n\n    public String getContentType() {\n        return contentType;\n    }\n\n    public byte[] getContent() {\n        return content;\n    }\n}\n</code></pre>\n\n<pre><code>public class MyScalars {\n    public static final GraphQLScalarType FileUpload = new GraphQLScalarType(\n        \"FileUpload\",\n        \"A file part in a multipart request\",\n        new Coercing&lt;FileUpload, Void&gt;() {\n\n            @Override\n            public Void serialize(Object dataFetcherResult) {\n                throw new CoercingSerializeException(\"Upload is an input-only type\");\n            }\n\n            @Override\n            public FileUpload parseValue(Object input) {\n                if (input instanceof Part) {\n                    Part part = (Part) input;\n                    try {\n                        String contentType = part.getContentType();\n                        byte[] content = new byte[part.getInputStream().available()];\n                        part.delete();\n                        return new FileUpload(contentType, content);\n\n                    } catch (IOException e) {\n                        throw new CoercingParseValueException(\"Couldn't read content of the uploaded file\");\n                    }\n                } else if (null == input) {\n                    return null;\n                } else {\n                    throw new CoercingParseValueException(\n                            \"Expected type \" + Part.class.getName() + \" but was \" + input.getClass().getName());\n                }\n            }\n\n            @Override\n            public FileUpload parseLiteral(Object input) {\n                throw new CoercingParseLiteralException(\n                        \"Must use variables to specify Upload values\");\n            }\n    });\n}\n</code></pre>\n\n<pre><code>public class FileUploadResolver implements GraphQLMutationResolver {\n\n    public Boolean uploadFile(FileUpload fileUpload) {\n\n        String fileContentType = fileUpload.getContentType();\n        byte[] fileContent = fileUpload.getContent();\n\n        // Do something in order to persist the file :)\n\n\n        return true;\n    }\n}\n</code></pre>\n\n<pre><code>scalar FileUpload\n\ntype Mutation {\n    uploadFile(fileUpload: FileUpload): Boolean\n}\n</code></pre>\n\n<p>I get this error during compilation:</p>\n\n<p>Caused by: com.coxautodev.graphql.tools.SchemaClassScannerError: Expected a user-defined GraphQL scalar type with name 'FileUpload' but found none!</p>\n"},{"tags":["java","arrays","sorting","processing"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645632200,"creation_date":1645632200,"answer_id":71240310,"question_id":71240135,"body_markdown":"This should be resolved without 2D array.\r\n\r\nIf the dimensions of the field are known 4x4, then possibly the loop should run from 0 to 4 something like this:\r\n```java\r\nvoid draw() {\r\n  background(0);\r\n  pushMatrix();\r\n  translate(pixelsize/2, pixelsize/2);\r\n  for (int x = 0; x &lt; 4; x++) {\r\n    for (int y = 0; y &lt; 4; y++) {\r\n      pushMatrix();\r\n      translate(pixelsize * x, pixelsize * y);\r\n      image(images[4 * x + y], 0, 0, pixelsize, pixelsize);\r\n      popMatrix();\r\n    }\r\n  }\r\n  popMatrix();\r\n}\r\n```","title":"display array sorted","body":"<p>This should be resolved without 2D array.</p>\n<p>If the dimensions of the field are known 4x4, then possibly the loop should run from 0 to 4 something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void draw() {\n  background(0);\n  pushMatrix();\n  translate(pixelsize/2, pixelsize/2);\n  for (int x = 0; x &lt; 4; x++) {\n    for (int y = 0; y &lt; 4; y++) {\n      pushMatrix();\n      translate(pixelsize * x, pixelsize * y);\n      image(images[4 * x + y], 0, 0, pixelsize, pixelsize);\n      popMatrix();\n    }\n  }\n  popMatrix();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4826604,"reputation":833,"user_id":3895938,"accept_rate":61,"display_name":"Cyrill"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645632555,"creation_date":1645632555,"answer_id":71240400,"question_id":71240135,"body_markdown":"Based on the latest answer – this is my code – working perfectly!\r\n\r\n    float pixelamount = 4;\r\n    float pixelsize;\r\n    \r\n    PImage[] images = new PImage [16];\r\n    \r\n    void setup() {\r\n      size(1080, 1080);\r\n      pixelsize = width/pixelamount;\r\n      for (int i = 0; i &lt; images.length; i++) {\r\n        images[i] = loadImage(i + &quot;.png&quot;);\r\n      }\r\n      imageMode(CENTER);\r\n    }\r\n    \r\n    void draw() {\r\n      background(0);\r\n      pushMatrix();\r\n      translate(pixelsize/2, pixelsize/2);\r\n      for (int x = 0; x &lt; pixelamount; x++) {\r\n        for (int y = 0; y &lt; pixelamount; y++) {\r\n          pushMatrix();\r\n          translate(pixelsize * x, pixelsize * y);\r\n          image(images[x + y * int(pixelamount)], 0, 0, pixelsize, pixelsize);\r\n          popMatrix();\r\n        }\r\n      }\r\n      popMatrix();\r\n    }\r\n\r\n","title":"display array sorted","body":"<p>Based on the latest answer – this is my code – working perfectly!</p>\n<pre><code>float pixelamount = 4;\nfloat pixelsize;\n\nPImage[] images = new PImage [16];\n\nvoid setup() {\n  size(1080, 1080);\n  pixelsize = width/pixelamount;\n  for (int i = 0; i &lt; images.length; i++) {\n    images[i] = loadImage(i + &quot;.png&quot;);\n  }\n  imageMode(CENTER);\n}\n\nvoid draw() {\n  background(0);\n  pushMatrix();\n  translate(pixelsize/2, pixelsize/2);\n  for (int x = 0; x &lt; pixelamount; x++) {\n    for (int y = 0; y &lt; pixelamount; y++) {\n      pushMatrix();\n      translate(pixelsize * x, pixelsize * y);\n      image(images[x + y * int(pixelamount)], 0, 0, pixelsize, pixelsize);\n      popMatrix();\n    }\n  }\n  popMatrix();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645633705,"creation_date":1645633705,"answer_id":71240672,"question_id":71240135,"body_markdown":"Alex is correct. \r\nCyrill, you&#39;re on the right track but seem to get confused between 3 ways at looking at your data:\r\n\r\n 1. The images array is a 1D array (indices 0 to 15)\r\n 2. The for loop is nested therefore you need to convert 2D indices to 1D. You are right: `x+y*width` would give you the correct array index, but in this case `width` is not the full width of your sketch in pixels but the width of the grid (i.e. the number of columns in the 4x4 grid: 4)\r\n 3. You are getting a null pointer pointer because you&#39;re trying to access elements in a 1D array as if it&#39;s 2D.\r\n\r\nSomething like this should work:\r\n```java\r\nfloat pixelamount = 4;\r\nfloat pixelsize;\r\n\r\nPImage[] images = new PImage [16];\r\n\r\nvoid setup() {\r\n  size(1080, 1080);\r\n  pixelsize = width/pixelamount;\r\n  for (int i = 0; i &lt; images.length; i++) {\r\n    images[i] = loadImage(i + &quot;.png&quot;);\r\n  }\r\n  //imageMode(CENTER);\r\n}\r\n\r\nvoid draw() {\r\n  background(0);\r\n  pushMatrix();\r\n  translate(pixelsize/2, pixelsize/2);\r\n  for (int x = 0; x &lt; pixelamount; x++) {\r\n    for (int y = 0; y &lt; pixelamount; y++) {\r\n      pushMatrix();\r\n      translate(pixelsize*x, pixelsize*y);\r\n      image(images[x + y * pixelamount], 0, 0, pixelsize, pixelsize);\r\n      popMatrix();\r\n    }\r\n  }\r\n  popMatrix();\r\n}\r\n```\r\n\r\nIf you want to loop with a single for loop (instead of a nested for loop) which would match how you store your data you can use this formula to go from 1D index to 2D indices:\r\n\r\n    x = index % gridColumns\r\n    y = index / gridColumns\r\n\r\n(Bare in mind these are integers (so in other languages (like Python/JS/etc.) you&#39;d pay attention to the division operation))\r\n\r\nHere&#39;s a basic example to illustrate this:\r\n\r\n```java\r\nsize(1080, 1080);\r\ntextAlign(CENTER, CENTER);\r\ntextFont(createFont(&quot;Courier New Bold&quot;, 12));\r\n\r\nint pixelAmount = 4;\r\nint pixelSize = width/pixelAmount;\r\n\r\nint gridColumns = 4;\r\n\r\n// iterate once\r\nfor(int i = 0; i &lt; 16; i++){\r\n  // calculate 2D grid indices\r\n  int xIndex = i % gridColumns;\r\n  int yIndex = i / gridColumns;\r\n  // convert from index to pixel size\r\n  int x = xIndex * pixelSize;\r\n  int y = yIndex * pixelSize;\r\n  // render debug data\r\n  String debugText = &quot;1D index:&quot; +  i + \r\n                     &quot;\\n2D indices:[&quot; + xIndex + &quot;][&quot; + yIndex + &quot;]&quot; +\r\n                     &quot;\\nx, y pixels::&quot; +  x + &quot;,&quot; + y;\r\n  \r\n  fill(255);\r\n  rect(x, y, pixelSize, pixelSize);\r\n  fill(0);\r\n  text(debugText, x + pixelSize / 2, y + pixelSize / 2);\r\n  \r\n}\r\n```\r\n\r\nHere&#39;s the same example as the above using a 2D array and nested loops:\r\n\r\n```java\r\nsize(1080, 1080);\r\ntextAlign(CENTER, CENTER);\r\ntextFont(createFont(&quot;Courier New Bold&quot;, 12));\r\n\r\nint pixelAmount = 4;\r\nint pixelSize = width/pixelAmount;\r\n\r\nint[][] grid = new int[pixelAmount][pixelAmount];\r\n\r\n// mimick image loading (storing 1D index)\r\nint index = 0;\r\nfor(int y = 0; y &lt; pixelAmount; y++)\r\n  for(int x = 0; x &lt; pixelAmount; x++)\r\n    grid[x][y] = index++;\r\n\r\n// mimick reading 2D array data\r\nfor(int y = 0; y &lt; pixelAmount; y++){\r\n  for(int x = 0; x &lt; pixelAmount; x++){\r\n    \r\n    int xPixels = x * pixelSize;\r\n    int yPixels = y * pixelSize;\r\n    \r\n    // manually copute index\r\n    // index = x + y * pixelAmount;\r\n    // or retrieve stored index\r\n    index = grid[x][y];\r\n    \r\n    String debugText = &quot;1D index:&quot; +  index + &quot;.png&quot; +\r\n                     &quot;\\n2D indices:[&quot; + x + &quot;][&quot; + y + &quot;]&quot; +\r\n                     &quot;\\nx, y pixels::&quot; +  xPixels + &quot;,&quot; + yPixels;\r\n  \r\n  fill(255);\r\n  rect(xPixels, yPixels, pixelSize, pixelSize);\r\n  fill(0);\r\n  text(debugText, xPixels + pixelSize / 2, yPixels + pixelSize / 2);\r\n  }\r\n}\r\n```\r\n\r\nMy answer is more for the sake of completeness: displaying both 1D/2D ways at looking at the data.\r\n\r\n\r\n ","title":"display array sorted","body":"<p>Alex is correct.\nCyrill, you're on the right track but seem to get confused between 3 ways at looking at your data:</p>\n<ol>\n<li>The images array is a 1D array (indices 0 to 15)</li>\n<li>The for loop is nested therefore you need to convert 2D indices to 1D. You are right: <code>x+y*width</code> would give you the correct array index, but in this case <code>width</code> is not the full width of your sketch in pixels but the width of the grid (i.e. the number of columns in the 4x4 grid: 4)</li>\n<li>You are getting a null pointer pointer because you're trying to access elements in a 1D array as if it's 2D.</li>\n</ol>\n<p>Something like this should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float pixelamount = 4;\nfloat pixelsize;\n\nPImage[] images = new PImage [16];\n\nvoid setup() {\n  size(1080, 1080);\n  pixelsize = width/pixelamount;\n  for (int i = 0; i &lt; images.length; i++) {\n    images[i] = loadImage(i + &quot;.png&quot;);\n  }\n  //imageMode(CENTER);\n}\n\nvoid draw() {\n  background(0);\n  pushMatrix();\n  translate(pixelsize/2, pixelsize/2);\n  for (int x = 0; x &lt; pixelamount; x++) {\n    for (int y = 0; y &lt; pixelamount; y++) {\n      pushMatrix();\n      translate(pixelsize*x, pixelsize*y);\n      image(images[x + y * pixelamount], 0, 0, pixelsize, pixelsize);\n      popMatrix();\n    }\n  }\n  popMatrix();\n}\n</code></pre>\n<p>If you want to loop with a single for loop (instead of a nested for loop) which would match how you store your data you can use this formula to go from 1D index to 2D indices:</p>\n<pre><code>x = index % gridColumns\ny = index / gridColumns\n</code></pre>\n<p>(Bare in mind these are integers (so in other languages (like Python/JS/etc.) you'd pay attention to the division operation))</p>\n<p>Here's a basic example to illustrate this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>size(1080, 1080);\ntextAlign(CENTER, CENTER);\ntextFont(createFont(&quot;Courier New Bold&quot;, 12));\n\nint pixelAmount = 4;\nint pixelSize = width/pixelAmount;\n\nint gridColumns = 4;\n\n// iterate once\nfor(int i = 0; i &lt; 16; i++){\n  // calculate 2D grid indices\n  int xIndex = i % gridColumns;\n  int yIndex = i / gridColumns;\n  // convert from index to pixel size\n  int x = xIndex * pixelSize;\n  int y = yIndex * pixelSize;\n  // render debug data\n  String debugText = &quot;1D index:&quot; +  i + \n                     &quot;\\n2D indices:[&quot; + xIndex + &quot;][&quot; + yIndex + &quot;]&quot; +\n                     &quot;\\nx, y pixels::&quot; +  x + &quot;,&quot; + y;\n  \n  fill(255);\n  rect(x, y, pixelSize, pixelSize);\n  fill(0);\n  text(debugText, x + pixelSize / 2, y + pixelSize / 2);\n  \n}\n</code></pre>\n<p>Here's the same example as the above using a 2D array and nested loops:</p>\n<pre class=\"lang-java prettyprint-override\"><code>size(1080, 1080);\ntextAlign(CENTER, CENTER);\ntextFont(createFont(&quot;Courier New Bold&quot;, 12));\n\nint pixelAmount = 4;\nint pixelSize = width/pixelAmount;\n\nint[][] grid = new int[pixelAmount][pixelAmount];\n\n// mimick image loading (storing 1D index)\nint index = 0;\nfor(int y = 0; y &lt; pixelAmount; y++)\n  for(int x = 0; x &lt; pixelAmount; x++)\n    grid[x][y] = index++;\n\n// mimick reading 2D array data\nfor(int y = 0; y &lt; pixelAmount; y++){\n  for(int x = 0; x &lt; pixelAmount; x++){\n    \n    int xPixels = x * pixelSize;\n    int yPixels = y * pixelSize;\n    \n    // manually copute index\n    // index = x + y * pixelAmount;\n    // or retrieve stored index\n    index = grid[x][y];\n    \n    String debugText = &quot;1D index:&quot; +  index + &quot;.png&quot; +\n                     &quot;\\n2D indices:[&quot; + x + &quot;][&quot; + y + &quot;]&quot; +\n                     &quot;\\nx, y pixels::&quot; +  xPixels + &quot;,&quot; + yPixels;\n  \n  fill(255);\n  rect(xPixels, yPixels, pixelSize, pixelSize);\n  fill(0);\n  text(debugText, xPixels + pixelSize / 2, yPixels + pixelSize / 2);\n  }\n}\n</code></pre>\n<p>My answer is more for the sake of completeness: displaying both 1D/2D ways at looking at the data.</p>\n"}],"owner":{"account_id":4826604,"reputation":833,"user_id":3895938,"accept_rate":61,"display_name":"Cyrill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71240310,"answer_count":3,"score":3,"last_activity_date":1645650078,"creation_date":1645631503,"question_id":71240135,"body_markdown":"Suppose I have a two-dimensional grid of pixels (4 by 4 pixels) - and I have an image the size of my sketch that has been cut into 16 parts. \r\nNow I load all 16 parts into an array. I want to map this array onto the 2D grid in turn, so that my overall image is put together again correctly. That is, top left image 0.png and bottom right image 16.png.\r\n\r\nI just can&#39;t find the formula that allows me to do this. For example, I know that with `x+y*width` you can run trough all pixels – from top left to bottom right - so I tried that. Without `*width` it doesn&#39;t sit together properly - with `x+y*width`- ArrayIndexOutOfBoundsException (for sure).\r\n\r\nSo I thought I needed a 2D array - but with  `images[x][y]` i get a NullPointerException. I attached you an image of what I am trying to create:\r\n\r\n[![the grid with the sliced images –&#160;16][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/ogLmA.jpg\r\n\r\n\r\nThis is my code so far –&#160;without the 2D Array…\r\n\r\n    float pixelamount = 4;\r\n    float pixelsize;\r\n    \r\n    PImage[] images = new PImage [16];\r\n    \r\n    void setup() {\r\n      size(1080, 1080);\r\n      pixelsize = width/pixelamount;\r\n      for (int i = 0; i &lt; images.length; i++) {\r\n        images[i] = loadImage(i + &quot;.png&quot;);\r\n      }\r\n      imageMode(CENTER);\r\n    }\r\n    \r\n    void draw() {\r\n      background(0);\r\n      pushMatrix();\r\n      translate(pixelsize/2, pixelsize/2);\r\n      for (int x = 0; x &lt; pixelamount; x++) {\r\n        for (int y = 0; y &lt; pixelamount; y++) {\r\n          pushMatrix();\r\n          translate(pixelsize*x, pixelsize*y);\r\n          image(images[x+y], 0, 0, pixelsize, pixelsize);\r\n          popMatrix();\r\n        }\r\n      }\r\n      popMatrix();\r\n    }\r\n\r\nAs I said – in the line `image(images[x+y], 0, 0, pixelsize, pixelsize);` I just do not get the math right. Do I need a 2D Array to solve this? Or something totally different?\r\n","title":"display array sorted","body":"<p>Suppose I have a two-dimensional grid of pixels (4 by 4 pixels) - and I have an image the size of my sketch that has been cut into 16 parts.\nNow I load all 16 parts into an array. I want to map this array onto the 2D grid in turn, so that my overall image is put together again correctly. That is, top left image 0.png and bottom right image 16.png.</p>\n<p>I just can't find the formula that allows me to do this. For example, I know that with <code>x+y*width</code> you can run trough all pixels – from top left to bottom right - so I tried that. Without <code>*width</code> it doesn't sit together properly - with <code>x+y*width</code>- ArrayIndexOutOfBoundsException (for sure).</p>\n<p>So I thought I needed a 2D array - but with  <code>images[x][y]</code> i get a NullPointerException. I attached you an image of what I am trying to create:</p>\n<p><a href=\"https://i.stack.imgur.com/ogLmA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ogLmA.jpg\" alt=\"the grid with the sliced images – 16\" /></a></p>\n<p>This is my code so far – without the 2D Array…</p>\n<pre><code>float pixelamount = 4;\nfloat pixelsize;\n\nPImage[] images = new PImage [16];\n\nvoid setup() {\n  size(1080, 1080);\n  pixelsize = width/pixelamount;\n  for (int i = 0; i &lt; images.length; i++) {\n    images[i] = loadImage(i + &quot;.png&quot;);\n  }\n  imageMode(CENTER);\n}\n\nvoid draw() {\n  background(0);\n  pushMatrix();\n  translate(pixelsize/2, pixelsize/2);\n  for (int x = 0; x &lt; pixelamount; x++) {\n    for (int y = 0; y &lt; pixelamount; y++) {\n      pushMatrix();\n      translate(pixelsize*x, pixelsize*y);\n      image(images[x+y], 0, 0, pixelsize, pixelsize);\n      popMatrix();\n    }\n  }\n  popMatrix();\n}\n</code></pre>\n<p>As I said – in the line <code>image(images[x+y], 0, 0, pixelsize, pixelsize);</code> I just do not get the math right. Do I need a 2D Array to solve this? Or something totally different?</p>\n"},{"tags":["java","swing","user-interface","jtable"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645610151,"post_id":71234446,"comment_id":125915384,"body_markdown":"For [example](https://stackoverflow.com/questions/13677850/add-background-image-in-jtable/13678077#13678077)","body":"For <a href=\"https://stackoverflow.com/questions/13677850/add-background-image-in-jtable/13678077#13678077\">example</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1645610362,"post_id":71234446,"comment_id":125915497,"body_markdown":"Consider providing a [mcve] which demonstrates your issue","body":"Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue"},{"owner":{"account_id":24350872,"reputation":3,"user_id":18286705,"display_name":"TriageONE"},"score":0,"creation_date":1645643558,"post_id":71234446,"comment_id":125929988,"body_markdown":"@MadProgrammer I&#39;ve updated the question. There is a fully self contained scratch file ready to run OOTB provided now","body":"@MadProgrammer I&#39;ve updated the question. There is a fully self contained scratch file ready to run OOTB provided now"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645649581,"post_id":71234446,"comment_id":125931918,"body_markdown":"I had issues when ever I used your `JTable` extensions, I would suggest not doing that and make better use of the custom renderer support and the table model itself","body":"I had issues when ever I used your <code>JTable</code> extensions, I would suggest not doing that and make better use of the custom renderer support and the table model itself"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645650025,"creation_date":1645650025,"answer_id":71243983,"question_id":71234446,"body_markdown":"While playing around with your code, I had issues when ever I used your `JTable` extensions...\r\n\r\n    JTable table = new JTable(model) {\r\n        @Override\r\n        public boolean isCellEditable(int row, int column) {\r\n            //all cells false\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; getColumnClass(int column) {\r\n            //Removing &#39;ImageIcon.class&#39; and replacing it with &#39;Object.class&#39; makes the table transparent, however does not display the image.\r\n            //Keeping this now allows us to put in images into the table, but removes the red square from the background and makes the table opaque\r\n            return ImageIcon.class;\r\n        }\r\n    };\r\n\r\nThis kind of makes me cringe anyway.\r\n\r\nIf you want to change the class type of the cell, then you really should be doing this from the `TableModel`, that&#39;s its responsibility.\r\n\r\nI&#39;d also, personally, supply my own `TableCellRenderer`, this way I gain full control over it&#39;s functionality directly\r\n\r\nFor example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Component;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.LinkedList;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.Icon;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.table.DefaultTableCellRenderer;\r\n    import javax.swing.table.DefaultTableModel;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        Object[][] data = new Object[32][32];\r\n                        String[] names = new String[32];\r\n                        DefaultTableModel model = new DefaultTableModel(data, names) {\r\n                            @Override\r\n                            public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n                                return Icon.class;\r\n                            }\r\n\r\n                            @Override\r\n                            public boolean isCellEditable(int row, int column) {\r\n                                return false;\r\n                            }                        \r\n                        };\r\n\r\n                        JTable table = new JTable(model);\r\n                        table.setOpaque(false);\r\n\r\n                        table.setDefaultRenderer(Icon.class, new TransparentTableCellRenderer());\r\n\r\n                        JScrollPane scrollPane = new JScrollPane(table);\r\n                        scrollPane.setOpaque(false);\r\n                        scrollPane.getViewport().setOpaque(false);\r\n\r\n                        LinkedList&lt;String&gt; selectedCells = new LinkedList&lt;&gt;();\r\n\r\n                        BufferedImage img = new BufferedImage(100, 100, BufferedImage.TYPE_INT_RGB);\r\n                        Graphics2D g2d = img.createGraphics();\r\n                        g2d.setColor(Color.RED);\r\n                        g2d.fillRect(0, 0, 100, 100);\r\n                        g2d.dispose();\r\n\r\n                        Icon icon = new ImageIcon(img);\r\n\r\n                        table.addMouseListener(new MouseAdapter() {\r\n                            @Override\r\n                            public void mouseClicked(MouseEvent e) {\r\n                                int row = table.rowAtPoint(e.getPoint());\r\n                                int col = table.columnAtPoint(e.getPoint());\r\n\r\n                                String string = row + &quot;|&quot; + col;\r\n\r\n                                if (selectedCells.contains(string)) {\r\n                                    //cell was already selected, deselect it\r\n                                    selectedCells.remove(string);\r\n                                    table.setValueAt(null, row, col);\r\n                                    System.out.println(&quot;Removed Cell &quot; + string);\r\n                                } else {\r\n                                    //cell was not selected\r\n                                    selectedCells.add(string);\r\n                                    table.setValueAt(icon, row, col);\r\n                                    System.out.println(&quot;Added Cell &quot; + string);\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        JFrame frame = new JFrame();\r\n                        // Supply your own back ground image\r\n                        frame.setContentPane(new BackgroundPane(ImageIO.read(Main.class.getResource(&quot;/images/Mando01.jpeg&quot;))));\r\n                        frame.add(scrollPane);\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TransparentTableCellRenderer extends DefaultTableCellRenderer {\r\n\r\n            @Override\r\n            public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n                super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\r\n                setOpaque(false);\r\n                if (value instanceof Icon) {\r\n                    setIcon((Icon)value);\r\n                } else {\r\n                    setIcon(null);\r\n                }\r\n                return this;\r\n            }\r\n\r\n        }\r\n\r\n        public class BackgroundPane extends JPanel {\r\n\r\n            private Image background;\r\n\r\n            public BackgroundPane(Image background) {\r\n                setLayout(new BorderLayout());\r\n                this.background = background;\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return background == null ? new Dimension(200, 200) : new Dimension(background.getWidth(this), background.getHeight(this));\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.drawImage(background, 0, 0, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KW5LN.jpg","title":"JTable becomes opaque even if specified otherwise, because of DefaultTableModel getColumnClass overrides","body":"<p>While playing around with your code, I had issues when ever I used your <code>JTable</code> extensions...</p>\n<pre><code>JTable table = new JTable(model) {\n    @Override\n    public boolean isCellEditable(int row, int column) {\n        //all cells false\n        return false;\n    }\n\n    @Override\n    public Class&lt;?&gt; getColumnClass(int column) {\n        //Removing 'ImageIcon.class' and replacing it with 'Object.class' makes the table transparent, however does not display the image.\n        //Keeping this now allows us to put in images into the table, but removes the red square from the background and makes the table opaque\n        return ImageIcon.class;\n    }\n};\n</code></pre>\n<p>This kind of makes me cringe anyway.</p>\n<p>If you want to change the class type of the cell, then you really should be doing this from the <code>TableModel</code>, that's its responsibility.</p>\n<p>I'd also, personally, supply my own <code>TableCellRenderer</code>, this way I gain full control over it's functionality directly</p>\n<p>For example...</p>\n<p><a href=\"https://i.stack.imgur.com/KW5LN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KW5LN.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.LinkedList;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.Icon;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    Object[][] data = new Object[32][32];\n                    String[] names = new String[32];\n                    DefaultTableModel model = new DefaultTableModel(data, names) {\n                        @Override\n                        public Class&lt;?&gt; getColumnClass(int columnIndex) {\n                            return Icon.class;\n                        }\n\n                        @Override\n                        public boolean isCellEditable(int row, int column) {\n                            return false;\n                        }                        \n                    };\n\n                    JTable table = new JTable(model);\n                    table.setOpaque(false);\n\n                    table.setDefaultRenderer(Icon.class, new TransparentTableCellRenderer());\n\n                    JScrollPane scrollPane = new JScrollPane(table);\n                    scrollPane.setOpaque(false);\n                    scrollPane.getViewport().setOpaque(false);\n\n                    LinkedList&lt;String&gt; selectedCells = new LinkedList&lt;&gt;();\n\n                    BufferedImage img = new BufferedImage(100, 100, BufferedImage.TYPE_INT_RGB);\n                    Graphics2D g2d = img.createGraphics();\n                    g2d.setColor(Color.RED);\n                    g2d.fillRect(0, 0, 100, 100);\n                    g2d.dispose();\n\n                    Icon icon = new ImageIcon(img);\n\n                    table.addMouseListener(new MouseAdapter() {\n                        @Override\n                        public void mouseClicked(MouseEvent e) {\n                            int row = table.rowAtPoint(e.getPoint());\n                            int col = table.columnAtPoint(e.getPoint());\n\n                            String string = row + &quot;|&quot; + col;\n\n                            if (selectedCells.contains(string)) {\n                                //cell was already selected, deselect it\n                                selectedCells.remove(string);\n                                table.setValueAt(null, row, col);\n                                System.out.println(&quot;Removed Cell &quot; + string);\n                            } else {\n                                //cell was not selected\n                                selectedCells.add(string);\n                                table.setValueAt(icon, row, col);\n                                System.out.println(&quot;Added Cell &quot; + string);\n                            }\n                        }\n                    });\n\n                    JFrame frame = new JFrame();\n                    // Supply your own back ground image\n                    frame.setContentPane(new BackgroundPane(ImageIO.read(Main.class.getResource(&quot;/images/Mando01.jpeg&quot;))));\n                    frame.add(scrollPane);\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TransparentTableCellRenderer extends DefaultTableCellRenderer {\n\n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            super.getTableCellRendererComponent(table, value, isSelected, hasFocus, row, column);\n            setOpaque(false);\n            if (value instanceof Icon) {\n                setIcon((Icon)value);\n            } else {\n                setIcon(null);\n            }\n            return this;\n        }\n\n    }\n\n    public class BackgroundPane extends JPanel {\n\n        private Image background;\n\n        public BackgroundPane(Image background) {\n            setLayout(new BorderLayout());\n            this.background = background;\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return background == null ? new Dimension(200, 200) : new Dimension(background.getWidth(this), background.getHeight(this));\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.drawImage(background, 0, 0, this);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24350872,"reputation":3,"user_id":18286705,"display_name":"TriageONE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71243983,"answer_count":1,"score":0,"last_activity_date":1645650025,"creation_date":1645608866,"question_id":71234446,"body_markdown":"My project requires that a table be drawn as transparent to reveal an image underneath. When I override the function `getColumnClass` in `DefaultTableModel`, it seems like `table.setOpaque(false)` no longer does anything. I need each cell to only draw images within, which works fine. Here is the table model: \r\n```\r\nJTable table = new JTable(model) {\r\n            @Override\r\n            public boolean isCellEditable(int row, int column) {\r\n                //all cells false\r\n                return false;\r\n            }\r\n            @Override\r\n            public Class&lt;?&gt; getColumnClass(int column) {\r\n                return ImageIcon.class;\r\n            }\r\n        };\r\n```\r\nThere is a small portion of the table visible while scrolling, but the moment the table updates when I move it around or click on it, it becomes opaque. \r\n\r\nI have a simple goal, where i am to overlay a translucent image in a cell, over an image underneath the table, as if like a selection. The image would toggle off and on and is handled in this mouse adapter: \r\n\r\n```\r\n@Override\r\npublic void mouseClicked(MouseEvent e) {\r\n\tint row = table.rowAtPoint(e.getPoint());//get mouse-selected row\r\n\tint col = table.columnAtPoint(e.getPoint());//get mouse-selected col\r\n\r\n\tString string = row+&quot;|&quot;+col;\r\n\r\n\tif(selectedCells.contains(string)){\r\n\t\r\n\t\t//cell was already selected, deselect it\r\n\t\tselectedCells.remove(string);\r\n\t\ttable.setValueAt(null, row, col);\r\n\t\tSystem.out.println(&quot;Removed Cell &quot; + string);\r\n\t\t\r\n\t} else {\r\n\t\r\n\t\t//cell was not selected\r\n\t\tselectedCells.add(string);\r\n\t\ttable.setValueAt(PrimaryWindow.selection, row, col);\r\n\t\tSystem.out.println(&quot;Added Cell &quot; + string);\r\n\t}\r\n}\r\n```\r\nI paint the image underneath by overriding the panel the table is in, which looks like this: \r\n```\r\nJPanel background = new JPanel( new BorderLayout() )\r\n        {\r\n            @Override\r\n            protected void paintComponent(Graphics g)\r\n            {\r\n                super.paintComponent(g);\r\n\r\n                g.drawImage(icon.getImage(), 0, 0, scale*32, scale*32, this);\r\n            }\r\n        };\r\n```\r\nAnd then add the table in above: `background.add(table);`\r\n\r\nI do have this set:\r\n```\r\nDefaultTableCellRenderer renderer = (DefaultTableCellRenderer)table.getDefaultRenderer(Object.class);\r\n        renderer.setOpaque(false);\r\n```\r\nAnd this set: \r\n```\r\ntable.setOpaque(false);\r\n```\r\n[Here is what the wrong, but current output looks like after clicking a bunch of places][1]\r\n\r\n[Here is what it looks like if i remove the custom renderer][2]\r\n\r\n[Here is what it should look like (i made it in paint)][3]\r\n\r\nSimply clicking the mouse does put an image inside the table at the cell I click, which is exactly what I want, as well as removing it upon clicking the same spot again. However, it is useless until I can see what is underneath. How can I have the table be transparent, and also display my images over the panel underneath? \r\n\r\nEDIT:\r\nHere is a scratch file with the problem in full display. Replace the  \r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.table.DefaultTableCellRenderer;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.util.LinkedList;\r\n\r\nclass Scratch {\r\n\r\n    static LinkedList&lt;String&gt; selectedCells = new LinkedList&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        frame.setSize(512,512);\r\n\r\n        //Make a red square\r\n        BufferedImage image = new BufferedImage(1,1, BufferedImage.TYPE_4BYTE_ABGR);\r\n        image.setRGB(0,0, Color.RED.getRGB());\r\n\r\n        //Scale it to the size of the window\r\n        ImageIcon icon = new ImageIcon(image.getScaledInstance(512, 512, 1));\r\n\r\n        image.setRGB(0,0, new Color(0x49000000, true).getRGB());\r\n\r\n        ImageIcon selection =  new ImageIcon(image.getScaledInstance(16, 16, 1));\r\n\r\n        Object[][] data = new Object[32][32];\r\n        String[] names = new String[32];\r\n        DefaultTableModel model = new DefaultTableModel(data, names);\r\n\r\n\r\n        JTable table = new JTable(model) {\r\n            @Override\r\n            public boolean isCellEditable(int row, int column) {\r\n                //all cells false\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public Class&lt;?&gt; getColumnClass(int column) {\r\n                //Removing &#39;ImageIcon.class&#39; and replacing it with &#39;Object.class&#39; makes the table transparent, however does not display the image.\r\n                //Keeping this now allows us to put in images into the table, but removes the red square from the background and makes the table opaque\r\n                return ImageIcon.class;\r\n            }\r\n        };\r\n        //Set the entire table to transparent\r\n        table.setOpaque(false);\r\n        //Set the renderer to transparent also\r\n        DefaultTableCellRenderer renderer = (DefaultTableCellRenderer)table.getDefaultRenderer(Object.class);\r\n        renderer.setOpaque(false);\r\n\r\n        MouseListener tableMouseListener = new MouseAdapter() {\r\n\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                int row = table.rowAtPoint(e.getPoint());\r\n                int col = table.columnAtPoint(e.getPoint());\r\n\r\n                String string = row+&quot;|&quot;+col;\r\n\r\n                if(selectedCells.contains(string)){\r\n                    //cell was already selected, deselect it\r\n                    selectedCells.remove(string);\r\n                    table.setValueAt(null, row, col);\r\n                    System.out.println(&quot;Removed Cell &quot; + string);\r\n                }else{\r\n                    //cell was not selected\r\n                    selectedCells.add(string);\r\n                    table.setValueAt(selection, row, col);\r\n                    System.out.println(&quot;Added Cell &quot; + string);\r\n                }\r\n                System.out.println(selectedCells);\r\n            }\r\n        };\r\n\r\n\r\n        table.addMouseListener(tableMouseListener);\r\n        table.setName(&quot;name&quot;);\r\n\r\n        JPanel background = new JPanel( new BorderLayout() )\r\n        {\r\n            @Override\r\n            protected void paintComponent(Graphics g)\r\n            {\r\n                super.paintComponent(g);\r\n\r\n                g.drawImage(icon.getImage(), 0, 0, 512, 512, this);\r\n            }\r\n        };\r\n        background.setSize(512,512);\r\n        frame.add(background);\r\n        background.add(table);\r\n\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bukcl.png\r\n  [2]: https://i.stack.imgur.com/Ot3IB.png\r\n  [3]: https://i.stack.imgur.com/iiaWB.png","title":"JTable becomes opaque even if specified otherwise, because of DefaultTableModel getColumnClass overrides","body":"<p>My project requires that a table be drawn as transparent to reveal an image underneath. When I override the function <code>getColumnClass</code> in <code>DefaultTableModel</code>, it seems like <code>table.setOpaque(false)</code> no longer does anything. I need each cell to only draw images within, which works fine. Here is the table model:</p>\n<pre><code>JTable table = new JTable(model) {\n            @Override\n            public boolean isCellEditable(int row, int column) {\n                //all cells false\n                return false;\n            }\n            @Override\n            public Class&lt;?&gt; getColumnClass(int column) {\n                return ImageIcon.class;\n            }\n        };\n</code></pre>\n<p>There is a small portion of the table visible while scrolling, but the moment the table updates when I move it around or click on it, it becomes opaque.</p>\n<p>I have a simple goal, where i am to overlay a translucent image in a cell, over an image underneath the table, as if like a selection. The image would toggle off and on and is handled in this mouse adapter:</p>\n<pre><code>@Override\npublic void mouseClicked(MouseEvent e) {\n    int row = table.rowAtPoint(e.getPoint());//get mouse-selected row\n    int col = table.columnAtPoint(e.getPoint());//get mouse-selected col\n\n    String string = row+&quot;|&quot;+col;\n\n    if(selectedCells.contains(string)){\n    \n        //cell was already selected, deselect it\n        selectedCells.remove(string);\n        table.setValueAt(null, row, col);\n        System.out.println(&quot;Removed Cell &quot; + string);\n        \n    } else {\n    \n        //cell was not selected\n        selectedCells.add(string);\n        table.setValueAt(PrimaryWindow.selection, row, col);\n        System.out.println(&quot;Added Cell &quot; + string);\n    }\n}\n</code></pre>\n<p>I paint the image underneath by overriding the panel the table is in, which looks like this:</p>\n<pre><code>JPanel background = new JPanel( new BorderLayout() )\n        {\n            @Override\n            protected void paintComponent(Graphics g)\n            {\n                super.paintComponent(g);\n\n                g.drawImage(icon.getImage(), 0, 0, scale*32, scale*32, this);\n            }\n        };\n</code></pre>\n<p>And then add the table in above: <code>background.add(table);</code></p>\n<p>I do have this set:</p>\n<pre><code>DefaultTableCellRenderer renderer = (DefaultTableCellRenderer)table.getDefaultRenderer(Object.class);\n        renderer.setOpaque(false);\n</code></pre>\n<p>And this set:</p>\n<pre><code>table.setOpaque(false);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Bukcl.png\" rel=\"nofollow noreferrer\">Here is what the wrong, but current output looks like after clicking a bunch of places</a></p>\n<p><a href=\"https://i.stack.imgur.com/Ot3IB.png\" rel=\"nofollow noreferrer\">Here is what it looks like if i remove the custom renderer</a></p>\n<p><a href=\"https://i.stack.imgur.com/iiaWB.png\" rel=\"nofollow noreferrer\">Here is what it should look like (i made it in paint)</a></p>\n<p>Simply clicking the mouse does put an image inside the table at the cell I click, which is exactly what I want, as well as removing it upon clicking the same spot again. However, it is useless until I can see what is underneath. How can I have the table be transparent, and also display my images over the panel underneath?</p>\n<p>EDIT:\nHere is a scratch file with the problem in full display. Replace the</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.image.BufferedImage;\nimport java.util.LinkedList;\n\nclass Scratch {\n\n    static LinkedList&lt;String&gt; selectedCells = new LinkedList&lt;&gt;();\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setSize(512,512);\n\n        //Make a red square\n        BufferedImage image = new BufferedImage(1,1, BufferedImage.TYPE_4BYTE_ABGR);\n        image.setRGB(0,0, Color.RED.getRGB());\n\n        //Scale it to the size of the window\n        ImageIcon icon = new ImageIcon(image.getScaledInstance(512, 512, 1));\n\n        image.setRGB(0,0, new Color(0x49000000, true).getRGB());\n\n        ImageIcon selection =  new ImageIcon(image.getScaledInstance(16, 16, 1));\n\n        Object[][] data = new Object[32][32];\n        String[] names = new String[32];\n        DefaultTableModel model = new DefaultTableModel(data, names);\n\n\n        JTable table = new JTable(model) {\n            @Override\n            public boolean isCellEditable(int row, int column) {\n                //all cells false\n                return false;\n            }\n\n            @Override\n            public Class&lt;?&gt; getColumnClass(int column) {\n                //Removing 'ImageIcon.class' and replacing it with 'Object.class' makes the table transparent, however does not display the image.\n                //Keeping this now allows us to put in images into the table, but removes the red square from the background and makes the table opaque\n                return ImageIcon.class;\n            }\n        };\n        //Set the entire table to transparent\n        table.setOpaque(false);\n        //Set the renderer to transparent also\n        DefaultTableCellRenderer renderer = (DefaultTableCellRenderer)table.getDefaultRenderer(Object.class);\n        renderer.setOpaque(false);\n\n        MouseListener tableMouseListener = new MouseAdapter() {\n\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                int row = table.rowAtPoint(e.getPoint());\n                int col = table.columnAtPoint(e.getPoint());\n\n                String string = row+&quot;|&quot;+col;\n\n                if(selectedCells.contains(string)){\n                    //cell was already selected, deselect it\n                    selectedCells.remove(string);\n                    table.setValueAt(null, row, col);\n                    System.out.println(&quot;Removed Cell &quot; + string);\n                }else{\n                    //cell was not selected\n                    selectedCells.add(string);\n                    table.setValueAt(selection, row, col);\n                    System.out.println(&quot;Added Cell &quot; + string);\n                }\n                System.out.println(selectedCells);\n            }\n        };\n\n\n        table.addMouseListener(tableMouseListener);\n        table.setName(&quot;name&quot;);\n\n        JPanel background = new JPanel( new BorderLayout() )\n        {\n            @Override\n            protected void paintComponent(Graphics g)\n            {\n                super.paintComponent(g);\n\n                g.drawImage(icon.getImage(), 0, 0, 512, 512, this);\n            }\n        };\n        background.setSize(512,512);\n        frame.add(background);\n        background.add(table);\n\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark"],"comments":[{"owner":{"account_id":1476224,"reputation":31485,"user_id":1386551,"accept_rate":74,"display_name":"blackbishop"},"score":2,"creation_date":1642153159,"post_id":70708430,"comment_id":125000310,"body_markdown":"You&#39;re using a non-partitioned window. You need to partition by department: `Window.partitionBy(&quot;lib_dep&quot;).orderBy(&quot;date&quot;)`","body":"You&#39;re using a non-partitioned window. You need to partition by department: <code>Window.partitionBy(&quot;lib_dep&quot;).orderBy(&quot;date&quot;)</code>"},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1642154981,"post_id":70708430,"comment_id":125000948,"body_markdown":"Oups!!! It&#39;s ok. Sorry !\nPut this as an answer if you want, so that I can accept it, for the 10 points you deserve.","body":"Oups!!! It&#39;s ok. Sorry ! Put this as an answer if you want, so that I can accept it, for the 10 points you deserve."}],"answers":[{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645648705,"creation_date":1645648705,"answer_id":71243760,"question_id":70708430,"body_markdown":"@blackbishop in comments found that\r\n\r\nI was using a non-partitioned window. \r\nI needed to partition by department: `Window.partitionBy(&quot;lib_dep&quot;).orderBy(&quot;date&quot;)`","title":"A lag function honors how data are sorted, but crosses a group, and this I do not want: I must be mistunderstanding how window and lag functions work","body":"<p>@blackbishop in comments found that</p>\n<p>I was using a non-partitioned window.\nI needed to partition by department: <code>Window.partitionBy(&quot;lib_dep&quot;).orderBy(&quot;date&quot;)</code></p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71243760,"answer_count":1,"score":1,"last_activity_date":1645648705,"creation_date":1642152325,"question_id":70708430,"body_markdown":"I&#39;m doing a covid data extraction and I would like to compare for each French department (`dep` and `lib_dep`: code and name), the rate of people who are hospitalized a day (`hosp`) on the number cases known 5 days before.\r\n\r\nFor that, I&#39;m running this script, from a dataset ready in a  variable named `synthese`:\r\n\r\n```scala\r\nimport org.apache.spark.sql.expressions.Window\r\nimport org.apache.spark.sql.expressions.WindowSpec\r\n\r\nval w:WindowSpec = Window.orderBy(&quot;dep&quot;, &quot;date&quot;);\r\nvar cas_relatif_hospitalisation = lag(&quot;cas&quot;, 5).over(w);\r\n\r\nsynthese = synthese.withColumn(&quot;cas_relatif_hospitalisation&quot;,\r\n    cas_relatif_hospitalisation)\r\n\r\nsynthese.select(&quot;date&quot;, &quot;lib_dep&quot;, &quot;populationDepartementale&quot;, &quot;tx_incid&quot;, &quot;cas&quot;, \r\n   &quot;cas_relatif_hospitalisation&quot;, &quot;hosp&quot;, &quot;rea&quot;).show(1000, true)\r\n```\r\n\r\nHere is a part of the results I&#39;m receiving:\r\n\r\n|      date|lib_dep|populationDepartementale|        tx_incid|    cas|cas_relatif_hospitalisation|hosp|rea|\r\n|----------|-------|------------------------|----------------|-------|---------------------------|----|---|\r\n|2022-01-02|    Ain|                  647634|1578.03806957859|10220.0|                     6809.0| 106| 15|\r\n|2022-01-03|    Ain|                  647634|1879.58079320501|12173.0|                     7852.0| 109| 15|\r\n|2022-01-04|    Ain|                  647634|2104.10149858057|13627.0|                     8977.0|  97| 10|\r\n|2022-01-05|    Ain|                  647634|2241.24940064388|14515.0|                     9864.0| 112| 10|\r\n|2022-01-06|    Ain|                  647634|2332.12320478572|15104.0|                     9935.0| 118| 11|\r\n|2022-01-07|    Ain|                  647634|2473.83762967022|16021.0|                    10220.0| 116| 11|\r\n|2022-01-08|    Ain|                  647634|2696.83616077205|__17466.0__|                    12173.0| 112| 13|\r\n|2022-01-09|    Ain|                  647634|2743.11025869352|17765.0|                    13627.0| 112| 13|\r\n|2022-01-10|    __Ain__|                  647634|2800.34401138586|__18136.0__|                    14515.0| 122| 13|\r\n|2022-01-11|    Ain|                  647634|            null|   null|                    15104.0| 139| 13|\r\n|2022-01-12|    Ain|                  647634|            null|   null|                    16021.0| 147| 13|\r\n|2022-01-13|    Ain|                  647634|            null|   null|                    __17466.0__| 143| 11|\r\n|2020-03-18|  Aisne|                  533316|            null|   null|                    17765.0|  41| 10|\r\n|2020-03-19|  __Aisne (!!!)__|                  533316|            null|   null|                    __18136.0 (!!!)__|  43| 15|\r\n|2020-03-20|  Aisne|                  533316|            null|   null|                       null|  52| 19|\r\n|2020-03-21|  Aisne|                  533316|            null|   null|                       null|  61| 20|\r\n|2020-03-22|  Aisne|                  533316|            null|   null|                       null|  69| 21|\r\n\r\nWhen I see the `cas_relatif_hospitalisation` (D-5 value of `cas`) of 2022-01-13 (YMD) for the _Ain_ department, it has the value I&#39;m willing: the content of `cas` column for 2022-01-08.\r\n\r\nBut when I see the `cas_relatif_hospitalisation` value that comes soon after, as the department has now changed and became _Aisne_, I notice that the D-5 value for (_Aisne_, 2020-03-19) is the one of (_Ain_, 2022-01-10). And it&#39;s not what I was expecting...\r\n\r\nYes, spark goes five record back. Following the good order.  \r\nBut for me, the department was a bound, a frontier that `lag` function shouldn&#39;t have crossed, and I was expecting a null value. But it did.\r\n\r\nWhat am I doing wrong, or misunderstanding about `lag` and `window` functions usage?","title":"A lag function honors how data are sorted, but crosses a group, and this I do not want: I must be mistunderstanding how window and lag functions work","body":"<p>I'm doing a covid data extraction and I would like to compare for each French department (<code>dep</code> and <code>lib_dep</code>: code and name), the rate of people who are hospitalized a day (<code>hosp</code>) on the number cases known 5 days before.</p>\n<p>For that, I'm running this script, from a dataset ready in a  variable named <code>synthese</code>:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import org.apache.spark.sql.expressions.Window\nimport org.apache.spark.sql.expressions.WindowSpec\n\nval w:WindowSpec = Window.orderBy(&quot;dep&quot;, &quot;date&quot;);\nvar cas_relatif_hospitalisation = lag(&quot;cas&quot;, 5).over(w);\n\nsynthese = synthese.withColumn(&quot;cas_relatif_hospitalisation&quot;,\n    cas_relatif_hospitalisation)\n\nsynthese.select(&quot;date&quot;, &quot;lib_dep&quot;, &quot;populationDepartementale&quot;, &quot;tx_incid&quot;, &quot;cas&quot;, \n   &quot;cas_relatif_hospitalisation&quot;, &quot;hosp&quot;, &quot;rea&quot;).show(1000, true)\n</code></pre>\n<p>Here is a part of the results I'm receiving:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>date</th>\n<th>lib_dep</th>\n<th>populationDepartementale</th>\n<th>tx_incid</th>\n<th>cas</th>\n<th>cas_relatif_hospitalisation</th>\n<th>hosp</th>\n<th>rea</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2022-01-02</td>\n<td>Ain</td>\n<td>647634</td>\n<td>1578.03806957859</td>\n<td>10220.0</td>\n<td>6809.0</td>\n<td>106</td>\n<td>15</td>\n</tr>\n<tr>\n<td>2022-01-03</td>\n<td>Ain</td>\n<td>647634</td>\n<td>1879.58079320501</td>\n<td>12173.0</td>\n<td>7852.0</td>\n<td>109</td>\n<td>15</td>\n</tr>\n<tr>\n<td>2022-01-04</td>\n<td>Ain</td>\n<td>647634</td>\n<td>2104.10149858057</td>\n<td>13627.0</td>\n<td>8977.0</td>\n<td>97</td>\n<td>10</td>\n</tr>\n<tr>\n<td>2022-01-05</td>\n<td>Ain</td>\n<td>647634</td>\n<td>2241.24940064388</td>\n<td>14515.0</td>\n<td>9864.0</td>\n<td>112</td>\n<td>10</td>\n</tr>\n<tr>\n<td>2022-01-06</td>\n<td>Ain</td>\n<td>647634</td>\n<td>2332.12320478572</td>\n<td>15104.0</td>\n<td>9935.0</td>\n<td>118</td>\n<td>11</td>\n</tr>\n<tr>\n<td>2022-01-07</td>\n<td>Ain</td>\n<td>647634</td>\n<td>2473.83762967022</td>\n<td>16021.0</td>\n<td>10220.0</td>\n<td>116</td>\n<td>11</td>\n</tr>\n<tr>\n<td>2022-01-08</td>\n<td>Ain</td>\n<td>647634</td>\n<td>2696.83616077205</td>\n<td><strong>17466.0</strong></td>\n<td>12173.0</td>\n<td>112</td>\n<td>13</td>\n</tr>\n<tr>\n<td>2022-01-09</td>\n<td>Ain</td>\n<td>647634</td>\n<td>2743.11025869352</td>\n<td>17765.0</td>\n<td>13627.0</td>\n<td>112</td>\n<td>13</td>\n</tr>\n<tr>\n<td>2022-01-10</td>\n<td><strong>Ain</strong></td>\n<td>647634</td>\n<td>2800.34401138586</td>\n<td><strong>18136.0</strong></td>\n<td>14515.0</td>\n<td>122</td>\n<td>13</td>\n</tr>\n<tr>\n<td>2022-01-11</td>\n<td>Ain</td>\n<td>647634</td>\n<td>null</td>\n<td>null</td>\n<td>15104.0</td>\n<td>139</td>\n<td>13</td>\n</tr>\n<tr>\n<td>2022-01-12</td>\n<td>Ain</td>\n<td>647634</td>\n<td>null</td>\n<td>null</td>\n<td>16021.0</td>\n<td>147</td>\n<td>13</td>\n</tr>\n<tr>\n<td>2022-01-13</td>\n<td>Ain</td>\n<td>647634</td>\n<td>null</td>\n<td>null</td>\n<td><strong>17466.0</strong></td>\n<td>143</td>\n<td>11</td>\n</tr>\n<tr>\n<td>2020-03-18</td>\n<td>Aisne</td>\n<td>533316</td>\n<td>null</td>\n<td>null</td>\n<td>17765.0</td>\n<td>41</td>\n<td>10</td>\n</tr>\n<tr>\n<td>2020-03-19</td>\n<td><strong>Aisne (!!!)</strong></td>\n<td>533316</td>\n<td>null</td>\n<td>null</td>\n<td><strong>18136.0 (!!!)</strong></td>\n<td>43</td>\n<td>15</td>\n</tr>\n<tr>\n<td>2020-03-20</td>\n<td>Aisne</td>\n<td>533316</td>\n<td>null</td>\n<td>null</td>\n<td>null</td>\n<td>52</td>\n<td>19</td>\n</tr>\n<tr>\n<td>2020-03-21</td>\n<td>Aisne</td>\n<td>533316</td>\n<td>null</td>\n<td>null</td>\n<td>null</td>\n<td>61</td>\n<td>20</td>\n</tr>\n<tr>\n<td>2020-03-22</td>\n<td>Aisne</td>\n<td>533316</td>\n<td>null</td>\n<td>null</td>\n<td>null</td>\n<td>69</td>\n<td>21</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>When I see the <code>cas_relatif_hospitalisation</code> (D-5 value of <code>cas</code>) of 2022-01-13 (YMD) for the <em>Ain</em> department, it has the value I'm willing: the content of <code>cas</code> column for 2022-01-08.</p>\n<p>But when I see the <code>cas_relatif_hospitalisation</code> value that comes soon after, as the department has now changed and became <em>Aisne</em>, I notice that the D-5 value for (<em>Aisne</em>, 2020-03-19) is the one of (<em>Ain</em>, 2022-01-10). And it's not what I was expecting...</p>\n<p>Yes, spark goes five record back. Following the good order.<br />\nBut for me, the department was a bound, a frontier that <code>lag</code> function shouldn't have crossed, and I was expecting a null value. But it did.</p>\n<p>What am I doing wrong, or misunderstanding about <code>lag</code> and <code>window</code> functions usage?</p>\n"},{"tags":["java","spring","cassandra","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":275520,"reputation":416,"user_id":568441,"display_name":"Dr. Benedict Porkins"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1645648634,"creation_date":1645648634,"answer_id":71243748,"question_id":70365880,"body_markdown":"I had the same issue with a Spring Boot and Cassandra running in a Docker container.\r\n\r\nmake sure your `local-datacenter` value in the Spring Boot application.yml matches the value of the running Cassandra.\r\n\r\nTo find it, drop into the container and look for `cassandra-rackdc.properties` file. Mine was in `/opt//dse/resources/cassandra/conf/`.\r\n\r\n\r\n    # These properties are used with GossipingPropertyFileSnitch and will\r\n    # indicate the rack and dc for this node\r\n    dc=dc1\r\n    rack=rack1","title":"Spring cassandra No node was available to execute the query","body":"<p>I had the same issue with a Spring Boot and Cassandra running in a Docker container.</p>\n<p>make sure your <code>local-datacenter</code> value in the Spring Boot application.yml matches the value of the running Cassandra.</p>\n<p>To find it, drop into the container and look for <code>cassandra-rackdc.properties</code> file. Mine was in <code>/opt//dse/resources/cassandra/conf/</code>.</p>\n<pre><code># These properties are used with GossipingPropertyFileSnitch and will\n# indicate the rack and dc for this node\ndc=dc1\nrack=rack1\n</code></pre>\n"}],"owner":{"account_id":15521882,"reputation":372,"user_id":11564329,"display_name":"Alexey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3554,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1645648634,"creation_date":1639580492,"question_id":70365880,"body_markdown":"I&#39;m writing integration tests for my Cassandra database, I use testcontainers 1.16.2 with Spring boot 2.6.1 and there&#39;s strange behaviour: the result of tests depends on which order they are being executed.\r\n\r\nThis is my application.yml:\r\n```\r\nspring:\r\n  data:\r\n    cassandra:\r\n      keyspace-name: test_keyspace\r\n      contact-points: localhost\r\n      schema-action: create_if_not_exists\r\n      port: 9042\r\n      local-datacenter: datacenter1\r\n  jpa:\r\n    database-platform: org.apache.cassandra.cql.jdbc.CassandraDriver\r\n```\r\nCassandra config\r\n```\r\n@Configuration\r\n@EnableCassandraRepositories(basePackages = { BASE_PACKAGE })\r\npublic class CassandraConfig {\r\n\r\n    @Value(&quot;${spring.data.cassandra.contact-points}&quot;)\r\n    private String contactPoints;\r\n    @Value(&quot;${spring.data.cassandra.keyspace-name}&quot;)\r\n    private String keyspaceName;\r\n    @Value(&quot;${spring.data.cassandra.local-datacenter}&quot;)\r\n    private String datacenterName;\r\n    @Value(&quot;${spring.data.cassandra.port}&quot;)\r\n    private int port;\r\n\r\n    @Bean\r\n    public CqlSessionFactoryBean session() {\r\n        CqlSessionFactoryBean session = new CqlSessionFactoryBean();\r\n        session.setContactPoints(contactPoints);\r\n        session.setKeyspaceName(keyspaceName);\r\n        session.setLocalDatacenter(datacenterName);\r\n        session.setPort(port);\r\n        return session;\r\n    }\r\n\r\n    @Bean\r\n    public SessionFactoryFactoryBean sessionFactory(CqlSession session, CassandraConverter converter) {\r\n        SessionFactoryFactoryBean sessionFactory = new SessionFactoryFactoryBean();\r\n        sessionFactory.setSession(session);\r\n        sessionFactory.setConverter(converter);\r\n        sessionFactory.setSchemaAction(SchemaAction.NONE);\r\n\r\n        return sessionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public CassandraMappingContext mappingContext(CqlSession cqlSession) {\r\n        CassandraMappingContext mappingContext = new CassandraMappingContext();\r\n        mappingContext.setUserTypeResolver(new SimpleUserTypeResolver(cqlSession));\r\n        return mappingContext;\r\n    }\r\n\r\n    @Bean\r\n    public CassandraConverter converter(CassandraMappingContext mappingContext) {\r\n        return new MappingCassandraConverter(mappingContext);\r\n    }\r\n\r\n    @Bean\r\n    public CassandraOperations cassandraTemplate(SessionFactory sessionFactory, CassandraConverter converter) {\r\n        return new CassandraTemplate(sessionFactory, converter);\r\n    }\r\n}\r\n```\r\nService\r\n```\r\n@Service\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class PersonService {\r\n\r\n    private final PersonRepository repository;\r\n\r\n    @Transactional\r\n    @SneakyThrows\r\n    public UUID createPerson(Person person) {\r\n        UUID id = UUID.randomUUID();\r\n        Person entity = new Person();\r\n        entity.setId(id);\r\n        entity.setName(person.getName());\r\n        Person saved = repository.save(entity);\r\n        return saved.getId();\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my integration test\r\n\r\n```\r\n\r\n@Testcontainers\r\n@SpringBootTest\r\n@ContextConfiguration(initializers = {IntegrationTest.PropertiesInitializer.class})\r\n@Slf4j\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class IntegrationTest {\r\n\r\n    private static final String KEYSPACE_NAME = &quot;test_keyspace&quot;;\r\n\r\n    @Container\r\n    public static CassandraContainer&lt;?&gt; CASSANDRA = new CassandraContainer&lt;&gt;(&quot;cassandra:4.0.1&quot;)\r\n            .withExposedPorts(9042)\r\n            .withLogConsumer(new Slf4jLogConsumer(log))\r\n            .withReuse(true);\r\n\r\n    private static void executeStartQueries(Cluster cluster) {\r\n        try (Session session = cluster.connect()) {\r\n            session.execute(&quot;&quot;&quot;\r\n                    CREATE KEYSPACE IF NOT EXISTS %s WITH replication =\r\n                     {&#39;class&#39;:&#39;SimpleStrategy&#39;,&#39;replication_factor&#39;:&#39;1&#39;};\r\n                     &quot;&quot;&quot;.formatted(KEYSPACE_NAME));\r\n            session.execute(&quot;&quot;&quot;\r\n                    CREATE TABLE IF NOT EXISTS  %s.Person (id uuid PRIMARY KEY, name text);\r\n                    &quot;&quot;&quot;.formatted(KEYSPACE_NAME));\r\n        }\r\n    }\r\n\r\n    public static class PropertiesInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n        @Override\r\n        public void initialize(ConfigurableApplicationContext applicationContext) {\r\n            TestPropertyValues.of(\r\n                    &quot;spring.data.cassandra.port=&quot; + CASSANDRA.getMappedPort(9042)\r\n            ).applyTo(applicationContext.getEnvironment());\r\n            executeStartQueries(CASSANDRA.getCluster());\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void createPerson_Success() {\r\n        UUID personId = service.createPerson(new Person().setName(&quot;name&quot;));\r\n        assertNotNull(personId);\r\n    }\r\n}\r\n```\r\nI also have other test classes. And if they run first, I have such exception and tests fail:\r\n```\r\nQuery; CQL [INSERT INTO person (name,id) VALUES (?,?)]; No node was available to execute the query; nested exception is com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query\r\norg.springframework.data.cassandra.CassandraConnectionFailureException: Query; CQL [INSERT INTO person (name,id) VALUES (?,?)]; No node was available to execute the query; nested exception is com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query\r\n\tat app//org.springframework.data.cassandra.core.cql.CassandraExceptionTranslator.translate(CassandraExceptionTranslator.java:137)\r\n\tat app//org.springframework.data.cassandra.core.cql.CassandraAccessor.translate(CassandraAccessor.java:422)\r\n\tat app//org.springframework.data.cassandra.core.cql.CqlTemplate.translateException(CqlTemplate.java:764)\r\n\tat app//org.springframework.data.cassandra.core.cql.CqlTemplate.query(CqlTemplate.java:545)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.doExecute(CassandraTemplate.java:959)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.doExecute(CassandraTemplate.java:947)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.executeSave(CassandraTemplate.java:898)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.executeSave(CassandraTemplate.java:889)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.doInsert(CassandraTemplate.java:700)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.doInsert(CassandraTemplate.java:683)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate.insert(CassandraTemplate.java:664)\r\n\tat app//org.springframework.data.cassandra.repository.support.SimpleCassandraRepository.save(SimpleCassandraRepository.java:96)\r\n\tat java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\r\n\tat app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat app/jdk.proxy3/jdk.proxy3.$Proxy144.save(Unknown Source)\r\n\tat app//com.pepsico.shelfIntelligence.service.impl.ModelMetadataServiceImpl.createModelMetadata(ModelMetadataServiceImpl.java:46)\r\n\tat app//com.pepsico.shelfIntelligence.service.ModelMetadataServiceImplTest.getModelMetadata_Success(ModelMetadataServiceImplTest.java:197)\r\n\tat java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.1/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.1/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query\r\n\tat app//com.datastax.oss.driver.api.core.NoNodeAvailableException.copy(NoNodeAvailableException.java:40)\r\n\tat app//com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149)\r\n\tat app//com.datastax.oss.driver.internal.core.cql.CqlPrepareSyncProcessor.process(CqlPrepareSyncProcessor.java:59)\r\n\tat app//com.datastax.oss.driver.internal.core.cql.CqlPrepareSyncProcessor.process(CqlPrepareSyncProcessor.java:31)\r\n\tat app//com.datastax.oss.driver.internal.core.session.DefaultSession.execute(DefaultSession.java:230)\r\n\tat app//com.datastax.oss.driver.api.core.cql.SyncCqlSession.prepare(SyncCqlSession.java:206)\r\n\tat app//org.springframework.data.cassandra.core.CassandraTemplate$PreparedStatementHandler.createPreparedStatement(CassandraTemplate.java:1082)\r\n\tat app//org.springframework.data.cassandra.core.cql.CqlTemplate.query(CqlTemplate.java:531)\r\n\t... 113 more\r\n\r\n\r\n```\r\nI have tried to debug my application, and I see that while executing this test, docker container with database is created, it has my keyspace and my table, I can execute queries. Also I tried to check my bean &quot;CqlSessionFactoryBean&quot; and it&#39;s connected to the right host/port/keyspace. So, I have no ideas why it is happening. If Spring executes this test class first, all tests are passed. But if another class first, this one fails Any ideas?","title":"Spring cassandra No node was available to execute the query","body":"<p>I'm writing integration tests for my Cassandra database, I use testcontainers 1.16.2 with Spring boot 2.6.1 and there's strange behaviour: the result of tests depends on which order they are being executed.</p>\n<p>This is my application.yml:</p>\n<pre><code>spring:\n  data:\n    cassandra:\n      keyspace-name: test_keyspace\n      contact-points: localhost\n      schema-action: create_if_not_exists\n      port: 9042\n      local-datacenter: datacenter1\n  jpa:\n    database-platform: org.apache.cassandra.cql.jdbc.CassandraDriver\n</code></pre>\n<p>Cassandra config</p>\n<pre><code>@Configuration\n@EnableCassandraRepositories(basePackages = { BASE_PACKAGE })\npublic class CassandraConfig {\n\n    @Value(&quot;${spring.data.cassandra.contact-points}&quot;)\n    private String contactPoints;\n    @Value(&quot;${spring.data.cassandra.keyspace-name}&quot;)\n    private String keyspaceName;\n    @Value(&quot;${spring.data.cassandra.local-datacenter}&quot;)\n    private String datacenterName;\n    @Value(&quot;${spring.data.cassandra.port}&quot;)\n    private int port;\n\n    @Bean\n    public CqlSessionFactoryBean session() {\n        CqlSessionFactoryBean session = new CqlSessionFactoryBean();\n        session.setContactPoints(contactPoints);\n        session.setKeyspaceName(keyspaceName);\n        session.setLocalDatacenter(datacenterName);\n        session.setPort(port);\n        return session;\n    }\n\n    @Bean\n    public SessionFactoryFactoryBean sessionFactory(CqlSession session, CassandraConverter converter) {\n        SessionFactoryFactoryBean sessionFactory = new SessionFactoryFactoryBean();\n        sessionFactory.setSession(session);\n        sessionFactory.setConverter(converter);\n        sessionFactory.setSchemaAction(SchemaAction.NONE);\n\n        return sessionFactory;\n    }\n\n    @Bean\n    public CassandraMappingContext mappingContext(CqlSession cqlSession) {\n        CassandraMappingContext mappingContext = new CassandraMappingContext();\n        mappingContext.setUserTypeResolver(new SimpleUserTypeResolver(cqlSession));\n        return mappingContext;\n    }\n\n    @Bean\n    public CassandraConverter converter(CassandraMappingContext mappingContext) {\n        return new MappingCassandraConverter(mappingContext);\n    }\n\n    @Bean\n    public CassandraOperations cassandraTemplate(SessionFactory sessionFactory, CassandraConverter converter) {\n        return new CassandraTemplate(sessionFactory, converter);\n    }\n}\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class PersonService {\n\n    private final PersonRepository repository;\n\n    @Transactional\n    @SneakyThrows\n    public UUID createPerson(Person person) {\n        UUID id = UUID.randomUUID();\n        Person entity = new Person();\n        entity.setId(id);\n        entity.setName(person.getName());\n        Person saved = repository.save(entity);\n        return saved.getId();\n    }\n}\n</code></pre>\n<p>And this is my integration test</p>\n<pre><code>\n@Testcontainers\n@SpringBootTest\n@ContextConfiguration(initializers = {IntegrationTest.PropertiesInitializer.class})\n@Slf4j\n@ActiveProfiles(&quot;test&quot;)\npublic class IntegrationTest {\n\n    private static final String KEYSPACE_NAME = &quot;test_keyspace&quot;;\n\n    @Container\n    public static CassandraContainer&lt;?&gt; CASSANDRA = new CassandraContainer&lt;&gt;(&quot;cassandra:4.0.1&quot;)\n            .withExposedPorts(9042)\n            .withLogConsumer(new Slf4jLogConsumer(log))\n            .withReuse(true);\n\n    private static void executeStartQueries(Cluster cluster) {\n        try (Session session = cluster.connect()) {\n            session.execute(&quot;&quot;&quot;\n                    CREATE KEYSPACE IF NOT EXISTS %s WITH replication =\n                     {'class':'SimpleStrategy','replication_factor':'1'};\n                     &quot;&quot;&quot;.formatted(KEYSPACE_NAME));\n            session.execute(&quot;&quot;&quot;\n                    CREATE TABLE IF NOT EXISTS  %s.Person (id uuid PRIMARY KEY, name text);\n                    &quot;&quot;&quot;.formatted(KEYSPACE_NAME));\n        }\n    }\n\n    public static class PropertiesInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n        @Override\n        public void initialize(ConfigurableApplicationContext applicationContext) {\n            TestPropertyValues.of(\n                    &quot;spring.data.cassandra.port=&quot; + CASSANDRA.getMappedPort(9042)\n            ).applyTo(applicationContext.getEnvironment());\n            executeStartQueries(CASSANDRA.getCluster());\n        }\n    }\n\n    @Test\n    void createPerson_Success() {\n        UUID personId = service.createPerson(new Person().setName(&quot;name&quot;));\n        assertNotNull(personId);\n    }\n}\n</code></pre>\n<p>I also have other test classes. And if they run first, I have such exception and tests fail:</p>\n<pre><code>Query; CQL [INSERT INTO person (name,id) VALUES (?,?)]; No node was available to execute the query; nested exception is com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query\norg.springframework.data.cassandra.CassandraConnectionFailureException: Query; CQL [INSERT INTO person (name,id) VALUES (?,?)]; No node was available to execute the query; nested exception is com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query\n    at app//org.springframework.data.cassandra.core.cql.CassandraExceptionTranslator.translate(CassandraExceptionTranslator.java:137)\n    at app//org.springframework.data.cassandra.core.cql.CassandraAccessor.translate(CassandraAccessor.java:422)\n    at app//org.springframework.data.cassandra.core.cql.CqlTemplate.translateException(CqlTemplate.java:764)\n    at app//org.springframework.data.cassandra.core.cql.CqlTemplate.query(CqlTemplate.java:545)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.doExecute(CassandraTemplate.java:959)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.doExecute(CassandraTemplate.java:947)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.executeSave(CassandraTemplate.java:898)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.executeSave(CassandraTemplate.java:889)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.doInsert(CassandraTemplate.java:700)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.doInsert(CassandraTemplate.java:683)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate.insert(CassandraTemplate.java:664)\n    at app//org.springframework.data.cassandra.repository.support.SimpleCassandraRepository.save(SimpleCassandraRepository.java:96)\n    at java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at app//org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at app//org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529)\n    at app//org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at app//org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163)\n    at app//org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at app//org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at app//org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at app//org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at app//org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at app/jdk.proxy3/jdk.proxy3.$Proxy144.save(Unknown Source)\n    at app//com.pepsico.shelfIntelligence.service.impl.ModelMetadataServiceImpl.createModelMetadata(ModelMetadataServiceImpl.java:46)\n    at app//com.pepsico.shelfIntelligence.service.ModelMetadataServiceImplTest.getModelMetadata_Success(ModelMetadataServiceImplTest.java:197)\n    at java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.1/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.1/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query\n    at app//com.datastax.oss.driver.api.core.NoNodeAvailableException.copy(NoNodeAvailableException.java:40)\n    at app//com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149)\n    at app//com.datastax.oss.driver.internal.core.cql.CqlPrepareSyncProcessor.process(CqlPrepareSyncProcessor.java:59)\n    at app//com.datastax.oss.driver.internal.core.cql.CqlPrepareSyncProcessor.process(CqlPrepareSyncProcessor.java:31)\n    at app//com.datastax.oss.driver.internal.core.session.DefaultSession.execute(DefaultSession.java:230)\n    at app//com.datastax.oss.driver.api.core.cql.SyncCqlSession.prepare(SyncCqlSession.java:206)\n    at app//org.springframework.data.cassandra.core.CassandraTemplate$PreparedStatementHandler.createPreparedStatement(CassandraTemplate.java:1082)\n    at app//org.springframework.data.cassandra.core.cql.CqlTemplate.query(CqlTemplate.java:531)\n    ... 113 more\n\n\n</code></pre>\n<p>I have tried to debug my application, and I see that while executing this test, docker container with database is created, it has my keyspace and my table, I can execute queries. Also I tried to check my bean &quot;CqlSessionFactoryBean&quot; and it's connected to the right host/port/keyspace. So, I have no ideas why it is happening. If Spring executes this test class first, all tests are passed. But if another class first, this one fails Any ideas?</p>\n"},{"tags":["java","android","admob"],"answers":[{"tags":[],"owner":{"account_id":1281375,"reputation":32668,"user_id":1957401,"accept_rate":72,"display_name":"Viral Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459318297,"creation_date":1459318297,"answer_id":36301001,"question_id":36300930,"body_markdown":"&gt; in single apk, can I use two different admob ad_id ?\r\n\r\nYes, you can use as many ad unit ids as you want in an app. Also from different accounts. \r\n\r\nBut, you should refrain from using separate accounts unless you have a valid justification. Google normally does not allow multiple accounts for a single developer.","title":"in single apk, can I use two different admob ad_id?","body":"<blockquote>\n  <p>in single apk, can I use two different admob ad_id ?</p>\n</blockquote>\n\n<p>Yes, you can use as many ad unit ids as you want in an app. Also from different accounts. </p>\n\n<p>But, you should refrain from using separate accounts unless you have a valid justification. Google normally does not allow multiple accounts for a single developer.</p>\n"},{"tags":[],"owner":{"account_id":8049723,"reputation":68,"user_id":6068712,"display_name":"byDavid360"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459331403,"creation_date":1459331403,"answer_id":36305223,"question_id":36300930,"body_markdown":"You can use 2 of course, but I recommend you to use one Ad ID(if you only want to use banners, if you want to use banners and interstitial, then use 2 Ad ID.\r\nThats because if you upload a lot of Apps, and every app has only one Ad ID, you will be able to study your apps and know which one of them is performing the best with eCPM\r\nThats my suggestion as a Android Developer.","title":"in single apk, can I use two different admob ad_id?","body":"<p>You can use 2 of course, but I recommend you to use one Ad ID(if you only want to use banners, if you want to use banners and interstitial, then use 2 Ad ID.\nThats because if you upload a lot of Apps, and every app has only one Ad ID, you will be able to study your apps and know which one of them is performing the best with eCPM\nThats my suggestion as a Android Developer.</p>\n"},{"tags":[],"owner":{"account_id":24358240,"reputation":1,"user_id":18293022,"display_name":"Fidelis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645648434,"creation_date":1645648434,"answer_id":71243709,"question_id":36300930,"body_markdown":"How will you remove one of the admob account when you find out that your app is running on two different account.","title":"in single apk, can I use two different admob ad_id?","body":"<p>How will you remove one of the admob account when you find out that your app is running on two different account.</p>\n"}],"owner":{"account_id":5150850,"reputation":54,"user_id":4125501,"display_name":"umesh_sarkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2320,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1645648434,"creation_date":1459317987,"question_id":36300930,"body_markdown":"in single apk, can I use two different `admob` ad_id ?\r\n\r\nI mean, I have an app, in that app banner ad and interstellar ad is there so could I put ad banner with ad unitid of `admob` account A  and Interstellar ad `unitid` of `admob` account b in single apk?","title":"in single apk, can I use two different admob ad_id?","body":"<p>in single apk, can I use two different <code>admob</code> ad_id ?</p>\n\n<p>I mean, I have an app, in that app banner ad and interstellar ad is there so could I put ad banner with ad unitid of <code>admob</code> account A  and Interstellar ad <code>unitid</code> of <code>admob</code> account b in single apk?</p>\n"},{"tags":["java","android","retrofit2"],"comments":[{"owner":{"account_id":7787481,"reputation":9066,"user_id":5891747,"display_name":"Android Geek"},"score":0,"creation_date":1645676167,"post_id":71243278,"comment_id":125937369,"body_markdown":"Remove `/` from `@GET(&quot;/curated&quot;)` just write `@GET(&quot;curated&quot;)`","body":"Remove <code>&#47;</code> from <code>@GET(&quot;&#47;curated&quot;)</code> just write <code>@GET(&quot;curated&quot;)</code>"},{"owner":{"account_id":19934790,"reputation":1,"user_id":14607727,"display_name":"cxk5137"},"score":0,"creation_date":1645703392,"post_id":71243278,"comment_id":125944986,"body_markdown":"If i do that the url becomes this:  https://api.pexels.com/curated/?page=1&amp;per_page=14","body":"If i do that the url becomes this:  <a href=\"https://api.pexels.com/curated/?page=1&amp;per_page=14\" rel=\"nofollow noreferrer\">api.pexels.com/curated/?page=1&amp;per_page=14</a>"},{"owner":{"account_id":19934790,"reputation":1,"user_id":14607727,"display_name":"cxk5137"},"score":0,"creation_date":1645741229,"post_id":71243278,"comment_id":125958705,"body_markdown":"So basically when I write `@GET(&quot;curated&quot;)` I get `/`to the end for some reason. If I put the `/` to the beginning of curated then `v1` gets deleted.","body":"So basically when I write <code>@GET(&quot;curated&quot;)</code> I get <code>&#47;</code>to the end for some reason. If I put the <code>&#47;</code> to the beginning of curated then <code>v1</code> gets deleted."}],"owner":{"account_id":19934790,"reputation":1,"user_id":14607727,"display_name":"cxk5137"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645647929,"creation_date":1645646208,"question_id":71243278,"body_markdown":"I am trying to integrate my application with Pexels API by using Retrofit and GSON but without success. I keep getting 404 error and therefore I am getting a null pointer exception on the console. \r\n\r\nThis is the working api:\r\nhttps://api.pexels.com/v1/curated?page=1&amp;per_page=14\r\n\r\n```\r\npublic class ApiClient {\r\n\r\n    public static final String API_KEY = &quot;xxxxxxxxxx&quot;;\r\n    public static final String BASE_URL = &quot;https://api.pexels.com/v1/&quot;;\r\n    public static Retrofit retrofit = null;\r\n\r\n\r\n    public static Retrofit getClient(){\r\n        if(retrofit == null) {\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\npublic interface ApiInterface {\r\n\r\n    @Headers({&quot;Authorization: &quot; + ApiClient.API_KEY})\r\n    @GET(&quot;/curated&quot;)\r\n    Call&lt;ExplorePageModelResponse&gt;getExplorePagePhotos(\r\n            @Query(&quot;page&quot;) int page,\r\n            @Query(&quot;per_page&quot;) int per_page\r\n    );\r\n\r\n\r\n}\r\n```\r\nThis is the service class that communicates with the pexels api. The response body is empty...\r\n\r\n```\r\n\r\npublic class ExplorePageService implements ItemListContract.Model&lt;ExplorePageModelPhotos&gt; {\r\n\r\n    private final String TAG = &quot;ExplorePageService&quot;;\r\n    private int pageNo = 1;\r\n    private final int PER_PAGE = 14;\r\n\r\n    @Override\r\n    public void getExploreItemList(OnFinishedListener&lt;ExplorePageModelPhotos&gt; onFinishedListener, int pageNo) {\r\n\r\n        ApiInterface apiService = ApiClient.getClient().create(ApiInterface.class);\r\n        Call&lt;ExplorePageModelResponse&gt; call = apiService.getExplorePagePhotos(1, PER_PAGE);\r\n\r\n        call.enqueue(new Callback&lt;ExplorePageModelResponse&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;ExplorePageModelResponse&gt; call, Response&lt;ExplorePageModelResponse&gt; response) {\r\n\r\n                List&lt;ExplorePageModelPhotos&gt; list = response.body().getExplorePageModelPhotos();\r\n\r\n                onFinishedListener.onFinished(list);\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;ExplorePageModelResponse&gt; call, Throwable t) {\r\n                Log.e(TAG, t.toString());\r\n                onFinishedListener.onFailure(t);\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is the api response: \r\n\r\nResponse{protocol=h2, code=404, message=, url=https://api.pexels.com/curated?page=1&amp;per_page=14}\r\n\r\nI must be doing something wrong in the ApiInterface part since it&#39;s all working on the postman side but couldn&#39;t figure out. Thanks.\r\n\r\n","title":"Android Pexels Api integration error using retrofit. Getting 404 error","body":"<p>I am trying to integrate my application with Pexels API by using Retrofit and GSON but without success. I keep getting 404 error and therefore I am getting a null pointer exception on the console.</p>\n<p>This is the working api:\n<a href=\"https://api.pexels.com/v1/curated?page=1&amp;per_page=14\" rel=\"nofollow noreferrer\">https://api.pexels.com/v1/curated?page=1&amp;per_page=14</a></p>\n<pre><code>public class ApiClient {\n\n    public static final String API_KEY = &quot;xxxxxxxxxx&quot;;\n    public static final String BASE_URL = &quot;https://api.pexels.com/v1/&quot;;\n    public static Retrofit retrofit = null;\n\n\n    public static Retrofit getClient(){\n        if(retrofit == null) {\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n        return retrofit;\n    }\n\n\n\n}\n</code></pre>\n<pre><code>public interface ApiInterface {\n\n    @Headers({&quot;Authorization: &quot; + ApiClient.API_KEY})\n    @GET(&quot;/curated&quot;)\n    Call&lt;ExplorePageModelResponse&gt;getExplorePagePhotos(\n            @Query(&quot;page&quot;) int page,\n            @Query(&quot;per_page&quot;) int per_page\n    );\n\n\n}\n</code></pre>\n<p>This is the service class that communicates with the pexels api. The response body is empty...</p>\n<pre><code>\npublic class ExplorePageService implements ItemListContract.Model&lt;ExplorePageModelPhotos&gt; {\n\n    private final String TAG = &quot;ExplorePageService&quot;;\n    private int pageNo = 1;\n    private final int PER_PAGE = 14;\n\n    @Override\n    public void getExploreItemList(OnFinishedListener&lt;ExplorePageModelPhotos&gt; onFinishedListener, int pageNo) {\n\n        ApiInterface apiService = ApiClient.getClient().create(ApiInterface.class);\n        Call&lt;ExplorePageModelResponse&gt; call = apiService.getExplorePagePhotos(1, PER_PAGE);\n\n        call.enqueue(new Callback&lt;ExplorePageModelResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;ExplorePageModelResponse&gt; call, Response&lt;ExplorePageModelResponse&gt; response) {\n\n                List&lt;ExplorePageModelPhotos&gt; list = response.body().getExplorePageModelPhotos();\n\n                onFinishedListener.onFinished(list);\n\n            }\n\n            @Override\n            public void onFailure(Call&lt;ExplorePageModelResponse&gt; call, Throwable t) {\n                Log.e(TAG, t.toString());\n                onFinishedListener.onFailure(t);\n\n            }\n        });\n\n\n    }\n\n}\n</code></pre>\n<p>This is the api response:</p>\n<p>Response{protocol=h2, code=404, message=, url=https://api.pexels.com/curated?page=1&amp;per_page=14}</p>\n<p>I must be doing something wrong in the ApiInterface part since it's all working on the postman side but couldn't figure out. Thanks.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645647579,"creation_date":1645647579,"answer_id":71243560,"question_id":71243509,"body_markdown":"It&#39;s a static member, which means you can use this:\r\n\r\n    @FirstAnnotation.List({\r\n        @FirstAnnotation(...),\r\n        @FirstAnnotation(...)\r\n    })\r\n    private MyType myField;\r\n\r\nYou can make this even easier by annotating `FirstAnnotation` with `@Repeatable(FirstAnnotation.List.class)`. That way, you can omit the explicit list:\r\n\r\n    @FirstAnnotation(...)\r\n    @FirstAnnotation(...)\r\n    private MyType myField;\r\n\r\nAs for these three fields, see https://javaee.github.io/tutorial/bean-validation-advanced001.html and https://docs.jboss.org/hibernate/validator/5.1/reference/en-US/html/validator-customconstraints.html.","title":"Purpose of defining an Annotation inside an Annotation in Java","body":"<p>It's a static member, which means you can use this:</p>\n<pre><code>@FirstAnnotation.List({\n    @FirstAnnotation(...),\n    @FirstAnnotation(...)\n})\nprivate MyType myField;\n</code></pre>\n<p>You can make this even easier by annotating <code>FirstAnnotation</code> with <code>@Repeatable(FirstAnnotation.List.class)</code>. That way, you can omit the explicit list:</p>\n<pre><code>@FirstAnnotation(...)\n@FirstAnnotation(...)\nprivate MyType myField;\n</code></pre>\n<p>As for these three fields, see <a href=\"https://javaee.github.io/tutorial/bean-validation-advanced001.html\" rel=\"nofollow noreferrer\">https://javaee.github.io/tutorial/bean-validation-advanced001.html</a> and <a href=\"https://docs.jboss.org/hibernate/validator/5.1/reference/en-US/html/validator-customconstraints.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/validator/5.1/reference/en-US/html/validator-customconstraints.html</a>.</p>\n"}],"owner":{"account_id":18774284,"reputation":65,"user_id":13690435,"display_name":"Coop Weisbach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71243560,"answer_count":1,"score":1,"last_activity_date":1645647579,"creation_date":1645647340,"question_id":71243509,"body_markdown":"I&#39;m a Java developer going through the code base at the company I work for trying to look for advanced language syntax I&#39;m unfamiliar with. I stumbled across a folder of constraint annotations that all contain annotation definitions within themselves like follows...\r\n\r\n    @Constraint(validatedBy=MyValidator.class)\r\n    @Target(FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)    \r\n    @Documented\r\n    public @interface FirstAnnotation{ \r\n        Class&lt;?&gt;[] groups() default{};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n        String message() default &quot;Default message&quot;;\r\n\r\n        @Target({FIELD, ANNOTATION_TYPE})\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Documented\r\n        @interface List {\r\n            FirstAnnotation[] value();\r\n        }\r\n    }\r\nCan someone enlighten me as to the purpose of this and how it would be exercised? I get that it is a list of the FirstAnnotation as the value, but not sure what a use case for this would be and how you could use the List annotation. I&#39;m also curious if someone could shine a light on why the groups(), payload(), and message() are required?\r\n\r\n","title":"Purpose of defining an Annotation inside an Annotation in Java","body":"<p>I'm a Java developer going through the code base at the company I work for trying to look for advanced language syntax I'm unfamiliar with. I stumbled across a folder of constraint annotations that all contain annotation definitions within themselves like follows...</p>\n<pre><code>@Constraint(validatedBy=MyValidator.class)\n@Target(FIELD)\n@Retention(RetentionPolicy.RUNTIME)    \n@Documented\npublic @interface FirstAnnotation{ \n    Class&lt;?&gt;[] groups() default{};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n    String message() default &quot;Default message&quot;;\n\n    @Target({FIELD, ANNOTATION_TYPE})\n    @Retention(RetentionPolicy.RUNTIME)\n    @Documented\n    @interface List {\n        FirstAnnotation[] value();\n    }\n}\n</code></pre>\n<p>Can someone enlighten me as to the purpose of this and how it would be exercised? I get that it is a list of the FirstAnnotation as the value, but not sure what a use case for this would be and how you could use the List annotation. I'm also curious if someone could shine a light on why the groups(), payload(), and message() are required?</p>\n"},{"tags":["java","scala","akka","prometheus","monitoring"],"comments":[{"owner":{"account_id":12992309,"reputation":694,"user_id":9391162,"display_name":"AMK"},"score":0,"creation_date":1655999586,"post_id":71241798,"comment_id":128470557,"body_markdown":"Hey! I want to add cinnamon to my project, but I don&#39;t find it anywhere on maven repos or elsewhere. If you have, would you please send the link?","body":"Hey! I want to add cinnamon to my project, but I don&#39;t find it anywhere on maven repos or elsewhere. If you have, would you please send the link?"},{"owner":{"account_id":4248689,"reputation":171,"user_id":3476509,"display_name":"user3476509"},"score":0,"creation_date":1656598106,"post_id":71241798,"comment_id":128616426,"body_markdown":"@AMK follow this article: https://medium.com/akka-scala/akka-monitor-your-applications-with-lightbend-telemetry-prometheus-and-grafana-dashboard-1b7353e281c1","body":"@AMK follow this article: <a href=\"https://medium.com/akka-scala/akka-monitor-your-applications-with-lightbend-telemetry-prometheus-and-grafana-dashboard-1b7353e281c1\" rel=\"nofollow noreferrer\">medium.com/akka-scala/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645647560,"creation_date":1645647232,"answer_id":71243487,"question_id":71241798,"body_markdown":"The problem is that cinnamon starts a separate http server for prometheus metrics and uses the same port when second actor system boots. The port is configured via `cinnamon.prometheus.http-server.port` but you cannot just change it in `application.conf` file because it will be shared between different actor systems and the port will be reused again. \r\n\r\nYou should just use a single actor system. There is no real reason of having multiple ones. However, if this is outside of your control, you could do the following for actor systems you start. \r\n\r\nYou need to change default behavior of loading configuration. One way to do it is following.\r\n\r\n```scala\r\nimport akka.actor.ActorSystem\r\nimport com.typesafe.config.{Config, ConfigFactory}\r\nimport scala.jdk.CollectionConverters._\r\n\r\ndef overriddenConfig(map: Map[String, String]): Config = {\r\n  ConfigFactory.parseMap(map.asJava).withFallback(ConfigFactory.load())\r\n}\r\n```\r\n\r\nNow you can start actor systems in following way \r\n\r\n```scala\r\nActorSystem(&quot;system1&quot;, overriddenConfig(Map(&quot;cinnamon.prometheus.http-server.port&quot; -&gt; &quot;9091&quot;)))\r\nActorSystem(&quot;system2&quot;, overriddenConfig(Map(&quot;cinnamon.prometheus.http-server.port&quot; -&gt; &quot;9092&quot;)))\r\n```\r\n\r\nThe other option is to split configuration files for each actor system and each actor system would load from different file. I will leave the code out but it can be done via `ConfigFactory` methods. \r\n\r\nAlso please note that this approach will require Prometheus to read metrics from multiple http endpoints, each representing separate actor system. ","title":"Enable Prometheus on multiple ActorSystems in the same JVM","body":"<p>The problem is that cinnamon starts a separate http server for prometheus metrics and uses the same port when second actor system boots. The port is configured via <code>cinnamon.prometheus.http-server.port</code> but you cannot just change it in <code>application.conf</code> file because it will be shared between different actor systems and the port will be reused again.</p>\n<p>You should just use a single actor system. There is no real reason of having multiple ones. However, if this is outside of your control, you could do the following for actor systems you start.</p>\n<p>You need to change default behavior of loading configuration. One way to do it is following.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import akka.actor.ActorSystem\nimport com.typesafe.config.{Config, ConfigFactory}\nimport scala.jdk.CollectionConverters._\n\ndef overriddenConfig(map: Map[String, String]): Config = {\n  ConfigFactory.parseMap(map.asJava).withFallback(ConfigFactory.load())\n}\n</code></pre>\n<p>Now you can start actor systems in following way</p>\n<pre class=\"lang-scala prettyprint-override\"><code>ActorSystem(&quot;system1&quot;, overriddenConfig(Map(&quot;cinnamon.prometheus.http-server.port&quot; -&gt; &quot;9091&quot;)))\nActorSystem(&quot;system2&quot;, overriddenConfig(Map(&quot;cinnamon.prometheus.http-server.port&quot; -&gt; &quot;9092&quot;)))\n</code></pre>\n<p>The other option is to split configuration files for each actor system and each actor system would load from different file. I will leave the code out but it can be done via <code>ConfigFactory</code> methods.</p>\n<p>Also please note that this approach will require Prometheus to read metrics from multiple http endpoints, each representing separate actor system.</p>\n"}],"owner":{"account_id":4248689,"reputation":171,"user_id":3476509,"display_name":"user3476509"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71243487,"answer_count":1,"score":0,"last_activity_date":1645647560,"creation_date":1645638536,"question_id":71241798,"body_markdown":"I&#39;m trying to monitor my Akka system with Prometheus and Grafana from Lightbend Telemetry. My configuration looks like\r\n\r\n    cinnamon {\r\n    akka.actors = {\r\n    default-by-class {\r\n      includes = &quot;/user/*&quot;\r\n      report-by = class\r\n    }\r\n      }\r\n      }\r\n    cinnamon.prometheus {\r\n          exporters += http-server\r\n        }\r\n\r\nWith one ActorSystem everything works fine, but as soon as I instantiate another one I get the WARN and nothing works anymore.\r\n\r\n    [info] [WARN] [02/23/2022 11:47:30.051] [main] [PrometheusHttpServer] Could not start Prometheus HTTP server. Is there already a server running on this port? (This can happen when running multiple actor systems in the same JVM.)\r\n\r\nI was wondering how to run Prometheus with multiple ActorSystems on the same JVM.\r\nAnyone can help me ?","title":"Enable Prometheus on multiple ActorSystems in the same JVM","body":"<p>I'm trying to monitor my Akka system with Prometheus and Grafana from Lightbend Telemetry. My configuration looks like</p>\n<pre><code>cinnamon {\nakka.actors = {\ndefault-by-class {\n  includes = &quot;/user/*&quot;\n  report-by = class\n}\n  }\n  }\ncinnamon.prometheus {\n      exporters += http-server\n    }\n</code></pre>\n<p>With one ActorSystem everything works fine, but as soon as I instantiate another one I get the WARN and nothing works anymore.</p>\n<pre><code>[info] [WARN] [02/23/2022 11:47:30.051] [main] [PrometheusHttpServer] Could not start Prometheus HTTP server. Is there already a server running on this port? (This can happen when running multiple actor systems in the same JVM.)\n</code></pre>\n<p>I was wondering how to run Prometheus with multiple ActorSystems on the same JVM.\nAnyone can help me ?</p>\n"},{"tags":["java","selenium","cucumber","cucumber-java"],"comments":[{"owner":{"account_id":15622261,"reputation":1672,"user_id":11270766,"display_name":"Gaj Julije"},"score":0,"creation_date":1645277836,"post_id":71185312,"comment_id":125830952,"body_markdown":"So much question here: proj structure, where are your feature folder and what is their name. pom.xml. Why do you need @RunWith(Cucumber.class) ? Try answer as much as you can so someone can help you.","body":"So much question here: proj structure, where are your feature folder and what is their name. pom.xml. Why do you need @RunWith(Cucumber.class) ? Try answer as much as you can so someone can help you."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":1,"creation_date":1645304669,"post_id":71185312,"comment_id":125837154,"body_markdown":"The `glue` takes a package name. Not a class name.","body":"The <code>glue</code> takes a package name. Not a class name."}],"answers":[{"tags":[],"owner":{"account_id":24288139,"reputation":1,"user_id":18233595,"display_name":"MartyParty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645441921,"creation_date":1645441921,"answer_id":71205322,"question_id":71185312,"body_markdown":"I think that your @CucumberOptions are not correct and that&#39;s why the steps are not found","title":"Getting &quot;io.cucumber.junit.UndefinedStepException&quot;, while using the same step defination given in trace snippet","body":"<p>I think that your @CucumberOptions are not correct and that's why the steps are not found</p>\n"},{"tags":[],"owner":{"account_id":24228666,"reputation":1,"user_id":18182764,"display_name":"KZala"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645647436,"creation_date":1645647436,"answer_id":71243531,"question_id":71185312,"body_markdown":"glue = &quot;stepdefination2&quot; here you need to specify package name under which stepdefinations class files are available. Avoid giving same name for package&amp;class file.","title":"Getting &quot;io.cucumber.junit.UndefinedStepException&quot;, while using the same step defination given in trace snippet","body":"<p>glue = &quot;stepdefination2&quot; here you need to specify package name under which stepdefinations class files are available. Avoid giving same name for package&amp;class file.</p>\n"}],"owner":{"account_id":16027360,"reputation":13,"user_id":11567278,"display_name":"Prashant Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645647436,"creation_date":1645276149,"question_id":71185312,"body_markdown":"i have created a cucumber class and trying to modified, while doing so its continously showing the &quot;io.cucumber.junit.UndefinedStepException&quot; again and again when i try to run. I have tried with the steps showing in trace snippet but again the result is same. Here below is the code i am trying \r\n\r\n//feature_file\r\nFeature: Application login \r\n\r\nScenario: Home page default login\r\nGiven user navigate to login page\r\nWhen user login into application with &quot;abhishek&quot; and password &quot;abhi234&quot;\r\nThen home page appears\r\nAnd objects showed are &quot;true&quot;\r\n\r\nScenario: Home page default login\r\nGiven user navigate to login page\r\nWhen user login into application with &quot;Amit&quot; and password &quot;amit345&quot;\r\nThen home page appears\r\nAnd objects showed are &quot;false&quot;\r\n\r\n//stepdefination\r\n\r\n    public class stepdefination2 {\r\n    \r\n    \t\t@Given(&quot;^user navigate to login page$&quot;)\r\n    \t\tpublic void navigate() {\r\n    \t\t    System.out.println(&quot;welcome&quot;);\r\n    \t\t    throw new io.cucumber.java.PendingException();\r\n    \t\t}\r\n    \t\t@When(&quot;user login into application with {string} and password {string}&quot;)\r\n    \t\tpublic void user_login(String arg1, String arg2) {\r\n    \t\t    System.out.println(arg1);\r\n    \t\t    System.out.println(arg2);\r\n    \t\t    throw new io.cucumber.java.PendingException();\r\n    \t\t}\r\n    \t\t@Then(&quot;^home page appears$&quot;)\r\n    \t\tpublic void home_page() {\r\n    \t\t    System.out.println(&quot;homepage&quot;);\r\n    \t\t    throw new io.cucumber.java.PendingException();\r\n    \t\t}\r\n    \t\t@Then(&quot;objects showed are {string}&quot;)\r\n    \t\tpublic void objects(String obj) {\r\n    \t\t    System.out.println(&quot;objects appeared&quot;);\r\n    \t\t    throw new io.cucumber.java.PendingException();\r\n    \t\t}\r\n    }\r\n\r\n//Runner\r\n\t\r\n    @RunWith(Cucumber.class)\r\n    \t@CucumberOptions(\r\n    \t\t\tfeatures =  &quot;src/test/java/nfeature&quot;,\r\n    \t\t\tglue = &quot;stepdefination2&quot;\r\n    \t\t\t)\r\n    \tpublic class  TestRun2{\r\n    \t\tpublic void success() {\r\n    \t\tSystem.out.println(&quot;test run successfully&quot;);\r\n    \t}\r\n    \t}\t","title":"Getting &quot;io.cucumber.junit.UndefinedStepException&quot;, while using the same step defination given in trace snippet","body":"<p>i have created a cucumber class and trying to modified, while doing so its continously showing the &quot;io.cucumber.junit.UndefinedStepException&quot; again and again when i try to run. I have tried with the steps showing in trace snippet but again the result is same. Here below is the code i am trying</p>\n<p>//feature_file\nFeature: Application login</p>\n<p>Scenario: Home page default login\nGiven user navigate to login page\nWhen user login into application with &quot;abhishek&quot; and password &quot;abhi234&quot;\nThen home page appears\nAnd objects showed are &quot;true&quot;</p>\n<p>Scenario: Home page default login\nGiven user navigate to login page\nWhen user login into application with &quot;Amit&quot; and password &quot;amit345&quot;\nThen home page appears\nAnd objects showed are &quot;false&quot;</p>\n<p>//stepdefination</p>\n<pre><code>public class stepdefination2 {\n\n        @Given(&quot;^user navigate to login page$&quot;)\n        public void navigate() {\n            System.out.println(&quot;welcome&quot;);\n            throw new io.cucumber.java.PendingException();\n        }\n        @When(&quot;user login into application with {string} and password {string}&quot;)\n        public void user_login(String arg1, String arg2) {\n            System.out.println(arg1);\n            System.out.println(arg2);\n            throw new io.cucumber.java.PendingException();\n        }\n        @Then(&quot;^home page appears$&quot;)\n        public void home_page() {\n            System.out.println(&quot;homepage&quot;);\n            throw new io.cucumber.java.PendingException();\n        }\n        @Then(&quot;objects showed are {string}&quot;)\n        public void objects(String obj) {\n            System.out.println(&quot;objects appeared&quot;);\n            throw new io.cucumber.java.PendingException();\n        }\n}\n</code></pre>\n<p>//Runner</p>\n<pre><code>@RunWith(Cucumber.class)\n    @CucumberOptions(\n            features =  &quot;src/test/java/nfeature&quot;,\n            glue = &quot;stepdefination2&quot;\n            )\n    public class  TestRun2{\n        public void success() {\n        System.out.println(&quot;test run successfully&quot;);\n    }\n    }   \n</code></pre>\n"},{"tags":["java","android","multithreading","service","android-camera"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645647395,"creation_date":1645647395,"answer_id":71243524,"question_id":71242806,"body_markdown":"Background services cannot access the camera.  Forground services can only if you specify the camera service type.  And yours is definitely a background service.  This was added back in Android 11.","title":"How Can I take pictures in a new Thread which is created in a service?","body":"<p>Background services cannot access the camera.  Forground services can only if you specify the camera service type.  And yours is definitely a background service.  This was added back in Android 11.</p>\n"}],"owner":{"account_id":22061779,"reputation":117,"user_id":16324327,"display_name":"Ahmad Malik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71243524,"answer_count":1,"score":0,"last_activity_date":1645647395,"creation_date":1645643504,"question_id":71242806,"body_markdown":"I am taking pictures in a background service, by creating a new thread.\r\nThe issue is camera.takePicture is not executed. service starts, stops and iterates correctly just takePicture is not executed.\r\nIt shows \r\n **W/Camera-JNI: callback on dead camera object**\r\nin the logcat in each iteration.\r\n\r\n**Here is My CameraService class**\r\n```\r\npackage com.flynn.pictureseverysecond;\r\n\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Service;\r\nimport android.content.Intent;\r\nimport android.graphics.SurfaceTexture;\r\nimport android.hardware.Camera;\r\nimport android.net.Uri;\r\nimport android.os.Environment;\r\nimport android.os.Handler;\r\nimport android.os.IBinder;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\n\r\npublic class CameraService extends Service implements Info {\r\n    public static final int MEDIA_TYPE_IMAGE = 1;\r\n\r\n    volatile boolean running = true;\r\n\r\n    private Camera mCamera;\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        Log.i(TAG, &quot;onStartCommand: service started&quot;);\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Log.i(TAG, &quot;run: Thread still alive&quot;);\r\n                while (running) {\r\n                    mCamera = Util.getCameraInstance();\r\n                    Log.i(TAG, &quot;run: created camera instance&quot;);\r\n                    if (mCamera != null) {\r\n                        try {\r\n                            mCamera.setPreviewTexture(new SurfaceTexture(0));\r\n                            mCamera.startPreview();\r\n                            Log.i(TAG, &quot;run: preview set&quot;);\r\n                            mCamera.takePicture(null, null, new Camera.PictureCallback() {\r\n\r\n                                @Override\r\n                                public void onPictureTaken(byte[] data, Camera camera) {\r\n                                    Log.i(TAG, &quot;onPictureTaken: here&quot;);\r\n                                    File pictureFile = getOutputMediaFile(MEDIA_TYPE_IMAGE);\r\n                                    if (pictureFile == null) {\r\n                                        Log.e(TAG, &quot;onPictureTaken: cannot create media files check Permissions&quot;);\r\n                                        return;\r\n                                    }\r\n                                    try {\r\n                                        Log.i(TAG, &quot;onPictureTaken: arrived&quot;);\r\n                                        FileOutputStream fos = new FileOutputStream(pictureFile);\r\n                                        fos.write(data);\r\n                                        fos.close();\r\n                                    } catch (FileNotFoundException e) {\r\n                                        Log.e(TAG, &quot;onPictureTaken: File not found&quot; + e.getMessage());\r\n                                    } catch (IOException e) {\r\n                                        Log.e(TAG, &quot;onPictureTaken: Error Accessing File &quot; + e.getMessage());\r\n                                    }\r\n                                }\r\n                            });\r\n                            releaseCamera();\r\n                            Thread.sleep(3000);\r\n                        } catch (IOException | InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }).start();\r\n        return super.onStartCommand(intent, flags, startId);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        Log.i(TAG, &quot;onDestroy: cam service ending....&quot;);\r\n        running = false;\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n\r\n    private static Uri getOutputMediaFileUri(int type) {\r\n        return Uri.fromFile(getOutputMediaFile(type));\r\n    }\r\n\r\n    private static File getOutputMediaFile(int type) {\r\n        Log.i(TAG, &quot;getOutputMediaFile: inside&quot;);\r\n        File storageDir = new File(Environment.getExternalStoragePublicDirectory(\r\n                Environment.DIRECTORY_PICTURES), &quot;fuckrey&quot;);\r\n        Log.i(TAG, &quot;getOutputMediaFile: dir created&quot;);\r\n        if (!storageDir.exists()) {\r\n            if (!storageDir.mkdirs()) {\r\n                Log.e(TAG, &quot;getOutputMediaFile: Failed to create directory&quot;);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;)\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        File mediaFile;\r\n        if (type == MEDIA_TYPE_IMAGE) {\r\n            mediaFile = new File(storageDir.getPath() + File.separator + &quot;IMG_&quot; + timeStamp + &quot;.jpg&quot;);\r\n        } else {\r\n            Log.i(TAG, &quot;getOutputMediaFile: returning null&quot;);\r\n            return null;\r\n        }\r\n\r\n        Log.i(TAG, &quot;getOutputMediaFile: properly returning&quot;);\r\n        return mediaFile;\r\n    }\r\n\r\n\r\n        private void releaseCamera () {\r\n            if (mCamera != null) {\r\n                mCamera.release();        // release the camera for other applications\r\n                mCamera = null;\r\n            }\r\n        }\r\n\r\n}\r\n```\r\nPlease Help me, what is wrong with my code?","title":"How Can I take pictures in a new Thread which is created in a service?","body":"<p>I am taking pictures in a background service, by creating a new thread.\nThe issue is camera.takePicture is not executed. service starts, stops and iterates correctly just takePicture is not executed.\nIt shows\n<strong>W/Camera-JNI: callback on dead camera object</strong>\nin the logcat in each iteration.</p>\n<p><strong>Here is My CameraService class</strong></p>\n<pre><code>package com.flynn.pictureseverysecond;\n\n\nimport android.annotation.SuppressLint;\nimport android.app.Service;\nimport android.content.Intent;\nimport android.graphics.SurfaceTexture;\nimport android.hardware.Camera;\nimport android.net.Uri;\nimport android.os.Environment;\nimport android.os.Handler;\nimport android.os.IBinder;\nimport android.os.Looper;\nimport android.util.Log;\n\nimport androidx.annotation.Nullable;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\n\npublic class CameraService extends Service implements Info {\n    public static final int MEDIA_TYPE_IMAGE = 1;\n\n    volatile boolean running = true;\n\n    private Camera mCamera;\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        Log.i(TAG, &quot;onStartCommand: service started&quot;);\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                Log.i(TAG, &quot;run: Thread still alive&quot;);\n                while (running) {\n                    mCamera = Util.getCameraInstance();\n                    Log.i(TAG, &quot;run: created camera instance&quot;);\n                    if (mCamera != null) {\n                        try {\n                            mCamera.setPreviewTexture(new SurfaceTexture(0));\n                            mCamera.startPreview();\n                            Log.i(TAG, &quot;run: preview set&quot;);\n                            mCamera.takePicture(null, null, new Camera.PictureCallback() {\n\n                                @Override\n                                public void onPictureTaken(byte[] data, Camera camera) {\n                                    Log.i(TAG, &quot;onPictureTaken: here&quot;);\n                                    File pictureFile = getOutputMediaFile(MEDIA_TYPE_IMAGE);\n                                    if (pictureFile == null) {\n                                        Log.e(TAG, &quot;onPictureTaken: cannot create media files check Permissions&quot;);\n                                        return;\n                                    }\n                                    try {\n                                        Log.i(TAG, &quot;onPictureTaken: arrived&quot;);\n                                        FileOutputStream fos = new FileOutputStream(pictureFile);\n                                        fos.write(data);\n                                        fos.close();\n                                    } catch (FileNotFoundException e) {\n                                        Log.e(TAG, &quot;onPictureTaken: File not found&quot; + e.getMessage());\n                                    } catch (IOException e) {\n                                        Log.e(TAG, &quot;onPictureTaken: Error Accessing File &quot; + e.getMessage());\n                                    }\n                                }\n                            });\n                            releaseCamera();\n                            Thread.sleep(3000);\n                        } catch (IOException | InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }\n            }\n        }).start();\n        return super.onStartCommand(intent, flags, startId);\n    }\n\n    @Override\n    public void onDestroy() {\n        Log.i(TAG, &quot;onDestroy: cam service ending....&quot;);\n        running = false;\n        super.onDestroy();\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    private static Uri getOutputMediaFileUri(int type) {\n        return Uri.fromFile(getOutputMediaFile(type));\n    }\n\n    private static File getOutputMediaFile(int type) {\n        Log.i(TAG, &quot;getOutputMediaFile: inside&quot;);\n        File storageDir = new File(Environment.getExternalStoragePublicDirectory(\n                Environment.DIRECTORY_PICTURES), &quot;fuckrey&quot;);\n        Log.i(TAG, &quot;getOutputMediaFile: dir created&quot;);\n        if (!storageDir.exists()) {\n            if (!storageDir.mkdirs()) {\n                Log.e(TAG, &quot;getOutputMediaFile: Failed to create directory&quot;);\n                return null;\n            }\n        }\n\n        @SuppressLint(&quot;SimpleDateFormat&quot;)\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        File mediaFile;\n        if (type == MEDIA_TYPE_IMAGE) {\n            mediaFile = new File(storageDir.getPath() + File.separator + &quot;IMG_&quot; + timeStamp + &quot;.jpg&quot;);\n        } else {\n            Log.i(TAG, &quot;getOutputMediaFile: returning null&quot;);\n            return null;\n        }\n\n        Log.i(TAG, &quot;getOutputMediaFile: properly returning&quot;);\n        return mediaFile;\n    }\n\n\n        private void releaseCamera () {\n            if (mCamera != null) {\n                mCamera.release();        // release the camera for other applications\n                mCamera = null;\n            }\n        }\n\n}\n</code></pre>\n<p>Please Help me, what is wrong with my code?</p>\n"},{"tags":["java","android","tree","uri"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645600160,"post_id":71230204,"comment_id":125911567,"body_markdown":"Try to list the content of the tree.","body":"Try to list the content of the tree."},{"owner":{"account_id":22622433,"reputation":115,"user_id":16800976,"display_name":"J. M."},"score":0,"creation_date":1645601647,"post_id":71230204,"comment_id":125912010,"body_markdown":"Its for the main tree though, if by some chance the main folder gets deleted i want to recreate it.","body":"Its for the main tree though, if by some chance the main folder gets deleted i want to recreate it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645602397,"post_id":71230204,"comment_id":125912234,"body_markdown":"We know. List the contents of the main tree was the idea. And suggested ;-)","body":"We know. List the contents of the main tree was the idea. And suggested ;-)"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645602869,"post_id":71230204,"comment_id":125912399,"body_markdown":"`a tree uri from use folder,` I wonder what you mean with &#39;from use folder&#39;. Never heard talking like that.","body":"<code>a tree uri from use folder,</code> I wonder what you mean with &#39;from use folder&#39;. Never heard talking like that."},{"owner":{"account_id":22622433,"reputation":115,"user_id":16800976,"display_name":"J. M."},"score":0,"creation_date":1645627371,"post_id":71230204,"comment_id":125922786,"body_markdown":"@blackapps I see the work around, but that only works if theres no contents anf folders not there  but user could delete contents and not folder. Ive decided to use getName() if it equals folder name. Sorry for my unpolitical correctness though it saves data space ww, i meant OPEN_DOCUMENT_TREE.","body":"@blackapps I see the work around, but that only works if theres no contents anf folders not there  but user could delete contents and not folder. Ive decided to use getName() if it equals folder name. Sorry for my unpolitical correctness though it saves data space ww, i meant OPEN_DOCUMENT_TREE."}],"answers":[{"tags":[],"owner":{"account_id":17547045,"reputation":1,"user_id":12728105,"display_name":"Gustavo Liz&#225;rraga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645584016,"creation_date":1645584016,"answer_id":71230748,"question_id":71230204,"body_markdown":"Did you try to do something like that? with the **findFile()** method?\r\n\r\n```\r\nUri treeUri = uri;\r\nDocumentFile root = DocumentFile.fromTreeUri(this, treeUri);\r\nif (root.findFile(&quot;Foldername&quot;) == null) { //create folder }\r\n```","title":"How do I find if a root uri tree exist?","body":"<p>Did you try to do something like that? with the <strong>findFile()</strong> method?</p>\n<pre><code>Uri treeUri = uri;\nDocumentFile root = DocumentFile.fromTreeUri(this, treeUri);\nif (root.findFile(&quot;Foldername&quot;) == null) { //create folder }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645602731,"creation_date":1645602731,"answer_id":71233095,"question_id":71230204,"body_markdown":"Try to list the content of the tree.\r\n\r\nIf the tree does not exist anymore you will get an exception or a null cursor.","title":"How do I find if a root uri tree exist?","body":"<p>Try to list the content of the tree.</p>\n<p>If the tree does not exist anymore you will get an exception or a null cursor.</p>\n"}],"owner":{"account_id":22622433,"reputation":115,"user_id":16800976,"display_name":"J. M."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645647235,"creation_date":1645578362,"question_id":71230204,"body_markdown":"I get a tree uri from OPEN_DOCUMENT_TREE, and want to know if folder exsist in case user deleted. I tried doc == null from treeUri and single, and also exists but they dont they both show not null when folder is deleted.\r\nThanks","title":"How do I find if a root uri tree exist?","body":"<p>I get a tree uri from OPEN_DOCUMENT_TREE, and want to know if folder exsist in case user deleted. I tried doc == null from treeUri and single, and also exists but they dont they both show not null when folder is deleted.\nThanks</p>\n"},{"tags":["java","xml","servlets","servlet-filters"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1645646577,"post_id":71243329,"comment_id":125930953,"body_markdown":"`properties.load(PluginFactory.class.getResourceAsStream(&quot;/plugins.properties&quot;));`\nMake sure that the resource is correct. Where did you put the `plugins.properties`?","body":"<code>properties.load(PluginFactory.class.getResourceAsStream(&quot;&#47;pl&zwnj;&#8203;ugins.properties&quot;));</code> Make sure that the resource is correct. Where did you put the <code>plugins.properties</code>?"},{"owner":{"account_id":21987718,"reputation":15,"user_id":16261693,"display_name":"yilopa"},"score":0,"creation_date":1645646832,"post_id":71243329,"comment_id":125931029,"body_markdown":"it&#39;s inside of conf package where I store conf files`teste.pluginSession.RegisterSession=@teste.pluginSession.RegisterSession@`","body":"it&#39;s inside of conf package where I store conf files<code>teste.pluginSession.RegisterSession=@teste.pluginSessio&zwnj;&#8203;n.RegisterSession@</code>"},{"owner":{"account_id":21987718,"reputation":15,"user_id":16261693,"display_name":"yilopa"},"score":0,"creation_date":1645647018,"post_id":71243329,"comment_id":125931093,"body_markdown":"when I check Tomcat logs, somehow it doesn&#39;t recognize the class `teste.pluginSession.PluginFactory`","body":"when I check Tomcat logs, somehow it doesn&#39;t recognize the class <code>teste.pluginSession.PluginFactory</code>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1645647305,"post_id":71243329,"comment_id":125931187,"body_markdown":"It&#39;s not the class that cannot be found but the resource. The stack trace clearly shows that line 12 of the class, the one that&#39;s calling `properties.load`, is part of the stack trace. It causes an NPE, which can only occur if the resource cannot be found. Where in the built WAR file is the resource found? In `WEB-INF`, `META-INF`, or `WEB-INF/classes/META-INF`?","body":"It&#39;s not the class that cannot be found but the resource. The stack trace clearly shows that line 12 of the class, the one that&#39;s calling <code>properties.load</code>, is part of the stack trace. It causes an NPE, which can only occur if the resource cannot be found. Where in the built WAR file is the resource found? In <code>WEB-INF</code>, <code>META-INF</code>, or <code>WEB-INF&#47;classes&#47;META-INF</code>?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1645647406,"post_id":71243329,"comment_id":125931228,"body_markdown":"Side note: you can get rid of the casts by adding method generics to the `getPlugin` method: `public static &lt;T&gt; T getPlugin(Class&lt;T&gt; iface) throws ...`. The body can perform a safe cast: `iface.cast(Class.forName(classNameVerdadeiro).newInstance())`.","body":"Side note: you can get rid of the casts by adding method generics to the <code>getPlugin</code> method: <code>public static &lt;T&gt; T getPlugin(Class&lt;T&gt; iface) throws ...</code>. The body can perform a safe cast: <code>iface.cast(Class.forName(classNameVerdadeiro).newInstance())</code>&zwnj;&#8203;."},{"owner":{"account_id":21987718,"reputation":15,"user_id":16261693,"display_name":"yilopa"},"score":0,"creation_date":1645647703,"post_id":71243329,"comment_id":125931319,"body_markdown":"when I compile with Ant, in WEB-INF only appears classes.","body":"when I compile with Ant, in WEB-INF only appears classes."}],"owner":{"account_id":21987718,"reputation":15,"user_id":16261693,"display_name":"yilopa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645646473,"creation_date":1645646473,"question_id":71243329,"body_markdown":"I&#39;m doing a project of user management web application for school and when I deploy to Tomcat I got this error. \r\n\r\n**Additional:** On `web.xml` Intellij cannot recognize class `UserFilter` when I try to add `&lt;filter&gt;`. I have a class called UserFilter with the right path.\r\n\r\n\r\n\r\n\r\n    HTTP Status 500 - Filter execution threw an exception\r\n    type Exception report\r\n    \r\n    message Filter execution threw an exception\r\n    \r\n    description The server encountered an internal error that prevented it from fulfilling this request.\r\n    \r\n    exception\r\n    \r\n    javax.servlet.ServletException: Filter execution threw an exception\r\n    root cause\r\n    \r\n    java.lang.ExceptionInInitializerError\r\n    \tteste.web.SecurityFilter.openSession(SecurityFilter.java:26)\r\n    \tteste.web.SecurityFilter.doFilter(SecurityFilter.java:19)\r\n    root cause\r\n    \r\n    java.lang.NullPointerException\r\n    \tjava.util.Properties$LineReader.readLine(Properties.java:434)\r\n    \tjava.util.Properties.load0(Properties.java:353)\r\n    \tjava.util.Properties.load(Properties.java:341)\r\n    \tteste.pluginSession.PluginFactory.&lt;clinit&gt;(PluginFactory.java:12)\r\n    \tteste.web.SecurityFilter.openSession(SecurityFilter.java:26)\r\n    \tteste.web.SecurityFilter.doFilter(SecurityFilter.java:19)\r\n    note The full stack trace of the root cause is available in the Apache Tomcat/9.0.0.M6 logs.\r\n    \r\n    Apache Tomcat/9.0.0.M6\r\n\r\n\r\n**SecurityFilter.java**\r\n\r\n    package teste.web;\r\n    \r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    \r\n    import teste.pluginSession.*;\r\n    \r\n    public class  SecurityFilter implements Filter {\r\n    \r\n        @Override\r\n        public void init (FilterConfig filterConfig) throws ServletException{\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void doFilter (ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException{\r\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n            openSession (servletRequest,filterChain, response);\r\n        }\r\n    \r\n        private void openSession(ServletRequest servletRequest, FilterChain filterChain, HttpServletResponse response) throws IOException, ServletException{\r\n            RegisterSession plugin = null;\r\n    \r\n            try {\r\n                plugin = (RegisterSession) PluginFactory.getPlugin(RegisterSession.class);\r\n                plugin.openSession(servletRequest,filterChain,response);\r\n            } catch (ClassNotFoundException e){\r\n                e.printStackTrace();\r\n            }catch (IllegalAccessException e){\r\n                e.printStackTrace();\r\n            }catch (InstantiationException e){\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void destroy() {\r\n    \r\n        }\r\n    }\r\n\r\n**PluginFactory**\r\n\r\n    package teste.pluginSession;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    \r\n    public class PluginFactory\r\n    {\r\n        static Properties properties = new Properties();\r\n        static\r\n        {\r\n            try {\r\n                properties.load(PluginFactory.class.getResourceAsStream(&quot;/plugins.properties&quot;));\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static Object getPlugin(Class iface) throws ClassNotFoundException, IllegalAccessException, InstantiationException\r\n        {\r\n            String classNameVerdadeiro = properties.getProperty(iface.getName());\r\n            return Class.forName(classNameVerdadeiro).newInstance();\r\n        }\r\n    }\r\n\r\n**web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app version=&quot;2.4&quot;\r\n             xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;  &gt;\r\n    \r\n    \r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;UserFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;teste.web.UserFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n    \r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;UserFilter&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/user/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    \r\n    \r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;SecurityFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;teste.web.SecurityFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n    \r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;SecurityFilter&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;teste.web.LoginServlet&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/login&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;LogoutServlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;teste.web.LogoutServlet&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;LogoutServlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/logout&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;Rest&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;teste.web.RestServlet&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n    \r\n    \r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;Rest&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/soa&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    \r\n    \r\n    \r\n        &lt;error-page&gt;\r\n            &lt;error-code&gt;404&lt;/error-code&gt;\r\n            &lt;location&gt;/errors/erro404.jsp&lt;/location&gt;\r\n        &lt;/error-page&gt;\r\n    \r\n        &lt;!--START FILES--&gt;\r\n        &lt;welcome-file-list&gt;\r\n            &lt;welcome-file&gt;login.jsp&lt;/welcome-file&gt;\r\n        &lt;/welcome-file-list&gt;\r\n    \r\n    \r\n    &lt;/web-app&gt;\r\n\r\n**login.jsp**\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;%@ page import=&quot;teste.web.LoginServlet&quot; %&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css&quot;&gt;\r\n    \r\n        &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    \r\n        &lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;title&gt;Login&lt;/title&gt;\r\n        &lt;style&gt;\r\n            .login-form {\r\n            border: hidden;\r\n                padding: 20px;\r\n                position: fixed;\r\n                left: 50%;\r\n                top: 50%;\r\n                transform: translate(-50%, -50%);\r\n            }\r\n            .form-group{\r\n                padding-left:40px;\r\n                padding-right:40px;\r\n            }\r\n            h3{\r\n                text-align: center;\r\n            }\r\n    \r\n            body{\r\n                background-color: darkslateblue;\r\n            }\r\n        &lt;/style&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div class=&quot;container&quot; style=&quot;text-align:center;color:white;transform: translate(0%, 400%);&quot;&gt;\r\n        &lt;h2&gt;&lt;strong&gt;Soft&lt;/strong&gt;Ware&lt;/h2&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;div class=&quot;container login-form&quot;&gt;\r\n        &lt;div class=&quot;panel panel-default&quot;&gt;\r\n            &lt;div class=&quot;panel-body&quot;&gt;\r\n                &lt;form class=&quot;form-horizontal&quot; action=&quot;&lt;%=request.getContextPath()%&gt;/login&quot; method=&quot;POST&quot;&gt;\r\n                    &lt;div class=&quot;input-group&quot; style=&quot;padding-bottom: 10px;&quot;&gt;\r\n                        &lt;span class=&quot;input-group-addon&quot;&gt;&lt;i class=&quot;glyphicon glyphicon-user&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                        &lt;input id=&quot;username&quot; class=&quot;form-control&quot; placeholder=&quot;Username&quot; type=&quot;text&quot; name=&quot;username&quot;&gt;\r\n                    &lt;/div&gt;\r\n    \r\n                    &lt;div class=&quot;input-group&quot;&gt;\r\n                        &lt;span class=&quot;input-group-addon&quot;&gt;&lt;i class=&quot;glyphicon glyphicon-lock&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                        &lt;input id=&quot;password&quot; class=&quot;form-control&quot; placeholder=&quot;Password&quot; type=&quot;password&quot; name=&quot;password&quot;&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot; style=&quot;text-align: center;padding-top: 10px;&quot;&gt;\r\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot; onclick=&quot;&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-ok&quot;&gt;&lt;/span&gt;  Submeter&lt;/button&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nMany thanks!\r\n","title":"javax.servlet.ServletException: Filter execution threw an exception - java.lang.ExceptionInInitializerError","body":"<p>I'm doing a project of user management web application for school and when I deploy to Tomcat I got this error.</p>\n<p><strong>Additional:</strong> On <code>web.xml</code> Intellij cannot recognize class <code>UserFilter</code> when I try to add <code>&lt;filter&gt;</code>. I have a class called UserFilter with the right path.</p>\n<pre><code>HTTP Status 500 - Filter execution threw an exception\ntype Exception report\n\nmessage Filter execution threw an exception\n\ndescription The server encountered an internal error that prevented it from fulfilling this request.\n\nexception\n\njavax.servlet.ServletException: Filter execution threw an exception\nroot cause\n\njava.lang.ExceptionInInitializerError\n    teste.web.SecurityFilter.openSession(SecurityFilter.java:26)\n    teste.web.SecurityFilter.doFilter(SecurityFilter.java:19)\nroot cause\n\njava.lang.NullPointerException\n    java.util.Properties$LineReader.readLine(Properties.java:434)\n    java.util.Properties.load0(Properties.java:353)\n    java.util.Properties.load(Properties.java:341)\n    teste.pluginSession.PluginFactory.&lt;clinit&gt;(PluginFactory.java:12)\n    teste.web.SecurityFilter.openSession(SecurityFilter.java:26)\n    teste.web.SecurityFilter.doFilter(SecurityFilter.java:19)\nnote The full stack trace of the root cause is available in the Apache Tomcat/9.0.0.M6 logs.\n\nApache Tomcat/9.0.0.M6\n</code></pre>\n<p><strong>SecurityFilter.java</strong></p>\n<pre><code>package teste.web;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\nimport teste.pluginSession.*;\n\npublic class  SecurityFilter implements Filter {\n\n    @Override\n    public void init (FilterConfig filterConfig) throws ServletException{\n\n    }\n\n    @Override\n    public void doFilter (ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException{\n        HttpServletResponse response = (HttpServletResponse) servletResponse;\n        openSession (servletRequest,filterChain, response);\n    }\n\n    private void openSession(ServletRequest servletRequest, FilterChain filterChain, HttpServletResponse response) throws IOException, ServletException{\n        RegisterSession plugin = null;\n\n        try {\n            plugin = (RegisterSession) PluginFactory.getPlugin(RegisterSession.class);\n            plugin.openSession(servletRequest,filterChain,response);\n        } catch (ClassNotFoundException e){\n            e.printStackTrace();\n        }catch (IllegalAccessException e){\n            e.printStackTrace();\n        }catch (InstantiationException e){\n            e.printStackTrace();\n        }\n\n    }\n\n\n    @Override\n    public void destroy() {\n\n    }\n}\n</code></pre>\n<p><strong>PluginFactory</strong></p>\n<pre><code>package teste.pluginSession;\n\nimport java.io.IOException;\nimport java.util.Properties;\n\npublic class PluginFactory\n{\n    static Properties properties = new Properties();\n    static\n    {\n        try {\n            properties.load(PluginFactory.class.getResourceAsStream(&quot;/plugins.properties&quot;));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static Object getPlugin(Class iface) throws ClassNotFoundException, IllegalAccessException, InstantiationException\n    {\n        String classNameVerdadeiro = properties.getProperty(iface.getName());\n        return Class.forName(classNameVerdadeiro).newInstance();\n    }\n}\n</code></pre>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app version=&quot;2.4&quot;\n         xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;  &gt;\n\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;UserFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;teste.web.UserFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;UserFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/user/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;SecurityFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;teste.web.SecurityFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;SecurityFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;teste.web.LoginServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;LoginServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/login&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;LogoutServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;teste.web.LogoutServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;LogoutServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/logout&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Rest&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;teste.web.RestServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Rest&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/soa&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n\n\n    &lt;error-page&gt;\n        &lt;error-code&gt;404&lt;/error-code&gt;\n        &lt;location&gt;/errors/erro404.jsp&lt;/location&gt;\n    &lt;/error-page&gt;\n\n    &lt;!--START FILES--&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;login.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n\n\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>login.jsp</strong></p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;%@ page import=&quot;teste.web.LoginServlet&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css&quot;&gt;\n\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n\n    &lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n    &lt;title&gt;Login&lt;/title&gt;\n    &lt;style&gt;\n        .login-form {\n        border: hidden;\n            padding: 20px;\n            position: fixed;\n            left: 50%;\n            top: 50%;\n            transform: translate(-50%, -50%);\n        }\n        .form-group{\n            padding-left:40px;\n            padding-right:40px;\n        }\n        h3{\n            text-align: center;\n        }\n\n        body{\n            background-color: darkslateblue;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot; style=&quot;text-align:center;color:white;transform: translate(0%, 400%);&quot;&gt;\n    &lt;h2&gt;&lt;strong&gt;Soft&lt;/strong&gt;Ware&lt;/h2&gt;\n&lt;/div&gt;\n\n&lt;div class=&quot;container login-form&quot;&gt;\n    &lt;div class=&quot;panel panel-default&quot;&gt;\n        &lt;div class=&quot;panel-body&quot;&gt;\n            &lt;form class=&quot;form-horizontal&quot; action=&quot;&lt;%=request.getContextPath()%&gt;/login&quot; method=&quot;POST&quot;&gt;\n                &lt;div class=&quot;input-group&quot; style=&quot;padding-bottom: 10px;&quot;&gt;\n                    &lt;span class=&quot;input-group-addon&quot;&gt;&lt;i class=&quot;glyphicon glyphicon-user&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                    &lt;input id=&quot;username&quot; class=&quot;form-control&quot; placeholder=&quot;Username&quot; type=&quot;text&quot; name=&quot;username&quot;&gt;\n                &lt;/div&gt;\n\n                &lt;div class=&quot;input-group&quot;&gt;\n                    &lt;span class=&quot;input-group-addon&quot;&gt;&lt;i class=&quot;glyphicon glyphicon-lock&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                    &lt;input id=&quot;password&quot; class=&quot;form-control&quot; placeholder=&quot;Password&quot; type=&quot;password&quot; name=&quot;password&quot;&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot; style=&quot;text-align: center;padding-top: 10px;&quot;&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-success&quot; onclick=&quot;&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-ok&quot;&gt;&lt;/span&gt;  Submeter&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Many thanks!</p>\n"},{"tags":["java","serialization","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645644667,"creation_date":1645644303,"answer_id":71242947,"question_id":71241038,"body_markdown":"&gt; As far as I see\r\n\r\nUnclear what examples you are finding, but Kafka stores bytes. `StringSerializer` is only one of [many Serializer interfaces available](https://github.com/apache/kafka/tree/3.1/clients/src/main/java/org/apache/kafka/common/serialization) and takes a (UTF-8) string to bytes. \r\n\r\n&gt; do some easy binding to structured data (e.g. a list or map)\r\n\r\nConfluent and Apicurio, for example, provide Avro and/or Protobuf serializers for binary serialization of Java objects that integrate with their Schema Registry products. \r\n\r\n&gt; serializing/deserializing it manually (e.g. in using JSON)?\r\n\r\nThere is already a built-in [`JsonSerializer`](https://github.com/apache/kafka/blob/3.1/connect/json/src/main/java/org/apache/kafka/connect/json/JsonSerializer.java) based on Jackson for Kafka clients to use or build into a Serde in Streams. (requires a dependency on `connect-api`, not just `kafka-clients`).\r\n\r\nSpring-Kafka also has its own [`JsonSerializer`](https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/serializer/JsonSerializer.html) class. \r\n","title":"Kafka: produce/consume structured data","body":"<blockquote>\n<p>As far as I see</p>\n</blockquote>\n<p>Unclear what examples you are finding, but Kafka stores bytes. <code>StringSerializer</code> is only one of <a href=\"https://github.com/apache/kafka/tree/3.1/clients/src/main/java/org/apache/kafka/common/serialization\" rel=\"nofollow noreferrer\">many Serializer interfaces available</a> and takes a (UTF-8) string to bytes.</p>\n<blockquote>\n<p>do some easy binding to structured data (e.g. a list or map)</p>\n</blockquote>\n<p>Confluent and Apicurio, for example, provide Avro and/or Protobuf serializers for binary serialization of Java objects that integrate with their Schema Registry products.</p>\n<blockquote>\n<p>serializing/deserializing it manually (e.g. in using JSON)?</p>\n</blockquote>\n<p>There is already a built-in <a href=\"https://github.com/apache/kafka/blob/3.1/connect/json/src/main/java/org/apache/kafka/connect/json/JsonSerializer.java\" rel=\"nofollow noreferrer\"><code>JsonSerializer</code></a> based on Jackson for Kafka clients to use or build into a Serde in Streams. (requires a dependency on <code>connect-api</code>, not just <code>kafka-clients</code>).</p>\n<p>Spring-Kafka also has its own <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/serializer/JsonSerializer.html\" rel=\"nofollow noreferrer\"><code>JsonSerializer</code></a> class.</p>\n"},{"tags":[],"owner":{"account_id":24241266,"reputation":71,"user_id":18193599,"display_name":"Lars"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645646302,"creation_date":1645646302,"answer_id":71243297,"question_id":71241038,"body_markdown":"I think what you&#39;re looking for is the Streams API: https://kafka.apache.org/documentation/streams/\r\n\r\nThere are some great explanations if you&#39;re new to Kafka, which gives a nice introduction to the whole domain.\r\n\r\nI suspect you will eventually end up with at the &quot;Data Type and Serialization&quot; section here: https://kafka.apache.org/31/documentation/streams/developer-guide/datatypes.html, so when you feel comfortable with the topic go look at that.","title":"Kafka: produce/consume structured data","body":"<p>I think what you're looking for is the Streams API: <a href=\"https://kafka.apache.org/documentation/streams/\" rel=\"nofollow noreferrer\">https://kafka.apache.org/documentation/streams/</a></p>\n<p>There are some great explanations if you're new to Kafka, which gives a nice introduction to the whole domain.</p>\n<p>I suspect you will eventually end up with at the &quot;Data Type and Serialization&quot; section here: <a href=\"https://kafka.apache.org/31/documentation/streams/developer-guide/datatypes.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/31/documentation/streams/developer-guide/datatypes.html</a>, so when you feel comfortable with the topic go look at that.</p>\n"}],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71242947,"answer_count":2,"score":1,"last_activity_date":1645646302,"creation_date":1645635239,"question_id":71241038,"body_markdown":"I am new to Kafka and testing it with Java.\r\n\r\nAs far I see the messages I produce/consume with Kafka are strings.\r\n\r\nIs there some possiblity to do some easy binding to structured data (e.g. a list or map) or is the best way to do so in serializing/deserializing it manually (e.g. in using JSON)?","title":"Kafka: produce/consume structured data","body":"<p>I am new to Kafka and testing it with Java.</p>\n<p>As far I see the messages I produce/consume with Kafka are strings.</p>\n<p>Is there some possiblity to do some easy binding to structured data (e.g. a list or map) or is the best way to do so in serializing/deserializing it manually (e.g. in using JSON)?</p>\n"},{"tags":["java","maven","dependency-injection","cucumber"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1485972260,"post_id":41985002,"comment_id":71150887,"body_markdown":"Is there a restriction of having step or hook classes without extending the base classes. The code you have added is pretty standard. It should work if you cut-paste this method to another class or a new class which does not extend another step or hook class.","body":"Is there a restriction of having step or hook classes without extending the base classes. The code you have added is pretty standard. It should work if you cut-paste this method to another class or a new class which does not extend another step or hook class."},{"owner":{"account_id":10156650,"reputation":31,"user_id":7501545,"display_name":"Jes&#250;s"},"score":0,"creation_date":1486024660,"post_id":41985002,"comment_id":71171569,"body_markdown":"For reusing same step definitions someone created a Class CommonSteps and included it in the glue path. So its definitions are available for all feature files in the test. However, moving this method to another class which does not extend another step of hook class does not work.","body":"For reusing same step definitions someone created a Class CommonSteps and included it in the glue path. So its definitions are available for all feature files in the test. However, moving this method to another class which does not extend another step of hook class does not work."},{"owner":{"account_id":7203312,"reputation":1453,"user_id":5499829,"accept_rate":100,"display_name":"tom"},"score":0,"creation_date":1486812649,"post_id":41985002,"comment_id":71514224,"body_markdown":"In which class is the method located?","body":"In which class is the method located?"},{"owner":{"account_id":7470769,"reputation":1333,"user_id":5678845,"accept_rate":100,"display_name":"Roberto Pegoraro"},"score":0,"creation_date":1493234614,"post_id":41985002,"comment_id":74334030,"body_markdown":"Possible duplicate of [Cucumber class extending step definitions and hooks](http://stackoverflow.com/questions/34771928/cucumber-class-extending-step-definitions-and-hooks)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/34771928/cucumber-class-extending-step-definitions-and-hooks\">Cucumber class extending step definitions and hooks</a>"}],"answers":[{"tags":[],"owner":{"account_id":10411107,"reputation":49,"user_id":7676467,"display_name":"Mohit Sharma"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1488967531,"creation_date":1488967531,"answer_id":42668289,"question_id":41985002,"body_markdown":"Cucumber creates a new instance of all classes defining stepdefs before each scenario.\r\nIt then invokes stepdef methods on *one* of those instances whenever it needs to run a step.\r\n\r\nIf you defined a stepdef method foo in class A and you have a class B extends A you&#39;d get an a and b instance.\r\nThe foo method would be available on both instances, and Cucumber would not be able to decide what instance to invoke the method on.\r\n\r\nThat&#39;s why we don&#39;t allow it.\r\n\r\nThe solution is to use composition instead of inheritance. You can achieve composition with dependency injection - Cucumber supports several popular DI frameworks.","title":"Cucumber: You&#39;re not allowed to extend classes that define step definitions or hooks","body":"<p>Cucumber creates a new instance of all classes defining stepdefs before each scenario.\nIt then invokes stepdef methods on <em>one</em> of those instances whenever it needs to run a step.</p>\n\n<p>If you defined a stepdef method foo in class A and you have a class B extends A you'd get an a and b instance.\nThe foo method would be available on both instances, and Cucumber would not be able to decide what instance to invoke the method on.</p>\n\n<p>That's why we don't allow it.</p>\n\n<p>The solution is to use composition instead of inheritance. You can achieve composition with dependency injection - Cucumber supports several popular DI frameworks.</p>\n"},{"tags":[],"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493371454,"creation_date":1493371454,"answer_id":43676658,"question_id":41985002,"body_markdown":"As has been stated, Cucumber does not allow you to extend step definition base classes.  I have just hit this error attempting to re-use a suite of step defs across two different integration test profiles (app is SpringBoot+Java8 but crucially, we write our Cucumber Step definitions in Groovy..).\r\n\r\nThe solution / workaround I found was to define the common, re-usable, annotated step definitions in a Groovy [trait][1], then have one or more concrete classes implement that trait and simply define / override any behaviour from the trait and most importantly, declare the Spring int-test profile I want to run with. This seems to work well.\r\n\r\n\r\n  [1]: http://docs.groovy-lang.org/next/html/documentation/core-traits.html","title":"Cucumber: You&#39;re not allowed to extend classes that define step definitions or hooks","body":"<p>As has been stated, Cucumber does not allow you to extend step definition base classes.  I have just hit this error attempting to re-use a suite of step defs across two different integration test profiles (app is SpringBoot+Java8 but crucially, we write our Cucumber Step definitions in Groovy..).</p>\n\n<p>The solution / workaround I found was to define the common, re-usable, annotated step definitions in a Groovy <a href=\"http://docs.groovy-lang.org/next/html/documentation/core-traits.html\" rel=\"nofollow noreferrer\">trait</a>, then have one or more concrete classes implement that trait and simply define / override any behaviour from the trait and most importantly, declare the Spring int-test profile I want to run with. This seems to work well.</p>\n"},{"tags":[],"owner":{"account_id":9779766,"reputation":211,"user_id":7248308,"display_name":"Nitish Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587029424,"creation_date":1587029424,"answer_id":61246983,"question_id":41985002,"body_markdown":"you can define your @Before or @After steps in stepdefinition and then add method in base class \r\n\r\nstepdefinition:\r\n\r\n       @After\r\n    public void after(Scenario scenario) {\r\n        this.scenario = scenario;\r\n    }\r\nbaseclass method:\r\n\r\n        public static Scenario scenario;\r\n\r\n        public Scenario tearDown(Scenario scenario){\r\n\r\n            if (scenario.isFailed()) {\r\n        final byte[] screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\r\n        scenario.embed(screenshot, &quot;image/png&quot;); \r\n       }\r\n     return scenario;\r\n     }","title":"Cucumber: You&#39;re not allowed to extend classes that define step definitions or hooks","body":"<p>you can define your @Before or @After steps in stepdefinition and then add method in base class </p>\n\n<p>stepdefinition:</p>\n\n<pre><code>   @After\npublic void after(Scenario scenario) {\n    this.scenario = scenario;\n}\n</code></pre>\n\n<p>baseclass method:</p>\n\n<pre><code>    public static Scenario scenario;\n\n    public Scenario tearDown(Scenario scenario){\n\n        if (scenario.isFailed()) {\n    final byte[] screenshot = ((TakesScreenshot)driver).getScreenshotAs(OutputType.BYTES);\n    scenario.embed(screenshot, \"image/png\"); \n   }\n return scenario;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3245632,"reputation":124,"user_id":2737314,"display_name":"Lucas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1645646136,"creation_date":1645642856,"answer_id":71242684,"question_id":41985002,"body_markdown":"I had the same problem and solved it following the approach described here.\r\n\r\nUse PicoContainer to achieve dependency injection and share state.\r\n\r\nHere you can find the latest version considering the date of this post: https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer/7.2.3\r\n\r\nYou just need to add the PicoContainer&#39;s dependency and that&#39;s it. No configuration is needed.\r\n\r\nI&#39;ve used constructor dependency injection. I don&#39;t know if PicoContainer supports other kinds of dependency injection, like a setter method or annotations.\r\n\r\nConsidering the classes that you have mentioned, when applying dependency injection they should be like the below example:\r\n\r\n    public class CommonScript {\r\n    }\r\n\r\n\r\n    public class CommonBase {\r\n        private final CommonScript commonScript;\r\n    \r\n        public CommonBase(CommonScript commonScript) {\r\n            this.commonScript = commonScript;\r\n        }\r\n    }\r\n\r\n\r\n    public class CommonSteps {\r\n        private final CommonBase commonBase;\r\n    \r\n        public CommonSteps(CommonBase commonBase) {\r\n            this.commonBase = commonBase;\r\n        }\r\n    }\r\n\r\nFollowing the above structure, you can:\r\n\r\n 1. create step definitions and reuse them in your *&quot;.feature&quot;*\r\n    files; \r\n 2. define hooks; \r\n 3. share state;\r\n\r\nReference:\r\n - https://cucumber.io/docs/cucumber/state/\r\n - https://cucumber.io/blog/bdd/polymorphic-step-definitions/","title":"Cucumber: You&#39;re not allowed to extend classes that define step definitions or hooks","body":"<p>I had the same problem and solved it following the approach described here.</p>\n<p>Use PicoContainer to achieve dependency injection and share state.</p>\n<p>Here you can find the latest version considering the date of this post: <a href=\"https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer/7.2.3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.cucumber/cucumber-picocontainer/7.2.3</a></p>\n<p>You just need to add the PicoContainer's dependency and that's it. No configuration is needed.</p>\n<p>I've used constructor dependency injection. I don't know if PicoContainer supports other kinds of dependency injection, like a setter method or annotations.</p>\n<p>Considering the classes that you have mentioned, when applying dependency injection they should be like the below example:</p>\n<pre><code>public class CommonScript {\n}\n\n\npublic class CommonBase {\n    private final CommonScript commonScript;\n\n    public CommonBase(CommonScript commonScript) {\n        this.commonScript = commonScript;\n    }\n}\n\n\npublic class CommonSteps {\n    private final CommonBase commonBase;\n\n    public CommonSteps(CommonBase commonBase) {\n        this.commonBase = commonBase;\n    }\n}\n</code></pre>\n<p>Following the above structure, you can:</p>\n<ol>\n<li>create step definitions and reuse them in your <em>&quot;.feature&quot;</em>\nfiles;</li>\n<li>define hooks;</li>\n<li>share state;</li>\n</ol>\n<p>Reference:</p>\n<ul>\n<li><a href=\"https://cucumber.io/docs/cucumber/state/\" rel=\"nofollow noreferrer\">https://cucumber.io/docs/cucumber/state/</a></li>\n<li><a href=\"https://cucumber.io/blog/bdd/polymorphic-step-definitions/\" rel=\"nofollow noreferrer\">https://cucumber.io/blog/bdd/polymorphic-step-definitions/</a></li>\n</ul>\n"}],"owner":{"account_id":10156650,"reputation":31,"user_id":7501545,"display_name":"Jes&#250;s"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11664,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1645646136,"creation_date":1485967188,"question_id":41985002,"body_markdown":"I have inherited from others a big project of testing whose main Java classes are CommonSteps, CommonBase and CommonScript. They are currently related in this way:\r\n\r\nCommonSteps extends CommonBase\r\n\r\nCommonBase extends CommonScript\r\n\r\nThe problem is with the next method when I try to run the project with `mvn clean install`:\r\n\r\n    @After\r\n    public void tearDown(Scenario scenario) {\r\n      if (scenario.isFailed()) {\r\n        // Take a screenshot...\r\n        final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n        scenario.embed(screenshot, &quot;image/png&quot;); // ... and embed it in the report.\r\n      }\r\n    }\r\n\r\nI get the error:\r\n\r\n&gt; cucumber.runtime.CucumberException: You&#39;re not allowed to extend classes that define step definitions or hooks: steps.CommonSteps extends class common.CommonBase.\r\n\r\nHow could I start working with dependency injection deleting everything related to inheritance?","title":"Cucumber: You&#39;re not allowed to extend classes that define step definitions or hooks","body":"<p>I have inherited from others a big project of testing whose main Java classes are CommonSteps, CommonBase and CommonScript. They are currently related in this way:</p>\n\n<p>CommonSteps extends CommonBase</p>\n\n<p>CommonBase extends CommonScript</p>\n\n<p>The problem is with the next method when I try to run the project with <code>mvn clean install</code>:</p>\n\n<pre><code>@After\npublic void tearDown(Scenario scenario) {\n  if (scenario.isFailed()) {\n    // Take a screenshot...\n    final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n    scenario.embed(screenshot, \"image/png\"); // ... and embed it in the report.\n  }\n}\n</code></pre>\n\n<p>I get the error:</p>\n\n<blockquote>\n  <p>cucumber.runtime.CucumberException: You're not allowed to extend classes that define step definitions or hooks: steps.CommonSteps extends class common.CommonBase.</p>\n</blockquote>\n\n<p>How could I start working with dependency injection deleting everything related to inheritance?</p>\n"},{"tags":["java","eclipse","maven","jitpack"],"comments":[{"owner":{"account_id":49251,"reputation":581,"user_id":146567,"accept_rate":45,"display_name":"Sam"},"score":0,"creation_date":1650967899,"post_id":71243185,"comment_id":127243896,"body_markdown":"That works for me in vscode. However, deliberately inserting a typo (e.g. compatiblez) reroduces your problem.","body":"That works for me in vscode. However, deliberately inserting a typo (e.g. compatiblez) reroduces your problem."}],"owner":{"account_id":22805042,"reputation":307,"user_id":16957185,"display_name":"Gumpf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645645743,"creation_date":1645645743,"question_id":71243185,"body_markdown":"Having some trouble with a Maven project I&#39;m making. I recently found a library I want to use distributed through Jitpack; I&#39;ve never heard of it, but it seemed fairly simple to add a Maven dependency with it, so I followed the example to get a pom.xml like this:\r\n\r\n```\r\n&lt;repositories&gt;\r\n\t&lt;repository&gt;\r\n\t    &lt;id&gt;jitpack.io&lt;/id&gt;\r\n\t    &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n\t&lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.github.IQSS&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;dataverse-client-java&lt;/artifactId&gt;\r\n\t    &lt;version&gt;dv14-12-compatible&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nI&#39;ve stripped out a lot, as everything else works just fine. Only when adding the above sections to the pom.xml does Eclipse complain that the artifact is missing. Here is the URL to the library I&#39;d like to use: https://github.com/IQSS/dataverse-client-java\r\n\r\nTo my knowledge I&#39;ve constructed the repository and dependency information correctly. Is on of them incorrect? Or have I neglect a step in adding this dependency? I have done nothing to the project except add the above entries to my pom.\r\n\r\nThanks!","title":"Maven + Jitpack Dependency Missing Artifact","body":"<p>Having some trouble with a Maven project I'm making. I recently found a library I want to use distributed through Jitpack; I've never heard of it, but it seemed fairly simple to add a Maven dependency with it, so I followed the example to get a pom.xml like this:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;jitpack.io&lt;/id&gt;\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.IQSS&lt;/groupId&gt;\n        &lt;artifactId&gt;dataverse-client-java&lt;/artifactId&gt;\n        &lt;version&gt;dv14-12-compatible&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>I've stripped out a lot, as everything else works just fine. Only when adding the above sections to the pom.xml does Eclipse complain that the artifact is missing. Here is the URL to the library I'd like to use: <a href=\"https://github.com/IQSS/dataverse-client-java\" rel=\"nofollow noreferrer\">https://github.com/IQSS/dataverse-client-java</a></p>\n<p>To my knowledge I've constructed the repository and dependency information correctly. Is on of them incorrect? Or have I neglect a step in adding this dependency? I have done nothing to the project except add the above entries to my pom.</p>\n<p>Thanks!</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":1088632,"reputation":1422,"user_id":1083775,"accept_rate":60,"display_name":"samy"},"score":0,"creation_date":1634823647,"post_id":69661832,"comment_id":123134376,"body_markdown":"Hi Lina, please provide additional information about the version of Elasticsearch and java client you are using and also the structure of your documents that you are trying to find. The additional code around your query and how you are executing the query might also be relevant. Best samy","body":"Hi Lina, please provide additional information about the version of Elasticsearch and java client you are using and also the structure of your documents that you are trying to find. The additional code around your query and how you are executing the query might also be relevant. Best samy"},{"owner":{"account_id":21380244,"reputation":45,"user_id":15746284,"display_name":"Lina"},"score":0,"creation_date":1634825253,"post_id":69661832,"comment_id":123135191,"body_markdown":"Hi @samy, I added some info to my initial post, now I just get an Internal Server error... :(","body":"Hi @samy, I added some info to my initial post, now I just get an Internal Server error... :("},{"owner":{"account_id":1088632,"reputation":1422,"user_id":1083775,"accept_rate":60,"display_name":"samy"},"score":0,"creation_date":1634828945,"post_id":69661832,"comment_id":123136994,"body_markdown":"Hi Lina, what server error do you get? I recommend that you add as much information to your question as possible.","body":"Hi Lina, what server error do you get? I recommend that you add as much information to your question as possible."}],"answers":[{"tags":[],"owner":{"account_id":13259080,"reputation":236,"user_id":9574235,"display_name":"Abhishek Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645645699,"creation_date":1645645699,"answer_id":71243177,"question_id":69661832,"body_markdown":"Here is a sample code written for country index which is searching for data provided in map. Customize it according to your needs.\r\n\r\n    //using map for country\r\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;country&quot; , &quot;FRANCE&quot;);\r\n        map.put(&quot;countryCode&quot;, &quot;FR&quot;);\r\n        //List of should queries this will go in should clause of bool query\r\n        List&lt;Query&gt; shouldQueryList = new ArrayList&lt;&gt;();\r\n        for (Map.Entry&lt;String, String&gt; entry :map.entrySet()) {\r\n            //list of terms to match i.e value from map and all.\r\n            List&lt;FieldValue&gt; list = Arrays.asList(FieldValue.of(entry.getValue()), FieldValue.of(&quot;ALL&quot;));\r\n            //Terms query\r\n            Query query = new Query.Builder().terms(termsQueryBuilder -&gt; termsQueryBuilder\r\n                    .field(entry.getKey())\r\n                    .terms(termQueryField -&gt; termQueryField\r\n                            .value(list))).build();\r\n            shouldQueryList.add(query);\r\n        }\r\n\r\n        try {\r\n            //running search from elastic search java client 7.16.3\r\n            SearchResponse&lt;Country&gt; response = elasticsearchClient.search(searchRequest -&gt; searchRequest\r\n                            .query(qBuilder -&gt; qBuilder\r\n                                    .bool(boolQueryBuilder -&gt; boolQueryBuilder\r\n                                            //using should query list here\r\n                                            .should(shouldQueryList)))\r\n                    , Country.class);\r\n            response.hits().hits().forEach(a -&gt; {\r\n                //Print matching country name in console\r\n                System.out.println(a.source().getCountry());\r\n            });\r\n        } catch (IOException e) {\r\n            log.info(e.getMessage());\r\n        }\r\n\r\nAbove code will generate query like this : \r\n\r\n    {&quot;query&quot;:{&quot;bool&quot;:{&quot;should&quot;:[{&quot;terms&quot;:{&quot;country&quot;:[&quot;FRANCE&quot;,&quot;ALL&quot;]}},{&quot;terms&quot;:{&quot;countryCode&quot;:[&quot;FR&quot;,&quot;ALL&quot;]}}]}}}","title":"Java ElasticSearch API search multiple possible values","body":"<p>Here is a sample code written for country index which is searching for data provided in map. Customize it according to your needs.</p>\n<pre><code>//using map for country\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;country&quot; , &quot;FRANCE&quot;);\n    map.put(&quot;countryCode&quot;, &quot;FR&quot;);\n    //List of should queries this will go in should clause of bool query\n    List&lt;Query&gt; shouldQueryList = new ArrayList&lt;&gt;();\n    for (Map.Entry&lt;String, String&gt; entry :map.entrySet()) {\n        //list of terms to match i.e value from map and all.\n        List&lt;FieldValue&gt; list = Arrays.asList(FieldValue.of(entry.getValue()), FieldValue.of(&quot;ALL&quot;));\n        //Terms query\n        Query query = new Query.Builder().terms(termsQueryBuilder -&gt; termsQueryBuilder\n                .field(entry.getKey())\n                .terms(termQueryField -&gt; termQueryField\n                        .value(list))).build();\n        shouldQueryList.add(query);\n    }\n\n    try {\n        //running search from elastic search java client 7.16.3\n        SearchResponse&lt;Country&gt; response = elasticsearchClient.search(searchRequest -&gt; searchRequest\n                        .query(qBuilder -&gt; qBuilder\n                                .bool(boolQueryBuilder -&gt; boolQueryBuilder\n                                        //using should query list here\n                                        .should(shouldQueryList)))\n                , Country.class);\n        response.hits().hits().forEach(a -&gt; {\n            //Print matching country name in console\n            System.out.println(a.source().getCountry());\n        });\n    } catch (IOException e) {\n        log.info(e.getMessage());\n    }\n</code></pre>\n<p>Above code will generate query like this :</p>\n<pre><code>{&quot;query&quot;:{&quot;bool&quot;:{&quot;should&quot;:[{&quot;terms&quot;:{&quot;country&quot;:[&quot;FRANCE&quot;,&quot;ALL&quot;]}},{&quot;terms&quot;:{&quot;countryCode&quot;:[&quot;FR&quot;,&quot;ALL&quot;]}}]}}}\n</code></pre>\n"}],"owner":{"account_id":21380244,"reputation":45,"user_id":15746284,"display_name":"Lina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645645699,"creation_date":1634818611,"question_id":69661832,"body_markdown":"I&#39;m searching in multiple fields, and I want to get results if the record matches a specific value (entry.getValue()) or the String &quot;ALL&quot;\r\n\r\nHere is my code, but it&#39;s not working.\r\n```\r\nSearchRequest searchRequest = new SearchRequest(MY_INDEX);\r\nfinal BoolQueryBuilder booleanQuery = QueryBuilders.boolQuery();\r\nsearchRequest.source().query(booleanQuery);\r\nfinal BoolQueryBuilder booleanQuery= QueryBuilders.boolQuery();\r\nfor (Map.Entry&lt;String, String&gt; entry : params.entrySet()) {\r\n        \t  booleanQuery.should(QueryBuilders.termsQuery(entry.getKey(), entry.getValue(), &quot;ALL&quot;);\r\n        }\r\n```\r\nI&#39;m using JDK 11 and ES 7.1","title":"Java ElasticSearch API search multiple possible values","body":"<p>I'm searching in multiple fields, and I want to get results if the record matches a specific value (entry.getValue()) or the String &quot;ALL&quot;</p>\n<p>Here is my code, but it's not working.</p>\n<pre><code>SearchRequest searchRequest = new SearchRequest(MY_INDEX);\nfinal BoolQueryBuilder booleanQuery = QueryBuilders.boolQuery();\nsearchRequest.source().query(booleanQuery);\nfinal BoolQueryBuilder booleanQuery= QueryBuilders.boolQuery();\nfor (Map.Entry&lt;String, String&gt; entry : params.entrySet()) {\n              booleanQuery.should(QueryBuilders.termsQuery(entry.getKey(), entry.getValue(), &quot;ALL&quot;);\n        }\n</code></pre>\n<p>I'm using JDK 11 and ES 7.1</p>\n"},{"tags":["java","logging","log4j","war"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1645642097,"post_id":71242500,"comment_id":125929452,"body_markdown":"Did you try to set `append` to `true`?","body":"Did you try to set <code>append</code> to <code>true</code>?"},{"owner":{"account_id":19657670,"reputation":31,"user_id":14389915,"display_name":"Muhammad Hassan"},"score":0,"creation_date":1645642233,"post_id":71242500,"comment_id":125929527,"body_markdown":"Yes, I did with WAR-A log4j configurations and it was working correctly as expected but the issue of not creating the new file after reaching 500KB was not fixed with this.","body":"Yes, I did with WAR-A log4j configurations and it was working correctly as expected but the issue of not creating the new file after reaching 500KB was not fixed with this."}],"owner":{"account_id":19657670,"reputation":31,"user_id":14389915,"display_name":"Muhammad Hassan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645645152,"creation_date":1645641981,"question_id":71242500,"body_markdown":"I have multiple WAR files (WAR-A, WAR-B and WAR-C) for which I want to have all logs into a single log file &quot;ABC.log&quot;. I have created three &quot;log4j.xml&quot; with the same configurations for each WAR file. Now, the log4j is working but it is writing all the logs in a very haphazard and non-organized manner. Means they are not in proper sequence. \r\n\r\nLogs of WAR-A and WAR-C are appearing at the start of the file while the logs of WAR-B are appearing at the end of the file. They should have to be in a sequence ideally. Also the new file is not creating up upon reaching the defined &quot;MaxFileSize&quot;. \r\n\r\nOne more thing, if I remove the &quot;log4j.xml&quot; configuration file from WAR-B then WAR-A and WAR-C logs are appearing in right manner. But, in this way I&#39;m losing the WAR-B logs coz I have removed the log4j.xml.\r\n\r\nMy log4j configurations are:\r\n\r\n\t&lt;!-- Appenders --&gt;\t\r\n\t\r\n\t&lt;appender name=&quot;RollingFileAppender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n\t\t&lt;param name=&quot;append&quot; value=&quot;false&quot; /&gt;\r\n\t\t&lt;param name=&quot;maxFileSize&quot; value=&quot;500KB&quot; /&gt;\r\n\t\t&lt;param name=&quot;maxBackupIndex&quot; value=&quot;50&quot; /&gt;\r\n\t\t&lt;param name=&quot;file&quot; value=&quot;c:/logs/ABC.log&quot; /&gt;\r\n\t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n\t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{2}:%L - %m%n&quot; /&gt;\r\n\t\t&lt;/layout&gt;\r\n\t&lt;/appender&gt;\r\n\r\n\t&lt;!-- Root Logger --&gt;\r\n\t&lt;root&gt;\r\n\t\t&lt;priority value=&quot;info&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;RollingFileAppender&quot; /&gt;\r\n\t&lt;/root&gt;\r\n\r\nFor the reference, I am using Wildfly 9.0.2 as my application server. Please share your thoughts how I can fix this issue. Any help would be really appreciated!","title":"How to config and sync logs of two WAR files in a single log file using log4j 1.2.7?","body":"<p>I have multiple WAR files (WAR-A, WAR-B and WAR-C) for which I want to have all logs into a single log file &quot;ABC.log&quot;. I have created three &quot;log4j.xml&quot; with the same configurations for each WAR file. Now, the log4j is working but it is writing all the logs in a very haphazard and non-organized manner. Means they are not in proper sequence.</p>\n<p>Logs of WAR-A and WAR-C are appearing at the start of the file while the logs of WAR-B are appearing at the end of the file. They should have to be in a sequence ideally. Also the new file is not creating up upon reaching the defined &quot;MaxFileSize&quot;.</p>\n<p>One more thing, if I remove the &quot;log4j.xml&quot; configuration file from WAR-B then WAR-A and WAR-C logs are appearing in right manner. But, in this way I'm losing the WAR-B logs coz I have removed the log4j.xml.</p>\n<p>My log4j configurations are:</p>\n<pre><code>&lt;!-- Appenders --&gt;  \n\n&lt;appender name=&quot;RollingFileAppender&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\n    &lt;param name=&quot;append&quot; value=&quot;false&quot; /&gt;\n    &lt;param name=&quot;maxFileSize&quot; value=&quot;500KB&quot; /&gt;\n    &lt;param name=&quot;maxBackupIndex&quot; value=&quot;50&quot; /&gt;\n    &lt;param name=&quot;file&quot; value=&quot;c:/logs/ABC.log&quot; /&gt;\n    &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n        &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d{yyyy-MM-dd HH:mm:ss} %-5p %c{2}:%L - %m%n&quot; /&gt;\n    &lt;/layout&gt;\n&lt;/appender&gt;\n\n&lt;!-- Root Logger --&gt;\n&lt;root&gt;\n    &lt;priority value=&quot;info&quot; /&gt;\n    &lt;appender-ref ref=&quot;RollingFileAppender&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n<p>For the reference, I am using Wildfly 9.0.2 as my application server. Please share your thoughts how I can fix this issue. Any help would be really appreciated!</p>\n"},{"tags":["javascript","java","android"],"comments":[{"owner":{"display_name":"user5734311"},"score":1,"creation_date":1645643474,"post_id":71242768,"comment_id":125929955,"body_markdown":"Are you asking how to stream the android screen to a website? Please clarify. Also mind the [xy problem](https://xyproblem.info/)","body":"Are you asking how to stream the android screen to a website? Please clarify. Also mind the <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xy problem</a>"},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1645643863,"post_id":71242768,"comment_id":125930097,"body_markdown":"Yes, but in my app I capture several images, but I don&#39;t know the best way to transmit them.","body":"Yes, but in my app I capture several images, but I don&#39;t know the best way to transmit them."},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1645643885,"post_id":71242768,"comment_id":125930105,"body_markdown":"I will adjust my question","body":"I will adjust my question"},{"owner":{"display_name":"user5734311"},"score":0,"creation_date":1645646049,"post_id":71242768,"comment_id":125930809,"body_markdown":"So you are capturing images because your goal is to stream the screen? Because you don&#39;t know how to actually create a video stream, right? Again, mind the [*xy problem*](https://xyproblem.info/) --- also, I found this: https://github.com/fyhertz/spydroid-ipcamera","body":"So you are capturing images because your goal is to stream the screen? Because you don&#39;t know how to actually create a video stream, right? Again, mind the <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\"><i>xy problem</i></a> --- also, I found this: <a href=\"https://github.com/fyhertz/spydroid-ipcamera\" rel=\"nofollow noreferrer\">github.com/fyhertz/spydroid-ipcamera</a>"},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1645704934,"post_id":71242768,"comment_id":125945520,"body_markdown":"Thanks, I had already seen this api, but I don&#39;t know how to start implementing it in the code I already have. I found it difficult to implement, so I opted to send the images to firebase storage and then list them. It worked, but the transition of the images was slow.","body":"Thanks, I had already seen this api, but I don&#39;t know how to start implementing it in the code I already have. I found it difficult to implement, so I opted to send the images to firebase storage and then list them. It worked, but the transition of the images was slow."},{"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"score":0,"creation_date":1645705012,"post_id":71242768,"comment_id":125945547,"body_markdown":"I found this tutorial, but the person uses wowza in the middle to broadcast. https://www.androidhive.info/2014/06/android-streaming-live-camera-video-to-web-page/","body":"I found this tutorial, but the person uses wowza in the middle to broadcast. <a href=\"https://www.androidhive.info/2014/06/android-streaming-live-camera-video-to-web-page/\" rel=\"nofollow noreferrer\">androidhive.info/2014/06/&hellip;</a>"}],"owner":{"account_id":20686862,"reputation":51,"user_id":18233830,"display_name":"Felipe Augusto Yakashin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645643967,"creation_date":1645643319,"question_id":71242768,"body_markdown":"What is the fastest transfer to send an image from the android app to a php web system?\r\nI have tried sending the images to firebase storage and the url to realtime, and in the web interface I list these images to show them as a video. But this way the transitions are very slow.\r\nSo I ask what is the best way? Via retrofit? socket? Or another way of transfer that is faster than the one I showed you?\r\nIn short: I want to transmit the screen from android to a website, but the problem is that I capture several images one by one.\r\n\r\n    //TRANSFOMAR BITMAP EM ARRAY DE BYTES\r\n                        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                        bitmap.compress(Bitmap.CompressFormat.JPEG, 5, baos);\r\n    \r\n                        byte[] dadosImagem = baos.toByteArray();\r\n    \r\n                        //criar nome unico de imagem\r\n                        //String nomeImagem = UUID.randomUUID().toString();\r\n    \r\n                        StorageReference imagemRef = storageReference\r\n                                .child(&quot;imagens&quot;)\r\n                                .child(&quot;screenshot&quot;)\r\n                                .child(idUser)\r\n                                .child(IMAGES_PRODUCED+&quot;.jpeg&quot;);\r\n    \r\n                        //fazer upload da imagem\r\n                        UploadTask uploadTask = imagemRef.putBytes(dadosImagem);\r\n    \r\n                        //se o upload foi feito com sucesso iremos inserir a URL da imagem no realtime\r\n                        uploadTask.addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                            @Override\r\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n    \r\n                                //em versoes anteriores do a gente recuperava assim taskSnapshot.getDownloadUrl();\r\n                                //recuperar a url para inserir no realtime\r\n    \r\n                                imagemRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                                        //aqui temos a url da imagem\r\n                                        String url = task.getResult().toString();\r\n    \r\n                                        Log.d(&quot;TAG&quot;, IMAGES_PRODUCED + url);\r\n    \r\n                                        //grava a url recuperada da imagem no realtime\r\n                                        Imagem imagem = new Imagem();\r\n                                        imagem.setUrl(url);\r\n                                        imagem.setIdUsuario(idUser);\r\n                                        imagem.salvarImagem();\r\n\r\nsistema_web.php\r\n\r\nHere on the web site with php and js I list the url of the images that were registered in firebase realtime.\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\t\t\t\t\t\r\n    \r\n    \t\t\t\tfirebase.database().ref(&#39;screenshot/&#39;&lt;?=$_GET[&#39;idUserFirebase&#39;]?&gt;).on(&#39;value&#39;, (snapshot)=&gt;{\r\n    \r\n    \r\n    \t\t\t\t\tsnapshot.forEach(item =&gt; {\r\n    \r\n    \t\t\t\t\t\t//console.log(snapshot.val());\r\n    \r\n    \t\t\t\t\t\t//var img = document.querySelector(&quot;#screenshot&quot;);\r\n    \t\t\t\t\t\t//img.setAttribute(&#39;src&#39;, item.key);\r\n    \t\t\t\t\t\tlet chave = item.key;\r\n    \t\t\t\t\t\tlet dado = item.val();\t\t\t\t\t\t\r\n    \t\t\t\t\t\tconsole.log(chave, dado);\r\n    \r\n    \t\t\t\t\t\tvar img = document.querySelector(&quot;#screenshot&quot;);\r\n    \t\t\t\t\t\timg.setAttribute(&#39;src&#39;, dado);\r\n    \r\n    \t\t\t\t\t});\t\t\t\t\r\n    \t\t\t\t\t\r\n    \r\n    \t\t\t\t});\t\t\t\t  \r\n    \r\n    \t\t\t&lt;/script&gt;\r\n\r\n","title":"Faster way to transfer image from android to web interface","body":"<p>What is the fastest transfer to send an image from the android app to a php web system?\nI have tried sending the images to firebase storage and the url to realtime, and in the web interface I list these images to show them as a video. But this way the transitions are very slow.\nSo I ask what is the best way? Via retrofit? socket? Or another way of transfer that is faster than the one I showed you?\nIn short: I want to transmit the screen from android to a website, but the problem is that I capture several images one by one.</p>\n<pre><code>//TRANSFOMAR BITMAP EM ARRAY DE BYTES\n                    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                    bitmap.compress(Bitmap.CompressFormat.JPEG, 5, baos);\n\n                    byte[] dadosImagem = baos.toByteArray();\n\n                    //criar nome unico de imagem\n                    //String nomeImagem = UUID.randomUUID().toString();\n\n                    StorageReference imagemRef = storageReference\n                            .child(&quot;imagens&quot;)\n                            .child(&quot;screenshot&quot;)\n                            .child(idUser)\n                            .child(IMAGES_PRODUCED+&quot;.jpeg&quot;);\n\n                    //fazer upload da imagem\n                    UploadTask uploadTask = imagemRef.putBytes(dadosImagem);\n\n                    //se o upload foi feito com sucesso iremos inserir a URL da imagem no realtime\n                    uploadTask.addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                        @Override\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n\n                            //em versoes anteriores do a gente recuperava assim taskSnapshot.getDownloadUrl();\n                            //recuperar a url para inserir no realtime\n\n                            imagemRef.getDownloadUrl().addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                                    //aqui temos a url da imagem\n                                    String url = task.getResult().toString();\n\n                                    Log.d(&quot;TAG&quot;, IMAGES_PRODUCED + url);\n\n                                    //grava a url recuperada da imagem no realtime\n                                    Imagem imagem = new Imagem();\n                                    imagem.setUrl(url);\n                                    imagem.setIdUsuario(idUser);\n                                    imagem.salvarImagem();\n</code></pre>\n<p>sistema_web.php</p>\n<p>Here on the web site with php and js I list the url of the images that were registered in firebase realtime.</p>\n<pre><code>&lt;script type=&quot;text/javascript&quot;&gt;                 \n\n                firebase.database().ref('screenshot/'&lt;?=$_GET['idUserFirebase']?&gt;).on('value', (snapshot)=&gt;{\n\n\n                    snapshot.forEach(item =&gt; {\n\n                        //console.log(snapshot.val());\n\n                        //var img = document.querySelector(&quot;#screenshot&quot;);\n                        //img.setAttribute('src', item.key);\n                        let chave = item.key;\n                        let dado = item.val();                      \n                        console.log(chave, dado);\n\n                        var img = document.querySelector(&quot;#screenshot&quot;);\n                        img.setAttribute('src', dado);\n\n                    });             \n                    \n\n                });               \n\n            &lt;/script&gt;\n</code></pre>\n"},{"tags":["java","generics","jackson"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1645636230,"post_id":71241184,"comment_id":125927058,"body_markdown":"Does this answer your question? [Jackson - Deserialize using generic class](https://stackoverflow.com/questions/11664894/jackson-deserialize-using-generic-class)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11664894/jackson-deserialize-using-generic-class\">Jackson - Deserialize using generic class</a>"},{"owner":{"account_id":8195315,"reputation":365,"user_id":6168373,"display_name":"Tim Gustafson"},"score":0,"creation_date":1645637002,"post_id":71241184,"comment_id":125927401,"body_markdown":"I think the answer is &quot;no&quot;.  I&#39;m already creating a JavaType to decode the JSON data.  The problem isn&#39;t decoding; when I dump the decoded object to stdout, I see all the properties and data I expect.  The problem seems to be that Java doesn&#39;t see that Response&lt;T extends Results&gt; is the same as Response&lt;T extends Results&gt; when I call the callback method.","body":"I think the answer is &quot;no&quot;.  I&#39;m already creating a JavaType to decode the JSON data.  The problem isn&#39;t decoding; when I dump the decoded object to stdout, I see all the properties and data I expect.  The problem seems to be that Java doesn&#39;t see that Response&lt;T extends Results&gt; is the same as Response&lt;T extends Results&gt; when I call the callback method."}],"answers":[{"tags":[],"owner":{"account_id":8195315,"reputation":365,"user_id":6168373,"display_name":"Tim Gustafson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645643927,"creation_date":1645643927,"answer_id":71242882,"question_id":71241184,"body_markdown":"I was able to get this to work by casting the function parameter like this:\r\n\r\n    callbackEntry.method.handleResponse(\r\n        (concreteResponse.getClass()).cast(concreteResponse)\r\n    );\r\n\r\nThat shows a warning for an unchecked assignment, but it works.","title":"Jackson Decoding Generic Types","body":"<p>I was able to get this to work by casting the function parameter like this:</p>\n<pre><code>callbackEntry.method.handleResponse(\n    (concreteResponse.getClass()).cast(concreteResponse)\n);\n</code></pre>\n<p>That shows a warning for an unchecked assignment, but it works.</p>\n"}],"owner":{"account_id":8195315,"reputation":365,"user_id":6168373,"display_name":"Tim Gustafson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71242882,"answer_count":1,"score":0,"last_activity_date":1645643927,"creation_date":1645635840,"question_id":71241184,"body_markdown":"I am building a client/server application, and am encapsulating the request and response messages in generic Java classes that looks like this:\r\n\r\n    @SuperBuilder\r\n    @Jacksonized\r\n    @Getter\r\n    @Setter\r\n    public class AppResponse&lt;T extends AppResponse.Results&gt; {\r\n        public static final String SUCCESS_ATTRIBUTE = &quot;success&quot;;\r\n        public static final String MESSAGE_ATTRIBUTE = &quot;message&quot;;\r\n        public static final String REQUEST_ID_ATTRIBUTE = AppRequest.REQUEST_ID_ATTRIBUTE;\r\n        public static final String RESULTS_ATTRIBUTE = &quot;results&quot;;\r\n    \r\n        @JsonProperty(SUCCESS_ATTRIBUTE)\r\n        boolean success;\r\n    \r\n        @JsonProperty(MESSAGE_ATTRIBUTE)\r\n        String message;\r\n    \r\n        @JsonProperty(REQUEST_ID_ATTRIBUTE)\r\n        String requestID;\r\n    \r\n        @JsonProperty(RESULTS_ATTRIBUTE)\r\n        T results;\r\n    \r\n        @SuperBuilder\r\n        @Jacksonized\r\n        @Getter\r\n        @Setter\r\n        public static class Results {\r\n    \r\n        }\r\n    }\r\n\r\nThen I have one class that extends AppResponse.Results for each command response packet that can be sent over the wire.  For example:\r\n\r\n    @SuperBuilder\r\n    @Getter\r\n    @Setter\r\n    @Jacksonized\r\n    public class AppCreateForumPostResults extends AppResponse.Results {\r\n        @JsonProperty(&quot;id&quot;)\r\n        UUID id;\r\n    }\r\n\r\nSo when the server encodes this to JSON using Jackson, I get a JSON document that looks like this:\r\n\r\n    {\r\n      &quot;success&quot; : true,\r\n      &quot;requestID&quot; : &quot;eL55P4Sz&quot;,\r\n      &quot;results&quot; : {\r\n        &quot;id&quot; : &quot;0b48d389-2407-43c4-ad1b-ab52599c2d7f&quot;\r\n      }\r\n    }\r\n\r\nWhen the client application receives this message, it first decodes it to an ObjectNode:\r\n\r\n    objectNode = (ObjectNode) AppObjectMapper.OBJECT_MAPPER.readTree(message);\r\n\r\nIt then decodes that into a generic object, because it does not yet know what the concrete type for the generic is yet:\r\n\r\n    JavaType genericType = AppObjectMapper.OBJECT_MAPPER.getTypeFactory().constructParametricType(\r\n    \tAppResponse.class,\r\n    \tAppResponse.Results.class\r\n    );\r\n    \r\n    AppResponse&lt;AppResponse.Results&gt; genericResponse = AppObjectMapper.OBJECT_MAPPER.treeToValue(\r\n    \tobjectNode,\r\n    \tgenericType\r\n    );\r\n\r\nThen it consults a HashMap of requestIDs that have been sent to find out what kind of results class it should expect.  The HashMap is defined as:\r\n\r\n    private final Map&lt;String, CallbackEntry&lt;? extends AppResponse.Results&gt;&gt; callbacks = new HashMap&lt;&gt;();\r\n\r\nAnd CallbackEntry is defined as:\r\n\r\n    @Builder\r\n    @Value\r\n    public static class CallbackEntry&lt;T extends AppResponse.Results&gt; {\r\n    \tCallback&lt;T&gt; method;\r\n    \tClass&lt;T&gt; resultsClass;\r\n    }\r\n\r\nAnd finally Callback is defined as:\r\n\r\n    public interface Callback&lt;T extends AppResponse.Results&gt; {\r\n    \tvoid handleResponse(AppResponse&lt;T&gt; results);\r\n    }\r\n\r\nSo once we have found the requestID in the HashMap, we know what concrete class the results contain, and we can decode it:\r\n\r\n    CallbackEntry&lt;? extends AppResponse.Results&gt; callbackEntry = callbacks.get(genericResponse.getRequestID());\r\n    \r\n    callbacks.remove(genericResponse.getRequestID());\r\n    \r\n    JavaType concreteType = AppObjectMapper.OBJECT_MAPPER.getTypeFactory().constructParametricType(\r\n    \tAppResponse.class,\r\n    \tcallbackEntry.resultsClass\r\n    );\r\n    \r\n    AppResponse&lt;? extends AppResponse.Results&gt; concreteResponse = AppObjectMapper.OBJECT_MAPPER.treeToValue(\r\n    \tobjectNode,\r\n    \tconcreteType\r\n    );\r\n\r\nSo far, so good.  This all works exactly as expected.  If I print out the concreteResponse object, it has exactly the correct data in it.  However, when I go to actually call the callback method, I&#39;m getting an error.  The call looks like:\r\n\r\n    callbackEntry.method.handleResponse(concreteResponse);\r\n\r\nAnd the error I get on that line of code is:\r\n\r\n    [127,49] incompatible types: com.whatever.app.common.AppResponse&lt;capture#1 of ? extends com.whatever.app.common.AppResponse.Results&gt; cannot be converted to com.whatever.app.common.AppResponse&lt;capture#2 of ? extends com.whatever.app.common.AppResponse.Results&gt;\r\n\r\nI&#39;m a bit confused by the error message.  I&#39;m guessing it has to do somehow with the way in which the generics are being handled, but I just can&#39;t figure out what the correct incantation is to get this to go.  I&#39;ve done a bunch of Googling, and find similar errors here and there, but they generally are due to someone using ? instead of T, which (I think) is not the case here.\r\n\r\nSo, what am I missing?\r\n\r\nAny help is greatly appreciated!\r\n\r\n","title":"Jackson Decoding Generic Types","body":"<p>I am building a client/server application, and am encapsulating the request and response messages in generic Java classes that looks like this:</p>\n<pre><code>@SuperBuilder\n@Jacksonized\n@Getter\n@Setter\npublic class AppResponse&lt;T extends AppResponse.Results&gt; {\n    public static final String SUCCESS_ATTRIBUTE = &quot;success&quot;;\n    public static final String MESSAGE_ATTRIBUTE = &quot;message&quot;;\n    public static final String REQUEST_ID_ATTRIBUTE = AppRequest.REQUEST_ID_ATTRIBUTE;\n    public static final String RESULTS_ATTRIBUTE = &quot;results&quot;;\n\n    @JsonProperty(SUCCESS_ATTRIBUTE)\n    boolean success;\n\n    @JsonProperty(MESSAGE_ATTRIBUTE)\n    String message;\n\n    @JsonProperty(REQUEST_ID_ATTRIBUTE)\n    String requestID;\n\n    @JsonProperty(RESULTS_ATTRIBUTE)\n    T results;\n\n    @SuperBuilder\n    @Jacksonized\n    @Getter\n    @Setter\n    public static class Results {\n\n    }\n}\n</code></pre>\n<p>Then I have one class that extends AppResponse.Results for each command response packet that can be sent over the wire.  For example:</p>\n<pre><code>@SuperBuilder\n@Getter\n@Setter\n@Jacksonized\npublic class AppCreateForumPostResults extends AppResponse.Results {\n    @JsonProperty(&quot;id&quot;)\n    UUID id;\n}\n</code></pre>\n<p>So when the server encodes this to JSON using Jackson, I get a JSON document that looks like this:</p>\n<pre><code>{\n  &quot;success&quot; : true,\n  &quot;requestID&quot; : &quot;eL55P4Sz&quot;,\n  &quot;results&quot; : {\n    &quot;id&quot; : &quot;0b48d389-2407-43c4-ad1b-ab52599c2d7f&quot;\n  }\n}\n</code></pre>\n<p>When the client application receives this message, it first decodes it to an ObjectNode:</p>\n<pre><code>objectNode = (ObjectNode) AppObjectMapper.OBJECT_MAPPER.readTree(message);\n</code></pre>\n<p>It then decodes that into a generic object, because it does not yet know what the concrete type for the generic is yet:</p>\n<pre><code>JavaType genericType = AppObjectMapper.OBJECT_MAPPER.getTypeFactory().constructParametricType(\n    AppResponse.class,\n    AppResponse.Results.class\n);\n\nAppResponse&lt;AppResponse.Results&gt; genericResponse = AppObjectMapper.OBJECT_MAPPER.treeToValue(\n    objectNode,\n    genericType\n);\n</code></pre>\n<p>Then it consults a HashMap of requestIDs that have been sent to find out what kind of results class it should expect.  The HashMap is defined as:</p>\n<pre><code>private final Map&lt;String, CallbackEntry&lt;? extends AppResponse.Results&gt;&gt; callbacks = new HashMap&lt;&gt;();\n</code></pre>\n<p>And CallbackEntry is defined as:</p>\n<pre><code>@Builder\n@Value\npublic static class CallbackEntry&lt;T extends AppResponse.Results&gt; {\n    Callback&lt;T&gt; method;\n    Class&lt;T&gt; resultsClass;\n}\n</code></pre>\n<p>And finally Callback is defined as:</p>\n<pre><code>public interface Callback&lt;T extends AppResponse.Results&gt; {\n    void handleResponse(AppResponse&lt;T&gt; results);\n}\n</code></pre>\n<p>So once we have found the requestID in the HashMap, we know what concrete class the results contain, and we can decode it:</p>\n<pre><code>CallbackEntry&lt;? extends AppResponse.Results&gt; callbackEntry = callbacks.get(genericResponse.getRequestID());\n\ncallbacks.remove(genericResponse.getRequestID());\n\nJavaType concreteType = AppObjectMapper.OBJECT_MAPPER.getTypeFactory().constructParametricType(\n    AppResponse.class,\n    callbackEntry.resultsClass\n);\n\nAppResponse&lt;? extends AppResponse.Results&gt; concreteResponse = AppObjectMapper.OBJECT_MAPPER.treeToValue(\n    objectNode,\n    concreteType\n);\n</code></pre>\n<p>So far, so good.  This all works exactly as expected.  If I print out the concreteResponse object, it has exactly the correct data in it.  However, when I go to actually call the callback method, I'm getting an error.  The call looks like:</p>\n<pre><code>callbackEntry.method.handleResponse(concreteResponse);\n</code></pre>\n<p>And the error I get on that line of code is:</p>\n<pre><code>[127,49] incompatible types: com.whatever.app.common.AppResponse&lt;capture#1 of ? extends com.whatever.app.common.AppResponse.Results&gt; cannot be converted to com.whatever.app.common.AppResponse&lt;capture#2 of ? extends com.whatever.app.common.AppResponse.Results&gt;\n</code></pre>\n<p>I'm a bit confused by the error message.  I'm guessing it has to do somehow with the way in which the generics are being handled, but I just can't figure out what the correct incantation is to get this to go.  I've done a bunch of Googling, and find similar errors here and there, but they generally are due to someone using ? instead of T, which (I think) is not the case here.</p>\n<p>So, what am I missing?</p>\n<p>Any help is greatly appreciated!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1645641881,"post_id":71242471,"comment_id":125929375,"body_markdown":"You need to loop through the elements of your list and check each one using `endsWith`.","body":"You need to loop through the elements of your list and check each one using <code>endsWith</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1645642896,"post_id":71242471,"comment_id":125929781,"body_markdown":"`lastDigitsClient.contains(lastFour)` is always true... I dont think you typed that correctly","body":"<code>lastDigitsClient.contains(lastFour)</code> is always true... I dont think you typed that correctly"},{"owner":{"account_id":21812429,"reputation":1,"user_id":16109768,"display_name":"Raphael Weber"},"score":0,"creation_date":1645644765,"post_id":71242471,"comment_id":125930410,"body_markdown":"Thanks buddy! I use the example of Idle_Mind it worked!","body":"Thanks buddy! I use the example of Idle_Mind it worked!"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645643085,"creation_date":1645643085,"answer_id":71242722,"question_id":71242471,"body_markdown":"You can use `.filter()` to get all values in a list that match a condition\r\n\r\n```\r\nfinal String lastFour = &quot;2222&quot;;\r\nSystem.out.println(&quot;Lista de Propostas: &quot; + proposta);\r\nOptional&lt;String&gt; opt = proposta.stream().filter(s -&gt; s.endsWith(lastFour)).findFirst();\r\nif (opt.isPresent()) {\r\n  System.out.println(&quot;ULTIMOS DIGITOS : TRUE&quot;);\r\n}\r\n```","title":"Find and print a string using a piece of other string","body":"<p>You can use <code>.filter()</code> to get all values in a list that match a condition</p>\n<pre><code>final String lastFour = &quot;2222&quot;;\nSystem.out.println(&quot;Lista de Propostas: &quot; + proposta);\nOptional&lt;String&gt; opt = proposta.stream().filter(s -&gt; s.endsWith(lastFour)).findFirst();\nif (opt.isPresent()) {\n  System.out.println(&quot;ULTIMOS DIGITOS : TRUE&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645643314,"creation_date":1645643314,"answer_id":71242765,"question_id":71242471,"body_markdown":"For a simple approach, I would expect something more like:\r\n\r\n    ArrayList&lt;String&gt; proposta = new ArrayList&lt;String&gt;();\r\n    proposta.add(&quot;213141441414&quot;);\r\n    proposta.add(&quot;515151551&quot;);\r\n    proposta.add(&quot;2626262662&quot;);\r\n    proposta.add(&quot;26262627373&quot;);\r\n    proposta.add(&quot;7373632525&quot;);\r\n    proposta.add(&quot;1515252&quot;);\r\n    proposta.add(&quot;262636474&quot;);\r\n    proposta.add(&quot;11414142222&quot;);\r\n    \r\n    String match = &quot;&quot;;\r\n    boolean matchFound = false;\r\n    \r\n    String lastFour = &quot;2222&quot;;\r\n    for(String s : proposta) {\r\n      if(s.endsWith(lastFour)) {\r\n        match = s;\r\n        matchFound = true;\r\n        break;\r\n      }\r\n    }\r\n    \r\n    if (matchFound) {\r\n      System.out.println(&quot;match = &quot; + match);\r\n    }\r\n    else {\r\n      System.out.println(&quot;No match found.&quot;);\r\n    }\r\n\r\n","title":"Find and print a string using a piece of other string","body":"<p>For a simple approach, I would expect something more like:</p>\n<pre><code>ArrayList&lt;String&gt; proposta = new ArrayList&lt;String&gt;();\nproposta.add(&quot;213141441414&quot;);\nproposta.add(&quot;515151551&quot;);\nproposta.add(&quot;2626262662&quot;);\nproposta.add(&quot;26262627373&quot;);\nproposta.add(&quot;7373632525&quot;);\nproposta.add(&quot;1515252&quot;);\nproposta.add(&quot;262636474&quot;);\nproposta.add(&quot;11414142222&quot;);\n\nString match = &quot;&quot;;\nboolean matchFound = false;\n\nString lastFour = &quot;2222&quot;;\nfor(String s : proposta) {\n  if(s.endsWith(lastFour)) {\n    match = s;\n    matchFound = true;\n    break;\n  }\n}\n\nif (matchFound) {\n  System.out.println(&quot;match = &quot; + match);\n}\nelse {\n  System.out.println(&quot;No match found.&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645643897,"creation_date":1645643897,"answer_id":71242878,"question_id":71242471,"body_markdown":"You can use streams API \r\n\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(\r\n            &quot;213141441414&quot;,\r\n            &quot;515151551&quot;,\r\n            &quot;2626262662&quot;,\r\n            &quot;26262627373&quot;,\r\n            &quot;7373632525&quot;,\r\n            &quot;1515252&quot;,\r\n            &quot;262636474&quot;,\r\n            &quot;11414142222&quot;\r\n    );\r\n    String lastFour = &quot;2222&quot;;\r\n    strings.stream().filter(s -&gt; s.endsWith(lastFour)).forEach(System.out::println);\r\n\r\n","title":"Find and print a string using a piece of other string","body":"<p>You can use streams API</p>\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\n        &quot;213141441414&quot;,\n        &quot;515151551&quot;,\n        &quot;2626262662&quot;,\n        &quot;26262627373&quot;,\n        &quot;7373632525&quot;,\n        &quot;1515252&quot;,\n        &quot;262636474&quot;,\n        &quot;11414142222&quot;\n);\nString lastFour = &quot;2222&quot;;\nstrings.stream().filter(s -&gt; s.endsWith(lastFour)).forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":21812429,"reputation":1,"user_id":16109768,"display_name":"Raphael Weber"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":71242765,"answer_count":3,"score":-4,"last_activity_date":1645643897,"creation_date":1645641793,"question_id":71242471,"body_markdown":"I have the following code\r\n\r\n    \tArrayList&lt;String&gt; proposta = new ArrayList&lt;String&gt;();\r\n\t\tString propostaString = &quot;&quot;;\r\n\t\tproposta.add(&quot;213141441414&quot;);\r\n\t\tproposta.add(&quot;515151551&quot;);\r\n\t\tproposta.add(&quot;2626262662&quot;);\r\n\t\tproposta.add(&quot;26262627373&quot;);\r\n\t\tproposta.add(&quot;7373632525&quot;);\r\n\t\tproposta.add(&quot;1515252&quot;);\r\n\t\tproposta.add(&quot;262636474&quot;);\r\n\t\tproposta.add(&quot;11414142222&quot;);\r\n\t\tString entrada = proposta.toString();\r\n\t\t\r\n\t\tString lastDigitsClient = &quot;2222&quot;;\r\n\t\tString lastFour = &quot;2222&quot;;\r\n\t\tboolean Equal = false;\r\n\t\tif(lastDigitsClient.contains(lastFour)) {\r\n\t\t\tEqual=true;\r\n\t\t\tSystem.out.println(&quot;ULTIMOS DIGITOS : TRUE = &quot; +Equal);\r\n\t\t\tSystem.out.println(&quot;Lista de Propostas: &quot; +entrada);\r\n\r\n\t\t}\r\n\r\n\r\nI want to print the proposta 11414142222 using the value of lastDigitsClient, how could I do it?","title":"Find and print a string using a piece of other string","body":"<p>I have the following code</p>\n<pre><code>    ArrayList&lt;String&gt; proposta = new ArrayList&lt;String&gt;();\n    String propostaString = &quot;&quot;;\n    proposta.add(&quot;213141441414&quot;);\n    proposta.add(&quot;515151551&quot;);\n    proposta.add(&quot;2626262662&quot;);\n    proposta.add(&quot;26262627373&quot;);\n    proposta.add(&quot;7373632525&quot;);\n    proposta.add(&quot;1515252&quot;);\n    proposta.add(&quot;262636474&quot;);\n    proposta.add(&quot;11414142222&quot;);\n    String entrada = proposta.toString();\n    \n    String lastDigitsClient = &quot;2222&quot;;\n    String lastFour = &quot;2222&quot;;\n    boolean Equal = false;\n    if(lastDigitsClient.contains(lastFour)) {\n        Equal=true;\n        System.out.println(&quot;ULTIMOS DIGITOS : TRUE = &quot; +Equal);\n        System.out.println(&quot;Lista de Propostas: &quot; +entrada);\n\n    }\n</code></pre>\n<p>I want to print the proposta 11414142222 using the value of lastDigitsClient, how could I do it?</p>\n"},{"tags":["java","oop","design-patterns","double-dispatch"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1645577345,"post_id":71229342,"comment_id":125907576,"body_markdown":"It solves the double-dispatch problem, but not by *being* double-dispatch. It still relies on all types being present at compile time. Very handy thing, though.","body":"It solves the double-dispatch problem, but not by <i>being</i> double-dispatch. It still relies on all types being present at compile time. Very handy thing, though."},{"owner":{"account_id":4229977,"reputation":2712,"user_id":3462509,"accept_rate":67,"display_name":"Solaxun"},"score":0,"creation_date":1645579342,"post_id":71229342,"comment_id":125907891,"body_markdown":"@BasilBourque I didn&#39;t think it was relevant.  The question was more about the pattern conceptually, not the specific usage of it in Crafting Interpreters. That said, I will add the link for those curious.. it&#39;s a fantastic resource.","body":"@BasilBourque I didn&#39;t think it was relevant.  The question was more about the pattern conceptually, not the specific usage of it in Crafting Interpreters. That said, I will add the link for those curious.. it&#39;s a fantastic resource."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1645579529,"post_id":71229342,"comment_id":125907919,"body_markdown":"I suggest linking to Wikipedia page on [*Double Dispatch*](https://en.wikipedia.org/wiki/Double_dispatch) if it agrees with your definition. If not in agreement, considering explaining.","body":"I suggest linking to Wikipedia page on <a href=\"https://en.wikipedia.org/wiki/Double_dispatch\" rel=\"nofollow noreferrer\"><i>Double Dispatch</i></a> if it agrees with your definition. If not in agreement, considering explaining."},{"owner":{"account_id":4229977,"reputation":2712,"user_id":3462509,"accept_rate":67,"display_name":"Solaxun"},"score":0,"creation_date":1645580095,"post_id":71229342,"comment_id":125907990,"body_markdown":"@BasilBourque well I mean even the first sentence of the wiki kind of makes my point: &quot;dispatches a function call to different concrete functions depending on the runtime types of two objects involved in the call&quot;.  The visitor pattern dispatches on one runtime type (the one implementing accept), not two, right?  The second is a static dispatch and picks a method to call.  To me, that&#39;s really single dispatch.. just single dispatch that is extensible.","body":"@BasilBourque well I mean even the first sentence of the wiki kind of makes my point: &quot;dispatches a function call to different concrete functions depending on the runtime types of two objects involved in the call&quot;.  The visitor pattern dispatches on one runtime type (the one implementing accept), not two, right?  The second is a static dispatch and picks a method to call.  To me, that&#39;s really single dispatch.. just single dispatch that is extensible."}],"answers":[{"tags":[],"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645643624,"creation_date":1645643624,"answer_id":71242824,"question_id":71229342,"body_markdown":"The comment from @user207421 is spot on. If a language does not natively support double dispatch, no design pattern can alter the language to make it so. A pattern merely provides an alternative which may solve some of the problems that double dispatch would be applied to in another language.\r\n\r\nPeople learning the Visitor Pattern who already have an understanding of double dispatch may be assisted by explanations such as, &quot;Visitor solves a similar set of problems to those solved by double dispatch&quot;. Unfortunately, that explanation is often reduced to, &quot;Visitor implements double dispatch&quot; which is not true.\r\n\r\nThe fact you&#39;ve recognized this means you have a solid understanding of both concepts already.","title":"Visitor Pattern and Double Dispatch","body":"<p>The comment from @user207421 is spot on. If a language does not natively support double dispatch, no design pattern can alter the language to make it so. A pattern merely provides an alternative which may solve some of the problems that double dispatch would be applied to in another language.</p>\n<p>People learning the Visitor Pattern who already have an understanding of double dispatch may be assisted by explanations such as, &quot;Visitor solves a similar set of problems to those solved by double dispatch&quot;. Unfortunately, that explanation is often reduced to, &quot;Visitor implements double dispatch&quot; which is not true.</p>\n<p>The fact you've recognized this means you have a solid understanding of both concepts already.</p>\n"}],"owner":{"account_id":4229977,"reputation":2712,"user_id":3462509,"accept_rate":67,"display_name":"Solaxun"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71242824,"answer_count":1,"score":3,"last_activity_date":1645643624,"creation_date":1645570607,"question_id":71229342,"body_markdown":"I know this is well trodden territory but I have a specific question... I promise.\r\n\r\nHaving spent very little time in the statically typed, object oriented world, I recently came across this design pattern while reading [Crafting Interpreters](https://craftinginterpreters.com/representing-code.html#implementing-syntax-trees).  While I understand this pattern allows for extensible *behavior* (methods) on a set of well defined existing *types* (classes), I don&#39;t quite get the characterization of it as a solution to the double dispatch problem, at least not without some additional assumptions.  I see it more as making a tradeoff to the [expression problem](https://en.wikipedia.org/wiki/Expression_problem), where you trade closed types for open methods.\r\n\r\nIn most of the examples I&#39;ve seen, you end up with something like this (shamelessly stolen from the awesome [Clojure Design Patterns](http://mishadoff.com/blog/clojure-design-patterns/#episode-4-visitor))\r\n\r\n```java\r\npublic interface Visitor {\r\n  void visit(Activity a);\r\n  void visit(Message m);\r\n}\r\n\r\npublic class PDFVisitor implements Visitor {\r\n  @Override\r\n  public void visit(Activity a) {\r\n    PDFExporter.export(a);\r\n  }\r\n\r\n  @Override\r\n  public void visit(Message m) {\r\n    PDFExporter.export(m);\r\n  }\r\n}\r\n\r\npublic abstract class Item {\r\n  abstract void accept(Visitor v);\r\n}\r\n\r\nclass Message extends Item {\r\n  @Override\r\n  void accept(Visitor v) {\r\n    v.visit(this);\r\n  }\r\n}\r\n\r\nclass Activity extends Item {\r\n  @Override\r\n  void accept(Visitor v) {\r\n    v.visit(this);\r\n  }\r\n}\r\n\r\nItem i = new Message();\r\nVisitor v = new PDFVisitor(); \r\ni.accept(v);\r\n```\r\n\r\nHere we have a set of types (Message and Activity) which are presumably closed or infrequently changing, and a set of methods which we want to be open for extension (the Visitors).  Now where I get confused is that in most examples, they will show how you can implement other visitors without touching existing classes, e.g. something like this:\r\n\r\n```java\r\npublic class XMLVisitor implements Visitor {\r\n  @Override\r\n  public void visit(Activity a) {\r\n    XMLExporter.export(a);\r\n  }\r\n\r\n  @Override\r\n  public void visit(Message m) {\r\n    XMLExporter.export(m);\r\n  }\r\n}\r\n```\r\nand then make some hand-waivy allusion to this being &quot;double dispatch&quot;, which it is not. \r\n Here `accept` dynamically dispatches on the subtype of `Item`, but within `accept` the `visit` methods statically dispatch to the passed in visitor via method overloading. So we have single dispatch on `Item`, and then the &quot;second&quot; static dispatch within `accept` is really about selecting a behavior (method) to call with that `Item` type.  There is only one &quot;type&quot; being dispatched on, not two - the second is a behavior.\r\n\r\nWhen I think of double dispatch, I think of a function that dispatches on the type of two arguments. One behavior, two types.\r\n\r\n    export(Activity,XML)\r\n    export(Activity,PDF)\r\n    export(Message,XML)\r\n    export(Message,PDF)\r\n\r\nTo me this is subtly different to the visitor pattern which allows any set of behaviors to be extended to existing classes, but those behaviors don&#39;t necessarily all represent the same behavior like in the four `export` examples above - they can be anything. If we add another Visitor it may represent exporting, but it could just as well not.  From the API layer you&#39;re just calling `accept` methods and trusting that the passed in Visitor does what you want, whatever that may be.\r\n\r\nAm I looking at this the wrong way?\r\n\r\n","title":"Visitor Pattern and Double Dispatch","body":"<p>I know this is well trodden territory but I have a specific question... I promise.</p>\n<p>Having spent very little time in the statically typed, object oriented world, I recently came across this design pattern while reading <a href=\"https://craftinginterpreters.com/representing-code.html#implementing-syntax-trees\" rel=\"nofollow noreferrer\">Crafting Interpreters</a>.  While I understand this pattern allows for extensible <em>behavior</em> (methods) on a set of well defined existing <em>types</em> (classes), I don't quite get the characterization of it as a solution to the double dispatch problem, at least not without some additional assumptions.  I see it more as making a tradeoff to the <a href=\"https://en.wikipedia.org/wiki/Expression_problem\" rel=\"nofollow noreferrer\">expression problem</a>, where you trade closed types for open methods.</p>\n<p>In most of the examples I've seen, you end up with something like this (shamelessly stolen from the awesome <a href=\"http://mishadoff.com/blog/clojure-design-patterns/#episode-4-visitor\" rel=\"nofollow noreferrer\">Clojure Design Patterns</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Visitor {\n  void visit(Activity a);\n  void visit(Message m);\n}\n\npublic class PDFVisitor implements Visitor {\n  @Override\n  public void visit(Activity a) {\n    PDFExporter.export(a);\n  }\n\n  @Override\n  public void visit(Message m) {\n    PDFExporter.export(m);\n  }\n}\n\npublic abstract class Item {\n  abstract void accept(Visitor v);\n}\n\nclass Message extends Item {\n  @Override\n  void accept(Visitor v) {\n    v.visit(this);\n  }\n}\n\nclass Activity extends Item {\n  @Override\n  void accept(Visitor v) {\n    v.visit(this);\n  }\n}\n\nItem i = new Message();\nVisitor v = new PDFVisitor(); \ni.accept(v);\n</code></pre>\n<p>Here we have a set of types (Message and Activity) which are presumably closed or infrequently changing, and a set of methods which we want to be open for extension (the Visitors).  Now where I get confused is that in most examples, they will show how you can implement other visitors without touching existing classes, e.g. something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class XMLVisitor implements Visitor {\n  @Override\n  public void visit(Activity a) {\n    XMLExporter.export(a);\n  }\n\n  @Override\n  public void visit(Message m) {\n    XMLExporter.export(m);\n  }\n}\n</code></pre>\n<p>and then make some hand-waivy allusion to this being &quot;double dispatch&quot;, which it is not.\nHere <code>accept</code> dynamically dispatches on the subtype of <code>Item</code>, but within <code>accept</code> the <code>visit</code> methods statically dispatch to the passed in visitor via method overloading. So we have single dispatch on <code>Item</code>, and then the &quot;second&quot; static dispatch within <code>accept</code> is really about selecting a behavior (method) to call with that <code>Item</code> type.  There is only one &quot;type&quot; being dispatched on, not two - the second is a behavior.</p>\n<p>When I think of double dispatch, I think of a function that dispatches on the type of two arguments. One behavior, two types.</p>\n<pre><code>export(Activity,XML)\nexport(Activity,PDF)\nexport(Message,XML)\nexport(Message,PDF)\n</code></pre>\n<p>To me this is subtly different to the visitor pattern which allows any set of behaviors to be extended to existing classes, but those behaviors don't necessarily all represent the same behavior like in the four <code>export</code> examples above - they can be anything. If we add another Visitor it may represent exporting, but it could just as well not.  From the API layer you're just calling <code>accept</code> methods and trusting that the passed in Visitor does what you want, whatever that may be.</p>\n<p>Am I looking at this the wrong way?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":291949,"reputation":4846,"user_id":594406,"accept_rate":29,"display_name":"Katona"},"score":0,"creation_date":1376503250,"post_id":18237222,"comment_id":26741090,"body_markdown":"I don&#39;t know if it&#39;s helpful or not, but if you remove the annotation `@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;mimeType&quot;)\n` from `AbstractBookmarkJsonModel` then you will have only one `mimeType` in your json","body":"I don&#39;t know if it&#39;s helpful or not, but if you remove the annotation <code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;mimeType&quot;) </code> from <code>AbstractBookmarkJsonModel</code> then you will have only one <code>mimeType</code> in your json"}],"answers":[{"tags":[],"owner":{"account_id":291949,"reputation":4846,"user_id":594406,"accept_rate":29,"display_name":"Katona"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1376505061,"creation_date":1376504212,"answer_id":18239284,"question_id":18237222,"body_markdown":"This behaviour is caused by the annotations placed on class `AbstractBookmarkJsonModel`:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;mimeType&quot;)\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = ImageBookmarkJsonModel.class, name = &quot;image/jpeg&quot;),\r\n        @JsonSubTypes.Type(value = EpubBookmarkJsonModel.class, name = &quot;application/epub+zip&quot;)\r\n    })\r\n\r\n`@JsonTypeInfo` tells Jackson to serialize the logical type name (`JsonTypeInfo.Id.NAME`) as a property (`JsonTypeInfo.As.PROPERTY`) with name `mimeType` (`property = &quot;mimeType&quot;`). With `@JsonSubTypes.Type` you assign the logical name `application/epub+zip`  to `EpubBookmarkJsonModel`.\r\n\r\nWhen it comes to serialization, Jackson serializes the logical name as a property `mimeType = &quot;application/epub+zip&quot;` then the properties of the object among them \r\n`mimeType` which happens to have the same value as the logical name `application/epub+zip` (assigned in the constructor).\r\n\r\nI think `mimeType` should be changed to `objectType` in the `@JsonTypeInfo` annotation or even better to remove the `mimeType` field since Jackson will take care of that through type info serialization.","title":"Duplicate JSON Field with Jackson","body":"<p>This behaviour is caused by the annotations placed on class <code>AbstractBookmarkJsonModel</code>:</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = \"mimeType\")\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = ImageBookmarkJsonModel.class, name = \"image/jpeg\"),\n    @JsonSubTypes.Type(value = EpubBookmarkJsonModel.class, name = \"application/epub+zip\")\n})\n</code></pre>\n\n<p><code>@JsonTypeInfo</code> tells Jackson to serialize the logical type name (<code>JsonTypeInfo.Id.NAME</code>) as a property (<code>JsonTypeInfo.As.PROPERTY</code>) with name <code>mimeType</code> (<code>property = \"mimeType\"</code>). With <code>@JsonSubTypes.Type</code> you assign the logical name <code>application/epub+zip</code>  to <code>EpubBookmarkJsonModel</code>.</p>\n\n<p>When it comes to serialization, Jackson serializes the logical name as a property <code>mimeType = \"application/epub+zip\"</code> then the properties of the object among them \n<code>mimeType</code> which happens to have the same value as the logical name <code>application/epub+zip</code> (assigned in the constructor).</p>\n\n<p>I think <code>mimeType</code> should be changed to <code>objectType</code> in the <code>@JsonTypeInfo</code> annotation or even better to remove the <code>mimeType</code> field since Jackson will take care of that through type info serialization.</p>\n"},{"tags":[],"owner":{"account_id":52399,"reputation":730,"user_id":156574,"display_name":"ZacharyP"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1400517986,"creation_date":1400517986,"answer_id":23743058,"question_id":18237222,"body_markdown":"I was having this exact same problem with the duplicate output.  I found a solution that did not involve another property, and allowed me to not remove the original property.  First, I set the visible flag to true for JsonTypeInfo. Then, I added a JsonIgnore annotation to the property declaration and the getter (but not the setter).  This is so far outputting the JSON correctly with only one key for the type property.\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, visible = true, property = &quot;mimeType&quot;)\r\n    @JsonSubTypes({\r\n        @JsonSubTypes.Type(value = ImageBookmarkJsonModel.class, name = &quot;image/jpeg&quot;),\r\n        @JsonSubTypes.Type(value = EpubBookmarkJsonModel.class, name = &quot;application/epub+zip&quot;)\r\n    })\r\n    public abstract class AbstractBookmarkJsonModel extends AbstractJsonModel {\r\n        @JsonIgnore\r\n        @JsonProperty(&quot;mimeType&quot;)\r\n        protected String mimeType;\r\n\r\n        @JsonIgnore\r\n        @JsonProperty(&quot;mimeType&quot;)\r\n        public String getMimeType() {\r\n            return mimeType;\r\n        }\r\n\r\n        @JsonProperty(&quot;mimeType&quot;)\r\n        public void setMimeType(String mimeType) {\r\n            this.mimeType = mimeType;\r\n        }\r\n\r\n    }\r\n\r\nTo note, this is with fasterxml jackson jackson-databind 2.1.1\r\n        \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Duplicate JSON Field with Jackson","body":"<p>I was having this exact same problem with the duplicate output.  I found a solution that did not involve another property, and allowed me to not remove the original property.  First, I set the visible flag to true for JsonTypeInfo. Then, I added a JsonIgnore annotation to the property declaration and the getter (but not the setter).  This is so far outputting the JSON correctly with only one key for the type property.</p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, visible = true, property = \"mimeType\")\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = ImageBookmarkJsonModel.class, name = \"image/jpeg\"),\n    @JsonSubTypes.Type(value = EpubBookmarkJsonModel.class, name = \"application/epub+zip\")\n})\npublic abstract class AbstractBookmarkJsonModel extends AbstractJsonModel {\n    @JsonIgnore\n    @JsonProperty(\"mimeType\")\n    protected String mimeType;\n\n    @JsonIgnore\n    @JsonProperty(\"mimeType\")\n    public String getMimeType() {\n        return mimeType;\n    }\n\n    @JsonProperty(\"mimeType\")\n    public void setMimeType(String mimeType) {\n        this.mimeType = mimeType;\n    }\n\n}\n</code></pre>\n\n<p>To note, this is with fasterxml jackson jackson-databind 2.1.1</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6100969,"reputation":816,"user_id":4760014,"display_name":"Thomas Vaughan"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1443560436,"creation_date":1443449645,"answer_id":32825241,"question_id":18237222,"body_markdown":"I solved this by using the `JsonTypeInfo.As.EXISTING_PROPERTY` in the @JsonTypeInfo annotation.\r\n\r\nThe project is open source, check it out here: [ANS.java][1]\r\n\r\n\r\n  [1]: https://github.com/washingtonpost/ans-schema/blob/master/src/main/java/com/washingtonpost/arc/ans/v0_3/model/ANS.java","title":"Duplicate JSON Field with Jackson","body":"<p>I solved this by using the <code>JsonTypeInfo.As.EXISTING_PROPERTY</code> in the @JsonTypeInfo annotation.</p>\n\n<p>The project is open source, check it out here: <a href=\"https://github.com/washingtonpost/ans-schema/blob/master/src/main/java/com/washingtonpost/arc/ans/v0_3/model/ANS.java\">ANS.java</a></p>\n"},{"tags":[],"owner":{"account_id":10064166,"reputation":77,"user_id":8122274,"display_name":"Fedulov Oleg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643615417,"creation_date":1643198275,"answer_id":70863083,"question_id":18237222,"body_markdown":"This case probably just with legacy versions of jacson lib\r\nand it&#39;s simply resolved by moving yours `@JsonProperty(value = &quot;Your_CUSTOM_Name&quot;)` from fields to getters.","title":"Duplicate JSON Field with Jackson","body":"<p>This case probably just with legacy versions of jacson lib\nand it's simply resolved by moving yours <code>@JsonProperty(value = &quot;Your_CUSTOM_Name&quot;)</code> from fields to getters.</p>\n"},{"tags":[],"owner":{"account_id":3735272,"reputation":21,"user_id":3106348,"display_name":"bmel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645643567,"creation_date":1645640854,"answer_id":71242289,"question_id":18237222,"body_markdown":"Had the same problem. We&#39;re using Lombok, and I got this work with @JsonProperty access:\r\n\r\n```\r\n  @Getter\r\n  @Setter\r\n  @JsonProperty(access = JsonProperty.Access.WRITE_ONLY) // Prevents duplication when serializing to JSON (subtype discriminator property)\r\n  private RuleType ruleType;\r\n```\r\n\r\nI like this solution, since:\r\n\r\n - No dependency on another lib\r\n - Did not have to change my data model\r\n - Works with Lombok (less clutter)\r\n \r\nAnd yes, need visible=true so that the property will get populated. In our case, it&#39;s an Enum with some behavior dispatching, so we certainly need it for our purposes, and it&#39;s great to be able to use it for Json subtype discrimination as well.\r\n\r\n```\r\n@JsonTypeInfo(\r\n  use = JsonTypeInfo.Id.NAME,\r\n  property = &quot;ruleType&quot;,\r\n  visible = true)\r\n```","title":"Duplicate JSON Field with Jackson","body":"<p>Had the same problem. We're using Lombok, and I got this work with @JsonProperty access:</p>\n<pre><code>  @Getter\n  @Setter\n  @JsonProperty(access = JsonProperty.Access.WRITE_ONLY) // Prevents duplication when serializing to JSON (subtype discriminator property)\n  private RuleType ruleType;\n</code></pre>\n<p>I like this solution, since:</p>\n<ul>\n<li>No dependency on another lib</li>\n<li>Did not have to change my data model</li>\n<li>Works with Lombok (less clutter)</li>\n</ul>\n<p>And yes, need visible=true so that the property will get populated. In our case, it's an Enum with some behavior dispatching, so we certainly need it for our purposes, and it's great to be able to use it for Json subtype discrimination as well.</p>\n<pre><code>@JsonTypeInfo(\n  use = JsonTypeInfo.Id.NAME,\n  property = &quot;ruleType&quot;,\n  visible = true)\n</code></pre>\n"}],"owner":{"display_name":"user372743"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31414,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"answer_count":5,"score":57,"last_activity_date":1645643567,"creation_date":1376497620,"question_id":18237222,"body_markdown":"I am using Jackson for JSON (de)serialization in conjunction with Spring. However I am having an issue with a field being twice in some cases.\r\n\r\nI have an abstract class: \r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;mimeType&quot;)\r\n    @JsonSubTypes({\r\n    \t@JsonSubTypes.Type(value = ImageBookmarkJsonModel.class, name = &quot;image/jpeg&quot;),\r\n    \t@JsonSubTypes.Type(value = EpubBookmarkJsonModel.class, name = &quot;application/epub+zip&quot;)\r\n    })\r\n    public abstract class AbstractBookmarkJsonModel extends AbstractJsonModel {\r\n    \tprotected String mimeType;\r\n        // Removed other fields for brevity\r\n    \r\n    \tpublic String getMimeType() {\r\n    \t\treturn mimeType;\r\n    \t}\r\n    \r\n    \tpublic void setMimeType(String mimeType) {\r\n    \t\tthis.mimeType = mimeType;\r\n    \t}\r\n\r\n        @Override\r\n        public String toString() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n    \r\n            try {\r\n                return mapper.writeValueAsString(this);\r\n            } catch (IOException e) {\r\n                throw new IllegalStateException(&quot;Cannot convert object of type &quot; + this.getClass().toString() + &quot; to JSON&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd a concrete class extend the abstract:\r\n\r\n    public class EpubBookmarkJsonModel extends AbstractBookmarkJsonModel {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n        // Removed other fields for brevity\r\n    \r\n    \tpublic EpubBookmarkJsonModel() {\r\n    \t\tthis.mimeType = &quot;application/epub+zip&quot;;\r\n    \t}\r\n    }\r\n\r\nThe problem is that when I serialize this JSON, I get a duplicate `mimeType` field:\r\n\r\n    {\r\n      &quot;mimeType&quot;: &quot;application/epub+zip&quot;,\r\n      &quot;mimeType&quot;: &quot;application/epub+zip&quot;,\r\n      &quot;userId&quot;: 24,\r\n      &quot;acid&quot;: &quot;ACID-000000000029087&quot;,\r\n      &quot;added&quot;: &quot;2013-08-14T12:02:17Z&quot;,\r\n      &quot;epubBookmarkId&quot;: 34,\r\n      &quot;cfi&quot;: &quot;epubcfi(/6/4!/2/68)&quot;,\r\n      &quot;context&quot;: &quot;CONTEXT&quot;\r\n    }\r\n\r\nI have tried using the recommendation of [previous][1] [answers][2] to use the `@JsonAutoDetect` annotation to specify that only fields on a class should be used as well as setting the same on the `ObjectMapper`, however this does not fix the problem.\r\n\r\nAnnotation:\r\n\r\n    @JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY, getterVisibility = JsonAutoDetect.Visibility.NONE,\r\n    \t\tsetterVisibility = JsonAutoDetect.Visibility.NONE, creatorVisibility = JsonAutoDetect.Visibility.NONE,\r\n    \t\tisGetterVisibility = JsonAutoDetect.Visibility.NONE)\r\n\r\nObjectMapper:\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n\t\tmapper.getSerializationConfig().getDefaultVisibilityChecker()\r\n\t\t\t\t.withFieldVisibility(JsonAutoDetect.Visibility.ANY)\r\n\t\t\t\t.withGetterVisibility(JsonAutoDetect.Visibility.NONE)\r\n\t\t\t\t.withSetterVisibility(JsonAutoDetect.Visibility.NONE)\r\n\t\t\t\t.withCreatorVisibility(JsonAutoDetect.Visibility.NONE);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13262662/duplicate-json-property-when-converting-java-object-to-json-string-using-jackson\r\n  [2]: https://stackoverflow.com/questions/7105745/how-to-specify-jackson-to-only-use-fields-preferably-globally","title":"Duplicate JSON Field with Jackson","body":"<p>I am using Jackson for JSON (de)serialization in conjunction with Spring. However I am having an issue with a field being twice in some cases.</p>\n\n<p>I have an abstract class: </p>\n\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = \"mimeType\")\n@JsonSubTypes({\n    @JsonSubTypes.Type(value = ImageBookmarkJsonModel.class, name = \"image/jpeg\"),\n    @JsonSubTypes.Type(value = EpubBookmarkJsonModel.class, name = \"application/epub+zip\")\n})\npublic abstract class AbstractBookmarkJsonModel extends AbstractJsonModel {\n    protected String mimeType;\n    // Removed other fields for brevity\n\n    public String getMimeType() {\n        return mimeType;\n    }\n\n    public void setMimeType(String mimeType) {\n        this.mimeType = mimeType;\n    }\n\n    @Override\n    public String toString() {\n        ObjectMapper mapper = new ObjectMapper();\n\n        try {\n            return mapper.writeValueAsString(this);\n        } catch (IOException e) {\n            throw new IllegalStateException(\"Cannot convert object of type \" + this.getClass().toString() + \" to JSON\", e);\n        }\n    }\n}\n</code></pre>\n\n<p>And a concrete class extend the abstract:</p>\n\n<pre><code>public class EpubBookmarkJsonModel extends AbstractBookmarkJsonModel {\n    private static final long serialVersionUID = 1L;\n    // Removed other fields for brevity\n\n    public EpubBookmarkJsonModel() {\n        this.mimeType = \"application/epub+zip\";\n    }\n}\n</code></pre>\n\n<p>The problem is that when I serialize this JSON, I get a duplicate <code>mimeType</code> field:</p>\n\n<pre><code>{\n  \"mimeType\": \"application/epub+zip\",\n  \"mimeType\": \"application/epub+zip\",\n  \"userId\": 24,\n  \"acid\": \"ACID-000000000029087\",\n  \"added\": \"2013-08-14T12:02:17Z\",\n  \"epubBookmarkId\": 34,\n  \"cfi\": \"epubcfi(/6/4!/2/68)\",\n  \"context\": \"CONTEXT\"\n}\n</code></pre>\n\n<p>I have tried using the recommendation of <a href=\"https://stackoverflow.com/questions/13262662/duplicate-json-property-when-converting-java-object-to-json-string-using-jackson\">previous</a> <a href=\"https://stackoverflow.com/questions/7105745/how-to-specify-jackson-to-only-use-fields-preferably-globally\">answers</a> to use the <code>@JsonAutoDetect</code> annotation to specify that only fields on a class should be used as well as setting the same on the <code>ObjectMapper</code>, however this does not fix the problem.</p>\n\n<p>Annotation:</p>\n\n<pre><code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY, getterVisibility = JsonAutoDetect.Visibility.NONE,\n        setterVisibility = JsonAutoDetect.Visibility.NONE, creatorVisibility = JsonAutoDetect.Visibility.NONE,\n        isGetterVisibility = JsonAutoDetect.Visibility.NONE)\n</code></pre>\n\n<p>ObjectMapper:</p>\n\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n    mapper.getSerializationConfig().getDefaultVisibilityChecker()\n            .withFieldVisibility(JsonAutoDetect.Visibility.ANY)\n            .withGetterVisibility(JsonAutoDetect.Visibility.NONE)\n            .withSetterVisibility(JsonAutoDetect.Visibility.NONE)\n            .withCreatorVisibility(JsonAutoDetect.Visibility.NONE);\n</code></pre>\n"},{"tags":["java","sql","spring-boot","jpa","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645639812,"creation_date":1645639812,"answer_id":71242077,"question_id":71241741,"body_markdown":"You should be using `${...}` expressions and not `#{...}` expressions.  `${...}` are regular variable expressions while `#{...}` expressions are for system/internationalization properties.\r\n\r\n    &lt;tr th:each=&quot;mobile: ${listMobiles}&quot;&gt;\r\n      &lt;td th:text=&quot;${mobile.modelNum}&quot;&gt;&lt;/td&gt;\r\n      &lt;td th:text=&quot;${mobile.companyName}&quot;&gt;&lt;/td&gt;\r\n      &lt;td th:text=&quot;${mobile.price}&quot;&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;","title":"why thymeleaf does not render data in table properly","body":"<p>You should be using <code>${...}</code> expressions and not <code>#{...}</code> expressions.  <code>${...}</code> are regular variable expressions while <code>#{...}</code> expressions are for system/internationalization properties.</p>\n<pre><code>&lt;tr th:each=&quot;mobile: ${listMobiles}&quot;&gt;\n  &lt;td th:text=&quot;${mobile.modelNum}&quot;&gt;&lt;/td&gt;\n  &lt;td th:text=&quot;${mobile.companyName}&quot;&gt;&lt;/td&gt;\n  &lt;td th:text=&quot;${mobile.price}&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645643451,"creation_date":1645639872,"answer_id":71242091,"question_id":71241741,"body_markdown":"i have replace \r\n\r\n \r\n\r\n         &lt;td th:text=&quot;#{mobile.modelNum}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;#{mobile.companyName}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;#{mobile.price}&quot;&gt;&lt;/td&gt;\r\n          &lt;td th:text=&quot;#{mobile.price}&quot;&gt;&lt;/td&gt;\r\n\r\n\r\nwith\r\n       \r\n\r\n     &lt;td th:text=&quot;${mobile.modelNum}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${mobile.companyName}&quot;&gt;&lt;/td&gt;\r\n                        &lt;td th:text=&quot;${mobile.price}&quot;&gt;&lt;/td&gt;\r\n          &lt;td th:text=&quot;${mobile.price}&quot;&gt;&lt;/td&gt;\r\n\r\n\r\n","title":"why thymeleaf does not render data in table properly","body":"<p>i have replace</p>\n<pre><code>     &lt;td th:text=&quot;#{mobile.modelNum}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;#{mobile.companyName}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;#{mobile.price}&quot;&gt;&lt;/td&gt;\n      &lt;td th:text=&quot;#{mobile.price}&quot;&gt;&lt;/td&gt;\n</code></pre>\n<p>with</p>\n<pre><code> &lt;td th:text=&quot;${mobile.modelNum}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${mobile.companyName}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${mobile.price}&quot;&gt;&lt;/td&gt;\n      &lt;td th:text=&quot;${mobile.price}&quot;&gt;&lt;/td&gt;\n</code></pre>\n"}],"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71242077,"answer_count":2,"score":0,"last_activity_date":1645643451,"creation_date":1645638270,"question_id":71241741,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oRVH7.png\r\n\r\n\r\ndata in table is not shown properly...here is my html page in template\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    \txmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    \r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot; /&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    \t&lt;form th:action=&quot;@{/indexone}&quot;&gt;\r\n    \t\tFilter &lt;input type=&quot;text&quot; name=&quot;keyword&quot; id=&quot;keyword&quot; size=&quot;50&quot;\r\n    \t\t\tth:value=&quot;${keyword}&quot; required /&gt; &amp;nbsp; &lt;input type=&quot;submit&quot;\r\n    \t\t\tvalue=&quot;Search&quot;&gt;&lt;/input&gt; &amp;nbsp;\r\n    \r\n    \t&lt;/form&gt;\r\n    \r\n    \r\n    \t&lt;table border=&quot;2&quot;&gt;\r\n    \t\t&lt;thead&gt;\r\n    \r\n    \t\t&lt;tr&gt;\r\n    \t\t\t&lt;th&gt;modelNum&lt;/th&gt;\r\n    \t\t\t&lt;th&gt;companyName&lt;/th&gt;\r\n    \t\t\t&lt;th&gt;price&lt;/th&gt;\r\n    \t\t&lt;/tr&gt;\r\n    \t\t&lt;/thead&gt;\r\n    \r\n    \t\t&lt;tbody&gt;\r\n    \t\t\t&lt;tr th:each=&quot;mobile:${listMobiles}&quot;&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;#{mobile.modelNum}&quot;&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;#{mobile.companyName}&quot;&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;td th:text=&quot;#{mobile.price}&quot;&gt;&lt;/td&gt;\r\n    \t\t\t&lt;/tr&gt;\r\n    \t\t&lt;/tbody&gt;\r\n    \t&lt;/table&gt;\r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n\r\n\r\nMobileRepository\r\n\r\n    package login.example;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    \r\n    public interface MobileRepository extends JpaRepository&lt;Mobile, String&gt; {\r\n    \r\n    \t@Query(&quot;SELECT mobile FROM Mobile mobile  WHERE CONCAT(mobile.modelNum,&#39; &#39;,mobile.companyName,&#39; &#39;,mobile.price) LIKE %?1%&quot;)\r\n    \tpublic List&lt;Mobile&gt; search(String keyword);\r\n    \t\r\n    }\r\n\r\n\r\nHere is MobileService\r\n\r\n    package login.example;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    @Service\r\n    public class MobileService {\r\n    \r\n    \t@Autowired\r\n    \tprivate MobileRepository repo;\r\n    \tpublic List&lt;Mobile&gt; listAll(String keyword) {\r\n    \t\tif (keyword != null) {\r\n    \t\t\treturn repo.search(keyword);\r\n    \r\n    \t\t}else\r\n    \t\treturn repo.findAll();\r\n    \t}\r\n    \r\n    }\r\n\r\nhere is mobileController\r\n\r\n    package login.example;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.repository.query.Param;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    @Controller\r\n    public class MobileController {\r\n    \t@Autowired\r\n    \tprivate MobileService service;\r\n    \t\r\n    \t@RequestMapping(&quot;/indexone&quot;)\r\n    \tpublic String viewHomePage(Model model, @Param(&quot;keyword&quot;) String keyword) {\r\n    \t\tList&lt;Mobile&gt; listMobiles = service.listAll(keyword);\r\n    \t\tmodel.addAttribute(&quot;listMobiles&quot;, listMobiles);\r\n    \t\tmodel.addAttribute(&quot;keyword&quot;, keyword);\r\n    \t\treturn &quot;indexone.html&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\nmy mobile table is not rendering well..what should i do to render table from mysql properly..searching is working well even after that..data is not rendered..what is this problem trying to say?it does not give exception..\r\n\r\n","title":"why thymeleaf does not render data in table properly","body":"<p><a href=\"https://i.stack.imgur.com/oRVH7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oRVH7.png\" alt=\"enter image description here\" /></a></p>\n<p>data in table is not shown properly...here is my html page in template</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n    xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot; /&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;form th:action=&quot;@{/indexone}&quot;&gt;\n        Filter &lt;input type=&quot;text&quot; name=&quot;keyword&quot; id=&quot;keyword&quot; size=&quot;50&quot;\n            th:value=&quot;${keyword}&quot; required /&gt; &amp;nbsp; &lt;input type=&quot;submit&quot;\n            value=&quot;Search&quot;&gt;&lt;/input&gt; &amp;nbsp;\n\n    &lt;/form&gt;\n\n\n    &lt;table border=&quot;2&quot;&gt;\n        &lt;thead&gt;\n\n        &lt;tr&gt;\n            &lt;th&gt;modelNum&lt;/th&gt;\n            &lt;th&gt;companyName&lt;/th&gt;\n            &lt;th&gt;price&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n\n        &lt;tbody&gt;\n            &lt;tr th:each=&quot;mobile:${listMobiles}&quot;&gt;\n                &lt;td th:text=&quot;#{mobile.modelNum}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;#{mobile.companyName}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;#{mobile.price}&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>MobileRepository</p>\n<pre><code>package login.example;\n\nimport java.util.List;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\n\npublic interface MobileRepository extends JpaRepository&lt;Mobile, String&gt; {\n\n    @Query(&quot;SELECT mobile FROM Mobile mobile  WHERE CONCAT(mobile.modelNum,' ',mobile.companyName,' ',mobile.price) LIKE %?1%&quot;)\n    public List&lt;Mobile&gt; search(String keyword);\n    \n}\n</code></pre>\n<p>Here is MobileService</p>\n<pre><code>package login.example;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Service\npublic class MobileService {\n\n    @Autowired\n    private MobileRepository repo;\n    public List&lt;Mobile&gt; listAll(String keyword) {\n        if (keyword != null) {\n            return repo.search(keyword);\n\n        }else\n        return repo.findAll();\n    }\n\n}\n</code></pre>\n<p>here is mobileController</p>\n<pre><code>package login.example;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\n@Controller\npublic class MobileController {\n    @Autowired\n    private MobileService service;\n    \n    @RequestMapping(&quot;/indexone&quot;)\n    public String viewHomePage(Model model, @Param(&quot;keyword&quot;) String keyword) {\n        List&lt;Mobile&gt; listMobiles = service.listAll(keyword);\n        model.addAttribute(&quot;listMobiles&quot;, listMobiles);\n        model.addAttribute(&quot;keyword&quot;, keyword);\n        return &quot;indexone.html&quot;;\n    }\n}\n</code></pre>\n<p>my mobile table is not rendering well..what should i do to render table from mysql properly..searching is working well even after that..data is not rendered..what is this problem trying to say?it does not give exception..</p>\n"},{"tags":["java","json","file","directory","path"],"answers":[{"tags":[],"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645643326,"creation_date":1645643326,"answer_id":71242769,"question_id":71242441,"body_markdown":"You will need to deserialize the JSON string into object. You can use a library like jackson `ObjectMapper`\r\n\r\n\r\n```\r\nclass Directory {\r\n\r\n   private String ruta;\r\n   private int periodo;\r\n   private List&lt;String&gt; archivos;\r\n\r\n   // getters and setters\r\n}\r\n```\r\nor use a record (java 14+)\r\n```\r\npublic record Directory(String ruta, int periodo, List&lt;String&gt; archivos) {}\r\n\r\n```\r\n\r\n```\r\npublic record Input(List&lt;Directory&gt; Directorios) {}\r\n```\r\n\r\nIn your main function you can do this now.\r\n```\r\n// triple quote text block is java 13+\r\nString jsonString = &quot;&quot;&quot;\r\n{\r\n    &quot;Directorios&quot;:[\r\n        {\r\n            &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\prueba&quot;,\r\n            &quot;periodo&quot;: 15,\r\n            &quot;archivos&quot;:[&quot;yyyy-mm-dd_reportesdetalles_1.csv, yyyy-mm-dd_reportesdetalles_2.csv&quot;]\r\n        },\r\n        {\r\n            &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\test&quot;,\r\n            &quot;periodo&quot;: 20,\r\n            &quot;archivos&quot;:[&quot;yyyy-mm-dd_test_1.csv, yyyy-mm-dd_test_2.csv&quot;]\r\n        }\r\n    ]\r\n}\r\n&quot;&quot;&quot;;\r\nList&lt;Directory&gt; directories = new com.fasterxml.jackson.databind.ObjectMapper().readValue(jsonString, Input.class).getDirectorios();\r\n\r\nfor (Directory d : directories) {\r\n   File ruta = new File(d.getRuta());\r\n   ImprimirFicheros1(ruta, 0);\r\n}\r\n```\r\n","title":"How to list folders and files from different paths stored in a json file - Java","body":"<p>You will need to deserialize the JSON string into object. You can use a library like jackson <code>ObjectMapper</code></p>\n<pre><code>class Directory {\n\n   private String ruta;\n   private int periodo;\n   private List&lt;String&gt; archivos;\n\n   // getters and setters\n}\n</code></pre>\n<p>or use a record (java 14+)</p>\n<pre><code>public record Directory(String ruta, int periodo, List&lt;String&gt; archivos) {}\n\n</code></pre>\n<pre><code>public record Input(List&lt;Directory&gt; Directorios) {}\n</code></pre>\n<p>In your main function you can do this now.</p>\n<pre><code>// triple quote text block is java 13+\nString jsonString = &quot;&quot;&quot;\n{\n    &quot;Directorios&quot;:[\n        {\n            &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\prueba&quot;,\n            &quot;periodo&quot;: 15,\n            &quot;archivos&quot;:[&quot;yyyy-mm-dd_reportesdetalles_1.csv, yyyy-mm-dd_reportesdetalles_2.csv&quot;]\n        },\n        {\n            &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\test&quot;,\n            &quot;periodo&quot;: 20,\n            &quot;archivos&quot;:[&quot;yyyy-mm-dd_test_1.csv, yyyy-mm-dd_test_2.csv&quot;]\n        }\n    ]\n}\n&quot;&quot;&quot;;\nList&lt;Directory&gt; directories = new com.fasterxml.jackson.databind.ObjectMapper().readValue(jsonString, Input.class).getDirectorios();\n\nfor (Directory d : directories) {\n   File ruta = new File(d.getRuta());\n   ImprimirFicheros1(ruta, 0);\n}\n</code></pre>\n"}],"owner":{"account_id":12291205,"reputation":33,"user_id":8968483,"display_name":"Erick Pro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71242769,"answer_count":1,"score":0,"last_activity_date":1645643326,"creation_date":1645641642,"question_id":71242441,"body_markdown":"I want to list all the folders and files from different paths stored in a json file in order to delete them later with a filter. In the folowing code I list the folders using the FILE class and only one path.\r\n\r\n    public class Depurador {\r\n       public static void main(String[] args) {\r\n       File ruta = new File(&quot;C:\\\\Users\\\\erick\\\\Desktop\\\\prueba&quot;);\r\n       ImprimirFicheros1(ruta, 0);\r\n    }\r\n    \r\n    public static void ImprimirFicheros1(File file, int nivelArbol){\r\n       for(int i = 0; i &lt; nivelArbol; i++){\r\n           System.out.print(&quot;-&quot;);\r\n       }\r\n       System.out.println(file.getName());\r\n       \r\n       if(file.isDirectory()){\r\n           File[] listaFicheros = file.listFiles();\r\n           for(File fichero : listaFicheros){\r\n               ImprimirFicheros1(fichero, nivelArbol + 2);\r\n           }\r\n       }\r\n    }\r\n\r\n\r\nI would like to list all the folders and files from this json file and not only from one path.\r\n\r\n\r\n    {\r\n        &quot;Directorios&quot;:[\r\n            {\r\n                &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\prueba&quot;,\r\n                &quot;periodo&quot;: 15,\r\n                &quot;archivos&quot;:[&quot;yyyy-mm-dd_reportesdetalles_1.csv, yyyy-mm-dd_reportesdetalles_2.csv&quot;]\r\n            },\r\n            {\r\n                &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\test&quot;,\r\n                &quot;periodo&quot;: 20,\r\n                &quot;archivos&quot;:[&quot;yyyy-mm-dd_test_1.csv, yyyy-mm-dd_test_2.csv&quot;]\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\n","title":"How to list folders and files from different paths stored in a json file - Java","body":"<p>I want to list all the folders and files from different paths stored in a json file in order to delete them later with a filter. In the folowing code I list the folders using the FILE class and only one path.</p>\n<pre><code>public class Depurador {\n   public static void main(String[] args) {\n   File ruta = new File(&quot;C:\\\\Users\\\\erick\\\\Desktop\\\\prueba&quot;);\n   ImprimirFicheros1(ruta, 0);\n}\n\npublic static void ImprimirFicheros1(File file, int nivelArbol){\n   for(int i = 0; i &lt; nivelArbol; i++){\n       System.out.print(&quot;-&quot;);\n   }\n   System.out.println(file.getName());\n   \n   if(file.isDirectory()){\n       File[] listaFicheros = file.listFiles();\n       for(File fichero : listaFicheros){\n           ImprimirFicheros1(fichero, nivelArbol + 2);\n       }\n   }\n}\n</code></pre>\n<p>I would like to list all the folders and files from this json file and not only from one path.</p>\n<pre><code>{\n    &quot;Directorios&quot;:[\n        {\n            &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\prueba&quot;,\n            &quot;periodo&quot;: 15,\n            &quot;archivos&quot;:[&quot;yyyy-mm-dd_reportesdetalles_1.csv, yyyy-mm-dd_reportesdetalles_2.csv&quot;]\n        },\n        {\n            &quot;ruta&quot;: &quot;C:\\\\Users\\\\erick\\\\Desktop\\\\test&quot;,\n            &quot;periodo&quot;: 20,\n            &quot;archivos&quot;:[&quot;yyyy-mm-dd_test_1.csv, yyyy-mm-dd_test_2.csv&quot;]\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":14626,"reputation":2286,"user_id":30297,"accept_rate":92,"display_name":"chillysapien"},"score":0,"creation_date":1229426374,"post_id":371026,"comment_id":199810,"body_markdown":"Is there a reason you can&#39;t just &quot;add 1&quot;, in the classic fashion? Just of interest","body":"Is there a reason you can&#39;t just &quot;add 1&quot;, in the classic fashion? Just of interest"},{"owner":{"account_id":10005,"reputation":19934,"user_id":18722,"accept_rate":94,"display_name":"cretzel"},"score":0,"creation_date":1229427678,"post_id":371026,"comment_id":199829,"body_markdown":"It&#39;s a framework that requires me to write an iterator","body":"It&#39;s a framework that requires me to write an iterator"},{"owner":{"account_id":14839398,"reputation":394,"user_id":10716650,"display_name":"Martin of Hessle"},"score":0,"creation_date":1552650634,"post_id":371026,"comment_id":97101790,"body_markdown":"Clarity trumps breviety everytime and there are a numerous Range classes available out that include iteration.","body":"Clarity trumps breviety everytime and there are a numerous Range classes available out that include iteration."}],"answers":[{"tags":[],"owner":{"account_id":18835,"reputation":82190,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"down_vote_count":8,"up_vote_count":12,"is_accepted":true,"score":4,"last_activity_date":1229426534,"creation_date":1229426534,"answer_id":371034,"question_id":371026,"body_markdown":"Straight-forward implementation of your homework:\r\n\r\n    List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\r\n    for (int i = 0; i &lt; count; i++) {\r\n        ints.add(first + i);\r\n    }\r\n\r\n","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>Straight-forward implementation of your homework:</p>\n\n<pre><code>List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;();\nfor (int i = 0; i &lt; count; i++) {\n    ints.add(first + i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1229426914,"creation_date":1229426914,"answer_id":371043,"question_id":371026,"body_markdown":"Untested. Mapping that onto &quot;min, count&quot; is left as an exercise for the reader.\r\n\r\n    public class IntRangeIterator implements Iterator&lt;Integer&gt; {\r\n      private int nextValue;\r\n      private final int max;\r\n      public IntRangeIterator(int min, int max) {\r\n        if (min &gt; max) {\r\n          throw new IllegalArgumentException(&quot;min must be &lt;= max&quot;);\r\n        }\r\n        this.nextValue = min;\r\n        this.max = max;\r\n      }\r\n      \r\n      public boolean hasNext() {\r\n        return nextValue &lt;= max;\r\n      }\r\n      \r\n      public Integer next() {\r\n        if (!hasNext()) {\r\n          throw new NoSuchElementException();\r\n        }\r\n        return Integer.valueOf(nextValue++);\r\n      }\r\n      \r\n      public void remove() {\r\n        throw new UnsupportedOperationException();\r\n      }\r\n    }","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>Untested. Mapping that onto \"min, count\" is left as an exercise for the reader.</p>\n\n<pre><code>public class IntRangeIterator implements Iterator&lt;Integer&gt; {\n  private int nextValue;\n  private final int max;\n  public IntRangeIterator(int min, int max) {\n    if (min &gt; max) {\n      throw new IllegalArgumentException(\"min must be &lt;= max\");\n    }\n    this.nextValue = min;\n    this.max = max;\n  }\n\n  public boolean hasNext() {\n    return nextValue &lt;= max;\n  }\n\n  public Integer next() {\n    if (!hasNext()) {\n      throw new NoSuchElementException();\n    }\n    return Integer.valueOf(nextValue++);\n  }\n\n  public void remove() {\n    throw new UnsupportedOperationException();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1229427009,"creation_date":1229427009,"answer_id":371044,"question_id":371026,"body_markdown":"If you actually want the shortest amount of code, then Bombe&#39;s answer is fine. However, it sucks memory for no good reason. If you want to implement it yourself, it would be something like:\r\n\r\n    import java.util.*;\r\n    \r\n    public class IntegerRange implements Iterator&lt;Integer&gt;\r\n    {\r\n        private final int start;\r\n        private final int count;\r\n    \r\n        private int position = -1;\r\n    \r\n        public IntegerRange(int start, int count)\r\n        {\r\n            this.start = start;\r\n            this.count = count;\r\n        }\r\n    \r\n        public boolean hasNext()\r\n        {\r\n            return position+1 &lt; count;\r\n        }\r\n    \r\n        public Integer next()\r\n        {\r\n            if (position+1 &gt;= count)\r\n            {\r\n                throw new NoSuchElementException();\r\n            }\r\n            position++;\r\n            return start + position;\r\n        }\r\n    \r\n        public void remove()\r\n        {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n    }","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>If you actually want the shortest amount of code, then Bombe's answer is fine. However, it sucks memory for no good reason. If you want to implement it yourself, it would be something like:</p>\n\n<pre><code>import java.util.*;\n\npublic class IntegerRange implements Iterator&lt;Integer&gt;\n{\n    private final int start;\n    private final int count;\n\n    private int position = -1;\n\n    public IntegerRange(int start, int count)\n    {\n        this.start = start;\n        this.count = count;\n    }\n\n    public boolean hasNext()\n    {\n        return position+1 &lt; count;\n    }\n\n    public Integer next()\n    {\n        if (position+1 &gt;= count)\n        {\n            throw new NoSuchElementException();\n        }\n        position++;\n        return start + position;\n    }\n\n    public void remove()\n    {\n        throw new UnsupportedOperationException();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2961,"reputation":70821,"user_id":4203,"accept_rate":90,"display_name":"Hank Gay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1229430931,"creation_date":1229428741,"answer_id":371091,"question_id":371026,"body_markdown":"It&#39;s generally considered good style to pass around `Collection` and friends instead of `Iterator` (see [this FAQ entry](http://java.sun.com/j2se/1.4.2/docs/guide/collections/designfaq.html#8)), so I&#39;d recommend something like\r\n\r\n    public final class IntegerRange implements Set&lt;Integer&gt; {\r\n            final LinkedHashSet&lt;Integer&gt; backingList;\r\n            public IntegerRange(final int start, final int count) {\r\n                    backingList = new LinkedHashSet(count, 1.0f);\r\n                    for (int i=0; i &lt; count; i++) {\r\n                            backingList.set(i, start + i);\r\n                    }       \r\n            }       \r\n            /** Insert a bunch of delegation methods here */\r\n    }\r\n\r\nand then just use `.iterator()` when you need to pass an `Iterator` to whatever framework you&#39;re using.\r\n\r\nUPDATE: Obviously, this code isn&#39;t lazy. If you can&#39;t afford the extra memory overhead of storing (potentially) 2^32-1 `Integer`s, you should use a different solution. Also, nothing about the type guarantees the range will be sorted (even though it is, based on the implementation). If you need to guarantee sorting, you could look into implementing [SortedSet](http://java.sun.com/j2se/1.4.2/docs/api/java/util/SortedSet.html) and backing it with a [TreeSet](http://java.sun.com/j2se/1.4.2/docs/api/java/util/TreeSet.html), but it will take longer to build the range. Honestly, if you are that concerned with getting the details right, it might be worth your effort to look for a library. Tapestry has an [internal version](http://tapestry.apache.org/tapestry5/apidocs/org/apache/tapestry5/internal/util/IntegerRange.html), for instance.","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>It's generally considered good style to pass around <code>Collection</code> and friends instead of <code>Iterator</code> (see <a href=\"http://java.sun.com/j2se/1.4.2/docs/guide/collections/designfaq.html#8\" rel=\"nofollow noreferrer\">this FAQ entry</a>), so I'd recommend something like</p>\n\n<pre><code>public final class IntegerRange implements Set&lt;Integer&gt; {\n        final LinkedHashSet&lt;Integer&gt; backingList;\n        public IntegerRange(final int start, final int count) {\n                backingList = new LinkedHashSet(count, 1.0f);\n                for (int i=0; i &lt; count; i++) {\n                        backingList.set(i, start + i);\n                }       \n        }       \n        /** Insert a bunch of delegation methods here */\n}\n</code></pre>\n\n<p>and then just use <code>.iterator()</code> when you need to pass an <code>Iterator</code> to whatever framework you're using.</p>\n\n<p>UPDATE: Obviously, this code isn't lazy. If you can't afford the extra memory overhead of storing (potentially) 2^32-1 <code>Integer</code>s, you should use a different solution. Also, nothing about the type guarantees the range will be sorted (even though it is, based on the implementation). If you need to guarantee sorting, you could look into implementing <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/SortedSet.html\" rel=\"nofollow noreferrer\">SortedSet</a> and backing it with a <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a>, but it will take longer to build the range. Honestly, if you are that concerned with getting the details right, it might be worth your effort to look for a library. Tapestry has an <a href=\"http://tapestry.apache.org/tapestry5/apidocs/org/apache/tapestry5/internal/util/IntegerRange.html\" rel=\"nofollow noreferrer\">internal version</a>, for instance.</p>\n"},{"tags":[],"owner":{"account_id":413802,"reputation":4492,"user_id":787643,"accept_rate":77,"display_name":"Saintali"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1645643101,"creation_date":1311677340,"answer_id":6828887,"question_id":371026,"body_markdown":"This implementation does not have a memory footprint.\r\n\r\n    /**\r\n     * @param begin inclusive\r\n     * @param end exclusive\r\n     * @return list of integers from begin to end\r\n     */\r\n    public static List&lt;Integer&gt; range(final int begin, final int end) {\r\n        return new AbstractList&lt;Integer&gt;() {\r\n                @Override\r\n                public Integer get(int index) {\r\n                    return begin + index;\r\n                }\r\n    \r\n                @Override\r\n                public int size() {\r\n                    return end - begin;\r\n                }\r\n            };\r\n    }\r\n\r\n\r\nEdit:\r\n-----\r\n\r\nIn Java 8 and later you can simply say:\r\n\r\n    IntStream.range(begin, end).iterator()          // returns PrimitiveIterator.OfInt\r\n\r\nor if you need the boxed version: \r\n\r\n    IntStream.range(begin, end).boxed().iterator()  // returns Iterator&lt;Integer&gt;","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>This implementation does not have a memory footprint.</p>\n<pre><code>/**\n * @param begin inclusive\n * @param end exclusive\n * @return list of integers from begin to end\n */\npublic static List&lt;Integer&gt; range(final int begin, final int end) {\n    return new AbstractList&lt;Integer&gt;() {\n            @Override\n            public Integer get(int index) {\n                return begin + index;\n            }\n\n            @Override\n            public int size() {\n                return end - begin;\n            }\n        };\n}\n</code></pre>\n<h2>Edit:</h2>\n<p>In Java 8 and later you can simply say:</p>\n<pre><code>IntStream.range(begin, end).iterator()          // returns PrimitiveIterator.OfInt\n</code></pre>\n<p>or if you need the boxed version:</p>\n<pre><code>IntStream.range(begin, end).boxed().iterator()  // returns Iterator&lt;Integer&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":915122,"reputation":345,"user_id":948083,"display_name":"Lee"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1320080223,"creation_date":1320078453,"answer_id":7956576,"question_id":371026,"body_markdown":"An example using the guava framework.  Note that this will not materialize the set (although you have to read the ContiguousSet implementation to verify that).\r\n\r\n \r\n    import com.google.common.collect.ContiguousSet;\r\n    import com.google.common.collect.DiscreteDomain;\r\n    import com.google.common.collect.DiscreteDomains;\r\n\r\n    class RangeIterator { \r\n \r\n        public Iterator&lt;Integer&gt; range(int start, int length) {\r\n            assert length &gt; 0;\r\n            Range&lt;Integer&gt; dim_range = Ranges.closedOpen(start, start + length);\r\n            DiscreteDomain&lt;Integer&gt; ints = DiscreteDomains.integers();\r\n            ContiguousSet&lt;Integer&gt; dim = dim_range.asSet(ints);\r\n            return dim.iterator();\r\n        }\r\n    }","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>An example using the guava framework.  Note that this will not materialize the set (although you have to read the ContiguousSet implementation to verify that).</p>\n\n<pre><code>import com.google.common.collect.ContiguousSet;\nimport com.google.common.collect.DiscreteDomain;\nimport com.google.common.collect.DiscreteDomains;\n\nclass RangeIterator { \n\n    public Iterator&lt;Integer&gt; range(int start, int length) {\n        assert length &gt; 0;\n        Range&lt;Integer&gt; dim_range = Ranges.closedOpen(start, start + length);\n        DiscreteDomain&lt;Integer&gt; ints = DiscreteDomains.integers();\n        ContiguousSet&lt;Integer&gt; dim = dim_range.asSet(ints);\n        return dim.iterator();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":254135,"reputation":3720,"user_id":533317,"display_name":"btpka3"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1461151038,"creation_date":1461151038,"answer_id":36742140,"question_id":371026,"body_markdown":"A sample using stream API in java 8: \r\n\r\n    int first = 0;\r\n    int count = 10;\r\n    Iterator&lt;Integer&gt; it = IntStream.range(first, first + count).iterator();\r\n    while (it.hasNext()) {\r\n        System.out.println(it.next());\r\n    }\r\n\r\nWithout iterator, it could be:\r\n\r\n    int first = 0;\r\n    int count = 10;\r\n    IntStream.range(first, first + count).forEach(i -&gt; System.out.println(i));","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>A sample using stream API in java 8: </p>\n\n<pre><code>int first = 0;\nint count = 10;\nIterator&lt;Integer&gt; it = IntStream.range(first, first + count).iterator();\nwhile (it.hasNext()) {\n    System.out.println(it.next());\n}\n</code></pre>\n\n<p>Without iterator, it could be:</p>\n\n<pre><code>int first = 0;\nint count = 10;\nIntStream.range(first, first + count).forEach(i -&gt; System.out.println(i));\n</code></pre>\n"}],"owner":{"account_id":10005,"reputation":19934,"user_id":18722,"accept_rate":94,"display_name":"cretzel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47858,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":371034,"answer_count":7,"score":34,"last_activity_date":1645643101,"creation_date":1229426182,"question_id":371026,"body_markdown":"What&#39;s the shortest way to get an Iterator over a range of Integers in Java? In other words, implement the following:\r\n\r\n    /** \r\n    * Returns an Iterator over the integers from first to first+count.\r\n    */\r\n    Iterator&lt;Integer&gt; iterator(Integer first, Integer count);\r\n\r\nSomething like\r\n\r\n    (first..first+count).iterator()","title":"Shortest way to get an Iterator over a range of Integers in Java","body":"<p>What's the shortest way to get an Iterator over a range of Integers in Java? In other words, implement the following:</p>\n\n<pre><code>/** \n* Returns an Iterator over the integers from first to first+count.\n*/\nIterator&lt;Integer&gt; iterator(Integer first, Integer count);\n</code></pre>\n\n<p>Something like</p>\n\n<pre><code>(first..first+count).iterator()\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1645642852,"post_id":71242586,"comment_id":125929762,"body_markdown":"you need to update the `onClick` method for that button.","body":"you need to update the <code>onClick</code> method for that button."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1645646887,"post_id":71242586,"comment_id":125931052,"body_markdown":"https://developer.android.com/guide","body":"<a href=\"https://developer.android.com/guide\" rel=\"nofollow noreferrer\">developer.android.com/guide</a>"},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1645646965,"post_id":71242586,"comment_id":125931081,"body_markdown":"... and please have a look at [TOUR], [ASK] and how to write a [MCVE]","body":"... and please have a look at <a href=\"https://stackoverflow.com/tour\">TOUR</a>, <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and how to write a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":24281583,"reputation":168,"user_id":18228017,"display_name":"Cayman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645642795,"creation_date":1645642795,"answer_id":71242670,"question_id":71242586,"body_markdown":"There you have a listener \r\n\r\n&quot;btnMore.setOnClickListener&quot;\r\n\r\nThat reacts to click \r\n\r\nThe function:\r\n&quot;public void onClick(View v)&quot;\r\n\r\nIs the code that is triggered when button its clicked \r\n\r\nSo you can change the code inside &quot;onClick&quot;","title":"Need help to change the button function","body":"<p>There you have a listener</p>\n<p>&quot;btnMore.setOnClickListener&quot;</p>\n<p>That reacts to click</p>\n<p>The function:\n&quot;public void onClick(View v)&quot;</p>\n<p>Is the code that is triggered when button its clicked</p>\n<p>So you can change the code inside &quot;onClick&quot;</p>\n"}],"owner":{"account_id":15878323,"reputation":11,"user_id":11456822,"display_name":"KaoKai232"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1645699798,"answer_count":1,"score":-1,"last_activity_date":1645642986,"creation_date":1645642404,"question_id":71242586,"body_markdown":"i know that my question is stupid a bit, but i really dont know the coding.\r\nI need help with source code which i found somewhere in network, i dont know coding well and all what i want to do is just change the button function to redirect for site which i want to put in code.\r\nBascially was used to showing some reward video ads, which i removed from code but have no idea how to change the button function.\r\nI will be very grateful for any help from your side.\r\nButton is called btnMore, below is main activity class and activity main.xml \r\nThanks for any help from your side.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private String[] Name_Item;\r\n    private int index;\r\n    private ImageButton btnMore;\r\n    private boolean detectNetwork ;\r\n    private    MyListData[] myListData ;\r\n    private  SharedPref sharedpref;\r\n    private final  Handler mHandler = new Handler();\r\n    Snackbar snackbar ;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        sharedpref = new SharedPref(this);\r\n        if(sharedpref.loadNightModeState()) {\r\n            setTheme(R.style.darktheme);\r\n        }\r\n        else  setTheme(R.style.AppTheme);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        // Setup Custom Consent\r\n        // check font\r\n        FontControle fontControle= new FontControle(this);\r\n        fontControle.checked();\r\n\r\n\r\n        //toolbar\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n        toolbar.showOverflowMenu();\r\n\r\n\r\n\r\n\r\n\r\n        detectNetwork= new Utils(this).isConnectingToInternet();\r\n        LinearLayout showMore = findViewById(R.id.ShowMore);\r\n        btnMore= findViewById(R.id.btnShowMore);\r\n\r\n\r\n        Name_Item=getResources().getStringArray(R.array.Name_item);\r\n        index =sharedpref.LoadInt(&quot;index&quot;);\r\n        int maxindex = Integer.parseInt(getString(R.string.MaxIndex));\r\n\r\n        if (index== -1){\r\n            sharedpref.SaveInt(&quot;index&quot;,6);\r\n            index=6;\r\n            if (maxindex ==6) showMore.setVisibility(View.GONE);\r\n        }else if (index== maxindex) showMore.setVisibility(View.GONE);\r\n        //ads Banner\r\n        if (AdsConfig.ENABLE_ADMOB)\r\n            AdsBanner.newInstance(this).loadBannerAdView((FrameLayout) findViewById(R.id.layout_ad));\r\n        else\r\n            AdsBanner.newInstance(this).LoadBannerFbview( findViewById(R.id.ad_applovin));\r\n\r\n\r\n        Takeguide();\r\n\r\n        mHandler.postDelayed(mUpdateTimeTask, 200);\r\n        btnMore.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (detectNetwork) {\r\n                    new AlertDialog.Builder(MainActivity.this)\r\n                            .setTitle(&quot;Show More&quot;)\r\n                            .setMessage(&quot;Watch video ads for show more?&quot;)\r\n                            .setPositiveButton(android.R.string.yes, new DialogInterface.OnClickListener() {\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n\r\n\r\n\r\n                                }\r\n                            })\r\n                            .setNegativeButton(android.R.string.no, new DialogInterface.OnClickListener() {\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n                                   dialog.cancel();\r\n                                }\r\n                            })\r\n                            .setIcon(android.R.drawable.ic_dialog_alert)\r\n                            .show();\r\n\r\n                } else {\r\n                    snackBar(&quot;No Internet ,Enable wifi or connection network&quot;);\r\n                }\r\n            }});\r\n\r\n\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;?attr/colorPrimaryDark&quot;\r\n        android:elevation=&quot;4dp&quot;\r\n        android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;\r\n        android:transitionName=&quot;nameApp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/androidx.appcompat.widget.Toolbar&gt;\r\n\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;0.8&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/ads&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/ShowMore&quot;&gt;\r\n\r\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/ShowMore&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:background=&quot;@drawable/backmore&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;@string/MoreItemText&quot;\r\n            android:textColor=&quot;?attr/blue&quot;\r\n            android:textSize=&quot;14sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:fontFamily=&quot;serif&quot; /&gt;\r\n\r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/btnShowMore&quot;\r\n            android:layout_width=&quot;35dp&quot;\r\n            android:layout_height=&quot;35dp&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:layout_marginRight=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/gift&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Show&quot;\r\n            android:textColor=&quot;?attr/Black&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n        android:id=&quot;@+id/customSnac&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/ShowMore&quot;&gt;&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/ads&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.applovin.adview.AppLovinAdView\r\n            android:id=&quot;@+id/ad_applovin&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;bottom|center&quot;\r\n            android:gravity=&quot;center&quot; /&gt;\r\n\r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/layout_ad&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;?attr/Black&quot;&gt;\r\n\r\n        &lt;/FrameLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"Need help to change the button function","body":"<p>i know that my question is stupid a bit, but i really dont know the coding.\nI need help with source code which i found somewhere in network, i dont know coding well and all what i want to do is just change the button function to redirect for site which i want to put in code.\nBascially was used to showing some reward video ads, which i removed from code but have no idea how to change the button function.\nI will be very grateful for any help from your side.\nButton is called btnMore, below is main activity class and activity main.xml\nThanks for any help from your side.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate String[] Name_Item;\nprivate int index;\nprivate ImageButton btnMore;\nprivate boolean detectNetwork ;\nprivate    MyListData[] myListData ;\nprivate  SharedPref sharedpref;\nprivate final  Handler mHandler = new Handler();\nSnackbar snackbar ;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    sharedpref = new SharedPref(this);\n    if(sharedpref.loadNightModeState()) {\n        setTheme(R.style.darktheme);\n    }\n    else  setTheme(R.style.AppTheme);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    // Setup Custom Consent\n    // check font\n    FontControle fontControle= new FontControle(this);\n    fontControle.checked();\n\n\n    //toolbar\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n    toolbar.showOverflowMenu();\n\n\n\n\n\n    detectNetwork= new Utils(this).isConnectingToInternet();\n    LinearLayout showMore = findViewById(R.id.ShowMore);\n    btnMore= findViewById(R.id.btnShowMore);\n\n\n    Name_Item=getResources().getStringArray(R.array.Name_item);\n    index =sharedpref.LoadInt(&quot;index&quot;);\n    int maxindex = Integer.parseInt(getString(R.string.MaxIndex));\n\n    if (index== -1){\n        sharedpref.SaveInt(&quot;index&quot;,6);\n        index=6;\n        if (maxindex ==6) showMore.setVisibility(View.GONE);\n    }else if (index== maxindex) showMore.setVisibility(View.GONE);\n    //ads Banner\n    if (AdsConfig.ENABLE_ADMOB)\n        AdsBanner.newInstance(this).loadBannerAdView((FrameLayout) findViewById(R.id.layout_ad));\n    else\n        AdsBanner.newInstance(this).LoadBannerFbview( findViewById(R.id.ad_applovin));\n\n\n    Takeguide();\n\n    mHandler.postDelayed(mUpdateTimeTask, 200);\n    btnMore.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (detectNetwork) {\n                new AlertDialog.Builder(MainActivity.this)\n                        .setTitle(&quot;Show More&quot;)\n                        .setMessage(&quot;Watch video ads for show more?&quot;)\n                        .setPositiveButton(android.R.string.yes, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int which) {\n\n\n\n                            }\n                        })\n                        .setNegativeButton(android.R.string.no, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int which) {\n                               dialog.cancel();\n                            }\n                        })\n                        .setIcon(android.R.drawable.ic_dialog_alert)\n                        .show();\n\n            } else {\n                snackBar(&quot;No Internet ,Enable wifi or connection network&quot;);\n            }\n        }});\n\n\n\n&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/toolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;?attr/colorPrimaryDark&quot;\n    android:elevation=&quot;4dp&quot;\n    android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;\n    android:transitionName=&quot;nameApp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;&lt;/androidx.appcompat.widget.Toolbar&gt;\n\n\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/recyclerView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;0dp&quot;\n    android:layout_weight=&quot;0.8&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/ads&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;@+id/ShowMore&quot;&gt;\n\n&lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/ShowMore&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;40dp&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:background=&quot;@drawable/backmore&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;@string/MoreItemText&quot;\n        android:textColor=&quot;?attr/blue&quot;\n        android:textSize=&quot;14sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:fontFamily=&quot;serif&quot; /&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/btnShowMore&quot;\n        android:layout_width=&quot;35dp&quot;\n        android:layout_height=&quot;35dp&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        android:layout_marginRight=&quot;10dp&quot;\n        android:background=&quot;@drawable/gift&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Show&quot;\n        android:textColor=&quot;?attr/Black&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n\n\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    android:id=&quot;@+id/customSnac&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;@+id/ShowMore&quot;&gt;&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n&lt;LinearLayout\n    android:id=&quot;@+id/ads&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;&gt;\n\n    &lt;com.applovin.adview.AppLovinAdView\n        android:id=&quot;@+id/ad_applovin&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;bottom|center&quot;\n        android:gravity=&quot;center&quot; /&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/layout_ad&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;?attr/Black&quot;&gt;\n\n    &lt;/FrameLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</p>\n"},{"tags":["java","google-cloud-storage"],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1634556325,"creation_date":1634556325,"answer_id":69615205,"question_id":69612407,"body_markdown":"The [delete object](https://cloud.google.com/storage/docs/json_api/v1/objects/delete) API call is synchronous (it doesn&#39;t return a jobId that you have to poll to know if the operation is done or not). Therefore, the standard library can&#39;t implement async call because it&#39;s sync.\r\n\r\nNodeJS best practice is to create async function when you perform API call. It&#39;s a language design not an API behavior. You can do the same in Java, Python and Go, but it&#39;s not out of the box, you need to create yourselves the concurrency.","title":"Is it possible to delete files from GCS async","body":"<p>The <a href=\"https://cloud.google.com/storage/docs/json_api/v1/objects/delete\" rel=\"nofollow noreferrer\">delete object</a> API call is synchronous (it doesn't return a jobId that you have to poll to know if the operation is done or not). Therefore, the standard library can't implement async call because it's sync.</p>\n<p>NodeJS best practice is to create async function when you perform API call. It's a language design not an API behavior. You can do the same in Java, Python and Go, but it's not out of the box, you need to create yourselves the concurrency.</p>\n"},{"tags":[],"owner":{"account_id":4481392,"reputation":9443,"user_id":3645370,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645642939,"creation_date":1645642939,"answer_id":71242697,"question_id":69612407,"body_markdown":"[Guillaume&#39;s answer](https://stackoverflow.com/a/69615205/3645370) is technically correct in that the underlying HTTP API is synchronous, it sounds like you are looking for a way to make an async call within your code and let the call run in the background.\r\n\r\nThe `com.google.cloud.storage` API that you are using does not have this built in. You can always run the call in a background thread or using an Futures [as demonstrated in the answers here](https://stackoverflow.com/questions/1842734/how-to-asynchronously-call-a-method-in-java).\r\n\r\nYou can also access Google Cloud Storage using S3&#39;s Java library, which [does have a built in async API](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/asynchronous.html). Use the [migration guide](https://cloud.google.com/storage/docs/migrating) to use these libraries together. Note GCS does not support S3&#39;s Multiple object delete API so you can&#39;t use their `deleteObjects` method.\r\n\r\nNote that because the underlying HTTP API is synchronous, your application cannot quit while the delete calls are happening in a background thread.","title":"Is it possible to delete files from GCS async","body":"<p><a href=\"https://stackoverflow.com/a/69615205/3645370\">Guillaume's answer</a> is technically correct in that the underlying HTTP API is synchronous, it sounds like you are looking for a way to make an async call within your code and let the call run in the background.</p>\n<p>The <code>com.google.cloud.storage</code> API that you are using does not have this built in. You can always run the call in a background thread or using an Futures <a href=\"https://stackoverflow.com/questions/1842734/how-to-asynchronously-call-a-method-in-java\">as demonstrated in the answers here</a>.</p>\n<p>You can also access Google Cloud Storage using S3's Java library, which <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/asynchronous.html\" rel=\"nofollow noreferrer\">does have a built in async API</a>. Use the <a href=\"https://cloud.google.com/storage/docs/migrating\" rel=\"nofollow noreferrer\">migration guide</a> to use these libraries together. Note GCS does not support S3's Multiple object delete API so you can't use their <code>deleteObjects</code> method.</p>\n<p>Note that because the underlying HTTP API is synchronous, your application cannot quit while the delete calls are happening in a background thread.</p>\n"}],"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69615205,"answer_count":2,"score":1,"last_activity_date":1645642939,"creation_date":1634543002,"question_id":69612407,"body_markdown":"I am trying to delete many files from google cloud storage at once.  \r\nI am using the following code:\r\n```java\r\npublic List&lt;Boolean&gt; deleteObjects(List&lt;String&gt; fileParams) {\r\n      List&lt;BlobId&gt; blobs =\r\n          fileParams.stream()\r\n              .map(\r\n                  file -&gt; {\r\n                    logger.info(&quot;deleteObject: {}&quot;, file);\r\n                    return BlobId.of(bucketName, file);\r\n                  })\r\n              .collect(Collectors.toList());\r\n      return storage.delete(blobs);\r\n  }\r\n```\r\nThis call takes a very long time - I tried to delete 150k files and it took almost 1 hour.  \r\n\r\nI would like to run it as &quot;fire and forget&quot;.\r\n\r\nI saw in the [JS example][1] that the api is async by nature:\r\n```js\r\nawait storage.bucket(bucketName).file(fileName).delete();\r\n```\r\n\r\nI didn&#39;t find such example for Java, either with or without a batch.  \r\nI guess I can start a new thread and run it, but I wanted to know if the API supports something like that natively.  \r\n\r\n\r\nIs it possible to run an async command natively by the api?\r\n\r\n  [1]: https://cloud.google.com/storage/docs/deleting-objects#storage-delete-object-nodejs","title":"Is it possible to delete files from GCS async","body":"<p>I am trying to delete many files from google cloud storage at once.<br />\nI am using the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Boolean&gt; deleteObjects(List&lt;String&gt; fileParams) {\n      List&lt;BlobId&gt; blobs =\n          fileParams.stream()\n              .map(\n                  file -&gt; {\n                    logger.info(&quot;deleteObject: {}&quot;, file);\n                    return BlobId.of(bucketName, file);\n                  })\n              .collect(Collectors.toList());\n      return storage.delete(blobs);\n  }\n</code></pre>\n<p>This call takes a very long time - I tried to delete 150k files and it took almost 1 hour.</p>\n<p>I would like to run it as &quot;fire and forget&quot;.</p>\n<p>I saw in the <a href=\"https://cloud.google.com/storage/docs/deleting-objects#storage-delete-object-nodejs\" rel=\"nofollow noreferrer\">JS example</a> that the api is async by nature:</p>\n<pre class=\"lang-js prettyprint-override\"><code>await storage.bucket(bucketName).file(fileName).delete();\n</code></pre>\n<p>I didn't find such example for Java, either with or without a batch.<br />\nI guess I can start a new thread and run it, but I wanted to know if the API supports something like that natively.</p>\n<p>Is it possible to run an async command natively by the api?</p>\n"},{"tags":["java","scala","types","mockito"],"answers":[{"tags":[],"owner":{"account_id":3878295,"reputation":369,"user_id":3211617,"accept_rate":75,"display_name":"jo_wil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592392856,"creation_date":1494467096,"answer_id":43905168,"question_id":43904850,"body_markdown":"I solved this, but would love some insight into why this worked.\r\n\r\nI replaced _: RefreshRequest with any[RefreshRequest] I understand this I think.\r\n\r\nBut the imports have me tripped up.\r\n\r\nI imported\r\n\r\n    import org.mockito.ArgumentMatchers.any\r\n\r\nand thats when everything worked\r\n\r\nwhen I imported\r\n\r\n    import org.mockito.Matchers.any\r\n\r\nI got a error \r\n\r\n    value any is not a member of org.mockito.Matchers.any\r\n\r\nLooking at the docs for Matchers it is a subclass of Argument Matchers so how did it not have any?\r\n","title":"Mockito Scala overloaded method value thenReturn with alternatives","body":"<p>I solved this, but would love some insight into why this worked.</p>\n\n<p>I replaced _: RefreshRequest with any[RefreshRequest] I understand this I think.</p>\n\n<p>But the imports have me tripped up.</p>\n\n<p>I imported</p>\n\n<pre><code>import org.mockito.ArgumentMatchers.any\n</code></pre>\n\n<p>and thats when everything worked</p>\n\n<p>when I imported</p>\n\n<pre><code>import org.mockito.Matchers.any\n</code></pre>\n\n<p>I got a error </p>\n\n<pre><code>value any is not a member of org.mockito.Matchers.any\n</code></pre>\n\n<p>Looking at the docs for Matchers it is a subclass of Argument Matchers so how did it not have any?</p>\n"},{"tags":[],"owner":{"account_id":5949133,"reputation":1447,"user_id":4677752,"display_name":"ultrasecr.eth"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1533240946,"creation_date":1533240946,"answer_id":51661512,"question_id":43904850,"body_markdown":"If you use `mockito-scala` you can mix-in the trait `org.mockito.ArgumentMatchersSugar` and it will provide all the appropriate ones, furthermore, for `any` you don&#39;t need to specify the type anymore as the compiler will figure it out\r\n\r\nCheck https://github.com/mockito/mockito-scala for more info\r\n\r\nDisclaimer: I develop that library (but is part of the mockito suite anyway)","title":"Mockito Scala overloaded method value thenReturn with alternatives","body":"<p>If you use <code>mockito-scala</code> you can mix-in the trait <code>org.mockito.ArgumentMatchersSugar</code> and it will provide all the appropriate ones, furthermore, for <code>any</code> you don't need to specify the type anymore as the compiler will figure it out</p>\n\n<p>Check <a href=\"https://github.com/mockito/mockito-scala\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito-scala</a> for more info</p>\n\n<p>Disclaimer: I develop that library (but is part of the mockito suite anyway)</p>\n"},{"tags":[],"owner":{"account_id":2649309,"reputation":161,"user_id":2291393,"accept_rate":75,"display_name":"Julia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645642532,"creation_date":1645642532,"answer_id":71242615,"question_id":43904850,"body_markdown":"I had the same issue and the only thing that helped me is to extract parameter into variable. For some reason it worked:\r\n\r\n``` scala\r\nvar mockRefreshService = mock[RefreshService]\r\nval response = new RefreshResponse\r\nwhen(mockRefreshService.process(_: RefreshRequest)) \r\n    thenReturn(response)\r\n```","title":"Mockito Scala overloaded method value thenReturn with alternatives","body":"<p>I had the same issue and the only thing that helped me is to extract parameter into variable. For some reason it worked:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>var mockRefreshService = mock[RefreshService]\nval response = new RefreshResponse\nwhen(mockRefreshService.process(_: RefreshRequest)) \n    thenReturn(response)\n</code></pre>\n"}],"owner":{"account_id":3878295,"reputation":369,"user_id":3211617,"accept_rate":75,"display_name":"jo_wil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6754,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51661512,"answer_count":3,"score":2,"last_activity_date":1645642532,"creation_date":1494464589,"question_id":43904850,"body_markdown":"I am new to Scala and am writing some tests for Play app in Scala. The Play app has already been written in Java.\n\nI have a RefreshService that has one public method process\n\n    public RefreshResponse process(RefreshRequest request) throws Exception {\n        return this.oauthService.token(request.oauthUrl, request.clientId, request.clientSecret, request.refreshToken)\n            .thenCompose(oauthToken -&gt; this.processHelper(request.withOAuthToken(oauthToken)))\n            .get();\n    } \n\nWhere actions are defined in another package as a POJOs\n\nI have written my tests based on the Scala guides\n\nWhen trying to mock this service I used the following code\n\n    var mockRefreshService = mock[RefreshService]\n    when(mockRefreshService.process(_: RefreshRequest)) \n        thenReturn (new RefreshResponse)\n\nI get the following compiler error from Scala and cannot figure out how the types can be ambigous\n\n&gt;[error] /home/joey/Projects/sntdb/test/controllers/ApiControllerSpec.scala:31: overloaded method value thenReturn with alternatives:\n&gt;\n&gt;[error]   (x$1: actions.RefreshRequest =&gt; actions.RefreshResponse,x$2: actions.RefreshRequest =&gt; actions.RefreshResponse*)org.mockito.stubbing.OngoingStubbing[actions.RefreshRequest =&gt; actions.RefreshResponse] &lt;and&gt;\n&gt;\n&gt;[error]   (x$1: actions.RefreshRequest =&gt; actions.RefreshResponse)org.mockito.stubbing.OngoingStubbing[actions.RefreshRequest =&gt; actions.RefreshResponse]\n&gt;\n&gt;[error]  cannot be applied to (actions.RefreshResponse)\n&gt;\n&gt;[error]             when(mockRefreshService.process(_: RefreshRequest)) thenReturn (new RefreshResponse)\n\nIf anymore information is needed please let me know. Otherwise if anyone has any ideas it would be appreciated.\n","title":"Mockito Scala overloaded method value thenReturn with alternatives","body":"<p>I am new to Scala and am writing some tests for Play app in Scala. The Play app has already been written in Java.</p>\n<p>I have a RefreshService that has one public method process</p>\n<pre><code>public RefreshResponse process(RefreshRequest request) throws Exception {\n    return this.oauthService.token(request.oauthUrl, request.clientId, request.clientSecret, request.refreshToken)\n        .thenCompose(oauthToken -&gt; this.processHelper(request.withOAuthToken(oauthToken)))\n        .get();\n} \n</code></pre>\n<p>Where actions are defined in another package as a POJOs</p>\n<p>I have written my tests based on the Scala guides</p>\n<p>When trying to mock this service I used the following code</p>\n<pre><code>var mockRefreshService = mock[RefreshService]\nwhen(mockRefreshService.process(_: RefreshRequest)) \n    thenReturn (new RefreshResponse)\n</code></pre>\n<p>I get the following compiler error from Scala and cannot figure out how the types can be ambigous</p>\n<blockquote>\n<p>[error] /home/joey/Projects/sntdb/test/controllers/ApiControllerSpec.scala:31: overloaded method value thenReturn with alternatives:</p>\n<p>[error]   (x$1: actions.RefreshRequest =&gt; actions.RefreshResponse,x$2: actions.RefreshRequest =&gt; actions.RefreshResponse*)org.mockito.stubbing.OngoingStubbing[actions.RefreshRequest =&gt; actions.RefreshResponse] </p>\n<p>[error]   (x$1: actions.RefreshRequest =&gt; actions.RefreshResponse)org.mockito.stubbing.OngoingStubbing[actions.RefreshRequest =&gt; actions.RefreshResponse]</p>\n<p>[error]  cannot be applied to (actions.RefreshResponse)</p>\n<p>[error]             when(mockRefreshService.process(_: RefreshRequest)) thenReturn (new RefreshResponse)</p>\n</blockquote>\n<p>If anymore information is needed please let me know. Otherwise if anyone has any ideas it would be appreciated.</p>\n"},{"tags":["java","object","oop","constructor","static"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":2,"creation_date":1645639298,"post_id":71241946,"comment_id":125928345,"body_markdown":"Both use the same ArrayList. Debug and see it.","body":"Both use the same ArrayList. Debug and see it."}],"answers":[{"tags":[],"owner":{"account_id":269102,"reputation":8444,"user_id":558243,"accept_rate":84,"display_name":"Neeraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645641741,"creation_date":1645641741,"answer_id":71242463,"question_id":71241946,"body_markdown":"This is happening because you have marked deckOfCards a static, which means it is a class level variable.\r\nStop using static there and the problem will be solved.\r\n\r\nMore on static variable.\r\nhttps://beginnersbook.com/2013/04/java-static-class-block-methods-variables/#:~:text=Java%20Static%20Variables,the%20instances%20of%20the%20class.&amp;text=Static%20variables%20are%20also%20known%20as%20Class%20Variables.\r\n","title":"I am coding a card game in Java. The second object of the Hands class for player2 gives the player the same set of cards as player1, why?","body":"<p>This is happening because you have marked deckOfCards a static, which means it is a class level variable.\nStop using static there and the problem will be solved.</p>\n<p>More on static variable.\n<a href=\"https://beginnersbook.com/2013/04/java-static-class-block-methods-variables/#:%7E:text=Java%20Static%20Variables,the%20instances%20of%20the%20class.&amp;text=Static%20variables%20are%20also%20known%20as%20Class%20Variables\" rel=\"nofollow noreferrer\">https://beginnersbook.com/2013/04/java-static-class-block-methods-variables/#:~:text=Java%20Static%20Variables,the%20instances%20of%20the%20class.&amp;text=Static%20variables%20are%20also%20known%20as%20Class%20Variables</a>.</p>\n"}],"owner":{"account_id":22707690,"reputation":13,"user_id":16874099,"display_name":"Nour"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1063,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71242463,"answer_count":1,"score":0,"last_activity_date":1645641741,"creation_date":1645639177,"question_id":71241946,"body_markdown":"I am a beginner in programming, and it is my first question here. I have to code a card game, Gin Rummy, in Java. \r\n\r\nI created the Card class, Deck class, and Hands class. The deck class constructor initialize an Arraylist of 52 cards. At the start of the game each player has to draw 10 cards, so in the hands class constructor, the first 10 cards of the deck is drawn and added to an array list in the Hands class.\r\n\r\nWhen I check the the first players cards, it is true.\r\nThe cards left in the deck after player 1 draw 10 cards? true, cards are no longer there.\r\nPlayer 2 cards? Not true, player 2 cards are the first 10 cards of the 52 deck (the same as player 1).\r\nI spent hours trying to figure out what is wrong.\r\n\r\nI printed the cards deck after player 2 take, and the first 20 cards are actually drawn. I do not know why, when I create a second object of the Hand class, it does not take the next 10 cards, but take the cards that the first object, player 1, already took. \r\n\r\nThis the CardsDeck class: it adds 52 card set to the array list, which works well. \r\n\r\n  \r\n\r\n         public class CardsDeck {\r\n    \r\n        private final int totalCardsNumber = 52;\r\n    \r\n     private static List&lt;Card&gt; deckOfCards;\r\n    \r\n        public CardsDeck(){\r\n             deckOfCards = new ArrayList&lt;&gt;(totalCardsNumber);\r\n             int index=0;\r\n             for (int suit = 0; suit &lt;Card.Suit.values().length; suit++){\r\n                 for(int rank = 0; rank &lt;Card.Rank.values().length; rank++){\r\n                  deckOfCards.add(new Card(Card.Rank.values()[rank], Card.Suit.values()[suit]));\r\n                  index++;\r\n                 }\r\n             }\r\n            // Collections.shuffle(deckOfCards);\r\n            }\r\n    \r\n    \r\n        public void print(){\r\n            for (Card card: deckOfCards){ System.out.println(card);}\r\n            }\r\n        public void setDeckOfCards(List&lt;Card&gt; updatedDeckOfCards) { this.deckOfCards = new ArrayList&lt;&gt;(updatedDeckOfCards); }\r\n        protected static List&lt;Card&gt; getDeckOfCards() {\r\n            return deckOfCards;\r\n        }\r\n    \r\n    }\r\n\r\nThis is the Hands class:\r\n\r\n    public class CardsInHands extends CardsDeck{\r\n    \r\n     protected static List&lt;Card&gt; updatedCardList = new ArrayList&lt;&gt;(getDeckOfCards());\r\n        protected List&lt;Card&gt; playerCards = new ArrayList&lt;&gt;();\r\n    \r\n        public CardsInHands(){ \r\n            for (int i=0; i&lt;10; i++){\r\n               playerCards.add(getDeckOfCards().get(i)); \r\n               updatedCardList.remove(0); \r\n            }\r\n            setDeckOfCards(updatedCardList); \r\n    \r\n        }\r\n    \r\n    \r\n        public void printPlayerCards() {\r\n            for (Card card: playerCards){ System.out.print(card + &quot; - &quot;);}\r\n        }\r\n    \r\n    \r\n        public List&lt;Card&gt; getPlayerCards() {\r\n            return playerCards;\r\n        }\r\n        public void setPlayerCards(List&lt;Card&gt; playerCards) { this.playerCards = playerCards;}\r\n        public void removeCard(int cardIndex){ playerCards.remove(cardIndex);}\r\n        public void addCard(Card card){playerCards.add(card);}\r\n\r\nFor sake of completion, this is the Card class:\r\n\r\n      public class Card {\r\n        public enum Rank {\r\n            ACE(1),TWO(2), THREE(3), FOUR(4), FIVE(5),\r\n            SIX(6), SEVEN(7), EIGHT(8), NINE(9),\r\n            TEN(10),\r\n            JACK(10), QUEEN(10), KING(10);\r\n            int value;\r\n    \r\n            Rank(int value) { this.value = value; }\r\n            public int getValue() { return value; }\r\n        }\r\n    \r\n        public enum Suit {SPADES,HEARTS, CLUBS, DIAMONDS;}\r\n    \r\n        private final Rank rank;\r\n        private final Suit suit;\r\n    \r\n        public Card(Rank rank, Suit suit){\r\n            this.rank = rank;\r\n            this.suit = suit;\r\n        }\r\n    \r\n    \r\n        public Rank getRank() { return rank; }\r\n        public Suit getSuit() { return suit; }\r\n        public int getValue(){ return rank.getValue(); }\r\n    \r\n        public String toString(){\r\n            return this.rank+ &quot; of &quot; +this.suit;\r\n        }\r\n    }\r\n\r\nThis is the main method I test the code from:\r\n\r\n   \r\n\r\n     public class Runner {\r\n        public static void main(String[] args){\r\n        CardsDeck cards = new CardsDeck();\r\n        //cards.print();\r\n    \r\n    \r\n       CardsInHands playerOne = new CardsInHands();\r\n       //playerOne.printPlayerCards(); //prints first 10 cards of the deck\r\n       // cards.print(); //correct, first 10 cards are gone\r\n    \r\n       CardsInHands playerTwo = new CardsInHands();\r\n       playerTwo.printPlayerCards(); //shows same 10 cards of player 1!\r\n       //cards.print(); //correct, second set of 10 cards are gone\r\n    \r\n        }\r\n    }\r\n\r\nCould anyone tell me what I am doing wrong that makes the second object of Hands class not work properly? ","title":"I am coding a card game in Java. The second object of the Hands class for player2 gives the player the same set of cards as player1, why?","body":"<p>I am a beginner in programming, and it is my first question here. I have to code a card game, Gin Rummy, in Java.</p>\n<p>I created the Card class, Deck class, and Hands class. The deck class constructor initialize an Arraylist of 52 cards. At the start of the game each player has to draw 10 cards, so in the hands class constructor, the first 10 cards of the deck is drawn and added to an array list in the Hands class.</p>\n<p>When I check the the first players cards, it is true.\nThe cards left in the deck after player 1 draw 10 cards? true, cards are no longer there.\nPlayer 2 cards? Not true, player 2 cards are the first 10 cards of the 52 deck (the same as player 1).\nI spent hours trying to figure out what is wrong.</p>\n<p>I printed the cards deck after player 2 take, and the first 20 cards are actually drawn. I do not know why, when I create a second object of the Hand class, it does not take the next 10 cards, but take the cards that the first object, player 1, already took.</p>\n<p>This the CardsDeck class: it adds 52 card set to the array list, which works well.</p>\n<pre><code>     public class CardsDeck {\n\n    private final int totalCardsNumber = 52;\n\n private static List&lt;Card&gt; deckOfCards;\n\n    public CardsDeck(){\n         deckOfCards = new ArrayList&lt;&gt;(totalCardsNumber);\n         int index=0;\n         for (int suit = 0; suit &lt;Card.Suit.values().length; suit++){\n             for(int rank = 0; rank &lt;Card.Rank.values().length; rank++){\n              deckOfCards.add(new Card(Card.Rank.values()[rank], Card.Suit.values()[suit]));\n              index++;\n             }\n         }\n        // Collections.shuffle(deckOfCards);\n        }\n\n\n    public void print(){\n        for (Card card: deckOfCards){ System.out.println(card);}\n        }\n    public void setDeckOfCards(List&lt;Card&gt; updatedDeckOfCards) { this.deckOfCards = new ArrayList&lt;&gt;(updatedDeckOfCards); }\n    protected static List&lt;Card&gt; getDeckOfCards() {\n        return deckOfCards;\n    }\n\n}\n</code></pre>\n<p>This is the Hands class:</p>\n<pre><code>public class CardsInHands extends CardsDeck{\n\n protected static List&lt;Card&gt; updatedCardList = new ArrayList&lt;&gt;(getDeckOfCards());\n    protected List&lt;Card&gt; playerCards = new ArrayList&lt;&gt;();\n\n    public CardsInHands(){ \n        for (int i=0; i&lt;10; i++){\n           playerCards.add(getDeckOfCards().get(i)); \n           updatedCardList.remove(0); \n        }\n        setDeckOfCards(updatedCardList); \n\n    }\n\n\n    public void printPlayerCards() {\n        for (Card card: playerCards){ System.out.print(card + &quot; - &quot;);}\n    }\n\n\n    public List&lt;Card&gt; getPlayerCards() {\n        return playerCards;\n    }\n    public void setPlayerCards(List&lt;Card&gt; playerCards) { this.playerCards = playerCards;}\n    public void removeCard(int cardIndex){ playerCards.remove(cardIndex);}\n    public void addCard(Card card){playerCards.add(card);}\n</code></pre>\n<p>For sake of completion, this is the Card class:</p>\n<pre><code>  public class Card {\n    public enum Rank {\n        ACE(1),TWO(2), THREE(3), FOUR(4), FIVE(5),\n        SIX(6), SEVEN(7), EIGHT(8), NINE(9),\n        TEN(10),\n        JACK(10), QUEEN(10), KING(10);\n        int value;\n\n        Rank(int value) { this.value = value; }\n        public int getValue() { return value; }\n    }\n\n    public enum Suit {SPADES,HEARTS, CLUBS, DIAMONDS;}\n\n    private final Rank rank;\n    private final Suit suit;\n\n    public Card(Rank rank, Suit suit){\n        this.rank = rank;\n        this.suit = suit;\n    }\n\n\n    public Rank getRank() { return rank; }\n    public Suit getSuit() { return suit; }\n    public int getValue(){ return rank.getValue(); }\n\n    public String toString(){\n        return this.rank+ &quot; of &quot; +this.suit;\n    }\n}\n</code></pre>\n<p>This is the main method I test the code from:</p>\n<pre><code> public class Runner {\n    public static void main(String[] args){\n    CardsDeck cards = new CardsDeck();\n    //cards.print();\n\n\n   CardsInHands playerOne = new CardsInHands();\n   //playerOne.printPlayerCards(); //prints first 10 cards of the deck\n   // cards.print(); //correct, first 10 cards are gone\n\n   CardsInHands playerTwo = new CardsInHands();\n   playerTwo.printPlayerCards(); //shows same 10 cards of player 1!\n   //cards.print(); //correct, second set of 10 cards are gone\n\n    }\n}\n</code></pre>\n<p>Could anyone tell me what I am doing wrong that makes the second object of Hands class not work properly?</p>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":1409397,"reputation":12315,"user_id":1336310,"accept_rate":90,"display_name":"Menno"},"score":0,"creation_date":1392471045,"post_id":21798202,"comment_id":32983618,"body_markdown":"http://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java ?","body":"<a href=\"http://stackoverflow.com/questions/2137755/how-do-i-reverse-an-int-array-in-java\" title=\"how do i reverse an int array in java\">stackoverflow.com/questions/2137755/&hellip;</a> ?"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1392471143,"post_id":21798202,"comment_id":32983651,"body_markdown":"Recursion isn&#39;t an appropriate technique for this.","body":"Recursion isn&#39;t an appropriate technique for this."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1392471222,"post_id":21798202,"comment_id":32983683,"body_markdown":"You could also add a parameter to your method which will hold the current value of the index. Then decrement the index at each call and stop the recursion when the index is 0.","body":"You could also add a parameter to your method which will hold the current value of the index. Then decrement the index at each call and stop the recursion when the index is 0."},{"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"score":0,"creation_date":1392471266,"post_id":21798202,"comment_id":32983695,"body_markdown":"@T.J.Crowder - I expect it is homework","body":"@T.J.Crowder - I expect it is homework"},{"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"score":0,"creation_date":1392471339,"post_id":21798202,"comment_id":32983723,"body_markdown":"@T.J.Crowder Its an assignment question actually, so i have to do this using recursion :(","body":"@T.J.Crowder Its an assignment question actually, so i have to do this using recursion :("},{"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"score":0,"creation_date":1392471358,"post_id":21798202,"comment_id":32983730,"body_markdown":"@T.J.Crowder Yes, and m stuck here","body":"@T.J.Crowder Yes, and m stuck here"},{"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"score":0,"creation_date":1392471390,"post_id":21798202,"comment_id":32983741,"body_markdown":"@Aquillo But i need to use recursion","body":"@Aquillo But i need to use recursion"},{"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"score":0,"creation_date":1392471449,"post_id":21798202,"comment_id":32983755,"body_markdown":"@ZouZou hmm seems like a good option, but just thinking if i could do it without an additional param","body":"@ZouZou hmm seems like a good option, but just thinking if i could do it without an additional param"},{"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"score":0,"creation_date":1392471503,"post_id":21798202,"comment_id":32983773,"body_markdown":"Why not try something simple such as add the first character to a string and return the string,  the remove it as you call the function again. Just go with some approach and show you have tried","body":"Why not try something simple such as add the first character to a string and return the string,  the remove it as you call the function again. Just go with some approach and show you have tried"},{"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"score":0,"creation_date":1392471524,"post_id":21798202,"comment_id":32983778,"body_markdown":"@Aquillo Yeah, something like that, so..","body":"@Aquillo Yeah, something like that, so.."},{"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"score":0,"creation_date":1392471754,"post_id":21798202,"comment_id":32983831,"body_markdown":"@JamesBlack so you are saying to have another method right? But i want this to be done in the same method.","body":"@JamesBlack so you are saying to have another method right? But i want this to be done in the same method."},{"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"score":0,"creation_date":1392471940,"post_id":21798202,"comment_id":32983881,"body_markdown":"Look at http://stackoverflow.com/questions/4503656/in-java-removing-first-character-of-a-string for removing a character and charAt to get the first letter, and see what happens","body":"Look at <a href=\"http://stackoverflow.com/questions/4503656/in-java-removing-first-character-of-a-string\" title=\"in java removing first character of a string\">stackoverflow.com/questions/4503656/&hellip;</a> for removing a character and charAt to get the first letter, and see what happens"}],"answers":[{"tags":[],"owner":{"account_id":4018287,"reputation":482,"user_id":3309578,"display_name":"Sim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392473138,"creation_date":1392471757,"answer_id":21798328,"question_id":21798202,"body_markdown":"You can probably use [`System.arraycopy`][1]\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/java/lang/system_arraycopy.htm","title":"Method to print a char array in reverse order using recursion?","body":"<p>You can probably use <a href=\"http://www.tutorialspoint.com/java/lang/system_arraycopy.htm\" rel=\"nofollow\"><code>System.arraycopy</code></a></p>\n"},{"tags":[],"owner":{"account_id":4024306,"reputation":33,"user_id":3313307,"display_name":"Frank"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1392471773,"creation_date":1392471773,"answer_id":21798331,"question_id":21798202,"body_markdown":"As pointed out this isn&#180;t normaly be done recursive. So this solutions is not nice, but it works:\r\n\r\n    public class StringReverseOnCharArray {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\treverseRecursively(new char[] { &#39;a&#39;, &#39;b&#39;, &#39;c&#39; });\r\n    \t}\r\n    \r\n    \tprivate static void reverseRecursively(char[] myCharArr) {\r\n    \t\tif (myCharArr.length &gt; 0) {\r\n    \t\t\tSystem.out.println(myCharArr[myCharArr.length - 1]);\r\n    \t\t\tchar[] temp = new char[myCharArr.length - 1];\r\n    \t\t\tfor (int i = 0; i &lt; temp.length; i++) {\r\n    \t\t\t\ttemp[i] = myCharArr[i];\r\n    \t\t\t}\r\n    \r\n    \t\t\treverseRecursively(temp);\r\n    \t\t}\r\n    \t}\r\n    }","title":"Method to print a char array in reverse order using recursion?","body":"<p>As pointed out this isn´t normaly be done recursive. So this solutions is not nice, but it works:</p>\n\n<pre><code>public class StringReverseOnCharArray {\n\n    public static void main(String[] args) {\n        reverseRecursively(new char[] { 'a', 'b', 'c' });\n    }\n\n    private static void reverseRecursively(char[] myCharArr) {\n        if (myCharArr.length &gt; 0) {\n            System.out.println(myCharArr[myCharArr.length - 1]);\n            char[] temp = new char[myCharArr.length - 1];\n            for (int i = 0; i &lt; temp.length; i++) {\n                temp[i] = myCharArr[i];\n            }\n\n            reverseRecursively(temp);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1392473122,"creation_date":1392471979,"answer_id":21798363,"question_id":21798202,"body_markdown":"**Updated answer**:\r\n\r\nI think I misunderstood. If you *have* to use the function as declared and just fill in the `temp` bit, and you just have to **output** the array in reverse order (not actually change its contents), then it&#39;s simple: Just make `temp` a copy of `length - 1` characters of the array (perhaps using `System.arraycopy`) and pass the new, shorter array into the function. Don&#39;t do that if the array you receive is only one character long; that&#39;s your recursion termination condition (you always have to have something that stops the recursion, it should be one of the first things you think about when looking at doing something recursively).\r\n\r\n----\r\n\r\n**Original answer**:\r\n\r\nIt seems to me that an assignment telling you to use the wrong technique for a problem isn&#39;t a very useful assignment. There are all kinds of appropriate teaching exercises for recursion; this isn&#39;t one of them.\r\n\r\nBut let&#39;s look at the assignment:\r\n\r\nThe goal of recursion is basically to repeated do something, on a different part of the problem, until you&#39;re done with the problem as a whole. The better example would be looping through a tree structure.\r\n\r\nSo looking at this problem, your goal is to swap characters in an array until the array has been reversed. What&#39;s the thing that repeats here? Swapping characters.\r\n\r\nSo I&#39;d probably do it by having an index I pass into the function, and have the function swap the character at that index with the character at the `length - index` location (e.g., swap the first and last, then the second and second-to-last, etc.). Then have it call itself with `index + 1`.\r\n\r\nAll recursion fundamentally must have a &quot;stop&quot; condition: The point at which the function no longer calls itself. In your case, that would be `index &gt;= length_of_array / 2`.\r\n\r\nNote that I haven&#39;t posted code. Writing the code is the purpose of having assignments, of doing the course; it&#39;s an important part of learning.","title":"Method to print a char array in reverse order using recursion?","body":"<p><strong>Updated answer</strong>:</p>\n\n<p>I think I misunderstood. If you <em>have</em> to use the function as declared and just fill in the <code>temp</code> bit, and you just have to <strong>output</strong> the array in reverse order (not actually change its contents), then it's simple: Just make <code>temp</code> a copy of <code>length - 1</code> characters of the array (perhaps using <code>System.arraycopy</code>) and pass the new, shorter array into the function. Don't do that if the array you receive is only one character long; that's your recursion termination condition (you always have to have something that stops the recursion, it should be one of the first things you think about when looking at doing something recursively).</p>\n\n<hr>\n\n<p><strong>Original answer</strong>:</p>\n\n<p>It seems to me that an assignment telling you to use the wrong technique for a problem isn't a very useful assignment. There are all kinds of appropriate teaching exercises for recursion; this isn't one of them.</p>\n\n<p>But let's look at the assignment:</p>\n\n<p>The goal of recursion is basically to repeated do something, on a different part of the problem, until you're done with the problem as a whole. The better example would be looping through a tree structure.</p>\n\n<p>So looking at this problem, your goal is to swap characters in an array until the array has been reversed. What's the thing that repeats here? Swapping characters.</p>\n\n<p>So I'd probably do it by having an index I pass into the function, and have the function swap the character at that index with the character at the <code>length - index</code> location (e.g., swap the first and last, then the second and second-to-last, etc.). Then have it call itself with <code>index + 1</code>.</p>\n\n<p>All recursion fundamentally must have a \"stop\" condition: The point at which the function no longer calls itself. In your case, that would be <code>index &gt;= length_of_array / 2</code>.</p>\n\n<p>Note that I haven't posted code. Writing the code is the purpose of having assignments, of doing the course; it's an important part of learning.</p>\n"},{"tags":[],"owner":{"account_id":2344010,"reputation":6151,"user_id":2054731,"accept_rate":44,"display_name":"ArneHugo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392472150,"creation_date":1392472150,"answer_id":21798397,"question_id":21798202,"body_markdown":"Here&#39;s a solution.\r\n\r\n\tprivate static void reverseRecursively(char[] myCharArr, int next) {\r\n\t\tif (next &gt;= myCharArr.length)\r\n\t\t\treturn;\r\n\r\n\t\t// use recusion BEFORE printing in order to print in reversed order\r\n\t\treverseRecursively(myCharArr, next+1); \r\n\t\tSystem.out.println(myCharArr[next]);\r\n\t}\r\n    \r\nFirst call to the method should use 0 for the &quot;next&quot; index:\r\n\r\n        reverseRecursively(myCharArr, 0);","title":"Method to print a char array in reverse order using recursion?","body":"<p>Here's a solution.</p>\n\n<pre><code>private static void reverseRecursively(char[] myCharArr, int next) {\n    if (next &gt;= myCharArr.length)\n        return;\n\n    // use recusion BEFORE printing in order to print in reversed order\n    reverseRecursively(myCharArr, next+1); \n    System.out.println(myCharArr[next]);\n}\n</code></pre>\n\n<p>First call to the method should use 0 for the \"next\" index:</p>\n\n<pre><code>    reverseRecursively(myCharArr, 0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16376050,"reputation":1,"user_id":11828113,"display_name":"Aadhar Chandiwala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617869993,"creation_date":1617869993,"answer_id":66999970,"question_id":21798202,"body_markdown":"The Time Complexity of this will be O(n) and the space complexity will be O(1)    \r\n    \r\n    def revStr(a,b,str):\r\n      if(a-b&gt;len(str)):\r\n        return str\r\n\r\n      else:\r\n        str[a],str[b]=str[b],str[a] #Pythons way of replacing characters\r\n        return revStr(a+1,b-1,str)","title":"Method to print a char array in reverse order using recursion?","body":"<p>The Time Complexity of this will be O(n) and the space complexity will be O(1)</p>\n<pre><code>def revStr(a,b,str):\n  if(a-b&gt;len(str)):\n    return str\n\n  else:\n    str[a],str[b]=str[b],str[a] #Pythons way of replacing characters\n    return revStr(a+1,b-1,str)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17613369,"reputation":1,"user_id":12780947,"display_name":"Daksh Biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645641678,"creation_date":1645641678,"answer_id":71242452,"question_id":21798202,"body_markdown":"This Solution does not take a new argument and no need to create a new Char array.\r\n\r\n    class Solution {\r\n    int n=0;\r\n    public void reverseString(char[] c) {\r\n        if (n&gt;(c.length-1)/2) \r\n            return;\r\n        \r\n            char t = c[n];\r\n            c[n] = c[c.length-n-1];\r\n            c[c.length-n-1] = t;\r\n            n++;\r\n            reverseString(c);\r\n    }\r\n}","title":"Method to print a char array in reverse order using recursion?","body":"<p>This Solution does not take a new argument and no need to create a new Char array.</p>\n<pre><code>class Solution {\nint n=0;\npublic void reverseString(char[] c) {\n    if (n&gt;(c.length-1)/2) \n        return;\n    \n        char t = c[n];\n        c[n] = c[c.length-n-1];\n        c[c.length-n-1] = t;\n        n++;\n        reverseString(c);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3954502,"reputation":25,"user_id":3263540,"accept_rate":50,"display_name":"user3263540"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5863,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21798363,"answer_count":6,"score":1,"last_activity_date":1645641678,"creation_date":1392470963,"question_id":21798202,"body_markdown":"Hi i am trying to create a method to print a char array in reverse order using recursion?\r\n\r\nThis is what i have done so far:-\r\n\r\n    public class StringReverseOnCharArray {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\treverseRecursively(new char[]{&#39;a&#39;,&#39;b&#39;,&#39;c&#39;});\r\n    \t}\r\n    \t\t\r\n    \tprivate static void reverseRecursively(char[] myCharArr)\r\n    \t{\r\n    \t\tSystem.out.println(myCharArr[myCharArr.length-1]);\r\n    \t\tchar [] temp=\r\n    \t\t\t\t// what next??\r\n    \t\t\r\n    \t\treverseRecursively(temp);\r\n    \t}\r\n    \r\n    }\r\n\r\nI think a temp char array will do but what should i do to remove the last element from the original char array and create a temp? Or is there and other way of doing this?","title":"Method to print a char array in reverse order using recursion?","body":"<p>Hi i am trying to create a method to print a char array in reverse order using recursion?</p>\n\n<p>This is what i have done so far:-</p>\n\n<pre><code>public class StringReverseOnCharArray {\n\n    public static void main(String[] args) {\n        reverseRecursively(new char[]{'a','b','c'});\n    }\n\n    private static void reverseRecursively(char[] myCharArr)\n    {\n        System.out.println(myCharArr[myCharArr.length-1]);\n        char [] temp=\n                // what next??\n\n        reverseRecursively(temp);\n    }\n\n}\n</code></pre>\n\n<p>I think a temp char array will do but what should i do to remove the last element from the original char array and create a temp? Or is there and other way of doing this?</p>\n"},{"tags":["java","macos","jar","libgdx","apple-m1"],"comments":[{"owner":{"account_id":11556456,"reputation":247,"user_id":8467490,"display_name":"Kleo G"},"score":0,"creation_date":1679795997,"post_id":71242356,"comment_id":133784423,"body_markdown":"did you ever figure this out? i have this error now as well","body":"did you ever figure this out? i have this error now as well"}],"owner":{"account_id":24174558,"reputation":31,"user_id":18136139,"display_name":"Inter Ceptor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645641241,"creation_date":1645641241,"question_id":71242356,"body_markdown":"New project.\r\nI&#39;m trying to create a working .jar file - it doesn&#39;t work, it throws an error.\r\n\r\nMacOS M1\r\nJava 11 Zulu ARM 64\r\n\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home/\r\nexport PATH=$JAVA_HOME/bin:$PATH\r\n\r\nor\r\n\r\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home/\r\nexport PATH=$JAVA_HOME/bin:$PATH\r\n\r\nAndroid Gradle Plugin Vesrion - 4.2.2\r\nGradle Version - 6.9\r\n\r\nIf the version is increased, it gives a duplicate META-INF error:\r\n\r\n    nexus@MacBook-Pro-Igor imperialist % ./gradlew desktop:dist\r\n    &gt; Task :desktop:dist FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    *What went wrong:\r\n    Execution failed for task &#39;:desktop:dist&#39;.\r\n    &gt; Entry META-INF/INDEX.LIST is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\r\n    \r\n    * try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 6s\r\n    5 actionable tasks: 5 executed\r\n    nexus@MacBook-Pro-Igor imperialist %\r\n\r\n\r\n--------------------------------\r\n\r\nRun commands:\r\n./gradlew build\r\n./gradlew desktop:dist\r\n\r\nResult: BUILD SUCCESSFUL\r\n\r\n--------------------------------\r\n\r\nRun command: java -jar -XstartOnFirstThread desktop-1.0.jar\r\n\r\nResult:\r\n\r\n    nexus@MacBook-Pro-Igor libs % java -jar -XstartOnFirstThread desktop-1.0.jar \r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n    \tat org.lwjgl.system.Pointer$Default.&lt;clinit&gt;(Pointer.java:67)\r\n    \tat org.lwjgl.system.Callback.&lt;clinit&gt;(Callback.java:40)\r\n    \tat com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:84)\r\n    \tat com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\r\n    \tat com.nexlab.a3.desktop.DesktopLauncher.main(DesktopLauncher.java:11)\r\n    Caused by: java.lang.UnsupportedOperationException: java.lang.VerifyError: Bad type on operand stack\r\n    Exception Details:\r\n      Location:\r\n        org/lwjgl/system/jni/JNINativeInterface.GetJavaVM(Lorg/lwjgl/PointerBuffer;)I @8: invokestatic\r\n      Reason:\r\n        Type &#39;org/lwjgl/PointerBuffer&#39; (current frame, stack[0]) is not assignable to &#39;org/lwjgl/system/CustomBuffer&#39;\r\n      Current Frame:\r\n        bci: @8\r\n        flags: { }\r\n        locals: { &#39;org/lwjgl/PointerBuffer&#39; }\r\n        stack: { &#39;org/lwjgl/PointerBuffer&#39;, integer }\r\n      Bytecode:\r\n        0000000: b200 0499 0008 2a04 b800 432a b800 44b8\r\n        0000010: 0045 ac                                \r\n      Stackmap Table:\r\n        same_frame(@11)\r\n    \r\n    \tat org.lwjgl.system.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:130)\r\n    \t... 5 more\r\n    Caused by: java.lang.VerifyError: Bad type on operand stack\r\n    Exception Details:\r\n      Location:\r\n        org/lwjgl/system/jni/JNINativeInterface.GetJavaVM(Lorg/lwjgl/PointerBuffer;)I @8: invokestatic\r\n      Reason:\r\n        Type &#39;org/lwjgl/PointerBuffer&#39; (current frame, stack[0]) is not assignable to &#39;org/lwjgl/system/CustomBuffer&#39;\r\n      Current Frame:\r\n        bci: @8\r\n        flags: { }\r\n        locals: { &#39;org/lwjgl/PointerBuffer&#39; }\r\n        stack: { &#39;org/lwjgl/PointerBuffer&#39;, integer }\r\n      Bytecode:\r\n        0000000: b200 0499 0008 2a04 b800 432a b800 44b8\r\n        0000010: 0045 ac                                \r\n      Stackmap Table:\r\n        same_frame(@11)\r\n    \r\n    \tat org.lwjgl.system.MemoryUtil.getMarkOffset(MemoryUtil.java:3013)\r\n    \tat org.lwjgl.system.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:115)\r\n    \t... 5 more\r\n    nexus@MacBook-Pro-Igor libs % \r\n\r\n--------------------------------\r\n\r\nOther changed settings:\r\n\r\nMain gradle set lwjgl3 - api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion&quot;\r\n\r\nGradle desktop - sourceCompatibility = 1.8\r\n\r\nAndroidManifest.xml - activity - android:exported=&quot;true&quot;\r\n\r\nDesktopLauncher.java:\r\n\r\n    package com.nexlab.a3.desktop;\r\n    \r\n    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\r\n    import com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\r\n    import com.nexlab.a3.A3;\r\n    \r\n    public class DesktopLauncher {\r\n    \r\n    \tpublic static void main (String[] arg) {\r\n    \t\tLwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\r\n    \t\tnew Lwjgl3Application(new A3(), config);\r\n    \t}\r\n    }\r\n\r\nThe &quot;Start&quot; button in the IDE starts normally (there I also specify the parameter - -XstartOnFirstThread)","title":"LIBGDX, MacOS M1, Lwjgl3, - problem create .jar file","body":"<p>New project.\nI'm trying to create a working .jar file - it doesn't work, it throws an error.</p>\n<p>MacOS M1\nJava 11 Zulu ARM 64</p>\n<p>export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home/\nexport PATH=$JAVA_HOME/bin:$PATH</p>\n<p>or</p>\n<p>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home/\nexport PATH=$JAVA_HOME/bin:$PATH</p>\n<p>Android Gradle Plugin Vesrion - 4.2.2\nGradle Version - 6.9</p>\n<p>If the version is increased, it gives a duplicate META-INF error:</p>\n<pre><code>nexus@MacBook-Pro-Igor imperialist % ./gradlew desktop:dist\n&gt; Task :desktop:dist FAILED\n\nFAILURE: Build failed with an exception.\n\n*What went wrong:\nExecution failed for task ':desktop:dist'.\n&gt; Entry META-INF/INDEX.LIST is a duplicate but no duplicate handling strategy has been set. Please refer to https://docs.gradle.org/7.2/dsl/org.gradle.api.tasks.Copy.html#org.gradle.api.tasks.Copy:duplicatesStrategy for details.\n\n* try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 6s\n5 actionable tasks: 5 executed\nnexus@MacBook-Pro-Igor imperialist %\n</code></pre>\n<hr />\n<p>Run commands:\n./gradlew build\n./gradlew desktop:dist</p>\n<p>Result: BUILD SUCCESSFUL</p>\n<hr />\n<p>Run command: java -jar -XstartOnFirstThread desktop-1.0.jar</p>\n<p>Result:</p>\n<pre><code>nexus@MacBook-Pro-Igor libs % java -jar -XstartOnFirstThread desktop-1.0.jar \nException in thread &quot;main&quot; java.lang.ExceptionInInitializerError\n    at org.lwjgl.system.Pointer$Default.&lt;clinit&gt;(Pointer.java:67)\n    at org.lwjgl.system.Callback.&lt;clinit&gt;(Callback.java:40)\n    at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.initializeGlfw(Lwjgl3Application.java:84)\n    at com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application.&lt;init&gt;(Lwjgl3Application.java:138)\n    at com.nexlab.a3.desktop.DesktopLauncher.main(DesktopLauncher.java:11)\nCaused by: java.lang.UnsupportedOperationException: java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/lwjgl/system/jni/JNINativeInterface.GetJavaVM(Lorg/lwjgl/PointerBuffer;)I @8: invokestatic\n  Reason:\n    Type 'org/lwjgl/PointerBuffer' (current frame, stack[0]) is not assignable to 'org/lwjgl/system/CustomBuffer'\n  Current Frame:\n    bci: @8\n    flags: { }\n    locals: { 'org/lwjgl/PointerBuffer' }\n    stack: { 'org/lwjgl/PointerBuffer', integer }\n  Bytecode:\n    0000000: b200 0499 0008 2a04 b800 432a b800 44b8\n    0000010: 0045 ac                                \n  Stackmap Table:\n    same_frame(@11)\n\n    at org.lwjgl.system.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:130)\n    ... 5 more\nCaused by: java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/lwjgl/system/jni/JNINativeInterface.GetJavaVM(Lorg/lwjgl/PointerBuffer;)I @8: invokestatic\n  Reason:\n    Type 'org/lwjgl/PointerBuffer' (current frame, stack[0]) is not assignable to 'org/lwjgl/system/CustomBuffer'\n  Current Frame:\n    bci: @8\n    flags: { }\n    locals: { 'org/lwjgl/PointerBuffer' }\n    stack: { 'org/lwjgl/PointerBuffer', integer }\n  Bytecode:\n    0000000: b200 0499 0008 2a04 b800 432a b800 44b8\n    0000010: 0045 ac                                \n  Stackmap Table:\n    same_frame(@11)\n\n    at org.lwjgl.system.MemoryUtil.getMarkOffset(MemoryUtil.java:3013)\n    at org.lwjgl.system.MemoryUtil.&lt;clinit&gt;(MemoryUtil.java:115)\n    ... 5 more\nnexus@MacBook-Pro-Igor libs % \n</code></pre>\n<hr />\n<p>Other changed settings:</p>\n<p>Main gradle set lwjgl3 - api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion&quot;</p>\n<p>Gradle desktop - sourceCompatibility = 1.8</p>\n<p>AndroidManifest.xml - activity - android:exported=&quot;true&quot;</p>\n<p>DesktopLauncher.java:</p>\n<pre><code>package com.nexlab.a3.desktop;\n\nimport com.badlogic.gdx.backends.lwjgl3.Lwjgl3Application;\nimport com.badlogic.gdx.backends.lwjgl3.Lwjgl3ApplicationConfiguration;\nimport com.nexlab.a3.A3;\n\npublic class DesktopLauncher {\n\n    public static void main (String[] arg) {\n        Lwjgl3ApplicationConfiguration config = new Lwjgl3ApplicationConfiguration();\n        new Lwjgl3Application(new A3(), config);\n    }\n}\n</code></pre>\n<p>The &quot;Start&quot; button in the IDE starts normally (there I also specify the parameter - -XstartOnFirstThread)</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645640987,"creation_date":1645640987,"answer_id":71242314,"question_id":71242229,"body_markdown":"The JavaDoc for `LinkedList` would be beneficial for you to read...\r\n\r\n&gt; change the value of the first element-value\r\n\r\n    list.element().setValue(-30.0)\r\n\r\n&gt; delete the last element completely\r\n\r\n    list.removeLast()","title":"Java change &quot;value&quot; element on a map.entry list","body":"<p>The JavaDoc for <code>LinkedList</code> would be beneficial for you to read...</p>\n<blockquote>\n<p>change the value of the first element-value</p>\n</blockquote>\n<pre><code>list.element().setValue(-30.0)\n</code></pre>\n<blockquote>\n<p>delete the last element completely</p>\n</blockquote>\n<pre><code>list.removeLast()\n</code></pre>\n"}],"owner":{"account_id":23857384,"reputation":35,"user_id":17860745,"display_name":"Gunnar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645640987,"creation_date":1645640535,"question_id":71242229,"body_markdown":"I have this hashmap which is a key-value of name of person, and their money:\r\n\r\n`dict = {Charlie=60.0, Ema=60.0, David=-20.0, Fred=-60.0, Gabe=-40.0}`\r\n\r\nI needed to sort this by its values, so I made it into a list using this:\r\n\r\n```\r\nthis.list = new LinkedList&lt;Map.Entry&lt;String, Double&gt;&gt;(this.dict.entrySet());\r\nlist.sort(new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\r\n    @Override\r\n    public int compare(Map.Entry&lt;String, Double&gt; o1, Map.Entry&lt;String, Double&gt; o2) {\r\n        return o1.getValue().compareTo(o2.getValue());\r\n    }\r\n});\r\n\r\n```\r\nand it works perfectly, so now i have a list:\r\n`this.list = [Fred=-60.0, Gabe=-40.0, David=-20.0, Charlie=60.0, Ema=60.0]`\r\n\r\nWhat I need to do is to change the value of the first element-value, so the first element would be Fred=-30.0 for example.\r\nand also I need to delete the last element completely.\r\n\r\nIs this possible?\r\nI come from python, and trying to translate some code to Java :D","title":"Java change &quot;value&quot; element on a map.entry list","body":"<p>I have this hashmap which is a key-value of name of person, and their money:</p>\n<p><code>dict = {Charlie=60.0, Ema=60.0, David=-20.0, Fred=-60.0, Gabe=-40.0}</code></p>\n<p>I needed to sort this by its values, so I made it into a list using this:</p>\n<pre><code>this.list = new LinkedList&lt;Map.Entry&lt;String, Double&gt;&gt;(this.dict.entrySet());\nlist.sort(new Comparator&lt;Map.Entry&lt;String, Double&gt;&gt;() {\n    @Override\n    public int compare(Map.Entry&lt;String, Double&gt; o1, Map.Entry&lt;String, Double&gt; o2) {\n        return o1.getValue().compareTo(o2.getValue());\n    }\n});\n\n</code></pre>\n<p>and it works perfectly, so now i have a list:\n<code>this.list = [Fred=-60.0, Gabe=-40.0, David=-20.0, Charlie=60.0, Ema=60.0]</code></p>\n<p>What I need to do is to change the value of the first element-value, so the first element would be Fred=-30.0 for example.\nand also I need to delete the last element completely.</p>\n<p>Is this possible?\nI come from python, and trying to translate some code to Java :D</p>\n"},{"tags":["javascript","java","jsp","servlets"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1645642008,"post_id":71242286,"comment_id":125929415,"body_markdown":"When you send a request to a JSP it sends HTML back to the client in the response. When the user clicks a button, you could use Angular&#39;s HttpClient to communicate with  \n your server.","body":"When you send a request to a JSP it sends HTML back to the client in the response. When the user clicks a button, you could use Angular&#39;s HttpClient to communicate with    your server."},{"owner":{"account_id":6160422,"reputation":651,"user_id":4802200,"accept_rate":62,"display_name":"imba22"},"score":0,"creation_date":1645647487,"post_id":71242286,"comment_id":125931250,"body_markdown":"@rickz thanks for taking time to answer this. Unfortunately this is a basic old school jsp java app and I cannot invoke using angular. Is there any other way you can think of to call java method from anchor tag click event","body":"@rickz thanks for taking time to answer this. Unfortunately this is a basic old school jsp java app and I cannot invoke using angular. Is there any other way you can think of to call java method from anchor tag click event"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1645649103,"post_id":71242286,"comment_id":125931764,"body_markdown":"Angular uses XMLHttpRequest . You could use that directly or you could use fetch().","body":"Angular uses XMLHttpRequest . You could use that directly or you could use fetch()."},{"owner":{"account_id":6160422,"reputation":651,"user_id":4802200,"accept_rate":62,"display_name":"imba22"},"score":0,"creation_date":1645736533,"post_id":71242286,"comment_id":125957354,"body_markdown":"@TimMoore it does not, but thank you for taking time and trying.","body":"@TimMoore it does not, but thank you for taking time and trying."}],"owner":{"account_id":6160422,"reputation":651,"user_id":4802200,"accept_rate":62,"display_name":"imba22"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645807768,"answer_count":0,"score":0,"last_activity_date":1645640840,"creation_date":1645640840,"question_id":71242286,"body_markdown":"I have a jsp file which has a submit button. On clicking this the call goes out to a different angular app. I want to log which user is clicking the button. For this I am thinking of calling a javascript function. Inside the javascript function callJSFunction() I want to pass the username of the user and call a java function. Inside the java function I need to store the user details in th db. \r\nMy question is how can I call a java method (for logging) from the javascript. I am sure this a common use case for logging information in jsp. I am not sure how to achieve this? Any help is greatly appreciated.\r\n\r\n    &lt;A class=&quot;gridlink1&quot; id=&quot;portal&quot;\r\n    \ttitle=&quot;Go to portal for &lt;%= StringEscapeUtils.escapeHtml(resultBn.getName()) %&gt;&quot;\r\n    HREF=&quot;&lt;%= resultBn.getLink() %&gt;&quot; onclick = &quot;callJSFunction()&quot;&gt; &lt;%=resultBn.getID()%&gt;\r\n    &lt;/A&gt;\r\n    \r\n    function callJSFunction(){\r\n    \talert(&quot;hello&quot;); //palceholder\r\n    }","title":"calling java method from javascript in jsp class for Logging","body":"<p>I have a jsp file which has a submit button. On clicking this the call goes out to a different angular app. I want to log which user is clicking the button. For this I am thinking of calling a javascript function. Inside the javascript function callJSFunction() I want to pass the username of the user and call a java function. Inside the java function I need to store the user details in th db.\nMy question is how can I call a java method (for logging) from the javascript. I am sure this a common use case for logging information in jsp. I am not sure how to achieve this? Any help is greatly appreciated.</p>\n<pre><code>&lt;A class=&quot;gridlink1&quot; id=&quot;portal&quot;\n    title=&quot;Go to portal for &lt;%= StringEscapeUtils.escapeHtml(resultBn.getName()) %&gt;&quot;\nHREF=&quot;&lt;%= resultBn.getLink() %&gt;&quot; onclick = &quot;callJSFunction()&quot;&gt; &lt;%=resultBn.getID()%&gt;\n&lt;/A&gt;\n\nfunction callJSFunction(){\n    alert(&quot;hello&quot;); //palceholder\n}\n</code></pre>\n"},{"tags":["java","android","flutter","dart","ssl"],"owner":{"account_id":10591340,"reputation":135,"user_id":7801805,"display_name":"Mohammad Zakir Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":0,"score":8,"last_activity_date":1645640577,"creation_date":1645640577,"question_id":71242241,"body_markdown":"I am try to develop a flutter project using url_launcher plugin where i encounter with this issue\r\n\r\nE/chromium(11062): [ERROR:ssl_client_socket_impl.cc(980)] handshake failed; returned -1, SSL error code 1, net_error -202\r\n\r\nThe url i have used is &quot;https://see.ntc.net.np/results/grade/&quot; \r\nI have also used other url and all are working great but can figure it this url is not workin ","title":"ERROR:ssl_client_socket_impl.cc(980)] handshake failed; returned -1, SSL error code 1, net_error -202","body":"<p>I am try to develop a flutter project using url_launcher plugin where i encounter with this issue</p>\n<p>E/chromium(11062): [ERROR:ssl_client_socket_impl.cc(980)] handshake failed; returned -1, SSL error code 1, net_error -202</p>\n<p>The url i have used is &quot;https://see.ntc.net.np/results/grade/&quot;\nI have also used other url and all are working great but can figure it this url is not workin</p>\n"},{"tags":["java","append","overwrite"],"answers":[{"tags":[],"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645640498,"creation_date":1645640498,"answer_id":71242215,"question_id":71242098,"body_markdown":"```\r\npublic static void overWriteFile(Object[] crypto) {\r\n    try {\r\n        PrintWriter wr = new PrintWriter(\r\n                new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, false)));\r\n        for (int i = 0; i &lt; crypto.length; i++) wr.println(crypto[i]);\r\n        wr.close();\r\n    } catch (IOException e) {\r\n        System.out.println(&quot;There is an I/O error when writing.&quot;);\r\n    }\r\n}\r\n```","title":"overWriteFile(java.lang.String[], double[]) cannot be applied to &#39;(java.lang.String[])&#39; - Java","body":"<pre><code>public static void overWriteFile(Object[] crypto) {\n    try {\n        PrintWriter wr = new PrintWriter(\n                new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, false)));\n        for (int i = 0; i &lt; crypto.length; i++) wr.println(crypto[i]);\n        wr.close();\n    } catch (IOException e) {\n        System.out.println(&quot;There is an I/O error when writing.&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24356729,"reputation":11,"user_id":18291775,"display_name":"Hello72646"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645640498,"creation_date":1645639912,"question_id":71242098,"body_markdown":"I am working on a project, and I am unable to proceed with it because of an error. \r\n\r\nI am attempting to overwrite a text file, using a method to scan through two arrays that hold specific crypto names. For example, in the section of my code removeCrypto(), which is option 4, I would type in BTC and it would remove BTC and the corresponding balance from the text file. \r\n\r\nHow can I make overWriteFile(line) work with both double and String?  \r\n\r\n[shows what is located in my .txt file][1]\r\n\r\n    public class Main {\r\n    static Scanner userInputInt = new Scanner(System.in);\r\n    static Scanner userInputString = new Scanner(System.in);\r\n    static Scanner userInputDouble = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        int userChoice = getUserChoice();\r\n        switch (userChoice) {\r\n            case 1:\r\n                viewWallet();\r\n                break;\r\n            case 2:\r\n                lookupBalance();\r\n                break;\r\n            case 3:\r\n                newEntry();\r\n                break;\r\n            case 4:\r\n                removeCrypto();\r\n                break;\r\n        }\r\n    }\r\n\r\n    // This method asks and returns what the user wants to do\r\n    public static int getUserChoice() {\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;************ Crypto Wallet **********&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;What do you want to do?&quot;);\r\n        System.out.println(&quot;(1) View wallet&quot;);\r\n        System.out.println(&quot;(2) Look up the balance of a given crypto&quot;);\r\n        System.out.println(&quot;(3) Add new cryptos&quot;);\r\n        System.out.println(&quot;(4) Remove an existing crypto&quot;);\r\n        System.out.println(&quot;(5) Update wallet&quot;);\r\n        System.out.println(&quot;****************************************************************&quot;);\r\n        System.out.print(&quot;Please enter your choice (1, 2, 3, 4, or 5): &quot;);\r\n        return userInputInt.nextInt();\r\n        }\r\n \r\n \r\n\r\n    // This method is called for user choice 4\r\n    public static void removeCrypto() {\r\n        String[] cryptoName = readCryptoNames();\r\n        double[] cryptoBalance = readCryptoBalance();\r\n        String[] line =new String[cryptoName.length];\r\n\r\n        System.out.println(&quot;What is the name of the crypto you would like to remove? &quot;);\r\n        String cryptoNameTBF = userInputString.next();\r\n      //  System.out.println(&quot;Please enter the balance&quot;);\r\n       // double newBalance = Double.parseDouble(userInputDouble.next());\r\n\r\n       for (int i=0; i&lt;cryptoName.length;i++) {\r\n           if (cryptoName[i].equals(cryptoNameTBF)){\r\n              // cryptoBalance[i] = newBalance;\r\n           }\r\n       }\r\n       for (int i=0;i&lt;cryptoName.length;i++){\r\n         line[i] = cryptoName[i] + &quot;\\t&quot; + cryptoBalance[i];\r\n       }\r\n      overWriteFile(line); //CONTINUE HERE - HERE IS MY ISSUE\r\n    }\r\n\r\n    // This method reads and returns the crypto names from the file\r\n    public static String[] readCryptoNames() {\r\n\r\n        String[] temp = new String[100];\r\n        int lineNumber = 0;\r\n        try {\r\n\r\n            BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\r\n            String sCurrentLine;\r\n            while ((sCurrentLine = myFile.readLine()) != null) {\r\n                String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\r\n                temp[lineNumber] = (tokens[0]);\r\n                lineNumber++;\r\n            }\r\n            myFile.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error reading crypto name: &quot; + e.getMessage());\r\n        }\r\n        String[] cryptoName = new String[lineNumber];\r\n        System.arraycopy(temp, 0, cryptoName, 0, lineNumber);\r\n        System.out.println(cryptoName);\r\n        return cryptoName;\r\n    }\r\n\r\n    // This method reads and returns the crypto balances from the file\r\n    public static double[] readCryptoBalance() {\r\n        double[] temp = new double[100];\r\n        int lineNumber = 0;\r\n        try {\r\n\r\n            BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\r\n            String sCurrentLine;\r\n            while ((sCurrentLine = myFile.readLine()) != null) {\r\n                String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\r\n                temp[lineNumber] = Double.parseDouble(tokens[1]);\r\n                lineNumber++;\r\n            }\r\n            myFile.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error reading crypto balance: &quot; + e.getMessage());\r\n        }\r\n        double[] cryptoBalance = new double[lineNumber];\r\n        System.arraycopy(temp, 0, cryptoBalance, 0, lineNumber);\r\n        return cryptoBalance;\r\n    }\r\n\r\n    // This method adds a new entry to the file and at the end of the file\r\n    public static void appendFile(String cryptoName) {\r\n        try {\r\n            PrintWriter wr = new PrintWriter(new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, true)));\r\n            wr.println(cryptoName);\r\n            wr.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;There is an I/O error when writing.&quot;);\r\n        }\r\n    }\r\n\r\n    // This method takes all crypto names and balances and writes on the file from scratch\r\n    public static void overWriteFile(String[] cryptoName, double[] cryptoBalance) {\r\n        try {\r\n            PrintWriter wr = new PrintWriter(\r\n                    new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, false)));\r\n            for (int i = 0; i &lt; cryptoName.length; i++) wr.println(cryptoName[i]);\r\n            wr.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;There is an I/O error when writing.&quot;);\r\n        }\r\n        try {\r\n            PrintWriter wr = new PrintWriter(\r\n                    new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, false)));\r\n            for (int i = 0; i &lt; cryptoBalance.length; i++) wr.println(cryptoBalance[i]);\r\n            wr.close();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;There is an I/O error when writing.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wSCz2.png","title":"overWriteFile(java.lang.String[], double[]) cannot be applied to &#39;(java.lang.String[])&#39; - Java","body":"<p>I am working on a project, and I am unable to proceed with it because of an error.</p>\n<p>I am attempting to overwrite a text file, using a method to scan through two arrays that hold specific crypto names. For example, in the section of my code removeCrypto(), which is option 4, I would type in BTC and it would remove BTC and the corresponding balance from the text file.</p>\n<p>How can I make overWriteFile(line) work with both double and String?</p>\n<p><a href=\"https://i.stack.imgur.com/wSCz2.png\" rel=\"nofollow noreferrer\">shows what is located in my .txt file</a></p>\n<pre><code>public class Main {\nstatic Scanner userInputInt = new Scanner(System.in);\nstatic Scanner userInputString = new Scanner(System.in);\nstatic Scanner userInputDouble = new Scanner(System.in);\n\npublic static void main(String[] args) {\n    int userChoice = getUserChoice();\n    switch (userChoice) {\n        case 1:\n            viewWallet();\n            break;\n        case 2:\n            lookupBalance();\n            break;\n        case 3:\n            newEntry();\n            break;\n        case 4:\n            removeCrypto();\n            break;\n    }\n}\n\n// This method asks and returns what the user wants to do\npublic static int getUserChoice() {\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;************ Crypto Wallet **********&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.println(&quot;&quot;);\n    System.out.println(&quot;What do you want to do?&quot;);\n    System.out.println(&quot;(1) View wallet&quot;);\n    System.out.println(&quot;(2) Look up the balance of a given crypto&quot;);\n    System.out.println(&quot;(3) Add new cryptos&quot;);\n    System.out.println(&quot;(4) Remove an existing crypto&quot;);\n    System.out.println(&quot;(5) Update wallet&quot;);\n    System.out.println(&quot;****************************************************************&quot;);\n    System.out.print(&quot;Please enter your choice (1, 2, 3, 4, or 5): &quot;);\n    return userInputInt.nextInt();\n    }\n\n\n\n// This method is called for user choice 4\npublic static void removeCrypto() {\n    String[] cryptoName = readCryptoNames();\n    double[] cryptoBalance = readCryptoBalance();\n    String[] line =new String[cryptoName.length];\n\n    System.out.println(&quot;What is the name of the crypto you would like to remove? &quot;);\n    String cryptoNameTBF = userInputString.next();\n  //  System.out.println(&quot;Please enter the balance&quot;);\n   // double newBalance = Double.parseDouble(userInputDouble.next());\n\n   for (int i=0; i&lt;cryptoName.length;i++) {\n       if (cryptoName[i].equals(cryptoNameTBF)){\n          // cryptoBalance[i] = newBalance;\n       }\n   }\n   for (int i=0;i&lt;cryptoName.length;i++){\n     line[i] = cryptoName[i] + &quot;\\t&quot; + cryptoBalance[i];\n   }\n  overWriteFile(line); //CONTINUE HERE - HERE IS MY ISSUE\n}\n\n// This method reads and returns the crypto names from the file\npublic static String[] readCryptoNames() {\n\n    String[] temp = new String[100];\n    int lineNumber = 0;\n    try {\n\n        BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\n        String sCurrentLine;\n        while ((sCurrentLine = myFile.readLine()) != null) {\n            String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\n            temp[lineNumber] = (tokens[0]);\n            lineNumber++;\n        }\n        myFile.close();\n    } catch (IOException e) {\n        System.out.println(&quot;Error reading crypto name: &quot; + e.getMessage());\n    }\n    String[] cryptoName = new String[lineNumber];\n    System.arraycopy(temp, 0, cryptoName, 0, lineNumber);\n    System.out.println(cryptoName);\n    return cryptoName;\n}\n\n// This method reads and returns the crypto balances from the file\npublic static double[] readCryptoBalance() {\n    double[] temp = new double[100];\n    int lineNumber = 0;\n    try {\n\n        BufferedReader myFile = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;));\n        String sCurrentLine;\n        while ((sCurrentLine = myFile.readLine()) != null) {\n            String[] tokens = sCurrentLine.split(&quot;\\\\s+&quot;);\n            temp[lineNumber] = Double.parseDouble(tokens[1]);\n            lineNumber++;\n        }\n        myFile.close();\n    } catch (IOException e) {\n        System.out.println(&quot;Error reading crypto balance: &quot; + e.getMessage());\n    }\n    double[] cryptoBalance = new double[lineNumber];\n    System.arraycopy(temp, 0, cryptoBalance, 0, lineNumber);\n    return cryptoBalance;\n}\n\n// This method adds a new entry to the file and at the end of the file\npublic static void appendFile(String cryptoName) {\n    try {\n        PrintWriter wr = new PrintWriter(new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, true)));\n        wr.println(cryptoName);\n        wr.close();\n    } catch (IOException e) {\n        System.out.println(&quot;There is an I/O error when writing.&quot;);\n    }\n}\n\n// This method takes all crypto names and balances and writes on the file from scratch\npublic static void overWriteFile(String[] cryptoName, double[] cryptoBalance) {\n    try {\n        PrintWriter wr = new PrintWriter(\n                new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, false)));\n        for (int i = 0; i &lt; cryptoName.length; i++) wr.println(cryptoName[i]);\n        wr.close();\n    } catch (IOException e) {\n        System.out.println(&quot;There is an I/O error when writing.&quot;);\n    }\n    try {\n        PrintWriter wr = new PrintWriter(\n                new BufferedWriter(new FileWriter(&quot;C:\\\\Users\\\\John\\\\IdeaProjects\\\\A3_591158\\\\src\\\\com\\\\company\\\\wallet.txt&quot;, false)));\n        for (int i = 0; i &lt; cryptoBalance.length; i++) wr.println(cryptoBalance[i]);\n        wr.close();\n    } catch (IOException e) {\n        System.out.println(&quot;There is an I/O error when writing.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","windows","svn","version-control","tortoisesvn"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1645637688,"post_id":71241580,"comment_id":125927694,"body_markdown":"What have you tried? Can you share it with us?","body":"What have you tried? Can you share it with us?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1645638099,"post_id":71241580,"comment_id":125927866,"body_markdown":"Here&#39;s a useful link about SVNKit https://wiki.svnkit.com/Getting_Started_With_SVNKit","body":"Here&#39;s a useful link about SVNKit <a href=\"https://wiki.svnkit.com/Getting_Started_With_SVNKit\" rel=\"nofollow noreferrer\">wiki.svnkit.com/Getting_Started_With_SVNKit</a>"},{"owner":{"account_id":21731492,"reputation":216,"user_id":16040171,"display_name":"Barry"},"score":0,"creation_date":1645638350,"post_id":71241580,"comment_id":125927983,"body_markdown":"@hfontanez i added to the description my current idea","body":"@hfontanez i added to the description my current idea"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1645640764,"post_id":71241580,"comment_id":125928950,"body_markdown":"@bahrep I would agree that it might not be necessary, but _absolutely irrelevant_ doesn&#39;t seem to be right. You could use it to obtain that same information programmatically rather than manually. But, I digress.","body":"@bahrep I would agree that it might not be necessary, but <i>absolutely irrelevant</i> doesn&#39;t seem to be right. You could use it to obtain that same information programmatically rather than manually. But, I digress."},{"owner":{"account_id":397129,"reputation":30060,"user_id":761095,"accept_rate":91,"display_name":"bahrep"},"score":0,"creation_date":1645790814,"post_id":71241580,"comment_id":125969843,"body_markdown":"@hfontanez now I think that you are right. I&#39;ve just removed that comment. Thank you!","body":"@hfontanez now I think that you are right. I&#39;ve just removed that comment. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":397129,"reputation":30060,"user_id":761095,"accept_rate":91,"display_name":"bahrep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645640038,"creation_date":1645640038,"answer_id":71242129,"question_id":71241580,"body_markdown":"If you open the [Revision Log][1] dialog for `src` or `inputs` you will only see the commits that touched contents of these directories. The same applies to running [`svn log`][2].\r\n\r\n\r\n  [1]: https://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-dug-showlog.html\r\n  [2]: https://svnbook.red-bean.com/en/1.8/svn.ref.svn.c.log.html","title":"TortoiseSVN: How to get a list of all revisions that update files in specific directories","body":"<p>If you open the <a href=\"https://tortoisesvn.net/docs/release/TortoiseSVN_en/tsvn-dug-showlog.html\" rel=\"nofollow noreferrer\">Revision Log</a> dialog for <code>src</code> or <code>inputs</code> you will only see the commits that touched contents of these directories. The same applies to running <a href=\"https://svnbook.red-bean.com/en/1.8/svn.ref.svn.c.log.html\" rel=\"nofollow noreferrer\"><code>svn log</code></a>.</p>\n"}],"owner":{"account_id":21731492,"reputation":216,"user_id":16040171,"display_name":"Barry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645640038,"creation_date":1645637405,"question_id":71241580,"body_markdown":"Say I have a project with the following structure:\r\n\r\n    Some-Project\r\n    &gt; src\r\n    &gt; inputs\r\n    &gt; outputs\r\n    &gt; docs\r\n    &gt; libs\r\n\r\n\r\nHow can I get a list of all SVN revisions where updates are made to any code files in &#39;src&#39; or any input files in &#39;inputs&#39; using TortoiseSVN if possible?\r\n\r\n\r\nThe only thing I can think of is to go into the &#39;src&#39; and &#39;input&#39; folders individually then use TortoiseSVN -&gt; Show Log and then manually tally up the revisions but that is very inefficient.\r\n","title":"TortoiseSVN: How to get a list of all revisions that update files in specific directories","body":"<p>Say I have a project with the following structure:</p>\n<pre><code>Some-Project\n&gt; src\n&gt; inputs\n&gt; outputs\n&gt; docs\n&gt; libs\n</code></pre>\n<p>How can I get a list of all SVN revisions where updates are made to any code files in 'src' or any input files in 'inputs' using TortoiseSVN if possible?</p>\n<p>The only thing I can think of is to go into the 'src' and 'input' folders individually then use TortoiseSVN -&gt; Show Log and then manually tally up the revisions but that is very inefficient.</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":12382,"reputation":5758,"user_id":1215136,"display_name":"ilvar"},"score":0,"creation_date":1644532170,"post_id":71055776,"comment_id":125639119,"body_markdown":"Sounds like an SDK bug. Or rather a more fundamental clash between schema-less data storage API and strongly typed language.","body":"Sounds like an SDK bug. Or rather a more fundamental clash between schema-less data storage API and strongly typed language."},{"owner":{"account_id":333303,"reputation":117,"user_id":659107,"accept_rate":43,"display_name":"Zo the Relativist"},"score":0,"creation_date":1644534092,"post_id":71055776,"comment_id":125639579,"body_markdown":"@ilvar: the old API had you basically parsing JSON.  This is a &quot;feature&quot; in the new API","body":"@ilvar: the old API had you basically parsing JSON.  This is a &quot;feature&quot; in the new API"},{"owner":{"account_id":13259080,"reputation":236,"user_id":9574235,"display_name":"Abhishek Singh"},"score":1,"creation_date":1645625698,"post_id":71055776,"comment_id":125921973,"body_markdown":"@JerrySchirmer you can use Object.class when fetching data from different indexes.","body":"@JerrySchirmer you can use Object.class when fetching data from different indexes."},{"owner":{"account_id":333303,"reputation":117,"user_id":659107,"accept_rate":43,"display_name":"Zo the Relativist"},"score":1,"creation_date":1645637688,"post_id":71055776,"comment_id":125927696,"body_markdown":"@AbhishekSingh thank you.  Convert that to an answer and I&#39;ll accept it.","body":"@AbhishekSingh thank you.  Convert that to an answer and I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":13259080,"reputation":236,"user_id":9574235,"display_name":"Abhishek Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645639256,"creation_date":1645639256,"answer_id":71241969,"question_id":71055776,"body_markdown":"You can use Object.class while fetching data from different indexes as below. \r\n\r\n&lt;code&gt;val resp = client.msearch(searchRequest, Object.class)&lt;/code&gt;\r\n","title":"Syntax for msearch in new Elastic Java Api","body":"<p>You can use Object.class while fetching data from different indexes as below.</p>\n<p><code>val resp = client.msearch(searchRequest, Object.class)</code></p>\n"}],"owner":{"account_id":333303,"reputation":117,"user_id":659107,"accept_rate":43,"display_name":"Zo the Relativist"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71241969,"answer_count":1,"score":0,"last_activity_date":1645639256,"creation_date":1644435831,"question_id":71055776,"body_markdown":"I am migrating my existing code from the old Elasticsearch Java API to the Java API (so, &lt;a href=&quot;https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html&quot;&gt;replacing RestHighLevelClient with ElasticsearchClient&lt;/a&gt;).\r\n\r\nThe new API (I&#39;m writing in Scala) basically works like:\r\n\r\n```\r\nval resp = client.msearch(searchRequest, Product.class)\r\nval products: List[Product] = resp.hits().hits()\r\n```\r\n\r\nBut the whole point of msearch is to submit many queries to the ES server in a single HTTP request, right?  And those queries don&#39;t necessarily have the same return schema.  \r\n\r\nWhat is the correct way to write this so that you have some base class Product, and then some subclass Product1 that is the return type of query #1, and some other subclass Product2 that is the return type of query #2?  Does the new API not support this?  The docs do not give clear guidance, and neither do the javadoc.","title":"Syntax for msearch in new Elastic Java Api","body":"<p>I am migrating my existing code from the old Elasticsearch Java API to the Java API (so, <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html\" rel=\"nofollow noreferrer\">replacing RestHighLevelClient with ElasticsearchClient</a>).</p>\n<p>The new API (I'm writing in Scala) basically works like:</p>\n<pre><code>val resp = client.msearch(searchRequest, Product.class)\nval products: List[Product] = resp.hits().hits()\n</code></pre>\n<p>But the whole point of msearch is to submit many queries to the ES server in a single HTTP request, right?  And those queries don't necessarily have the same return schema.</p>\n<p>What is the correct way to write this so that you have some base class Product, and then some subclass Product1 that is the return type of query #1, and some other subclass Product2 that is the return type of query #2?  Does the new API not support this?  The docs do not give clear guidance, and neither do the javadoc.</p>\n"},{"tags":["java","constructor","default-value","default-constructor"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645639223,"creation_date":1645637507,"answer_id":71241603,"question_id":71241538,"body_markdown":"That&#39;s an [instance initializer](https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html).\r\n\r\nIt&#39;s effectively a block of code that is inlined into the start of constructors (*), rather than being a constructor itself.\r\n\r\nSince this class has no explicit constructor, the compiler gives it a default constructor. Default constructors invoke `super()`, so the instance initializer is inlined into it.\r\n\r\nIt&#39;s effectively the same as:\r\n\r\n```\r\npublic abstract class Machinery {\r\n    protected String name=&quot;default Computer&quot;;\r\n    protected int weight=0;  \r\n    protected static int num_of_Machineries;\r\n    \r\n    //int counter=0;\r\n    static String kevo=&quot;     &quot;;\r\n\r\n    public Machinery() {\r\n        // Invoke the default super constructor.\r\n        super();\r\n\r\n        // Inline body of instance initializer.\r\n        num_of_Machineries++;\r\n        System.out.println(&quot;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&quot;);\r\n        System.out.println(&quot;Machinery construction call Baby!&quot;);\r\n        print(this);\r\n\r\n        // Rest of constructor body (which is empty).\r\n    }\r\n\r\n}\r\n```\r\n\r\nUnless you have a very good reason (**) to use an instance initializer (and I&#39;ll say you don&#39;t, if you don&#39;t know what one is), it is better to define an explicit constructor and put the code from the instance initializer in there.\r\n\r\nNote: you probably don&#39;t want to execute `print(this);` in the initializer/constructor: at the time this is executed, your instance isn&#39;t fully initialized, so this might have some unexpected effects.\r\n\r\n---\r\n\r\n(*) It is inlined into all constructors which (implicitly or explicitly) invoke `super(...);`. It is not inlined into constructors which invoke `this(...);`, because those have to (eventually) invoke a constructor invoking `super(...);`, and you only want the initializer code to be executed once.\r\n\r\n(**) The only good reason I can think of is to avoid having to duplicate code between two or more `super(...)`-invoking constructors; but even then, you can _often_ write it with methods. The only time where you really can&#39;t do it without an instance initializer is where there are multiple `super(...)`-invoking constructors which initialize co-dependent final fields. Rare, and probably a sign you should rethink the class.","title":"Member Function with no Signature or Name - Java","body":"<p>That's an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">instance initializer</a>.</p>\n<p>It's effectively a block of code that is inlined into the start of constructors (*), rather than being a constructor itself.</p>\n<p>Since this class has no explicit constructor, the compiler gives it a default constructor. Default constructors invoke <code>super()</code>, so the instance initializer is inlined into it.</p>\n<p>It's effectively the same as:</p>\n<pre><code>public abstract class Machinery {\n    protected String name=&quot;default Computer&quot;;\n    protected int weight=0;  \n    protected static int num_of_Machineries;\n    \n    //int counter=0;\n    static String kevo=&quot;     &quot;;\n\n    public Machinery() {\n        // Invoke the default super constructor.\n        super();\n\n        // Inline body of instance initializer.\n        num_of_Machineries++;\n        System.out.println(&quot;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&quot;);\n        System.out.println(&quot;Machinery construction call Baby!&quot;);\n        print(this);\n\n        // Rest of constructor body (which is empty).\n    }\n\n}\n</code></pre>\n<p>Unless you have a very good reason (**) to use an instance initializer (and I'll say you don't, if you don't know what one is), it is better to define an explicit constructor and put the code from the instance initializer in there.</p>\n<p>Note: you probably don't want to execute <code>print(this);</code> in the initializer/constructor: at the time this is executed, your instance isn't fully initialized, so this might have some unexpected effects.</p>\n<hr />\n<p>(*) It is inlined into all constructors which (implicitly or explicitly) invoke <code>super(...);</code>. It is not inlined into constructors which invoke <code>this(...);</code>, because those have to (eventually) invoke a constructor invoking <code>super(...);</code>, and you only want the initializer code to be executed once.</p>\n<p>(**) The only good reason I can think of is to avoid having to duplicate code between two or more <code>super(...)</code>-invoking constructors; but even then, you can <em>often</em> write it with methods. The only time where you really can't do it without an instance initializer is where there are multiple <code>super(...)</code>-invoking constructors which initialize co-dependent final fields. Rare, and probably a sign you should rethink the class.</p>\n"}],"owner":{"account_id":24356487,"reputation":15,"user_id":18291574,"display_name":"ObamaRules98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71241603,"answer_count":1,"score":1,"last_activity_date":1645639223,"creation_date":1645637258,"question_id":71241538,"body_markdown":"So I&#39;m looking at a Java project for my university and the code we are working with has this syntax that I have never seen before: \r\n\r\n```\r\npublic abstract class Machinery {\r\n    protected String name=&quot;default Computer&quot;;\r\n    protected int weight=0;  \r\n    protected static int num_of_Machineries;\r\n    \r\n    //int counter=0;\r\n    static String kevo=&quot;     &quot;;\r\n    {\r\n        num_of_Machineries++;\r\n        System.out.println(&quot;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&quot;);\r\n        System.out.println(&quot;Machinery construction call Baby!&quot;);\r\n        print(this);\r\n    }\r\n\r\n}\r\n```\r\n\r\nFrom what I understand, this works like a default constructor. Can anyone confirm or deny my suspicions?","title":"Member Function with no Signature or Name - Java","body":"<p>So I'm looking at a Java project for my university and the code we are working with has this syntax that I have never seen before:</p>\n<pre><code>public abstract class Machinery {\n    protected String name=&quot;default Computer&quot;;\n    protected int weight=0;  \n    protected static int num_of_Machineries;\n    \n    //int counter=0;\n    static String kevo=&quot;     &quot;;\n    {\n        num_of_Machineries++;\n        System.out.println(&quot;-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=&quot;);\n        System.out.println(&quot;Machinery construction call Baby!&quot;);\n        print(this);\n    }\n\n}\n</code></pre>\n<p>From what I understand, this works like a default constructor. Can anyone confirm or deny my suspicions?</p>\n"},{"tags":["java","eclipse","maven","debian","corba"],"answers":[{"tags":[],"owner":{"account_id":4939543,"reputation":117,"user_id":3976689,"display_name":"Daniel Crisp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645639080,"creation_date":1645639080,"answer_id":71241917,"question_id":68488909,"body_markdown":"I&#39;d make a ticket within the csstudio github repo, someone there will more likely see it and be able to help you.","title":"CS-Studio 4.4.1, Debian 10, Startup errors: org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter for several jar files","body":"<p>I'd make a ticket within the csstudio github repo, someone there will more likely see it and be able to help you.</p>\n"}],"owner":{"account_id":382638,"reputation":11,"user_id":737994,"display_name":"Thiago"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645639080,"creation_date":1626973352,"question_id":68488909,"body_markdown":"As a beginner on CS-Studio (CSS) / Eclipse, I&#39;ve been struggling with how exactly to install/deploy/implement those jar files correctly, in such a way that CSS can run smoothly. So, funny stuff: if I simply start CSS, I get the following errors:\r\n```\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/orb-master.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/maven-osgi-bundles-master.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/TangORB-javacommon-jacorb_free-0.3-SNAPSHOT.jar.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/maven-osgi-repository-1.0.0-SNAPSHOT.jar.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/glassfish-corba-omgapi-4.2.4-javadoc.jar.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/TangORB-jacorb_free-0.3-SNAPSHOT.jar.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/apache-maven-3.8.1.\r\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/glassfish-corba-omgapi-4.2.4-sources.jar.\r\n```\r\nHowever, if I add the Maven `bin` folder to the PATH environment variable *before* starting CSS, I get no errors whatsoever.\r\n\r\nThese `.jar` files are inside the `plugins` folder in the cs-studio installation directory. So I assumed they are &#39;operational&#39;. \r\n\r\nAt the same time, there are some hidden folders `.../default/.metadata/.plugins/*` for some of those classes in my CSS project workspace. Most of them simply contains a `desktop.ini` file. (Actually I got this workspace from a previous colleague already with the required plugins. Though I believe some others are required).\r\n\r\nI believe the Maven bin path could be set in some ini or settings file from CSS, though I don&#39;t know which one or where. \r\n\r\nOr does anyone know a better way how to tackle these issues? \r\n\r\nCheers!","title":"CS-Studio 4.4.1, Debian 10, Startup errors: org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter for several jar files","body":"<p>As a beginner on CS-Studio (CSS) / Eclipse, I've been struggling with how exactly to install/deploy/implement those jar files correctly, in such a way that CSS can run smoothly. So, funny stuff: if I simply start CSS, I get the following errors:</p>\n<pre><code>SEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/orb-master.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/maven-osgi-bundles-master.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/TangORB-javacommon-jacorb_free-0.3-SNAPSHOT.jar.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/maven-osgi-repository-1.0.0-SNAPSHOT.jar.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/glassfish-corba-omgapi-4.2.4-javadoc.jar.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/TangORB-jacorb_free-0.3-SNAPSHOT.jar.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/apache-maven-3.8.1.\nSEVERE [Thread 34] org.csstudio.logging.PluginLogListener (logging) - Unable to acquire PluginConverter service during generation for: /home/cs-studio-snapshot/cs-studio/plugins/glassfish-corba-omgapi-4.2.4-sources.jar.\n</code></pre>\n<p>However, if I add the Maven <code>bin</code> folder to the PATH environment variable <em>before</em> starting CSS, I get no errors whatsoever.</p>\n<p>These <code>.jar</code> files are inside the <code>plugins</code> folder in the cs-studio installation directory. So I assumed they are 'operational'.</p>\n<p>At the same time, there are some hidden folders <code>.../default/.metadata/.plugins/*</code> for some of those classes in my CSS project workspace. Most of them simply contains a <code>desktop.ini</code> file. (Actually I got this workspace from a previous colleague already with the required plugins. Though I believe some others are required).</p>\n<p>I believe the Maven bin path could be set in some ini or settings file from CSS, though I don't know which one or where.</p>\n<p>Or does anyone know a better way how to tackle these issues?</p>\n<p>Cheers!</p>\n"},{"tags":["java","spring","cassandra","spring-data","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"account_id":24281583,"reputation":168,"user_id":18228017,"display_name":"Cayman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645638986,"creation_date":1645638986,"answer_id":71241896,"question_id":71241592,"body_markdown":"My first approach would be going to:\r\n\r\nC:\\Users\\X\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2\r\n\r\nand delete: \r\n\r\njsr305-3.0.2.jar\r\n\r\nand then run a maven clean install or your goal\r\n\r\nSometimes the jars are downloaded corrupted","title":"Spring Data Cassandra - build fails when dependency is added","body":"<p>My first approach would be going to:</p>\n<p>C:\\Users\\X.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2</p>\n<p>and delete:</p>\n<p>jsr305-3.0.2.jar</p>\n<p>and then run a maven clean install or your goal</p>\n<p>Sometimes the jars are downloaded corrupted</p>\n"}],"owner":{"account_id":20707648,"reputation":177,"user_id":15205097,"display_name":"Charlie Clarke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71241896,"answer_count":1,"score":1,"last_activity_date":1645638986,"creation_date":1645637442,"question_id":71241592,"body_markdown":"I was following this guide https://www.baeldung.com/spring-data-cassandra-tutorial to try and get started with using Cassandra paired with spring boot, however, the Cassandra connector dependency:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.datastax.oss/java-driver-core --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.datastax.oss&lt;/groupId&gt;\r\n        &lt;artifactId&gt;java-driver-core&lt;/artifactId&gt;\r\n        &lt;version&gt;4.14.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nDoesn&#39;t seem to contain the necessary modules for adding an AbstractCassandraConfiguration. When adding spring-boot-starter-data-cassandra as a dependancy it gives me the required modules to add Cassandra configurations, but my build fails with the error:\r\n\r\n    java: error reading `C:\\Users\\X\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2\\jsr305-3.0.2.jar; zip END header not found`\r\n\r\nHere is my pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.morpheus&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;reportdbgateway&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;reportdbgateway&lt;/name&gt;\r\n    \t&lt;description&gt;Charlie&amp;apos;s software engineering assignment cassandra db gateway&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-cassandra&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n","title":"Spring Data Cassandra - build fails when dependency is added","body":"<p>I was following this guide <a href=\"https://www.baeldung.com/spring-data-cassandra-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-cassandra-tutorial</a> to try and get started with using Cassandra paired with spring boot, however, the Cassandra connector dependency:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.datastax.oss/java-driver-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.datastax.oss&lt;/groupId&gt;\n    &lt;artifactId&gt;java-driver-core&lt;/artifactId&gt;\n    &lt;version&gt;4.14.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Doesn't seem to contain the necessary modules for adding an AbstractCassandraConfiguration. When adding spring-boot-starter-data-cassandra as a dependancy it gives me the required modules to add Cassandra configurations, but my build fails with the error:</p>\n<pre><code>java: error reading `C:\\Users\\X\\.m2\\repository\\com\\google\\code\\findbugs\\jsr305\\3.0.2\\jsr305-3.0.2.jar; zip END header not found`\n</code></pre>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.morpheus&lt;/groupId&gt;\n    &lt;artifactId&gt;reportdbgateway&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;reportdbgateway&lt;/name&gt;\n    &lt;description&gt;Charlie&amp;apos;s software engineering assignment cassandra db gateway&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-cassandra&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","implements"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1645638397,"post_id":71241692,"comment_id":125928000,"body_markdown":"&quot;Now, as those classes have some functions that can be called from other classes, i want to make those interface methods private inside each class.&quot; That sounds like a non-sequitur to me. Please clarify why you want the methods to be private.","body":"&quot;Now, as those classes have some functions that can be called from other classes, i want to make those interface methods private inside each class.&quot; That sounds like a non-sequitur to me. Please clarify why you want the methods to be private."},{"owner":{"account_id":20566260,"reputation":64,"user_id":15095544,"display_name":"Muhammad Zeeshan"},"score":0,"creation_date":1645640306,"post_id":71241692,"comment_id":125928761,"body_markdown":"@JonSkeet because these interface methods are writing information related to some data but they are called according to different conditions.  so i don&#39;t want them to be called mistakenly without fulfilling the conditions.","body":"@JonSkeet because these interface methods are writing information related to some data but they are called according to different conditions.  so i don&#39;t want them to be called mistakenly without fulfilling the conditions."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1645640402,"post_id":71241692,"comment_id":125928805,"body_markdown":"Sounds like they shouldn&#39;t be part of an interface then. If you don&#39;t want to be able to write `FlowControl x = new CustomerInfo(); x.writeData();`... then `CustomerInfo` shouldn&#39;t implement `FlowControl`.","body":"Sounds like they shouldn&#39;t be part of an interface then. If you don&#39;t want to be able to write <code>FlowControl x = new CustomerInfo(); x.writeData();</code>... then <code>CustomerInfo</code> shouldn&#39;t implement <code>FlowControl</code>."},{"owner":{"account_id":20566260,"reputation":64,"user_id":15095544,"display_name":"Muhammad Zeeshan"},"score":0,"creation_date":1645641021,"post_id":71241692,"comment_id":125929056,"body_markdown":"@JonSkeet thank you for shading light on it! Actually i have multiple classes and they process the data in similar ways so i though it would be a good idea to make them all implement an interface so the coding would be consistent. Nevertheless, Now i know i should change it.","body":"@JonSkeet thank you for shading light on it! Actually i have multiple classes and they process the data in similar ways so i though it would be a good idea to make them all implement an interface so the coding would be consistent. Nevertheless, Now i know i should change it."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645638406,"creation_date":1645638406,"answer_id":71241776,"question_id":71241692,"body_markdown":"You can&#39;t. Saying that `CustomerInfo implements FlowControl` literally says that `CustomerInfo` must have a public `writeData()` method. The only way for it _not_ to have that method public is for it not to implement the interface.\r\n\r\nIf you need a `FlowControl` within the `CustomerInfo` class, but not have it implement the interface and expose the method, make the `FlowControl` a field within the `CustomerInfo` class:\r\n\r\n```\r\npublic class CustomerInfo {\r\n  private final FlowControl myFlowControl = /* implement the interface as an anonymous class/lambda */;\r\n\r\n  // Rest of the class... use myFlowControl where you need it.\r\n}\r\n```\r\n\r\nThis is an example of [preferring composition over inheritance](https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance). To put this another way: now `CustomerInfo` *has a* `FlowControl` (composition); not, `CustomerInfo` *is a* `FlowControl` (inheritance).","title":"How to make methods that are implemented in a class from an interface be private?","body":"<p>You can't. Saying that <code>CustomerInfo implements FlowControl</code> literally says that <code>CustomerInfo</code> must have a public <code>writeData()</code> method. The only way for it <em>not</em> to have that method public is for it not to implement the interface.</p>\n<p>If you need a <code>FlowControl</code> within the <code>CustomerInfo</code> class, but not have it implement the interface and expose the method, make the <code>FlowControl</code> a field within the <code>CustomerInfo</code> class:</p>\n<pre><code>public class CustomerInfo {\n  private final FlowControl myFlowControl = /* implement the interface as an anonymous class/lambda */;\n\n  // Rest of the class... use myFlowControl where you need it.\n}\n</code></pre>\n<p>This is an example of <a href=\"https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance\">preferring composition over inheritance</a>. To put this another way: now <code>CustomerInfo</code> <em>has a</em> <code>FlowControl</code> (composition); not, <code>CustomerInfo</code> <em>is a</em> <code>FlowControl</code> (inheritance).</p>\n"},{"tags":[],"owner":{"account_id":2987419,"reputation":1969,"user_id":2535843,"accept_rate":76,"display_name":"Mahdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645638655,"creation_date":1645638655,"answer_id":71241823,"question_id":71241692,"body_markdown":"As Andy mentioned, you cannot do this in Java. The only viable alternative that I can think of is using an abstract class &quot;FlowControl &quot; where you define these methods as &quot;protected&quot; and in &quot;CustomerInfo&quot; you extend the abstract &quot;FlowControl&quot;. by doing that, those methods will be protected and unavailable from outside.","title":"How to make methods that are implemented in a class from an interface be private?","body":"<p>As Andy mentioned, you cannot do this in Java. The only viable alternative that I can think of is using an abstract class &quot;FlowControl &quot; where you define these methods as &quot;protected&quot; and in &quot;CustomerInfo&quot; you extend the abstract &quot;FlowControl&quot;. by doing that, those methods will be protected and unavailable from outside.</p>\n"}],"owner":{"account_id":20566260,"reputation":64,"user_id":15095544,"display_name":"Muhammad Zeeshan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71241776,"answer_count":2,"score":0,"last_activity_date":1645638655,"creation_date":1645637991,"question_id":71241692,"body_markdown":"I have an interface &quot;**FlowControl**&quot; as it defines the methods should be implemented by those classes to process the data in correct order. Now, as those classes have some functions that can be called from other classes, i want to make those interface methods private inside each class. But doing so results in error in intellij. I am a beginner in java so please help me or is there any other better approach for achieving this?\r\n\r\n    public interface FlowControl{\r\n        void writeData();\r\n    }\r\n\r\n\r\n    public class CustomerInfo() implements FlowControl{\r\n        **private** void writeData(){\r\n            //Some functionality private to each class\r\n        }\r\n    }\r\n\r\n \r\n\r\n","title":"How to make methods that are implemented in a class from an interface be private?","body":"<p>I have an interface &quot;<strong>FlowControl</strong>&quot; as it defines the methods should be implemented by those classes to process the data in correct order. Now, as those classes have some functions that can be called from other classes, i want to make those interface methods private inside each class. But doing so results in error in intellij. I am a beginner in java so please help me or is there any other better approach for achieving this?</p>\n<pre><code>public interface FlowControl{\n    void writeData();\n}\n\n\npublic class CustomerInfo() implements FlowControl{\n    **private** void writeData(){\n        //Some functionality private to each class\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","deserialization"],"comments":[{"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"score":1,"creation_date":1645635515,"post_id":71241026,"comment_id":125926712,"body_markdown":"Why do you have an `Exam` field in your `ExamUnit`?","body":"Why do you have an <code>Exam</code> field in your <code>ExamUnit</code>?"},{"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"score":0,"creation_date":1645635644,"post_id":71241026,"comment_id":125926775,"body_markdown":"In reality these are JPA entities and I need bi-directionality (if I have an ExamUnit, I need cascaded access to its parent Exam). I&#39;ve omitted all the JPA annotations since they are not relevant to the question. I am not opposed to adding a `@JsonIgnore` to the exam field though, if you think thats is necessary for Jackson&#39;s sake.","body":"In reality these are JPA entities and I need bi-directionality (if I have an ExamUnit, I need cascaded access to its parent Exam). I&#39;ve omitted all the JPA annotations since they are not relevant to the question. I am not opposed to adding a <code>@JsonIgnore</code> to the exam field though, if you think thats is necessary for Jackson&#39;s sake."},{"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"score":0,"creation_date":1645636018,"post_id":71241026,"comment_id":125926944,"body_markdown":"But FWIW the same exception arises even if I comment the exam field out.","body":"But FWIW the same exception arises even if I comment the exam field out."},{"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"score":0,"creation_date":1645636537,"post_id":71241026,"comment_id":125927187,"body_markdown":"Ideally you should have a DTO layer. But aside from that, what if you try a `Set` (hashset?) or `List`","body":"Ideally you should have a DTO layer. But aside from that, what if you try a <code>Set</code> (hashset?) or <code>List</code>"},{"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"score":0,"creation_date":1645637984,"post_id":71241026,"comment_id":125927823,"body_markdown":"Yep, same exact exception if I make it `Set&lt;ExamUnit&gt;` or `List&lt;ExamUnit&gt;`.","body":"Yep, same exact exception if I make it <code>Set&lt;ExamUnit&gt;</code> or <code>List&lt;ExamUnit&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645638452,"creation_date":1645638452,"answer_id":71241783,"question_id":71241026,"body_markdown":"In your ExamUnit class annotate your property `private Exam exam;` with `@JsonIgnore`","title":"Jackson JSON chokes when deserializing a Collection","body":"<p>In your ExamUnit class annotate your property <code>private Exam exam;</code> with <code>@JsonIgnore</code></p>\n"}],"owner":{"account_id":21956436,"reputation":178,"user_id":16234929,"display_name":"simplezarg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71241783,"answer_count":1,"score":0,"last_activity_date":1645638452,"creation_date":1645635207,"question_id":71241026,"body_markdown":"Java 11, Spring Boot 2.5 and Jackson 2.12 here. I have the following Java classes:\r\n```\r\n// using lombok annos to generate getters &amp; setters\r\n@Data\r\npublic class ExamUnit implements Comparable&lt;ExamUnit&gt; {\r\n\r\n    private Long id;\r\n    private String name;\r\n    private String displayName;\r\n    private Long order;\r\n    private Exam exam;\r\n\r\n    // compareTo, equals &amp; hashCode are necessary so that the TreeSet below sorts ExamUnits\r\n    // correctly, according to my needs\r\n    @Override\r\n    public int compareTo(ExamUnit other) {\r\n        if (this.equals(other)) {\r\n            return 0;\r\n        } else if (this.order &lt; other.order) {\r\n            return 1;\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        ExamUnit examUnit = (ExamUnit) o;\r\n        return Objects.equals(name, examUnit.name) &amp;&amp;\r\n                Objects.equals(displayName, examUnit.displayName) &amp;&amp;\r\n                Objects.equals(order, examUnit.order);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(name, displayName, order);\r\n    }\r\n}\r\n```\r\nand:\r\n```\r\n@Data\r\npublic class Exam {\r\n\r\n    private Long id;\r\n    private String name;\r\n    private String displayName;\r\n    private SortedSet&lt;ExamUnit&gt; units = new TreeSet&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\nThen I have an &quot;exam&quot; JSON string:\r\n```\r\n{\r\n  &quot;id&quot;: 1,\r\n  &quot;name&quot;: &quot;science&quot;,\r\n  &quot;displayName&quot;: &quot;Science Exam&quot;,\r\n  &quot;units&quot;: [\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;name&quot;: &quot;chemistry&quot;,\r\n      &quot;displayName&quot;: &quot;Chemistry Unit&quot;,\r\n      &quot;order&quot;: 1\r\n    },\r\n    {\r\n      &quot;id&quot;: 2,\r\n      &quot;name&quot;: &quot;biology&quot;,\r\n      &quot;displayName&quot;: &quot;Biology Unit&quot;,\r\n      &quot;order&quot;: 2\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nThis is valid JSON, as you can verify yourself. And it does appear to follow the model of the Java types correctly.\r\n\r\nThen I have some code to read the string and deserialize it:\r\n```\r\n@Test\r\npublic void deserializeExamJson() {\r\n\r\n    String examJson = &quot;{\\n&quot; +\r\n            &quot;  \\&quot;id\\&quot;: 1,\\n&quot; +\r\n            &quot;  \\&quot;name\\&quot;: \\&quot;science\\&quot;,\\n&quot; +\r\n            &quot;  \\&quot;displayName\\&quot;: \\&quot;Science Exam\\&quot;,\\n&quot; +\r\n            &quot;  \\&quot;units\\&quot;: [\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;      \\&quot;id\\&quot;: 1,\\n&quot; +\r\n            &quot;      \\&quot;name\\&quot;: \\&quot;chemistry\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;displayName\\&quot;: \\&quot;Chemistry Unit\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;order\\&quot;: 1\\n&quot; +\r\n            &quot;    },\\n&quot; +\r\n            &quot;    {\\n&quot; +\r\n            &quot;      \\&quot;id\\&quot;: 2,\\n&quot; +\r\n            &quot;      \\&quot;name\\&quot;: \\&quot;biology\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;displayName\\&quot;: \\&quot;Biology Unit\\&quot;,\\n&quot; +\r\n            &quot;      \\&quot;order\\&quot;: 2\\n&quot; +\r\n            &quot;    }\\n&quot; +\r\n            &quot;  ]\\n&quot; +\r\n            &quot;}&quot;;\r\n\r\n    Exam exam = null;\r\n    try {\r\n        exam = objectMapper.readValue(examJson, Exam.class);\r\n    } catch (JsonProcessingException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n    assertThat(exam.getName()).isEqualTo(&quot;science&quot;);\r\n\r\n}\r\n```\r\n\r\nWhen this test runs, it fails with:\r\n```\r\njava.lang.RuntimeException: com.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (START_OBJECT), expected VALUE_STRING: need JSON String that contains type id (for subtype of java.util.SortedSet)\r\n at [Source: (StringReader); line: 6, column: 5] (through reference chain: com.me.myapp.Exam[&quot;units&quot;])\r\n```","title":"Jackson JSON chokes when deserializing a Collection","body":"<p>Java 11, Spring Boot 2.5 and Jackson 2.12 here. I have the following Java classes:</p>\n<pre><code>// using lombok annos to generate getters &amp; setters\n@Data\npublic class ExamUnit implements Comparable&lt;ExamUnit&gt; {\n\n    private Long id;\n    private String name;\n    private String displayName;\n    private Long order;\n    private Exam exam;\n\n    // compareTo, equals &amp; hashCode are necessary so that the TreeSet below sorts ExamUnits\n    // correctly, according to my needs\n    @Override\n    public int compareTo(ExamUnit other) {\n        if (this.equals(other)) {\n            return 0;\n        } else if (this.order &lt; other.order) {\n            return 1;\n        }\n\n        return 0;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        ExamUnit examUnit = (ExamUnit) o;\n        return Objects.equals(name, examUnit.name) &amp;&amp;\n                Objects.equals(displayName, examUnit.displayName) &amp;&amp;\n                Objects.equals(order, examUnit.order);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(name, displayName, order);\n    }\n}\n</code></pre>\n<p>and:</p>\n<pre><code>@Data\npublic class Exam {\n\n    private Long id;\n    private String name;\n    private String displayName;\n    private SortedSet&lt;ExamUnit&gt; units = new TreeSet&lt;&gt;();\n\n}\n</code></pre>\n<p>Then I have an &quot;exam&quot; JSON string:</p>\n<pre><code>{\n  &quot;id&quot;: 1,\n  &quot;name&quot;: &quot;science&quot;,\n  &quot;displayName&quot;: &quot;Science Exam&quot;,\n  &quot;units&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;chemistry&quot;,\n      &quot;displayName&quot;: &quot;Chemistry Unit&quot;,\n      &quot;order&quot;: 1\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;name&quot;: &quot;biology&quot;,\n      &quot;displayName&quot;: &quot;Biology Unit&quot;,\n      &quot;order&quot;: 2\n    }\n  ]\n}\n</code></pre>\n<p>This is valid JSON, as you can verify yourself. And it does appear to follow the model of the Java types correctly.</p>\n<p>Then I have some code to read the string and deserialize it:</p>\n<pre><code>@Test\npublic void deserializeExamJson() {\n\n    String examJson = &quot;{\\n&quot; +\n            &quot;  \\&quot;id\\&quot;: 1,\\n&quot; +\n            &quot;  \\&quot;name\\&quot;: \\&quot;science\\&quot;,\\n&quot; +\n            &quot;  \\&quot;displayName\\&quot;: \\&quot;Science Exam\\&quot;,\\n&quot; +\n            &quot;  \\&quot;units\\&quot;: [\\n&quot; +\n            &quot;    {\\n&quot; +\n            &quot;      \\&quot;id\\&quot;: 1,\\n&quot; +\n            &quot;      \\&quot;name\\&quot;: \\&quot;chemistry\\&quot;,\\n&quot; +\n            &quot;      \\&quot;displayName\\&quot;: \\&quot;Chemistry Unit\\&quot;,\\n&quot; +\n            &quot;      \\&quot;order\\&quot;: 1\\n&quot; +\n            &quot;    },\\n&quot; +\n            &quot;    {\\n&quot; +\n            &quot;      \\&quot;id\\&quot;: 2,\\n&quot; +\n            &quot;      \\&quot;name\\&quot;: \\&quot;biology\\&quot;,\\n&quot; +\n            &quot;      \\&quot;displayName\\&quot;: \\&quot;Biology Unit\\&quot;,\\n&quot; +\n            &quot;      \\&quot;order\\&quot;: 2\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;  ]\\n&quot; +\n            &quot;}&quot;;\n\n    Exam exam = null;\n    try {\n        exam = objectMapper.readValue(examJson, Exam.class);\n    } catch (JsonProcessingException e) {\n        throw new RuntimeException(e);\n    }\n\n    assertThat(exam.getName()).isEqualTo(&quot;science&quot;);\n\n}\n</code></pre>\n<p>When this test runs, it fails with:</p>\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.MismatchedInputException: Unexpected token (START_OBJECT), expected VALUE_STRING: need JSON String that contains type id (for subtype of java.util.SortedSet)\n at [Source: (StringReader); line: 6, column: 5] (through reference chain: com.me.myapp.Exam[&quot;units&quot;])\n</code></pre>\n"},{"tags":["java","php","android","json","retrofit"],"comments":[{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1645634884,"post_id":71240836,"comment_id":125926413,"body_markdown":"you need to look at the error details provided to you in the onFailure call then, and see what the specific problem is. At the moment, your code just discards all that information and outputs a generic message, which is probably why you don&#39;t know what&#39;s going wrong. You need to log it somewhere.","body":"you need to look at the error details provided to you in the onFailure call then, and see what the specific problem is. At the moment, your code just discards all that information and outputs a generic message, which is probably why you don&#39;t know what&#39;s going wrong. You need to log it somewhere."},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":1,"creation_date":1645634932,"post_id":71240836,"comment_id":125926438,"body_markdown":"Having said that, `&quot;http://192.168.2.107/&quot;` is clearly a local LAN URL. So unless you&#39;re connecting from a device which is on the same LAN as the server, then obviously it will never connect because the NAT/firewall on the router will prevent it.","body":"Having said that, <code>&quot;http:&#47;&#47;192.168.2.107&#47;&quot;</code> is clearly a local LAN URL. So unless you&#39;re connecting from a device which is on the same LAN as the server, then obviously it will never connect because the NAT/firewall on the router will prevent it."},{"owner":{"account_id":24355870,"reputation":11,"user_id":18291054,"display_name":"charbel karam"},"score":0,"creation_date":1645636397,"post_id":71240836,"comment_id":125927118,"body_markdown":"yes, the device I am connection from is connected to the local network, in addition, how should I log the error messages in onFailure?","body":"yes, the device I am connection from is connected to the local network, in addition, how should I log the error messages in onFailure?"},{"owner":{"account_id":7869117,"reputation":58320,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1645636429,"post_id":71240836,"comment_id":125927138,"body_markdown":"You can log them however you wish... the important point is to make sure you have access to the info, for debugging","body":"You can log them however you wish... the important point is to make sure you have access to the info, for debugging"},{"owner":{"account_id":1247262,"reputation":1464,"user_id":1208445,"display_name":"Bimalesh Jha"},"score":0,"creation_date":1645637666,"post_id":71240836,"comment_id":125927675,"body_markdown":"Probably android network security policy is blocking a plain text http connection. Check this https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted","body":"Probably android network security policy is blocking a plain text http connection. Check this <a href=\"https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted\" title=\"android 8 cleartext http traffic not permitted\">stackoverflow.com/questions/45940861/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24355870,"reputation":11,"user_id":18291054,"display_name":"charbel karam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645638280,"creation_date":1645638280,"answer_id":71241746,"question_id":71240836,"body_markdown":"Resolved: android network security blocks HTTP request by default, to enable it add to Manifest.xml: \r\n``` \r\nandroid:usesCleartextTraffic=&quot;true&quot;\r\n```\r\n","title":"Cannot fetch JSON using retrofit in Android","body":"<p>Resolved: android network security blocks HTTP request by default, to enable it add to Manifest.xml:</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot;\n</code></pre>\n"}],"owner":{"account_id":24355870,"reputation":11,"user_id":18291054,"display_name":"charbel karam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645638280,"creation_date":1645634459,"question_id":71240836,"body_markdown":"I have set up a XAMPP server on a virtual machine, and I&#39;ve set up a PHP code to return a very simple JSON object, the code is in android_connect/get_all_products\r\n\r\n```\r\n&lt;?php\r\n\r\n// array for JSON response\r\n$response = array();\r\n$response[&quot;name&quot;] = &quot;IPhone&quot;;\r\n\r\necho json_encode($response);\r\n?&gt;\r\n```\r\nAnd the code works, when I enter in my browser http://192.168.2.107/android_connect/get_all_products.php I get the correct JSON, even on an external machine on my network.\r\n\r\nBut I am unable to fetch it in an android application using Retrofit2.\r\n\r\nbelow is a POJO I created to represent the JSON:\r\n```\r\npublic class Results {\r\n\r\n    @SerializedName(&quot;name&quot;)\r\n    private String name;\r\n\r\n    public Results(String pid, String name) {\r\n\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n```\r\nThis is the API interface:\r\n```\r\npublic interface Api {\r\n\r\n    String BASE_URL = &quot;http://192.168.2.107/&quot;;\r\n    @GET(&quot;android_connect/get_all_products.php&quot;)\r\n    Call&lt;Results&gt; displayName();\r\n}\r\n```\r\nAnd this is the retrofit client instance:\r\n```\r\npublic class RetrofitClient {\r\n\r\n    private static RetrofitClient instance = null;\r\n    private Api myApi;\r\n\r\n    private RetrofitClient() {\r\n        Retrofit retrofit = new Retrofit.Builder().baseUrl(Api.BASE_URL)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n        myApi = retrofit.create(Api.class);\r\n    }\r\n\r\n    public static synchronized RetrofitClient getInstance() {\r\n        if (instance == null) {\r\n            instance = new RetrofitClient();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public Api getMyApi() {\r\n        return myApi;\r\n    }\r\n}\r\n```\r\nand finaly this is the main activity code:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ListView superListView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        superListView = findViewById(R.id.superListView);\r\n\r\n        getSuperHeroes();\r\n    }\r\n\r\n    private void getSuperHeroes() {\r\n        Call&lt;Results&gt; call = RetrofitClient.getInstance().getMyApi().displayName();\r\n        call.enqueue(new Callback&lt;Results&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;Results&gt; call, Response&lt;Results&gt; response) {\r\n                Toast.makeText(getApplicationContext(), response.body().getName(), Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;Results&gt; call, Throwable t) {\r\n                Toast.makeText(getApplicationContext(), &quot;An error has occured&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n\r\n        });\r\n    }\r\n}\r\n```\r\nEverytime I get a toast saying An error has occured (as it means the call has failed somewhere)\r\n\r\nNOTES: I have added INTERNET permission in the manifest.xml file\r\nI have tried some variation of my code on an external server and it runs fine, seems like the problem happens when I try to connect to my server.\r\n\r\nThank you in advance, I am very new to android programing and I have an assignment to connect it to a php server.\r\n\r\nEDIT: as ADyson pointed, the throwable t in onFailure, gives the folowing message: cLEARTEXT communication to 192.168.2.107 not permitted by network security policy. What does that mean? and what should I do? \r\n\r\n","title":"Cannot fetch JSON using retrofit in Android","body":"<p>I have set up a XAMPP server on a virtual machine, and I've set up a PHP code to return a very simple JSON object, the code is in android_connect/get_all_products</p>\n<pre><code>&lt;?php\n\n// array for JSON response\n$response = array();\n$response[&quot;name&quot;] = &quot;IPhone&quot;;\n\necho json_encode($response);\n?&gt;\n</code></pre>\n<p>And the code works, when I enter in my browser <a href=\"http://192.168.2.107/android_connect/get_all_products.php\" rel=\"nofollow noreferrer\">http://192.168.2.107/android_connect/get_all_products.php</a> I get the correct JSON, even on an external machine on my network.</p>\n<p>But I am unable to fetch it in an android application using Retrofit2.</p>\n<p>below is a POJO I created to represent the JSON:</p>\n<pre><code>public class Results {\n\n    @SerializedName(&quot;name&quot;)\n    private String name;\n\n    public Results(String pid, String name) {\n\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>This is the API interface:</p>\n<pre><code>public interface Api {\n\n    String BASE_URL = &quot;http://192.168.2.107/&quot;;\n    @GET(&quot;android_connect/get_all_products.php&quot;)\n    Call&lt;Results&gt; displayName();\n}\n</code></pre>\n<p>And this is the retrofit client instance:</p>\n<pre><code>public class RetrofitClient {\n\n    private static RetrofitClient instance = null;\n    private Api myApi;\n\n    private RetrofitClient() {\n        Retrofit retrofit = new Retrofit.Builder().baseUrl(Api.BASE_URL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n        myApi = retrofit.create(Api.class);\n    }\n\n    public static synchronized RetrofitClient getInstance() {\n        if (instance == null) {\n            instance = new RetrofitClient();\n        }\n        return instance;\n    }\n\n    public Api getMyApi() {\n        return myApi;\n    }\n}\n</code></pre>\n<p>and finaly this is the main activity code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ListView superListView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        superListView = findViewById(R.id.superListView);\n\n        getSuperHeroes();\n    }\n\n    private void getSuperHeroes() {\n        Call&lt;Results&gt; call = RetrofitClient.getInstance().getMyApi().displayName();\n        call.enqueue(new Callback&lt;Results&gt;() {\n            @Override\n            public void onResponse(Call&lt;Results&gt; call, Response&lt;Results&gt; response) {\n                Toast.makeText(getApplicationContext(), response.body().getName(), Toast.LENGTH_LONG).show();\n            }\n\n            @Override\n            public void onFailure(Call&lt;Results&gt; call, Throwable t) {\n                Toast.makeText(getApplicationContext(), &quot;An error has occured&quot;, Toast.LENGTH_LONG).show();\n            }\n\n        });\n    }\n}\n</code></pre>\n<p>Everytime I get a toast saying An error has occured (as it means the call has failed somewhere)</p>\n<p>NOTES: I have added INTERNET permission in the manifest.xml file\nI have tried some variation of my code on an external server and it runs fine, seems like the problem happens when I try to connect to my server.</p>\n<p>Thank you in advance, I am very new to android programing and I have an assignment to connect it to a php server.</p>\n<p>EDIT: as ADyson pointed, the throwable t in onFailure, gives the folowing message: cLEARTEXT communication to 192.168.2.107 not permitted by network security policy. What does that mean? and what should I do?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645638241,"creation_date":1645638241,"answer_id":71241736,"question_id":71237303,"body_markdown":"I assume that you are using Spring Boot&#39;s Devtools. They [enable the inclusion of binding errors by default](https://github.com/spring-projects/spring-boot/blob/7f71f71963477d43a6e5fbad6c8702f17a2fdf5e/spring-boot-project/spring-boot-devtools/src/main/java/org/springframework/boot/devtools/env/DevToolsPropertyDefaultsPostProcessor.java#L74). This is only done at development time to reduce the risk of information leakage in your application&#39;s error responses. If you&#39;re comfortable with this risk, you can enable the behaviour by adding `server.error.include-binding-errors = always` to `application.properties`.","title":"Spring Boot API does not return field errors in the builded version","body":"<p>I assume that you are using Spring Boot's Devtools. They <a href=\"https://github.com/spring-projects/spring-boot/blob/7f71f71963477d43a6e5fbad6c8702f17a2fdf5e/spring-boot-project/spring-boot-devtools/src/main/java/org/springframework/boot/devtools/env/DevToolsPropertyDefaultsPostProcessor.java#L74\" rel=\"nofollow noreferrer\">enable the inclusion of binding errors by default</a>. This is only done at development time to reduce the risk of information leakage in your application's error responses. If you're comfortable with this risk, you can enable the behaviour by adding <code>server.error.include-binding-errors = always</code> to <code>application.properties</code>.</p>\n"}],"owner":{"account_id":16051167,"reputation":13,"user_id":11585006,"display_name":"Ignace Mella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71241736,"answer_count":1,"score":0,"last_activity_date":1645638241,"creation_date":1645620773,"question_id":71237303,"body_markdown":"I have a small issue, in development I created an API that also checks if the POST values are valid with annotation @Valid.\r\n\r\n    @PostMapping(&quot;/news&quot;)\r\n    @ResponseBody\r\n    public News add(@Valid @RequestBody News news){\r\n        return repository.save(news);\r\n    }\r\n\r\nWhen the fields are invalid, I get a return with the errors included, with the fields and defaultMessage.\r\n\r\nI have an entity with annotations like @NotBlank etc.\r\n\r\nOnce I build my project to a jar file, and I run my project with this file, I do not get those errors anymore included in the response.\r\n\r\nI was taking maybe this is because of development mode or something but I couldn&#39;t find anything online about it.","title":"Spring Boot API does not return field errors in the builded version","body":"<p>I have a small issue, in development I created an API that also checks if the POST values are valid with annotation @Valid.</p>\n<pre><code>@PostMapping(&quot;/news&quot;)\n@ResponseBody\npublic News add(@Valid @RequestBody News news){\n    return repository.save(news);\n}\n</code></pre>\n<p>When the fields are invalid, I get a return with the errors included, with the fields and defaultMessage.</p>\n<p>I have an entity with annotations like @NotBlank etc.</p>\n<p>Once I build my project to a jar file, and I run my project with this file, I do not get those errors anymore included in the response.</p>\n<p>I was taking maybe this is because of development mode or something but I couldn't find anything online about it.</p>\n"},{"tags":["java","data-structures","set"],"answers":[{"tags":[],"owner":{"display_name":"user4668606"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1426739821,"creation_date":1426739821,"answer_id":29137296,"question_id":29137250,"body_markdown":"Basically, a Set is just a Map that only holds keys. So you should inform yourself about mappingalgorithms. Note: the HashSet for example is actually just an adapter for the HashMap. the add-method of HashSet simply uses HashMap.put(value , SomeDummyValue).","title":"How to implement a Set Data Structure in Java?","body":"<p>Basically, a Set is just a Map that only holds keys. So you should inform yourself about mappingalgorithms. Note: the HashSet for example is actually just an adapter for the HashMap. the add-method of HashSet simply uses HashMap.put(value , SomeDummyValue).</p>\n"},{"tags":[],"owner":{"account_id":3913115,"reputation":1059,"user_id":3237814,"accept_rate":75,"display_name":"rns"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1426740308,"creation_date":1426739980,"answer_id":29137322,"question_id":29137250,"body_markdown":"Set internally implements a map.So each value in a set is just a key in map.So its uniqueness in maintained.\r\n\r\n[Here][1] is the link.So that you get clear idea how set works internally.\r\nAlso few stack Answers.\r\n[First][2] , [Second][3]\r\n\r\n\r\n  [1]: http://javahungry.blogspot.com/2013/08/how-sets-are-implemented-internally-in.html\r\n  [2]: https://stackoverflow.com/questions/1781868/internal-implementation-of-java-util-hashmap-and-hashset\r\n  [3]: https://stackoverflow.com/questions/4453476/hash-how-does-it-work-internally","title":"How to implement a Set Data Structure in Java?","body":"<p>Set internally implements a map.So each value in a set is just a key in map.So its uniqueness in maintained.</p>\n\n<p><a href=\"http://javahungry.blogspot.com/2013/08/how-sets-are-implemented-internally-in.html\" rel=\"noreferrer\">Here</a> is the link.So that you get clear idea how set works internally.\nAlso few stack Answers.\n<a href=\"https://stackoverflow.com/questions/1781868/internal-implementation-of-java-util-hashmap-and-hashset\">First</a> , <a href=\"https://stackoverflow.com/questions/4453476/hash-how-does-it-work-internally\">Second</a></p>\n"},{"tags":[],"owner":{"account_id":4258989,"reputation":738,"user_id":3483824,"display_name":"bitsabhi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484748558,"creation_date":1484748558,"answer_id":41721621,"question_id":29137250,"body_markdown":" Below is a code snippet to explain above answers\r\n    \r\n    public HashSet() { map = new HashMap&lt;&gt;(); }\r\n    private transient HashMap&lt;E,Object&gt; map;\r\n\r\n    // Dummy value to associate with an Object in the backing Map\r\n    private static final Object PRESENT = new Object();\r\n\r\n    public boolean add(E e) {\r\n        return map.put(e, PRESENT)==null;\r\n    }\r\n\r\n    // Since PRESENT is a constant, for all keys we have same value in backup HashMap called map.\r\n\r\n    public Iterator&lt;E&gt; iterator() {\r\n        return map.keySet().iterator();\r\n    }","title":"How to implement a Set Data Structure in Java?","body":"<p>Below is a code snippet to explain above answers</p>\n\n<pre><code>public HashSet() { map = new HashMap&lt;&gt;(); }\nprivate transient HashMap&lt;E,Object&gt; map;\n\n// Dummy value to associate with an Object in the backing Map\nprivate static final Object PRESENT = new Object();\n\npublic boolean add(E e) {\n    return map.put(e, PRESENT)==null;\n}\n\n// Since PRESENT is a constant, for all keys we have same value in backup HashMap called map.\n\npublic Iterator&lt;E&gt; iterator() {\n    return map.keySet().iterator();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9862940,"reputation":1,"user_id":7305282,"display_name":"Vicky Raj"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1580553362,"creation_date":1580553362,"answer_id":60016067,"question_id":29137250,"body_markdown":"    class HashSetBasicImpl&lt;K&gt; {\r\n    \r\n            static class Entry&lt;K&gt; {\r\n                private K key;\r\n                private Entry&lt;K&gt; next;\r\n    \r\n                Entry(K key) {\r\n                    key = key;\r\n                    next = null;\r\n                }\r\n            }\r\n    \r\n            private Entry&lt;K&gt;[] entries;\r\n    \r\n            public HashSetBasicImpl() {\r\n                // fixed size\r\n                map =new Entry[100];\r\n            }\r\n    \r\n            public boolean contains(K key) {\r\n                int idx = key.hashCode();\r\n                Entry&lt;K&gt; start = entries[idx];\r\n                while(start != null) {\r\n                    if(start.key == key) {\r\n                        return true;\r\n                    }\r\n                    start = start.next;\r\n                }\r\n                return  false;\r\n    \r\n            }\r\n    \r\n            public boolean add(K key) {\r\n    \r\n                Entry&lt;K&gt; entry = new Entry(key);\r\n                int idx = key.hashCode();\r\n    \r\n                // check if entry exists\r\n               if(contains(key)) {\r\n                   return false;\r\n               }\r\n                // add as first entry\r\n                start = entries[idx];\r\n                if(start == null) {\r\n                    entries[idx]= new Entry(key);\r\n                    return true;\r\n                }\r\n                // add as nth entry\r\n                Entry prev = null;\r\n                while(start != null) {\r\n                    prev = start;\r\n                    start = start.next;\r\n                }\r\n                prev.next = new Entry(key);\r\n                return true;\r\n            }\r\n    }","title":"How to implement a Set Data Structure in Java?","body":"<pre><code>class HashSetBasicImpl&lt;K&gt; {\n\n        static class Entry&lt;K&gt; {\n            private K key;\n            private Entry&lt;K&gt; next;\n\n            Entry(K key) {\n                key = key;\n                next = null;\n            }\n        }\n\n        private Entry&lt;K&gt;[] entries;\n\n        public HashSetBasicImpl() {\n            // fixed size\n            map =new Entry[100];\n        }\n\n        public boolean contains(K key) {\n            int idx = key.hashCode();\n            Entry&lt;K&gt; start = entries[idx];\n            while(start != null) {\n                if(start.key == key) {\n                    return true;\n                }\n                start = start.next;\n            }\n            return  false;\n\n        }\n\n        public boolean add(K key) {\n\n            Entry&lt;K&gt; entry = new Entry(key);\n            int idx = key.hashCode();\n\n            // check if entry exists\n           if(contains(key)) {\n               return false;\n           }\n            // add as first entry\n            start = entries[idx];\n            if(start == null) {\n                entries[idx]= new Entry(key);\n                return true;\n            }\n            // add as nth entry\n            Entry prev = null;\n            while(start != null) {\n                prev = start;\n                start = start.next;\n            }\n            prev.next = new Entry(key);\n            return true;\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3200009,"reputation":7174,"user_id":2702249,"accept_rate":57,"display_name":"Om Sao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645638110,"creation_date":1645638110,"answer_id":71241715,"question_id":29137250,"body_markdown":"**Short answer**: Map\r\n\r\n\r\n\r\n**Basics first**\r\n\r\nWhat are the features of Set datastructures?\r\n\r\n 1. Each element get stored only once.\r\n 2. Query for an item in Set should be fastest, i.e. in `O(1)`.\r\n 3. If an item to be inserted is already present in Set, then don&#39;t insert. If it&#39;s not present then insert.\r\n\r\nIf we look closely, which datastructure can implement it?\r\nAnswer is `Map`, because we just keep a record of which value present. And we can query in `O(1)` time.\r\n\r\n","title":"How to implement a Set Data Structure in Java?","body":"<p><strong>Short answer</strong>: Map</p>\n<p><strong>Basics first</strong></p>\n<p>What are the features of Set datastructures?</p>\n<ol>\n<li>Each element get stored only once.</li>\n<li>Query for an item in Set should be fastest, i.e. in <code>O(1)</code>.</li>\n<li>If an item to be inserted is already present in Set, then don't insert. If it's not present then insert.</li>\n</ol>\n<p>If we look closely, which datastructure can implement it?\nAnswer is <code>Map</code>, because we just keep a record of which value present. And we can query in <code>O(1)</code> time.</p>\n"}],"owner":{"account_id":2324687,"reputation":339,"user_id":2039484,"accept_rate":78,"display_name":"ArsenalRocks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28519,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":29137322,"answer_count":5,"score":11,"last_activity_date":1645638110,"creation_date":1426739545,"question_id":29137250,"body_markdown":"I have always wondered how would you implement a Set in Java. Can we implement it just like we implement a HashMap using a LinkedList and an object(Cell&lt;K,V&gt;) which holds a Key and Value? How would you handle the uniqueness part?","title":"How to implement a Set Data Structure in Java?","body":"<p>I have always wondered how would you implement a Set in Java. Can we implement it just like we implement a HashMap using a LinkedList and an object(Cell) which holds a Key and Value? How would you handle the uniqueness part?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1645569209,"creation_date":1621777212,"answer_id":67660412,"question_id":67656436,"body_markdown":"You need to write your own Deserializer implementation to be able to access headers before the data payload\r\n\r\nOr...\r\n\r\n&gt; any way to not deserialize\r\n\r\nSet deserializer class to the ByteArrayDeserializer rather than the StringDeserializer. \r\n\r\nThen, do the deserialization manually, \r\n\r\n\r\n    for (ConsumerRecord&lt;byte[], byte[]&gt; consumerRecord : consumer.poll(Duration.ofSeconds(1))) {\r\n        for (Header header : consumerRecord.headers()) {\r\n           ...\r\n\r\n        }\r\n        String s = new String(consumerRecord.value(), &quot;UTF-8&quot;); // for example\r\n    }\r\n\r\n","title":"Kafka consumer - Reading message header before deserializing","body":"<p>You need to write your own Deserializer implementation to be able to access headers before the data payload</p>\n<p>Or...</p>\n<blockquote>\n<p>any way to not deserialize</p>\n</blockquote>\n<p>Set deserializer class to the ByteArrayDeserializer rather than the StringDeserializer.</p>\n<p>Then, do the deserialization manually,</p>\n<pre><code>for (ConsumerRecord&lt;byte[], byte[]&gt; consumerRecord : consumer.poll(Duration.ofSeconds(1))) {\n    for (Header header : consumerRecord.headers()) {\n       ...\n\n    }\n    String s = new String(consumerRecord.value(), &quot;UTF-8&quot;); // for example\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18626675,"reputation":131,"user_id":13575629,"display_name":"Pedro Henrique"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645638019,"creation_date":1645638019,"answer_id":71241700,"question_id":67656436,"body_markdown":"For the C# developers using the Confluent.Kafka library I pushed this solution from the context object:\r\n\r\n```\r\npublic class KafkaByteDeserializer : IDeserializer&lt;byte[]&gt;\r\n{\r\n        public static KafkaByteDeserializer Instance =&gt; new KafkaByteDeserializer();\r\n\r\n        public byte[] Deserialize(ReadOnlySpan&lt;byte&gt; data, bool isNull, SerializationContext context)\r\n        {\r\n            if (isNull || IsDeleteOperation(context.Headers))\r\n            {\r\n                return default;\r\n            }\r\n\r\n            return data.ToArray();\r\n        }\r\n\r\n        private bool IsDeleteOperation(Headers headers)\r\n        {\r\n            // Your logic checking for the delete operation...\r\n        }\r\n}\r\n```\r\n\r\n ","title":"Kafka consumer - Reading message header before deserializing","body":"<p>For the C# developers using the Confluent.Kafka library I pushed this solution from the context object:</p>\n<pre><code>public class KafkaByteDeserializer : IDeserializer&lt;byte[]&gt;\n{\n        public static KafkaByteDeserializer Instance =&gt; new KafkaByteDeserializer();\n\n        public byte[] Deserialize(ReadOnlySpan&lt;byte&gt; data, bool isNull, SerializationContext context)\n        {\n            if (isNull || IsDeleteOperation(context.Headers))\n            {\n                return default;\n            }\n\n            return data.ToArray();\n        }\n\n        private bool IsDeleteOperation(Headers headers)\n        {\n            // Your logic checking for the delete operation...\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":6905668,"reputation":35,"user_id":5303647,"display_name":"Amjad Khader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7292,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1645638019,"creation_date":1621747723,"question_id":67656436,"body_markdown":"Is there any way to read message headers before deserializing? \r\n\r\nI have written the below code, but I am forced to deserializing here, any way to not deserialize?\r\n\r\n        while (true) {\r\n\r\n            ConsumerRecords&lt;String, String&gt; consumerRecords = consumer.poll(Duration.ofSeconds(1));\r\n            for (ConsumerRecord&lt;String, String&gt; consumerRecord : consumerRecords) {\r\n                for (Header header : consumerRecord.headers()) {\r\n                    if (header.key().equals(&quot;my header&quot;)) {\r\n                        String data = &quot;\\n New record received .. \\n&quot; +\r\n                                &quot; Value: &quot; + consumerRecord.value() +\r\n                                &quot; Topic: &quot; + consumerRecord.topic() +\r\n                                &quot; Header: &quot; + header.key() +\r\n                                &quot; Partition: &quot; + consumerRecord.partition();\r\n\r\n                        logger.info(data);\r\n                    }\r\n                }\r\n            }\r\n        }","title":"Kafka consumer - Reading message header before deserializing","body":"<p>Is there any way to read message headers before deserializing?</p>\n<p>I have written the below code, but I am forced to deserializing here, any way to not deserialize?</p>\n<pre><code>    while (true) {\n\n        ConsumerRecords&lt;String, String&gt; consumerRecords = consumer.poll(Duration.ofSeconds(1));\n        for (ConsumerRecord&lt;String, String&gt; consumerRecord : consumerRecords) {\n            for (Header header : consumerRecord.headers()) {\n                if (header.key().equals(&quot;my header&quot;)) {\n                    String data = &quot;\\n New record received .. \\n&quot; +\n                            &quot; Value: &quot; + consumerRecord.value() +\n                            &quot; Topic: &quot; + consumerRecord.topic() +\n                            &quot; Header: &quot; + header.key() +\n                            &quot; Partition: &quot; + consumerRecord.partition();\n\n                    logger.info(data);\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","interface","default-value"],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645631734,"creation_date":1645631173,"answer_id":71240039,"question_id":71239952,"body_markdown":"When you implement an interface you need to define all methods with exactly the same signature declared in the interface.\r\n\r\nSo the class\r\n```\r\n    public class AdultBookList implements BookService {\r\n\r\n         List&lt;Book&gt; search(int numberOfBooks, \r\n                           List&lt;Book&gt; sourceOneResultSet, \r\n                           List&lt;Book&gt; sourceTwoResultSet) {\r\n       .....\r\n     }\r\n }\r\n```\r\nis not a valid implementation of the interface `BookService` because the method search has a different signature.\r\n\r\nYou can solve it in different ways.\r\n\r\nFirst way is to overload the method search in the interface and provide also the method without the childLimitPages parameter. In the implementations you can throw an exception in the AdultBookList if you are calling the method with the childLimitPages. But I suggest you a more elegant way to solve it in the second way.\r\n\r\nSecond way is to replace all the parameters with an object wrapping them. In this object you can define default values, so when it is not explicitly set the value it takes the default value, so something like:\r\n\r\n\r\n    public interface BookService {\r\n        List&lt;Book&gt; search(SearchRequest request);\r\n    }\r\n\r\n    ...\r\n    public class SearchRequest {\r\n        // I replaced int with Integer to hold also null values\r\n        private Integer childLimitPages;\r\n\r\n        // Defining a default value\r\n        private int numberOfBooks = 10;\r\n        private List&lt;Book&gt; sourceOneResultSet;\r\n        private List&lt;Book&gt; sourceTwoResultSet;\r\n\r\n        ...\r\n    }\r\n\r\n\r\n","title":"Using interface correct in java","body":"<p>When you implement an interface you need to define all methods with exactly the same signature declared in the interface.</p>\n<p>So the class</p>\n<pre><code>    public class AdultBookList implements BookService {\n\n         List&lt;Book&gt; search(int numberOfBooks, \n                           List&lt;Book&gt; sourceOneResultSet, \n                           List&lt;Book&gt; sourceTwoResultSet) {\n       .....\n     }\n }\n</code></pre>\n<p>is not a valid implementation of the interface <code>BookService</code> because the method search has a different signature.</p>\n<p>You can solve it in different ways.</p>\n<p>First way is to overload the method search in the interface and provide also the method without the childLimitPages parameter. In the implementations you can throw an exception in the AdultBookList if you are calling the method with the childLimitPages. But I suggest you a more elegant way to solve it in the second way.</p>\n<p>Second way is to replace all the parameters with an object wrapping them. In this object you can define default values, so when it is not explicitly set the value it takes the default value, so something like:</p>\n<pre><code>public interface BookService {\n    List&lt;Book&gt; search(SearchRequest request);\n}\n\n...\npublic class SearchRequest {\n    // I replaced int with Integer to hold also null values\n    private Integer childLimitPages;\n\n    // Defining a default value\n    private int numberOfBooks = 10;\n    private List&lt;Book&gt; sourceOneResultSet;\n    private List&lt;Book&gt; sourceTwoResultSet;\n\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645632265,"creation_date":1645631951,"answer_id":71240247,"question_id":71239952,"body_markdown":"You could define the first argument as `Optional&lt;Integer&gt;` and assert that in the AdultBookService the value in the Optional is present.\r\n\r\n    public interface BookService {\r\n    \tList&lt;Book&gt; search(Optional&lt;Integer&gt; limit, int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB);\r\n    }\r\n    \r\n    public class AdultBookList implements BookService {\r\n    \r\n    \tList&lt;Book&gt; search(Optional&lt;Integer&gt; limit, int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB) {\r\n    \t}\r\n    }\r\n    \r\n    public class ChildrenBookList implements BookService {\r\n    \r\n    \tList&lt;Book&gt; search(Optional&lt;Integer&gt; childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB) {\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nI like my APIs to have optional arguments at the end. And to redirect the calls to an internal computation where the optionals are resolved. Like so:\r\n\r\n    public class AdultBookList implements BookService {\r\n    \r\n    \tList&lt;Book&gt; search(int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB, Optional&lt;Integer&gt; limit) {\r\n    \t\tif (limit.isEmpty())\r\n    \t\t{\r\n    \t\t\tSystem.err.printf(&quot;The limit should have been set!&quot;);\r\n    \t\t\treturn Collections.emptyList();\r\n    \t\t}\r\n    \t\treturn internalSearch(numberOfBooks, sourceA, sourceB, limit.get());\r\n    \t}\r\n    \r\n    \tprivate List&lt;Book&gt; search(int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB, int limit) {\r\n    \t\t\r\n    \t}\r\n    }","title":"Using interface correct in java","body":"<p>You could define the first argument as <code>Optional&lt;Integer&gt;</code> and assert that in the AdultBookService the value in the Optional is present.</p>\n<pre><code>public interface BookService {\n    List&lt;Book&gt; search(Optional&lt;Integer&gt; limit, int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB);\n}\n\npublic class AdultBookList implements BookService {\n\n    List&lt;Book&gt; search(Optional&lt;Integer&gt; limit, int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB) {\n    }\n}\n\npublic class ChildrenBookList implements BookService {\n\n    List&lt;Book&gt; search(Optional&lt;Integer&gt; childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB) {\n    }\n}\n</code></pre>\n<p>I like my APIs to have optional arguments at the end. And to redirect the calls to an internal computation where the optionals are resolved. Like so:</p>\n<pre><code>public class AdultBookList implements BookService {\n\n    List&lt;Book&gt; search(int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB, Optional&lt;Integer&gt; limit) {\n        if (limit.isEmpty())\n        {\n            System.err.printf(&quot;The limit should have been set!&quot;);\n            return Collections.emptyList();\n        }\n        return internalSearch(numberOfBooks, sourceA, sourceB, limit.get());\n    }\n\n    private List&lt;Book&gt; search(int numberOfBooks, List&lt;Book&gt; sourceA, List&lt;Book&gt; sourceB, int limit) {\n        \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645637678,"creation_date":1645637678,"answer_id":71241641,"question_id":71239952,"body_markdown":"Define multiple methods on your interface.\r\n\r\nYou have two different behaviors, so you must offer two different methods. Instead of one `search` method, offer `searchForPageCount` and `searchByNumberOfBooks`.\r\n\r\n```java\r\npublic interface BookService {\r\n\r\n    List&lt;Book&gt; searchForPageCount ( int childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet ) ;\r\n\r\n    List&lt;Book&gt; searchByNumberOfBooks ( int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet ) ;\r\n\r\n}\r\n```\r\n\r\n","title":"Using interface correct in java","body":"<p>Define multiple methods on your interface.</p>\n<p>You have two different behaviors, so you must offer two different methods. Instead of one <code>search</code> method, offer <code>searchForPageCount</code> and <code>searchByNumberOfBooks</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface BookService {\n\n    List&lt;Book&gt; searchForPageCount ( int childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet ) ;\n\n    List&lt;Book&gt; searchByNumberOfBooks ( int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet ) ;\n\n}\n</code></pre>\n"}],"owner":{"account_id":2061472,"reputation":973,"user_id":1837898,"accept_rate":64,"display_name":"userit1985"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1645637678,"creation_date":1645630847,"question_id":71239952,"body_markdown":"Having this interface \r\n\r\n    public interface BookService {\r\n\r\n    List&lt;Book&gt; search(int childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet);\r\n    }\r\n\r\n\r\nHaving 2 implementations when one does not use variable **int childLimitPages** in its implementation.\r\n\r\n\r\n     public class AdultBookList implements BookService {\r\n\r\n     // This won&#39;t work since there is missing variable, I am asking if there is other way to provide this ask\r\n         List&lt;Book&gt; search(int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet) {\r\n           .....\r\n         }\r\n     }\r\n\r\n     public class ChildrenBookList implements BookService {\r\n\r\n         List&lt;Book&gt; search(int childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet) {\r\n           .....\r\n         }\r\n     }\r\n\r\nMy question how should I use it? Should I have 2 interface? Could I have default variable?\r\n\r\n","title":"Using interface correct in java","body":"<p>Having this interface</p>\n<pre><code>public interface BookService {\n\nList&lt;Book&gt; search(int childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet);\n}\n</code></pre>\n<p>Having 2 implementations when one does not use variable <strong>int childLimitPages</strong> in its implementation.</p>\n<pre><code> public class AdultBookList implements BookService {\n\n // This won't work since there is missing variable, I am asking if there is other way to provide this ask\n     List&lt;Book&gt; search(int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet) {\n       .....\n     }\n }\n\n public class ChildrenBookList implements BookService {\n\n     List&lt;Book&gt; search(int childLimitPages, int numberOfBooks, List&lt;Book&gt; sourceOneResultSet, List&lt;Book&gt; sourceTwoResultSet) {\n       .....\n     }\n }\n</code></pre>\n<p>My question how should I use it? Should I have 2 interface? Could I have default variable?</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645634641,"creation_date":1645634641,"answer_id":71240892,"question_id":71240683,"body_markdown":"It looks like you want\r\n\r\n```\r\npublic static &lt;T extends Animal&gt; List&lt;T&gt; doSomeWork(List&lt;T&gt; animals){\r\n    List&lt;T&gt; newAnimals = new ArrayList&lt;&gt;();\r\n    return newAnimals;\r\n}","title":"Correct Generics using for List","body":"<p>It looks like you want</p>\n<pre><code>public static &lt;T extends Animal&gt; List&lt;T&gt; doSomeWork(List&lt;T&gt; animals){\n    List&lt;T&gt; newAnimals = new ArrayList&lt;&gt;();\n    return newAnimals;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645637367,"creation_date":1645636765,"answer_id":71241424,"question_id":71240683,"body_markdown":"```\r\npublic static List&lt;? extends Animal&gt; doSomeWork(List&lt;? extends Animal&gt; animals){\r\n  List&lt;? extends Animal&gt; newAnimals = new ArrayList&lt;&gt;();\r\n```\r\n\r\nEvery time you use a `? extends Animal`, it means a different type of &quot;something that is a subclass of `Animal`&quot;. So, the type of the parameter, the type of the return value and the type of the local variable are different: you can&#39;t add things from `animals` into `newAnimals` (or vice versa), and you can&#39;t return either `animals` or `newAnimals` from the method.\r\n\r\nAlso, that return type isn&#39;t &quot;List of a particular type of animal&quot;, it&#39;s &quot;List of a particular _but unknown_ type of animal&quot;. You can&#39;t get a `List&lt;Cat&gt;` back from that, you can only ever get a `List&lt;? extends Animal&gt;`.\r\n\r\nIf you want to indicate that they are the same, you need to declare a type variable, which you use in all of the declarations.\r\n\r\n```\r\npublic static &lt;T extends Animal&gt; List&lt;T&gt; doSomeWork(List&lt;T&gt; animals){\r\n  List&lt;T&gt; newAnimals = new ArrayList&lt;&gt;();\r\n```\r\n\r\nThis is still &quot;some subclass of `Animal`&quot;, but the fact they are all referred to by the `T` means these are the _same_ subclass; and the type that is returned is the same as the type you passed in.","title":"Correct Generics using for List","body":"<pre><code>public static List&lt;? extends Animal&gt; doSomeWork(List&lt;? extends Animal&gt; animals){\n  List&lt;? extends Animal&gt; newAnimals = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Every time you use a <code>? extends Animal</code>, it means a different type of &quot;something that is a subclass of <code>Animal</code>&quot;. So, the type of the parameter, the type of the return value and the type of the local variable are different: you can't add things from <code>animals</code> into <code>newAnimals</code> (or vice versa), and you can't return either <code>animals</code> or <code>newAnimals</code> from the method.</p>\n<p>Also, that return type isn't &quot;List of a particular type of animal&quot;, it's &quot;List of a particular <em>but unknown</em> type of animal&quot;. You can't get a <code>List&lt;Cat&gt;</code> back from that, you can only ever get a <code>List&lt;? extends Animal&gt;</code>.</p>\n<p>If you want to indicate that they are the same, you need to declare a type variable, which you use in all of the declarations.</p>\n<pre><code>public static &lt;T extends Animal&gt; List&lt;T&gt; doSomeWork(List&lt;T&gt; animals){\n  List&lt;T&gt; newAnimals = new ArrayList&lt;&gt;();\n</code></pre>\n<p>This is still &quot;some subclass of <code>Animal</code>&quot;, but the fact they are all referred to by the <code>T</code> means these are the <em>same</em> subclass; and the type that is returned is the same as the type you passed in.</p>\n"},{"tags":[],"owner":{"account_id":6808649,"reputation":87,"user_id":5239651,"display_name":"denis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645636898,"creation_date":1645636898,"answer_id":71241463,"question_id":71240683,"body_markdown":"Did it in such way:\r\n\r\n    public static &lt;T extends Animal&gt; List&lt;T&gt; doSomeWork(List&lt;T&gt; animals){\r\n        List&lt;T&gt; newAnimals = new ArrayList&lt;&gt;();\r\n        for (T a : animals){\r\n            Animal castedAnimal = (Animal)a;\r\n            newAnimals.add(a);\r\n        }\r\n        return newAnimals;\r\n    }\r\n\r\nI don&#39;t like this casting... But it works","title":"Correct Generics using for List","body":"<p>Did it in such way:</p>\n<pre><code>public static &lt;T extends Animal&gt; List&lt;T&gt; doSomeWork(List&lt;T&gt; animals){\n    List&lt;T&gt; newAnimals = new ArrayList&lt;&gt;();\n    for (T a : animals){\n        Animal castedAnimal = (Animal)a;\n        newAnimals.add(a);\n    }\n    return newAnimals;\n}\n</code></pre>\n<p>I don't like this casting... But it works</p>\n"}],"owner":{"account_id":6808649,"reputation":87,"user_id":5239651,"display_name":"denis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71240892,"answer_count":3,"score":0,"last_activity_date":1645637367,"creation_date":1645633751,"question_id":71240683,"body_markdown":"I have the next code:\r\n\r\n    class Cat extends Animal{}\r\n    \r\n    List&lt;Cat&gt; oldCats = getCats();\r\n    List&lt;Cat&gt; newCats = doSomeWork(oldCats);\r\n    \r\n    public static List&lt;? extends Animal&gt; doSomeWork(List&lt;? extends Animal&gt; animals){\r\n        List&lt;? extends Animal&gt; newAnimals = new ArrayList&lt;&gt;();\r\n        for(Animal a : animals){\r\n        \tnewAnimals.add(a);\r\n        }\r\n        return newAnimals;\r\n    }\r\n\r\n\r\nI have compilation error, that required type is not correct.\r\n\r\n    Required type:List&lt;Cat&gt;\r\n    Provided:List&lt;capture of ? extends Animal&gt;\r\n\r\nHow properly tune generics for List?","title":"Correct Generics using for List","body":"<p>I have the next code:</p>\n<pre><code>class Cat extends Animal{}\n\nList&lt;Cat&gt; oldCats = getCats();\nList&lt;Cat&gt; newCats = doSomeWork(oldCats);\n\npublic static List&lt;? extends Animal&gt; doSomeWork(List&lt;? extends Animal&gt; animals){\n    List&lt;? extends Animal&gt; newAnimals = new ArrayList&lt;&gt;();\n    for(Animal a : animals){\n        newAnimals.add(a);\n    }\n    return newAnimals;\n}\n</code></pre>\n<p>I have compilation error, that required type is not correct.</p>\n<pre><code>Required type:List&lt;Cat&gt;\nProvided:List&lt;capture of ? extends Animal&gt;\n</code></pre>\n<p>How properly tune generics for List?</p>\n"},{"tags":["java","unirest","intercom"],"comments":[{"owner":{"account_id":18591738,"reputation":270,"user_id":13548794,"display_name":"libanbn"},"score":0,"creation_date":1591281210,"post_id":62197117,"comment_id":110001862,"body_markdown":"If you print out the body when you get error 500, what do you get?","body":"If you print out the body when you get error 500, what do you get?"},{"owner":{"account_id":5200903,"reputation":77,"user_id":4160298,"display_name":"lazy"},"score":0,"creation_date":1591281452,"post_id":62197117,"comment_id":110001991,"body_markdown":"@libanbn this one {\n &quot;query&quot;:  {\n    &quot;operator&quot;: &quot;AND&quot;,\n    &quot;value&quot;: [\n       {\n\t\t&quot;field&quot;: &quot;updated_at&quot;,\n    \t&quot;operator&quot;: &quot;&gt;&quot;,\n    \t&quot;value&quot;: 1590278400\n\t  }, \n      {\n        &quot;field&quot;: &quot;source.delivered_as&quot;,\n        &quot;operator&quot;: &quot;=&quot;,\n        &quot;value&quot;: &quot;admin_initiated&quot;\n      }\n    ]\n  }\n}","body":"@libanbn this one {  &quot;query&quot;:  {     &quot;operator&quot;: &quot;AND&quot;,     &quot;value&quot;: [        { \t\t&quot;field&quot;: &quot;updated_at&quot;,     \t&quot;operator&quot;: &quot;&gt;&quot;,     \t&quot;value&quot;: 1590278400 \t  },        {         &quot;field&quot;: &quot;source.delivered_as&quot;,         &quot;operator&quot;: &quot;=&quot;,         &quot;value&quot;: &quot;admin_initiated&quot;       }     ]   } }"}],"answers":[{"tags":[],"owner":{"account_id":5200903,"reputation":77,"user_id":4160298,"display_name":"lazy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591364976,"creation_date":1591364976,"answer_id":62216895,"question_id":62197117,"body_markdown":"The problem turns out to be my UNIX date long value wherein the correct value should be the Epoch seconds. So from `myDate.getTime()` I changed it to `myDate.toInstant().getEpochSecond()`.","title":"Unirest Java POST request for Intercom API return error 500","body":"<p>The problem turns out to be my UNIX date long value wherein the correct value should be the Epoch seconds. So from <code>myDate.getTime()</code> I changed it to <code>myDate.toInstant().getEpochSecond()</code>.</p>\n"}],"owner":{"account_id":5200903,"reputation":77,"user_id":4160298,"display_name":"lazy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62216895,"answer_count":1,"score":0,"last_activity_date":1645637205,"creation_date":1591280783,"question_id":62197117,"body_markdown":"I&#39;m currently trying to do a POST request on [Intercom API][1] using [unirest][2] for java and It returns a server error 500 but when I do the same request with Postman it returns my desired results.\r\n\r\nSample code:\r\n\r\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n    headers.put(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    headers.put(&quot;Authorization&quot;, &quot;Bearer XXXXXXXXXXXXXXXXXXXXXXX&quot;);\r\n\r\n    HttpResponse response = Unirest\r\n                  .post(&quot;https://api.intercom.io/conversations/search&quot;)\r\n                  .headers(headers)\r\n                  .body(requestBody)\r\n                  .asObject(HashMap.class);\r\n\r\nThis is my request body\r\n\r\n    private Map&lt;String, Object&gt; getQueryValues(String field, String operator, Object value) {\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;field&quot;, field);\r\n        map.put(&quot;operator&quot;, operator);\r\n        map.put(&quot;value&quot;, value);\r\n\r\n        return map;\r\n    }\r\n\r\n    private Map&lt;String, Object&gt; getRequestBody() {\r\n        List&lt;Map&lt;String, Object&gt;&gt; value = new ArrayList&lt;&gt;();\r\n        value.add(getQueryValues(&quot;updated_at&quot;, &quot;&gt;&quot;, 1590278400));\r\n        value.add(getQueryValues(&quot;source.delivered_as&quot;, &quot;=&quot;, &quot;admin_initiated&quot;));\r\n\r\n        Map&lt;String, Object&gt; query = new HashMap&lt;&gt;();\r\n        query.put(&quot;operator&quot;, &quot;AND&quot;);\r\n        query.put(&quot;value&quot;, value);\r\n\r\n        Map&lt;String, Object&gt; requestBody = new HashMap&lt;&gt;();\r\n        requestBody.put(&quot;query&quot;, query);\r\n\r\n        return requestBody;\r\n    }\r\n\r\n\r\n  [1]: https://api.intercom.io/conversations/search\r\n  [2]: http://kong.github.io/unirest-java/","title":"Unirest Java POST request for Intercom API return error 500","body":"<p>I'm currently trying to do a POST request on <a href=\"https://api.intercom.io/conversations/search\" rel=\"nofollow noreferrer\">Intercom API</a> using <a href=\"http://kong.github.io/unirest-java/\" rel=\"nofollow noreferrer\">unirest</a> for java and It returns a server error 500 but when I do the same request with Postman it returns my desired results.</p>\n<p>Sample code:</p>\n<pre><code>Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\nheaders.put(&quot;Accept&quot;, &quot;application/json&quot;);\nheaders.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\nheaders.put(&quot;Authorization&quot;, &quot;Bearer XXXXXXXXXXXXXXXXXXXXXXX&quot;);\n\nHttpResponse response = Unirest\n              .post(&quot;https://api.intercom.io/conversations/search&quot;)\n              .headers(headers)\n              .body(requestBody)\n              .asObject(HashMap.class);\n</code></pre>\n<p>This is my request body</p>\n<pre><code>private Map&lt;String, Object&gt; getQueryValues(String field, String operator, Object value) {\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;field&quot;, field);\n    map.put(&quot;operator&quot;, operator);\n    map.put(&quot;value&quot;, value);\n\n    return map;\n}\n\nprivate Map&lt;String, Object&gt; getRequestBody() {\n    List&lt;Map&lt;String, Object&gt;&gt; value = new ArrayList&lt;&gt;();\n    value.add(getQueryValues(&quot;updated_at&quot;, &quot;&gt;&quot;, 1590278400));\n    value.add(getQueryValues(&quot;source.delivered_as&quot;, &quot;=&quot;, &quot;admin_initiated&quot;));\n\n    Map&lt;String, Object&gt; query = new HashMap&lt;&gt;();\n    query.put(&quot;operator&quot;, &quot;AND&quot;);\n    query.put(&quot;value&quot;, value);\n\n    Map&lt;String, Object&gt; requestBody = new HashMap&lt;&gt;();\n    requestBody.put(&quot;query&quot;, query);\n\n    return requestBody;\n}\n</code></pre>\n"},{"tags":["java","logging","log4j","log4j2"],"owner":{"account_id":3009975,"reputation":21,"user_id":2553710,"display_name":"user2553710"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645637150,"creation_date":1564979027,"question_id":57352178,"body_markdown":"I have implemented log4j2 to log my records each day in a new file. But on next day previous day file is getting new records and old records file is getting archived. Instead of creating a new file with today&#39;s date. Once I restart the server, a new file with today&#39;s date gets created.\r\n\r\n\r\n&lt;Configuration status=&quot;info&quot;&gt;\r\n\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;RollingFile name=&quot;LogToRollingFile&quot;\r\n\t\t\tfileName=&quot;logs/validategoods/appHeader-${env:hostName}-${date:yyyy-MM-dd}.log&quot;\r\n\t\t\tfilePattern=&quot;logs/validategoods/${env:hostName}-${date:yyyy-MM}/appHeader-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\r\n\r\n\t\t\t&lt;PatternLayout&gt;\r\n\t\t\t\t&lt;Pattern&gt;%d %p [%t] %m%n&lt;/Pattern&gt;\r\n\t\t\t\t&lt;!-- &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt; --&gt;\r\n\t\t\t&lt;/PatternLayout&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy  interval=&quot;1&quot;/&gt;\r\n\t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;100 MB&quot; /&gt;\r\n\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\r\n\t\t&lt;RollingFile name=&quot;LogToRollingFile1&quot;\r\n\t\t\tfileName=&quot;logs/validategoods/appPayload-${env:hostName}-${date:yyyy-MM-dd.HH-mm}.log&quot;\r\n\t\t\tfilePattern=&quot;logs/validategoods/${env:hostName}-${date:yyyy-MM}/appPayload-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\r\n\t\t\t&lt;PatternLayout&gt;\r\n\t\t\t\t&lt;Pattern&gt;%d %p [%t] %m%n&lt;/Pattern&gt;\r\n\t\t\t&lt;/PatternLayout&gt;\r\n\t\t\t&lt;Policies&gt;\r\n\t\t\t\t&lt;TimeBasedTriggeringPolicy  interval=&quot;1&quot; /&gt;\r\n\t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;100 MB&quot; /&gt;\r\n\r\n\t\t\t&lt;/Policies&gt;\r\n\t\t&lt;/RollingFile&gt;\r\n\t\t&lt;Async name=&quot;Async&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;LogToRollingFile&quot; /&gt; \r\n\t\t&lt;/Async&gt;\r\n\t\t&lt;Async name=&quot;Async&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;LogToRollingFile1&quot; /&gt;\r\n\t\t&lt;/Async&gt;\r\n\r\n\t&lt;/Appenders&gt;\r\n\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;!-- avoid duplicated logs with additivity=false --&gt;\r\n\t\t&lt;Logger name=&quot;no.posten.header&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;LogToRollingFile&quot; /&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t\t&lt;Logger name=&quot;no.posten.payload&quot; level=&quot;info&quot;\r\n\t\t\tadditivity=&quot;false&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;LogToRollingFile1&quot; /&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t\t&lt;Root level=&quot;debug&quot;&gt;\r\n\r\n\t\t&lt;/Root&gt;\r\n\t&lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n\r\nI want to get a new file created each day without restarting the server.","title":"Rolling file is not creating the next day and previous day file is being written with new logs","body":"<p>I have implemented log4j2 to log my records each day in a new file. But on next day previous day file is getting new records and old records file is getting archived. Instead of creating a new file with today's date. Once I restart the server, a new file with today's date gets created.</p>\n\n<p></p>\n\n<pre><code>&lt;Appenders&gt;\n    &lt;RollingFile name=\"LogToRollingFile\"\n        fileName=\"logs/validategoods/appHeader-${env:hostName}-${date:yyyy-MM-dd}.log\"\n        filePattern=\"logs/validategoods/${env:hostName}-${date:yyyy-MM}/appHeader-%d{yyyy-MM-dd}-%i.log.gz\"&gt;\n\n        &lt;PatternLayout&gt;\n            &lt;Pattern&gt;%d %p [%t] %m%n&lt;/Pattern&gt;\n            &lt;!-- &lt;Pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/Pattern&gt; --&gt;\n        &lt;/PatternLayout&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy  interval=\"1\"/&gt;\n            &lt;SizeBasedTriggeringPolicy size=\"100 MB\" /&gt;\n\n        &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n\n    &lt;RollingFile name=\"LogToRollingFile1\"\n        fileName=\"logs/validategoods/appPayload-${env:hostName}-${date:yyyy-MM-dd.HH-mm}.log\"\n        filePattern=\"logs/validategoods/${env:hostName}-${date:yyyy-MM}/appPayload-%d{yyyy-MM-dd}-%i.log.gz\"&gt;\n        &lt;PatternLayout&gt;\n            &lt;Pattern&gt;%d %p [%t] %m%n&lt;/Pattern&gt;\n        &lt;/PatternLayout&gt;\n        &lt;Policies&gt;\n            &lt;TimeBasedTriggeringPolicy  interval=\"1\" /&gt;\n            &lt;SizeBasedTriggeringPolicy size=\"100 MB\" /&gt;\n\n        &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n    &lt;Async name=\"Async\"&gt;\n        &lt;AppenderRef ref=\"LogToRollingFile\" /&gt; \n    &lt;/Async&gt;\n    &lt;Async name=\"Async\"&gt;\n        &lt;AppenderRef ref=\"LogToRollingFile1\" /&gt;\n    &lt;/Async&gt;\n\n&lt;/Appenders&gt;\n\n&lt;Loggers&gt;\n    &lt;!-- avoid duplicated logs with additivity=false --&gt;\n    &lt;Logger name=\"no.posten.header\" level=\"info\" additivity=\"false\"&gt;\n        &lt;AppenderRef ref=\"LogToRollingFile\" /&gt;\n    &lt;/Logger&gt;\n    &lt;Logger name=\"no.posten.payload\" level=\"info\"\n        additivity=\"false\"&gt;\n        &lt;AppenderRef ref=\"LogToRollingFile1\" /&gt;\n    &lt;/Logger&gt;\n    &lt;Root level=\"debug\"&gt;\n\n    &lt;/Root&gt;\n&lt;/Loggers&gt;\n</code></pre>\n\n<p></p>\n\n<p>I want to get a new file created each day without restarting the server.</p>\n"},{"tags":["java","loops","nested"],"answers":[{"tags":[],"owner":{"account_id":6799435,"reputation":776,"user_id":5953619,"accept_rate":45,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1461034999,"creation_date":1461034999,"answer_id":36707773,"question_id":36707713,"body_markdown":"I don&#39;t think `i` and `j` are necessary in that sense...\r\n\r\n    for (int i = 0; i &lt;= userNum; i++) {\r\n        for (int j = 0; j &lt; i; j++) {\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n        System.out.println(i);\r\n    }\r\n        ","title":"Java Nested loops: Indent text","body":"<p>I don't think <code>i</code> and <code>j</code> are necessary in that sense...</p>\n\n<pre><code>for (int i = 0; i &lt;= userNum; i++) {\n    for (int j = 0; j &lt; i; j++) {\n        System.out.print(\" \");\n    }\n    System.out.println(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16396450,"reputation":189,"user_id":11843839,"display_name":"RobertB922"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1569336240,"creation_date":1569336240,"answer_id":58082876,"question_id":36707713,"body_markdown":"This is a little late but I am doing this same challenge in zybooks for school. The above code marked solved is a little off. Using that code places a space at the beginning of the iteration so it should look more like this so the &quot;whitespace&quot; doesn&#39;t differ and because &quot;int i&quot; and &quot;int j&quot; were already defined in the main string...\r\n\r\n    for (i = 0; i &lt; userNum; i++) {\r\n       for (j = 1; j &lt; i; j++) {\r\n          System.out.print(&quot; &quot;);\r\n       }\r\n       System.out.println(i);\r\n    }\r\nRemove the &quot;int&quot; from both &quot;i&quot; &amp; &quot;j&quot; because they have already been defined in your main string. You also have to make &quot;j = 1&quot; otherwise it will put a space before 0 which will have a whitespace difference. Hope this helps anyone else who comes across this challenge.\r\n    ","title":"Java Nested loops: Indent text","body":"<p>This is a little late but I am doing this same challenge in zybooks for school. The above code marked solved is a little off. Using that code places a space at the beginning of the iteration so it should look more like this so the \"whitespace\" doesn't differ and because \"int i\" and \"int j\" were already defined in the main string...</p>\n\n<pre><code>for (i = 0; i &lt; userNum; i++) {\n   for (j = 1; j &lt; i; j++) {\n      System.out.print(\" \");\n   }\n   System.out.println(i);\n}\n</code></pre>\n\n<p>Remove the \"int\" from both \"i\" &amp; \"j\" because they have already been defined in your main string. You also have to make \"j = 1\" otherwise it will put a space before 0 which will have a whitespace difference. Hope this helps anyone else who comes across this challenge.</p>\n"},{"tags":[],"owner":{"account_id":17890030,"reputation":1,"user_id":12996713,"display_name":"Sen GY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583198831,"creation_date":1583198831,"answer_id":60498842,"question_id":36707713,"body_markdown":"    for (i = 0; i &lt;= userNum; i++) {\r\n        for (j = 0; j &lt; i; j++) {\r\n                System.out.print(&quot; &quot;);  \r\n             }\r\n             System.out.println(i);\r\n          }","title":"Java Nested loops: Indent text","body":"<pre><code>for (i = 0; i &lt;= userNum; i++) {\n    for (j = 0; j &lt; i; j++) {\n            System.out.print(\" \");  \n         }\n         System.out.println(i);\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22089048,"reputation":11,"user_id":16347372,"display_name":"SonOfGoose97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625028499,"creation_date":1625028499,"answer_id":68188593,"question_id":36707713,"body_markdown":"So I actually ran the above codes in zybooks, and they didn&#39;t work because the relational operators didn&#39;t include the userNum, which threw off the result.\r\n\r\nTry this:\r\n\r\n\r\n      for (i = 0; i &lt;= userNum; ++i) {\r\n       for (j = 1; j &lt;= i; ++j) {\r\n         System.out.print(&quot; &quot;);\r\n       }\r\n       System.out.println(i);\r\n    }","title":"Java Nested loops: Indent text","body":"<p>So I actually ran the above codes in zybooks, and they didn't work because the relational operators didn't include the userNum, which threw off the result.</p>\n<p>Try this:</p>\n<pre><code>  for (i = 0; i &lt;= userNum; ++i) {\n   for (j = 1; j &lt;= i; ++j) {\n     System.out.print(&quot; &quot;);\n   }\n   System.out.println(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22982889,"reputation":21,"user_id":17109531,"display_name":"Amanpreet Singh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1633725187,"creation_date":1633725187,"answer_id":69501441,"question_id":36707713,"body_markdown":"    for (i = 0; i &lt;= userNum; i++) {\r\n       for (j = 1; j &lt;= i; j++) {\r\n         System.out.print(&quot; &quot;);\r\n       }\r\n         System.out.println(i);\r\n       }","title":"Java Nested loops: Indent text","body":"<pre><code>for (i = 0; i &lt;= userNum; i++) {\n   for (j = 1; j &lt;= i; j++) {\n     System.out.print(&quot; &quot;);\n   }\n     System.out.println(i);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20576391,"reputation":1,"user_id":15103475,"display_name":"NewCoder33"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636782413,"creation_date":1636782413,"answer_id":69951789,"question_id":36707713,"body_markdown":"After working on this problem myself for 1 and half hours, I got the code below to work correctly in zyBooks. After finishing the problem, I wanted to see what others did to solve this problem, and see that I made it more complicated than it should have been, oh well. I hope this may help anyone else that may have been thinking about the problem in the way I was thinking about it.\r\n\r\n        \r\n\r\n      userNum = scnr.nextInt();\r\n\r\n      /* Your solution goes here  */\r\n      \r\n      for (i = 0; i &lt;= userNum; ++i) {\r\n            System.out.println(i);\r\n         for (j = 0; j &lt;= i; ++j) {\r\n            if (i == userNum) {\r\n               System.out.print(&quot;&quot;);\r\n            }\r\n            else {\r\n               System.out.print(&quot; &quot;);\r\n               }\r\n         }\r\n      }\r\n         \r\n\r\n","title":"Java Nested loops: Indent text","body":"<p>After working on this problem myself for 1 and half hours, I got the code below to work correctly in zyBooks. After finishing the problem, I wanted to see what others did to solve this problem, and see that I made it more complicated than it should have been, oh well. I hope this may help anyone else that may have been thinking about the problem in the way I was thinking about it.</p>\n<pre><code>  userNum = scnr.nextInt();\n\n  /* Your solution goes here  */\n  \n  for (i = 0; i &lt;= userNum; ++i) {\n        System.out.println(i);\n     for (j = 0; j &lt;= i; ++j) {\n        if (i == userNum) {\n           System.out.print(&quot;&quot;);\n        }\n        else {\n           System.out.print(&quot; &quot;);\n           }\n     }\n  }\n     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24245990,"reputation":1,"user_id":18197713,"display_name":"Madeline Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644777412,"creation_date":1644777412,"answer_id":71103760,"question_id":36707713,"body_markdown":"&gt;This was successful when I input it in my zyBook assignment! \r\n\r\n    #include &lt;stdio.h&gt;\r\n    \r\n    int main(void) {\r\n        int userNum;\r\n        int i;\r\n        int j;\r\n    \r\n        scanf(&quot;%d&quot;, &amp;userNum);\r\n          \r\n        for (i=0; i&lt;=userNum; i++){\r\n           for (j=0; j&lt;i; j++){\r\n              printf(&quot; &quot;);\r\n           }\r\n           printf(&quot;%d\\n&quot;, i);\r\n        }\r\n    \r\n        return 0;\r\n    }","title":"Java Nested loops: Indent text","body":"<blockquote>\n<p>This was successful when I input it in my zyBook assignment!</p>\n</blockquote>\n<pre><code>#include &lt;stdio.h&gt;\n\nint main(void) {\n    int userNum;\n    int i;\n    int j;\n\n    scanf(&quot;%d&quot;, &amp;userNum);\n      \n    for (i=0; i&lt;=userNum; i++){\n       for (j=0; j&lt;i; j++){\n          printf(&quot; &quot;);\n       }\n       printf(&quot;%d\\n&quot;, i);\n    }\n\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24356485,"reputation":1,"user_id":18291572,"display_name":"TK27"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1645637017,"creation_date":1645637017,"answer_id":71241488,"question_id":36707713,"body_markdown":"`enter code here` for (i = 0; i &lt; userNum; ++i) {\r\n`enter code here` System.out.println(i);\r\n`enter code here` for (j = 1; j &lt;=i; ++j) {\r\n`enter code here` System.out.print(&quot; &quot;);\r\n}\r\n`enter code here` System.out.print(&quot; &quot;);","title":"Java Nested loops: Indent text","body":"<p><code>enter code here</code> for (i = 0; i &lt; userNum; ++i) {\n<code>enter code here</code> System.out.println(i);\n<code>enter code here</code> for (j = 1; j &lt;=i; ++j) {\n<code>enter code here</code> System.out.print(&quot; &quot;);\n}\n<code>enter code here</code> System.out.print(&quot; &quot;);</p>\n"}],"owner":{"account_id":8276711,"reputation":51,"user_id":6222655,"display_name":"bryan callahan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75596,"favorite_count":0,"down_vote_count":4,"up_vote_count":5,"closed_date":1645645470,"accepted_answer_id":36707773,"answer_count":8,"score":1,"last_activity_date":1645637017,"creation_date":1461034618,"question_id":36707713,"body_markdown":"Can anybody help me solve this problem?\r\n\r\nPrint numbers 0, 1, 2, ..., userNum as shown, with each number indented by that number of spaces. For each printed line, print the leading spaces, then the number, and then a newline. Hint: Use i and j as loop variables (initialize i and j explicitly). Note: Avoid any other spaces like spaces after the printed number. Ex: userNum = 3 prints:\r\n\r\nThe code given is as follows:\r\n\r\n    public class NestedLoop {\r\n\r\n    public static void main (String [] args) {\r\n\r\n      int userNum  = 0;\r\n      int i = 0;\r\n      int j = 0;\r\n\r\n      /* Your solution goes here  */\r\n\r\n      return;\r\n    }\r\n    }\r\n\r\n\r\nAny suggestions would be appreciated. Thank you.","title":"Java Nested loops: Indent text","body":"<p>Can anybody help me solve this problem?</p>\n\n<p>Print numbers 0, 1, 2, ..., userNum as shown, with each number indented by that number of spaces. For each printed line, print the leading spaces, then the number, and then a newline. Hint: Use i and j as loop variables (initialize i and j explicitly). Note: Avoid any other spaces like spaces after the printed number. Ex: userNum = 3 prints:</p>\n\n<p>The code given is as follows:</p>\n\n<pre><code>public class NestedLoop {\n\npublic static void main (String [] args) {\n\n  int userNum  = 0;\n  int i = 0;\n  int j = 0;\n\n  /* Your solution goes here  */\n\n  return;\n}\n}\n</code></pre>\n\n<p>Any suggestions would be appreciated. Thank you.</p>\n"},{"tags":["java","encryption","cryptography","rsa","public-key-encryption"],"comments":[{"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"score":0,"creation_date":1569341912,"post_id":58084195,"comment_id":102562872,"body_markdown":"Could you also post these values if you have still them? They can be interesting. Note: don&#39;t use them.","body":"Could you also post these values if you have still them? They can be interesting. Note: don&#39;t use them."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1593429194,"post_id":58084195,"comment_id":110768701,"body_markdown":"It means the key you generated using the code in the first part was not used in the code in the second part.","body":"It means the key you generated using the code in the first part was not used in the code in the second part."}],"answers":[{"tags":[],"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1645636951,"creation_date":1569341849,"answer_id":58084456,"question_id":58084195,"body_markdown":"This is a warning against a security catastrophe.\r\n\r\nIn RSA, we expect that the composite modulus `n` has two prime factors close to `sqrt{n} `&lt;sup&gt;*&lt;/sup&gt;, otherwise, if one prime is small then one can easily factor your modulus into `n=p q` and drive your secret exponent`d` , BOOM.\r\n\r\nRun the key-gen, again. Also, prefer to use a public exponent `3, 5, 17, 257 or 65537`. This helps to have faster calculations. You [used 17489](https://www.wolframalpha.com/input/?i=17489+to+binary) which requires 4 multiplication however `65537` requires 2 - not counting the squaring.\r\n\r\nAlso, you should call\r\n\r\n    Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n\r\nor \r\n\r\n    Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\r\n\r\nnot \r\n\r\n    Cipher.getInstance(&quot;RSA&quot;);\r\n\r\nThis is insecure, malleable, and has many attacks.\r\n\r\nRSA is a trapdoor function. In encryption and signatures, it should never be used without proper padding.\r\n\r\n - For encryption, [PKCS1Padding][1] and [OAEP][2] can be used. OAEP is a better choice.\r\n - For signature use [RSA-PSS][3]\r\n\r\n**note that** [RSA Signing is Not RSA Decryption][4].\r\n\r\n**also note that:** Actually, it is not preferred to use RSA for encryption, in general, RSA is used for signatures. We combine symmetric and asymmetric encryption schemes in [Hybrid-Cryptosystem][5]. For example, one can use [Diffie-Hellman Key exchange][6] to establish a common key with [forward secrecy][7] so that the data can be encrypted with a symmetric encryption algorithm like AES which is much faster than any asymmetric cryptosystem. There is, also, [Key Encapsulation Mechanism][8] (KEM) and it is applicable to RSA, known as RSA-KEM which can be used to establish a key.\r\n\r\n---\r\n&lt;sub&gt;&lt;sup&gt;*&lt;/sup&gt;Keep in mind that if the primes are too close to each other then the Fermat Factoring is applicable&lt;/sub&gt;\r\n\r\n  [1]: https://en.wikipedia.org/wiki/PKCS_1\r\n  [2]: https://en.wikipedia.org/wiki/Optimal_asymmetric_encryption_padding\r\n  [3]: https://en.wikipedia.org/wiki/Probabilistic_signature_scheme\r\n  [4]: https://www.cs.cornell.edu/courses/cs5430/2015sp/notes/rsa_sign_vs_dec.php\r\n  [5]: https://en.wikipedia.org/wiki/Hybrid_cryptosystem\r\n  [6]: https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange\r\n  [7]: https://en.wikipedia.org/wiki/Forward_secrecy\r\n  [8]: https://en.wikipedia.org/wiki/Key_encapsulation","title":"Java RSA Cryptography: RSA modulus has a small prime factor","body":"<p>This is a warning against a security catastrophe.</p>\n<p>In RSA, we expect that the composite modulus <code>n</code> has two prime factors close to <code>sqrt{n} </code><sup>*</sup>, otherwise, if one prime is small then one can easily factor your modulus into <code>n=p q</code> and drive your secret exponent<code>d</code> , BOOM.</p>\n<p>Run the key-gen, again. Also, prefer to use a public exponent <code>3, 5, 17, 257 or 65537</code>. This helps to have faster calculations. You <a href=\"https://www.wolframalpha.com/input/?i=17489+to+binary\" rel=\"nofollow noreferrer\">used 17489</a> which requires 4 multiplication however <code>65537</code> requires 2 - not counting the squaring.</p>\n<p>Also, you should call</p>\n<pre><code>Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n</code></pre>\n<p>or</p>\n<pre><code>Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\n</code></pre>\n<p>not</p>\n<pre><code>Cipher.getInstance(&quot;RSA&quot;);\n</code></pre>\n<p>This is insecure, malleable, and has many attacks.</p>\n<p>RSA is a trapdoor function. In encryption and signatures, it should never be used without proper padding.</p>\n<ul>\n<li>For encryption, <a href=\"https://en.wikipedia.org/wiki/PKCS_1\" rel=\"nofollow noreferrer\">PKCS1Padding</a> and <a href=\"https://en.wikipedia.org/wiki/Optimal_asymmetric_encryption_padding\" rel=\"nofollow noreferrer\">OAEP</a> can be used. OAEP is a better choice.</li>\n<li>For signature use <a href=\"https://en.wikipedia.org/wiki/Probabilistic_signature_scheme\" rel=\"nofollow noreferrer\">RSA-PSS</a></li>\n</ul>\n<p><strong>note that</strong> <a href=\"https://www.cs.cornell.edu/courses/cs5430/2015sp/notes/rsa_sign_vs_dec.php\" rel=\"nofollow noreferrer\">RSA Signing is Not RSA Decryption</a>.</p>\n<p><strong>also note that:</strong> Actually, it is not preferred to use RSA for encryption, in general, RSA is used for signatures. We combine symmetric and asymmetric encryption schemes in <a href=\"https://en.wikipedia.org/wiki/Hybrid_cryptosystem\" rel=\"nofollow noreferrer\">Hybrid-Cryptosystem</a>. For example, one can use <a href=\"https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange\" rel=\"nofollow noreferrer\">Diffie-Hellman Key exchange</a> to establish a common key with <a href=\"https://en.wikipedia.org/wiki/Forward_secrecy\" rel=\"nofollow noreferrer\">forward secrecy</a> so that the data can be encrypted with a symmetric encryption algorithm like AES which is much faster than any asymmetric cryptosystem. There is, also, <a href=\"https://en.wikipedia.org/wiki/Key_encapsulation\" rel=\"nofollow noreferrer\">Key Encapsulation Mechanism</a> (KEM) and it is applicable to RSA, known as RSA-KEM which can be used to establish a key.</p>\n<hr />\n<p><sub><sup>*</sup>Keep in mind that if the primes are too close to each other then the Fermat Factoring is applicable</sub></p>\n"},{"tags":[],"owner":{"account_id":1717728,"reputation":706,"user_id":3042703,"display_name":"0xadecimal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569346002,"creation_date":1569345324,"answer_id":58085271,"question_id":58084195,"body_markdown":"To add to @kelalakas full answer, you can see the bouncy castle code that results in the exception being thrown [here][1] - the relevant logic is:\r\n\r\n\r\n        // Hexadecimal value of the product of the 131 smallest odd primes from 3 to 743\r\n    private static final BigInteger SMALL_PRIMES_PRODUCT = new BigInteger(\r\n              &quot;8138e8a0fcf3a4e84a771d40fd305d7f4aa59306d7251de54d98af8fe95729a1f&quot;\r\n            + &quot;73d893fa424cd2edc8636a6c3285e022b0e3866a565ae8108eed8591cd4fe8d2&quot;\r\n            + &quot;ce86165a978d719ebf647f362d33fca29cd179fb42401cbaf3df0c614056f9c8&quot;\r\n            + &quot;f3cfd51e474afb6bc6974f78db8aba8e9e517fded658591ab7502bd41849462f&quot;,\r\n        16);\r\n\r\n    private static final BigInteger ONE = BigInteger.valueOf(1);\r\n\r\n        if (!modulus.gcd(SMALL_PRIMES_PRODUCT).equals(ONE))\r\n          {\r\n            throw new IllegalArgumentException(&quot;RSA modulus has a small prime factor&quot;);\r\n          }\r\n\r\nSo, looking at your code, the modulus you supply (```new BigInteger(publicKeyBytes) ```)  has common factor(s) with ```SMALL_PRIMES_PRODUCT```.\r\n\r\n\r\n  [1]: http://com.android.org.bouncycastle.crypto.params.RSAKeyParameters.validate","title":"Java RSA Cryptography: RSA modulus has a small prime factor","body":"<p>To add to @kelalakas full answer, you can see the bouncy castle code that results in the exception being thrown <a href=\"http://com.android.org.bouncycastle.crypto.params.RSAKeyParameters.validate\" rel=\"nofollow noreferrer\">here</a> - the relevant logic is:</p>\n\n<pre><code>    // Hexadecimal value of the product of the 131 smallest odd primes from 3 to 743\nprivate static final BigInteger SMALL_PRIMES_PRODUCT = new BigInteger(\n          \"8138e8a0fcf3a4e84a771d40fd305d7f4aa59306d7251de54d98af8fe95729a1f\"\n        + \"73d893fa424cd2edc8636a6c3285e022b0e3866a565ae8108eed8591cd4fe8d2\"\n        + \"ce86165a978d719ebf647f362d33fca29cd179fb42401cbaf3df0c614056f9c8\"\n        + \"f3cfd51e474afb6bc6974f78db8aba8e9e517fded658591ab7502bd41849462f\",\n    16);\n\nprivate static final BigInteger ONE = BigInteger.valueOf(1);\n\n    if (!modulus.gcd(SMALL_PRIMES_PRODUCT).equals(ONE))\n      {\n        throw new IllegalArgumentException(\"RSA modulus has a small prime factor\");\n      }\n</code></pre>\n\n<p>So, looking at your code, the modulus you supply (<code>new BigInteger(publicKeyBytes)</code>)  has common factor(s) with <code>SMALL_PRIMES_PRODUCT</code>.</p>\n"}],"owner":{"account_id":9080546,"reputation":39,"user_id":6760540,"display_name":"Dinura Seneviratne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2554,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58084456,"answer_count":2,"score":1,"last_activity_date":1645636951,"creation_date":1569340829,"question_id":58084195,"body_markdown":"Trying to encrypt a message using RSA: I keep getting this error, but Im not sure what it means:\r\n\r\nCode to generate the key\r\n\r\n     \r\n        generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        RSAKeyGenParameterSpec kpgSpec = new RSAKeyGenParameterSpec(2048, BigInteger.valueOf(17489));\r\n        generator.initialize(kpgSpec);\r\n\r\n        KeyPair keyPair = generator.generateKeyPair();\r\n\r\n        publicKey = (RSAPublicKey) keyPair.getPublic();\r\n        privateKey = (RSAPrivateKey) keyPair.getPrivate();\r\n\r\nCode to Encrypt Messages\r\n\r\n    \r\n            RSAPublicKeySpec pubKeySpec = new RSAPublicKeySpec(new BigInteger(publicKeyBytes), BigInteger.valueOf(17489));\r\n\r\n        Cipher cipher;\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PublicKey currentKey = (RSAPublicKey) keyFactory.generatePublic(pubKeySpec);\r\n        cipher = Cipher.getInstance(&quot;RSA&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, currentKey);\r\n        byte[] encryptedBytes = cipher.doFinal(data.getBytes());\r\n        encrypted = bytesToString(encryptedBytes);\r\nError:\r\n\r\n    W/System.err: java.lang.IllegalArgumentException: RSA modulus has a small prime factor\r\n    W/System.err:     at com.android.org.bouncycastle.crypto.params.RSAKeyParameters.validate(RSAKeyParameters.java:46)\r\n        at com.android.org.bouncycastle.crypto.params.RSAKeyParameters.&lt;init&gt;(RSAKeyParameters.java:28)\r\n        at com.android.org.bouncycastle.jcajce.provider.asymmetric.rsa.RSAUtil.generatePublicKeyParameter(RSAUtil.java:44)\r\n        at com.android.org.bouncycastle.jcajce.provider.asymmetric.rsa.CipherSpi.engineInit(CipherSpi.java:288)\r\n        at com.android.org.bouncycastle.jcajce.provider.asymmetric.rsa.CipherSpi.engineInit(CipherSpi.java:406)\r\n\r\n        \r\n\r\n","title":"Java RSA Cryptography: RSA modulus has a small prime factor","body":"<p>Trying to encrypt a message using RSA: I keep getting this error, but Im not sure what it means:</p>\n\n<p>Code to generate the key</p>\n\n<pre><code>    generator = KeyPairGenerator.getInstance(\"RSA\");\n    RSAKeyGenParameterSpec kpgSpec = new RSAKeyGenParameterSpec(2048, BigInteger.valueOf(17489));\n    generator.initialize(kpgSpec);\n\n    KeyPair keyPair = generator.generateKeyPair();\n\n    publicKey = (RSAPublicKey) keyPair.getPublic();\n    privateKey = (RSAPrivateKey) keyPair.getPrivate();\n</code></pre>\n\n<p>Code to Encrypt Messages</p>\n\n<pre><code>        RSAPublicKeySpec pubKeySpec = new RSAPublicKeySpec(new BigInteger(publicKeyBytes), BigInteger.valueOf(17489));\n\n    Cipher cipher;\n    KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n    PublicKey currentKey = (RSAPublicKey) keyFactory.generatePublic(pubKeySpec);\n    cipher = Cipher.getInstance(\"RSA\");\n    cipher.init(Cipher.ENCRYPT_MODE, currentKey);\n    byte[] encryptedBytes = cipher.doFinal(data.getBytes());\n    encrypted = bytesToString(encryptedBytes);\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>W/System.err: java.lang.IllegalArgumentException: RSA modulus has a small prime factor\nW/System.err:     at com.android.org.bouncycastle.crypto.params.RSAKeyParameters.validate(RSAKeyParameters.java:46)\n    at com.android.org.bouncycastle.crypto.params.RSAKeyParameters.&lt;init&gt;(RSAKeyParameters.java:28)\n    at com.android.org.bouncycastle.jcajce.provider.asymmetric.rsa.RSAUtil.generatePublicKeyParameter(RSAUtil.java:44)\n    at com.android.org.bouncycastle.jcajce.provider.asymmetric.rsa.CipherSpi.engineInit(CipherSpi.java:288)\n    at com.android.org.bouncycastle.jcajce.provider.asymmetric.rsa.CipherSpi.engineInit(CipherSpi.java:406)\n</code></pre>\n"},{"tags":["java","eclipse","filenotfoundexception"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1378776260,"post_id":18709334,"comment_id":27566762,"body_markdown":"@meewoK: thank you. It still boggles my mind that the original poster never read his own question, saw that it didn&#39;t make sense, and corrected it.","body":"@meewoK: thank you. It still boggles my mind that the original poster never read his own question, saw that it didn&#39;t make sense, and corrected it."},{"owner":{"account_id":3110321,"reputation":157,"user_id":2644085,"accept_rate":60,"display_name":"user2644085"},"score":0,"creation_date":1378776485,"post_id":18709334,"comment_id":27566806,"body_markdown":"no offense, but we all start somewhere... and it&#39;s my first class.","body":"no offense, but we all start somewhere... and it&#39;s my first class."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1378776817,"post_id":18709334,"comment_id":27566860,"body_markdown":"No offense taken, but please remember that compilers are strict and unforgiving. Your question was a bit on the sloppy side, and you will want to train yourself to have low tolerance for such. Also posting a decent question, one that&#39;s easy to read and understand shows that you are taking your problem, this site and our help seriously. I look forward to watching your improvement over time.","body":"No offense taken, but please remember that compilers are strict and unforgiving. Your question was a bit on the sloppy side, and you will want to train yourself to have low tolerance for such. Also posting a decent question, one that&#39;s easy to read and understand shows that you are taking your problem, this site and our help seriously. I look forward to watching your improvement over time."}],"answers":[{"tags":[],"owner":{"account_id":1864571,"reputation":23728,"user_id":1688441,"accept_rate":82,"display_name":"Menelaos"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1378775698,"creation_date":1378775698,"answer_id":18709348,"question_id":18709334,"body_markdown":"The file should be in contained within the root of your project.\r\n\r\nWhen you execute a project in eclipse, the working directory is the most top level of your project.\r\n\r\nRight click your project, click New&gt;File, and make a txt file called &quot;TheGame.txt&quot;.","title":"java.io.FileNotFoundException: (No such file or directory) when running from eclipse","body":"<p>The file should be in contained within the root of your project.</p>\n\n<p>When you execute a project in eclipse, the working directory is the most top level of your project.</p>\n\n<p>Right click your project, click New>File, and make a txt file called \"TheGame.txt\".</p>\n"},{"tags":[],"owner":{"account_id":4144371,"reputation":11,"user_id":3398579,"display_name":"dhara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450423238,"creation_date":1394373145,"answer_id":22283023,"question_id":18709334,"body_markdown":"    // Save Image Code\r\n    btnsave = (ImageButton) findViewById(R.id.imageButton1);\r\n    btnsave.setOnClickListener(new View.OnClickListener(){\r\n    \r\n        @Override\r\n        public void onClick(View v){\r\n            //String state = Environment.getExternalStorageState();\r\n            URL url=null;\r\n    \t\ttry {\r\n    \t\t    url = new URL (testimage);\r\n    \t\t} catch (MalformedURLException e2) {\r\n    \t\t    // TODO Auto-generated catch block\r\n    \t\t    e2.printStackTrace();\r\n    \t\t} \r\n    \t\t\t\t\r\n    \t\ttry {\r\n    \t\t\tinput = url.openStream();\r\n    \t\t} catch (IOException e2) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te2.printStackTrace();\r\n    \t\t} \r\n    \t\t\t\t\r\n    \t\tString root = Environment.getExternalStorageDirectory().toString();\r\n                   \r\n            File newDir = new File(root + &quot;/KalyanPusti_Images&quot;);\r\n            newDir.mkdirs();\r\n                    \r\n            int n = 10000;\r\n            Random gen = new Random();\r\n            n = gen.nextInt(n);\r\n            String fotoname = tittle+&quot;.jpg&quot;;\r\n                    \r\n            File file = new File (newDir, fotoname);\r\n                   \r\n    \t\ttry {     \r\n    \t\t    File storagePath = Environment.getExternalStorageDirectory();\r\n    \t\t\tFileOutputStream output = new FileOutputStream (file);\r\n    \r\n    \t\t\ttry {         \r\n    \t\t\t    byte[] buffer = new byte[15000];         \r\n    \t\t\t    int bytesRead = 0;         \r\n    \t\t\t    while ((bytesRead = input.read(buffer, 0, buffer.length)) &gt;= 0){\r\n    \t\t\t        output.write(buffer, 0, bytesRead);         \r\n    \t\t\t    }  \r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t    // TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}   \r\n    \t\t\tfinally{         \r\n    \t\t\t    try {\r\n    \t\t\t\t    output.close();\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t    // TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}     \r\n    \t\t\t} \r\n            } catch (FileNotFoundException e1) {\r\n    \t\t    // TODO Auto-generated catch block\r\n    \t\t    e1.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tfinally{     \r\n    \t\t    try {\r\n    \t\t\t    input.close();\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t    // TODO Auto-generated catch block\r\n    \t\t\t    e.printStackTrace();\r\n    \t\t\t} \r\n    \t\t}  \r\n    \t}  \r\n    });\t\r\n    \t\r\n    public File getTempFile(Context context, String url) {\r\n        File file =null;\r\n    \ttry {\r\n    \t    String fileName = Uri.parse(url).getLastPathSegment();\r\n    \t    file = File.createTempFile(fileName, null, context.getCacheDir());\r\n    \t} catch (IOException e) {\r\n    \t     // Error while creating file\r\n    \t}\r\n    \treturn file;\r\n    }\r\n    \t\t\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n    \tgetMenuInflater().inflate(R.menu.fullimage, menu);\r\n    \treturn true;\r\n    }\r\n","title":"java.io.FileNotFoundException: (No such file or directory) when running from eclipse","body":"<pre><code>// Save Image Code\nbtnsave = (ImageButton) findViewById(R.id.imageButton1);\nbtnsave.setOnClickListener(new View.OnClickListener(){\n\n    @Override\n    public void onClick(View v){\n        //String state = Environment.getExternalStorageState();\n        URL url=null;\n        try {\n            url = new URL (testimage);\n        } catch (MalformedURLException e2) {\n            // TODO Auto-generated catch block\n            e2.printStackTrace();\n        } \n\n        try {\n            input = url.openStream();\n        } catch (IOException e2) {\n            // TODO Auto-generated catch block\n            e2.printStackTrace();\n        } \n\n        String root = Environment.getExternalStorageDirectory().toString();\n\n        File newDir = new File(root + \"/KalyanPusti_Images\");\n        newDir.mkdirs();\n\n        int n = 10000;\n        Random gen = new Random();\n        n = gen.nextInt(n);\n        String fotoname = tittle+\".jpg\";\n\n        File file = new File (newDir, fotoname);\n\n        try {     \n            File storagePath = Environment.getExternalStorageDirectory();\n            FileOutputStream output = new FileOutputStream (file);\n\n            try {         \n                byte[] buffer = new byte[15000];         \n                int bytesRead = 0;         \n                while ((bytesRead = input.read(buffer, 0, buffer.length)) &gt;= 0){\n                    output.write(buffer, 0, bytesRead);         \n                }  \n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }   \n            finally{         \n                try {\n                    output.close();\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }     \n            } \n        } catch (FileNotFoundException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n\n        finally{     \n            try {\n                input.close();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } \n        }  \n    }  \n}); \n\npublic File getTempFile(Context context, String url) {\n    File file =null;\n    try {\n        String fileName = Uri.parse(url).getLastPathSegment();\n        file = File.createTempFile(fileName, null, context.getCacheDir());\n    } catch (IOException e) {\n         // Error while creating file\n    }\n    return file;\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.fullimage, menu);\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18957297,"reputation":881,"user_id":13833609,"display_name":"ABDERRAHMANE OUALI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645636872,"creation_date":1645636872,"answer_id":71241454,"question_id":18709334,"body_markdown":"You need to place it inside the `src` folder that&#39;s same as `new FileOutputStream(&quot;your-file-name.txt&quot;)`\r\n\r\n\r\n-&gt; and if it is inside a folder `new FileOutputStream(&quot;./your-folder-name/your-file-name.txt&quot;)`","title":"java.io.FileNotFoundException: (No such file or directory) when running from eclipse","body":"<p>You need to place it inside the <code>src</code> folder that's same as <code>new FileOutputStream(&quot;your-file-name.txt&quot;)</code></p>\n<p>-&gt; and if it is inside a folder <code>new FileOutputStream(&quot;./your-folder-name/your-file-name.txt&quot;)</code></p>\n"}],"owner":{"account_id":3110321,"reputation":157,"user_id":2644085,"accept_rate":60,"display_name":"user2644085"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65659,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":3,"score":11,"last_activity_date":1645636872,"creation_date":1378775529,"question_id":18709334,"body_markdown":"I am writing to a file and want console output,\r\n\r\n    // TODO Create a game engine and call the runGame() method\r\n    public static void main(String[] args) throws Exception { \r\n    \tNewGame myGame = new TheGame().new NewGame();\r\n    \tmyGame.runGame();\r\n    \tPrintStream out = new PrintStream(new FileOutputStream(&quot;output.txt&quot;));\r\n    \tSystem.setOut(out);\r\n    }\r\n\r\nThis gives me console output, but it throws the following exception:\r\n\r\n    java.io.FileNotFoundException: TheGame.txt (No such file or directory)\r\n        at java.io.FileInputStream.open(Native Method)\r\n        at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\n        at game.main(TheGame.java:512)\r\n\r\nThe file does exist.","title":"java.io.FileNotFoundException: (No such file or directory) when running from eclipse","body":"<p>I am writing to a file and want console output,</p>\n\n<pre><code>// TODO Create a game engine and call the runGame() method\npublic static void main(String[] args) throws Exception { \n    NewGame myGame = new TheGame().new NewGame();\n    myGame.runGame();\n    PrintStream out = new PrintStream(new FileOutputStream(\"output.txt\"));\n    System.setOut(out);\n}\n</code></pre>\n\n<p>This gives me console output, but it throws the following exception:</p>\n\n<pre><code>java.io.FileNotFoundException: TheGame.txt (No such file or directory)\n    at java.io.FileInputStream.open(Native Method)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\n    at game.main(TheGame.java:512)\n</code></pre>\n\n<p>The file does exist.</p>\n"},{"tags":["java","json","jackson","jsonschema"],"comments":[{"owner":{"account_id":6642040,"reputation":2057,"user_id":5127499,"accept_rate":100,"display_name":"Carsten"},"score":0,"creation_date":1587676109,"post_id":61387614,"comment_id":108612958,"body_markdown":"Your expected result is not equivalent to the given parts. Under `billing_address` there should be another `properties` before the `street_address`/`city`/`state` are being listed – but your intent is clear.","body":"Your expected result is not equivalent to the given parts. Under <code>billing_address</code> there should be another <code>properties</code> before the <code>street_address</code>/<code>city</code>/<code>state</code> are being listed – but your intent is clear."}],"answers":[{"tags":[],"owner":{"account_id":6642040,"reputation":2057,"user_id":5127499,"accept_rate":100,"display_name":"Carsten"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587679264,"creation_date":1587673469,"answer_id":61396340,"question_id":61387614,"body_markdown":"There are generators in both directions:\r\n\r\n- from POJO to Schema\r\n- from Schema to POJO\r\n\r\nYou seem to be interested in neither since what you want is:\r\n\r\n- from Schema (parts) to (single) Schema\r\n\r\n----\r\n\r\nI&#39;m afraid your chances of finding an existing solution may be small.  \r\nBut you should be able to do this yourself, especially if you can make a couple of simplifying assumptions:\r\n\r\n&gt;  1. Nowhere in your data model do you have properties with the name `$ref`.\r\n&gt;  2. All your schema parts are present on the classpath – for simplicity&#39;s sake: in the same package as the java class performing\r\n&gt; the merge of the separate schema part.\r\n&gt;  3. There is no circular reference to your main/entry schema from one of its referenced other schema parts.\r\n&gt;  4. It is acceptable to include the different parts in the entry schema&#39;s `definitions`.\r\n&gt;  5. The schema parts do not have overlapping `definitions`.\r\n\r\n----\r\n\r\nThe utility could look something like this then:\r\n```java\r\npublic class SchemaMerger {\r\n\r\n    private final ObjectMapper objectMapper = new ObjectMapper();\r\n    private final Map&lt;String, ObjectNode&gt; schemas = new HashMap&lt;&gt;();\r\n    private final List&lt;ObjectNode&gt; definitions = new ArrayList&lt;&gt;();\r\n\r\n    public String createConsolidatedSchema(String entrySchemaPath) throws IOException {\r\n        ObjectNode entrySchema = this.getSchemaWithResolvedParts(entrySchemaPath);\r\n        ObjectNode consolidatedSchema = this.objectMapper.createObjectNode().setAll(entrySchema);\r\n        ObjectNode definitionsNode = consolidatedSchema.with(&quot;definitions&quot;);\r\n        this.definitions.forEach(definitionsNode::setAll);\r\n        for (Map.Entry&lt;String, ObjectNode&gt; schemaPart : this.schemas.entrySet()) {\r\n            // include schema loaded from separate file in definitions\r\n            definitionsNode.set(schemaPart.getKey(), schemaPart.getValue().without(&quot;$schema&quot;));\r\n        }\r\n        return consolidatedSchema.toPrettyString();\r\n    }\r\n\r\n    private ObjectNode getSchemaWithResolvedParts(String schemaPath) throws IOException {\r\n        ObjectNode entrySchema = (ObjectNode) this.objectMapper.readTree(SchemaMerger.loadResource(schemaPath));\r\n        this.resolveExternalReferences(entrySchema);\r\n        JsonNode definitionsNode = entrySchema.get(&quot;definitions&quot;);\r\n        if (definitionsNode instanceof ObjectNode) {\r\n            this.definitions.add((ObjectNode) definitionsNode);\r\n            entrySchema.remove(&quot;definitions&quot;);\r\n        }\r\n        return entrySchema;\r\n    }\r\n\r\n    private void resolveExternalReferences(JsonNode schemaPart) throws IOException {\r\n        if (schemaPart instanceof ObjectNode || schemaPart instanceof ArrayNode) {\r\n            // recursively iterate over all nested nodes\r\n            for (JsonNode field : schemaPart) {\r\n                this.resolveExternalReferences(field);\r\n            }\r\n        }\r\n        if (!(schemaPart instanceof ObjectNode)) {\r\n            return;\r\n        }\r\n        JsonNode reference = schemaPart.get(&quot;$ref&quot;);\r\n        if (reference instanceof TextNode) {\r\n            String referenceValue = reference.textValue();\r\n            if (!referenceValue.startsWith(&quot;#&quot;)) {\r\n                // convert reference to separate file to entry in definitions\r\n                ((ObjectNode) schemaPart).put(&quot;$ref&quot;, &quot;#/definitions/&quot; + referenceValue);\r\n                if (!this.schemas.containsKey(referenceValue)) {\r\n                    this.schemas.put(referenceValue, this.getSchemaWithResolvedParts(referenceValue));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private static String loadResource(String resourcePath) throws IOException {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        try (InputStream inputStream = SchemaMerger.class.getResourceAsStream(resourcePath);\r\n                Scanner scanner = new Scanner(inputStream, StandardCharsets.UTF_8.name())) {\r\n            while (scanner.hasNext()) {\r\n                stringBuilder.append(scanner.nextLine()).append(&#39;\\n&#39;);\r\n            }\r\n        }\r\n        return stringBuilder.toString();\r\n    }\r\n}\r\n```\r\nCalling `new SchemaMerger().createConsolidatedSchema(&quot;customer.json&quot;)` results in the following schema being generated:\r\n```json\r\n{\r\n  &quot;$schema&quot; : &quot;http://json-schema.org/draft-07/schema#&quot;,\r\n  &quot;type&quot; : &quot;object&quot;,\r\n  &quot;properties&quot; : {\r\n    &quot;billing_address&quot; : {\r\n      &quot;$ref&quot; : &quot;#/definitions/address.json&quot;\r\n    }\r\n  },\r\n  &quot;definitions&quot; : {\r\n    &quot;address.json&quot; : {\r\n      &quot;type&quot; : &quot;object&quot;,\r\n      &quot;properties&quot; : {\r\n        &quot;street_address&quot; : {\r\n          &quot;type&quot; : &quot;string&quot;\r\n        },\r\n        &quot;city&quot; : {\r\n          &quot;type&quot; : &quot;string&quot;\r\n        },\r\n        &quot;state&quot; : {\r\n          &quot;type&quot; : &quot;string&quot;\r\n        }\r\n      },\r\n      &quot;required&quot; : [ &quot;street_address&quot;, &quot;city&quot;, &quot;state&quot; ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis should give you a starting point from which to build what you need.","title":"Java: Deserialize composite JSON Schema with $ref to one single schema","body":"<p>There are generators in both directions:</p>\n\n<ul>\n<li>from POJO to Schema</li>\n<li>from Schema to POJO</li>\n</ul>\n\n<p>You seem to be interested in neither since what you want is:</p>\n\n<ul>\n<li>from Schema (parts) to (single) Schema</li>\n</ul>\n\n<hr>\n\n<p>I'm afraid your chances of finding an existing solution may be small.<br>\nBut you should be able to do this yourself, especially if you can make a couple of simplifying assumptions:</p>\n\n<blockquote>\n  <ol>\n  <li>Nowhere in your data model do you have properties with the name <code>$ref</code>.</li>\n  <li>All your schema parts are present on the classpath – for simplicity's sake: in the same package as the java class performing\n  the merge of the separate schema part.</li>\n  <li>There is no circular reference to your main/entry schema from one of its referenced other schema parts.</li>\n  <li>It is acceptable to include the different parts in the entry schema's <code>definitions</code>.</li>\n  <li>The schema parts do not have overlapping <code>definitions</code>.</li>\n  </ol>\n</blockquote>\n\n<hr>\n\n<p>The utility could look something like this then:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SchemaMerger {\n\n    private final ObjectMapper objectMapper = new ObjectMapper();\n    private final Map&lt;String, ObjectNode&gt; schemas = new HashMap&lt;&gt;();\n    private final List&lt;ObjectNode&gt; definitions = new ArrayList&lt;&gt;();\n\n    public String createConsolidatedSchema(String entrySchemaPath) throws IOException {\n        ObjectNode entrySchema = this.getSchemaWithResolvedParts(entrySchemaPath);\n        ObjectNode consolidatedSchema = this.objectMapper.createObjectNode().setAll(entrySchema);\n        ObjectNode definitionsNode = consolidatedSchema.with(\"definitions\");\n        this.definitions.forEach(definitionsNode::setAll);\n        for (Map.Entry&lt;String, ObjectNode&gt; schemaPart : this.schemas.entrySet()) {\n            // include schema loaded from separate file in definitions\n            definitionsNode.set(schemaPart.getKey(), schemaPart.getValue().without(\"$schema\"));\n        }\n        return consolidatedSchema.toPrettyString();\n    }\n\n    private ObjectNode getSchemaWithResolvedParts(String schemaPath) throws IOException {\n        ObjectNode entrySchema = (ObjectNode) this.objectMapper.readTree(SchemaMerger.loadResource(schemaPath));\n        this.resolveExternalReferences(entrySchema);\n        JsonNode definitionsNode = entrySchema.get(\"definitions\");\n        if (definitionsNode instanceof ObjectNode) {\n            this.definitions.add((ObjectNode) definitionsNode);\n            entrySchema.remove(\"definitions\");\n        }\n        return entrySchema;\n    }\n\n    private void resolveExternalReferences(JsonNode schemaPart) throws IOException {\n        if (schemaPart instanceof ObjectNode || schemaPart instanceof ArrayNode) {\n            // recursively iterate over all nested nodes\n            for (JsonNode field : schemaPart) {\n                this.resolveExternalReferences(field);\n            }\n        }\n        if (!(schemaPart instanceof ObjectNode)) {\n            return;\n        }\n        JsonNode reference = schemaPart.get(\"$ref\");\n        if (reference instanceof TextNode) {\n            String referenceValue = reference.textValue();\n            if (!referenceValue.startsWith(\"#\")) {\n                // convert reference to separate file to entry in definitions\n                ((ObjectNode) schemaPart).put(\"$ref\", \"#/definitions/\" + referenceValue);\n                if (!this.schemas.containsKey(referenceValue)) {\n                    this.schemas.put(referenceValue, this.getSchemaWithResolvedParts(referenceValue));\n                }\n            }\n        }\n    }\n\n    private static String loadResource(String resourcePath) throws IOException {\n        StringBuilder stringBuilder = new StringBuilder();\n        try (InputStream inputStream = SchemaMerger.class.getResourceAsStream(resourcePath);\n                Scanner scanner = new Scanner(inputStream, StandardCharsets.UTF_8.name())) {\n            while (scanner.hasNext()) {\n                stringBuilder.append(scanner.nextLine()).append('\\n');\n            }\n        }\n        return stringBuilder.toString();\n    }\n}\n</code></pre>\n\n<p>Calling <code>new SchemaMerger().createConsolidatedSchema(\"customer.json\")</code> results in the following schema being generated:</p>\n\n<pre><code>{\n  \"$schema\" : \"http://json-schema.org/draft-07/schema#\",\n  \"type\" : \"object\",\n  \"properties\" : {\n    \"billing_address\" : {\n      \"$ref\" : \"#/definitions/address.json\"\n    }\n  },\n  \"definitions\" : {\n    \"address.json\" : {\n      \"type\" : \"object\",\n      \"properties\" : {\n        \"street_address\" : {\n          \"type\" : \"string\"\n        },\n        \"city\" : {\n          \"type\" : \"string\"\n        },\n        \"state\" : {\n          \"type\" : \"string\"\n        }\n      },\n      \"required\" : [ \"street_address\", \"city\", \"state\" ]\n    }\n  }\n}\n</code></pre>\n\n<p>This should give you a starting point from which to build what you need.</p>\n"},{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645636737,"creation_date":1645636737,"answer_id":71241420,"question_id":61387614,"body_markdown":"Refer: [this post][1]. I have posted a possible solution. \r\n\r\nThough, as mentioned, i have not yet tried it out myself.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71241380/3883475","title":"Java: Deserialize composite JSON Schema with $ref to one single schema","body":"<p>Refer: <a href=\"https://stackoverflow.com/a/71241380/3883475\">this post</a>. I have posted a possible solution.</p>\n<p>Though, as mentioned, i have not yet tried it out myself.</p>\n"}],"owner":{"account_id":4547963,"reputation":564,"user_id":3693928,"display_name":"yevtsy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1645636737,"creation_date":1587646072,"question_id":61387614,"body_markdown":"According to the [Structuring a complex schema][1], it&#39;s possible to have the following relation:\r\n\r\n 1. Base JSON Schema (customer.json)\r\n```javascript\r\n{\r\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;billing_address&quot;: { &quot;$ref&quot;: &quot;address.json&quot; }\r\n  }\r\n}\r\n\r\n```\r\n\r\n 2. Referenced JSON Schema (address.json)\r\n```javascript\r\n{\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;street_address&quot;: { &quot;type&quot;: &quot;string&quot; },\r\n    &quot;city&quot;:           { &quot;type&quot;: &quot;string&quot; },\r\n    &quot;state&quot;:          { &quot;type&quot;: &quot;string&quot; }\r\n  },\r\n  &quot;required&quot;: [&quot;street_address&quot;, &quot;city&quot;, &quot;state&quot;]\r\n}\r\n```\r\n\r\nThe key advantage of such an approach is reusability.\r\n\r\n**The issue** appears if I want to **compose these schemas into one**. For example, I need to generate a JSON file with dummy values for all supported fields.\r\n\r\nSo, I want to have this schema as a result:\r\n```\r\n{\r\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema#&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;billing_address&quot;: { \r\n       &quot;street_address&quot;: { &quot;type&quot;: &quot;string&quot; },\r\n       &quot;city&quot;:           { &quot;type&quot;: &quot;string&quot; },\r\n       &quot;state&quot;:          { &quot;type&quot;: &quot;string&quot; }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNote that all schemas are present in the classpath. \r\n\r\nI&#39;ve been searching for existing solutions on how to do it in Java.\r\nUnfortunately, most of the libraries solve the tasks of how to generate schema by POJO. But in this case, I need the reverse one\r\n\r\n  [1]: https://json-schema.org/understanding-json-schema/structuring.html","title":"Java: Deserialize composite JSON Schema with $ref to one single schema","body":"<p>According to the <a href=\"https://json-schema.org/understanding-json-schema/structuring.html\" rel=\"nofollow noreferrer\">Structuring a complex schema</a>, it's possible to have the following relation:</p>\n\n<ol>\n<li>Base JSON Schema (customer.json)</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"billing_address\": { \"$ref\": \"address.json\" }\n  }\n}\n\n</code></pre>\n\n<ol start=\"2\">\n<li>Referenced JSON Schema (address.json)</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n  \"type\": \"object\",\n  \"properties\": {\n    \"street_address\": { \"type\": \"string\" },\n    \"city\":           { \"type\": \"string\" },\n    \"state\":          { \"type\": \"string\" }\n  },\n  \"required\": [\"street_address\", \"city\", \"state\"]\n}\n</code></pre>\n\n<p>The key advantage of such an approach is reusability.</p>\n\n<p><strong>The issue</strong> appears if I want to <strong>compose these schemas into one</strong>. For example, I need to generate a JSON file with dummy values for all supported fields.</p>\n\n<p>So, I want to have this schema as a result:</p>\n\n<pre><code>{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"billing_address\": { \n       \"street_address\": { \"type\": \"string\" },\n       \"city\":           { \"type\": \"string\" },\n       \"state\":          { \"type\": \"string\" }\n    }\n  }\n}\n</code></pre>\n\n<p>Note that all schemas are present in the classpath. </p>\n\n<p>I've been searching for existing solutions on how to do it in Java.\nUnfortunately, most of the libraries solve the tasks of how to generate schema by POJO. But in this case, I need the reverse one</p>\n"},{"tags":["java","spring-boot","unit-testing","spring-data-jpa"],"owner":{"account_id":6207652,"reputation":693,"user_id":4835062,"accept_rate":75,"display_name":"benz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1494,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645636730,"creation_date":1645632399,"question_id":71240362,"body_markdown":"I am trying to test a method which accessing the database (create/save the report object). Currently I am getting the error below. \r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resourc\r\n\r\nI tried to add the following \r\n@EnableAutoConfiguration(exclude = { DataSourceAutoConfiguration.class })\r\nannotation but without seccuss. How can I test the createReport method in my case?\r\n\r\n**coding:**\r\n\r\n    @RequestMapping(&quot;/api/reports&quot;)\r\n    @RestController\r\n    public class ReportService {\r\n    \t@Autowired\r\n    \tprivate ReportRepository reportRepo;\r\n    \t@Autowired\r\n    \tprivate MonitorSystemRepository monitorSystemRepo;\r\n    \t@Autowired\r\n    \tprivate MonitorRepository monitorRepo;\r\n    \r\n    \r\n    \t\r\n    \t@PostMapping(&quot;create-report&quot;)\r\n    \t@ResponseStatus(HttpStatus.CREATED)\r\n    \tpublic Map&lt;String, Object&gt; createReport(@RequestBody DataBase dataBase) throws UnsupportedEncodingException, JAXBException {\r\n    \t\t\r\n    \t\tMap&lt;String, Object&gt; returnMap = new HashMap&lt;String, Object&gt;();\r\n    \t\t\r\n    \t\tMonitorSytemPK monitorSytemPK = new MonitorSytemPK();\r\n    \t\tMonitor monitor = monitorRepo.findByFunctId(Long.valueOf(functionId));\r\n    \t\tmonitorSytemPK.setMonitor(monitor);\r\n    \t\tMonitorSystem monitorSystem = monitorSystemRepo.findByMonitorSytemPK(monitorSytemPK);\r\n    \t\tif (monitorSystem != null) {\r\n    \t\t\tif (monitorSystem.getSystemId() != 0)\r\n    \t\t\t\treport.setSystemId(monitorSystem.getSystemId());\r\n    \r\n    \t\t\tif (monitorSystem.getMonitorSytemPK().getMonitor() != null)\r\n    \t\t\t\treport.setMonitorTypeId(\r\n    \t\t\t\t\t\tmonitorSystem.getMonitorSytemPK().getMonitor().getFunctionMonitoringTypeId());\r\n    \t\t}\r\n    \r\n    \r\n    \t\treportRepo.save(report);\r\n    \t\t\t\r\n    \t\t\r\n    \t\t\r\n    \t\treturn returnMap;\r\n    \t}\r\n    \r\n     }\r\n     \r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    public class ReportServiceTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate ReportService reportService;\r\n    \r\n    \r\n    \t@Test\r\n    \tpublic void createReport() throws Exception {\r\n    \r\n    \t\tDataBase dataBase = new DataBase();\r\n    \t\tdataBase.setFunctionId(2);\r\n    \t\r\n    \t\tMap&lt;String, Object&gt; map = reportService.createReport(dataBase);\r\n    \t\tSystem.out.println(&quot;createReport has been called!&quot;);\r\n    \t\r\n    \t\tReport report = (Report) map.get(&quot;report&quot;);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n**Error:**\r\n\r\n    2022-02-23 16:47:15.022 ERROR 14968 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6c25e6c4] to prepare test instance [de.cockpit.services.ReportServiceTest@4b3a45f1]\r\n    \r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43) ~[spring-boot-test-autoconfigure-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:na]\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658) ~[na:na]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:369) ~[na:na]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\r\n    \tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98) ~[.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529) ~[.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756) ~[.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452) ~[.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210) ~[.cp/:na]\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:121) ~[spring-boot-test-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.14.jar:5.3.14]\r\n    \t... 72 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \t... 92 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \t... 106 common frames omitted\r\n    Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:252) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:193) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.14.jar:5.3.14]\r\n    \t... 107 common frames omitted\r\n\r\n\r\n\r\n","title":"Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resourc","body":"<p>I am trying to test a method which accessing the database (create/save the report object). Currently I am getting the error below.</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resourc\n</code></pre>\n<p>I tried to add the following\n@EnableAutoConfiguration(exclude = { DataSourceAutoConfiguration.class })\nannotation but without seccuss. How can I test the createReport method in my case?</p>\n<p><strong>coding:</strong></p>\n<pre><code>@RequestMapping(&quot;/api/reports&quot;)\n@RestController\npublic class ReportService {\n    @Autowired\n    private ReportRepository reportRepo;\n    @Autowired\n    private MonitorSystemRepository monitorSystemRepo;\n    @Autowired\n    private MonitorRepository monitorRepo;\n\n\n    \n    @PostMapping(&quot;create-report&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n    public Map&lt;String, Object&gt; createReport(@RequestBody DataBase dataBase) throws UnsupportedEncodingException, JAXBException {\n        \n        Map&lt;String, Object&gt; returnMap = new HashMap&lt;String, Object&gt;();\n        \n        MonitorSytemPK monitorSytemPK = new MonitorSytemPK();\n        Monitor monitor = monitorRepo.findByFunctId(Long.valueOf(functionId));\n        monitorSytemPK.setMonitor(monitor);\n        MonitorSystem monitorSystem = monitorSystemRepo.findByMonitorSytemPK(monitorSytemPK);\n        if (monitorSystem != null) {\n            if (monitorSystem.getSystemId() != 0)\n                report.setSystemId(monitorSystem.getSystemId());\n\n            if (monitorSystem.getMonitorSytemPK().getMonitor() != null)\n                report.setMonitorTypeId(\n                        monitorSystem.getMonitorSytemPK().getMonitor().getFunctionMonitoringTypeId());\n        }\n\n\n        reportRepo.save(report);\n            \n        \n        \n        return returnMap;\n    }\n\n }\n \n@RunWith(SpringRunner.class)\n@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\npublic class ReportServiceTest {\n\n    @Autowired\n    private ReportService reportService;\n\n\n    @Test\n    public void createReport() throws Exception {\n\n        DataBase dataBase = new DataBase();\n        dataBase.setFunctionId(2);\n    \n        Map&lt;String, Object&gt; map = reportService.createReport(dataBase);\n        System.out.println(&quot;createReport has been called!&quot;);\n    \n        Report report = (Report) map.get(&quot;report&quot;);\n\n    }\n\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>2022-02-23 16:47:15.022 ERROR 14968 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@6c25e6c4] to prepare test instance [de.cockpit.services.ReportServiceTest@4b3a45f1]\n\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:118) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43) ~[spring-boot-test-autoconfigure-2.6.2.jar:2.6.2]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at java.base/java.util.Optional.orElseGet(Optional.java:369) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60) ~[junit-platform-launcher-1.8.2.jar:1.8.2]\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98) ~[.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529) ~[.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756) ~[.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452) ~[.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210) ~[.cp/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.14.jar:5.3.14]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:412) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.2.jar:2.6.2]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:121) ~[spring-boot-test-2.6.2.jar:2.6.2]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.14.jar:5.3.14]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.14.jar:5.3.14]\n    ... 72 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.14.jar:5.3.14]\n    ... 92 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.14.jar:5.3.14]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.14.jar:5.3.14]\n    ... 106 common frames omitted\nCaused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:252) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:193) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90) ~[spring-boot-autoconfigure-2.6.2.jar:2.6.2]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.14.jar:5.3.14]\n    ... 107 common frames omitted\n</code></pre>\n"},{"tags":["java","json","serialization","json-deserialization"],"comments":[{"owner":{"account_id":3034219,"reputation":876,"user_id":2572685,"display_name":"Alexander Makarov"},"score":0,"creation_date":1601256530,"post_id":64094786,"comment_id":113340900,"body_markdown":"Is it one time task or you need to do it on periodic basis?","body":"Is it one time task or you need to do it on periodic basis?"},{"owner":{"account_id":1466631,"reputation":283,"user_id":3652852,"accept_rate":60,"display_name":"user1379280"},"score":0,"creation_date":1601257572,"post_id":64094786,"comment_id":113341073,"body_markdown":"@AlexanderMakarov Although i need it regularly , but what is the help for one time task ?","body":"@AlexanderMakarov Although i need it regularly , but what is the help for one time task ?"},{"owner":{"account_id":3034219,"reputation":876,"user_id":2572685,"display_name":"Alexander Makarov"},"score":0,"creation_date":1601258928,"post_id":64094786,"comment_id":113341287,"body_markdown":"if it&#39;s one time task, you may use tools such as Notepad++ to do the replacement; if it&#39;s regular requirement, you may write some automation on java or python","body":"if it&#39;s one time task, you may use tools such as Notepad++ to do the replacement; if it&#39;s regular requirement, you may write some automation on java or python"},{"owner":{"account_id":1466631,"reputation":283,"user_id":3652852,"accept_rate":60,"display_name":"user1379280"},"score":0,"creation_date":1601260728,"post_id":64094786,"comment_id":113341570,"body_markdown":"@AlexanderMakarov : oh that , no , It has be done in the program , not a one time task","body":"@AlexanderMakarov : oh that , no , It has be done in the program , not a one time task"}],"answers":[{"tags":[],"owner":{"account_id":3034219,"reputation":876,"user_id":2572685,"display_name":"Alexander Makarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601261554,"creation_date":1601261554,"answer_id":64095355,"question_id":64094786,"body_markdown":"There are various ways to approach this task, i.e. implement as simple automation to replace tokens on your behalf that will perform following steps:\r\n\r\n 1. Create a map (Map, HashMap) that will have token - value pairs\r\n 2. Read json via json library; that&#39;s an example how to do it - https://www.baeldung.com/java-org-json\r\n 3. Iterate through json and replace a token via replace method of java string.\r\n\r\nAnother approach is to do a replacement via external tools such as gradle that has a dedicated plugin for that. There are a bunch of plugins that can do that in gradle repository - https://plugins.gradle.org/search?term=token+replacement, for example this one https://github.com/HexoMod-tools/gradle.replace.token.preprocessor.plugin","title":"how to resolve all references for a JSON schema in java","body":"<p>There are various ways to approach this task, i.e. implement as simple automation to replace tokens on your behalf that will perform following steps:</p>\n<ol>\n<li>Create a map (Map, HashMap) that will have token - value pairs</li>\n<li>Read json via json library; that's an example how to do it - <a href=\"https://www.baeldung.com/java-org-json\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-org-json</a></li>\n<li>Iterate through json and replace a token via replace method of java string.</li>\n</ol>\n<p>Another approach is to do a replacement via external tools such as gradle that has a dedicated plugin for that. There are a bunch of plugins that can do that in gradle repository - <a href=\"https://plugins.gradle.org/search?term=token+replacement\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/search?term=token+replacement</a>, for example this one <a href=\"https://github.com/HexoMod-tools/gradle.replace.token.preprocessor.plugin\" rel=\"nofollow noreferrer\">https://github.com/HexoMod-tools/gradle.replace.token.preprocessor.plugin</a></p>\n"},{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645636601,"creation_date":1645636601,"answer_id":71241380,"question_id":64094786,"body_markdown":"Refer: [java-json-tools][1], project.\r\n\r\nThe `com.github.fge.jsonschema.core.load.RefResolver` class seems to have the functionality.\r\nRefer: [javadoc][2]\r\n\r\nI have not tried it yet, so cannot add more information.\r\n\r\n\r\n  [1]: https://github.com/java-json-tools/json-schema-core\r\n  [2]: https://java-json-tools.github.io/json-schema-core/1.2.x/com/github/fge/jsonschema/core/load/RefResolver.html","title":"how to resolve all references for a JSON schema in java","body":"<p>Refer: <a href=\"https://github.com/java-json-tools/json-schema-core\" rel=\"nofollow noreferrer\">java-json-tools</a>, project.</p>\n<p>The <code>com.github.fge.jsonschema.core.load.RefResolver</code> class seems to have the functionality.\nRefer: <a href=\"https://java-json-tools.github.io/json-schema-core/1.2.x/com/github/fge/jsonschema/core/load/RefResolver.html\" rel=\"nofollow noreferrer\">javadoc</a></p>\n<p>I have not tried it yet, so cannot add more information.</p>\n"}],"owner":{"account_id":1466631,"reputation":283,"user_id":3652852,"accept_rate":60,"display_name":"user1379280"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1895,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645636601,"creation_date":1601255836,"question_id":64094786,"body_markdown":"I have a JSON schema , which has field like\r\n\r\n 1. $schema\r\n 2. $id\r\n 3. $ref\r\n 4. $merge\r\n\r\nex\r\n\r\n    {\r\n      **&quot;$schema&quot;**: &quot;http://json-schema.org/draft-07/schema#&quot;,\r\n      **&quot;$id&quot;**: &quot;./field_name_1.json&quot;,\r\n      &quot;field_name_title&quot;: &quot;some-title&quot;,\r\n      &quot;field_name_2&quot;: &quot;some value&quot;,\r\n      &quot;field_name_3&quot;: {\r\n        &quot;field_name_4&quot;: {\r\n          &quot;field_name_5&quot;: &quot;some value&quot;,\r\n          &quot;field_name_6&quot;: &quot;some value&quot;,\r\n          &quot;field_name_7&quot;: {\r\n            &quot;field_name_8&quot;: {\r\n              &quot;field_name_9&quot;: &quot;some value&quot;,\r\n              **&quot;$ref&quot;**: &quot;/json_file_1.json&quot;\r\n            },\r\n            &quot;field_name_&quot;: {\r\n              **&quot;$ref&quot;**: &quot;/json_file_2.json&quot;\r\n            }\r\n          },\r\n          &quot;field_name_10&quot;: false\r\n        }\r\n      },\r\n      &quot;field_name_11&quot;: &quot;some value&quot;,\r\n      &quot;field_name_12&quot;: &quot;some value&quot;,\r\n      &quot;field_name_13&quot;: {\r\n        &quot;field_name_14&quot;: {\r\n          **&quot;$ref&quot;**: &quot;/json_file_3.json&quot;\r\n        },\r\n        &quot;session_data&quot;: {\r\n          **&quot;$ref&quot;**: &quot;/json_file_4.json&quot;\r\n        },\r\n        &quot;event_payload&quot;: {\r\n          **&quot;$ref&quot;**: &quot;#/field_name_3/field_name_4&quot;\r\n        }\r\n      },\r\n      &quot;field_name_15&quot;: false\r\n    }\r\n\r\nhow to resolve all references in the schema , and make a complete JSON.\r\n\r\nMain goal is to map the resolved schema in to an entity and perform crud operation for schemas","title":"how to resolve all references for a JSON schema in java","body":"<p>I have a JSON schema , which has field like</p>\n<ol>\n<li>$schema</li>\n<li>$id</li>\n<li>$ref</li>\n<li>$merge</li>\n</ol>\n<p>ex</p>\n<pre><code>{\n  **&quot;$schema&quot;**: &quot;http://json-schema.org/draft-07/schema#&quot;,\n  **&quot;$id&quot;**: &quot;./field_name_1.json&quot;,\n  &quot;field_name_title&quot;: &quot;some-title&quot;,\n  &quot;field_name_2&quot;: &quot;some value&quot;,\n  &quot;field_name_3&quot;: {\n    &quot;field_name_4&quot;: {\n      &quot;field_name_5&quot;: &quot;some value&quot;,\n      &quot;field_name_6&quot;: &quot;some value&quot;,\n      &quot;field_name_7&quot;: {\n        &quot;field_name_8&quot;: {\n          &quot;field_name_9&quot;: &quot;some value&quot;,\n          **&quot;$ref&quot;**: &quot;/json_file_1.json&quot;\n        },\n        &quot;field_name_&quot;: {\n          **&quot;$ref&quot;**: &quot;/json_file_2.json&quot;\n        }\n      },\n      &quot;field_name_10&quot;: false\n    }\n  },\n  &quot;field_name_11&quot;: &quot;some value&quot;,\n  &quot;field_name_12&quot;: &quot;some value&quot;,\n  &quot;field_name_13&quot;: {\n    &quot;field_name_14&quot;: {\n      **&quot;$ref&quot;**: &quot;/json_file_3.json&quot;\n    },\n    &quot;session_data&quot;: {\n      **&quot;$ref&quot;**: &quot;/json_file_4.json&quot;\n    },\n    &quot;event_payload&quot;: {\n      **&quot;$ref&quot;**: &quot;#/field_name_3/field_name_4&quot;\n    }\n  },\n  &quot;field_name_15&quot;: false\n}\n</code></pre>\n<p>how to resolve all references in the schema , and make a complete JSON.</p>\n<p>Main goal is to map the resolved schema in to an entity and perform crud operation for schemas</p>\n"},{"tags":["java","spring","spring-boot","logging","logstash"],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645635948,"creation_date":1645635948,"answer_id":71241212,"question_id":71130584,"body_markdown":"You cannot override the `logger` in `CommonsRequestLoggingFilter` because it is final.\r\n\r\nYou have at least two options.\r\n\r\nThe first one is to create a new class that extends `AbstractRequestLoggingFilter` and use it instead of `CommonsRequestLoggingFilter`. In this new class you can do what you wish like :\r\n\r\n        org.slf4j.Logger yourLogger = LoggerFactory.getLogger(&quot;MyRequestLoggingFilter&quot;);\r\n        ...\r\n        @Override\r\n        protected void afterRequest(HttpServletRequest request, String message) {\r\n           yourLogger.debug(message, keyValue(&quot;foo&quot;,&quot;bar&quot;));\r\n        }\r\n\r\nTo continue to use everything as it is you can use `MDC`, to add new key/values to the logger. It is not the same thing, but it will log the values. You can, for example extend `CommonsRequestLoggingFilter` and put the values in MDC, or in each &quot;context&quot; add the values, so the logger will log them.\r\n\r\nExample if extending `CommonsRequestLoggingFilter`:\r\n\r\n    \r\n    \r\n        @Override\r\n        protected void afterRequest(HttpServletRequest request, String message) {\r\n           MDC.put(&quot;orderId&quot;, &quot;123&quot;);\r\n           super.afterRequest(request, message);\r\n           MDC.remove(&quot;orderId&quot;);\r\n        }\r\n\r\n\r\n\r\nIf using JSON logger the aspect will be more or less this one:\r\n\r\n    {\r\n      ...\r\n      &quot;message&quot;: &quot;Some message&quot;,\r\n      ...\r\n      &quot;orderId&quot;: &quot;123&quot;\r\n    }\r\n\r\nThe samples were taken from the next link, where you can also get more details: https://www.innoq.com/en/blog/structured-logging/","title":"CommonsRequestLoggingFilter usage with logstash StructuredArgument","body":"<p>You cannot override the <code>logger</code> in <code>CommonsRequestLoggingFilter</code> because it is final.</p>\n<p>You have at least two options.</p>\n<p>The first one is to create a new class that extends <code>AbstractRequestLoggingFilter</code> and use it instead of <code>CommonsRequestLoggingFilter</code>. In this new class you can do what you wish like :</p>\n<pre><code>    org.slf4j.Logger yourLogger = LoggerFactory.getLogger(&quot;MyRequestLoggingFilter&quot;);\n    ...\n    @Override\n    protected void afterRequest(HttpServletRequest request, String message) {\n       yourLogger.debug(message, keyValue(&quot;foo&quot;,&quot;bar&quot;));\n    }\n</code></pre>\n<p>To continue to use everything as it is you can use <code>MDC</code>, to add new key/values to the logger. It is not the same thing, but it will log the values. You can, for example extend <code>CommonsRequestLoggingFilter</code> and put the values in MDC, or in each &quot;context&quot; add the values, so the logger will log them.</p>\n<p>Example if extending <code>CommonsRequestLoggingFilter</code>:</p>\n<pre><code>    @Override\n    protected void afterRequest(HttpServletRequest request, String message) {\n       MDC.put(&quot;orderId&quot;, &quot;123&quot;);\n       super.afterRequest(request, message);\n       MDC.remove(&quot;orderId&quot;);\n    }\n</code></pre>\n<p>If using JSON logger the aspect will be more or less this one:</p>\n<pre><code>{\n  ...\n  &quot;message&quot;: &quot;Some message&quot;,\n  ...\n  &quot;orderId&quot;: &quot;123&quot;\n}\n</code></pre>\n<p>The samples were taken from the next link, where you can also get more details: <a href=\"https://www.innoq.com/en/blog/structured-logging/\" rel=\"nofollow noreferrer\">https://www.innoq.com/en/blog/structured-logging/</a></p>\n"}],"owner":{"account_id":3589103,"reputation":726,"user_id":2995560,"display_name":"Benoit Cuvelier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71241212,"answer_count":1,"score":2,"last_activity_date":1645635948,"creation_date":1644945077,"question_id":71130584,"body_markdown":"In my SpringBoot app I use CommonsRequestLoggingFilter to log all my incomming requests and it works fine : \r\n\r\n         CommonsRequestLoggingFilter filter = new CommonsRequestLoggingFilter() {\r\n            @Override\r\n            protected boolean shouldLog(HttpServletRequest request) {\r\n            }\r\n\r\n            @Override\r\n            protected void beforeRequest(HttpServletRequest request, String message) {\r\n            }\r\n\r\n            @Override\r\n            protected void afterRequest(HttpServletRequest request, String message) {\r\n                this.logger.debug(message);\r\n            }\r\n        };\r\n\r\nBut to make debugging easier in a Kibana environnement, i would to like to append several information to the core log. At other places in my code I use `StructuredArguments` like this and it works fine : \r\n\r\n    this.logger.debug(message, keyValue(&quot;foo&quot;,&quot;bar&quot;));\r\n\r\nBut inside CommonsRequestLoggingFilter the logger used is org.apache.commons.logging.Log, that is not letting me add any parameter to my log.\r\n\r\nIs there any way to override the logger used in CommonsRequestLoggingFilter ? Or other ideas ?\r\n\r\nThanks a lot","title":"CommonsRequestLoggingFilter usage with logstash StructuredArgument","body":"<p>In my SpringBoot app I use CommonsRequestLoggingFilter to log all my incomming requests and it works fine :</p>\n<pre><code>     CommonsRequestLoggingFilter filter = new CommonsRequestLoggingFilter() {\n        @Override\n        protected boolean shouldLog(HttpServletRequest request) {\n        }\n\n        @Override\n        protected void beforeRequest(HttpServletRequest request, String message) {\n        }\n\n        @Override\n        protected void afterRequest(HttpServletRequest request, String message) {\n            this.logger.debug(message);\n        }\n    };\n</code></pre>\n<p>But to make debugging easier in a Kibana environnement, i would to like to append several information to the core log. At other places in my code I use <code>StructuredArguments</code> like this and it works fine :</p>\n<pre><code>this.logger.debug(message, keyValue(&quot;foo&quot;,&quot;bar&quot;));\n</code></pre>\n<p>But inside CommonsRequestLoggingFilter the logger used is org.apache.commons.logging.Log, that is not letting me add any parameter to my log.</p>\n<p>Is there any way to override the logger used in CommonsRequestLoggingFilter ? Or other ideas ?</p>\n<p>Thanks a lot</p>\n"},{"tags":["java","regex","azure"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645635823,"creation_date":1645606914,"answer_id":71233995,"question_id":71233702,"body_markdown":"**Solution 1**\r\n\r\nYou can use a single pattern for this, but you will need to check which group matched in the code to determine where the necessary details are captured.\r\n\r\nThe regex will look like\r\n```none\r\nabfss?://(?:([^@/]*)@(\\d{1,3}(?:\\.\\d{1,3}){3}:\\d+)/([^/]+)|([^/]+)@([^.]+)(\\.[^/]+))(?:/(.+))?\r\n```\r\nSee the [regex demo][1]. The `([^@/]*)@(\\d{1,3}(?:\\.\\d{1,3}){3}:\\d+)/([^/]+)` alternative allows capturing the file system, the IP address like part (with port number) after `@`, and the account name after a slash.\r\n\r\nThe [Java code][2] will look like\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n\r\nclass Test\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tPattern pattern = Pattern.compile(&quot;abfss?://(?:([^@/]*)@(\\\\d{1,3}(?:\\\\.\\\\d{1,3}){3}:\\\\d+)/([^/]+)|([^/]+)@([^.]+)(\\\\.[^/]+))(?:/(.+))?&quot;);\r\n\t\tString[] inputs = {\r\n\t\t    &quot;abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv&quot;,\r\n\t\t    &quot;abfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv&quot;\r\n\t\t};\r\n\t\tfor (String s: inputs) {\r\n\t\t\tMatcher matcher = pattern.matcher(s);\r\n\t\t\tif (matcher.find()){\r\n\t\t\t\tif (matcher.group(5) != null) { // If original URL is found\r\n\t\t\t        String fileSystem = matcher.group(4); //storage\r\n\t\t\t        String accountName = matcher.group(5); //myaccount\r\n\t\t\t        String accountSuffix = matcher.group(6); //.dfs.core.windows.net\r\n\t\t\t        String relativePath = matcher.group(7); //selim/test.csv\r\n\t\t\t        System.out.println(s + &quot;:\\nfileSystem: &quot; + fileSystem + &quot;\\naccountName: &quot; + accountName + &quot;\\naccountSuffix: &#39;&quot; + accountSuffix + &quot;&#39;\\nrelativePath:&quot; + relativePath + &quot;\\n-----&quot;);\r\n\t\t\t\t} else { // we have an Azurite URL\r\n\t\t\t        String fileSystem = matcher.group(1); //storage\r\n\t\t\t        String accountName = matcher.group(3); //devstoreaccount1\r\n\t\t\t        String accountSuffix = &quot;&quot;; // empty (or do you need matcher.group(2) to get &quot;127.0.0.1:10000&quot;?)\r\n\t\t\t        String relativePath = matcher.group(7); //selim/test.csv\r\n\t\t\t        System.out.println(s + &quot;:\\nfileSystem: &quot; + fileSystem + &quot;\\naccountName: &quot; + accountName + &quot;\\naccountSuffix: &#39;&quot; + accountSuffix + &quot;&#39;\\nrelativePath:&quot; + relativePath + &quot;\\n-----&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nOutput:\r\n```none\r\nabfs://storage@myaccount.dfs.core.windows.net/selim/test.csv:\r\nfileSystem: storage\r\naccountName: myaccount\r\naccountSuffix: &#39;.dfs.core.windows.net&#39;\r\nrelativePath:selim/test.csv\r\n-----\r\nabfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv:\r\nfileSystem: storage\r\naccountName: devstoreaccount1\r\naccountSuffix: &#39;&#39;\r\nrelativePath:selim/test.csv\r\n```\r\n**Solution 2**\r\n\r\nYou can use two different regular expressions and if the first one does not find a match, the second will be tried. The first one:\r\n```none\r\nabfss?://([^@/]*)@(\\d{1,3}(?:\\.\\d{1,3}){3}:\\d+)/([^/]+)(?:/(.+))?\r\n```\r\nSee [this regex demo](https://regex101.com/r/KfRaNe/3). The second one:\r\n```none\r\nabfss?://([^/]+)@([^.]+)(\\.[^/]+)(?:/(.+))?\r\n```\r\nSee [this regex demo](https://regex101.com/r/KfRaNe/4). As this one also matches URLs of the first type, you need to make sure you run them in the fixed order.\r\n\r\nSee the [Java demo][3]:\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n\r\nclass Test\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tPattern pattern_azurite = Pattern.compile(&quot;abfss?://([^@/]*)@(\\\\d{1,3}(?:\\\\.\\\\d{1,3}){3}:\\\\d+)/([^/]+)(?:/(.+))?&quot;);\r\n\t\tPattern pattern_original = Pattern.compile(&quot;abfss?://([^/]+)@([^.]+)(\\\\.[^/]+)(?:/(.+))?&quot;);\r\n\t\tString[] inputs = {\r\n\t\t    &quot;abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv&quot;,\r\n\t\t    &quot;abfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv&quot;,\r\n\t\t    &quot;http://www.blahblah.blah&quot;\r\n\t\t};\r\n\t\tfor (String s: inputs) {\r\n\t\t\tMap&lt;String, String&gt; result = null;\r\n\t\t\tMatcher matcher_azurite = pattern_azurite.matcher(s);\r\n\t\t\tif (matcher_azurite.find()){\r\n\t\t\t\tresult = parseMatchResult(matcher_azurite, new int[] {1, 3, -1, 4});\r\n\t\t\t} else {\r\n\t\t\t\tMatcher matcher_original = pattern_original.matcher(s);\r\n\t\t\t\tif (matcher_original.find()){\r\n\t\t\t\t\tresult = parseMatchResult(matcher_original, new int[] {1, 2, 3, 4});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (result != null) {                        // Now print\r\n\t\t\t\tfor (String key : result.keySet()) {\r\n\t\t\t        System.out.println(&quot;&#39;&quot; + key + &quot;&#39;: &#39;&quot; + result.get(key) + &quot;&#39;&quot;);\r\n\t\t\t    }\r\n\t\t\t    System.out.println(&quot;----------------&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;No match!&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\tpublic static Map&lt;String, String&gt; parseMatchResult(Matcher m, int[] indices) {\r\n\t\tMap&lt;String, String&gt; res = new HashMap&lt;String, String&gt;();\r\n\t    res.put(&quot;fileSystem&quot;, m.group(indices[0]));\r\n\t    res.put(&quot;accountName&quot;, m.group(indices[1]));\r\n\t    res.put(&quot;accountSuffix&quot;, indices[2] &gt; -1 ? m.group(indices[2]) : &quot;&quot;);\r\n\t    res.put(&quot;relativePath&quot;, m.group(indices[3]));\r\n\t    return res;\r\n\t}\r\n}\r\n```\r\nOutput:\r\n```none\r\n&#39;fileSystem&#39;: &#39;storage&#39;\r\n&#39;accountSuffix&#39;: &#39;.dfs.core.windows.net&#39;\r\n&#39;accountName&#39;: &#39;myaccount&#39;\r\n&#39;relativePath&#39;: &#39;selim/test.csv&#39;\r\n----------------\r\n&#39;fileSystem&#39;: &#39;storage&#39;\r\n&#39;accountSuffix&#39;: &#39;&#39;\r\n&#39;accountName&#39;: &#39;devstoreaccount1&#39;\r\n&#39;relativePath&#39;: &#39;selim/test.csv&#39;\r\n----------------\r\nNo match!\r\n```\r\n\r\n\r\n  [1]: https://regex101.com/r/KfRaNe/2\r\n  [2]: https://ideone.com/AMa1yM\r\n  [3]: https://ideone.com/tdHzQE","title":"Regex to parse Azure Data Lake Storage Gen2 URI for production and testing with Azurite","body":"<p><strong>Solution 1</strong></p>\n<p>You can use a single pattern for this, but you will need to check which group matched in the code to determine where the necessary details are captured.</p>\n<p>The regex will look like</p>\n<pre class=\"lang-none prettyprint-override\"><code>abfss?://(?:([^@/]*)@(\\d{1,3}(?:\\.\\d{1,3}){3}:\\d+)/([^/]+)|([^/]+)@([^.]+)(\\.[^/]+))(?:/(.+))?\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/KfRaNe/2\" rel=\"nofollow noreferrer\">regex demo</a>. The <code>([^@/]*)@(\\d{1,3}(?:\\.\\d{1,3}){3}:\\d+)/([^/]+)</code> alternative allows capturing the file system, the IP address like part (with port number) after <code>@</code>, and the account name after a slash.</p>\n<p>The <a href=\"https://ideone.com/AMa1yM\" rel=\"nofollow noreferrer\">Java code</a> will look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\n\nclass Test\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        Pattern pattern = Pattern.compile(&quot;abfss?://(?:([^@/]*)@(\\\\d{1,3}(?:\\\\.\\\\d{1,3}){3}:\\\\d+)/([^/]+)|([^/]+)@([^.]+)(\\\\.[^/]+))(?:/(.+))?&quot;);\n        String[] inputs = {\n            &quot;abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv&quot;,\n            &quot;abfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv&quot;\n        };\n        for (String s: inputs) {\n            Matcher matcher = pattern.matcher(s);\n            if (matcher.find()){\n                if (matcher.group(5) != null) { // If original URL is found\n                    String fileSystem = matcher.group(4); //storage\n                    String accountName = matcher.group(5); //myaccount\n                    String accountSuffix = matcher.group(6); //.dfs.core.windows.net\n                    String relativePath = matcher.group(7); //selim/test.csv\n                    System.out.println(s + &quot;:\\nfileSystem: &quot; + fileSystem + &quot;\\naccountName: &quot; + accountName + &quot;\\naccountSuffix: '&quot; + accountSuffix + &quot;'\\nrelativePath:&quot; + relativePath + &quot;\\n-----&quot;);\n                } else { // we have an Azurite URL\n                    String fileSystem = matcher.group(1); //storage\n                    String accountName = matcher.group(3); //devstoreaccount1\n                    String accountSuffix = &quot;&quot;; // empty (or do you need matcher.group(2) to get &quot;127.0.0.1:10000&quot;?)\n                    String relativePath = matcher.group(7); //selim/test.csv\n                    System.out.println(s + &quot;:\\nfileSystem: &quot; + fileSystem + &quot;\\naccountName: &quot; + accountName + &quot;\\naccountSuffix: '&quot; + accountSuffix + &quot;'\\nrelativePath:&quot; + relativePath + &quot;\\n-----&quot;);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv:\nfileSystem: storage\naccountName: myaccount\naccountSuffix: '.dfs.core.windows.net'\nrelativePath:selim/test.csv\n-----\nabfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv:\nfileSystem: storage\naccountName: devstoreaccount1\naccountSuffix: ''\nrelativePath:selim/test.csv\n</code></pre>\n<p><strong>Solution 2</strong></p>\n<p>You can use two different regular expressions and if the first one does not find a match, the second will be tried. The first one:</p>\n<pre class=\"lang-none prettyprint-override\"><code>abfss?://([^@/]*)@(\\d{1,3}(?:\\.\\d{1,3}){3}:\\d+)/([^/]+)(?:/(.+))?\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/KfRaNe/3\" rel=\"nofollow noreferrer\">this regex demo</a>. The second one:</p>\n<pre class=\"lang-none prettyprint-override\"><code>abfss?://([^/]+)@([^.]+)(\\.[^/]+)(?:/(.+))?\n</code></pre>\n<p>See <a href=\"https://regex101.com/r/KfRaNe/4\" rel=\"nofollow noreferrer\">this regex demo</a>. As this one also matches URLs of the first type, you need to make sure you run them in the fixed order.</p>\n<p>See the <a href=\"https://ideone.com/tdHzQE\" rel=\"nofollow noreferrer\">Java demo</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\n\nclass Test\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        Pattern pattern_azurite = Pattern.compile(&quot;abfss?://([^@/]*)@(\\\\d{1,3}(?:\\\\.\\\\d{1,3}){3}:\\\\d+)/([^/]+)(?:/(.+))?&quot;);\n        Pattern pattern_original = Pattern.compile(&quot;abfss?://([^/]+)@([^.]+)(\\\\.[^/]+)(?:/(.+))?&quot;);\n        String[] inputs = {\n            &quot;abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv&quot;,\n            &quot;abfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv&quot;,\n            &quot;http://www.blahblah.blah&quot;\n        };\n        for (String s: inputs) {\n            Map&lt;String, String&gt; result = null;\n            Matcher matcher_azurite = pattern_azurite.matcher(s);\n            if (matcher_azurite.find()){\n                result = parseMatchResult(matcher_azurite, new int[] {1, 3, -1, 4});\n            } else {\n                Matcher matcher_original = pattern_original.matcher(s);\n                if (matcher_original.find()){\n                    result = parseMatchResult(matcher_original, new int[] {1, 2, 3, 4});\n                }\n            }\n            if (result != null) {                        // Now print\n                for (String key : result.keySet()) {\n                    System.out.println(&quot;'&quot; + key + &quot;': '&quot; + result.get(key) + &quot;'&quot;);\n                }\n                System.out.println(&quot;----------------&quot;);\n            } else {\n                System.out.println(&quot;No match!&quot;);\n            }\n            \n        }\n    }\n    public static Map&lt;String, String&gt; parseMatchResult(Matcher m, int[] indices) {\n        Map&lt;String, String&gt; res = new HashMap&lt;String, String&gt;();\n        res.put(&quot;fileSystem&quot;, m.group(indices[0]));\n        res.put(&quot;accountName&quot;, m.group(indices[1]));\n        res.put(&quot;accountSuffix&quot;, indices[2] &gt; -1 ? m.group(indices[2]) : &quot;&quot;);\n        res.put(&quot;relativePath&quot;, m.group(indices[3]));\n        return res;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>'fileSystem': 'storage'\n'accountSuffix': '.dfs.core.windows.net'\n'accountName': 'myaccount'\n'relativePath': 'selim/test.csv'\n----------------\n'fileSystem': 'storage'\n'accountSuffix': ''\n'accountName': 'devstoreaccount1'\n'relativePath': 'selim/test.csv'\n----------------\nNo match!\n</code></pre>\n"}],"owner":{"account_id":12139477,"reputation":752,"user_id":8863925,"display_name":"Selim Alawwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71233995,"answer_count":1,"score":3,"last_activity_date":1645635823,"creation_date":1645605587,"question_id":71233702,"body_markdown":"In my Java application I am using Azure Data Lake Storage Gen2 for storage ([ABFS][1]).\r\nIn the class that handles the requests to the filesystem, I get a file path as an input and then use some regex to extract Azure connection info from it.\r\n\r\nThe [Azure Data Lake Storage Gen2 URI][2] is in the following format:\r\n\r\n    abfs[s]://&lt;file_system&gt;@&lt;account_name&gt;.dfs.core.windows.net/&lt;path&gt;/&lt;file_name&gt;\r\n\r\nI use the following regex `abfss?://([^/]+)@([^\\\\.]+)(\\\\.[^/]+)/?((.+)?)` to parse a given file path to extract:\r\n\r\n - fileSystem\r\n - accountName\r\n - accountSuffix\r\n - relativePath (path + file_name)\r\n\r\nBelow is just a test Java code with comments stating result/value in each variable after matching.\r\n\r\n    private void parsePath(String path) {\r\n        //path = abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv\r\n        Pattern azurePathPattern = Pattern.compile(&quot;abfss?://([^/]+)@([^\\\\.]+)(\\\\.[^/]+)/?((.+)?)&quot;);\r\n        Matcher matcher = azurePathPattern.matcher(path);\r\n        if (matcher.find()) {\r\n            String fileSystem = matcher.group(1); //storage\r\n            String accountName = matcher.group(2); //myaccount\r\n            String accountSuffix = matcher.group(3); //.dfs.core.windows.net\r\n            //relativePath is &lt;path&gt;/&lt;file_name&gt;\r\n            String relativePath = matcher.group(4); //selim/test.csv\r\n        }\r\n    }\r\n\r\nThe problem is when I decided to use [Azurite][3] which is an Azure Storage API compatible server (emulator) that allow me to run unit tests against this emulator instead of against an actual Azure Server as recommended in the Microsoft [documentation][4].\r\n\r\nAzurite uses a different file URI than Azure so this makes my above Regex invalid for testing purposes. Azurite file URI is in the following format:\r\n\r\n    abfs[s]://&lt;file_system&gt;@&lt;local_ip&gt;:&lt;local_port&gt;/&lt;account_name&gt;/&lt;path&gt;/&lt;file_name&gt;\r\n\r\nAzurite default `account_name` is **devstoreaccount1** so here is an example path for a file on Azurite: \r\n\r\n    abfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv\r\n\r\nIf parsed by above regex this will be the output, causing incorrect api calls to Azurite server:\r\n\r\n - fileSystem: storage (correct)\r\n - accountName: 127 (incorrect, should be: **devstoreaccount1**)\r\n - accountSuffix: .0.0.1:10000 (incorrect, should be **empty string**)\r\n - relativePath: devstoreaccount1/selim/test.csv (incorrect, should be **selim/test.csv**)\r\n\r\nIs it possible to have a 1 regex that can handle both URIs or 2 regexes to solve this issue\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-abfs-driver\r\n  [2]: https://learn.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-introduction-abfs-uri\r\n  [3]: https://github.com/Azure/Azurite\r\n  [4]: https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azurite?tabs=visual-studio","title":"Regex to parse Azure Data Lake Storage Gen2 URI for production and testing with Azurite","body":"<p>In my Java application I am using Azure Data Lake Storage Gen2 for storage (<a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-abfs-driver\" rel=\"nofollow noreferrer\">ABFS</a>).\nIn the class that handles the requests to the filesystem, I get a file path as an input and then use some regex to extract Azure connection info from it.</p>\n<p>The <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-introduction-abfs-uri\" rel=\"nofollow noreferrer\">Azure Data Lake Storage Gen2 URI</a> is in the following format:</p>\n<pre><code>abfs[s]://&lt;file_system&gt;@&lt;account_name&gt;.dfs.core.windows.net/&lt;path&gt;/&lt;file_name&gt;\n</code></pre>\n<p>I use the following regex <code>abfss?://([^/]+)@([^\\\\.]+)(\\\\.[^/]+)/?((.+)?)</code> to parse a given file path to extract:</p>\n<ul>\n<li>fileSystem</li>\n<li>accountName</li>\n<li>accountSuffix</li>\n<li>relativePath (path + file_name)</li>\n</ul>\n<p>Below is just a test Java code with comments stating result/value in each variable after matching.</p>\n<pre><code>private void parsePath(String path) {\n    //path = abfs://storage@myaccount.dfs.core.windows.net/selim/test.csv\n    Pattern azurePathPattern = Pattern.compile(&quot;abfss?://([^/]+)@([^\\\\.]+)(\\\\.[^/]+)/?((.+)?)&quot;);\n    Matcher matcher = azurePathPattern.matcher(path);\n    if (matcher.find()) {\n        String fileSystem = matcher.group(1); //storage\n        String accountName = matcher.group(2); //myaccount\n        String accountSuffix = matcher.group(3); //.dfs.core.windows.net\n        //relativePath is &lt;path&gt;/&lt;file_name&gt;\n        String relativePath = matcher.group(4); //selim/test.csv\n    }\n}\n</code></pre>\n<p>The problem is when I decided to use <a href=\"https://github.com/Azure/Azurite\" rel=\"nofollow noreferrer\">Azurite</a> which is an Azure Storage API compatible server (emulator) that allow me to run unit tests against this emulator instead of against an actual Azure Server as recommended in the Microsoft <a href=\"https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azurite?tabs=visual-studio\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>Azurite uses a different file URI than Azure so this makes my above Regex invalid for testing purposes. Azurite file URI is in the following format:</p>\n<pre><code>abfs[s]://&lt;file_system&gt;@&lt;local_ip&gt;:&lt;local_port&gt;/&lt;account_name&gt;/&lt;path&gt;/&lt;file_name&gt;\n</code></pre>\n<p>Azurite default <code>account_name</code> is <strong>devstoreaccount1</strong> so here is an example path for a file on Azurite:</p>\n<pre><code>abfs://storage@127.0.0.1:10000/devstoreaccount1/selim/test.csv\n</code></pre>\n<p>If parsed by above regex this will be the output, causing incorrect api calls to Azurite server:</p>\n<ul>\n<li>fileSystem: storage (correct)</li>\n<li>accountName: 127 (incorrect, should be: <strong>devstoreaccount1</strong>)</li>\n<li>accountSuffix: .0.0.1:10000 (incorrect, should be <strong>empty string</strong>)</li>\n<li>relativePath: devstoreaccount1/selim/test.csv (incorrect, should be <strong>selim/test.csv</strong>)</li>\n</ul>\n<p>Is it possible to have a 1 regex that can handle both URIs or 2 regexes to solve this issue</p>\n"},{"tags":["java","json","selenium-webdriver","jira-rest-api","jira-xray"],"comments":[{"owner":{"account_id":3396772,"reputation":1874,"user_id":2850180,"display_name":"S&#233;rgio"},"score":0,"creation_date":1645695829,"post_id":71239716,"comment_id":125942281,"body_markdown":"If the provided answer helped, can I kindly ask you to mark as correct? thanks in advance :)","body":"If the provided answer helped, can I kindly ask you to mark as correct? thanks in advance :)"}],"answers":[{"tags":[],"owner":{"account_id":3396772,"reputation":1874,"user_id":2850180,"display_name":"S&#233;rgio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645635701,"creation_date":1645635254,"answer_id":71241043,"question_id":71239716,"body_markdown":"Actually, the response is an array of JSON objects. Therefore you cannot parse it as JSON object.\r\nYou&#39;ll need to use the JSONArray class instead.\r\nExample:\r\n\r\n        String raw = &quot;[{\\&quot;id\\&quot;:100806,\\&quot;status\\&quot;:\\&quot;TODO\\&quot;,\\&quot;key\\&quot;:\\&quot;ST_MABC-1234\\&quot;,\\&quot;rank\\&quot;:1} ]&quot;;\r\n    \tSystem.out.println(raw);\r\n    \tJSONArray arr = new JSONArray(raw);\r\n    \tSystem.out.println( ((JSONObject)(arr.get(0))).get(&quot;id&quot;));","title":"JIRA Xray- Not a JSON Object error while making Rest API call to get Execution details","body":"<p>Actually, the response is an array of JSON objects. Therefore you cannot parse it as JSON object.\nYou'll need to use the JSONArray class instead.\nExample:</p>\n<pre><code>    String raw = &quot;[{\\&quot;id\\&quot;:100806,\\&quot;status\\&quot;:\\&quot;TODO\\&quot;,\\&quot;key\\&quot;:\\&quot;ST_MABC-1234\\&quot;,\\&quot;rank\\&quot;:1} ]&quot;;\n    System.out.println(raw);\n    JSONArray arr = new JSONArray(raw);\n    System.out.println( ((JSONObject)(arr.get(0))).get(&quot;id&quot;));\n</code></pre>\n"}],"owner":{"account_id":6987615,"reputation":69,"user_id":5357916,"accept_rate":0,"display_name":"Devkant Krishnatrey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71241043,"answer_count":1,"score":0,"last_activity_date":1645635701,"creation_date":1645629944,"question_id":71239716,"body_markdown":"Please help\r\nI am trying to fetch all tests associated with Execution in JIRA XRAY\r\n\r\nI am getting java.lang.IllegalStateException: Not a JSON Object error at step mentioned in last below(element.getAsJsonObject();)\r\n\r\n \r\n\r\n    String urlString=baseServerURL+&quot;/rest/raven/latest/api/testexec/&quot;+executionCycleKey+&quot;/test&quot;;\r\n        \t\t\tSystem.out.println(urlString);\r\n        \t\t\tHttpURLConnection con = getConnection(urlString, &quot;GET&quot;);\r\n        \t\t\tBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n        \t\t\tString inputLine;\r\n        \t\t\tStringBuffer content = new StringBuffer();\r\n        \t\t\twhile ((inputLine = in.readLine()) != null) {\r\n        \t\t\t\tSystem.out.println(inputLine.toString());\r\n        \t\t\t\tcontent.append(inputLine);\r\n        \t\t\t}\r\n        \t\t\tin.close();\r\n        \t\t\tcon.disconnect();\r\n        \t\t\tGson g = new Gson();\r\n        \t\t\tJsonElement element = g.fromJson(content.toString(), JsonElement.class);\r\n        \t\t\tJsonObject jsonObj = element.getAsJsonObject();\r\n\r\n\r\nNote: inputLine prints as [{&quot;id&quot;:100806,&quot;status&quot;:&quot;TODO&quot;,&quot;key&quot;:&quot;ST_MABC-1234&quot;,&quot;rank&quot;:1}]","title":"JIRA Xray- Not a JSON Object error while making Rest API call to get Execution details","body":"<p>Please help\nI am trying to fetch all tests associated with Execution in JIRA XRAY</p>\n<p>I am getting java.lang.IllegalStateException: Not a JSON Object error at step mentioned in last below(element.getAsJsonObject();)</p>\n<pre><code>String urlString=baseServerURL+&quot;/rest/raven/latest/api/testexec/&quot;+executionCycleKey+&quot;/test&quot;;\n                System.out.println(urlString);\n                HttpURLConnection con = getConnection(urlString, &quot;GET&quot;);\n                BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n                String inputLine;\n                StringBuffer content = new StringBuffer();\n                while ((inputLine = in.readLine()) != null) {\n                    System.out.println(inputLine.toString());\n                    content.append(inputLine);\n                }\n                in.close();\n                con.disconnect();\n                Gson g = new Gson();\n                JsonElement element = g.fromJson(content.toString(), JsonElement.class);\n                JsonObject jsonObj = element.getAsJsonObject();\n</code></pre>\n<p>Note: inputLine prints as [{&quot;id&quot;:100806,&quot;status&quot;:&quot;TODO&quot;,&quot;key&quot;:&quot;ST_MABC-1234&quot;,&quot;rank&quot;:1}]</p>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":18240753,"reputation":1164,"user_id":13277819,"display_name":"Pankaj Saini"},"score":1,"creation_date":1645676494,"post_id":71241152,"comment_id":125937403,"body_markdown":"Can you be more specific? What is the csv file format? What DDL you want to generate?","body":"Can you be more specific? What is the csv file format? What DDL you want to generate?"},{"owner":{"account_id":24356293,"reputation":1,"user_id":18291403,"display_name":"Syed"},"score":0,"creation_date":1645684373,"post_id":71241152,"comment_id":125938835,"body_markdown":"I have metadata CSV file I need to add this metadata into new database schema using java code i am unable to create the logic could you please help me","body":"I have metadata CSV file I need to add this metadata into new database schema using java code i am unable to create the logic could you please help me"},{"owner":{"account_id":7551181,"reputation":3744,"user_id":5732537,"display_name":"EdStevens"},"score":0,"creation_date":1645713612,"post_id":71241152,"comment_id":125948940,"body_markdown":"Can _you_ write code when you no nothing about the inputs or outputs?","body":"Can <i>you</i> write code when you no nothing about the inputs or outputs?"}],"owner":{"account_id":24356293,"reputation":1,"user_id":18291403,"display_name":"Syed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645635687,"creation_date":1645635687,"question_id":71241152,"body_markdown":"I need logic how to read CSV file and generate ddl command into database using java\r\n","title":"Import CSV file and generate ddl command into database using java","body":"<p>I need logic how to read CSV file and generate ddl command into database using java</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1645634264,"post_id":71239075,"comment_id":125926143,"body_markdown":"Between what versions are you attempting to upgrade? Also, where&#39;s that `record` reference defined?","body":"Between what versions are you attempting to upgrade? Also, where&#39;s that <code>record</code> reference defined?"},{"owner":{"account_id":2382240,"reputation":31,"user_id":3018172,"display_name":"user3018172"},"score":0,"creation_date":1645634610,"post_id":71239075,"comment_id":125926297,"body_markdown":"updating from java 8 to the latest java 17, so updated to the latest jooq 3.16, the record reference is being defined further up in the class containing this method, it&#39;s just a jooq Record object.","body":"updating from java 8 to the latest java 17, so updated to the latest jooq 3.16, the record reference is being defined further up in the class containing this method, it&#39;s just a jooq Record object."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1645634819,"post_id":71239075,"comment_id":125926382,"body_markdown":"OK, but what version are you updating *from*, and can you please show the exact type specification? I&#39;m assuming some raw types are involved, but I can&#39;t guess that...","body":"OK, but what version are you updating <i>from</i>, and can you please show the exact type specification? I&#39;m assuming some raw types are involved, but I can&#39;t guess that..."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1645635135,"post_id":71239075,"comment_id":125926533,"body_markdown":"I think the error is referring to the generic returned by `table.field(col)`  is not applicable for the set method.","body":"I think the error is referring to the generic returned by <code>table.field(col)</code>  is not applicable for the set method."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645635334,"creation_date":1645635334,"answer_id":71241067,"question_id":71239075,"body_markdown":"In order to answer why things used to work and no longer do, I&#39;ll need more info (see comments). You probably changed something else as well, including removed some raw type cast, etc.\r\n\r\nBut they aren&#39;t supposed to work. Look at the [`Record.set(Field&lt;T&gt;, T)`][1] and [`Fields.field(String)`][2] methods. The latter returns `Field&lt;?&gt;` with a wildcard. You can&#39;t just pass `Field&lt;?&gt;` and `boolean` to the `Record::set` method, the `T` types must match.\r\n\r\nHere&#39;s are possible workarounds for that particular call:\r\n\r\n```java\r\n// Using raw types\r\nrecord.set((Field) table.field(col), true);\r\n\r\n// Using unsafe casts\r\nrecord.set((Field&lt;Boolean&gt;) table.field(col), true);\r\n```\r\n\r\nI can&#39;t remember a jOOQ version where this wasn&#39;t required...\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Record.html#set(org.jooq.Field,T)\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Fields.html#field(java.lang.String)","title":"Can no longer set &quot;annonymous&quot; record fields","body":"<p>In order to answer why things used to work and no longer do, I'll need more info (see comments). You probably changed something else as well, including removed some raw type cast, etc.</p>\n<p>But they aren't supposed to work. Look at the <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Record.html#set(org.jooq.Field,T)\" rel=\"nofollow noreferrer\"><code>Record.set(Field&lt;T&gt;, T)</code></a> and <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Fields.html#field(java.lang.String)\" rel=\"nofollow noreferrer\"><code>Fields.field(String)</code></a> methods. The latter returns <code>Field&lt;?&gt;</code> with a wildcard. You can't just pass <code>Field&lt;?&gt;</code> and <code>boolean</code> to the <code>Record::set</code> method, the <code>T</code> types must match.</p>\n<p>Here's are possible workarounds for that particular call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Using raw types\nrecord.set((Field) table.field(col), true);\n\n// Using unsafe casts\nrecord.set((Field&lt;Boolean&gt;) table.field(col), true);\n</code></pre>\n<p>I can't remember a jOOQ version where this wasn't required...</p>\n"}],"owner":{"account_id":2382240,"reputation":31,"user_id":3018172,"display_name":"user3018172"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71241067,"answer_count":1,"score":1,"last_activity_date":1645635334,"creation_date":1645627624,"question_id":71239075,"body_markdown":"After updating Java and JOOQ a previously working function seems to run into a type casting error, specifically the lines record.set/with(or any version of setting a column) ...\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public void set_col_value(String col, String val, int options) {\r\n            final boolean optional = (options &amp; Optional_Value) != 0;\r\n            if (val == null) {\r\n                if (optional) {\r\n                    return;\r\n                }\r\n                throw new RuntimeException(&quot;missing value: &quot; + val);\r\n            }\r\n            final boolean as_bool = (options &amp; As_Boolean) != 0;\r\n            if (as_bool) {\r\n                if (val.equals(&quot;true&quot;)) {\r\n                    record.set(table.field(col), true);\r\n                } else if (val.equals(&quot;false&quot;)) {\r\n                    record.with(table.field(col), false);\r\n                } else {\r\n                    throw new RuntimeException(&quot;bad boolean value: &quot; + val);\r\n                }\r\n            } else {\r\n                record.with(table.field(col), val);\r\n            }\r\n        }\r\n\r\nthey give this error\r\n\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n        error: no suitable method found for set(Field&lt;CAP#1&gt;,boolean)\r\n                        record.set(table.field(col), true);\r\n        method Record.&lt;T#1&gt;set(Field&lt;T#1&gt;,T#1) is not applicable\r\n          (inference variable T#1 has incompatible bounds\r\n            equality constraints: CAP#2\r\n            lower bounds: Boolean)\r\n        method Record.&lt;T#2,U&gt;set(Field&lt;T#2&gt;,U,Converter&lt;? extends T#2,? super U&gt;) is not applicable\r\n          (cannot infer type-variable(s) T#2,U\r\n            (actual and formal argument lists differ in length))\r\n      where T#1,T#2,U are type-variables:\r\n        T#1 extends Object declared in method &lt;T#1&gt;set(Field&lt;T#1&gt;,T#1)\r\n        T#2 extends Object declared in method &lt;T#2,U&gt;set(Field&lt;T#2&gt;,U,Converter&lt;? extends T#2,? super U&gt;)U extends Object declared in method &lt;T#2,U&gt;set(Field&lt;T#2&gt;,U,Converter&lt;? extends T#2,? super U&gt;)\r\n      where CAP#1,CAP#2 are fresh type-variables:\r\n        CAP#1 extends Object from capture of ?\r\n        CAP#2 extends Object from capture of ?\r\n\r\n\r\n\r\n","title":"Can no longer set &quot;annonymous&quot; record fields","body":"<p>After updating Java and JOOQ a previously working function seems to run into a type casting error, specifically the lines record.set/with(or any version of setting a column) ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void set_col_value(String col, String val, int options) {\n        final boolean optional = (options &amp; Optional_Value) != 0;\n        if (val == null) {\n            if (optional) {\n                return;\n            }\n            throw new RuntimeException(&quot;missing value: &quot; + val);\n        }\n        final boolean as_bool = (options &amp; As_Boolean) != 0;\n        if (as_bool) {\n            if (val.equals(&quot;true&quot;)) {\n                record.set(table.field(col), true);\n            } else if (val.equals(&quot;false&quot;)) {\n                record.with(table.field(col), false);\n            } else {\n                throw new RuntimeException(&quot;bad boolean value: &quot; + val);\n            }\n        } else {\n            record.with(table.field(col), val);\n        }\n    }\n</code></pre>\n<p>they give this error</p>\n<pre class=\"lang-none prettyprint-override\"><code>    error: no suitable method found for set(Field&lt;CAP#1&gt;,boolean)\n                    record.set(table.field(col), true);\n    method Record.&lt;T#1&gt;set(Field&lt;T#1&gt;,T#1) is not applicable\n      (inference variable T#1 has incompatible bounds\n        equality constraints: CAP#2\n        lower bounds: Boolean)\n    method Record.&lt;T#2,U&gt;set(Field&lt;T#2&gt;,U,Converter&lt;? extends T#2,? super U&gt;) is not applicable\n      (cannot infer type-variable(s) T#2,U\n        (actual and formal argument lists differ in length))\n  where T#1,T#2,U are type-variables:\n    T#1 extends Object declared in method &lt;T#1&gt;set(Field&lt;T#1&gt;,T#1)\n    T#2 extends Object declared in method &lt;T#2,U&gt;set(Field&lt;T#2&gt;,U,Converter&lt;? extends T#2,? super U&gt;)U extends Object declared in method &lt;T#2,U&gt;set(Field&lt;T#2&gt;,U,Converter&lt;? extends T#2,? super U&gt;)\n  where CAP#1,CAP#2 are fresh type-variables:\n    CAP#1 extends Object from capture of ?\n    CAP#2 extends Object from capture of ?\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","pageobjects","page-factory"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1645639675,"post_id":71240314,"comment_id":125928520,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645635167,"creation_date":1645635167,"answer_id":71241020,"question_id":71240314,"body_markdown":"In the _`pageBase`_ pageobject as you are casting the [WebDriver](https://stackoverflow.com/a/48080871/7429447) instance you need to remove the keywords:\r\n\r\n- _public_\r\n- _static_\r\n\r\nEffectively, instead of:\r\n\r\n\tpublic static WebDriver driver;\r\n\r\nyour line of code will be:\r\n\r\n\tWebDriver driver;\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [How to wait for invisibility of an element through PageFactory using Selenium and Java](https://stackoverflow.com/a/54670978/7429447)","title":"How to handle alert message within PageObjects","body":"<p>In the <em><code>pageBase</code></em> pageobject as you are casting the <a href=\"https://stackoverflow.com/a/48080871/7429447\">WebDriver</a> instance you need to remove the keywords:</p>\n<ul>\n<li><em>public</em></li>\n<li><em>static</em></li>\n</ul>\n<p>Effectively, instead of:</p>\n<pre><code>public static WebDriver driver;\n</code></pre>\n<p>your line of code will be:</p>\n<pre><code>WebDriver driver;\n</code></pre>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/54670978/7429447\">How to wait for invisibility of an element through PageFactory using Selenium and Java</a></li>\n</ul>\n"}],"owner":{"account_id":24355561,"reputation":1,"user_id":18290806,"display_name":"Mohamed hakim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645635167,"creation_date":1645632223,"question_id":71240314,"body_markdown":"Code trials:\r\n\r\n    package Pages;\r\n    import org.openqa.selenium.Alert;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    import org.openqa.selenium.support.ui.Select;\r\n    public class pageBase {\r\n    \tpublic static WebDriver driver;\r\n    \t\r\n    \tpublic pageBase(WebDriver driver) {\r\n    \t\tPageFactory.initElements(driver, this);\r\n    \t}\r\n    \tpublic static void AcceptAlert() {\r\n    \t\tAlert alert = driver.switchTo().alert();\r\n    \t\talert.accept();\r\n    \t}\r\n    }\r\n\r\nTest page:\r\n    \t\r\n    public void SignUp(String user_name,String password) throws InterruptedException {\r\n    \tSet_UserName(user_name);\r\n    \tSet_Password(password);\r\n    \tclick_SignupBtn();\r\n    \tThread.sleep(3000);\r\n    \tAcceptAlert();\r\n    }\r\n    \r\nError:\r\n```    \t\r\njava.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.switchTo()&quot; because &quot;Pages.pageBase.driver&quot; is null\r\n```\r\n","title":"How to handle alert message within PageObjects","body":"<p>Code trials:</p>\n<pre><code>package Pages;\nimport org.openqa.selenium.Alert;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.PageFactory;\nimport org.openqa.selenium.support.ui.Select;\npublic class pageBase {\n    public static WebDriver driver;\n    \n    public pageBase(WebDriver driver) {\n        PageFactory.initElements(driver, this);\n    }\n    public static void AcceptAlert() {\n        Alert alert = driver.switchTo().alert();\n        alert.accept();\n    }\n}\n</code></pre>\n<p>Test page:</p>\n<pre><code>public void SignUp(String user_name,String password) throws InterruptedException {\n    Set_UserName(user_name);\n    Set_Password(password);\n    click_SignupBtn();\n    Thread.sleep(3000);\n    AcceptAlert();\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.switchTo()&quot; because &quot;Pages.pageBase.driver&quot; is null\n</code></pre>\n"},{"tags":["java","websocket","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645634932,"creation_date":1645634932,"answer_id":71240959,"question_id":71239626,"body_markdown":"Flink includes a built-in socket source connector. You&#39;ll find [an example showing how to use it in the documentation](https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/datastream/overview/#example-program). That&#39;s going to be easier than debugging this other implementation.\r\n\r\nAlso be aware that using sockets in production applications is not recommended, since they are unable to provide any fault tolerance guarantees (because they cannot support checkpointing).","title":"How to read websocket data using Apache Flink","body":"<p>Flink includes a built-in socket source connector. You'll find <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/datastream/overview/#example-program\" rel=\"nofollow noreferrer\">an example showing how to use it in the documentation</a>. That's going to be easier than debugging this other implementation.</p>\n<p>Also be aware that using sockets in production applications is not recommended, since they are unable to provide any fault tolerance guarantees (because they cannot support checkpointing).</p>\n"}],"owner":{"account_id":11456951,"reputation":113,"user_id":8397651,"display_name":"SRM Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71240959,"answer_count":1,"score":2,"last_activity_date":1645634932,"creation_date":1645629630,"question_id":71239626,"body_markdown":"I am trying to read data from `websocket` using `Apache Flink`\r\n\r\nMy Flink job is connecting to websocket but it is not pulling data from websocket.\r\n\r\nbelow is the sample code that I have tried to connect to websocket using Apache flink API\r\n\r\nthe run() `method` in the `RichSourceFunction` neither executing nor throwing any error.\r\n  \r\n\r\n \r\n\r\n    @Slf4j\r\n    public class Main {\r\n    \r\n        public static final int CHECKPOINTING_INTERVAL_MS = 5000;\r\n        private static final String JOB_NAME = &quot;Flink Streaming Java API Skeleton&quot;;\r\n    \r\n        /**\r\n         * Main Flink job.\r\n         *\r\n         * @param args\r\n         * @throws Exception\r\n         */\r\n        public static void main(String[] args) throws Exception {\r\n            // set up the streaming execution environment\r\n            final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n            final ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n            env.setParallelism(4);\r\n    \r\n            ParameterTool paramTool = ParameterTool.fromArgs(args);\r\n            env.getConfig().setGlobalJobParameters(paramTool);\r\n    \r\n            DataStreamSource&lt;String&gt; mySocketStream = env.addSource(new MyWebSocketSourceFunc());\r\n            mySocketStream.map(new MapIt()).print();\r\n    //        mySocketStream.print();\r\n    \r\n            env.enableCheckpointing(CHECKPOINTING_INTERVAL_MS);\r\n            env.setRestartStrategy(RestartStrategies.noRestart());\r\n            env.execute(JOB_NAME);\r\n        }\r\n    \r\n        public static class MyWebSocketSourceFunc extends RichSourceFunction&lt;String&gt; {\r\n            private boolean running = true;\r\n            transient AsyncHttpClient client;\r\n            transient BoundRequestBuilder boundRequestBuilder;\r\n            transient WebSocketUpgradeHandler.Builder webSocketListener;\r\n            private BlockingQueue&lt;String&gt; messages = new ArrayBlockingQueue&lt;&gt;(100);\r\n    \r\n            @Override\r\n            public void run(SourceContext&lt;String&gt; ctx) throws Exception {\r\n                WebSocketUpgradeHandler webSocketUpgradeHandler = webSocketListener.addWebSocketListener(\r\n                        new WebSocketListener() {\r\n    \r\n                            private final ObjectMapper myMapper = new ObjectMapper();\r\n    \r\n                            private String getRsvpId(String payload) {\r\n                                try {\r\n                                    Map map = myMapper.readValue(payload, Map.class);\r\n                                    Object rsvpId = map.get(&quot;rsvp_id&quot;);\r\n                                    return rsvpId != null ? rsvpId.toString() : &quot;NOT FOUND&quot;;\r\n                                } catch (IOException e) {\r\n                                    log.error(&quot;Mapping failed, returning &#39;null&#39;&quot;);\r\n                                    return &quot;NULL&quot;;\r\n                                }\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onOpen(WebSocket webSocket) {\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onClose(WebSocket webSocket, int i, String s) {\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onError(Throwable throwable) {\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onTextFrame(String payload, boolean finalFragment, int rsv) {\r\n                                log.debug(&quot;onTextFrame({}), rsvp_id={}&quot;, hash(payload), getRsvpId(payload));\r\n                                if (payload != null) {\r\n                                    try {\r\n                                        messages.put(payload);\r\n                                    } catch (InterruptedException e) {\r\n                                        log.error(&quot;Interrupted!&quot;, e);\r\n                                        Thread.currentThread().interrupt();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }).build();\r\n                boundRequestBuilder.execute(webSocketUpgradeHandler).get();\r\n    \r\n                while (running) {\r\n                    ctx.collect(messages.take());\r\n                }\r\n                running = false;\r\n            }\r\n    \r\n            @Override\r\n            public void cancel() {\r\n                log.info(&quot;cancel function called&quot;);\r\n                running = false;\r\n            }\r\n    \r\n            @Override\r\n            public void open(Configuration parameters) throws Exception {\r\n                log.info(&quot;open function called&quot;);\r\n                super.open(parameters);\r\n                client = Dsl.asyncHttpClient();\r\n                boundRequestBuilder = client.prepareGet(&quot;ws://stream.meetup.com/2/rsvps&quot;);\r\n                webSocketListener = new WebSocketUpgradeHandler.Builder();\r\n            }\r\n    \r\n            private String hash(String input) {\r\n                if (input == null) {\r\n                    return &quot;-- NULL --&quot;;\r\n                }\r\n    \r\n                try {\r\n                    MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n                    md.update(input.getBytes());\r\n                    byte[] digest = md.digest();\r\n                    return DatatypeConverter.printHexBinary(digest).toUpperCase();\r\n                } catch (NoSuchAlgorithmException e) {\r\n                    log.error(&quot;Cound not instantiate MD5&quot;, e);\r\n                    return &quot;--NOT CALCULATED--&quot;;\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static class MapIt extends RichMapFunction&lt;String, String&gt; {\r\n    \r\n            final ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n            @Override\r\n            public String map(String value) throws Exception {\r\n                Map&lt;String, Object&gt; mapped = objectMapper.readValue(value, Map.class);\r\n                Object rsvp = mapped.get(&quot;rsvp_id&quot;);\r\n                return rsvp != null ? rsvp.toString() : &quot;null&quot; ;\r\n            }\r\n        }\r\n    }\r\n\r\nHere is the reference document that I have followed to implement this job\r\n[Referance][1]\r\n\r\n\r\nTYIA.\r\n\r\n  [1]: https://gist.github.com/tonvanbart/17dc93be413f7c53b76567e10b87a141","title":"How to read websocket data using Apache Flink","body":"<p>I am trying to read data from <code>websocket</code> using <code>Apache Flink</code></p>\n<p>My Flink job is connecting to websocket but it is not pulling data from websocket.</p>\n<p>below is the sample code that I have tried to connect to websocket using Apache flink API</p>\n<p>the run() <code>method</code> in the <code>RichSourceFunction</code> neither executing nor throwing any error.</p>\n<pre><code>@Slf4j\npublic class Main {\n\n    public static final int CHECKPOINTING_INTERVAL_MS = 5000;\n    private static final String JOB_NAME = &quot;Flink Streaming Java API Skeleton&quot;;\n\n    /**\n     * Main Flink job.\n     *\n     * @param args\n     * @throws Exception\n     */\n    public static void main(String[] args) throws Exception {\n        // set up the streaming execution environment\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        final ObjectMapper objectMapper = new ObjectMapper();\n\n        env.setParallelism(4);\n\n        ParameterTool paramTool = ParameterTool.fromArgs(args);\n        env.getConfig().setGlobalJobParameters(paramTool);\n\n        DataStreamSource&lt;String&gt; mySocketStream = env.addSource(new MyWebSocketSourceFunc());\n        mySocketStream.map(new MapIt()).print();\n//        mySocketStream.print();\n\n        env.enableCheckpointing(CHECKPOINTING_INTERVAL_MS);\n        env.setRestartStrategy(RestartStrategies.noRestart());\n        env.execute(JOB_NAME);\n    }\n\n    public static class MyWebSocketSourceFunc extends RichSourceFunction&lt;String&gt; {\n        private boolean running = true;\n        transient AsyncHttpClient client;\n        transient BoundRequestBuilder boundRequestBuilder;\n        transient WebSocketUpgradeHandler.Builder webSocketListener;\n        private BlockingQueue&lt;String&gt; messages = new ArrayBlockingQueue&lt;&gt;(100);\n\n        @Override\n        public void run(SourceContext&lt;String&gt; ctx) throws Exception {\n            WebSocketUpgradeHandler webSocketUpgradeHandler = webSocketListener.addWebSocketListener(\n                    new WebSocketListener() {\n\n                        private final ObjectMapper myMapper = new ObjectMapper();\n\n                        private String getRsvpId(String payload) {\n                            try {\n                                Map map = myMapper.readValue(payload, Map.class);\n                                Object rsvpId = map.get(&quot;rsvp_id&quot;);\n                                return rsvpId != null ? rsvpId.toString() : &quot;NOT FOUND&quot;;\n                            } catch (IOException e) {\n                                log.error(&quot;Mapping failed, returning 'null'&quot;);\n                                return &quot;NULL&quot;;\n                            }\n                        }\n\n                        @Override\n                        public void onOpen(WebSocket webSocket) {\n                        }\n\n                        @Override\n                        public void onClose(WebSocket webSocket, int i, String s) {\n                        }\n\n                        @Override\n                        public void onError(Throwable throwable) {\n                        }\n\n                        @Override\n                        public void onTextFrame(String payload, boolean finalFragment, int rsv) {\n                            log.debug(&quot;onTextFrame({}), rsvp_id={}&quot;, hash(payload), getRsvpId(payload));\n                            if (payload != null) {\n                                try {\n                                    messages.put(payload);\n                                } catch (InterruptedException e) {\n                                    log.error(&quot;Interrupted!&quot;, e);\n                                    Thread.currentThread().interrupt();\n                                }\n                            }\n                        }\n                    }).build();\n            boundRequestBuilder.execute(webSocketUpgradeHandler).get();\n\n            while (running) {\n                ctx.collect(messages.take());\n            }\n            running = false;\n        }\n\n        @Override\n        public void cancel() {\n            log.info(&quot;cancel function called&quot;);\n            running = false;\n        }\n\n        @Override\n        public void open(Configuration parameters) throws Exception {\n            log.info(&quot;open function called&quot;);\n            super.open(parameters);\n            client = Dsl.asyncHttpClient();\n            boundRequestBuilder = client.prepareGet(&quot;ws://stream.meetup.com/2/rsvps&quot;);\n            webSocketListener = new WebSocketUpgradeHandler.Builder();\n        }\n\n        private String hash(String input) {\n            if (input == null) {\n                return &quot;-- NULL --&quot;;\n            }\n\n            try {\n                MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);\n                md.update(input.getBytes());\n                byte[] digest = md.digest();\n                return DatatypeConverter.printHexBinary(digest).toUpperCase();\n            } catch (NoSuchAlgorithmException e) {\n                log.error(&quot;Cound not instantiate MD5&quot;, e);\n                return &quot;--NOT CALCULATED--&quot;;\n            }\n        }\n    }\n\n    public static class MapIt extends RichMapFunction&lt;String, String&gt; {\n\n        final ObjectMapper objectMapper = new ObjectMapper();\n\n        @Override\n        public String map(String value) throws Exception {\n            Map&lt;String, Object&gt; mapped = objectMapper.readValue(value, Map.class);\n            Object rsvp = mapped.get(&quot;rsvp_id&quot;);\n            return rsvp != null ? rsvp.toString() : &quot;null&quot; ;\n        }\n    }\n}\n</code></pre>\n<p>Here is the reference document that I have followed to implement this job\n<a href=\"https://gist.github.com/tonvanbart/17dc93be413f7c53b76567e10b87a141\" rel=\"nofollow noreferrer\">Referance</a></p>\n<p>TYIA.</p>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1545997459,"post_id":53957887,"comment_id":94753633,"body_markdown":"Because you&#39;ve configured Spring to scan the classpath to find components, and thus... it does it.","body":"Because you&#39;ve configured Spring to scan the classpath to find components, and thus... it does it."},{"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"score":0,"creation_date":1545998058,"post_id":53957887,"comment_id":94753867,"body_markdown":"@JBNizet nope , specially i update package name \n like `boot.com.raycloud.project.monitor.common` . then i Comment `@Configuration` and `@ConditionalOnSpringBoot` . all failed.   crazy","body":"@JBNizet nope , specially i update package name   like <code>boot.com.raycloud.project.monitor.common</code> . then i Comment <code>@Configuration</code> and <code>@ConditionalOnSpringBoot</code> . all failed.   crazy"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1545999624,"post_id":53957887,"comment_id":94754550,"body_markdown":"Are you claiming you didn&#39;t configure spring to do a component scan? The annotations are irrelevant. The classes are scanned precisely to know if they contain an annotated component.","body":"Are you claiming you didn&#39;t configure spring to do a component scan? The annotations are irrelevant. The classes are scanned precisely to know if they contain an annotated component."},{"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"score":0,"creation_date":1546001266,"post_id":53957887,"comment_id":94755228,"body_markdown":"no, this jar is inner , developers can&#39;t get it or declare except me. only i can write or update this jar.","body":"no, this jar is inner , developers can&#39;t get it or declare except me. only i can write or update this jar."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1546001307,"post_id":53957887,"comment_id":94755239,"body_markdown":"So what? It&#39;s in the classpath. So it&#39;s scanned. Do you really think that somewhere in the Spring code there is a test that checks if the jar has been created by shun chen, and that skips it if that&#39;s the case?","body":"So what? It&#39;s in the classpath. So it&#39;s scanned. Do you really think that somewhere in the Spring code there is a test that checks if the jar has been created by shun chen, and that skips it if that&#39;s the case?"},{"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"score":0,"creation_date":1546002081,"post_id":53957887,"comment_id":94755592,"body_markdown":"of course not, but when jvm load a class or jar ,There must be a place to show or the hermit has made a declaration. , i know `new` is impossible。`class.forName` is impossible  ,  last  `ClassLoader` i don&#39;t known, why Spring will scan &quot;me&quot;. i don&#39;t declare any message except `spring.factories`. this is used by springboot? isn&#39;t it?","body":"of course not, but when jvm load a class or jar ,There must be a place to show or the hermit has made a declaration. , i know <code>new</code> is impossible。<code>class.forName</code> is impossible  ,  last  <code>ClassLoader</code> i don&#39;t known, why Spring will scan &quot;me&quot;. i don&#39;t declare any message except <code>spring.factories</code>. this is used by springboot? isn&#39;t it?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1546002193,"post_id":53957887,"comment_id":94755631,"body_markdown":"classpath scanning, as its name indicates, consists in scanning the classed in the classpath. The class doesn&#39;t need to be used or instantiated anywhere. If it&#39;s in the classpath, it&#39;s scanned.","body":"classpath scanning, as its name indicates, consists in scanning the classed in the classpath. The class doesn&#39;t need to be used or instantiated anywhere. If it&#39;s in the classpath, it&#39;s scanned."},{"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"score":0,"creation_date":1546002673,"post_id":53957887,"comment_id":94755803,"body_markdown":"i don&#39;t think so , spring will scan but just scan the path i declare , as we known , i can&#39;t declare it by myself。","body":"i don&#39;t think so , spring will scan but just scan the path i declare , as we known , i can&#39;t declare it by myself。"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1546002804,"post_id":53957887,"comment_id":94755853,"body_markdown":"Well, ask the question to yourself then, not to us. And live with the fact that the error and its stack trace contradicts what you think.","body":"Well, ask the question to yourself then, not to us. And live with the fact that the error and its stack trace contradicts what you think."},{"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"score":0,"creation_date":1546003128,"post_id":53957887,"comment_id":94755976,"body_markdown":"Apologize for my tone，And the entry point is why stater will be load.","body":"Apologize for my tone，And the entry point is why stater will be load."}],"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645634822,"creation_date":1545996635,"question_id":53957887,"body_markdown":"I write a Spring Boot starter, as below\r\n\r\n```\r\npackage boot.com.raycloud.project.monitor.common;\r\n\r\nimport...\r\n\r\n@Configuration\r\n@ConditionalOnSpringBoot\r\npublic class MonitorAutoConfigure {\r\n   \t@Bean\r\n\tpublic ServletListenerRegistrationBean securityManagerServletContextListener() {\r\n    \tSystem.out.println(&quot;=====init servlet Listener=====&quot;);\r\n    \tServletListenerRegistrationBean&lt;XXListener&gt; listenerRegistrationBean = new ServletListenerRegistrationBean&lt;XXListener&gt;();\r\n    \tlistenerRegistrationBean.setListener(new SecurityManagerServletContextListener());\r\n    \tlistenerRegistrationBean.setOrder(10);\r\n    \tlistenerRegistrationBean.setEnabled(true);\r\n    \treturn listenerRegistrationBean;\r\n\t}\r\n}\r\n```\r\nI tested it under Spring Boot 1.x and Spring Boot 2.x, it worked.\r\n\r\nBut when I put it Tomcat/lib (a normal Spring project (3.2.4.Release), not Spring Boot). It occurs some error.\r\n\r\nThe stack is as follows:\r\n\r\n   \t严重: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener\r\n\torg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: URL [jar:file:/data/project/item-publish-web/tomcat/lib/project-monitor-boot-starter-0.0.1-SNAPSHOT.jar!/com/raycloud/project/monitor/autoconfigure1/Boot1.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: URL [jar:file:/data/project/item-publish-web/tomcat/lib/project-monitor-boot-starter-0.0.1-SNAPSHOT.jar!/com/raycloud/project/monitor/autoconfigure1/Boot1.class]; nested exception is java.lang.IllegalArgumentException\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:290)\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:242)\r\n\tat org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:84)\r\n\tat org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:73)\r\n\tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1438)\r\n\tat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1428)\r\n\tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:195)\r\n\tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:139)\r\n\tat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:108)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:493)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\r\n\tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\r\n\tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\r\n\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\r\n\tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:451)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5141)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5664)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1702)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1692)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\tCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: URL [jar:file:/data/project/item-publish-web/tomcat/lib/project-monitor-boot-starter-0.0.1-SNAPSHOT.jar!/com/raycloud/project/monitor/autoconfigure1/Boot1.class]; nested exception is java.lang.IllegalArgumentException\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:56)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:80)\r\n\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:102)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:266)\r\n\t... 32 more\r\n\tCaused by: java.lang.IllegalArgumentException\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:53)\r\n\t... 35 more\r\n\r\ntomcat/lib picture:  \r\n[![tomcat/lib picture][1]][1]\r\n\r\nI found that the `asm` version is too low to cause, but why Spring Boot starter will be load by Spring.\r\n\r\n  [1]: https://i.stack.imgur.com/4vfJX.png","title":"Why Spring (launch by Tomcat) will load SpingBoot starter (I put it to Tomcat/lib.)","body":"<p>I write a Spring Boot starter, as below</p>\n<pre><code>package boot.com.raycloud.project.monitor.common;\n\nimport...\n\n@Configuration\n@ConditionalOnSpringBoot\npublic class MonitorAutoConfigure {\n    @Bean\n    public ServletListenerRegistrationBean securityManagerServletContextListener() {\n        System.out.println(&quot;=====init servlet Listener=====&quot;);\n        ServletListenerRegistrationBean&lt;XXListener&gt; listenerRegistrationBean = new ServletListenerRegistrationBean&lt;XXListener&gt;();\n        listenerRegistrationBean.setListener(new SecurityManagerServletContextListener());\n        listenerRegistrationBean.setOrder(10);\n        listenerRegistrationBean.setEnabled(true);\n        return listenerRegistrationBean;\n    }\n}\n</code></pre>\n<p>I tested it under Spring Boot 1.x and Spring Boot 2.x, it worked.</p>\n<p>But when I put it Tomcat/lib (a normal Spring project (3.2.4.Release), not Spring Boot). It occurs some error.</p>\n<p>The stack is as follows:</p>\n<pre><code>严重: Exception sending context initialized event to listener instance of class org.springframework.web.context.ContextLoaderListener\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: URL [jar:file:/data/project/item-publish-web/tomcat/lib/project-monitor-boot-starter-0.0.1-SNAPSHOT.jar!/com/raycloud/project/monitor/autoconfigure1/Boot1.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: URL [jar:file:/data/project/item-publish-web/tomcat/lib/project-monitor-boot-starter-0.0.1-SNAPSHOT.jar!/com/raycloud/project/monitor/autoconfigure1/Boot1.class]; nested exception is java.lang.IllegalArgumentException\nat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:290)\nat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:242)\nat org.springframework.context.annotation.ComponentScanBeanDefinitionParser.parse(ComponentScanBeanDefinitionParser.java:84)\nat org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:73)\nat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1438)\nat org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1428)\nat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:195)\nat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:139)\nat org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:108)\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:493)\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)\nat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)\nat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)\nat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)\nat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125)\nat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94)\nat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130)\nat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:537)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:451)\nat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389)\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294)\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5141)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5664)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1702)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1692)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: URL [jar:file:/data/project/item-publish-web/tomcat/lib/project-monitor-boot-starter-0.0.1-SNAPSHOT.jar!/com/raycloud/project/monitor/autoconfigure1/Boot1.class]; nested exception is java.lang.IllegalArgumentException\nat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:56)\nat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:80)\nat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:102)\nat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:266)\n... 32 more\nCaused by: java.lang.IllegalArgumentException\nat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source)\nat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source)\nat org.springframework.asm.ClassReader.&lt;init&gt;(Unknown Source)\nat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:53)\n... 35 more\n</code></pre>\n<p>tomcat/lib picture:<br />\n<a href=\"https://i.stack.imgur.com/4vfJX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4vfJX.png\" alt=\"tomcat/lib picture\" /></a></p>\n<p>I found that the <code>asm</code> version is too low to cause, but why Spring Boot starter will be load by Spring.</p>\n"},{"tags":["java","maven","logging","junit","slf4j"],"comments":[{"owner":{"account_id":1273842,"reputation":3099,"user_id":1229509,"accept_rate":69,"display_name":"Saket"},"score":0,"creation_date":1413199988,"post_id":26338982,"comment_id":41340316,"body_markdown":"Have you tried debugging this? Is the logger object null? Which logging library are you using?","body":"Have you tried debugging this? Is the logger object null? Which logging library are you using?"},{"owner":{"account_id":4458573,"reputation":1257,"user_id":3628106,"accept_rate":37,"display_name":"वरुण"},"score":0,"creation_date":1413200024,"post_id":26338982,"comment_id":41340337,"body_markdown":"No in debugging logger is not null. I am using org.slf4j library.","body":"No in debugging logger is not null. I am using org.slf4j library."},{"owner":{"account_id":1273842,"reputation":3099,"user_id":1229509,"accept_rate":69,"display_name":"Saket"},"score":0,"creation_date":1413200107,"post_id":26338982,"comment_id":41340364,"body_markdown":"Can you post the stack trace of where the NPE is originating?","body":"Can you post the stack trace of where the NPE is originating?"},{"owner":{"account_id":4458573,"reputation":1257,"user_id":3628106,"accept_rate":37,"display_name":"वरुण"},"score":0,"creation_date":1413200464,"post_id":26338982,"comment_id":41340532,"body_markdown":"Stack trace added in question.","body":"Stack trace added in question."},{"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"score":0,"creation_date":1413201230,"post_id":26338982,"comment_id":41340970,"body_markdown":"What is your log4j settings? Does it happen when you move the class to some package instead of the default one?","body":"What is your log4j settings? Does it happen when you move the class to some package instead of the default one?"},{"owner":{"account_id":4458573,"reputation":1257,"user_id":3628106,"accept_rate":37,"display_name":"वरुण"},"score":0,"creation_date":1413201408,"post_id":26338982,"comment_id":41341080,"body_markdown":"How can I find my log4j setting? No class is in default package.","body":"How can I find my log4j setting? No class is in default package."},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1413201762,"post_id":26338982,"comment_id":41341296,"body_markdown":"Have you specified the test scope for the junit dependency in your pom.xml? `&lt;scope&gt;test&lt;/scope&gt;`","body":"Have you specified the test scope for the junit dependency in your pom.xml? <code>&lt;scope&gt;test&lt;&#47;scope&gt;</code>"},{"owner":{"account_id":4458573,"reputation":1257,"user_id":3628106,"accept_rate":37,"display_name":"वरुण"},"score":0,"creation_date":1413201828,"post_id":26338982,"comment_id":41341333,"body_markdown":"Yes I have.\n`&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;4.11&lt;/version&gt;\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\n\t\t&lt;/dependency&gt;`","body":"Yes I have. <code>&lt;dependency&gt; \t\t\t&lt;groupId&gt;junit&lt;&#47;groupId&gt; \t\t\t&lt;artifactId&gt;junit&lt;&#47;artifactId&gt; \t\t\t&lt;version&gt;4.11&lt;&#47;version&gt; \t\t\t&lt;scope&gt;test&lt;&#47;scope&gt; \t\t&lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":93007,"reputation":51990,"user_id":254643,"display_name":"Raghuram"},"score":0,"creation_date":1413204701,"post_id":26338982,"comment_id":41343010,"body_markdown":"Can you share the relevant lines of `&lt;dependency&gt;` declaration for `slf4j` - specifically if you have added `slf4j-log4j` or any other binding?","body":"Can you share the relevant lines of <code>&lt;dependency&gt;</code> declaration for <code>slf4j</code> - specifically if you have added <code>slf4j-log4j</code> or any other binding?"},{"owner":{"account_id":4458573,"reputation":1257,"user_id":3628106,"accept_rate":37,"display_name":"वरुण"},"score":0,"creation_date":1413204866,"post_id":26338982,"comment_id":41343108,"body_markdown":"`&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;1.7.7&lt;/version&gt;\n\t\t&lt;/dependency&gt;`","body":"<code>&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.slf4j&lt;&#47;groupId&gt; \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;&#47;artifactId&gt; \t\t\t&lt;version&gt;1.7.7&lt;&#47;version&gt; \t\t&lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1413269261,"post_id":26338982,"comment_id":41367930,"body_markdown":"@Varun I create a small project on https://github.com/SubOptimal/stackoverflow-answers/tree/master/question-26338982. Run it as &quot;mvn -X -Dtest=TestAClass test&quot; and then run you own the same amend the class names) and check if there is an error/warning reported for some depenedency.","body":"@Varun I create a small project on <a href=\"https://github.com/SubOptimal/stackoverflow-answers/tree/master/question-26338982\" rel=\"nofollow noreferrer\">github.com/SubOptimal/stackoverflow-answers/tree/master/&hellip;</a>. Run it as &quot;mvn -X -Dtest=TestAClass test&quot; and then run you own the same amend the class names) and check if there is an error/warning reported for some depenedency."},{"owner":{"account_id":4458573,"reputation":1257,"user_id":3628106,"accept_rate":37,"display_name":"वरुण"},"score":0,"creation_date":1413270686,"post_id":26338982,"comment_id":41368591,"body_markdown":"@SubOptimal I am not getting NullPoinetrException in this code which I posted, but I am getting this type of error in my other code which I can&#39;t post here.","body":"@SubOptimal I am not getting NullPoinetrException in this code which I posted, but I am getting this type of error in my other code which I can&#39;t post here."},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1413273680,"post_id":26338982,"comment_id":41370042,"body_markdown":"@Varun check the dependencies `mvn dependency:tree` and compare the dependency tree for `org.slf4j:slf4j-log4j12` and `junit:junit:jar:4.11` from my sample project with the output of yours.","body":"@Varun check the dependencies <code>mvn dependency:tree</code> and compare the dependency tree for <code>org.slf4j:slf4j-log4j12</code> and <code>junit:junit:jar:4.11</code> from my sample project with the output of yours."},{"owner":{"account_id":4458573,"reputation":1257,"user_id":3628106,"accept_rate":37,"display_name":"वरुण"},"score":0,"creation_date":1413273951,"post_id":26338982,"comment_id":41370161,"body_markdown":"This is my dependency tree `[INFO] +- junit:junit:jar:4.11:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] +- org.slf4j:slf4j-log4j12:jar:1.7.7:compile\n[INFO] |  +- org.slf4j:slf4j-api:jar:1.7.7:compile\n[INFO] |  \\- log4j:log4j:jar:1.2.17:compile`","body":"This is my dependency tree <code>[INFO] +- junit:junit:jar:4.11:test [INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test [INFO] +- org.slf4j:slf4j-log4j12:jar:1.7.7:compile [INFO] |  +- org.slf4j:slf4j-api:jar:1.7.7:compile [INFO] |  \\- log4j:log4j:jar:1.2.17:compile</code>"},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1413281026,"post_id":26338982,"comment_id":41374400,"body_markdown":"Can you check your import lines for `Logger` and `LoggerFactory`.","body":"Can you check your import lines for <code>Logger</code> and <code>LoggerFactory</code>."},{"owner":{"account_id":4458573,"reputation":1257,"user_id":3628106,"accept_rate":37,"display_name":"वरुण"},"score":0,"creation_date":1413281732,"post_id":26338982,"comment_id":41374809,"body_markdown":"`import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;`","body":"<code>import org.slf4j.Logger; import org.slf4j.LoggerFactory;</code>"},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1413283624,"post_id":26338982,"comment_id":41375975,"body_markdown":"@Varun last try: What happen if you run your test outside of Eclipse? Do you get the same stacktrace as you posted above?","body":"@Varun last try: What happen if you run your test outside of Eclipse? Do you get the same stacktrace as you posted above?"},{"owner":{"account_id":4458573,"reputation":1257,"user_id":3628106,"accept_rate":37,"display_name":"वरुण"},"score":0,"creation_date":1413294083,"post_id":26338982,"comment_id":41382420,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/63032/discussion-between-varun-and-suboptimal).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/63032/discussion-between-varun-and-suboptimal\">continue this discussion in chat</a>."},{"owner":{"account_id":4458573,"reputation":1257,"user_id":3628106,"accept_rate":37,"display_name":"वरुण"},"score":0,"creation_date":1413294124,"post_id":26338982,"comment_id":41382444,"body_markdown":"Yes. I get same stacktrace.","body":"Yes. I get same stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":4458573,"reputation":1257,"user_id":3628106,"accept_rate":37,"display_name":"वरुण"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1413804450,"creation_date":1413804450,"answer_id":26464565,"question_id":26338982,"body_markdown":"This problem was due to because `logger` was `static` in `Temp` class. If instance of `Temp` class is created in another test class earlier so it can not load the `logger` for the temp class because it is already loaded. So when we run the whole project under `junit` test it fails. Because `logger` for Temp class is somewhere in other test class is already loaded. This problem is resolved by `mocking` the `logger` with `JMockit`.\r\n@SubOptimal Thank you for giving time.","title":"logger.info is throwing null pointer exception when whole maven project is run under junit test","body":"<p>This problem was due to because <code>logger</code> was <code>static</code> in <code>Temp</code> class. If instance of <code>Temp</code> class is created in another test class earlier so it can not load the <code>logger</code> for the temp class because it is already loaded. So when we run the whole project under <code>junit</code> test it fails. Because <code>logger</code> for Temp class is somewhere in other test class is already loaded. This problem is resolved by <code>mocking</code> the <code>logger</code> with <code>JMockit</code>.\n@SubOptimal Thank you for giving time.</p>\n"},{"tags":[],"owner":{"account_id":93911,"reputation":5846,"user_id":256717,"accept_rate":80,"display_name":"Fakrudeen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1541010578,"creation_date":1541010578,"answer_id":53089900,"question_id":26338982,"body_markdown":"I got this exception when the Logger object was **not static** in the class by mistake.","title":"logger.info is throwing null pointer exception when whole maven project is run under junit test","body":"<p>I got this exception when the Logger object was <strong>not static</strong> in the class by mistake.</p>\n"},{"tags":[],"owner":{"account_id":19346819,"reputation":276,"user_id":14145197,"display_name":"Juliano Suman Curti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638794814,"creation_date":1638794814,"answer_id":70245740,"question_id":26338982,"body_markdown":"I know this is just an example, and it may not be wrong at your actual code.\r\nHowever, I think that it would be good to let you know.\r\n\r\nThere is a correction to be made here:\r\n\r\n    class ClassToTest\r\n    {\r\n        public int methodToTest()\r\n        {\r\n            Temp tempInstance = new Temp(); \r\n            // there is no need of an instance here since the method is static.\r\n            \r\n            int i = Temp.someMethod(); // was temp.someMethod()\r\n            return i;\r\n        }\r\n    }\r\n\r\nAnd I would suggest to make logger static at your Temp.class, like this:\r\n\r\n    class Temp\r\n    {\r\n        private static Logger logger = LoggerFactory.getLogger(Temp.class);\r\n\r\n        public static int someMethod()\r\n        {\r\n            logger.info(&quot;Some information&quot;);\r\n            return 0;\r\n        }\r\n    }\r\n\r\n\r\n","title":"logger.info is throwing null pointer exception when whole maven project is run under junit test","body":"<p>I know this is just an example, and it may not be wrong at your actual code.\nHowever, I think that it would be good to let you know.</p>\n<p>There is a correction to be made here:</p>\n<pre><code>class ClassToTest\n{\n    public int methodToTest()\n    {\n        Temp tempInstance = new Temp(); \n        // there is no need of an instance here since the method is static.\n        \n        int i = Temp.someMethod(); // was temp.someMethod()\n        return i;\n    }\n}\n</code></pre>\n<p>And I would suggest to make logger static at your Temp.class, like this:</p>\n<pre><code>class Temp\n{\n    private static Logger logger = LoggerFactory.getLogger(Temp.class);\n\n    public static int someMethod()\n    {\n        logger.info(&quot;Some information&quot;);\n        return 0;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14634661,"reputation":11,"user_id":10569247,"display_name":"yamini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645634812,"creation_date":1645634512,"answer_id":71240855,"question_id":26338982,"body_markdown":"Even I got the same issue, then I added this piece of code to my class (In this case class Temp) \r\n\r\n    public class Temp {\r\n    \r\n      private static final Logger logger = Logger.getLogger(Temp.class);\r\n    \r\n      //Write your code\r\n    \r\n    }","title":"logger.info is throwing null pointer exception when whole maven project is run under junit test","body":"<p>Even I got the same issue, then I added this piece of code to my class (In this case class Temp)</p>\n<pre><code>public class Temp {\n\n  private static final Logger logger = Logger.getLogger(Temp.class);\n\n  //Write your code\n\n}\n</code></pre>\n"}],"owner":{"account_id":4458573,"reputation":1257,"user_id":3628106,"accept_rate":37,"display_name":"वरुण"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15908,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":26464565,"answer_count":4,"score":5,"last_activity_date":1645634812,"creation_date":1413199857,"question_id":26338982,"body_markdown":"Here is the example code\r\n\r\n    class Temp\r\n    {\r\n    \tpublic static int someMethod()\r\n    \t{\r\n    \t\tLogger logger = LoggerFactory.getLogger(Temp.class);\r\n    \t\tlogger.info(&quot;Some information&quot;);//NullPointerException\r\n    \t    return 0;\r\n    \t}\r\n    }\r\n    \r\n    class ClassToTest\r\n    {\r\n    \tpublic int methodToTest()\r\n    \t{\r\n    \t    Temp tempInstance = new Temp();\r\n    \t    int i = temp.someMethod();\r\n    \t    return i;\r\n    \t}\r\n    }\r\n    \r\n    class TestAClass\r\n    {\r\n    \tClassToTest classToTestInstance;\r\n    \t@Before\r\n    \tpublic void setUp()\r\n    \t{\r\n    \t\tclassToTestInstance = new ClassToTest();\r\n    \t}\r\n    \t@Test\r\n    \tpublic void testMethodToTest()\r\n    \t{\r\n    \t\tint i = classToTest.methodToTest();\r\n    \t}\r\n    }\r\n\r\nThis is a sceneario. This test case may pass. But in actual code when I run the individual test cases or run the whole test class, Test case passes but when I run the maven project under junit test It fails with NullPointerException. I can not post actual code because it is a proprietary code. Please guide me if someone has faced this type of issue.\r\n\r\nStack trace which I am getting when I run my actual code:\r\n\r\n    java.lang.NullPointerException\r\n    \tat org.slf4j.impl.Log4jLoggerAdapter.info(Log4jLoggerAdapter.java:304)\r\n    \tat Temp\r\n    \tat ClassToTest\r\n    \tat TestAClass\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n    \tat mockit.integration.junit4.internal.JUnit4TestRunnerDecorator.executeTestMethod(JUnit4TestRunnerDecorator.java:142)\r\n    \tat mockit.integration.junit4.internal.JUnit4TestRunnerDecorator.invokeExplosively(JUnit4TestRunnerDecorator.java:71)\r\n    \tat mockit.integration.junit4.internal.MockFrameworkMethod.invokeExplosively(MockFrameworkMethod.java:40)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)","title":"logger.info is throwing null pointer exception when whole maven project is run under junit test","body":"<p>Here is the example code</p>\n\n<pre><code>class Temp\n{\n    public static int someMethod()\n    {\n        Logger logger = LoggerFactory.getLogger(Temp.class);\n        logger.info(\"Some information\");//NullPointerException\n        return 0;\n    }\n}\n\nclass ClassToTest\n{\n    public int methodToTest()\n    {\n        Temp tempInstance = new Temp();\n        int i = temp.someMethod();\n        return i;\n    }\n}\n\nclass TestAClass\n{\n    ClassToTest classToTestInstance;\n    @Before\n    public void setUp()\n    {\n        classToTestInstance = new ClassToTest();\n    }\n    @Test\n    public void testMethodToTest()\n    {\n        int i = classToTest.methodToTest();\n    }\n}\n</code></pre>\n\n<p>This is a sceneario. This test case may pass. But in actual code when I run the individual test cases or run the whole test class, Test case passes but when I run the maven project under junit test It fails with NullPointerException. I can not post actual code because it is a proprietary code. Please guide me if someone has faced this type of issue.</p>\n\n<p>Stack trace which I am getting when I run my actual code:</p>\n\n<pre><code>java.lang.NullPointerException\n    at org.slf4j.impl.Log4jLoggerAdapter.info(Log4jLoggerAdapter.java:304)\n    at Temp\n    at ClassToTest\n    at TestAClass\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n    at mockit.integration.junit4.internal.JUnit4TestRunnerDecorator.executeTestMethod(JUnit4TestRunnerDecorator.java:142)\n    at mockit.integration.junit4.internal.JUnit4TestRunnerDecorator.invokeExplosively(JUnit4TestRunnerDecorator.java:71)\n    at mockit.integration.junit4.internal.MockFrameworkMethod.invokeExplosively(MockFrameworkMethod.java:40)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1645688621,"post_id":71240823,"comment_id":125939858,"body_markdown":"Where did you add the Javascript files in your Spring Boot project? They are normally in `src/main/resources/static/`. Things should work if you have them in a sub-directory `javascript` there.","body":"Where did you add the Javascript files in your Spring Boot project? They are normally in <code>src&#47;main&#47;resources&#47;static&#47;</code>. Things should work if you have them in a sub-directory <code>javascript</code> there."}],"answers":[{"tags":[],"owner":{"account_id":23926442,"reputation":68,"user_id":17921501,"display_name":"vikas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645634686,"creation_date":1645634686,"answer_id":71240903,"question_id":71240823,"body_markdown":"in thymleaf you need add javascript source folder like this \r\n\r\n     &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/javascript/one.js}&quot;&gt;&lt;/script&gt;\r\n     &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/javascript/two.js}&quot;&gt;&lt;/script&gt;\r\n ","title":"spring-boot error in thymleaf with js scripts","body":"<p>in thymleaf you need add javascript source folder like this</p>\n<pre><code> &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/javascript/one.js}&quot;&gt;&lt;/script&gt;\n &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/javascript/two.js}&quot;&gt;&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":20611468,"reputation":1,"user_id":15130563,"display_name":"Prem Vkg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645634686,"creation_date":1645634391,"question_id":71240823,"body_markdown":"\r\nI included .css and .js in my thymleaf like this :\r\n\r\n    &lt;script src=&quot;/javascript/one.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;/javascript/two.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;/javascript/three.js&quot;&gt;&lt;/script&gt;\r\n   \r\n\r\nthis error showing up in console\r\n\r\n    2016-07-24 21:08:05 WARN  PageNotFound:1149 - No mapping found for HTTP request with         URI [/javascript/one.js] in DispatcherServlet with name &#39;dispatcherServlet&#39;\r\n    2016-07-24 21:08:05 DEBUG DispatcherServlet:997 - Successfully completed request\r\n\r\ni dont know where i am missing ","title":"spring-boot error in thymleaf with js scripts","body":"<p>I included .css and .js in my thymleaf like this :</p>\n<pre><code>&lt;script src=&quot;/javascript/one.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascript/two.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;/javascript/three.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>this error showing up in console</p>\n<pre><code>2016-07-24 21:08:05 WARN  PageNotFound:1149 - No mapping found for HTTP request with         URI [/javascript/one.js] in DispatcherServlet with name 'dispatcherServlet'\n2016-07-24 21:08:05 DEBUG DispatcherServlet:997 - Successfully completed request\n</code></pre>\n<p>i dont know where i am missing</p>\n"},{"tags":["java","android","performance","android-recyclerview"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1645632959,"post_id":71240404,"comment_id":125925546,"body_markdown":"If onMeasure is creating ViewHolders and calling onBind, that itself is probably a problem.  Especially if it&#39;s doing it for every item, that&#39;s a complete violation of how a recycler view should work (if an item isn&#39;t on screen it shouldn&#39;t even be fetched, much less bound).","body":"If onMeasure is creating ViewHolders and calling onBind, that itself is probably a problem.  Especially if it&#39;s doing it for every item, that&#39;s a complete violation of how a recycler view should work (if an item isn&#39;t on screen it shouldn&#39;t even be fetched, much less bound)."},{"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"score":0,"creation_date":1645633760,"post_id":71240404,"comment_id":125925901,"body_markdown":"So the problem is that the Recycler of the library I&#39;m using is not good? I never call onMeasure() in my code.","body":"So the problem is that the Recycler of the library I&#39;m using is not good? I never call onMeasure() in my code."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1645635117,"post_id":71240404,"comment_id":125926526,"body_markdown":"onMeasure is called whenever a view is resized (including the first time it&#39;s sized) and is called by the system.","body":"onMeasure is called whenever a view is resized (including the first time it&#39;s sized) and is called by the system."}],"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645634666,"creation_date":1645632564,"question_id":71240404,"body_markdown":"I&#39;m doing an app where I have a RecyclerView(https://github.com/thoughtbot/expandable-recycler-view) with hundreds of elements and Log prints this:\r\n```\r\n2022-02-23 17:01:21.340 D/RecyclerViewAdapterUpdateExpandable: &gt;&gt;Toggle Tag Tutte le carte\r\n2022-02-23 17:01:21.992 D/View: [ANR Warning]onMeasure time too long, this =androidx.recyclerview.widget.RecyclerView{51f7538 VFED..... .F....ID 0,99-720,1257 #7f0a017e app:id/recycler_view_list}time =627 ms\r\n2022-02-23 17:01:21.992 D/View: [ANR Warning]onMeasure time too long, this =androidx.constraintlayout.widget.ConstraintLayout{342a04c V.E...... ......ID 0,0-720,1258}time =628 ms\r\n2022-02-23 17:01:21.993 D/View: [ANR Warning]onMeasure time too long, this =androidx.constraintlayout.widget.ConstraintLayout{e45720f V.E...... ......ID 0,-1-720,1257 #7f0a00cd app:id/fragment_container}time =629 ms\r\n2022-02-23 17:01:21.996 D/View: [ANR Warning]onMeasure time too long, this =androidx.constraintlayout.widget.ConstraintLayout{c686b6e V.E...... ......ID 0,0-720,1353}time =632 ms\r\n2022-02-23 17:01:21.996 D/View: [ANR Warning]onMeasure time too long, this =androidx.appcompat.widget.ContentFrameLayout{1a3af70 V.E...... ......ID 0,0-720,1353 #1020002 android:id/content}time =632 ms\r\n2022-02-23 17:01:21.996 D/View: [ANR Warning]onMeasure time too long, this =androidx.appcompat.widget.FitWindowsLinearLayout{25104ed V.E...... ......ID 0,0-720,1353 #7f0a0037 app:id/action_bar_root}time =632 ms\r\n2022-02-23 17:01:21.996 D/View: [ANR Warning]onMeasure time too long, this =android.widget.FrameLayout{7092eb1 V.E...... ......ID 0,91-720,1444}time =632 ms\r\n2022-02-23 17:01:21.996 D/View: [ANR Warning]onMeasure time too long, this =android.widget.LinearLayout{9d3323b V.E...... ......ID 0,0-720,1444}time =632 ms\r\n2022-02-23 17:01:21.997 D/View: [ANR Warning]onMeasure time too long, this =DecorView@1af831f[MainActivity]time =632 ms\r\n2022-02-23 17:01:22.045 I/Choreographer: Skipped 39 frames!  The application may be doing too much work on its main thread.\r\n```\r\n\r\nAre there any common practices to improve the performance?\r\nI&#39;ve tried to empty constructor of the ViewHolder and onBind() methods but the time is about the same, so I think the time depends only on the number of items.","title":"Android: How to improve speed of onMeasure()","body":"<p>I'm doing an app where I have a RecyclerView(<a href=\"https://github.com/thoughtbot/expandable-recycler-view\" rel=\"nofollow noreferrer\">https://github.com/thoughtbot/expandable-recycler-view</a>) with hundreds of elements and Log prints this:</p>\n<pre><code>2022-02-23 17:01:21.340 D/RecyclerViewAdapterUpdateExpandable: &gt;&gt;Toggle Tag Tutte le carte\n2022-02-23 17:01:21.992 D/View: [ANR Warning]onMeasure time too long, this =androidx.recyclerview.widget.RecyclerView{51f7538 VFED..... .F....ID 0,99-720,1257 #7f0a017e app:id/recycler_view_list}time =627 ms\n2022-02-23 17:01:21.992 D/View: [ANR Warning]onMeasure time too long, this =androidx.constraintlayout.widget.ConstraintLayout{342a04c V.E...... ......ID 0,0-720,1258}time =628 ms\n2022-02-23 17:01:21.993 D/View: [ANR Warning]onMeasure time too long, this =androidx.constraintlayout.widget.ConstraintLayout{e45720f V.E...... ......ID 0,-1-720,1257 #7f0a00cd app:id/fragment_container}time =629 ms\n2022-02-23 17:01:21.996 D/View: [ANR Warning]onMeasure time too long, this =androidx.constraintlayout.widget.ConstraintLayout{c686b6e V.E...... ......ID 0,0-720,1353}time =632 ms\n2022-02-23 17:01:21.996 D/View: [ANR Warning]onMeasure time too long, this =androidx.appcompat.widget.ContentFrameLayout{1a3af70 V.E...... ......ID 0,0-720,1353 #1020002 android:id/content}time =632 ms\n2022-02-23 17:01:21.996 D/View: [ANR Warning]onMeasure time too long, this =androidx.appcompat.widget.FitWindowsLinearLayout{25104ed V.E...... ......ID 0,0-720,1353 #7f0a0037 app:id/action_bar_root}time =632 ms\n2022-02-23 17:01:21.996 D/View: [ANR Warning]onMeasure time too long, this =android.widget.FrameLayout{7092eb1 V.E...... ......ID 0,91-720,1444}time =632 ms\n2022-02-23 17:01:21.996 D/View: [ANR Warning]onMeasure time too long, this =android.widget.LinearLayout{9d3323b V.E...... ......ID 0,0-720,1444}time =632 ms\n2022-02-23 17:01:21.997 D/View: [ANR Warning]onMeasure time too long, this =DecorView@1af831f[MainActivity]time =632 ms\n2022-02-23 17:01:22.045 I/Choreographer: Skipped 39 frames!  The application may be doing too much work on its main thread.\n</code></pre>\n<p>Are there any common practices to improve the performance?\nI've tried to empty constructor of the ViewHolder and onBind() methods but the time is about the same, so I think the time depends only on the number of items.</p>\n"},{"tags":["java","string","interface","charsequence"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1645633187,"post_id":71240514,"comment_id":125925657,"body_markdown":"This is part of the [package `java.lang.model.element`](https://docs.oracle.com/javase/8/docs/api/javax/lang/model/element/package-summary.html) which is _&quot;Interfaces used to model elements of the Java programming language.&quot;_. In other words, it is not general purpose.","body":"This is part of the <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/lang/model/element/package-summary.html\" rel=\"nofollow noreferrer\">package <code>java.lang.model.element</code></a> which is <i>&quot;Interfaces used to model elements of the Java programming language.&quot;</i>. In other words, it is not general purpose."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1645633462,"post_id":71240514,"comment_id":125925769,"body_markdown":"And there are implementations, but just not in a public API as these interfaces are the API (e.g. in Temurin 11, there are `com.sun.tools.javac.util.Name`, `com.sun.tools.javac.util.SharedNameTable.NameImpl` and `com.sun.tools.javac.util.UnsharedNameTable.NameImpl`).","body":"And there are implementations, but just not in a public API as these interfaces are the API (e.g. in Temurin 11, there are <code>com.sun.tools.javac.util.Name</code>, <code>com.sun.tools.javac.util.SharedNameTable.NameImpl</code> and <code>com.sun.tools.javac.util.UnsharedNameTable.NameImpl</code>)."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1645633515,"post_id":71240514,"comment_id":125925791,"body_markdown":"There are other classes than just `String` that represent &quot;text&quot;, `StringBuilder` for example. Sometimes you dont actually need to demand a `String` but can also just accept `CharSequence` and then users could also give you a `StringBuilder` and not just `String`. `Name` generally follows the same idea, it is `CharSequence` + 3 more methods. Tldr, learn what interfaces are and why they are useful.","body":"There are other classes than just <code>String</code> that represent &quot;text&quot;, <code>StringBuilder</code> for example. Sometimes you dont actually need to demand a <code>String</code> but can also just accept <code>CharSequence</code> and then users could also give you a <code>StringBuilder</code> and not just <code>String</code>. <code>Name</code> generally follows the same idea, it is <code>CharSequence</code> + 3 more methods. Tldr, learn what interfaces are and why they are useful."},{"owner":{"account_id":11699486,"reputation":226,"user_id":13751385,"display_name":"Aria"},"score":0,"creation_date":1645633584,"post_id":71240514,"comment_id":125925822,"body_markdown":"Thank you @MarkRotteveel. Interesting. Just a follow-up question, how do we model elements of the language with the same language?","body":"Thank you @MarkRotteveel. Interesting. Just a follow-up question, how do we model elements of the language with the same language?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1645633666,"post_id":71240514,"comment_id":125925865,"body_markdown":"It is mostly for the meta-aspects that Java provides, in particular the reflection API that allow you to inspect the code and retrieve meta information about it, or to dynamically trigger stuff. For example call a method by its name, given by user input.","body":"It is mostly for the meta-aspects that Java provides, in particular the reflection API that allow you to inspect the code and retrieve meta information about it, or to dynamically trigger stuff. For example call a method by its name, given by user input."},{"owner":{"account_id":11699486,"reputation":226,"user_id":13751385,"display_name":"Aria"},"score":0,"creation_date":1645633877,"post_id":71240514,"comment_id":125925964,"body_markdown":"@MarkRotteveel If you provide your answer, not in the comment form I will accept it and close this question.","body":"@MarkRotteveel If you provide your answer, not in the comment form I will accept it and close this question."}],"answers":[{"tags":[],"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645633758,"creation_date":1645633758,"answer_id":71240685,"question_id":71240514,"body_markdown":"It is more than just a String.\r\n\r\nIn the description of the `equals` method it says:\r\n\r\n&gt; Note that the identity of a Name is a function both of its content in\r\n&gt; terms of a sequence of characters as well as the implementation which\r\n&gt; created it.\r\n\r\nSo this implies that there is more to an object that implements `Name` than just its character representation. It also has to know about the implementation which created it.\r\n\r\nIf you want to just compare the content you have to use `contentEquals`.\r\n\r\nBut you are probably not going to be creating classes using this interface yourself. It is part of the Java language model.\r\n\r\n\r\n\r\n","title":"What is the need for Name interface in Java?","body":"<p>It is more than just a String.</p>\n<p>In the description of the <code>equals</code> method it says:</p>\n<blockquote>\n<p>Note that the identity of a Name is a function both of its content in\nterms of a sequence of characters as well as the implementation which\ncreated it.</p>\n</blockquote>\n<p>So this implies that there is more to an object that implements <code>Name</code> than just its character representation. It also has to know about the implementation which created it.</p>\n<p>If you want to just compare the content you have to use <code>contentEquals</code>.</p>\n<p>But you are probably not going to be creating classes using this interface yourself. It is part of the Java language model.</p>\n"},{"tags":[],"owner":{"account_id":11699486,"reputation":226,"user_id":13751385,"display_name":"Aria"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645634399,"creation_date":1645634399,"answer_id":71240825,"question_id":71240514,"body_markdown":"To summarize the answer based on the comments: By @Mark Rotteveel\r\n&gt; This is part of the package java.lang.model.element which is &quot;Interfaces used to model elements of the Java programming language.&quot;. In other words, it is not general purpose. And there are implementations, but just not in a public API as these interfaces are the API (e.g. in Temurin 11, there are &lt;br/&gt;\r\ncom.sun.tools.javac.util.Name, &lt;br/&gt;\r\ncom.sun.tools.javac.util.SharedNameTable.NameImpl and &lt;br/&gt;\r\ncom.sun.tools.javac.util.UnsharedNameTable.NameImpl).\r\n\r\nAnd it is more than just a string based on @rghome answer.\r\n\r\nMoreover, the reason the modeling is also provided in the same language is: By @Zabuzard\r\n\r\n&gt; It is mostly for the meta-aspects that Java provides, in particular the reflection API that allows you to inspect the code and retrieve meta-information about it, or to dynamically trigger stuff. For example call a method by its name, given by user input.\r\n\r\n","title":"What is the need for Name interface in Java?","body":"<p>To summarize the answer based on the comments: By @Mark Rotteveel</p>\n<blockquote>\n<p>This is part of the package java.lang.model.element which is &quot;Interfaces used to model elements of the Java programming language.&quot;. In other words, it is not general purpose. And there are implementations, but just not in a public API as these interfaces are the API (e.g. in Temurin 11, there are <br/>\ncom.sun.tools.javac.util.Name, <br/>\ncom.sun.tools.javac.util.SharedNameTable.NameImpl and <br/>\ncom.sun.tools.javac.util.UnsharedNameTable.NameImpl).</p>\n</blockquote>\n<p>And it is more than just a string based on @rghome answer.</p>\n<p>Moreover, the reason the modeling is also provided in the same language is: By @Zabuzard</p>\n<blockquote>\n<p>It is mostly for the meta-aspects that Java provides, in particular the reflection API that allows you to inspect the code and retrieve meta-information about it, or to dynamically trigger stuff. For example call a method by its name, given by user input.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645634600,"creation_date":1645634600,"answer_id":71240872,"question_id":71240514,"body_markdown":"`CharSequence` is a very general _interface_, more so than `String`, and contrary to the obiquitous usage of `String` one could have used `CharSequence` instead, so one could pass a StringBuilder too.\r\n\r\nHowever _pro_ `String` (a _class_) counts its evident immutability and extra methods. Though the interface `CharSequence` itself does not have mutable functions too. As only `StringBuilder` and `String` are the most useful implementation, one may normally forget about using `CharSequence`.\r\n\r\n`Name` is a dedicated _interface_ for language modeling itself. It is a form of wrapping a value type (`String` here) in its own type for specific usage. Like wrapping a time String in a `Time`. Note that for a case-insensitive language the `Name#equals` could ignore the case (as in `PascalName implements Name`). The class/interface should not be used outside language modeling. In the model a Name may contain its declaration.","title":"What is the need for Name interface in Java?","body":"<p><code>CharSequence</code> is a very general <em>interface</em>, more so than <code>String</code>, and contrary to the obiquitous usage of <code>String</code> one could have used <code>CharSequence</code> instead, so one could pass a StringBuilder too.</p>\n<p>However <em>pro</em> <code>String</code> (a <em>class</em>) counts its evident immutability and extra methods. Though the interface <code>CharSequence</code> itself does not have mutable functions too. As only <code>StringBuilder</code> and <code>String</code> are the most useful implementation, one may normally forget about using <code>CharSequence</code>.</p>\n<p><code>Name</code> is a dedicated <em>interface</em> for language modeling itself. It is a form of wrapping a value type (<code>String</code> here) in its own type for specific usage. Like wrapping a time String in a <code>Time</code>. Note that for a case-insensitive language the <code>Name#equals</code> could ignore the case (as in <code>PascalName implements Name</code>). The class/interface should not be used outside language modeling. In the model a Name may contain its declaration.</p>\n"}],"owner":{"account_id":11699486,"reputation":226,"user_id":13751385,"display_name":"Aria"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71240685,"answer_count":3,"score":0,"last_activity_date":1645634600,"creation_date":1645633048,"question_id":71240514,"body_markdown":"In Java, when is the interface [Name][1] (which extends [CharSequence][2]) useful? Why not just use `final String` instead? I do not see any classes that implement `Name`.\r\n\r\nAlternatively, what I am interested is the use cases of [Name][1], [CharSequence][2], and the [String][3] class.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/lang/model/element/Name.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html","title":"What is the need for Name interface in Java?","body":"<p>In Java, when is the interface <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/lang/model/element/Name.html\" rel=\"nofollow noreferrer\">Name</a> (which extends <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html\" rel=\"nofollow noreferrer\">CharSequence</a>) useful? Why not just use <code>final String</code> instead? I do not see any classes that implement <code>Name</code>.</p>\n<p>Alternatively, what I am interested is the use cases of <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/lang/model/element/Name.html\" rel=\"nofollow noreferrer\">Name</a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/CharSequence.html\" rel=\"nofollow noreferrer\">CharSequence</a>, and the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">String</a> class.</p>\n"},{"tags":["java","jar","temp"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1645622808,"post_id":71237086,"comment_id":125920644,"body_markdown":"That&#39;s some horrendous error handling. When an error occurs... sod it, just try to start the now non-existent jar anyway. Fix your IDE and your habits; `throw new RuntimeException(&quot;uncaught&quot;, e);` is the correct content of a `catch` block when you don&#39;t want to think about it.","body":"That&#39;s some horrendous error handling. When an error occurs... sod it, just try to start the now non-existent jar anyway. Fix your IDE and your habits; <code>throw new RuntimeException(&quot;uncaught&quot;, e);</code> is the correct content of a <code>catch</code> block when you don&#39;t want to think about it."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1645624197,"post_id":71237086,"comment_id":125921253,"body_markdown":"A jar file is not a text file. You should *not* read it using a `Reader` of any sort. Also, your write loops just overwrites the file again and again. Look up how to copy a *binary* stream to a file.","body":"A jar file is not a text file. You should <i>not</i> read it using a <code>Reader</code> of any sort. Also, your write loops just overwrites the file again and again. Look up how to copy a <i>binary</i> stream to a file."}],"answers":[{"tags":[],"owner":{"account_id":18483213,"reputation":31,"user_id":13464814,"display_name":"Daniel Haak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645634577,"creation_date":1645631443,"answer_id":71240112,"question_id":71237086,"body_markdown":"Ok so meanwhile i figured it out. Turns out the Buffered reader caused the problem. The below code works fine now. \r\n\r\n```\r\nPath tempFile = Files.createTempFile(&quot;b&quot;, &quot;.jar&quot;);\r\nInputStream stream = Main.class.getClassLoader().getResourceAsStream(&quot;b.jar&quot;);\r\nbyte[] line = stream.readAllBytes();\r\nFiles.write(tempFile, line);\r\n\r\nProcessBuilder processBuilder = new ProcessBuilder(&quot;java&quot;,  &quot;-jar&quot;, tempFile.getFileName().toString());\r\nprocessBuilder.directory(new File(tempFile.getParent().toString()));\r\nProcess process = processBuilder.start();\r\n```            ","title":"Export a .jar file to a temp file","body":"<p>Ok so meanwhile i figured it out. Turns out the Buffered reader caused the problem. The below code works fine now.</p>\n<pre><code>Path tempFile = Files.createTempFile(&quot;b&quot;, &quot;.jar&quot;);\nInputStream stream = Main.class.getClassLoader().getResourceAsStream(&quot;b.jar&quot;);\nbyte[] line = stream.readAllBytes();\nFiles.write(tempFile, line);\n\nProcessBuilder processBuilder = new ProcessBuilder(&quot;java&quot;,  &quot;-jar&quot;, tempFile.getFileName().toString());\nprocessBuilder.directory(new File(tempFile.getParent().toString()));\nProcess process = processBuilder.start();\n</code></pre>\n"}],"owner":{"account_id":18483213,"reputation":31,"user_id":13464814,"display_name":"Daniel Haak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645634577,"creation_date":1645619939,"question_id":71237086,"body_markdown":"I have two programms &quot;a&quot; and &quot;b&quot; bot compiled to fatJar files. &quot;b&quot; is added as resource to &quot;a&quot;. I now want &quot;a&quot; to execute &quot;b&quot; using a process builder. As far as I understand it I cannot directly give the process builder the &quot;b&quot; jar for it doesn&#39;t exist in the regular windows file system. \r\nThe suggested solution to this is to access &quot;b&quot; as resource and write its content to a temp file and then hand the temp file to the process builder. \r\n\r\nMy question is: how do i copy the fatJar &quot;b&quot; into a temp file in a way it stays executionable? \r\nMy current approach looks like this: \r\n\r\n    try {\r\n            Path tempFile = Files.createTempFile(&quot;b&quot;, &quot;.jar&quot;);\r\n            InputStream stream = Main.class.getClassLoader().getResourceAsStream(&quot;b.jar&quot;);\r\n            try (InputStreamReader streamReader =\r\n                         new InputStreamReader(stream, StandardCharsets.UTF_8);\r\n                 BufferedReader reader = new BufferedReader(streamReader)) {\r\n\r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                    Files.write(tempFile, reader.readLine().getBytes(StandardCharsets.UTF_8));\r\n                }\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            ProcessBuilder processBuilder = new ProcessBuilder(&quot;java&quot;,  &quot;-jar&quot;, tempFile.getFileName().toString());\r\n            processBuilder.directory(new File(tempFile.getParent().toString()));\r\n            Process process = processBuilder.start();\r\n            processBuilder.redirectErrorStream(true);\r\n            System.out.println(process.isAlive());\r\n\r\n\r\nThe process.isAlive() call confirms the process is running however the process doesn&#39;t function as it should (it should build up a two way communication via the input and output streams but i won&#39;t get any answer from the running process).\r\nDoes anyone know if there is an better approach to the whole situation or if my way of copying the .jar to the temp file is wrong?\r\n","title":"Export a .jar file to a temp file","body":"<p>I have two programms &quot;a&quot; and &quot;b&quot; bot compiled to fatJar files. &quot;b&quot; is added as resource to &quot;a&quot;. I now want &quot;a&quot; to execute &quot;b&quot; using a process builder. As far as I understand it I cannot directly give the process builder the &quot;b&quot; jar for it doesn't exist in the regular windows file system.\nThe suggested solution to this is to access &quot;b&quot; as resource and write its content to a temp file and then hand the temp file to the process builder.</p>\n<p>My question is: how do i copy the fatJar &quot;b&quot; into a temp file in a way it stays executionable?\nMy current approach looks like this:</p>\n<pre><code>try {\n        Path tempFile = Files.createTempFile(&quot;b&quot;, &quot;.jar&quot;);\n        InputStream stream = Main.class.getClassLoader().getResourceAsStream(&quot;b.jar&quot;);\n        try (InputStreamReader streamReader =\n                     new InputStreamReader(stream, StandardCharsets.UTF_8);\n             BufferedReader reader = new BufferedReader(streamReader)) {\n\n            String line;\n            while ((line = reader.readLine()) != null) {\n                Files.write(tempFile, reader.readLine().getBytes(StandardCharsets.UTF_8));\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;java&quot;,  &quot;-jar&quot;, tempFile.getFileName().toString());\n        processBuilder.directory(new File(tempFile.getParent().toString()));\n        Process process = processBuilder.start();\n        processBuilder.redirectErrorStream(true);\n        System.out.println(process.isAlive());\n</code></pre>\n<p>The process.isAlive() call confirms the process is running however the process doesn't function as it should (it should build up a two way communication via the input and output streams but i won't get any answer from the running process).\nDoes anyone know if there is an better approach to the whole situation or if my way of copying the .jar to the temp file is wrong?</p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1645631505,"post_id":71239938,"comment_id":125924859,"body_markdown":"What is your desired output?","body":"What is your desired output?"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645634449,"creation_date":1645634449,"answer_id":71240835,"question_id":71239938,"body_markdown":"First, there&#39;s a typo in the first line where `Stream.of` is assigned to `List&lt;Integer&gt;`\r\n\r\nRegarding the explanation of `flatMap` argument:\r\n* Each integer from the `s1` stream is mapped into `Stream&lt;tuple&gt;` containing several items: for each integer a string is picked from `Stream&lt;String&gt;`\r\n\r\n* Thus, these multiple `Stream&lt;tuple&gt;` should be _flattened_ into a single `Stream&lt;tuple&gt;` which is consumed then in `forEach` terminal operation\r\n```java\r\nList&lt;Integer&gt; s1 = Stream.of(1, 2);\r\nSupplier&lt;Stream&lt;String&gt;&gt; s2 = () -&gt; Stream.of(&quot;A&quot;, &quot;B&quot;);\r\n\r\ns1  // Stream&lt;Integer&gt;\r\n.flatMap(v1 -&gt; s2.get() // Stream&lt;String&gt; returned by the Supplier\r\n                 .map(v2 -&gt; tuple(v1,v2)) // Stream&lt;tuple&gt;\r\n) // Stream&lt;tuple&gt;\r\n.forEach(System.out::println);\r\n```\r\n----\r\nFor illustration, let&#39;s assume that a mere `map` is used instead of the `flatMap` (also using `List` instead of `tuple`):\r\n```java\r\ns1  // Stream&lt;Integer&gt;\r\n    .map(v1 -&gt; s2.get() // Stream&lt;String&gt; returned by the Supplier\r\n        .map(v2 -&gt; Arrays.asList(v1, v2)) // Stream&lt;List&gt;\r\n    ) // Stream&lt;Stream&lt;List&gt;&gt;\r\n    .peek(System.out::println)\r\n    .flatMap(s -&gt; s) Stream&lt;List&gt;\r\n    .forEach(System.out::println);\r\n```\r\nOutput:\r\n```java\r\njava.util.stream.ReferencePipeline$3@3dd4520b // printed by peek\r\n[1, A]\r\n[1, B]\r\njava.util.stream.ReferencePipeline$3@5ae63ade // printed by peek\r\n[2, A]\r\n[2, B]\r\n```","title":"Can anyone explain this, I am trying cross Join implementation through flatmap?","body":"<p>First, there's a typo in the first line where <code>Stream.of</code> is assigned to <code>List&lt;Integer&gt;</code></p>\n<p>Regarding the explanation of <code>flatMap</code> argument:</p>\n<ul>\n<li><p>Each integer from the <code>s1</code> stream is mapped into <code>Stream&lt;tuple&gt;</code> containing several items: for each integer a string is picked from <code>Stream&lt;String&gt;</code></p>\n</li>\n<li><p>Thus, these multiple <code>Stream&lt;tuple&gt;</code> should be <em>flattened</em> into a single <code>Stream&lt;tuple&gt;</code> which is consumed then in <code>forEach</code> terminal operation</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; s1 = Stream.of(1, 2);\nSupplier&lt;Stream&lt;String&gt;&gt; s2 = () -&gt; Stream.of(&quot;A&quot;, &quot;B&quot;);\n\ns1  // Stream&lt;Integer&gt;\n.flatMap(v1 -&gt; s2.get() // Stream&lt;String&gt; returned by the Supplier\n                 .map(v2 -&gt; tuple(v1,v2)) // Stream&lt;tuple&gt;\n) // Stream&lt;tuple&gt;\n.forEach(System.out::println);\n</code></pre>\n<hr />\n<p>For illustration, let's assume that a mere <code>map</code> is used instead of the <code>flatMap</code> (also using <code>List</code> instead of <code>tuple</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>s1  // Stream&lt;Integer&gt;\n    .map(v1 -&gt; s2.get() // Stream&lt;String&gt; returned by the Supplier\n        .map(v2 -&gt; Arrays.asList(v1, v2)) // Stream&lt;List&gt;\n    ) // Stream&lt;Stream&lt;List&gt;&gt;\n    .peek(System.out::println)\n    .flatMap(s -&gt; s) Stream&lt;List&gt;\n    .forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.stream.ReferencePipeline$3@3dd4520b // printed by peek\n[1, A]\n[1, B]\njava.util.stream.ReferencePipeline$3@5ae63ade // printed by peek\n[2, A]\n[2, B]\n</code></pre>\n"}],"owner":{"account_id":24355407,"reputation":11,"user_id":18290679,"display_name":"user2341564"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645634449,"creation_date":1645630805,"question_id":71239938,"body_markdown":"    List&lt;Integer&gt; s1 = Stream.of(1, 2);\r\n    Supplier&lt;Stream&lt;String&gt;&gt; s2 = ()-&gt;Stream.of(&quot;A&quot;, &quot;B&quot;);\r\n    \r\n    s1.flatMap(v1 -&gt; s2.get()\r\n                       .map(v2 -&gt;tuple(v1,v2))).forEach(System.out::println);\r\n\r\n\r\nFlatmap argument need clarification. ","title":"Can anyone explain this, I am trying cross Join implementation through flatmap?","body":"<pre><code>List&lt;Integer&gt; s1 = Stream.of(1, 2);\nSupplier&lt;Stream&lt;String&gt;&gt; s2 = ()-&gt;Stream.of(&quot;A&quot;, &quot;B&quot;);\n\ns1.flatMap(v1 -&gt; s2.get()\n                   .map(v2 -&gt;tuple(v1,v2))).forEach(System.out::println);\n</code></pre>\n<p>Flatmap argument need clarification.</p>\n"},{"tags":["java","elasticsearch","logstash","kibana","elastalert"],"comments":[{"owner":{"account_id":7081530,"reputation":159,"user_id":5419780,"display_name":"Manish"},"score":0,"creation_date":1645636560,"post_id":71240829,"comment_id":125927203,"body_markdown":"Are you running the ES on own machine or using ES from Cloud provider(AWS or someone)?","body":"Are you running the ES on own machine or using ES from Cloud provider(AWS or someone)?"},{"owner":{"account_id":16997146,"reputation":169,"user_id":12295288,"display_name":"Sai Durga Kamesh Kota"},"score":0,"creation_date":1645638721,"post_id":71240829,"comment_id":125928126,"body_markdown":"On Some Cloud Server. But is it relevant","body":"On Some Cloud Server. But is it relevant"},{"owner":{"account_id":7081530,"reputation":159,"user_id":5419780,"display_name":"Manish"},"score":0,"creation_date":1645642359,"post_id":71240829,"comment_id":125929572,"body_markdown":"I am familiar with AWS ES, they actual create metrics and you can have cloud watch alarm or SNS to inform you based on the metrics threshold.","body":"I am familiar with AWS ES, they actual create metrics and you can have cloud watch alarm or SNS to inform you based on the metrics threshold."}],"owner":{"account_id":16997146,"reputation":169,"user_id":12295288,"display_name":"Sai Durga Kamesh Kota"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645634419,"creation_date":1645634419,"question_id":71240829,"body_markdown":"I am new to elastic alerts and trying to write an alert where there will be a field in the index with the name api which refers to API name ( String ). Now I want to create a spike alert such that for each name in API if the spike is generated, it should send me a unique message with the API name and the current count of requests to slack. Can anyone please help me out?","title":"ElastAlert Spike Alert for Multiple API&#39;s","body":"<p>I am new to elastic alerts and trying to write an alert where there will be a field in the index with the name api which refers to API name ( String ). Now I want to create a spike alert such that for each name in API if the spike is generated, it should send me a unique message with the API name and the current count of requests to slack. Can anyone please help me out?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6941134,"reputation":188,"user_id":5327441,"display_name":"Daniel D."},"score":0,"creation_date":1645627171,"post_id":71238888,"comment_id":125922690,"body_markdown":"Could you try to use Object as your Model class?","body":"Could you try to use Object as your Model class?"},{"owner":{"account_id":18665981,"reputation":139,"user_id":13605930,"display_name":"Arjun"},"score":0,"creation_date":1645629121,"post_id":71238888,"comment_id":125923691,"body_markdown":"Can u elaborate....iam new to Android development","body":"Can u elaborate....iam new to Android development"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645628541,"creation_date":1645628541,"answer_id":71239328,"question_id":71238888,"body_markdown":"If there is a chance in which some fields may remain uninitialized due to the fact the users might leave some fields empty, then when it comes to displaying data, never try to display the value of a field if it can be potentially null. Always check against nullity before accessing it.\r\n\r\n    String address = user.getAddress();\r\n    if(address != null) {\r\n        addressTextView.setText(address);\r\n    }","title":"How to build recyclerView without a predefined Model class","body":"<p>If there is a chance in which some fields may remain uninitialized due to the fact the users might leave some fields empty, then when it comes to displaying data, never try to display the value of a field if it can be potentially null. Always check against nullity before accessing it.</p>\n<pre><code>String address = user.getAddress();\nif(address != null) {\n    addressTextView.setText(address);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17090710,"reputation":106,"user_id":12366934,"display_name":"AngelesVP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645629795,"creation_date":1645629795,"answer_id":71239670,"question_id":71238888,"body_markdown":"All the fields optionals should be nullable. So in the case that you don&#39;t receive any of the optionals fields you won&#39;t get an exception. I think your model should be like this:\r\n\r\n    data class User(\r\n        val name: String,\r\n        val age: Int,\r\n        val address: String?\r\n        ...\r\n    )\r\n\r\nBut as Alex said, don&#39;t forget check this nullability before use &quot;address&quot; value.","title":"How to build recyclerView without a predefined Model class","body":"<p>All the fields optionals should be nullable. So in the case that you don't receive any of the optionals fields you won't get an exception. I think your model should be like this:</p>\n<pre><code>data class User(\n    val name: String,\n    val age: Int,\n    val address: String?\n    ...\n)\n</code></pre>\n<p>But as Alex said, don't forget check this nullability before use &quot;address&quot; value.</p>\n"}],"owner":{"account_id":18665981,"reputation":139,"user_id":13605930,"display_name":"Arjun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71239328,"answer_count":2,"score":1,"last_activity_date":1645634163,"creation_date":1645626964,"question_id":71238888,"body_markdown":"I am having a database (Firebase), which contains details of users, where each user can add any amount of personnel details. Like one person can add only name and age while another user can add a name, age, and address.\r\n\r\nI am also building an android app that displays those details using a recyclerView.I am using a basic recycler view.\r\n\r\nNow the problem is a recyclerView requires a pre-defined model class with pre-defined getters and setters, but my database is dynamic and can have any number of values.\r\n\r\nLike some users may only have a name and age while others may have a name, age, address. For the first user, we only have to define the name, age, and define getters and setters, but for the second user we have to define the extra address variable and assign getters and setters.\r\nAdding them pre-hand is not a good idea because users can add any number of details.\r\n\r\nI need a recyclerView that can show any number of values, how should I do that.\r\n\r\nPS: I think no code is needed because I am using a basic recycle view. Please tell me if I should post the code too.\r\n\r\n","title":"How to build recyclerView without a predefined Model class","body":"<p>I am having a database (Firebase), which contains details of users, where each user can add any amount of personnel details. Like one person can add only name and age while another user can add a name, age, and address.</p>\n<p>I am also building an android app that displays those details using a recyclerView.I am using a basic recycler view.</p>\n<p>Now the problem is a recyclerView requires a pre-defined model class with pre-defined getters and setters, but my database is dynamic and can have any number of values.</p>\n<p>Like some users may only have a name and age while others may have a name, age, address. For the first user, we only have to define the name, age, and define getters and setters, but for the second user we have to define the extra address variable and assign getters and setters.\nAdding them pre-hand is not a good idea because users can add any number of details.</p>\n<p>I need a recyclerView that can show any number of values, how should I do that.</p>\n<p>PS: I think no code is needed because I am using a basic recycle view. Please tell me if I should post the code too.</p>\n"},{"tags":["java","multithreading","docker","cassandra","datastax"],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645633838,"creation_date":1645633838,"answer_id":71240700,"question_id":71239850,"body_markdown":"    JsonInsert query = insertInto(&quot;links&quot;).json(json.toString());\r\n\r\nAre these queries running constantly on each thread?\r\n\r\nIt could be that the local, single Cassandra node just doesn&#39;t have enough resources available to handle multiple requests.  That would cause Cassandra to return that the node is &quot;unavailable&quot; to the client.\r\n\r\nHow large is Cassandra&#39;s Java heap?  It might need to be bigger.  It also might be that the local system just has too much going on with running Cassandra, a multi-threaded app, and whatever else might be running.\r\n\r\nBasically, check the &quot;HEAP SETTINGS&quot; of `conf/jvm-server.options`.  If the heap is getting &quot;automatically calculated,&quot; it&#39;s likely too small for what the app is trying to do with it.\r\n","title":"Datastax Cassandra NoNodeAvailableException when multithreading","body":"<pre><code>JsonInsert query = insertInto(&quot;links&quot;).json(json.toString());\n</code></pre>\n<p>Are these queries running constantly on each thread?</p>\n<p>It could be that the local, single Cassandra node just doesn't have enough resources available to handle multiple requests.  That would cause Cassandra to return that the node is &quot;unavailable&quot; to the client.</p>\n<p>How large is Cassandra's Java heap?  It might need to be bigger.  It also might be that the local system just has too much going on with running Cassandra, a multi-threaded app, and whatever else might be running.</p>\n<p>Basically, check the &quot;HEAP SETTINGS&quot; of <code>conf/jvm-server.options</code>.  If the heap is getting &quot;automatically calculated,&quot; it's likely too small for what the app is trying to do with it.</p>\n"}],"owner":{"account_id":23069558,"reputation":77,"user_id":17183543,"display_name":"ajs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71240700,"answer_count":1,"score":2,"last_activity_date":1645633838,"creation_date":1645630411,"question_id":71239850,"body_markdown":"I&#39;m trying to build a multithreaded Cassandra importer in Java. I&#39;m using this package: \\\r\n`group: &#39;com.datastax.cassandra&#39;, name: &#39;cassandra-driver-core&#39;, version: &#39;4.0.0&#39;`\r\n\r\n\r\nSingle threaded (using the main thread) works fine but even with 1 subthread I instantly receive `com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query`\r\n\r\nI&#39;m testing my application on a cassandra instance in Docker (hope this is not the problem). This is the builder I have.\r\n\r\n```\r\n            session = CqlSession.builder()\r\n                    .addContactPoint(new InetSocketAddress(&quot;localhost&quot;, 9042))\r\n                    .withKeyspace(CqlIdentifier.fromCql(&quot;links&quot;))\r\n                    .withLocalDatacenter(&quot;datacenter1&quot;)\r\n                    .build();\r\n```\r\n\r\nAnd this is how I execute a query\r\n\r\n```\r\n        JSONObject json = new JSONObject(linksRow);\r\n        JsonInsert query = insertInto(&quot;links&quot;).json(json.toString());\r\n        session.execute(query.toString());\r\n```\r\n\r\n\r\nCould you tell me what I&#39;m doing wrong? The CqlSession should be thread-safe according to the documentation. (https://docs.datastax.com/en/developer/java-driver/4.0/manual/core/)\r\n\r\nEdit: Added insert query","title":"Datastax Cassandra NoNodeAvailableException when multithreading","body":"<p>I'm trying to build a multithreaded Cassandra importer in Java. I'm using this package: <br />\n<code>group: 'com.datastax.cassandra', name: 'cassandra-driver-core', version: '4.0.0'</code></p>\n<p>Single threaded (using the main thread) works fine but even with 1 subthread I instantly receive <code>com.datastax.oss.driver.api.core.NoNodeAvailableException: No node was available to execute the query</code></p>\n<p>I'm testing my application on a cassandra instance in Docker (hope this is not the problem). This is the builder I have.</p>\n<pre><code>            session = CqlSession.builder()\n                    .addContactPoint(new InetSocketAddress(&quot;localhost&quot;, 9042))\n                    .withKeyspace(CqlIdentifier.fromCql(&quot;links&quot;))\n                    .withLocalDatacenter(&quot;datacenter1&quot;)\n                    .build();\n</code></pre>\n<p>And this is how I execute a query</p>\n<pre><code>        JSONObject json = new JSONObject(linksRow);\n        JsonInsert query = insertInto(&quot;links&quot;).json(json.toString());\n        session.execute(query.toString());\n</code></pre>\n<p>Could you tell me what I'm doing wrong? The CqlSession should be thread-safe according to the documentation. (<a href=\"https://docs.datastax.com/en/developer/java-driver/4.0/manual/core/\" rel=\"nofollow noreferrer\">https://docs.datastax.com/en/developer/java-driver/4.0/manual/core/</a>)</p>\n<p>Edit: Added insert query</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1645630175,"post_id":71239702,"comment_id":125924208,"body_markdown":"Looks ok. Are you running this in an online compiler?","body":"Looks ok. Are you running this in an online compiler?"},{"owner":{"account_id":24355185,"reputation":1,"user_id":18290501,"display_name":"Isaac T"},"score":0,"creation_date":1645630577,"post_id":71239702,"comment_id":125924415,"body_markdown":"Yes, can that cause issues?","body":"Yes, can that cause issues?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1645630672,"post_id":71239702,"comment_id":125924458,"body_markdown":"It depends on the site. If I run your code on [ideone](https://ideone.com/hW9mo3) I get that error if I don&#39;t put anything in the &quot;INPUT&quot; box. Check your compiler for something like that. You probably need to enter all the text for stdin ahead of time.","body":"It depends on the site. If I run your code on <a href=\"https://ideone.com/hW9mo3\" rel=\"nofollow noreferrer\">ideone</a> I get that error if I don&#39;t put anything in the &quot;INPUT&quot; box. Check your compiler for something like that. You probably need to enter all the text for stdin ahead of time."},{"owner":{"account_id":24355185,"reputation":1,"user_id":18290501,"display_name":"Isaac T"},"score":0,"creation_date":1645631255,"post_id":71239702,"comment_id":125924746,"body_markdown":"Okay, I may try a different compiler. Is there a way to write this in a way that would wait until after you type an input instead of pulling right away?","body":"Okay, I may try a different compiler. Is there a way to write this in a way that would wait until after you type an input instead of pulling right away?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1645631655,"post_id":71239702,"comment_id":125924929,"body_markdown":"It already does wait. If you ran this code in a console on your pc, it would work as you expect.","body":"It already does wait. If you ran this code in a console on your pc, it would work as you expect."}],"answers":[{"tags":[],"owner":{"account_id":17550352,"reputation":117,"user_id":12730875,"display_name":"Tia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645633701,"creation_date":1645633701,"answer_id":71240671,"question_id":71239702,"body_markdown":"You have to check before if `nextLine()` exists. Try this:\r\n    \r\n    import java.util.Scanner;\r\n\r\n    class Main {\r\n\r\n       public static void main(String[] args) {\r\n          Scanner test = new Scanner(System.in);\r\n\r\n          while (test.hasNextLine()) {\r\n             string = test.nextLine();\r\n             System.out.println(string);\r\n          }\r\n       }\r\n    }","title":"Getting and error when using Scanner in Java","body":"<p>You have to check before if <code>nextLine()</code> exists. Try this:</p>\n<pre><code>import java.util.Scanner;\n\nclass Main {\n\n   public static void main(String[] args) {\n      Scanner test = new Scanner(System.in);\n\n      while (test.hasNextLine()) {\n         string = test.nextLine();\n         System.out.println(string);\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":24355185,"reputation":1,"user_id":18290501,"display_name":"Isaac T"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645633701,"creation_date":1645629907,"question_id":71239702,"body_markdown":"I am trying to pull an input from the user for this program to start on some more complicated stuff. However no matter what I try I get this error:\r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n    at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n    at Main.main(Main.java:8)\r\n\r\nI am running this code here:\r\n\r\n    import java.util.Scanner;\r\n\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        Scanner test = new Scanner(System.in);\r\n    \tString x = test.nextLine();\r\n        System.out.println(x);\r\n\r\n      }\r\n    }\r\n\r\nAny help is greatly appreciated! ","title":"Getting and error when using Scanner in Java","body":"<p>I am trying to pull an input from the user for this program to start on some more complicated stuff. However no matter what I try I get this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\nat java.base/java.util.Scanner.nextLine(Scanner.java:1651)\nat Main.main(Main.java:8)\n</code></pre>\n<p>I am running this code here:</p>\n<pre><code>import java.util.Scanner;\n\nclass Main {\n  public static void main(String[] args) {\n    Scanner test = new Scanner(System.in);\n    String x = test.nextLine();\n    System.out.println(x);\n\n  }\n}\n</code></pre>\n<p>Any help is greatly appreciated!</p>\n"},{"tags":["java","user-interface","keyboard-shortcuts","bluej"],"owner":{"account_id":23710386,"reputation":31,"user_id":17732323,"display_name":"Benjamin Deutsch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645633692,"creation_date":1645633692,"question_id":71240670,"body_markdown":"I&#39;ve used IntelliJ and VSC before, both of which had nice one-button solutions to compile and run, even going as far as having keyboard shortcuts for it as well. But unfortunately, for reasons I&#39;m not in the mood to get into right now, and cannot change, I have to use BlueJ for certain projects in my class.\r\n\r\nDon&#39;t get me wrong, I actually do like using BlueJ on simpler and smaller projects with it&#39;s simple interface, but one thing that really limits the speed I work at is having to hit &quot;Compile&quot;, right-clicking the tester class, clicking &quot;void main&quot;, and then hitting &quot;Okay&quot;, EVERY single time I want to test the code. It&#39;s sluggish and takes infinitely longer than one button or a keyboard shortcut.\r\n\r\nIs there any way, external modification or otherwise, that I could have a simpler method for compiling and running code in BlueJ? Even saving on one or two of these clicks would be greatly appreciated.","title":"How do you quickly compile and run in BlueJ?","body":"<p>I've used IntelliJ and VSC before, both of which had nice one-button solutions to compile and run, even going as far as having keyboard shortcuts for it as well. But unfortunately, for reasons I'm not in the mood to get into right now, and cannot change, I have to use BlueJ for certain projects in my class.</p>\n<p>Don't get me wrong, I actually do like using BlueJ on simpler and smaller projects with it's simple interface, but one thing that really limits the speed I work at is having to hit &quot;Compile&quot;, right-clicking the tester class, clicking &quot;void main&quot;, and then hitting &quot;Okay&quot;, EVERY single time I want to test the code. It's sluggish and takes infinitely longer than one button or a keyboard shortcut.</p>\n<p>Is there any way, external modification or otherwise, that I could have a simpler method for compiling and running code in BlueJ? Even saving on one or two of these clicks would be greatly appreciated.</p>\n"},{"tags":["java","spring","annotations","controller"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1300973009,"post_id":5419695,"comment_id":6133792,"body_markdown":"See also http://stackoverflow.com/questions/1088550","body":"See also <a href=\"http://stackoverflow.com/questions/1088550\">stackoverflow.com/questions/1088550</a>"}],"answers":[{"tags":[],"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"down_vote_count":0,"up_vote_count":282,"is_accepted":true,"score":282,"last_activity_date":1300972403,"creation_date":1300972403,"answer_id":5419722,"question_id":5419695,"body_markdown":"You can use\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n       // ...\r\n    }","title":"Init method in Spring Controller (annotation version)","body":"<p>You can use</p>\n\n<pre><code>@PostConstruct\npublic void init() {\n   // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1300974109,"creation_date":1300974109,"answer_id":5420103,"question_id":5419695,"body_markdown":"Alternatively you can have your class implement the [`InitializingBean`][1] interface to provide a callback function (`afterPropertiesSet()`) which the ApplicationContext will invoke when the bean is constructed.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/InitializingBean.html","title":"Init method in Spring Controller (annotation version)","body":"<p>Alternatively you can have your class implement the <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/InitializingBean.html\" rel=\"noreferrer\"><code>InitializingBean</code></a> interface to provide a callback function (<code>afterPropertiesSet()</code>) which the ApplicationContext will invoke when the bean is constructed.</p>\n"},{"tags":[],"owner":{"account_id":4066076,"reputation":2498,"user_id":3340968,"accept_rate":43,"display_name":"Yasir Shabbir Choudhary"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1425989431,"creation_date":1425989431,"answer_id":28963375,"question_id":5419695,"body_markdown":"    public class InitHelloWorld implements BeanPostProcessor {\r\n \r\n       public Object postProcessBeforeInitialization(Object bean,\r\n                 String beanName) throws BeansException {\r\n           System.out.println(&quot;BeforeInitialization : &quot; + beanName);\r\n           return bean;  // you can return any other object as well\r\n       }\r\n\r\n       public Object postProcessAfterInitialization(Object bean,\r\n                 String beanName) throws BeansException {\r\n           System.out.println(&quot;AfterInitialization : &quot; + beanName);\r\n           return bean;  // you can return any other object as well\r\n       }\r\n\r\n    }\r\n","title":"Init method in Spring Controller (annotation version)","body":"<pre><code>public class InitHelloWorld implements BeanPostProcessor {\n\n   public Object postProcessBeforeInitialization(Object bean,\n             String beanName) throws BeansException {\n       System.out.println(\"BeforeInitialization : \" + beanName);\n       return bean;  // you can return any other object as well\n   }\n\n   public Object postProcessAfterInitialization(Object bean,\n             String beanName) throws BeansException {\n       System.out.println(\"AfterInitialization : \" + beanName);\n       return bean;  // you can return any other object as well\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1632225,"reputation":1661,"user_id":1506545,"display_name":"Avec"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1543601483,"creation_date":1543601483,"answer_id":53562765,"question_id":5419695,"body_markdown":"There are several ways to intercept the initialization process in Spring. If you have to initialize all beans and autowire/inject them there are at least two ways that I know of that will ensure this. I have only testet the second one but I belive both work the same. \r\n \r\nIf you are using @Bean you can reference by initMethod, like this.\r\n\r\n    @Configuration\r\n    public class BeanConfiguration {\r\n      \r\n      @Bean(initMethod=&quot;init&quot;)\r\n      public BeanA beanA() {\r\n        return new BeanA();\r\n      }\r\n    }\r\n    \r\n    public class BeanA {\r\n      \r\n      // method to be initialized after context is ready\r\n      public void init() {\r\n      }\r\n\r\n    } \r\n\r\n\r\nIf you are using @Component you can annotate with @EventListener like this.\r\n\r\n    @Component\r\n    public class BeanB {\r\n      \r\n      @EventListener\r\n      public void onApplicationEvent(ContextRefreshedEvent event) {\r\n      }\r\n    }\r\n\r\n\r\nIn my case I have a legacy system where I am now taking use of IoC/DI where Spring  Boot is the choosen framework. The old system brings many circular dependencies to the table and I therefore must use setter-dependency a lot. That gave me some headaches since I could not trust @PostConstruct since autowiring/injection by setter was not yet done. The order is constructor, @PostConstruct then autowired setters. I solved it with @EventListener annotation which wil run last and at the &quot;same&quot; time for all beans. The example shows implementation of InitializingBean aswell.\r\n\r\nI have two classes (@Component) with dependency to each other. The classes looks the same for the purpose of this example displaying only one of them.\r\n\r\n    @Component\r\n    public class BeanA implements InitializingBean {\r\n      private BeanB beanB;\r\n\r\n      public BeanA() {\r\n        log.debug(&quot;Created...&quot;);\r\n      }\r\n\r\n      @PostConstruct\r\n      private void postConstruct() {\r\n        log.debug(&quot;@PostConstruct&quot;);\r\n      }\r\n\r\n      @Autowired\r\n      public void setBeanB(BeanB beanB) {\r\n        log.debug(&quot;@Autowired beanB&quot;);\r\n        this.beanB = beanB;\r\n      }\r\n\r\n      @Override\r\n      public void afterPropertiesSet() throws Exception {\r\n        log.debug(&quot;afterPropertiesSet()&quot;);\r\n      }\r\n\r\n      @EventListener\r\n      public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        log.debug(&quot;@EventListener&quot;);\r\n      } \r\n    }\r\n\r\n  \r\nThis is the log output showing the order of the calls when the container starts.\r\n\r\n    2018-11-30 18:29:30.504 DEBUG 3624 --- [           main] com.example.demo.BeanA                   : Created...\r\n    2018-11-30 18:29:30.509 DEBUG 3624 --- [           main] com.example.demo.BeanB                   : Created...\r\n    2018-11-30 18:29:30.517 DEBUG 3624 --- [           main] com.example.demo.BeanB                   : @Autowired beanA\r\n    2018-11-30 18:29:30.518 DEBUG 3624 --- [           main] com.example.demo.BeanB                   : @PostConstruct\r\n    2018-11-30 18:29:30.518 DEBUG 3624 --- [           main] com.example.demo.BeanB                   : afterPropertiesSet()\r\n    2018-11-30 18:29:30.518 DEBUG 3624 --- [           main] com.example.demo.BeanA                   : @Autowired beanB\r\n    2018-11-30 18:29:30.518 DEBUG 3624 --- [           main] com.example.demo.BeanA                   : @PostConstruct\r\n    2018-11-30 18:29:30.518 DEBUG 3624 --- [           main] com.example.demo.BeanA                   : afterPropertiesSet()\r\n    2018-11-30 18:29:30.607 DEBUG 3624 --- [           main] com.example.demo.BeanA                   : @EventListener\r\n    2018-11-30 18:29:30.607 DEBUG 3624 --- [           main] com.example.demo.BeanB                   : @EventListener\r\n\r\n\r\nAs you can see @EventListener is run last after everything is ready and configured.","title":"Init method in Spring Controller (annotation version)","body":"<p>There are several ways to intercept the initialization process in Spring. If you have to initialize all beans and autowire/inject them there are at least two ways that I know of that will ensure this. I have only testet the second one but I belive both work the same. </p>\n\n<p>If you are using @Bean you can reference by initMethod, like this.</p>\n\n<pre><code>@Configuration\npublic class BeanConfiguration {\n\n  @Bean(initMethod=\"init\")\n  public BeanA beanA() {\n    return new BeanA();\n  }\n}\n\npublic class BeanA {\n\n  // method to be initialized after context is ready\n  public void init() {\n  }\n\n} \n</code></pre>\n\n<p>If you are using @Component you can annotate with @EventListener like this.</p>\n\n<pre><code>@Component\npublic class BeanB {\n\n  @EventListener\n  public void onApplicationEvent(ContextRefreshedEvent event) {\n  }\n}\n</code></pre>\n\n<p>In my case I have a legacy system where I am now taking use of IoC/DI where Spring  Boot is the choosen framework. The old system brings many circular dependencies to the table and I therefore must use setter-dependency a lot. That gave me some headaches since I could not trust @PostConstruct since autowiring/injection by setter was not yet done. The order is constructor, @PostConstruct then autowired setters. I solved it with @EventListener annotation which wil run last and at the \"same\" time for all beans. The example shows implementation of InitializingBean aswell.</p>\n\n<p>I have two classes (@Component) with dependency to each other. The classes looks the same for the purpose of this example displaying only one of them.</p>\n\n<pre><code>@Component\npublic class BeanA implements InitializingBean {\n  private BeanB beanB;\n\n  public BeanA() {\n    log.debug(\"Created...\");\n  }\n\n  @PostConstruct\n  private void postConstruct() {\n    log.debug(\"@PostConstruct\");\n  }\n\n  @Autowired\n  public void setBeanB(BeanB beanB) {\n    log.debug(\"@Autowired beanB\");\n    this.beanB = beanB;\n  }\n\n  @Override\n  public void afterPropertiesSet() throws Exception {\n    log.debug(\"afterPropertiesSet()\");\n  }\n\n  @EventListener\n  public void onApplicationEvent(ContextRefreshedEvent event) {\n    log.debug(\"@EventListener\");\n  } \n}\n</code></pre>\n\n<p>This is the log output showing the order of the calls when the container starts.</p>\n\n<pre><code>2018-11-30 18:29:30.504 DEBUG 3624 --- [           main] com.example.demo.BeanA                   : Created...\n2018-11-30 18:29:30.509 DEBUG 3624 --- [           main] com.example.demo.BeanB                   : Created...\n2018-11-30 18:29:30.517 DEBUG 3624 --- [           main] com.example.demo.BeanB                   : @Autowired beanA\n2018-11-30 18:29:30.518 DEBUG 3624 --- [           main] com.example.demo.BeanB                   : @PostConstruct\n2018-11-30 18:29:30.518 DEBUG 3624 --- [           main] com.example.demo.BeanB                   : afterPropertiesSet()\n2018-11-30 18:29:30.518 DEBUG 3624 --- [           main] com.example.demo.BeanA                   : @Autowired beanB\n2018-11-30 18:29:30.518 DEBUG 3624 --- [           main] com.example.demo.BeanA                   : @PostConstruct\n2018-11-30 18:29:30.518 DEBUG 3624 --- [           main] com.example.demo.BeanA                   : afterPropertiesSet()\n2018-11-30 18:29:30.607 DEBUG 3624 --- [           main] com.example.demo.BeanA                   : @EventListener\n2018-11-30 18:29:30.607 DEBUG 3624 --- [           main] com.example.demo.BeanB                   : @EventListener\n</code></pre>\n\n<p>As you can see @EventListener is run last after everything is ready and configured.</p>\n"},{"tags":[],"owner":{"account_id":23522920,"reputation":81,"user_id":17569823,"display_name":"cooooopd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645633613,"creation_date":1645633613,"answer_id":71240649,"question_id":5419695,"body_markdown":"@PostConstruct、implement InitializingBean、specify init-method they have call orders. So you can&#39;t use them to replace init-method. You can try this:\r\n\r\n    @Bean(initMethod = &quot;init&quot;)\r\n\tpublic MyBean mybean() {\r\n\t\treturn new MyBean();\r\n\t}\r\n\r\n  \r\n\r\n    class MyBean {\r\n\tpublic void init() {\r\n\t\tSystem.out.println(&quot;MyBean init&quot;);\r\n\t}\r\n}\r\n\r\nin your class, you can declare a method named init().\r\n\r\nRefer to:\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/core.html#:~:text=Multiple%20lifecycle%20mechanisms%20configured%20for%20the%20same%20bean%2C%20with%20different%20initialization%20methods%2C%20are%20called%20as%20follows%3A","title":"Init method in Spring Controller (annotation version)","body":"<p>@PostConstruct、implement InitializingBean、specify init-method they have call orders. So you can't use them to replace init-method. You can try this:</p>\n<pre><code>@Bean(initMethod = &quot;init&quot;)\npublic MyBean mybean() {\n    return new MyBean();\n}\n\n\n\nclass MyBean {\npublic void init() {\n    System.out.println(&quot;MyBean init&quot;);\n}\n</code></pre>\n<p>}</p>\n<p>in your class, you can declare a method named init().</p>\n<p>Refer to:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#:%7E:text=Multiple%20lifecycle%20mechanisms%20configured%20for%20the%20same%20bean%2C%20with%20different%20initialization%20methods%2C%20are%20called%20as%20follows%3A\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#:~:text=Multiple%20lifecycle%20mechanisms%20configured%20for%20the%20same%20bean%2C%20with%20different%20initialization%20methods%2C%20are%20called%20as%20follows%3A</a></p>\n"}],"owner":{"account_id":108186,"reputation":9265,"user_id":287282,"accept_rate":38,"display_name":"Krt_Malta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160869,"favorite_count":0,"down_vote_count":0,"up_vote_count":125,"accepted_answer_id":5419722,"answer_count":5,"score":125,"last_activity_date":1645633613,"creation_date":1300972262,"question_id":5419695,"body_markdown":"I&#39;m converting a controller to the newer annotation version. In the old version I used to specify the init method in springmvc-servlet.xml using: \r\n\r\n    &lt;beans&gt;\r\n        &lt;bean id=&quot;myBean&quot; class=&quot;...&quot; init-method=&quot;init&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\nHow can I specify the init method using the annotation version?","title":"Init method in Spring Controller (annotation version)","body":"<p>I'm converting a controller to the newer annotation version. In the old version I used to specify the init method in springmvc-servlet.xml using: </p>\n\n<pre><code>&lt;beans&gt;\n    &lt;bean id=\"myBean\" class=\"...\" init-method=\"init\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>How can I specify the init method using the annotation version?</p>\n"},{"tags":["java","spring","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645633538,"creation_date":1645633538,"answer_id":71240633,"question_id":71239990,"body_markdown":"I&#39;ve always found this API a bit cumbersome indeed, but I think relying on `ResponseEntity` could simplify your case:\r\n\r\n```java\r\n.retrieve()\r\n.toEntity(String.class)\r\n// 4xx and 5xx responses result in a WebClientResponseException:\r\n.onErrorResume(WebClientResponseException.class, e -&gt; Mono.just(toEntity(e)))\r\n.doOnNext(entity -&gt; log.info(/* entity.getHeaders(), entity.getStatusCode(), etc. */))\r\n```\r\n\r\nWith `toEntity(e)` roughly like below:\r\n\r\n```java\r\nstatic &lt;T&gt; ResponseEntity&lt;T&gt; toEntity(WebClientResponseException e) {\r\n    return ResponseEntity\r\n            .status(e.getStatusCode())\r\n            .headers(e.getHeaders())\r\n            .build();\r\n}\r\n```","title":"How to log every response from WebClient?","body":"<p>I've always found this API a bit cumbersome indeed, but I think relying on <code>ResponseEntity</code> could simplify your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.retrieve()\n.toEntity(String.class)\n// 4xx and 5xx responses result in a WebClientResponseException:\n.onErrorResume(WebClientResponseException.class, e -&gt; Mono.just(toEntity(e)))\n.doOnNext(entity -&gt; log.info(/* entity.getHeaders(), entity.getStatusCode(), etc. */))\n</code></pre>\n<p>With <code>toEntity(e)</code> roughly like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; ResponseEntity&lt;T&gt; toEntity(WebClientResponseException e) {\n    return ResponseEntity\n            .status(e.getStatusCode())\n            .headers(e.getHeaders())\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645633538,"creation_date":1645630972,"question_id":71239990,"body_markdown":"`WebClient` in spring `webflux` offers three different ways to hook on end of the response:\r\n\r\n```java\r\nwebClient.post().uri().body().retrieve().bodyToMono(String.class)\r\n...\r\n.doOnTerminte()\r\n.doAfterTerminate()\r\n.doFinally();\r\n```\r\n\r\nMy goal is to log every response (headers + statuscode), regardless of the outcome.\r\n\r\nHow can I know which method states above is correct for this purpose?","title":"How to log every response from WebClient?","body":"<p><code>WebClient</code> in spring <code>webflux</code> offers three different ways to hook on end of the response:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webClient.post().uri().body().retrieve().bodyToMono(String.class)\n...\n.doOnTerminte()\n.doAfterTerminate()\n.doFinally();\n</code></pre>\n<p>My goal is to log every response (headers + statuscode), regardless of the outcome.</p>\n<p>How can I know which method states above is correct for this purpose?</p>\n"},{"tags":["java","android","button","background-color"],"answers":[{"tags":[],"owner":{"account_id":17550352,"reputation":117,"user_id":12730875,"display_name":"Tia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645617410,"creation_date":1645615122,"answer_id":71235947,"question_id":71235882,"body_markdown":"Use the attribute `android:backgroundTint`. For example:\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button3&quot;\r\n        &lt;!-- ADD THE LINE BELOW --&gt;\r\n        android:backgroundTint=&quot;@color/black&quot; \r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot;\r\n        tools:layout_editor_absoluteX=&quot;133dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;584dp&quot; /&gt;\r\n\r\nIf you can&#39;t see the color you want, please add it to the `colors.xml` file stored in the `values` folder.\r\nThis is an example of a `colors.xml` file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n       &lt;color name=&quot;black&quot;&gt;#333333&lt;/color&gt;\r\n    &lt;/resources&gt;\r\n\r\nYou should already have this file, if not, add it.\r\n\r\n","title":"Android studio button fixed color can&#39;t be changed","body":"<p>Use the attribute <code>android:backgroundTint</code>. For example:</p>\n<pre><code>&lt;Button\n    android:id=&quot;@+id/button3&quot;\n    &lt;!-- ADD THE LINE BELOW --&gt;\n    android:backgroundTint=&quot;@color/black&quot; \n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Button&quot;\n    tools:layout_editor_absoluteX=&quot;133dp&quot;\n    tools:layout_editor_absoluteY=&quot;584dp&quot; /&gt;\n</code></pre>\n<p>If you can't see the color you want, please add it to the <code>colors.xml</code> file stored in the <code>values</code> folder.\nThis is an example of a <code>colors.xml</code> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n   &lt;color name=&quot;black&quot;&gt;#333333&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>You should already have this file, if not, add it.</p>\n"},{"tags":[],"owner":{"account_id":19863876,"reputation":79,"user_id":14551630,"display_name":"mrwahl"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1645633231,"creation_date":1645615445,"answer_id":71236022,"question_id":71235882,"body_markdown":"A solution which has helped me before. Have a look in your themes.xml file .\r\nChange to  ```android:theme=&quot;@style/Theme.AppCompat.NoActionBar&quot;```","title":"Android studio button fixed color can&#39;t be changed","body":"<p>A solution which has helped me before. Have a look in your themes.xml file .\nChange to  <code>android:theme=&quot;@style/Theme.AppCompat.NoActionBar&quot;</code></p>\n"},{"tags":[],"owner":{"account_id":2197099,"reputation":2498,"user_id":1942463,"display_name":"Rajasekaran M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645615836,"creation_date":1645615836,"answer_id":71236114,"question_id":71235882,"body_markdown":"You can use Material Button and it&#39;s won&#39;t affect ripple and elevation of Button\r\n\r\n [![enter image description here][1]][1]\r\n\r\n     &lt;com.google.android.material.button.MaterialButton\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                app:backgroundTint=&quot;&quot;ff0000&quot;\r\n                android:text=&quot;Hello World&quot;\r\n                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GUSaW.png","title":"Android studio button fixed color can&#39;t be changed","body":"<p>You can use Material Button and it's won't affect ripple and elevation of Button</p>\n<p><a href=\"https://i.stack.imgur.com/GUSaW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GUSaW.png\" alt=\"enter image description here\" /></a></p>\n<pre><code> &lt;com.google.android.material.button.MaterialButton\n            android:layout_width=&quot;wrap_content&quot;\n            app:backgroundTint=&quot;&quot;ff0000&quot;\n            android:text=&quot;Hello World&quot;\n            android:layout_height=&quot;wrap_content&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":17220836,"reputation":1,"user_id":12467643,"display_name":"chaimmmm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1645633231,"creation_date":1645614852,"question_id":71235882,"body_markdown":"can someone help me \r\nI&#39;m using a button in android ,I&#39;m unable to change the button color , this is my xml code :\r\n\r\n      &lt;Button\r\n        android:id=&quot;@+id/button3&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Button&quot;\r\n        tools:layout_editor_absoluteX=&quot;133dp&quot;\r\n        tools:layout_editor_absoluteY=&quot;584dp&quot; /&gt;\r\n","title":"Android studio button fixed color can&#39;t be changed","body":"<p>can someone help me\nI'm using a button in android ,I'm unable to change the button color , this is my xml code :</p>\n<pre><code>  &lt;Button\n    android:id=&quot;@+id/button3&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Button&quot;\n    tools:layout_editor_absoluteX=&quot;133dp&quot;\n    tools:layout_editor_absoluteY=&quot;584dp&quot; /&gt;\n</code></pre>\n"},{"tags":["java","memory","heap-memory","java-memory-model"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1645634335,"post_id":71239951,"comment_id":125926172,"body_markdown":"&quot;Total memory use of a process&quot; has always been a topic that&#39;s way more complex than most people realize. It basically depends on which part of shared and non-shared memory you cound. In some numbers shared libraries might be included in others not. So the only real answer is: check what *exactly* each of those tools counts in which numbers.","body":"&quot;Total memory use of a process&quot; has always been a topic that&#39;s way more complex than most people realize. It basically depends on which part of shared and non-shared memory you cound. In some numbers shared libraries might be included in others not. So the only real answer is: check what <i>exactly</i> each of those tools counts in which numbers."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645633112,"creation_date":1645633112,"answer_id":71240533,"question_id":71239951,"body_markdown":"The jar size is not related to the JVM memory usage at all.\r\n\r\nA jar can hold classes, interfaces, but potentially also data that are not directly related to java like images, property files, text files, jsons and so on. \r\n\r\nAlso a jar holding only a single class cannot be compared with its memory usage. Infact the jar uses classes of the jre (String, ArrayList, ...) that are not present in the jar itself but are loaded in the memory. \r\n\r\nWhat you can do examining the memory using a profiler is a check of the usage of the running application. Basically you can answers questions like:\r\n- Is the memory released when it is no more used? \r\n- Is there any sort of cache holding data and never releasing them? \r\n- Is there any object bigger then expected?\r\n- Can I decrease the quantity of memory for this application \r\n- How often is the garbage collector called?\r\n- Can I suggest to use a different kind of garbage collector?\r\n\r\nIn any case remember that **the disk size of a jar is absolutely not related to the JVM memory usage**","title":"Need clarification on memory usage of a jar","body":"<p>The jar size is not related to the JVM memory usage at all.</p>\n<p>A jar can hold classes, interfaces, but potentially also data that are not directly related to java like images, property files, text files, jsons and so on.</p>\n<p>Also a jar holding only a single class cannot be compared with its memory usage. Infact the jar uses classes of the jre (String, ArrayList, ...) that are not present in the jar itself but are loaded in the memory.</p>\n<p>What you can do examining the memory using a profiler is a check of the usage of the running application. Basically you can answers questions like:</p>\n<ul>\n<li>Is the memory released when it is no more used?</li>\n<li>Is there any sort of cache holding data and never releasing them?</li>\n<li>Is there any object bigger then expected?</li>\n<li>Can I decrease the quantity of memory for this application</li>\n<li>How often is the garbage collector called?</li>\n<li>Can I suggest to use a different kind of garbage collector?</li>\n</ul>\n<p>In any case remember that <strong>the disk size of a jar is absolutely not related to the JVM memory usage</strong></p>\n"}],"owner":{"account_id":1295240,"reputation":767,"user_id":1246467,"accept_rate":67,"display_name":"prime"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1645633112,"creation_date":1645630839,"question_id":71239951,"body_markdown":"I&#39;m running a jar using this command. Note the memory parameters. (The jar size is 56MB)\r\n\r\n```\r\njava -jar -Xms64M -Xmx256M build/libs/account-1.0.0-SNAPSHOT.jar \r\n\r\n```\r\n\r\nIn my Ubuntu System Monitor, the jar memory usage is shown as below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I profile the jar using YourKit, it shows below, which doesn&#39;t add up to above memory usage. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat am I missing here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e8yVT.png\r\n  [2]: https://i.stack.imgur.com/dYpzt.png","title":"Need clarification on memory usage of a jar","body":"<p>I'm running a jar using this command. Note the memory parameters. (The jar size is 56MB)</p>\n<pre><code>java -jar -Xms64M -Xmx256M build/libs/account-1.0.0-SNAPSHOT.jar \n\n</code></pre>\n<p>In my Ubuntu System Monitor, the jar memory usage is shown as below.</p>\n<p><a href=\"https://i.stack.imgur.com/e8yVT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e8yVT.png\" alt=\"enter image description here\" /></a></p>\n<p>When I profile the jar using YourKit, it shows below, which doesn't add up to above memory usage.</p>\n<p><a href=\"https://i.stack.imgur.com/dYpzt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dYpzt.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I missing here?</p>\n"},{"tags":["java","android","android-sensors","temperature"],"answers":[{"tags":[],"owner":{"account_id":17834898,"reputation":814,"user_id":12954121,"display_name":"Thomas Morris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589553336,"creation_date":1589553336,"answer_id":61821761,"question_id":61820826,"body_markdown":"In the first code you have a section which is on sensor changed so this will run each time causing your issue. In you oncreate all the API to get the temperature once and chuck it to the text view as a string. For &#176;C to &#176;F you will need to convert. I would just do this manually:\r\n\r\n ```(X&#176;C &#215; 9/5) + 32 = result_&#176;F```\r\n\r\n Where X is the input temperature and result is the output in &#176;F.","title":"Fix the ambient Temperature in Android","body":"<p>In the first code you have a section which is on sensor changed so this will run each time causing your issue. In you oncreate all the API to get the temperature once and chuck it to the text view as a string. For °C to °F you will need to convert. I would just do this manually:</p>\n\n<p><code>(X°C × 9/5) + 32 = result_°F</code></p>\n\n<p>Where X is the input temperature and result is the output in °F.</p>\n"},{"tags":[],"owner":{"account_id":17834898,"reputation":814,"user_id":12954121,"display_name":"Thomas Morris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1589805344,"creation_date":1589805344,"answer_id":61869731,"question_id":61820826,"body_markdown":"Here is an example of the button temp change feature not exactly sure how you read the temp so the line of Sensor.gettemp will probably need to change. Run this from a button push, it will update your text view\r\n\r\n```\r\nprivate void update_text_unit()//Run from button\r\n    {\r\n        boolean toogle = false;\r\n        float temperature = 0;\r\n        float C_temp = 0;\r\n        float F_temp =0;\r\n        //Get sensor data\r\n        C_temp = Sensor.gettemp();\r\n        F_temp = (C_temp * (9/5) +32);//Convert to &#176;F\r\n        if(toogle = true) {\r\n            yourtextview.setText(&quot;Temp is:&quot; + C_temp + &quot;&#176;C&quot;);\r\n            toogle = false;\r\n        }\r\n        else {\r\n            yourtextview.setText(&quot;Temp is:&quot; + F_temp + &quot;&#176;F&quot;);\r\n            toogle = true;\r\n        }\r\n    }\r\n\r\n```","title":"Fix the ambient Temperature in Android","body":"<p>Here is an example of the button temp change feature not exactly sure how you read the temp so the line of Sensor.gettemp will probably need to change. Run this from a button push, it will update your text view</p>\n\n<pre><code>private void update_text_unit()//Run from button\n    {\n        boolean toogle = false;\n        float temperature = 0;\n        float C_temp = 0;\n        float F_temp =0;\n        //Get sensor data\n        C_temp = Sensor.gettemp();\n        F_temp = (C_temp * (9/5) +32);//Convert to °F\n        if(toogle = true) {\n            yourtextview.setText(\"Temp is:\" + C_temp + \"°C\");\n            toogle = false;\n        }\n        else {\n            yourtextview.setText(\"Temp is:\" + F_temp + \"°F\");\n            toogle = true;\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":17967239,"reputation":25,"user_id":13056875,"display_name":"KDeutsch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1484,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":61869731,"answer_count":2,"score":1,"last_activity_date":1645633017,"creation_date":1589550424,"question_id":61820826,"body_markdown":"I successfully made an app to measure the ambient temperature in Android studio. But the next step doesn&#39;t want to work. here&#39;s the point:\r\n- when I start the app the temperature should be shown in 1 textView (works so far). Then it should stay with this temperature but it changes. I only want to check the temperature once. \r\n- when I click on submit it shall do the same with the second textView. \r\n\r\nI did this successfully with the time but with the temperature, it won&#39;t work. And my second question is, I did a lot of research and it looks like the temperature will always be shown in &#176;c. Can I change that so the people who want it in &#176;F can have it this way?\r\n\r\nCode for the temperature without change the value and with the button for getting the temperature on textView2:\r\n\r\n  MainActivity:\r\n    \r\n    public class MainActivity extends AppCompatActivity implements SensorEventListener {\r\n        private TextView textView, textView2;\r\n        private Button button;\r\n        private SensorManager sensorManager;\r\n        private Sensor tempSensor;\r\n        private Boolean isTemperatureSensorAvailable;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            textView = findViewById(R.id.textView);\r\n            textView2 = findViewById(R.id.textView2);\r\n            button = findViewById(R.id.button);\r\n            sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\r\n    \r\n            if(sensorManager.getDefaultSensor(Sensor.TYPE_AMBIENT_TEMPERATURE) !=null) {\r\n                tempSensor = sensorManager.getDefaultSensor(Sensor.TYPE_AMBIENT_TEMPERATURE);\r\n                isTemperatureSensorAvailable = true;\r\n            }else{\r\n                textView.setText(&quot;Temperature Sensor is not available&quot;);\r\n                isTemperatureSensorAvailable = false;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onSensorChanged(SensorEvent event) {\r\n        }\r\n    \r\n        @Override\r\n        public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onResume(){\r\n            super.onResume();\r\n            if(isTemperatureSensorAvailable){\r\n                sensorManager.registerListener(this,tempSensor, SensorManager.SENSOR_DELAY_NORMAL);\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void onPause(){\r\n            super.onPause();\r\n            if(isTemperatureSensorAvailable){\r\n                sensorManager.unregisterListener(this);\r\n            }\r\n        }\r\n    \r\n        private void update_text_unit()//Run from button\r\n        {\r\n            boolean toogle = false;\r\n            float temperature = 0;\r\n            float C_temp = 0;\r\n            float F_temp =0;\r\n            //Get sensor data\r\n            Sensor temp = sensorManager.getDefaultSensor(Sensor.TYPE_AMBIENT_TEMPERATURE);\r\n            F_temp = (C_temp * (9/5) +32);//Convert to &#176;F\r\n            if(toogle = true) {\r\n                textView2.setText(&quot;Temp is:&quot; + C_temp + &quot;&#176;C&quot;);\r\n                toogle = false;\r\n            }\r\n            else {\r\n                textView2.setText(&quot;Temp is:&quot; + F_temp + &quot;&#176;F&quot;);\r\n                toogle = true;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI hope someone can help me going into a better direction.\r\n\r\nThanks for your help.\r\n","title":"Fix the ambient Temperature in Android","body":"<p>I successfully made an app to measure the ambient temperature in Android studio. But the next step doesn't want to work. here's the point:</p>\n<ul>\n<li>when I start the app the temperature should be shown in 1 textView (works so far). Then it should stay with this temperature but it changes. I only want to check the temperature once.</li>\n<li>when I click on submit it shall do the same with the second textView.</li>\n</ul>\n<p>I did this successfully with the time but with the temperature, it won't work. And my second question is, I did a lot of research and it looks like the temperature will always be shown in °c. Can I change that so the people who want it in °F can have it this way?</p>\n<p>Code for the temperature without change the value and with the button for getting the temperature on textView2:</p>\n<p>MainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements SensorEventListener {\n    private TextView textView, textView2;\n    private Button button;\n    private SensorManager sensorManager;\n    private Sensor tempSensor;\n    private Boolean isTemperatureSensorAvailable;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        textView = findViewById(R.id.textView);\n        textView2 = findViewById(R.id.textView2);\n        button = findViewById(R.id.button);\n        sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\n\n        if(sensorManager.getDefaultSensor(Sensor.TYPE_AMBIENT_TEMPERATURE) !=null) {\n            tempSensor = sensorManager.getDefaultSensor(Sensor.TYPE_AMBIENT_TEMPERATURE);\n            isTemperatureSensorAvailable = true;\n        }else{\n            textView.setText(&quot;Temperature Sensor is not available&quot;);\n            isTemperatureSensorAvailable = false;\n        }\n    }\n\n    @Override\n    public void onSensorChanged(SensorEvent event) {\n    }\n\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n\n    }\n\n    @Override\n    protected void onResume(){\n        super.onResume();\n        if(isTemperatureSensorAvailable){\n            sensorManager.registerListener(this,tempSensor, SensorManager.SENSOR_DELAY_NORMAL);\n        }\n    }\n\n\n    @Override\n    protected void onPause(){\n        super.onPause();\n        if(isTemperatureSensorAvailable){\n            sensorManager.unregisterListener(this);\n        }\n    }\n\n    private void update_text_unit()//Run from button\n    {\n        boolean toogle = false;\n        float temperature = 0;\n        float C_temp = 0;\n        float F_temp =0;\n        //Get sensor data\n        Sensor temp = sensorManager.getDefaultSensor(Sensor.TYPE_AMBIENT_TEMPERATURE);\n        F_temp = (C_temp * (9/5) +32);//Convert to °F\n        if(toogle = true) {\n            textView2.setText(&quot;Temp is:&quot; + C_temp + &quot;°C&quot;);\n            toogle = false;\n        }\n        else {\n            textView2.setText(&quot;Temp is:&quot; + F_temp + &quot;°F&quot;);\n            toogle = true;\n        }\n    }\n}\n</code></pre>\n<p>I hope someone can help me going into a better direction.</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","azure-blob-storage","spring-resttemplate"],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645632694,"creation_date":1645632363,"answer_id":71240352,"question_id":71240132,"body_markdown":"No idea why not to use SDK, Also no idea who might be told you.\r\n\r\nAnyway, Yes you can use RestTemplate or even better [webClient](https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-webclient.html).\r\n\r\nAll you have to do is to map the request sent with the SDK to the cloud.\r\n\r\nYou have to add header authentication manually. serialize the file I suppose.\r\n\r\nAnd it&#39;s a lot of work when you do have a supported SDK for client.\r\n\r\nFor example , here is a simple request sent with WebClient for Redmine server\r\n\r\n```\r\nString url = &quot;http://localhost:3001/projects.json&quot;; //Redmine local server\r\nRestTemplate restTemplate = new RestTemplate();\r\nJSONObject object = new JSONObject();   //Json object that will need to be sent to redmine\r\nobject.put(&quot;name&quot;, &quot;dummyName&quot;);        // Should look like this\r\nobject.put(&quot;identifier&quot;, &quot;dummyId&quot;);    // {&quot;project&quot;:{&quot;identifier&quot;:&quot;dummyId&quot;,&quot;name&quot;:&quot;dummyName&quot;}}\r\nJSONObject body = new JSONObject();     \r\nbody.put(&quot;project&quot;, object);            \r\nString plainCreds = &quot;user:bitnami1&quot;; // default basic auth encoding\r\nbyte[] plainCredsBytes = plainCreds.getBytes();\r\nbyte[] base64CredsBytes = Base64.encodeBase64(plainCredsBytes);\r\nString base64Creds = new String(base64CredsBytes);\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.add(&quot;Authorization&quot;, &quot;Basic &quot; + base64Creds); \r\nheaders.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\nRequestEntity&lt;JSONObject&gt; requestEntity = RequestEntity\r\n                .post(new URI(url))\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .headers(headers)\r\n                .body(body);\r\nResponseEntity&lt;String&gt; r = restTemplate.exchange(requestEntity, String.class);\r\n```\r\nAnd this is who the same example will look like using RestTemplate\r\n\r\n```\r\nString url = &quot;http://localhost:3001/projects.json&quot;; //Redmine local server\r\nRestTemplate restTemplate = new RestTemplate();\r\nJSONObject object = new JSONObject();   //Json object that will need to be sent to redmine\r\nobject.put(&quot;name&quot;, &quot;dummyName&quot;);        // Should look like this\r\nobject.put(&quot;identifier&quot;, &quot;dummyId&quot;);    // {&quot;project&quot;:{&quot;identifier&quot;:&quot;dummyId&quot;,&quot;name&quot;:&quot;dummyName&quot;}}\r\nJSONObject body = new JSONObject();     \r\nbody.put(&quot;project&quot;, object);            \r\nString plainCreds = &quot;user:bitnami1&quot;; // default basic auth encoding\r\nbyte[] plainCredsBytes = plainCreds.getBytes();\r\nbyte[] base64CredsBytes = Base64.encodeBase64(plainCredsBytes);\r\nString base64Creds = new String(base64CredsBytes);\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.add(&quot;Authorization&quot;, &quot;Basic &quot; + base64Creds); \r\nheaders.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\nHttpEntity&lt;Object&gt; entity = new HttpEntity&lt;Object&gt;(body, headers);\r\nResponseEntity&lt;String&gt; result = restTemplate.exchange(&quot;http://localhost:3001/projects.json&quot;,\r\n                HttpMethod.POST,\r\n                entity,\r\n                String.class);\r\n```\r\nBoth of these, Were only possible because am trying to match this curl request\r\n```\r\ncurl --location --request POST &#39;localhost:3001/projects.json&#39; \\\r\n--header &#39;Authorization: Basic dXNlcjpiaXRuYW1pMQ==&#39; \\\r\n--header &#39;Content-Type: application/json&#39; \\\r\n--data-raw &#39;{&quot;project&quot;:{&quot;identifier&quot;:&quot;dummyId&quot;,&quot;name&quot;:&quot;dummyName&quot;}}&#39;\r\n```\r\n\r\nSo once You know what the request looks like, You can use RestTemplate or WebClient, or any other similar class to build up your request.","title":"Is it possible to use resttemplate to upload file in azure blob storage - Java","body":"<p>No idea why not to use SDK, Also no idea who might be told you.</p>\n<p>Anyway, Yes you can use RestTemplate or even better <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-webclient.html\" rel=\"nofollow noreferrer\">webClient</a>.</p>\n<p>All you have to do is to map the request sent with the SDK to the cloud.</p>\n<p>You have to add header authentication manually. serialize the file I suppose.</p>\n<p>And it's a lot of work when you do have a supported SDK for client.</p>\n<p>For example , here is a simple request sent with WebClient for Redmine server</p>\n<pre><code>String url = &quot;http://localhost:3001/projects.json&quot;; //Redmine local server\nRestTemplate restTemplate = new RestTemplate();\nJSONObject object = new JSONObject();   //Json object that will need to be sent to redmine\nobject.put(&quot;name&quot;, &quot;dummyName&quot;);        // Should look like this\nobject.put(&quot;identifier&quot;, &quot;dummyId&quot;);    // {&quot;project&quot;:{&quot;identifier&quot;:&quot;dummyId&quot;,&quot;name&quot;:&quot;dummyName&quot;}}\nJSONObject body = new JSONObject();     \nbody.put(&quot;project&quot;, object);            \nString plainCreds = &quot;user:bitnami1&quot;; // default basic auth encoding\nbyte[] plainCredsBytes = plainCreds.getBytes();\nbyte[] base64CredsBytes = Base64.encodeBase64(plainCredsBytes);\nString base64Creds = new String(base64CredsBytes);\nHttpHeaders headers = new HttpHeaders();\nheaders.add(&quot;Authorization&quot;, &quot;Basic &quot; + base64Creds); \nheaders.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\nRequestEntity&lt;JSONObject&gt; requestEntity = RequestEntity\n                .post(new URI(url))\n                .accept(MediaType.APPLICATION_JSON)\n                .headers(headers)\n                .body(body);\nResponseEntity&lt;String&gt; r = restTemplate.exchange(requestEntity, String.class);\n</code></pre>\n<p>And this is who the same example will look like using RestTemplate</p>\n<pre><code>String url = &quot;http://localhost:3001/projects.json&quot;; //Redmine local server\nRestTemplate restTemplate = new RestTemplate();\nJSONObject object = new JSONObject();   //Json object that will need to be sent to redmine\nobject.put(&quot;name&quot;, &quot;dummyName&quot;);        // Should look like this\nobject.put(&quot;identifier&quot;, &quot;dummyId&quot;);    // {&quot;project&quot;:{&quot;identifier&quot;:&quot;dummyId&quot;,&quot;name&quot;:&quot;dummyName&quot;}}\nJSONObject body = new JSONObject();     \nbody.put(&quot;project&quot;, object);            \nString plainCreds = &quot;user:bitnami1&quot;; // default basic auth encoding\nbyte[] plainCredsBytes = plainCreds.getBytes();\nbyte[] base64CredsBytes = Base64.encodeBase64(plainCredsBytes);\nString base64Creds = new String(base64CredsBytes);\nHttpHeaders headers = new HttpHeaders();\nheaders.add(&quot;Authorization&quot;, &quot;Basic &quot; + base64Creds); \nheaders.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\nHttpEntity&lt;Object&gt; entity = new HttpEntity&lt;Object&gt;(body, headers);\nResponseEntity&lt;String&gt; result = restTemplate.exchange(&quot;http://localhost:3001/projects.json&quot;,\n                HttpMethod.POST,\n                entity,\n                String.class);\n</code></pre>\n<p>Both of these, Were only possible because am trying to match this curl request</p>\n<pre><code>curl --location --request POST 'localhost:3001/projects.json' \\\n--header 'Authorization: Basic dXNlcjpiaXRuYW1pMQ==' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{&quot;project&quot;:{&quot;identifier&quot;:&quot;dummyId&quot;,&quot;name&quot;:&quot;dummyName&quot;}}'\n</code></pre>\n<p>So once You know what the request looks like, You can use RestTemplate or WebClient, or any other similar class to build up your request.</p>\n"}],"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71240352,"answer_count":1,"score":1,"last_activity_date":1645632694,"creation_date":1645631501,"question_id":71240132,"body_markdown":"Is there a way to upload files to Azure blob storage using rest template in Java - Spring framework ? I see all examples using SDK and it was successful but we are told not to use SDK - Java.\r\nI know question is 10,000 feet high, but any pointers/direction will help a lot.","title":"Is it possible to use resttemplate to upload file in azure blob storage - Java","body":"<p>Is there a way to upload files to Azure blob storage using rest template in Java - Spring framework ? I see all examples using SDK and it was successful but we are told not to use SDK - Java.\nI know question is 10,000 feet high, but any pointers/direction will help a lot.</p>\n"},{"tags":["java","android","string","kotlin","format"],"answers":[{"tags":[],"owner":{"account_id":5342286,"reputation":779,"user_id":4258926,"display_name":"Matthijs van Hest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645632637,"creation_date":1645630291,"answer_id":71239812,"question_id":71239567,"body_markdown":"I&#39;ve found something which could be called a dirty solution.\r\n\r\n    tvLat.text =\r\n        getString(R.string.gps_format,\r\n            DecimalFormat(\r\n                &quot;0.00000&quot;,\r\n                DecimalFormatSymbols(Locale.getDefault())\r\n                    .apply { decimalSeparator = &#39;.&#39; }\r\n            ).format(lat).toString()\r\n        )\r\n\r\nAlong with a change in my resource file\r\n\r\n    &lt;string name=&quot;gps_format&quot;&gt;%s&amp;#176;&lt;/string&gt;\r\n\r\nNew output:\r\n\r\n    52.50270&#176;\r\n    5.41982&#176;\r\n\r\nI would like to have the format in my string resource though.\r\nAnyone has suggestions?","title":"Change decimal seperator locale in Android string resource","body":"<p>I've found something which could be called a dirty solution.</p>\n<pre><code>tvLat.text =\n    getString(R.string.gps_format,\n        DecimalFormat(\n            &quot;0.00000&quot;,\n            DecimalFormatSymbols(Locale.getDefault())\n                .apply { decimalSeparator = '.' }\n        ).format(lat).toString()\n    )\n</code></pre>\n<p>Along with a change in my resource file</p>\n<pre><code>&lt;string name=&quot;gps_format&quot;&gt;%s&amp;#176;&lt;/string&gt;\n</code></pre>\n<p>New output:</p>\n<pre><code>52.50270°\n5.41982°\n</code></pre>\n<p>I would like to have the format in my string resource though.\nAnyone has suggestions?</p>\n"}],"owner":{"account_id":5342286,"reputation":779,"user_id":4258926,"display_name":"Matthijs van Hest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645632637,"creation_date":1645629423,"question_id":71239567,"body_markdown":"I want to display some co&#246;rdinates in my Android app.\r\nI receive two double values (`lat` and `long` in decimal degrees notation) from my backend.\r\n\r\nExample data:\r\n\r\n    var lat : Double = 52.5027\r\n    var long : Double = 5.41982\r\n\r\nNow i fill my textView in my class file:\r\n\r\n    tvLat.text = getString(R.string.gps_format, lat)\r\n    tvLong.text = getString(R.string.gps_format, lat)\r\n\r\nand my xml resource file contains this:\r\n\r\n    &lt;string name=&quot;gps_format&quot;&gt;%,.5f&amp;#176;&lt;/string&gt;\r\n\r\nIt displays:\r\n\r\n    52,50270&#176;\r\n    5,41982&#176;\r\n\r\nAs I live in the Netherlands it is formatted accordingly.\r\n\r\nSee https://developer.android.com/reference/java/util/Formatter\r\n\r\n&gt; **Number Localization Algorithm**\r\n&gt;\r\n&gt; 1. ...\r\n&gt; 2. If a decimal separator is present, a locale-specific decimal separator is substituted.\r\n\r\nWe typically use a `,` as a `decimal separator`, and `.` as a `group separator` in  the Netherlands.\r\n\r\n**Question:**\r\n\r\n- Is there an international standard for the notation of co&#246;rdinates in decimal degrees which requires the decimal seperator to be `.`?\r\n- If there is, or I just want to, how do I achieve this without changing my locale or formatting for the entire app?\r\n\r\nDesired output:\r\n\r\n    52.50270&#176;\r\n    5.41982&#176;\r\n\r\nI have not found a way yet for the XML, so my guess is that it will have to be done with code. I&#39;ve looked into the `setDecimalSeparator` method, but I can&#39;t get any working solution.","title":"Change decimal seperator locale in Android string resource","body":"<p>I want to display some coördinates in my Android app.\nI receive two double values (<code>lat</code> and <code>long</code> in decimal degrees notation) from my backend.</p>\n<p>Example data:</p>\n<pre><code>var lat : Double = 52.5027\nvar long : Double = 5.41982\n</code></pre>\n<p>Now i fill my textView in my class file:</p>\n<pre><code>tvLat.text = getString(R.string.gps_format, lat)\ntvLong.text = getString(R.string.gps_format, lat)\n</code></pre>\n<p>and my xml resource file contains this:</p>\n<pre><code>&lt;string name=&quot;gps_format&quot;&gt;%,.5f&amp;#176;&lt;/string&gt;\n</code></pre>\n<p>It displays:</p>\n<pre><code>52,50270°\n5,41982°\n</code></pre>\n<p>As I live in the Netherlands it is formatted accordingly.</p>\n<p>See <a href=\"https://developer.android.com/reference/java/util/Formatter\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/util/Formatter</a></p>\n<blockquote>\n<p><strong>Number Localization Algorithm</strong></p>\n<ol>\n<li>...</li>\n<li>If a decimal separator is present, a locale-specific decimal separator is substituted.</li>\n</ol>\n</blockquote>\n<p>We typically use a <code>,</code> as a <code>decimal separator</code>, and <code>.</code> as a <code>group separator</code> in  the Netherlands.</p>\n<p><strong>Question:</strong></p>\n<ul>\n<li>Is there an international standard for the notation of coördinates in decimal degrees which requires the decimal seperator to be <code>.</code>?</li>\n<li>If there is, or I just want to, how do I achieve this without changing my locale or formatting for the entire app?</li>\n</ul>\n<p>Desired output:</p>\n<pre><code>52.50270°\n5.41982°\n</code></pre>\n<p>I have not found a way yet for the XML, so my guess is that it will have to be done with code. I've looked into the <code>setDecimalSeparator</code> method, but I can't get any working solution.</p>\n"},{"tags":["java","api","moving-average","binance","tradingview-api"],"comments":[{"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":1,"creation_date":1610695443,"post_id":65727498,"comment_id":116218321,"body_markdown":"I think you can cross check your outcome with open source library like https://www.ta-lib.org/hdr_dev.html","body":"I think you can cross check your outcome with open source library like <a href=\"https://www.ta-lib.org/hdr_dev.html\" rel=\"nofollow noreferrer\">ta-lib.org/hdr_dev.html</a>"},{"owner":{"account_id":3197708,"reputation":742,"user_id":2779368,"accept_rate":64,"display_name":"RazorAlliance192"},"score":0,"creation_date":1610735894,"post_id":65727498,"comment_id":116235530,"body_markdown":"Thanks for the suggestion. However, I still get slight differences in EMA values. Can you please help me more by running my code?","body":"Thanks for the suggestion. However, I still get slight differences in EMA values. Can you please help me more by running my code?"},{"owner":{"account_id":18816067,"reputation":3518,"user_id":13723165,"display_name":"e2e4"},"score":0,"creation_date":1610740530,"post_id":65727498,"comment_id":116237282,"body_markdown":"Do you use enough history data for ema calculation? It should be around 3x of the ema&#39;s lookback to stabilize the value. For example if ema got a length of 10, you would receive the first value on the 10th candle, but ema would be considered &#39;stable&#39; only around the 30th candle.","body":"Do you use enough history data for ema calculation? It should be around 3x of the ema&#39;s lookback to stabilize the value. For example if ema got a length of 10, you would receive the first value on the 10th candle, but ema would be considered &#39;stable&#39; only around the 30th candle."},{"owner":{"account_id":3197708,"reputation":742,"user_id":2779368,"accept_rate":64,"display_name":"RazorAlliance192"},"score":0,"creation_date":1610795800,"post_id":65727498,"comment_id":116247877,"body_markdown":"@e2e4 I cranked up the historical data to the max limit that Binance API sends back, that is a 1000 candlesticks for 1minute interval. When running my program, the values are spot on identical to the ones Binance is showing. But after 30seconds, the values differ slightly and after a minute or 2, they differ a lot (see image in my last update)","body":"@e2e4 I cranked up the historical data to the max limit that Binance API sends back, that is a 1000 candlesticks for 1minute interval. When running my program, the values are spot on identical to the ones Binance is showing. But after 30seconds, the values differ slightly and after a minute or 2, they differ a lot (see image in my last update)"},{"owner":{"account_id":1622577,"reputation":2113,"user_id":1498841,"accept_rate":86,"display_name":"Lachezar Raychev"},"score":0,"creation_date":1623806159,"post_id":65727498,"comment_id":120180871,"body_markdown":"did you find an answer to this? I am trying 2nd day now.. Found everyavailable formula, tried different wights, I can never get the ema from binance. If I manage to match them up after 5 minute everything is different\\","body":"did you find an answer to this? I am trying 2nd day now.. Found everyavailable formula, tried different wights, I can never get the ema from binance. If I manage to match them up after 5 minute everything is different\\"}],"answers":[{"tags":[],"owner":{"account_id":6872162,"reputation":21,"user_id":5282075,"display_name":"Matthias Volmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613928604,"creation_date":1613928604,"answer_id":66305096,"question_id":65727498,"body_markdown":"The problem is that `onCandlestickEvent` is not just called when a candle is completed, but actually multiple times per minute (every 2 seconds or so). The data that you are receiving in the `response` spans the time from when the candle is opened until the event time of the response, whether the candle is completed or not.\r\n\r\nTo see what I mean, you could replace the `System.out()` statement in your `startCandlestickEventStreaming` method with the following:\r\n\r\n```\r\nSystem.out.println(response.getOpenTime() + &quot;;&quot; +\r\n\tresponse.getEventTime() + &quot;;&quot; +\r\n\tresponse.getCloseTime());\r\n```\r\nYou will see that the close time of the candle actually lies in the future.\r\n\r\nIn order to update your EMA correctly, you will have to wait until the candle has actually been completed. You could store the open time of the tentative candle in a member variable, check if it has changed since the last time `onCandlestickEvent` was called, and then update your EMA with the final close value of the candle:\r\n\r\n```\r\nclient.onCandlestickEvent(symbol.toLowerCase(), interval, response -&gt; {\r\n\tLong openTime = response.getOpenTime();\t\r\n\tCandlestick updateCandlestick = candlesticksCache.get(openTime);\r\n\tif (updateCandlestick == null)\r\n\t{\r\n\t\t// new candlestick\r\n\t\tupdateCandlestick = new Candlestick();\r\n\t}\r\n\r\n\t// update candlestick with the stream data\r\n\t...\r\n\t\r\n\t// Store the updated candlestick in the cache\r\n\tcandlesticksCache.put(openTime, updateCandlestick);\r\n\r\n\tif (openTime &gt; m_LastOpenTime)\r\n\t{\r\n\t\t// need to get the close of the PREVIOUS candle\r\n\t\tCandlestick previousCandle = candlesticksCache.get(m_LastOpenTime);\r\n\t\tdouble closingPrice = Double.valueOf(previousCandle.getClose());\r\n\t\t\r\n\t\tEMA_10.update(closingPrice);\r\n\t\tEMA_20.update(closingPrice);\r\n\r\n\t\tSystem.out.println(StringUtil.replacePlaceholders(&quot;Closing price: %1 | EMA(10): %2 - EMA(20): %3&quot;, response.getClose(),\r\n                                                        DecimalFormat.format(EMA_10.get(), &quot;#.#####&quot;),\r\n                                                        DecimalFormat.format(EMA_20.get(), &quot;#.#####&quot;)));\r\n\r\n\t\tm_LastOpenTime = openTime;\r\n\t}\r\n});\t      \r\n\r\n```\r\nYou&#39;ll probably get an exception on the first response, because there are no candles on the stack yet and we don&#39;t have a `m_LastOpenTime`. You could get the current server time before calling `client.onCandlestickEvent()`:\r\n\r\n```\r\nprivate void startCandlestickEventStreaming(String symbol, CandlestickInterval interval)\r\n{\r\n\tBinanceApiClientFactory factory = BinanceApiClientFactory.newInstance();\r\n\tBinanceApiWebSocketClient client = factory.newWebSocketClient();\r\n\r\n\tBinanceApiRestClient restClient = factory.newRestClient();\r\n\tm_LastOpenTime = restClient.getServerTime();\r\n\r\n\tclient.onCandlestickEvent(symbol.toLowerCase(), interval, response -&gt; {\r\n\t\t...\r\n\t}\r\n}\r\n```","title":"Different EMA (Exponential Moving Average) than on Binance","body":"<p>The problem is that <code>onCandlestickEvent</code> is not just called when a candle is completed, but actually multiple times per minute (every 2 seconds or so). The data that you are receiving in the <code>response</code> spans the time from when the candle is opened until the event time of the response, whether the candle is completed or not.</p>\n<p>To see what I mean, you could replace the <code>System.out()</code> statement in your <code>startCandlestickEventStreaming</code> method with the following:</p>\n<pre><code>System.out.println(response.getOpenTime() + &quot;;&quot; +\n    response.getEventTime() + &quot;;&quot; +\n    response.getCloseTime());\n</code></pre>\n<p>You will see that the close time of the candle actually lies in the future.</p>\n<p>In order to update your EMA correctly, you will have to wait until the candle has actually been completed. You could store the open time of the tentative candle in a member variable, check if it has changed since the last time <code>onCandlestickEvent</code> was called, and then update your EMA with the final close value of the candle:</p>\n<pre><code>client.onCandlestickEvent(symbol.toLowerCase(), interval, response -&gt; {\n    Long openTime = response.getOpenTime(); \n    Candlestick updateCandlestick = candlesticksCache.get(openTime);\n    if (updateCandlestick == null)\n    {\n        // new candlestick\n        updateCandlestick = new Candlestick();\n    }\n\n    // update candlestick with the stream data\n    ...\n    \n    // Store the updated candlestick in the cache\n    candlesticksCache.put(openTime, updateCandlestick);\n\n    if (openTime &gt; m_LastOpenTime)\n    {\n        // need to get the close of the PREVIOUS candle\n        Candlestick previousCandle = candlesticksCache.get(m_LastOpenTime);\n        double closingPrice = Double.valueOf(previousCandle.getClose());\n        \n        EMA_10.update(closingPrice);\n        EMA_20.update(closingPrice);\n\n        System.out.println(StringUtil.replacePlaceholders(&quot;Closing price: %1 | EMA(10): %2 - EMA(20): %3&quot;, response.getClose(),\n                                                        DecimalFormat.format(EMA_10.get(), &quot;#.#####&quot;),\n                                                        DecimalFormat.format(EMA_20.get(), &quot;#.#####&quot;)));\n\n        m_LastOpenTime = openTime;\n    }\n});       \n\n</code></pre>\n<p>You'll probably get an exception on the first response, because there are no candles on the stack yet and we don't have a <code>m_LastOpenTime</code>. You could get the current server time before calling <code>client.onCandlestickEvent()</code>:</p>\n<pre><code>private void startCandlestickEventStreaming(String symbol, CandlestickInterval interval)\n{\n    BinanceApiClientFactory factory = BinanceApiClientFactory.newInstance();\n    BinanceApiWebSocketClient client = factory.newWebSocketClient();\n\n    BinanceApiRestClient restClient = factory.newRestClient();\n    m_LastOpenTime = restClient.getServerTime();\n\n    client.onCandlestickEvent(symbol.toLowerCase(), interval, response -&gt; {\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6872162,"reputation":21,"user_id":5282075,"display_name":"Matthias Volmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614532649,"creation_date":1614532649,"answer_id":66411801,"question_id":65727498,"body_markdown":"I noticed there&#39;s actually a much simpler way than my other answer. I&#39;m leaving that one up, however, because it could still be relevant for dealing with a dodgy connection where you can&#39;t necessarily rely on always getting the final candlestick with your `response`.\r\n\r\nThe `response.getBarFinal())` method allows for testing whether the response you have received is the final candlestick or if it is just an intermediate one. If you change your code as follows, your EMA will only get updated with the final close value of the candle as it should be:\r\n\r\n```\r\nif (response.getBarFinal())\r\n{\r\n\tdouble closingPrice = Double.valueOf(updateCandlestick.getClose());\r\n\tEMA_10.update(closingPrice);\r\n\tEMA_20.update(closingPrice);\r\n\t\r\n\tSystem.out.println(StringUtil.replacePlaceholders(&quot;Closing price: %1 | EMA(10): %2 - EMA(20): %3&quot;, response.getClose(),\r\n\t\t\tDecimalFormat.format(EMA_10.get(), &quot;#.#####&quot;),\r\n\t\t\tDecimalFormat.format(EMA_20.get(), &quot;#.#####&quot;)));\r\n\r\n}\r\n``` ","title":"Different EMA (Exponential Moving Average) than on Binance","body":"<p>I noticed there's actually a much simpler way than my other answer. I'm leaving that one up, however, because it could still be relevant for dealing with a dodgy connection where you can't necessarily rely on always getting the final candlestick with your <code>response</code>.</p>\n<p>The <code>response.getBarFinal())</code> method allows for testing whether the response you have received is the final candlestick or if it is just an intermediate one. If you change your code as follows, your EMA will only get updated with the final close value of the candle as it should be:</p>\n<pre><code>if (response.getBarFinal())\n{\n    double closingPrice = Double.valueOf(updateCandlestick.getClose());\n    EMA_10.update(closingPrice);\n    EMA_20.update(closingPrice);\n    \n    System.out.println(StringUtil.replacePlaceholders(&quot;Closing price: %1 | EMA(10): %2 - EMA(20): %3&quot;, response.getClose(),\n            DecimalFormat.format(EMA_10.get(), &quot;#.#####&quot;),\n            DecimalFormat.format(EMA_20.get(), &quot;#.#####&quot;)));\n\n}\n</code></pre>\n"}],"owner":{"account_id":3197708,"reputation":742,"user_id":2779368,"accept_rate":64,"display_name":"RazorAlliance192"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5547,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1645632626,"creation_date":1610661625,"question_id":65727498,"body_markdown":"I am writing a Java program by using the [Binance JAVA API][1] to retrieve the 1-minute interval candelsticks of a trading pair. Using [this][2] Java class, I want to calculate the EMA (Exponential Moving Average) of the past 10 days.\r\n\r\nThe Binance JAVA API websocket implementation gets the latest depth events, which also contains the current closing price that I use to update the EMA calculation by calling the `EMA#update` method.\r\n\r\nHowever, I notice that the EMA showing on the Binance&#39;s graph, does not correspond to the ones I get from my code. Also, I notice that the values need some time to &#39;settle&#39; before giving (somewhat) same values compared to those shown on Binance.\r\n\r\n[![Output of the program][3]][3]\r\n\r\n[![Values on Binance][4]][4]\r\n\r\nOn TradingView I found [a formula][5] to calculate the EMA (that shows the same EMA value as on Binance), but that is different than the one used in the EMA class. However, even when using this formula, the values are very different than the one on Binance.\r\n\r\nCould someone help me figure out what the issue is and how to obtain the same values?\r\n\r\n**UPDATE 1: code provided**\r\n\r\n    import java.util.*;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import com.binance.api.client.BinanceApiClientFactory;\r\n    import com.binance.api.client.BinanceApiRestClient;\r\n    import com.binance.api.client.BinanceApiWebSocketClient;\r\n    import com.binance.api.client.domain.market.Candlestick;\r\n    import com.binance.api.client.domain.market.CandlestickInterval;\r\n    import core.util.text.DecimalFormat;\r\n    import core.util.text.StringUtil;\r\n    \r\n    public class test_003\r\n    {\r\n      private Map&lt;Long, Candlestick&gt; candlesticksCache = new TreeMap&lt;&gt;();\r\n    \r\n      private EMA EMA_10;\r\n      private EMA EMA_20;\r\n    \r\n      public static void main(String[] pArgs)\r\n      {\r\n        new test_003();\r\n      }\r\n    \r\n      private test_003()\r\n      {\r\n        Locale.setDefault(Locale.US);\r\n    \r\n        candlesticksCacheExample(&quot;ADAUSDT&quot;, CandlestickInterval.ONE_MINUTE);\r\n      }\r\n    \r\n      private void candlesticksCacheExample(String symbol, CandlestickInterval interval)\r\n      {\r\n        initializeCandlestickCache(symbol, interval);\r\n    \r\n        startCandlestickEventStreaming(symbol, interval);\r\n      }\r\n    \r\n      private void initializeCandlestickCache(String symbol, CandlestickInterval interval)\r\n      {\r\n        BinanceApiClientFactory factory = BinanceApiClientFactory.newInstance();\r\n        BinanceApiRestClient client = factory.newRestClient();\r\n    \r\n        List&lt;Candlestick&gt; candlestickBars_10 = client.getCandlestickBars(symbol.toUpperCase(), interval, Integer.valueOf(11), null, null);\r\n        List&lt;Candlestick&gt; candlestickBars_20 = client.getCandlestickBars(symbol.toUpperCase(), interval, Integer.valueOf(21), null, null);\r\n    \r\n        List&lt;Double&gt; closingPriceList_10 = candlestickBars_10.stream().map(c -&gt; Double.valueOf(c.getClose())).collect(Collectors.toList());\r\n        List&lt;Double&gt; closingPriceList_20 = candlestickBars_20.stream().map(c -&gt; Double.valueOf(c.getClose())).collect(Collectors.toList());\r\n    \r\n        EMA_10 = new EMA(closingPriceList_10, Integer.valueOf(10));\r\n        EMA_20 = new EMA(closingPriceList_20, Integer.valueOf(20));\r\n      }\r\n    \r\n      private void startCandlestickEventStreaming(String symbol, CandlestickInterval interval)\r\n      {\r\n        BinanceApiClientFactory factory = BinanceApiClientFactory.newInstance();\r\n        BinanceApiWebSocketClient client = factory.newWebSocketClient();\r\n    \r\n        client.onCandlestickEvent(symbol.toLowerCase(), interval, response -&gt; {\r\n          Long openTime = response.getOpenTime();\r\n          Candlestick updateCandlestick = candlesticksCache.get(openTime);\r\n          if (updateCandlestick == null)\r\n          {\r\n            // new candlestick\r\n            updateCandlestick = new Candlestick();\r\n          }\r\n    \r\n          // update candlestick with the stream data\r\n          updateCandlestick.setOpenTime(response.getOpenTime());\r\n          updateCandlestick.setOpen(response.getOpen());\r\n          updateCandlestick.setLow(response.getLow());\r\n          updateCandlestick.setHigh(response.getHigh());\r\n          updateCandlestick.setClose(response.getClose());\r\n          updateCandlestick.setCloseTime(response.getCloseTime());\r\n          updateCandlestick.setVolume(response.getVolume());\r\n          updateCandlestick.setNumberOfTrades(response.getNumberOfTrades());\r\n          updateCandlestick.setQuoteAssetVolume(response.getQuoteAssetVolume());\r\n          updateCandlestick.setTakerBuyQuoteAssetVolume(response.getTakerBuyQuoteAssetVolume());\r\n          updateCandlestick.setTakerBuyBaseAssetVolume(response.getTakerBuyQuoteAssetVolume());\r\n    \r\n          // Store the updated candlestick in the cache\r\n          candlesticksCache.put(openTime, updateCandlestick);\r\n    \r\n          double closingPrice = Double.valueOf(updateCandlestick.getClose());\r\n    \r\n          EMA_10.update(closingPrice);\r\n          EMA_20.update(closingPrice);\r\n    \r\n          System.out.println(StringUtil.replacePlaceholders(&quot;Closing price: %1 | EMA(10): %2 - EMA(20): %3&quot;, response.getClose(),\r\n                                                            DecimalFormat.format(EMA_10.get(), &quot;#.#####&quot;),\r\n                                                            DecimalFormat.format(EMA_20.get(), &quot;#.#####&quot;)));\r\n        });\r\n      }\r\n    \r\n      public class EMA\r\n      {\r\n    \r\n        private double currentEMA;\r\n        private final int period;\r\n        private final double multiplier;\r\n        private final List&lt;Double&gt; EMAhistory;\r\n        private final boolean historyNeeded;\r\n        private String fileName;\r\n    \r\n    \r\n        public EMA(List&lt;Double&gt; closingPrices, int period)\r\n        {\r\n          this(closingPrices, period, false);\r\n        }\r\n    \r\n        public EMA(List&lt;Double&gt; closingPrices, int period, boolean historyNeeded)\r\n        {\r\n          currentEMA = 0;\r\n          this.period = period;\r\n          this.historyNeeded = historyNeeded;\r\n          this.multiplier = 2.0 / (double) (period + 1);\r\n          this.EMAhistory = new ArrayList&lt;&gt;();\r\n          init(closingPrices);\r\n        }\r\n    \r\n        public double get()\r\n        {\r\n          return currentEMA;\r\n        }\r\n    \r\n        public double getTemp(double newPrice)\r\n        {\r\n          return (newPrice - currentEMA) * multiplier + currentEMA;\r\n        }\r\n    \r\n        public void init(List&lt;Double&gt; closingPrices)\r\n        {\r\n          if (period &gt; closingPrices.size()) return;\r\n    \r\n          //Initial SMA\r\n          for (int i = 0; i &lt; period; i++)\r\n          {\r\n            currentEMA += closingPrices.get(i);\r\n          }\r\n    \r\n          currentEMA = currentEMA / (double) period;\r\n          if (historyNeeded) EMAhistory.add(currentEMA);\r\n          //Dont use latest unclosed candle;\r\n          for (int i = period; i &lt; closingPrices.size() - 1; i++)\r\n          {\r\n            update(closingPrices.get(i));\r\n          }\r\n        }\r\n    \r\n        public void update(double newPrice)\r\n        {\r\n          // EMA = (Close - EMA(previousBar)) * multiplier + EMA(previousBar)\r\n          currentEMA = (newPrice - currentEMA) * multiplier + currentEMA;\r\n    \r\n          if (historyNeeded) EMAhistory.add(currentEMA);\r\n        }\r\n    \r\n        public int check(double newPrice)\r\n        {\r\n          return 0;\r\n        }\r\n    \r\n        public String getExplanation()\r\n        {\r\n          return null;\r\n        }\r\n    \r\n        public List&lt;Double&gt; getEMAhistory()\r\n        {\r\n          return EMAhistory;\r\n        }\r\n    \r\n        public int getPeriod()\r\n        {\r\n          return period;\r\n        }\r\n      }\r\n    }\r\n\r\n**UPDATE 2**\r\n\r\n[![enter image description here][6]][6]\r\n\r\n  [1]: https://github.com/binance-exchange/binance-java-api/blob/master/src/test/java/com/binance/api/examples/CandlesticksCacheExample.java\r\n  [2]: https://github.com/markusaksli/TradeBot/blob/master/src/main/java/indicators/EMA.java\r\n  [3]: https://i.stack.imgur.com/jSCfB.png\r\n  [4]: https://i.stack.imgur.com/GiwWd.png\r\n  [5]: https://www.tradingview.com/support/solutions/43000592270-exponential-moving-average/\r\n  [6]: https://i.stack.imgur.com/owpLu.png","title":"Different EMA (Exponential Moving Average) than on Binance","body":"<p>I am writing a Java program by using the <a href=\"https://github.com/binance-exchange/binance-java-api/blob/master/src/test/java/com/binance/api/examples/CandlesticksCacheExample.java\" rel=\"nofollow noreferrer\">Binance JAVA API</a> to retrieve the 1-minute interval candelsticks of a trading pair. Using <a href=\"https://github.com/markusaksli/TradeBot/blob/master/src/main/java/indicators/EMA.java\" rel=\"nofollow noreferrer\">this</a> Java class, I want to calculate the EMA (Exponential Moving Average) of the past 10 days.</p>\n<p>The Binance JAVA API websocket implementation gets the latest depth events, which also contains the current closing price that I use to update the EMA calculation by calling the <code>EMA#update</code> method.</p>\n<p>However, I notice that the EMA showing on the Binance's graph, does not correspond to the ones I get from my code. Also, I notice that the values need some time to 'settle' before giving (somewhat) same values compared to those shown on Binance.</p>\n<p><a href=\"https://i.stack.imgur.com/jSCfB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jSCfB.png\" alt=\"Output of the program\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/GiwWd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GiwWd.png\" alt=\"Values on Binance\" /></a></p>\n<p>On TradingView I found <a href=\"https://www.tradingview.com/support/solutions/43000592270-exponential-moving-average/\" rel=\"nofollow noreferrer\">a formula</a> to calculate the EMA (that shows the same EMA value as on Binance), but that is different than the one used in the EMA class. However, even when using this formula, the values are very different than the one on Binance.</p>\n<p>Could someone help me figure out what the issue is and how to obtain the same values?</p>\n<p><strong>UPDATE 1: code provided</strong></p>\n<pre><code>import java.util.*;\nimport java.util.stream.Collectors;\n\nimport com.binance.api.client.BinanceApiClientFactory;\nimport com.binance.api.client.BinanceApiRestClient;\nimport com.binance.api.client.BinanceApiWebSocketClient;\nimport com.binance.api.client.domain.market.Candlestick;\nimport com.binance.api.client.domain.market.CandlestickInterval;\nimport core.util.text.DecimalFormat;\nimport core.util.text.StringUtil;\n\npublic class test_003\n{\n  private Map&lt;Long, Candlestick&gt; candlesticksCache = new TreeMap&lt;&gt;();\n\n  private EMA EMA_10;\n  private EMA EMA_20;\n\n  public static void main(String[] pArgs)\n  {\n    new test_003();\n  }\n\n  private test_003()\n  {\n    Locale.setDefault(Locale.US);\n\n    candlesticksCacheExample(&quot;ADAUSDT&quot;, CandlestickInterval.ONE_MINUTE);\n  }\n\n  private void candlesticksCacheExample(String symbol, CandlestickInterval interval)\n  {\n    initializeCandlestickCache(symbol, interval);\n\n    startCandlestickEventStreaming(symbol, interval);\n  }\n\n  private void initializeCandlestickCache(String symbol, CandlestickInterval interval)\n  {\n    BinanceApiClientFactory factory = BinanceApiClientFactory.newInstance();\n    BinanceApiRestClient client = factory.newRestClient();\n\n    List&lt;Candlestick&gt; candlestickBars_10 = client.getCandlestickBars(symbol.toUpperCase(), interval, Integer.valueOf(11), null, null);\n    List&lt;Candlestick&gt; candlestickBars_20 = client.getCandlestickBars(symbol.toUpperCase(), interval, Integer.valueOf(21), null, null);\n\n    List&lt;Double&gt; closingPriceList_10 = candlestickBars_10.stream().map(c -&gt; Double.valueOf(c.getClose())).collect(Collectors.toList());\n    List&lt;Double&gt; closingPriceList_20 = candlestickBars_20.stream().map(c -&gt; Double.valueOf(c.getClose())).collect(Collectors.toList());\n\n    EMA_10 = new EMA(closingPriceList_10, Integer.valueOf(10));\n    EMA_20 = new EMA(closingPriceList_20, Integer.valueOf(20));\n  }\n\n  private void startCandlestickEventStreaming(String symbol, CandlestickInterval interval)\n  {\n    BinanceApiClientFactory factory = BinanceApiClientFactory.newInstance();\n    BinanceApiWebSocketClient client = factory.newWebSocketClient();\n\n    client.onCandlestickEvent(symbol.toLowerCase(), interval, response -&gt; {\n      Long openTime = response.getOpenTime();\n      Candlestick updateCandlestick = candlesticksCache.get(openTime);\n      if (updateCandlestick == null)\n      {\n        // new candlestick\n        updateCandlestick = new Candlestick();\n      }\n\n      // update candlestick with the stream data\n      updateCandlestick.setOpenTime(response.getOpenTime());\n      updateCandlestick.setOpen(response.getOpen());\n      updateCandlestick.setLow(response.getLow());\n      updateCandlestick.setHigh(response.getHigh());\n      updateCandlestick.setClose(response.getClose());\n      updateCandlestick.setCloseTime(response.getCloseTime());\n      updateCandlestick.setVolume(response.getVolume());\n      updateCandlestick.setNumberOfTrades(response.getNumberOfTrades());\n      updateCandlestick.setQuoteAssetVolume(response.getQuoteAssetVolume());\n      updateCandlestick.setTakerBuyQuoteAssetVolume(response.getTakerBuyQuoteAssetVolume());\n      updateCandlestick.setTakerBuyBaseAssetVolume(response.getTakerBuyQuoteAssetVolume());\n\n      // Store the updated candlestick in the cache\n      candlesticksCache.put(openTime, updateCandlestick);\n\n      double closingPrice = Double.valueOf(updateCandlestick.getClose());\n\n      EMA_10.update(closingPrice);\n      EMA_20.update(closingPrice);\n\n      System.out.println(StringUtil.replacePlaceholders(&quot;Closing price: %1 | EMA(10): %2 - EMA(20): %3&quot;, response.getClose(),\n                                                        DecimalFormat.format(EMA_10.get(), &quot;#.#####&quot;),\n                                                        DecimalFormat.format(EMA_20.get(), &quot;#.#####&quot;)));\n    });\n  }\n\n  public class EMA\n  {\n\n    private double currentEMA;\n    private final int period;\n    private final double multiplier;\n    private final List&lt;Double&gt; EMAhistory;\n    private final boolean historyNeeded;\n    private String fileName;\n\n\n    public EMA(List&lt;Double&gt; closingPrices, int period)\n    {\n      this(closingPrices, period, false);\n    }\n\n    public EMA(List&lt;Double&gt; closingPrices, int period, boolean historyNeeded)\n    {\n      currentEMA = 0;\n      this.period = period;\n      this.historyNeeded = historyNeeded;\n      this.multiplier = 2.0 / (double) (period + 1);\n      this.EMAhistory = new ArrayList&lt;&gt;();\n      init(closingPrices);\n    }\n\n    public double get()\n    {\n      return currentEMA;\n    }\n\n    public double getTemp(double newPrice)\n    {\n      return (newPrice - currentEMA) * multiplier + currentEMA;\n    }\n\n    public void init(List&lt;Double&gt; closingPrices)\n    {\n      if (period &gt; closingPrices.size()) return;\n\n      //Initial SMA\n      for (int i = 0; i &lt; period; i++)\n      {\n        currentEMA += closingPrices.get(i);\n      }\n\n      currentEMA = currentEMA / (double) period;\n      if (historyNeeded) EMAhistory.add(currentEMA);\n      //Dont use latest unclosed candle;\n      for (int i = period; i &lt; closingPrices.size() - 1; i++)\n      {\n        update(closingPrices.get(i));\n      }\n    }\n\n    public void update(double newPrice)\n    {\n      // EMA = (Close - EMA(previousBar)) * multiplier + EMA(previousBar)\n      currentEMA = (newPrice - currentEMA) * multiplier + currentEMA;\n\n      if (historyNeeded) EMAhistory.add(currentEMA);\n    }\n\n    public int check(double newPrice)\n    {\n      return 0;\n    }\n\n    public String getExplanation()\n    {\n      return null;\n    }\n\n    public List&lt;Double&gt; getEMAhistory()\n    {\n      return EMAhistory;\n    }\n\n    public int getPeriod()\n    {\n      return period;\n    }\n  }\n}\n</code></pre>\n<p><strong>UPDATE 2</strong></p>\n<p><a href=\"https://i.stack.imgur.com/owpLu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/owpLu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","gson","serializable"],"answers":[{"tags":[],"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645632574,"creation_date":1579263598,"answer_id":59787241,"question_id":59786966,"body_markdown":"No, it is not necessary. Gson use reflection in order to produce the desired json. You should implements `Serializable` when:\r\n\r\n 1. save it on disk \r\n 2. send it through a socket as an Object\r\n\r\nFor example, if you have a web application deployed in HA on two or more nodes in cluster (then they exchange the session each other), and you use a session scope to save user authentication, the bean that contains this information must be serializable.\r\n\r\nIf you decide to use `Serializable` add a `serialVersionUID`. This is a long used by the JVM to identify in an unique manner the object itself.\r\n\r\nWhen you don&#39;t sepcify it, the compiler add a generated one (that is therefore compiler dependent) and this identity changes when you change your object, for example adding a field; this means that after a minimal change, you shouldn&#39;t deserialize objects serialized before the change.","title":"Should a Class which is serialzied with GSON to JSON implemet the Serializable Interface","body":"<p>No, it is not necessary. Gson use reflection in order to produce the desired json. You should implements <code>Serializable</code> when:</p>\n<ol>\n<li>save it on disk</li>\n<li>send it through a socket as an Object</li>\n</ol>\n<p>For example, if you have a web application deployed in HA on two or more nodes in cluster (then they exchange the session each other), and you use a session scope to save user authentication, the bean that contains this information must be serializable.</p>\n<p>If you decide to use <code>Serializable</code> add a <code>serialVersionUID</code>. This is a long used by the JVM to identify in an unique manner the object itself.</p>\n<p>When you don't sepcify it, the compiler add a generated one (that is therefore compiler dependent) and this identity changes when you change your object, for example adding a field; this means that after a minimal change, you shouldn't deserialize objects serialized before the change.</p>\n"}],"owner":{"account_id":15857379,"reputation":129,"user_id":11441432,"display_name":"Marvin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59787241,"answer_count":1,"score":2,"last_activity_date":1645632574,"creation_date":1579262501,"question_id":59786966,"body_markdown":"I have this POJO which is being serialzied to JSON using new Gson().toJson(entity)\r\nShould I implement the Serializable Interface on this POJO?\r\n\r\n```java\r\n@Data\r\npublic class BankcodeJSONEntity {\r\n\r\n\t@NotNull\r\n\t@Size(min = 8, max = 8)\r\n\tprivate String bankcode;\r\n\t@NotNull\r\n\t@Size(min = 11, max = 11)\r\n\tprivate String bic;\r\n\t@NotNull\r\n\tprivate String ticket;\r\n\r\n\t@Basic\r\n\t@Temporal(TemporalType.DATE)\r\n\t@NotNull\r\n\tprivate Date date;\r\n\t@NotNull\r\n\tprivate String category;\r\n\t@NotNull\r\n\tprivate String name;\r\n\r\n}\r\n```","title":"Should a Class which is serialzied with GSON to JSON implemet the Serializable Interface","body":"<p>I have this POJO which is being serialzied to JSON using new Gson().toJson(entity)\nShould I implement the Serializable Interface on this POJO?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class BankcodeJSONEntity {\n\n    @NotNull\n    @Size(min = 8, max = 8)\n    private String bankcode;\n    @NotNull\n    @Size(min = 11, max = 11)\n    private String bic;\n    @NotNull\n    private String ticket;\n\n    @Basic\n    @Temporal(TemporalType.DATE)\n    @NotNull\n    private Date date;\n    @NotNull\n    private String category;\n    @NotNull\n    private String name;\n\n}\n</code></pre>\n"},{"tags":["java","import"],"answers":[{"tags":[],"owner":{"account_id":1111134,"reputation":2075,"user_id":1101579,"accept_rate":40,"display_name":"claesv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344257949,"creation_date":1344257949,"answer_id":11828783,"question_id":11828696,"body_markdown":"It appears the CorreoElectronico.java file is missing. It should be in the ./src/fp2/poo/pfpooferdomdel1 directory.","title":"java cannot resolve imports","body":"<p>It appears the CorreoElectronico.java file is missing. It should be in the ./src/fp2/poo/pfpooferdomdel1 directory.</p>\n"}],"owner":{"account_id":1724010,"reputation":191,"user_id":1579116,"display_name":"Fernando Dom&#237;nguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645632281,"creation_date":1344257620,"question_id":11828696,"body_markdown":"Some time ago I made a java project for my programming subject, developed in Eclipse. I tested it many times and worked flawlessly. However in the exam&#39;s computer didn&#39;t, I tried to compile it and returned 16 errors. Now back to my computer I deleted the .class files and compiled again manually returning the same 16 errors. I opened up eclipse to try compile it from within eclipse like the very first time and now shows these errors, I didn&#39;t change anything in the code...\r\n\r\nSaid errors are all the same, missing symbols. The errors are produced when trying to compile one class out of 6 in the package (&quot;Contacto&quot; class). This class uses 4 out of the other 5 classes and there is where the error is produced. One error for each line where one of this 4 classes is used. Eclipse points out the same error and gives a quick fix, importing the missing class, but if I don&#39;t remeber badly you don&#39;t need to import classes that are located in the same package of the one that are being used at. Anyway I tried importing the suggested class and it produces another error in eclipse (The import &#39;package name&#39; cannot be resolved) so I don&#39;t know what else to try... \r\n\r\nThe project setup seems fine to me (it even worked once...)\r\n\r\nThe code is quite simple but quite long also so I will post as few as possible.\r\n\r\n    package fp2.poo.pfpooferdomdel1;\r\n    \r\n    import fp2.poo.utilidades.ContactoInterfaz;\r\n    import fp2.poo.utilidades.CorreoElectronicoInterfaz;\r\n    import fp2.poo.utilidades.DomicilioInterfaz;\r\n    import fp2.poo.utilidades.PersonaInterfaz;\r\n    import fp2.poo.utilidades.TelefonoInterfaz;\r\n    import fp2.poo.pfpooferdomdel1.CorreoElectronico;  //Tried to import the missing class here, returned error: The import fp2.poo.pfpooferdomdel1.CorreoElectronico cannot be resolved\r\n    \r\n    \r\n    public class Contacto implements ContactoInterfaz\r\n    \t{\r\n    \tCorreoElectronico correo = new CorreoElectronico();  //Error here, missing &quot;CorreoElectronico&quot;\r\n    \tDomicilio domicilio = new Domicilio();\r\n    \tPersona persona = new Persona();\r\n    \tTelefono telefono = new Telefono();\r\n\r\nThe same error goes for the following 3 lines, missing symbols for Domicilio, Persona and Telefono.\r\n \r\nOne of the errors returned by the console\r\n\r\n    `javac -Xlint -encoding ISO-8859-1 -classpath ./bin  -cp ./bin -d ./bin  ./src/fp2/poo/pfpooferdomdel1/Contacto.java\r\n    .\\src\\fp2\\poo\\pfpooferdomdel1\\Contacto.java:8: error: cannot find symbol\r\n    import fp2.poo.pfpooferdomdel1.CorreoElectronico;;\r\n                                  ^\r\n      symbol:   class CorreoElectronico\r\n      location: package fp2.poo.pfpooferdomdel1\r\n    .\\src\\fp2\\poo\\pfpooferdomdel1\\Contacto.java:19: error: cannot find symbol\r\n            CorreoElectronico correo = new CorreoElectronico();\r\n            ^`\r\n\r\nMakefile for Contacto.java (it was given by the teachers)\r\n\r\n         JAVAC=javac\r\n         JAVA=java\r\n         lsJAR=jar\r\n         OPCIONES= -Xlint -encoding ISO-8859-1 -classpath ./bin  -cp ./bin -d ./bin \r\n        ./bin/fp2/poo/pfpooferdomdel1/Contacto.class: \\\r\n                       ./bin/fp2/poo/utilidades/TelefonoInterfaz.class \\\r\n                       ./bin/fp2/poo/utilidades/PersonaInterfaz.class \\\r\n                      ./bin/fp2/poo/utilidades/DomicilioInterfaz.class \\\r\n                       ./bin/fp2/poo/utilidades/CorreoElectronicoInterfaz.class \\\r\n                       ./bin/fp2/poo/utilidades/ContactoInterfaz.class \\\r\n                       ./src/fp2/poo/pfpooferdomdel1/Contacto.java\r\n\t$(JAVAC) $(OPCIONES) ./src/fp2/poo/pfpooferdomdel1/Contacto.java\r\n\r\nThis particular code file is located at ./src/fp2/poo/pfpooferdomdel1/ which I think is consistent with the package name.\r\n\r\nProject setup\r\n\r\n    ./src/fp2/poo&gt;$ ls\r\n    datos  pfpooferdomdel1  principal  utilidades\r\n    ./src/fp2/poo/pfpooferdomdel1&gt;$ ls\r\n    Agenda.java  Contacto.java  CorreoElectronico.java  Domicilio.java  Persona.java  Telefono.java\r\n    ./src/fp2/poo/principal&gt;$ ls\r\n    Principal.java\r\n    \r\n\r\nThere are more folders and files but I don&#39;t think they are relevant.\r\n\r\nIf anything else is required please do not hesitate to ask it.\r\n\r\nThanks in advance.","title":"java cannot resolve imports","body":"<p>Some time ago I made a java project for my programming subject, developed in Eclipse. I tested it many times and worked flawlessly. However in the exam's computer didn't, I tried to compile it and returned 16 errors. Now back to my computer I deleted the .class files and compiled again manually returning the same 16 errors. I opened up eclipse to try compile it from within eclipse like the very first time and now shows these errors, I didn't change anything in the code...</p>\n\n<p>Said errors are all the same, missing symbols. The errors are produced when trying to compile one class out of 6 in the package (\"Contacto\" class). This class uses 4 out of the other 5 classes and there is where the error is produced. One error for each line where one of this 4 classes is used. Eclipse points out the same error and gives a quick fix, importing the missing class, but if I don't remeber badly you don't need to import classes that are located in the same package of the one that are being used at. Anyway I tried importing the suggested class and it produces another error in eclipse (The import 'package name' cannot be resolved) so I don't know what else to try... </p>\n\n<p>The project setup seems fine to me (it even worked once...)</p>\n\n<p>The code is quite simple but quite long also so I will post as few as possible.</p>\n\n<pre><code>package fp2.poo.pfpooferdomdel1;\n\nimport fp2.poo.utilidades.ContactoInterfaz;\nimport fp2.poo.utilidades.CorreoElectronicoInterfaz;\nimport fp2.poo.utilidades.DomicilioInterfaz;\nimport fp2.poo.utilidades.PersonaInterfaz;\nimport fp2.poo.utilidades.TelefonoInterfaz;\nimport fp2.poo.pfpooferdomdel1.CorreoElectronico;  //Tried to import the missing class here, returned error: The import fp2.poo.pfpooferdomdel1.CorreoElectronico cannot be resolved\n\n\npublic class Contacto implements ContactoInterfaz\n    {\n    CorreoElectronico correo = new CorreoElectronico();  //Error here, missing \"CorreoElectronico\"\n    Domicilio domicilio = new Domicilio();\n    Persona persona = new Persona();\n    Telefono telefono = new Telefono();\n</code></pre>\n\n<p>The same error goes for the following 3 lines, missing symbols for Domicilio, Persona and Telefono.</p>\n\n<p>One of the errors returned by the console</p>\n\n<pre><code>`javac -Xlint -encoding ISO-8859-1 -classpath ./bin  -cp ./bin -d ./bin  ./src/fp2/poo/pfpooferdomdel1/Contacto.java\n.\\src\\fp2\\poo\\pfpooferdomdel1\\Contacto.java:8: error: cannot find symbol\nimport fp2.poo.pfpooferdomdel1.CorreoElectronico;;\n                              ^\n  symbol:   class CorreoElectronico\n  location: package fp2.poo.pfpooferdomdel1\n.\\src\\fp2\\poo\\pfpooferdomdel1\\Contacto.java:19: error: cannot find symbol\n        CorreoElectronico correo = new CorreoElectronico();\n        ^`\n</code></pre>\n\n<p>Makefile for Contacto.java (it was given by the teachers)</p>\n\n<pre><code>     JAVAC=javac\n     JAVA=java\n     lsJAR=jar\n     OPCIONES= -Xlint -encoding ISO-8859-1 -classpath ./bin  -cp ./bin -d ./bin \n    ./bin/fp2/poo/pfpooferdomdel1/Contacto.class: \\\n                   ./bin/fp2/poo/utilidades/TelefonoInterfaz.class \\\n                   ./bin/fp2/poo/utilidades/PersonaInterfaz.class \\\n                  ./bin/fp2/poo/utilidades/DomicilioInterfaz.class \\\n                   ./bin/fp2/poo/utilidades/CorreoElectronicoInterfaz.class \\\n                   ./bin/fp2/poo/utilidades/ContactoInterfaz.class \\\n                   ./src/fp2/poo/pfpooferdomdel1/Contacto.java\n$(JAVAC) $(OPCIONES) ./src/fp2/poo/pfpooferdomdel1/Contacto.java\n</code></pre>\n\n<p>This particular code file is located at ./src/fp2/poo/pfpooferdomdel1/ which I think is consistent with the package name.</p>\n\n<p>Project setup</p>\n\n<pre><code>./src/fp2/poo&gt;$ ls\ndatos  pfpooferdomdel1  principal  utilidades\n./src/fp2/poo/pfpooferdomdel1&gt;$ ls\nAgenda.java  Contacto.java  CorreoElectronico.java  Domicilio.java  Persona.java  Telefono.java\n./src/fp2/poo/principal&gt;$ ls\nPrincipal.java\n</code></pre>\n\n<p>There are more folders and files but I don't think they are relevant.</p>\n\n<p>If anything else is required please do not hesitate to ask it.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","arrays","performance"],"comments":[{"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"score":0,"creation_date":1645630838,"post_id":71239892,"comment_id":125924542,"body_markdown":"_&quot;which is preferred&quot;_... and then you say _&quot;I can see the reason array.length == 0 is preferred... it’s more precise to put it that way&quot;_ :) I think you pretty much know the answer already.","body":"<i>&quot;which is preferred&quot;</i>... and then you say <i>&quot;I can see the reason array.length == 0 is preferred... it’s more precise to put it that way&quot;</i> :) I think you pretty much know the answer already."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1645630899,"post_id":71239892,"comment_id":125924577,"body_markdown":"Also [this thread](https://stackoverflow.com/questions/2369967/how-can-i-check-whether-an-array-is-null-empty) might be relevant if you consider a `null` array to be &quot;empty&quot;.","body":"Also <a href=\"https://stackoverflow.com/questions/2369967/how-can-i-check-whether-an-array-is-null-empty\">this thread</a> might be relevant if you consider a <code>null</code> array to be &quot;empty&quot;."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645631843,"creation_date":1645630755,"answer_id":71239923,"question_id":71239892,"body_markdown":"They are identical from the JVM point of view.\r\n\r\nFrom the programmer point of view is more readable `array.length == 0`.\r\n\r\nGenerally speaking, try to let your code readable, and only if you have any performance gap to solve try to investigate if it is possible to write the same code in a more efficient way also if it is less human-readable.\r\n\r\n","title":"When checking for empty array, is arr.length == 0 preferred over arr.length &lt; 1?","body":"<p>They are identical from the JVM point of view.</p>\n<p>From the programmer point of view is more readable <code>array.length == 0</code>.</p>\n<p>Generally speaking, try to let your code readable, and only if you have any performance gap to solve try to investigate if it is possible to write the same code in a more efficient way also if it is less human-readable.</p>\n"},{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645630795,"creation_date":1645630795,"answer_id":71239935,"question_id":71239892,"body_markdown":"No, it does not matter at all. There will be same number of bytecode instructions for both `i &lt; 1` and `i == 0`.\r\n\r\nHowever, if you&#39;re checking against *empty* array, from the readability perspective, it would be better to check `i == 0`.","title":"When checking for empty array, is arr.length == 0 preferred over arr.length &lt; 1?","body":"<p>No, it does not matter at all. There will be same number of bytecode instructions for both <code>i &lt; 1</code> and <code>i == 0</code>.</p>\n<p>However, if you're checking against <em>empty</em> array, from the readability perspective, it would be better to check <code>i == 0</code>.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645630920,"creation_date":1645630920,"answer_id":71239973,"question_id":71239892,"body_markdown":"The [JLS definition](https://docs.oracle.com/javase/specs/jls/se14/html/jls-10.html) of an empty array is:\r\n\r\n&gt; The number of variables may be zero, in which case the array is said to be empty\r\n\r\nSo, the difference between the two in terms of this definition can be thought of as:\r\n\r\n* `array.length == 0` - &quot;the array is empty&quot;\r\n* `array.length &lt; 1` - &quot;the array is not not empty&quot;\r\n\r\nThe one without the double negative is easier.","title":"When checking for empty array, is arr.length == 0 preferred over arr.length &lt; 1?","body":"<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-10.html\" rel=\"nofollow noreferrer\">JLS definition</a> of an empty array is:</p>\n<blockquote>\n<p>The number of variables may be zero, in which case the array is said to be empty</p>\n</blockquote>\n<p>So, the difference between the two in terms of this definition can be thought of as:</p>\n<ul>\n<li><code>array.length == 0</code> - &quot;the array is empty&quot;</li>\n<li><code>array.length &lt; 1</code> - &quot;the array is not not empty&quot;</li>\n</ul>\n<p>The one without the double negative is easier.</p>\n"}],"owner":{"account_id":10641312,"reputation":98,"user_id":7836229,"display_name":"Fran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71239923,"answer_count":3,"score":-1,"last_activity_date":1645631843,"creation_date":1645630600,"question_id":71239892,"body_markdown":"When checking for an empty array, `array.length &lt; 1` And `array.length == 0` will get you the same result but which is preferred or does it matter at all? I can see the reason `array.length == 0` is preferred is that the length of an array will never be less than 0 and it’s more precise to put it that way. ","title":"When checking for empty array, is arr.length == 0 preferred over arr.length &lt; 1?","body":"<p>When checking for an empty array, <code>array.length &lt; 1</code> And <code>array.length == 0</code> will get you the same result but which is preferred or does it matter at all? I can see the reason <code>array.length == 0</code> is preferred is that the length of an array will never be less than 0 and it’s more precise to put it that way.</p>\n"},{"tags":["java","arrays","search","binary","2d"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1645629517,"post_id":71239548,"comment_id":125923872,"body_markdown":"What is your definition of a *sorted* 2D array?","body":"What is your definition of a <i>sorted</i> 2D array?"},{"owner":{"account_id":19087570,"reputation":780,"user_id":13938503,"display_name":"Anurag Sharma"},"score":0,"creation_date":1645692424,"post_id":71239548,"comment_id":125941054,"body_markdown":"Welcome to stackoverflow. Please check (https://stackoverflow.com/help/how-to-ask)how to ask a good question.","body":"Welcome to stackoverflow. Please check (<a href=\"https://stackoverflow.com/help/how-to-ask)how\">stackoverflow.com/help/how-to-ask)how</a> to ask a good question."}],"owner":{"account_id":24355043,"reputation":1,"user_id":18290382,"display_name":"Azure_ Rake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645631628,"creation_date":1645629346,"question_id":71239548,"body_markdown":"    public static int search(int[][] arr, int x){\r\n      int row= arr.length, colum= arr[0].length-1;\r\n      int lo=0, hi=row*colum;\r\n\r\n        while(lo &lt;= hi){\r\n           int mid= lo+(hi-lo)/2;\r\n             int mid_index= arr (mid/colum);\r\n            if(mid_index == x){ \r\n                   return mid;    \r\n            }else if (x &lt; mid_index) {\r\n                hi= mid-1;\r\n            }else if (x &gt; mid_index){\r\n                lo= mid+2;\r\n            }\r\n        }\r\n                  return -1;\r\n    }\r\n       public static void main(String args []){\r\n        int [][] arr = {{1,2,3,4}, \r\n                        {5,6,7,8}\r\n                        {1, 7, 7, 95},\r\n                        {9, 9, 80, 33}};\r\n        int x = 95; \r\n        int result = search(arr , x);\r\n        if (result == -1)\r\n            System.out.print(&quot;Element is not present in array&quot;);\r\n        else \r\n            System.out.print(&quot;Element is present inside the index:&quot; +&quot;&quot;+ result);}\r\n\r\n\r\n\r\n*** Still learning this topic but need help. I don&#39;t know how i can make it search for the index position and accept random set of arrays.***\r\n\r\n\r\n // Return -1 if target is not found\r\n    \r\n// supposed to print  11 as the target in this given is in index 12.\r\n  \r\n// Can perfectly run if the given array is empty.\r\n  \r\n// Can run even with the random set of arrays.","title":"2D Binary Search that accept random array sets","body":"<pre><code>public static int search(int[][] arr, int x){\n  int row= arr.length, colum= arr[0].length-1;\n  int lo=0, hi=row*colum;\n\n    while(lo &lt;= hi){\n       int mid= lo+(hi-lo)/2;\n         int mid_index= arr (mid/colum);\n        if(mid_index == x){ \n               return mid;    \n        }else if (x &lt; mid_index) {\n            hi= mid-1;\n        }else if (x &gt; mid_index){\n            lo= mid+2;\n        }\n    }\n              return -1;\n}\n   public static void main(String args []){\n    int [][] arr = {{1,2,3,4}, \n                    {5,6,7,8}\n                    {1, 7, 7, 95},\n                    {9, 9, 80, 33}};\n    int x = 95; \n    int result = search(arr , x);\n    if (result == -1)\n        System.out.print(&quot;Element is not present in array&quot;);\n    else \n        System.out.print(&quot;Element is present inside the index:&quot; +&quot;&quot;+ result);}\n</code></pre>\n<p>*** Still learning this topic but need help. I don't know how i can make it search for the index position and accept random set of arrays.***</p>\n<p>// Return -1 if target is not found</p>\n<p>// supposed to print  11 as the target in this given is in index 12.</p>\n<p>// Can perfectly run if the given array is empty.</p>\n<p>// Can run even with the random set of arrays.</p>\n"},{"tags":["java","spring","spring-retry"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":1,"creation_date":1493029667,"post_id":43585597,"comment_id":74220150,"body_markdown":"yes of course. That is exactly what retry does. Go through this tutorial.  http://www.baeldung.com/spring-retry","body":"yes of course. That is exactly what retry does. Go through this tutorial.  <a href=\"http://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">baeldung.com/spring-retry</a>"},{"owner":{"account_id":3770925,"reputation":1776,"user_id":3133256,"accept_rate":58,"display_name":"jpadilladev"},"score":0,"creation_date":1493030225,"post_id":43585597,"comment_id":74220513,"body_markdown":"@pvpkiran Is the RetryTemplate what am I looking for? :)","body":"@pvpkiran Is the RetryTemplate what am I looking for? :)"},{"owner":{"account_id":3770925,"reputation":1776,"user_id":3133256,"accept_rate":58,"display_name":"jpadilladev"},"score":0,"creation_date":1493031219,"post_id":43585597,"comment_id":74221202,"body_markdown":"I used a &#39;listener&#39; with a RetryTemplate in this case. The listener is calling the &#39;recoverException&#39; above, and then calling callback.doWithRetry. Is the correct approach with RetryTemplate?","body":"I used a &#39;listener&#39; with a RetryTemplate in this case. The listener is calling the &#39;recoverException&#39; above, and then calling callback.doWithRetry. Is the correct approach with RetryTemplate?"},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1493034941,"post_id":43585597,"comment_id":74223883,"body_markdown":"I am not sure what exactly you are looking for. Using &#39;@Retryable&#39; and &#39;@Recover&#39; should be good enuf in your case(from what ever little i understood)","body":"I am not sure what exactly you are looking for. Using &#39;@Retryable&#39; and &#39;@Recover&#39; should be good enuf in your case(from what ever little i understood)"},{"owner":{"account_id":3770925,"reputation":1776,"user_id":3133256,"accept_rate":58,"display_name":"jpadilladev"},"score":0,"creation_date":1493041184,"post_id":43585597,"comment_id":74228723,"body_markdown":"@pvpkiran As far as I know, Recover only is called when Retryable has finished all the retries. I want to &#39;fix&#39; the exception thrown by my method and then call again this method. This is, I want to be in the middle of the retries. i will update this question with my code when is working.","body":"@pvpkiran As far as I know, Recover only is called when Retryable has finished all the retries. I want to &#39;fix&#39; the exception thrown by my method and then call again this method. This is, I want to be in the middle of the retries. i will update this question with my code when is working."}],"answers":[{"tags":[],"owner":{"account_id":3770925,"reputation":1776,"user_id":3133256,"accept_rate":58,"display_name":"jpadilladev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1493281712,"creation_date":1493281712,"answer_id":43652536,"question_id":43585597,"body_markdown":"Finally, \r\n\r\nI created a RetryListener and added it to my RetryTemplate. When some exception is thrown, I recover in the onError method from my RetryListener and then the RetryTemplate will retry automatically. \r\n\r\nSomething like\r\n    \r\n    @Component\r\n    public class CustomRetryListener  extends RetryListenerSupport {\r\n\r\n        @Override\r\n\t    public &lt;T, E extends Throwable&gt; void onError(RetryContext context, \r\n        RetryCallback&lt;T, E&gt; callback,\r\n\t\t\tThrowable throwable) {\r\n\t\t    //recover from throwable\r\n\t    }\r\n\r\n    }\r\n\r\nAnd the retry template bean\r\n\r\n    @Bean\r\n\tpublic RetryTemplate retryTemplate(CustomRetryListener listener) {\r\n\t\tRetryTemplate retryTemplate = new RetryTemplate();\r\n\t\tSimpleRetryPolicy retryPolicy = new SimpleRetryPolicy();\r\n\t\tretryPolicy.setMaxAttempts(2);\r\n\t\tretryTemplate.setRetryPolicy(retryPolicy);\r\n\t\tretryTemplate.registerListener(listener);\r\n\t\treturn retryTemplate;\r\n\t}\r\n\r\nNow you can inject the retryTemplate bean wherever you want and use the execute() method to recover from errors.\r\n\r\n\r\n\r\n","title":"Spring Retry and Recovery","body":"<p>Finally, </p>\n\n<p>I created a RetryListener and added it to my RetryTemplate. When some exception is thrown, I recover in the onError method from my RetryListener and then the RetryTemplate will retry automatically. </p>\n\n<p>Something like</p>\n\n<pre><code>@Component\npublic class CustomRetryListener  extends RetryListenerSupport {\n\n    @Override\n    public &lt;T, E extends Throwable&gt; void onError(RetryContext context, \n    RetryCallback&lt;T, E&gt; callback,\n        Throwable throwable) {\n        //recover from throwable\n    }\n\n}\n</code></pre>\n\n<p>And the retry template bean</p>\n\n<pre><code>@Bean\npublic RetryTemplate retryTemplate(CustomRetryListener listener) {\n    RetryTemplate retryTemplate = new RetryTemplate();\n    SimpleRetryPolicy retryPolicy = new SimpleRetryPolicy();\n    retryPolicy.setMaxAttempts(2);\n    retryTemplate.setRetryPolicy(retryPolicy);\n    retryTemplate.registerListener(listener);\n    return retryTemplate;\n}\n</code></pre>\n\n<p>Now you can inject the retryTemplate bean wherever you want and use the execute() method to recover from errors.</p>\n"}],"owner":{"account_id":3770925,"reputation":1776,"user_id":3133256,"accept_rate":58,"display_name":"jpadilladev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6156,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":43652536,"answer_count":1,"score":2,"last_activity_date":1645631584,"creation_date":1493029439,"question_id":43585597,"body_markdown":"is it possible to recover from an exception, and then retry again with Spring Retry?\r\n\r\nIn Java, would be something like\r\n\r\n    try{\r\n        doSomething(); // throws Exception\r\n    }catch(Exception e){\r\n        recoverException();\r\n        doSomething(); // OK\r\n    }\r\n\r\nThanks!!\r\n\r\n","title":"Spring Retry and Recovery","body":"<p>is it possible to recover from an exception, and then retry again with Spring Retry?</p>\n\n<p>In Java, would be something like</p>\n\n<pre><code>try{\n    doSomething(); // throws Exception\n}catch(Exception e){\n    recoverException();\n    doSomething(); // OK\n}\n</code></pre>\n\n<p>Thanks!!</p>\n"},{"tags":["java","android","android-notifications","phone-call"],"answers":[{"tags":[],"owner":{"account_id":15381842,"reputation":492,"user_id":11097044,"display_name":"MKD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645631524,"creation_date":1645631524,"answer_id":71240145,"question_id":45087182,"body_markdown":"in android The system UI may choose to display a heads-up notification, instead of launching your full-screen intent, while the user is using the device. check it out **Display time-sensitive notifications**","title":"Show full screen Incoming Call Activity in Android","body":"<p>in android The system UI may choose to display a heads-up notification, instead of launching your full-screen intent, while the user is using the device. check it out <strong>Display time-sensitive notifications</strong></p>\n"}],"owner":{"account_id":11324040,"reputation":101,"user_id":8303575,"display_name":"Yuraa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2698,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1645631524,"creation_date":1499966178,"question_id":45087182,"body_markdown":"In Android sometimes when we use an app and we receive a call , appears the full screen Incoming call activity\r\n\r\n[![Full screen incoming call service][1]][1]\r\n\r\n\r\nInstead if i create a new blank main activity and i put a simple BroadCast receiver, when im in the main activity and i receive a call this compares:\r\n\r\n[![Incoming call notification popup][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LdSw8.png\r\n  [2]: https://i.stack.imgur.com/YVP5w.png\r\n\r\nThere is a way to show the full screen incoming call or just hide the incoming call popup notification ?\r\nI searched a lot but i have not found anything...\r\n\r\nMainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public static class PhoneStateReceiver extends BroadcastReceiver {\r\n        public void onReceive(Context context, Intent intent) {\r\n\r\n            Toast.makeText(context, &quot;OK&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n}","title":"Show full screen Incoming Call Activity in Android","body":"<p>In Android sometimes when we use an app and we receive a call , appears the full screen Incoming call activity</p>\n\n<p><a href=\"https://i.stack.imgur.com/LdSw8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LdSw8.png\" alt=\"Full screen incoming call service\"></a></p>\n\n<p>Instead if i create a new blank main activity and i put a simple BroadCast receiver, when im in the main activity and i receive a call this compares:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YVP5w.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YVP5w.png\" alt=\"Incoming call notification popup\"></a></p>\n\n<p>There is a way to show the full screen incoming call or just hide the incoming call popup notification ?\nI searched a lot but i have not found anything...</p>\n\n<p>MainActivity.java</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n}\n\npublic static class PhoneStateReceiver extends BroadcastReceiver {\n    public void onReceive(Context context, Intent intent) {\n\n        Toast.makeText(context, \"OK\", Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","android","http","android-dialogfragment"],"comments":[{"owner":{"account_id":23194353,"reputation":41,"user_id":17290208,"display_name":"Katelyn"},"score":0,"creation_date":1645702884,"post_id":71240117,"comment_id":125944825,"body_markdown":"@Selvin  I couldn&#39;t find any answer with my problem. But, I will get some knowledge about DialogFragment. Thanks!","body":"@Selvin  I couldn&#39;t find any answer with my problem. But, I will get some knowledge about DialogFragment. Thanks!"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1645703199,"post_id":71240117,"comment_id":125944922,"body_markdown":"The probelm is obvious ... after positive button click dialog is closed and fragment detached ... so calling `getActivity()` will obviously return null ... you should **prevent dialog from closing** and close when async request finished","body":"The probelm is obvious ... after positive button click dialog is closed and fragment detached ... so calling <code>getActivity()</code> will obviously return null ... you should <b>prevent dialog from closing</b> and close when async request finished"},{"owner":{"account_id":23194353,"reputation":41,"user_id":17290208,"display_name":"Katelyn"},"score":0,"creation_date":1645703900,"post_id":71240117,"comment_id":125945158,"body_markdown":"@RyanM I found out that the problem is `Toast.makeText(getActivity().getApplicationContext(), response.trim(), Toast.LENGTH_LONG).show();` and `getActivity().getApplicationContext()` returns null somehow. I knew a stack trace is important for solving errors. Thank you!","body":"@RyanM I found out that the problem is <code>Toast.makeText(getActivity().getApplicationContext(), response.trim(), Toast.LENGTH_LONG).show();</code> and <code>getActivity().getApplicationContext()</code> returns null somehow. I knew a stack trace is important for solving errors. Thank you!"},{"owner":{"account_id":23194353,"reputation":41,"user_id":17290208,"display_name":"Katelyn"},"score":0,"creation_date":1645805140,"post_id":71240117,"comment_id":125975136,"body_markdown":"@Selvin I found the answer is on your post, too and know why the problem happens. Thanks!","body":"@Selvin I found the answer is on your post, too and know why the problem happens. Thanks!"}],"owner":{"account_id":23194353,"reputation":41,"user_id":17290208,"display_name":"Katelyn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645805260,"answer_count":0,"score":0,"last_activity_date":1645631454,"creation_date":1645631454,"question_id":71240117,"body_markdown":"After executing a http request in a DialogFragment, my screen comes to the main activity screen from the screen showing up the DialogFragment.\r\nI want the screen not to move after above execution. \r\nI hope you have some ideas about this.\r\n\r\nThis is the DialogFragment class\r\n```\r\npublic class fragmentForRm extends DialogFragment {\r\n    String url3 =&quot;http://192.168.3.3:8080/html/apiDelete.php&quot;;\r\n\r\n    @Override\r\n    @NonNull\r\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n        // Use the Builder class for convenient dialog construction\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n        builder.setMessage(R.string.dialog_for_delete)\r\n                .setPositiveButton(R.string.delete, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        RequestQueue queue = Volley.newRequestQueue(getActivity().getApplicationContext());\r\n                        StringRequest stringRequest = new StringRequest(Request.Method.POST, url3,\r\n                                new Response.Listener&lt;String&gt;(){\r\n                                    @Override\r\n                                    public void onResponse(String response){\r\n                                        Toast.makeText(getActivity().getApplicationContext(), response.trim(), Toast.LENGTH_LONG).show();\r\n                                    }\r\n                                }, new Response.ErrorListener() {\r\n\r\n                            @Override\r\n                            public void onErrorResponse(VolleyError error) {\r\n                                Toast.makeText(getActivity().getApplicationContext(), error.toString(), Toast.LENGTH_LONG).show();\r\n                            }\r\n                        }){\r\n                            @Override\r\n                            protected Map&lt;String, String&gt; getParams(){\r\n                                Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n                                Bundle bundle = getArguments();\r\n                                String t = bundle.getString(&quot;threadForDelete&quot;, &quot;&quot;);\r\n                                params.put(&quot;delete_thread_content&quot;, t);\r\n                                return params;\r\n                            }\r\n                        };\r\n                        queue.add(stringRequest);\r\n                    }\r\n                })\r\n                .setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        // User cancelled the dialog\r\n                    }\r\n                });\r\n        // Create the AlertDialog object and return it\r\n        return builder.create();\r\n    }\r\n}\r\n```\r\n\r\nThis is the method call for DialogFragment\r\n```\r\n private void rmThreadListViewListener(){\r\n        listView.setOnItemLongClickListener(\r\n                new AdapterView.OnItemLongClickListener(){\r\n                    @Override\r\n                    public boolean onItemLongClick(AdapterView&lt;?&gt; adapter,\r\n                                                   View view, int pos, long id){\r\n                        String selectedThread = (String) adapter.getItemAtPosition(pos);\r\n                        fragmentForRm dialogFragment = new fragmentForRm();\r\n                        Bundle bundle = new Bundle();\r\n                        bundle.putString(&quot;threadForDelete&quot;, selectedThread);\r\n                        dialogFragment.setArguments(bundle);\r\n                        FragmentManager fm = getSupportFragmentManager();\r\n                        dialogFragment.show(fm, null);\r\n                        return true;\r\n                    }\r\n                }\r\n        );\r\n\r\n    }\r\n```\r\n\r\nThis is an error code after executing the http request from the DialogFragment \r\n```\r\nW/Settings: Setting device_provisioned has moved from android.provider.Settings.Secure to android.provider.Settings.Global.\r\nV/HiTouch_HiTouchSensor: User setup is finished.\r\nV/AudioManager: querySoundEffectsEnabled...\r\nW/libEGL: EGLNativeWindowType 0x7167100390 disconnect failed\r\nD/OpenGLRenderer: endAllActiveAnimators on 0x70fa508600 (RippleDrawable) with handle 0x715a9da300\r\nI/BlockMonitor: dispatchingThrewException In MainThread\r\nD/AndroidRuntime: Shutting down VM\r\nI/QarthLog: [PatchStore] createDisableExceptionQarthFile\r\n    [PatchStore] create disable file for com.example.testjsondisplay uid is 10270\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.testjsondisplay, PID: 11947\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.Context androidx.fragment.app.FragmentActivity.getApplicationContext()&#39; on a null object reference\r\n        at com.example.testjsondisplay.fragmentForRm$2$1.onResponse(fragmentForRm.java:38)\r\n        at com.example.testjsondisplay.fragmentForRm$2$1.onResponse(fragmentForRm.java:35)\r\n        at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:82)\r\n        at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:29)\r\n        at com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:102)\r\n        at android.os.Handler.handleCallback(Handler.java:888)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:213)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8147)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\r\nI/Process: Sending signal. PID: 11947 SIG: 9\r\nConnected to process 12222 on device &#39;huawei-mar_lx2j-QUR0219B14005574&#39;.\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nI/testjsondispla: QarthPatchMonintor::Init\r\n    QarthPatchMonintor::StartWatch\r\n    QarthPatchMonintor::WatchPackage: /data/hotpatch/fwkhotpatch/\r\n    QarthPatchMonintor::CheckAndWatchPatch: /data/hotpatch/fwkhotpatch/com.example.testjsondisplay\r\n    QarthPatchMonintor::CheckAndWatchPatch: /data/hotpatch/fwkhotpatch/all\r\n    QarthPatchMonintor::Run\r\nI/testjsondispla: QarthPatchMonintor::Reading\r\n    QarthPatchMonintor::CheckNotifyEvent\r\n    QarthPatchMonintor::CheckNotifyEvent before read\r\nI/HwApiCacheMangerEx: apicache path=/storage/emulated/0 state=mounted key=com.example.testjsondisplay#10270#256\r\nI/HwApiCacheMangerEx: apicache path=/storage/emulated/0 state=mounted key=com.example.testjsondisplay#10270#0\r\nI/AwareBitmapCacher: init processName:com.example.testjsondisplay pid=12222 uid=10270\r\nE/AwareLog: AtomicFileUtils: readFileLines file not exist: android.util.AtomicFile@fff406e\r\nV/ActivityThread: callActivityOnCreate\r\nV/HwWidgetFactory: : successes to get AllImpl object and return....\r\nI/OverScrollerOptimization: start init SmartSlideOverScroller and get the overscroller config\r\n    get the overscroller config\r\nW/testjsondispla: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (greylist, reflection, allowed)\r\nW/testjsondispla: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\r\nD/ActivityThread: add activity client record, r= ActivityRecord{a741a53 token=android.os.BinderProxy@1ab7ded {com.example.testjsondisplay/com.example.testjsondisplay.MainActivity}} token= android.os.BinderProxy@1ab7ded\r\nD/HiTouch_PressGestureDetector: onAttached, package=com.example.testjsondisplay, windowType=1, mHiTouchRestricted=false\r\nI/iGraphics: [0020080c] pn: com.example.testjsondisplay, p: 12222\r\n    [0030080c] no spt app: com.example.testjsondisplay\r\nD/mali_winsys: EGLint new_window_surface(egl_winsys_display *, void *, EGLSurface, EGLConfig, egl_winsys_surface **, EGLBoolean) returns 0x3000\r\nW/Gralloc3: mapper 3.x is not supported\r\nE/: APS:IFLoad:importExternalFunctions, search function createNewHwApsUtils failed, dlsym err:undefined symbol: createNewHwApsUtils\r\nD/: APS:importExternalFunctions OK\r\nI/HwViewRootImpl: removeInvalidNode jank list is null\r\n```","title":"Executing a http request in a DialogFragment results in unintentional screen transition","body":"<p>After executing a http request in a DialogFragment, my screen comes to the main activity screen from the screen showing up the DialogFragment.\nI want the screen not to move after above execution.\nI hope you have some ideas about this.</p>\n<p>This is the DialogFragment class</p>\n<pre><code>public class fragmentForRm extends DialogFragment {\n    String url3 =&quot;http://192.168.3.3:8080/html/apiDelete.php&quot;;\n\n    @Override\n    @NonNull\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        // Use the Builder class for convenient dialog construction\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        builder.setMessage(R.string.dialog_for_delete)\n                .setPositiveButton(R.string.delete, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        RequestQueue queue = Volley.newRequestQueue(getActivity().getApplicationContext());\n                        StringRequest stringRequest = new StringRequest(Request.Method.POST, url3,\n                                new Response.Listener&lt;String&gt;(){\n                                    @Override\n                                    public void onResponse(String response){\n                                        Toast.makeText(getActivity().getApplicationContext(), response.trim(), Toast.LENGTH_LONG).show();\n                                    }\n                                }, new Response.ErrorListener() {\n\n                            @Override\n                            public void onErrorResponse(VolleyError error) {\n                                Toast.makeText(getActivity().getApplicationContext(), error.toString(), Toast.LENGTH_LONG).show();\n                            }\n                        }){\n                            @Override\n                            protected Map&lt;String, String&gt; getParams(){\n                                Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n                                Bundle bundle = getArguments();\n                                String t = bundle.getString(&quot;threadForDelete&quot;, &quot;&quot;);\n                                params.put(&quot;delete_thread_content&quot;, t);\n                                return params;\n                            }\n                        };\n                        queue.add(stringRequest);\n                    }\n                })\n                .setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        // User cancelled the dialog\n                    }\n                });\n        // Create the AlertDialog object and return it\n        return builder.create();\n    }\n}\n</code></pre>\n<p>This is the method call for DialogFragment</p>\n<pre><code> private void rmThreadListViewListener(){\n        listView.setOnItemLongClickListener(\n                new AdapterView.OnItemLongClickListener(){\n                    @Override\n                    public boolean onItemLongClick(AdapterView&lt;?&gt; adapter,\n                                                   View view, int pos, long id){\n                        String selectedThread = (String) adapter.getItemAtPosition(pos);\n                        fragmentForRm dialogFragment = new fragmentForRm();\n                        Bundle bundle = new Bundle();\n                        bundle.putString(&quot;threadForDelete&quot;, selectedThread);\n                        dialogFragment.setArguments(bundle);\n                        FragmentManager fm = getSupportFragmentManager();\n                        dialogFragment.show(fm, null);\n                        return true;\n                    }\n                }\n        );\n\n    }\n</code></pre>\n<p>This is an error code after executing the http request from the DialogFragment</p>\n<pre><code>W/Settings: Setting device_provisioned has moved from android.provider.Settings.Secure to android.provider.Settings.Global.\nV/HiTouch_HiTouchSensor: User setup is finished.\nV/AudioManager: querySoundEffectsEnabled...\nW/libEGL: EGLNativeWindowType 0x7167100390 disconnect failed\nD/OpenGLRenderer: endAllActiveAnimators on 0x70fa508600 (RippleDrawable) with handle 0x715a9da300\nI/BlockMonitor: dispatchingThrewException In MainThread\nD/AndroidRuntime: Shutting down VM\nI/QarthLog: [PatchStore] createDisableExceptionQarthFile\n    [PatchStore] create disable file for com.example.testjsondisplay uid is 10270\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.testjsondisplay, PID: 11947\n    java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.Context androidx.fragment.app.FragmentActivity.getApplicationContext()' on a null object reference\n        at com.example.testjsondisplay.fragmentForRm$2$1.onResponse(fragmentForRm.java:38)\n        at com.example.testjsondisplay.fragmentForRm$2$1.onResponse(fragmentForRm.java:35)\n        at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:82)\n        at com.android.volley.toolbox.StringRequest.deliverResponse(StringRequest.java:29)\n        at com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:102)\n        at android.os.Handler.handleCallback(Handler.java:888)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:213)\n        at android.app.ActivityThread.main(ActivityThread.java:8147)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:513)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1101)\nI/Process: Sending signal. PID: 11947 SIG: 9\nConnected to process 12222 on device 'huawei-mar_lx2j-QUR0219B14005574'.\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\nI/testjsondispla: QarthPatchMonintor::Init\n    QarthPatchMonintor::StartWatch\n    QarthPatchMonintor::WatchPackage: /data/hotpatch/fwkhotpatch/\n    QarthPatchMonintor::CheckAndWatchPatch: /data/hotpatch/fwkhotpatch/com.example.testjsondisplay\n    QarthPatchMonintor::CheckAndWatchPatch: /data/hotpatch/fwkhotpatch/all\n    QarthPatchMonintor::Run\nI/testjsondispla: QarthPatchMonintor::Reading\n    QarthPatchMonintor::CheckNotifyEvent\n    QarthPatchMonintor::CheckNotifyEvent before read\nI/HwApiCacheMangerEx: apicache path=/storage/emulated/0 state=mounted key=com.example.testjsondisplay#10270#256\nI/HwApiCacheMangerEx: apicache path=/storage/emulated/0 state=mounted key=com.example.testjsondisplay#10270#0\nI/AwareBitmapCacher: init processName:com.example.testjsondisplay pid=12222 uid=10270\nE/AwareLog: AtomicFileUtils: readFileLines file not exist: android.util.AtomicFile@fff406e\nV/ActivityThread: callActivityOnCreate\nV/HwWidgetFactory: : successes to get AllImpl object and return....\nI/OverScrollerOptimization: start init SmartSlideOverScroller and get the overscroller config\n    get the overscroller config\nW/testjsondispla: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (greylist, reflection, allowed)\nW/testjsondispla: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\nD/ActivityThread: add activity client record, r= ActivityRecord{a741a53 token=android.os.BinderProxy@1ab7ded {com.example.testjsondisplay/com.example.testjsondisplay.MainActivity}} token= android.os.BinderProxy@1ab7ded\nD/HiTouch_PressGestureDetector: onAttached, package=com.example.testjsondisplay, windowType=1, mHiTouchRestricted=false\nI/iGraphics: [0020080c] pn: com.example.testjsondisplay, p: 12222\n    [0030080c] no spt app: com.example.testjsondisplay\nD/mali_winsys: EGLint new_window_surface(egl_winsys_display *, void *, EGLSurface, EGLConfig, egl_winsys_surface **, EGLBoolean) returns 0x3000\nW/Gralloc3: mapper 3.x is not supported\nE/: APS:IFLoad:importExternalFunctions, search function createNewHwApsUtils failed, dlsym err:undefined symbol: createNewHwApsUtils\nD/: APS:importExternalFunctions OK\nI/HwViewRootImpl: removeInvalidNode jank list is null\n</code></pre>\n"},{"tags":["java","android","android-studio","speech-recognition"],"comments":[{"owner":{"account_id":17550352,"reputation":117,"user_id":12730875,"display_name":"Tia"},"score":0,"creation_date":1645633528,"post_id":71240092,"comment_id":125925797,"body_markdown":"Please take a look at this [question](https://stackoverflow.com/questions/62622244/android-kotlin-speechrecognizer-is-not-working-for-some-reason).","body":"Please take a look at this <a href=\"https://stackoverflow.com/questions/62622244/android-kotlin-speechrecognizer-is-not-working-for-some-reason\">question</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1645688951,"post_id":71240092,"comment_id":125939952,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24217608,"reputation":21,"user_id":18173249,"display_name":"Aayushi Vaghasiya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645631364,"creation_date":1645631364,"question_id":71240092,"body_markdown":"I&#39;m learning android studio currently and making an application that converts audio to text,\r\nin that I create one SpeechRecognizer object speechRecognizer but when I try to use startListening method it saw that there is no method like this\r\n\r\nwhy it saw like that can anyone tell please \r\n","title":"I&#39;m not able to find speechRecognizer.startListening method","body":"<p>I'm learning android studio currently and making an application that converts audio to text,\nin that I create one SpeechRecognizer object speechRecognizer but when I try to use startListening method it saw that there is no method like this</p>\n<p>why it saw like that can anyone tell please</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1645626993,"post_id":71238843,"comment_id":125922608,"body_markdown":"This `b.addActionListener(e -&gt; { System.out.println(); })` is where you specified what your button &quot;will do when pressed&quot; (you specified an action listener). So instead of printing out an empty line when pressed, print the key it is assigned. Like for example: `b.addActionListener(e -&gt; { System.out.print(((JButton)e.getSource()).getText()); });`. However, this will also print &quot;Enter&quot; for example. So these special buttons will have to get special `ActionListener`s since they perform a different action.","body":"This <code>b.addActionListener(e -&gt; { System.out.println(); })</code> is where you specified what your button &quot;will do when pressed&quot; (you specified an action listener). So instead of printing out an empty line when pressed, print the key it is assigned. Like for example: <code>b.addActionListener(e -&gt; { System.out.print(((JButton)e.getSource()).getText()); });</code>. However, this will also print &quot;Enter&quot; for example. So these special buttons will have to get special <code>ActionListener</code>s since they perform a different action."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1645631058,"post_id":71238843,"comment_id":125924655,"body_markdown":"Create a single `Action` that can be shared by all buttons with character text. You can then get the text of the button by using the `getActionCommand()` method of the `ActionEvent`. See: https://stackoverflow.com/questions/23375276/attaching-a-single-action-listener-to-all-buttons/23375436#23375436 for a working example.","body":"Create a single <code>Action</code> that can be shared by all buttons with character text. You can then get the text of the button by using the <code>getActionCommand()</code> method of the <code>ActionEvent</code>. See: <a href=\"https://stackoverflow.com/questions/23375276/attaching-a-single-action-listener-to-all-buttons/23375436#23375436\" title=\"attaching a single action listener to all buttons\">stackoverflow.com/questions/23375276/&hellip;</a> for a working example."},{"owner":{"account_id":8196705,"reputation":9,"user_id":6169300,"display_name":"Lukey"},"score":0,"creation_date":1645713281,"post_id":71238843,"comment_id":125948793,"body_markdown":"Aha that worked! Thanks maloomeister and camickr, as long as I&#39;m able to get that inputted value I can work things from there! I will give them a go","body":"Aha that worked! Thanks maloomeister and camickr, as long as I&#39;m able to get that inputted value I can work things from there! I will give them a go"}],"owner":{"account_id":8196705,"reputation":9,"user_id":6169300,"display_name":"Lukey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645631125,"creation_date":1645626751,"question_id":71238843,"body_markdown":"I am trying to create a keyboard layout using Swing in Java and so far I have been able to display a keyboard built up from a list and a loop however I now need to get the corresponding letter when a button has been pressed. So for example, I click Q then my output should print &quot;Q&quot;.\r\n\r\nGUI So Far:\r\n\r\n[![https://i.stack.imgur.com/PIP5c.png][1]][1]\r\n\r\nI don&#39;t think I am able to alter my code to cater for this, rather I might need to find a workaround but just in case I am missing something, I thought I would ask here.\r\n\r\nHere is my code so far:\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;  \r\n    \r\n    public class gui {  \r\n        private final JFrame frame = new JFrame(&quot;Keyboard&quot;);\r\n        private final JPanel keyboard = new JPanel();\r\n        \r\n        JTable table;\r\n        JPanel pRow;\r\n        JButton b;\r\n        \r\n        public static final String[][] key = {\r\n            {&quot;Q&quot;, &quot;W&quot;, &quot;E&quot;, &quot;R&quot;, &quot;T&quot;, &quot;Y&quot;, &quot;U&quot;, &quot;I&quot;, &quot;O&quot;, &quot;P&quot;},\r\n            {&quot;A&quot;, &quot;S&quot;, &quot;D&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, &quot; &quot;},\r\n            {&quot;Enter&quot;, &quot;Z&quot;, &quot;X&quot;, &quot;C&quot;, &quot;V&quot;, &quot;B&quot;, &quot;N&quot;, &quot;M&quot;, &quot;⌫&quot;},\r\n        };\r\n        \r\n        public gui() {\r\n            keyboard.setLayout(new GridBagLayout());\r\n    \r\n            Insets zeroInset = new Insets(0, 0, 0, 0);\r\n            Font monospace = new Font(Font.MONOSPACED, Font.PLAIN, 12);\r\n    \r\n            GridBagConstraints cRow = new GridBagConstraints(), cButton = new GridBagConstraints();\r\n            cRow.anchor = GridBagConstraints.SOUTH;\r\n            cButton.ipady = 21;\r\n    \r\n            for (int row = 0, i = 0; row &lt; key.length; ++row) {\r\n                pRow = new JPanel(new GridBagLayout());\r\n    \r\n                cRow.gridy = row;\r\n    \r\n                for (int col = 0; col &lt; key[row].length; ++col, ++i) {\r\n    \r\n                    switch (key[row][col]) {\r\n                        case &quot;Enter&quot;:       cButton.ipadx = 19; break;\r\n                        case &quot; &quot;:       cButton.ipadx = 7; break;\r\n                        default:\r\n                            cButton.ipadx = 7;\r\n                            cButton.insets = zeroInset;\r\n                    }\r\n    \r\n                    b = new JButton(key[row][col]);\r\n                    b.setFont(monospace);\r\n                    b.setFocusable(false);\r\n                    b.addActionListener(e -&gt; { System.out.println(); });\r\n                    pRow.add(b, cButton);\r\n                }\r\n    \r\n                keyboard.add(pRow, cRow);\r\n            }\r\n    \r\n            frame.add(keyboard);\r\n        }\r\n        \r\n        public void launch() {\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.pack();\r\n            frame.setResizable(false);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n            frame.setSize(700, 700);\r\n        }\r\n        \r\n        public static void main(String[] args) {  \r\n            gui ui = new gui();\r\n            ui.launch();\r\n        }  \r\n    }  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PIP5c.png","title":"Swing Keyboard Layout Input","body":"<p>I am trying to create a keyboard layout using Swing in Java and so far I have been able to display a keyboard built up from a list and a loop however I now need to get the corresponding letter when a button has been pressed. So for example, I click Q then my output should print &quot;Q&quot;.</p>\n<p>GUI So Far:</p>\n<p><a href=\"https://i.stack.imgur.com/PIP5c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PIP5c.png\" alt=\"https://i.stack.imgur.com/PIP5c.png\" /></a></p>\n<p>I don't think I am able to alter my code to cater for this, rather I might need to find a workaround but just in case I am missing something, I thought I would ask here.</p>\n<p>Here is my code so far:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;  \n\npublic class gui {  \n    private final JFrame frame = new JFrame(&quot;Keyboard&quot;);\n    private final JPanel keyboard = new JPanel();\n    \n    JTable table;\n    JPanel pRow;\n    JButton b;\n    \n    public static final String[][] key = {\n        {&quot;Q&quot;, &quot;W&quot;, &quot;E&quot;, &quot;R&quot;, &quot;T&quot;, &quot;Y&quot;, &quot;U&quot;, &quot;I&quot;, &quot;O&quot;, &quot;P&quot;},\n        {&quot;A&quot;, &quot;S&quot;, &quot;D&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;, &quot; &quot;},\n        {&quot;Enter&quot;, &quot;Z&quot;, &quot;X&quot;, &quot;C&quot;, &quot;V&quot;, &quot;B&quot;, &quot;N&quot;, &quot;M&quot;, &quot;⌫&quot;},\n    };\n    \n    public gui() {\n        keyboard.setLayout(new GridBagLayout());\n\n        Insets zeroInset = new Insets(0, 0, 0, 0);\n        Font monospace = new Font(Font.MONOSPACED, Font.PLAIN, 12);\n\n        GridBagConstraints cRow = new GridBagConstraints(), cButton = new GridBagConstraints();\n        cRow.anchor = GridBagConstraints.SOUTH;\n        cButton.ipady = 21;\n\n        for (int row = 0, i = 0; row &lt; key.length; ++row) {\n            pRow = new JPanel(new GridBagLayout());\n\n            cRow.gridy = row;\n\n            for (int col = 0; col &lt; key[row].length; ++col, ++i) {\n\n                switch (key[row][col]) {\n                    case &quot;Enter&quot;:       cButton.ipadx = 19; break;\n                    case &quot; &quot;:       cButton.ipadx = 7; break;\n                    default:\n                        cButton.ipadx = 7;\n                        cButton.insets = zeroInset;\n                }\n\n                b = new JButton(key[row][col]);\n                b.setFont(monospace);\n                b.setFocusable(false);\n                b.addActionListener(e -&gt; { System.out.println(); });\n                pRow.add(b, cButton);\n            }\n\n            keyboard.add(pRow, cRow);\n        }\n\n        frame.add(keyboard);\n    }\n    \n    public void launch() {\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.pack();\n        frame.setResizable(false);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n        frame.setSize(700, 700);\n    }\n    \n    public static void main(String[] args) {  \n        gui ui = new gui();\n        ui.launch();\n    }  \n}  \n</code></pre>\n"},{"tags":["java","android","reflection","java-native-interface","java-native-library"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1645640977,"post_id":71239996,"comment_id":125929041,"body_markdown":"From where are you trying to do this? AFAIK it is the ClassLoader associated with the calling class that is responsible for finding the library.","body":"From where are you trying to do this? AFAIK it is the ClassLoader associated with the calling class that is responsible for finding the library."},{"owner":{"account_id":17917787,"reputation":31,"user_id":13018378,"display_name":"Martino Tiziani"},"score":0,"creation_date":1645798129,"post_id":71239996,"comment_id":125972320,"body_markdown":"I tried in the static initializer of a random Class but also in a simple Android instrumentedTest. In both cases i get the same output, no matter where i call this i always get the `UnsatisfiedLinkError`.","body":"I tried in the static initializer of a random Class but also in a simple Android instrumentedTest. In both cases i get the same output, no matter where i call this i always get the <code>UnsatisfiedLinkError</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1646063334,"post_id":71239996,"comment_id":126026116,"body_markdown":"What actual problem are you trying to solve? Why can’t you just stay with `System.loadLibrary(&quot;mylib&quot;);` which you said to work as expected?","body":"What actual problem are you trying to solve? Why can’t you just stay with <code>System.loadLibrary(&quot;mylib&quot;);</code> which you said to work as expected?"},{"owner":{"account_id":17917787,"reputation":31,"user_id":13018378,"display_name":"Martino Tiziani"},"score":1,"creation_date":1646141767,"post_id":71239996,"comment_id":126046271,"body_markdown":"I want to hide as much as possible the loading of the native library. It&#39;s easy to find `System.loadLibrary` in the bytecode, but with reflection, the class and method became string which i can then encrypt with DexGuard or similar.","body":"I want to hide as much as possible the loading of the native library. It&#39;s easy to find <code>System.loadLibrary</code> in the bytecode, but with reflection, the class and method became string which i can then encrypt with DexGuard or similar."}],"owner":{"account_id":17917787,"reputation":31,"user_id":13018378,"display_name":"Martino Tiziani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1645630984,"creation_date":1645630984,"question_id":71239996,"body_markdown":"I&#39;m trying to load an Android native library with Java reflection, but at runtime the library is not found. Normally i load a native library with:\r\n\r\n```\r\nSystem.loadLibrary(&quot;mylib&quot;);\r\n```\r\n\r\nand everything works as expected. Now i try to call the ```loadLibrary``` method with reflection, like this:\r\n\r\n```\r\nClass&lt;?&gt; system = Class.forName(&quot;java.lang.System&quot;);\r\nMethod loadLibrary = system.getDeclaredMethod(&quot;loadLibrary&quot;, String.class);\r\nloadLibrary.invoke(null, &quot;mylib&quot;);\r\n```\r\n\r\nbut at runtime i get:\r\n```\r\nCaused by: java.lang.UnsatisfiedLinkError: Library mylib not found; tried [/system/lib64/libmylib.so, /vendor/lib64/libmylib.so]\r\n    at java.lang.Runtime.loadLibrary0(Runtime.java:1001)\r\n    at java.lang.System.loadLibrary(System.java:1530)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n```\r\n\r\nIt seems like with reflection ```loadLibrary``` look for the library in the wrong path. These ```/system/lib64:/vendor/lib64``` are the paths of ```java.library.path``` property, but it does not look inside the apk. Of course the library is present in the final apk, and it&#39;s in the right place, for the right ABI. \r\n\r\n**NOTE**\r\n\r\nI can&#39;t use \r\n```\r\nSystem.load(&quot;absolute-path-to-lib/mylib.so&quot;);\r\n```\r\nbecause from where i&#39;m calling this i don&#39;t have the path available, i don&#39;t have any ```Context``` or ```Application``` available yet to retrive the path.\r\n\r\nDo you have any idea how to force ```loadLibrary``` to search in the current apk ? Thank you!","title":"Load Android Native library with Java reflection","body":"<p>I'm trying to load an Android native library with Java reflection, but at runtime the library is not found. Normally i load a native library with:</p>\n<pre><code>System.loadLibrary(&quot;mylib&quot;);\n</code></pre>\n<p>and everything works as expected. Now i try to call the <code>loadLibrary</code> method with reflection, like this:</p>\n<pre><code>Class&lt;?&gt; system = Class.forName(&quot;java.lang.System&quot;);\nMethod loadLibrary = system.getDeclaredMethod(&quot;loadLibrary&quot;, String.class);\nloadLibrary.invoke(null, &quot;mylib&quot;);\n</code></pre>\n<p>but at runtime i get:</p>\n<pre><code>Caused by: java.lang.UnsatisfiedLinkError: Library mylib not found; tried [/system/lib64/libmylib.so, /vendor/lib64/libmylib.so]\n    at java.lang.Runtime.loadLibrary0(Runtime.java:1001)\n    at java.lang.System.loadLibrary(System.java:1530)\n    at java.lang.reflect.Method.invoke(Native Method)\n</code></pre>\n<p>It seems like with reflection <code>loadLibrary</code> look for the library in the wrong path. These <code>/system/lib64:/vendor/lib64</code> are the paths of <code>java.library.path</code> property, but it does not look inside the apk. Of course the library is present in the final apk, and it's in the right place, for the right ABI.</p>\n<p><strong>NOTE</strong></p>\n<p>I can't use</p>\n<pre><code>System.load(&quot;absolute-path-to-lib/mylib.so&quot;);\n</code></pre>\n<p>because from where i'm calling this i don't have the path available, i don't have any <code>Context</code> or <code>Application</code> available yet to retrive the path.</p>\n<p>Do you have any idea how to force <code>loadLibrary</code> to search in the current apk ? Thank you!</p>\n"},{"tags":["java","spring-boot","soap"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1645605245,"post_id":71174945,"comment_id":125913230,"body_markdown":"If it&#39;s a SOAP header (not an HTTP header): [this](https://stackoverflow.com/questions/2322953/jax-ws-adding-soap-headers) can be useful.","body":"If it&#39;s a SOAP header (not an HTTP header): <a href=\"https://stackoverflow.com/questions/2322953/jax-ws-adding-soap-headers\">this</a> can be useful."}],"answers":[{"tags":[],"owner":{"account_id":468677,"reputation":7486,"user_id":874814,"display_name":"Babl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645630892,"creation_date":1645630892,"answer_id":71239965,"question_id":71174945,"body_markdown":"To work with the raw request you either need to create a request interceptor or just set the headers on the requested context on the service port. So in your case, it should be as simple as\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/codes&quot;)\r\n    public class CodigosRestController {\r\n        @GetMapping\r\n        public String obtainCode(){\r\n            CodesService_Service service = new CodesService_Service();\r\n            CodesService port = service.getCodesServicePort();\r\n            // generate the headers\r\n            Map&lt;String, List&lt;String&gt;&gt; requestHeaders = new HashMap&lt;&gt;();\r\n            requestHeaders.put(&quot;apiKey&quot;,Arrays.asList(&quot;TokeApi yourtokenhere&quot;));\r\n            BindingProvider bindingProvider = (BindingProvider) port;   \r\n            // set the headers on the request context\r\n            bindingProvider.getRequestContext().put(MessageContext.HTTP_REQUEST_HEADERS, requestHeaders);\r\n\r\n            String code = port.methodTwo().toString();\r\n            return code;\r\n        }\r\n}","title":"Add header to SOAP service client","body":"<p>To work with the raw request you either need to create a request interceptor or just set the headers on the requested context on the service port. So in your case, it should be as simple as</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/codes&quot;)\npublic class CodigosRestController {\n    @GetMapping\n    public String obtainCode(){\n        CodesService_Service service = new CodesService_Service();\n        CodesService port = service.getCodesServicePort();\n        // generate the headers\n        Map&lt;String, List&lt;String&gt;&gt; requestHeaders = new HashMap&lt;&gt;();\n        requestHeaders.put(&quot;apiKey&quot;,Arrays.asList(&quot;TokeApi yourtokenhere&quot;));\n        BindingProvider bindingProvider = (BindingProvider) port;   \n        // set the headers on the request context\n        bindingProvider.getRequestContext().put(MessageContext.HTTP_REQUEST_HEADERS, requestHeaders);\n\n        String code = port.methodTwo().toString();\n        return code;\n    }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":955314,"reputation":185,"user_id":980738,"accept_rate":50,"display_name":"Manuel Calles"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2732,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71239965,"answer_count":1,"score":2,"last_activity_date":1645630892,"creation_date":1645193817,"question_id":71174945,"body_markdown":"I need to exchange data with a SOAP service. This service provides many WSDL endpoints so I took one of them to generate Java code (I followed this tutorial: https://www.baeldung.com/maven-wsdl-stubs). Many classes were generated plus an interface and a service. Consider this code:\r\n\r\n**CodesService Interface:**\r\n\r\n    package my.package.soapconsumer.models.service.getCodes;\r\n    \r\n    import org.springframework.web.bind.annotation.RequestHeader;\r\n    \r\n    import javax.jws.WebMethod;\r\n    import javax.jws.WebParam;\r\n    import javax.jws.WebResult;\r\n    import javax.jws.WebService;\r\n    import javax.xml.bind.annotation.XmlSeeAlso;\r\n    import javax.xml.ws.RequestWrapper;\r\n    import javax.xml.ws.ResponseWrapper;\r\n    \r\n    \r\n    /**\r\n     * This class was generated by the JAX-WS RI.\r\n     * JAX-WS RI 2.3.2\r\n     * Generated source version: 2.2\r\n     * \r\n     */\r\n    @WebService(name = &quot;CodesService&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;)\r\n    @XmlSeeAlso({\r\n        ObjectFactory.class\r\n    })\r\n    public interface CodesService {\r\n    \r\n    \r\n        /**\r\n         * \r\n         * @param requestMethodOne\r\n         * @return\r\n         *     returns my.package.soapconsumer.models.service.getCodes.ResponseMethodOne\r\n         */\r\n        @WebMethod\r\n        @WebResult(name = &quot;ResponseMethodOne&quot;, targetNamespace = &quot;&quot;)\r\n        @RequestWrapper(localName = &quot;methodOne&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.MethodOne&quot;)\r\n        @ResponseWrapper(localName = &quot;methodOneResponse&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.MethodOneResponse&quot;)\r\n        public ResponseMethodOne methodOne(\r\n            @WebParam(name = &quot;RequestMethodOne&quot;, targetNamespace = &quot;&quot;)\r\n            RequestMethodOne requestMethodOne);\r\n    \r\n        /**\r\n         * \r\n         * @return\r\n         *     returns my.package.soapconsumer.models.service.getCodes.ResponseComunicacion\r\n         */\r\n        @WebMethod\r\n        @WebResult(name = &quot;ResponseTwo&quot;, targetNamespace = &quot;&quot;)\r\n        @RequestWrapper(localName = &quot;methodTwo&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.VerificarComunicacion&quot;)\r\n        @ResponseWrapper(localName = &quot;methodTwoResponse&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.VerificarComunicacionResponse&quot;)\r\n        public ResponseComunicacion methodTwo();\r\n    \r\n        /**\r\n         * \r\n         * @param requestMethodThreeApp\r\n         * @return\r\n         *     returns my.package.soapconsumer.models.service.getCodes.ResponseMethodThree\r\n         */\r\n        @WebMethod\r\n        @WebResult(name = &quot;ResponseMethodThree&quot;, targetNamespace = &quot;&quot;)\r\n        @RequestWrapper(localName = &quot;methodThree&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.MethodThree&quot;)\r\n        @ResponseWrapper(localName = &quot;methodThreeResponse&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.MethodThreeResponse&quot;)\r\n        public ResponseMethodThree methodThree(\r\n            @WebParam(name = &quot;RequestMethodThreeApp&quot;, targetNamespace = &quot;&quot;)\r\n            RequestMethodThreeApp requestMethodThreeApp);\r\n    \r\n        /**\r\n         * \r\n         * @param requestMethodFour\r\n         * @return\r\n         *     returns my.package.soapconsumer.models.service.getCodes.ResponseMethodFour\r\n         */\r\n        @WebMethod\r\n        @WebResult(name = &quot;ResponseMethodFour&quot;, targetNamespace = &quot;&quot;)\r\n        @RequestWrapper(localName = &quot;methodFour&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.MethodFour&quot;)\r\n        @ResponseWrapper(localName = &quot;methodFourResponse&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.MethodFourResponse&quot;)\r\n        public ResponseMethodFour methodFour(\r\n            @WebParam(name = &quot;RequestMethodFour&quot;, targetNamespace = &quot;&quot;)\r\n            RequestMethodFour requestMethodFour);\r\n    \r\n        /**\r\n         * \r\n         * more methods\r\n         *\r\n         */\r\n    }\r\n\r\n**CodesService_Service Service**\r\n\r\n    package my.package.soapconsumer.models.service.getCodes;\r\n    \r\n    import org.springframework.web.bind.annotation.RequestHeader;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.ws.Service;\r\n    import javax.xml.ws.WebEndpoint;\r\n    import javax.xml.ws.WebServiceClient;\r\n    import javax.xml.ws.WebServiceException;\r\n    import javax.xml.ws.WebServiceFeature;\r\n    \r\n    \r\n    /**\r\n     * This class was generated by the JAX-WS RI.\r\n     * JAX-WS RI 2.3.2\r\n     * Generated source version: 2.2\r\n     * \r\n     */\r\n    @WebServiceClient(name = &quot;CodesService&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/Codes&quot;, wsdlLocation = &quot;https://codes.thewsdlprovider.xyz/v2/Codes?wsdl&quot;)\r\n    \r\n    public class CodesService_Service\r\n        extends Service\r\n    {\r\n    \r\n        private final static URL CODES_SERVICE_WSDL_LOCATION;\r\n        private final static WebServiceException CODES_SERVICE_EXCEPTION;\r\n        private final static QName CODES_SERVICE_QNAME = new QName(&quot;https://thewsdlprovider.xyz/Codes&quot;, &quot;CodesService&quot;);\r\n    \r\n        static {\r\n            URL url = null;\r\n            WebServiceException e = null;\r\n            try {\r\n                url = new URL(&quot;https://codes.thewsdlprovider.xyz/v2/Codes?wsdl&quot;);\r\n    \r\n            } catch (MalformedURLException ex) {\r\n                e = new WebServiceException(ex);\r\n            }\r\n            CODES_SERVICE_WSDL_LOCATION = url;\r\n            CODES_SERVICE_EXCEPTION = e;\r\n        }\r\n    \r\n        public CodesService_Service() {\r\n            super(__getWsdlLocation(), CODES_SERVICE_QNAME);\r\n    \r\n        }\r\n    \r\n        public CodesService_Service(WebServiceFeature... features) {\r\n            super(__getWsdlLocation(), CODES_SERVICE_QNAME, features);\r\n        }\r\n    \r\n        public CodesService_Service(URL wsdlLocation) {\r\n            super(wsdlLocation, CODES_SERVICE_QNAME);\r\n        }\r\n    \r\n        public CodesService_Service(URL wsdlLocation, WebServiceFeature... features) {\r\n            super(wsdlLocation, CODES_SERVICE_QNAME, features);\r\n        }\r\n    \r\n        public CodesService_Service(URL wsdlLocation, QName serviceName) {\r\n            super(wsdlLocation, serviceName);\r\n        }\r\n    \r\n        public CodesService_Service(URL wsdlLocation, QName serviceName, WebServiceFeature... features) {\r\n            super(wsdlLocation, serviceName, features);\r\n        }\r\n    \r\n        /**\r\n         * \r\n         * @return\r\n         *     returns CodesService\r\n         */\r\n        @WebEndpoint(name = &quot;CodesServicePort&quot;)\r\n        public CodesService getCodesServicePort() {\r\n            return super.getPort(new QName(&quot;https://thewsdlprovider.xyz/Codes&quot;, &quot;CodesServicePort&quot;), CodesService.class);\r\n        }\r\n    \r\n        /**\r\n         * \r\n         * @param features\r\n         *     A list of {@link javax.xml.ws.WebServiceFeature} to configure on the proxy.  Supported features not in the &lt;code&gt;features&lt;/code&gt; parameter will have their default values.\r\n         * @return\r\n         *     returns CodesService\r\n         */\r\n        @WebEndpoint(name = &quot;CodesServicePort&quot;)\r\n        public CodesService getCodesServicePort(WebServiceFeature... features) {\r\n            return super.getPort(new QName(&quot;https://thewsdlprovider.xyz/Codes&quot;, &quot;CodesServicePort&quot;), CodesService.class, features);\r\n        }\r\n    \r\n        private static URL __getWsdlLocation() {\r\n            if (CODES_SERVICE_EXCEPTION!= null) {\r\n                throw CODES_SERVICE_EXCEPTION;\r\n            }\r\n            return CODES_SERVICE_WSDL_LOCATION;\r\n        }\r\n    \r\n        public String getWsdlLocation(){\r\n            return CODES_SERVICE_WSDL_LOCATION.toString();\r\n        }\r\n    }\r\n\r\nI need to use the methods or functions provided by the interface so to testing them I&#39;m using a REST controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/codes&quot;)\r\n    public class CodigosRestController {\r\n        @GetMapping\r\n        public String obtainCode(){\r\n            CodesService_Service service = new CodesService_Service();\r\n            String code = service.getCodesServicePort().methodTwo().toString();\r\n            return code;\r\n        }\r\n    }\r\n\r\nBut when I run it to query the REST endpoint I get the following error:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-02-18T13:44:03.234+00:00&quot;,\r\n        &quot;status&quot;: 500,\r\n        &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n        &quot;trace&quot;: &quot;com.sun.xml.internal.ws.fault.ServerSOAPFaultException: Client received SOAP Fault from server: THE SERVICE REQUIRES API KEY Please see the server log to find more detail regarding exact cause of the failure.\\n\\tat com.sun.xml.internal.ws.fault.SOAP11Fault.getProtocolException(SOAP11Fault.java:178)\\n\\tat com.sun.xml.internal.ws.fault.SOAPFaultBuilder.createException(SOAPFaultBuilder.java:116)\\n\\tat com.sun.xml.internal.ws.client.sei.StubHandler.readResponse(StubHandler.java:238)\\n\\tat ...\r\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.lang.Thread.run(Thread.java:748)\\n&quot;,\r\n        &quot;message&quot;: &quot;Client received SOAP Fault from server: THE SERVICE REQUIRES API KEY Please see the server log to find more detail regarding exact cause of the failure.&quot;,\r\n        &quot;path&quot;: &quot;/codes&quot;\r\n    }\r\n\r\nIt is necessary to send an API KEY in the headers but I don&#39;t know how.\r\n\r\nSo I used SoapUI to test the SOAP endpoint adding this header and I received a correct answer:\r\n[![SOAP header][1]][1]\r\n\r\nWhat I tried:\r\n\r\n - Use the `WebServiceFeature... features` constructor parameter but I\r\n   it seems that a header can&#39;t be added to this object. In fact, I\r\n   don&#39;t know what those three points mean. \r\n - Use the @RequestHeader but    it reports that is not applicable to\r\n   web methods\r\n\r\nSo how can I add a header to my interface or service? Thanks in advance.\r\n\r\n  [1]: https://i.stack.imgur.com/z0wdj.png","title":"Add header to SOAP service client","body":"<p>I need to exchange data with a SOAP service. This service provides many WSDL endpoints so I took one of them to generate Java code (I followed this tutorial: <a href=\"https://www.baeldung.com/maven-wsdl-stubs\" rel=\"nofollow noreferrer\">https://www.baeldung.com/maven-wsdl-stubs</a>). Many classes were generated plus an interface and a service. Consider this code:</p>\n<p><strong>CodesService Interface:</strong></p>\n<pre><code>package my.package.soapconsumer.models.service.getCodes;\n\nimport org.springframework.web.bind.annotation.RequestHeader;\n\nimport javax.jws.WebMethod;\nimport javax.jws.WebParam;\nimport javax.jws.WebResult;\nimport javax.jws.WebService;\nimport javax.xml.bind.annotation.XmlSeeAlso;\nimport javax.xml.ws.RequestWrapper;\nimport javax.xml.ws.ResponseWrapper;\n\n\n/**\n * This class was generated by the JAX-WS RI.\n * JAX-WS RI 2.3.2\n * Generated source version: 2.2\n * \n */\n@WebService(name = &quot;CodesService&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;)\n@XmlSeeAlso({\n    ObjectFactory.class\n})\npublic interface CodesService {\n\n\n    /**\n     * \n     * @param requestMethodOne\n     * @return\n     *     returns my.package.soapconsumer.models.service.getCodes.ResponseMethodOne\n     */\n    @WebMethod\n    @WebResult(name = &quot;ResponseMethodOne&quot;, targetNamespace = &quot;&quot;)\n    @RequestWrapper(localName = &quot;methodOne&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.MethodOne&quot;)\n    @ResponseWrapper(localName = &quot;methodOneResponse&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.MethodOneResponse&quot;)\n    public ResponseMethodOne methodOne(\n        @WebParam(name = &quot;RequestMethodOne&quot;, targetNamespace = &quot;&quot;)\n        RequestMethodOne requestMethodOne);\n\n    /**\n     * \n     * @return\n     *     returns my.package.soapconsumer.models.service.getCodes.ResponseComunicacion\n     */\n    @WebMethod\n    @WebResult(name = &quot;ResponseTwo&quot;, targetNamespace = &quot;&quot;)\n    @RequestWrapper(localName = &quot;methodTwo&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.VerificarComunicacion&quot;)\n    @ResponseWrapper(localName = &quot;methodTwoResponse&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.VerificarComunicacionResponse&quot;)\n    public ResponseComunicacion methodTwo();\n\n    /**\n     * \n     * @param requestMethodThreeApp\n     * @return\n     *     returns my.package.soapconsumer.models.service.getCodes.ResponseMethodThree\n     */\n    @WebMethod\n    @WebResult(name = &quot;ResponseMethodThree&quot;, targetNamespace = &quot;&quot;)\n    @RequestWrapper(localName = &quot;methodThree&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.MethodThree&quot;)\n    @ResponseWrapper(localName = &quot;methodThreeResponse&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.MethodThreeResponse&quot;)\n    public ResponseMethodThree methodThree(\n        @WebParam(name = &quot;RequestMethodThreeApp&quot;, targetNamespace = &quot;&quot;)\n        RequestMethodThreeApp requestMethodThreeApp);\n\n    /**\n     * \n     * @param requestMethodFour\n     * @return\n     *     returns my.package.soapconsumer.models.service.getCodes.ResponseMethodFour\n     */\n    @WebMethod\n    @WebResult(name = &quot;ResponseMethodFour&quot;, targetNamespace = &quot;&quot;)\n    @RequestWrapper(localName = &quot;methodFour&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.MethodFour&quot;)\n    @ResponseWrapper(localName = &quot;methodFourResponse&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/&quot;, className = &quot;my.package.soapconsumer.models.service.getCodes.MethodFourResponse&quot;)\n    public ResponseMethodFour methodFour(\n        @WebParam(name = &quot;RequestMethodFour&quot;, targetNamespace = &quot;&quot;)\n        RequestMethodFour requestMethodFour);\n\n    /**\n     * \n     * more methods\n     *\n     */\n}\n</code></pre>\n<p><strong>CodesService_Service Service</strong></p>\n<pre><code>package my.package.soapconsumer.models.service.getCodes;\n\nimport org.springframework.web.bind.annotation.RequestHeader;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport javax.xml.namespace.QName;\nimport javax.xml.ws.Service;\nimport javax.xml.ws.WebEndpoint;\nimport javax.xml.ws.WebServiceClient;\nimport javax.xml.ws.WebServiceException;\nimport javax.xml.ws.WebServiceFeature;\n\n\n/**\n * This class was generated by the JAX-WS RI.\n * JAX-WS RI 2.3.2\n * Generated source version: 2.2\n * \n */\n@WebServiceClient(name = &quot;CodesService&quot;, targetNamespace = &quot;https://thewsdlprovider.xyz/Codes&quot;, wsdlLocation = &quot;https://codes.thewsdlprovider.xyz/v2/Codes?wsdl&quot;)\n\npublic class CodesService_Service\n    extends Service\n{\n\n    private final static URL CODES_SERVICE_WSDL_LOCATION;\n    private final static WebServiceException CODES_SERVICE_EXCEPTION;\n    private final static QName CODES_SERVICE_QNAME = new QName(&quot;https://thewsdlprovider.xyz/Codes&quot;, &quot;CodesService&quot;);\n\n    static {\n        URL url = null;\n        WebServiceException e = null;\n        try {\n            url = new URL(&quot;https://codes.thewsdlprovider.xyz/v2/Codes?wsdl&quot;);\n\n        } catch (MalformedURLException ex) {\n            e = new WebServiceException(ex);\n        }\n        CODES_SERVICE_WSDL_LOCATION = url;\n        CODES_SERVICE_EXCEPTION = e;\n    }\n\n    public CodesService_Service() {\n        super(__getWsdlLocation(), CODES_SERVICE_QNAME);\n\n    }\n\n    public CodesService_Service(WebServiceFeature... features) {\n        super(__getWsdlLocation(), CODES_SERVICE_QNAME, features);\n    }\n\n    public CodesService_Service(URL wsdlLocation) {\n        super(wsdlLocation, CODES_SERVICE_QNAME);\n    }\n\n    public CodesService_Service(URL wsdlLocation, WebServiceFeature... features) {\n        super(wsdlLocation, CODES_SERVICE_QNAME, features);\n    }\n\n    public CodesService_Service(URL wsdlLocation, QName serviceName) {\n        super(wsdlLocation, serviceName);\n    }\n\n    public CodesService_Service(URL wsdlLocation, QName serviceName, WebServiceFeature... features) {\n        super(wsdlLocation, serviceName, features);\n    }\n\n    /**\n     * \n     * @return\n     *     returns CodesService\n     */\n    @WebEndpoint(name = &quot;CodesServicePort&quot;)\n    public CodesService getCodesServicePort() {\n        return super.getPort(new QName(&quot;https://thewsdlprovider.xyz/Codes&quot;, &quot;CodesServicePort&quot;), CodesService.class);\n    }\n\n    /**\n     * \n     * @param features\n     *     A list of {@link javax.xml.ws.WebServiceFeature} to configure on the proxy.  Supported features not in the &lt;code&gt;features&lt;/code&gt; parameter will have their default values.\n     * @return\n     *     returns CodesService\n     */\n    @WebEndpoint(name = &quot;CodesServicePort&quot;)\n    public CodesService getCodesServicePort(WebServiceFeature... features) {\n        return super.getPort(new QName(&quot;https://thewsdlprovider.xyz/Codes&quot;, &quot;CodesServicePort&quot;), CodesService.class, features);\n    }\n\n    private static URL __getWsdlLocation() {\n        if (CODES_SERVICE_EXCEPTION!= null) {\n            throw CODES_SERVICE_EXCEPTION;\n        }\n        return CODES_SERVICE_WSDL_LOCATION;\n    }\n\n    public String getWsdlLocation(){\n        return CODES_SERVICE_WSDL_LOCATION.toString();\n    }\n}\n</code></pre>\n<p>I need to use the methods or functions provided by the interface so to testing them I'm using a REST controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/codes&quot;)\npublic class CodigosRestController {\n    @GetMapping\n    public String obtainCode(){\n        CodesService_Service service = new CodesService_Service();\n        String code = service.getCodesServicePort().methodTwo().toString();\n        return code;\n    }\n}\n</code></pre>\n<p>But when I run it to query the REST endpoint I get the following error:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-02-18T13:44:03.234+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;trace&quot;: &quot;com.sun.xml.internal.ws.fault.ServerSOAPFaultException: Client received SOAP Fault from server: THE SERVICE REQUIRES API KEY Please see the server log to find more detail regarding exact cause of the failure.\\n\\tat com.sun.xml.internal.ws.fault.SOAP11Fault.getProtocolException(SOAP11Fault.java:178)\\n\\tat com.sun.xml.internal.ws.fault.SOAPFaultBuilder.createException(SOAPFaultBuilder.java:116)\\n\\tat com.sun.xml.internal.ws.client.sei.StubHandler.readResponse(StubHandler.java:238)\\n\\tat ...\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.lang.Thread.run(Thread.java:748)\\n&quot;,\n    &quot;message&quot;: &quot;Client received SOAP Fault from server: THE SERVICE REQUIRES API KEY Please see the server log to find more detail regarding exact cause of the failure.&quot;,\n    &quot;path&quot;: &quot;/codes&quot;\n}\n</code></pre>\n<p>It is necessary to send an API KEY in the headers but I don't know how.</p>\n<p>So I used SoapUI to test the SOAP endpoint adding this header and I received a correct answer:\n<a href=\"https://i.stack.imgur.com/z0wdj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z0wdj.png\" alt=\"SOAP header\" /></a></p>\n<p>What I tried:</p>\n<ul>\n<li>Use the <code>WebServiceFeature... features</code> constructor parameter but I\nit seems that a header can't be added to this object. In fact, I\ndon't know what those three points mean.</li>\n<li>Use the @RequestHeader but    it reports that is not applicable to\nweb methods</li>\n</ul>\n<p>So how can I add a header to my interface or service? Thanks in advance.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8426,"page":1566,"page_size":100}
